<main
  class="main"
  [ngClass]="{
    'main-short': comments.length === 0 && !isLoadingComments,
    'main-long': comments.length > 0
  }"
>
  <div class="headerImage"></div>
  <div class="wrapper" *ngIf="comments.length >= 0">
    <div class="empty" *ngIf="comments.length === 0 && !isLoadingComments">
      <div class="title-wrapper">
        <h1 class="title">You have no comments!</h1>
      </div>
      <div class="logo-svg">
        <app-logo-svg />
      </div>

      <div class="emptyInfo">
        <p>You can view our recipe and write your first comment &nbsp;&nbsp;</p>
        <a routerLink="/recipes-list" class="btn btn-outline-light" style="color: var(--textColor);" href="">Recipes</a>
      </div>
    </div>

    <div class="empty" *ngIf="isLoadingComments">
      <div class="title-wrapper">
        <h1 class="title">Loading!!!</h1>
      </div>
      <div class="logo-svg">
        <app-logo-svg />
      </div>
    </div>

    <div
      *ngIf="comments.length > 0 && !isLoadingComments"
      class="wrapper-list"
      style="
        max-width: 600px;
        margin: -50px auto 50px auto;
        padding: 32px;
        background-color: var(--backgroundColor);
        border-radius: unset;
        box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.3);
        display: flex;
        flex-direction: column;
      "
    >
      <div *ngIf="userData" class="title-wrapper">
        <h1 class="title">
          Comments by {{ userData.firstName + " " + userData.lastName }}
        </h1>
      </div>

      <div class="comments">
        <ul *ngFor="let comment of comments">
          <li>
            <a
              class="btn btn-outline-light"
              style="color: var(--textColor)"
              routerLink="/recipe/{{ comment.recipeId }}"
              >Go to recipe</a
            >
          </li>
          <li>{{ comment.comment }}</li>

          <li class="comments-last">
            <p>
              {{ comment.create_time.toDate() | date : "dd/MM/yyyy HH:mm:ss" }}
            </p>

            <div class="commentBtnWrapper">
              <span
                *ngIf="userData && comment.uid == userData.uid"
                (click)="deleteComment(comment.id)"
              >
                <i class="fa-solid fa-trash fa-shake"></i>
              </span>

              <span
                *ngIf="userData && comment.uid == userData.uid"
                (click)="navigateToCommentEdit(comment.id)"
              >
                <i class="fa-regular fa-pen-to-square fa-flip"></i>
              </span>
            </div>
          </li>
          <hr class="hr" />

          <!-- <hr class="hr"> -->
        </ul>
      </div>
    </div>
  </div>
</main>
