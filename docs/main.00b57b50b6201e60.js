"use strict";(self.webpackChunkThe_Natural_Way=self.webpackChunkThe_Natural_Way||[]).push([[179],{8726:(Vt,Ge,K)=>{K.d(Ge,{Ot:()=>be,ZF:()=>kt,hX:()=>Se,z6:()=>ue});var b=K(4097),re=K(9468),u=K(6106);class be{constructor(ot){return ot}}class ue{constructor(){return(0,b.C6)()}}const Qe=new re.OlP("angularfire2._apps"),Re={provide:be,useFactory:function Ee(ft){return ft&&1===ft.length?ft[0]:new be((0,b.Mq)())},deps:[[new re.FiY,Qe]]},ce={provide:ue,deps:[[new re.FiY,Qe]]};function de(ft){return(ot,yt)=>{const _t=ot.runOutsideAngular(()=>ft(yt));return new be(_t)}}let Me=(()=>{class ft{constructor(yt){(0,b.KN)("angularfire",u.q4.full,"core"),(0,b.KN)("angularfire",u.q4.full,"app"),(0,b.KN)("angular",re.q4F.full,yt.toString())}}return ft.\u0275fac=function(yt){return new(yt||ft)(re.LFG(re.Lbi))},ft.\u0275mod=re.oAB({type:ft}),ft.\u0275inj=re.cJS({providers:[Re,ce]}),ft})();function Se(ft,...ot){return{ngModule:Me,providers:[{provide:Qe,useFactory:de(ft),multi:!0,deps:[re.R0b,re.zs3,u.HU,...ot]}]}}const kt=(0,u.u3)(b.ZF,!0)},3477:(Vt,Ge,K)=>{K.d(Ge,{gg:()=>DD,ET:()=>lA,Ab:()=>uA,vr:()=>dA,hJ:()=>hA,oe:()=>fA,JU:()=>pA,QT:()=>gA,PL:()=>mA,ad:()=>_A,b9:()=>yA,Xo:()=>vA,Cm:()=>cA,IO:()=>bA,pl:()=>wA,TQ:()=>IA,r7:()=>EA,ar:()=>TA});var b=K(6106),re=K(9468),u=K(8726),be=K(4097),ue=K(5861),fe=K(229),Ee=K(7592),Qe=K(7582),Re=K(7879),ce=K(6820);const Cn=function kt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Mt=new fe.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ot=new Re.Yd("@firebase/auth");function _t(n,...e){ot.logLevel<=Re.in.ERROR&&ot.error(`Auth (${Ee.Jn}): ${n}`,...e)}function je(n,...e){throw kn(n,...e)}function ve(n,...e){return kn(n,...e)}function kn(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Mt.create(n,...e)}function dt(n,e,...t){if(!n)throw kn(e,...t)}function hn(n){const e="INTERNAL ASSERTION FAILED: "+n;throw _t(e),new Error(e)}function Sn(n,e){n||hn(e)}function yr(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Xe{constructor(e,t){this.shortDelay=e,this.longDelay=t,Sn(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,fe.uI)()||(0,fe.b$)()}get(){return function Fe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function or(){return"http:"===yr()||"https:"===yr()}()||(0,fe.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class it{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Pt=new Xe(3e4,6e4);function fn(n,e,t,i){return wn.apply(this,arguments)}function wn(){return(wn=(0,ue.Z)(function*(n,e,t,i,c={}){return un(n,c,(0,ue.Z)(function*(){let p={},_={};i&&("GET"===e?_=i:p={body:JSON.stringify(i)});const T=(0,fe.xO)(Object.assign({key:n.config.apiKey},_)).slice(1),F=yield n._getAdditionalHeaders();return F["Content-Type"]="application/json",n.languageCode&&(F["X-Firebase-Locale"]=n.languageCode),it.fetch()(Br(n,n.config.apiHost,t,T),Object.assign({method:e,headers:F,referrerPolicy:"no-referrer"},p))}))})).apply(this,arguments)}function un(n,e,t){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,ue.Z)(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},wt),e);try{const c=new De(n),p=yield Promise.race([t(),c.promise]);c.clearNetworkTimeout();const _=yield p.json();if("needConfirmation"in _)throw Pe(n,"account-exists-with-different-credential",_);if(p.ok&&!("errorMessage"in _))return _;{const T=p.ok?_.errorMessage:_.error.message,[F,H]=T.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===F)throw Pe(n,"credential-already-in-use",_);if("EMAIL_EXISTS"===F)throw Pe(n,"email-already-in-use",_);if("USER_DISABLED"===F)throw Pe(n,"user-disabled",_);const te=i[F]||F.toLowerCase().replace(/[_\s]+/g,"-");if(H)throw function Je(n,e,t){const i=Object.assign(Object.assign({},Cn()),{[e]:t});return new fe.LL("auth","Firebase",i).create(e,{appName:n.name})}(n,te,H);je(n,te)}}catch(c){if(c instanceof fe.ZR)throw c;je(n,"network-request-failed",{message:String(c)})}})).apply(this,arguments)}function Br(n,e,t,i){const c=`${e}${t}?${i}`;return n.config.emulator?function Ue(n,e){Sn(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,c):`${n.config.apiScheme}://${c}`}class De{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ve(this.auth,"network-request-failed")),Pt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pe(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const c=ve(n,e,i);return c.customData._tokenResponse=t,c}function ct(){return(ct=(0,ue.Z)(function*(n,e){return fn(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function An(){return(An=(0,ue.Z)(function*(n,e){return fn(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function on(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Jn(){return(Jn=(0,ue.Z)(function*(n,e=!1){const t=(0,fe.m9)(n),i=yield t.getIdToken(e),c=Cr(i);dt(c&&c.exp&&c.auth_time&&c.iat,t.auth,"internal-error");const p="object"==typeof c.firebase?c.firebase:void 0,_=p?.sign_in_provider;return{claims:c,token:i,authTime:on(tn(c.auth_time)),issuedAtTime:on(tn(c.iat)),expirationTime:on(tn(c.exp)),signInProvider:_||null,signInSecondFactor:p?.sign_in_second_factor||null}})).apply(this,arguments)}function tn(n){return 1e3*Number(n)}function Cr(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return _t("JWT malformed, contained fewer than 3 sections"),null;try{const c=(0,fe.tV)(t);return c?JSON.parse(c):(_t("Failed to decode base64 JWT payload"),null)}catch(c){return _t("Caught error parsing JWT payload as JSON",c?.toString()),null}}function yn(n,e){return ar.apply(this,arguments)}function ar(){return(ar=(0,ue.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof fe.ZR&&function Yn({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class cr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const c=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,c)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout((0,ue.Z)(function*(){yield t.iteration()}),i)}iteration(){var e=this;return(0,ue.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class jn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=on(this.lastLoginAt),this.creationTime=on(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ai(n){return xn.apply(this,arguments)}function xn(){return xn=(0,ue.Z)(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),c=yield yn(n,function wr(n,e){return An.apply(this,arguments)}(t,{idToken:i}));dt(c?.users.length,t,"internal-error");const p=c.users[0];n._notifyReloadListener(p);const _=null!==(e=p.providerUserInfo)&&void 0!==e&&e.length?function nt(n){return n.map(e=>{var{providerId:t}=e,i=(0,Qe._T)(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(p.providerUserInfo):[],T=function ci(n,e){return[...n.filter(i=>!e.some(c=>c.providerId===i.providerId)),...e]}(n.providerData,_),te=!!n.isAnonymous&&!(n.email&&p.passwordHash||T?.length),pe={uid:p.localId,displayName:p.displayName||null,photoURL:p.photoUrl||null,email:p.email||null,emailVerified:p.emailVerified||!1,phoneNumber:p.phoneNumber||null,tenantId:p.tenantId||null,providerData:T,metadata:new jn(p.createdAt,p.lastLoginAt),isAnonymous:te};Object.assign(n,pe)}),xn.apply(this,arguments)}function Nr(){return(Nr=(0,ue.Z)(function*(n){const e=(0,fe.m9)(n);yield ai(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Ze(){return(Ze=(0,ue.Z)(function*(n,e){const t=yield un(n,{},(0,ue.Z)(function*(){const i=(0,fe.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:c,apiKey:p}=n.config,_=Br(n,c,"/v1/token",`key=${p}`),T=yield n._getAdditionalHeaders();return T["Content-Type"]="application/x-www-form-urlencoded",it.fetch()(_,{method:"POST",headers:T,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class It{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){dt(e.idToken,"internal-error"),dt(typeof e.idToken<"u","internal-error"),dt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Ir(n){const e=Cr(n);return dt(e,"internal-error"),dt(typeof e.exp<"u","internal-error"),dt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return(0,ue.Z)(function*(){return dt(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return(0,ue.Z)(function*(){const{accessToken:c,refreshToken:p,expiresIn:_}=yield function Ce(n,e){return Ze.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(c,p,Number(_))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:c,expirationTime:p}=t,_=new It;return i&&(dt("string"==typeof i,"internal-error",{appName:e}),_.refreshToken=i),c&&(dt("string"==typeof c,"internal-error",{appName:e}),_.accessToken=c),p&&(dt("number"==typeof p,"internal-error",{appName:e}),_.expirationTime=p),_}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new It,this.toJSON())}_performRefresh(){return hn("not implemented")}}function zt(n,e){dt("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Zt{constructor(e){var{uid:t,auth:i,stsTokenManager:c}=e,p=(0,Qe._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=c,this.accessToken=c.accessToken,this.displayName=p.displayName||null,this.email=p.email||null,this.emailVerified=p.emailVerified||!1,this.phoneNumber=p.phoneNumber||null,this.photoURL=p.photoURL||null,this.isAnonymous=p.isAnonymous||!1,this.tenantId=p.tenantId||null,this.providerData=p.providerData?[...p.providerData]:[],this.metadata=new jn(p.createdAt||void 0,p.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,ue.Z)(function*(){const i=yield yn(t,t.stsTokenManager.getToken(t.auth,e));return dt(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function En(n){return Jn.apply(this,arguments)}(this,e)}reload(){return function Xn(n){return Nr.apply(this,arguments)}(this)}_assign(e){this!==e&&(dt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return(0,ue.Z)(function*(){let c=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),c=!0),t&&(yield ai(i)),yield i.auth._persistUserIfCurrent(i),c&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return(0,ue.Z)(function*(){const t=yield e.getIdToken();return yield yn(e,function ke(n,e){return ct.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,c,p,_,T,F,H,te;const pe=null!==(i=t.displayName)&&void 0!==i?i:void 0,Ve=null!==(c=t.email)&&void 0!==c?c:void 0,ut=null!==(p=t.phoneNumber)&&void 0!==p?p:void 0,Lt=null!==(_=t.photoURL)&&void 0!==_?_:void 0,sn=null!==(T=t.tenantId)&&void 0!==T?T:void 0,cn=null!==(F=t._redirectEventId)&&void 0!==F?F:void 0,Dr=null!==(H=t.createdAt)&&void 0!==H?H:void 0,Xr=null!==(te=t.lastLoginAt)&&void 0!==te?te:void 0,{uid:Lr,emailVerified:Ko,isAnonymous:So,providerData:es,stsTokenManager:Gc}=t;dt(Lr&&Gc,e,"internal-error");const pg=It.fromJSON(this.name,Gc);dt("string"==typeof Lr,e,"internal-error"),zt(pe,e.name),zt(Ve,e.name),dt("boolean"==typeof Ko,e,"internal-error"),dt("boolean"==typeof So,e,"internal-error"),zt(ut,e.name),zt(Lt,e.name),zt(sn,e.name),zt(cn,e.name),zt(Dr,e.name),zt(Xr,e.name);const ib=new Zt({uid:Lr,auth:e,email:Ve,emailVerified:Ko,displayName:pe,isAnonymous:So,photoURL:Lt,phoneNumber:ut,tenantId:sn,stsTokenManager:pg,createdAt:Dr,lastLoginAt:Xr});return es&&Array.isArray(es)&&(ib.providerData=es.map(DA=>Object.assign({},DA))),cn&&(ib._redirectEventId=cn),ib}static _fromIdTokenResponse(e,t,i=!1){return(0,ue.Z)(function*(){const c=new It;c.updateFromServerResponse(t);const p=new Zt({uid:t.localId,auth:e,stsTokenManager:c,isAnonymous:i});return yield ai(p),p})()}}const $n=new Map;function Y(n){Sn(n instanceof Function,"Expected a class definition");let e=$n.get(n);return e?(Sn(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,$n.set(n,e),e)}const G=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ue.Z)(function*(){return!0})()}_set(t,i){var c=this;return(0,ue.Z)(function*(){c.storage[t]=i})()}_get(t){var i=this;return(0,ue.Z)(function*(){const c=i.storage[t];return void 0===c?null:c})()}_remove(t){var i=this;return(0,ue.Z)(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function W(n,e,t){return`firebase:${n}:${e}:${t}`}class ${constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:c,name:p}=this.auth;this.fullUserKey=W(this.userKey,c.apiKey,p),this.fullPersistenceKey=W("persistence",c.apiKey,p),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,ue.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Zt._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,ue.Z)(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return(0,ue.Z)(function*(){if(!t.length)return new $(Y(G),e,i);const c=(yield Promise.all(t.map(function(){var H=(0,ue.Z)(function*(te){if(yield te._isAvailable())return te});return function(te){return H.apply(this,arguments)}}()))).filter(H=>H);let p=c[0]||Y(G);const _=W(i,e.config.apiKey,e.name);let T=null;for(const H of t)try{const te=yield H._get(_);if(te){const pe=Zt._fromJSON(e,te);H!==p&&(T=pe),p=H;break}}catch{}const F=c.filter(H=>H._shouldAllowMigration);return p._shouldAllowMigration&&F.length?(p=F[0],T&&(yield p._set(_,T.toJSON())),yield Promise.all(t.map(function(){var H=(0,ue.Z)(function*(te){if(te!==p)try{yield te._remove(_)}catch{}});return function(te){return H.apply(this,arguments)}}())),new $(p,e,i)):new $(p,e,i)})()}}function we(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function pn(n=(0,fe.z$)()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function We(n=(0,fe.z$)()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function Kt(n=(0,fe.z$)()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function Fn(n=(0,fe.z$)()){return/webos/i.test(n)}(e))return"Webos";if(function Et(n=(0,fe.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function an(n=(0,fe.z$)()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function Nn(n=(0,fe.z$)()){return/android/i.test(n)}(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function Ra(n,e=[]){let t;switch(n){case"Browser":t=we((0,fe.z$)());break;case"Worker":t=`${we((0,fe.z$)())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ee.Jn}/${i}`}function Ao(n,e){return ys.apply(this,arguments)}function ys(){return(ys=(0,ue.Z)(function*(n,e){return fn(n,"GET","/v2/recaptchaConfig",function Ut(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}(n,e))})).apply(this,arguments)}function lr(n){return void 0!==n&&void 0!==n.enterprise}class co{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}class Zs{constructor(e){this.type="recaptcha-enterprise",this.auth=li(e)}verify(e="verify",t=!1){var i=this;return(0,ue.Z)(function*(){function p(){return p=(0,ue.Z)(function*(T){if(!t){if(null==T.tenantId&&null!=T._agentRecaptchaConfig)return T._agentRecaptchaConfig.siteKey;if(null!=T.tenantId&&void 0!==T._tenantRecaptchaConfigs[T.tenantId])return T._tenantRecaptchaConfigs[T.tenantId].siteKey}return new Promise(function(){var F=(0,ue.Z)(function*(H,te){Ao(T,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(pe=>{if(void 0!==pe.recaptchaKey){const Ve=new co(pe);return null==T.tenantId?T._agentRecaptchaConfig=Ve:T._tenantRecaptchaConfigs[T.tenantId]=Ve,H(Ve.siteKey)}te(new Error("recaptcha Enterprise site key undefined"))}).catch(pe=>{te(pe)})});return function(H,te){return F.apply(this,arguments)}}())}),p.apply(this,arguments)}function _(T,F,H){const te=window.grecaptcha;lr(te)?te.enterprise.ready(()=>{te.enterprise.execute(T,{action:e}).then(pe=>{F(pe)}).catch(()=>{F("NO_RECAPTCHA")})}):H(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((T,F)=>{(function c(T){return p.apply(this,arguments)})(i.auth).then(H=>{if(!t&&lr(window.grecaptcha))_(H,T,F);else{if(typeof window>"u")return void F(new Error("RecaptchaVerifier is only supported in browser"));(function Qo(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=c=>{const p=ve("internal-error");p.customData=c,t(p)},i.type="text/javascript",i.charset="UTF-8",function No(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})})("https://www.google.com/recaptcha/enterprise.js?render="+H).then(()=>{_(H,T,F)}).catch(te=>{F(te)})}}).catch(H=>{F(H)})})})()}}class us{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=p=>new Promise((_,T)=>{try{_(e(p))}catch(F){T(F)}});i.onAbort=t,this.queue.push(i);const c=this.queue.length-1;return()=>{this.queue[c]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,ue.Z)(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const c of t.queue)yield c(e),c.onAbort&&i.push(c.onAbort)}catch(c){i.reverse();for(const p of i)try{p()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:c?.message})}})()}}class Qa{constructor(e,t,i,c){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=c,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ka(this),this.idTokenSubscription=new ka(this),this.beforeStateQueue=new us(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=c.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=Y(t)),this._initializationPromise=this.queue((0,ue.Z)(function*(){var c,p;if(!i._deleted&&(i.persistenceManager=yield $.create(i,e),!i._deleted)){if(null!==(c=i._popupRedirectResolver)&&void 0!==c&&c._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(p=i.currentUser)||void 0===p?void 0:p.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,ue.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,ue.Z)(function*(){var i;const c=yield t.assertedPersistence.getCurrentUser();let p=c,_=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const T=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,F=p?._redirectEventId,H=yield t.tryRedirectSignIn(e);(!T||T===F)&&H?.user&&(p=H.user,_=!0)}if(!p)return t.directlySetCurrentUser(null);if(!p._redirectEventId){if(_)try{yield t.beforeStateQueue.runMiddleware(p)}catch(T){p=c,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(T))}return p?t.reloadAndSetCurrentUserOrClear(p):t.directlySetCurrentUser(null)}return dt(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===p._redirectEventId?t.directlySetCurrentUser(p):t.reloadAndSetCurrentUserOrClear(p)})()}tryRedirectSignIn(e){var t=this;return(0,ue.Z)(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,ue.Z)(function*(){try{yield ai(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function $e(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,ue.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,ue.Z)(function*(){const i=e?(0,fe.m9)(e):null;return i&&dt(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return(0,ue.Z)(function*(){if(!i._deleted)return e&&dt(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue((0,ue.Z)(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,ue.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,ue.Z)(function*(){yield t.assertedPersistence.setPersistence(Y(e))}))}initializeRecaptchaConfig(){var e=this;return(0,ue.Z)(function*(){const t=yield Ao(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new co(t);null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.emailPasswordEnabled&&new Zs(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fe.LL("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return(0,ue.Z)(function*(){const c=yield i.getOrInitRedirectPersistenceManager(t);return null===e?c.removeCurrentUser():c.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,ue.Z)(function*(){if(!t.redirectPersistenceManager){const i=e&&Y(e)||t._popupRedirectResolver;dt(i,t,"argument-error"),t.redirectPersistenceManager=yield $.create(t,[Y(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,ue.Z)(function*(){var i,c;return t._isInitialized&&(yield t.queue((0,ue.Z)(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(c=t.redirectUser)||void 0===c?void 0:c._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,ue.Z)(function*(){if(e===t.currentUser)return t.queue((0,ue.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,c){if(this._deleted)return()=>{};const p="function"==typeof t?t:t.next.bind(t),_=this._isInitialized?Promise.resolve():this._initializationPromise;return dt(_,this,"internal-error"),_.then(()=>p(this.currentUser)),"function"==typeof t?e.addObserver(t,i,c):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,ue.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ra(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,ue.Z)(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const c=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();c&&(i["X-Firebase-Client"]=c);const p=yield e._getAppCheckToken();return p&&(i["X-Firebase-AppCheck"]=p),i})()}_getAppCheckToken(){var e=this;return(0,ue.Z)(function*(){var t;const i=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return i?.error&&function yt(n,...e){ot.logLevel<=Re.in.WARN&&ot.warn(`Auth (${Ee.Jn}): ${n}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function li(n){return(0,fe.m9)(n)}class ka{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,fe.ne)(t=>this.observer=t)}get next(){return dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function va(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new Xe(3e4,6e4),new Xe(2e3,1e4),new Xe(3e4,6e4),new Xe(5e3,15e3),encodeURIComponent("fac");var h_="@firebase/auth";class f_{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,ue.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,fe.Pz)("authIdTokenMaxAge"),function da(n){(0,Ee.Xd)(new ce.wA("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),c=e.getProvider("heartbeat"),p=e.getProvider("app-check-internal"),{apiKey:_,authDomain:T}=i.options;dt(_&&!_.includes(":"),"invalid-api-key",{appName:i.name});const F={apiKey:_,authDomain:T,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ra(n)},H=new Qa(i,c,p,F);return function ba(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Y);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}(H,t),H},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),(0,Ee.Xd)(new ce.wA("auth-internal",e=>{const t=li(e.getProvider("auth").getImmediate());return new f_(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ee.KN)(h_,"0.23.2",function lv(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,Ee.KN)(h_,"0.23.2","esm2017")}("Browser");class dv{constructor(){return(0,b.vb)("auth")}}const cd=new Map,xg={activated:!1,tokenObservers:[]},lb={initialized:!1,enabled:!1};function Cs(n){return cd.get(n)||Object.assign({},xg)}function ld(){return lb}const Rg="https://content-firebaseappcheck.googleapis.com/v1",Gf="exchangeDebugToken",y_={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ub{constructor(e,t,i,c,p){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=c,this.upperBound=p,this.pending=null,this.nextErrorWaitInterval=c,c>p)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ue.Z)(function*(){t.stop();try{t.pending=new fe.BH,yield function v_(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new fe.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Vo=new fe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function kg(n){if(!Cs(n).activated)throw Vo.create("use-before-activation",{appName:n.name})}function Ch(n,e){return Bd.apply(this,arguments)}function Bd(){return(Bd=(0,ue.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const pe=yield c.getHeartbeatsHeader();pe&&(i["X-Firebase-Client"]=pe)}const p={method:"POST",body:JSON.stringify(e),headers:i};let _,T;try{_=yield fetch(n,p)}catch(pe){throw Vo.create("fetch-network-error",{originalErrorMessage:pe?.message})}if(200!==_.status)throw Vo.create("fetch-status-error",{httpStatus:_.status});try{T=yield _.json()}catch(pe){throw Vo.create("fetch-parse-error",{originalErrorMessage:pe?.message})}const F=T.ttl.match(/^([\d.]+)(s)$/);if(!F||!F[2]||isNaN(Number(F[1])))throw Vo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${T.ttl}`});const H=1e3*Number(F[1]),te=Date.now();return{token:T.token,expireTimeMillis:te+H,issuedAtTimeMillis:te}})).apply(this,arguments)}function Ev(n,e){const{projectId:t,appId:i,apiKey:c}=n.options;return{url:`${Rg}/projects/${t}/apps/${i}:${Gf}?key=${c}`,body:{debug_token:e}}}const db="firebase-app-check-database",Ti=1,Sh="firebase-app-check-store";let Mu=null;function Bg(){return(Bg=(0,ue.Z)(function*(n,e){const i=(yield function Vd(){return Mu||(Mu=new Promise((n,e)=>{try{const t=indexedDB.open(db,Ti);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var c;e(Vo.create("storage-open",{originalErrorMessage:null===(c=i.target.error)||void 0===c?void 0:c.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Sh,{keyPath:"compositeKey"})}}catch(t){e(Vo.create("storage-open",{originalErrorMessage:t?.message}))}}),Mu)}()).transaction(Sh,"readwrite"),p=i.objectStore(Sh).put({compositeKey:n,value:e});return new Promise((_,T)=>{p.onsuccess=F=>{_()},i.onerror=F=>{var H;T(Vo.create("storage-set",{originalErrorMessage:null===(H=F.target.error)||void 0===H?void 0:H.message}))}})})).apply(this,arguments)}const Ud=new Re.Yd("@firebase/app-check");function Zf(n,e){return(0,fe.hl)()?function Lg(n,e){return function Wf(n,e){return Bg.apply(this,arguments)}(function E_(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Ud.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Kf(){return ld().enabled}function Vg(){return xu.apply(this,arguments)}function xu(){return(xu=(0,ue.Z)(function*(){const n=ld();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Sv={error:"UNKNOWN_ERROR"};function fb(n){return fe.US.encodeString(JSON.stringify(n),!1)}function D_(n){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,ue.Z)(function*(n,e=!1){const t=n.app;kg(t);const i=Cs(t);let p,c=i.token;if(c&&!Xl(c)&&(i.token=void 0,c=void 0),!c){const F=yield i.cachedTokenPromise;F&&(Xl(F)?c=F:yield Zf(t,void 0))}if(!e&&c&&Xl(c))return{token:c.token};let T,_=!1;if(Kf()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Ch(Ev(t,yield Vg()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),_=!0);const F=yield i.exchangeTokenPromise;return yield Zf(t,F),i.token=F,{token:F.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),_=!0),c=yield Cs(t).exchangeTokenPromise}catch(F){"appCheck/throttled"===F.code?Ud.warn(F.message):Ud.error(F),p=F}return c?p?T=Xl(c)?{token:c.token,internalError:p}:Av(p):(T={token:c.token},i.token=c,yield Zf(t,c)):T=Av(p),_&&function Xf(n,e){const t=Cs(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,T),T})).apply(this,arguments)}function C_(n){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,ue.Z)(function*(n){const e=n.app;kg(e);const{provider:t}=Cs(e);if(Kf()){const i=yield Vg(),{token:c}=yield Ch(Ev(e,i),n.heartbeatServiceProvider);return{token:c}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function Jf(n,e){const t=Cs(n),i=t.tokenObservers.filter(c=>c.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function Ug(n){const{app:e}=n,t=Cs(e);let i=t.tokenRefresher;i||(i=function S_(n){const{app:e}=n;return new ub((0,ue.Z)(function*(){let i;if(i=Cs(e).token?yield D_(n,!0):yield D_(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Cs(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},y_.RETRIAL_MIN_WAIT,y_.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Xl(n){return n.expireTimeMillis-Date.now()>0}function Av(n){return{token:fb(Sv),error:n}}class Nv{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Cs(this.app);for(const t of e)Jf(this.app,t.next);return Promise.resolve()}}const bb="app-check-internal";!function np(){(0,Ee.Xd)(new ce.wA("app-check",n=>function A_(n,e){return new Nv(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(bb).initialize()})),(0,Ee.Xd)(new ce.wA(bb,n=>function pb(n){return{getToken:e=>D_(n,e),getLimitedUseToken:()=>C_(n),addTokenListener:e=>function Qf(n,e,t,i){const{app:c}=n,p=Cs(c);if(p.tokenObservers=[...p.tokenObservers,{next:t,error:i,type:e}],p.token&&Xl(p.token)){const T=p.token;Promise.resolve().then(()=>{t({token:T.token}),Ug(n)}).catch(()=>{})}p.cachedTokenPromise.then(()=>Ug(n))}(n,"INTERNAL",e),removeTokenListener:e=>Jf(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ee.KN)("@firebase/app-check","0.8.0")}();class eu{constructor(){return(0,b.vb)("app-check")}}typeof window<"u"&&window;var rn,Ib=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Al={},Eb=Eb||{},mr=Ib||self;function Lv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ph(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Tb="closure_uid_"+(1e9*Math.random()>>>0),OD=0;function Db(n,e,t){return n.call.apply(n.bind,arguments)}function nE(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,i),n.apply(e,c)}}return function(){return n.apply(e,arguments)}}function pa(n,e,t){return(pa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Db:nE).apply(null,arguments)}function zg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function ga(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,c,p){for(var _=Array(arguments.length-2),T=2;T<arguments.length;T++)_[T-2]=arguments[T];return e.prototype[c].apply(i,_)}}function tu(){this.s=this.s,this.o=this.o}tu.prototype.s=!1,tu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Bv(n){Object.prototype.hasOwnProperty.call(n,Tb)&&n[Tb]||(n[Tb]=++OD)}(this)},tu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kh=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function ap(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function cp(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Lv(i)){const c=n.length||0,p=i.length||0;n.length=c+p;for(let _=0;_<p;_++)n[c+_]=i[_]}else n.push(i)}}function $s(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}$s.prototype.h=function(){this.defaultPrevented=!0};var Vv=function(){if(!mr.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{mr.addEventListener("test",()=>{},e),mr.removeEventListener("test",()=>{},e)}catch{}return n}();function Nl(n){return/^[\s\xa0]*$/.test(n)}function lp(){var n=mr.navigator;return n&&(n=n.userAgent)?n:""}function tl(n){return-1!=lp().indexOf(n)}function Wg(n){return Wg[" "](n),n}Wg[" "]=function(){};var qg,n,Sb=tl("Opera"),Fh=tl("Trident")||tl("MSIE"),up=tl("Edge"),Uv=up||Fh,Ab=tl("Gecko")&&!(-1!=lp().toLowerCase().indexOf("webkit")&&!tl("Edge"))&&!(tl("Trident")||tl("MSIE"))&&!tl("Edge"),dp=-1!=lp().toLowerCase().indexOf("webkit")&&!tl("Edge");function Lh(){var n=mr.document;return n?n.documentMode:void 0}e:{var hp="",fp=(n=lp(),Ab?/rv:([^\);]+)(\)|;)/.exec(n):up?/Edge\/([\d\.]+)/.exec(n):Fh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):dp?/WebKit\/(\S+)/.exec(n):Sb?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(fp&&(hp=fp?fp[1]:""),Fh){var pp=Lh();if(null!=pp&&pp>parseFloat(hp)){qg=String(pp);break e}}qg=hp}var Hv=mr.document&&Fh&&(Lh()||parseInt(qg,10))||void 0;function nl(n,e){if($s.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Ab){e:{try{Wg(e.nodeName);var c=!0;break e}catch{}c=!1}c||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:gp[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&nl.$.h.call(this)}}ga(nl,$s);var gp={2:"touch",3:"pen",4:"mouse"};nl.prototype.h=function(){nl.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var nu="closure_listenable_"+(1e6*Math.random()|0),Nb=0;function k_(n,e,t,i,c){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=c,this.key=++Nb,this.fa=this.ia=!1}function mp(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Kg(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function Ob(n){const e={};for(const t in n)e[t]=n[t];return e}const F_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bh(n,e){let t,i;for(let c=1;c<arguments.length;c++){for(t in i=arguments[c],i)n[t]=i[t];for(let p=0;p<F_.length;p++)t=F_[p],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Yg(n){this.src=n,this.g={},this.h=0}function Vh(n,e){var t=e.type;if(t in n.g){var p,i=n.g[t],c=kh(i,e);(p=0<=c)&&Array.prototype.splice.call(i,c,1),p&&(mp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function $d(n,e,t,i){for(var c=0;c<n.length;++c){var p=n[c];if(!p.fa&&p.listener==e&&p.capture==!!t&&p.la==i)return c}return-1}Yg.prototype.add=function(n,e,t,i,c){var p=n.toString();(n=this.g[p])||(n=this.g[p]=[],this.h++);var _=$d(n,e,i,c);return-1<_?(e=n[_],t||(e.ia=!1)):((e=new k_(e,this.src,p,!!i,c)).ia=t,n.push(e)),e};var Oc="closure_lm_"+(1e6*Math.random()|0),Pu={};function _p(n,e,t,i,c){if(i&&i.once)return jv(n,e,t,i,c);if(Array.isArray(e)){for(var p=0;p<e.length;p++)_p(n,e[p],t,i,c);return null}return t=zv(t),n&&n[nu]?n.O(e,t,Ph(i)?!!i.capture:!!i,c):L_(n,e,t,!1,i,c)}function L_(n,e,t,i,c,p){if(!e)throw Error("Invalid event type");var _=Ph(c)?!!c.capture:!!c,T=Jg(n);if(T||(n[Oc]=T=new Yg(n)),(t=T.add(e,t,i,_,p)).proxy)return t;if(i=function Gv(){const e=Mb;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Vv||(c=_),void 0===c&&(c=!1),n.addEventListener(e.toString(),i,c);else if(n.attachEvent)n.attachEvent($v(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function jv(n,e,t,i,c){if(Array.isArray(e)){for(var p=0;p<e.length;p++)jv(n,e[p],t,i,c);return null}return t=zv(t),n&&n[nu]?n.P(e,t,Ph(i)?!!i.capture:!!i,c):L_(n,e,t,!0,i,c)}function Uh(n,e,t,i,c){if(Array.isArray(e))for(var p=0;p<e.length;p++)Uh(n,e[p],t,i,c);else i=Ph(i)?!!i.capture:!!i,t=zv(t),n&&n[nu]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=$d(p=n.g[e],t,i,c))&&(mp(p[t]),Array.prototype.splice.call(p,t,1),0==p.length&&(delete n.g[e],n.h--))):n&&(n=Jg(n))&&(e=n.g[e.toString()],n=-1,e&&(n=$d(e,t,i,c)),(t=-1<n?e[n]:null)&&Qg(t))}function Qg(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[nu])Vh(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent($v(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Jg(e))?(Vh(t,n),0==t.h&&(t.src=null,e[Oc]=null)):mp(n)}}}function $v(n){return n in Pu?Pu[n]:Pu[n]="on"+n}function Mb(n,e){if(n.fa)n=!0;else{e=new nl(e,this);var t=n.listener,i=n.la||n.src;n.ia&&Qg(n),n=t.call(i,e)}return n}function Jg(n){return(n=n[Oc])instanceof Yg?n:null}var B_="__closure_events_fn_"+(1e9*Math.random()>>>0);function zv(n){return"function"==typeof n?n:(n[B_]||(n[B_]=function(e){return n.handleEvent(e)}),n[B_])}function Uo(){tu.call(this),this.i=new Yg(this),this.S=this,this.J=null}function Ho(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new $s(e,n);else if(e instanceof $s)e.target=e.target||n;else{var c=e;Bh(e=new $s(i,n),c)}if(c=!0,t)for(var p=t.length-1;0<=p;p--){var _=e.g=t[p];c=Xg(_,i,!0,e)&&c}if(c=Xg(_=e.g=n,i,!0,e)&&c,c=Xg(_,i,!1,e)&&c,t)for(p=0;p<t.length;p++)c=Xg(_=e.g=t[p],i,!1,e)&&c}function Xg(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,p=0;p<e.length;++p){var _=e[p];if(_&&!_.fa&&_.capture==t){var T=_.listener,F=_.la||_.src;_.ia&&Vh(n.i,_),c=!1!==T.call(F,i)&&c}}return c&&!i.defaultPrevented}ga(Uo,tu),Uo.prototype[nu]=!0,Uo.prototype.removeEventListener=function(n,e,t,i){Uh(this,n,e,t,i)},Uo.prototype.N=function(){if(Uo.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)mp(t[i]);delete n.g[e],n.h--}}this.J=null},Uo.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Uo.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Wv=mr.JSON.stringify;function qv(){var n=em;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var iE=new class rE{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new yp,n=>n.reset());class yp{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function xb(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function V_(n){mr.setTimeout(()=>{throw n},0)}let Hh,ku=!1,em=new class MD{constructor(){this.h=this.g=null}add(e,t){const i=iE.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},U_=()=>{const n=mr.Promise.resolve(void 0);Hh=()=>{n.then(tm)}};var tm=()=>{for(var n;n=qv();){try{n.h.call(n.g)}catch(t){V_(t)}var e=iE;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}ku=!1};function Gh(n,e){Uo.call(this),this.h=n||1,this.g=e||mr,this.j=pa(this.qb,this),this.l=Date.now()}function zd(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function nm(n,e,t){if("function"==typeof n)t&&(n=pa(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=pa(n.handleEvent,n)}return 2147483647<Number(e)?-1:mr.setTimeout(n,e||0)}function vp(n){n.g=nm(()=>{n.g=null,n.i&&(n.i=!1,vp(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ga(Gh,Uo),(rn=Gh.prototype).ga=!1,rn.T=null,rn.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ho(this,"tick"),this.ga&&(zd(this),this.start()))}},rn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rn.N=function(){Gh.$.N.call(this),zd(this),delete this.g};class H_ extends tu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:vp(this)}N(){super.N(),this.g&&(mr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function G_(n){tu.call(this),this.h=n,this.g={}}ga(G_,tu);var j_=[];function bp(n,e,t,i){Array.isArray(t)||(t&&(j_[0]=t.toString()),t=j_);for(var c=0;c<t.length;c++){var p=_p(e,t[c],i||n.handleEvent,!1,n.h||n);if(!p)break;n.g[p.key]=p}}function Zv(n){Kg(n.g,function(e,t){this.g.hasOwnProperty(t)&&Qg(e)},n),n.g={}}function rm(){this.g=!0}function Wd(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Kv(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var c=i[1];if(Array.isArray(c)&&!(1>c.length)){var p=c[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var _=1;_<c.length;_++)c[_]=""}}}return Wv(t)}catch{return e}}(n,t)+(i?" "+i:"")})}G_.prototype.N=function(){G_.$.N.call(this),Zv(this)},G_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rm.prototype.Ea=function(){this.g=!1},rm.prototype.info=function(){};var jh={},oE=null;function $_(){return oE=oE||new Uo}function im(n){$s.call(this,jh.Ta,n)}function $h(n){const e=$_();Ho(e,new im(e))}function z_(n,e){$s.call(this,jh.STAT_EVENT,n),this.stat=e}function $a(n){const e=$_();Ho(e,new z_(e,n))}function W_(n,e){$s.call(this,jh.Ua,n),this.size=e}function qd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return mr.setTimeout(function(){n()},e)}jh.Ta="serverreachability",ga(im,$s),jh.STAT_EVENT="statevent",ga(z_,$s),jh.Ua="timingevent",ga(W_,$s);var q_={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},sm={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Yv(){}function aE(){}Yv.prototype.h=null;var Zd,om={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function zh(){$s.call(this,"d")}function Jv(){$s.call(this,"c")}function Kd(){}function am(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new G_(this),this.P=cE,this.V=new Gh(n=Uv?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new cm}function cm(){this.i=null,this.g="",this.h=!1}ga(zh,$s),ga(Jv,$s),ga(Kd,Yv),Kd.prototype.g=function(){return new XMLHttpRequest},Kd.prototype.i=function(){return{}},Zd=new Kd;var cE=45e3,Xv={},lm={};function Z_(n,e,t){n.L=1,n.v=dm(ru(e)),n.s=t,n.S=!0,e0(n,null)}function e0(n,e){n.G=Date.now(),Yd(n),n.A=ru(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),hm(t.i,"t",i),n.C=0,t=n.l.J,n.h=new cm,n.g=Lp(n.l,t?e:null,!n.s),0<n.O&&(n.M=new H_(pa(n.Pa,n,n.g),n.O)),bp(n.U,n.g,"readystatechange",n.nb),e=n.I?Ob(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),$h(),function sE(n,e,t,i,c,p){n.info(function(){if(n.g)if(p)for(var _="",T=p.split("&"),F=0;F<T.length;F++){var H=T[F].split("=");if(1<H.length){var te=H[0];H=H[1];var pe=te.split("_");_=2<=pe.length&&"type"==pe[1]?_+(te+"=")+H+"&":_+(te+"=redacted&")}}else _=null;else _=p;return"XMLHTTP REQ ("+i+") [attempt "+c+"]: "+e+"\n"+t+"\n"+_})}(n.j,n.u,n.A,n.m,n.W,n.s)}function K_(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function lE(n,e,t){let c,i=!0;for(;!n.J&&n.C<t.length;){if(c=Y_(n,t),c==lm){4==e&&(n.o=4,$a(14),i=!1),Wd(n.j,n.m,null,"[Incomplete Response]");break}if(c==Xv){n.o=4,$a(15),Wd(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Wd(n.j,n.m,c,null),wp(n,c)}K_(n)&&c!=lm&&c!=Xv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,$a(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),xl(e),e.M=!0,$a(11))):(Wd(n.j,n.m,t,"[Invalid Chunked Response]"),qh(n),Wh(n))}function Y_(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?lm:(t=Number(e.substring(t,i)),isNaN(t)?Xv:(i+=1)+t>e.length?lm:(e=e.slice(i,i+t),n.C=i+t,e))}function Yd(n){n.Y=Date.now()+n.P,t0(n,n.P)}function t0(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=qd(pa(n.lb,n),e)}function um(n){n.B&&(mr.clearTimeout(n.B),n.B=null)}function Wh(n){0==n.l.H||n.J||Pp(n.l,n)}function qh(n){um(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,zd(n.V),Zv(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function wp(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||ny(t.i,n)))if(!n.K&&ny(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var c=i;if(0==c[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Jh(t),nh(t)}Pc(t),$a(18)}}else t.Fa=c[1],0<t.Fa-t.V&&37500>c[2]&&t.G&&0==t.A&&!t.v&&(t.v=qd(pa(t.ib,t),6e3));if(1>=ty(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Rl(t,11)}else if((n.K||t.g==n)&&Jh(t),!Nl(e))for(c=t.Ja.g.parse(e),e=0;e<c.length;e++){let H=c[e];if(t.V=H[0],H=H[1],2==t.H)if("c"==H[0]){t.K=H[1],t.pa=H[2];const te=H[3];null!=te&&(t.ra=te,t.l.info("VER="+t.ra));const pe=H[4];null!=pe&&(t.Ga=pe,t.l.info("SVER="+t.Ga));const Ve=H[5];null!=Ve&&"number"==typeof Ve&&0<Ve&&(t.L=i=1.5*Ve,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const ut=n.g;if(ut){const Lt=ut.g?ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lt){var p=i.i;p.g||-1==Lt.indexOf("spdy")&&-1==Lt.indexOf("quic")&&-1==Lt.indexOf("h2")||(p.j=p.l,p.g=new Set,p.h&&(ry(p,p.h),p.h=null))}if(i.F){const sn=ut.g?ut.g.getResponseHeader("X-HTTP-Session-Id"):null;sn&&(i.Da=sn,Di(i.I,i.F,sn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var _=n;if((i=t).wa=m0(i,i.J?i.pa:null,i.Y),_.K){Jd(i.i,_);var T=_,F=i.L;F&&T.setTimeout(F),T.B&&(um(T),Yd(T)),i.g=_}else Rc(i);0<t.j.length&&Mp(t)}else"stop"!=H[0]&&"close"!=H[0]||Rl(t,7);else 3==t.H&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?Rl(t,7):rl(t):"noop"!=H[0]&&t.h&&t.h.Aa(H),t.A=0)}$h()}catch{}}function Lb(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Lv(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Fb(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Lv(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function kb(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Lv(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),c=i.length,p=0;p<c;p++)e.call(void 0,i[p],t&&t[p],n)}(rn=am.prototype).setTimeout=function(n){this.P=n},rn.nb=function(n){n=n.target;const e=this.M;e&&3==xc(n)?e.l():this.Pa(n)},rn.Pa=function(n){try{if(n==this.g)e:{const te=xc(this.g);var e=this.g.Ia();if(this.g.da(),!(3>te)&&(3!=te||Uv||this.g&&(this.h.h||this.g.ja()||Ap(this.g)))){this.J||4!=te||7==e||$h(),um(this);var t=this.g.da();this.ca=t;t:if(K_(this)){var i=Ap(this.g);n="";var c=i.length,p=4==xc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){qh(this),Wh(this);var _="";break t}this.h.i=new mr.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:p&&e==c-1});i.splice(0,c),this.h.g+=n,this.C=0,_=this.h.g}else _=this.g.ja();if(this.i=200==t,function Rb(n,e,t,i,c,p,_){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+c+"]: "+e+"\n"+t+"\n"+p+" "+_})}(this.j,this.u,this.A,this.m,this.W,te,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var T,F=this.g;if((T=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nl(T)){var H=T;break t}}H=null}if(!(t=H)){this.i=!1,this.o=3,$a(12),qh(this),Wh(this);break e}Wd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wp(this,t)}this.S?(lE(this,te,_),Uv&&this.i&&3==te&&(bp(this.U,this.V,"tick",this.mb),this.V.start())):(Wd(this.j,this.m,_,null),wp(this,_)),4==te&&qh(this),this.i&&!this.J&&(4==te?Pp(this.l,this):(this.i=!1,Yd(this)))}else(function Np(n){const e={};n=(n.g&&2<=xc(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Nl(n[i]))continue;var t=xb(n[i]);const c=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const p=e[c]||[];e[c]=p,p.push(t)}!function Ru(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<_.indexOf("Unknown SID")?(this.o=3,$a(12)):(this.o=0,$a(13)),qh(this),Wh(this)}}}catch{}},rn.mb=function(){if(this.g){var n=xc(this.g),e=this.g.ja();this.C<e.length&&(um(this),lE(this,n,e),this.i&&4!=n&&Yd(this))}},rn.cancel=function(){this.J=!0,qh(this)},rn.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Pb(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&($h(),$a(17)),qh(this),this.o=2,Wh(this)):t0(this,this.Y-n)};var Q_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ma(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ma){this.h=n.h,J_(this,n.j),this.s=n.s,this.g=n.g,Zh(this,n.m),this.l=n.l;var e=n.i,t=new Tp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Fu(this,t),this.o=n.o}else n&&(e=String(n).match(Q_))?(this.h=!1,J_(this,e[1]||"",!0),this.s=Ip(e[2]||""),this.g=Ip(e[3]||"",!0),Zh(this,e[4]),this.l=Ip(e[5]||"",!0),Fu(this,e[6]||"",!0),this.o=Ip(e[7]||"")):(this.h=!1,this.i=new Tp(null,this.h))}function ru(n){return new ma(n)}function J_(n,e,t){n.j=t?Ip(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Zh(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Fu(n,e,t){e instanceof Tp?(n.i=e,function a0(n,e){e&&!n.j&&(iu(n),n.i=null,n.g.forEach(function(t,i){var c=i.toLowerCase();i!=c&&(s0(this,i),hm(this,c,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Ep(e,uE)),n.i=new Tp(e,n.h))}function Di(n,e,t){n.i.set(e,t)}function dm(n){return Di(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ip(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ep(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,X_),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function X_(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ma.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ep(e,Ol,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ep(e,Ol,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ep(t,"/"==t.charAt(0)?Bb:r0,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ep(t,Go)),n.join("")};var Ol=/[#\/\?@]/g,r0=/[#\?:]/g,Bb=/[#\?]/g,uE=/[#\?@]/g,Go=/#/g;function Tp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function iu(n){n.g||(n.g=new Map,n.h=0,n.i&&function n0(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),c=null;if(0<=i){var p=n[t].substring(0,i);c=n[t].substring(i+1)}else p=n[t];e(p,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function s0(n,e){iu(n),e=Qd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function o0(n,e){return iu(n),e=Qd(n,e),n.g.has(e)}function hm(n,e,t){s0(n,e),0<t.length&&(n.i=null,n.g.set(Qd(n,e),ap(t)),n.h+=t.length)}function Qd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function ey(n){this.l=n||c0,n=mr.PerformanceNavigationTiming?0<(n=mr.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(mr.g&&mr.g.Ka&&mr.g.Ka()&&mr.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(rn=Tp.prototype).add=function(n,e){iu(this),this.i=null,n=Qd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},rn.forEach=function(n,e){iu(this),this.g.forEach(function(t,i){t.forEach(function(c){n.call(e,c,i,this)},this)},this)},rn.ta=function(){iu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const c=n[i];for(let p=0;p<c.length;p++)t.push(e[i])}return t},rn.Z=function(n){iu(this);let e=[];if("string"==typeof n)o0(this,n)&&(e=e.concat(this.g.get(Qd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},rn.set=function(n,e){return iu(this),this.i=null,o0(this,n=Qd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},rn.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},rn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const p=encodeURIComponent(String(i)),_=this.Z(i);for(i=0;i<_.length;i++){var c=p;""!==_[i]&&(c+="="+encodeURIComponent(String(_[i]))),n.push(c)}}return this.i=n.join("&")};var c0=10;function l0(n){return!!n.h||!!n.g&&n.g.size>=n.j}function ty(n){return n.h?1:n.g?n.g.size:0}function ny(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function ry(n,e){n.g?n.g.add(e):n.h=e}function Jd(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function su(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return ap(n.i)}ey.prototype.cancel=function(){if(this.i=su(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Mc=class{stringify(n){return mr.JSON.stringify(n,void 0)}parse(n){return mr.JSON.parse(n,void 0)}};function u0(){this.g=new Mc}function iy(n,e,t){const i=t||"";try{Lb(n,function(c,p){let _=c;Ph(c)&&(_=Wv(c)),e.push(i+p+"="+encodeURIComponent(_))})}catch(c){throw e.push(i+"type="+encodeURIComponent("_badmap")),c}}function Xd(n,e,t,i,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(i)}catch{}}function Io(n){this.l=n.fc||null,this.j=n.ob||!1}function Lu(n,e){Uo.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Kh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ga(Io,Yv),Io.prototype.g=function(){return new Lu(this.l,this.j)},Io.prototype.i=function(n){return function(){return n}}({}),ga(Lu,Uo);var Kh=0;function Dp(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Yh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ml(n)}function Ml(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(rn=Lu.prototype).open=function(n,e){if(this.readyState!=Kh)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ml(this)},rn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||mr).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},rn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yh(this)),this.readyState=Kh},rn.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ml(this)),this.g&&(this.readyState=3,Ml(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof mr.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Dp(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},rn.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Yh(this):Ml(this),3==this.readyState&&Dp(this)}},rn.Za=function(n){this.g&&(this.response=this.responseText=n,Yh(this))},rn.Ya=function(n){this.g&&(this.response=n,Yh(this))},rn.ka=function(){this.g&&Yh(this)},rn.setRequestHeader=function(n,e){this.v.append(n,e)},rn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},rn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Lu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var d0=mr.JSON.parse;function Ss(n){Uo.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ub,this.L=this.M=!1}ga(Ss,Uo);var Ub="",h0=/^https?$/i,Hb=["POST","PUT"];function dE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,p0(n),Sp(n)}function p0(n){n.F||(n.F=!0,Ho(n,"complete"),Ho(n,"error"))}function Cp(n){if(n.h&&typeof Eb<"u"&&(!n.C[1]||4!=xc(n)||2!=n.da()))if(n.v&&4==xc(n))nm(n.La,0,n);else if(Ho(n,"readystatechange"),4==xc(n)){n.h=!1;try{const _=n.da();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===_){var c=String(n.I).match(Q_)[1]||null;!c&&mr.self&&mr.self.location&&(c=mr.self.location.protocol.slice(0,-1)),i=!h0.test(c?c.toLowerCase():"")}t=i}if(t)Ho(n,"complete"),Ho(n,"success");else{n.m=6;try{var p=2<xc(n)?n.g.statusText:""}catch{p=""}n.j=p+" ["+n.da()+"]",p0(n)}}finally{Sp(n)}}}function Sp(n,e){if(n.g){g0(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Ho(n,"ready");try{t.onreadystatechange=i}catch{}}}function g0(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(mr.clearTimeout(n.A),n.A=null)}function xc(n){return n.g?n.g.readyState:0}function Ap(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Ub:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Op(n){let e="";return Kg(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function eh(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=Op(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Di(n,e,t))}function th(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function rr(n){this.Ga=0,this.j=[],this.l=new rm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=th("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=th("baseRetryDelayMs",5e3,n),this.hb=th("retryDelaySeedMs",1e4,n),this.eb=th("forwardChannelMaxRetries",2,n),this.xa=th("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new ey(n&&n.concurrentRequestLimit),this.Ja=new u0,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function rl(n){if(ou(n),3==n.H){var e=n.W++,t=ru(n.I);if(Di(t,"SID",n.K),Di(t,"RID",e),Di(t,"TYPE","terminate"),au(n,t),(e=new am(n,n.l,e)).L=2,e.v=dm(ru(t)),t=!1,mr.navigator&&mr.navigator.sendBeacon)try{t=mr.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&mr.Image&&((new Image).src=e.v,t=!0),t||(e.g=Lp(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Yd(e)}Fp(n)}function nh(n){n.g&&(xl(n),n.g.cancel(),n.g=null)}function ou(n){nh(n),n.u&&(mr.clearTimeout(n.u),n.u=null),Jh(n),n.i.cancel(),n.m&&("number"==typeof n.m&&mr.clearTimeout(n.m),n.m=null)}function Mp(n){if(!l0(n.i)&&!n.m){n.m=!0;var e=n.Na;Hh||U_(),ku||(Hh(),ku=!0),em.add(e,n),n.C=0}}function Qh(n,e){var t;t=e?e.m:n.W++;const i=ru(n.I);Di(i,"SID",n.K),Di(i,"RID",t),Di(i,"AID",n.V),au(n,i),n.o&&n.s&&eh(i,n.o,n.s),t=new am(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=Rp(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),ry(n.i,t),Z_(t,i,e)}function au(n,e){n.na&&Kg(n.na,function(t,i){Di(e,i,t)}),n.h&&Lb({},function(t,i){Di(e,i,t)})}function Rp(n,e,t){t=Math.min(n.j.length,t);var i=n.h?pa(n.h.Va,n.h,n):null;e:{var c=n.j;let p=-1;for(;;){const _=["count="+t];-1==p?0<t?(p=c[0].g,_.push("ofs="+p)):p=0:_.push("ofs="+p);let T=!0;for(let F=0;F<t;F++){let H=c[F].g;const te=c[F].map;if(H-=p,0>H)p=Math.max(0,c[F].g-100),T=!1;else try{iy(te,_,"req"+H+"_")}catch{i&&i(te)}}if(T){i=_.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function Rc(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Hh||U_(),ku||(Hh(),ku=!0),em.add(e,n),n.A=0}}function Pc(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=qd(pa(n.Ma,n),kp(n,n.A)),n.A++,0))}function xl(n){null!=n.B&&(mr.clearTimeout(n.B),n.B=null)}function ud(n){n.g=new am(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ru(n.wa);Di(e,"RID","rpc"),Di(e,"SID",n.K),Di(e,"AID",n.V),Di(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Di(e,"TO",n.qa),Di(e,"TYPE","xmlhttp"),au(n,e),n.o&&n.s&&eh(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=dm(ru(e)),t.s=null,t.S=!0,e0(t,n)}function Jh(n){null!=n.v&&(mr.clearTimeout(n.v),n.v=null)}function Pp(n,e){var t=null;if(n.g==e){Jh(n),xl(n),n.g=null;var i=2}else{if(!ny(n.i,e))return;t=e.F,Jd(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var c=n.C;Ho(i=$_(),new W_(i,t)),Mp(n)}else Rc(n);else if(3==(c=e.o)||0==c&&0<e.ca||!(1==i&&function xp(n,e){return!(ty(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=qd(pa(n.Na,n,e),kp(n,n.C)),n.C++,0)))}(n,e)||2==i&&Pc(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),c){case 1:Rl(n,5);break;case 4:Rl(n,10);break;case 3:Rl(n,6);break;default:Rl(n,2)}}function kp(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Rl(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=pa(n.pb,n);t||(t=new ma("//www.google.com/images/cleardot.gif"),mr.location&&"http"==mr.location.protocol||J_(t,"https"),dm(t)),function fm(n,e){const t=new rm;if(mr.Image){const i=new Image;i.onload=zg(Xd,t,i,"TestLoadImage: loaded",!0,e),i.onerror=zg(Xd,t,i,"TestLoadImage: error",!1,e),i.onabort=zg(Xd,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=zg(Xd,t,i,"TestLoadImage: timeout",!1,e),mr.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else $a(2);n.H=0,n.h&&n.h.za(e),Fp(n),ou(n)}function Fp(n){if(n.H=0,n.ma=[],n.h){const e=su(n.i);(0!=e.length||0!=n.j.length)&&(cp(n.ma,e),cp(n.ma,n.j),n.i.i.length=0,ap(n.j),n.j.length=0),n.h.ya()}}function m0(n,e,t){var i=t instanceof ma?ru(t):new ma(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Zh(i,i.m);else{var c=mr.location;i=c.protocol,e=e?e+"."+c.hostname:c.hostname,c=+c.port;var p=new ma(null);i&&J_(p,i),e&&(p.g=e),c&&Zh(p,c),t&&(p.l=t),i=p}return e=n.Da,(t=n.F)&&e&&Di(i,t,e),Di(i,"VER",n.ra),au(n,i),i}function Lp(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ss(t&&n.Ha&&!n.va?new Io({ob:!0}):n.va)).Oa(n.J),e}function Gb(){}function pm(){if(Fh&&!(10<=Number(Hv)))throw Error("Environmental error: no available transport.")}function kc(n,e){Uo.call(this),this.g=new rr(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Nl(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Nl(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Xh(this)}function pc(n){zh.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function gm(){Jv.call(this),this.status=1}function Xh(n){this.g=n}function cu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function gc(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var c=0;16>c;++c)i[c]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(c=0;16>c;++c)i[c]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var p=n.g[3],_=(e=n.g[0])+(p^(t=n.g[1])&((c=n.g[2])^p))+i[0]+3614090360&4294967295;_=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=t+(_<<7&4294967295|_>>>25))+((_=p+(c^e&(t^c))+i[1]+3905402710&4294967295)<<12&4294967295|_>>>20))+((_=c+(t^p&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^c&(p^e))+i[3]+3250441966&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(c^p))+i[4]+4118548399&4294967295)<<7&4294967295|_>>>25))+((_=p+(c^e&(t^c))+i[5]+1200080426&4294967295)<<12&4294967295|_>>>20))+((_=c+(t^p&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^c&(p^e))+i[7]+4249261313&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(c^p))+i[8]+1770035416&4294967295)<<7&4294967295|_>>>25))+((_=p+(c^e&(t^c))+i[9]+2336552879&4294967295)<<12&4294967295|_>>>20))+((_=c+(t^p&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^c&(p^e))+i[11]+2304563134&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(c^p))+i[12]+1804603682&4294967295)<<7&4294967295|_>>>25))+((_=p+(c^e&(t^c))+i[13]+4254626195&4294967295)<<12&4294967295|_>>>20))+((_=c+(t^p&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^c&(p^e))+i[15]+1236535329&4294967295)<<22&4294967295|_>>>10))+((_=e+(c^p&(t^c))+i[1]+4129170786&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^c&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|_>>>23))+((_=c+(e^t&(p^e))+i[11]+643717713&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(c^p))+i[0]+3921069994&4294967295)<<20&4294967295|_>>>12))+((_=e+(c^p&(t^c))+i[5]+3593408605&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^c&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|_>>>23))+((_=c+(e^t&(p^e))+i[15]+3634488961&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(c^p))+i[4]+3889429448&4294967295)<<20&4294967295|_>>>12))+((_=e+(c^p&(t^c))+i[9]+568446438&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^c&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|_>>>23))+((_=c+(e^t&(p^e))+i[3]+4107603335&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(c^p))+i[8]+1163531501&4294967295)<<20&4294967295|_>>>12))+((_=e+(c^p&(t^c))+i[13]+2850285829&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^c&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|_>>>23))+((_=c+(e^t&(p^e))+i[7]+1735328473&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(c^p))+i[12]+2368359562&4294967295)<<20&4294967295|_>>>12))+((_=e+(t^c^p)+i[5]+4294588738&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^c)+i[8]+2272392833&4294967295)<<11&4294967295|_>>>21))+((_=c+(p^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|_>>>16))+((_=t+(c^p^e)+i[14]+4259657740&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^c^p)+i[1]+2763975236&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^c)+i[4]+1272893353&4294967295)<<11&4294967295|_>>>21))+((_=c+(p^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|_>>>16))+((_=t+(c^p^e)+i[10]+3200236656&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^c^p)+i[13]+681279174&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^c)+i[0]+3936430074&4294967295)<<11&4294967295|_>>>21))+((_=c+(p^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|_>>>16))+((_=t+(c^p^e)+i[6]+76029189&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^c^p)+i[9]+3654602809&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^c)+i[12]+3873151461&4294967295)<<11&4294967295|_>>>21))+((_=c+(p^e^t)+i[15]+530742520&4294967295)<<16&4294967295|_>>>16))+((_=t+(c^p^e)+i[2]+3299628645&4294967295)<<23&4294967295|_>>>9))+((_=e+(c^(t|~p))+i[0]+4096336452&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~c))+i[7]+1126891415&4294967295)<<10&4294967295|_>>>22))+((_=c+(e^(p|~t))+i[14]+2878612391&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(c|~e))+i[5]+4237533241&4294967295)<<21&4294967295|_>>>11))+((_=e+(c^(t|~p))+i[12]+1700485571&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~c))+i[3]+2399980690&4294967295)<<10&4294967295|_>>>22))+((_=c+(e^(p|~t))+i[10]+4293915773&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(c|~e))+i[1]+2240044497&4294967295)<<21&4294967295|_>>>11))+((_=e+(c^(t|~p))+i[8]+1873313359&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~c))+i[15]+4264355552&4294967295)<<10&4294967295|_>>>22))+((_=c+(e^(p|~t))+i[6]+2734768916&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(c|~e))+i[13]+1309151649&4294967295)<<21&4294967295|_>>>11))+((p=(e=t+((_=e+(c^(t|~p))+i[4]+4149444226&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~c))+i[11]+3174756917&4294967295)<<10&4294967295|_>>>22))^((c=p+((_=c+(e^(p|~t))+i[2]+718787259&4294967295)<<15&4294967295|_>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(c+(_<<21&4294967295|_>>>11))&4294967295,n.g[2]=n.g[2]+c&4294967295,n.g[3]=n.g[3]+p&4294967295}function Ci(n,e){this.h=e;for(var t=[],i=!0,c=n.length-1;0<=c;c--){var p=0|n[c];i&&p==e||(t[c]=p,i=!1)}this.g=t}(rn=Ss.prototype).Oa=function(n){this.M=n},rn.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Zd.g(),this.C=function Qv(n){return n.h||(n.h=n.i())}(this.u?this.u:Zd),this.g.onreadystatechange=pa(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(p){return void dE(this,p)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var c in i)t.set(c,i[c]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const p of i.keys())t.set(p,i.get(p))}i=Array.from(t.keys()).find(p=>"content-type"==p.toLowerCase()),c=mr.FormData&&n instanceof mr.FormData,!(0<=kh(Hb,e))||i||c||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[p,_]of t)this.g.setRequestHeader(p,_);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{g0(this),0<this.B&&((this.L=function f0(n){return Fh&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pa(this.ua,this)):this.A=nm(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(p){dE(this,p)}},rn.ua=function(){typeof Eb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ho(this,"timeout"),this.abort(8))},rn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ho(this,"complete"),Ho(this,"abort"),Sp(this))},rn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Sp(this,!0)),Ss.$.N.call(this)},rn.La=function(){this.s||(this.G||this.v||this.l?Cp(this):this.kb())},rn.kb=function(){Cp(this)},rn.isActive=function(){return!!this.g},rn.da=function(){try{return 2<xc(this)?this.g.status:-1}catch{return-1}},rn.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},rn.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),d0(e)}},rn.Ia=function(){return this.m},rn.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(rn=rr.prototype).ra=8,rn.H=1,rn.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const c=new am(this,this.l,n);let p=this.s;if(this.U&&(p?(p=Ob(p),Bh(p,this.U)):p=this.U),null!==this.o||this.O||(c.I=p,p=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Rp(this,c,e),Di(t=ru(this.I),"RID",n),Di(t,"CVER",22),this.F&&Di(t,"X-HTTP-Session-Id",this.F),au(this,t),p&&(this.O?e="headers="+encodeURIComponent(String(Op(p)))+"&"+e:this.o&&eh(t,this.o,p)),ry(this.i,c),this.bb&&Di(t,"TYPE","init"),this.P?(Di(t,"$req",e),Di(t,"SID","null"),c.aa=!0,Z_(c,t,null)):Z_(c,t,e),this.H=2}}else 3==this.H&&(n?Qh(this,n):0==this.j.length||l0(this.i)||Qh(this))},rn.Ma=function(){if(this.u=null,ud(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=qd(pa(this.jb,this),n)}},rn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,$a(10),nh(this),ud(this))},rn.ib=function(){null!=this.v&&(this.v=null,nh(this),Pc(this),$a(19))},rn.pb=function(n){n?(this.l.info("Successfully pinged google.com"),$a(2)):(this.l.info("Failed to ping google.com"),$a(1))},rn.isActive=function(){return!!this.h&&this.h.isActive(this)},(rn=Gb.prototype).Ba=function(){},rn.Aa=function(){},rn.za=function(){},rn.ya=function(){},rn.isActive=function(){return!0},rn.Va=function(){},pm.prototype.g=function(n,e){return new kc(n,e)},ga(kc,Uo),kc.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;$a(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=m0(n,null,n.Y),Mp(n)},kc.prototype.close=function(){rl(this.g)},kc.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Wv(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Mp(e)},kc.prototype.N=function(){this.g.h=null,delete this.j,rl(this.g),delete this.g,kc.$.N.call(this)},ga(pc,zh),ga(gm,Jv),ga(Xh,Gb),Xh.prototype.Ba=function(){Ho(this.g,"a")},Xh.prototype.Aa=function(n){Ho(this.g,new pc(n))},Xh.prototype.za=function(n){Ho(this.g,new gm)},Xh.prototype.ya=function(){Ho(this.g,"b")},ga(cu,function hE(){this.blockSize=-1}),cu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},cu.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,c=this.h,p=0;p<e;){if(0==c)for(;p<=t;)gc(this,n,p),p+=this.blockSize;if("string"==typeof n){for(;p<e;)if(i[c++]=n.charCodeAt(p++),c==this.blockSize){gc(this,i),c=0;break}}else for(;p<e;)if(i[c++]=n[p++],c==this.blockSize){gc(this,i),c=0;break}}this.h=c,this.i+=e},cu.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var fE={};function Bp(n){return-128<=n&&128>n?function Cb(n,e){var t=fE;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Ci([0|e],0>e?-1:0)}):new Ci([0|n],0>n?-1:0)}function il(n){if(isNaN(n)||!isFinite(n))return Bu;if(0>n)return zs(il(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=oy;return new Ci(e,0)}var oy=4294967296,Bu=Bp(0),ef=Bp(1),mm=Bp(16777216);function lu(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function sl(n){return-1==n.h}function zs(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Ci(t,~n.h).add(ef)}function Vp(n,e){return n.add(zs(e))}function _m(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Up(n,e){this.g=n,this.h=e}function ym(n,e){if(lu(e))throw Error("division by zero");if(lu(n))return new Up(Bu,Bu);if(sl(n))return e=ym(zs(n),e),new Up(zs(e.g),zs(e.h));if(sl(e))return e=ym(n,zs(e)),new Up(zs(e.g),e.h);if(30<n.g.length){if(sl(n)||sl(e))throw Error("slowDivide_ only works with positive integers.");for(var t=ef,i=e;0>=i.X(n);)t=_0(t),i=_0(i);var c=za(t,1),p=za(i,1);for(i=za(i,2),t=za(t,2);!lu(i);){var _=p.add(i);0>=_.X(n)&&(c=c.add(t),p=_),i=za(i,1),t=za(t,1)}return e=Vp(n,c.R(e)),new Up(c,e)}for(c=Bu;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),_=(p=il(t)).R(e);sl(_)||0<_.X(n);)_=(p=il(t-=i)).R(e);lu(p)&&(p=ef),c=c.add(p),n=Vp(n,_)}return new Up(c,n)}function _0(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Ci(t,n.h)}function za(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,c=[],p=0;p<i;p++)c[p]=0<e?n.D(p+t)>>>e|n.D(p+t+1)<<32-e:n.D(p+t);return new Ci(c,n.h)}(rn=Ci.prototype).ea=function(){if(sl(this))return-zs(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:oy+i)*e,e*=oy}return n},rn.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(lu(this))return"0";if(sl(this))return"-"+zs(this).toString(n);for(var e=il(Math.pow(n,6)),t=this,i="";;){var c=ym(t,e).g,p=((0<(t=Vp(t,c.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(lu(t=c))return p+i;for(;6>p.length;)p="0"+p;i=p+i}},rn.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},rn.X=function(n){return sl(n=Vp(this,n))?-1:lu(n)?0:1},rn.abs=function(){return sl(this)?zs(this):this},rn.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,c=0;c<=e;c++){var p=i+(65535&this.D(c))+(65535&n.D(c)),_=(p>>>16)+(this.D(c)>>>16)+(n.D(c)>>>16);i=_>>>16,t[c]=(_&=65535)<<16|(p&=65535)}return new Ci(t,-2147483648&t[t.length-1]?-1:0)},rn.R=function(n){if(lu(this)||lu(n))return Bu;if(sl(this))return sl(n)?zs(this).R(zs(n)):zs(zs(this).R(n));if(sl(n))return zs(this.R(zs(n)));if(0>this.X(mm)&&0>n.X(mm))return il(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var c=0;c<n.g.length;c++){var p=this.D(i)>>>16,_=65535&this.D(i),T=n.D(c)>>>16,F=65535&n.D(c);t[2*i+2*c]+=_*F,_m(t,2*i+2*c),t[2*i+2*c+1]+=p*F,_m(t,2*i+2*c+1),t[2*i+2*c+1]+=_*T,_m(t,2*i+2*c+1),t[2*i+2*c+2]+=p*T,_m(t,2*i+2*c+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Ci(t,0)},rn.gb=function(n){return ym(this,n).h},rn.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Ci(t,this.h&n.h)},rn.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Ci(t,this.h|n.h)},rn.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Ci(t,this.h^n.h)},pm.prototype.createWebChannel=pm.prototype.g,kc.prototype.send=kc.prototype.u,kc.prototype.open=kc.prototype.m,kc.prototype.close=kc.prototype.close,q_.NO_ERROR=0,q_.TIMEOUT=8,q_.HTTP_ERROR=6,sm.COMPLETE="complete",aE.EventType=om,om.OPEN="a",om.CLOSE="b",om.ERROR="c",om.MESSAGE="d",Uo.prototype.listen=Uo.prototype.O,Ss.prototype.listenOnce=Ss.prototype.P,Ss.prototype.getLastError=Ss.prototype.Sa,Ss.prototype.getLastErrorCode=Ss.prototype.Ia,Ss.prototype.getStatus=Ss.prototype.da,Ss.prototype.getResponseJson=Ss.prototype.Wa,Ss.prototype.getResponseText=Ss.prototype.ja,Ss.prototype.send=Ss.prototype.ha,Ss.prototype.setWithCredentials=Ss.prototype.Oa,cu.prototype.digest=cu.prototype.l,cu.prototype.reset=cu.prototype.reset,cu.prototype.update=cu.prototype.j,Ci.prototype.add=Ci.prototype.add,Ci.prototype.multiply=Ci.prototype.R,Ci.prototype.modulo=Ci.prototype.gb,Ci.prototype.compare=Ci.prototype.X,Ci.prototype.toNumber=Ci.prototype.ea,Ci.prototype.toString=Ci.prototype.toString,Ci.prototype.getBits=Ci.prototype.D,Ci.fromNumber=il,Ci.fromString=function sy(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return zs(sy(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=il(Math.pow(e,8)),i=Bu,c=0;c<n.length;c+=8){var p=Math.min(8,n.length-c),_=parseInt(n.substring(c,c+p),e);8>p?(p=il(Math.pow(e,p)),i=i.R(p).add(il(_))):i=(i=i.R(t)).add(il(_))}return i};var ay=Al.createWebChannelTransport=function(){return new pm},rh=Al.getStatEventTarget=function(){return $_()},tf=Al.ErrorCode=q_,cy=Al.EventType=sm,Hp=Al.Event=jh,ly=Al.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},vm=Al.FetchXmlHttpFactory=Io,nf=Al.WebChannel=aE,pE=Al.XhrIo=Ss,y0=Al.Md5=cu,Vu=Al.Integer=Ci;const uy="@firebase/firestore";class As{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}As.UNAUTHENTICATED=new As(null),As.GOOGLE_CREDENTIALS=new As("google-credentials-uid"),As.FIRST_PARTY=new As("first-party-uid"),As.MOCK_USER=new As("mock-user");let uu="9.23.0";const Eo=new Re.Yd("@firebase/firestore");function dy(){return Eo.logLevel}function Rt(n,...e){if(Eo.logLevel<=Re.in.DEBUG){const t=e.map(v0);Eo.debug(`Firestore (${uu}): ${n}`,...t)}}function io(n,...e){if(Eo.logLevel<=Re.in.ERROR){const t=e.map(v0);Eo.error(`Firestore (${uu}): ${n}`,...t)}}function mc(n,...e){if(Eo.logLevel<=Re.in.WARN){const t=e.map(v0);Eo.warn(`Firestore (${uu}): ${n}`,...t)}}function v0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function dn(n="Unexpected state"){const e=`FIRESTORE (${uu}) INTERNAL ASSERTION FAILED: `+n;throw io(e),new Error(e)}function Tn(n,e){n||dn()}function Wt(n,e){return n}const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class St extends fe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class so{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class hy{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $b{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(As.UNAUTHENTICATED))}shutdown(){}}class zb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class w0{constructor(e){this.t=e,this.currentUser=As.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let c=this.i;const p=H=>this.i!==c?(c=this.i,t(H)):Promise.resolve();let _=new so;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new so,e.enqueueRetryable(()=>p(this.currentUser))};const T=()=>{const H=_;e.enqueueRetryable((0,ue.Z)(function*(){yield H.promise,yield p(i.currentUser)}))},F=H=>{Rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(H=>F(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?F(H):(Rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new so)}},0),T()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Tn("string"==typeof i.accessToken),new hy(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Tn(null===e||"string"==typeof e),new As(e)}}class I0{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=As.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class rf{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new I0(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(As.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class E0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class T0{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=p=>{null!=p.error&&Rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const _=p.token!==this.T;return this.T=p.token,Rt("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?t(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>i(p))};const c=p=>{Rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.I.onInit(p=>c(p)),setTimeout(()=>{if(!this.appCheck){const p=this.I.getImmediate({optional:!0});p?c(p):Rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Tn("string"==typeof t.token),this.T=t.token,new E0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Wb(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class bm{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const c=Wb(40);for(let p=0;p<c.length;++p)i.length<20&&c[p]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(c[p]%62))}return i}}function Qn(n,e){return n<e?-1:n>e?1:0}function sf(n,e,t){return n.length===e.length&&n.every((i,c)=>t(i,e[c]))}class ms{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new St(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new St(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new St(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new St(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ms.fromMillis(Date.now())}static fromDate(e){return ms.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new ms(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qn(this.nanoseconds,e.nanoseconds):Qn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Mn(e)}static min(){return new Mn(new ms(0,0))}static max(){return new Mn(new ms(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Gp{constructor(e,t,i){void 0===t?t=0:t>e.length&&dn(),void 0===i?i=e.length-t:i>e.length-t&&dn(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Gp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gp?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let c=0;c<i;c++){const p=e.get(c),_=t.get(c);if(p<_)return-1;if(p>_)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class hr extends Gp{construct(e,t,i){return new hr(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new St(st.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(c=>c.length>0))}return new hr(t)}static emptyPath(){return new hr([])}}const fy=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qi extends Gp{construct(e,t,i){return new Qi(e,t,i)}static isValidIdentifier(e){return fy.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qi(["__name__"])}static fromServerFormat(e){const t=[];let i="",c=0;const p=()=>{if(0===i.length)throw new St(st.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let _=!1;for(;c<e.length;){const T=e[c];if("\\"===T){if(c+1===e.length)throw new St(st.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const F=e[c+1];if("\\"!==F&&"."!==F&&"`"!==F)throw new St(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=F,c+=2}else"`"===T?(_=!_,c++):"."!==T||_?(i+=T,c++):(p(),c++)}if(p(),_)throw new St(st.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qi(t)}static emptyPath(){return new Qi([])}}class Yt{constructor(e){this.path=e}static fromPath(e){return new Yt(hr.fromString(e))}static fromName(e){return new Yt(hr.fromString(e).popFirst(5))}static empty(){return new Yt(hr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===hr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return hr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Yt(new hr(e.slice()))}}function my(n){return new Wa(n.readTime,n.key,-1)}class Wa{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Wa(Mn.min(),Yt.empty(),-1)}static max(){return new Wa(Mn.max(),Yt.empty(),-1)}}function qa(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Yt.comparator(n.documentKey,e.documentKey),0!==t?t:Qn(n.largestBatchId,e.largestBatchId))}const dd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ih(n){return $p.apply(this,arguments)}function $p(){return $p=(0,ue.Z)(function*(n){if(n.code!==st.FAILED_PRECONDITION||n.message!==dd)throw n;Rt("LocalStore","Unexpectedly lost primary lease")}),$p.apply(this,arguments)}class qe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&dn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new qe((i,c)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(i,c)},this.catchCallback=p=>{this.wrapFailure(t,p).next(i,c)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof qe?t:qe.resolve(t)}catch(t){return qe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):qe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):qe.reject(t)}static resolve(e){return new qe((t,i)=>{t(e)})}static reject(e){return new qe((t,i)=>{i(e)})}static waitFor(e){return new qe((t,i)=>{let c=0,p=0,_=!1;e.forEach(T=>{++c,T.next(()=>{++p,_&&p===c&&t()},F=>i(F))}),_=!0,p===c&&t()})}static or(e){let t=qe.resolve(!1);for(const i of e)t=t.next(c=>c?qe.resolve(c):i());return t}static forEach(e,t){const i=[];return e.forEach((c,p)=>{i.push(t.call(this,c,p))}),this.waitFor(i)}static mapArray(e,t){return new qe((i,c)=>{const p=e.length,_=new Array(p);let T=0;for(let F=0;F<p;F++){const H=F;t(e[H]).next(te=>{_[H]=te,++T,T===p&&i(_)},te=>c(te))}})}static doWhile(e,t){return new qe((i,c)=>{const p=()=>{!0===e()?t().next(()=>{p()},c):i()};p()})}}function al(n){return"IndexedDbTransactionError"===n.name}let Ji=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=c=>this.ot(c),this.ut=c=>i.writeSequenceNumber(c))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function du(n){return null==n}function Pl(n){return 0===n&&1/n==-1/0}function Nt(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ft(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function jt(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class qt{constructor(e,t){this.comparator=e,this.root=t||Pn.EMPTY}insert(e,t){return new qt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pn.BLACK,null,null))}remove(e){return new qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const c=this.comparator(e,i.key);if(0===c)return t+i.left.size;c<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dn(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dn(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dn(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dn(this.root,e,this.comparator,!0)}}class Dn{constructor(e,t,i,c){this.isReverse=c,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=t?i(e.key,t):1,t&&c&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pn{constructor(e,t,i,c,p){this.key=e,this.value=t,this.color=i??Pn.RED,this.left=c??Pn.EMPTY,this.right=p??Pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,c,p){return new Pn(e??this.key,t??this.value,i??this.color,c??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let c=this;const p=i(e,c.key);return c=p<0?c.copy(null,null,null,c.left.insert(e,t,i),null):0===p?c.copy(null,t,null,null,null):c.copy(null,null,null,null,c.right.insert(e,t,i)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,c=this;if(t(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,t),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===t(e,c.key)){if(c.right.isEmpty())return Pn.EMPTY;i=c.right.min(),c=c.copy(i.key,i.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,t))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dn();const e=this.left.check();if(e!==this.right.check())throw dn();return e+(this.isRed()?0:1)}}Pn.EMPTY=null,Pn.RED=!0,Pn.BLACK=!1,Pn.EMPTY=new class{constructor(){this.size=0}get key(){throw dn()}get value(){throw dn()}get color(){throw dn()}get left(){throw dn()}get right(){throw dn()}copy(n,e,t,i,c){return this}insert(n,e,t){return new Pn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qt{constructor(e){this.comparator=e,this.data=new qt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const c=i.getNext();if(this.comparator(c.key,e[1])>=0)return;t(c.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dr(this.data.getIterator())}getIteratorFrom(e){return new dr(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const c=t.getNext().key,p=i.getNext().key;if(0!==this.comparator(c,p))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qt(this.comparator);return t.data=e,t}}class dr{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zn{constructor(e){this.fields=e,e.sort(Qi.comparator)}static empty(){return new zn([])}unionWith(e){let t=new Qt(Qi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sf(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Hr extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class er{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Hr("Invalid base64 string: "+c):c}}(e);return new er(t)}static fromUint8Array(e){const t=function(i){let c="";for(let p=0;p<i.length;++p)c+=String.fromCharCode(i[p]);return c}(e);return new er(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}er.EMPTY_BYTE_STRING=new er("");const Os=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(n){if(Tn(!!n),"string"==typeof n){let e=0;const t=Os.exec(n);if(Tn(!!t),t[1]){let c=t[1];c=(c+"000000000").substr(0,9),e=Number(c)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:_r(n.seconds),nanos:_r(n.nanos)}}function _r(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function $o(n){return"string"==typeof n?er.fromBase64String(n):er.fromUint8Array(n)}function Fc(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Jt(n){const e=n.mapValue.fields.__previous_value__;return Fc(e)?Jt(e):e}function gn(n){const e=Pi(n.mapValue.fields.__local_write_time__.timestampValue);return new ms(e.seconds,e.nanos)}class Gn{constructor(e,t,i,c,p,_,T,F,H){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=c,this.ssl=p,this.forceLongPolling=_,this.autoDetectLongPolling=T,this.longPollingOptions=F,this.useFetchStreams=H}}class sr{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new sr("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof sr&&e.projectId===this.projectId&&e.database===this.database}}const pi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ki(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Fc(n)?4:by(n)?9007199254740991:10:dn()}function _s(n,e){if(n===e)return!0;const t=ki(n);if(t!==ki(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return gn(n).isEqual(gn(e));case 3:return function(i,c){if("string"==typeof i.timestampValue&&"string"==typeof c.timestampValue&&i.timestampValue.length===c.timestampValue.length)return i.timestampValue===c.timestampValue;const p=Pi(i.timestampValue),_=Pi(c.timestampValue);return p.seconds===_.seconds&&p.nanos===_.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return c=e,$o(n.bytesValue).isEqual($o(c.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,c){return _r(i.geoPointValue.latitude)===_r(c.geoPointValue.latitude)&&_r(i.geoPointValue.longitude)===_r(c.geoPointValue.longitude)}(n,e);case 2:return function(i,c){if("integerValue"in i&&"integerValue"in c)return _r(i.integerValue)===_r(c.integerValue);if("doubleValue"in i&&"doubleValue"in c){const p=_r(i.doubleValue),_=_r(c.doubleValue);return p===_?Pl(p)===Pl(_):isNaN(p)&&isNaN(_)}return!1}(n,e);case 9:return sf(n.arrayValue.values||[],e.arrayValue.values||[],_s);case 10:return function(i,c){const p=i.mapValue.fields||{},_=c.mapValue.fields||{};if(Nt(p)!==Nt(_))return!1;for(const T in p)if(p.hasOwnProperty(T)&&(void 0===_[T]||!_s(p[T],_[T])))return!1;return!0}(n,e);default:return dn()}var c}function Qr(n,e){return void 0!==(n.values||[]).find(t=>_s(t,e))}function Wo(n,e){if(n===e)return 0;const t=ki(n),i=ki(e);if(t!==i)return Qn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qn(n.booleanValue,e.booleanValue);case 2:return function(c,p){const _=_r(c.integerValue||c.doubleValue),T=_r(p.integerValue||p.doubleValue);return _<T?-1:_>T?1:_===T?0:isNaN(_)?isNaN(T)?0:-1:1}(n,e);case 3:return hd(n.timestampValue,e.timestampValue);case 4:return hd(gn(n),gn(e));case 5:return Qn(n.stringValue,e.stringValue);case 6:return function(c,p){const _=$o(c),T=$o(p);return _.compareTo(T)}(n.bytesValue,e.bytesValue);case 7:return function(c,p){const _=c.split("/"),T=p.split("/");for(let F=0;F<_.length&&F<T.length;F++){const H=Qn(_[F],T[F]);if(0!==H)return H}return Qn(_.length,T.length)}(n.referenceValue,e.referenceValue);case 8:return function(c,p){const _=Qn(_r(c.latitude),_r(p.latitude));return 0!==_?_:Qn(_r(c.longitude),_r(p.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(c,p){const _=c.values||[],T=p.values||[];for(let F=0;F<_.length&&F<T.length;++F){const H=Wo(_[F],T[F]);if(H)return H}return Qn(_.length,T.length)}(n.arrayValue,e.arrayValue);case 10:return function(c,p){if(c===pi.mapValue&&p===pi.mapValue)return 0;if(c===pi.mapValue)return 1;if(p===pi.mapValue)return-1;const _=c.fields||{},T=Object.keys(_),F=p.fields||{},H=Object.keys(F);T.sort(),H.sort();for(let te=0;te<T.length&&te<H.length;++te){const pe=Qn(T[te],H[te]);if(0!==pe)return pe;const Ve=Wo(_[T[te]],F[H[te]]);if(0!==Ve)return Ve}return Qn(T.length,H.length)}(n.mapValue,e.mapValue);default:throw dn()}}function hd(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Qn(n,e);const t=Pi(n),i=Pi(e),c=Qn(t.seconds,i.seconds);return 0!==c?c:Qn(t.nanos,i.nanos)}function Fi(n){return To(n)}function To(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const c=Pi(i);return`time(${c.seconds},${c.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?$o(n.bytesValue).toBase64():"referenceValue"in n?Yt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let c="[",p=!0;for(const _ of i.values||[])p?p=!1:c+=",",c+=To(_);return c+"]"}(n.arrayValue):"mapValue"in n?function(i){const c=Object.keys(i.fields||{}).sort();let p="{",_=!0;for(const T of c)_?_=!1:p+=",",p+=`${T}:${To(i.fields[T])}`;return p+"}"}(n.mapValue):dn();var e}function cl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ll(n){return!!n&&"integerValue"in n}function fd(n){return!!n&&"arrayValue"in n}function Wp(n){return!!n&&"nullValue"in n}function vy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Cm(n){return!!n&&"mapValue"in n}function uf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ft(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=uf(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function by(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class qo{constructor(e){this.value=e}static empty(){return new qo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Cm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uf(t)}setAll(e){let t=Qi.emptyPath(),i={},c=[];e.forEach((_,T)=>{if(!t.isImmediateParentOf(T)){const F=this.getFieldsMap(t);this.applyChanges(F,i,c),i={},c=[],t=T.popLast()}_?i[T.lastSegment()]=uf(_):c.push(T.lastSegment())});const p=this.getFieldsMap(t);this.applyChanges(p,i,c)}delete(e){const t=this.field(e.popLast());Cm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _s(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let c=t.mapValue.fields[e.get(i)];Cm(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=c),t=c}return t.mapValue.fields}applyChanges(e,t,i){Ft(t,(c,p)=>e[c]=p);for(const c of i)delete e[c]}clone(){return new qo(uf(this.value))}}function wy(n){const e=[];return Ft(n.fields,(t,i)=>{const c=new Qi([t]);if(Cm(i)){const p=wy(i.mapValue).fields;if(0===p.length)e.push(c);else for(const _ of p)e.push(c.child(_))}else e.push(c)}),new zn(e)}class Si{constructor(e,t,i,c,p,_,T){this.key=e,this.documentType=t,this.version=i,this.readTime=c,this.createTime=p,this.data=_,this.documentState=T}static newInvalidDocument(e){return new Si(e,0,Mn.min(),Mn.min(),Mn.min(),qo.empty(),0)}static newFoundDocument(e,t,i,c){return new Si(e,1,t,Mn.min(),i,c,0)}static newNoDocument(e,t){return new Si(e,2,t,Mn.min(),Mn.min(),qo.empty(),0)}static newUnknownDocument(e,t){return new Si(e,3,t,Mn.min(),Mn.min(),qo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Mn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Si&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Si(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class kl{constructor(e,t){this.position=e,this.inclusive=t}}function Nm(n,e,t){let i=0;for(let c=0;c<n.position.length;c++){const p=e[c],_=n.position[c];if(i=p.field.isKeyField()?Yt.comparator(Yt.fromName(_.referenceValue),t.key):Wo(_,t.data.field(p.field)),"desc"===p.dir&&(i*=-1),0!==i)break}return i}function qp(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!_s(n.position[t],e.position[t]))return!1;return!0}class pd{constructor(e,t="asc"){this.field=e,this.dir=t}}function xD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class ew{}class Yr extends ew{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new gE(e,t,i):"array-contains"===t?new yE(e,i):"in"===t?new ow(e,i):"not-in"===t?new O0(e,i):"array-contains-any"===t?new hf(e,i):new Yr(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new mE(e,i):new _E(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Wo(t,this.value)):null!==t&&ki(this.value)===ki(t)&&this.matchesComparison(Wo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ai extends ew{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Ai(e,t)}matches(e){return Zp(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Zp(n){return"and"===n.op}function N0(n){return function nw(n){for(const e of n.filters)if(e instanceof Ai)return!1;return!0}(n)&&Zp(n)}function Iy(n){if(n instanceof Yr)return n.field.canonicalString()+n.op.toString()+Fi(n.value);if(N0(n))return n.filters.map(e=>Iy(e)).join(",");{const e=n.filters.map(t=>Iy(t)).join(",");return`${n.op}(${e})`}}function Ey(n,e){return n instanceof Yr?(t=n,(i=e)instanceof Yr&&t.op===i.op&&t.field.isEqual(i.field)&&_s(t.value,i.value)):n instanceof Ai?function(t,i){return i instanceof Ai&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((c,p,_)=>c&&Ey(p,i.filters[_]),!0)}(n,e):void dn();var t,i}function iw(n){return n instanceof Yr?`${(e=n).field.canonicalString()} ${e.op} ${Fi(e.value)}`:n instanceof Ai?function(e){return e.op.toString()+" {"+e.getFilters().map(iw).join(" ,")+"}"}(n):"Filter";var e}class gE extends Yr{constructor(e,t,i){super(e,t,i),this.key=Yt.fromName(i.referenceValue)}matches(e){const t=Yt.comparator(e.key,this.key);return this.matchesComparison(t)}}class mE extends Yr{constructor(e,t){super(e,"in",t),this.keys=sw(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class _E extends Yr{constructor(e,t){super(e,"not-in",t),this.keys=sw(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function sw(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Yt.fromName(i.referenceValue))}class yE extends Yr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fd(t)&&Qr(t.arrayValue,this.value)}}class ow extends Yr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Qr(this.value.arrayValue,t)}}class O0 extends Yr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Qr(this.value.arrayValue,t)}}class hf extends Yr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Qr(this.value.arrayValue,i))}}class RD{constructor(e,t=null,i=[],c=[],p=null,_=null,T=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=c,this.limit=p,this.startAt=_,this.endAt=T,this.dt=null}}function aw(n,e=null,t=[],i=[],c=null,p=null,_=null){return new RD(n,e,t,i,c,p,_)}function uh(n){const e=Wt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Iy(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(c=i).field.canonicalString()+c.dir;var c}).join(","),du(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Fi(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Fi(i)).join(",")),e.dt=t}return e.dt}function Gu(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!xD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Ey(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!qp(n.startAt,e.startAt)&&qp(n.endAt,e.endAt)}function Om(n){return Yt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ff{constructor(e,t=null,i=[],c=[],p=null,_="F",T=null,F=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=c,this.limit=p,this.limitType=_,this.startAt=T,this.endAt=F,this.wt=null,this._t=null}}function Mm(n){return new ff(n)}function cw(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function lw(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function oo(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function R0(n){return null!==n.collectionGroup}function Kp(n){const e=Wt(n);if(null===e.wt){e.wt=[];const t=oo(e),i=lw(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new pd(t)),e.wt.push(new pd(Qi.keyField(),"asc"));else{let c=!1;for(const p of e.explicitOrderBy)e.wt.push(p),p.field.isKeyField()&&(c=!0);if(!c){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new pd(Qi.keyField(),p))}}}return e.wt}function Lc(n){const e=Wt(n);if(!e._t)if("F"===e.limitType)e._t=aw(e.path,e.collectionGroup,Kp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const p of Kp(e))t.push(new pd(p.field,"desc"===p.dir?"asc":"desc"));const i=e.endAt?new kl(e.endAt.position,e.endAt.inclusive):null,c=e.startAt?new kl(e.startAt.position,e.startAt.inclusive):null;e._t=aw(e.path,e.collectionGroup,t,e.filters,e.limit,i,c)}return e._t}function P0(n,e){e.getFirstInequalityField(),oo(n);const t=n.filters.concat([e]);return new ff(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function k0(n,e,t){return new ff(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xm(n,e){return Gu(Lc(n),Lc(e))&&n.limitType===e.limitType}function uw(n){return`${uh(Lc(n))}|lt:${n.limitType}`}function pf(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>iw(i)).join(", ")}]`),du(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(c=i).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Fi(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Fi(i)).join(",")),`Target(${t})`}(Lc(n))}; limitType=${n.limitType})`}function Ty(n,e){return e.isFoundDocument()&&function(t,i){const c=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(c):Yt.isDocumentKey(t.path)?t.path.isEqual(c):t.path.isImmediateParentOf(c)}(n,e)&&function(t,i){for(const c of Kp(t))if(!c.field.isKeyField()&&null===i.data.field(c.field))return!1;return!0}(n,e)&&function(t,i){for(const c of t.filters)if(!c.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(c,p,_){const T=Nm(c,p,_);return c.inclusive?T<=0:T<0}(t.startAt,Kp(t),i)||t.endAt&&!function(c,p,_){const T=Nm(c,p,_);return c.inclusive?T>=0:T>0}(t.endAt,Kp(t),i)));var t,i}function dw(n){return(e,t)=>{let i=!1;for(const c of Kp(n)){const p=kD(c,e,t);if(0!==p)return p;i=i||c.field.isKeyField()}return 0}}function kD(n,e,t){const i=n.field.isKeyField()?Yt.comparator(e.key,t.key):function(c,p,_){const T=p.data.field(c),F=_.data.field(c);return null!==T&&null!==F?Wo(T,F):dn()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return dn()}}class gd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[c,p]of i)if(this.equalsFn(c,e))return p}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),c=this.inner[i];if(void 0===c)return this.inner[i]=[[e,t]],void this.innerSize++;for(let p=0;p<c.length;p++)if(this.equalsFn(c[p][0],e))return void(c[p]=[e,t]);c.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let c=0;c<i.length;c++)if(this.equalsFn(i[c][0],e))return 1===i.length?delete this.inner[t]:i.splice(c,1),this.innerSize--,!0;return!1}forEach(e){Ft(this.inner,(t,i)=>{for(const[c,p]of i)e(c,p)})}isEmpty(){return jt(this.inner)}size(){return this.innerSize}}const aS=new qt(Yt.comparator);function Bc(){return aS}const F0=new qt(Yt.comparator);function ul(...n){let e=F0;for(const t of n)e=e.insert(t.key,t);return e}function wE(n){let e=F0;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ju(){return Vc()}function $u(){return Vc()}function Vc(){return new gd(n=>n.toString(),(n,e)=>n.isEqual(e))}const zu=new qt(Yt.comparator),IE=new Qt(Yt.comparator);function Tr(...n){let e=IE;for(const t of n)e=e.add(t);return e}const FD=new Qt(Qn);function EE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pl(e)?"-0":e}}function TE(n){return{integerValue:""+n}}function L0(n,e){return function oh(n){return"number"==typeof n&&Number.isInteger(n)&&!Pl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?TE(e):EE(n,e)}class gf{constructor(){this._=void 0}}function LD(n,e,t){return n instanceof Rm?function(i,c){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return c&&Fc(c)&&(c=Jt(c)),c&&(p.fields.__previous_value__=c),{mapValue:p}}(t,e):n instanceof mf?fw(n,e):n instanceof md?SE(n,e):function(i,c){const p=CE(i,c),_=pw(p)+pw(i.gt);return ll(p)&&ll(i.gt)?TE(_):EE(i.serializer,_)}(n,e)}function DE(n,e,t){return n instanceof mf?fw(n,e):n instanceof md?SE(n,e):t}function CE(n,e){return n instanceof Yp?ll(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Rm extends gf{}class mf extends gf{constructor(e){super(),this.elements=e}}function fw(n,e){const t=gw(e);for(const i of n.elements)t.some(c=>_s(c,i))||t.push(i);return{arrayValue:{values:t}}}class md extends gf{constructor(e){super(),this.elements=e}}function SE(n,e){let t=gw(e);for(const i of n.elements)t=t.filter(c=>!_s(c,i));return{arrayValue:{values:t}}}class Yp extends gf{constructor(e,t){super(),this.serializer=e,this.gt=t}}function pw(n){return _r(n.integerValue||n.doubleValue)}function gw(n){return fd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Dy{constructor(e,t){this.field=e,this.transform=t}}class mw{constructor(e,t){this.version=e,this.transformResults=t}}class Xi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xi}static exists(e){return new Xi(void 0,e)}static updateTime(e){return new Xi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cy(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Pm{}function _w(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Fm(n.key,Xi.none()):new Qp(n.key,n.data,Xi.none());{const t=n.data,i=qo.empty();let c=new Qt(Qi.comparator);for(let p of e.fields)if(!c.has(p)){let _=t.field(p);null===_&&p.length>1&&(p=p.popLast(),_=t.field(p)),null===_?i.delete(p):i.set(p,_),c=c.add(p)}return new dh(n.key,i,new zn(c.toArray()),Xi.none())}}function AE(n,e,t){n instanceof Qp?function(i,c,p){const _=i.value.clone(),T=ME(i.fieldTransforms,c,p.transformResults);_.setAll(T),c.convertToFoundDocument(p.version,_).setHasCommittedMutations()}(n,e,t):n instanceof dh?function(i,c,p){if(!Cy(i.precondition,c))return void c.convertToUnknownDocument(p.version);const _=ME(i.fieldTransforms,c,p.transformResults),T=c.data;T.setAll(OE(i)),T.setAll(_),c.convertToFoundDocument(p.version,T).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function km(n,e,t,i){return n instanceof Qp?function(c,p,_,T){if(!Cy(c.precondition,p))return _;const F=c.value.clone(),H=xE(c.fieldTransforms,T,p);return F.setAll(H),p.convertToFoundDocument(p.version,F).setHasLocalMutations(),null}(n,e,t,i):n instanceof dh?function(c,p,_,T){if(!Cy(c.precondition,p))return _;const F=xE(c.fieldTransforms,T,p),H=p.data;return H.setAll(OE(c)),H.setAll(F),p.convertToFoundDocument(p.version,H).setHasLocalMutations(),null===_?null:_.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(te=>te.field))}(n,e,t,i):(_=t,Cy(n.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):_);var p,_}function NE(n,e){let t=null;for(const i of n.fieldTransforms){const c=e.data.field(i.field),p=CE(i.transform,c||null);null!=p&&(null===t&&(t=qo.empty()),t.set(i.field,p))}return t||null}function yw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&sf(t,i,(c,p)=>function BD(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof mf&&i instanceof mf||t instanceof md&&i instanceof md?sf(t.elements,i.elements,_s):t instanceof Yp&&i instanceof Yp?_s(t.gt,i.gt):t instanceof Rm&&i instanceof Rm);var t,i}(c,p))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Qp extends Pm{constructor(e,t,i,c=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class dh extends Pm{constructor(e,t,i,c,p=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=c,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function OE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function ME(n,e,t){const i=new Map;Tn(n.length===t.length);for(let c=0;c<t.length;c++){const p=n[c],_=p.transform,T=e.data.field(p.field);i.set(p.field,DE(_,T,t[c]))}return i}function xE(n,e,t){const i=new Map;for(const c of n){const p=c.transform,_=t.data.field(c.field);i.set(c.field,LD(p,_,e))}return i}class Fm extends Pm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vw extends Pm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bw{constructor(e,t,i,c){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=c}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let c=0;c<this.mutations.length;c++){const p=this.mutations[c];p.key.isEqual(e.key)&&AE(p,e,i[c])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=km(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=km(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=$u();return this.mutations.forEach(c=>{const p=e.get(c.key),_=p.overlayedDocument;let T=this.applyToLocalView(_,p.mutatedFields);T=t.has(c.key)?null:T;const F=_w(_,T);null!==F&&i.set(c.key,F),_.isValidDocument()||_.convertToNoDocument(Mn.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Tr())}isEqual(e){return this.batchId===e.batchId&&sf(this.mutations,e.mutations,(t,i)=>yw(t,i))&&sf(this.baseMutations,e.baseMutations,(t,i)=>yw(t,i))}}class ww{constructor(e,t,i,c){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=c}static from(e,t,i){Tn(e.mutations.length===i.length);let c=zu;const p=e.mutations;for(let _=0;_<p.length;_++)c=c.insert(p[_].key,i[_].version);return new ww(e,t,i,c)}}class Iw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class UD{constructor(e,t){this.count=e,this.unchangedNames=t}}var Zo,ni;function PE(n){if(void 0===n)return io("GRPC error has no .code"),st.UNKNOWN;switch(n){case Zo.OK:return st.OK;case Zo.CANCELLED:return st.CANCELLED;case Zo.UNKNOWN:return st.UNKNOWN;case Zo.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case Zo.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case Zo.INTERNAL:return st.INTERNAL;case Zo.UNAVAILABLE:return st.UNAVAILABLE;case Zo.UNAUTHENTICATED:return st.UNAUTHENTICATED;case Zo.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case Zo.NOT_FOUND:return st.NOT_FOUND;case Zo.ALREADY_EXISTS:return st.ALREADY_EXISTS;case Zo.PERMISSION_DENIED:return st.PERMISSION_DENIED;case Zo.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case Zo.ABORTED:return st.ABORTED;case Zo.OUT_OF_RANGE:return st.OUT_OF_RANGE;case Zo.UNIMPLEMENTED:return st.UNIMPLEMENTED;case Zo.DATA_LOSS:return st.DATA_LOSS;default:return dn()}}(ni=Zo||(Zo={}))[ni.OK=0]="OK",ni[ni.CANCELLED=1]="CANCELLED",ni[ni.UNKNOWN=2]="UNKNOWN",ni[ni.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ni[ni.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ni[ni.NOT_FOUND=5]="NOT_FOUND",ni[ni.ALREADY_EXISTS=6]="ALREADY_EXISTS",ni[ni.PERMISSION_DENIED=7]="PERMISSION_DENIED",ni[ni.UNAUTHENTICATED=16]="UNAUTHENTICATED",ni[ni.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ni[ni.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ni[ni.ABORTED=10]="ABORTED",ni[ni.OUT_OF_RANGE=11]="OUT_OF_RANGE",ni[ni.UNIMPLEMENTED=12]="UNIMPLEMENTED",ni[ni.INTERNAL=13]="INTERNAL",ni[ni.UNAVAILABLE=14]="UNAVAILABLE",ni[ni.DATA_LOSS=15]="DATA_LOSS";class Ew{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return B0}static getOrCreateInstance(){return null===B0&&(B0=new Ew),B0}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let B0=null;const FE=new Vu([4294967295,4294967295],0);function Tw(n){const e=function kE(){return new TextEncoder}().encode(n),t=new y0;return t.update(e),new Uint8Array(t.digest())}function Dw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),c=e.getUint32(8,!0),p=e.getUint32(12,!0);return[new Vu([t,i],0),new Vu([c,p],0)]}class V0{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Lm(`Invalid padding: ${t}`);if(i<0)throw new Lm(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Lm(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Lm(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Vu.fromNumber(this.It)}Et(e,t,i){let c=e.add(t.multiply(Vu.fromNumber(i)));return 1===c.compare(FE)&&(c=new Vu([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Tw(e),[i,c]=Dw(t);for(let p=0;p<this.hashCount;p++){const _=this.Et(i,c,p);if(!this.At(_))return!1}return!0}static create(e,t,i){const c=e%8==0?0:8-e%8,p=new Uint8Array(Math.ceil(e/8)),_=new V0(p,c,t);return i.forEach(T=>_.insert(T)),_}insert(e){if(0===this.It)return;const t=Tw(e),[i,c]=Dw(t);for(let p=0;p<this.hashCount;p++){const _=this.Et(i,c,p);this.Rt(_)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Lm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Bm{constructor(e,t,i,c,p){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=c,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const c=new Map;return c.set(e,Vm.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Bm(Mn.min(),c,new qt(Qn),Bc(),Tr())}}class Vm{constructor(e,t,i,c,p){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=c,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Vm(i,t,Tr(),Tr(),Tr())}}class Sy{constructor(e,t,i,c){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=c}}class Cw{constructor(e,t){this.targetId=e,this.Vt=t}}class U0{constructor(e,t,i=er.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=c}}class Sw{constructor(){this.St=0,this.Dt=BE(),this.Ct=er.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Tr(),t=Tr(),i=Tr();return this.Dt.forEach((c,p)=>{switch(p){case 0:e=e.add(c);break;case 2:t=t.add(c);break;case 1:i=i.add(c);break;default:dn()}}),new Vm(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=BE()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Jp{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Bc(),this.zt=LE(),this.Wt=new qt(Qn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:dn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,c)=>{this.te(c)&&t(c)})}ne(e){var t;const i=e.targetId,c=e.Vt.count,p=this.se(i);if(p){const _=p.target;if(Om(_))if(0===c){const T=new Yt(_.path);this.Yt(i,T,Si.newNoDocument(T,Mn.min()))}else Tn(1===c);else{const T=this.ie(i);if(T!==c){const F=this.re(e,T);0!==F&&(this.ee(i),this.Wt=this.Wt.insert(i,2===F?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Ew.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(H,te,pe){var Ve,ut,Lt,sn,cn,Dr;const Xr={localCacheCount:te,existenceFilterCount:pe.count},Lr=pe.unchangedNames;return Lr&&(Xr.bloomFilter={applied:0===H,hashCount:null!==(Ve=Lr?.hashCount)&&void 0!==Ve?Ve:0,bitmapLength:null!==(sn=null===(Lt=null===(ut=Lr?.bits)||void 0===ut?void 0:ut.bitmap)||void 0===Lt?void 0:Lt.length)&&void 0!==sn?sn:0,padding:null!==(Dr=null===(cn=Lr?.bits)||void 0===cn?void 0:cn.padding)&&void 0!==Dr?Dr:0}),Xr}(F,T,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:c}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:p="",padding:_=0},hashCount:T=0}=i;let F,H;try{F=$o(p).toUint8Array()}catch(te){if(te instanceof Hr)return mc("Decoding the base64 bloom filter in existence filter failed ("+te.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw te}try{H=new V0(F,_,T)}catch(te){return mc(te instanceof Lm?"BloomFilter error: ":"Applying bloom filter failed: ",te),1}return 0===H.It?1:c!==t-this.oe(e.targetId,H)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let c=0;return i.forEach(p=>{const _=this.Gt.ue(),T=`projects/${_.projectId}/databases/${_.database}/documents/${p.path.canonicalString()}`;t.vt(T)||(this.Yt(e,p,null),c++)}),c}ce(e){const t=new Map;this.Qt.forEach((p,_)=>{const T=this.se(_);if(T){if(p.current&&Om(T.target)){const F=new Yt(T.target.path);null!==this.jt.get(F)||this.ae(_,F)||this.Yt(_,F,Si.newNoDocument(F,e))}p.Mt&&(t.set(_,p.Ot()),p.Ft())}});let i=Tr();this.zt.forEach((p,_)=>{let T=!0;_.forEachWhile(F=>{const H=this.se(F);return!H||"TargetPurposeLimboResolution"===H.purpose||(T=!1,!1)}),T&&(i=i.add(p))}),this.jt.forEach((p,_)=>_.setReadTime(e));const c=new Bm(e,t,this.Wt,this.jt,i);return this.jt=Bc(),this.zt=LE(),this.Wt=new qt(Qn),c}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const c=this.Zt(e);this.ae(e,t)?c.Bt(t,1):c.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Sw,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Qt(Qn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Rt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Sw),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function LE(){return new qt(Yt.comparator)}function BE(){return new qt(Yt.comparator)}const Um={asc:"ASCENDING",desc:"DESCENDING"},cS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Aw={and:"AND",or:"OR"};class lS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function H0(n,e){return n.useProto3Json||du(e)?e:{value:e}}function Xp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HD(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Hm(n,e){return Xp(n,e.toTimestamp())}function Do(n){return Tn(!!n),Mn.fromTimestamp(function(e){const t=Pi(e);return new ms(t.seconds,t.nanos)}(n))}function Nw(n,e){return(t=n,new hr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function VE(n){const e=hr.fromString(n);return Tn($m(e)),e}function _d(n,e){return Nw(n.databaseId,e.path)}function yd(n,e){const t=VE(e);if(t.get(1)!==n.databaseId.projectId)throw new St(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new St(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Yt(GD(t))}function Gm(n,e){return Nw(n.databaseId,e)}function Oa(n){return new hr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function GD(n){return Tn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Ow(n,e,t){return{name:_d(n,e),fields:t.value.mapValue.fields}}function GE(n,e){return{documents:[Gm(n,e.path)]}}function xw(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Gm(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Gm(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const c=function(F){if(0!==F.length)return Rw(Ai.create(F,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const p=function(F){if(0!==F.length)return F.map(H=>{return{field:hh((te=H).field),direction:$D(te.dir)};var te})}(e.orderBy);p&&(t.structuredQuery.orderBy=p);const _=H0(n,e.limit);var T,F;return null!==_&&(t.structuredQuery.limit=_),e.startAt&&(t.structuredQuery.startAt={before:(T=e.startAt).inclusive,values:T.position}),e.endAt&&(t.structuredQuery.endAt={before:!(F=e.endAt).inclusive,values:F.position}),t}function jE(n){let e=function Ay(n){const e=VE(n);return 4===e.length?hr.emptyPath():GD(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let c=null;if(i>0){Tn(1===i);const te=t.from[0];te.allDescendants?c=te.collectionId:e=e.child(te.collectionId)}let p=[];t.where&&(p=function(te){const pe=$E(te);return pe instanceof Ai&&N0(pe)?pe.getFilters():[pe]}(t.where));let _=[];t.orderBy&&(_=t.orderBy.map(te=>{return new pd(eg((pe=te).field),function(Ve){switch(Ve){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(pe.direction));var pe}));let T=null;t.limit&&(T=function(te){let pe;return pe="object"==typeof te?te.value:te,du(pe)?null:pe}(t.limit));let F=null;var te;t.startAt&&(F=new kl((te=t.startAt).values||[],!!te.before));let H=null;return t.endAt&&(H=function(te){return new kl(te.values||[],!te.before)}(t.endAt)),function vE(n,e,t,i,c,p,_,T){return new ff(n,e,t,i,c,p,_,T)}(e,c,_,p,T,"F",F,H)}function $E(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=eg(e.unaryFilter.field);return Yr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=eg(e.unaryFilter.field);return Yr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=eg(e.unaryFilter.field);return Yr.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=eg(e.unaryFilter.field);return Yr.create(p,"!=",{nullValue:"NULL_VALUE"});default:return dn()}}(n):void 0!==n.fieldFilter?Yr.create(eg((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Ai.create(e.compositeFilter.filters.map(t=>$E(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return dn()}}(e.compositeFilter.op))}(n):dn();var e}function $D(n){return Um[n]}function zD(n){return cS[n]}function j0(n){return Aw[n]}function hh(n){return{fieldPath:n.canonicalString()}}function eg(n){return Qi.fromServerFormat(n.fieldPath)}function Rw(n){return n instanceof Yr?function(e){if("=="===e.op){if(vy(e.value))return{unaryFilter:{field:hh(e.field),op:"IS_NAN"}};if(Wp(e.value))return{unaryFilter:{field:hh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(vy(e.value))return{unaryFilter:{field:hh(e.field),op:"IS_NOT_NAN"}};if(Wp(e.value))return{unaryFilter:{field:hh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hh(e.field),op:zD(e.op),value:e.value}}}(n):n instanceof Ai?function(e){const t=e.getFilters().map(i=>Rw(i));return 1===t.length?t[0]:{compositeFilter:{op:j0(e.op),filters:t}}}(n):dn()}function WD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function $m(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Fl{constructor(e,t,i,c,p=Mn.min(),_=Mn.min(),T=er.EMPTY_BYTE_STRING,F=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=c,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=T,this.expectedCount=F}withSequenceNumber(e){return new Fl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class zE{constructor(e){this.fe=e}}function Pw(n){const e=jE({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?k0(e,e.limit,"L"):e}class vf{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(_r(e.integerValue));else if("doubleValue"in e){const i=_r(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),Pl(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae($o(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?by(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):dn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const c of Object.keys(i))this.Te(c,t),this.me(i[c],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const c of i)this.me(c,t)}ve(e,t){this.ye(t,37),Yt.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}vf.Ve=new vf;class tC{constructor(){this.rn=new Z0}addToCollectionParentIndex(e,t){return this.rn.add(t),qe.resolve()}getCollectionParents(e,t){return qe.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return qe.resolve()}deleteFieldIndex(e,t){return qe.resolve()}getDocumentsMatchingTarget(e,t){return qe.resolve(null)}getIndexType(e,t){return qe.resolve(0)}getFieldIndexes(e,t){return qe.resolve([])}getNextCollectionGroupToUpdate(e){return qe.resolve(null)}getMinOffset(e,t){return qe.resolve(Wa.min())}getMinOffsetFromCollectionGroup(e,t){return qe.resolve(Wa.min())}updateCollectionGroup(e,t,i){return qe.resolve()}updateIndexEntries(e,t){return qe.resolve()}}class Z0{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),c=this.index[t]||new Qt(hr.comparator),p=!c.has(i);return this.index[t]=c.add(i),p}has(e){const t=e.lastSegment(),i=e.popLast(),c=this.index[t];return c&&c.has(i)}getEntries(e){return(this.index[e]||new Qt(hr.comparator)).toArray()}}new Uint8Array(0);class _c{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new _c(e,_c.DEFAULT_COLLECTION_PERCENTILE,_c.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}_c.DEFAULT_COLLECTION_PERCENTILE=10,_c.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_c.DEFAULT=new _c(41943040,_c.DEFAULT_COLLECTION_PERCENTILE,_c.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_c.DISABLED=new _c(-1,0,0);class wf{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new wf(0)}static Mn(){return new wf(-1)}}class iC{constructor(){this.changes=new gd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Si.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?qe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $w{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class X0{constructor(e,t,i,c){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=c}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(c=>(i=c,this.remoteDocumentCache.getEntry(e,t))).next(c=>(null!==i&&km(i.mutation,c,zn.empty(),ms.now()),c))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Tr()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Tr()){const c=ju();return this.populateOverlays(e,c,t).next(()=>this.computeViews(e,t,c,i).next(p=>{let _=ul();return p.forEach((T,F)=>{_=_.insert(T,F.overlayedDocument)}),_}))}getOverlayedDocuments(e,t){const i=ju();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Tr()))}populateOverlays(e,t,i){const c=[];return i.forEach(p=>{t.has(p)||c.push(p)}),this.documentOverlayCache.getOverlays(e,c).next(p=>{p.forEach((_,T)=>{t.set(_,T)})})}computeViews(e,t,i,c){let p=Bc();const _=Vc(),T=Vc();return t.forEach((F,H)=>{const te=i.get(H.key);c.has(H.key)&&(void 0===te||te.mutation instanceof dh)?p=p.insert(H.key,H):void 0!==te?(_.set(H.key,te.mutation.getFieldMask()),km(te.mutation,H,te.mutation.getFieldMask(),ms.now())):_.set(H.key,zn.empty())}),this.recalculateAndSaveOverlays(e,p).next(F=>(F.forEach((H,te)=>_.set(H,te)),t.forEach((H,te)=>{var pe;return T.set(H,new $w(te,null!==(pe=_.get(H))&&void 0!==pe?pe:null))}),T))}recalculateAndSaveOverlays(e,t){const i=Vc();let c=new qt((_,T)=>_-T),p=Tr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(_=>{for(const T of _)T.keys().forEach(F=>{const H=t.get(F);if(null===H)return;let te=i.get(F)||zn.empty();te=T.applyToLocalView(H,te),i.set(F,te);const pe=(c.get(T.batchId)||Tr()).add(F);c=c.insert(T.batchId,pe)})}).next(()=>{const _=[],T=c.getReverseIterator();for(;T.hasNext();){const F=T.getNext(),H=F.key,te=F.value,pe=$u();te.forEach(Ve=>{if(!p.has(Ve)){const ut=_w(t.get(Ve),i.get(Ve));null!==ut&&pe.set(Ve,ut),p=p.add(Ve)}}),_.push(this.documentOverlayCache.saveOverlays(e,H,pe))}return qe.waitFor(_)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Yt.isDocumentKey((c=t).path)&&null===c.collectionGroup&&0===c.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):R0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var c}getNextDocuments(e,t,i,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,c).next(p=>{const _=c-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,c-p.size):qe.resolve(ju());let T=-1,F=p;return _.next(H=>qe.forEach(H,(te,pe)=>(T<pe.largestBatchId&&(T=pe.largestBatchId),p.get(te)?qe.resolve():this.remoteDocumentCache.getEntry(e,te).next(Ve=>{F=F.insert(te,Ve)}))).next(()=>this.populateOverlays(e,H,p)).next(()=>this.computeViews(e,F,H,Tr())).next(te=>({batchId:T,changes:wE(te)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Yt(t)).next(i=>{let c=ul();return i.isFoundDocument()&&(c=c.insert(i.key,i)),c})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const c=t.collectionGroup;let p=ul();return this.indexManager.getCollectionParents(e,c).next(_=>qe.forEach(_,T=>{const F=(H=t,te=T.child(c),new ff(te,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,te;return this.getDocumentsMatchingCollectionQuery(e,F,i).next(H=>{H.forEach((te,pe)=>{p=p.insert(te,pe)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,t,i){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,c))).next(p=>{c.forEach((T,F)=>{const H=F.getKey();null===p.get(H)&&(p=p.insert(H,Si.newInvalidDocument(H)))});let _=ul();return p.forEach((T,F)=>{const H=c.get(T);void 0!==H&&km(H.mutation,F,zn.empty(),ms.now()),Ty(t,F)&&(_=_.insert(T,F))}),_})}}class cC{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return qe.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:Do(i.createTime)}),qe.resolve()}getNamedQuery(e,t){return qe.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:Pw(i.bundledQuery),readTime:Do(i.readTime)}),qe.resolve();var i}}class aT{constructor(){this.overlays=new qt(Yt.comparator),this.ls=new Map}getOverlay(e,t){return qe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ju();return qe.forEach(t,c=>this.getOverlay(e,c).next(p=>{null!==p&&i.set(c,p)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((c,p)=>{this.we(e,t,p)}),qe.resolve()}removeOverlaysForBatchId(e,t,i){const c=this.ls.get(i);return void 0!==c&&(c.forEach(p=>this.overlays=this.overlays.remove(p)),this.ls.delete(i)),qe.resolve()}getOverlaysForCollection(e,t,i){const c=ju(),p=t.length+1,_=new Yt(t.child("")),T=this.overlays.getIteratorFrom(_);for(;T.hasNext();){const F=T.getNext().value,H=F.getKey();if(!t.isPrefixOf(H.path))break;H.path.length===p&&F.largestBatchId>i&&c.set(F.getKey(),F)}return qe.resolve(c)}getOverlaysForCollectionGroup(e,t,i,c){let p=new qt((H,te)=>H-te);const _=this.overlays.getIterator();for(;_.hasNext();){const H=_.getNext().value;if(H.getKey().getCollectionGroup()===t&&H.largestBatchId>i){let te=p.get(H.largestBatchId);null===te&&(te=ju(),p=p.insert(H.largestBatchId,te)),te.set(H.getKey(),H)}}const T=ju(),F=p.getIterator();for(;F.hasNext()&&(F.getNext().value.forEach((H,te)=>T.set(H,te)),!(T.size()>=c)););return qe.resolve(T)}we(e,t,i){const c=this.overlays.get(i.key);if(null!==c){const _=this.ls.get(c.largestBatchId).delete(i.key);this.ls.set(c.largestBatchId,_)}this.overlays=this.overlays.insert(i.key,new Iw(t,i));let p=this.ls.get(t);void 0===p&&(p=Tr(),this.ls.set(t,p)),this.ls.set(t,p.add(i.key))}}class e1{constructor(){this.fs=new Qt(Ma.ds),this.ws=new Qt(Ma._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Ma(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Ma(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new Yt(new hr([])),i=new Ma(t,e),c=new Ma(t,e+1),p=[];return this.ws.forEachInRange([i,c],_=>{this.ys(_),p.push(_.key)}),p}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Yt(new hr([])),i=new Ma(t,e),c=new Ma(t,e+1);let p=Tr();return this.ws.forEachInRange([i,c],_=>{p=p.add(_.key)}),p}containsKey(e){const t=new Ma(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Ma{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Yt.comparator(e.key,t.key)||Qn(e.As,t.As)}static _s(e,t){return Qn(e.As,t.As)||Yt.comparator(e.key,t.key)}}class cT{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Qt(Ma.ds)}checkEmpty(e){return qe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,c){const p=this.vs;this.vs++;const _=new bw(p,t,i,c);this.mutationQueue.push(_);for(const T of c)this.Rs=this.Rs.add(new Ma(T.key,p)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return qe.resolve(_)}lookupMutationBatch(e,t){return qe.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const c=this.bs(t+1),p=c<0?0:c;return qe.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return qe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ma(t,0),c=new Ma(t,Number.POSITIVE_INFINITY),p=[];return this.Rs.forEachInRange([i,c],_=>{const T=this.Ps(_.As);p.push(T)}),qe.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Qt(Qn);return t.forEach(c=>{const p=new Ma(c,0),_=new Ma(c,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([p,_],T=>{i=i.add(T.As)})}),qe.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,c=i.length+1;let p=i;Yt.isDocumentKey(p)||(p=p.child(""));const _=new Ma(new Yt(p),0);let T=new Qt(Qn);return this.Rs.forEachWhile(F=>{const H=F.key.path;return!!i.isPrefixOf(H)&&(H.length===c&&(T=T.add(F.As)),!0)},_),qe.resolve(this.Vs(T))}Vs(e){const t=[];return e.forEach(i=>{const c=this.Ps(i);null!==c&&t.push(c)}),t}removeMutationBatch(e,t){Tn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return qe.forEach(t.mutations,c=>{const p=new Ma(c.key,t.batchId);return i=i.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Ma(t,0),c=this.Rs.firstAfterOrEqual(i);return qe.resolve(t.isEqual(c&&c.key))}performConsistencyCheck(e){return qe.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class zw{constructor(e){this.Ds=e,this.docs=new qt(Yt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,c=this.docs.get(i),p=c?c.size:0,_=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:_}),this.size+=_-p,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return qe.resolve(i?i.document.mutableCopy():Si.newInvalidDocument(t))}getEntries(e,t){let i=Bc();return t.forEach(c=>{const p=this.docs.get(c);i=i.insert(c,p?p.document.mutableCopy():Si.newInvalidDocument(c))}),qe.resolve(i)}getDocumentsMatchingQuery(e,t,i,c){let p=Bc();const _=t.path,T=new Yt(_.child("")),F=this.docs.getIteratorFrom(T);for(;F.hasNext();){const{key:H,value:{document:te}}=F.getNext();if(!_.isPrefixOf(H.path))break;H.path.length>_.length+1||qa(my(te),i)<=0||(c.has(te.key)||Ty(t,te))&&(p=p.insert(te.key,te.mutableCopy()))}return qe.resolve(p)}getAllFromCollectionGroup(e,t,i,c){dn()}Cs(e,t){return qe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new lT(this)}getSize(e){return qe.resolve(this.size)}}class lT extends iC{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,c)=>{c.isValidDocument()?t.push(this.os.addEntry(e,c)):this.os.removeEntry(i)}),qe.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class uT{constructor(e){this.persistence=e,this.xs=new gd(t=>uh(t),Gu),this.lastRemoteSnapshotVersion=Mn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new e1,this.targetCount=0,this.Ms=wf.kn()}forEachTarget(e,t){return this.xs.forEach((i,c)=>t(c)),qe.resolve()}getLastRemoteSnapshotVersion(e){return qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return qe.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),qe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),qe.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new wf(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,qe.resolve()}updateTargetData(e,t){return this.Fn(t),qe.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,qe.resolve()}removeTargets(e,t,i){let c=0;const p=[];return this.xs.forEach((_,T)=>{T.sequenceNumber<=t&&null===i.get(T.targetId)&&(this.xs.delete(_),p.push(this.removeMatchingKeysForTargetId(e,T.targetId)),c++)}),qe.waitFor(p).next(()=>c)}getTargetCount(e){return qe.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return qe.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),qe.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const c=this.persistence.referenceDelegate,p=[];return c&&t.forEach(_=>{p.push(c.markPotentiallyOrphaned(e,_))}),qe.waitFor(p)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),qe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return qe.resolve(i)}containsKey(e,t){return qe.resolve(this.ks.containsKey(t))}}class t1{constructor(e,t){this.$s={},this.overlays={},this.Os=new Ji(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new uT(this),this.indexManager=new tC,this.remoteDocumentCache=new zw(i=>this.referenceDelegate.Ls(i)),this.serializer=new zE(t),this.qs=new cC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new aT,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new cT(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){Rt("MemoryPersistence","Starting transaction:",e);const c=new dT(this.Os.next());return this.referenceDelegate.Us(),i(c).next(p=>this.referenceDelegate.Ks(c).next(()=>p)).toPromise().then(p=>(c.raiseOnCommittedEvent(),p))}Gs(e,t){return qe.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class dT extends Zb{constructor(e){super(),this.currentSequenceNumber=e}}class n1{constructor(e){this.persistence=e,this.Qs=new e1,this.js=null}static zs(e){return new n1(e)}get Ws(){if(this.js)return this.js;throw dn()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),qe.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),qe.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),qe.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(c=>this.Ws.add(c.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(c=>{c.forEach(p=>this.Ws.add(p.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qe.forEach(this.Ws,i=>{const c=Yt.fromPath(i);return this.Hs(e,c).next(p=>{p||t.removeEntry(c,Mn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return qe.or([()=>qe.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class pT{constructor(e,t,i,c){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=c}static Li(e,t){let i=Tr(),c=Tr();for(const p of t.docChanges)switch(p.type){case 0:i=i.add(p.doc.key);break;case 1:c=c.add(p.doc.key)}return new pT(e,t.fromCache,i,c)}}class gT{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,c){return this.Ki(e,t).next(p=>p||this.Gi(e,t,c,i)).next(p=>p||this.Qi(e,t))}Ki(e,t){if(cw(t))return qe.resolve(null);let i=Lc(t);return this.indexManager.getIndexType(e,i).next(c=>0===c?null:(null!==t.limit&&1===c&&(t=k0(t,null,"F"),i=Lc(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(p=>{const _=Tr(...p);return this.Ui.getDocuments(e,_).next(T=>this.indexManager.getMinOffset(e,i).next(F=>{const H=this.ji(t,T);return this.zi(t,H,_,F.readTime)?this.Ki(e,k0(t,null,"F")):this.Wi(e,H,t,F)}))})))}Gi(e,t,i,c){return cw(t)||c.isEqual(Mn.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(p=>{const _=this.ji(t,p);return this.zi(t,_,i,c)?this.Qi(e,t):(dy()<=Re.in.DEBUG&&Rt("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),pf(t)),this.Wi(e,_,t,function gy(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,c=Mn.fromTimestamp(1e9===i?new ms(t+1,0):new ms(t,i));return new Wa(c,Yt.empty(),e)}(c,-1)))})}ji(e,t){let i=new Qt(dw(e));return t.forEach((c,p)=>{Ty(e,p)&&(i=i.add(p))}),i}zi(e,t,i,c){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const p="F"===e.limitType?t.last():t.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(c)>0)}Qi(e,t){return dy()<=Re.in.DEBUG&&Rt("QueryEngine","Using full collection scan to execute query:",pf(t)),this.Ui.getDocumentsMatchingQuery(e,t,Wa.min())}Wi(e,t,i,c){return this.Ui.getDocumentsMatchingQuery(e,i,c).next(p=>(t.forEach(_=>{p=p.insert(_.key,_)}),p))}}class uC{constructor(e,t,i,c){this.persistence=e,this.Hi=t,this.serializer=c,this.Ji=new qt(Qn),this.Yi=new gd(p=>uh(p),Gu),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new X0(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function qw(n,e){return o1.apply(this,arguments)}function o1(){return o1=(0,ue.Z)(function*(n,e){const t=Wt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let c;return t.mutationQueue.getAllMutationBatches(i).next(p=>(c=p,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(p=>{const _=[],T=[];let F=Tr();for(const H of c){_.push(H.batchId);for(const te of H.mutations)F=F.add(te.key)}for(const H of p){T.push(H.batchId);for(const te of H.mutations)F=F.add(te.key)}return t.localDocuments.getDocuments(i,F).next(H=>({er:H,removedBatchIds:_,addedBatchIds:T}))})})}),o1.apply(this,arguments)}function yT(n){const e=Wt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function hC(n,e){const t=Wt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function t_(n,e,t){return rg.apply(this,arguments)}function rg(){return rg=(0,ue.Z)(function*(n,e,t){const i=Wt(n),c=i.Ji.get(e),p=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",p,_=>i.persistence.referenceDelegate.removeTarget(_,c)))}catch(_){if(!al(_))throw _;Rt("LocalStore",`Failed to update sequence numbers for target ${e}: ${_}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(c.target)}),rg.apply(this,arguments)}function Ly(n,e,t){const i=Wt(n);let c=Mn.min(),p=Tr();return i.persistence.runTransaction("Execute query","readonly",_=>function(T,F,H){const te=Wt(T),pe=te.Yi.get(H);return void 0!==pe?qe.resolve(te.Ji.get(pe)):te.Bs.getTargetData(F,H)}(i,_,Lc(e)).next(T=>{if(T)return c=T.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(_,T.targetId).next(F=>{p=F})}).next(()=>i.Hi.getDocumentsMatchingQuery(_,e,t?c:Mn.min(),t?p:Tr())).next(T=>(function Yw(n,e,t){let i=n.Xi.get(e)||Mn.min();t.forEach((c,p)=>{p.readTime.compareTo(i)>0&&(i=p.readTime)}),n.Xi.set(e,i)}(i,function bE(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),T),{documents:T,ir:p})))}class Jw{constructor(){this.activeTargetIds=function hw(){return FD}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IT{constructor(){this.Hr=new Jw,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Jw,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dS{Yr(e){}shutdown(){}}class ET{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Rt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Rt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Xw=null;function sg(){return null===Xw?Xw=268435456+Math.round(2147483648*Math.random()):Xw++,"0x"+Xw.toString(16)}const gC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mC{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const yc="WebChannelConnection";class d1 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,c,p){const _=sg(),T=this.To(e,t);Rt("RestConnection",`Sending RPC '${e}' ${_}:`,T,i);const F={};return this.Eo(F,c,p),this.Ao(e,T,F,i).then(H=>(Rt("RestConnection",`Received RPC '${e}' ${_}: `,H),H),H=>{throw mc("RestConnection",`RPC '${e}' ${_} failed with error: `,H,"url: ",T,"request:",i),H})}vo(e,t,i,c,p,_){return this.Io(e,t,i,c,p)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+uu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((c,p)=>e[p]=c),i&&i.headers.forEach((c,p)=>e[p]=c)}To(e,t){return`${this.mo}/v1/${t}:${gC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,c){const p=sg();return new Promise((_,T)=>{const F=new pE;F.setWithCredentials(!0),F.listenOnce(cy.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case tf.NO_ERROR:const te=F.getResponseJson();Rt(yc,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(te)),_(te);break;case tf.TIMEOUT:Rt(yc,`RPC '${e}' ${p} timed out`),T(new St(st.DEADLINE_EXCEEDED,"Request time out"));break;case tf.HTTP_ERROR:const pe=F.getStatus();if(Rt(yc,`RPC '${e}' ${p} failed with status:`,pe,"response text:",F.getResponseText()),pe>0){let Ve=F.getResponseJson();Array.isArray(Ve)&&(Ve=Ve[0]);const ut=Ve?.error;if(ut&&ut.status&&ut.message){const Lt=function(sn){const cn=sn.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(cn)>=0?cn:st.UNKNOWN}(ut.status);T(new St(Lt,ut.message))}else T(new St(st.UNKNOWN,"Server responded with status "+F.getStatus()))}else T(new St(st.UNAVAILABLE,"Connection failed."));break;default:dn()}}finally{Rt(yc,`RPC '${e}' ${p} completed.`)}});const H=JSON.stringify(c);Rt(yc,`RPC '${e}' ${p} sending request:`,c),F.send(t,"POST",H,i,15)})}Ro(e,t,i){const c=sg(),p=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],_=ay(),T=rh(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},H=this.longPollingOptions.timeoutSeconds;void 0!==H&&(F.longPollingTimeout=Math.round(1e3*H)),this.useFetchStreams&&(F.xmlHttpFactory=new vm({})),this.Eo(F.initMessageHeaders,t,i),F.encodeInitMessageHeaders=!0;const te=p.join("");Rt(yc,`Creating RPC '${e}' stream ${c}: ${te}`,F);const pe=_.createWebChannel(te,F);let Ve=!1,ut=!1;const Lt=new mC({ro:cn=>{ut?Rt(yc,`Not sending because RPC '${e}' stream ${c} is closed:`,cn):(Ve||(Rt(yc,`Opening RPC '${e}' stream ${c} transport.`),pe.open(),Ve=!0),Rt(yc,`RPC '${e}' stream ${c} sending:`,cn),pe.send(cn))},oo:()=>pe.close()}),sn=(cn,Dr,Xr)=>{cn.listen(Dr,Lr=>{try{Xr(Lr)}catch(Ko){setTimeout(()=>{throw Ko},0)}})};return sn(pe,nf.EventType.OPEN,()=>{ut||Rt(yc,`RPC '${e}' stream ${c} transport opened.`)}),sn(pe,nf.EventType.CLOSE,()=>{ut||(ut=!0,Rt(yc,`RPC '${e}' stream ${c} transport closed`),Lt.wo())}),sn(pe,nf.EventType.ERROR,cn=>{ut||(ut=!0,mc(yc,`RPC '${e}' stream ${c} transport errored:`,cn),Lt.wo(new St(st.UNAVAILABLE,"The operation could not be completed")))}),sn(pe,nf.EventType.MESSAGE,cn=>{var Dr;if(!ut){const Xr=cn.data[0];Tn(!!Xr);const Ko=Xr.error||(null===(Dr=Xr[0])||void 0===Dr?void 0:Dr.error);if(Ko){Rt(yc,`RPC '${e}' stream ${c} received error:`,Ko);const So=Ko.status;let es=function(pg){const ib=Zo[pg];if(void 0!==ib)return PE(ib)}(So),Gc=Ko.message;void 0===es&&(es=st.INTERNAL,Gc="Unknown error status: "+So+" with message "+Ko.message),ut=!0,Lt.wo(new St(es,Gc)),pe.close()}else Rt(yc,`RPC '${e}' stream ${c} received:`,Xr),Lt._o(Xr)}}),sn(T,Hp.STAT_EVENT,cn=>{cn.stat===ly.PROXY?Rt(yc,`RPC '${e}' stream ${c} detected buffering proxy`):cn.stat===ly.NOPROXY&&Rt(yc,`RPC '${e}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{Lt.fo()},0),Lt}}function h1(){return typeof document<"u"?document:null}function n_(n){return new lS(n,!0)}class r_{constructor(e,t,i=1e3,c=1.5,p=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=c,this.Vo=p,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),c=Math.max(0,t-i);c>0&&Rt("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,c,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class TT{constructor(e,t,i,c,p,_,T,F){this.ii=e,this.$o=i,this.Oo=c,this.connection=p,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=T,this.listener=F,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new r_(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ue.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ue.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,ue.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===st.RESOURCE_EXHAUSTED?(io(t.toString()),io("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===st.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,c])=>{this.Fo===t&&this.Zo(i,c)},i=>{e(()=>{const c=new St(st.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(c)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(c=>{i(()=>this.tu(c))}),this.stream.onMessage(c=>{i(()=>this.onMessage(c))})}Go(){var e=this;this.state=5,this.qo.No((0,ue.Z)(function*(){e.state=0,e.start()}))}tu(e){return Rt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Rt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _C extends TT{constructor(e,t,i,c,p,_){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,c,_),this.serializer=p}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function UE(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(F=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===F?1:"REMOVE"===F?2:"CURRENT"===F?3:"RESET"===F?4:dn(),c=e.targetChange.targetIds||[],p=function(F,H){return F.useProto3Json?(Tn(void 0===H||"string"==typeof H),er.fromBase64String(H||"")):(Tn(void 0===H||H instanceof Uint8Array),er.fromUint8Array(H||new Uint8Array))}(n,e.targetChange.resumeToken),_=e.targetChange.cause,T=_&&function(F){const H=void 0===F.code?st.UNKNOWN:PE(F.code);return new St(H,F.message||"")}(_);t=new U0(i,c,p,T||null)}else if("documentChange"in e){const i=e.documentChange,c=yd(n,i.document.name),p=Do(i.document.updateTime),_=i.document.createTime?Do(i.document.createTime):Mn.min(),T=new qo({mapValue:{fields:i.document.fields}}),F=Si.newFoundDocument(c,p,_,T);t=new Sy(i.targetIds||[],i.removedTargetIds||[],F.key,F)}else if("documentDelete"in e){const i=e.documentDelete,c=yd(n,i.document),p=i.readTime?Do(i.readTime):Mn.min(),_=Si.newNoDocument(c,p);t=new Sy([],i.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){const i=e.documentRemove,c=yd(n,i.document);t=new Sy([],i.removedTargetIds||[],c,null)}else{if(!("filter"in e))return dn();{const i=e.filter,{count:c=0,unchangedNames:p}=i,_=new UD(c,p);t=new Cw(i.targetId,_)}}var F;return t}(this.serializer,e),i=function(c){if(!("targetChange"in c))return Mn.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?Mn.min():p.readTime?Do(p.readTime):Mn.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Oa(this.serializer),t.addTarget=function(c,p){let _;const T=p.target;if(_=Om(T)?{documents:GE(c,T)}:{query:xw(c,T)},_.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){_.resumeToken=HD(c,p.resumeToken);const F=H0(c,p.expectedCount);null!==F&&(_.expectedCount=F)}else if(p.snapshotVersion.compareTo(Mn.min())>0){_.readTime=Xp(c,p.snapshotVersion.toTimestamp());const F=H0(c,p.expectedCount);null!==F&&(_.expectedCount=F)}return _}(this.serializer,e);const i=function Ny(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Oa(this.serializer),t.removeTarget=e,this.Wo(t)}}class DT extends TT{constructor(e,t,i,c,p,_){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,c,_),this.serializer=p,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Tn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function HE(n,e){return n&&n.length>0?(Tn(void 0!==e),n.map(t=>function(i,c){let p=Do(i.updateTime?i.updateTime:c);return p.isEqual(Mn.min())&&(p=Do(c)),new mw(p,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Do(e.commitTime);return this.listener.cu(i,t)}return Tn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Oa(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function jm(n,e){let t;if(e instanceof Qp)t={update:Ow(n,e.key,e.value)};else if(e instanceof Fm)t={delete:_d(n,e.key)};else if(e instanceof dh)t={update:Ow(n,e.key,e.data),updateMask:WD(e.fieldMask)};else{if(!(e instanceof vw))return dn();t={verify:_d(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(c,p){const _=p.transform;if(_ instanceof Rm)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof mf)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof md)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof Yp)return{fieldPath:p.field.canonicalString(),increment:_.gt};throw dn()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:Hm(n,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:dn()),t;var c}(this.serializer,i))};this.Wo(t)}}class yC extends class{}{constructor(e,t,i,c){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=c,this.lu=!1}fu(){if(this.lu)throw new St(st.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.Io(e,t,i,c,p)).catch(c=>{throw"FirebaseError"===c.name?(c.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new St(st.UNKNOWN,c.toString())})}vo(e,t,i,c){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,_])=>this.connection.vo(e,t,i,p,_,c)).catch(p=>{throw"FirebaseError"===p.name?(p.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new St(st.UNKNOWN,p.toString())})}terminate(){this.lu=!0}}class p1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(io(t),this.mu=!1):Rt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class bC{constructor(e,t,i,c,p){var _=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=p,this.Pu.Yr(T=>{i.enqueueAndForget((0,ue.Z)(function*(){var F;vd(_)&&(Rt("RemoteStore","Restarting streams for network reachability change."),yield(F=(0,ue.Z)(function*(H){const te=Wt(H);te.vu.add(4),yield og(te),te.bu.set("Unknown"),te.vu.delete(4),yield Uy(te)}),function(H){return F.apply(this,arguments)})(_))}))}),this.bu=new p1(i,c)}}function Uy(n){return g1.apply(this,arguments)}function g1(){return g1=(0,ue.Z)(function*(n){if(vd(n))for(const e of n.Ru)yield e(!0)}),g1.apply(this,arguments)}function og(n){return Hy.apply(this,arguments)}function Hy(){return Hy=(0,ue.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),Hy.apply(this,arguments)}function Gy(n,e){const t=Wt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),rI(t)?nI(t):Wy(t).Ko()&&m1(t,e))}function jy(n,e){const t=Wt(n),i=Wy(t);t.Au.delete(e),i.Ko()&&tI(t,e),0===t.Au.size&&(i.Ko()?i.jo():vd(t)&&t.bu.set("Unknown"))}function m1(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Mn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Wy(n).su(e)}function tI(n,e){n.Vu.qt(e),Wy(n).iu(e)}function nI(n){n.Vu=new Jp({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Wy(n).start(),n.bu.gu()}function rI(n){return vd(n)&&!Wy(n).Uo()&&n.Au.size>0}function vd(n){return 0===Wt(n).vu.size}function _1(n){n.Vu=void 0}function CT(n){return $y.apply(this,arguments)}function $y(){return $y=(0,ue.Z)(function*(n){n.Au.forEach((e,t)=>{m1(n,e)})}),$y.apply(this,arguments)}function iI(n,e){return sI.apply(this,arguments)}function sI(){return sI=(0,ue.Z)(function*(n,e){_1(n),rI(n)?(n.bu.Iu(e),nI(n)):n.bu.set("Unknown")}),sI.apply(this,arguments)}function wC(n,e,t){return oI.apply(this,arguments)}function oI(){return oI=(0,ue.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof U0&&2===e.state&&e.cause)try{yield(i=(0,ue.Z)(function*(c,p){const _=p.cause;for(const T of p.targetIds)c.Au.has(T)&&(yield c.remoteSyncer.rejectListen(T,_),c.Au.delete(T),c.Vu.removeTarget(T))}),function(c,p){return i.apply(this,arguments)})(n,e)}catch(i){Rt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield y1(n,i)}else if(e instanceof Sy?n.Vu.Ht(e):e instanceof Cw?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Mn.min()))try{const i=yield yT(n.localStore);t.compareTo(i)>=0&&(yield function(c,p){const _=c.Vu.ce(p);return _.targetChanges.forEach((T,F)=>{if(T.resumeToken.approximateByteSize()>0){const H=c.Au.get(F);H&&c.Au.set(F,H.withResumeToken(T.resumeToken,p))}}),_.targetMismatches.forEach((T,F)=>{const H=c.Au.get(T);if(!H)return;c.Au.set(T,H.withResumeToken(er.EMPTY_BYTE_STRING,H.snapshotVersion)),tI(c,T);const te=new Fl(H.target,T,F,H.sequenceNumber);m1(c,te)}),c.remoteSyncer.applyRemoteEvent(_)}(n,t))}catch(i){Rt("RemoteStore","Failed to raise snapshot:",i),yield y1(n,i)}var i}),oI.apply(this,arguments)}function y1(n,e,t){return v1.apply(this,arguments)}function v1(){return v1=(0,ue.Z)(function*(n,e,t){if(!al(e))throw e;n.vu.add(1),yield og(n),n.bu.set("Offline"),t||(t=()=>yT(n.localStore)),n.asyncQueue.enqueueRetryable((0,ue.Z)(function*(){Rt("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Uy(n)}))}),v1.apply(this,arguments)}function b1(n,e){return e().catch(t=>y1(n,t,e))}function ag(n){return w1.apply(this,arguments)}function w1(){return w1=(0,ue.Z)(function*(n){const e=Wt(n),t=cg(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;ST(e);)try{const c=yield hC(e.localStore,i);if(null===c){0===e.Eu.length&&t.jo();break}i=c.batchId,AT(e,c)}catch(c){yield y1(e,c)}NT(e)&&aI(e)}),w1.apply(this,arguments)}function ST(n){return vd(n)&&n.Eu.length<10}function AT(n,e){n.Eu.push(e);const t=cg(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function NT(n){return vd(n)&&!cg(n).Uo()&&n.Eu.length>0}function aI(n){cg(n).start()}function OT(n){return cI.apply(this,arguments)}function cI(){return cI=(0,ue.Z)(function*(n){cg(n).hu()}),cI.apply(this,arguments)}function MT(n){return I1.apply(this,arguments)}function I1(){return I1=(0,ue.Z)(function*(n){const e=cg(n);for(const t of n.Eu)e.uu(t.mutations)}),I1.apply(this,arguments)}function Uc(n,e,t){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,ue.Z)(function*(n,e,t){const i=n.Eu.shift(),c=ww.from(i,e,t);yield b1(n,()=>n.remoteSyncer.applySuccessfulWrite(c)),yield ag(n)}),Ef.apply(this,arguments)}function IC(n,e){return lI.apply(this,arguments)}function lI(){return lI=(0,ue.Z)(function*(n,e){var t;e&&cg(n).ou&&(yield(t=(0,ue.Z)(function*(i,c){if(function RE(n){switch(n){default:return dn();case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0}}(p=c.code)&&p!==st.ABORTED){const _=i.Eu.shift();cg(i).Qo(),yield b1(i,()=>i.remoteSyncer.rejectFailedWrite(_.batchId,c)),yield ag(i)}var p}),function(i,c){return t.apply(this,arguments)})(n,e)),NT(n)&&aI(n)}),lI.apply(this,arguments)}function EC(n,e){return xT.apply(this,arguments)}function xT(){return xT=(0,ue.Z)(function*(n,e){const t=Wt(n);t.asyncQueue.verifyOperationInProgress(),Rt("RemoteStore","RemoteStore received new credentials");const i=vd(t);t.vu.add(3),yield og(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Uy(t)}),xT.apply(this,arguments)}function zy(){return zy=(0,ue.Z)(function*(n,e){const t=Wt(n);e?(t.vu.delete(2),yield Uy(t)):e||(t.vu.add(2),yield og(t),t.bu.set("Unknown"))}),zy.apply(this,arguments)}function Wy(n){return n.Su||(n.Su=function(e,t,i){const c=Wt(e);return c.fu(),new _C(t,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,i)}(n.datastore,n.asyncQueue,{uo:CT.bind(null,n),ao:iI.bind(null,n),nu:wC.bind(null,n)}),n.Ru.push(function(){var e=(0,ue.Z)(function*(t){t?(n.Su.Qo(),rI(n)?nI(n):n.bu.set("Unknown")):(yield n.Su.stop(),_1(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function cg(n){return n.Du||(n.Du=function(e,t,i){const c=Wt(e);return c.fu(),new DT(t,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,i)}(n.datastore,n.asyncQueue,{uo:OT.bind(null,n),ao:IC.bind(null,n),au:MT.bind(null,n),cu:Uc.bind(null,n)}),n.Ru.push(function(){var e=(0,ue.Z)(function*(t){t?(n.Du.Qo(),yield ag(n)):(yield n.Du.stop(),n.Eu.length>0&&(Rt("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class RT{constructor(e,t,i,c,p){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=c,this.removalCallback=p,this.deferred=new so,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}static createAndSchedule(e,t,i,c,p){const _=Date.now()+i,T=new RT(e,t,_,c,p);return T.start(i),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new St(st.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bd(n,e){if(io("AsyncQueue",`${e}: ${n}`),al(n))return new St(st.UNAVAILABLE,`${e}: ${n}`);throw n}class i_{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Yt.comparator(t.key,i.key):(t,i)=>Yt.comparator(t.key,i.key),this.keyedMap=ul(),this.sortedSet=new qt(this.comparator)}static emptySet(e){return new i_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof i_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const c=t.getNext().key,p=i.getNext().key;if(!c.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new i_;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class T1{constructor(){this.Cu=new qt(Yt.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):dn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class s_{constructor(e,t,i,c,p,_,T,F,H){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=c,this.mutatedKeys=p,this.fromCache=_,this.syncStateChanged=T,this.excludesMetadataChanges=F,this.hasCachedResults=H}static fromInitialDocuments(e,t,i,c,p){const _=[];return t.forEach(T=>{_.push({type:0,doc:T})}),new s_(e,t,i_.emptySet(t),_,i,c,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let c=0;c<t.length;c++)if(t[c].type!==i[c].type||!t[c].doc.isEqual(i[c].doc))return!1;return!0}}class PT{constructor(){this.Nu=void 0,this.listeners=[]}}class TC{constructor(){this.queries=new gd(e=>uw(e),xm),this.onlineState="Unknown",this.ku=new Set}}function uI(n,e){return dI.apply(this,arguments)}function dI(){return dI=(0,ue.Z)(function*(n,e){const t=Wt(n),i=e.query;let c=!1,p=t.queries.get(i);if(p||(c=!0,p=new PT),c)try{p.Nu=yield t.onListen(i)}catch(_){const T=bd(_,`Initialization of query '${pf(e.query)}' failed`);return void e.onError(T)}t.queries.set(i,p),p.listeners.push(e),e.Mu(t.onlineState),p.Nu&&e.$u(p.Nu)&&Zy(t)}),dI.apply(this,arguments)}function qy(n,e){return D1.apply(this,arguments)}function D1(){return D1=(0,ue.Z)(function*(n,e){const t=Wt(n),i=e.query;let c=!1;const p=t.queries.get(i);if(p){const _=p.listeners.indexOf(e);_>=0&&(p.listeners.splice(_,1),c=0===p.listeners.length)}if(c)return t.queries.delete(i),t.onUnlisten(i)}),D1.apply(this,arguments)}function DC(n,e){const t=Wt(n);let i=!1;for(const c of e){const _=t.queries.get(c.query);if(_){for(const T of _.listeners)T.$u(c)&&(i=!0);_.Nu=c}}i&&Zy(t)}function C1(n,e,t){const i=Wt(n),c=i.queries.get(e);if(c)for(const p of c.listeners)p.onError(t);i.queries.delete(e)}function Zy(n){n.ku.forEach(e=>{e.next()})}class kT{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const c of e.docChanges)3!==c.type&&i.push(c);e=new s_(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=s_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class VT{constructor(e){this.key=e}}class hI{constructor(e){this.key=e}}class S1{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Tr(),this.mutatedKeys=Tr(),this.tc=dw(e),this.ec=new i_(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new T1,c=t?t.ec:this.ec;let p=t?t.mutatedKeys:this.mutatedKeys,_=c,T=!1;const F="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,H="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((te,pe)=>{const Ve=c.get(te),ut=Ty(this.query,pe)?pe:null,Lt=!!Ve&&this.mutatedKeys.has(Ve.key),sn=!!ut&&(ut.hasLocalMutations||this.mutatedKeys.has(ut.key)&&ut.hasCommittedMutations);let cn=!1;Ve&&ut?Ve.data.isEqual(ut.data)?Lt!==sn&&(i.track({type:3,doc:ut}),cn=!0):this.rc(Ve,ut)||(i.track({type:2,doc:ut}),cn=!0,(F&&this.tc(ut,F)>0||H&&this.tc(ut,H)<0)&&(T=!0)):!Ve&&ut?(i.track({type:0,doc:ut}),cn=!0):Ve&&!ut&&(i.track({type:1,doc:Ve}),cn=!0,(F||H)&&(T=!0)),cn&&(ut?(_=_.add(ut),p=sn?p.add(te):p.delete(te)):(_=_.delete(te),p=p.delete(te)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const te="F"===this.query.limitType?_.last():_.first();_=_.delete(te.key),p=p.delete(te.key),i.track({type:1,doc:te})}return{ec:_,ic:i,zi:T,mutatedKeys:p}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const c=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const p=e.ic.xu();p.sort((H,te)=>function(pe,Ve){const ut=Lt=>{switch(Lt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dn()}};return ut(pe)-ut(Ve)}(H.type,te.type)||this.tc(H.doc,te.doc)),this.oc(i);const _=t?this.uc():[],T=0===this.Zu.size&&this.current?1:0,F=T!==this.Xu;return this.Xu=T,0!==p.length||F?{snapshot:new s_(this.query,e.ec,c,p,e.mutatedKeys,0===T,F,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:_}:{cc:_}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new T1,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Tr(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new hI(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new VT(i))}),t}hc(e){this.Yu=e.ir,this.Zu=Tr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return s_.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class hS{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class CC{constructor(e){this.key=e,this.fc=!1}}class fS{constructor(e,t,i,c,p,_){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=c,this.currentUser=p,this.maxConcurrentLimboResolutions=_,this.dc={},this.wc=new gd(T=>uw(T),xm),this._c=new Map,this.mc=new Set,this.gc=new qt(Yt.comparator),this.yc=new Map,this.Ic=new e1,this.Tc={},this.Ec=new Map,this.Ac=wf.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function SC(n,e){return fI.apply(this,arguments)}function fI(){return fI=(0,ue.Z)(function*(n,e){const t=function TI(n){const e=Wt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=GT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AC.bind(null,e),e.dc.nu=DC.bind(null,e.eventManager),e.dc.Pc=C1.bind(null,e.eventManager),e}(n);let i,c;const p=t.wc.get(e);if(p)i=p.targetId,t.sharedClientState.addLocalQueryTarget(i),c=p.view.lc();else{const _=yield function e_(n,e){const t=Wt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let c;return t.Bs.getTargetData(i,e).next(p=>p?(c=p,qe.resolve(c)):t.Bs.allocateTargetId(i).next(_=>(c=new Fl(e,_,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,c).next(()=>c))))}).then(i=>{const c=t.Ji.get(i.targetId);return(null===c||i.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}(t.localStore,Lc(e)),T=t.sharedClientState.addLocalQueryTarget(_.targetId);i=_.targetId,c=yield function pI(n,e,t,i,c){return A1.apply(this,arguments)}(t,e,i,"current"===T,_.resumeToken),t.isPrimaryClient&&Gy(t.remoteStore,_)}return c}),fI.apply(this,arguments)}function A1(){return A1=(0,ue.Z)(function*(n,e,t,i,c){n.Rc=(pe,Ve,ut)=>{return(Lt=(0,ue.Z)(function*(sn,cn,Dr,Xr){let Lr=cn.view.sc(Dr);Lr.zi&&(Lr=yield Ly(sn.localStore,cn.query,!1).then(({documents:es})=>cn.view.sc(es,Lr)));const Ko=Xr&&Xr.targetChanges.get(cn.targetId),So=cn.view.applyChanges(Lr,sn.isPrimaryClient,Ko);return qT(sn,cn.targetId,So.cc),So.snapshot}),function(sn,cn,Dr,Xr){return Lt.apply(this,arguments)})(n,pe,Ve,ut);var Lt};const p=yield Ly(n.localStore,e,!0),_=new S1(e,p.ir),T=_.sc(p.documents),F=Vm.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,c),H=_.applyChanges(T,n.isPrimaryClient,F);qT(n,t,H.cc);const te=new hS(e,t,_);return n.wc.set(e,te),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),H.snapshot}),A1.apply(this,arguments)}function UT(n,e){return gI.apply(this,arguments)}function gI(){return gI=(0,ue.Z)(function*(n,e){const t=Wt(n),i=t.wc.get(e),c=t._c.get(i.targetId);if(c.length>1)return t._c.set(i.targetId,c.filter(p=>!xm(p,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield t_(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),jy(t.remoteStore,i.targetId),Ky(t,i.targetId)}).catch(ih))):(Ky(t,i.targetId),yield t_(t.localStore,i.targetId,!0))}),gI.apply(this,arguments)}function N1(){return N1=(0,ue.Z)(function*(n,e,t){const i=function DI(n){const e=Wt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$T.bind(null,e),e}(n);try{const c=yield function(p,_){const T=Wt(p),F=ms.now(),H=_.reduce((Ve,ut)=>Ve.add(ut.key),Tr());let te,pe;return T.persistence.runTransaction("Locally write mutations","readwrite",Ve=>{let ut=Bc(),Lt=Tr();return T.Zi.getEntries(Ve,H).next(sn=>{ut=sn,ut.forEach((cn,Dr)=>{Dr.isValidDocument()||(Lt=Lt.add(cn))})}).next(()=>T.localDocuments.getOverlayedDocuments(Ve,ut)).next(sn=>{te=sn;const cn=[];for(const Dr of _){const Xr=NE(Dr,te.get(Dr.key).overlayedDocument);null!=Xr&&cn.push(new dh(Dr.key,Xr,wy(Xr.value.mapValue),Xi.exists(!0)))}return T.mutationQueue.addMutationBatch(Ve,F,cn,_)}).next(sn=>{pe=sn;const cn=sn.applyToLocalDocumentSet(te,Lt);return T.documentOverlayCache.saveOverlays(Ve,sn.batchId,cn)})}).then(()=>({batchId:pe.batchId,changes:wE(te)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(c.batchId),function(p,_,T){let F=p.Tc[p.currentUser.toKey()];F||(F=new qt(Qn)),F=F.insert(_,T),p.Tc[p.currentUser.toKey()]=F}(i,c.batchId,t),yield Tf(i,c.changes),yield ag(i.remoteStore)}catch(c){const p=bd(c,"Failed to persist write");t.reject(p)}}),N1.apply(this,arguments)}function GT(n,e){return mI.apply(this,arguments)}function mI(){return mI=(0,ue.Z)(function*(n,e){const t=Wt(n);try{const i=yield function dC(n,e){const t=Wt(n),i=e.snapshotVersion;let c=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const _=t.Zi.newChangeBuffer({trackRemovals:!0});c=t.Ji;const T=[];e.targetChanges.forEach((te,pe)=>{const Ve=c.get(pe);if(!Ve)return;T.push(t.Bs.removeMatchingKeys(p,te.removedDocuments,pe).next(()=>t.Bs.addMatchingKeys(p,te.addedDocuments,pe)));let ut=Ve.withSequenceNumber(p.currentSequenceNumber);var Lt,sn,cn;null!==e.targetMismatches.get(pe)?ut=ut.withResumeToken(er.EMPTY_BYTE_STRING,Mn.min()).withLastLimboFreeSnapshotVersion(Mn.min()):te.resumeToken.approximateByteSize()>0&&(ut=ut.withResumeToken(te.resumeToken,i)),c=c.insert(pe,ut),sn=ut,cn=te,(0===(Lt=Ve).resumeToken.approximateByteSize()||sn.snapshotVersion.toMicroseconds()-Lt.snapshotVersion.toMicroseconds()>=3e8||cn.addedDocuments.size+cn.modifiedDocuments.size+cn.removedDocuments.size>0)&&T.push(t.Bs.updateTargetData(p,ut))});let F=Bc(),H=Tr();if(e.documentUpdates.forEach(te=>{e.resolvedLimboDocuments.has(te)&&T.push(t.persistence.referenceDelegate.updateLimboDocument(p,te))}),T.push(function vT(n,e,t){let i=Tr(),c=Tr();return t.forEach(p=>i=i.add(p)),e.getEntries(n,i).next(p=>{let _=Bc();return t.forEach((T,F)=>{const H=p.get(T);F.isFoundDocument()!==H.isFoundDocument()&&(c=c.add(T)),F.isNoDocument()&&F.version.isEqual(Mn.min())?(e.removeEntry(T,F.readTime),_=_.insert(T,F)):!H.isValidDocument()||F.version.compareTo(H.version)>0||0===F.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(F),_=_.insert(T,F)):Rt("LocalStore","Ignoring outdated watch update for ",T,". Current version:",H.version," Watch version:",F.version)}),{nr:_,sr:c}})}(p,_,e.documentUpdates).next(te=>{F=te.nr,H=te.sr})),!i.isEqual(Mn.min())){const te=t.Bs.getLastRemoteSnapshotVersion(p).next(pe=>t.Bs.setTargetsMetadata(p,p.currentSequenceNumber,i));T.push(te)}return qe.waitFor(T).next(()=>_.apply(p)).next(()=>t.localDocuments.getLocalViewOfDocuments(p,F,H)).next(()=>F)}).then(p=>(t.Ji=c,p))}(t.localStore,e);e.targetChanges.forEach((c,p)=>{const _=t.yc.get(p);_&&(Tn(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?_.fc=!0:c.modifiedDocuments.size>0?Tn(_.fc):c.removedDocuments.size>0&&(Tn(_.fc),_.fc=!1))}),yield Tf(t,i,e)}catch(i){yield ih(i)}}),mI.apply(this,arguments)}function _I(n,e,t){const i=Wt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const c=[];i.wc.forEach((p,_)=>{const T=_.view.Mu(e);T.snapshot&&c.push(T.snapshot)}),function(p,_){const T=Wt(p);T.onlineState=_;let F=!1;T.queries.forEach((H,te)=>{for(const pe of te.listeners)pe.Mu(_)&&(F=!0)}),F&&Zy(T)}(i.eventManager,e),c.length&&i.dc.nu(c),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function AC(n,e,t){return O1.apply(this,arguments)}function O1(){return O1=(0,ue.Z)(function*(n,e,t){const i=Wt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const c=i.yc.get(e),p=c&&c.key;if(p){let _=new qt(Yt.comparator);_=_.insert(p,Si.newNoDocument(p,Mn.min()));const T=Tr().add(p),F=new Bm(Mn.min(),new Map,new qt(Qn),_,T);yield GT(i,F),i.gc=i.gc.remove(p),i.yc.delete(e),ZT(i)}else yield t_(i.localStore,e,!1).then(()=>Ky(i,e,t)).catch(ih)}),O1.apply(this,arguments)}function jT(n,e){return M1.apply(this,arguments)}function M1(){return M1=(0,ue.Z)(function*(n,e){const t=Wt(n),i=e.batch.batchId;try{const c=yield function _T(n,e){const t=Wt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const c=e.batch.keys(),p=t.Zi.newChangeBuffer({trackRemovals:!0});return function(_,T,F,H){const te=F.batch,pe=te.keys();let Ve=qe.resolve();return pe.forEach(ut=>{Ve=Ve.next(()=>H.getEntry(T,ut)).next(Lt=>{const sn=F.docVersions.get(ut);Tn(null!==sn),Lt.version.compareTo(sn)<0&&(te.applyToRemoteDocument(Lt,F),Lt.isValidDocument()&&(Lt.setReadTime(F.commitVersion),H.addEntry(Lt)))})}),Ve.next(()=>_.mutationQueue.removeMutationBatch(T,te))}(t,i,e,p).next(()=>p.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,c,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(_){let T=Tr();for(let F=0;F<_.mutationResults.length;++F)_.mutationResults[F].transformResults.length>0&&(T=T.add(_.batch.mutations[F].key));return T}(e))).next(()=>t.localDocuments.getDocuments(i,c))})}(t.localStore,e);WT(t,i,null),x1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Tf(t,c)}catch(c){yield ih(c)}}),M1.apply(this,arguments)}function $T(n,e,t){return yI.apply(this,arguments)}function yI(){return yI=(0,ue.Z)(function*(n,e,t){const i=Wt(n);try{const c=yield function(p,_){const T=Wt(p);return T.persistence.runTransaction("Reject batch","readwrite-primary",F=>{let H;return T.mutationQueue.lookupMutationBatch(F,_).next(te=>(Tn(null!==te),H=te.keys(),T.mutationQueue.removeMutationBatch(F,te))).next(()=>T.mutationQueue.performConsistencyCheck(F)).next(()=>T.documentOverlayCache.removeOverlaysForBatchId(F,H,_)).next(()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(F,H)).next(()=>T.localDocuments.getDocuments(F,H))})}(i.localStore,e);WT(i,e,t),x1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Tf(i,c)}catch(c){yield ih(c)}}),yI.apply(this,arguments)}function x1(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function WT(n,e,t){const i=Wt(n);let c=i.Tc[i.currentUser.toKey()];if(c){const p=c.get(e);p&&(t?p.reject(t):p.resolve(),c=c.remove(e)),i.Tc[i.currentUser.toKey()]=c}}function Ky(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||OC(n,i)})}function OC(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(jy(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),ZT(n))}function qT(n,e,t){for(const i of t)i instanceof VT?(n.Ic.addReference(i.key,e),pS(n,i)):i instanceof hI?(Rt("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||OC(n,i.key)):dn()}function pS(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(Rt("SyncEngine","New document in limbo: "+t),n.mc.add(i),ZT(n))}function ZT(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Yt(hr.fromString(e)),i=n.Ac.next();n.yc.set(i,new CC(t)),n.gc=n.gc.insert(t,i),Gy(n.remoteStore,new Fl(Lc(Mm(t.path)),i,"TargetPurposeLimboResolution",Ji.ct))}}function Tf(n,e,t){return KT.apply(this,arguments)}function KT(){return KT=(0,ue.Z)(function*(n,e,t){const i=Wt(n),c=[],p=[],_=[];var T;i.wc.isEmpty()||(i.wc.forEach((T,F)=>{_.push(i.Rc(F,e,t).then(H=>{if((H||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(F.targetId,H?.fromCache?"not-current":"current"),H){c.push(H);const te=pT.Li(F.targetId,H);p.push(te)}}))}),yield Promise.all(_),i.dc.nu(c),yield(T=(0,ue.Z)(function*(F,H){const te=Wt(F);try{yield te.persistence.runTransaction("notifyLocalViewChanges","readwrite",pe=>qe.forEach(H,Ve=>qe.forEach(Ve.Fi,ut=>te.persistence.referenceDelegate.addReference(pe,Ve.targetId,ut)).next(()=>qe.forEach(Ve.Bi,ut=>te.persistence.referenceDelegate.removeReference(pe,Ve.targetId,ut)))))}catch(pe){if(!al(pe))throw pe;Rt("LocalStore","Failed to update sequence numbers: "+pe)}for(const pe of H){const Ve=pe.targetId;if(!pe.fromCache){const ut=te.Ji.get(Ve),sn=ut.withLastLimboFreeSnapshotVersion(ut.snapshotVersion);te.Ji=te.Ji.insert(Ve,sn)}}}),function(F,H){return T.apply(this,arguments)})(i.localStore,p))}),KT.apply(this,arguments)}function gS(n,e){return R1.apply(this,arguments)}function R1(){return R1=(0,ue.Z)(function*(n,e){const t=Wt(n);if(!t.currentUser.isEqual(e)){Rt("SyncEngine","User change. New user:",e.toKey());const i=yield qw(t.localStore,e);t.currentUser=e,(c=t).Ec.forEach(_=>{_.forEach(T=>{T.reject(new St(st.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Tf(t,i.er)}var c}),R1.apply(this,arguments)}function vI(n,e){const t=Wt(n),i=t.yc.get(e);if(i&&i.fc)return Tr().add(i.key);{let c=Tr();const p=t._c.get(e);if(!p)return c;for(const _ of p){const T=t.wc.get(_);c=c.unionWith(T.view.nc)}return c}}class L1{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ue.Z)(function*(){t.serializer=n_(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function mT(n,e,t,i){return new uC(n,e,t,i)}(this.persistence,new gT,e.initialUser,this.serializer)}createPersistence(e){return new t1(n1.zs,this.serializer)}createSharedClientState(e){return new IT}terminate(){var e=this;return(0,ue.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class o_{initialize(e,t){var i=this;return(0,ue.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=c=>_I(i.syncEngine,c,1),i.remoteStore.remoteSyncer.handleCredentialChange=gS.bind(null,i.syncEngine),yield function E1(n,e){return zy.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new TC}createDatastore(e){const t=n_(e.databaseInfo.databaseId),i=new d1(e.databaseInfo);return new yC(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,c=e.asyncQueue,p=T=>_I(this.syncEngine,T,0),_=ET.D()?new ET:new dS,new bC(t,i,c,p,_);var t,i,c,p,_}createSyncEngine(e,t){return function(i,c,p,_,T,F,H){const te=new fS(i,c,p,_,T,F);return H&&(te.vc=!0),te}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ue.Z)(function*(t){const i=Wt(t);Rt("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield og(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class V1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):io("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class BC{constructor(e,t,i,c){var p=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=c,this.user=As.UNAUTHENTICATED,this.clientId=bm.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var _=(0,ue.Z)(function*(T){Rt("FirestoreClient","Received user=",T.uid),yield p.authCredentialListener(T),p.user=T});return function(T){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(i,_=>(Rt("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}getConfiguration(){var e=this;return(0,ue.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new St(st.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new so;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ue.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const c=bd(i,"Failed to shutdown persistence");t.reject(c)}})),t.promise}}function U1(n,e){return CI.apply(this,arguments)}function CI(){return CI=(0,ue.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Rt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var c=(0,ue.Z)(function*(p){i.isEqual(p)||(yield qw(e.localStore,p),i=p)});return function(p){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),CI.apply(this,arguments)}function SI(n,e){return H1.apply(this,arguments)}function H1(){return H1=(0,ue.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function AI(n){return NI.apply(this,arguments)}(n);Rt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(c=>EC(e.remoteStore,c)),n.setAppCheckTokenChangeListener((c,p)=>EC(e.remoteStore,p)),n._onlineComponents=e}),H1.apply(this,arguments)}function NI(){return NI=(0,ue.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Rt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield U1(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function G1(n){return"FirebaseError"===n.name?n.code===st.FAILED_PRECONDITION||n.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;mc("Error using user provided cache. Falling back to memory cache: "+t),yield U1(n,new L1)}}else Rt("FirestoreClient","Using default OfflineComponentProvider"),yield U1(n,new L1);return n._offlineComponents}),NI.apply(this,arguments)}function Yy(n){return j1.apply(this,arguments)}function j1(){return j1=(0,ue.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Rt("FirestoreClient","Using user provided OnlineComponentProvider"),yield SI(n,n._uninitializedComponentsProvider._online)):(Rt("FirestoreClient","Using default OnlineComponentProvider"),yield SI(n,new o_))),n._onlineComponents}),j1.apply(this,arguments)}function dg(n){return MI.apply(this,arguments)}function MI(){return MI=(0,ue.Z)(function*(n){const e=yield Yy(n),t=e.eventManager;return t.onListen=SC.bind(null,e.syncEngine),t.onUnlisten=UT.bind(null,e.syncEngine),t}),MI.apply(this,arguments)}function oD(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const aD=new Map;function W1(n,e,t){if(!t)throw new St(st.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function PI(n){if(!Yt.isDocumentKey(n))throw new St(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cD(n){if(Yt.isDocumentKey(n))throw new St(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Qy(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":dn()}function ri(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new St(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Qy(n);throw new St(st.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class kI{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new St(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new St(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function vS(n,e,t,i){if(!0===e&&!0===i)throw new St(st.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=oD(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new St(st.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new St(st.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new St(st.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class a_{constructor(e,t,i,c){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new St(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new St(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kI(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new $b;switch(t.type){case"firstParty":return new rf(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new St(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=aD.get(e);t&&(Rt("ComponentProvider","Removing Datastore"),aD.delete(e),t.terminate())}(this),Promise.resolve()}}class ao{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ao(this.firestore,e,this._key)}}class xa{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new xa(this.firestore,e,this._query)}}class Hc extends xa{constructor(e,t,i){super(e,t,Mm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ao(this.firestore,null,new Yt(e))}withConverter(e){return new Hc(this.firestore,e,this._path)}}function Z1(n,e,...t){if(n=(0,fe.m9)(n),W1("collection","path",e),n instanceof a_){const i=hr.fromString(e,...t);return cD(i),new Hc(n,null,i)}{if(!(n instanceof ao||n instanceof Hc))throw new St(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(hr.fromString(e,...t));return cD(i),new Hc(n.firestore,null,i)}}function FI(n,e,...t){if(n=(0,fe.m9)(n),1===arguments.length&&(e=bm.A()),W1("doc","path",e),n instanceof a_){const i=hr.fromString(e,...t);return PI(i),new ao(n,null,new Yt(i))}{if(!(n instanceof ao||n instanceof Hc))throw new St(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(hr.fromString(e,...t));return PI(i),new ao(n.firestore,n instanceof Hc?n.converter:null,new Yt(i))}}class wS{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new r_(this,"async_queue_retry"),this.Xc=()=>{const t=h1();t&&Rt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=h1();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=h1();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new so;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ue.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!al(t))throw t;Rt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,io("INTERNAL UNHANDLED ERROR: ",function(p){let _=p.message||"";return p.stack&&(_=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),_}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const c=RT.createAndSchedule(this,e,t,i,p=>this.na(p));return this.zc.push(c),c}Zc(){this.Wc&&dn()}verifyOperationInProgress(){}sa(){var e=this;return(0,ue.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Ms extends a_{constructor(e,t,i,c){super(e,t,i,c),this.type="firestore",this._queue=new wS,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||uD(this),this._firestoreClient.terminate()}}function IS(n,e){const t="object"==typeof n?n:(0,Ee.Mq)(),i="string"==typeof n?n:e||"(default)",c=(0,Ee.qX)(t,"firestore").getImmediate({identifier:i});if(!c._initialized){const p=(0,fe.P0)("firestore");p&&function GC(n,e,t,i={}){var c;const p=(n=ri(n,a_))._getSettings(),_=`${e}:${t}`;if("firestore.googleapis.com"!==p.host&&p.host!==_&&mc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},p),{host:_,ssl:!1})),i.mockUserToken){let T,F;if("string"==typeof i.mockUserToken)T=i.mockUserToken,F=As.MOCK_USER;else{T=(0,fe.Sg)(i.mockUserToken,null===(c=n._app)||void 0===c?void 0:c.options.projectId);const H=i.mockUserToken.sub||i.mockUserToken.user_id;if(!H)throw new St(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new As(H)}n._authCredentials=new zb(new hy(T,F))}}(c,...p)}return c}function Co(n){return n._firestoreClient||uD(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function uD(n){var e,t,i;const c=n._freezeSettings(),p=(T=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Gn(n._databaseId,T,n._persistenceKey,(H=c).host,H.ssl,H.experimentalForceLongPolling,H.experimentalAutoDetectLongPolling,oD(H.experimentalLongPollingOptions),H.useFetchStreams));var T,H;n._firestoreClient=new BC(n._authCredentials,n._appCheckCredentials,n._queue,p),null!==(t=c.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=c.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:c.cache.kind,_offline:c.cache._offlineComponentProvider,_online:c.cache._onlineComponentProvider})}class Cf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cf(er.fromBase64String(e))}catch(t){throw new St(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Cf(er.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Sf{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new St(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Jy{constructor(e){this._methodName=e}}class Xy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new St(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new St(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qn(this._lat,e._lat)||Qn(this._long,e._long)}}const BI=/^__.*__$/;class Y1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new dh(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qp(e,this.data,t,this.fieldTransforms)}}class WC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new dh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dn()}}class VI{constructor(e,t,i,c,p,_){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=c,void 0===p&&this.ua(),this.fieldTransforms=p||[],this.fieldMask=_||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new VI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.aa({path:i,la:!1});return c.fa(e),c}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.aa({path:i,la:!1});return c.ua(),c}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return eb(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(qC(this.ca)&&BI.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class fD{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||n_(e)}ya(e,t,i,c=!1){return new VI({ca:e,methodName:t,ga:i,path:Qi.emptyPath(),la:!1,ma:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function l_(n){const e=n._freezeSettings(),t=n_(n._databaseId);return new fD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function UI(n,e,t,i,c,p={}){const _=n.ya(p.merge||p.mergeFields?2:0,e,t,c);jI("Data must be an object, but it was:",_,i);const T=GI(i,_);let F,H;if(p.merge)F=new zn(_.fieldMask),H=_.fieldTransforms;else if(p.mergeFields){const te=[];for(const pe of p.mergeFields){const Ve=tv(e,pe,t);if(!_.contains(Ve))throw new St(st.INVALID_ARGUMENT,`Field '${Ve}' is specified in your field mask but missing from your input data.`);yD(te,Ve)||te.push(Ve)}F=new zn(te),H=_.fieldTransforms.filter(pe=>F.covers(pe.field))}else F=null,H=_.fieldTransforms;return new Y1(new qo(T),F,H)}class ev extends Jy{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ev}}function pD(n,e,t){return new VI({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class gD extends Jy{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=pD(this,e,!0),i=this.pa.map(p=>u_(p,t)),c=new mf(i);return new Dy(e.path,c)}isEqual(e){return this===e}}class mD extends Jy{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=pD(this,e,!0),i=this.pa.map(p=>u_(p,t)),c=new md(i);return new Dy(e.path,c)}isEqual(e){return this===e}}function J1(n,e,t,i=!1){return u_(t,n.ya(i?4:3,e))}function u_(n,e){if(X1(n=(0,fe.m9)(n)))return jI("Unsupported field value:",e,n),GI(n,e);if(n instanceof Jy)return function(t,i){if(!qC(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const c=t._toFieldTransform(i);c&&i.fieldTransforms.push(c)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const c=[];let p=0;for(const _ of t){let T=u_(_,i.wa(p));null==T&&(T={nullValue:"NULL_VALUE"}),c.push(T),p++}return{arrayValue:{values:c}}}(n,e)}return function(t,i){if(null===(t=(0,fe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return L0(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const c=ms.fromDate(t);return{timestampValue:Xp(i.serializer,c)}}if(t instanceof ms){const c=new ms(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Xp(i.serializer,c)}}if(t instanceof Xy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Cf)return{bytesValue:HD(i.serializer,t._byteString)};if(t instanceof ao){const c=i.databaseId,p=t.firestore._databaseId;if(!p.isEqual(c))throw i._a(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Nw(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${Qy(t)}`)}(n,e)}function GI(n,e){const t={};return jt(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ft(n,(i,c)=>{const p=u_(c,e.ha(i));null!=p&&(t[i]=p)}),{mapValue:{fields:t}}}function X1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ms||n instanceof Xy||n instanceof Cf||n instanceof ao||n instanceof Jy)}function jI(n,e,t){if(!X1(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=Qy(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function tv(n,e,t){if((e=(0,fe.m9)(e))instanceof Sf)return e._internalPath;if("string"==typeof e)return $I(n,e);throw eb("Field path arguments must be of type string or ",n,!1,void 0,t)}const SS=new RegExp("[~\\*/\\[\\]]");function $I(n,e,t){if(e.search(SS)>=0)throw eb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Sf(...e.split("."))._internalPath}catch{throw eb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function eb(n,e,t,i,c){const p=i&&!i.isEmpty(),_=void 0!==c;let T=`Function ${e}() called with invalid data`;t&&(T+=" (via `toFirestore()`)"),T+=". ";let F="";return(p||_)&&(F+=" (found",p&&(F+=` in field ${i}`),_&&(F+=` in document ${c}`),F+=")"),new St(st.INVALID_ARGUMENT,T+n+F)}function yD(n,e){return n.some(t=>t.isEqual(e))}class zI{constructor(e,t,i,c,p){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=c,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new ao(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new KC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class KC extends zI{data(){return super.data()}}function nv(n,e){return"string"==typeof e?$I(n,e):e instanceof Sf?e._internalPath:e._delegate._internalPath}class qI{}class rv extends qI{}function vD(n,e,...t){let i=[];e instanceof qI&&i.push(e),i=i.concat(t),function(c){const p=c.filter(T=>T instanceof Af).length,_=c.filter(T=>T instanceof tb).length;if(p>1||p>0&&_>0)throw new St(st.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const c of i)n=c._apply(n);return n}class tb extends rv{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new tb(e,t,i)}_apply(e){const t=this._parse(e);return rS(e._query,t),new xa(e.firestore,e.converter,P0(e._query,t))}_parse(e){const t=l_(e.firestore);return function(c,p,_,T,F,H,te){let pe;if(F.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new St(st.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){wD(te,H);const Ve=[];for(const ut of te)Ve.push(bD(T,c,ut));pe={arrayValue:{values:Ve}}}else pe=bD(T,c,te)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||wD(te,H),pe=J1(_,"where",te,"in"===H||"not-in"===H);return Yr.create(F,H,pe)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function YC(n,e,t){const i=e,c=nv("where",n);return tb._create(c,i,t)}class Af extends qI{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Af(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Ai.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,c){let p=i;const _=c.getFlattenedFilters();for(const T of _)rS(p,T),p=P0(p,T)}(e._query,t),new xa(e.firestore,e.converter,P0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ZI extends rv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ZI(e,t)}_apply(e){const t=function(i,c,p){if(null!==i.startAt)throw new St(st.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new St(st.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const _=new pd(c,p);return function(T,F){if(null===lw(T)){const H=oo(T);null!==H&&iS(0,H,F.field)}}(i,_),_}(e._query,this._field,this._direction);return new xa(e.firestore,e.converter,function(i,c){const p=i.explicitOrderBy.concat([c]);return new ff(i.path,i.collectionGroup,p,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function nb(n,e="asc"){const t=e,i=nv("orderBy",n);return ZI._create(i,t)}class rb extends rv{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new rb(e,t,i)}_apply(e){return new xa(e.firestore,e.converter,k0(e._query,this._limit,this._limitType))}}function XC(n){return function q1(n,e){if(e<=0)throw new St(st.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}("limit",n),rb._create("limit",n,"F")}class iv extends rv{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new iv(e,t,i)}_apply(e){const t=function nS(n,e,t,i){if(t[0]=(0,fe.m9)(t[0]),t[0]instanceof zI)return function(c,p,_,T,F){if(!T)throw new St(st.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${_}().`);const H=[];for(const te of Kp(c))if(te.field.isKeyField())H.push(cl(p,T.key));else{const pe=T.data.field(te.field);if(Fc(pe))throw new St(st.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+te.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===pe){const Ve=te.field.canonicalString();throw new St(st.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ve}' (used as the orderBy) does not exist.`)}H.push(pe)}return new kl(H,F)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const c=l_(n.firestore);return function(p,_,T,F,H,te){const pe=p.explicitOrderBy;if(H.length>pe.length)throw new St(st.INVALID_ARGUMENT,`Too many arguments provided to ${F}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ve=[];for(let ut=0;ut<H.length;ut++){const Lt=H[ut];if(pe[ut].field.isKeyField()){if("string"!=typeof Lt)throw new St(st.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${F}(), but got a ${typeof Lt}`);if(!R0(p)&&-1!==Lt.indexOf("/"))throw new St(st.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${F}() must be a plain document ID, but '${Lt}' contains a slash.`);const sn=p.path.child(hr.fromString(Lt));if(!Yt.isDocumentKey(sn))throw new St(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${F}() must result in a valid document path, but '${sn}' is not because it contains an odd number of segments.`);const cn=new Yt(sn);Ve.push(cl(_,cn))}else{const sn=J1(T,F,Lt);Ve.push(sn)}}return new kl(Ve,te)}(n._query,n.firestore._databaseId,c,e,t,i)}}(e,this.type,this._docOrFields,this._inclusive);return new xa(e.firestore,e.converter,(c=t,new ff((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,c,i.endAt)));var i,c}}function tS(...n){return iv._create("startAfter",n,!1)}function bD(n,e,t){if("string"==typeof(t=(0,fe.m9)(t))){if(""===t)throw new St(st.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!R0(e)&&-1!==t.indexOf("/"))throw new St(st.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(hr.fromString(t));if(!Yt.isDocumentKey(i))throw new St(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return cl(n,new Yt(i))}if(t instanceof ao)return cl(n,t._key);throw new St(st.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qy(t)}.`)}function wD(n,e){if(!Array.isArray(n)||0===n.length)throw new St(st.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rS(n,e){if(e.isInequality()){const i=oo(n),c=e.field;if(null!==i&&!i.isEqual(c))throw new St(st.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${c.toString()}'`);const p=lw(n);null!==p&&iS(0,c,p)}const t=function(i,c){for(const p of i)for(const _ of p.getFlattenedFilters())if(c.indexOf(_.op)>=0)return _.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new St(st.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function iS(n,e,t){if(!t.isEqual(e))throw new St(st.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class NS{convertValue(e,t="none"){switch(ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _r(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw dn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ft(e,(c,p)=>{i[c]=this.convertValue(p,t)}),i}convertGeoPoint(e){return new Xy(_r(e.latitude),_r(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Jt(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(gn(e));default:return null}}convertTimestamp(e){const t=Pi(e);return new ms(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=hr.fromString(e);Tn($m(i));const c=new sr(i.get(1),i.get(3)),p=new Yt(i.popFirst(5));return c.isEqual(t)||io(`Document ${p} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),p}}function ID(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class fg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sv extends zI{constructor(e,t,i,c,p,_){super(e,t,i,c,_),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new r(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(nv("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class r extends sv{data(e={}){return super.data(e)}}class s{constructor(e,t,i,c){this._firestore=e,this._userDataWriter=t,this._snapshot=c,this.metadata=new fg(c.hasPendingWrites,c.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new r(this._firestore,this._userDataWriter,i.key,i,new fg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new St(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,c){if(i._snapshot.oldDocs.isEmpty()){let p=0;return i._snapshot.docChanges.map(_=>({type:"added",doc:new r(i._firestore,i._userDataWriter,_.doc.key,_.doc,new fg(i._snapshot.mutatedKeys.has(_.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:p++}))}{let p=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(_=>c||3!==_.type).map(_=>{const T=new r(i._firestore,i._userDataWriter,_.doc.key,_.doc,new fg(i._snapshot.mutatedKeys.has(_.doc.key),i._snapshot.fromCache),i.query.converter);let F=-1,H=-1;return 0!==_.type&&(F=p.indexOf(_.doc.key),p=p.delete(_.doc.key)),1!==_.type&&(p=p.add(_.doc),H=p.indexOf(_.doc.key)),{type:a(_.type),doc:T,oldIndex:F,newIndex:H}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function a(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dn()}}function g(n){n=ri(n,ao);const e=ri(n.firestore,Ms);return function z1(n,e,t={}){const i=new so;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(c,p,_,T,F){const H=new V1({next:pe=>{p.enqueueAndForget(()=>qy(c,te));const Ve=pe.docs.has(_);!Ve&&pe.fromCache?F.reject(new St(st.UNAVAILABLE,"Failed to get document because the client is offline.")):Ve&&pe.fromCache&&T&&"server"===T.source?F.reject(new St(st.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):F.resolve(pe)},error:pe=>F.reject(pe)}),te=new kT(Mm(_.path),H,{includeMetadataChanges:!0,Ku:!0});return uI(c,te)}(yield dg(n),n.asyncQueue,e,t,i)})),i.promise}(Co(e),n._key).then(t=>function bt(n,e,t){const i=t.docs.get(e._key),c=new y(n);return new sv(n,c,e._key,i,new fg(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class y extends NS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ao(this.firestore,null,t)}}function R(n){n=ri(n,xa);const e=ri(n.firestore,Ms),t=Co(e),i=new y(e);return function WI(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new St(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function iD(n,e,t={}){const i=new so;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(c,p,_,T,F){const H=new V1({next:pe=>{p.enqueueAndForget(()=>qy(c,te)),pe.fromCache&&"server"===T.source?F.reject(new St(st.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):F.resolve(pe)},error:pe=>F.reject(pe)}),te=new kT(_,H,{includeMetadataChanges:!0,Ku:!0});return uI(c,te)}(yield dg(n),n.asyncQueue,e,t,i)})),i.promise}(t,n._query).then(c=>new s(e,i,n,c))}function me(n,e,t){n=ri(n,ao);const i=ri(n.firestore,Ms),c=ID(n.converter,e,t);return In(i,[UI(l_(i),"setDoc",n._key,c,null!==n.converter,t).toMutation(n._key,Xi.none())])}function xe(n,e,t,...i){n=ri(n,ao);const c=ri(n.firestore,Ms),p=l_(c);let _;return _="string"==typeof(e=(0,fe.m9)(e))||e instanceof Sf?function HI(n,e,t,i,c,p){const _=n.ya(1,e,t),T=[tv(e,i,t)],F=[c];if(p.length%2!=0)throw new St(st.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ve=0;Ve<p.length;Ve+=2)T.push(tv(e,p[Ve])),F.push(p[Ve+1]);const H=[],te=qo.empty();for(let Ve=T.length-1;Ve>=0;--Ve)if(!yD(H,T[Ve])){const ut=T[Ve];let Lt=F[Ve];Lt=(0,fe.m9)(Lt);const sn=_.da(ut);if(Lt instanceof ev)H.push(ut);else{const cn=u_(Lt,sn);null!=cn&&(H.push(ut),te.set(ut,cn))}}const pe=new zn(H);return new WC(te,pe,_.fieldTransforms)}(p,"updateDoc",n._key,e,t,i):function _D(n,e,t,i){const c=n.ya(1,e,t);jI("Data must be an object, but it was:",c,i);const p=[],_=qo.empty();Ft(i,(F,H)=>{const te=$I(e,F,t);H=(0,fe.m9)(H);const pe=c.da(te);if(H instanceof ev)p.push(te);else{const Ve=u_(H,pe);null!=Ve&&(p.push(te),_.set(te,Ve))}});const T=new zn(p);return new WC(_,T,c.fieldTransforms)}(p,"updateDoc",n._key,e),In(c,[_.toMutation(n._key,Xi.exists(!0))])}function Be(n){return In(ri(n.firestore,Ms),[new Fm(n._key,Xi.none())])}function pt(n,e){const t=ri(n.firestore,Ms),i=FI(n),c=ID(n.converter,e);return In(t,[UI(l_(n.firestore),"addDoc",i._key,c,null!==n.converter,{}).toMutation(i._key,Xi.exists(!1))]).then(()=>i)}function In(n,e){return function(t,i){const c=new so;return t.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function HT(n,e,t){return N1.apply(this,arguments)}(yield function $1(n){return Yy(n).then(e=>e.syncEngine)}(t),i,c)})),c.promise}(Co(n),e)}function eA(...n){return new gD("arrayUnion",n)}function tA(...n){return new mD("arrayRemove",n)}!function(n,e=!0){uu=Ee.Jn,(0,Ee.Xd)(new ce.wA("firestore",(t,{instanceIdentifier:i,options:c})=>{const p=t.getProvider("app").getImmediate(),_=new Ms(new w0(t.getProvider("auth-internal")),new T0(t.getProvider("app-check-internal")),function(T,F){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new St(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sr(T.options.projectId,F)}(p,i),p);return c=Object.assign({useFetchStreams:e},c),_._setSettings(c),_},"PUBLIC").setMultipleInstances(!0)),(0,Ee.KN)(uy,"3.13.0",n),(0,Ee.KN)(uy,"3.13.0","esm2017")}();class DD{constructor(e){return e}}const FS="firestore",oS=new re.OlP("angularfire2.firestore-instances");function iA(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new DD(i)}}const sA={provide:class nA{constructor(){return(0,b.vb)(FS)}},deps:[[new re.FiY,oS]]},oA={provide:DD,useFactory:function rA(n,e){const t=(0,b.JM)(FS,n,e);return t&&new DD(t)},deps:[[new re.FiY,oS],u.Ot]};let aA=(()=>{class n{constructor(){(0,be.KN)("angularfire",b.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re.oAB({type:n}),n.\u0275inj=re.cJS({providers:[oA,sA]}),n})();function cA(n,...e){return{ngModule:aA,providers:[{provide:oS,useFactory:iA(n),multi:!0,deps:[re.R0b,re.zs3,b.HU,u.z6,[new re.FiY,dv],[new re.FiY,eu],...e]}]}}const lA=(0,b.u3)(pt,!0),uA=(0,b.u3)(tA,!0),dA=(0,b.u3)(eA,!0),hA=(0,b.u3)(Z1,!0),fA=(0,b.u3)(Be,!0),pA=(0,b.u3)(FI,!0),gA=(0,b.u3)(g,!0),mA=(0,b.u3)(R,!0),_A=(0,b.u3)(IS,!0),yA=(0,b.u3)(XC,!0),vA=(0,b.u3)(nb,!0),bA=(0,b.u3)(vD,!0),wA=(0,b.u3)(me,!0),IA=(0,b.u3)(tS,!0),EA=(0,b.u3)(xe,!0),TA=(0,b.u3)(YC,!0)},6106:(Vt,Ge,K)=>{K.d(Ge,{q4:()=>Iu,HU:()=>Md,vb:()=>Pf,JM:()=>Kl,u3:()=>Rd});var b=K(9468),re=K(4097),u=K(5861),be=K(7592),ue=K(229),fe=K(6820),Ee=K(7879);const Qe=(O,L)=>L.some(J=>O instanceof J);let Re,ce;const Se=new WeakMap,Oe=new WeakMap,Ye=new WeakMap,Tt=new WeakMap,kt=new WeakMap;let Mt={get(O,L,J){if(O instanceof IDBTransaction){if("done"===L)return Oe.get(O);if("objectStoreNames"===L)return O.objectStoreNames||Ye.get(O);if("store"===L)return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return _t(O[L])},set:(O,L,J)=>(O[L]=J,!0),has:(O,L)=>O instanceof IDBTransaction&&("done"===L||"store"===L)||L in O};function yt(O){return"function"==typeof O?function ot(O){return O!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Me(){return ce||(ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(O)?function(...L){return O.apply(je(this),L),_t(Se.get(this))}:function(...L){return _t(O.apply(je(this),L))}:function(L,...J){const he=O.call(je(this),L,...J);return Ye.set(he,L.sort?L.sort():[L]),_t(he)}}(O):(O instanceof IDBTransaction&&function Cn(O){if(Oe.has(O))return;const L=new Promise((J,he)=>{const Ne=()=>{O.removeEventListener("complete",Le),O.removeEventListener("error",at),O.removeEventListener("abort",at)},Le=()=>{J(),Ne()},at=()=>{he(O.error||new DOMException("AbortError","AbortError")),Ne()};O.addEventListener("complete",Le),O.addEventListener("error",at),O.addEventListener("abort",at)});Oe.set(O,L)}(O),Qe(O,function de(){return Re||(Re=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(O,Mt):O)}function _t(O){if(O instanceof IDBRequest)return function Ot(O){const L=new Promise((J,he)=>{const Ne=()=>{O.removeEventListener("success",Le),O.removeEventListener("error",at)},Le=()=>{J(_t(O.result)),Ne()},at=()=>{he(O.error),Ne()};O.addEventListener("success",Le),O.addEventListener("error",at)});return L.then(J=>{J instanceof IDBCursor&&Se.set(J,O)}).catch(()=>{}),kt.set(L,O),L}(O);if(Tt.has(O))return Tt.get(O);const L=yt(O);return L!==O&&(Tt.set(O,L),kt.set(L,O)),L}const je=O=>kt.get(O),mt=["get","getKey","getAll","getAllKeys","count"],kn=["put","add","delete","clear"],dt=new Map;function hn(O,L){if(!(O instanceof IDBDatabase)||L in O||"string"!=typeof L)return;if(dt.get(L))return dt.get(L);const J=L.replace(/FromIndex$/,""),he=L!==J,Ne=kn.includes(J);if(!(J in(he?IDBIndex:IDBObjectStore).prototype)||!Ne&&!mt.includes(J))return;const Le=function(){var at=(0,u.Z)(function*(Ht,...Gt){const bn=this.transaction(Ht,Ne?"readwrite":"readonly");let qn=bn.store;return he&&(qn=qn.index(Gt.shift())),(yield Promise.all([qn[J](...Gt),Ne&&bn.done]))[0]});return function(Gt){return at.apply(this,arguments)}}();return dt.set(L,Le),Le}!function ft(O){Mt=O(Mt)}(O=>({...O,get:(L,J,he)=>hn(L,J)||O.get(L,J,he),has:(L,J)=>!!hn(L,J)||O.has(L,J)}));const Sn="@firebase/installations",Un="0.6.4",or=1e4,yr=`w:${Un}`,Fe="FIS_v2",$e="https://firebaseinstallations.googleapis.com/v1",Xe=36e5,Pt=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ut(O){return O instanceof ue.ZR&&O.code.includes("request-failed")}function fn({projectId:O}){return`${$e}/projects/${O}/installations`}function wn(O){return{token:O.token,requestStatus:2,expiresIn:Pe(O.expiresIn),creationTime:Date.now()}}function un(O,L){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,u.Z)(function*(O,L){const he=(yield L.json()).error;return Pt.create("request-failed",{requestName:O,serverCode:he.code,serverMessage:he.message,serverStatus:he.status})})).apply(this,arguments)}function Wn({apiKey:O}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O})}function Br(O){return De.apply(this,arguments)}function De(){return(De=(0,u.Z)(function*(O){const L=yield O();return L.status>=500&&L.status<600?O():L})).apply(this,arguments)}function Pe(O){return Number(O.replace("s","000"))}function vt(){return(vt=(0,u.Z)(function*({appConfig:O,heartbeatServiceProvider:L},{fid:J}){const he=fn(O),Ne=Wn(O),Le=L.getImmediate({optional:!0});if(Le){const bn=yield Le.getHeartbeatsHeader();bn&&Ne.append("x-firebase-client",bn)}const Ht={method:"POST",headers:Ne,body:JSON.stringify({fid:J,authVersion:Fe,appId:O.appId,sdkVersion:yr})},Gt=yield Br(()=>fetch(he,Ht));if(Gt.ok){const bn=yield Gt.json();return{fid:bn.fid||J,registrationStatus:2,refreshToken:bn.refreshToken,authToken:wn(bn.authToken)}}throw yield un("Create Installation",Gt)})).apply(this,arguments)}function At(O){return new Promise(L=>{setTimeout(L,O)})}const An=/^[cdef][\w-]{21}$/,on="";function Xt(){try{const O=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(O),O[0]=112+O[0]%16;const J=function En(O){return function wr(O){return btoa(String.fromCharCode(...O)).replace(/\+/g,"-").replace(/\//g,"_")}(O).substr(0,22)}(O);return An.test(J)?J:on}catch{return on}}function Jn(O){return`${O.appName}!${O.appId}`}const tn=new Map;function Cr(O,L){const J=Jn(O);ar(J,L),function Yn(O,L){const J=function jn(){return!cr&&"BroadcastChannel"in self&&(cr=new BroadcastChannel("[Firebase] FID Change"),cr.onmessage=O=>{ar(O.data.key,O.data.fid)}),cr}();J&&J.postMessage({key:O,fid:L}),function ai(){0===tn.size&&cr&&(cr.close(),cr=null)}()}(J,L)}function ar(O,L){const J=tn.get(O);if(J)for(const he of J)he(L)}let cr=null;const xn="firebase-installations-database",Xn=1,Nr="firebase-installations-store";let ci=null;function nt(){return ci||(ci=function ve(O,L,{blocked:J,upgrade:he,blocking:Ne,terminated:Le}={}){const at=indexedDB.open(O,L),Ht=_t(at);return he&&at.addEventListener("upgradeneeded",Gt=>{he(_t(at.result),Gt.oldVersion,Gt.newVersion,_t(at.transaction))}),J&&at.addEventListener("blocked",()=>J()),Ht.then(Gt=>{Le&&Gt.addEventListener("close",()=>Le()),Ne&&Gt.addEventListener("versionchange",()=>Ne())}).catch(()=>{}),Ht}(xn,Xn,{upgrade:(O,L)=>{0===L&&O.createObjectStore(Nr)}})),ci}function Ce(O,L){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,u.Z)(function*(O,L){const J=Jn(O),Ne=(yield nt()).transaction(Nr,"readwrite"),Le=Ne.objectStore(Nr),at=yield Le.get(J);return yield Le.put(L,J),yield Ne.done,(!at||at.fid!==L.fid)&&Cr(O,L.fid),L})).apply(this,arguments)}function It(O){return zt.apply(this,arguments)}function zt(){return(zt=(0,u.Z)(function*(O){const L=Jn(O),he=(yield nt()).transaction(Nr,"readwrite");yield he.objectStore(Nr).delete(L),yield he.done})).apply(this,arguments)}function Zt(O,L){return $n.apply(this,arguments)}function $n(){return($n=(0,u.Z)(function*(O,L){const J=Jn(O),Ne=(yield nt()).transaction(Nr,"readwrite"),Le=Ne.objectStore(Nr),at=yield Le.get(J),Ht=L(at);return void 0===Ht?yield Le.delete(J):yield Le.put(Ht,J),yield Ne.done,Ht&&(!at||at.fid!==Ht.fid)&&Cr(O,Ht.fid),Ht})).apply(this,arguments)}function Y(O){return V.apply(this,arguments)}function V(){return V=(0,u.Z)(function*(O){let L;const J=yield Zt(O.appConfig,he=>{const Ne=function G(O){return pn(O||{fid:Xt(),registrationStatus:0})}(he),Le=function W(O,L){if(0===L.registrationStatus){if(!navigator.onLine)return{installationEntry:L,registrationPromise:Promise.reject(Pt.create("app-offline"))};const J={fid:L.fid,registrationStatus:1,registrationTime:Date.now()},he=function $(O,L){return we.apply(this,arguments)}(O,J);return{installationEntry:J,registrationPromise:he}}return 1===L.registrationStatus?{installationEntry:L,registrationPromise:We(O)}:{installationEntry:L}}(O,Ne);return L=Le.registrationPromise,Le.installationEntry});return J.fid===on?{installationEntry:yield L}:{installationEntry:J,registrationPromise:L}}),V.apply(this,arguments)}function we(){return we=(0,u.Z)(function*(O,L){try{const J=yield function ct(O,L){return vt.apply(this,arguments)}(O,L);return Ce(O.appConfig,J)}catch(J){throw Ut(J)&&409===J.customData.serverCode?yield It(O.appConfig):yield Ce(O.appConfig,{fid:L.fid,registrationStatus:0}),J}}),we.apply(this,arguments)}function We(O){return Et.apply(this,arguments)}function Et(){return(Et=(0,u.Z)(function*(O){let L=yield an(O.appConfig);for(;1===L.registrationStatus;)yield At(100),L=yield an(O.appConfig);if(0===L.registrationStatus){const{installationEntry:J,registrationPromise:he}=yield Y(O);return he||J}return L})).apply(this,arguments)}function an(O){return Zt(O,L=>{if(!L)throw Pt.create("installation-not-found");return pn(L)})}function pn(O){return function Nn(O){return 1===O.registrationStatus&&O.registrationTime+or<Date.now()}(O)?{fid:O.fid,registrationStatus:0}:O}function Fn(){return(Fn=(0,u.Z)(function*({appConfig:O,heartbeatServiceProvider:L},J){const he=function Wr(O,{fid:L}){return`${fn(O)}/${L}/authTokens:generate`}(O,J),Ne=function vr(O,{refreshToken:L}){const J=Wn(O);return J.append("Authorization",function ke(O){return`${Fe} ${O}`}(L)),J}(O,J),Le=L.getImmediate({optional:!0});if(Le){const bn=yield Le.getHeartbeatsHeader();bn&&Ne.append("x-firebase-client",bn)}const Ht={method:"POST",headers:Ne,body:JSON.stringify({installation:{sdkVersion:yr,appId:O.appId}})},Gt=yield Br(()=>fetch(he,Ht));if(Gt.ok)return wn(yield Gt.json());throw yield un("Generate Auth Token",Gt)})).apply(this,arguments)}function tr(O){return qs.apply(this,arguments)}function qs(){return qs=(0,u.Z)(function*(O,L=!1){let J;const he=yield Zt(O.appConfig,Le=>{if(!Gr(Le))throw Pt.create("not-registered");const at=Le.authToken;if(!L&&function Ao(O){return 2===O.requestStatus&&!function ys(O){const L=Date.now();return L<O.creationTime||O.creationTime+O.expiresIn<L+Xe}(O)}(at))return Le;if(1===at.requestStatus)return J=function Hi(O,L){return ls.apply(this,arguments)}(O,L),Le;{if(!navigator.onLine)throw Pt.create("app-offline");const Ht=function ts(O){const L={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},O),{authToken:L})}(Le);return J=function Ra(O,L){return Pa.apply(this,arguments)}(O,Ht),Ht}});return J?yield J:he.authToken}),qs.apply(this,arguments)}function ls(){return(ls=(0,u.Z)(function*(O,L){let J=yield Yo(O.appConfig);for(;1===J.authToken.requestStatus;)yield At(100),J=yield Yo(O.appConfig);const he=J.authToken;return 0===he.requestStatus?tr(O,L):he})).apply(this,arguments)}function Yo(O){return Zt(O,L=>{if(!Gr(L))throw Pt.create("not-registered");return function lr(O){return 1===O.requestStatus&&O.requestTime+or<Date.now()}(L.authToken)?Object.assign(Object.assign({},L),{authToken:{requestStatus:0}}):L})}function Pa(){return Pa=(0,u.Z)(function*(O,L){try{const J=yield function Kt(O,L){return Fn.apply(this,arguments)}(O,L),he=Object.assign(Object.assign({},L),{authToken:J});return yield Ce(O.appConfig,he),J}catch(J){if(!Ut(J)||401!==J.customData.serverCode&&404!==J.customData.serverCode){const he=Object.assign(Object.assign({},L),{authToken:{requestStatus:0}});yield Ce(O.appConfig,he)}else yield It(O.appConfig);throw J}}),Pa.apply(this,arguments)}function Gr(O){return void 0!==O&&2===O.registrationStatus}function No(){return(No=(0,u.Z)(function*(O){const L=O,{installationEntry:J,registrationPromise:he}=yield Y(L);return he?he.catch(console.error):tr(L).catch(console.error),J.fid})).apply(this,arguments)}function va(){return va=(0,u.Z)(function*(O,L=!1){const J=O;return yield function Gi(O){return xs.apply(this,arguments)}(J),(yield tr(J,L)).token}),va.apply(this,arguments)}function xs(){return(xs=(0,u.Z)(function*(O){const{registrationPromise:L}=yield Y(O);L&&(yield L)})).apply(this,arguments)}function Rs(O){return Pt.create("missing-app-config-values",{valueName:O})}const ba="installations",vs=O=>{const L=O.getProvider("app").getImmediate(),J=function ka(O){if(!O||!O.options)throw Rs("App Configuration");if(!O.name)throw Rs("App Name");const L=["projectId","apiKey","appId"];for(const J of L)if(!O.options[J])throw Rs(J);return{appName:O.name,projectId:O.options.projectId,apiKey:O.options.apiKey,appId:O.options.appId}}(L);return{app:L,appConfig:J,heartbeatServiceProvider:(0,be.qX)(L,"heartbeat"),_delete:()=>Promise.resolve()}},ii=O=>{const L=O.getProvider("app").getImmediate(),J=(0,be.qX)(L,ba).getImmediate();return{getId:()=>function co(O){return No.apply(this,arguments)}(J),getToken:Ne=>function Qo(O){return va.apply(this,arguments)}(J,Ne)}};(function Ps(){(0,be.Xd)(new fe.wA(ba,vs,"PUBLIC")),(0,be.Xd)(new fe.wA("installations-internal",ii,"PRIVATE"))})(),(0,be.KN)(Sn,Un),(0,be.KN)(Sn,Un,"esm2017");const bs="@firebase/remote-config",zi=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class bi{constructor(L,J,he,Ne){this.client=L,this.storage=J,this.storageCache=he,this.logger=Ne}isCachedDataFresh(L,J){if(!J)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const he=Date.now()-J,Ne=he<=L;return this.logger.debug(`Config fetch cache check. Cache age millis: ${he}. Cache max age millis (minimumFetchIntervalMillis setting): ${L}. Is cache hit: ${Ne}.`),Ne}fetch(L){var J=this;return(0,u.Z)(function*(){const[he,Ne]=yield Promise.all([J.storage.getLastSuccessfulFetchTimestampMillis(),J.storage.getLastSuccessfulFetchResponse()]);if(Ne&&J.isCachedDataFresh(L.cacheMaxAgeMillis,he))return Ne;L.eTag=Ne&&Ne.eTag;const Le=yield J.client.fetch(L),at=[J.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Le.status&&at.push(J.storage.setLastSuccessfulFetchResponse(Le)),yield Promise.all(at),Le})()}}function Fa(O=navigator){return O.languages&&O.languages[0]||O.language}class xo{constructor(L,J,he,Ne,Le,at){this.firebaseInstallations=L,this.sdkVersion=J,this.namespace=he,this.projectId=Ne,this.apiKey=Le,this.appId=at}fetch(L){var J=this;return(0,u.Z)(function*(){const[he,Ne]=yield Promise.all([J.firebaseInstallations.getId(),J.firebaseInstallations.getToken()]),at=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${J.projectId}/namespaces/${J.namespace}:fetch?key=${J.apiKey}`,Ht={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":L.eTag||"*"},Gt={sdk_version:J.sdkVersion,app_instance_id:he,app_instance_id_token:Ne,app_id:J.appId,language_code:Fa()},bn={method:"POST",headers:Ht,body:JSON.stringify(Gt)},qn=fetch(at,bn),nr=new Promise((hc,Ac)=>{L.signal.addEventListener(()=>{const as=new Error("The operation was aborted.");as.name="AbortError",Ac(as)})});let dc;try{yield Promise.race([qn,nr]),dc=yield qn}catch(hc){let Ac="fetch-client-network";throw"AbortError"===hc?.name&&(Ac="fetch-timeout"),zi.create(Ac,{originalErrorMessage:hc?.message})}let bo=dc.status;const wh=dc.headers.get("ETag")||void 0;let Pd,Ga;if(200===dc.status){let hc;try{hc=yield dc.json()}catch(Ac){throw zi.create("fetch-client-parse",{originalErrorMessage:Ac?.message})}Pd=hc.entries,Ga=hc.state}if("INSTANCE_STATE_UNSPECIFIED"===Ga?bo=500:"NO_CHANGE"===Ga?bo=304:("NO_TEMPLATE"===Ga||"EMPTY_CONFIG"===Ga)&&(Pd={}),304!==bo&&200!==bo)throw zi.create("fetch-status",{httpStatus:bo});return{status:bo,eTag:wh,config:Pd}})()}}class Bn{constructor(L,J){this.client=L,this.storage=J}fetch(L){var J=this;return(0,u.Z)(function*(){const he=(yield J.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return J.attemptFetch(L,he)})()}attemptFetch(L,{throttleEndTimeMillis:J,backoffCount:he}){var Ne=this;return(0,u.Z)(function*(){yield function ur(O,L){return new Promise((J,he)=>{const Ne=Math.max(L-Date.now(),0),Le=setTimeout(J,Ne);O.addEventListener(()=>{clearTimeout(Le),he(zi.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(L.signal,J);try{const Le=yield Ne.client.fetch(L);return yield Ne.storage.deleteThrottleMetadata(),Le}catch(Le){if(!function Bt(O){if(!(O instanceof ue.ZR&&O.customData))return!1;const L=Number(O.customData.httpStatus);return 429===L||500===L||503===L||504===L}(Le))throw Le;const at={throttleEndTimeMillis:Date.now()+(0,ue.$s)(he),backoffCount:he+1};return yield Ne.storage.setThrottleMetadata(at),Ne.attemptFetch(L,at)}})()}}class Qs{constructor(L,J,he,Ne,Le){this.app=L,this._client=J,this._storageCache=he,this._storage=Ne,this._logger=Le,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Zr(O,L){const J=O.target.error||void 0;return zi.create(L,{originalErrorMessage:J&&J?.message})}const Oi="app_namespace_store";class mn{constructor(L,J,he,Ne=function ui(){return new Promise((O,L)=>{try{const J=indexedDB.open("firebase_remote_config",1);J.onerror=he=>{L(Zr(he,"storage-open"))},J.onsuccess=he=>{O(he.target.result)},J.onupgradeneeded=he=>{0===he.oldVersion&&he.target.result.createObjectStore(Oi,{keyPath:"compositeKey"})}}catch(J){L(zi.create("storage-open",{originalErrorMessage:J?.message}))}})}()){this.appId=L,this.appName=J,this.namespace=he,this.openDbPromise=Ne}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(L){return this.set("last_fetch_status",L)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(L){return this.set("last_successful_fetch_timestamp_millis",L)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(L){return this.set("last_successful_fetch_response",L)}getActiveConfig(){return this.get("active_config")}setActiveConfig(L){return this.set("active_config",L)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(L){return this.set("active_config_etag",L)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(L){return this.set("throttle_metadata",L)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(L){var J=this;return(0,u.Z)(function*(){const he=yield J.openDbPromise;return new Promise((Ne,Le)=>{const Ht=he.transaction([Oi],"readonly").objectStore(Oi),Gt=J.createCompositeKey(L);try{const bn=Ht.get(Gt);bn.onerror=qn=>{Le(Zr(qn,"storage-get"))},bn.onsuccess=qn=>{const nr=qn.target.result;Ne(nr?nr.value:void 0)}}catch(bn){Le(zi.create("storage-get",{originalErrorMessage:bn?.message}))}})})()}set(L,J){var he=this;return(0,u.Z)(function*(){const Ne=yield he.openDbPromise;return new Promise((Le,at)=>{const Gt=Ne.transaction([Oi],"readwrite").objectStore(Oi),bn=he.createCompositeKey(L);try{const qn=Gt.put({compositeKey:bn,value:J});qn.onerror=nr=>{at(Zr(nr,"storage-set"))},qn.onsuccess=()=>{Le()}}catch(qn){at(zi.create("storage-set",{originalErrorMessage:qn?.message}))}})})()}delete(L){var J=this;return(0,u.Z)(function*(){const he=yield J.openDbPromise;return new Promise((Ne,Le)=>{const Ht=he.transaction([Oi],"readwrite").objectStore(Oi),Gt=J.createCompositeKey(L);try{const bn=Ht.delete(Gt);bn.onerror=qn=>{Le(Zr(qn,"storage-delete"))},bn.onsuccess=()=>{Ne()}}catch(bn){Le(zi.create("storage-delete",{originalErrorMessage:bn?.message}))}})})()}createCompositeKey(L){return[this.appId,this.appName,this.namespace,L].join()}}class Js{constructor(L){this.storage=L}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var L=this;return(0,u.Z)(function*(){const J=L.storage.getLastFetchStatus(),he=L.storage.getLastSuccessfulFetchTimestampMillis(),Ne=L.storage.getActiveConfig(),Le=yield J;Le&&(L.lastFetchStatus=Le);const at=yield he;at&&(L.lastSuccessfulFetchTimestampMillis=at);const Ht=yield Ne;Ht&&(L.activeConfig=Ht)})()}setLastFetchStatus(L){return this.lastFetchStatus=L,this.storage.setLastFetchStatus(L)}setLastSuccessfulFetchTimestampMillis(L){return this.lastSuccessfulFetchTimestampMillis=L,this.storage.setLastSuccessfulFetchTimestampMillis(L)}setActiveConfig(L){return this.activeConfig=L,this.storage.setActiveConfig(L)}}function qi(){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,u.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}!function La(){(0,be.Xd)(new fe.wA("remote-config",function O(L,{instanceIdentifier:J}){const he=L.getProvider("app").getImmediate(),Ne=L.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw zi.create("registration-window");if(!(0,ue.hl)())throw zi.create("indexed-db-unavailable");const{projectId:Le,apiKey:at,appId:Ht}=he.options;if(!Le)throw zi.create("registration-project-id");if(!at)throw zi.create("registration-api-key");if(!Ht)throw zi.create("registration-app-id");const Gt=new mn(Ht,he.name,J=J||"firebase"),bn=new Js(Gt),qn=new Ee.Yd(bs);qn.logLevel=Ee.in.ERROR;const nr=new xo(Ne,be.Jn,J,Le,at,Ht),dc=new Bn(nr,Gt),bo=new bi(dc,Gt,bn,qn),wh=new Qs(he,bo,bn,Gt,qn);return function Jo(O){const L=(0,ue.m9)(O);L._initializePromise||(L._initializePromise=L._storageCache.loadFromStorage().then(()=>{L._isInitializationComplete=!0}))}(wh),wh},"PUBLIC").setMultipleInstances(!0)),(0,be.KN)(bs,"0.4.4"),(0,be.KN)(bs,"0.4.4","esm2017")}();const oi=(O,L)=>L.some(J=>O instanceof J);let uo,$c;const eo=new WeakMap,Ls=new WeakMap,Vn=new WeakMap,Wu=new WeakMap,ea=new WeakMap;let wi={get(O,L,J){if(O instanceof IDBTransaction){if("done"===L)return Ls.get(O);if("objectStoreNames"===L)return O.objectStoreNames||Vn.get(O);if("store"===L)return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return Po(O[L])},set:(O,L,J)=>(O[L]=J,!0),has:(O,L)=>O instanceof IDBTransaction&&("done"===L||"store"===L)||L in O};function xr(O){return"function"==typeof O?function Ro(O){return O!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Zi(){return $c||($c=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(O)?function(...L){return O.apply(ti(this),L),Po(eo.get(this))}:function(...L){return Po(O.apply(ti(this),L))}:function(L,...J){const he=O.call(ti(this),L,...J);return Vn.set(he,L.sort?L.sort():[L]),Po(he)}}(O):(O instanceof IDBTransaction&&function gi(O){if(Ls.has(O))return;const L=new Promise((J,he)=>{const Ne=()=>{O.removeEventListener("complete",Le),O.removeEventListener("error",at),O.removeEventListener("abort",at)},Le=()=>{J(),Ne()},at=()=>{he(O.error||new DOMException("AbortError","AbortError")),Ne()};O.addEventListener("complete",Le),O.addEventListener("error",at),O.addEventListener("abort",at)});Ls.set(O,L)}(O),oi(O,function Xs(){return uo||(uo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(O,wi):O)}function Po(O){if(O instanceof IDBRequest)return function Is(O){const L=new Promise((J,he)=>{const Ne=()=>{O.removeEventListener("success",Le),O.removeEventListener("error",at)},Le=()=>{J(Po(O.result)),Ne()},at=()=>{he(O.error),Ne()};O.addEventListener("success",Le),O.addEventListener("error",at)});return L.then(J=>{J instanceof IDBCursor&&eo.set(J,O)}).catch(()=>{}),ea.set(L,O),L}(O);if(Wu.has(O))return Wu.get(O);const L=xr(O);return L!==O&&(Wu.set(O,L),ea.set(L,O)),L}const ti=O=>ea.get(O);function Rr(O,L,{blocked:J,upgrade:he,blocking:Ne,terminated:Le}={}){const at=indexedDB.open(O,L),Ht=Po(at);return he&&at.addEventListener("upgradeneeded",Gt=>{he(Po(at.result),Gt.oldVersion,Gt.newVersion,Po(at.transaction))}),J&&at.addEventListener("blocked",()=>J()),Ht.then(Gt=>{Le&&Gt.addEventListener("close",()=>Le()),Ne&&Gt.addEventListener("versionchange",()=>Ne())}).catch(()=>{}),Ht}function Bs(O,{blocked:L}={}){const J=indexedDB.deleteDatabase(O);return L&&J.addEventListener("blocked",()=>L()),Po(J).then(()=>{})}const Es=["get","getKey","getAll","getAllKeys","count"],ta=["put","add","delete","clear"],di=new Map;function Mi(O,L){if(!(O instanceof IDBDatabase)||L in O||"string"!=typeof L)return;if(di.get(L))return di.get(L);const J=L.replace(/FromIndex$/,""),he=L!==J,Ne=ta.includes(J);if(!(J in(he?IDBIndex:IDBObjectStore).prototype)||!Ne&&!Es.includes(J))return;const Le=function(){var at=(0,u.Z)(function*(Ht,...Gt){const bn=this.transaction(Ht,Ne?"readwrite":"readonly");let qn=bn.store;return he&&(qn=qn.index(Gt.shift())),(yield Promise.all([qn[J](...Gt),Ne&&bn.done]))[0]});return function(Gt){return at.apply(this,arguments)}}();return di.set(L,Le),Le}!function vc(O){wi=O(wi)}(O=>({...O,get:(L,J,he)=>Mi(L,J)||O.get(L,J,he),has:(L,J)=>!!Mi(L,J)||O.has(L,J)}));const Ba="/firebase-messaging-sw.js",ho="/firebase-cloud-messaging-push-scope",na="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Xa="https://fcmregistrations.googleapis.com/v1",Kr="google.c.a.c_id",ra="google.c.a.c_l",pl="google.c.a.ts";var B=function(O){return O.PUSH_RECEIVED="push-received",O.NOTIFICATION_CLICKED="notification-clicked",O}(B||{});function oe(O){const L=new Uint8Array(O);return btoa(String.fromCharCode(...L)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Te(O){const J=(O+"=".repeat((4-O.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),he=atob(J),Ne=new Uint8Array(he.length);for(let Le=0;Le<he.length;++Le)Ne[Le]=he.charCodeAt(Le);return Ne}const en="fcm_token_details_db",Hn=5,ns="fcm_token_object_Store";function Ki(){return Ki=(0,u.Z)(function*(O){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Le=>Le.name).includes(en))return null;let L=null;return(yield Rr(en,Hn,{upgrade:(he=(0,u.Z)(function*(Ne,Le,at,Ht){var Gt;if(Le<2||!Ne.objectStoreNames.contains(ns))return;const bn=Ht.objectStore(ns),qn=yield bn.index("fcmSenderId").get(O);if(yield bn.clear(),qn)if(2===Le){const nr=qn;if(!nr.auth||!nr.p256dh||!nr.endpoint)return;L={token:nr.fcmToken,createTime:null!==(Gt=nr.createTime)&&void 0!==Gt?Gt:Date.now(),subscriptionOptions:{auth:nr.auth,p256dh:nr.p256dh,endpoint:nr.endpoint,swScope:nr.swScope,vapidKey:"string"==typeof nr.vapidKey?nr.vapidKey:oe(nr.vapidKey)}}}else if(3===Le){const nr=qn;L={token:nr.fcmToken,createTime:nr.createTime,subscriptionOptions:{auth:oe(nr.auth),p256dh:oe(nr.p256dh),endpoint:nr.endpoint,swScope:nr.swScope,vapidKey:oe(nr.vapidKey)}}}else if(4===Le){const nr=qn;L={token:nr.fcmToken,createTime:nr.createTime,subscriptionOptions:{auth:oe(nr.auth),p256dh:oe(nr.p256dh),endpoint:nr.endpoint,swScope:nr.swScope,vapidKey:oe(nr.vapidKey)}}}}),function(Le,at,Ht,Gt){return he.apply(this,arguments)})})).close(),yield Bs(en),yield Bs("fcm_vapid_details_db"),yield Bs("undefined"),function Ui(O){if(!O||!O.subscriptionOptions)return!1;const{subscriptionOptions:L}=O;return"number"==typeof O.createTime&&O.createTime>0&&"string"==typeof O.token&&O.token.length>0&&"string"==typeof L.auth&&L.auth.length>0&&"string"==typeof L.p256dh&&L.p256dh.length>0&&"string"==typeof L.endpoint&&L.endpoint.length>0&&"string"==typeof L.swScope&&L.swScope.length>0&&"string"==typeof L.vapidKey&&L.vapidKey.length>0}(L)?L:null;var he}),Ki.apply(this,arguments)}const ec="firebase-messaging-database",ko=1,Ea="firebase-messaging-store";let Va=null;function tc(){return Va||(Va=Rr(ec,ko,{upgrade:(O,L)=>{0===L&&O.createObjectStore(Ea)}})),Va}function Vs(O){return Vl.apply(this,arguments)}function Vl(){return Vl=(0,u.Z)(function*(O){const L=fo(O),he=yield(yield tc()).transaction(Ea).objectStore(Ea).get(L);if(he)return he;{const Ne=yield function to(O){return Ki.apply(this,arguments)}(O.appConfig.senderId);if(Ne)return yield nc(O,Ne),Ne}}),Vl.apply(this,arguments)}function nc(O,L){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,u.Z)(function*(O,L){const J=fo(O),Ne=(yield tc()).transaction(Ea,"readwrite");return yield Ne.objectStore(Ea).put(L,J),yield Ne.done,L})).apply(this,arguments)}function rs(){return(rs=(0,u.Z)(function*(O){const L=fo(O),he=(yield tc()).transaction(Ea,"readwrite");yield he.objectStore(Ea).delete(L),yield he.done})).apply(this,arguments)}function fo({appConfig:O}){return O.appId}const hi=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function zc(O,L){return bc.apply(this,arguments)}function bc(){return(bc=(0,u.Z)(function*(O,L){const J=yield sa(O),he=mi(L),Ne={method:"POST",headers:J,body:JSON.stringify(he)};let Le;try{Le=yield(yield fetch(Us(O.appConfig),Ne)).json()}catch(at){throw hi.create("token-subscribe-failed",{errorInfo:at?.toString()})}if(Le.error)throw hi.create("token-subscribe-failed",{errorInfo:Le.error.message});if(!Le.token)throw hi.create("token-subscribe-no-token");return Le.token})).apply(this,arguments)}function Ta(){return(Ta=(0,u.Z)(function*(O,L){const J=yield sa(O),he=mi(L.subscriptionOptions),Ne={method:"PATCH",headers:J,body:JSON.stringify(he)};let Le;try{Le=yield(yield fetch(`${Us(O.appConfig)}/${L.token}`,Ne)).json()}catch(at){throw hi.create("token-update-failed",{errorInfo:at?.toString()})}if(Le.error)throw hi.create("token-update-failed",{errorInfo:Le.error.message});if(!Le.token)throw hi.create("token-update-no-token");return Le.token})).apply(this,arguments)}function Wc(O,L){return po.apply(this,arguments)}function po(){return(po=(0,u.Z)(function*(O,L){const he={method:"DELETE",headers:yield sa(O)};try{const Le=yield(yield fetch(`${Us(O.appConfig)}/${L}`,he)).json();if(Le.error)throw hi.create("token-unsubscribe-failed",{errorInfo:Le.error.message})}catch(Ne){throw hi.create("token-unsubscribe-failed",{errorInfo:Ne?.toString()})}})).apply(this,arguments)}function Us({projectId:O}){return`${Xa}/projects/${O}/registrations`}function sa(O){return wc.apply(this,arguments)}function wc(){return(wc=(0,u.Z)(function*({appConfig:O,installations:L}){const J=yield L.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O.apiKey,"x-goog-firebase-installations-auth":`FIS ${J}`})})).apply(this,arguments)}function mi({p256dh:O,auth:L,endpoint:J,vapidKey:he}){const Ne={web:{endpoint:J,auth:L,p256dh:O}};return he!==na&&(Ne.web.applicationPubKey=he),Ne}const Ts=6048e5;function is(){return is=(0,u.Z)(function*(O){const L=yield function fs(O,L){return qu.apply(this,arguments)}(O.swRegistration,O.vapidKey),J={vapidKey:O.vapidKey,swScope:O.swRegistration.scope,endpoint:L.endpoint,auth:oe(L.getKey("auth")),p256dh:oe(L.getKey("p256dh"))},he=yield Vs(O.firebaseDependencies);if(he){if(function M(O,L){return L.vapidKey===O.vapidKey&&L.endpoint===O.endpoint&&L.auth===O.auth&&L.p256dh===O.p256dh}(he.subscriptionOptions,J))return Date.now()>=he.createTime+Ts?function ic(O,L){return qc.apply(this,arguments)}(O,{token:he.token,createTime:Date.now(),subscriptionOptions:J}):he.token;try{yield Wc(O.firebaseDependencies,he.token)}catch(Ne){console.warn(Ne)}return hu(O.firebaseDependencies,J)}return hu(O.firebaseDependencies,J)}),is.apply(this,arguments)}function rc(){return rc=(0,u.Z)(function*(O){const L=yield Vs(O.firebaseDependencies);L&&(yield Wc(O.firebaseDependencies,L.token),yield function ia(O){return rs.apply(this,arguments)}(O.firebaseDependencies));const J=yield O.swRegistration.pushManager.getSubscription();return!J||J.unsubscribe()}),rc.apply(this,arguments)}function qc(){return qc=(0,u.Z)(function*(O,L){try{const J=yield function gh(O,L){return Ta.apply(this,arguments)}(O.firebaseDependencies,L),he=Object.assign(Object.assign({},L),{token:J,createTime:Date.now()});return yield nc(O.firebaseDependencies,he),J}catch(J){throw yield function ml(O){return rc.apply(this,arguments)}(O),J}}),qc.apply(this,arguments)}function hu(O,L){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,u.Z)(function*(O,L){const he={token:yield zc(O,L),createTime:Date.now(),subscriptionOptions:L};return yield nc(O,he),he.token})).apply(this,arguments)}function qu(){return(qu=(0,u.Z)(function*(O,L){return(yield O.pushManager.getSubscription())||O.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Te(L)})})).apply(this,arguments)}function ne(O){const L={from:O.from,collapseKey:O.collapse_key,messageId:O.fcmMessageId};return function U(O,L){if(!L.notification)return;O.notification={};const J=L.notification.title;J&&(O.notification.title=J);const he=L.notification.body;he&&(O.notification.body=he);const Ne=L.notification.image;Ne&&(O.notification.image=Ne);const Le=L.notification.icon;Le&&(O.notification.icon=Le)}(L,O),function ee(O,L){L.data&&(O.data=L.data)}(L,O),function ye(O,L){var J,he,Ne,Le,at;if(!(L.fcmOptions||null!==(J=L.notification)&&void 0!==J&&J.click_action))return;O.fcmOptions={};const Ht=null!==(Ne=null===(he=L.fcmOptions)||void 0===he?void 0:he.link)&&void 0!==Ne?Ne:null===(Le=L.notification)||void 0===Le?void 0:Le.click_action;Ht&&(O.fcmOptions.link=Ht);const Gt=null===(at=L.fcmOptions)||void 0===at?void 0:at.analytics_label;Gt&&(O.fcmOptions.analyticsLabel=Gt)}(L,O),L}function gt(O,L){const J=[];for(let he=0;he<O.length;he++)J.push(O.charAt(he)),he<L.length&&J.push(L.charAt(he));return J.join("")}function Pr(O){return hi.create("missing-app-config-values",{valueName:O})}gt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),gt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class $r{constructor(L,J,he){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ne=function vn(O){if(!O||!O.options)throw Pr("App Configuration Object");if(!O.name)throw Pr("App Name");const L=["projectId","apiKey","appId","messagingSenderId"],{options:J}=O;for(const he of L)if(!J[he])throw Pr(he);return{appName:O.name,projectId:J.projectId,apiKey:J.apiKey,appId:J.appId,senderId:J.messagingSenderId}}(L);this.firebaseDependencies={app:L,appConfig:Ne,installations:J,analyticsProvider:he}}_delete(){return Promise.resolve()}}function Kn(){return(Kn=(0,u.Z)(function*(O){try{O.swRegistration=yield navigator.serviceWorker.register(Ba,{scope:ho}),O.swRegistration.update().catch(()=>{})}catch(L){throw hi.create("failed-service-worker-registration",{browserErrorMessage:L?.message})}})).apply(this,arguments)}function Sr(){return(Sr=(0,u.Z)(function*(O,L){if(!L&&!O.swRegistration&&(yield function pr(O){return Kn.apply(this,arguments)}(O)),L||!O.swRegistration){if(!(L instanceof ServiceWorkerRegistration))throw hi.create("invalid-sw-registration");O.swRegistration=L}})).apply(this,arguments)}function ps(){return(ps=(0,u.Z)(function*(O,L){L?O.vapidKey=L:O.vapidKey||(O.vapidKey=na)})).apply(this,arguments)}function yi(){return yi=(0,u.Z)(function*(O,L){if(!navigator)throw hi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw hi.create("permission-blocked");return yield function kr(O,L){return ps.apply(this,arguments)}(O,L?.vapidKey),yield function br(O,L){return Sr.apply(this,arguments)}(O,L?.serviceWorkerRegistration),function hs(O){return is.apply(this,arguments)}(O)}),yi.apply(this,arguments)}function Ds(){return(Ds=(0,u.Z)(function*(O,L,J){const he=function oa(O){switch(O){case B.NOTIFICATION_CLICKED:return"notification_open";case B.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(L);(yield O.firebaseDependencies.analyticsProvider.get()).logEvent(he,{message_id:J[Kr],message_name:J[ra],message_time:J[pl],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function aa(){return aa=(0,u.Z)(function*(O,L){const J=L.data;if(!J.isFirebaseMessaging)return;O.onMessageHandler&&J.messageType===B.PUSH_RECEIVED&&("function"==typeof O.onMessageHandler?O.onMessageHandler(ne(J)):O.onMessageHandler.next(ne(J)));const he=J.data;(function et(O){return"object"==typeof O&&!!O&&Kr in O})(he)&&"1"===he["google.c.a.e"]&&(yield function ss(O,L,J){return Ds.apply(this,arguments)}(O,J.messageType,he))}),aa.apply(this,arguments)}const fu="@firebase/messaging",oc=O=>{const L=new $r(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),O.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",J=>function sc(O,L){return aa.apply(this,arguments)}(L,J)),L},go=O=>{const L=O.getProvider("messaging").getImmediate();return{getToken:he=>function _i(O,L){return yi.apply(this,arguments)}(L,he)}};function mo(){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,u.Z)(function*(){try{yield(0,ue.eu)()}catch{return!1}return typeof window<"u"&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function fi(){(0,be.Xd)(new fe.wA("messaging",oc,"PUBLIC")),(0,be.Xd)(new fe.wA("messaging-internal",go,"PRIVATE")),(0,be.KN)(fu,"0.12.4"),(0,be.KN)(fu,"0.12.4","esm2017")}();const ca="analytics",Zu="firebase_id",Id="origin",vi=6e4,yl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",la="https://www.googletagmanager.com/gtag/js",Yi=new Ee.Yd("@firebase/analytics"),gs=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Nf(O){if(!O.startsWith(la)){const L=gs.create("invalid-gtag-resource",{gtagURL:O});return Yi.warn(L.message),""}return O}function pu(O){return Promise.all(O.map(L=>L.catch(J=>J)))}function Zc(){return(Zc=(0,u.Z)(function*(O,L,J,he,Ne,Le){const at=he[Ne];try{if(at)yield L[at];else{const Gt=(yield pu(J)).find(bn=>bn.measurementId===Ne);Gt&&(yield L[Gt.appId])}}catch(Ht){Yi.error(Ht)}O("config",Ne,Le)})).apply(this,arguments)}function Kc(){return(Kc=(0,u.Z)(function*(O,L,J,he,Ne){try{let Le=[];if(Ne&&Ne.send_to){let at=Ne.send_to;Array.isArray(at)||(at=[at]);const Ht=yield pu(J);for(const Gt of at){const bn=Ht.find(nr=>nr.measurementId===Gt),qn=bn&&L[bn.appId];if(!qn){Le=[];break}Le.push(qn)}}0===Le.length&&(Le=Object.values(L)),yield Promise.all(Le),O("event",he,Ne||{})}catch(Le){Yi.error(Le)}})).apply(this,arguments)}const Er=30,os=new class Td{constructor(L={},J=1e3){this.throttleMetadata=L,this.intervalMillis=J}getThrottleMetadata(L){return this.throttleMetadata[L]}setThrottleMetadata(L,J){this.throttleMetadata[L]=J}deleteThrottleMetadata(L){delete this.throttleMetadata[L]}};function Qu(O){return new Headers({Accept:"application/json","x-goog-api-key":O})}function _o(){return(_o=(0,u.Z)(function*(O){var L;const{appId:J,apiKey:he}=O,Ne={method:"GET",headers:Qu(he)},Le=yl.replace("{app-id}",J),at=yield fetch(Le,Ne);if(200!==at.status&&304!==at.status){let Ht="";try{const Gt=yield at.json();null!==(L=Gt.error)&&void 0!==L&&L.message&&(Ht=Gt.error.message)}catch{}throw gs.create("config-fetch-failed",{httpStatus:at.status,responseMessage:Ht})}return at.json()})).apply(this,arguments)}function ac(){return(ac=(0,u.Z)(function*(O,L=os,J){const{appId:he,apiKey:Ne,measurementId:Le}=O.options;if(!he)throw gs.create("no-app-id");if(!Ne){if(Le)return{measurementId:Le,appId:he};throw gs.create("no-api-key")}const at=L.getThrottleMetadata(he)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ht=new yo;return setTimeout((0,u.Z)(function*(){Ht.abort()}),void 0!==J?J:vi),_u({appId:he,apiKey:Ne,measurementId:Le},at,Ht,L)})).apply(this,arguments)}function _u(O,L,J){return Yc.apply(this,arguments)}function Yc(){return Yc=(0,u.Z)(function*(O,{throttleEndTimeMillis:L,backoffCount:J},he,Ne=os){var Le;const{appId:at,measurementId:Ht}=O;try{yield function cc(O,L){return new Promise((J,he)=>{const Ne=Math.max(L-Date.now(),0),Le=setTimeout(J,Ne);O.addEventListener(()=>{clearTimeout(Le),he(gs.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(he,L)}catch(Gt){if(Ht)return Yi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ht} provided in the "measurementId" field in the local Firebase config. [${Gt?.message}]`),{appId:at,measurementId:Ht};throw Gt}try{const Gt=yield function bl(O){return _o.apply(this,arguments)}(O);return Ne.deleteThrottleMetadata(at),Gt}catch(Gt){const bn=Gt;if(!function js(O){if(!(O instanceof ue.ZR&&O.customData))return!1;const L=Number(O.customData.httpStatus);return 429===L||500===L||503===L||504===L}(bn)){if(Ne.deleteThrottleMetadata(at),Ht)return Yi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ht} provided in the "measurementId" field in the local Firebase config. [${bn?.message}]`),{appId:at,measurementId:Ht};throw Gt}const qn=503===Number(null===(Le=bn?.customData)||void 0===Le?void 0:Le.httpStatus)?(0,ue.$s)(J,Ne.intervalMillis,Er):(0,ue.$s)(J,Ne.intervalMillis),nr={throttleEndTimeMillis:Date.now()+qn,backoffCount:J+1};return Ne.setThrottleMetadata(at,nr),Yi.debug(`Calling attemptFetch again in ${qn} millis`),_u(O,nr,he,Ne)}}),Yc.apply(this,arguments)}class yo{constructor(){this.listeners=[]}addEventListener(L){this.listeners.push(L)}abort(){this.listeners.forEach(L=>L())}}let Qc,_e;function Ha(){return(Ha=(0,u.Z)(function*(O,L,J,he,Ne){if(Ne&&Ne.global)O("event",J,he);else{const Le=yield L;O("event",J,Object.assign(Object.assign({},he),{send_to:Le}))}})).apply(this,arguments)}function Ln(){return(Ln=(0,u.Z)(function*(){if(!(0,ue.hl)())return Yi.warn(gs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(O){return Yi.warn(gs.create("indexeddb-unavailable",{errorInfo:O?.toString()}).message),!1}return!0})).apply(this,arguments)}function gr(){return gr=(0,u.Z)(function*(O,L,J,he,Ne,Le,at){var Ht;const Gt=function mu(O){return ac.apply(this,arguments)}(O);Gt.then(bo=>{J[bo.measurementId]=bo.appId,O.options.measurementId&&bo.measurementId!==O.options.measurementId&&Yi.warn(`The measurement ID in the local Firebase config (${O.options.measurementId}) does not match the measurement ID fetched from the server (${bo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(bo=>Yi.error(bo)),L.push(Gt);const bn=function $t(){return Ln.apply(this,arguments)}().then(bo=>{if(bo)return he.getId()}),[qn,nr]=yield Promise.all([Gt,bn]);(function ht(O){const L=window.document.getElementsByTagName("script");for(const J of Object.values(L))if(J.src&&J.src.includes(la)&&J.src.includes(O))return J;return null})(Le)||function Gl(O,L){const J=function Ku(O,L){let J;return window.trustedTypes&&(J=window.trustedTypes.createPolicy(O,L)),J}("firebase-js-sdk-policy",{createScriptURL:Nf}),he=document.createElement("script"),Ne=`${la}?l=${O}&id=${L}`;he.src=J?J?.createScriptURL(Ne):Ne,he.async=!0,document.head.appendChild(he)}(Le,qn.measurementId),_e&&(Ne("consent","default",_e),function ze(O){_e=O}(void 0)),Ne("js",new Date);const dc=null!==(Ht=at?.config)&&void 0!==Ht?Ht:{};return dc[Id]="firebase",dc.update=!0,null!=nr&&(dc[Zu]=nr),Ne("config",qn.measurementId,dc),Qc&&(Ne("set",Qc),function He(O){Qc=O}(void 0)),qn.measurementId}),gr.apply(this,arguments)}class lc{constructor(L){this.app=L}_delete(){return delete zr[this.app.options.appId],Promise.resolve()}}let zr={},ua=[];const Fr={};let Cd,Ca,Fo="dataLayer",Xu=!1;function Dc(O,L,J){!function Of(){const O=[];if((0,ue.ru)()&&O.push("This is a browser extension environment."),(0,ue.zI)()||O.push("Cookies are not available."),O.length>0){const L=O.map((he,Ne)=>`(${Ne+1}) ${he}`).join(" "),J=gs.create("invalid-analytics-context",{errorInfo:L});Yi.warn(J.message)}}();const he=O.options.appId;if(!he)throw gs.create("no-app-id");if(!O.options.apiKey){if(!O.options.measurementId)throw gs.create("no-api-key");Yi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${O.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=zr[he])throw gs.create("already-exists",{id:he});if(!Xu){!function jl(O){let L=[];Array.isArray(window[O])?L=window[O]:window[O]=L}(Fo);const{wrappedGtag:Le,gtagCore:at}=function vl(O,L,J,he,Ne){let Le=function(...at){window[he].push(arguments)};return window[Ne]&&"function"==typeof window[Ne]&&(Le=window[Ne]),window[Ne]=function gu(O,L,J,he){function Le(){return Le=(0,u.Z)(function*(at,...Ht){try{if("event"===at){const[Gt,bn]=Ht;yield function Ed(O,L,J,he,Ne){return Kc.apply(this,arguments)}(O,L,J,Gt,bn)}else if("config"===at){const[Gt,bn]=Ht;yield function Da(O,L,J,he,Ne,Le){return Zc.apply(this,arguments)}(O,L,J,he,Gt,bn)}else if("consent"===at){const[Gt]=Ht;O("consent","update",Gt)}else if("get"===at){const[Gt,bn,qn]=Ht;O("get",Gt,bn,qn)}else if("set"===at){const[Gt]=Ht;O("set",Gt)}else O(at,...Ht)}catch(Gt){Yi.error(Gt)}}),Le.apply(this,arguments)}return function Ne(at){return Le.apply(this,arguments)}}(Le,O,L,J),{gtagCore:Le,wrappedGtag:window[Ne]}}(zr,ua,Fr,Fo,"gtag");Ca=Le,Cd=at,Xu=!0}return zr[he]=function Ar(O,L,J,he,Ne,Le,at){return gr.apply(this,arguments)}(O,ua,Fr,L,Cd,Fo,J),new lc(O)}function Il(){return El.apply(this,arguments)}function El(){return(El=(0,u.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}const mg="@firebase/analytics";!function xf(){(0,be.Xd)(new fe.wA(ca,(L,{options:J})=>Dc(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),J),"PUBLIC")),(0,be.Xd)(new fe.wA("analytics-internal",function O(L){try{const J=L.getProvider(ca).getImmediate();return{logEvent:(he,Ne,Le)=>function vh(O,L,J,he){O=(0,ue.m9)(O),function Ua(O,L,J,he,Ne){return Ha.apply(this,arguments)}(Ca,zr[O.app.options.appId],L,J,he).catch(Ne=>Yi.error(Ne))}(J,he,Ne,Le)}}catch(J){throw gs.create("interop-component-reg-failed",{reason:J})}},"PRIVATE")),(0,be.KN)(mg,"0.10.0"),(0,be.KN)(mg,"0.10.0","esm2017")}();var Nd=K(1954),vu=K(9931);const bh=new class Wl extends vu.v{}(class ov extends Nd.o{constructor(L,J){super(L,J),this.scheduler=L,this.work=J}schedule(L,J=0){return J>0?super.schedule(L,J):(this.delay=J,this.state=L,this.scheduler.flush(this),this)}execute(L,J){return J>0||this.closed?super.execute(L,J):this._execute(L,J)}requestAsyncId(L,J,he=0){return null!=he&&he>0||null==he&&this.delay>0?super.requestAsyncId(L,J,he):(L.flush(this),0)}});var bu=K(6321),Jc=K(5592),_g=K(9397),wu=K(5137),nd=K(3093);const Iu=new b.GfV("7.6.1"),vo="__angularfire_symbol__analyticsIsSupportedValue",rd="__angularfire_symbol__analyticsIsSupported",Dl="__angularfire_symbol__remoteConfigIsSupportedValue",Cc="__angularfire_symbol__remoteConfigIsSupported",Eu="__angularfire_symbol__messagingIsSupportedValue",Tu="__angularfire_symbol__messagingIsSupported";function Kl(O,L,J){if(L){if(1===L.length)return L[0];const Le=L.filter(at=>at.app===J);if(1===Le.length)return Le[0]}return J.container.getProvider(O).getImmediate({optional:!0})}globalThis[rd]||(globalThis[rd]=Il().then(O=>globalThis[vo]=O).catch(()=>globalThis[vo]=!1)),globalThis[Tu]||(globalThis[Tu]=mo().then(O=>globalThis[Eu]=O).catch(()=>globalThis[Eu]=!1)),globalThis[Cc]||(globalThis[Cc]=qi().then(O=>globalThis[Dl]=O).catch(()=>globalThis[Dl]=!1));const Pf=(O,L)=>{const J=L?[L]:(0,re.C6)(),he=[];return J.forEach(Ne=>{Ne.container.getProvider(O).instances.forEach(at=>{he.includes(at)||he.push(at)})}),he};function Yl(){}class Cl{constructor(L,J=bh){this.zone=L,this.delegate=J}now(){return this.delegate.now()}schedule(L,J,he){const Ne=this.zone;return this.delegate.schedule(function(at){Ne.runGuarded(()=>{L.apply(this,[at])})},J,he)}}class Xc{constructor(L){this.zone=L,this.task=null}call(L,J){const he=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yl,{},Yl,Yl)),J.pipe((0,_g.b)({next:he,complete:he,error:he})).subscribe(L).add(he)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Md=(()=>{class O{constructor(J){this.ngZone=J,this.outsideAngular=J.runOutsideAngular(()=>new Cl(Zone.current)),this.insideAngular=J.run(()=>new Cl(Zone.current,bu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return O.\u0275fac=function(J){return new(J||O)(b.LFG(b.R0b))},O.\u0275prov=b.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function Sc(){const O=globalThis.\u0275AngularFireScheduler;if(!O)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return O}function Sa(O){return Sc().ngZone.run(()=>O())}function kf(O){return Sc(),function xd(O){return function(J){return(J=J.lift(new Xc(O.ngZone))).pipe((0,wu.R)(O.outsideAngular),(0,nd.Q)(O.insideAngular))}}(Sc())(O)}const id=(O,L)=>function(){const he=arguments;return L&&setTimeout(()=>{"scheduled"===L.state&&L.invoke()},10),Sa(()=>O.apply(void 0,he))},Rd=(O,L)=>function(){let J;const he=arguments;for(let Le=0;Le<arguments.length;Le++)"function"==typeof he[Le]&&(L&&(J||(J=Sa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yl,{},Yl,Yl)))),he[Le]=id(he[Le],J));const Ne=function Du(O){return Sc().ngZone.runOutsideAngular(()=>O())}(()=>O.apply(this,he));if(!L){if(Ne instanceof Jc.y){const Le=Sc();return Ne.pipe((0,wu.R)(Le.outsideAngular),(0,nd.Q)(Le.insideAngular))}return Sa(()=>Ne)}return Ne instanceof Jc.y?Ne.pipe(kf):Ne instanceof Promise?Sa(()=>new Promise((Le,at)=>Ne.then(Ht=>Sa(()=>Le(Ht)),Ht=>Sa(()=>at(Ht))))):"function"==typeof Ne&&J?function(){return setTimeout(()=>{J&&"scheduled"===J.state&&J.invoke()},10),Ne.apply(this,arguments)}:Sa(()=>Ne)}},229:(Vt,Ge,K)=>{K.d(Ge,{$s:()=>It,BH:()=>yt,L:()=>Re,LL:()=>wt,P0:()=>Mt,Pz:()=>ot,Sg:()=>_t,US:()=>fe,ZR:()=>it,aH:()=>ft,b$:()=>dt,eu:()=>$e,hl:()=>Fe,m9:()=>$n,ne:()=>Jn,ru:()=>kn,tV:()=>ce,uI:()=>ve,vZ:()=>vt,xO:()=>An,z$:()=>je,zI:()=>Xe});const be=function(Y){const V=[];let G=0;for(let W=0;W<Y.length;W++){let $=Y.charCodeAt(W);$<128?V[G++]=$:$<2048?(V[G++]=$>>6|192,V[G++]=63&$|128):55296==(64512&$)&&W+1<Y.length&&56320==(64512&Y.charCodeAt(W+1))?($=65536+((1023&$)<<10)+(1023&Y.charCodeAt(++W)),V[G++]=$>>18|240,V[G++]=$>>12&63|128,V[G++]=$>>6&63|128,V[G++]=63&$|128):(V[G++]=$>>12|224,V[G++]=$>>6&63|128,V[G++]=63&$|128)}return V},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Y,V){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let $=0;$<Y.length;$+=3){const we=Y[$],We=$+1<Y.length,Et=We?Y[$+1]:0,an=$+2<Y.length,pn=an?Y[$+2]:0;let Fn=(15&Et)<<2|pn>>6,Wr=63&pn;an||(Wr=64,We||(Fn=64)),W.push(G[we>>2],G[(3&we)<<4|Et>>4],G[Fn],G[Wr])}return W.join("")},encodeString(Y,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(Y):this.encodeByteArray(be(Y),V)},decodeString(Y,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(Y):function(Y){const V=[];let G=0,W=0;for(;G<Y.length;){const $=Y[G++];if($<128)V[W++]=String.fromCharCode($);else if($>191&&$<224){const we=Y[G++];V[W++]=String.fromCharCode((31&$)<<6|63&we)}else if($>239&&$<365){const an=((7&$)<<18|(63&Y[G++])<<12|(63&Y[G++])<<6|63&Y[G++])-65536;V[W++]=String.fromCharCode(55296+(an>>10)),V[W++]=String.fromCharCode(56320+(1023&an))}else{const we=Y[G++],We=Y[G++];V[W++]=String.fromCharCode((15&$)<<12|(63&we)<<6|63&We)}}return V.join("")}(this.decodeStringToByteArray(Y,V))},decodeStringToByteArray(Y,V){this.init_();const G=V?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let $=0;$<Y.length;){const we=G[Y.charAt($++)],Et=$<Y.length?G[Y.charAt($)]:0;++$;const pn=$<Y.length?G[Y.charAt($)]:64;++$;const Kt=$<Y.length?G[Y.charAt($)]:64;if(++$,null==we||null==Et||null==pn||null==Kt)throw new Ee;W.push(we<<2|Et>>4),64!==pn&&(W.push(Et<<4&240|pn>>2),64!==Kt&&W.push(pn<<6&192|Kt))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}};class Ee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Re=function(Y){return function(Y){const V=be(Y);return fe.encodeByteArray(V,!0)}(Y).replace(/\./g,"")},ce=function(Y){try{return fe.decodeString(Y,!0)}catch(V){console.error("base64Decode failed: ",V)}return null},Ot=()=>{try{return function Oe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Y=process.env.__FIREBASE_DEFAULTS__;return Y?JSON.parse(Y):void 0})()||(()=>{if(typeof document>"u")return;let Y;try{Y=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=Y&&ce(Y[1]);return V&&JSON.parse(V)})()}catch(Y){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Y}`)}},Mt=Y=>{const V=(Y=>{var V,G;return null===(G=null===(V=Ot())||void 0===V?void 0:V.emulatorHosts)||void 0===G?void 0:G[Y]})(Y);if(!V)return;const G=V.lastIndexOf(":");if(G<=0||G+1===V.length)throw new Error(`Invalid host ${V} with no separate hostname and port!`);const W=parseInt(V.substring(G+1),10);return"["===V[0]?[V.substring(1,G-1),W]:[V.substring(0,G),W]},ft=()=>{var Y;return null===(Y=Ot())||void 0===Y?void 0:Y.config},ot=Y=>{var V;return null===(V=Ot())||void 0===V?void 0:V[`_${Y}`]};class yt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,G)=>{this.resolve=V,this.reject=G})}wrapCallback(V){return(G,W)=>{G?this.reject(G):this.resolve(W),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(G):V(G,W))}}}function _t(Y,V){if(Y.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const W=V||"demo-project",$=Y.iat||0,we=Y.sub||Y.user_id;if(!we)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const We=Object.assign({iss:`https://securetoken.google.com/${W}`,aud:W,iat:$,exp:$+3600,auth_time:$,sub:we,user_id:we,firebase:{sign_in_provider:"custom",identities:{}}},Y);return[Re(JSON.stringify({alg:"none",type:"JWT"})),Re(JSON.stringify(We)),""].join(".")}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function kn(){const Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Fe(){try{return"object"==typeof indexedDB}catch{return!1}}function $e(){return new Promise((Y,V)=>{try{let G=!0;const W="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(W);$.onsuccess=()=>{$.result.close(),G||self.indexedDB.deleteDatabase(W),Y(!0)},$.onupgradeneeded=()=>{G=!1},$.onerror=()=>{var we;V((null===(we=$.error)||void 0===we?void 0:we.message)||"")}}catch(G){V(G)}})}function Xe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class it extends Error{constructor(V,G,W){super(G),this.code=V,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,it.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wt.prototype.create)}}class wt{constructor(V,G,W){this.service=V,this.serviceName=G,this.errors=W}create(V,...G){const W=G[0]||{},$=`${this.service}/${V}`,we=this.errors[V],We=we?function Pt(Y,V){return Y.replace(Ut,(G,W)=>{const $=V[W];return null!=$?String($):`<${W}?>`})}(we,W):"Error";return new it($,`${this.serviceName}: ${We} (${$}).`,W)}}const Ut=/\{\$([^}]+)}/g;function vt(Y,V){if(Y===V)return!0;const G=Object.keys(Y),W=Object.keys(V);for(const $ of G){if(!W.includes($))return!1;const we=Y[$],We=V[$];if(At(we)&&At(We)){if(!vt(we,We))return!1}else if(we!==We)return!1}for(const $ of W)if(!G.includes($))return!1;return!0}function At(Y){return null!==Y&&"object"==typeof Y}function An(Y){const V=[];for(const[G,W]of Object.entries(Y))Array.isArray(W)?W.forEach($=>{V.push(encodeURIComponent(G)+"="+encodeURIComponent($))}):V.push(encodeURIComponent(G)+"="+encodeURIComponent(W));return V.length?"&"+V.join("&"):""}function Jn(Y,V){const G=new tn(Y,V);return G.subscribe.bind(G)}class tn{constructor(V,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{V(this)}).catch(W=>{this.error(W)})}next(V){this.forEachObserver(G=>{G.next(V)})}error(V){this.forEachObserver(G=>{G.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,G,W){let $;if(void 0===V&&void 0===G&&void 0===W)throw new Error("Missing Observer.");$=function Ir(Y,V){if("object"!=typeof Y||null===Y)return!1;for(const G of V)if(G in Y&&"function"==typeof Y[G])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:G,complete:W},void 0===$.next&&($.next=yn),void 0===$.error&&($.error=yn),void 0===$.complete&&($.complete=yn);const we=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),we}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,V)}sendOne(V,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{G(this.observers[V])}catch(W){typeof console<"u"&&console.error&&console.error(W)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yn(){}const ci=1e3,nt=2,Ce=144e5,Ze=.5;function It(Y,V=ci,G=nt){const W=V*Math.pow(G,Y),$=Math.round(Ze*W*(Math.random()-.5)*2);return Math.min(Ce,W+$)}function $n(Y){return Y&&Y._delegate?Y._delegate:Y}},9058:(Vt,Ge,K)=>{K.d(Ge,{BH:()=>yt,L:()=>Re,LL:()=>wt,Pz:()=>ot,ZR:()=>it,aH:()=>ft,b$:()=>dt,eu:()=>$e,hl:()=>Fe,m9:()=>$n,ne:()=>Jn,pd:()=>Xt,q4:()=>Cn,ru:()=>kn,tV:()=>ce,uI:()=>ve,vZ:()=>vt,w1:()=>Sn,xO:()=>An,xb:()=>ke,z$:()=>je,zd:()=>on});const be=function(Y){const V=[];let G=0;for(let W=0;W<Y.length;W++){let $=Y.charCodeAt(W);$<128?V[G++]=$:$<2048?(V[G++]=$>>6|192,V[G++]=63&$|128):55296==(64512&$)&&W+1<Y.length&&56320==(64512&Y.charCodeAt(W+1))?($=65536+((1023&$)<<10)+(1023&Y.charCodeAt(++W)),V[G++]=$>>18|240,V[G++]=$>>12&63|128,V[G++]=$>>6&63|128,V[G++]=63&$|128):(V[G++]=$>>12|224,V[G++]=$>>6&63|128,V[G++]=63&$|128)}return V},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Y,V){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let $=0;$<Y.length;$+=3){const we=Y[$],We=$+1<Y.length,Et=We?Y[$+1]:0,an=$+2<Y.length,pn=an?Y[$+2]:0;let Fn=(15&Et)<<2|pn>>6,Wr=63&pn;an||(Wr=64,We||(Fn=64)),W.push(G[we>>2],G[(3&we)<<4|Et>>4],G[Fn],G[Wr])}return W.join("")},encodeString(Y,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(Y):this.encodeByteArray(be(Y),V)},decodeString(Y,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(Y):function(Y){const V=[];let G=0,W=0;for(;G<Y.length;){const $=Y[G++];if($<128)V[W++]=String.fromCharCode($);else if($>191&&$<224){const we=Y[G++];V[W++]=String.fromCharCode((31&$)<<6|63&we)}else if($>239&&$<365){const an=((7&$)<<18|(63&Y[G++])<<12|(63&Y[G++])<<6|63&Y[G++])-65536;V[W++]=String.fromCharCode(55296+(an>>10)),V[W++]=String.fromCharCode(56320+(1023&an))}else{const we=Y[G++],We=Y[G++];V[W++]=String.fromCharCode((15&$)<<12|(63&we)<<6|63&We)}}return V.join("")}(this.decodeStringToByteArray(Y,V))},decodeStringToByteArray(Y,V){this.init_();const G=V?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let $=0;$<Y.length;){const we=G[Y.charAt($++)],Et=$<Y.length?G[Y.charAt($)]:0;++$;const pn=$<Y.length?G[Y.charAt($)]:64;++$;const Kt=$<Y.length?G[Y.charAt($)]:64;if(++$,null==we||null==Et||null==pn||null==Kt)throw new Ee;W.push(we<<2|Et>>4),64!==pn&&(W.push(Et<<4&240|pn>>2),64!==Kt&&W.push(pn<<6&192|Kt))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}};class Ee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Re=function(Y){return function(Y){const V=be(Y);return fe.encodeByteArray(V,!0)}(Y).replace(/\./g,"")},ce=function(Y){try{return fe.decodeString(Y,!0)}catch(V){console.error("base64Decode failed: ",V)}return null},Ot=()=>{try{return function Oe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Y=process.env.__FIREBASE_DEFAULTS__;return Y?JSON.parse(Y):void 0})()||(()=>{if(typeof document>"u")return;let Y;try{Y=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=Y&&ce(Y[1]);return V&&JSON.parse(V)})()}catch(Y){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Y}`)}},Cn=Y=>{var V,G;return null===(G=null===(V=Ot())||void 0===V?void 0:V.emulatorHosts)||void 0===G?void 0:G[Y]},ft=()=>{var Y;return null===(Y=Ot())||void 0===Y?void 0:Y.config},ot=Y=>{var V;return null===(V=Ot())||void 0===V?void 0:V[`_${Y}`]};class yt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,G)=>{this.resolve=V,this.reject=G})}wrapCallback(V){return(G,W)=>{G?this.reject(G):this.resolve(W),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(G):V(G,W))}}}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function kn(){const Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Sn(){const Y=je();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function Fe(){try{return"object"==typeof indexedDB}catch{return!1}}function $e(){return new Promise((Y,V)=>{try{let G=!0;const W="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(W);$.onsuccess=()=>{$.result.close(),G||self.indexedDB.deleteDatabase(W),Y(!0)},$.onupgradeneeded=()=>{G=!1},$.onerror=()=>{var we;V((null===(we=$.error)||void 0===we?void 0:we.message)||"")}}catch(G){V(G)}})}class it extends Error{constructor(V,G,W){super(G),this.code=V,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,it.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wt.prototype.create)}}class wt{constructor(V,G,W){this.service=V,this.serviceName=G,this.errors=W}create(V,...G){const W=G[0]||{},$=`${this.service}/${V}`,we=this.errors[V],We=we?function Pt(Y,V){return Y.replace(Ut,(G,W)=>{const $=V[W];return null!=$?String($):`<${W}?>`})}(we,W):"Error";return new it($,`${this.serviceName}: ${We} (${$}).`,W)}}const Ut=/\{\$([^}]+)}/g;function ke(Y){for(const V in Y)if(Object.prototype.hasOwnProperty.call(Y,V))return!1;return!0}function vt(Y,V){if(Y===V)return!0;const G=Object.keys(Y),W=Object.keys(V);for(const $ of G){if(!W.includes($))return!1;const we=Y[$],We=V[$];if(At(we)&&At(We)){if(!vt(we,We))return!1}else if(we!==We)return!1}for(const $ of W)if(!G.includes($))return!1;return!0}function At(Y){return null!==Y&&"object"==typeof Y}function An(Y){const V=[];for(const[G,W]of Object.entries(Y))Array.isArray(W)?W.forEach($=>{V.push(encodeURIComponent(G)+"="+encodeURIComponent($))}):V.push(encodeURIComponent(G)+"="+encodeURIComponent(W));return V.length?"&"+V.join("&"):""}function on(Y){const V={};return Y.replace(/^\?/,"").split("&").forEach(W=>{if(W){const[$,we]=W.split("=");V[decodeURIComponent($)]=decodeURIComponent(we)}}),V}function Xt(Y){const V=Y.indexOf("?");if(!V)return"";const G=Y.indexOf("#",V);return Y.substring(V,G>0?G:void 0)}function Jn(Y,V){const G=new tn(Y,V);return G.subscribe.bind(G)}class tn{constructor(V,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{V(this)}).catch(W=>{this.error(W)})}next(V){this.forEachObserver(G=>{G.next(V)})}error(V){this.forEachObserver(G=>{G.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,G,W){let $;if(void 0===V&&void 0===G&&void 0===W)throw new Error("Missing Observer.");$=function Ir(Y,V){if("object"!=typeof Y||null===Y)return!1;for(const G of V)if(G in Y&&"function"==typeof Y[G])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:G,complete:W},void 0===$.next&&($.next=yn),void 0===$.error&&($.error=yn),void 0===$.complete&&($.complete=yn);const we=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),we}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,V)}sendOne(V,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{G(this.observers[V])}catch(W){typeof console<"u"&&console.error&&console.error(W)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yn(){}function $n(Y){return Y&&Y._delegate?Y._delegate:Y}},1816:(Vt,Ge,K)=>{K.d(Ge,{y:()=>u});var b=K(8645),re=K(9468);let u=(()=>{class be{constructor(){this.modalMessageSource=new b.x,this.modalMessage$=this.modalMessageSource.asObservable()}sendModalMessage(fe){this.modalMessageSource.next(fe)}static#e=this.\u0275fac=function(Ee){return new(Ee||be)};static#t=this.\u0275prov=re.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})()},1176:(Vt,Ge,K)=>{K.d(Ge,{u:()=>re});var b=K(9468);let re=(()=>{class u{static#e=this.\u0275fac=function(fe){return new(fe||u)};static#t=this.\u0275cmp=b.Xpm({type:u,selectors:[["app-logo-svg"]],decls:33,vars:0,consts:[[1,"logo-svg"],["viewBox","0 0 640 400","data-background-color","var(--mainWhiteColor)","preserveAspectRatio","xMidYMid meet","height","400","width","640","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["width","640","height","400","x","0","y","0","opacity","1","fill","var(--mainRGBAColor)","data-fill-palette-color","background","id","background"],["id","tight-bounds","transform","matrix(1,0,0,1,168.6873741251188,76.4)"],["viewBox","0 0 302.6252517497624 247.2","height","247.2","width","302.6252517497624"],["viewBox","0 0 395.52 323.08124796157813","height","247.2","width","302.6252517497624"],["transform","matrix(1,0,0,1,0,240.1001478205344)"],["viewBox","0 0 395.52 82.98110014104373","height","82.98110014104373","width","395.52"],["id","textblocktransform"],["viewBox","0 0 395.52 82.98110014104373","height","82.98110014104373","width","395.52","id","textblock"],["transform","matrix(1,0,0,1,0,0)"],["width","395.52","viewBox","0.15000000596046448 -37.939998626708984 276.9100036621094 58.11000061035156","height","82.98110014104373","data-palette-color","var(--mainWhiteColor)"],["d","M8.3-27.15L0.15-26.51 0.93-29.05Q0.98-29.1 1.68-29.17 2.39-29.25 3.56-29.37 4.74-29.49 6.2-29.64 7.67-29.79 9.2-29.93 10.74-30.08 12.23-30.22 13.72-30.37 14.99-30.52L14.99-30.52Q14.99-30.52 15.43-30.52 15.87-30.52 16.41-30.52 16.94-30.52 17.43-30.52 17.92-30.52 18.07-30.52L18.07-30.52Q19.24-30.52 19.68-30.08 20.12-29.64 20.12-28.17L20.12-28.17 11.23-27.15Q11.13-24.07 11.33-20.7 11.52-17.33 11.82-13.89 12.11-10.45 12.38-7.08 12.65-3.71 12.65-0.63L12.65-0.63Q12.65-0.2 12.38-0.02 12.11 0.15 11.74 0.2 11.38 0.24 10.99 0.17 10.6 0.1 10.3 0L10.3 0Q10.16-0.63 10.01-2.2 9.86-3.76 9.72-5.86 9.57-7.96 9.42-10.4 9.28-12.84 9.13-15.28 8.98-17.72 8.84-19.95 8.69-22.17 8.59-23.85 8.5-25.54 8.42-26.46 8.35-27.39 8.3-27.15L8.3-27.15ZM20.07-33.74L21.68-33.5 22.95-17.48Q23.29-17.77 23.83-18.36 24.36-18.95 25.1-19.46 25.83-19.97 26.71-20.34 27.59-20.7 28.61-20.65L28.61-20.65Q30.61-20.46 31.81-19.04 33.01-17.63 33.62-15.58 34.23-13.53 34.42-11.11 34.62-8.69 34.54-6.49 34.47-4.3 34.3-2.59 34.13-0.88 34.03-0.24L34.03-0.24 32.27-0.49Q32.27-0.93 32.3-1.88 32.32-2.83 32.37-4.13 32.42-5.42 32.42-6.84 32.42-8.25 32.44-9.5 32.47-10.74 32.44-11.72 32.42-12.7 32.37-13.09L32.37-13.09Q32.42-14.45 31.83-15.72 31.25-16.99 30.27-17.65 29.29-18.31 27.93-18.09 26.56-17.87 25-16.16L25-16.16Q23.63-14.11 23-12.13 22.36-10.16 22.17-8.23 21.97-6.3 22.02-4.27 22.07-2.25 22.02 0L22.02 0 20.11-0.29Q20.26-0.83 20.33-2.27 20.41-3.71 20.46-5.74 20.51-7.76 20.53-10.25 20.55-12.74 20.53-15.41 20.51-18.07 20.46-20.75 20.41-23.44 20.33-25.88 20.26-28.32 20.19-30.37 20.11-32.42 20.07-33.74L20.07-33.74ZM36.86-11.47L36.86-11.47Q36.86-12.94 37.5-14.72 38.13-16.5 39.23-18.04 40.33-19.58 41.72-20.63 43.11-21.68 44.62-21.68L44.62-21.68Q45.45-21.68 46.26-21.34 47.07-21 47.82-20.43 48.58-19.87 49.19-19.17 49.8-18.46 50.14-17.68 50.48-16.89 50.51-16.16 50.53-15.43 50.09-14.89L50.09-14.89 39.79-12.99Q39.59-12.94 39.45-12.52 39.3-12.11 39.2-11.47 39.11-10.84 39.03-10.08 38.96-9.33 38.91-8.62 38.86-7.91 38.86-7.35 38.86-6.79 38.86-6.49L38.86-6.49Q38.86-5.13 39.52-4.27 40.18-3.42 41.21-2.98 42.23-2.54 43.53-2.39 44.82-2.25 46.09-2.25 47.36-2.25 48.48-2.34 49.6-2.44 50.34-2.44L50.34-2.44Q50.34-2.25 50.19-2 50.04-1.76 49.85-1.54 49.65-1.32 49.46-1.15 49.26-0.98 49.21-0.93L49.21-0.93Q48.82-0.83 48.02-0.66 47.21-0.49 46.31-0.34 45.41-0.2 44.62-0.1 43.84 0 43.55 0L43.55 0Q42.04 0.29 40.91-0.05 39.79-0.39 39.01-1.22 38.23-2.05 37.74-3.25 37.25-4.44 37.01-5.81 36.76-7.18 36.74-8.64 36.71-10.11 36.86-11.47ZM43.94-19.82L43.94-19.82Q43.5-19.82 42.79-19.36 42.08-18.9 41.47-18.19 40.86-17.48 40.45-16.67 40.03-15.87 40.18-15.28L40.18-15.28Q41.45-15.14 42.82-15.33 44.18-15.53 45.31-15.94 46.43-16.36 47.16-16.92 47.9-17.48 47.87-18.07 47.85-18.65 46.94-19.12 46.04-19.58 43.94-19.82ZM93.06 0L74.31-29.05Q74.31-28.91 74.28-28.42 74.26-27.93 74.26-27.42 74.26-26.9 74.26-26.44 74.26-25.98 74.26-25.83L74.26-25.83Q74.26-22.66 74.4-19.48 74.55-16.31 74.75-13.11 74.94-9.91 75.09-6.69 75.23-3.47 75.23-0.24L75.23-0.24 73.48-0.34Q73.43-1.27 73.31-2.93 73.18-4.59 73.01-6.76 72.84-8.94 72.65-11.43 72.45-13.92 72.23-16.48 72.01-19.04 71.87-21.53 71.72-24.02 71.6-26.15 71.47-28.27 71.43-29.91 71.38-31.54 71.43-32.42L71.43-32.42Q71.43-33.01 71.87-33.4 72.3-33.79 72.89-33.79L72.89-33.79Q73.48-33.79 74.23-33.52 74.99-33.25 75.23-32.81L75.23-32.81 92.81-4.44Q92.81-6.69 92.69-9.28 92.57-11.87 92.47-14.6 92.37-17.33 92.35-20.09 92.32-22.85 92.45-25.46 92.57-28.08 92.93-30.42 93.3-32.76 93.98-34.67L93.98-34.67Q94.67-34.91 95.06-34.94 95.45-34.96 95.64-34.91 95.84-34.86 95.86-34.67 95.89-34.47 95.89-34.28L95.89-34.28Q95.89-34.18 95.89-33.98 95.89-33.79 95.89-33.74L95.89-33.74Q95.79-33.45 95.67-32.67 95.55-31.88 95.35-30.35 95.16-28.81 95.01-26.37 94.86-23.93 94.72-20.31 94.57-16.7 94.5-11.72 94.42-6.74 94.47-0.1L94.47-0.1 93.06 0ZM97.74-4.2L97.74-4.2Q97.74-6.98 99.28-8.25 100.82-9.52 103.31-9.52L103.31-9.52Q104.28-9.52 105.14-9.47 105.99-9.42 106.77-9.23 107.56-9.03 108.31-8.64 109.07-8.25 109.9-7.52L109.9-7.52Q109.9-7.67 109.92-8.13 109.95-8.59 109.95-9.13 109.95-9.67 109.95-10.13 109.95-10.6 109.95-10.79L109.95-10.79Q109.9-11.67 109.9-13.06 109.9-14.45 109.68-15.92 109.46-17.38 108.8-18.7 108.14-20.02 106.68-20.7L106.68-20.7Q105.65-20.7 104.77-20.36 103.89-20.02 103.01-19.63 102.14-19.24 101.26-18.92 100.38-18.6 99.35-18.6L99.35-18.6Q99.35-19.82 100.11-20.63 100.87-21.44 101.94-21.88 103.01-22.31 104.19-22.46 105.36-22.61 106.24-22.61L106.24-22.61Q107.12-22.46 107.87-22.27 108.63-22.07 109.29-21.48 109.95-20.9 110.51-19.7 111.07-18.51 111.49-16.36 111.9-14.21 112.22-10.91 112.54-7.62 112.73-2.83L112.73-2.83Q112.83-2.2 112.32-1.73 111.8-1.27 110.93-0.95 110.05-0.63 108.95-0.42 107.85-0.2 106.73-0.1 105.6 0 104.58 0.05 103.55 0.1 102.87 0.1L102.87 0.1Q101.99 0.1 101.09-0.2 100.18-0.49 99.43-1.05 98.67-1.61 98.21-2.42 97.74-3.22 97.74-4.2ZM104.09-7.62L104.09-7.62Q101.65-6.93 100.67-5.98 99.69-5.03 99.82-4.15 99.94-3.27 100.96-2.56 101.99-1.86 103.45-1.64 104.92-1.42 106.63-1.88 108.34-2.34 109.9-3.71L109.9-3.71Q109.31-5.13 108.73-5.88 108.14-6.64 107.46-7.03 106.77-7.42 105.94-7.52 105.11-7.62 104.09-7.62ZM120.64-17.72L120.64-17.72Q120.2-17.87 119.44-17.85 118.69-17.82 117.83-17.75 116.98-17.68 116.2-17.58 115.41-17.48 114.88-17.48L114.88-17.48Q114.63-17.48 114.56-18.19 114.49-18.9 114.34-20.12L114.34-20.12 121.23-20.61Q121.37-22.31 121.42-23.05 121.47-23.78 121.44-24.29 121.42-24.8 121.4-25.46 121.37-26.12 121.37-27.54L121.37-27.54Q122.64-27.73 123.3-27.66 123.96-27.59 124.2-27.29 124.45-27 124.42-26.44 124.4-25.88 124.28-25.05 124.15-24.22 124.08-23.05 124.01-21.88 124.15-20.41L124.15-20.41 130.01-20.61 130.01-18.21Q129.62-18.21 128.79-18.16 127.96-18.12 127.01-18.07 126.06-18.02 125.25-17.97 124.45-17.92 124.06-17.77L124.06-17.77Q123.67-16.02 123.23-14.01 122.79-12.01 122.64-10.06 122.49-8.11 122.74-6.42 122.98-4.74 123.96-3.64 124.94-2.54 126.74-2.12 128.55-1.71 131.53-2.39L131.53-2.39Q131.43-1.66 130.97-1.2 130.5-0.73 129.89-0.46 129.28-0.2 128.6-0.07 127.91 0.05 127.38 0.05L127.38 0.05Q124.89 0.05 123.42-0.85 121.96-1.76 121.23-3.22 120.49-4.69 120.3-6.57 120.1-8.45 120.18-10.4 120.25-12.35 120.44-14.26 120.64-16.16 120.64-17.72ZM133.19-18.95L133.19-18.95Q133.19-19.19 133.5-19.43 133.82-19.68 134.28-19.82 134.75-19.97 135.19-20.02 135.63-20.07 135.82-19.87L135.82-19.87Q136.12-13.82 136.97-10.23 137.82-6.64 138.92-4.98 140.02-3.32 141.29-3.3 142.56-3.27 143.78-4.37 145-5.47 146.05-7.37 147.1-9.28 147.76-11.47 148.42-13.67 148.57-15.87 148.71-18.07 148.18-19.78L148.18-19.78 151.11-20.12Q151.15-19.38 151.37-17.7 151.59-16.02 151.86-13.89 152.13-11.77 152.47-9.47 152.81-7.18 153.06-5.2 153.3-3.22 153.5-1.83 153.69-0.44 153.69-0.1L153.69-0.1 151.59-0.1 149.3-8.54Q148.62-6.84 147.64-5.27 146.66-3.71 145.51-2.54 144.37-1.37 143.1-0.71 141.83-0.05 140.58-0.17 139.34-0.29 138.17-1.32 136.99-2.34 135.99-4.57 134.99-6.79 134.26-10.3 133.53-13.82 133.19-18.95ZM155.25-19.04L155.25-19.04Q155.84-19.29 156.28-19.14 156.72-18.99 157.01-18.6 157.3-18.21 157.45-17.7 157.6-17.19 157.69-16.7L157.69-16.7Q158.33-17.77 159.53-18.43 160.72-19.09 162.09-19.31 163.46-19.53 164.82-19.41 166.19-19.29 167.14-18.82 168.1-18.36 168.49-17.55 168.88-16.75 168.29-15.67L168.29-15.67Q167.02-16.41 165.63-16.85 164.24-17.29 162.92-17.14 161.6-16.99 160.48-16.14 159.36-15.28 158.62-13.43 157.89-11.57 157.72-8.52 157.55-5.47 158.13-0.93L158.13-0.93 156.28-0.93Q156.28-0.93 156.21-1.73 156.13-2.54 156.06-3.86 155.99-5.18 155.86-6.79 155.74-8.4 155.64-10.06 155.55-11.72 155.47-13.26 155.4-14.79 155.3-15.92L155.3-15.92Q155.3-16.06 155.28-16.5 155.25-16.94 155.25-17.46 155.25-17.97 155.25-18.41 155.25-18.85 155.25-19.04ZM170.49-4.2L170.49-4.2Q170.49-6.98 172.02-8.25 173.56-9.52 176.05-9.52L176.05-9.52Q177.03-9.52 177.88-9.47 178.74-9.42 179.52-9.23 180.3-9.03 181.06-8.64 181.81-8.25 182.64-7.52L182.64-7.52Q182.64-7.67 182.67-8.13 182.69-8.59 182.69-9.13 182.69-9.67 182.69-10.13 182.69-10.6 182.69-10.79L182.69-10.79Q182.64-11.67 182.64-13.06 182.64-14.45 182.42-15.92 182.2-17.38 181.54-18.7 180.89-20.02 179.42-20.7L179.42-20.7Q178.4-20.7 177.52-20.36 176.64-20.02 175.76-19.63 174.88-19.24 174-18.92 173.12-18.6 172.1-18.6L172.1-18.6Q172.1-19.82 172.85-20.63 173.61-21.44 174.68-21.88 175.76-22.31 176.93-22.46 178.1-22.61 178.98-22.61L178.98-22.61Q179.86-22.46 180.62-22.27 181.37-22.07 182.03-21.48 182.69-20.9 183.25-19.7 183.82-18.51 184.23-16.36 184.65-14.21 184.96-10.91 185.28-7.62 185.48-2.83L185.48-2.83Q185.57-2.2 185.06-1.73 184.55-1.27 183.67-0.95 182.79-0.63 181.69-0.42 180.59-0.2 179.47-0.1 178.35 0 177.32 0.05 176.3 0.1 175.61 0.1L175.61 0.1Q174.73 0.1 173.83-0.2 172.93-0.49 172.17-1.05 171.41-1.61 170.95-2.42 170.49-3.22 170.49-4.2ZM176.83-7.62L176.83-7.62Q174.39-6.93 173.42-5.98 172.44-5.03 172.56-4.15 172.68-3.27 173.71-2.56 174.73-1.86 176.2-1.64 177.66-1.42 179.37-1.88 181.08-2.34 182.64-3.71L182.64-3.71Q182.06-5.13 181.47-5.88 180.89-6.64 180.2-7.03 179.52-7.42 178.69-7.52 177.86-7.62 176.83-7.62ZM188.6-37.94L188.6-37.94Q189.28-37.84 189.79-37.57 190.31-37.3 190.6-36.62L190.6-36.62Q190.6-35.69 190.67-34.06 190.75-32.42 190.82-30.27 190.89-28.13 190.99-25.63 191.09-23.14 191.19-20.61 191.28-18.07 191.36-15.58 191.43-13.09 191.5-10.94 191.58-8.79 191.63-7.13 191.67-5.47 191.72-4.59L191.72-4.59Q191.72-4.49 191.7-4.25 191.67-4 191.65-3.66 191.63-3.32 191.6-3 191.58-2.69 191.58-2.54L191.58-2.54Q191.53-2.25 191.53-1.83 191.53-1.42 191.43-1.03 191.33-0.63 191.11-0.32 190.89 0 190.4 0.05L190.4 0.05 189.57-0.98Q189.53-1.03 189.45-2.81 189.38-4.59 189.26-7.45 189.14-10.3 189.04-13.89 188.94-17.48 188.82-21.14 188.7-24.8 188.6-28.17 188.5-31.54 188.45-33.98L188.45-33.98Q188.45-34.18 188.48-34.77 188.5-35.35 188.52-35.96 188.55-36.57 188.57-37.13 188.6-37.7 188.6-37.94ZM226.58-17.58L226.58-17.58Q226.43-17.04 226.12-15.87 225.8-14.7 225.39-13.23 224.97-11.77 224.51-10.16 224.04-8.54 223.6-7.08 223.16-5.62 222.82-4.47 222.48-3.32 222.33-2.83L222.33-2.83Q222.24-2.34 222.04-1.78 221.85-1.22 221.6-0.93 221.36-0.63 221.06-0.78 220.77-0.93 220.48-1.86L220.48-1.86 212.96-35.64Q213.1-35.64 213.45-35.72 213.79-35.79 213.93-35.79L213.93-35.79Q214.91-35.79 215.23-35.38 215.55-34.96 215.79-33.74L215.79-33.74 221.41-8.4 225.17-20.61Q225.36-21.19 225.73-21.39 226.09-21.58 226.58-21.58L226.58-21.58Q226.97-21.19 227.7-20.14 228.44-19.09 229.29-17.7 230.15-16.31 231.07-14.72 232-13.13 232.86-11.72 233.71-10.3 234.39-9.16 235.08-8.01 235.47-7.52L235.47-7.52Q235.61-7.28 235.98-6.86 236.35-6.45 236.79-6.01 237.23-5.57 237.67-5.18 238.1-4.79 238.3-4.69L238.3-4.69Q238.25-6.3 238.15-8.52 238.06-10.74 237.96-13.33 237.86-15.92 237.84-18.73 237.81-21.53 237.93-24.29 238.06-27.05 238.35-29.61 238.64-32.18 239.13-34.33L239.13-34.33Q239.23-34.67 239.4-34.84 239.57-35.01 239.79-35.06 240.01-35.11 240.38-35.08 240.74-35.06 241.18-35.06L241.18-35.06Q241.18-34.52 241.13-33.76 241.08-33.01 240.99-31.62 240.89-30.22 240.79-27.88 240.69-25.54 240.57-21.83 240.45-18.12 240.35-12.77 240.25-7.42 240.16 0L240.16 0Q238.06-1.66 236.25-3.71 234.44-5.76 232.83-8.08 231.22-10.4 229.68-12.82 228.14-15.23 226.58-17.58ZM243.18-4.2L243.18-4.2Q243.18-6.98 244.72-8.25 246.26-9.52 248.75-9.52L248.75-9.52Q249.72-9.52 250.58-9.47 251.43-9.42 252.21-9.23 252.99-9.03 253.75-8.64 254.51-8.25 255.34-7.52L255.34-7.52Q255.34-7.67 255.36-8.13 255.39-8.59 255.39-9.13 255.39-9.67 255.39-10.13 255.39-10.6 255.39-10.79L255.39-10.79Q255.34-11.67 255.34-13.06 255.34-14.45 255.12-15.92 254.9-17.38 254.24-18.7 253.58-20.02 252.12-20.7L252.12-20.7Q251.09-20.7 250.21-20.36 249.33-20.02 248.45-19.63 247.57-19.24 246.7-18.92 245.82-18.6 244.79-18.6L244.79-18.6Q244.79-19.82 245.55-20.63 246.31-21.44 247.38-21.88 248.45-22.31 249.63-22.46 250.8-22.61 251.68-22.61L251.68-22.61Q252.56-22.46 253.31-22.27 254.07-22.07 254.73-21.48 255.39-20.9 255.95-19.7 256.51-18.51 256.93-16.36 257.34-14.21 257.66-10.91 257.98-7.62 258.17-2.83L258.17-2.83Q258.27-2.2 257.76-1.73 257.24-1.27 256.36-0.95 255.49-0.63 254.39-0.42 253.29-0.2 252.16-0.1 251.04 0 250.02 0.05 248.99 0.1 248.31 0.1L248.31 0.1Q247.43 0.1 246.53-0.2 245.62-0.49 244.86-1.05 244.11-1.61 243.64-2.42 243.18-3.22 243.18-4.2ZM249.53-7.62L249.53-7.62Q247.09-6.93 246.11-5.98 245.13-5.03 245.26-4.15 245.38-3.27 246.4-2.56 247.43-1.86 248.89-1.64 250.36-1.42 252.07-1.88 253.78-2.34 255.34-3.71L255.34-3.71Q254.75-5.13 254.17-5.88 253.58-6.64 252.9-7.03 252.21-7.42 251.38-7.52 250.55-7.62 249.53-7.62ZM271.79 20.17L269.59 20.02Q269.59 17.58 270.03 14.99 270.47 12.4 270.94 9.81 271.4 7.23 271.72 4.64 272.04 2.05 271.79-0.44L271.79-0.44 259.63-21.04Q260.71-22.02 261.34-22.14 261.98-22.27 262.07-22.17L262.07-22.17Q262.42-21.68 263.22-20.36 264.03-19.04 265.08-17.29 266.13-15.53 267.3-13.57 268.47-11.62 269.52-9.86 270.57-8.11 271.33-6.74 272.08-5.37 272.38-4.83L272.38-4.83 274.62-22.95 277.06-21.73 271.79 20.17Z","opacity","1","transform","matrix(1,0,0,1,0,0)","fill","var(--mainWhiteColor)","data-fill-palette-color","primary","id","text-0",1,"wordmark-text-0"],["transform","matrix(1,0,0,1,97.29977228662983,0)"],["viewBox","0 0 200.92045542674032 200.92045542674032","height","200.92045542674032","width","200.92045542674032"],["id","icon-0"],["d","M0 100.46c0-55.483 44.978-100.46 100.46-100.46 55.483 0 100.46 44.978 100.46 100.46 0 55.483-44.978 100.46-100.46 100.46-55.483 0-100.46-44.978-100.46-100.46zM100.46 193.437c51.35 0 92.977-41.627 92.977-92.977 0-51.35-41.627-92.977-92.977-92.977-51.35 0-92.977 41.627-92.977 92.977 0 51.35 41.627 92.977 92.977 92.977z","data-fill-palette-color","accent","fill","var(--mainWhiteColor)","stroke","transparent"],["rx","99.45562543623646","ry","99.45562543623646","cx","100.46022771337016","cy","100.46022771337016","fill","var(--mainWhiteColor)","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,43.57436241056036,43.35758026693677)"],["viewBox","0 0 113.7717306056196 114.20529489286677","height","114.20529489286677","width","113.7717306056196"],["xmlns","http://www.w3.org/2000/svg","data-name","Layer 1","viewBox","1.190000057220459 1.002901315689087 97.62506866455078 97.99710083007812","x","0","y","0","height","114.20529489286677","width","113.7717306056196","data-fill-palette-color","quaternary","id","b-0",1,"icon-b-0"],["d","M79.28 26.63a0.3 0.3 0 0 0 0-0.07 0.28 0.28 0 0 0-0.48-0.19l-7 7a20.24 20.24 0 0 0-6 13v1.87a37.5 37.5 0 0 1 1.67 5.15H54.79a32.9 32.9 0 0 0-5.43-15.13 26.9 26.9 0 0 1-7.74 5.77 22.2 22.2 0 0 1-6.34 2.06c-9.9 1.51-22.3-5-28.35-41.61a1.86 1.86 0 0 1 1.55-2.05c47.44-6.69 50.2 11.7 47.85 22.85a51.5 51.5 0 0 0-19.69-6.14h-0.11a0.43 0.43 0 0 0-0.18 0.76l11.58 8.5 5.84 4.31a37.3 37.3 0 0 1 6.08 5.85 24.8 24.8 0 0 1 5-6.15 17.7 17.7 0 0 1-2.54-5 14.8 14.8 0 0 1-0.65-4.41c0-6.65 5.53-14.14 30.18-14.44a1.23 1.23 0 0 1 1.24 1.23c-0.38 31.82-12.74 31.78-19.82 29.12a34.2 34.2 0 0 0 6.02-12.28M28.65 93h34.63a16.16 16.16 0 0 0 12.18-5.54l21.68-24.79a6.79 6.79 0 0 0-0.79-9.7 6.55 6.55 0 0 0-4.2-1.49 7.24 7.24 0 0 0-5.38 2.43l-10.2 11.35v0.16a11.85 11.85 0 0 1-11.89 11.26H52.21a2.54 2.54 0 1 1 0-5.08h12.47a6.72 6.72 0 0 0 6.81-6.34A6.54 6.54 0 0 0 65 58.52H44.19l-3.37-1.18a23.42 23.42 0 0 0-24.26 5.49L1.19 78.1 22.64 99Z","fill","var(--textColor)","data-fill-palette-color","quaternary"],["width","302.6252517497624","height","247.2","fill","none","stroke","none","visibility","hidden"]],template:function(fe,Ee){1&fe&&(b.TgZ(0,"main",0),b.O4$(),b.TgZ(1,"svg",1),b._UZ(2,"rect",2),b.TgZ(3,"g",3)(4,"svg",4)(5,"g")(6,"svg",5)(7,"g",6)(8,"svg",7)(9,"g",8)(10,"svg",9)(11,"g")(12,"svg",7)(13,"g",10)(14,"svg",11),b._UZ(15,"path",12),b.qZA()()()()()()()(),b.TgZ(16,"g",13)(17,"svg",14)(18,"g"),b._UZ(19,"svg"),b.qZA(),b.TgZ(20,"g",15)(21,"svg",14)(22,"g"),b._UZ(23,"path",16)(24,"ellipse",17),b.qZA(),b.TgZ(25,"g",18)(26,"svg",19)(27,"g")(28,"svg",20),b._UZ(29,"path",21),b.qZA()()()()()()()(),b._UZ(30,"g"),b.qZA()(),b._UZ(31,"defs"),b.qZA(),b._UZ(32,"rect",22),b.qZA()()())}})}return u})()},2732:(Vt,Ge,K)=>{K.d(Ge,{Q:()=>u});var b=K(9468),re=K(6593);let u=(()=>{class be{constructor(fe){this.sanitizer=fe}transform(fe){let Ee;if(fe.startsWith("https://m."))Ee=new URLSearchParams(fe.split("?")[1]).get("v")||"";else{const Re=fe.split("/");Ee=Re[Re.length-1]}return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+Ee)}static#e=this.\u0275fac=function(Ee){return new(Ee||be)(b.Y36(re.H7,16))};static#t=this.\u0275pipe=b.Yjl({name:"safeUrl",type:be,pure:!0})}return be})()},2772:(Vt,Ge,K)=>{K.d(Ge,{r:()=>ue});var b=K(6814),re=K(6024),u=K(95),be=K(9468);let ue=(()=>{class fe{static#e=this.\u0275fac=function(Re){return new(Re||fe)};static#t=this.\u0275mod=be.oAB({type:fe});static#n=this.\u0275inj=be.cJS({imports:[b.ez,re.Bz,u.u5,u.UX]})}return fe})()},8850:(Vt,Ge,K)=>{K.d(Ge,{O:()=>fe});var b=K(5861),re=K(3477),u=K(8645),be=K(9468),ue=K(4456);let fe=(()=>{class Ee{constructor(Re,ce){this.firestore=Re,this.globalErrorHandler=ce,this.commentAddedSubject=new u.x,this.collectionName="Comments"}getCommentsByQuery(Re,ce){var de=this;return(0,b.Z)(function*(){try{const Me=(0,re.hJ)(de.firestore,de.collectionName),Se=(0,re.IO)(Me,(0,re.ar)(Re,"==",ce)),Oe=yield(0,re.PL)(Se),Ye=[];return Oe.forEach(Tt=>{const{create_time:kt,name:Ot,recipeId:Cn,comment:Mt,uid:ft}=Tt.data();Ye.push({create_time:kt,name:Ot,recipeId:Cn,comment:Mt,uid:ft,id:Tt.id})}),Ye.sort((Tt,kt)=>{const Ot=Tt.create_time.toDate();return kt.create_time.toDate().getTime()-Ot.getTime()}),Ye}catch(Me){return de.globalErrorHandler.handleError(Me),[]}})()}getCommentsForRecipe(Re){var ce=this;return(0,b.Z)(function*(){return ce.getCommentsByQuery("recipeId",Re)})()}getCommentsForUser(Re){var ce=this;return(0,b.Z)(function*(){return ce.getCommentsByQuery("uid",Re)})()}addComment(Re){var ce=this;return(0,b.Z)(function*(){try{const de=yield(0,re.ET)((0,re.hJ)(ce.firestore,ce.collectionName),Re);return ce.commentAddedSubject.next(),de.id}catch(de){return ce.globalErrorHandler.handleError(de),null}})()}deleteComment(Re){var ce=this;return(0,b.Z)(function*(){try{const de=(0,re.JU)(ce.firestore,ce.collectionName,Re);yield(0,re.oe)(de),console.log("Comment deleted successfully:",Re)}catch(de){throw ce.globalErrorHandler.handleError(de),de}})()}getCommentById(Re){var ce=this;return(0,b.Z)(function*(){const de=(0,re.JU)(ce.firestore,ce.collectionName,Re),Me=yield(0,re.QT)(de);if(Me.exists()){const Se=Me.data();return console.log(Se.recipeId),Me.data()}return null})()}editComment(Re,ce){var de=this;return(0,b.Z)(function*(){const Se=(0,re.JU)(de.firestore,"Comments",ce),Oe={...Re};try{yield(0,re.r7)(Se,Oe)}catch(Ye){throw de.globalErrorHandler.handleError(Ye),Ye}})()}getCommentAddedObservable(){return this.commentAddedSubject.asObservable()}static#e=this.\u0275fac=function(ce){return new(ce||Ee)(be.LFG(re.gg),be.LFG(ue.r))};static#t=this.\u0275prov=be.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})()},3424:(Vt,Ge,K)=>{K.d(Ge,{l:()=>u});var b=K(95),re=K(9468);let u=(()=>{class be{markFormGroupTouched(fe){Object.values(fe.controls).forEach(Ee=>{Ee instanceof b.NI?Ee.markAsTouched():Ee instanceof b.cw&&this.markFormGroupTouched(Ee)})}markFormArrayControlsTouched(fe){for(let Ee=0;Ee<fe.length;Ee++){const Qe=fe.at(Ee);this.markFormGroupTouched(Qe)}}getFormGroupErrors(fe){let Ee="";return Object.keys(fe.controls).forEach(Qe=>{const Re=fe.get(Qe)?.errors;Re&&Object.keys(Re).forEach(ce=>{Ee+=`${Qe} ${this.getControlErrorMessage(ce,Re[ce])}\n`})}),Ee}getControlErrorMessage(fe,Ee){switch(fe){case"required":return"-> this field is required.";case"minlength":return`-> Minimum length is ${Ee.requiredLength}.`;case"maxlength":return`-> Maximum length is ${Ee.requiredLength}.`;default:return""}}static#e=this.\u0275fac=function(Ee){return new(Ee||be)};static#t=this.\u0275prov=re.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})()},4456:(Vt,Ge,K)=>{K.d(Ge,{r:()=>u});var b=K(9468),re=K(1816);let u=(()=>{class be{constructor(fe){this.alertService=fe}handleError(fe){if(fe instanceof Error){const Ee=fe.name,Qe=fe.message;console.error(`Error (${Ee}): ${Qe}`),this.alertService.sendModalMessage(`Error (${Ee}): \n\n         ${Qe}`)}else this.alertService.sendModalMessage(`Unknown error occurred:\n      \n${fe}`)}static#e=this.\u0275fac=function(Ee){return new(Ee||be)(b.LFG(re.y))};static#t=this.\u0275prov=b.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})()},3585:(Vt,Ge,K)=>{K.d(Ge,{j:()=>ce});var b=K(5861),re=K(3477),u=K(5619),be=K(6973),ue=K(305),Ee=K(9468),Qe=K(6024),Re=K(4456);let ce=(()=>{class de{constructor(Se,Oe,Ye){this.firestore=Se,this.router=Oe,this.globalErrorHandler=Ye,this.lastDocSubject=new u.X(void 0),this.lastDoc$=this.lastDocSubject.asObservable(),this.collectionName="Recipe",this.paginateNumber=12}getRecipes(){var Se=this;return(0,b.Z)(function*(){try{let Oe=(0,re.IO)((0,re.hJ)(Se.firestore,Se.collectionName),(0,re.Xo)("title"));Oe=(0,re.IO)(Oe,(0,re.b9)(Se.paginateNumber));const Ye=yield(0,re.PL)(Oe);let Tt=[];return Ye.forEach(Ot=>{const Mt={...Ot.data(),id:Ot.id};Tt.push(Mt)}),Se.lastDocSubject.next(Ye.docs[Ye.docs.length-1]),{data:Tt}}catch(Oe){throw Se.globalErrorHandler.handleError(Oe),Oe}})()}getRecipesLoadMore(){var Se=this;return(0,b.Z)(function*(){try{const Oe=yield function fe(de,Me){const Se="object"==typeof Me;return new Promise((Oe,Ye)=>{const Tt=new ue.Hp({next:kt=>{Oe(kt),Tt.unsubscribe()},error:Ye,complete:()=>{Se?Oe(Me.defaultValue):Ye(new be.K)}});de.subscribe(Tt)})}(Se.lastDoc$);let Ye=(0,re.IO)((0,re.hJ)(Se.firestore,Se.collectionName),(0,re.Xo)("title"));Oe&&(Ye=(0,re.IO)(Ye,(0,re.TQ)(Oe))),Ye=(0,re.IO)(Ye,(0,re.b9)(Se.paginateNumber));const Tt=yield(0,re.PL)(Ye);let kt=[];Tt.forEach(Mt=>{const ot={...Mt.data(),id:Mt.id};kt.push(ot)});const Ot=Tt.size===Se.paginateNumber;return Se.lastDocSubject.next(Tt.docs[Tt.docs.length-1]),{data:kt,hasMore:Ot}}catch(Oe){throw Se.globalErrorHandler.handleError(Oe),Oe}})()}getRecipeById(Se){var Oe=this;return(0,b.Z)(function*(){try{const Ye=(0,re.JU)(Oe.firestore,Oe.collectionName,Se),Tt=yield(0,re.QT)(Ye);if(Tt.exists()){let kt=Tt.data();return kt.id||(kt={...kt,id:Se}),kt}return null}catch(Ye){throw Oe.globalErrorHandler.handleError(Ye),Ye}})()}getRecipeByUID(Se){var Oe=this;return(0,b.Z)(function*(){try{const Ye=(0,re.hJ)(Oe.firestore,Oe.collectionName),Tt=(0,re.IO)(Ye,(0,re.ar)("uid","==",Se)),kt=yield(0,re.PL)(Tt),Ot=[];return kt.forEach(Cn=>{const ft={...Cn.data(),id:Cn.id};Ot.push(ft)}),Ot}catch(Ye){throw Oe.globalErrorHandler.handleError(Ye),Ye}})()}searchRecipesByTitle(Se){var Oe=this;return(0,b.Z)(function*(){try{let Ye=(0,re.IO)((0,re.hJ)(Oe.firestore,Oe.collectionName),(0,re.Xo)("title"));const Tt=yield(0,re.PL)(Ye);let kt=[];return Tt.forEach(Ot=>{const Mt={...Ot.data(),id:Ot.id};kt.push(Mt)}),Se&&(kt=kt.filter(Ot=>Ot.title.toLowerCase().includes(Se.toLowerCase()))),{data:kt}}catch(Ye){throw Oe.globalErrorHandler.handleError(Ye),Ye}})()}updateRecipeLikes(Se,Oe,Ye){var Tt=this;return(0,b.Z)(function*(){const kt=(0,re.JU)(Tt.firestore,Tt.collectionName,Se);try{Ye?(console.log("remove"),yield(0,re.r7)(kt,{likes:(0,re.Ab)(Oe)})):(console.log("add"),yield(0,re.r7)(kt,{likes:(0,re.vr)(Oe)})),console.log("Recipe likes updated successfully")}catch(Ot){throw Tt.globalErrorHandler.handleError(Ot),Ot}})()}deleteRecipe(Se){var Oe=this;return(0,b.Z)(function*(){try{const Ye=(0,re.JU)(Oe.firestore,Oe.collectionName,Se);yield(0,re.oe)(Ye),console.log("Recipe deleted successfully:",Se)}catch(Ye){throw Oe.globalErrorHandler.handleError(Ye),Ye}})()}addRecipe(Se){(0,re.ET)((0,re.hJ)(this.firestore,this.collectionName),Se).then(Oe=>{console.log("Document written with ID: ",Oe.id),this.router.navigate(["/recipe",Oe.id])}).catch(Oe=>{throw this.globalErrorHandler.handleError(Oe),Oe})}updateRecipe(Se,Oe){if(Oe){const Ye=(0,re.JU)(this.firestore,this.collectionName,Oe),Tt={...Se};(0,re.r7)(Ye,Tt).then(()=>{console.log("Document successfully updated"),this.router.navigate(["/recipe",Oe])}).catch(kt=>{this.globalErrorHandler.handleError(kt)})}else this.globalErrorHandler.handleError("Invalid recipe id.")}static#e=this.\u0275fac=function(Oe){return new(Oe||de)(Ee.LFG(re.gg),Ee.LFG(Qe.F0),Ee.LFG(Re.r))};static#t=this.\u0275prov=Ee.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})()},6499:(Vt,Ge,K)=>{K.d(Ge,{K:()=>gv});var b=K(5861),re=K(9058),u=K(4303),be=K(7879),ue=K(7582),fe=K(4537);const Ye=function Se(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Tt=new re.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ot=new be.Yd("@firebase/auth");function Mt(A,...v){Ot.logLevel<=be.in.ERROR&&Ot.error(`Auth (${u.Jn}): ${A}`,...v)}function ft(A,...v){throw je(A,...v)}function ot(A,...v){return je(A,...v)}function je(A,...v){if("string"!=typeof A){const w=v[0],N=[...v.slice(1)];return N[0]&&(N[0].appName=A.name),A._errorFactory.create(w,...N)}return Tt.create(A,...v)}function ve(A,v,...w){if(!A)throw je(v,...w)}function Je(A){const v="INTERNAL ASSERTION FAILED: "+A;throw Mt(v),new Error(v)}function mt(A,v){A||Je(v)}function kn(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.href)||""}function hn(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.protocol)||null}class or{constructor(v,w){this.shortDelay=v,this.longDelay=w,mt(w>v,"Short delay should be less than long delay!"),this.isMobile=(0,re.uI)()||(0,re.b$)()}get(){return function Sn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function dt(){return"http:"===hn()||"https:"===hn()}()||(0,re.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function yr(A,v){mt(A.emulator,"Emulator should always be set here");const{url:w}=A.emulator;return v?`${w}${v.startsWith("/")?v.slice(1):v}`:w}class Fe{static initialize(v,w,N){this.fetchImpl=v,w&&(this.headersImpl=w),N&&(this.responseImpl=N)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Je("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Je("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Je("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Xe=new or(3e4,6e4);function Ue(A,v){return A.tenantId&&!v.tenantId?Object.assign(Object.assign({},v),{tenantId:A.tenantId}):v}function it(A,v,w,N){return wt.apply(this,arguments)}function wt(){return(wt=(0,b.Z)(function*(A,v,w,N,Z={}){return Pt(A,Z,(0,b.Z)(function*(){let ae={},Ae={};N&&("GET"===v?Ae=N:ae={body:JSON.stringify(N)});const Ke=(0,re.xO)(Object.assign({key:A.config.apiKey},Ae)).slice(1),Ct=yield A._getAdditionalHeaders();return Ct["Content-Type"]="application/json",A.languageCode&&(Ct["X-Firebase-Locale"]=A.languageCode),Fe.fetch()(un(A,A.config.apiHost,w,Ke),Object.assign({method:v,headers:Ct,referrerPolicy:"no-referrer"},ae))}))})).apply(this,arguments)}function Pt(A,v,w){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,b.Z)(function*(A,v,w){A._canInitEmulator=!1;const N=Object.assign(Object.assign({},$e),v);try{const Z=new Wn(A),ae=yield Promise.race([w(),Z.promise]);Z.clearNetworkTimeout();const Ae=yield ae.json();if("needConfirmation"in Ae)throw vr(A,"account-exists-with-different-credential",Ae);if(ae.ok&&!("errorMessage"in Ae))return Ae;{const Ke=ae.ok?Ae.errorMessage:Ae.error.message,[Ct,ln]=Ke.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ct)throw vr(A,"credential-already-in-use",Ae);if("EMAIL_EXISTS"===Ct)throw vr(A,"email-already-in-use",Ae);if("USER_DISABLED"===Ct)throw vr(A,"user-disabled",Ae);const Rn=N[Ct]||Ct.toLowerCase().replace(/[_\s]+/g,"-");if(ln)throw function yt(A,v,w){const N=Object.assign(Object.assign({},Ye()),{[v]:w});return new re.LL("auth","Firebase",N).create(v,{appName:A.name})}(A,Rn,ln);ft(A,Rn)}}catch(Z){if(Z instanceof re.ZR)throw Z;ft(A,"network-request-failed",{message:String(Z)})}})).apply(this,arguments)}function fn(A,v,w,N){return wn.apply(this,arguments)}function wn(){return(wn=(0,b.Z)(function*(A,v,w,N,Z={}){const ae=yield it(A,v,w,N,Z);return"mfaPendingCredential"in ae&&ft(A,"multi-factor-auth-required",{_serverResponse:ae}),ae})).apply(this,arguments)}function un(A,v,w,N){const Z=`${v}${w}?${N}`;return A.config.emulator?yr(A.config,Z):`${A.config.apiScheme}://${Z}`}function Dt(A){switch(A){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Wn{constructor(v){this.auth=v,this.timer=null,this.promise=new Promise((w,N)=>{this.timer=setTimeout(()=>N(ot(this.auth,"network-request-failed")),Xe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vr(A,v,w){const N={appName:A.name};w.email&&(N.email=w.email),w.phoneNumber&&(N.phoneNumber=w.phoneNumber);const Z=ot(A,v,N);return Z.customData._tokenResponse=w,Z}function De(A){return void 0!==A&&void 0!==A.enterprise}class Pe{constructor(v){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===v.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=v.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=v.recaptchaEnforcementState}getProviderEnforcementState(v){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const w of this.recaptchaEnforcementState)if(w.provider&&w.provider===v)return Dt(w.enforcementState);return null}isProviderEnabled(v){return"ENFORCE"===this.getProviderEnforcementState(v)||"AUDIT"===this.getProviderEnforcementState(v)}}function vt(A,v){return At.apply(this,arguments)}function At(){return(At=(0,b.Z)(function*(A,v){return it(A,"GET","/v2/recaptchaConfig",Ue(A,v))})).apply(this,arguments)}function An(){return(An=(0,b.Z)(function*(A,v){return it(A,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}function Jn(){return(Jn=(0,b.Z)(function*(A,v){return it(A,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}function tn(A){if(A)try{const v=new Date(Number(A));if(!isNaN(v.getTime()))return v.toUTCString()}catch{}}function yn(){return(yn=(0,b.Z)(function*(A,v=!1){const w=(0,re.m9)(A),N=yield w.getIdToken(v),Z=Yn(N);ve(Z&&Z.exp&&Z.auth_time&&Z.iat,w.auth,"internal-error");const ae="object"==typeof Z.firebase?Z.firebase:void 0,Ae=ae?.sign_in_provider;return{claims:Z,token:N,authTime:tn(ar(Z.auth_time)),issuedAtTime:tn(ar(Z.iat)),expirationTime:tn(ar(Z.exp)),signInProvider:Ae||null,signInSecondFactor:ae?.sign_in_second_factor||null}})).apply(this,arguments)}function ar(A){return 1e3*Number(A)}function Yn(A){const[v,w,N]=A.split(".");if(void 0===v||void 0===w||void 0===N)return Mt("JWT malformed, contained fewer than 3 sections"),null;try{const Z=(0,re.tV)(w);return Z?JSON.parse(Z):(Mt("Failed to decode base64 JWT payload"),null)}catch(Z){return Mt("Caught error parsing JWT payload as JSON",Z?.toString()),null}}function jn(A,v){return ai.apply(this,arguments)}function ai(){return(ai=(0,b.Z)(function*(A,v,w=!1){if(w)return v;try{return yield v}catch(N){throw N instanceof re.ZR&&function xn({code:A}){return"auth/user-disabled"===A||"auth/user-token-expired"===A}(N)&&A.auth.currentUser===A&&(yield A.auth.signOut()),N}})).apply(this,arguments)}class Xn{constructor(v){this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(v){var w;if(v){const N=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),N}{this.errorBackoff=3e4;const Z=(null!==(w=this.user.stsTokenManager.expirationTime)&&void 0!==w?w:0)-Date.now()-3e5;return Math.max(0,Z)}}schedule(v=!1){var w=this;if(!this.isRunning)return;const N=this.getInterval(v);this.timerId=setTimeout((0,b.Z)(function*(){yield w.iteration()}),N)}iteration(){var v=this;return(0,b.Z)(function*(){try{yield v.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===w?.code&&v.schedule(!0))}v.schedule()})()}}class Nr{constructor(v,w){this.createdAt=v,this.lastLoginAt=w,this._initializeTime()}_initializeTime(){this.lastSignInTime=tn(this.lastLoginAt),this.creationTime=tn(this.createdAt)}_copy(v){this.createdAt=v.createdAt,this.lastLoginAt=v.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ci(A){return nt.apply(this,arguments)}function nt(){return nt=(0,b.Z)(function*(A){var v;const w=A.auth,N=yield A.getIdToken(),Z=yield jn(A,function En(A,v){return Jn.apply(this,arguments)}(w,{idToken:N}));ve(Z?.users.length,w,"internal-error");const ae=Z.users[0];A._notifyReloadListener(ae);const Ae=null!==(v=ae.providerUserInfo)&&void 0!==v&&v.length?function zt(A){return A.map(v=>{var{providerId:w}=v,N=(0,ue._T)(v,["providerId"]);return{providerId:w,uid:N.rawId||"",displayName:N.displayName||null,email:N.email||null,phoneNumber:N.phoneNumber||null,photoURL:N.photoUrl||null}})}(ae.providerUserInfo):[],Ke=function It(A,v){return[...A.filter(N=>!v.some(Z=>Z.providerId===N.providerId)),...v]}(A.providerData,Ae),Rn=!!A.isAnonymous&&!(A.email&&ae.passwordHash||Ke?.length),Vr={uid:ae.localId,displayName:ae.displayName||null,photoURL:ae.photoUrl||null,email:ae.email||null,emailVerified:ae.emailVerified||!1,phoneNumber:ae.phoneNumber||null,tenantId:ae.tenantId||null,providerData:Ke,metadata:new Nr(ae.createdAt,ae.lastLoginAt),isAnonymous:Rn};Object.assign(A,Vr)}),nt.apply(this,arguments)}function Ze(){return(Ze=(0,b.Z)(function*(A){const v=(0,re.m9)(A);yield ci(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}function $n(){return($n=(0,b.Z)(function*(A,v){const w=yield Pt(A,{},(0,b.Z)(function*(){const N=(0,re.xO)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:Z,apiKey:ae}=A.config,Ae=un(A,Z,"/v1/token",`key=${ae}`),Ke=yield A._getAdditionalHeaders();return Ke["Content-Type"]="application/x-www-form-urlencoded",Fe.fetch()(Ae,{method:"POST",headers:Ke,body:N})}));return{accessToken:w.access_token,expiresIn:w.expires_in,refreshToken:w.refresh_token}})).apply(this,arguments)}function V(){return(V=(0,b.Z)(function*(A,v){return it(A,"POST","/v2/accounts:revokeToken",Ue(A,v))})).apply(this,arguments)}class G{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(v){ve(v.idToken,"internal-error"),ve(typeof v.idToken<"u","internal-error"),ve(typeof v.refreshToken<"u","internal-error");const w="expiresIn"in v&&typeof v.expiresIn<"u"?Number(v.expiresIn):function cr(A){const v=Yn(A);return ve(v,"internal-error"),ve(typeof v.exp<"u","internal-error"),ve(typeof v.iat<"u","internal-error"),Number(v.exp)-Number(v.iat)}(v.idToken);this.updateTokensAndExpiration(v.idToken,v.refreshToken,w)}getToken(v,w=!1){var N=this;return(0,b.Z)(function*(){return ve(!N.accessToken||N.refreshToken,v,"user-token-expired"),w||!N.accessToken||N.isExpired?N.refreshToken?(yield N.refresh(v,N.refreshToken),N.accessToken):null:N.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(v,w){var N=this;return(0,b.Z)(function*(){const{accessToken:Z,refreshToken:ae,expiresIn:Ae}=yield function Zt(A,v){return $n.apply(this,arguments)}(v,w);N.updateTokensAndExpiration(Z,ae,Number(Ae))})()}updateTokensAndExpiration(v,w,N){this.refreshToken=w||null,this.accessToken=v||null,this.expirationTime=Date.now()+1e3*N}static fromJSON(v,w){const{refreshToken:N,accessToken:Z,expirationTime:ae}=w,Ae=new G;return N&&(ve("string"==typeof N,"internal-error",{appName:v}),Ae.refreshToken=N),Z&&(ve("string"==typeof Z,"internal-error",{appName:v}),Ae.accessToken=Z),ae&&(ve("number"==typeof ae,"internal-error",{appName:v}),Ae.expirationTime=ae),Ae}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(v){this.accessToken=v.accessToken,this.refreshToken=v.refreshToken,this.expirationTime=v.expirationTime}_clone(){return Object.assign(new G,this.toJSON())}_performRefresh(){return Je("not implemented")}}function W(A,v){ve("string"==typeof A||typeof A>"u","internal-error",{appName:v})}class ${constructor(v){var{uid:w,auth:N,stsTokenManager:Z}=v,ae=(0,ue._T)(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=w,this.auth=N,this.stsTokenManager=Z,this.accessToken=Z.accessToken,this.displayName=ae.displayName||null,this.email=ae.email||null,this.emailVerified=ae.emailVerified||!1,this.phoneNumber=ae.phoneNumber||null,this.photoURL=ae.photoURL||null,this.isAnonymous=ae.isAnonymous||!1,this.tenantId=ae.tenantId||null,this.providerData=ae.providerData?[...ae.providerData]:[],this.metadata=new Nr(ae.createdAt||void 0,ae.lastLoginAt||void 0)}getIdToken(v){var w=this;return(0,b.Z)(function*(){const N=yield jn(w,w.stsTokenManager.getToken(w.auth,v));return ve(N,w.auth,"internal-error"),w.accessToken!==N&&(w.accessToken=N,yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)),N})()}getIdTokenResult(v){return function Ir(A){return yn.apply(this,arguments)}(this,v)}reload(){return function Ce(A){return Ze.apply(this,arguments)}(this)}_assign(v){this!==v&&(ve(this.uid===v.uid,this.auth,"internal-error"),this.displayName=v.displayName,this.photoURL=v.photoURL,this.email=v.email,this.emailVerified=v.emailVerified,this.phoneNumber=v.phoneNumber,this.isAnonymous=v.isAnonymous,this.tenantId=v.tenantId,this.providerData=v.providerData.map(w=>Object.assign({},w)),this.metadata._copy(v.metadata),this.stsTokenManager._assign(v.stsTokenManager))}_clone(v){const w=new $(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}));return w.metadata._copy(this.metadata),w}_onReload(v){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=v,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(v){this.reloadListener?this.reloadListener(v):this.reloadUserInfo=v}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(v,w=!1){var N=this;return(0,b.Z)(function*(){let Z=!1;v.idToken&&v.idToken!==N.stsTokenManager.accessToken&&(N.stsTokenManager.updateFromServerResponse(v),Z=!0),w&&(yield ci(N)),yield N.auth._persistUserIfCurrent(N),Z&&N.auth._notifyListenersIfCurrent(N)})()}delete(){var v=this;return(0,b.Z)(function*(){const w=yield v.getIdToken();return yield jn(v,function wr(A,v){return An.apply(this,arguments)}(v.auth,{idToken:w})),v.stsTokenManager.clearRefreshToken(),v.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(v=>Object.assign({},v)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(v,w){var N,Z,ae,Ae,Ke,Ct,ln,Rn;const Vr=null!==(N=w.displayName)&&void 0!==N?N:void 0,Aa=null!==(Z=w.email)&&void 0!==Z?Z:void 0,Sl=null!==(ae=w.phoneNumber)&&void 0!==ae?ae:void 0,Cg=null!==(Ae=w.photoURL)&&void 0!==Ae?Ae:void 0,g_=null!==(Ke=w.tenantId)&&void 0!==Ke?Ke:void 0,Fd=null!==(Ct=w._redirectEventId)&&void 0!==Ct?Ct:void 0,mv=null!==(ln=w.createdAt)&&void 0!==ln?ln:void 0,_v=null!==(Rn=w.lastLoginAt)&&void 0!==Rn?Rn:void 0,{uid:Ou,emailVerified:Sg,isAnonymous:ob,providerData:Vf,stsTokenManager:Uf}=w;ve(Ou&&Uf,v,"internal-error");const Ag=G.fromJSON(this.name,Uf);ve("string"==typeof Ou,v,"internal-error"),W(Vr,v.name),W(Aa,v.name),ve("boolean"==typeof Sg,v,"internal-error"),ve("boolean"==typeof ob,v,"internal-error"),W(Sl,v.name),W(Cg,v.name),W(g_,v.name),W(Fd,v.name),W(mv,v.name),W(_v,v.name);const Ng=new $({uid:Ou,auth:v,email:Aa,emailVerified:Sg,displayName:Vr,isAnonymous:ob,photoURL:Cg,phoneNumber:Sl,tenantId:g_,stsTokenManager:Ag,createdAt:mv,lastLoginAt:_v});return Vf&&Array.isArray(Vf)&&(Ng.providerData=Vf.map(Og=>Object.assign({},Og))),Fd&&(Ng._redirectEventId=Fd),Ng}static _fromIdTokenResponse(v,w,N=!1){return(0,b.Z)(function*(){const Z=new G;Z.updateFromServerResponse(w);const ae=new $({uid:w.localId,auth:v,stsTokenManager:Z,isAnonymous:N});return yield ci(ae),ae})()}}const we=new Map;function We(A){mt(A instanceof Function,"Expected a class definition");let v=we.get(A);return v?(mt(v instanceof A,"Instance stored in cache mismatched with class"),v):(v=new A,we.set(A,v),v)}const an=(()=>{class A{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,b.Z)(function*(){return!0})()}_set(w,N){var Z=this;return(0,b.Z)(function*(){Z.storage[w]=N})()}_get(w){var N=this;return(0,b.Z)(function*(){const Z=N.storage[w];return void 0===Z?null:Z})()}_remove(w){var N=this;return(0,b.Z)(function*(){delete N.storage[w]})()}_addListener(w,N){}_removeListener(w,N){}}return A.type="NONE",A})();function pn(A,v,w){return`firebase:${A}:${v}:${w}`}class Nn{constructor(v,w,N){this.persistence=v,this.auth=w,this.userKey=N;const{config:Z,name:ae}=this.auth;this.fullUserKey=pn(this.userKey,Z.apiKey,ae),this.fullPersistenceKey=pn("persistence",Z.apiKey,ae),this.boundEventHandler=w._onStorageEvent.bind(w),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(v){return this.persistence._set(this.fullUserKey,v.toJSON())}getCurrentUser(){var v=this;return(0,b.Z)(function*(){const w=yield v.persistence._get(v.fullUserKey);return w?$._fromJSON(v.auth,w):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(v){var w=this;return(0,b.Z)(function*(){if(w.persistence===v)return;const N=yield w.getCurrentUser();return yield w.removeCurrentUser(),w.persistence=v,N?w.setCurrentUser(N):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(v,w,N="authUser"){return(0,b.Z)(function*(){if(!w.length)return new Nn(We(an),v,N);const Z=(yield Promise.all(w.map(function(){var ln=(0,b.Z)(function*(Rn){if(yield Rn._isAvailable())return Rn});return function(Rn){return ln.apply(this,arguments)}}()))).filter(ln=>ln);let ae=Z[0]||We(an);const Ae=pn(N,v.config.apiKey,v.name);let Ke=null;for(const ln of w)try{const Rn=yield ln._get(Ae);if(Rn){const Vr=$._fromJSON(v,Rn);ln!==ae&&(Ke=Vr),ae=ln;break}}catch{}const Ct=Z.filter(ln=>ln._shouldAllowMigration);return ae._shouldAllowMigration&&Ct.length?(ae=Ct[0],Ke&&(yield ae._set(Ae,Ke.toJSON())),yield Promise.all(w.map(function(){var ln=(0,b.Z)(function*(Rn){if(Rn!==ae)try{yield Rn._remove(Ae)}catch{}});return function(Rn){return ln.apply(this,arguments)}}())),new Nn(ae,v,N)):new Nn(ae,v,N)})()}}function Kt(A){const v=A.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(qs(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(Fn(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(ls(v))return"Blackberry";if(Yo(v))return"Webos";if(Wr(v))return"Safari";if((v.includes("chrome/")||tr(v))&&!v.includes("edge/"))return"Chrome";if(Hi(v))return"Android";{const N=A.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===N?.length)return N[1]}return"Other"}function Fn(A=(0,re.z$)()){return/firefox\//i.test(A)}function Wr(A=(0,re.z$)()){const v=A.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}function tr(A=(0,re.z$)()){return/crios\//i.test(A)}function qs(A=(0,re.z$)()){return/iemobile/i.test(A)}function Hi(A=(0,re.z$)()){return/android/i.test(A)}function ls(A=(0,re.z$)()){return/blackberry/i.test(A)}function Yo(A=(0,re.z$)()){return/webos/i.test(A)}function Ra(A=(0,re.z$)()){return/iphone|ipad|ipod/i.test(A)||/macintosh/i.test(A)&&/mobile/i.test(A)}function ys(A=(0,re.z$)()){return Ra(A)||Hi(A)||Yo(A)||ls(A)||/windows phone/i.test(A)||qs(A)}function lr(A,v=[]){let w;switch(A){case"Browser":w=Kt((0,re.z$)());break;case"Worker":w=`${Kt((0,re.z$)())}-${A}`;break;default:w=A}const N=v.length?v.join(","):"FirebaseCore-web";return`${w}/JsCore/${u.Jn}/${N}`}class co{constructor(v){this.auth=v,this.queue=[]}pushCallback(v,w){const N=ae=>new Promise((Ae,Ke)=>{try{Ae(v(ae))}catch(Ct){Ke(Ct)}});N.onAbort=w,this.queue.push(N);const Z=this.queue.length-1;return()=>{this.queue[Z]=()=>Promise.resolve()}}runMiddleware(v){var w=this;return(0,b.Z)(function*(){if(w.auth.currentUser===v)return;const N=[];try{for(const Z of w.queue)yield Z(v),Z.onAbort&&N.push(Z.onAbort)}catch(Z){N.reverse();for(const ae of N)try{ae()}catch{}throw w.auth._errorFactory.create("login-blocked",{originalMessage:Z?.message})}})()}}function Qo(){return(Qo=(0,b.Z)(function*(A,v={}){return it(A,"GET","/v2/passwordPolicy",Ue(A,v))})).apply(this,arguments)}class Gi{constructor(v){var w,N,Z,ae;const Ae=v.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(w=Ae.minPasswordLength)&&void 0!==w?w:6,Ae.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ae.maxPasswordLength),void 0!==Ae.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ae.containsLowercaseCharacter),void 0!==Ae.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ae.containsUppercaseCharacter),void 0!==Ae.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ae.containsNumericCharacter),void 0!==Ae.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ae.containsNonAlphanumericCharacter),this.enforcementState=v.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Z=null===(N=v.allowedNonAlphanumericCharacters)||void 0===N?void 0:N.join(""))&&void 0!==Z?Z:"",this.forceUpgradeOnSignin=null!==(ae=v.forceUpgradeOnSignin)&&void 0!==ae&&ae,this.schemaVersion=v.schemaVersion}validatePassword(v){var w,N,Z,ae,Ae,Ke;const Ct={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(v,Ct),this.validatePasswordCharacterOptions(v,Ct),Ct.isValid&&(Ct.isValid=null===(w=Ct.meetsMinPasswordLength)||void 0===w||w),Ct.isValid&&(Ct.isValid=null===(N=Ct.meetsMaxPasswordLength)||void 0===N||N),Ct.isValid&&(Ct.isValid=null===(Z=Ct.containsLowercaseLetter)||void 0===Z||Z),Ct.isValid&&(Ct.isValid=null===(ae=Ct.containsUppercaseLetter)||void 0===ae||ae),Ct.isValid&&(Ct.isValid=null===(Ae=Ct.containsNumericCharacter)||void 0===Ae||Ae),Ct.isValid&&(Ct.isValid=null===(Ke=Ct.containsNonAlphanumericCharacter)||void 0===Ke||Ke),Ct}validatePasswordLengthOptions(v,w){const N=this.customStrengthOptions.minPasswordLength,Z=this.customStrengthOptions.maxPasswordLength;N&&(w.meetsMinPasswordLength=v.length>=N),Z&&(w.meetsMaxPasswordLength=v.length<=Z)}validatePasswordCharacterOptions(v,w){let N;this.updatePasswordCharacterOptionsStatuses(w,!1,!1,!1,!1);for(let Z=0;Z<v.length;Z++)N=v.charAt(Z),this.updatePasswordCharacterOptionsStatuses(w,N>="a"&&N<="z",N>="A"&&N<="Z",N>="0"&&N<="9",this.allowedNonAlphanumericCharacters.includes(N))}updatePasswordCharacterOptionsStatuses(v,w,N,Z,ae){this.customStrengthOptions.containsLowercaseLetter&&(v.containsLowercaseLetter||(v.containsLowercaseLetter=w)),this.customStrengthOptions.containsUppercaseLetter&&(v.containsUppercaseLetter||(v.containsUppercaseLetter=N)),this.customStrengthOptions.containsNumericCharacter&&(v.containsNumericCharacter||(v.containsNumericCharacter=Z)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(v.containsNonAlphanumericCharacter||(v.containsNonAlphanumericCharacter=ae))}}class xs{constructor(v,w,N,Z){this.app=v,this.heartbeatServiceProvider=w,this.appCheckServiceProvider=N,this.config=Z,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zs(this),this.idTokenSubscription=new Zs(this),this.beforeStateQueue=new co(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=Z.sdkClientVersion}_initializeWithPersistence(v,w){var N=this;return w&&(this._popupRedirectResolver=We(w)),this._initializationPromise=this.queue((0,b.Z)(function*(){var Z,ae;if(!N._deleted&&(N.persistenceManager=yield Nn.create(N,v),!N._deleted)){if(null!==(Z=N._popupRedirectResolver)&&void 0!==Z&&Z._shouldInitProactively)try{yield N._popupRedirectResolver._initialize(N)}catch{}yield N.initializeCurrentUser(w),N.lastNotifiedUid=(null===(ae=N.currentUser)||void 0===ae?void 0:ae.uid)||null,!N._deleted&&(N._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var v=this;return(0,b.Z)(function*(){if(v._deleted)return;const w=yield v.assertedPersistence.getCurrentUser();if(v.currentUser||w){if(v.currentUser&&w&&v.currentUser.uid===w.uid)return v._currentUser._assign(w),void(yield v.currentUser.getIdToken());yield v._updateCurrentUser(w,!0)}})()}initializeCurrentUser(v){var w=this;return(0,b.Z)(function*(){var N;const Z=yield w.assertedPersistence.getCurrentUser();let ae=Z,Ae=!1;if(v&&w.config.authDomain){yield w.getOrInitRedirectPersistenceManager();const Ke=null===(N=w.redirectUser)||void 0===N?void 0:N._redirectEventId,Ct=ae?._redirectEventId,ln=yield w.tryRedirectSignIn(v);(!Ke||Ke===Ct)&&ln?.user&&(ae=ln.user,Ae=!0)}if(!ae)return w.directlySetCurrentUser(null);if(!ae._redirectEventId){if(Ae)try{yield w.beforeStateQueue.runMiddleware(ae)}catch(Ke){ae=Z,w._popupRedirectResolver._overrideRedirectResult(w,()=>Promise.reject(Ke))}return ae?w.reloadAndSetCurrentUserOrClear(ae):w.directlySetCurrentUser(null)}return ve(w._popupRedirectResolver,w,"argument-error"),yield w.getOrInitRedirectPersistenceManager(),w.redirectUser&&w.redirectUser._redirectEventId===ae._redirectEventId?w.directlySetCurrentUser(ae):w.reloadAndSetCurrentUserOrClear(ae)})()}tryRedirectSignIn(v){var w=this;return(0,b.Z)(function*(){let N=null;try{N=yield w._popupRedirectResolver._completeRedirectFn(w,v,!0)}catch{yield w._setRedirectUser(null)}return N})()}reloadAndSetCurrentUserOrClear(v){var w=this;return(0,b.Z)(function*(){try{yield ci(v)}catch(N){if("auth/network-request-failed"!==N?.code)return w.directlySetCurrentUser(null)}return w.directlySetCurrentUser(v)})()}useDeviceLanguage(){this.languageCode=function Un(){if(typeof navigator>"u")return null;const A=navigator;return A.languages&&A.languages[0]||A.language||null}()}_delete(){var v=this;return(0,b.Z)(function*(){v._deleted=!0})()}updateCurrentUser(v){var w=this;return(0,b.Z)(function*(){const N=v?(0,re.m9)(v):null;return N&&ve(N.auth.config.apiKey===w.config.apiKey,w,"invalid-user-token"),w._updateCurrentUser(N&&N._clone(w))})()}_updateCurrentUser(v,w=!1){var N=this;return(0,b.Z)(function*(){if(!N._deleted)return v&&ve(N.tenantId===v.tenantId,N,"tenant-id-mismatch"),w||(yield N.beforeStateQueue.runMiddleware(v)),N.queue((0,b.Z)(function*(){yield N.directlySetCurrentUser(v),N.notifyAuthListeners()}))})()}signOut(){var v=this;return(0,b.Z)(function*(){return yield v.beforeStateQueue.runMiddleware(null),(v.redirectPersistenceManager||v._popupRedirectResolver)&&(yield v._setRedirectUser(null)),v._updateCurrentUser(null,!0)})()}setPersistence(v){var w=this;return this.queue((0,b.Z)(function*(){yield w.assertedPersistence.setPersistence(We(v))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(v){var w=this;return(0,b.Z)(function*(){w._getPasswordPolicyInternal()||(yield w._updatePasswordPolicy());const N=w._getPasswordPolicyInternal();return N.schemaVersion!==w.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(w._errorFactory.create("unsupported-password-policy-schema-version",{})):N.validatePassword(v)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var v=this;return(0,b.Z)(function*(){const w=yield function No(A){return Qo.apply(this,arguments)}(v),N=new Gi(w);null===v.tenantId?v._projectPasswordPolicy=N:v._tenantPasswordPolicies[v.tenantId]=N})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(v){this._errorFactory=new re.LL("auth","Firebase",v())}onAuthStateChanged(v,w,N){return this.registerStateListener(this.authStateSubscription,v,w,N)}beforeAuthStateChanged(v,w){return this.beforeStateQueue.pushCallback(v,w)}onIdTokenChanged(v,w,N){return this.registerStateListener(this.idTokenSubscription,v,w,N)}authStateReady(){return new Promise((v,w)=>{if(this.currentUser)v();else{const N=this.onAuthStateChanged(()=>{N(),v()},w)}})}revokeAccessToken(v){var w=this;return(0,b.Z)(function*(){if(w.currentUser){const N=yield w.currentUser.getIdToken(),Z={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:v,idToken:N};null!=w.tenantId&&(Z.tenantId=w.tenantId),yield function Y(A,v){return V.apply(this,arguments)}(w,Z)}})()}toJSON(){var v;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(v=this._currentUser)||void 0===v?void 0:v.toJSON()}}_setRedirectUser(v,w){var N=this;return(0,b.Z)(function*(){const Z=yield N.getOrInitRedirectPersistenceManager(w);return null===v?Z.removeCurrentUser():Z.setCurrentUser(v)})()}getOrInitRedirectPersistenceManager(v){var w=this;return(0,b.Z)(function*(){if(!w.redirectPersistenceManager){const N=v&&We(v)||w._popupRedirectResolver;ve(N,w,"argument-error"),w.redirectPersistenceManager=yield Nn.create(w,[We(N._redirectPersistence)],"redirectUser"),w.redirectUser=yield w.redirectPersistenceManager.getCurrentUser()}return w.redirectPersistenceManager})()}_redirectUserForId(v){var w=this;return(0,b.Z)(function*(){var N,Z;return w._isInitialized&&(yield w.queue((0,b.Z)(function*(){}))),(null===(N=w._currentUser)||void 0===N?void 0:N._redirectEventId)===v?w._currentUser:(null===(Z=w.redirectUser)||void 0===Z?void 0:Z._redirectEventId)===v?w.redirectUser:null})()}_persistUserIfCurrent(v){var w=this;return(0,b.Z)(function*(){if(v===w.currentUser)return w.queue((0,b.Z)(function*(){return w.directlySetCurrentUser(v)}))})()}_notifyListenersIfCurrent(v){v===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var v,w;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const N=null!==(w=null===(v=this.currentUser)||void 0===v?void 0:v.uid)&&void 0!==w?w:null;this.lastNotifiedUid!==N&&(this.lastNotifiedUid=N,this.authStateSubscription.next(this.currentUser))}registerStateListener(v,w,N,Z){if(this._deleted)return()=>{};const ae="function"==typeof w?w:w.next.bind(w);let Ae=!1;const Ke=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(Ke,this,"internal-error"),Ke.then(()=>{Ae||ae(this.currentUser)}),"function"==typeof w){const Ct=v.addObserver(w,N,Z);return()=>{Ae=!0,Ct()}}{const Ct=v.addObserver(w);return()=>{Ae=!0,Ct()}}}directlySetCurrentUser(v){var w=this;return(0,b.Z)(function*(){w.currentUser&&w.currentUser!==v&&w._currentUser._stopProactiveRefresh(),v&&w.isProactiveRefreshEnabled&&v._startProactiveRefresh(),w.currentUser=v,v?yield w.assertedPersistence.setCurrentUser(v):yield w.assertedPersistence.removeCurrentUser()})()}queue(v){return this.operations=this.operations.then(v,v),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(v){!v||this.frameworks.includes(v)||(this.frameworks.push(v),this.frameworks.sort(),this.clientVersion=lr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var v=this;return(0,b.Z)(function*(){var w;const N={"X-Client-Version":v.clientVersion};v.app.options.appId&&(N["X-Firebase-gmpid"]=v.app.options.appId);const Z=yield null===(w=v.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getHeartbeatsHeader();Z&&(N["X-Firebase-Client"]=Z);const ae=yield v._getAppCheckToken();return ae&&(N["X-Firebase-AppCheck"]=ae),N})()}_getAppCheckToken(){var v=this;return(0,b.Z)(function*(){var w;const N=yield null===(w=v.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getToken();return N?.error&&function Cn(A,...v){Ot.logLevel<=be.in.WARN&&Ot.warn(`Auth (${u.Jn}): ${A}`,...v)}(`Error while retrieving App Check token: ${N.error}`),N?.token})()}}function Jr(A){return(0,re.m9)(A)}class Zs{constructor(v){this.auth=v,this.observer=null,this.addObserver=(0,re.ne)(w=>this.observer=w)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ji={loadJS:()=>(0,b.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function us(A){return ji.loadJS(A)}function Rs(A){return`__${A}${Math.floor(1e6*Math.random())}`}class vs{constructor(v){this.type="recaptcha-enterprise",this.auth=Jr(v)}verify(v="verify",w=!1){var N=this;return(0,b.Z)(function*(){function ae(){return ae=(0,b.Z)(function*(Ke){if(!w){if(null==Ke.tenantId&&null!=Ke._agentRecaptchaConfig)return Ke._agentRecaptchaConfig.siteKey;if(null!=Ke.tenantId&&void 0!==Ke._tenantRecaptchaConfigs[Ke.tenantId])return Ke._tenantRecaptchaConfigs[Ke.tenantId].siteKey}return new Promise(function(){var Ct=(0,b.Z)(function*(ln,Rn){vt(Ke,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Vr=>{if(void 0!==Vr.recaptchaKey){const Aa=new Pe(Vr);return null==Ke.tenantId?Ke._agentRecaptchaConfig=Aa:Ke._tenantRecaptchaConfigs[Ke.tenantId]=Aa,ln(Aa.siteKey)}Rn(new Error("recaptcha Enterprise site key undefined"))}).catch(Vr=>{Rn(Vr)})});return function(ln,Rn){return Ct.apply(this,arguments)}}())}),ae.apply(this,arguments)}function Ae(Ke,Ct,ln){const Rn=window.grecaptcha;De(Rn)?Rn.enterprise.ready(()=>{Rn.enterprise.execute(Ke,{action:v}).then(Vr=>{Ct(Vr)}).catch(()=>{Ct("NO_RECAPTCHA")})}):ln(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ke,Ct)=>{(function Z(Ke){return ae.apply(this,arguments)})(N.auth).then(ln=>{if(!w&&De(window.grecaptcha))Ae(ln,Ke,Ct);else{if(typeof window>"u")return void Ct(new Error("RecaptchaVerifier is only supported in browser"));let Rn=function li(){return ji.recaptchaEnterpriseScript}();0!==Rn.length&&(Rn+=ln),us(Rn).then(()=>{Ae(ln,Ke,Ct)}).catch(Vr=>{Ct(Vr)})}}).catch(ln=>{Ct(ln)})})})()}}function ii(A,v,w){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,b.Z)(function*(A,v,w,N=!1){const Z=new vs(A);let ae;try{ae=yield Z.verify(w)}catch{ae=yield Z.verify(w,!0)}const Ae=Object.assign({},v);return Object.assign(Ae,N?{captchaResp:ae}:{captchaResponse:ae}),Object.assign(Ae,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ae,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ae})).apply(this,arguments)}function bs(A,v,w,N){return ks.apply(this,arguments)}function ks(){return ks=(0,b.Z)(function*(A,v,w,N){var Z;if(null!==(Z=A._getRecaptchaConfig())&&void 0!==Z&&Z.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ae=yield ii(A,v,w,"getOobCode"===w);return N(A,ae)}return N(A,v).catch(function(){var ae=(0,b.Z)(function*(Ae){if("auth/missing-recaptcha-token"===Ae.code){console.log(`${w} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Ke=yield ii(A,v,w,"getOobCode"===w);return N(A,Ke)}return Promise.reject(Ae)});return function(Ae){return ae.apply(this,arguments)}}())}),ks.apply(this,arguments)}function Ks(A){const v=A.indexOf(":");return v<0?"":A.substr(0,v+1)}function ei(A){if(!A)return null;const v=Number(A);return isNaN(v)?null:v}class Oo{constructor(v,w){this.providerId=v,this.signInMethod=w}toJSON(){return Je("not implemented")}_getIdTokenResponse(v){return Je("not implemented")}_linkToIdToken(v,w){return Je("not implemented")}_getReauthenticationResolver(v){return Je("not implemented")}}function Mo(A,v){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,b.Z)(function*(A,v){return it(A,"POST","/v1/accounts:signUp",v)})).apply(this,arguments)}function Bi(A,v){return ds.apply(this,arguments)}function ds(){return(ds=(0,b.Z)(function*(A,v){return fn(A,"POST","/v1/accounts:signInWithPassword",Ue(A,v))})).apply(this,arguments)}function Vi(){return(Vi=(0,b.Z)(function*(A,v){return it(A,"POST","/v1/accounts:sendOobCode",Ue(A,v))})).apply(this,arguments)}function Fa(A,v){return xo.apply(this,arguments)}function xo(){return(xo=(0,b.Z)(function*(A,v){return function si(A,v){return Vi.apply(this,arguments)}(A,v)})).apply(this,arguments)}function Qs(){return(Qs=(0,b.Z)(function*(A,v){return fn(A,"POST","/v1/accounts:signInWithEmailLink",Ue(A,v))})).apply(this,arguments)}function Oi(){return(Oi=(0,b.Z)(function*(A,v){return fn(A,"POST","/v1/accounts:signInWithEmailLink",Ue(A,v))})).apply(this,arguments)}class Mr extends Oo{constructor(v,w,N,Z=null){super("password",N),this._email=v,this._password=w,this._tenantId=Z}static _fromEmailAndPassword(v,w){return new Mr(v,w,"password")}static _fromEmailAndCode(v,w,N=null){return new Mr(v,w,"emailLink",N)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(v){const w="string"==typeof v?JSON.parse(v):v;if(w?.email&&w?.password){if("password"===w.signInMethod)return this._fromEmailAndPassword(w.email,w.password);if("emailLink"===w.signInMethod)return this._fromEmailAndCode(w.email,w.password,w.tenantId)}return null}_getIdTokenResponse(v){var w=this;return(0,b.Z)(function*(){switch(w.signInMethod){case"password":return bs(v,{returnSecureToken:!0,email:w._email,password:w._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Bi);case"emailLink":return function Ni(A,v){return Qs.apply(this,arguments)}(v,{email:w._email,oobCode:w._password});default:ft(v,"internal-error")}})()}_linkToIdToken(v,w){var N=this;return(0,b.Z)(function*(){switch(N.signInMethod){case"password":return bs(v,{idToken:w,returnSecureToken:!0,email:N._email,password:N._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Mo);case"emailLink":return function Zr(A,v){return Oi.apply(this,arguments)}(v,{idToken:w,email:N._email,oobCode:N._password});default:ft(v,"internal-error")}})()}_getReauthenticationResolver(v){return this._getIdTokenResponse(v)}}function Zn(A,v){return ui.apply(this,arguments)}function ui(){return(ui=(0,b.Z)(function*(A,v){return fn(A,"POST","/v1/accounts:signInWithIdp",Ue(A,v))})).apply(this,arguments)}class Vn{constructor(v){var w,N,Z,ae,Ae,Ke;const Ct=(0,re.zd)((0,re.pd)(v)),ln=null!==(w=Ct.apiKey)&&void 0!==w?w:null,Rn=null!==(N=Ct.oobCode)&&void 0!==N?N:null,Vr=function eo(A){switch(A){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Z=Ct.mode)&&void 0!==Z?Z:null);ve(ln&&Rn&&Vr,"argument-error"),this.apiKey=ln,this.operation=Vr,this.code=Rn,this.continueUrl=null!==(ae=Ct.continueUrl)&&void 0!==ae?ae:null,this.languageCode=null!==(Ae=Ct.languageCode)&&void 0!==Ae?Ae:null,this.tenantId=null!==(Ke=Ct.tenantId)&&void 0!==Ke?Ke:null}static parseLink(v){const w=function Ls(A){const v=(0,re.zd)((0,re.pd)(A)).link,w=v?(0,re.zd)((0,re.pd)(v)).deep_link_id:null,N=(0,re.zd)((0,re.pd)(A)).deep_link_id;return(N?(0,re.zd)((0,re.pd)(N)).link:null)||N||w||v||A}(v);try{return new Vn(w)}catch{return null}}}let ea=(()=>{class A{constructor(){this.providerId=A.PROVIDER_ID}static credential(w,N){return Mr._fromEmailAndPassword(w,N)}static credentialWithLink(w,N){const Z=Vn.parseLink(N);return ve(Z,"argument-error"),Mr._fromEmailAndCode(w,Z.code,Z.tenantId)}}return A.PROVIDER_ID="password",A.EMAIL_PASSWORD_SIGN_IN_METHOD="password",A.EMAIL_LINK_SIGN_IN_METHOD="emailLink",A})();class Is{constructor(v){this.providerId=v,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(v){this.defaultLanguageCode=v}setCustomParameters(v){return this.customParameters=v,this}getCustomParameters(){return this.customParameters}}class gi extends Is{constructor(){super(...arguments),this.scopes=[]}addScope(v){return this.scopes.includes(v)||this.scopes.push(v),this}getScopes(){return[...this.scopes]}}function ta(A,v){return di.apply(this,arguments)}function di(){return(di=(0,b.Z)(function*(A,v){return fn(A,"POST","/v1/accounts:signUp",Ue(A,v))})).apply(this,arguments)}class Mi{constructor(v){this.user=v.user,this.providerId=v.providerId,this._tokenResponse=v._tokenResponse,this.operationType=v.operationType}static _fromIdTokenResponse(v,w,N,Z=!1){return(0,b.Z)(function*(){const ae=yield $._fromIdTokenResponse(v,N,Z),Ae=Ba(N);return new Mi({user:ae,providerId:Ae,_tokenResponse:N,operationType:w})})()}static _forOperation(v,w,N){return(0,b.Z)(function*(){yield v._updateTokensIfNecessary(N,!0);const Z=Ba(N);return new Mi({user:v,providerId:Z,_tokenResponse:N,operationType:w})})()}}function Ba(A){return A.providerId?A.providerId:"phoneNumber"in A?"phone":null}class Xa extends re.ZR{constructor(v,w,N,Z){var ae;super(w.code,w.message),this.operationType=N,this.user=Z,Object.setPrototypeOf(this,Xa.prototype),this.customData={appName:v.name,tenantId:null!==(ae=v.tenantId)&&void 0!==ae?ae:void 0,_serverResponse:w.customData._serverResponse,operationType:N}}static _fromErrorAndOperation(v,w,N,Z){return new Xa(v,w,N,Z)}}function Kr(A,v,w,N){return("reauthenticate"===v?w._getReauthenticationResolver(A):w._getIdTokenResponse(A)).catch(ae=>{throw"auth/multi-factor-auth-required"===ae.code?Xa._fromErrorAndOperation(A,ae,v,N):ae})}function B(){return(B=(0,b.Z)(function*(A,v,w=!1){const N=yield jn(A,v._linkToIdToken(A.auth,yield A.getIdToken()),w);return Mi._forOperation(A,"link",N)})).apply(this,arguments)}function Hn(){return(Hn=(0,b.Z)(function*(A,v,w=!1){const{auth:N}=A,Z="reauthenticate";try{const ae=yield jn(A,Kr(N,Z,v,A),w);ve(ae.idToken,N,"internal-error");const Ae=Yn(ae.idToken);ve(Ae,N,"internal-error");const{sub:Ke}=Ae;return ve(A.uid===Ke,N,"user-mismatch"),Mi._forOperation(A,Z,ae)}catch(ae){throw"auth/user-not-found"===ae?.code&&ft(N,"user-mismatch"),ae}})).apply(this,arguments)}function ns(A,v){return to.apply(this,arguments)}function to(){return(to=(0,b.Z)(function*(A,v,w=!1){const N="signIn",Z=yield Kr(A,N,v),ae=yield Mi._fromIdTokenResponse(A,N,Z);return w||(yield A._updateCurrentUser(ae.user)),ae})).apply(this,arguments)}function Ki(A,v){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,b.Z)(function*(A,v){return ns(Jr(A),v)})).apply(this,arguments)}function gl(A){return hi.apply(this,arguments)}function hi(){return(hi=(0,b.Z)(function*(A){const v=Jr(A);v._getPasswordPolicyInternal()&&(yield v._updatePasswordPolicy())})).apply(this,arguments)}function bc(){return(bc=(0,b.Z)(function*(A,v,w){const N=Jr(A),Z={requestType:"PASSWORD_RESET",email:v,clientType:"CLIENT_TYPE_WEB"};w&&function fo(A,v,w){var N;ve((null===(N=w.url)||void 0===N?void 0:N.length)>0,A,"invalid-continue-uri"),ve(typeof w.dynamicLinkDomain>"u"||w.dynamicLinkDomain.length>0,A,"invalid-dynamic-link-domain"),v.continueUrl=w.url,v.dynamicLinkDomain=w.dynamicLinkDomain,v.canHandleCodeInApp=w.handleCodeInApp,w.iOS&&(ve(w.iOS.bundleId.length>0,A,"missing-ios-bundle-id"),v.iOSBundleId=w.iOS.bundleId),w.android&&(ve(w.android.packageName.length>0,A,"missing-android-pkg-name"),v.androidInstallApp=w.android.installApp,v.androidMinimumVersionCode=w.android.minimumVersion,v.androidPackageName=w.android.packageName)}(N,Z,w),yield bs(N,Z,"getOobCode",Fa)})).apply(this,arguments)}function hs(){return(hs=(0,b.Z)(function*(A,v,w){const N=Jr(A),Ae=yield bs(N,{returnSecureToken:!0,email:v,password:w,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ta).catch(Ct=>{throw"auth/password-does-not-meet-requirements"===Ct.code&&gl(A),Ct}),Ke=yield Mi._fromIdTokenResponse(N,"signIn",Ae);return yield N._updateCurrentUser(Ke.user),Ke})).apply(this,arguments)}function Tc(){return(Tc=(0,b.Z)(function*(A){return(0,re.m9)(A).delete()})).apply(this,arguments)}const _n="__sak";class gs{constructor(v,w){this.storageRetriever=v,this.type=w}_isAvailable(){try{return this.storage?(this.storage.setItem(_n,"1"),this.storage.removeItem(_n),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(v,w){return this.storage.setItem(v,JSON.stringify(w)),Promise.resolve()}_get(v){const w=this.storage.getItem(v);return Promise.resolve(w?JSON.parse(w):null)}_remove(v){return this.storage.removeItem(v),Promise.resolve()}get storage(){return this.storageRetriever()}}const jl=(()=>{class A extends gs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(w,N)=>this.onStorageEvent(w,N),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Nf(){const A=(0,re.z$)();return Wr(A)||Ra(A)}()&&function ts(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ys(),this._shouldAllowMigration=!0}forAllChangedKeys(w){for(const N of Object.keys(this.listeners)){const Z=this.storage.getItem(N),ae=this.localCache[N];Z!==ae&&w(N,ae,Z)}}onStorageEvent(w,N=!1){if(!w.key)return void this.forAllChangedKeys((Ke,Ct,ln)=>{this.notifyListeners(Ke,ln)});const Z=w.key;if(N?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ke=this.storage.getItem(Z);if(w.newValue!==Ke)null!==w.newValue?this.storage.setItem(Z,w.newValue):this.storage.removeItem(Z);else if(this.localCache[Z]===w.newValue&&!N)return}const ae=()=>{const Ke=this.storage.getItem(Z);!N&&this.localCache[Z]===Ke||this.notifyListeners(Z,Ke)},Ae=this.storage.getItem(Z);!function Ao(){return(0,re.w1)()&&10===document.documentMode}()||Ae===w.newValue||w.newValue===w.oldValue?ae():setTimeout(ae,10)}notifyListeners(w,N){this.localCache[w]=N;const Z=this.listeners[w];if(Z)for(const ae of Array.from(Z))ae(N&&JSON.parse(N))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((w,N,Z)=>{this.onStorageEvent(new StorageEvent("storage",{key:w,oldValue:N,newValue:Z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(w,N){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[w]||(this.listeners[w]=new Set,this.localCache[w]=this.storage.getItem(w)),this.listeners[w].add(N)}_removeListener(w,N){this.listeners[w]&&(this.listeners[w].delete(N),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(w,N){var Z=()=>super._set,ae=this;return(0,b.Z)(function*(){yield Z().call(ae,w,N),ae.localCache[w]=JSON.stringify(N)})()}_get(w){var N=()=>super._get,Z=this;return(0,b.Z)(function*(){const ae=yield N().call(Z,w);return Z.localCache[w]=JSON.stringify(ae),ae})()}_remove(w){var N=()=>super._remove,Z=this;return(0,b.Z)(function*(){yield N().call(Z,w),delete Z.localCache[w]})()}}return A.type="LOCAL",A})(),Zc=(()=>{class A extends gs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(w,N){}_removeListener(w,N){}}return A.type="SESSION",A})();let Kc=(()=>{class A{constructor(w){this.eventTarget=w,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(w){const N=this.receivers.find(ae=>ae.isListeningto(w));if(N)return N;const Z=new A(w);return this.receivers.push(Z),Z}isListeningto(w){return this.eventTarget===w}handleEvent(w){var N=this;return(0,b.Z)(function*(){const Z=w,{eventId:ae,eventType:Ae,data:Ke}=Z.data,Ct=N.handlersMap[Ae];if(!Ct?.size)return;Z.ports[0].postMessage({status:"ack",eventId:ae,eventType:Ae});const ln=Array.from(Ct).map(function(){var Vr=(0,b.Z)(function*(Aa){return Aa(Z.origin,Ke)});return function(Aa){return Vr.apply(this,arguments)}}()),Rn=yield function Ed(A){return Promise.all(A.map(function(){var v=(0,b.Z)(function*(w){try{return{fulfilled:!0,value:yield w}}catch(N){return{fulfilled:!1,reason:N}}});return function(w){return v.apply(this,arguments)}}()))}(ln);Z.ports[0].postMessage({status:"done",eventId:ae,eventType:Ae,response:Rn})})()}_subscribe(w,N){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[w]||(this.handlersMap[w]=new Set),this.handlersMap[w].add(N)}_unsubscribe(w,N){this.handlersMap[w]&&N&&this.handlersMap[w].delete(N),(!N||0===this.handlersMap[w].size)&&delete this.handlersMap[w],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return A.receivers=[],A})();function gu(A="",v=10){let w="";for(let N=0;N<v;N++)w+=Math.floor(10*Math.random());return A+w}class vl{constructor(v){this.target=v,this.handlers=new Set}removeMessageHandler(v){v.messageChannel&&(v.messageChannel.port1.removeEventListener("message",v.onMessage),v.messageChannel.port1.close()),this.handlers.delete(v)}_send(v,w,N=50){var Z=this;return(0,b.Z)(function*(){const ae=typeof MessageChannel<"u"?new MessageChannel:null;if(!ae)throw new Error("connection_unavailable");let Ae,Ke;return new Promise((Ct,ln)=>{const Rn=gu("",20);ae.port1.start();const Vr=setTimeout(()=>{ln(new Error("unsupported_event"))},N);Ke={messageChannel:ae,onMessage(Aa){const Sl=Aa;if(Sl.data.eventId===Rn)switch(Sl.data.status){case"ack":clearTimeout(Vr),Ae=setTimeout(()=>{ln(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ae),Ct(Sl.data.response);break;default:clearTimeout(Vr),clearTimeout(Ae),ln(new Error("invalid_response"))}}},Z.handlers.add(Ke),ae.port1.addEventListener("message",Ke.onMessage),Z.target.postMessage({eventType:v,eventId:Rn,data:w},[ae.port2])}).finally(()=>{Ke&&Z.removeMessageHandler(Ke)})})()}}function ht(){return window}function Yu(){return typeof ht().WorkerGlobalScope<"u"&&"function"==typeof ht().importScripts}function os(){return(os=(0,b.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const _o="firebaseLocalStorageDb",ac="firebaseLocalStorage",_u="fbase_key";class Yc{constructor(v){this.request=v}toPromise(){return new Promise((v,w)=>{this.request.addEventListener("success",()=>{v(this.request.result)}),this.request.addEventListener("error",()=>{w(this.request.error)})})}}function cc(A,v){return A.transaction([ac],v?"readwrite":"readonly").objectStore(ac)}function yo(){const A=indexedDB.open(_o,1);return new Promise((v,w)=>{A.addEventListener("error",()=>{w(A.error)}),A.addEventListener("upgradeneeded",()=>{const N=A.result;try{N.createObjectStore(ac,{keyPath:_u})}catch(Z){w(Z)}}),A.addEventListener("success",(0,b.Z)(function*(){const N=A.result;N.objectStoreNames.contains(ac)?v(N):(N.close(),yield function js(){const A=indexedDB.deleteDatabase(_o);return new Yc(A).toPromise()}(),v(yield yo()))}))})}function Qc(A,v,w){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,b.Z)(function*(A,v,w){const N=cc(A,!0).put({[_u]:v,value:w});return new Yc(N).toPromise()})).apply(this,arguments)}function wl(){return(wl=(0,b.Z)(function*(A,v){const w=cc(A,!1).get(v),N=yield new Yc(w).toPromise();return void 0===N?null:N.value})).apply(this,arguments)}function $l(A,v){const w=cc(A,!0).delete(v);return new Yc(w).toPromise()}const x=(()=>{class A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var w=this;return(0,b.Z)(function*(){return w.db||(w.db=yield yo()),w.db})()}_withRetries(w){var N=this;return(0,b.Z)(function*(){let Z=0;for(;;)try{const ae=yield N._openDb();return yield w(ae)}catch(ae){if(Z++>3)throw ae;N.db&&(N.db.close(),N.db=void 0)}})()}initializeServiceWorkerMessaging(){var w=this;return(0,b.Z)(function*(){return Yu()?w.initializeReceiver():w.initializeSender()})()}initializeReceiver(){var w=this;return(0,b.Z)(function*(){w.receiver=Kc._getInstance(function bl(){return Yu()?self:null}()),w.receiver._subscribe("keyChanged",function(){var N=(0,b.Z)(function*(Z,ae){return{keyProcessed:(yield w._poll()).includes(ae.key)}});return function(Z,ae){return N.apply(this,arguments)}}()),w.receiver._subscribe("ping",function(){var N=(0,b.Z)(function*(Z,ae){return["keyChanged"]});return function(Z,ae){return N.apply(this,arguments)}}())})()}initializeSender(){var w=this;return(0,b.Z)(function*(){var N,Z;if(w.activeServiceWorker=yield function Td(){return os.apply(this,arguments)}(),!w.activeServiceWorker)return;w.sender=new vl(w.activeServiceWorker);const ae=yield w.sender._send("ping",{},800);ae&&null!==(N=ae[0])&&void 0!==N&&N.fulfilled&&null!==(Z=ae[0])&&void 0!==Z&&Z.value.includes("keyChanged")&&(w.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(w){var N=this;return(0,b.Z)(function*(){if(N.sender&&N.activeServiceWorker&&function Qu(){var A;return(null===(A=navigator?.serviceWorker)||void 0===A?void 0:A.controller)||null}()===N.activeServiceWorker)try{yield N.sender._send("keyChanged",{key:w},N.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,b.Z)(function*(){try{if(!indexedDB)return!1;const w=yield yo();return yield Qc(w,_n,"1"),yield $l(w,_n),!0}catch{}return!1})()}_withPendingWrite(w){var N=this;return(0,b.Z)(function*(){N.pendingWrites++;try{yield w()}finally{N.pendingWrites--}})()}_set(w,N){var Z=this;return(0,b.Z)(function*(){return Z._withPendingWrite((0,b.Z)(function*(){return yield Z._withRetries(ae=>Qc(ae,w,N)),Z.localCache[w]=N,Z.notifyServiceWorker(w)}))})()}_get(w){var N=this;return(0,b.Z)(function*(){const Z=yield N._withRetries(ae=>function Ha(A,v){return wl.apply(this,arguments)}(ae,w));return N.localCache[w]=Z,Z})()}_remove(w){var N=this;return(0,b.Z)(function*(){return N._withPendingWrite((0,b.Z)(function*(){return yield N._withRetries(Z=>$l(Z,w)),delete N.localCache[w],N.notifyServiceWorker(w)}))})()}_poll(){var w=this;return(0,b.Z)(function*(){const N=yield w._withRetries(Ae=>{const Ke=cc(Ae,!1).getAll();return new Yc(Ke).toPromise()});if(!N)return[];if(0!==w.pendingWrites)return[];const Z=[],ae=new Set;if(0!==N.length)for(const{fbase_key:Ae,value:Ke}of N)ae.add(Ae),JSON.stringify(w.localCache[Ae])!==JSON.stringify(Ke)&&(w.notifyListeners(Ae,Ke),Z.push(Ae));for(const Ae of Object.keys(w.localCache))w.localCache[Ae]&&!ae.has(Ae)&&(w.notifyListeners(Ae,null),Z.push(Ae));return Z})()}notifyListeners(w,N){this.localCache[w]=N;const Z=this.listeners[w];if(Z)for(const ae of Array.from(Z))ae(N)}startPolling(){var w=this;this.stopPolling(),this.pollTimer=setInterval((0,b.Z)(function*(){return w._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(w,N){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[w]||(this.listeners[w]=new Set,this._get(w)),this.listeners[w].add(N)}_removeListener(w,N){this.listeners[w]&&(this.listeners[w].delete(N),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return A.type="LOCAL",A})();Rs("rcb"),new or(3e4,6e4);class Tl extends Oo{constructor(v){super("custom","custom"),this.params=v}_getIdTokenResponse(v){return Zn(v,this._buildIdpRequest())}_linkToIdToken(v,w){return Zn(v,this._buildIdpRequest(w))}_getReauthenticationResolver(v){return Zn(v,this._buildIdpRequest())}_buildIdpRequest(v){const w={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return v&&(w.idToken=v),w}}function td(A){return ns(A.auth,new Tl(A),A.bypassAuthState)}function yh(A){const{auth:v,user:w}=A;return ve(w,v,"internal-error"),function en(A,v){return Hn.apply(this,arguments)}(w,new Tl(A),A.bypassAuthState)}function vh(A){return zl.apply(this,arguments)}function zl(){return(zl=(0,b.Z)(function*(A){const{auth:v,user:w}=A;return ve(w,v,"internal-error"),function X(A,v){return B.apply(this,arguments)}(w,new Tl(A),A.bypassAuthState)})).apply(this,arguments)}class mg{constructor(v,w,N,Z,ae=!1){this.auth=v,this.resolver=N,this.user=Z,this.bypassAuthState=ae,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(w)?w:[w]}execute(){var v=this;return new Promise(function(){var w=(0,b.Z)(function*(N,Z){v.pendingPromise={resolve:N,reject:Z};try{v.eventManager=yield v.resolver._initialize(v.auth),yield v.onExecution(),v.eventManager.registerConsumer(v)}catch(ae){v.reject(ae)}});return function(N,Z){return w.apply(this,arguments)}}())}onAuthEvent(v){var w=this;return(0,b.Z)(function*(){const{urlResponse:N,sessionId:Z,postBody:ae,tenantId:Ae,error:Ke,type:Ct}=v;if(Ke)return void w.reject(Ke);const ln={auth:w.auth,requestUri:N,sessionId:Z,tenantId:Ae||void 0,postBody:ae||void 0,user:w.user,bypassAuthState:w.bypassAuthState};try{w.resolve(yield w.getIdpTask(Ct)(ln))}catch(Rn){w.reject(Rn)}})()}onError(v){this.reject(v)}getIdpTask(v){switch(v){case"signInViaPopup":case"signInViaRedirect":return td;case"linkViaPopup":case"linkViaRedirect":return vh;case"reauthViaPopup":case"reauthViaRedirect":return yh;default:ft(this.auth,"internal-error")}}resolve(v){mt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(v),this.unregisterAndCleanUp()}reject(v){mt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(v),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new or(2e3,1e4);const bu="pendingRedirect",Jc=new Map;class _g extends mg{constructor(v,w,N=!1){super(v,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],w,void 0,N),this.eventId=null}execute(){var v=()=>super.execute,w=this;return(0,b.Z)(function*(){let N=Jc.get(w.auth._key());if(!N){try{const ae=(yield function wu(A,v){return nd.apply(this,arguments)}(w.resolver,w.auth))?yield v().call(w):null;N=()=>Promise.resolve(ae)}catch(Z){N=()=>Promise.reject(Z)}Jc.set(w.auth._key(),N)}return w.bypassAuthState||Jc.set(w.auth._key(),()=>Promise.resolve(null)),N()})()}onAuthEvent(v){var w=()=>super.onAuthEvent,N=this;return(0,b.Z)(function*(){if("signInViaRedirect"===v.type)return w().call(N,v);if("unknown"!==v.type){if(v.eventId){const Z=yield N.auth._redirectUserForId(v.eventId);if(Z)return N.user=Z,w().call(N,v);N.resolve(null)}}else N.resolve(null)})()}onExecution(){return(0,b.Z)(function*(){})()}cleanUp(){}}function nd(){return(nd=(0,b.Z)(function*(A,v){const w=function Eu(A){return pn(bu,A.config.apiKey,A.name)}(v),N=function Cc(A){return We(A._redirectPersistence)}(A);if(!(yield N._isAvailable()))return!1;const Z="true"===(yield N._get(w));return yield N._remove(w),Z})).apply(this,arguments)}function Dl(A,v){Jc.set(A._key(),v)}function Sc(A,v){return Du.apply(this,arguments)}function Du(){return(Du=(0,b.Z)(function*(A,v,w=!1){const N=Jr(A),Z=function uc(A,v){return v?We(v):(ve(A._popupRedirectResolver,A,"argument-error"),A._popupRedirectResolver)}(N,v),Ae=yield new _g(N,Z,w).execute();return Ae&&!w&&(delete Ae.user._redirectEventId,yield N._persistUserIfCurrent(Ae.user),yield N._setRedirectUser(null,v)),Ae})).apply(this,arguments)}class kf{constructor(v){this.auth=v,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(v){this.consumers.add(v),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,v)&&(this.sendToConsumer(this.queuedRedirectEvent,v),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(v){this.consumers.delete(v)}onEvent(v){if(this.hasEventBeenHandled(v))return!1;let w=!1;return this.consumers.forEach(N=>{this.isEventForConsumer(v,N)&&(w=!0,this.sendToConsumer(v,N),this.saveEventToCache(v))}),this.hasHandledPotentialRedirect||!function Rd(A){switch(A.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return id(A);default:return!1}}(v)||(this.hasHandledPotentialRedirect=!0,w||(this.queuedRedirectEvent=v,w=!0)),w}sendToConsumer(v,w){var N;if(v.error&&!id(v)){const Z=(null===(N=v.error.code)||void 0===N?void 0:N.split("auth/")[1])||"internal-error";w.onError(ot(this.auth,Z))}else w.onAuthEvent(v)}isEventForConsumer(v,w){const N=null===w.eventId||!!v.eventId&&v.eventId===w.eventId;return w.filter.includes(v.type)&&N}hasEventBeenHandled(v){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xd(v))}saveEventToCache(v){this.cachedEventUids.add(xd(v)),this.lastProcessedEventTime=Date.now()}}function xd(A){return[A.type,A.eventId,A.sessionId,A.tenantId].filter(v=>v).join("-")}function id({type:A,error:v}){return"unknown"===A&&"auth/no-auth-event"===v?.code}function L(){return(L=(0,b.Z)(function*(A,v={}){return it(A,"GET","/v1/projects",v)})).apply(this,arguments)}const J=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,he=/^https?/;function Le(){return Le=(0,b.Z)(function*(A){if(A.config.emulator)return;const{authorizedDomains:v}=yield function O(A){return L.apply(this,arguments)}(A);for(const w of v)try{if(at(w))return}catch{}ft(A,"unauthorized-domain")}),Le.apply(this,arguments)}function at(A){const v=kn(),{protocol:w,hostname:N}=new URL(v);if(A.startsWith("chrome-extension://")){const Ae=new URL(A);return""===Ae.hostname&&""===N?"chrome-extension:"===w&&A.replace("chrome-extension://","")===v.replace("chrome-extension://",""):"chrome-extension:"===w&&Ae.hostname===N}if(!he.test(w))return!1;if(J.test(A))return N===A;const Z=A.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Z+"|"+Z+")$","i").test(N)}const Ht=new or(3e4,6e4);function Gt(){const A=ht().___jsl;if(A?.H)for(const v of Object.keys(A.H))if(A.H[v].r=A.H[v].r||[],A.H[v].L=A.H[v].L||[],A.H[v].r=[...A.H[v].L],A.CP)for(let w=0;w<A.CP.length;w++)A.CP[w]=null}let qn=null;const dc=new or(5e3,15e3),bo="__/auth/iframe",wh="emulator/auth/iframe",Pd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ga=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hc(A){const v=A.config;ve(v.authDomain,A,"auth-domain-config-required");const w=v.emulator?yr(v,wh):`https://${A.config.authDomain}/${bo}`,N={apiKey:v.apiKey,appName:A.name,v:u.Jn},Z=Ga.get(A.config.apiHost);Z&&(N.eid=Z);const ae=A._getFrameworks();return ae.length&&(N.fw=ae.join(",")),`${w}?${(0,re.xO)(N).slice(1)}`}function as(){return as=(0,b.Z)(function*(A){const v=yield function nr(A){return qn=qn||function bn(A){return new Promise((v,w)=>{var N,Z,ae;function Ae(){Gt(),gapi.load("gapi.iframes",{callback:()=>{v(gapi.iframes.getContext())},ontimeout:()=>{Gt(),w(ot(A,"network-request-failed"))},timeout:Ht.get()})}if(null!==(Z=null===(N=ht().gapi)||void 0===N?void 0:N.iframes)&&void 0!==Z&&Z.Iframe)v(gapi.iframes.getContext());else{if(null===(ae=ht().gapi)||void 0===ae||!ae.load){const Ke=Rs("iframefcb");return ht()[Ke]=()=>{gapi.load?Ae():w(ot(A,"network-request-failed"))},us(`${function ka(){return ji.gapiScript}()}?onload=${Ke}`).catch(Ct=>w(Ct))}Ae()}}).catch(v=>{throw qn=null,v})}(A),qn}(A),w=ht().gapi;return ve(w,A,"internal-error"),v.open({where:document.body,url:hc(A),messageHandlersFilter:w.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pd,dontclear:!0},N=>new Promise(function(){var Z=(0,b.Z)(function*(ae,Ae){yield N.restyle({setHideOnLeave:!1});const Ke=ot(A,"network-request-failed"),Ct=ht().setTimeout(()=>{Ae(Ke)},dc.get());function ln(){ht().clearTimeout(Ct),ae(N)}N.ping(ln).then(ln,()=>{Ae(Ke)})});return function(ae,Ae){return Z.apply(this,arguments)}}()))}),as.apply(this,arguments)}const av={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Eh{constructor(v){this.window=v,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const h_="__/auth/handler",cv="emulator/auth/handler",f_=encodeURIComponent("fac");function lv(A,v,w,N,Z,ae){return da.apply(this,arguments)}function da(){return(da=(0,b.Z)(function*(A,v,w,N,Z,ae){ve(A.config.authDomain,A,"auth-domain-config-required"),ve(A.config.apiKey,A,"invalid-api-key");const Ae={apiKey:A.config.apiKey,appName:A.name,authType:w,redirectUrl:N,v:u.Jn,eventId:Z};if(v instanceof Is){v.setDefaultLanguage(A.languageCode),Ae.providerId=v.providerId||"",(0,re.xb)(v.getCustomParameters())||(Ae.customParameters=JSON.stringify(v.getCustomParameters()));for(const[Rn,Vr]of Object.entries(ae||{}))Ae[Rn]=Vr}if(v instanceof gi){const Rn=v.getScopes().filter(Vr=>""!==Vr);Rn.length>0&&(Ae.scopes=Rn.join(","))}A.tenantId&&(Ae.tid=A.tenantId);const Ke=Ae;for(const Rn of Object.keys(Ke))void 0===Ke[Rn]&&delete Ke[Rn];const Ct=yield A._getAppCheckToken(),ln=Ct?`#${f_}=${encodeURIComponent(Ct)}`:"";return`${function Lf({config:A}){return A.emulator?yr(A,cv):`https://${A.authDomain}/${h_}`}(A)}?${(0,re.xO)(Ke).slice(1)}${ln}`})).apply(this,arguments)}const Su="webStorageSupport",bg=class uv{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zc,this._completeRedirectFn=Sc,this._overrideRedirectResult=Dl}_openPopup(v,w,N,Z){var ae=this;return(0,b.Z)(function*(){var Ae;mt(null===(Ae=ae.eventManagers[v._key()])||void 0===Ae?void 0:Ae.manager,"_initialize() not called before _openPopup()");const Ke=yield lv(v,w,N,kn(),Z);return function kd(A,v,w,N=500,Z=600){const ae=Math.max((window.screen.availHeight-Z)/2,0).toString(),Ae=Math.max((window.screen.availWidth-N)/2,0).toString();let Ke="";const Ct=Object.assign(Object.assign({},av),{width:N.toString(),height:Z.toString(),top:ae,left:Ae}),ln=(0,re.z$)().toLowerCase();w&&(Ke=tr(ln)?"_blank":w),Fn(ln)&&(v=v||"http://localhost",Ct.scrollbars="yes");const Rn=Object.entries(Ct).reduce((Aa,[Sl,Cg])=>`${Aa}${Sl}=${Cg},`,"");if(function Gr(A=(0,re.z$)()){var v;return Ra(A)&&!(null===(v=window.navigator)||void 0===v||!v.standalone)}(ln)&&"_self"!==Ke)return function Ql(A,v){const w=document.createElement("a");w.href=A,w.target=v;const N=document.createEvent("MouseEvent");N.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),w.dispatchEvent(N)}(v||"",Ke),new Eh(null);const Vr=window.open(v||"",Ke,Rn);ve(Vr,A,"popup-blocked");try{Vr.focus()}catch{}return new Eh(Vr)}(v,Ke,gu())})()}_openRedirect(v,w,N,Z){var ae=this;return(0,b.Z)(function*(){return yield ae._originValidation(v),function Er(A){ht().location.href=A}(yield lv(v,w,N,kn(),Z)),new Promise(()=>{})})()}_initialize(v){const w=v._key();if(this.eventManagers[w]){const{manager:Z,promise:ae}=this.eventManagers[w];return Z?Promise.resolve(Z):(mt(ae,"If manager is not set, promise should be"),ae)}const N=this.initAndGetManager(v);return this.eventManagers[w]={promise:N},N.catch(()=>{delete this.eventManagers[w]}),N}initAndGetManager(v){var w=this;return(0,b.Z)(function*(){const N=yield function Ac(A){return as.apply(this,arguments)}(v),Z=new kf(v);return N.register("authEvent",ae=>(ve(ae?.authEvent,v,"invalid-auth-event"),{status:Z.onEvent(ae.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),w.eventManagers[v._key()]={manager:Z},w.iframes[v._key()]=N,Z})()}_isIframeWebStorageSupported(v,w){this.iframes[v._key()].send(Su,{type:Su},Z=>{var ae;const Ae=null===(ae=Z?.[0])||void 0===ae?void 0:ae[Su];void 0!==Ae&&w(!!Ae),ft(v,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(v){const w=v._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function Ne(A){return Le.apply(this,arguments)}(v)),this.originValidationPromises[w]}get _shouldInitProactively(){return ys()||Wr()||Ra()}};var ro="@firebase/auth";class Th{constructor(v){this.auth=v,this.internalListeners=new Map}getUid(){var v;return this.assertAuthConfigured(),(null===(v=this.auth.currentUser)||void 0===v?void 0:v.uid)||null}getToken(v){var w=this;return(0,b.Z)(function*(){return w.assertAuthConfigured(),yield w.auth._initializationPromise,w.auth.currentUser?{accessToken:yield w.auth.currentUser.getIdToken(v)}:null})()}addAuthTokenListener(v){if(this.assertAuthConfigured(),this.internalListeners.has(v))return;const w=this.auth.onIdTokenChanged(N=>{v(N?.stsTokenManager.accessToken||null)});this.internalListeners.set(v,w),this.updateProactiveRefresh()}removeAuthTokenListener(v){this.assertAuthConfigured();const w=this.internalListeners.get(v);w&&(this.internalListeners.delete(v),w(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const sd=(0,re.Pz)("authIdTokenMaxAge")||300;let Bf=null;const Dg=A=>function(){var v=(0,b.Z)(function*(w){const N=w&&(yield w.getIdTokenResult()),Z=N&&((new Date).getTime()-Date.parse(N.issuedAtTime))/1e3;if(Z&&Z>sd)return;const ae=N?.token;Bf!==ae&&(Bf=ae,yield fetch(A,{method:ae?"POST":"DELETE",headers:ae?{Authorization:`Bearer ${ae}`}:{}}))});return function(w){return v.apply(this,arguments)}}();function od(A=(0,u.Mq)()){const v=(0,u.qX)(A,"auth");if(v.isInitialized())return v.getImmediate();const w=function Bl(A,v){const w=(0,u.qX)(A,"auth");if(w.isInitialized()){const Z=w.getImmediate(),ae=w.getOptions();if((0,re.vZ)(ae,v??{}))return Z;ft(Z,"already-initialized")}return w.initialize({options:v})}(A,{popupRedirectResolver:bg,persistence:[x,jl,Zc]}),N=(0,re.Pz)("authTokenSyncURL");if(N&&N.match(/^\/[^\/].*/)){const ae=Dg(N);(function go(A,v,w){(0,re.m9)(A).beforeAuthStateChanged(v,w)})(w,ae,()=>ae(w.currentUser)),function oc(A,v,w,N){(0,re.m9)(A).onIdTokenChanged(v,w,N)}(w,Ae=>ae(Ae))}const Z=(0,re.q4)("auth");return Z&&function hl(A,v,w){const N=Jr(A);ve(N._canInitEmulator,N,"emulator-config-failed"),ve(/^https?:\/\//.test(v),N,"invalid-emulator-scheme");const Z=!!w?.disableWarnings,ae=Ks(v),{host:Ae,port:Ke}=function Ja(A){const v=Ks(A),w=/(\/\/)?([^?#/]+)/.exec(A.substr(v.length));if(!w)return{host:"",port:null};const N=w[2].split("@").pop()||"",Z=/^(\[[^\]]+\])(:|$)/.exec(N);if(Z){const ae=Z[1];return{host:ae,port:ei(N.substr(ae.length+1))}}{const[ae,Ae]=N.split(":");return{host:ae,port:ei(Ae)}}}(v);N.config.emulator={url:`${ae}//${Ae}${null===Ke?"":`:${Ke}`}/`},N.settings.appVerificationDisabledForTesting=!0,N.emulatorConfig=Object.freeze({host:Ae,port:Ke,protocol:ae.replace(":",""),options:Object.freeze({disableWarnings:Z})}),Z||function Ys(){function A(){const v=document.createElement("p"),w=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",w.position="fixed",w.width="100%",w.backgroundColor="#ffffff",w.border=".1em solid #000000",w.color="#b50000",w.bottom="0px",w.left="0px",w.margin="0px",w.zIndex="10000",w.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",A):A())}()}(w,`http://${Z}`),w}(function Ya(A){ji=A})({loadJS:A=>new Promise((v,w)=>{const N=document.createElement("script");N.setAttribute("src",A),N.onload=v,N.onerror=Z=>{const ae=ot("internal-error");ae.customData=Z,w(ae)},N.type="text/javascript",N.charset="UTF-8",function fv(){var A,v;return null!==(v=null===(A=document.getElementsByTagName("head"))||void 0===A?void 0:A[0])&&void 0!==v?v:document}().appendChild(N)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Tg(A){(0,u.Xd)(new fe.wA("auth",(v,{options:w})=>{const N=v.getProvider("app").getImmediate(),Z=v.getProvider("heartbeat"),ae=v.getProvider("app-check-internal"),{apiKey:Ae,authDomain:Ke}=N.options;ve(Ae&&!Ae.includes(":"),"invalid-api-key",{appName:N.name});const Ct={apiKey:Ae,authDomain:Ke,clientPlatform:A,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lr(A)},ln=new xs(N,Z,ae,Ct);return function zi(A,v){const w=v?.persistence||[],N=(Array.isArray(w)?w:[w]).map(We);v?.errorMap&&A._updateErrorMap(v.errorMap),A._initializeWithPersistence(N,v?.popupRedirectResolver)}(ln,w),ln},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,w,N)=>{v.getProvider("auth-internal").initialize()})),(0,u.Xd)(new fe.wA("auth-internal",v=>{const w=Jr(v.getProvider("auth").getImmediate());return new Th(w)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,u.KN)(ro,"1.6.2",function Eg(A){switch(A){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(A)),(0,u.KN)(ro,"1.6.2","esm2017")}("Browser");var p_=K(5619),ad=K(8180),wo=K(3477),Nu=K(9468),fc=K(6024),pv=K(4456);let gv=(()=>{class A{constructor(w,N,Z){this.firestore=w,this.router=N,this.globalErrorHandler=Z,this.userDataSubject=new p_.X(null),this.userData$=this.userDataSubject.asObservable(),this.collectionName="Auth";const ae=localStorage.getItem("user");if(ae){const Ae=JSON.parse(ae);this.userDataSubject.next(Ae)}}registerUser(w,N,Z){var ae=this;return(0,b.Z)(function*(){try{const Ae=yield ae.createUserWithEmailAndPassword(w,N),Ke=Ae.user.uid;yield ae.addAdditionalAuthData(Ke,Z),yield ae.saveUserData(Ae.user,Z),ae.router.navigate(["recipes-list"])}catch(Ae){ae.globalErrorHandler.handleError(Ae)}})()}loginUser(w,N){var Z=this;return(0,b.Z)(function*(){try{const ae=yield Z.signInWithEmailAndPassword(w,N),Ae=ae.user.uid,Ke=yield Z.getAdditionalAuthDataById(Ae);yield Z.saveUserData(ae.user,Ke),yield Z.router.navigate(["recipes-list"])}catch(ae){Z.globalErrorHandler.handleError(ae)}})()}logoutUser(){var w=this;return(0,b.Z)(function*(){try{yield w.signOutAuth(),yield w.clearUserData(),w.router.navigate(["login"])}catch(N){console.error(N)}})()}deleteUserAccount(){var w=this;return(0,b.Z)(function*(){try{const Z=od().currentUser;Z?(yield function _l(A){return Tc.apply(this,arguments)}(Z),yield w.deleteAdditionalAuthData(Z.uid),yield w.clearUserData(),w.router.navigate(["login"])):console.error("No user found to delete.")}catch(N){console.error("No user found to delete.",N)}})()}forgotPassword(w){var N=this;return(0,b.Z)(function*(){try{yield N.sendPasswordResetEmail(w),N.globalErrorHandler.handleError("Password reset email sent, check your inbox."),yield N.router.navigate(["login"])}catch(Z){N.globalErrorHandler.handleError(Z)}})()}updateFavoriteRecipes(w,N,Z){var ae=this;return(0,b.Z)(function*(){const Ae=(0,wo.JU)(ae.firestore,ae.collectionName,N);try{Z?(console.log("remove"),yield(0,wo.r7)(Ae,{favoriteRecipes:(0,wo.Ab)(w)})):(console.log("add"),yield(0,wo.r7)(Ae,{favoriteRecipes:(0,wo.vr)(w)})),console.log("Favorite recipes updated successfully");const Ke=yield ae.getAdditionalAuthDataById(N);ae.userData$.pipe((0,ad.q)(1)).subscribe(Ct=>{Ct?ae.saveUserData(Ct,Ke).then(()=>console.log("User data saved successfully")).catch(()=>console.error("Failed to save user data")):console.error("User is null")})}catch(Ke){ae.globalErrorHandler.handleError(Ke)}})()}sendPasswordResetEmail(w){return function zc(A,v,w){return bc.apply(this,arguments)}(od(),w)}createUserWithEmailAndPassword(w,N){return function Ts(A,v,w){return hs.apply(this,arguments)}(od(),w,N)}signInWithEmailAndPassword(w,N){return function is(A,v,w){return Ki((0,re.m9)(A),ea.credential(v,w)).catch(function(){var N=(0,b.Z)(function*(Z){throw"auth/password-does-not-meet-requirements"===Z.code&&gl(A),Z});return function(Z){return N.apply(this,arguments)}}())}(od(),w,N)}signOutAuth(){return function Gs(A){return(0,re.m9)(A).signOut()}(od())}addAdditionalAuthData(w,N){return(0,wo.pl)((0,wo.JU)(this.firestore,this.collectionName,w),N)}getAdditionalAuthDataById(w){var N=this;return(0,b.Z)(function*(){const Z=(0,wo.JU)(N.firestore,N.collectionName,w),ae=yield(0,wo.QT)(Z);return ae.exists()?ae.data():null})()}updateAdditionalAuthData(w,N){if(N){const Z=(0,wo.JU)(this.firestore,this.collectionName,N),ae={...w};(0,wo.r7)(Z,ae).then(()=>{console.log("Document successfully updated"),this.router.navigate(["/dashboard/user-info"])}).then(()=>{this.userData$.pipe((0,ad.q)(1)).subscribe(Ae=>{Ae?this.saveUserData(Ae,w).then(()=>console.log("User data saved successfully")).catch(()=>console.error("Failed to save user data")):console.error("User is null")})}).catch(Ae=>{this.globalErrorHandler.handleError(Ae)})}else this.globalErrorHandler.handleError("Invalid uid.")}deleteAdditionalAuthData(w){var N=this;return(0,b.Z)(function*(){try{const Z=(0,wo.JU)(N.firestore,N.collectionName,w);yield(0,wo.oe)(Z),console.log("Recipe deleted successfully:",w)}catch(Z){throw N.globalErrorHandler.handleError(Z),Z}})()}saveUserData(w,N){return new Promise((Z,ae)=>{if(w&&N){const Ae={...w,...N};localStorage.setItem("user",JSON.stringify(Ae)),this.userDataSubject.next(Ae),Z()}else localStorage.setItem("user","null"),this.userDataSubject.next(null),ae()})}clearUserData(){return new Promise((w,N)=>{localStorage.removeItem("user"),this.userDataSubject.next(null),w()})}static#e=this.\u0275fac=function(N){return new(N||A)(Nu.LFG(wo.gg),Nu.LFG(fc.F0),Nu.LFG(pv.r))};static#t=this.\u0275prov=Nu.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()},9286:(Vt,Ge,K)=>{K.d(Ge,{N:()=>be});var b=K(4303);(0,b.KN)("firebase","10.9.0","app");const be={firebaseConfig:{apiKey:"AIzaSyCVbXDjBGUwaOrn1CZYGIwce1dYPKpR7PA",authDomain:"the-natural-way.firebaseapp.com",projectId:"the-natural-way",storageBucket:"the-natural-way.appspot.com",messagingSenderId:"778711637280",appId:"1:778711637280:web:30b52ea2a4e159578fcb45"},cloudinaryConfig:{cloudName:"dsla98vyk",apiKey:"587566495847865",apiSecret:"sJLzQzouizKo51b9Mv0bI8a5pCI",uploadPreset:"the_natural_way"}};(0,b.ZF)(be.firebaseConfig)},9653:(Vt,Ge,K)=>{var b=K(6593),re=K(6024),u=K(9468),be=K(4664),ue=K(7398),fe=K(2096),Ee=K(6499),Qe=K(4456),ce=K(5861),de=K(95),Me=K(3424),Se=K(6814);function Oe(l,f){1&l&&(u.TgZ(0,"div",22),u._uU(1," Email is required! "),u.qZA())}function Ye(l,f){1&l&&(u.TgZ(0,"div",22),u._uU(1," Please enter a valid email address! "),u.qZA())}function Tt(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,Oe,2,0,"div",21),u.YNc(2,Ye,2,0,"div",21),u.qZA()),2&l){const o=u.oxw();let h,m;u.xp6(1),u.Q6J("ngIf",null==(h=o.registerForm.get("email"))||null==h.errors?null:h.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.registerForm.get("email"))||null==m.errors?null:m.errors.email)}}function kt(l,f){1&l&&(u.TgZ(0,"div",22),u._uU(1," Password is required! "),u.qZA())}function Ot(l,f){1&l&&(u.TgZ(0,"div",22),u._uU(1," Password must be at least 6 characters long! "),u.qZA())}function Cn(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,kt,2,0,"div",21),u.YNc(2,Ot,2,0,"div",21),u.qZA()),2&l){const o=u.oxw();let h,m;u.xp6(1),u.Q6J("ngIf",null==(h=o.registerForm.get("password"))||null==h.errors?null:h.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.registerForm.get("password"))||null==m.errors?null:m.errors.minlength)}}function Mt(l,f){1&l&&(u.TgZ(0,"div",22),u._uU(1," Repeat password is required! "),u.qZA())}function ft(l,f){1&l&&(u.TgZ(0,"div",22),u._uU(1," Repeat password must be at least 6 characters long! "),u.qZA())}function ot(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,Mt,2,0,"div",21),u.YNc(2,ft,2,0,"div",21),u.qZA()),2&l){const o=u.oxw();let h,m;u.xp6(1),u.Q6J("ngIf",null==(h=o.registerForm.get("repeatPassword"))||null==h.errors?null:h.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.registerForm.get("repeatPassword"))||null==m.errors?null:m.errors.minlength)}}function yt(l,f){1&l&&(u.TgZ(0,"div",22),u._uU(1," First name is required! "),u.qZA())}function _t(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,yt,2,0,"div",21),u.qZA()),2&l){const o=u.oxw();let h;u.xp6(1),u.Q6J("ngIf",null==(h=o.registerForm.get("firstName"))||null==h.errors?null:h.errors.required)}}function je(l,f){1&l&&(u.TgZ(0,"div",22),u._uU(1," Last name is required! "),u.qZA())}function ve(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,je,2,0,"div",21),u.qZA()),2&l){const o=u.oxw();let h;u.xp6(1),u.Q6J("ngIf",null==(h=o.registerForm.get("lastName"))||null==h.errors?null:h.errors.required)}}let Je=(()=>{class l{constructor(o,h,m,E){this.userService=o,this.fb=h,this.formErrorCheckService=m,this.globalErrorHandler=E,this.registerForm=this.fb.group({email:["",[de.kI.required,de.kI.email]],password:["",[de.kI.required,de.kI.minLength(6)]],repeatPassword:["",de.kI.required],firstName:["",de.kI.required],lastName:["",de.kI.required],isActive:[!0,de.kI.required],isAdmin:[!1,de.kI.required],favoriteRecipes:this.fb.array([])})}submitRegisterForm(){var o=this;return(0,ce.Z)(function*(){if(o.registerForm.valid){o.formErrorCheckService.markFormGroupTouched(o.registerForm);const{email:h,password:m,repeatPassword:E,...k}=o.registerForm.value;if(m!==E)return void o.globalErrorHandler.handleError("Password do not match!");try{yield o.userService.registerUser(h,m,k)}catch(Q){o.globalErrorHandler.handleError(Q)}}else{const h=o.formErrorCheckService.getFormGroupErrors(o.registerForm);o.globalErrorHandler.handleError(h)}})()}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(Ee.K),u.Y36(de.qu),u.Y36(Me.l),u.Y36(Qe.r))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-register"]],decls:33,vars:6,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[3,"formGroup","ngSubmit"],[1,"title-wrapper"],[1,"title-form"],["for","email"],["type","email","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","new-password"],["for","repeatPassword"],["type","password","id","repeatPassword","formControlName","repeatPassword","autocomplete","new-password"],["for","firstName"],["type","text","id","firstName","formControlName","firstName"],["for","lastName"],["type","text","id","lastName","formControlName","lastName"],["type","submit",1,"button",2,"width","100%","margin-top","20px"],[1,"hr"],["href","#","routerLink","/login"],[1,"hint"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(h,m){if(1&h&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"form",3),u.NdJ("ngSubmit",function(){return m.submitRegisterForm()}),u.TgZ(4,"div",4)(5,"h1",5),u._uU(6,"Registration"),u.qZA()(),u.TgZ(7,"label",6),u._uU(8,"Email:"),u.qZA(),u._UZ(9,"input",7),u.YNc(10,Tt,3,2,"div",8),u.TgZ(11,"label",9),u._uU(12,"Password:"),u.qZA(),u._UZ(13,"input",10),u.YNc(14,Cn,3,2,"div",8),u.TgZ(15,"label",11),u._uU(16,"Repeat password:"),u.qZA(),u._UZ(17,"input",12),u.YNc(18,ot,3,2,"div",8),u.TgZ(19,"label",13),u._uU(20,"First name:"),u.qZA(),u._UZ(21,"input",14),u.YNc(22,_t,2,1,"div",8),u.TgZ(23,"label",15),u._uU(24,"Last Name:"),u.qZA(),u._UZ(25,"input",16),u.YNc(26,ve,2,1,"div",8),u.TgZ(27,"button",17),u._uU(28," Submit "),u.qZA(),u._UZ(29,"hr",18),u.TgZ(30,"a",19)(31,"div",20),u._uU(32,"Already registered?"),u.qZA()()()()()),2&h){let E,k,Q,le,ge;u.xp6(3),u.Q6J("formGroup",m.registerForm),u.xp6(7),u.Q6J("ngIf",(null==(E=m.registerForm.get("email"))?null:E.invalid)&&(null==(E=m.registerForm.get("email"))?null:E.touched)),u.xp6(4),u.Q6J("ngIf",(null==(k=m.registerForm.get("password"))?null:k.invalid)&&(null==(k=m.registerForm.get("password"))?null:k.touched)),u.xp6(4),u.Q6J("ngIf",(null==(Q=m.registerForm.get("repeatPassword"))?null:Q.invalid)&&(null==(Q=m.registerForm.get("repeatPassword"))?null:Q.touched)),u.xp6(4),u.Q6J("ngIf",(null==(le=m.registerForm.get("firstName"))?null:le.invalid)&&(null==(le=m.registerForm.get("firstName"))?null:le.touched)),u.xp6(4),u.Q6J("ngIf",(null==(ge=m.registerForm.get("lastName"))?null:ge.invalid)&&(null==(ge=m.registerForm.get("lastName"))?null:ge.touched))}},dependencies:[Se.O5,re.rH,de._Y,de.Fj,de.JJ,de.JL,de.sg,de.u],styles:[".checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:none}}"]})}return l})();function mt(l,f){1&l&&(u.TgZ(0,"div",17),u._uU(1," Email is required! "),u.qZA())}function kn(l,f){1&l&&(u.TgZ(0,"div",17),u._uU(1," Invalid email! "),u.qZA())}function dt(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,mt,2,0,"div",18),u.YNc(2,kn,2,0,"div",18),u.qZA()),2&l){const o=u.oxw();let h,m;u.xp6(1),u.Q6J("ngIf",null==(h=o.logInForm.get("email"))||null==h.errors?null:h.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.logInForm.get("email"))||null==m.errors?null:m.errors.email)}}function hn(l,f){1&l&&(u.TgZ(0,"div",17),u._uU(1," Password is required! "),u.qZA())}function Sn(l,f){1&l&&(u.TgZ(0,"div",17),u._uU(1," Password must be at least 6 characters long! "),u.qZA())}function Un(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,hn,2,0,"div",18),u.YNc(2,Sn,2,0,"div",18),u.qZA()),2&l){const o=u.oxw();let h,m;u.xp6(1),u.Q6J("ngIf",null==(h=o.logInForm.get("password"))||null==h.errors?null:h.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.logInForm.get("password"))||null==m.errors?null:m.errors.minlength)}}function or(l,f){if(1&l&&(u.TgZ(0,"div"),u._uU(1),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.Oqu(o.loginError)}}let yr=(()=>{class l{constructor(o,h,m,E,k,Q){this.userService=o,this.fb=h,this.route=m,this.router=E,this.formErrorCheckService=k,this.globalErrorHandler=Q,this.loginError=null,this.returnUrl=null,this.logInForm=this.fb.group({email:["",[de.kI.required,de.kI.email]],password:["",[de.kI.required,de.kI.minLength(6)]]})}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/login"}submitLogInForm(){var o=this;return(0,ce.Z)(function*(){if(o.formErrorCheckService.markFormGroupTouched(o.logInForm),o.logInForm.valid){const{email:h,password:m}=o.logInForm.value;try{yield o.userService.loginUser(h,m);const E=o.returnUrl||"/";yield o.router.navigateByUrl(E)}catch(E){o.globalErrorHandler.handleError(E)}}else{const h=o.formErrorCheckService.getFormGroupErrors(o.logInForm);o.globalErrorHandler.handleError(h)}})()}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(Ee.K),u.Y36(de.qu),u.Y36(re.gz),u.Y36(re.F0),u.Y36(Me.l),u.Y36(Qe.r))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-login"]],decls:30,vars:4,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[3,"formGroup","ngSubmit"],[1,"title-wrapper"],[1,"title-form"],[1,"formGroup"],["for","email"],["type","text","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","current-password"],["type","submit",1,"button",2,"width","100%"],[1,"hr"],["href","#","routerLink","/register"],[1,"hint"],["href","#","routerLink","/forgot-password"],[1,"errors"],["class","errors",4,"ngIf"]],template:function(h,m){if(1&h&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"form",3),u.NdJ("ngSubmit",function(){return m.submitLogInForm()}),u.TgZ(4,"div",4)(5,"h1",5),u._uU(6,"Login"),u.qZA()(),u.TgZ(7,"div",6)(8,"label",7),u._uU(9,"Email"),u.qZA(),u._UZ(10,"input",8),u.YNc(11,dt,3,2,"div",9),u.qZA(),u.TgZ(12,"div",6)(13,"label",10),u._uU(14,"Password"),u.qZA(),u._UZ(15,"input",11),u.YNc(16,Un,3,2,"div",9),u.qZA(),u._UZ(17,"br"),u.TgZ(18,"div",6)(19,"button",12),u._uU(20,"Submit"),u.qZA()(),u.YNc(21,or,2,1,"div",9),u._UZ(22,"hr",13),u.TgZ(23,"div")(24,"a",14)(25,"div",15),u._uU(26,"Don't have a Registration yet?"),u.qZA()(),u.TgZ(27,"a",16)(28,"div",17),u._uU(29,"Forgot your password?"),u.qZA()()()()()()),2&h){let E,k;u.xp6(3),u.Q6J("formGroup",m.logInForm),u.xp6(8),u.Q6J("ngIf",(null==(E=m.logInForm.get("email"))?null:E.invalid)&&(null==(E=m.logInForm.get("email"))?null:E.touched)),u.xp6(5),u.Q6J("ngIf",(null==(k=m.logInForm.get("password"))?null:k.invalid)&&(null==(k=m.logInForm.get("password"))?null:k.touched)),u.xp6(5),u.Q6J("ngIf",m.loginError)}},dependencies:[Se.O5,re.rH,de._Y,de.Fj,de.JJ,de.JL,de.sg,de.u],styles:["form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:none}}"]})}return l})();var Fe=K(3585);const $e=function(l){return["/recipe",l]};function Xe(l,f){if(1&l&&(u.TgZ(0,"div")(1,"a",9)(2,"div",10)(3,"div",11),u._UZ(4,"img",12),u.qZA(),u.TgZ(5,"p",13),u._uU(6),u.qZA()()()()),2&l){const o=f.$implicit;u.xp6(1),u.Q6J("routerLink",u.VKq(4,$e,o.id)),u.xp6(3),u.s9C("alt",o.title),u.Q6J("src",o.image_recipe[0].image_recipe,u.LSH),u.xp6(2),u.Oqu(o.title)}}function Ue(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"div")(1,"button",14),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.getRecipesLoadMore())}),u._uU(2,"Load More"),u.qZA()()}}function it(l,f){1&l&&(u.TgZ(0,"p")(1,"i"),u._uU(2," All recipes are now displayed! "),u.qZA()())}let wt=(()=>{class l{constructor(o){this.recipeService=o,this.recipes=[],this.showLoadMoreButton=!0}ngOnInit(){var o=this;return(0,ce.Z)(function*(){yield o.getRecipes(),o.showLoadMoreButton=!0})()}getRecipesLoadMore(){var o=this;return(0,ce.Z)(function*(){const{data:h,hasMore:m}=yield o.recipeService.getRecipesLoadMore();o.showLoadMoreButton=m,o.recipes.push(...h)})()}getRecipes(){var o=this;return(0,ce.Z)(function*(){const{data:h}=yield o.recipeService.getRecipes();o.recipes.push(...h)})()}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(Fe.j))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-recipes-list"]],decls:11,vars:3,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper-list"],[1,"title-wrapper"],[1,"title"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["allRecipesShown",""],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"],[1,"button-img",3,"click"]],template:function(h,m){if(1&h&&(u.TgZ(0,"main",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"h1",4),u._uU(5,"Recipes"),u.qZA()(),u.TgZ(6,"div",5),u.YNc(7,Xe,7,6,"div",6),u.qZA(),u.YNc(8,Ue,3,0,"div",7),u.YNc(9,it,3,0,"ng-template",null,8,u.W1O),u.qZA()()),2&h){const E=u.MAs(10);u.xp6(7),u.Q6J("ngForOf",m.recipes),u.xp6(1),u.Q6J("ngIf",m.showLoadMoreButton)("ngIfElse",E)}},dependencies:[Se.sg,Se.O5,re.rH],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:20px;margin-bottom:50px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 461px) and (max-width: 767px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return l})();var Pt=K(8850),Ut=K(3477);function fn(l,f){1&l&&(u.TgZ(0,"div",9),u._uU(1," Please write a comment! "),u.qZA())}function wn(l,f){1&l&&(u.TgZ(0,"div",9),u._uU(1," Comment must be at least 10 characters long. "),u.qZA())}function un(l,f){1&l&&(u.TgZ(0,"div",9),u._uU(1," Comment cannot exceed 500 characters. "),u.qZA())}function Dt(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,fn,2,0,"div",8),u.YNc(2,wn,2,0,"div",8),u.YNc(3,un,2,0,"div",8),u.qZA()),2&l){const o=u.oxw();let h,m,E;u.xp6(1),u.Q6J("ngIf",null==(h=o.commentForm.get("comment"))||null==h.errors?null:h.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.commentForm.get("comment"))||null==m.errors?null:m.errors.minlength),u.xp6(1),u.Q6J("ngIf",null==(E=o.commentForm.get("comment"))||null==E.errors?null:E.errors.maxlength)}}let Wn=(()=>{class l{constructor(o,h,m,E,k){this.fb=o,this.commentService=h,this.userService=m,this.globalErrorHandler=E,this.timestamp=new Date,this.fullName="",this.firestore=k}ngOnInit(){this.commentForm=this.fb.group({name:[""],comment:["",[de.kI.required,de.kI.minLength(10),de.kI.maxLength(500)]],recipeId:[this.recipeId],create_time:[this.timestamp],uid:[""]}),this.userService.userData$.subscribe({next:o=>{o?(this.userData=o,this.fullName=this.userData.firstName+" "+this.userData.lastName):this.fullName="Anonymous"},error:o=>{this.globalErrorHandler.handleError(o)}})}onSubmit(){var o=this;return(0,ce.Z)(function*(){if(o.timestamp=new Date,o.commentForm.valid){o.commentForm.patchValue({name:o.fullName}),o.commentForm.patchValue({recipeId:o.recipeId}),o.commentForm.patchValue({create_time:o.timestamp}),o.userData&&o.commentForm.patchValue({uid:o.userData.uid});try{(yield o.commentService.addComment(o.commentForm.value))?o.commentForm.reset():o.globalErrorHandler.handleError("Error adding comment.")}catch(h){o.globalErrorHandler.handleError(h)}}})()}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(de.qu),u.Y36(Pt.O),u.Y36(Ee.K),u.Y36(Qe.r),u.Y36(Ut.gg))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-comment-form"]],inputs:{recipeId:"recipeId"},decls:15,vars:2,consts:[[1,"commentWrapper"],["id","commentForm",3,"formGroup","ngSubmit"],[1,"divider"],[1,"form-group"],["for","comment"],["placeholder","Please write your comment here!","id","comment","formControlName","comment","rows","5","cols","30",1,"form-control"],[4,"ngIf"],["type","submit",1,"button",2,"width","100%"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(h,m){if(1&h&&(u.TgZ(0,"div",0)(1,"form",1),u.NdJ("ngSubmit",function(){return m.onSubmit()}),u.TgZ(2,"div",2),u._UZ(3,"hr"),u.TgZ(4,"p"),u._uU(5,"\xa0\xa0Comment\xa0\xa0"),u.qZA(),u._UZ(6,"hr"),u.qZA(),u.TgZ(7,"div",3)(8,"label",4),u._uU(9,"Comment (required)"),u.qZA(),u._UZ(10,"textarea",5),u.qZA(),u.YNc(11,Dt,4,3,"div",6),u._UZ(12,"br"),u.TgZ(13,"button",7),u._uU(14,"Submit"),u.qZA()()()),2&h){let E;u.xp6(1),u.Q6J("formGroup",m.commentForm),u.xp6(10),u.Q6J("ngIf",null==(E=m.commentForm.get("comment"))?null:E.touched)}},dependencies:[Se.O5,de._Y,de.Fj,de.JJ,de.JL,de.sg,de.u],styles:["form#commentForm[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:100%;border:unset}"]})}return l})();var vr=K(2732);function Br(l,f){if(1&l&&(u.TgZ(0,"div",19),u._uU(1),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.hij(" ",null==o.recipe?null:o.recipe.summary," ")}}function De(l,f){1&l&&(u.TgZ(0,"div"),u._UZ(1,"br"),u.qZA())}function Pe(l,f){if(1&l&&(u.TgZ(0,"li"),u._UZ(1,"img",22),u.qZA()),2&l){const o=f.$implicit;u.xp6(1),u.Q6J("src",o.image_recipe,u.LSH)}}function ke(l,f){if(1&l&&(u.TgZ(0,"ul",20),u.YNc(1,Pe,2,1,"li",21),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.Q6J("ngForOf",null==o.recipe?null:o.recipe.image_recipe)}}function ct(l,f){1&l&&(u.ynx(0),u._UZ(1,"i",29),u.BQk())}function vt(l,f){1&l&&u._UZ(0,"i",30)}function At(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"button",26),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.updateRecipeLikes())}),u.YNc(1,ct,2,0,"ng-container",27),u.YNc(2,vt,1,0,"ng-template",null,28,u.W1O),u.qZA()}if(2&l){const o=u.MAs(3),h=u.oxw(2);u.xp6(1),u.Q6J("ngIf",h.userData&&h.recipe&&h.recipe.likes&&(null==h.userData?null:h.userData.uid)&&h.recipe.likes.includes(h.userData.uid))("ngIfElse",o)}}function wr(l,f){if(1&l&&(u.TgZ(0,"div")(1,"span"),u._uU(2),u.qZA()()),2&l){const o=u.oxw(2);u.xp6(2),u.hij("Like: ",null==o.recipe||null==o.recipe.likes?null:o.recipe.likes.length,"")}}function An(l,f){1&l&&(u.ynx(0),u._uU(1," Save it! "),u.BQk())}function on(l,f){1&l&&u._uU(0,"Save Recipe")}function Xt(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"button",26),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.updateFavoriteRecipes())}),u.YNc(1,An,2,0,"ng-container",27),u.YNc(2,on,1,0,"ng-template",null,28,u.W1O),u.qZA()}if(2&l){const o=u.MAs(3),h=u.oxw(2);u.xp6(1),u.Q6J("ngIf",h.recipe&&h.userData&&h.userData.favoriteRecipes&&h.userData.favoriteRecipes.includes(h.recipeId||""))("ngIfElse",o)}}function En(l,f){if(1&l&&(u.TgZ(0,"div",23)(1,"div",24),u.YNc(2,At,4,2,"button",25),u.YNc(3,wr,3,1,"div",8),u.qZA(),u.YNc(4,Xt,4,2,"button",25),u.qZA()),2&l){const o=u.oxw();u.xp6(2),u.Q6J("ngIf",o.userData),u.xp6(1),u.Q6J("ngIf",(null==o.recipe||null==o.recipe.likes?null:o.recipe.likes.length)>0),u.xp6(1),u.Q6J("ngIf",o.userData)}}function Jn(l,f){1&l&&(u.TgZ(0,"div",12),u._UZ(1,"hr"),u.TgZ(2,"p"),u._uU(3,"\xa0\xa0Ingredients\xa0\xa0"),u.qZA(),u._UZ(4,"hr"),u.qZA())}function tn(l,f){if(1&l&&(u.TgZ(0,"li"),u._uU(1),u.qZA()),2&l){const o=u.oxw().$implicit;u.xp6(1),u.lnq(" ",o.name," - ",o.amount," ",o.unit," ")}}function Cr(l,f){if(1&l&&(u.TgZ(0,"ul",31),u.YNc(1,tn,2,3,"li",8),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.Q6J("ngIf",null==o.recipe?null:o.recipe.ingredients)}}function Ir(l,f){if(1&l&&(u.TgZ(0,"li"),u._UZ(1,"iframe",33),u.ALo(2,"safeUrl"),u.qZA()),2&l){const o=f.$implicit;u.xp6(1),u.Q6J("src",u.lcZ(2,1,o.video_recipe),u.uOi)}}function yn(l,f){if(1&l&&(u.TgZ(0,"div",32)(1,"div",12),u._UZ(2,"hr"),u.TgZ(3,"p"),u._uU(4,"\xa0\xa0Video\xa0\xa0"),u.qZA(),u._UZ(5,"hr"),u.qZA(),u._UZ(6,"br"),u.TgZ(7,"ul"),u.YNc(8,Ir,3,3,"li",21),u.qZA()()),2&l){const o=u.oxw();u.xp6(8),u.Q6J("ngForOf",null==o.recipe?null:o.recipe.video_recipe)}}function ar(l,f){1&l&&(u.TgZ(0,"div",12),u._UZ(1,"hr"),u.TgZ(2,"p"),u._uU(3,"\xa0\xa0Buttons\xa0\xa0"),u.qZA(),u._UZ(4,"hr"),u.qZA())}function Yn(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"button",26),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.toggleCommentForm())}),u._uU(1," Comment? "),u.qZA()}}function cr(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"button",26),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.toggleCommentForm())}),u._uU(1," Hide Form "),u.qZA()}}function jn(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"button",26),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.navigateToRecipeEdit())}),u._uU(1," Edit Recipe "),u.qZA()}}function ai(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"button",26),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.navigateToRecipeDelete())}),u._uU(1," Delete Recipe "),u.qZA()}}function xn(l,f){if(1&l&&(u.TgZ(0,"div",34),u.YNc(1,Yn,2,0,"button",25),u.YNc(2,cr,2,0,"button",25),u.YNc(3,jn,2,0,"button",25),u.YNc(4,ai,2,0,"button",25),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.Q6J("ngIf",!o.showCommentForm),u.xp6(1),u.Q6J("ngIf",o.showCommentForm),u.xp6(1),u.Q6J("ngIf",o.userData&&o.userData.uid==(null==o.recipe?null:o.recipe.uid)),u.xp6(1),u.Q6J("ngIf",o.userData&&o.userData.uid==(null==o.recipe?null:o.recipe.uid))}}function Xn(l,f){if(1&l&&(u.TgZ(0,"div"),u._UZ(1,"app-comment-form",35),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.Q6J("recipeId",o.recipeId)}}function Nr(l,f){1&l&&(u.TgZ(0,"div",12),u._UZ(1,"hr"),u.TgZ(2,"p"),u._uU(3,"\xa0\xa0Comments\xa0\xa0"),u.qZA(),u._UZ(4,"hr"),u.qZA())}function ci(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"span",26),u.NdJ("click",function(){u.CHM(o);const m=u.oxw().$implicit,E=u.oxw(2);return u.KtG(E.deleteComment(m.id))}),u._UZ(1,"i",40),u.qZA()}}function nt(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"span",26),u.NdJ("click",function(){u.CHM(o);const m=u.oxw().$implicit,E=u.oxw(2);return u.KtG(E.navigateToCommentEdit(m.id))}),u._UZ(1,"i",41),u.qZA()}}function Ce(l,f){if(1&l&&(u.TgZ(0,"ul")(1,"li"),u._uU(2),u.qZA(),u.TgZ(3,"li"),u._uU(4),u.qZA(),u.TgZ(5,"li",37)(6,"p"),u._uU(7),u.ALo(8,"date"),u.qZA(),u.TgZ(9,"div",38),u.YNc(10,ci,2,0,"span",25),u.YNc(11,nt,2,0,"span",25),u.qZA()(),u._UZ(12,"hr",39),u.qZA()),2&l){const o=f.$implicit,h=u.oxw(2);u.xp6(2),u.Oqu(o.name),u.xp6(2),u.Oqu(o.comment),u.xp6(3),u.hij(" ",u.xi3(8,5,o.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," "),u.xp6(3),u.Q6J("ngIf",h.userData&&o.uid==h.userData.uid),u.xp6(1),u.Q6J("ngIf",h.userData&&o.uid==h.userData.uid)}}function Ze(l,f){if(1&l&&(u.TgZ(0,"section",36),u.YNc(1,Ce,13,8,"ul",21),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.Q6J("ngForOf",o.comments)}}let It=(()=>{class l{constructor(o,h,m,E,k,Q){var le=this;this.route=o,this.recipeService=h,this.commentService=m,this.userService=E,this.router=k,this.globalErrorHandler=Q,this.recipe=null,this.recipeId="",this.comments=[],this.showCommentForm=!1,this.route.paramMap.subscribe(function(){var ge=(0,ce.Z)(function*(Ie){le.recipeId=Ie.get("id")});return function(Ie){return ge.apply(this,arguments)}}()),m.getCommentAddedObservable().subscribe((0,ce.Z)(function*(){console.log("Comment successfully added."),yield le.loadCommentsForRecipe()}))}loadRecipeData(){var o=this;return(0,ce.Z)(function*(){if(o.recipeId)try{o.recipe=yield o.recipeService.getRecipeById(o.recipeId),o.comments=yield o.commentService.getCommentsForRecipe(o.recipeId)}catch(h){o.globalErrorHandler.handleError(h)}})()}navigateToRecipeEdit(){var o=this;return(0,ce.Z)(function*(){yield o.router.navigate(["/dashboard/recipe-edit",o.recipeId])})()}navigateToRecipeDelete(){var o=this;return(0,ce.Z)(function*(){yield o.router.navigate(["/dashboard/recipe-delete",o.recipeId])})()}ngOnInit(){var o=this;return(0,ce.Z)(function*(){yield o.loadRecipeData(),o.userService.userData$.subscribe(h=>{h&&(o.userData=h)})})()}toggleCommentForm(){this.showCommentForm=!this.showCommentForm}navigateToCommentEdit(o){var h=this;return(0,ce.Z)(function*(){yield h.router.navigate(["/dashboard/comment-edit",o])})()}deleteComment(o){var h=this;return(0,ce.Z)(function*(){try{yield h.commentService.deleteComment(o),yield h.loadRecipeData()}catch(m){h.globalErrorHandler.handleError(m)}})()}updateRecipeLikes(){var o=this;return(0,ce.Z)(function*(){if(!o.recipe)return void o.globalErrorHandler.handleError("Recipe data is missing.");if(!o.userData)return void o.globalErrorHandler.handleError("User is not logged in.");let h=o.recipe.likes.includes(o.userData.uid);yield o.recipeService.updateRecipeLikes(o.recipeId,o.userData.uid,h),yield o.loadRecipeData()})()}updateFavoriteRecipes(){var o=this;return(0,ce.Z)(function*(){if(o.recipe){if(o.userData&&o.recipeId){let h=o.userData.favoriteRecipes.includes(o.recipeId);yield o.userService.updateFavoriteRecipes(o.recipeId,o.userData.uid,h),yield o.loadRecipeData()}}else o.globalErrorHandler.handleError("Recipe data is missing.")})()}loadCommentsForRecipe(){var o=this;return(0,ce.Z)(function*(){o.recipeId&&(o.comments=yield o.commentService.getCommentsForRecipe(o.recipeId))})()}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(re.gz),u.Y36(Fe.j),u.Y36(Pt.O),u.Y36(Ee.K),u.Y36(re.F0),u.Y36(Qe.r))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-recipe"]],decls:33,vars:15,consts:[[1,"mainLong"],[1,"headerImage"],[1,"wrapper-list"],[1,"recipe-container"],[1,"title-wrapper"],[1,"title"],[1,"recipe-subtitle"],["class","recipe-summary",4,"ngIf"],[4,"ngIf"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],["class","buttons",4,"ngIf"],[1,"divider"],[1,"recipe-description-text","description"],["class","divider",4,"ngIf"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-videos",4,"ngIf"],["class","buttons buttons-img",4,"ngIf"],["class","comments",4,"ngIf"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","Image of a recipe",3,"src"],[1,"buttons"],[1,"like-wrapper"],["class","button-img",3,"click",4,"ngIf"],[1,"button-img",3,"click"],[4,"ngIf","ngIfElse"],["notLiked",""],[1,"fa-solid","fa-heart","fa-beat-fade"],[1,"fa-regular","fa-heart","fa-beat-fade"],[1,"recipe-ingredients"],[1,"recipe-videos"],["width","560","height","315","allowfullscreen","",3,"src"],[1,"buttons","buttons-img"],[3,"recipeId"],[1,"comments"],[1,"comments-last"],[1,"commentBtnWrapper"],[1,"hr"],[1,"fa-solid","fa-trash"],[1,"fa-regular","fa-pen-to-square"]],template:function(h,m){1&h&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6),u.qZA()(),u.TgZ(7,"h3",6),u._uU(8),u.qZA(),u.YNc(9,Br,2,1,"div",7),u.YNc(10,De,2,0,"div",8),u.TgZ(11,"div",9),u.YNc(12,ke,2,1,"ul",10),u.YNc(13,En,5,3,"div",11),u.TgZ(14,"div",12),u._UZ(15,"hr"),u.TgZ(16,"p"),u._uU(17,"\xa0\xa0Description\xa0\xa0"),u.qZA(),u._UZ(18,"hr"),u.qZA(),u._UZ(19,"br"),u.TgZ(20,"p",13),u._uU(21),u.qZA(),u._UZ(22,"br"),u.YNc(23,Jn,5,0,"div",14),u._UZ(24,"br"),u.YNc(25,Cr,2,1,"ul",15),u.YNc(26,yn,9,1,"div",16),u.YNc(27,ar,5,0,"div",14),u._UZ(28,"br"),u.YNc(29,xn,5,4,"div",17),u.YNc(30,Xn,2,1,"div",8),u.YNc(31,Nr,5,0,"div",14),u.YNc(32,Ze,2,1,"section",18),u.qZA()()()()),2&h&&(u.xp6(6),u.Oqu(null==m.recipe?null:m.recipe.title),u.xp6(2),u.Oqu(null==m.recipe?null:m.recipe.subtitle),u.xp6(1),u.Q6J("ngIf",null==m.recipe?null:m.recipe.summary),u.xp6(1),u.Q6J("ngIf",!(null!=m.recipe&&m.recipe.summary)),u.xp6(2),u.Q6J("ngIf",(null==m.recipe?null:m.recipe.image_recipe)&&(null==m.recipe||null==m.recipe.image_recipe?null:m.recipe.image_recipe.length)>0),u.xp6(1),u.Q6J("ngIf",m.userData),u.xp6(8),u.Oqu(null==m.recipe?null:m.recipe.description),u.xp6(2),u.Q6J("ngIf",null==m.recipe?null:m.recipe.ingredients),u.xp6(2),u.Q6J("ngForOf",null==m.recipe?null:m.recipe.ingredients),u.xp6(1),u.Q6J("ngIf",(null==m.recipe?null:m.recipe.video_recipe)&&(null==m.recipe||null==m.recipe.video_recipe?null:m.recipe.video_recipe.length)>0),u.xp6(1),u.Q6J("ngIf",m.userData),u.xp6(2),u.Q6J("ngIf",m.userData),u.xp6(1),u.Q6J("ngIf",m.showCommentForm),u.xp6(1),u.Q6J("ngIf",m.comments.length>0),u.xp6(1),u.Q6J("ngIf",m.comments.length>0))},dependencies:[Se.sg,Se.O5,Wn,Se.uU,vr.Q],styles:[".recipe-container[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:800px;margin:-50px auto 50px;padding:32px;box-shadow:0 1px 3px #0000004d}.title[_ngcontent-%COMP%]{font-size:28px}.recipe-subtitle[_ngcontent-%COMP%]{font-size:14px;margin-top:-10px;color:var(--mainGreyColor);font-style:italic;white-space:pre-wrap}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic;white-space:pre-wrap}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}ul.recipe-image[_ngcontent-%COMP%]{padding-left:unset}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.buttons[_ngcontent-%COMP%]{padding:0 32px;display:flex;justify-content:space-between;align-items:baseline}.like-wrapper[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:baseline}.comments[_ngcontent-%COMP%]{border:1px solid var(--mainMagnoliaColor);margin:30px 0;padding:20px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:10px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:5px}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--mainGreyColor)}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--backgroundColor);padding-left:5px;border-radius:5px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--mainMagnoliaColor);font-style:italic;border-radius:5px}.comments-last[_ngcontent-%COMP%]{display:flex;justify-content:space-between}@media (max-width: 640px){.buttons-img[_ngcontent-%COMP%]{flex-direction:column-reverse}.buttons[_ngcontent-%COMP%]{display:flex;padding:unset;flex-direction:column;width:100%;justify-content:space-around;align-items:stretch;gap:10px}.like-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between}}"]})}return l})();var zt=K(1176);function Zt(l,f){1&l&&(u.TgZ(0,"div")(1,"main",2),u._UZ(2,"div",3),u.TgZ(3,"div",4)(4,"div",5)(5,"div",6)(6,"h1",7),u._uU(7," We're sorry, but we couldn't find the result you're looking for! "),u.qZA()(),u.TgZ(8,"div",8),u._UZ(9,"app-logo-svg"),u.qZA()()()()())}const $n=function(l){return["/recipe",l]};function Y(l,f){if(1&l&&(u.TgZ(0,"div")(1,"a",13)(2,"div",14)(3,"div",15),u._UZ(4,"img",16),u.qZA(),u.TgZ(5,"p",17),u._uU(6),u.qZA()()()()),2&l){const o=f.$implicit;u.xp6(1),u.Q6J("routerLink",u.VKq(4,$n,o.id)),u.xp6(3),u.s9C("alt",o.title),u.Q6J("src",o.image_recipe[0].image_recipe,u.LSH),u.xp6(2),u.Oqu(o.title)}}function V(l,f){if(1&l&&(u.TgZ(0,"main",9),u._UZ(1,"div",3),u.TgZ(2,"div",10)(3,"div",6)(4,"h1",7),u._uU(5,"Result"),u.qZA()(),u.TgZ(6,"div",11),u.YNc(7,Y,7,6,"div",12),u.qZA()()()),2&l){const o=u.oxw();u.xp6(7),u.Q6J("ngForOf",o.recipes)}}let G=(()=>{class l{constructor(o,h){this.recipeService=o,this.route=h,this.recipes=[],this.result=!1}ngOnInit(){this.route.queryParams.subscribe(o=>{const h=o.search;h&&this.searchRecipesByTitle(h)})}searchRecipesByTitle(o){var h=this;return(0,ce.Z)(function*(){const{data:m}=yield h.recipeService.searchRecipesByTitle(o);m.length>0?(h.recipes.push(...m),h.result=!0):h.result=!1})()}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(Fe.j),u.Y36(re.gz))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-recipe-search"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["recipesList",""],[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"empty"],[1,"title-wrapper"],[1,"title"],[1,"logo-svg"],[1,"main-long"],[1,"wrapper-list"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"]],template:function(h,m){if(1&h&&(u.YNc(0,Zt,10,0,"div",0),u.YNc(1,V,8,1,"ng-template",null,1,u.W1O)),2&h){const E=u.MAs(2);u.Q6J("ngIf",!m.result)("ngIfElse",E)}},dependencies:[Se.sg,Se.O5,re.rH,zt.u],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:20px;margin-bottom:50px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 461px) and (max-width: 767px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return l})();const $=(l,f)=>{const o=(0,u.f3M)(Ee.K),h=(0,u.f3M)(re.F0);return o.userData$.pipe((0,ue.U)(m=>!m||(h.navigate(["/recipes-list"]),!1)))},Nn=[{path:"",pathMatch:"full",component:(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-carousel"]],decls:24,vars:0,consts:[["id","carouselExampleAutoplaying","data-bs-ride","carousel",1,"carousel","slide"],[1,"overlay"],[1,"info"],[1,"carousel-title"],[1,"subtitle"],["routerLink","/recipes-list",1,"infoBtn"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://www.aveeno.com/sites/aveeno_us_2/files/healingherbswithmortaran_687349.jpg","alt","carousel-img",1,"carousel-img","d-block","w-100"],[1,"carousel-item"],["src","https://imgix-prod.sgs.com/-/media/sgscorp/images/connectivity-and-products/aromatics-pexels.cdn.en-MU.1.jpg","alt","carousel-img",1,"carousel-img","d-block","w-100"],["src","https://images.pexels.com/photos/1793035/pexels-photo-1793035.jpeg","alt","carousel-img",1,"carousel-img","d-block","w-100"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(h,m){1&h&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),u._uU(4," Welcome to Our Herbal Healing Recipe Hub! "),u.qZA(),u.TgZ(5,"div",4),u._uU(6," Explore our curated herbal recipes for vitality and well-being. Register to save favorites, comment, and like recipes. Join us and contribute your own recipes for a community dedicated to herbal remedies! "),u.qZA(),u.TgZ(7,"a",5),u._uU(8,"READ MORE"),u.qZA()()(),u.TgZ(9,"div",6)(10,"div",7),u._UZ(11,"img",8),u.qZA(),u.TgZ(12,"div",9),u._UZ(13,"img",10),u.qZA(),u.TgZ(14,"div",9),u._UZ(15,"img",11),u.qZA()(),u.TgZ(16,"button",12),u._UZ(17,"span",13),u.TgZ(18,"span",14),u._uU(19,"Previous"),u.qZA()(),u.TgZ(20,"button",15),u._UZ(21,"span",16),u.TgZ(22,"span",14),u._uU(23,"Next"),u.qZA()()())},dependencies:[re.rH],styles:[".carousel[_ngcontent-%COMP%]{max-height:93vh;overflow:hidden}.carousel-img[_ngcontent-%COMP%]{height:100vh;object-fit:cover}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{z-index:9}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0 50% 0 0;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:37%;right:10%;top:40%;transform:translate(2%,-27%);color:var(--mainWhiteColor);text-align:left}.carousel-title[_ngcontent-%COMP%]{font-size:32px;padding-bottom:20px;font-weight:900;line-height:35px;color:var(--backgroundColor);text-align:left;box-shadow:unset}.subtitle[_ngcontent-%COMP%]{font-size:18px;font-weight:300}.infoBtn[_ngcontent-%COMP%]{background-color:var(--backgroundColor);color:var(--textColor);padding:13px 35px;font-size:14px;margin-top:40px;display:inline-block;font-weight:700;font-family:Roboto,sans-serif;border:1px solid transparent;border-radius:4px}.infoBtn[_ngcontent-%COMP%]:hover{cursor:pointer;background:linear-gradient(90deg,var(--mainRGBAColor) 50%,rgba(248,249,250,1) 100%);border:1px solid var(--backgroundColor);color:var(--mainWhiteColor)}@media (max-width: 460px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.carousel-title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900;text-align:center}}@media (min-width: 461px) and (max-width: 767px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.carousel-title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900}}@media (min-width: 768px) and (max-width: 1023px){.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor)}}"]})}return l})()},{path:"register",component:Je,canActivate:[$]},{path:"login",component:yr,canActivate:[$]},{path:"forgot-password",component:(()=>{class l{constructor(o){this.userService=o}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(Ee.K))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-forgot-password"]],decls:19,vars:0,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper",2,"flex-direction","column"],[1,"title"],[1,"hint"],[1,"formGroup"],["type","email","placeholder","Email","required","",1,"formControl"],["passwordResetEmail",""],[1,"errors"],[1,"buttons"],["type","submit","value","Send email",1,"button",3,"click"],["href","#","routerLink","/login"]],template:function(h,m){if(1&h){const E=u.EpF();u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Forgotten password"),u.qZA()(),u.TgZ(7,"p",6),u._uU(8," Please enter your email address so we can send you a password reset email. "),u.qZA(),u.TgZ(9,"div",7),u._UZ(10,"input",8,9),u.qZA(),u.TgZ(12,"p",10),u._uU(13," If you can't find the email, please check your spam folder! "),u.qZA(),u.TgZ(14,"div",11)(15,"input",12),u.NdJ("click",function(){u.CHM(E);const Q=u.MAs(11);return u.KtG(m.userService.forgotPassword(Q.value))}),u.qZA(),u.TgZ(16,"a",13)(17,"div",6),u._uU(18,"Return to Login"),u.qZA()()()()()()}},dependencies:[re.rH],styles:[".form-wrapper[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.wrapper[_ngcontent-%COMP%]{padding:0 5%;max-width:600px;margin:0 auto}"]})}return l})()},{path:"recipes-list",component:wt},{path:"recipe-search",component:G},{path:"recipe/:id",component:It},{path:"about",component:(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-about-us"]],decls:22,vars:0,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],[2,"color","var(--mainGreyColor)"]],template:function(h,m){1&h&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"About Us"),u.qZA()(),u.TgZ(7,"div",6)(8,"p"),u._uU(9,"Welcome to our Healing Herbal Recipe Community!"),u.qZA(),u.TgZ(10,"p"),u._uU(11," Hello and welcome to our cozy corner dedicated to the power of herbs for health and well-being! We are passionate enthusiasts of herbal healing recipes and have decided to create this space where people from all over the world can come together to share their knowledge, experience, and love for herbal remedies. "),u.qZA(),u.TgZ(12,"p"),u._uU(13," We believe in the healing power of nature and strive to provide our users with a wealth of resources and inspiring ideas to improve their health and well-being. Our mission is to create a space where people can find recipes and support from the community to feel healthier and stronger. "),u.qZA(),u.TgZ(14,"p"),u._uU(15," Join us today and become part of our Healing Herbal Recipe Community! Together, we can achieve good heath and well-being through the power of nature and community. "),u.qZA(),u.TgZ(16,"p"),u._uU(17," Thank you for choosing to be part of our journey towards health and harmony! "),u.qZA(),u.TgZ(18,"p"),u._uU(19,"With love and gratitude,"),u.qZA(),u.TgZ(20,"p"),u._uU(21,"The Natural Way Team"),u.qZA()()()()())}})}return l})()},{path:"privacy-policy",component:(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-privacy-policy"]],decls:46,vars:0,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],[2,"color","var(--mainGreyColor)"],[2,"font-style","italic"],["routerLink","/contact"]],template:function(h,m){1&h&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Privacy Policy"),u.qZA()(),u.TgZ(7,"div",6)(8,"p",7),u._uU(9,"Last updated: 29.03.2024"),u.qZA(),u.TgZ(10,"p"),u._uU(11,' Welcome to the Privacy Policy of "The Natural Way". Our Privacy Policy explains how we collect, use, and disclose the personal information we receive from visitors to our Website. '),u.qZA(),u.TgZ(12,"h5"),u._uU(13,"1. Collection of Information"),u.qZA(),u.TgZ(14,"p"),u._uU(15," When you visit the Website, we may collect certain information from and about you. This information may include, but is not limited to: "),u.TgZ(16,"span",7),u._uU(17," Personal data such as names, email addresses, mailing addresses, etc., that you voluntarily provide to us through contact forms or account registration. Information about your computer, including IP address, browser type, operating system, and similar data for trend analysis, Website management, and protection against abuse. "),u.qZA()(),u.TgZ(18,"h5"),u._uU(19,"2. Use of Information"),u.qZA(),u.TgZ(20,"p"),u._uU(21," We use the collected information to provide and improve the Website, interact with users, analyze trends, and provide personalized content and advertisements. "),u.qZA(),u.TgZ(22,"h5"),u._uU(23,"3. Disclosure of Information"),u.qZA(),u.TgZ(24,"p"),u._uU(25," We may disclose personal information to our partners, service providers, and other third parties when necessary to provide services and perform tasks related to Website management. "),u.qZA(),u.TgZ(26,"h5"),u._uU(27,"4. Cookies and Similar Technologies"),u.qZA(),u.TgZ(28,"p"),u._uU(29," Our Cookie Policy explains how we use cookies and similar technologies that may be used on our Website. "),u.qZA(),u.TgZ(30,"h5"),u._uU(31,"5. Changes to the Privacy Policy"),u.qZA(),u.TgZ(32,"p"),u._uU(33," We may update this Privacy Policy from time to time. Any changes to this Privacy Policy will be posted on this page. "),u.qZA(),u.TgZ(34,"h5"),u._uU(35,"6. Linked Services and Websites"),u.qZA(),u.TgZ(36,"p"),u._uU(37," The Website may contain links to other websites and services that are not under our control. We are not responsible for the content and practices of these websites, and we encourage you to review the privacy policies of each website you visit. "),u.qZA(),u.TgZ(38,"h5"),u._uU(39,"7. Contact Information"),u.qZA(),u.TgZ(40,"p"),u._uU(41," For additional information regarding our Privacy Policy, please contact us at "),u.TgZ(42,"span")(43,"a",8),u._uU(44,"Contact Us"),u.qZA(),u._uU(45," page. "),u.qZA()()()()()())},dependencies:[re.rH]})}return l})()},{path:"contact",component:(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-contact-us"]],decls:28,vars:0,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],[2,"color","var(--mainGreyColor)"],["href","mailto:andon.ov@yahoo.com"],[1,"hr"]],template:function(h,m){1&h&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Contact Us"),u.qZA()(),u.TgZ(7,"div",6)(8,"p"),u._uU(9," For any inquiries or questions, please feel free to contact us. We're here to help! "),u.qZA(),u.TgZ(10,"div")(11,"p")(12,"strong"),u._uU(13,"Address:"),u.qZA(),u._uU(14," San Stefano , Burgas, Bulgaria"),u.qZA(),u.TgZ(15,"p")(16,"strong"),u._uU(17,"Phone:"),u.qZA(),u._uU(18," +359 885 996789"),u.qZA(),u.TgZ(19,"p")(20,"strong"),u._uU(21,"Email:"),u.qZA(),u.TgZ(22,"a",7),u._uU(23," Andon.ov@yahoo.com"),u.qZA()()(),u._UZ(24,"hr",8),u.TgZ(25,"div")(26,"p"),u._uU(27," This project was developed to meet the requirements of the Angular Project Assignment within the 'Angular - February 2024' course at SoftUni. "),u.qZA()()()()()())}})}return l})()},{path:"dashboard",loadChildren:()=>K.e(691).then(K.bind(K,7691)).then(l=>l.PrivateModule),canActivate:[(l,f)=>{const o=(0,u.f3M)(Ee.K),h=(0,u.f3M)(re.F0),m=(0,u.f3M)(Qe.r);return o.userData$.pipe((0,be.w)(E=>(0,fe.of)(!!E&&E.isActive)),(0,ue.U)(E=>!!E||(m.handleError("Unauthorized Access:\n          \n Please ensure you have appropriate permissions to view this content."),h.createUrlTree(["/login"],{queryParams:{returnUrl:f.url}}))))}]},{path:"**",component:(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-page-not-found"]],decls:14,vars:0,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"empty"],[1,"title-wrapper"],[1,"title"],[1,"logo-svg"],[1,"emptyInfo"],["routerLink","/","href","",1,"btn","btn-outline-light",2,"color","var(--textColor)"]],template:function(h,m){1&h&&(u.TgZ(0,"main",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Page not Found!"),u.qZA()(),u.TgZ(7,"div",6),u._UZ(8,"app-logo-svg"),u.qZA(),u.TgZ(9,"div",7)(10,"p"),u._uU(11,"We're sorry, but the page you're looking for cannot be found. \xa0\xa0"),u.qZA(),u.TgZ(12,"a",8),u._uU(13,"Back to Home"),u.qZA()()()()())},dependencies:[re.rH,zt.u]})}return l})()}];let Kt=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({imports:[re.Bz.forRoot(Nn,{useHash:!0}),re.Bz]})}return l})(),Fn=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-footer"]],decls:23,vars:0,consts:[[1,"footer"],[1,"footer-links"],["routerLink","/about"],["routerLink","/contact"],["routerLink","/privacy-policy"],[1,"social-icons"],["href","https://github.com/andon-ov","target","_blank"],[1,"fa-brands","fa-github"],["href","https://linkedin.com/in/andon-ov","target","_blank"],[1,"fa-brands","fa-linkedin"],[1,"copyright"],[1,"projectInfo"],["target","_blank","href","https://softuni.bg/"]],template:function(h,m){1&h&&(u.TgZ(0,"footer",0)(1,"div",1)(2,"a",2),u._uU(3,"About Us"),u.qZA(),u._uU(4," | "),u.TgZ(5,"a",3),u._uU(6,"Contact Us"),u.qZA(),u._uU(7," | "),u.TgZ(8,"a",4),u._uU(9,"Privacy Policy"),u.qZA()(),u.TgZ(10,"div",5)(11,"a",6),u._UZ(12,"i",7),u.qZA(),u.TgZ(13,"a",8),u._UZ(14,"i",9),u.qZA()(),u.TgZ(15,"div",10)(16,"div",11),u._uU(17," This project was developed to meet the requirements of the Angular Project Assignment within the 'Angular - February 2024' course at "),u.TgZ(18,"a",12),u._uU(19,"SoftUni"),u.qZA(),u._uU(20,". "),u.qZA(),u.TgZ(21,"span"),u._uU(22," \xa9 2024 The Natural Way. All Rights Reserved. "),u.qZA()()())},dependencies:[re.rH],styles:[".footer[_ngcontent-%COMP%]{background-color:var(--aliceBlueColor);padding:20px;color:#333;font-size:14px;text-align:center}.footer-links[_ngcontent-%COMP%]{padding:20px 0}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none;margin:0 10px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--mainBlackColor)}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none;margin:0 10px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--textColor)}.copyright[_ngcontent-%COMP%]{margin-top:20px;font-size:12px;color:#999}.projectInfo[_ngcontent-%COMP%]{margin-bottom:10px}"]})}return l})();var Wr=K(5619);class tr{}class qs{}const Hi="*";function ls(l,f){return{type:7,name:l,definitions:f,options:{}}}function Yo(l,f=null){return{type:4,styles:f,timings:l}}function Pa(l,f=null){return{type:2,steps:l,options:f}}function Gr(l){return{type:6,styles:l,offset:null}}function Ao(l,f,o){return{type:0,name:l,styles:f,options:o}}function ts(l,f,o=null){return{type:1,expr:l,animation:f,options:o}}class Gi{constructor(f=0,o=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=f+o}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}onStart(f){this._originalOnStartFns.push(f),this._onStartFns.push(f)}onDone(f){this._originalOnDoneFns.push(f),this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(f=>f()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(f){this._position=this.totalTime?f*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(f){const o="start"==f?this._onStartFns:this._onDoneFns;o.forEach(h=>h()),o.length=0}}class xs{constructor(f){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=f;let o=0,h=0,m=0;const E=this.players.length;0==E?queueMicrotask(()=>this._onFinish()):this.players.forEach(k=>{k.onDone(()=>{++o==E&&this._onFinish()}),k.onDestroy(()=>{++h==E&&this._onDestroy()}),k.onStart(()=>{++m==E&&this._onStart()})}),this.totalTime=this.players.reduce((k,Q)=>Math.max(k,Q.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this.players.forEach(f=>f.init())}onStart(f){this._onStartFns.push(f)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(f=>f()),this._onStartFns=[])}onDone(f){this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(f=>f.play())}pause(){this.players.forEach(f=>f.pause())}restart(){this.players.forEach(f=>f.restart())}finish(){this._onFinish(),this.players.forEach(f=>f.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(f=>f.destroy()),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}reset(){this.players.forEach(f=>f.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(f){const o=f*this.totalTime;this.players.forEach(h=>{const m=h.totalTime?Math.min(1,o/h.totalTime):1;h.setPosition(m)})}getPosition(){const f=this.players.reduce((o,h)=>null===o||h.totalTime>o.totalTime?h:o,null);return null!=f?f.getPosition():0}beforeDestroy(){this.players.forEach(f=>{f.beforeDestroy&&f.beforeDestroy()})}triggerCallback(f){const o="start"==f?this._onStartFns:this._onDoneFns;o.forEach(h=>h()),o.length=0}}let Zs=(()=>{class l{constructor(o,h){this.el=o,this.renderer=h}ngOnInit(){this.checkWidth()}onResize(){this.checkWidth()}checkWidth(){window.innerWidth<992?(this.renderer.addClass(this.el.nativeElement,"button"),this.renderer.addClass(this.el.nativeElement,"nav-btn"),this.renderer.addClass(this.el.nativeElement,"nav-link"),this.renderer.removeClass(this.el.nativeElement,"navigation")):(this.renderer.removeClass(this.el.nativeElement,"button"),this.renderer.removeClass(this.el.nativeElement,"nav-link"),this.renderer.removeClass(this.el.nativeElement,"nav-btn"),this.renderer.addClass(this.el.nativeElement,"navigation"))}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(u.SBq),u.Y36(u.Qsj))};static#t=this.\u0275dir=u.lG2({type:l,selectors:[["","appResponsiveClass",""]],hostBindings:function(h,m){1&h&&u.NdJ("resize",function(){return m.onResize()},!1,u.Jf7)}})}return l})();function ji(l,f){1&l&&(u.TgZ(0,"li",19)(1,"a",20),u._UZ(2,"i",27),u.qZA(),u.TgZ(3,"ul",28)(4,"li")(5,"a",29),u._uU(6,"Register"),u.qZA()(),u.TgZ(7,"li")(8,"a",30),u._uU(9,"Login"),u.qZA()()()())}function Ya(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"li",19)(1,"a",20)(2,"span"),u._uU(3),u.qZA()(),u.TgZ(4,"ul",28)(5,"li")(6,"a",31),u._uU(7,"My recipes"),u.qZA()(),u.TgZ(8,"li")(9,"a",32),u._uU(10,"Create recipe"),u.qZA()(),u.TgZ(11,"li")(12,"a",33),u._uU(13,"Favorite recipes"),u.qZA()(),u.TgZ(14,"li")(15,"a",34),u._uU(16,"My comments"),u.qZA()(),u.TgZ(17,"li")(18,"a",35),u._uU(19,"Profile"),u.qZA()(),u._UZ(20,"hr",36),u.TgZ(21,"li")(22,"a",37),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.logout())}),u._uU(23,"Logout"),u.qZA()()()()}if(2&l){const o=u.oxw();u.xp6(3),u.Oqu(o.getUserDisplayName())}}function us(l,f){1&l&&(u.TgZ(0,"div",39),u._uU(1," What are you searching for? "),u.qZA())}function Qa(l,f){1&l&&(u.TgZ(0,"div",39),u._uU(1," Min length is a 3 char! "),u.qZA())}function li(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,us,2,0,"div",38),u.YNc(2,Qa,2,0,"div",38),u.qZA()),2&l){const o=u.oxw();let h,m;u.xp6(1),u.Q6J("ngIf",null==(h=o.searchForm.get("search"))||null==h.errors?null:h.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.searchForm.get("search"))||null==m.errors?null:m.errors.minlength)}}let ka=(()=>{class l{constructor(o,h,m,E,k,Q){this.userService=o,this.router=h,this.fb=m,this.elementRef=E,this.formErrorCheckService=k,this.globalErrorHandler=Q,this.state="normal",this.searchForm=this.fb.group({search:[""]}),this.isMenuOpen=!1,this.userDataSubject=new Wr.X(null),this.userDataSubscription=this.userDataSubject.subscribe(le=>{this.userData=le})}onMouseOver(){this.state="hovered"}onMouseOut(){this.state="normal"}ngOnInit(){this.userService.userData$.subscribe({next:o=>{o?(this.userDataSubject.next(o),console.log("You have a user!",o)):(this.userDataSubject.next(null),console.log("You have no user!"))},error:o=>{this.globalErrorHandler.handleError(o)}}),this.router.events.subscribe(o=>{if(o instanceof re.m2){const h=this.elementRef.nativeElement.querySelector("#navbarScroll");h&&h.classList.remove("show")}})}onSubmit(){var o=this;return(0,ce.Z)(function*(){if(o.searchForm.valid){let h=o.searchForm.value;h&&h.search?(yield o.router.navigate(["/recipe-search"],{queryParams:{search:h.search.trim()}}),o.searchForm.reset()):o.globalErrorHandler.handleError("Query search value is null or undefined.")}else{const h=o.formErrorCheckService.getFormGroupErrors(o.searchForm);o.globalErrorHandler.handleError(h)}})()}ngOnDestroy(){this.userDataSubscription&&this.userDataSubscription.unsubscribe()}logout(){var o=this;return(0,ce.Z)(function*(){yield o.userService.logoutUser()})()}getUserDisplayName(){return this.userData?this.userData.lastName:"Anonymous"}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(Ee.K),u.Y36(re.F0),u.Y36(de.qu),u.Y36(u.SBq),u.Y36(Me.l),u.Y36(Qe.r))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-header"]],decls:35,vars:5,consts:[[1,"navbar","navbar-dark","navbar-expand-lg"],[1,"container-fluid"],[1,"header-wrapper"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","hamburger",3,"mouseover","mouseout"],[1,"fa-solid","fa-bars","fa-beat-fade"],["href","#",1,"navbar-brand"],["viewBox","0 0 200.92045542674032 200.92045542674032","height","50","width","50",1,"svg-logo"],["d","M0 100.46c0-55.483 44.978-100.46 100.46-100.46 55.483 0 100.46 44.978 100.46 100.46 0 55.483-44.978 100.46-100.46 100.46-55.483 0-100.46-44.978-100.46-100.46zM100.46 193.437c51.35 0 92.977-41.627 92.977-92.977 0-51.35-41.627-92.977-92.977-92.977-51.35 0-92.977 41.627-92.977 92.977 0 51.35 41.627 92.977 92.977 92.977z","data-fill-palette-color","accent","fill","var(--aliceBlueColor)","stroke","transparent"],["rx","99.45562543623646","ry","99.45562543623646","cx","100.46022771337016","cy","100.46022771337016","fill","var(--mainRGBAColor)","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,43.57436241056036,43.35758026693677)"],["viewBox","0 0 113.7717306056196 114.20529489286677","height","114.20529489286677","width","113.7717306056196"],["xmlns","http://www.w3.org/2000/svg","data-name","Layer 1","viewBox","1.190000057220459 1.002901315689087 97.62506866455078 97.99710083007812","x","0","y","0","height","114.20529489286677","width","113.7717306056196","data-fill-palette-color","quaternary","id","b-0",1,"icon-b-0"],["d","M79.28 26.63a0.3 0.3 0 0 0 0-0.07 0.28 0.28 0 0 0-0.48-0.19l-7 7a20.24 20.24 0 0 0-6 13v1.87a37.5 37.5 0 0 1 1.67 5.15H54.79a32.9 32.9 0 0 0-5.43-15.13 26.9 26.9 0 0 1-7.74 5.77 22.2 22.2 0 0 1-6.34 2.06c-9.9 1.51-22.3-5-28.35-41.61a1.86 1.86 0 0 1 1.55-2.05c47.44-6.69 50.2 11.7 47.85 22.85a51.5 51.5 0 0 0-19.69-6.14h-0.11a0.43 0.43 0 0 0-0.18 0.76l11.58 8.5 5.84 4.31a37.3 37.3 0 0 1 6.08 5.85 24.8 24.8 0 0 1 5-6.15 17.7 17.7 0 0 1-2.54-5 14.8 14.8 0 0 1-0.65-4.41c0-6.65 5.53-14.14 30.18-14.44a1.23 1.23 0 0 1 1.24 1.23c-0.38 31.82-12.74 31.78-19.82 29.12a34.2 34.2 0 0 0 6.02-12.28M28.65 93h34.63a16.16 16.16 0 0 0 12.18-5.54l21.68-24.79a6.79 6.79 0 0 0-0.79-9.7 6.55 6.55 0 0 0-4.2-1.49 7.24 7.24 0 0 0-5.38 2.43l-10.2 11.35v0.16a11.85 11.85 0 0 1-11.89 11.26H52.21a2.54 2.54 0 1 1 0-5.08h12.47a6.72 6.72 0 0 0 6.81-6.34A6.54 6.54 0 0 0 65 58.52H44.19l-3.37-1.18a23.42 23.42 0 0 0-24.26 5.49L1.19 78.1 22.64 99Z","fill","var(--aliceBlueColor)","data-fill-palette-color","quaternary"],["routerLink","/",1,"logoText"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","my-2","my-lg-0","navbar-nav-scroll"],[1,"nav-item"],["appResponsiveClass","","routerLink","/recipes-list","href","#","role","button","aria-expanded","false",1,"navigation"],["class","nav-item dropdown",4,"ngIf"],[1,"nav-item","dropdown"],["appResponsiveClass","","href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle"],[1,"fa-solid","fa-magnifying-glass"],[1,"dropdown-menu","search"],["role","search",1,"d-flex","w-100",3,"formGroup","ngSubmit"],["type","search","aria-label","Search","formControlName","search","required","","minlength","3",1,"form-control","me-2"],[4,"ngIf"],["type","submit",1,"search","button"],[1,"fa-solid","fa-user"],[1,"dropdown-menu"],["routerLink","/register",1,"dropdown-item"],["routerLink","/login",1,"dropdown-item"],["routerLink","/dashboard/user-recipes","href","#",1,"dropdown-item"],["routerLink","/dashboard/recipe-create",1,"dropdown-item"],["routerLink","/dashboard/user-favorite-recipes","href","#",1,"dropdown-item"],["routerLink","/dashboard/user-comments","href","#",1,"dropdown-item"],["routerLink","/dashboard/user-info",1,"dropdown-item"],[1,"hr"],[1,"dropdown-item",2,"text-align","center","cursor","pointer",3,"click"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(h,m){if(1&h&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"button",3),u.NdJ("mouseover",function(){return m.onMouseOver()})("mouseout",function(){return m.onMouseOut()}),u.TgZ(4,"span"),u._UZ(5,"i",4),u.qZA()(),u.TgZ(6,"a",5),u.O4$(),u.TgZ(7,"svg",6)(8,"g"),u._UZ(9,"path",7)(10,"ellipse",8),u.qZA(),u.TgZ(11,"g",9)(12,"svg",10)(13,"g")(14,"svg",11),u._UZ(15,"path",12),u.qZA()()()()(),u.kcU(),u.TgZ(16,"span",13),u._uU(17," The Natural Way "),u.qZA()()(),u.TgZ(18,"div",14)(19,"ul",15)(20,"li",16)(21,"a",17),u._uU(22," Recipes "),u.qZA()(),u.YNc(23,ji,10,0,"li",18),u.YNc(24,Ya,24,1,"li",18),u.TgZ(25,"li",19)(26,"a",20),u._uU(27," Search\xa0 "),u._UZ(28,"i",21),u.qZA(),u.TgZ(29,"ul",22)(30,"form",23),u.NdJ("ngSubmit",function(){return m.onSubmit()}),u._UZ(31,"input",24),u.YNc(32,li,3,2,"div",25),u.TgZ(33,"button",26),u._uU(34,"Search"),u.qZA()()()()()()()()),2&h){let E;u.xp6(3),u.Q6J("@rotate",m.state),u.xp6(20),u.Q6J("ngIf",!m.userData),u.xp6(1),u.Q6J("ngIf",m.userData),u.xp6(6),u.Q6J("formGroup",m.searchForm),u.xp6(2),u.Q6J("ngIf",null==(E=m.searchForm.get("search"))?null:E.touched)}},dependencies:[Se.O5,re.rH,de._Y,de.Fj,de.JJ,de.JL,de.Q7,de.wO,de.sg,de.u,Zs],styles:["nav.navbar[_ngcontent-%COMP%]{min-height:7vh;background-color:var(--aliceBlueColor);box-shadow:1px 5px 15px 0 var(--mainRGBAColor)}.container-fluid[_ngcontent-%COMP%]{max-width:1024px}a.navbar-brand[_ngcontent-%COMP%]{display:flex;gap:10px;font-family:Caveat,cursive;font-weight:400;font-size:32px;color:var(--textColor)}.header-wrapper[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center}.hamburger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:4px 2px}.hamburger[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 15px 0 var(--textColor)}button.navbar-toggler[_ngcontent-%COMP%]{background-color:var(--textColor);border:1px solid var(--backgroundColor)}ul.navbar-nav[_ngcontent-%COMP%]{position:relative;display:flex;gap:18px;width:100%;justify-content:flex-end}.navigation[_ngcontent-%COMP%]{color:var(--textColor)}ul.navbar-nav[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]{background-color:var(--backgroundColor);margin-top:18px}a.dropdown-item[_ngcontent-%COMP%]{color:var(--textColor)}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:focus{background-color:var(--textColor);color:var(--backgroundColor)}form[_ngcontent-%COMP%]{max-width:unset}.form-control[_ngcontent-%COMP%]{border:1px solid var(--textColor);border-radius:8px;background-color:var(--backgroundColor)}.form-control[_ngcontent-%COMP%]:focus{box-shadow:unset;background-color:var(--mainMagnoliaColor)}@media (max-width: 991px){.container-fluid[_ngcontent-%COMP%]{justify-content:space-evenly}.svg-logo[_ngcontent-%COMP%]{display:none}.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{background-color:var(--backgroundColor);padding:20px;border-radius:8px}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{border:unset;width:100%}form.d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:15px}}@media (min-width: 992px) and (max-width: 1440px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:900px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}.container-fluid[_ngcontent-%COMP%]{max-width:1200px;padding:0 3%;color:var(--textColor)}}@media (min-width: 1441px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:1000px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}.container-fluid[_ngcontent-%COMP%]{padding:unset;max-width:1200px;color:var(--textColor)}}"],data:{animation:[ls("rotate",[Ao("normal",Gr({transform:"rotate(0deg)"})),Ao("hovered",Gr({transform:"rotate(180deg)"})),ts("normal => hovered",Yo("0.5s ease-in-out")),ts("hovered => normal",Yo("0.5s ease-in-out"))])]}})}return l})();function Rs(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"div",1)(1,"button",2),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.scrollToTop())}),u._UZ(2,"i",3),u.qZA(),u.TgZ(3,"a",4)(4,"div",5)(5,"span",6),u.O4$(),u.TgZ(6,"svg",7),u._UZ(7,"path",8),u.qZA()(),u.kcU(),u.TgZ(8,"span",6),u.O4$(),u.TgZ(9,"svg",9),u._UZ(10,"path",8),u.qZA()()()()()}}let ba=(()=>{class l{constructor(){this.showScrollButton=!1}onWindowScroll(){this.showScrollButton=window.pageYOffset>300}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-scroll-to-top"]],hostBindings:function(h,m){1&h&&u.NdJ("scroll",function(){return m.onWindowScroll()},!1,u.Jf7)},decls:1,vars:1,consts:[["class","buttons",4,"ngIf"],[1,"buttons"],[1,"to-top",3,"click"],[1,"fa-solid","fa-chevron-up","fa-beat-fade"],["href","javascript:history.back()",1,"back-button"],[1,"button-box"],[1,"button-elem"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],["viewBox","0 0 46 40"]],template:function(h,m){1&h&&u.YNc(0,Rs,11,0,"div",0),2&h&&u.Q6J("ngIf",m.showScrollButton)},dependencies:[Se.O5],styles:[".buttons[_ngcontent-%COMP%]{display:flex;gap:10px;position:fixed;bottom:120px;right:10px;flex-direction:column;align-items:center;z-index:10}.to-top[_ngcontent-%COMP%]{background-color:var(--mainRGBAColor);color:var(--backgroundColor);border:3px solid var(--backgroundColor);border-radius:50%;width:60px;height:60px;font-size:16px;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{color:var(--textColor);background-color:var(--backgroundColor);box-shadow:0 0 15px 0 var(--textColor)}button[_ngcontent-%COMP%]:focus{outline:none}button.ng-hidden[_ngcontent-%COMP%]{display:none}"]})}return l})();var wa=K(1816);const vs=function(l){return{show:l}};let ii=(()=>{class l{constructor(o){this.modalService=o,this.showModal=!1}ngOnInit(){this.modalMessageSubscription=this.modalService.modalMessage$.subscribe(o=>{this.modalMessage=o,console.log(o),this.showModal=!0})}ngOnDestroy(){this.modalMessageSubscription&&this.modalMessageSubscription.unsubscribe()}hideModal(){this.showModal=!1}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(wa.y))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-custom-alert"]],decls:11,vars:4,consts:[["tabindex","-1","role","dialog",1,"modal",3,"ngClass"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"button-img",3,"click"]],template:function(h,m){1&h&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),u._uU(5,"Important Notification!"),u.qZA()(),u.TgZ(6,"div",5),u._uU(7),u.qZA(),u.TgZ(8,"div",6)(9,"button",7),u.NdJ("click",function(){return m.hideModal()}),u._uU(10,"Close"),u.qZA()()()()()),2&h&&(u.Q6J("ngClass",u.VKq(2,vs,m.showModal)),u.xp6(7),u.hij(" ",m.modalMessage," "))},dependencies:[Se.mk],styles:[".modal[_ngcontent-%COMP%]{display:none;overflow:hidden;position:fixed;top:0;left:0;width:100%;height:100%;z-index:15;outline:0}.modal.show[_ngcontent-%COMP%]{display:block;background-color:var(--mainRGBAColor)}.modal-body[_ngcontent-%COMP%]{white-space:pre-wrap}"]})}return l})(),Ps=(()=>{class l{constructor(){this.title="The-Natural-Way"}static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-root"]],decls:5,vars:0,template:function(h,m){1&h&&u._UZ(0,"app-header")(1,"app-scroll-to-top")(2,"app-custom-alert")(3,"router-outlet")(4,"app-footer")},dependencies:[re.lC,Fn,ka,ba,ii]})}return l})();var bs=K(9286),ks=K(8726);let hl=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=u.oAB({type:l}),l.\u0275inj=u.cJS({imports:[[]]}),l})();var Ks=K(5592),Ja=K(6232),ei=K(8645),Ys=K(4829),Oo=K(1631),fl=K(4266),Wi=K(4674),Ia=K(7400);const Jo=["addListener","removeListener"],Mo=["addEventListener","removeEventListener"],Xo=["on","off"];function On(l,f,o,h){if((0,Wi.m)(o)&&(h=o,o=void 0),h)return On(l,f,o).pipe((0,Ia.Z)(h));const[m,E]=function si(l){return(0,Wi.m)(l.addEventListener)&&(0,Wi.m)(l.removeEventListener)}(l)?Mo.map(k=>Q=>l[k](f,Q,o)):function Bi(l){return(0,Wi.m)(l.addListener)&&(0,Wi.m)(l.removeListener)}(l)?Jo.map(qr(l,f)):function ds(l){return(0,Wi.m)(l.on)&&(0,Wi.m)(l.off)}(l)?Xo.map(qr(l,f)):[];if(!m&&(0,fl.z)(l))return(0,Oo.z)(k=>On(k,f,o))((0,Ys.Xf)(l));if(!m)throw new TypeError("Invalid event target");return new Ks.y(k=>{const Q=(...le)=>k.next(1<le.length?le:le[0]);return m(Q),()=>E(Q)})}function qr(l,f){return o=>h=>l[o](f,h)}var Vi=K(6321),lo=K(671);const{isArray:xo}=Array;function ur(l){return 1===l.length&&xo(l[0])?l[0]:l}var Bt=K(8251);K(3019);var Qs=K(9940);function Zr(...l){const f=(0,Qs.jO)(l),o=ur(l);return o.length?new Ks.y(h=>{let m=o.map(()=>[]),E=o.map(()=>!1);h.add(()=>{m=E=null});for(let k=0;!h.closed&&k<o.length;k++)(0,Ys.Xf)(o[k]).subscribe((0,Bt.x)(h,Q=>{if(m[k].push(Q),m.every(le=>le.length)){const le=m.map(ge=>ge.shift());h.next(f?f(...le):le),m.some((ge,Ie)=>!ge.length&&E[Ie])&&h.complete()}},()=>{E[k]=!0,!m[k].length&&h.complete()}));return()=>{m=E=null}}):Ja.E}var Oi=K(5211),Zn=K(9773),ui=K(2181),mn=K(8180),Js=K(9397),La=K(9360),ws=K(2737),jr=K(2420);function qi(...l){const f=(0,Qs.jO)(l);return(0,La.e)((o,h)=>{const m=l.length,E=new Array(m);let k=l.map(()=>!1),Q=!1;for(let le=0;le<m;le++)(0,Ys.Xf)(l[le]).subscribe((0,Bt.x)(h,ge=>{E[le]=ge,!Q&&!k[le]&&(k[le]=!0,(Q=k.every(ws.y))&&(k=null))},jr.Z));o.subscribe((0,Bt.x)(h,le=>{if(Q){const ge=[le,...E];h.next(f?f(...ge):ge)}}))})}K(975),K(7921),K(3997),Math,Math,Math;const _h=["*"],Eu=["dialog"];function el(l){return"string"==typeof l}function Au(l){return null!=l}function sd(l){return(l||document.body).getBoundingClientRect()}const p_={animation:!0,transitionTimerDelayMs:5},ad=()=>{},{transitionTimerDelayMs:wo}=p_,Nu=new Map,fc=(l,f,o,h)=>{let m=h.context||{};const E=Nu.get(f);if(E)switch(h.runningTransition){case"continue":return Ja.E;case"stop":l.run(()=>E.transition$.complete()),m=Object.assign(E.context,m),Nu.delete(f)}const k=o(f,h.animation,m)||ad;if(!h.animation||"none"===window.getComputedStyle(f).transitionProperty)return l.run(()=>k()),(0,fe.of)(void 0).pipe(function Bf(l){return f=>new Ks.y(o=>f.subscribe({next:k=>l.run(()=>o.next(k)),error:k=>l.run(()=>o.error(k)),complete:()=>l.run(()=>o.complete())}))}(l));const Q=new ei.x,le=new ei.x,ge=Q.pipe(function Mr(...l){return f=>(0,Oi.z)(f,(0,fe.of)(...l))}(!0));Nu.set(f,{transition$:Q,complete:()=>{le.next(),le.complete()},context:m});const Ie=function fv(l){const{transitionDelay:f,transitionDuration:o}=window.getComputedStyle(l);return 1e3*(parseFloat(f)+parseFloat(o))}(f);return l.runOutsideAngular(()=>{const tt=On(f,"transitionend").pipe((0,Zn.R)(ge),(0,ui.h)(({target:rt})=>rt===f));(function Bn(...l){return 1===(l=ur(l)).length?(0,Ys.Xf)(l[0]):new Ks.y(function Or(l){return f=>{let o=[];for(let h=0;o&&!f.closed&&h<l.length;h++)o.push((0,Ys.Xf)(l[h]).subscribe((0,Bt.x)(f,m=>{if(o){for(let E=0;E<o.length;E++)E!==h&&o[E].unsubscribe();o=null}f.next(m)})))}}(l))})(function Fa(l=0,f,o=Vi.P){let h=-1;return null!=f&&((0,lo.K)(f)?o=f:h=f),new Ks.y(m=>{let E=function bi(l){return l instanceof Date&&!isNaN(l)}(l)?+l-o.now():l;E<0&&(E=0);let k=0;return o.schedule(function(){m.closed||(m.next(k++),0<=h?this.schedule(void 0,h):m.complete())},E)})}(Ie+wo).pipe((0,Zn.R)(ge)),tt,le).pipe((0,Zn.R)(ge)).subscribe(()=>{Nu.delete(f),l.run(()=>{k(),Q.next(),Q.complete()})})}),Q.asObservable()};let v=(()=>{class l{constructor(){this.animation=p_.animation}static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),Vf=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Og=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),m_=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),cb=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})();var Ti=function(l){return l[l.Tab=9]="Tab",l[l.Enter=13]="Enter",l[l.Escape=27]="Escape",l[l.Space=32]="Space",l[l.PageUp=33]="PageUp",l[l.PageDown=34]="PageDown",l[l.End=35]="End",l[l.Home=36]="Home",l[l.ArrowLeft=37]="ArrowLeft",l[l.ArrowUp=38]="ArrowUp",l[l.ArrowRight=39]="ArrowRight",l[l.ArrowDown=40]="ArrowDown",l}(Ti||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Ud=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function qf(l){const f=Array.from(l.querySelectorAll(Ud)).filter(o=>-1!==o.tabIndex);return[f[0],f[f.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let pa=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Vv=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})();class Nl{constructor(f,o,h){this.nodes=f,this.viewRef=o,this.componentRef=h}}let tl=(()=>{class l{constructor(o,h){this._el=o,this._zone=h}ngOnInit(){this._zone.onStable.asObservable().pipe((0,mn.q)(1)).subscribe(()=>{fc(this._zone,this._el.nativeElement,(o,h)=>{h&&sd(o),o.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return fc(this._zone,this._el.nativeElement,({classList:o})=>o.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(u.SBq),u.Y36(u.R0b))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(h,m){2&h&&(u.Tol("modal-backdrop"+(m.backdropClass?" "+m.backdropClass:"")),u.ekj("show",!m.animation)("fade",m.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[u.jDz],decls:0,vars:0,template:function(h,m){},encapsulation:2})}return l})();class Wg{update(f){}close(f){}dismiss(f){}}const Cb=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Sb=["animation","backdropClass"];class Fh{_applyWindowOptions(f,o){Cb.forEach(h=>{Au(o[h])&&(f[h]=o[h])})}_applyBackdropOptions(f,o){Sb.forEach(h=>{Au(o[h])&&(f[h]=o[h])})}update(f){this._applyWindowOptions(this._windowCmptRef.instance,f),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,f)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,Zn.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,Zn.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(f,o,h,m){this._windowCmptRef=f,this._contentRef=o,this._backdropCmptRef=h,this._beforeDismiss=m,this._closed=new ei.x,this._dismissed=new ei.x,this._hidden=new ei.x,f.instance.dismissEvent.subscribe(E=>{this.dismiss(E)}),this.result=new Promise((E,k)=>{this._resolve=E,this._reject=k}),this.result.then(null,()=>{})}close(f){this._windowCmptRef&&(this._closed.next(f),this._resolve(f),this._removeModalElements())}_dismiss(f){this._dismissed.next(f),this._reject(f),this._removeModalElements()}dismiss(f){if(this._windowCmptRef)if(this._beforeDismiss){const o=this._beforeDismiss();!function Th(l){return l&&l.then}(o)?!1!==o&&this._dismiss(f):o.then(h=>{!1!==h&&this._dismiss(f)},()=>{})}else this._dismiss(f)}_removeModalElements(){const f=this._windowCmptRef.instance.hide(),o=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,fe.of)(void 0);f.subscribe(()=>{const{nativeElement:h}=this._windowCmptRef.location;h.parentNode.removeChild(h),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),o.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:h}=this._backdropCmptRef.location;h.parentNode.removeChild(h),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Zr(f,o).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var up=function(l){return l[l.BACKDROP_CLICK=0]="BACKDROP_CLICK",l[l.ESC=1]="ESC",l}(up||{});let Uv=(()=>{class l{constructor(o,h,m){this._document=o,this._elRef=h,this._zone=m,this._closed$=new ei.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new ei.x,this.hidden=new ei.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":el(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(o){this.dismissEvent.emit(o)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,mn.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:o}=this._elRef,h={animation:this.animation,runningTransition:"stop"},k=Zr(fc(this._zone,o,()=>o.classList.remove("show"),h),fc(this._zone,this._dialogEl.nativeElement,()=>{},h));return k.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),k}_show(){const o={animation:this.animation,runningTransition:"continue"};Zr(fc(this._zone,this._elRef.nativeElement,(E,k)=>{k&&sd(E),E.classList.add("show")},o),fc(this._zone,this._dialogEl.nativeElement,()=>{},o)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:o}=this._elRef;this._zone.runOutsideAngular(()=>{On(o,"keydown").pipe((0,Zn.R)(this._closed$),(0,ui.h)(m=>m.which===Ti.Escape)).subscribe(m=>{this.keyboard?requestAnimationFrame(()=>{m.defaultPrevented||this._zone.run(()=>this.dismiss(up.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let h=!1;On(this._dialogEl.nativeElement,"mousedown").pipe((0,Zn.R)(this._closed$),(0,Js.b)(()=>h=!1),(0,be.w)(()=>On(o,"mouseup").pipe((0,Zn.R)(this._closed$),(0,mn.q)(1))),(0,ui.h)(({target:m})=>o===m)).subscribe(()=>{h=!0}),On(o,"click").pipe((0,Zn.R)(this._closed$)).subscribe(({target:m})=>{o===m&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!h&&this._zone.run(()=>this.dismiss(up.BACKDROP_CLICK))),h=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:o}=this._elRef;if(!o.contains(document.activeElement)){const h=o.querySelector("[ngbAutofocus]"),m=qf(o)[0];(h||m||o).focus()}}_restoreFocus(){const o=this._document.body,h=this._elWithFocus;let m;m=h&&h.focus&&o.contains(h)?h:o,this._zone.runOutsideAngular(()=>{setTimeout(()=>m.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&fc(this._zone,this._elRef.nativeElement,({classList:o})=>(o.add("modal-static"),()=>o.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(Se.K0),u.Y36(u.SBq),u.Y36(u.R0b))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["ngb-modal-window"]],viewQuery:function(h,m){if(1&h&&u.Gf(Eu,7),2&h){let E;u.iGM(E=u.CRH())&&(m._dialogEl=E.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(h,m){2&h&&(u.uIk("aria-modal",!0)("aria-labelledby",m.ariaLabelledBy)("aria-describedby",m.ariaDescribedBy),u.Tol("modal d-block"+(m.windowClass?" "+m.windowClass:"")),u.ekj("fade",m.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[u.jDz],ngContentSelectors:_h,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(h,m){1&h&&(u.F$t(),u.TgZ(0,"div",0,1)(2,"div",2),u.Hsn(3),u.qZA()()),2&h&&u.Tol("modal-dialog"+(m.size?" modal-"+m.size:"")+(m.centered?" modal-dialog-centered":"")+m.fullscreenClass+(m.scrollable?" modal-dialog-scrollable":"")+(m.modalDialogClass?" "+m.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return l})(),Ab=(()=>{class l{constructor(o){this._document=o}hide(){const o=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),h=this._document.body,m=h.style,{overflow:E,paddingRight:k}=m;if(o>0){const Q=parseFloat(window.getComputedStyle(h).paddingRight);m.paddingRight=`${Q+o}px`}return m.overflow="hidden",()=>{o>0&&(m.paddingRight=k),m.overflow=E}}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(Se.K0))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),dp=(()=>{class l{constructor(o,h,m,E,k,Q,le){this._applicationRef=o,this._injector=h,this._environmentInjector=m,this._document=E,this._scrollBar=k,this._rendererFactory=Q,this._ngZone=le,this._activeWindowCmptHasChanged=new ei.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const ge=this._windowCmpts[this._windowCmpts.length-1];((l,f,o,h=!1)=>{l.runOutsideAngular(()=>{const m=On(f,"focusin").pipe((0,Zn.R)(o),(0,ue.U)(E=>E.target));On(f,"keydown").pipe((0,Zn.R)(o),(0,ui.h)(E=>E.which===Ti.Tab),qi(m)).subscribe(([E,k])=>{const[Q,le]=qf(f);(k===Q||k===f)&&E.shiftKey&&(le.focus(),E.preventDefault()),k===le&&!E.shiftKey&&(Q.focus(),E.preventDefault())}),h&&On(f,"click").pipe((0,Zn.R)(o),qi(m),(0,ue.U)(E=>E[1])).subscribe(E=>E.focus())})})(this._ngZone,ge.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(ge.location.nativeElement)}})}_restoreScrollBar(){const o=this._scrollBarRestoreFn;o&&(this._scrollBarRestoreFn=null,o())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(o,h,m){const E=m.container instanceof HTMLElement?m.container:Au(m.container)?this._document.querySelector(m.container):this._document.body,k=this._rendererFactory.createRenderer(null,null);if(!E)throw new Error(`The specified modal container "${m.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const Q=new Wg,le=(o=m.injector||o).get(u.lqb,null)||this._environmentInjector,ge=this._getContentRef(o,le,h,Q,m);let Ie=!1!==m.backdrop?this._attachBackdrop(E):void 0,tt=this._attachWindowComponent(E,ge.nodes),lt=new Fh(tt,ge,Ie,m.beforeDismiss);return this._registerModalRef(lt),this._registerWindowCmpt(tt),lt.hidden.pipe((0,mn.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(k.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),Q.close=rt=>{lt.close(rt)},Q.dismiss=rt=>{lt.dismiss(rt)},Q.update=rt=>{lt.update(rt)},lt.update(m),1===this._modalRefs.length&&k.addClass(this._document.body,"modal-open"),Ie&&Ie.instance&&Ie.changeDetectorRef.detectChanges(),tt.changeDetectorRef.detectChanges(),lt}get activeInstances(){return this._activeInstances}dismissAll(o){this._modalRefs.forEach(h=>h.dismiss(o))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(o){let h=(0,u.LMc)(tl,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(h.hostView),o.appendChild(h.location.nativeElement),h}_attachWindowComponent(o,h){let m=(0,u.LMc)(Uv,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:h});return this._applicationRef.attachView(m.hostView),o.appendChild(m.location.nativeElement),m}_getContentRef(o,h,m,E,k){return m?m instanceof u.Rgc?this._createFromTemplateRef(m,E):el(m)?this._createFromString(m):this._createFromComponent(o,h,m,E,k):new Nl([])}_createFromTemplateRef(o,h){const E=o.createEmbeddedView({$implicit:h,close(k){h.close(k)},dismiss(k){h.dismiss(k)}});return this._applicationRef.attachView(E),new Nl([E.rootNodes],E)}_createFromString(o){const h=this._document.createTextNode(`${o}`);return new Nl([[h]])}_createFromComponent(o,h,m,E,k){const Q=u.zs3.create({providers:[{provide:Wg,useValue:E}],parent:o}),le=(0,u.LMc)(m,{environmentInjector:h,elementInjector:Q}),ge=le.location.nativeElement;return k.scrollable&&ge.classList.add("component-host-scrollable"),this._applicationRef.attachView(le.hostView),new Nl([[ge]],le.hostView,le)}_setAriaHidden(o){const h=o.parentElement;h&&o!==this._document.body&&(Array.from(h.children).forEach(m=>{m!==o&&"SCRIPT"!==m.nodeName&&(this._ariaHiddenValues.set(m,m.getAttribute("aria-hidden")),m.setAttribute("aria-hidden","true"))}),this._setAriaHidden(h))}_revertAriaHidden(){this._ariaHiddenValues.forEach((o,h)=>{o?h.setAttribute("aria-hidden",o):h.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(o){const h=()=>{const m=this._modalRefs.indexOf(o);m>-1&&(this._modalRefs.splice(m,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(o),this._activeInstances.emit(this._modalRefs),o.result.then(h,h)}_registerWindowCmpt(o){this._windowCmpts.push(o),this._activeWindowCmptHasChanged.next(),o.onDestroy(()=>{const h=this._windowCmpts.indexOf(o);h>-1&&(this._windowCmpts.splice(h,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(u.lqb),u.LFG(Se.K0),u.LFG(Ab),u.LFG(u.FYo),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),Lh=(()=>{class l{constructor(o){this._ngbConfig=o,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(o){this._animation=o}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(v))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),qg=(()=>{class l{constructor(o,h,m){this._injector=o,this._modalStack=h,this._config=m}open(o,h={}){const m={...this._config,animation:this._config.animation,...h};return this._modalStack.open(this._injector,o,m)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(o){this._modalStack.dismissAll(o)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(u.zs3),u.LFG(dp),u.LFG(Lh))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),hp=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({providers:[qg]})}return l})(),Bh=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Qg=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Xg=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),qv=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),yp=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),vp=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Kv=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),z_=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),sm=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})();new u.OlP("live announcer delay",{providedIn:"root",factory:function zh(){return 100}});let cm=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Yd=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})();const t0=[Vf,Og,m_,cb,pa,Vv,hp,Bh,Yd,Qg,Xg,qv,yp,vp,Kv,z_,sm,cm];let um=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({imports:[t0,Vf,Og,m_,cb,pa,Vv,hp,Bh,Yd,Qg,Xg,qv,yp,vp,Kv,z_,sm,cm]})}return l})();var Wh=K(2772);function wp(l){return new u.vHH(3e3,!1)}function Mc(l){switch(l.length){case 0:return new Gi;case 1:return l[0];default:return new xs(l)}}function u0(l,f,o=new Map,h=new Map){const m=[],E=[];let k=-1,Q=null;if(f.forEach(le=>{const ge=le.get("offset"),Ie=ge==k,tt=Ie&&Q||new Map;le.forEach((lt,rt)=>{let Nt=rt,Ft=lt;if("offset"!==rt)switch(Nt=l.normalizePropertyName(Nt,m),Ft){case"!":Ft=o.get(rt);break;case Hi:Ft=h.get(rt);break;default:Ft=l.normalizeStyleValue(rt,Nt,Ft,m)}tt.set(Nt,Ft)}),Ie||E.push(tt),Q=tt,k=ge}),m.length)throw function o0(l){return new u.vHH(3502,!1)}();return E}function iy(l,f,o,h){switch(f){case"start":l.onStart(()=>h(o&&fm(o,"start",l)));break;case"done":l.onDone(()=>h(o&&fm(o,"done",l)));break;case"destroy":l.onDestroy(()=>h(o&&fm(o,"destroy",l)))}}function fm(l,f,o){const E=Xd(l.element,l.triggerName,l.fromState,l.toState,f||l.phaseName,o.totalTime??l.totalTime,!!o.disabled),k=l._data;return null!=k&&(E._data=k),E}function Xd(l,f,o,h,m="",E=0,k){return{element:l,triggerName:f,fromState:o,toState:h,phaseName:m,totalTime:E,disabled:!!k}}function Io(l,f,o){let h=l.get(f);return h||l.set(f,h=o),h}function Lu(l){const f=l.indexOf(":");return[l.substring(1,f),l.slice(f+1)]}const Kh=(()=>typeof document>"u"?null:document.documentElement)();function Dp(l){const f=l.parentNode||l.host||null;return f===Kh?null:f}let Ml=null,d0=!1;function Hb(l,f){for(;f;){if(f===l)return!0;f=Dp(f)}return!1}function f0(l,f,o){if(o)return Array.from(l.querySelectorAll(f));const h=l.querySelector(f);return h?[h]:[]}let p0=(()=>{class l{validateStyleProperty(o){return function Ss(l){Ml||(Ml=function h0(){return typeof document<"u"?document.body:null}()||{},d0=!!Ml.style&&"WebkitAppearance"in Ml.style);let f=!0;return Ml.style&&!function Yh(l){return"ebkit"==l.substring(1,6)}(l)&&(f=l in Ml.style,!f&&d0&&(f="Webkit"+l.charAt(0).toUpperCase()+l.slice(1)in Ml.style)),f}(o)}matchesElement(o,h){return!1}containsElement(o,h){return Hb(o,h)}getParentElement(o){return Dp(o)}query(o,h,m){return f0(o,h,m)}computeStyle(o,h,m){return m||""}animate(o,h,m,E,k,Q=[],le){return new Gi(m,E)}static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac})}return l})(),Cp=(()=>{class l{static#e=this.NOOP=new p0}return l})();const Sp=1e3,Ap="ng-enter",Np="ng-leave",Op="ng-trigger",eh=".ng-trigger",th="ng-animating",rr=".ng-animating";function rl(l){if("number"==typeof l)return l;const f=l.match(/^(-?[\.\d]+)(m?s)/);return!f||f.length<2?0:nh(parseFloat(f[1]),f[2])}function nh(l,f){return"s"===f?l*Sp:l}function ou(l,f,o){return l.hasOwnProperty("duration")?l:function Mp(l,f,o){let m,E=0,k="";if("string"==typeof l){const Q=l.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Q)return f.push(wp()),{duration:0,delay:0,easing:""};m=nh(parseFloat(Q[1]),Q[2]);const le=Q[3];null!=le&&(E=nh(parseFloat(le),Q[4]));const ge=Q[5];ge&&(k=ge)}else m=l;if(!o){let Q=!1,le=f.length;m<0&&(f.push(function kb(){return new u.vHH(3100,!1)}()),Q=!0),E<0&&(f.push(function Fb(){return new u.vHH(3101,!1)}()),Q=!0),Q&&f.splice(le,0,wp())}return{duration:m,delay:E,easing:k}}(l,f,o)}function xp(l,f={}){return Object.keys(l).forEach(o=>{f[o]=l[o]}),f}function Qh(l){const f=new Map;return Object.keys(l).forEach(o=>{f.set(o,l[o])}),f}function Rc(l,f=new Map,o){if(o)for(let[h,m]of o)f.set(h,m);for(let[h,m]of l)f.set(h,m);return f}function Pc(l,f,o){f.forEach((h,m)=>{const E=Lp(m);o&&!o.has(m)&&o.set(m,l.style[E]),l.style[E]=h})}function xl(l,f){f.forEach((o,h)=>{const m=Lp(h);l.style[m]=""})}function ud(l){return Array.isArray(l)?1==l.length?l[0]:Pa(l):l}const Pp=new RegExp("{{\\s*(.+?)\\s*}}","g");function kp(l){let f=[];if("string"==typeof l){let o;for(;o=Pp.exec(l);)f.push(o[1]);Pp.lastIndex=0}return f}function Rl(l,f,o){const h=l.toString(),m=h.replace(Pp,(E,k)=>{let Q=f[k];return null==Q&&(o.push(function Q_(l){return new u.vHH(3003,!1)}()),Q=""),Q.toString()});return m==h?l:m}function Fp(l){const f=[];let o=l.next();for(;!o.done;)f.push(o.value),o=l.next();return f}const m0=/-+([a-z0-9])/g;function Lp(l){return l.replace(m0,(...f)=>f[1].toUpperCase())}function pc(l,f,o){switch(f.type){case 7:return l.visitTrigger(f,o);case 0:return l.visitState(f,o);case 1:return l.visitTransition(f,o);case 2:return l.visitSequence(f,o);case 3:return l.visitGroup(f,o);case 4:return l.visitAnimate(f,o);case 5:return l.visitKeyframes(f,o);case 6:return l.visitStyle(f,o);case 8:return l.visitReference(f,o);case 9:return l.visitAnimateChild(f,o);case 10:return l.visitAnimateRef(f,o);case 11:return l.visitQuery(f,o);case 12:return l.visitStagger(f,o);default:throw function n0(l){return new u.vHH(3004,!1)}()}}function gm(l,f){return window.getComputedStyle(l)[f]}const Bp="*";function il(l,f){const o=[];return"string"==typeof l?l.split(/\s*,\s*/).forEach(h=>function sy(l,f,o){if(":"==l[0]){const le=function oy(l,f){switch(l){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,h)=>parseFloat(h)>parseFloat(o);case":decrement":return(o,h)=>parseFloat(h)<parseFloat(o);default:return f.push(function Go(l){return new u.vHH(3016,!1)}()),"* => *"}}(l,o);if("function"==typeof le)return void f.push(le);l=le}const h=l.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==h||h.length<4)return o.push(function uE(l){return new u.vHH(3015,!1)}()),f;const m=h[1],E=h[2],k=h[3];f.push(mm(m,k));"<"==E[0]&&!(m==Bp&&k==Bp)&&f.push(mm(k,m))}(h,o,f)):o.push(l),o}const Bu=new Set(["true","1"]),ef=new Set(["false","0"]);function mm(l,f){const o=Bu.has(l)||ef.has(l),h=Bu.has(f)||ef.has(f);return(m,E)=>{let k=l==Bp||l==m,Q=f==Bp||f==E;return!k&&o&&"boolean"==typeof m&&(k=m?Bu.has(l):ef.has(l)),!Q&&h&&"boolean"==typeof E&&(Q=E?Bu.has(f):ef.has(f)),k&&Q}}const sl=new RegExp("s*:selfs*,?","g");function zs(l,f,o,h){return new _m(l).build(f,o,h)}class _m{constructor(f){this._driver=f}build(f,o,h){const m=new _0(o);return this._resetContextStyleTimingState(m),pc(this,ud(f),m)}_resetContextStyleTimingState(f){f.currentQuerySelector="",f.collectedStyles=new Map,f.collectedStyles.set("",new Map),f.currentTime=0}visitTrigger(f,o){let h=o.queryCount=0,m=o.depCount=0;const E=[],k=[];return"@"==f.name.charAt(0)&&o.errors.push(function ru(){return new u.vHH(3006,!1)}()),f.definitions.forEach(Q=>{if(this._resetContextStyleTimingState(o),0==Q.type){const le=Q,ge=le.name;ge.toString().split(/\s*,\s*/).forEach(Ie=>{le.name=Ie,E.push(this.visitState(le,o))}),le.name=ge}else if(1==Q.type){const le=this.visitTransition(Q,o);h+=le.queryCount,m+=le.depCount,k.push(le)}else o.errors.push(function J_(){return new u.vHH(3007,!1)}())}),{type:7,name:f.name,states:E,transitions:k,queryCount:h,depCount:m,options:null}}visitState(f,o){const h=this.visitStyle(f.styles,o),m=f.options&&f.options.params||null;if(h.containsDynamicStyles){const E=new Set,k=m||{};h.styles.forEach(Q=>{Q instanceof Map&&Q.forEach(le=>{kp(le).forEach(ge=>{k.hasOwnProperty(ge)||E.add(ge)})})}),E.size&&(Fp(E.values()),o.errors.push(function Zh(l,f){return new u.vHH(3008,!1)}()))}return{type:0,name:f.name,style:h,options:m?{params:m}:null}}visitTransition(f,o){o.queryCount=0,o.depCount=0;const h=pc(this,ud(f.animation),o);return{type:1,matchers:il(f.expr,o.errors),animation:h,queryCount:o.queryCount,depCount:o.depCount,options:rh(f.options)}}visitSequence(f,o){return{type:2,steps:f.steps.map(h=>pc(this,h,o)),options:rh(f.options)}}visitGroup(f,o){const h=o.currentTime;let m=0;const E=f.steps.map(k=>{o.currentTime=h;const Q=pc(this,k,o);return m=Math.max(m,o.currentTime),Q});return o.currentTime=m,{type:3,steps:E,options:rh(f.options)}}visitAnimate(f,o){const h=function ay(l,f){if(l.hasOwnProperty("duration"))return l;if("number"==typeof l)return tf(ou(l,f).duration,0,"");const o=l;if(o.split(/\s+/).some(E=>"{"==E.charAt(0)&&"{"==E.charAt(1))){const E=tf(0,0,"");return E.dynamic=!0,E.strValue=o,E}const m=ou(o,f);return tf(m.duration,m.delay,m.easing)}(f.timings,o.errors);o.currentAnimateTimings=h;let m,E=f.styles?f.styles:Gr({});if(5==E.type)m=this.visitKeyframes(E,o);else{let k=f.styles,Q=!1;if(!k){Q=!0;const ge={};h.easing&&(ge.easing=h.easing),k=Gr(ge)}o.currentTime+=h.duration+h.delay;const le=this.visitStyle(k,o);le.isEmptyStep=Q,m=le}return o.currentAnimateTimings=null,{type:4,timings:h,style:m,options:null}}visitStyle(f,o){const h=this._makeStyleAst(f,o);return this._validateStyleAst(h,o),h}_makeStyleAst(f,o){const h=[],m=Array.isArray(f.styles)?f.styles:[f.styles];for(let Q of m)"string"==typeof Q?Q===Hi?h.push(Q):o.errors.push(new u.vHH(3002,!1)):h.push(Qh(Q));let E=!1,k=null;return h.forEach(Q=>{if(Q instanceof Map&&(Q.has("easing")&&(k=Q.get("easing"),Q.delete("easing")),!E))for(let le of Q.values())if(le.toString().indexOf("{{")>=0){E=!0;break}}),{type:6,styles:h,easing:k,offset:f.offset,containsDynamicStyles:E,options:null}}_validateStyleAst(f,o){const h=o.currentAnimateTimings;let m=o.currentTime,E=o.currentTime;h&&E>0&&(E-=h.duration+h.delay),f.styles.forEach(k=>{"string"!=typeof k&&k.forEach((Q,le)=>{const ge=o.collectedStyles.get(o.currentQuerySelector),Ie=ge.get(le);let tt=!0;Ie&&(E!=m&&E>=Ie.startTime&&m<=Ie.endTime&&(o.errors.push(function dm(l,f,o,h,m){return new u.vHH(3010,!1)}()),tt=!1),E=Ie.startTime),tt&&ge.set(le,{startTime:E,endTime:m}),o.options&&function Jh(l,f,o){const h=f.params||{},m=kp(l);m.length&&m.forEach(E=>{h.hasOwnProperty(E)||o.push(function Lb(l){return new u.vHH(3001,!1)}())})}(Q,o.options,o.errors)})})}visitKeyframes(f,o){const h={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function Ip(){return new u.vHH(3011,!1)}()),h;let E=0;const k=[];let Q=!1,le=!1,ge=0;const Ie=f.steps.map(qt=>{const Dn=this._makeStyleAst(qt,o);let Pn=null!=Dn.offset?Dn.offset:function za(l){if("string"==typeof l)return null;let f=null;if(Array.isArray(l))l.forEach(o=>{if(o instanceof Map&&o.has("offset")){const h=o;f=parseFloat(h.get("offset")),h.delete("offset")}});else if(l instanceof Map&&l.has("offset")){const o=l;f=parseFloat(o.get("offset")),o.delete("offset")}return f}(Dn.styles),Qt=0;return null!=Pn&&(E++,Qt=Dn.offset=Pn),le=le||Qt<0||Qt>1,Q=Q||Qt<ge,ge=Qt,k.push(Qt),Dn});le&&o.errors.push(function Ep(){return new u.vHH(3012,!1)}()),Q&&o.errors.push(function X_(){return new u.vHH(3200,!1)}());const tt=f.steps.length;let lt=0;E>0&&E<tt?o.errors.push(function Ol(){return new u.vHH(3202,!1)}()):0==E&&(lt=1/(tt-1));const rt=tt-1,Nt=o.currentTime,Ft=o.currentAnimateTimings,jt=Ft.duration;return Ie.forEach((qt,Dn)=>{const Pn=lt>0?Dn==rt?1:lt*Dn:k[Dn],Qt=Pn*jt;o.currentTime=Nt+Ft.delay+Qt,Ft.duration=Qt,this._validateStyleAst(qt,o),qt.offset=Pn,h.styles.push(qt)}),h}visitReference(f,o){return{type:8,animation:pc(this,ud(f.animation),o),options:rh(f.options)}}visitAnimateChild(f,o){return o.depCount++,{type:9,options:rh(f.options)}}visitAnimateRef(f,o){return{type:10,animation:this.visitReference(f.animation,o),options:rh(f.options)}}visitQuery(f,o){const h=o.currentQuerySelector,m=f.options||{};o.queryCount++,o.currentQuery=f;const[E,k]=function Up(l){const f=!!l.split(/\s*,\s*/).find(o=>":self"==o);return f&&(l=l.replace(sl,"")),l=l.replace(/@\*/g,eh).replace(/@\w+/g,o=>eh+"-"+o.slice(1)).replace(/:animating/g,rr),[l,f]}(f.selector);o.currentQuerySelector=h.length?h+" "+E:E,Io(o.collectedStyles,o.currentQuerySelector,new Map);const Q=pc(this,ud(f.animation),o);return o.currentQuery=null,o.currentQuerySelector=h,{type:11,selector:E,limit:m.limit||0,optional:!!m.optional,includeSelf:k,animation:Q,originalSelector:f.selector,options:rh(f.options)}}visitStagger(f,o){o.currentQuery||o.errors.push(function r0(){return new u.vHH(3013,!1)}());const h="full"===f.timings?{duration:0,delay:0,easing:"full"}:ou(f.timings,o.errors,!0);return{type:12,animation:pc(this,ud(f.animation),o),timings:h,options:null}}}class _0{constructor(f){this.errors=f,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function rh(l){return l?(l=xp(l)).params&&(l.params=function ym(l){return l?xp(l):null}(l.params)):l={},l}function tf(l,f,o){return{duration:l,delay:f,easing:o}}function cy(l,f,o,h,m,E,k=null,Q=!1){return{type:1,element:l,keyframes:f,preStyleProps:o,postStyleProps:h,duration:m,delay:E,totalTime:m+E,easing:k,subTimeline:Q}}class Hp{constructor(){this._map=new Map}get(f){return this._map.get(f)||[]}append(f,o){let h=this._map.get(f);h||this._map.set(f,h=[]),h.push(...o)}has(f){return this._map.has(f)}clear(){this._map.clear()}}const nf=new RegExp(":enter","g"),y0=new RegExp(":leave","g");function Vu(l,f,o,h,m,E=new Map,k=new Map,Q,le,ge=[]){return(new uy).buildKeyframes(l,f,o,h,m,E,k,Q,le,ge)}class uy{buildKeyframes(f,o,h,m,E,k,Q,le,ge,Ie=[]){ge=ge||new Hp;const tt=new uu(f,o,ge,m,E,Ie,[]);tt.options=le;const lt=le.delay?rl(le.delay):0;tt.currentTimeline.delayNextStep(lt),tt.currentTimeline.setStyles([k],null,tt.errors,le),pc(this,h,tt);const rt=tt.timelines.filter(Nt=>Nt.containsAnimation());if(rt.length&&Q.size){let Nt;for(let Ft=rt.length-1;Ft>=0;Ft--){const jt=rt[Ft];if(jt.element===o){Nt=jt;break}}Nt&&!Nt.allowOnlyTimelineStyles()&&Nt.setStyles([Q],null,tt.errors,le)}return rt.length?rt.map(Nt=>Nt.buildKeyframes()):[cy(o,[],[],[],0,lt,"",!1)]}visitTrigger(f,o){}visitState(f,o){}visitTransition(f,o){}visitAnimateChild(f,o){const h=o.subInstructions.get(o.element);if(h){const m=o.createSubContext(f.options),E=o.currentTimeline.currentTime,k=this._visitSubInstructions(h,m,m.options);E!=k&&o.transformIntoNewTimeline(k)}o.previousNode=f}visitAnimateRef(f,o){const h=o.createSubContext(f.options);h.transformIntoNewTimeline(),this._applyAnimationRefDelays([f.options,f.animation.options],o,h),this.visitReference(f.animation,h),o.transformIntoNewTimeline(h.currentTimeline.currentTime),o.previousNode=f}_applyAnimationRefDelays(f,o,h){for(const m of f){const E=m?.delay;if(E){const k="number"==typeof E?E:rl(Rl(E,m?.params??{},o.errors));h.delayNextStep(k)}}}_visitSubInstructions(f,o,h){let E=o.currentTimeline.currentTime;const k=null!=h.duration?rl(h.duration):null,Q=null!=h.delay?rl(h.delay):null;return 0!==k&&f.forEach(le=>{const ge=o.appendInstructionToTimeline(le,k,Q);E=Math.max(E,ge.duration+ge.delay)}),E}visitReference(f,o){o.updateOptions(f.options,!0),pc(this,f.animation,o),o.previousNode=f}visitSequence(f,o){const h=o.subContextCount;let m=o;const E=f.options;if(E&&(E.params||E.delay)&&(m=o.createSubContext(E),m.transformIntoNewTimeline(),null!=E.delay)){6==m.previousNode.type&&(m.currentTimeline.snapshotCurrentStyles(),m.previousNode=As);const k=rl(E.delay);m.delayNextStep(k)}f.steps.length&&(f.steps.forEach(k=>pc(this,k,m)),m.currentTimeline.applyStylesToKeyframe(),m.subContextCount>h&&m.transformIntoNewTimeline()),o.previousNode=f}visitGroup(f,o){const h=[];let m=o.currentTimeline.currentTime;const E=f.options&&f.options.delay?rl(f.options.delay):0;f.steps.forEach(k=>{const Q=o.createSubContext(f.options);E&&Q.delayNextStep(E),pc(this,k,Q),m=Math.max(m,Q.currentTimeline.currentTime),h.push(Q.currentTimeline)}),h.forEach(k=>o.currentTimeline.mergeTimelineCollectedStyles(k)),o.transformIntoNewTimeline(m),o.previousNode=f}_visitTiming(f,o){if(f.dynamic){const h=f.strValue;return ou(o.params?Rl(h,o.params,o.errors):h,o.errors)}return{duration:f.duration,delay:f.delay,easing:f.easing}}visitAnimate(f,o){const h=o.currentAnimateTimings=this._visitTiming(f.timings,o),m=o.currentTimeline;h.delay&&(o.incrementTime(h.delay),m.snapshotCurrentStyles());const E=f.style;5==E.type?this.visitKeyframes(E,o):(o.incrementTime(h.duration),this.visitStyle(E,o),m.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=f}visitStyle(f,o){const h=o.currentTimeline,m=o.currentAnimateTimings;!m&&h.hasCurrentStyleProperties()&&h.forwardFrame();const E=m&&m.easing||f.easing;f.isEmptyStep?h.applyEmptyStep(E):h.setStyles(f.styles,E,o.errors,o.options),o.previousNode=f}visitKeyframes(f,o){const h=o.currentAnimateTimings,m=o.currentTimeline.duration,E=h.duration,Q=o.createSubContext().currentTimeline;Q.easing=h.easing,f.styles.forEach(le=>{Q.forwardTime((le.offset||0)*E),Q.setStyles(le.styles,le.easing,o.errors,o.options),Q.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(Q),o.transformIntoNewTimeline(m+E),o.previousNode=f}visitQuery(f,o){const h=o.currentTimeline.currentTime,m=f.options||{},E=m.delay?rl(m.delay):0;E&&(6===o.previousNode.type||0==h&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=As);let k=h;const Q=o.invokeQuery(f.selector,f.originalSelector,f.limit,f.includeSelf,!!m.optional,o.errors);o.currentQueryTotal=Q.length;let le=null;Q.forEach((ge,Ie)=>{o.currentQueryIndex=Ie;const tt=o.createSubContext(f.options,ge);E&&tt.delayNextStep(E),ge===o.element&&(le=tt.currentTimeline),pc(this,f.animation,tt),tt.currentTimeline.applyStylesToKeyframe(),k=Math.max(k,tt.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(k),le&&(o.currentTimeline.mergeTimelineCollectedStyles(le),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=f}visitStagger(f,o){const h=o.parentContext,m=o.currentTimeline,E=f.timings,k=Math.abs(E.duration),Q=k*(o.currentQueryTotal-1);let le=k*o.currentQueryIndex;switch(E.duration<0?"reverse":E.easing){case"reverse":le=Q-le;break;case"full":le=h.currentStaggerTime}const Ie=o.currentTimeline;le&&Ie.delayNextStep(le);const tt=Ie.currentTime;pc(this,f.animation,o),o.previousNode=f,h.currentStaggerTime=m.currentTime-tt+(m.startTime-h.currentTimeline.startTime)}}const As={};class uu{constructor(f,o,h,m,E,k,Q,le){this._driver=f,this.element=o,this.subInstructions=h,this._enterClassName=m,this._leaveClassName=E,this.errors=k,this.timelines=Q,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=As,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=le||new Eo(this._driver,o,0),Q.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(f,o){if(!f)return;const h=f;let m=this.options;null!=h.duration&&(m.duration=rl(h.duration)),null!=h.delay&&(m.delay=rl(h.delay));const E=h.params;if(E){let k=m.params;k||(k=this.options.params={}),Object.keys(E).forEach(Q=>{(!o||!k.hasOwnProperty(Q))&&(k[Q]=Rl(E[Q],k,this.errors))})}}_copyOptions(){const f={};if(this.options){const o=this.options.params;if(o){const h=f.params={};Object.keys(o).forEach(m=>{h[m]=o[m]})}}return f}createSubContext(f=null,o,h){const m=o||this.element,E=new uu(this._driver,m,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(m,h||0));return E.previousNode=this.previousNode,E.currentAnimateTimings=this.currentAnimateTimings,E.options=this._copyOptions(),E.updateOptions(f),E.currentQueryIndex=this.currentQueryIndex,E.currentQueryTotal=this.currentQueryTotal,E.parentContext=this,this.subContextCount++,E}transformIntoNewTimeline(f){return this.previousNode=As,this.currentTimeline=this.currentTimeline.fork(this.element,f),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(f,o,h){const m={duration:o??f.duration,delay:this.currentTimeline.currentTime+(h??0)+f.delay,easing:""},E=new dy(this._driver,f.element,f.keyframes,f.preStyleProps,f.postStyleProps,m,f.stretchStartingKeyframe);return this.timelines.push(E),m}incrementTime(f){this.currentTimeline.forwardTime(this.currentTimeline.duration+f)}delayNextStep(f){f>0&&this.currentTimeline.delayNextStep(f)}invokeQuery(f,o,h,m,E,k){let Q=[];if(m&&Q.push(this.element),f.length>0){f=(f=f.replace(nf,"."+this._enterClassName)).replace(y0,"."+this._leaveClassName);let ge=this._driver.query(this.element,f,1!=h);0!==h&&(ge=h<0?ge.slice(ge.length+h,ge.length):ge.slice(0,h)),Q.push(...ge)}return!E&&0==Q.length&&k.push(function Bb(l){return new u.vHH(3014,!1)}()),Q}}class Eo{constructor(f,o,h,m){this._driver=f,this.element=o,this.startTime=h,this._elementTimelineStylesLookup=m,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(f){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+f),o&&this.snapshotCurrentStyles()):this.startTime+=f}fork(f,o){return this.applyStylesToKeyframe(),new Eo(this._driver,f,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(f){this.applyStylesToKeyframe(),this.duration=f,this._loadKeyframe()}_updateStyle(f,o){this._localTimelineStyles.set(f,o),this._globalTimelineStyles.set(f,o),this._styleSummary.set(f,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(f){f&&this._previousKeyframe.set("easing",f);for(let[o,h]of this._globalTimelineStyles)this._backFill.set(o,h||Hi),this._currentKeyframe.set(o,Hi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(f,o,h,m){o&&this._previousKeyframe.set("easing",o);const E=m&&m.params||{},k=function Rt(l,f){const o=new Map;let h;return l.forEach(m=>{if("*"===m){h=h||f.keys();for(let E of h)o.set(E,Hi)}else Rc(m,o)}),o}(f,this._globalTimelineStyles);for(let[Q,le]of k){const ge=Rl(le,E,h);this._pendingStyles.set(Q,ge),this._localTimelineStyles.has(Q)||this._backFill.set(Q,this._globalTimelineStyles.get(Q)??Hi),this._updateStyle(Q,ge)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((f,o)=>{this._currentKeyframe.set(o,f)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((f,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,f)}))}snapshotCurrentStyles(){for(let[f,o]of this._localTimelineStyles)this._pendingStyles.set(f,o),this._updateStyle(f,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const f=[];for(let o in this._currentKeyframe)f.push(o);return f}mergeTimelineCollectedStyles(f){f._styleSummary.forEach((o,h)=>{const m=this._styleSummary.get(h);(!m||o.time>m.time)&&this._updateStyle(h,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const f=new Set,o=new Set,h=1===this._keyframes.size&&0===this.duration;let m=[];this._keyframes.forEach((Q,le)=>{const ge=Rc(Q,new Map,this._backFill);ge.forEach((Ie,tt)=>{"!"===Ie?f.add(tt):Ie===Hi&&o.add(tt)}),h||ge.set("offset",le/this.duration),m.push(ge)});const E=f.size?Fp(f.values()):[],k=o.size?Fp(o.values()):[];if(h){const Q=m[0],le=new Map(Q);Q.set("offset",0),le.set("offset",1),m=[Q,le]}return cy(this.element,m,E,k,this.duration,this.startTime,this.easing,!1)}}class dy extends Eo{constructor(f,o,h,m,E,k,Q=!1){super(f,o,k.delay),this.keyframes=h,this.preStyleProps=m,this.postStyleProps=E,this._stretchStartingKeyframe=Q,this.timings={duration:k.duration,delay:k.delay,easing:k.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let f=this.keyframes,{delay:o,duration:h,easing:m}=this.timings;if(this._stretchStartingKeyframe&&o){const E=[],k=h+o,Q=o/k,le=Rc(f[0]);le.set("offset",0),E.push(le);const ge=Rc(f[0]);ge.set("offset",jb(Q)),E.push(ge);const Ie=f.length-1;for(let tt=1;tt<=Ie;tt++){let lt=Rc(f[tt]);const rt=lt.get("offset");lt.set("offset",jb((o+rt*h)/k)),E.push(lt)}h=k,o=0,m="",f=E}return cy(this.element,f,this.preStyleProps,this.postStyleProps,h,o,m,!0)}}function jb(l,f=3){const o=Math.pow(10,f-1);return Math.round(l*o)/o}class mc{}const dn=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Tn extends mc{normalizePropertyName(f,o){return Lp(f)}normalizeStyleValue(f,o,h,m){let E="";const k=h.toString().trim();if(dn.has(o)&&0!==h&&"0"!==h)if("number"==typeof h)E="px";else{const Q=h.match(/^[+-]?[\d\.]+([a-z]*)$/);Q&&0==Q[1].length&&m.push(function ma(l,f){return new u.vHH(3005,!1)}())}return k+E}}function b0(l,f,o,h,m,E,k,Q,le,ge,Ie,tt,lt){return{type:0,element:l,triggerName:f,isRemovalTransition:m,fromState:o,fromStyles:E,toState:h,toStyles:k,timelines:Q,queriedElements:le,preStyleProps:ge,postStyleProps:Ie,totalTime:tt,errors:lt}}const Wt={};class st{constructor(f,o,h){this._triggerName=f,this.ast=o,this._stateStyles=h}match(f,o,h,m){return function so(l,f,o,h,m){return l.some(E=>E(f,o,h,m))}(this.ast.matchers,f,o,h,m)}buildStyles(f,o,h){let m=this._stateStyles.get("*");return void 0!==f&&(m=this._stateStyles.get(f?.toString())||m),m?m.buildStyles(o,h):new Map}build(f,o,h,m,E,k,Q,le,ge,Ie){const tt=[],lt=this.ast.options&&this.ast.options.params||Wt,Nt=this.buildStyles(h,Q&&Q.params||Wt,tt),Ft=le&&le.params||Wt,jt=this.buildStyles(m,Ft,tt),qt=new Set,Dn=new Map,Pn=new Map,Qt="void"===m,dr={params:hy(Ft,lt),delay:this.ast.options?.delay},ir=Ie?[]:Vu(f,o,this.ast.animation,E,k,Nt,jt,dr,ge,tt);let zn=0;if(ir.forEach(Ri=>{zn=Math.max(Ri.duration+Ri.delay,zn)}),tt.length)return b0(o,this._triggerName,h,m,Qt,Nt,jt,[],[],Dn,Pn,zn,tt);ir.forEach(Ri=>{const er=Ri.element,Os=Io(Dn,er,new Set);Ri.preStyleProps.forEach(_r=>Os.add(_r));const Pi=Io(Pn,er,new Set);Ri.postStyleProps.forEach(_r=>Pi.add(_r)),er!==o&&qt.add(er)});const Hr=Fp(qt.values());return b0(o,this._triggerName,h,m,Qt,Nt,jt,ir,Hr,Dn,Pn,zn)}}function hy(l,f){const o=xp(f);for(const h in l)l.hasOwnProperty(h)&&null!=l[h]&&(o[h]=l[h]);return o}class $b{constructor(f,o,h){this.styles=f,this.defaultParams=o,this.normalizer=h}buildStyles(f,o){const h=new Map,m=xp(this.defaultParams);return Object.keys(f).forEach(E=>{const k=f[E];null!==k&&(m[E]=k)}),this.styles.styles.forEach(E=>{"string"!=typeof E&&E.forEach((k,Q)=>{k&&(k=Rl(k,m,o));const le=this.normalizer.normalizePropertyName(Q,o);k=this.normalizer.normalizeStyleValue(Q,le,k,o),h.set(Q,k)})}),h}}class w0{constructor(f,o,h){this.name=f,this.ast=o,this._normalizer=h,this.transitionFactories=[],this.states=new Map,o.states.forEach(m=>{this.states.set(m.name,new $b(m.style,m.options&&m.options.params||{},h))}),rf(this.states,"true","1"),rf(this.states,"false","0"),o.transitions.forEach(m=>{this.transitionFactories.push(new st(f,m,this.states))}),this.fallbackTransition=function I0(l,f,o){return new st(l,{type:1,animation:{type:2,steps:[],options:null},matchers:[(k,Q)=>!0],options:null,queryCount:0,depCount:0},f)}(f,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(f,o,h,m){return this.transitionFactories.find(k=>k.match(f,o,h,m))||null}matchStyles(f,o,h){return this.fallbackTransition.buildStyles(f,o,h)}}function rf(l,f,o){l.has(f)?l.has(o)||l.set(o,l.get(f)):l.has(o)&&l.set(f,l.get(o))}const E0=new Hp;class T0{constructor(f,o,h){this.bodyNode=f,this._driver=o,this._normalizer=h,this._animations=new Map,this._playersById=new Map,this.players=[]}register(f,o){const h=[],E=zs(this._driver,o,h,[]);if(h.length)throw function hm(l){return new u.vHH(3503,!1)}();this._animations.set(f,E)}_buildPlayer(f,o,h){const m=f.element,E=u0(this._normalizer,f.keyframes,o,h);return this._driver.animate(m,E,f.duration,f.delay,f.easing,[],!0)}create(f,o,h={}){const m=[],E=this._animations.get(f);let k;const Q=new Map;if(E?(k=Vu(this._driver,o,E,Ap,Np,new Map,new Map,h,E0,m),k.forEach(Ie=>{const tt=Io(Q,Ie.element,new Map);Ie.postStyleProps.forEach(lt=>tt.set(lt,null))})):(m.push(function Qd(){return new u.vHH(3300,!1)}()),k=[]),m.length)throw function a0(l){return new u.vHH(3504,!1)}();Q.forEach((Ie,tt)=>{Ie.forEach((lt,rt)=>{Ie.set(rt,this._driver.computeStyle(tt,rt,Hi))})});const ge=Mc(k.map(Ie=>{const tt=Q.get(Ie.element);return this._buildPlayer(Ie,new Map,tt)}));return this._playersById.set(f,ge),ge.onDestroy(()=>this.destroy(f)),this.players.push(ge),ge}destroy(f){const o=this._getPlayer(f);o.destroy(),this._playersById.delete(f);const h=this.players.indexOf(o);h>=0&&this.players.splice(h,1)}_getPlayer(f){const o=this._playersById.get(f);if(!o)throw function Vb(l){return new u.vHH(3301,!1)}();return o}listen(f,o,h,m){const E=Xd(o,"","","");return iy(this._getPlayer(f),h,E,m),()=>{}}command(f,o,h,m){if("register"==h)return void this.register(f,m[0]);if("create"==h)return void this.create(f,o,m[0]||{});const E=this._getPlayer(f);switch(h){case"play":E.play();break;case"pause":E.pause();break;case"reset":E.reset();break;case"restart":E.restart();break;case"finish":E.finish();break;case"init":E.init();break;case"setPosition":E.setPosition(parseFloat(m[0]));break;case"destroy":this.destroy(f)}}}const D0="ng-animate-queued",bm="ng-animate-disabled",ms=[],Mn={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Gp={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hr="__ng_removed";class fy{get params(){return this.options.params}constructor(f,o=""){this.namespaceId=o;const h=f&&f.hasOwnProperty("value");if(this.value=function wm(l){return l??null}(h?f.value:f),h){const E=xp(f);delete E.value,this.options=E}else this.options={};this.options.params||(this.options.params={})}absorbOptions(f){const o=f.params;if(o){const h=this.options.params;Object.keys(o).forEach(m=>{null==h[m]&&(h[m]=o[m])})}}}const Qi="void",Yt=new fy(Qi);class af{constructor(f,o,h){this.id=f,this.hostElement=o,this._engine=h,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+f,qa(o,this._hostClassName)}listen(f,o,h,m){if(!this._triggers.has(o))throw function ey(l,f){return new u.vHH(3302,!1)}();if(null==h||0==h.length)throw function c0(l){return new u.vHH(3303,!1)}();if(!function jp(l){return"start"==l||"done"==l}(h))throw function l0(l,f){return new u.vHH(3400,!1)}();const E=Io(this._elementListeners,f,[]),k={name:o,phase:h,callback:m};E.push(k);const Q=Io(this._engine.statesByElement,f,new Map);return Q.has(o)||(qa(f,Op),qa(f,Op+"-"+o),Q.set(o,Yt)),()=>{this._engine.afterFlush(()=>{const le=E.indexOf(k);le>=0&&E.splice(le,1),this._triggers.has(o)||Q.delete(o)})}}register(f,o){return!this._triggers.has(f)&&(this._triggers.set(f,o),!0)}_getTrigger(f){const o=this._triggers.get(f);if(!o)throw function ty(l){return new u.vHH(3401,!1)}();return o}trigger(f,o,h,m=!0){const E=this._getTrigger(o),k=new ol(this.id,o,f);let Q=this._engine.statesByElement.get(f);Q||(qa(f,Op),qa(f,Op+"-"+o),this._engine.statesByElement.set(f,Q=new Map));let le=Q.get(o);const ge=new fy(h,this.id);if(!(h&&h.hasOwnProperty("value"))&&le&&ge.absorbOptions(le.options),Q.set(o,ge),le||(le=Yt),ge.value!==Qi&&le.value===ge.value){if(!function qe(l,f){const o=Object.keys(l),h=Object.keys(f);if(o.length!=h.length)return!1;for(let m=0;m<o.length;m++){const E=o[m];if(!f.hasOwnProperty(E)||l[E]!==f[E])return!1}return!0}(le.params,ge.params)){const Ft=[],jt=E.matchStyles(le.value,le.params,Ft),qt=E.matchStyles(ge.value,ge.params,Ft);Ft.length?this._engine.reportError(Ft):this._engine.afterFlush(()=>{xl(f,jt),Pc(f,qt)})}return}const lt=Io(this._engine.playersByElement,f,[]);lt.forEach(Ft=>{Ft.namespaceId==this.id&&Ft.triggerName==o&&Ft.queued&&Ft.destroy()});let rt=E.matchTransition(le.value,ge.value,f,ge.params),Nt=!1;if(!rt){if(!m)return;rt=E.fallbackTransition,Nt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:o,transition:rt,fromState:le,toState:ge,player:k,isFallbackTransition:Nt}),Nt||(qa(f,D0),k.onStart(()=>{dd(f,D0)})),k.onDone(()=>{let Ft=this.players.indexOf(k);Ft>=0&&this.players.splice(Ft,1);const jt=this._engine.playersByElement.get(f);if(jt){let qt=jt.indexOf(k);qt>=0&&jt.splice(qt,1)}}),this.players.push(k),lt.push(k),k}deregister(f){this._triggers.delete(f),this._engine.statesByElement.forEach(o=>o.delete(f)),this._elementListeners.forEach((o,h)=>{this._elementListeners.set(h,o.filter(m=>m.name!=f))})}clearElementCache(f){this._engine.statesByElement.delete(f),this._elementListeners.delete(f);const o=this._engine.playersByElement.get(f);o&&(o.forEach(h=>h.destroy()),this._engine.playersByElement.delete(f))}_signalRemovalForInnerTriggers(f,o){const h=this._engine.driver.query(f,eh,!0);h.forEach(m=>{if(m[hr])return;const E=this._engine.fetchNamespacesByElement(m);E.size?E.forEach(k=>k.triggerLeaveAnimation(m,o,!1,!0)):this.clearElementCache(m)}),this._engine.afterFlushAnimationsDone(()=>h.forEach(m=>this.clearElementCache(m)))}triggerLeaveAnimation(f,o,h,m){const E=this._engine.statesByElement.get(f),k=new Map;if(E){const Q=[];if(E.forEach((le,ge)=>{if(k.set(ge,le.value),this._triggers.has(ge)){const Ie=this.trigger(f,ge,Qi,m);Ie&&Q.push(Ie)}}),Q.length)return this._engine.markElementAsRemoved(this.id,f,!0,o,k),h&&Mc(Q).onDone(()=>this._engine.processLeaveNode(f)),!0}return!1}prepareLeaveAnimationListeners(f){const o=this._elementListeners.get(f),h=this._engine.statesByElement.get(f);if(o&&h){const m=new Set;o.forEach(E=>{const k=E.name;if(m.has(k))return;m.add(k);const le=this._triggers.get(k).fallbackTransition,ge=h.get(k)||Yt,Ie=new fy(Qi),tt=new ol(this.id,k,f);this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:k,transition:le,fromState:ge,toState:Ie,player:tt,isFallbackTransition:!0})})}}removeNode(f,o){const h=this._engine;if(f.childElementCount&&this._signalRemovalForInnerTriggers(f,o),this.triggerLeaveAnimation(f,o,!0))return;let m=!1;if(h.totalAnimations){const E=h.players.length?h.playersByQueriedElement.get(f):[];if(E&&E.length)m=!0;else{let k=f;for(;k=k.parentNode;)if(h.statesByElement.get(k)){m=!0;break}}}if(this.prepareLeaveAnimationListeners(f),m)h.markElementAsRemoved(this.id,f,!1,o);else{const E=f[hr];(!E||E===Mn)&&(h.afterFlush(()=>this.clearElementCache(f)),h.destroyInnerAnimations(f),h._onRemovalComplete(f,o))}}insertNode(f,o){qa(f,this._hostClassName)}drainQueuedTransitions(f){const o=[];return this._queue.forEach(h=>{const m=h.player;if(m.destroyed)return;const E=h.element,k=this._elementListeners.get(E);k&&k.forEach(Q=>{if(Q.name==h.triggerName){const le=Xd(E,h.triggerName,h.fromState.value,h.toState.value);le._data=f,iy(h.player,Q.phase,le,Q.callback)}}),m.markedForDestroy?this._engine.afterFlush(()=>{m.destroy()}):o.push(h)}),this._queue=[],o.sort((h,m)=>{const E=h.transition.ast.depCount,k=m.transition.ast.depCount;return 0==E||0==k?E-k:this._engine.driver.containsElement(h.element,m.element)?1:-1})}destroy(f){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,f)}}class py{_onRemovalComplete(f,o){this.onRemovalComplete(f,o)}constructor(f,o,h){this.bodyNode=f,this.driver=o,this._normalizer=h,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(m,E)=>{}}get queuedPlayers(){const f=[];return this._namespaceList.forEach(o=>{o.players.forEach(h=>{h.queued&&f.push(h)})}),f}createNamespace(f,o){const h=new af(f,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(h,o):(this.newHostElements.set(o,h),this.collectEnterElement(o)),this._namespaceLookup[f]=h}_balanceNamespaceList(f,o){const h=this._namespaceList,m=this.namespacesByHostElement;if(h.length-1>=0){let k=!1,Q=this.driver.getParentElement(o);for(;Q;){const le=m.get(Q);if(le){const ge=h.indexOf(le);h.splice(ge+1,0,f),k=!0;break}Q=this.driver.getParentElement(Q)}k||h.unshift(f)}else h.push(f);return m.set(o,f),f}register(f,o){let h=this._namespaceLookup[f];return h||(h=this.createNamespace(f,o)),h}registerTrigger(f,o,h){let m=this._namespaceLookup[f];m&&m.register(o,h)&&this.totalAnimations++}destroy(f,o){f&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const h=this._fetchNamespace(f);this.namespacesByHostElement.delete(h.hostElement);const m=this._namespaceList.indexOf(h);m>=0&&this._namespaceList.splice(m,1),h.destroy(o),delete this._namespaceLookup[f]}))}_fetchNamespace(f){return this._namespaceLookup[f]}fetchNamespacesByElement(f){const o=new Set,h=this.statesByElement.get(f);if(h)for(let m of h.values())if(m.namespaceId){const E=this._fetchNamespace(m.namespaceId);E&&o.add(E)}return o}trigger(f,o,h,m){if(Im(o)){const E=this._fetchNamespace(f);if(E)return E.trigger(o,h,m),!0}return!1}insertNode(f,o,h,m){if(!Im(o))return;const E=o[hr];if(E&&E.setForRemoval){E.setForRemoval=!1,E.setForMove=!0;const k=this.collectedLeaveElements.indexOf(o);k>=0&&this.collectedLeaveElements.splice(k,1)}if(f){const k=this._fetchNamespace(f);k&&k.insertNode(o,h)}m&&this.collectEnterElement(o)}collectEnterElement(f){this.collectedEnterElements.push(f)}markElementAsDisabled(f,o){o?this.disabledNodes.has(f)||(this.disabledNodes.add(f),qa(f,bm)):this.disabledNodes.has(f)&&(this.disabledNodes.delete(f),dd(f,bm))}removeNode(f,o,h){if(Im(o)){const m=f?this._fetchNamespace(f):null;m?m.removeNode(o,h):this.markElementAsRemoved(f,o,!1,h);const E=this.namespacesByHostElement.get(o);E&&E.id!==f&&E.removeNode(o,h)}else this._onRemovalComplete(o,h)}markElementAsRemoved(f,o,h,m,E){this.collectedLeaveElements.push(o),o[hr]={namespaceId:f,setForRemoval:m,hasAnimation:h,removedBeforeQueried:!1,previousTriggersValues:E}}listen(f,o,h,m,E){return Im(o)?this._fetchNamespace(f).listen(o,h,m,E):()=>{}}_buildInstruction(f,o,h,m,E){return f.transition.build(this.driver,f.element,f.fromState.value,f.toState.value,h,m,f.fromState.options,f.toState.options,o,E)}destroyInnerAnimations(f){let o=this.driver.query(f,eh,!0);o.forEach(h=>this.destroyActiveAnimationsForElement(h)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(f,rr,!0),o.forEach(h=>this.finishActiveQueriedAnimationOnElement(h)))}destroyActiveAnimationsForElement(f){const o=this.playersByElement.get(f);o&&o.forEach(h=>{h.queued?h.markedForDestroy=!0:h.destroy()})}finishActiveQueriedAnimationOnElement(f){const o=this.playersByQueriedElement.get(f);o&&o.forEach(h=>h.finish())}whenRenderingDone(){return new Promise(f=>{if(this.players.length)return Mc(this.players).onDone(()=>f());f()})}processLeaveNode(f){const o=f[hr];if(o&&o.setForRemoval){if(f[hr]=Mn,o.namespaceId){this.destroyInnerAnimations(f);const h=this._fetchNamespace(o.namespaceId);h&&h.clearElementCache(f)}this._onRemovalComplete(f,o.setForRemoval)}f.classList?.contains(bm)&&this.markElementAsDisabled(f,!1),this.driver.query(f,".ng-animate-disabled",!0).forEach(h=>{this.markElementAsDisabled(h,!1)})}flush(f=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((h,m)=>this._balanceNamespaceList(h,m)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let h=0;h<this.collectedEnterElements.length;h++)qa(this.collectedEnterElements[h],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const h=[];try{o=this._flushAnimations(h,f)}finally{for(let m=0;m<h.length;m++)h[m]()}}else for(let h=0;h<this.collectedLeaveElements.length;h++)this.processLeaveNode(this.collectedLeaveElements[h]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(h=>h()),this._flushFns=[],this._whenQuietFns.length){const h=this._whenQuietFns;this._whenQuietFns=[],o.length?Mc(o).onDone(()=>{h.forEach(m=>m())}):h.forEach(m=>m())}}reportError(f){throw function ny(l){return new u.vHH(3402,!1)}()}_flushAnimations(f,o){const h=new Hp,m=[],E=new Map,k=[],Q=new Map,le=new Map,ge=new Map,Ie=new Set;this.disabledNodes.forEach(Jt=>{Ie.add(Jt);const gn=this.driver.query(Jt,".ng-animate-queued",!0);for(let Gn=0;Gn<gn.length;Gn++)Ie.add(gn[Gn])});const tt=this.bodyNode,lt=Array.from(this.statesByElement.keys()),rt=Wa(lt,this.collectedEnterElements),Nt=new Map;let Ft=0;rt.forEach((Jt,gn)=>{const Gn=Ap+Ft++;Nt.set(gn,Gn),Jt.forEach(sr=>qa(sr,Gn))});const jt=[],qt=new Set,Dn=new Set;for(let Jt=0;Jt<this.collectedLeaveElements.length;Jt++){const gn=this.collectedLeaveElements[Jt],Gn=gn[hr];Gn&&Gn.setForRemoval&&(jt.push(gn),qt.add(gn),Gn.hasAnimation?this.driver.query(gn,".ng-star-inserted",!0).forEach(sr=>qt.add(sr)):Dn.add(gn))}const Pn=new Map,Qt=Wa(lt,Array.from(qt));Qt.forEach((Jt,gn)=>{const Gn=Np+Ft++;Pn.set(gn,Gn),Jt.forEach(sr=>qa(sr,Gn))}),f.push(()=>{rt.forEach((Jt,gn)=>{const Gn=Nt.get(gn);Jt.forEach(sr=>dd(sr,Gn))}),Qt.forEach((Jt,gn)=>{const Gn=Pn.get(gn);Jt.forEach(sr=>dd(sr,Gn))}),jt.forEach(Jt=>{this.processLeaveNode(Jt)})});const dr=[],ir=[];for(let Jt=this._namespaceList.length-1;Jt>=0;Jt--)this._namespaceList[Jt].drainQueuedTransitions(o).forEach(Gn=>{const sr=Gn.player,pi=Gn.element;if(dr.push(sr),this.collectedEnterElements.length){const Fi=pi[hr];if(Fi&&Fi.setForMove){if(Fi.previousTriggersValues&&Fi.previousTriggersValues.has(Gn.triggerName)){const To=Fi.previousTriggersValues.get(Gn.triggerName),Ws=this.statesByElement.get(Gn.element);if(Ws&&Ws.has(Gn.triggerName)){const cl=Ws.get(Gn.triggerName);cl.value=To,Ws.set(Gn.triggerName,cl)}}return void sr.destroy()}}const zo=!tt||!this.driver.containsElement(tt,pi),ki=Pn.get(pi),_s=Nt.get(pi),Qr=this._buildInstruction(Gn,h,_s,ki,zo);if(Qr.errors&&Qr.errors.length)return void ir.push(Qr);if(zo)return sr.onStart(()=>xl(pi,Qr.fromStyles)),sr.onDestroy(()=>Pc(pi,Qr.toStyles)),void m.push(sr);if(Gn.isFallbackTransition)return sr.onStart(()=>xl(pi,Qr.fromStyles)),sr.onDestroy(()=>Pc(pi,Qr.toStyles)),void m.push(sr);const Wo=[];Qr.timelines.forEach(Fi=>{Fi.stretchStartingKeyframe=!0,this.disabledNodes.has(Fi.element)||Wo.push(Fi)}),Qr.timelines=Wo,h.append(pi,Qr.timelines),k.push({instruction:Qr,player:sr,element:pi}),Qr.queriedElements.forEach(Fi=>Io(Q,Fi,[]).push(sr)),Qr.preStyleProps.forEach((Fi,To)=>{if(Fi.size){let Ws=le.get(To);Ws||le.set(To,Ws=new Set),Fi.forEach((cl,ll)=>Ws.add(ll))}}),Qr.postStyleProps.forEach((Fi,To)=>{let Ws=ge.get(To);Ws||ge.set(To,Ws=new Set),Fi.forEach((cl,ll)=>Ws.add(ll))})});if(ir.length){const Jt=[];ir.forEach(gn=>{Jt.push(function Jd(l,f){return new u.vHH(3505,!1)}())}),dr.forEach(gn=>gn.destroy()),this.reportError(Jt)}const zn=new Map,Hr=new Map;k.forEach(Jt=>{const gn=Jt.element;h.has(gn)&&(Hr.set(gn,gn),this._beforeAnimationBuild(Jt.player.namespaceId,Jt.instruction,zn))}),m.forEach(Jt=>{const gn=Jt.element;this._getPreviousPlayers(gn,!1,Jt.namespaceId,Jt.triggerName,null).forEach(sr=>{Io(zn,gn,[]).push(sr),sr.destroy()})});const Ri=jt.filter(Jt=>Em(Jt,le,ge)),er=new Map;my(er,this.driver,Dn,ge,Hi).forEach(Jt=>{Em(Jt,le,ge)&&Ri.push(Jt)});const Pi=new Map;rt.forEach((Jt,gn)=>{my(Pi,this.driver,new Set(Jt),le,"!")}),Ri.forEach(Jt=>{const gn=er.get(Jt),Gn=Pi.get(Jt);er.set(Jt,new Map([...gn?.entries()??[],...Gn?.entries()??[]]))});const _r=[],$o=[],Fc={};k.forEach(Jt=>{const{element:gn,player:Gn,instruction:sr}=Jt;if(h.has(gn)){if(Ie.has(gn))return Gn.onDestroy(()=>Pc(gn,sr.toStyles)),Gn.disabled=!0,Gn.overrideTotalTime(sr.totalTime),void m.push(Gn);let pi=Fc;if(Hr.size>1){let ki=gn;const _s=[];for(;ki=ki.parentNode;){const Qr=Hr.get(ki);if(Qr){pi=Qr;break}_s.push(ki)}_s.forEach(Qr=>Hr.set(Qr,pi))}const zo=this._buildAnimation(Gn.namespaceId,sr,zn,E,Pi,er);if(Gn.setRealPlayer(zo),pi===Fc)_r.push(Gn);else{const ki=this.playersByElement.get(pi);ki&&ki.length&&(Gn.parentPlayer=Mc(ki)),m.push(Gn)}}else xl(gn,sr.fromStyles),Gn.onDestroy(()=>Pc(gn,sr.toStyles)),$o.push(Gn),Ie.has(gn)&&m.push(Gn)}),$o.forEach(Jt=>{const gn=E.get(Jt.element);if(gn&&gn.length){const Gn=Mc(gn);Jt.setRealPlayer(Gn)}}),m.forEach(Jt=>{Jt.parentPlayer?Jt.syncPlayerEvents(Jt.parentPlayer):Jt.destroy()});for(let Jt=0;Jt<jt.length;Jt++){const gn=jt[Jt],Gn=gn[hr];if(dd(gn,Np),Gn&&Gn.hasAnimation)continue;let sr=[];if(Q.size){let zo=Q.get(gn);zo&&zo.length&&sr.push(...zo);let ki=this.driver.query(gn,rr,!0);for(let _s=0;_s<ki.length;_s++){let Qr=Q.get(ki[_s]);Qr&&Qr.length&&sr.push(...Qr)}}const pi=sr.filter(zo=>!zo.destroyed);pi.length?Zb(this,gn,pi):this.processLeaveNode(gn)}return jt.length=0,_r.forEach(Jt=>{this.players.push(Jt),Jt.onDone(()=>{Jt.destroy();const gn=this.players.indexOf(Jt);this.players.splice(gn,1)}),Jt.play()}),_r}afterFlush(f){this._flushFns.push(f)}afterFlushAnimationsDone(f){this._whenQuietFns.push(f)}_getPreviousPlayers(f,o,h,m,E){let k=[];if(o){const Q=this.playersByQueriedElement.get(f);Q&&(k=Q)}else{const Q=this.playersByElement.get(f);if(Q){const le=!E||E==Qi;Q.forEach(ge=>{ge.queued||!le&&ge.triggerName!=m||k.push(ge)})}}return(h||m)&&(k=k.filter(Q=>!(h&&h!=Q.namespaceId||m&&m!=Q.triggerName))),k}_beforeAnimationBuild(f,o,h){const E=o.element,k=o.isRemovalTransition?void 0:f,Q=o.isRemovalTransition?void 0:o.triggerName;for(const le of o.timelines){const ge=le.element,Ie=ge!==E,tt=Io(h,ge,[]);this._getPreviousPlayers(ge,Ie,k,Q,o.toState).forEach(rt=>{const Nt=rt.getRealPlayer();Nt.beforeDestroy&&Nt.beforeDestroy(),rt.destroy(),tt.push(rt)})}xl(E,o.fromStyles)}_buildAnimation(f,o,h,m,E,k){const Q=o.triggerName,le=o.element,ge=[],Ie=new Set,tt=new Set,lt=o.timelines.map(Nt=>{const Ft=Nt.element;Ie.add(Ft);const jt=Ft[hr];if(jt&&jt.removedBeforeQueried)return new Gi(Nt.duration,Nt.delay);const qt=Ft!==le,Dn=function ih(l){const f=[];return $p(l,f),f}((h.get(Ft)||ms).map(zn=>zn.getRealPlayer())).filter(zn=>!!zn.element&&zn.element===Ft),Pn=E.get(Ft),Qt=k.get(Ft),dr=u0(this._normalizer,Nt.keyframes,Pn,Qt),ir=this._buildPlayer(Nt,dr,Dn);if(Nt.subTimeline&&m&&tt.add(Ft),qt){const zn=new ol(f,Q,Ft);zn.setRealPlayer(ir),ge.push(zn)}return ir});ge.forEach(Nt=>{Io(this.playersByQueriedElement,Nt.element,[]).push(Nt),Nt.onDone(()=>function qb(l,f,o){let h=l.get(f);if(h){if(h.length){const m=h.indexOf(o);h.splice(m,1)}0==h.length&&l.delete(f)}return h}(this.playersByQueriedElement,Nt.element,Nt))}),Ie.forEach(Nt=>qa(Nt,th));const rt=Mc(lt);return rt.onDestroy(()=>{Ie.forEach(Nt=>dd(Nt,th)),Pc(le,o.toStyles)}),tt.forEach(Nt=>{Io(m,Nt,[]).push(rt)}),rt}_buildPlayer(f,o,h){return o.length>0?this.driver.animate(f.element,o,f.duration,f.delay,f.easing,h):new Gi(f.duration,f.delay)}}class ol{constructor(f,o,h){this.namespaceId=f,this.triggerName=o,this.element=h,this._player=new Gi,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(f){this._containsRealPlayer||(this._player=f,this._queuedCallbacks.forEach((o,h)=>{o.forEach(m=>iy(f,h,void 0,m))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(f.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(f){this.totalTime=f}syncPlayerEvents(f){const o=this._player;o.triggerCallback&&f.onStart(()=>o.triggerCallback("start")),f.onDone(()=>this.finish()),f.onDestroy(()=>this.destroy())}_queueEvent(f,o){Io(this._queuedCallbacks,f,[]).push(o)}onDone(f){this.queued&&this._queueEvent("done",f),this._player.onDone(f)}onStart(f){this.queued&&this._queueEvent("start",f),this._player.onStart(f)}onDestroy(f){this.queued&&this._queueEvent("destroy",f),this._player.onDestroy(f)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(f){this.queued||this._player.setPosition(f)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(f){const o=this._player;o.triggerCallback&&o.triggerCallback(f)}}function Im(l){return l&&1===l.nodeType}function gy(l,f){const o=l.style.display;return l.style.display=f??"none",o}function my(l,f,o,h,m){const E=[];o.forEach(le=>E.push(gy(le)));const k=[];h.forEach((le,ge)=>{const Ie=new Map;le.forEach(tt=>{const lt=f.computeStyle(ge,tt,m);Ie.set(tt,lt),(!lt||0==lt.length)&&(ge[hr]=Gp,k.push(ge))}),l.set(ge,Ie)});let Q=0;return o.forEach(le=>gy(le,E[Q++])),k}function Wa(l,f){const o=new Map;if(l.forEach(Q=>o.set(Q,[])),0==f.length)return o;const m=new Set(f),E=new Map;function k(Q){if(!Q)return 1;let le=E.get(Q);if(le)return le;const ge=Q.parentNode;return le=o.has(ge)?ge:m.has(ge)?1:k(ge),E.set(Q,le),le}return f.forEach(Q=>{const le=k(Q);1!==le&&o.get(le).push(Q)}),o}function qa(l,f){l.classList?.add(f)}function dd(l,f){l.classList?.remove(f)}function Zb(l,f,o){Mc(o).onDone(()=>l.processLeaveNode(f))}function $p(l,f){for(let o=0;o<l.length;o++){const h=l[o];h instanceof xs?$p(h.players,f):f.push(h)}}function Em(l,f,o){const h=o.get(l);if(!h)return!1;let m=f.get(l);return m?h.forEach(E=>m.add(E)):f.set(l,h),o.delete(l),!0}class _a{constructor(f,o,h){this.bodyNode=f,this._driver=o,this._normalizer=h,this._triggerCache={},this.onRemovalComplete=(m,E)=>{},this._transitionEngine=new py(f,o,h),this._timelineEngine=new T0(f,o,h),this._transitionEngine.onRemovalComplete=(m,E)=>this.onRemovalComplete(m,E)}registerTrigger(f,o,h,m,E){const k=f+"-"+m;let Q=this._triggerCache[k];if(!Q){const le=[],Ie=zs(this._driver,E,le,[]);if(le.length)throw function s0(l,f){return new u.vHH(3404,!1)}();Q=function zb(l,f,o){return new w0(l,f,o)}(m,Ie,this._normalizer),this._triggerCache[k]=Q}this._transitionEngine.registerTrigger(o,m,Q)}register(f,o){this._transitionEngine.register(f,o)}destroy(f,o){this._transitionEngine.destroy(f,o)}onInsert(f,o,h,m){this._transitionEngine.insertNode(f,o,h,m)}onRemove(f,o,h){this._transitionEngine.removeNode(f,o,h)}disableAnimations(f,o){this._transitionEngine.markElementAsDisabled(f,o)}process(f,o,h,m){if("@"==h.charAt(0)){const[E,k]=Lu(h);this._timelineEngine.command(E,o,k,m)}else this._transitionEngine.trigger(f,o,h,m)}listen(f,o,h,m,E){if("@"==h.charAt(0)){const[k,Q]=Lu(h);return this._timelineEngine.listen(k,o,Q,E)}return this._transitionEngine.listen(f,o,h,m,E)}flush(f=-1){this._transitionEngine.flush(f)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(f){this._transitionEngine.afterFlushAnimationsDone(f)}}let zp=(()=>{class l{static#e=this.initialStylesByElement=new WeakMap;constructor(o,h,m){this._element=o,this._startStyles=h,this._endStyles=m,this._state=0;let E=l.initialStylesByElement.get(o);E||l.initialStylesByElement.set(o,E=new Map),this._initialStyles=E}start(){this._state<1&&(this._startStyles&&Pc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Pc(this._element,this._initialStyles),this._endStyles&&(Pc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(l.initialStylesByElement.delete(this._element),this._startStyles&&(xl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(xl(this._element,this._endStyles),this._endStyles=null),Pc(this._element,this._initialStyles),this._state=3)}}return l})();function al(l){let f=null;return l.forEach((o,h)=>{(function Yb(l){return"display"===l||"position"===l})(h)&&(f=f||new Map,f.set(h,o))}),f}class ya{constructor(f,o,h,m){this.element=f,this.keyframes=o,this.options=h,this._specialStyles=m,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=h.duration,this._delay=h.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const f=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,f,this.options),this._finalKeyframe=f.length?f[f.length-1]:new Map;const o=()=>this._onFinish();this.domPlayer.addEventListener("finish",o),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",o)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(f){const o=[];return f.forEach(h=>{o.push(Object.fromEntries(h))}),o}_triggerWebAnimation(f,o,h){return f.animate(this._convertKeyframesToObject(o),h)}onStart(f){this._originalOnStartFns.push(f),this._onStartFns.push(f)}onDone(f){this._originalOnDoneFns.push(f),this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(f=>f()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}setPosition(f){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=f*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const f=new Map;this.hasStarted()&&this._finalKeyframe.forEach((h,m)=>{"offset"!==m&&f.set(m,this._finished?h:gm(this.element,m))}),this.currentSnapshot=f}triggerCallback(f){const o="start"===f?this._onStartFns:this._onDoneFns;o.forEach(h=>h()),o.length=0}}class cf{validateStyleProperty(f){return!0}validateAnimatableStyleProperty(f){return!0}matchesElement(f,o){return!1}containsElement(f,o){return Hb(f,o)}getParentElement(f){return Dp(f)}query(f,o,h){return f0(f,o,h)}computeStyle(f,o,h){return window.getComputedStyle(f)[o]}animate(f,o,h,m,E,k=[]){const le={duration:h,delay:m,fill:0==m?"both":"forwards"};E&&(le.easing=E);const ge=new Map,Ie=k.filter(rt=>rt instanceof ya);(function pm(l,f){return 0===l||0===f})(h,m)&&Ie.forEach(rt=>{rt.currentSnapshot.forEach((Nt,Ft)=>ge.set(Ft,Nt))});let tt=function au(l){return l.length?l[0]instanceof Map?l:l.map(f=>Qh(f)):[]}(o).map(rt=>Rc(rt));tt=function kc(l,f,o){if(o.size&&f.length){let h=f[0],m=[];if(o.forEach((E,k)=>{h.has(k)||m.push(k),h.set(k,E)}),m.length)for(let E=1;E<f.length;E++){let k=f[E];m.forEach(Q=>k.set(Q,gm(l,Q)))}}return f}(f,tt,ge);const lt=function Kb(l,f){let o=null,h=null;return Array.isArray(f)&&f.length?(o=al(f[0]),f.length>1&&(h=al(f[f.length-1]))):f instanceof Map&&(o=al(f)),o||h?new zp(l,o,h):null}(f,tt);return new ya(f,tt,le,lt)}}let jo=(()=>{class l extends tr{constructor(o,h){super(),this._nextAnimationId=0,this._renderer=o.createRenderer(h.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(o){const h=this._nextAnimationId.toString();this._nextAnimationId++;const m=Array.isArray(o)?Pa(o):o;return Ji(this._renderer,null,h,"register",[m]),new sh(h,this._renderer)}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(u.FYo),u.LFG(Se.K0))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac})}return l})();class sh extends qs{constructor(f,o){super(),this._id=f,this._renderer=o}create(f,o){return new Tm(this._id,f,o||{},this._renderer)}}class Tm{constructor(f,o,h,m){this.id=f,this.element=o,this._renderer=m,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",h)}_listen(f,o){return this._renderer.listen(this.element,`@@${this.id}:${f}`,o)}_command(f,...o){return Ji(this._renderer,this.element,this.id,f,o)}onDone(f){this._listen("done",f)}onStart(f){this._listen("start",f)}onDestroy(f){this._listen("destroy",f)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(f){this._command("setPosition",f)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Ji(l,f,o,h,m){return l.setProperty(f,`@@${o}:${h}`,m)}const Pl="@.disabled";let oh=(()=>{class l{constructor(o,h,m){this.delegate=o,this.engine=h,this._zone=m,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,h.onRemovalComplete=(E,k)=>{const Q=k?.parentNode(E);Q&&k.removeChild(Q,E)}}createRenderer(o,h){const E=this.delegate.createRenderer(o,h);if(!(o&&h&&h.data&&h.data.animation)){let Ie=this._rendererCache.get(E);return Ie||(Ie=new Ns("",E,this.engine,()=>this._rendererCache.delete(E)),this._rendererCache.set(E,Ie)),Ie}const k=h.id,Q=h.id+"-"+this._currentId;this._currentId++,this.engine.register(Q,o);const le=Ie=>{Array.isArray(Ie)?Ie.forEach(le):this.engine.registerTrigger(k,Q,o,Ie.name,Ie)};return h.data.animation.forEach(le),new lf(this,Q,E,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(o,h,m){o>=0&&o<this._microtaskId?this._zone.run(()=>h(m)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(E=>{const[k,Q]=E;k(Q)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([h,m]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(u.FYo),u.LFG(_a),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac})}return l})();class Ns{constructor(f,o,h,m){this.namespaceId=f,this.delegate=o,this.engine=h,this._onDestroy=m}get data(){return this.delegate.data}destroyNode(f){this.delegate.destroyNode?.(f)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(f,o){return this.delegate.createElement(f,o)}createComment(f){return this.delegate.createComment(f)}createText(f){return this.delegate.createText(f)}appendChild(f,o){this.delegate.appendChild(f,o),this.engine.onInsert(this.namespaceId,o,f,!1)}insertBefore(f,o,h,m=!0){this.delegate.insertBefore(f,o,h),this.engine.onInsert(this.namespaceId,o,f,m)}removeChild(f,o,h){this.engine.onRemove(this.namespaceId,o,this.delegate)}selectRootElement(f,o){return this.delegate.selectRootElement(f,o)}parentNode(f){return this.delegate.parentNode(f)}nextSibling(f){return this.delegate.nextSibling(f)}setAttribute(f,o,h,m){this.delegate.setAttribute(f,o,h,m)}removeAttribute(f,o,h){this.delegate.removeAttribute(f,o,h)}addClass(f,o){this.delegate.addClass(f,o)}removeClass(f,o){this.delegate.removeClass(f,o)}setStyle(f,o,h,m){this.delegate.setStyle(f,o,h,m)}removeStyle(f,o,h){this.delegate.removeStyle(f,o,h)}setProperty(f,o,h){"@"==o.charAt(0)&&o==Pl?this.disableAnimations(f,!!h):this.delegate.setProperty(f,o,h)}setValue(f,o){this.delegate.setValue(f,o)}listen(f,o,h){return this.delegate.listen(f,o,h)}disableAnimations(f,o){this.engine.disableAnimations(f,o)}}class lf extends Ns{constructor(f,o,h,m,E){super(o,h,m,E),this.factory=f,this.namespaceId=o}setProperty(f,o,h){"@"==o.charAt(0)?"."==o.charAt(1)&&o==Pl?this.disableAnimations(f,h=void 0===h||!!h):this.engine.process(this.namespaceId,f,o.slice(1),h):this.delegate.setProperty(f,o,h)}listen(f,o,h){if("@"==o.charAt(0)){const m=function ah(l){switch(l){case"body":return document.body;case"document":return document;case"window":return window;default:return l}}(f);let E=o.slice(1),k="";return"@"!=E.charAt(0)&&([E,k]=function Za(l){const f=l.indexOf(".");return[l.substring(0,f),l.slice(f+1)]}(E)),this.engine.listen(this.namespaceId,m,E,k,Q=>{this.factory.scheduleListenerCallback(Q._data||-1,h,Q)})}return this.delegate.listen(f,o,h)}}const _y=[{provide:tr,useClass:jo},{provide:mc,useFactory:function Uu(){return new Tn}},{provide:_a,useClass:(()=>{class l extends _a{constructor(o,h,m,E){super(o.body,h,m)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(Se.K0),u.LFG(Cp),u.LFG(mc),u.LFG(u.z2F))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac})}return l})()},{provide:u.FYo,useFactory:function lh(l,f,o){return new oh(l,f,o)},deps:[b.se,_a,u.R0b]}],Dm=[{provide:Cp,useFactory:()=>new cf},{provide:u.QbO,useValue:"BrowserAnimations"},..._y],yy=[{provide:Cp,useClass:p0},{provide:u.QbO,useValue:"NoopAnimations"},..._y];let S0=(()=>{class l{static withConfig(o){return{ngModule:l,providers:o.disableAnimations?yy:Dm}}static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({providers:Dm,imports:[b.b2]})}return l})(),A0=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l,bootstrap:[Ps]});static#n=this.\u0275inj=u.cJS({imports:[b.b2,Kt,Wh.r,S0,(0,ks.hX)(()=>(0,ks.ZF)(bs.N.firebaseConfig)),(0,Ut.Cm)(()=>(0,Ut.ad)()),hl,um]})}return l})();b.q6().bootstrapModule(A0).catch(l=>console.error(l))},5619:(Vt,Ge,K)=>{K.d(Ge,{X:()=>re});var b=K(8645);class re extends b.x{constructor(be){super(),this._value=be}get value(){return this.getValue()}_subscribe(be){const ue=super._subscribe(be);return!ue.closed&&be.next(this._value),ue}getValue(){const{hasError:be,thrownError:ue,_value:fe}=this;if(be)throw ue;return this._throwIfClosed(),fe}next(be){super.next(this._value=be)}}},5592:(Vt,Ge,K)=>{K.d(Ge,{y:()=>Qe});var b=K(305),re=K(7394),u=K(4850),be=K(8407),ue=K(2653),fe=K(4674),Ee=K(1441);let Qe=(()=>{class Me{constructor(Oe){Oe&&(this._subscribe=Oe)}lift(Oe){const Ye=new Me;return Ye.source=this,Ye.operator=Oe,Ye}subscribe(Oe,Ye,Tt){const kt=function de(Me){return Me&&Me instanceof b.Lv||function ce(Me){return Me&&(0,fe.m)(Me.next)&&(0,fe.m)(Me.error)&&(0,fe.m)(Me.complete)}(Me)&&(0,re.Nn)(Me)}(Oe)?Oe:new b.Hp(Oe,Ye,Tt);return(0,Ee.x)(()=>{const{operator:Ot,source:Cn}=this;kt.add(Ot?Ot.call(kt,Cn):Cn?this._subscribe(kt):this._trySubscribe(kt))}),kt}_trySubscribe(Oe){try{return this._subscribe(Oe)}catch(Ye){Oe.error(Ye)}}forEach(Oe,Ye){return new(Ye=Re(Ye))((Tt,kt)=>{const Ot=new b.Hp({next:Cn=>{try{Oe(Cn)}catch(Mt){kt(Mt),Ot.unsubscribe()}},error:kt,complete:Tt});this.subscribe(Ot)})}_subscribe(Oe){var Ye;return null===(Ye=this.source)||void 0===Ye?void 0:Ye.subscribe(Oe)}[u.L](){return this}pipe(...Oe){return(0,be.U)(Oe)(this)}toPromise(Oe){return new(Oe=Re(Oe))((Ye,Tt)=>{let kt;this.subscribe(Ot=>kt=Ot,Ot=>Tt(Ot),()=>Ye(kt))})}}return Me.create=Se=>new Me(Se),Me})();function Re(Me){var Se;return null!==(Se=Me??ue.config.Promise)&&void 0!==Se?Se:Promise}},8645:(Vt,Ge,K)=>{K.d(Ge,{x:()=>Ee});var b=K(5592),re=K(7394);const be=(0,K(2306).d)(Re=>function(){Re(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=K(9039),fe=K(1441);let Ee=(()=>{class Re extends b.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const Me=new Qe(this,this);return Me.operator=de,Me}_throwIfClosed(){if(this.closed)throw new be}next(de){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Me of this.currentObservers)Me.next(de)}})}error(de){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:Me}=this;for(;Me.length;)Me.shift().error(de)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:Me,isStopped:Se,observers:Oe}=this;return Me||Se?re.Lc:(this.currentObservers=null,Oe.push(de),new re.w0(()=>{this.currentObservers=null,(0,ue.P)(Oe,de)}))}_checkFinalizedStatuses(de){const{hasError:Me,thrownError:Se,isStopped:Oe}=this;Me?de.error(Se):Oe&&de.complete()}asObservable(){const de=new b.y;return de.source=this,de}}return Re.create=(ce,de)=>new Qe(ce,de),Re})();class Qe extends Ee{constructor(ce,de){super(),this.destination=ce,this.source=de}next(ce){var de,Me;null===(Me=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===Me||Me.call(de,ce)}error(ce){var de,Me;null===(Me=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===Me||Me.call(de,ce)}complete(){var ce,de;null===(de=null===(ce=this.destination)||void 0===ce?void 0:ce.complete)||void 0===de||de.call(ce)}_subscribe(ce){var de,Me;return null!==(Me=null===(de=this.source)||void 0===de?void 0:de.subscribe(ce))&&void 0!==Me?Me:re.Lc}}},305:(Vt,Ge,K)=>{K.d(Ge,{Hp:()=>Tt,Lv:()=>Me});var b=K(4674),re=K(7394),u=K(2653),be=K(3894),ue=K(2420);const fe=Re("C",void 0,void 0);function Re(ft,ot,yt){return{kind:ft,value:ot,error:yt}}var ce=K(7599),de=K(1441);class Me extends re.w0{constructor(ot){super(),this.isStopped=!1,ot?(this.destination=ot,(0,re.Nn)(ot)&&ot.add(this)):this.destination=Mt}static create(ot,yt,_t){return new Tt(ot,yt,_t)}next(ot){this.isStopped?Cn(function Qe(ft){return Re("N",ft,void 0)}(ot),this):this._next(ot)}error(ot){this.isStopped?Cn(function Ee(ft){return Re("E",void 0,ft)}(ot),this):(this.isStopped=!0,this._error(ot))}complete(){this.isStopped?Cn(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ot){this.destination.next(ot)}_error(ot){try{this.destination.error(ot)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Se=Function.prototype.bind;function Oe(ft,ot){return Se.call(ft,ot)}class Ye{constructor(ot){this.partialObserver=ot}next(ot){const{partialObserver:yt}=this;if(yt.next)try{yt.next(ot)}catch(_t){kt(_t)}}error(ot){const{partialObserver:yt}=this;if(yt.error)try{yt.error(ot)}catch(_t){kt(_t)}else kt(ot)}complete(){const{partialObserver:ot}=this;if(ot.complete)try{ot.complete()}catch(yt){kt(yt)}}}class Tt extends Me{constructor(ot,yt,_t){let je;if(super(),(0,b.m)(ot)||!ot)je={next:ot??void 0,error:yt??void 0,complete:_t??void 0};else{let ve;this&&u.config.useDeprecatedNextContext?(ve=Object.create(ot),ve.unsubscribe=()=>this.unsubscribe(),je={next:ot.next&&Oe(ot.next,ve),error:ot.error&&Oe(ot.error,ve),complete:ot.complete&&Oe(ot.complete,ve)}):je=ot}this.destination=new Ye(je)}}function kt(ft){u.config.useDeprecatedSynchronousErrorHandling?(0,de.O)(ft):(0,be.h)(ft)}function Cn(ft,ot){const{onStoppedNotification:yt}=u.config;yt&&ce.z.setTimeout(()=>yt(ft,ot))}const Mt={closed:!0,next:ue.Z,error:function Ot(ft){throw ft},complete:ue.Z}},7394:(Vt,Ge,K)=>{K.d(Ge,{Lc:()=>fe,w0:()=>ue,Nn:()=>Ee});var b=K(4674);const u=(0,K(2306).d)(Re=>function(de){Re(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((Me,Se)=>`${Se+1}) ${Me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var be=K(9039);class ue{constructor(ce){this.initialTeardown=ce,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ce;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const Oe of de)Oe.remove(this);else de.remove(this);const{initialTeardown:Me}=this;if((0,b.m)(Me))try{Me()}catch(Oe){ce=Oe instanceof u?Oe.errors:[Oe]}const{_finalizers:Se}=this;if(Se){this._finalizers=null;for(const Oe of Se)try{Qe(Oe)}catch(Ye){ce=ce??[],Ye instanceof u?ce=[...ce,...Ye.errors]:ce.push(Ye)}}if(ce)throw new u(ce)}}add(ce){var de;if(ce&&ce!==this)if(this.closed)Qe(ce);else{if(ce instanceof ue){if(ce.closed||ce._hasParent(this))return;ce._addParent(this)}(this._finalizers=null!==(de=this._finalizers)&&void 0!==de?de:[]).push(ce)}}_hasParent(ce){const{_parentage:de}=this;return de===ce||Array.isArray(de)&&de.includes(ce)}_addParent(ce){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(ce),de):de?[de,ce]:ce}_removeParent(ce){const{_parentage:de}=this;de===ce?this._parentage=null:Array.isArray(de)&&(0,be.P)(de,ce)}remove(ce){const{_finalizers:de}=this;de&&(0,be.P)(de,ce),ce instanceof ue&&ce._removeParent(this)}}ue.EMPTY=(()=>{const Re=new ue;return Re.closed=!0,Re})();const fe=ue.EMPTY;function Ee(Re){return Re instanceof ue||Re&&"closed"in Re&&(0,b.m)(Re.remove)&&(0,b.m)(Re.add)&&(0,b.m)(Re.unsubscribe)}function Qe(Re){(0,b.m)(Re)?Re():Re.unsubscribe()}},2653:(Vt,Ge,K)=>{K.d(Ge,{config:()=>b});const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:(Vt,Ge,K)=>{K.d(Ge,{z:()=>ue});var b=K(7537),u=K(9940),be=K(2459);function ue(...fe){return function re(){return(0,b.J)(1)}()((0,be.D)(fe,(0,u.yG)(fe)))}},6232:(Vt,Ge,K)=>{K.d(Ge,{E:()=>re});const re=new(K(5592).y)(ue=>ue.complete())},2459:(Vt,Ge,K)=>{K.d(Ge,{D:()=>ot});var b=K(4829),re=K(3093),u=K(5137),fe=K(5592),Qe=K(4971),Re=K(4674),ce=K(7103);function Me(yt,_t){if(!yt)throw new Error("Iterable cannot be null");return new fe.y(je=>{(0,ce.f)(je,_t,()=>{const ve=yt[Symbol.asyncIterator]();(0,ce.f)(je,_t,()=>{ve.next().then(Je=>{Je.done?je.complete():je.next(Je.value)})},0,!0)})})}var Se=K(8382),Oe=K(4026),Ye=K(4266),Tt=K(3664),kt=K(5726),Ot=K(9853),Cn=K(541);function ot(yt,_t){return _t?function ft(yt,_t){if(null!=yt){if((0,Se.c)(yt))return function be(yt,_t){return(0,b.Xf)(yt).pipe((0,u.R)(_t),(0,re.Q)(_t))}(yt,_t);if((0,Ye.z)(yt))return function Ee(yt,_t){return new fe.y(je=>{let ve=0;return _t.schedule(function(){ve===yt.length?je.complete():(je.next(yt[ve++]),je.closed||this.schedule())})})}(yt,_t);if((0,Oe.t)(yt))return function ue(yt,_t){return(0,b.Xf)(yt).pipe((0,u.R)(_t),(0,re.Q)(_t))}(yt,_t);if((0,kt.D)(yt))return Me(yt,_t);if((0,Tt.T)(yt))return function de(yt,_t){return new fe.y(je=>{let ve;return(0,ce.f)(je,_t,()=>{ve=yt[Qe.h](),(0,ce.f)(je,_t,()=>{let Je,mt;try{({value:Je,done:mt}=ve.next())}catch(kn){return void je.error(kn)}mt?je.complete():je.next(Je)},0,!0)}),()=>(0,Re.m)(ve?.return)&&ve.return()})}(yt,_t);if((0,Cn.L)(yt))return function Mt(yt,_t){return Me((0,Cn.Q)(yt),_t)}(yt,_t)}throw(0,Ot.z)(yt)}(yt,_t):(0,b.Xf)(yt)}},4829:(Vt,Ge,K)=>{K.d(Ge,{Xf:()=>Se});var b=K(7582),re=K(4266),u=K(4026),be=K(5592),ue=K(8382),fe=K(5726),Ee=K(9853),Qe=K(3664),Re=K(541),ce=K(4674),de=K(3894),Me=K(4850);function Se(ft){if(ft instanceof be.y)return ft;if(null!=ft){if((0,ue.c)(ft))return function Oe(ft){return new be.y(ot=>{const yt=ft[Me.L]();if((0,ce.m)(yt.subscribe))return yt.subscribe(ot);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ft);if((0,re.z)(ft))return function Ye(ft){return new be.y(ot=>{for(let yt=0;yt<ft.length&&!ot.closed;yt++)ot.next(ft[yt]);ot.complete()})}(ft);if((0,u.t)(ft))return function Tt(ft){return new be.y(ot=>{ft.then(yt=>{ot.closed||(ot.next(yt),ot.complete())},yt=>ot.error(yt)).then(null,de.h)})}(ft);if((0,fe.D)(ft))return Ot(ft);if((0,Qe.T)(ft))return function kt(ft){return new be.y(ot=>{for(const yt of ft)if(ot.next(yt),ot.closed)return;ot.complete()})}(ft);if((0,Re.L)(ft))return function Cn(ft){return Ot((0,Re.Q)(ft))}(ft)}throw(0,Ee.z)(ft)}function Ot(ft){return new be.y(ot=>{(function Mt(ft,ot){var yt,_t,je,ve;return(0,b.mG)(this,void 0,void 0,function*(){try{for(yt=(0,b.KL)(ft);!(_t=yield yt.next()).done;)if(ot.next(_t.value),ot.closed)return}catch(Je){je={error:Je}}finally{try{_t&&!_t.done&&(ve=yt.return)&&(yield ve.call(yt))}finally{if(je)throw je.error}}ot.complete()})})(ft,ot).catch(yt=>ot.error(yt))})}},3019:(Vt,Ge,K)=>{K.d(Ge,{T:()=>fe});var b=K(7537),re=K(4829),u=K(6232),be=K(9940),ue=K(2459);function fe(...Ee){const Qe=(0,be.yG)(Ee),Re=(0,be._6)(Ee,1/0),ce=Ee;return ce.length?1===ce.length?(0,re.Xf)(ce[0]):(0,b.J)(Re)((0,ue.D)(ce,Qe)):u.E}},2096:(Vt,Ge,K)=>{K.d(Ge,{of:()=>u});var b=K(9940),re=K(2459);function u(...be){const ue=(0,b.yG)(be);return(0,re.D)(be,ue)}},8251:(Vt,Ge,K)=>{K.d(Ge,{x:()=>re});var b=K(305);function re(be,ue,fe,Ee,Qe){return new u(be,ue,fe,Ee,Qe)}class u extends b.Lv{constructor(ue,fe,Ee,Qe,Re,ce){super(ue),this.onFinalize=Re,this.shouldUnsubscribe=ce,this._next=fe?function(de){try{fe(de)}catch(Me){ue.error(Me)}}:super._next,this._error=Qe?function(de){try{Qe(de)}catch(Me){ue.error(Me)}finally{this.unsubscribe()}}:super._error,this._complete=Ee?function(){try{Ee()}catch(de){ue.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},3997:(Vt,Ge,K)=>{K.d(Ge,{x:()=>be});var b=K(2737),re=K(9360),u=K(8251);function be(fe,Ee=b.y){return fe=fe??ue,(0,re.e)((Qe,Re)=>{let ce,de=!0;Qe.subscribe((0,u.x)(Re,Me=>{const Se=Ee(Me);(de||!fe(ce,Se))&&(de=!1,ce=Se,Re.next(Me))}))})}function ue(fe,Ee){return fe===Ee}},2181:(Vt,Ge,K)=>{K.d(Ge,{h:()=>u});var b=K(9360),re=K(8251);function u(be,ue){return(0,b.e)((fe,Ee)=>{let Qe=0;fe.subscribe((0,re.x)(Ee,Re=>be.call(ue,Re,Qe++)&&Ee.next(Re)))})}},7398:(Vt,Ge,K)=>{K.d(Ge,{U:()=>u});var b=K(9360),re=K(8251);function u(be,ue){return(0,b.e)((fe,Ee)=>{let Qe=0;fe.subscribe((0,re.x)(Ee,Re=>{Ee.next(be.call(ue,Re,Qe++))}))})}},975:(Vt,Ge,K)=>{K.d(Ge,{h:()=>re});var b=K(7398);function re(u){return(0,b.U)(()=>u)}},7537:(Vt,Ge,K)=>{K.d(Ge,{J:()=>u});var b=K(1631),re=K(2737);function u(be=1/0){return(0,b.z)(re.y,be)}},1631:(Vt,Ge,K)=>{K.d(Ge,{z:()=>Qe});var b=K(7398),re=K(4829),u=K(9360),be=K(7103),ue=K(8251),Ee=K(4674);function Qe(Re,ce,de=1/0){return(0,Ee.m)(ce)?Qe((Me,Se)=>(0,b.U)((Oe,Ye)=>ce(Me,Oe,Se,Ye))((0,re.Xf)(Re(Me,Se))),de):("number"==typeof ce&&(de=ce),(0,u.e)((Me,Se)=>function fe(Re,ce,de,Me,Se,Oe,Ye,Tt){const kt=[];let Ot=0,Cn=0,Mt=!1;const ft=()=>{Mt&&!kt.length&&!Ot&&ce.complete()},ot=_t=>Ot<Me?yt(_t):kt.push(_t),yt=_t=>{Oe&&ce.next(_t),Ot++;let je=!1;(0,re.Xf)(de(_t,Cn++)).subscribe((0,ue.x)(ce,ve=>{Se?.(ve),Oe?ot(ve):ce.next(ve)},()=>{je=!0},void 0,()=>{if(je)try{for(Ot--;kt.length&&Ot<Me;){const ve=kt.shift();Ye?(0,be.f)(ce,Ye,()=>yt(ve)):yt(ve)}ft()}catch(ve){ce.error(ve)}}))};return Re.subscribe((0,ue.x)(ce,ot,()=>{Mt=!0,ft()})),()=>{Tt?.()}}(Me,Se,Re,de)))}},3093:(Vt,Ge,K)=>{K.d(Ge,{Q:()=>be});var b=K(7103),re=K(9360),u=K(8251);function be(ue,fe=0){return(0,re.e)((Ee,Qe)=>{Ee.subscribe((0,u.x)(Qe,Re=>(0,b.f)(Qe,ue,()=>Qe.next(Re),fe),()=>(0,b.f)(Qe,ue,()=>Qe.complete(),fe),Re=>(0,b.f)(Qe,ue,()=>Qe.error(Re),fe)))})}},7921:(Vt,Ge,K)=>{K.d(Ge,{O:()=>be});var b=K(5211),re=K(9940),u=K(9360);function be(...ue){const fe=(0,re.yG)(ue);return(0,u.e)((Ee,Qe)=>{(fe?(0,b.z)(ue,Ee,fe):(0,b.z)(ue,Ee)).subscribe(Qe)})}},5137:(Vt,Ge,K)=>{K.d(Ge,{R:()=>re});var b=K(9360);function re(u,be=0){return(0,b.e)((ue,fe)=>{fe.add(u.schedule(()=>ue.subscribe(fe),be))})}},4664:(Vt,Ge,K)=>{K.d(Ge,{w:()=>be});var b=K(4829),re=K(9360),u=K(8251);function be(ue,fe){return(0,re.e)((Ee,Qe)=>{let Re=null,ce=0,de=!1;const Me=()=>de&&!Re&&Qe.complete();Ee.subscribe((0,u.x)(Qe,Se=>{Re?.unsubscribe();let Oe=0;const Ye=ce++;(0,b.Xf)(ue(Se,Ye)).subscribe(Re=(0,u.x)(Qe,Tt=>Qe.next(fe?fe(Se,Tt,Ye,Oe++):Tt),()=>{Re=null,Me()}))},()=>{de=!0,Me()}))})}},8180:(Vt,Ge,K)=>{K.d(Ge,{q:()=>be});var b=K(6232),re=K(9360),u=K(8251);function be(ue){return ue<=0?()=>b.E:(0,re.e)((fe,Ee)=>{let Qe=0;fe.subscribe((0,u.x)(Ee,Re=>{++Qe<=ue&&(Ee.next(Re),ue<=Qe&&Ee.complete())}))})}},9773:(Vt,Ge,K)=>{K.d(Ge,{R:()=>ue});var b=K(9360),re=K(8251),u=K(4829),be=K(2420);function ue(fe){return(0,b.e)((Ee,Qe)=>{(0,u.Xf)(fe).subscribe((0,re.x)(Qe,()=>Qe.complete(),be.Z)),!Qe.closed&&Ee.subscribe(Qe)})}},9397:(Vt,Ge,K)=>{K.d(Ge,{b:()=>ue});var b=K(4674),re=K(9360),u=K(8251),be=K(2737);function ue(fe,Ee,Qe){const Re=(0,b.m)(fe)||Ee||Qe?{next:fe,error:Ee,complete:Qe}:fe;return Re?(0,re.e)((ce,de)=>{var Me;null===(Me=Re.subscribe)||void 0===Me||Me.call(Re);let Se=!0;ce.subscribe((0,u.x)(de,Oe=>{var Ye;null===(Ye=Re.next)||void 0===Ye||Ye.call(Re,Oe),de.next(Oe)},()=>{var Oe;Se=!1,null===(Oe=Re.complete)||void 0===Oe||Oe.call(Re),de.complete()},Oe=>{var Ye;Se=!1,null===(Ye=Re.error)||void 0===Ye||Ye.call(Re,Oe),de.error(Oe)},()=>{var Oe,Ye;Se&&(null===(Oe=Re.unsubscribe)||void 0===Oe||Oe.call(Re)),null===(Ye=Re.finalize)||void 0===Ye||Ye.call(Re)}))}):be.y}},1954:(Vt,Ge,K)=>{K.d(Ge,{o:()=>ue});var b=K(7394);class re extends b.w0{constructor(Ee,Qe){super()}schedule(Ee,Qe=0){return this}}const u={setInterval(fe,Ee,...Qe){const{delegate:Re}=u;return Re?.setInterval?Re.setInterval(fe,Ee,...Qe):setInterval(fe,Ee,...Qe)},clearInterval(fe){const{delegate:Ee}=u;return(Ee?.clearInterval||clearInterval)(fe)},delegate:void 0};var be=K(9039);class ue extends re{constructor(Ee,Qe){super(Ee,Qe),this.scheduler=Ee,this.work=Qe,this.pending=!1}schedule(Ee,Qe=0){var Re;if(this.closed)return this;this.state=Ee;const ce=this.id,de=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId(de,ce,Qe)),this.pending=!0,this.delay=Qe,this.id=null!==(Re=this.id)&&void 0!==Re?Re:this.requestAsyncId(de,this.id,Qe),this}requestAsyncId(Ee,Qe,Re=0){return u.setInterval(Ee.flush.bind(Ee,this),Re)}recycleAsyncId(Ee,Qe,Re=0){if(null!=Re&&this.delay===Re&&!1===this.pending)return Qe;null!=Qe&&u.clearInterval(Qe)}execute(Ee,Qe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Re=this._execute(Ee,Qe);if(Re)return Re;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ee,Qe){let ce,Re=!1;try{this.work(Ee)}catch(de){Re=!0,ce=de||new Error("Scheduled action threw falsy error")}if(Re)return this.unsubscribe(),ce}unsubscribe(){if(!this.closed){const{id:Ee,scheduler:Qe}=this,{actions:Re}=Qe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,be.P)(Re,this),null!=Ee&&(this.id=this.recycleAsyncId(Qe,Ee,null)),this.delay=null,super.unsubscribe()}}}},9931:(Vt,Ge,K)=>{K.d(Ge,{v:()=>u});const b={now:()=>(b.delegate||Date).now(),delegate:void 0};class re{constructor(ue,fe=re.now){this.schedulerActionCtor=ue,this.now=fe}schedule(ue,fe=0,Ee){return new this.schedulerActionCtor(this,ue).schedule(Ee,fe)}}re.now=b.now;class u extends re{constructor(ue,fe=re.now){super(ue,fe),this.actions=[],this._active=!1}flush(ue){const{actions:fe}=this;if(this._active)return void fe.push(ue);let Ee;this._active=!0;do{if(Ee=ue.execute(ue.state,ue.delay))break}while(ue=fe.shift());if(this._active=!1,Ee){for(;ue=fe.shift();)ue.unsubscribe();throw Ee}}}},6321:(Vt,Ge,K)=>{K.d(Ge,{P:()=>be,z:()=>u});var b=K(1954);const u=new(K(9931).v)(b.o),be=u},7599:(Vt,Ge,K)=>{K.d(Ge,{z:()=>b});const b={setTimeout(re,u,...be){const{delegate:ue}=b;return ue?.setTimeout?ue.setTimeout(re,u,...be):setTimeout(re,u,...be)},clearTimeout(re){const{delegate:u}=b;return(u?.clearTimeout||clearTimeout)(re)},delegate:void 0}},4971:(Vt,Ge,K)=>{K.d(Ge,{h:()=>re});const re=function b(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Vt,Ge,K)=>{K.d(Ge,{L:()=>b});const b="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Vt,Ge,K)=>{K.d(Ge,{K:()=>re});const re=(0,K(2306).d)(u=>function(){u(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Vt,Ge,K)=>{K.d(Ge,{_6:()=>fe,jO:()=>be,yG:()=>ue});var b=K(4674),re=K(671);function u(Ee){return Ee[Ee.length-1]}function be(Ee){return(0,b.m)(u(Ee))?Ee.pop():void 0}function ue(Ee){return(0,re.K)(u(Ee))?Ee.pop():void 0}function fe(Ee,Qe){return"number"==typeof u(Ee)?Ee.pop():Qe}},7453:(Vt,Ge,K)=>{K.d(Ge,{D:()=>ue});const{isArray:b}=Array,{getPrototypeOf:re,prototype:u,keys:be}=Object;function ue(Ee){if(1===Ee.length){const Qe=Ee[0];if(b(Qe))return{args:Qe,keys:null};if(function fe(Ee){return Ee&&"object"==typeof Ee&&re(Ee)===u}(Qe)){const Re=be(Qe);return{args:Re.map(ce=>Qe[ce]),keys:Re}}}return{args:Ee,keys:null}}},9039:(Vt,Ge,K)=>{function b(re,u){if(re){const be=re.indexOf(u);0<=be&&re.splice(be,1)}}K.d(Ge,{P:()=>b})},2306:(Vt,Ge,K)=>{function b(re){const be=re(ue=>{Error.call(ue),ue.stack=(new Error).stack});return be.prototype=Object.create(Error.prototype),be.prototype.constructor=be,be}K.d(Ge,{d:()=>b})},2714:(Vt,Ge,K)=>{function b(re,u){return re.reduce((be,ue,fe)=>(be[ue]=u[fe],be),{})}K.d(Ge,{n:()=>b})},1441:(Vt,Ge,K)=>{K.d(Ge,{O:()=>be,x:()=>u});var b=K(2653);let re=null;function u(ue){if(b.config.useDeprecatedSynchronousErrorHandling){const fe=!re;if(fe&&(re={errorThrown:!1,error:null}),ue(),fe){const{errorThrown:Ee,error:Qe}=re;if(re=null,Ee)throw Qe}}else ue()}function be(ue){b.config.useDeprecatedSynchronousErrorHandling&&re&&(re.errorThrown=!0,re.error=ue)}},7103:(Vt,Ge,K)=>{function b(re,u,be,ue=0,fe=!1){const Ee=u.schedule(function(){be(),fe?re.add(this.schedule(null,ue)):this.unsubscribe()},ue);if(re.add(Ee),!fe)return Ee}K.d(Ge,{f:()=>b})},2737:(Vt,Ge,K)=>{function b(re){return re}K.d(Ge,{y:()=>b})},4266:(Vt,Ge,K)=>{K.d(Ge,{z:()=>b});const b=re=>re&&"number"==typeof re.length&&"function"!=typeof re},5726:(Vt,Ge,K)=>{K.d(Ge,{D:()=>re});var b=K(4674);function re(u){return Symbol.asyncIterator&&(0,b.m)(u?.[Symbol.asyncIterator])}},4674:(Vt,Ge,K)=>{function b(re){return"function"==typeof re}K.d(Ge,{m:()=>b})},8382:(Vt,Ge,K)=>{K.d(Ge,{c:()=>u});var b=K(4850),re=K(4674);function u(be){return(0,re.m)(be[b.L])}},3664:(Vt,Ge,K)=>{K.d(Ge,{T:()=>u});var b=K(4971),re=K(4674);function u(be){return(0,re.m)(be?.[b.h])}},4026:(Vt,Ge,K)=>{K.d(Ge,{t:()=>re});var b=K(4674);function re(u){return(0,b.m)(u?.then)}},541:(Vt,Ge,K)=>{K.d(Ge,{L:()=>be,Q:()=>u});var b=K(7582),re=K(4674);function u(ue){return(0,b.FC)(this,arguments,function*(){const Ee=ue.getReader();try{for(;;){const{value:Qe,done:Re}=yield(0,b.qq)(Ee.read());if(Re)return yield(0,b.qq)(void 0);yield yield(0,b.qq)(Qe)}}finally{Ee.releaseLock()}})}function be(ue){return(0,re.m)(ue?.getReader)}},671:(Vt,Ge,K)=>{K.d(Ge,{K:()=>re});var b=K(4674);function re(u){return u&&(0,b.m)(u.schedule)}},9360:(Vt,Ge,K)=>{K.d(Ge,{A:()=>re,e:()=>u});var b=K(4674);function re(be){return(0,b.m)(be?.lift)}function u(be){return ue=>{if(re(ue))return ue.lift(function(fe){try{return be(fe,this)}catch(Ee){this.error(Ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Vt,Ge,K)=>{K.d(Ge,{Z:()=>be});var b=K(7398);const{isArray:re}=Array;function be(ue){return(0,b.U)(fe=>function u(ue,fe){return re(fe)?ue(...fe):ue(fe)}(ue,fe))}},2420:(Vt,Ge,K)=>{function b(){}K.d(Ge,{Z:()=>b})},8407:(Vt,Ge,K)=>{K.d(Ge,{U:()=>u,z:()=>re});var b=K(2737);function re(...be){return u(be)}function u(be){return 0===be.length?b.y:1===be.length?be[0]:function(fe){return be.reduce((Ee,Qe)=>Qe(Ee),fe)}}},3894:(Vt,Ge,K)=>{K.d(Ge,{h:()=>u});var b=K(2653),re=K(7599);function u(be){re.z.setTimeout(()=>{const{onUnhandledError:ue}=b.config;if(!ue)throw be;ue(be)})}},9853:(Vt,Ge,K)=>{function b(re){return new TypeError(`You provided ${null!==re&&"object"==typeof re?"an invalid object":`'${re}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}K.d(Ge,{z:()=>b})},6814:(Vt,Ge,K)=>{K.d(Ge,{Do:()=>Tt,EM:()=>La,HT:()=>be,JF:()=>Fs,K0:()=>fe,Mn:()=>Sn,Mx:()=>co,O5:()=>us,PM:()=>Zn,S$:()=>Se,Tn:()=>ve,UT:()=>Un,V_:()=>Qe,Ye:()=>kt,ax:()=>Zs,b0:()=>Ye,bD:()=>Ni,ez:()=>Or,mk:()=>va,p6:()=>Jn,q:()=>u,sg:()=>Zs,tP:()=>ks,uU:()=>Mo,w_:()=>ue,x:()=>je});var b=K(9468);let re=null;function u(){return re}function be(M){re||(re=M)}class ue{}const fe=new b.OlP("DocumentToken");let Ee=(()=>{class M{historyGo(U){throw new Error("Not implemented")}static#e=this.\u0275fac=function(ee){return new(ee||M)};static#t=this.\u0275prov=b.Yz7({token:M,factory:function(){return(0,b.f3M)(Re)},providedIn:"platform"})}return M})();const Qe=new b.OlP("Location Initialized");let Re=(()=>{class M extends Ee{constructor(){super(),this._doc=(0,b.f3M)(fe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return u().getBaseHref(this._doc)}onPopState(U){const ee=u().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("popstate",U,!1),()=>ee.removeEventListener("popstate",U)}onHashChange(U){const ee=u().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("hashchange",U,!1),()=>ee.removeEventListener("hashchange",U)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(U){this._location.pathname=U}pushState(U,ee,ye){this._history.pushState(U,ee,ye)}replaceState(U,ee,ye){this._history.replaceState(U,ee,ye)}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}static#e=this.\u0275fac=function(ee){return new(ee||M)};static#t=this.\u0275prov=b.Yz7({token:M,factory:function(){return new M},providedIn:"platform"})}return M})();function ce(M,ne){if(0==M.length)return ne;if(0==ne.length)return M;let U=0;return M.endsWith("/")&&U++,ne.startsWith("/")&&U++,2==U?M+ne.substring(1):1==U?M+ne:M+"/"+ne}function de(M){const ne=M.match(/#|\?|$/),U=ne&&ne.index||M.length;return M.slice(0,U-("/"===M[U-1]?1:0))+M.slice(U)}function Me(M){return M&&"?"!==M[0]?"?"+M:M}let Se=(()=>{class M{historyGo(U){throw new Error("Not implemented")}static#e=this.\u0275fac=function(ee){return new(ee||M)};static#t=this.\u0275prov=b.Yz7({token:M,factory:function(){return(0,b.f3M)(Ye)},providedIn:"root"})}return M})();const Oe=new b.OlP("appBaseHref");let Ye=(()=>{class M extends Se{constructor(U,ee){super(),this._platformLocation=U,this._removeListenerFns=[],this._baseHref=ee??this._platformLocation.getBaseHrefFromDOM()??(0,b.f3M)(fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return ce(this._baseHref,U)}path(U=!1){const ee=this._platformLocation.pathname+Me(this._platformLocation.search),ye=this._platformLocation.hash;return ye&&U?`${ee}${ye}`:ee}pushState(U,ee,ye,et){const gt=this.prepareExternalUrl(ye+Me(et));this._platformLocation.pushState(U,ee,gt)}replaceState(U,ee,ye,et){const gt=this.prepareExternalUrl(ye+Me(et));this._platformLocation.replaceState(U,ee,gt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.LFG(Ee),b.LFG(Oe,8))};static#t=this.\u0275prov=b.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})(),Tt=(()=>{class M extends Se{constructor(U,ee){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=ee&&(this._baseHref=ee)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){let ee=this._platformLocation.hash;return null==ee&&(ee="#"),ee.length>0?ee.substring(1):ee}prepareExternalUrl(U){const ee=ce(this._baseHref,U);return ee.length>0?"#"+ee:ee}pushState(U,ee,ye,et){let gt=this.prepareExternalUrl(ye+Me(et));0==gt.length&&(gt=this._platformLocation.pathname),this._platformLocation.pushState(U,ee,gt)}replaceState(U,ee,ye,et){let gt=this.prepareExternalUrl(ye+Me(et));0==gt.length&&(gt=this._platformLocation.pathname),this._platformLocation.replaceState(U,ee,gt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.LFG(Ee),b.LFG(Oe,8))};static#t=this.\u0275prov=b.Yz7({token:M,factory:M.\u0275fac})}return M})(),kt=(()=>{class M{constructor(U){this._subject=new b.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=U;const ee=this._locationStrategy.getBaseHref();this._basePath=function ft(M){if(new RegExp("^(https?:)?//").test(M)){const[,U]=M.split(/\/\/[^\/]+/);return U}return M}(de(Mt(ee))),this._locationStrategy.onPopState(ye=>{this._subject.emit({url:this.path(!0),pop:!0,state:ye.state,type:ye.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(U=!1){return this.normalize(this._locationStrategy.path(U))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(U,ee=""){return this.path()==this.normalize(U+Me(ee))}normalize(U){return M.stripTrailingSlash(function Cn(M,ne){if(!M||!ne.startsWith(M))return ne;const U=ne.substring(M.length);return""===U||["/",";","?","#"].includes(U[0])?U:ne}(this._basePath,Mt(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._locationStrategy.prepareExternalUrl(U)}go(U,ee="",ye=null){this._locationStrategy.pushState(ye,"",U,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Me(ee)),ye)}replaceState(U,ee="",ye=null){this._locationStrategy.replaceState(ye,"",U,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Me(ee)),ye)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(U=0){this._locationStrategy.historyGo?.(U)}onUrlChange(U){return this._urlChangeListeners.push(U),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ee=>{this._notifyUrlChangeListeners(ee.url,ee.state)})),()=>{const ee=this._urlChangeListeners.indexOf(U);this._urlChangeListeners.splice(ee,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(U="",ee){this._urlChangeListeners.forEach(ye=>ye(U,ee))}subscribe(U,ee,ye){return this._subject.subscribe({next:U,error:ee,complete:ye})}static#e=this.normalizeQueryParams=Me;static#t=this.joinWithSlash=ce;static#n=this.stripTrailingSlash=de;static#r=this.\u0275fac=function(ee){return new(ee||M)(b.LFG(Se))};static#i=this.\u0275prov=b.Yz7({token:M,factory:function(){return function Ot(){return new kt((0,b.LFG)(Se))}()},providedIn:"root"})}return M})();function Mt(M){return M.replace(/\/index.html$/,"")}var je=function(M){return M[M.Format=0]="Format",M[M.Standalone=1]="Standalone",M}(je||{}),ve=function(M){return M[M.Narrow=0]="Narrow",M[M.Abbreviated=1]="Abbreviated",M[M.Wide=2]="Wide",M[M.Short=3]="Short",M}(ve||{}),Je=function(M){return M[M.Short=0]="Short",M[M.Medium=1]="Medium",M[M.Long=2]="Long",M[M.Full=3]="Full",M}(Je||{}),mt=function(M){return M[M.Decimal=0]="Decimal",M[M.Group=1]="Group",M[M.List=2]="List",M[M.PercentSign=3]="PercentSign",M[M.PlusSign=4]="PlusSign",M[M.MinusSign=5]="MinusSign",M[M.Exponential=6]="Exponential",M[M.SuperscriptingExponent=7]="SuperscriptingExponent",M[M.PerMille=8]="PerMille",M[M.Infinity=9]="Infinity",M[M.NaN=10]="NaN",M[M.TimeSeparator=11]="TimeSeparator",M[M.CurrencyDecimal=12]="CurrencyDecimal",M[M.CurrencyGroup=13]="CurrencyGroup",M}(mt||{});function Sn(M,ne,U){const ee=(0,b.cg1)(M),et=De([ee[b.wAp.DaysFormat],ee[b.wAp.DaysStandalone]],ne);return De(et,U)}function Un(M,ne,U){const ee=(0,b.cg1)(M),et=De([ee[b.wAp.MonthsFormat],ee[b.wAp.MonthsStandalone]],ne);return De(et,U)}function $e(M,ne){return De((0,b.cg1)(M)[b.wAp.DateFormat],ne)}function Xe(M,ne){return De((0,b.cg1)(M)[b.wAp.TimeFormat],ne)}function Ue(M,ne){return De((0,b.cg1)(M)[b.wAp.DateTimeFormat],ne)}function it(M,ne){const U=(0,b.cg1)(M),ee=U[b.wAp.NumberSymbols][ne];if(typeof ee>"u"){if(ne===mt.CurrencyDecimal)return U[b.wAp.NumberSymbols][mt.Decimal];if(ne===mt.CurrencyGroup)return U[b.wAp.NumberSymbols][mt.Group]}return ee}function Dt(M){if(!M[b.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${M[b.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function De(M,ne){for(let U=ne;U>-1;U--)if(typeof M[U]<"u")return M[U];throw new Error("Locale data API: locale data undefined")}function Pe(M){const[ne,U]=M.split(":");return{hours:+ne,minutes:+U}}const At=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,wr={},An=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var on=function(M){return M[M.Short=0]="Short",M[M.ShortGMT=1]="ShortGMT",M[M.Long=2]="Long",M[M.Extended=3]="Extended",M}(on||{}),Xt=function(M){return M[M.FullYear=0]="FullYear",M[M.Month=1]="Month",M[M.Date=2]="Date",M[M.Hours=3]="Hours",M[M.Minutes=4]="Minutes",M[M.Seconds=5]="Seconds",M[M.FractionalSeconds=6]="FractionalSeconds",M[M.Day=7]="Day",M}(Xt||{}),En=function(M){return M[M.DayPeriods=0]="DayPeriods",M[M.Days=1]="Days",M[M.Months=2]="Months",M[M.Eras=3]="Eras",M}(En||{});function Jn(M,ne,U,ee){let ye=function V(M){if(W(M))return M;if("number"==typeof M&&!isNaN(M))return new Date(M);if("string"==typeof M){if(M=M.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(M)){const[ye,et=1,gt=1]=M.split("-").map(vn=>+vn);return tn(ye,et-1,gt)}const U=parseFloat(M);if(!isNaN(M-U))return new Date(U);let ee;if(ee=M.match(At))return function G(M){const ne=new Date(0);let U=0,ee=0;const ye=M[8]?ne.setUTCFullYear:ne.setFullYear,et=M[8]?ne.setUTCHours:ne.setHours;M[9]&&(U=Number(M[9]+M[10]),ee=Number(M[9]+M[11])),ye.call(ne,Number(M[1]),Number(M[2])-1,Number(M[3]));const gt=Number(M[4]||0)-U,vn=Number(M[5]||0)-ee,Pr=Number(M[6]||0),$r=Math.floor(1e3*parseFloat("0."+(M[7]||0)));return et.call(ne,gt,vn,Pr,$r),ne}(ee)}const ne=new Date(M);if(!W(ne))throw new Error(`Unable to convert "${M}" into a date`);return ne}(M);ne=Cr(U,ne)||ne;let vn,gt=[];for(;ne;){if(vn=An.exec(ne),!vn){gt.push(ne);break}{gt=gt.concat(vn.slice(1));const pr=gt.pop();if(!pr)break;ne=pr}}let Pr=ye.getTimezoneOffset();ee&&(Pr=Zt(ee,Pr),ye=function Y(M,ne,U){const ee=U?-1:1,ye=M.getTimezoneOffset();return function $n(M,ne){return(M=new Date(M.getTime())).setMinutes(M.getMinutes()+ne),M}(M,ee*(Zt(ne,ye)-ye))}(ye,ee,!0));let $r="";return gt.forEach(pr=>{const Kn=function zt(M){if(It[M])return It[M];let ne;switch(M){case"G":case"GG":case"GGG":ne=jn(En.Eras,ve.Abbreviated);break;case"GGGG":ne=jn(En.Eras,ve.Wide);break;case"GGGGG":ne=jn(En.Eras,ve.Narrow);break;case"y":ne=Yn(Xt.FullYear,1,0,!1,!0);break;case"yy":ne=Yn(Xt.FullYear,2,0,!0,!0);break;case"yyy":ne=Yn(Xt.FullYear,3,0,!1,!0);break;case"yyyy":ne=Yn(Xt.FullYear,4,0,!1,!0);break;case"Y":ne=Ze(1);break;case"YY":ne=Ze(2,!0);break;case"YYY":ne=Ze(3);break;case"YYYY":ne=Ze(4);break;case"M":case"L":ne=Yn(Xt.Month,1,1);break;case"MM":case"LL":ne=Yn(Xt.Month,2,1);break;case"MMM":ne=jn(En.Months,ve.Abbreviated);break;case"MMMM":ne=jn(En.Months,ve.Wide);break;case"MMMMM":ne=jn(En.Months,ve.Narrow);break;case"LLL":ne=jn(En.Months,ve.Abbreviated,je.Standalone);break;case"LLLL":ne=jn(En.Months,ve.Wide,je.Standalone);break;case"LLLLL":ne=jn(En.Months,ve.Narrow,je.Standalone);break;case"w":ne=Ce(1);break;case"ww":ne=Ce(2);break;case"W":ne=Ce(1,!0);break;case"d":ne=Yn(Xt.Date,1);break;case"dd":ne=Yn(Xt.Date,2);break;case"c":case"cc":ne=Yn(Xt.Day,1);break;case"ccc":ne=jn(En.Days,ve.Abbreviated,je.Standalone);break;case"cccc":ne=jn(En.Days,ve.Wide,je.Standalone);break;case"ccccc":ne=jn(En.Days,ve.Narrow,je.Standalone);break;case"cccccc":ne=jn(En.Days,ve.Short,je.Standalone);break;case"E":case"EE":case"EEE":ne=jn(En.Days,ve.Abbreviated);break;case"EEEE":ne=jn(En.Days,ve.Wide);break;case"EEEEE":ne=jn(En.Days,ve.Narrow);break;case"EEEEEE":ne=jn(En.Days,ve.Short);break;case"a":case"aa":case"aaa":ne=jn(En.DayPeriods,ve.Abbreviated);break;case"aaaa":ne=jn(En.DayPeriods,ve.Wide);break;case"aaaaa":ne=jn(En.DayPeriods,ve.Narrow);break;case"b":case"bb":case"bbb":ne=jn(En.DayPeriods,ve.Abbreviated,je.Standalone,!0);break;case"bbbb":ne=jn(En.DayPeriods,ve.Wide,je.Standalone,!0);break;case"bbbbb":ne=jn(En.DayPeriods,ve.Narrow,je.Standalone,!0);break;case"B":case"BB":case"BBB":ne=jn(En.DayPeriods,ve.Abbreviated,je.Format,!0);break;case"BBBB":ne=jn(En.DayPeriods,ve.Wide,je.Format,!0);break;case"BBBBB":ne=jn(En.DayPeriods,ve.Narrow,je.Format,!0);break;case"h":ne=Yn(Xt.Hours,1,-12);break;case"hh":ne=Yn(Xt.Hours,2,-12);break;case"H":ne=Yn(Xt.Hours,1);break;case"HH":ne=Yn(Xt.Hours,2);break;case"m":ne=Yn(Xt.Minutes,1);break;case"mm":ne=Yn(Xt.Minutes,2);break;case"s":ne=Yn(Xt.Seconds,1);break;case"ss":ne=Yn(Xt.Seconds,2);break;case"S":ne=Yn(Xt.FractionalSeconds,1);break;case"SS":ne=Yn(Xt.FractionalSeconds,2);break;case"SSS":ne=Yn(Xt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ne=xn(on.Short);break;case"ZZZZZ":ne=xn(on.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ne=xn(on.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ne=xn(on.Long);break;default:return null}return It[M]=ne,ne}(pr);$r+=Kn?Kn(ye,U,Pr):"''"===pr?"'":pr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),$r}function tn(M,ne,U){const ee=new Date(0);return ee.setFullYear(M,ne,U),ee.setHours(0,0,0),ee}function Cr(M,ne){const U=function dt(M){return(0,b.cg1)(M)[b.wAp.LocaleId]}(M);if(wr[U]=wr[U]||{},wr[U][ne])return wr[U][ne];let ee="";switch(ne){case"shortDate":ee=$e(M,Je.Short);break;case"mediumDate":ee=$e(M,Je.Medium);break;case"longDate":ee=$e(M,Je.Long);break;case"fullDate":ee=$e(M,Je.Full);break;case"shortTime":ee=Xe(M,Je.Short);break;case"mediumTime":ee=Xe(M,Je.Medium);break;case"longTime":ee=Xe(M,Je.Long);break;case"fullTime":ee=Xe(M,Je.Full);break;case"short":const ye=Cr(M,"shortTime"),et=Cr(M,"shortDate");ee=Ir(Ue(M,Je.Short),[ye,et]);break;case"medium":const gt=Cr(M,"mediumTime"),vn=Cr(M,"mediumDate");ee=Ir(Ue(M,Je.Medium),[gt,vn]);break;case"long":const Pr=Cr(M,"longTime"),$r=Cr(M,"longDate");ee=Ir(Ue(M,Je.Long),[Pr,$r]);break;case"full":const pr=Cr(M,"fullTime"),Kn=Cr(M,"fullDate");ee=Ir(Ue(M,Je.Full),[pr,Kn])}return ee&&(wr[U][ne]=ee),ee}function Ir(M,ne){return ne&&(M=M.replace(/\{([^}]+)}/g,function(U,ee){return null!=ne&&ee in ne?ne[ee]:U})),M}function yn(M,ne,U="-",ee,ye){let et="";(M<0||ye&&M<=0)&&(ye?M=1-M:(M=-M,et=U));let gt=String(M);for(;gt.length<ne;)gt="0"+gt;return ee&&(gt=gt.slice(gt.length-ne)),et+gt}function Yn(M,ne,U=0,ee=!1,ye=!1){return function(et,gt){let vn=function cr(M,ne){switch(M){case Xt.FullYear:return ne.getFullYear();case Xt.Month:return ne.getMonth();case Xt.Date:return ne.getDate();case Xt.Hours:return ne.getHours();case Xt.Minutes:return ne.getMinutes();case Xt.Seconds:return ne.getSeconds();case Xt.FractionalSeconds:return ne.getMilliseconds();case Xt.Day:return ne.getDay();default:throw new Error(`Unknown DateType value "${M}".`)}}(M,et);if((U>0||vn>-U)&&(vn+=U),M===Xt.Hours)0===vn&&-12===U&&(vn=12);else if(M===Xt.FractionalSeconds)return function ar(M,ne){return yn(M,3).substring(0,ne)}(vn,ne);const Pr=it(gt,mt.MinusSign);return yn(vn,ne,Pr,ee,ye)}}function jn(M,ne,U=je.Format,ee=!1){return function(ye,et){return function ai(M,ne,U,ee,ye,et){switch(U){case En.Months:return Un(ne,ye,ee)[M.getMonth()];case En.Days:return Sn(ne,ye,ee)[M.getDay()];case En.DayPeriods:const gt=M.getHours(),vn=M.getMinutes();if(et){const $r=function Wn(M){const ne=(0,b.cg1)(M);return Dt(ne),(ne[b.wAp.ExtraData][2]||[]).map(ee=>"string"==typeof ee?Pe(ee):[Pe(ee[0]),Pe(ee[1])])}(ne),pr=function vr(M,ne,U){const ee=(0,b.cg1)(M);Dt(ee);const et=De([ee[b.wAp.ExtraData][0],ee[b.wAp.ExtraData][1]],ne)||[];return De(et,U)||[]}(ne,ye,ee),Kn=$r.findIndex(br=>{if(Array.isArray(br)){const[Sr,kr]=br,ps=gt>=Sr.hours&&vn>=Sr.minutes,_i=gt<kr.hours||gt===kr.hours&&vn<kr.minutes;if(Sr.hours<kr.hours){if(ps&&_i)return!0}else if(ps||_i)return!0}else if(br.hours===gt&&br.minutes===vn)return!0;return!1});if(-1!==Kn)return pr[Kn]}return function hn(M,ne,U){const ee=(0,b.cg1)(M),et=De([ee[b.wAp.DayPeriodsFormat],ee[b.wAp.DayPeriodsStandalone]],ne);return De(et,U)}(ne,ye,ee)[gt<12?0:1];case En.Eras:return function or(M,ne){return De((0,b.cg1)(M)[b.wAp.Eras],ne)}(ne,ee)[M.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${U}`)}}(ye,et,M,ne,U,ee)}}function xn(M){return function(ne,U,ee){const ye=-1*ee,et=it(U,mt.MinusSign),gt=ye>0?Math.floor(ye/60):Math.ceil(ye/60);switch(M){case on.Short:return(ye>=0?"+":"")+yn(gt,2,et)+yn(Math.abs(ye%60),2,et);case on.ShortGMT:return"GMT"+(ye>=0?"+":"")+yn(gt,1,et);case on.Long:return"GMT"+(ye>=0?"+":"")+yn(gt,2,et)+":"+yn(Math.abs(ye%60),2,et);case on.Extended:return 0===ee?"Z":(ye>=0?"+":"")+yn(gt,2,et)+":"+yn(Math.abs(ye%60),2,et);default:throw new Error(`Unknown zone width "${M}"`)}}}const Xn=0,Nr=4;function nt(M){return tn(M.getFullYear(),M.getMonth(),M.getDate()+(Nr-M.getDay()))}function Ce(M,ne=!1){return function(U,ee){let ye;if(ne){const et=new Date(U.getFullYear(),U.getMonth(),1).getDay()-1,gt=U.getDate();ye=1+Math.floor((gt+et)/7)}else{const et=nt(U),gt=function ci(M){const ne=tn(M,Xn,1).getDay();return tn(M,0,1+(ne<=Nr?Nr:Nr+7)-ne)}(et.getFullYear()),vn=et.getTime()-gt.getTime();ye=1+Math.round(vn/6048e5)}return yn(ye,M,it(ee,mt.MinusSign))}}function Ze(M,ne=!1){return function(U,ee){return yn(nt(U).getFullYear(),M,it(ee,mt.MinusSign),ne)}}const It={};function Zt(M,ne){M=M.replace(/:/g,"");const U=Date.parse("Jan 01, 1970 00:00:00 "+M)/6e4;return isNaN(U)?ne:U}function W(M){return M instanceof Date&&!isNaN(M.valueOf())}function co(M,ne){ne=encodeURIComponent(ne);for(const U of M.split(";")){const ee=U.indexOf("="),[ye,et]=-1==ee?[U,""]:[U.slice(0,ee),U.slice(ee+1)];if(ye.trim()===ne)return decodeURIComponent(et)}return null}const No=/\s+/,Qo=[];let va=(()=>{class M{constructor(U,ee,ye,et){this._iterableDiffers=U,this._keyValueDiffers=ee,this._ngEl=ye,this._renderer=et,this.initialClasses=Qo,this.stateMap=new Map}set klass(U){this.initialClasses=null!=U?U.trim().split(No):Qo}set ngClass(U){this.rawClass="string"==typeof U?U.trim().split(No):U}ngDoCheck(){for(const ee of this.initialClasses)this._updateState(ee,!0);const U=this.rawClass;if(Array.isArray(U)||U instanceof Set)for(const ee of U)this._updateState(ee,!0);else if(null!=U)for(const ee of Object.keys(U))this._updateState(ee,!!U[ee]);this._applyStateDiff()}_updateState(U,ee){const ye=this.stateMap.get(U);void 0!==ye?(ye.enabled!==ee&&(ye.changed=!0,ye.enabled=ee),ye.touched=!0):this.stateMap.set(U,{enabled:ee,changed:!0,touched:!0})}_applyStateDiff(){for(const U of this.stateMap){const ee=U[0],ye=U[1];ye.changed?(this._toggleClass(ee,ye.enabled),ye.changed=!1):ye.touched||(ye.enabled&&this._toggleClass(ee,!1),this.stateMap.delete(ee)),ye.touched=!1}}_toggleClass(U,ee){(U=U.trim()).length>0&&U.split(No).forEach(ye=>{ee?this._renderer.addClass(this._ngEl.nativeElement,ye):this._renderer.removeClass(this._ngEl.nativeElement,ye)})}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.Y36(b.ZZ4),b.Y36(b.aQg),b.Y36(b.SBq),b.Y36(b.Qsj))};static#t=this.\u0275dir=b.lG2({type:M,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return M})();class Jr{constructor(ne,U,ee,ye){this.$implicit=ne,this.ngForOf=U,this.index=ee,this.count=ye}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zs=(()=>{class M{set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}constructor(U,ee,ye){this._viewContainer=U,this._template=ee,this._differs=ye,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const ee=this._viewContainer;U.forEachOperation((ye,et,gt)=>{if(null==ye.previousIndex)ee.createEmbeddedView(this._template,new Jr(ye.item,this._ngForOf,-1,-1),null===gt?void 0:gt);else if(null==gt)ee.remove(null===et?void 0:et);else if(null!==et){const vn=ee.get(et);ee.move(vn,gt),ji(vn,ye)}});for(let ye=0,et=ee.length;ye<et;ye++){const vn=ee.get(ye).context;vn.index=ye,vn.count=et,vn.ngForOf=this._ngForOf}U.forEachIdentityChange(ye=>{ji(ee.get(ye.currentIndex),ye)})}static ngTemplateContextGuard(U,ee){return!0}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.Y36(b.s_b),b.Y36(b.Rgc),b.Y36(b.ZZ4))};static#t=this.\u0275dir=b.lG2({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return M})();function ji(M,ne){M.context.$implicit=ne.item}let us=(()=>{class M{constructor(U,ee){this._viewContainer=U,this._context=new Qa,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ee}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){li("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){li("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,ee){return!0}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.Y36(b.s_b),b.Y36(b.Rgc))};static#t=this.\u0275dir=b.lG2({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return M})();class Qa{constructor(){this.$implicit=null,this.ngIf=null}}function li(M,ne){if(ne&&!ne.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,b.AaK)(ne)}'.`)}let ks=(()=>{class M{constructor(U){this._viewContainerRef=U,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(U){if(U.ngTemplateOutlet||U.ngTemplateOutletInjector){const ee=this._viewContainerRef;if(this._viewRef&&ee.remove(ee.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ye,ngTemplateOutletContext:et,ngTemplateOutletInjector:gt}=this;this._viewRef=ee.createEmbeddedView(ye,et,gt?{injector:gt}:void 0)}else this._viewRef=null}else this._viewRef&&U.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.Y36(b.s_b))};static#t=this.\u0275dir=b.lG2({type:M,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[b.TTD]})}return M})();const Ia=new b.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Jo=new b.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Mo=(()=>{class M{constructor(U,ee,ye){this.locale=U,this.defaultTimezone=ee,this.defaultOptions=ye}transform(U,ee,ye,et){if(null==U||""===U||U!=U)return null;try{return Jn(U,ee??this.defaultOptions?.dateFormat??"mediumDate",et||this.locale,ye??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(gt){throw function $i(M,ne){return new b.vHH(2100,!1)}()}}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.Y36(b.soG,16),b.Y36(Ia,24),b.Y36(Jo,24))};static#t=this.\u0275pipe=b.Yjl({name:"date",type:M,pure:!0,standalone:!0})}return M})(),Or=(()=>{class M{static#e=this.\u0275fac=function(ee){return new(ee||M)};static#t=this.\u0275mod=b.oAB({type:M});static#n=this.\u0275inj=b.cJS({})}return M})();const Ni="browser",Qs="server";function Zn(M){return M===Qs}let La=(()=>{class M{static#e=this.\u0275prov=(0,b.Yz7)({token:M,providedIn:"root",factory:()=>new ws((0,b.LFG)(fe),window)})}return M})();class ws{constructor(ne,U){this.document=ne,this.window=U,this.offset=()=>[0,0]}setOffset(ne){this.offset=Array.isArray(ne)?()=>ne:ne}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ne){this.supportsScrolling()&&this.window.scrollTo(ne[0],ne[1])}scrollToAnchor(ne){if(!this.supportsScrolling())return;const U=function jr(M,ne){const U=M.getElementById(ne)||M.getElementsByName(ne)[0];if(U)return U;if("function"==typeof M.createTreeWalker&&M.body&&"function"==typeof M.body.attachShadow){const ee=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let ye=ee.currentNode;for(;ye;){const et=ye.shadowRoot;if(et){const gt=et.getElementById(ne)||et.querySelector(`[name="${ne}"]`);if(gt)return gt}ye=ee.nextNode()}}return null}(this.document,ne);U&&(this.scrollToElement(U),U.focus())}setHistoryScrollRestoration(ne){this.supportsScrolling()&&(this.window.history.scrollRestoration=ne)}scrollToElement(ne){const U=ne.getBoundingClientRect(),ee=U.left+this.window.pageXOffset,ye=U.top+this.window.pageYOffset,et=this.offset();this.window.scrollTo(ee-et[0],ye-et[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Fs{}},9468:(Vt,Ge,K)=>{K.d(Ge,{QbO:()=>Wv,tb:()=>RI,AFp:()=>B_,ip1:()=>R1,hGG:()=>yD,z2F:()=>Hc,Ojb:()=>rE,sBO:()=>uD,Sil:()=>II,EJc:()=>wI,ktI:()=>Di,Xts:()=>Lh,SBq:()=>Kd,lqb:()=>Oc,qLn:()=>Fu,vpe:()=>Ol,XFs:()=>tn,OlP:()=>xn,zs3:()=>ma,ZZ4:()=>J1,aQg:()=>X1,soG:()=>P1,YKP:()=>Jm,h0i:()=>Ll,PXZ:()=>HC,R0b:()=>Go,FiY:()=>Th,Lbi:()=>Ho,g9A:()=>Uo,Qsj:()=>cE,FYo:()=>cm,JOm:()=>wv,q3G:()=>$s,tp0:()=>Tg,Rgc:()=>sg,dDg:()=>nD,eoX:()=>dg,q4F:()=>e0,GfV:()=>Z_,s_b:()=>p1,ifc:()=>ys,gHi:()=>Y_,VuI:()=>wD,LMc:()=>xS,MMx:()=>e1,Lck:()=>oT,eFA:()=>PI,Gpc:()=>Cn,f3M:()=>tr,$WT:()=>ds,_c5:()=>eb,qFp:()=>fg,rg0:()=>$r,c2e:()=>YT,zSh:()=>F_,HDt:()=>k1,wAp:()=>Hm,vHH:()=>je,lri:()=>OI,rWj:()=>$1,JZr:()=>_t,EiD:()=>kh,mCW:()=>Fv,qzn:()=>ip,JVY:()=>tE,pB0:()=>$g,eBb:()=>Rh,L6k:()=>xh,LAX:()=>sp,cg1:()=>Aw,kL8:()=>H0,dqk:()=>cr,Z0I:()=>vt,eJc:()=>zy,QGY:()=>kl,F4k:()=>Nm,RDi:()=>yb,AaK:()=>Tt,z3N:()=>eu,zW0:()=>Wa,qOj:()=>af,Xq5:()=>qe,TTD:()=>ps,_Bn:()=>jw,jDz:()=>cT,xp6:()=>rl,uIk:()=>du,Tol:()=>ju,ekj:()=>F0,Suo:()=>ST,Xpm:()=>ei,lG2:()=>Mo,Yz7:()=>De,cJS:()=>ke,oAB:()=>Wi,Yjl:()=>Xo,Y36:()=>ou,_UZ:()=>Wp,BQk:()=>Am,ynx:()=>Sm,qZA:()=>fd,TgZ:()=>ll,EpF:()=>Si,n5z:()=>xd,Ikx:()=>U0,SDv:()=>nT,LFG:()=>Fn,$8M:()=>L,$Z:()=>Mp,NdJ:()=>qp,CRH:()=>AT,kcU:()=>Cd,O4$:()=>Fo,oxw:()=>Zp,ALo:()=>a1,lcZ:()=>Qw,xi3:()=>c1,Hsn:()=>nw,F$t:()=>N0,Q6J:()=>To,s9C:()=>Iy,MGl:()=>Ey,VKq:()=>qw,WLB:()=>o1,kEZ:()=>_T,iGM:()=>ag,MAs:()=>Fi,KtG:()=>Td,Jf7:()=>ty,CHM:()=>Yu,uOi:()=>tl,LSH:()=>lp,P3R:()=>up,YNc:()=>zo,W1O:()=>I1,_uU:()=>pw,Oqu:()=>mw,hij:()=>Xi,lnq:()=>Pm,Gf:()=>w1});var b=K(8645),re=K(7394),u=K(5592),be=K(3019),ue=K(5619),fe=K(2096),Ee=K(4829),Qe=K(305),Re=K(9360);function ce(r={}){const{connector:s=(()=>new b.x),resetOnError:a=!0,resetOnComplete:d=!0,resetOnRefCountZero:g=!0}=r;return y=>{let I,S,R,z=0,ie=!1,me=!1;const xe=()=>{S?.unsubscribe(),S=void 0},Be=()=>{xe(),I=R=void 0,ie=me=!1},pt=()=>{const xt=I;Be(),xt?.unsubscribe()};return(0,Re.e)((xt,nn)=>{z++,!me&&!ie&&xe();const In=R=R??s();nn.add(()=>{z--,0===z&&!me&&!ie&&(S=de(pt,g))}),In.subscribe(nn),!I&&z>0&&(I=new Qe.Hp({next:bt=>In.next(bt),error:bt=>{me=!0,xe(),S=de(Be,a,bt),In.error(bt)},complete:()=>{ie=!0,xe(),S=de(Be,d),In.complete()}}),(0,Ee.Xf)(xt).subscribe(I))})(y)}}function de(r,s,...a){if(!0===s)return void r();if(!1===s)return;const d=new Qe.Hp({next:()=>{d.unsubscribe(),r()}});return(0,Ee.Xf)(s(...a)).subscribe(d)}var Me=K(4664),Se=K(3997);function Oe(r){for(let s in r)if(r[s]===Oe)return s;throw Error("Could not find renamed property on target object.")}function Ye(r,s){for(const a in s)s.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=s[a])}function Tt(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(Tt).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function kt(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const Ot=Oe({__forward_ref__:Oe});function Cn(r){return r.__forward_ref__=Cn,r.toString=function(){return Tt(this())},r}function Mt(r){return ft(r)?r():r}function ft(r){return"function"==typeof r&&r.hasOwnProperty(Ot)&&r.__forward_ref__===Cn}function ot(r){return r&&!!r.\u0275providers}const _t="https://g.co/ng/security#xss";class je extends Error{constructor(s,a){super(function ve(r,s){return`NG0${Math.abs(r)}${s?": "+s:""}`}(s,a)),this.code=s}}function Je(r){return"string"==typeof r?r:null==r?"":String(r)}function Sn(r,s){throw new je(-201,!1)}function Dt(r,s,a,d){throw new Error(`ASSERTION ERROR: ${r}`+(null==d?"":` [Expected=> ${a} ${d} ${s} <=Actual]`))}function De(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function ke(r){return{providers:r.providers||[],imports:r.imports||[]}}function ct(r){return At(r,on)||At(r,En)}function vt(r){return null!==ct(r)}function At(r,s){return r.hasOwnProperty(s)?r[s]:null}function An(r){return r&&(r.hasOwnProperty(Xt)||r.hasOwnProperty(Jn))?r[Xt]:null}const on=Oe({\u0275prov:Oe}),Xt=Oe({\u0275inj:Oe}),En=Oe({ngInjectableDef:Oe}),Jn=Oe({ngInjectorDef:Oe});var tn=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(tn||{});let Cr;function Ir(){return Cr}function yn(r){const s=Cr;return Cr=r,s}function ar(r,s,a){const d=ct(r);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:a&tn.Optional?null:void 0!==s?s:void Sn(Tt(r))}const cr=globalThis;class xn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=De({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const V={},G="__NG_DI_FLAG__",W="ngTempTokenPath",we=/\n/gm,Et="__source";let an;function Nn(r){const s=an;return an=r,s}function Kt(r,s=tn.Default){if(void 0===an)throw new je(-203,!1);return null===an?ar(r,void 0,s):an.get(r,s&tn.Optional?null:void 0,s)}function Fn(r,s=tn.Default){return(Ir()||Kt)(Mt(r),s)}function tr(r,s=tn.Default){return Fn(r,qs(s))}function qs(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function Hi(r){const s=[];for(let a=0;a<r.length;a++){const d=Mt(r[a]);if(Array.isArray(d)){if(0===d.length)throw new je(900,!1);let g,y=tn.Default;for(let I=0;I<d.length;I++){const S=d[I],R=Yo(S);"number"==typeof R?-1===R?g=S.token:y|=R:g=S}s.push(Fn(g,y))}else s.push(Fn(d))}return s}function ls(r,s){return r[G]=s,r.prototype[G]=s,r}function Yo(r){return r[G]}function Gr(r){return{toString:r}.toString()}var Ao=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(Ao||{}),ys=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(ys||{});const ts={},lr=[],co=Oe({\u0275cmp:Oe}),No=Oe({\u0275dir:Oe}),Qo=Oe({\u0275pipe:Oe}),va=Oe({\u0275mod:Oe}),Gi=Oe({\u0275fac:Oe}),xs=Oe({__NG_ELEMENT_ID__:Oe}),Jr=Oe({__NG_ENV_ID__:Oe});function Zs(r,s,a){let d=r.length;for(;;){const g=r.indexOf(s,a);if(-1===g)return g;if(0===g||r.charCodeAt(g-1)<=32){const y=s.length;if(g+y===d||r.charCodeAt(g+y)<=32)return g}a=g+1}}function ji(r,s,a){let d=0;for(;d<a.length;){const g=a[d];if("number"==typeof g){if(0!==g)break;d++;const y=a[d++],I=a[d++],S=a[d++];r.setAttribute(s,I,S,y)}else{const y=g,I=a[++d];us(y)?r.setProperty(s,y,I):r.setAttribute(s,y,I),d++}}return d}function Ya(r){return 3===r||4===r||6===r}function us(r){return 64===r.charCodeAt(0)}function Qa(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let a=-1;for(let d=0;d<s.length;d++){const g=s[d];"number"==typeof g?a=g:0===a||li(r,a,g,null,-1===a||2===a?s[++d]:null)}}return r}function li(r,s,a,d,g){let y=0,I=r.length;if(-1===s)I=-1;else for(;y<r.length;){const S=r[y++];if("number"==typeof S){if(S===s){I=-1;break}if(S>s){I=y-1;break}}}for(;y<r.length;){const S=r[y];if("number"==typeof S)break;if(S===a){if(null===d)return void(null!==g&&(r[y+1]=g));if(d===r[y+1])return void(r[y+2]=g)}y++,null!==d&&y++,null!==g&&y++}-1!==I&&(r.splice(I,0,s),y=I+1),r.splice(y++,0,a),null!==d&&r.splice(y++,0,d),null!==g&&r.splice(y++,0,g)}const ka="ng-template";function Rs(r,s,a){let d=0,g=!0;for(;d<r.length;){let y=r[d++];if("string"==typeof y&&g){const I=r[d++];if(a&&"class"===y&&-1!==Zs(I.toLowerCase(),s,0))return!0}else{if(1===y){for(;d<r.length&&"string"==typeof(y=r[d++]);)if(y.toLowerCase()===s)return!0;return!1}"number"==typeof y&&(g=!1)}}return!1}function ba(r){return 4===r.type&&r.value!==ka}function wa(r,s,a){return s===(4!==r.type||a?r.value:ka)}function vs(r,s,a){let d=4;const g=r.attrs||[],y=function jc(r){for(let s=0;s<r.length;s++)if(Ya(r[s]))return s;return r.length}(g);let I=!1;for(let S=0;S<s.length;S++){const R=s[S];if("number"!=typeof R){if(!I)if(4&d){if(d=2|1&d,""!==R&&!wa(r,R,a)||""===R&&1===s.length){if(ii(d))return!1;I=!0}}else{const z=8&d?R:s[++S];if(8&d&&null!==r.attrs){if(!Rs(r.attrs,z,a)){if(ii(d))return!1;I=!0}continue}const me=Ps(8&d?"class":R,g,ba(r),a);if(-1===me){if(ii(d))return!1;I=!0;continue}if(""!==z){let xe;xe=me>y?"":g[me+1].toLowerCase();const Be=8&d?xe:null;if(Be&&-1!==Zs(Be,z,0)||2&d&&z!==xe){if(ii(d))return!1;I=!0}}}}else{if(!I&&!ii(d)&&!ii(R))return!1;if(I&&ii(R))continue;I=!1,d=R|1&d}}return ii(d)||I}function ii(r){return 0==(1&r)}function Ps(r,s,a,d){if(null===s)return-1;let g=0;if(d||!a){let y=!1;for(;g<s.length;){const I=s[g];if(I===r)return g;if(3===I||6===I)y=!0;else{if(1===I||2===I){let S=s[++g];for(;"string"==typeof S;)S=s[++g];continue}if(4===I)break;if(0===I){g+=4;continue}}g+=y?1:2}return-1}return function $i(r,s){let a=r.indexOf(4);if(a>-1)for(a++;a<r.length;){const d=r[a];if("number"==typeof d)return-1;if(d===s)return a;a++}return-1}(s,r)}function bs(r,s,a=!1){for(let d=0;d<s.length;d++)if(vs(r,s[d],a))return!0;return!1}function Bl(r,s){e:for(let a=0;a<s.length;a++){const d=s[a];if(r.length===d.length){for(let g=0;g<r.length;g++)if(r[g]!==d[g])continue e;return!0}}return!1}function zi(r,s){return r?":not("+s.trim()+")":s}function hl(r){let s=r[0],a=1,d=2,g="",y=!1;for(;a<r.length;){let I=r[a];if("string"==typeof I)if(2&d){const S=r[++a];g+="["+I+(S.length>0?'="'+S+'"':"")+"]"}else 8&d?g+="."+I:4&d&&(g+=" "+I);else""!==g&&!ii(I)&&(s+=zi(y,g),g=""),d=I,y=y||!ii(d);a++}return""!==g&&(s+=zi(y,g)),s}function ei(r){return Gr(()=>{const s=Vi(r),a={...s,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===Ao.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||ys.Emulated,styles:r.styles||lr,_:null,schemas:r.schemas||null,tView:null,id:""};lo(a);const d=r.dependencies;return a.directiveDefs=bi(d,!1),a.pipeDefs=bi(d,!0),a.id=function xo(r){let s=0;const a=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const g of a)s=Math.imul(31,s)+g.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(a),a})}function Oo(r){return On(r)||qr(r)}function fl(r){return null!==r}function Wi(r){return Gr(()=>({type:r.type,bootstrap:r.bootstrap||lr,declarations:r.declarations||lr,imports:r.imports||lr,exports:r.exports||lr,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function Jo(r,s){if(null==r)return ts;const a={};for(const d in r)if(r.hasOwnProperty(d)){let g=r[d],y=g;Array.isArray(g)&&(y=g[1],g=g[0]),a[g]=d,s&&(s[g]=y)}return a}function Mo(r){return Gr(()=>{const s=Vi(r);return lo(s),s})}function Xo(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function On(r){return r[co]||null}function qr(r){return r[No]||null}function Bi(r){return r[Qo]||null}function ds(r){const s=On(r)||qr(r)||Bi(r);return null!==s&&s.standalone}function si(r,s){const a=r[va]||null;if(!a&&!0===s)throw new Error(`Type ${Tt(r)} does not have '\u0275mod' property.`);return a}function Vi(r){const s={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:r.inputs||ts,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||lr,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Jo(r.inputs,s),outputs:Jo(r.outputs)}}function lo(r){r.features?.forEach(s=>s(r))}function bi(r,s){if(!r)return null;const a=s?Bi:Oo;return()=>("function"==typeof r?r():r).map(d=>a(d)).filter(fl)}const ur=0,Bt=1,Bn=2,Or=3,Ni=4,Qs=5,Zr=6,Oi=7,Mr=8,Zn=9,ui=10,mn=11,Js=12,La=13,ws=14,jr=15,qi=16,Fs=17,oi=18,uo=19,$c=20,Xs=21,Zi=22,eo=23,Ls=24,Vn=25,ea=1,Is=2,gi=7,vc=9,xr=11;function ti(r){return Array.isArray(r)&&"object"==typeof r[ea]}function Rr(r){return Array.isArray(r)&&!0===r[ea]}function Bs(r){return 0!=(4&r.flags)}function Es(r){return r.componentOffset>-1}function ta(r){return 1==(1&r.flags)}function di(r){return!!r.template}function Mi(r){return 0!=(512&r[Bn])}function tc(r,s){return r.hasOwnProperty(Gi)?r[Gi]:null}let Ii=null,ia=!1;function rs(r){const s=Ii;return Ii=r,s}const fo={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function hi(r){if(!mi(r)||r.dirty){if(!r.producerMustRecompute(r)&&!po(r))return void(r.dirty=!1);r.producerRecomputeValue(r),r.dirty=!1}}function gh(r){r.dirty=!0,function zc(r){if(void 0===r.liveConsumerNode)return;const s=ia;ia=!0;try{for(const a of r.liveConsumerNode)a.dirty||gh(a)}finally{ia=s}}(r),r.consumerMarkedDirty?.(r)}function Ta(r){return r&&(r.nextProducerIndex=0),rs(r)}function Wc(r,s){if(rs(s),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(mi(r))for(let a=r.nextProducerIndex;a<r.producerNode.length;a++)wc(r.producerNode[a],r.producerIndexOfThis[a]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function po(r){Ts(r);for(let s=0;s<r.producerNode.length;s++){const a=r.producerNode[s],d=r.producerLastReadVersion[s];if(d!==a.version||(hi(a),d!==a.version))return!0}return!1}function Us(r){if(Ts(r),mi(r))for(let s=0;s<r.producerNode.length;s++)wc(r.producerNode[s],r.producerIndexOfThis[s]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function wc(r,s){if(function hs(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}(r),Ts(r),1===r.liveConsumerNode.length)for(let d=0;d<r.producerNode.length;d++)wc(r.producerNode[d],r.producerIndexOfThis[d]);const a=r.liveConsumerNode.length-1;if(r.liveConsumerNode[s]=r.liveConsumerNode[a],r.liveConsumerIndexOfThis[s]=r.liveConsumerIndexOfThis[a],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,s<r.liveConsumerNode.length){const d=r.liveConsumerIndexOfThis[s],g=r.liveConsumerNode[s];Ts(g),g.producerIndexOfThis[d]=s}}function mi(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function Ts(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}let Ic=null;function $r(r){const s=rs(null);try{return r()}finally{rs(s)}}const Kn=()=>{},br=(()=>({...fo,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{r.schedule(r.ref)},hasRun:!1,cleanupFn:Kn}))();class kr{constructor(s,a,d){this.previousValue=s,this.currentValue=a,this.firstChange=d}isFirstChange(){return this.firstChange}}function ps(){return _i}function _i(r){return r.type.prototype.ngOnChanges&&(r.setInput=ss),yi}function yi(){const r=oa(this),s=r?.current;if(s){const a=r.previous;if(a===ts)r.previous=s;else for(let d in s)a[d]=s[d];r.current=null,this.ngOnChanges(s)}}function ss(r,s,a,d){const g=this.declaredInputs[a],y=oa(r)||function sc(r,s){return r[Ds]=s}(r,{previous:ts,current:null}),I=y.current||(y.current={}),S=y.previous,R=S[g];I[g]=new kr(R&&R.currentValue,s,S===ts),r[d]=s}ps.ngInherit=!0;const Ds="__ngSimpleChanges__";function oa(r){return r[Ds]||null}const Hs=function(r,s,a){},oc="svg";function fi(r){for(;Array.isArray(r);)r=r[ur];return r}function Ec(r,s){return fi(s[r])}function Gs(r,s){return fi(s[r.index])}function _l(r,s){return r.data[s]}function Tc(r,s){return r[s]}function Ei(r,s){const a=s[r];return ti(a)?a:a[ur]}function ca(r,s){return null==s?null:r[s]}function Zu(r){r[Fs]=0}function Id(r){1024&r[Bn]||(r[Bn]|=1024,yl(r,1))}function vi(r){1024&r[Bn]&&(r[Bn]&=-1025,yl(r,-1))}function yl(r,s){let a=r[Or];if(null===a)return;a[Qs]+=s;let d=a;for(a=a[Or];null!==a&&(1===s&&1===d[Qs]||-1===s&&0===d[Qs]);)a[Qs]+=s,d=a,a=a[Or]}function la(r,s){if(256==(256&r[Bn]))throw new je(911,!1);null===r[Xs]&&(r[Xs]=[]),r[Xs].push(s)}const _n={lFrame:He(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function jl(){return _n.bindingsEnabled}function Da(){return null!==_n.skipHydrationRootTNode}function ht(){return _n.lFrame.lView}function Er(){return _n.lFrame.tView}function Yu(r){return _n.lFrame.contextLView=r,r[Mr]}function Td(r){return _n.lFrame.contextLView=null,r}function os(){let r=Qu();for(;null!==r&&64===r.type;)r=r.parent;return r}function Qu(){return _n.lFrame.currentTNode}function bl(){const r=_n.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}function _o(r,s){const a=_n.lFrame;a.currentTNode=r,a.isParent=s}function mu(){return _n.lFrame.isParent}function ac(){_n.lFrame.isParent=!1}function js(){const r=_n.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function Ua(){return _n.lFrame.bindingIndex++}function Ha(r){const s=_n.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,a}function $l(r){_n.lFrame.inI18n=r}function mh(r,s){const a=_n.lFrame;a.bindingIndex=a.bindingRootIndex=r,C(s)}function C(r){_n.lFrame.currentDirectiveIndex=r}function D(){return _n.lFrame.currentQueryIndex}function P(r){_n.lFrame.currentQueryIndex=r}function j(r){const s=r[Bt];return 2===s.type?s.declTNode:1===s.type?r[Zr]:null}function se(r,s,a){if(a&tn.SkipSelf){let g=s,y=r;for(;!(g=g.parent,null!==g||a&tn.Host||(g=j(y),null===g||(y=y[ws],10&g.type))););if(null===g)return!1;s=g,r=y}const d=_n.lFrame=ze();return d.currentTNode=s,d.lView=r,!0}function _e(r){const s=ze(),a=r[Bt];_n.lFrame=s,s.currentTNode=a.firstChild,s.lView=r,s.tView=a,s.contextLView=r,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function ze(){const r=_n.lFrame,s=null===r?null:r.child;return null===s?He(r):s}function He(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function $t(){const r=_n.lFrame;return _n.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Ln=$t;function Ar(){const r=$t();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function zr(){return _n.lFrame.selectedIndex}function ua(r){_n.lFrame.selectedIndex=r}function Fr(){const r=_n.lFrame;return _l(r.tView,r.selectedIndex)}function Fo(){_n.lFrame.currentNamespace=oc}function Cd(){!function Ca(){_n.lFrame.currentNamespace=null}()}let _h=!0;function Of(){return _h}function Dc(r){_h=r}function ed(r,s){for(let a=s.directiveStart,d=s.directiveEnd;a<d;a++){const y=r.data[a].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:S,ngAfterViewInit:R,ngAfterViewChecked:z,ngOnDestroy:ie}=y;I&&(r.contentHooks??=[]).push(-a,I),S&&((r.contentHooks??=[]).push(a,S),(r.contentCheckHooks??=[]).push(a,S)),R&&(r.viewHooks??=[]).push(-a,R),z&&((r.viewHooks??=[]).push(a,z),(r.viewCheckHooks??=[]).push(a,z)),null!=ie&&(r.destroyHooks??=[]).push(a,ie)}}function Il(r,s,a){yu(r,s,3,a)}function El(r,s,a,d){(3&r[Bn])===a&&yu(r,s,a,d)}function Sd(r,s){let a=r[Bn];(3&a)===s&&(a&=8191,a+=1,r[Bn]=a)}function yu(r,s,a,d){const y=d??-1,I=s.length-1;let S=0;for(let R=void 0!==d?65535&r[Fs]:0;R<I;R++)if("number"==typeof s[R+1]){if(S=s[R],null!=d&&S>=d)break}else s[R]<0&&(r[Fs]+=65536),(S<y||-1==y)&&(uc(r,a,s,R),r[Fs]=(4294901760&r[Fs])+R+2),R++}function Ad(r,s){Hs(4,r,s);const a=rs(null);try{s.call(r)}finally{rs(a),Hs(5,r,s)}}function uc(r,s,a,d){const g=a[d]<0,y=a[d+1],S=r[g?-a[d]:a[d]];g?r[Bn]>>13<r[Fs]>>16&&(3&r[Bn])===s&&(r[Bn]+=8192,Ad(S,y)):Ad(S,y)}const Tl=-1;class td{constructor(s,a,d){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=d}}function vu(r){return r!==Tl}function Wl(r){return 32767&r}function ql(r,s){let a=function bh(r){return r>>16}(r),d=s;for(;a>0;)d=d[ws],a--;return d}let bu=!0;function Jc(r){const s=bu;return bu=r,s}const wu=255,nd=5;let Iu=0;const vo={};function Dl(r,s){const a=Eu(r,s);if(-1!==a)return a;const d=s[Bt];d.firstCreatePass&&(r.injectorIndex=s.length,Cc(d.data,r),Cc(s,null),Cc(d.blueprint,null));const g=Tu(r,s),y=r.injectorIndex;if(vu(g)){const I=Wl(g),S=ql(g,s),R=S[Bt].data;for(let z=0;z<8;z++)s[y+z]=S[I+z]|R[I+z]}return s[y+8]=g,y}function Cc(r,s){r.push(0,0,0,0,0,0,0,0,s)}function Eu(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function Tu(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let a=0,d=null,g=s;for(;null!==g;){if(d=O(g),null===d)return Tl;if(a++,g=g[ws],-1!==d.injectorIndex)return d.injectorIndex|a<<16}return Tl}function Zl(r,s,a){!function rd(r,s,a){let d;"string"==typeof a?d=a.charCodeAt(0)||0:a.hasOwnProperty(xs)&&(d=a[xs]),null==d&&(d=a[xs]=Iu++);const g=d&wu;s.data[r+(g>>nd)]|=1<<g}(r,s,a)}function yg(r,s,a){if(a&tn.Optional||void 0!==r)return r;Sn()}function Rf(r,s,a,d){if(a&tn.Optional&&void 0===d&&(d=null),!(a&(tn.Self|tn.Host))){const g=r[Zn],y=yn(void 0);try{return g?g.get(s,d,a&tn.Optional):ar(s,d,a&tn.Optional)}finally{yn(y)}}return yg(d,0,a)}function Kl(r,s,a,d=tn.Default,g){if(null!==r){if(2048&s[Bn]&&!(d&tn.Self)){const I=function Rd(r,s,a,d,g){let y=r,I=s;for(;null!==y&&null!==I&&2048&I[Bn]&&!(512&I[Bn]);){const S=Pf(y,I,a,d|tn.Self,vo);if(S!==vo)return S;let R=y.parent;if(!R){const z=I[$c];if(z){const ie=z.get(a,vo,d);if(ie!==vo)return ie}R=O(I),I=I[ws]}y=R}return g}(r,s,a,d,vo);if(I!==vo)return I}const y=Pf(r,s,a,d,vo);if(y!==vo)return y}return Rf(s,a,d,g)}function Pf(r,s,a,d,g){const y=function Md(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(xs)?r[xs]:void 0;return"number"==typeof s?s>=0?s&wu:kf:s}(a);if("function"==typeof y){if(!se(s,r,d))return d&tn.Host?yg(g,0,d):Rf(s,a,d,g);try{let I;if(I=y(d),null!=I||d&tn.Optional)return I;Sn()}finally{Ln()}}else if("number"==typeof y){let I=null,S=Eu(r,s),R=Tl,z=d&tn.Host?s[jr][Zr]:null;for((-1===S||d&tn.SkipSelf)&&(R=-1===S?Tu(r,s):s[S+8],R!==Tl&&Du(d,!1)?(I=s[Bt],S=Wl(R),s=ql(R,s)):S=-1);-1!==S;){const ie=s[Bt];if(Sc(y,S,ie.data)){const me=Yl(S,s,a,I,d,z);if(me!==vo)return me}R=s[S+8],R!==Tl&&Du(d,s[Bt].data[S+8]===z)&&Sc(y,S,s)?(I=ie,S=Wl(R),s=ql(R,s)):S=-1}}return g}function Yl(r,s,a,d,g,y){const I=s[Bt],S=I.data[r+8],ie=Cl(S,I,a,null==d?Es(S)&&bu:d!=I&&0!=(3&S.type),g&tn.Host&&y===S);return null!==ie?Xc(s,I,ie,S):vo}function Cl(r,s,a,d,g){const y=r.providerIndexes,I=s.data,S=1048575&y,R=r.directiveStart,ie=y>>20,xe=g?S+ie:r.directiveEnd;for(let Be=d?S:S+ie;Be<xe;Be++){const pt=I[Be];if(Be<R&&a===pt||Be>=R&&pt.type===a)return Be}if(g){const Be=I[R];if(Be&&di(Be)&&Be.type===a)return R}return null}function Xc(r,s,a,d){let g=r[a];const y=s.data;if(function yh(r){return r instanceof td}(g)){const I=g;I.resolving&&function kn(r,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new je(-200,`Circular dependency in DI detected for ${r}${a}`)}(function mt(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Je(r)}(y[a]));const S=Jc(I.canSeeViewProviders);I.resolving=!0;const z=I.injectImpl?yn(I.injectImpl):null;se(r,d,tn.Default);try{g=r[a]=I.factory(void 0,y,r,d),s.firstCreatePass&&a>=d.directiveStart&&function gg(r,s,a){const{ngOnChanges:d,ngOnInit:g,ngDoCheck:y}=s.type.prototype;if(d){const I=_i(s);(a.preOrderHooks??=[]).push(r,I),(a.preOrderCheckHooks??=[]).push(r,I)}g&&(a.preOrderHooks??=[]).push(0-r,g),y&&((a.preOrderHooks??=[]).push(r,y),(a.preOrderCheckHooks??=[]).push(r,y))}(a,y[a],s)}finally{null!==z&&yn(z),Jc(S),I.resolving=!1,Ln()}}return g}function Sc(r,s,a){return!!(a[s+(r>>nd)]&1<<r)}function Du(r,s){return!(r&tn.Self||r&tn.Host&&s)}class Lo{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,d){return Kl(this._tNode,this._lView,s,qs(d),a)}}function kf(){return new Lo(os(),ht())}function xd(r){return Gr(()=>{const s=r.prototype.constructor,a=s[Gi]||id(s),d=Object.prototype;let g=Object.getPrototypeOf(r.prototype).constructor;for(;g&&g!==d;){const y=g[Gi]||id(g);if(y&&y!==a)return y;g=Object.getPrototypeOf(g)}return y=>new y})}function id(r){return ft(r)?()=>{const s=id(Mt(r));return s&&s()}:tc(r)}function O(r){const s=r[Bt],a=s.type;return 2===a?s.declTNode:1===a?r[Zr]:null}function L(r){return function Od(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const a=r.attrs;if(a){const d=a.length;let g=0;for(;g<d;){const y=a[g];if(Ya(y))break;if(0===y)g+=2;else if("number"==typeof y)for(g++;g<d&&"string"==typeof a[g];)g++;else{if(y===s)return a[g+1];g+=2}}}return null}(os(),r)}const he="__parameters__";function Ht(r,s,a){return Gr(()=>{const d=function at(r){return function(...a){if(r){const d=r(...a);for(const g in d)this[g]=d[g]}}}(s);function g(...y){if(this instanceof g)return d.apply(this,y),this;const I=new g(...y);return S.annotation=I,S;function S(R,z,ie){const me=R.hasOwnProperty(he)?R[he]:Object.defineProperty(R,he,{value:[]})[he];for(;me.length<=ie;)me.push(null);return(me[ie]=me[ie]||[]).push(I),R}}return a&&(g.prototype=Object.create(a.prototype)),g.prototype.ngMetadataName=r,g.annotationCls=g,g})}function Ih(r,s){r.forEach(a=>Array.isArray(a)?Ih(a,s):s(a))}function Eh(r,s,a){s>=r.length?r.push(a):r.splice(s,0,a)}function kd(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function Ql(r,s){const a=[];for(let d=0;d<r;d++)a.push(s);return a}function da(r,s,a){let d=Su(r,s);return d>=0?r[1|d]=a:(d=~d,function f_(r,s,a,d){let g=r.length;if(g==s)r.push(a,d);else if(1===g)r.push(d,r[0]),r[0]=a;else{for(g--,r.push(r[g-1],r[g]);g>s;)r[g]=r[g-2],g--;r[s]=a,r[s+1]=d}}(r,d,s,a)),d}function Lf(r,s){const a=Su(r,s);if(a>=0)return r[1|a]}function Su(r,s){return function bg(r,s,a){let d=0,g=r.length>>a;for(;g!==d;){const y=d+(g-d>>1),I=r[y<<a];if(s===I)return y<<a;I>s?g=y:d=y+1}return~(g<<a)}(r,s,1)}const Th=ls(Ht("Optional"),8),Tg=ls(Ht("SkipSelf"),4);function vv(r){return 128==(128&r.flags)}var wv=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(wv||{});const CD=/^>|^->|<!--|-->|--!>|<!-$/g,SD=/(<|>)/g,AD="\u200b$1\u200b";const m_=new Map;let cb=0;const __="__ngContext__";function Na(r,s){ti(s)?(r[__]=s[uo],function cd(r){m_.set(r[uo],r)}(s)):r[__]=s}let Ch;function Bd(r,s){return Ch(r,s)}function jf(r){const s=r[Or];return Rr(s)?s[Or]:s}function Ti(r){return $f(r[Js])}function Sh(r){return $f(r[Ni])}function $f(r){for(;null!==r&&!Rr(r);)r=r[Ni];return r}function Mu(r,s,a,d,g){if(null!=d){let y,I=!1;Rr(d)?y=d:ti(d)&&(I=!0,d=d[ur]);const S=fi(d);0===r&&null!==a?null==g?Cv(s,a,S):xu(s,a,S,g||null,!0):1===r&&null!==a?xu(s,a,S,g||null,!0):2===r?function A_(r,s,a){const d=Hd(r,s);d&&function fb(r,s,a,d){r.removeChild(s,a,d)}(r,d,s,a)}(s,S,I):3===r&&s.destroyNode(S),null!=y&&function QI(r,s,a,d,g){const y=a[gi];y!==fi(a)&&Mu(s,r,d,y,g);for(let S=xr;S<a.length;S++){const R=a[S];Hg(R[Bt],R,r,s,d,y)}}(s,r,y,a,g)}}function Vd(r,s){return r.createText(s)}function Lg(r,s){return r.createComment(function ab(r){return r.replace(CD,s=>s.replace(SD,AD))}(s))}function zf(r,s,a){return r.createElement(s,a)}function Ud(r,s){const a=r[vc],d=a.indexOf(s);vi(s),a.splice(d,1)}function qf(r,s){if(r.length<=xr)return;const a=xr+s,d=r[a];if(d){const g=d[qi];null!==g&&g!==r&&Ud(g,d),s>0&&(r[a-1][Ni]=d[Ni]);const y=kd(r,xr+s);!function w_(r,s){Hg(r,s,s[mn],2,null,null),s[ur]=null,s[Zr]=null}(d[Bt],d);const I=y[oi];null!==I&&I.detachView(y[Bt]),d[Or]=null,d[Ni]=null,d[Bn]&=-129}return d}function Ah(r,s){if(!(256&s[Bn])){const a=s[mn];s[eo]&&Us(s[eo]),s[Ls]&&Us(s[Ls]),a.destroyNode&&Hg(r,s,a,3,null,null),function Dv(r){let s=r[Js];if(!s)return Zf(r[Bt],r);for(;s;){let a=null;if(ti(s))a=s[Js];else{const d=s[xr];d&&(a=d)}if(!a){for(;s&&!s[Ni]&&s!==r;)ti(s)&&Zf(s[Bt],s),s=s[Or];null===s&&(s=r),ti(s)&&Zf(s[Bt],s),a=s&&s[Ni]}s=a}}(s)}}function Zf(r,s){if(!(256&s[Bn])){s[Bn]&=-129,s[Bn]|=256,function T_(r,s){let a;if(null!=r&&null!=(a=r.destroyHooks))for(let d=0;d<a.length;d+=2){const g=s[a[d]];if(!(g instanceof td)){const y=a[d+1];if(Array.isArray(y))for(let I=0;I<y.length;I+=2){const S=g[y[I]],R=y[I+1];Hs(4,S,R);try{R.call(S)}finally{Hs(5,S,R)}}else{Hs(4,g,y);try{y.call(g)}finally{Hs(5,g,y)}}}}}(r,s),function hb(r,s){const a=r.cleanup,d=s[Oi];if(null!==a)for(let y=0;y<a.length-1;y+=2)if("string"==typeof a[y]){const I=a[y+3];I>=0?d[I]():d[-I].unsubscribe(),y+=2}else a[y].call(d[a[y+1]]);null!==d&&(s[Oi]=null);const g=s[Xs];if(null!==g){s[Xs]=null;for(let y=0;y<g.length;y++)(0,g[y])()}}(r,s),1===s[Bt].type&&s[mn].destroy();const a=s[qi];if(null!==a&&Rr(s[Or])){a!==s[Or]&&Ud(a,s);const d=s[oi];null!==d&&d.detachView(r)}!function lb(r){m_.delete(r[uo])}(s)}}function Kf(r,s,a){return Vg(r,s.parent,a)}function Vg(r,s,a){let d=s;for(;null!==d&&40&d.type;)d=(s=d).parent;if(null===d)return a[ur];{const{componentOffset:g}=d;if(g>-1){const{encapsulation:y}=r.data[d.directiveStart+g];if(y===ys.None||y===ys.Emulated)return null}return Gs(d,a)}}function xu(r,s,a,d,g){r.insertBefore(s,a,d,g)}function Cv(r,s,a){r.appendChild(s,a)}function Sv(r,s,a,d,g){null!==d?xu(r,s,a,d,g):Cv(r,s,a)}function Hd(r,s){return r.parentNode(s)}function Yf(r,s,a){return Jf(r,s,a)}function Qf(r,s,a){return 40&r.type?Gs(r,a):null}let Ug,Nh,tp,xi,Jf=Qf;function S_(r,s){Jf=r,Ug=s}function Xf(r,s,a,d){const g=Kf(r,d,s),y=s[mn],S=Yf(d.parent||s[Zr],d,s);if(null!=g)if(Array.isArray(a))for(let R=0;R<a.length;R++)Sv(y,g,a[R],S,!1);else Sv(y,g,a,S,!1);void 0!==Ug&&Ug(y,d,s,a,g)}function Xl(r,s){if(null!==s){const a=s.type;if(3&a)return Gs(s,r);if(4&a)return Nv(-1,r[s.index]);if(8&a){const d=s.child;if(null!==d)return Xl(r,d);{const g=r[s.index];return Rr(g)?Nv(-1,g):fi(g)}}if(32&a)return Bd(s,r)()||fi(r[s.index]);{const d=Av(r,s);return null!==d?Array.isArray(d)?d[0]:Xl(jf(r[jr]),d):Xl(r,s.next)}}return null}function Av(r,s){return null!==s?r[jr][Zr].projection[s.projection]:null}function Nv(r,s){const a=xr+r+1;if(a<s.length){const d=s[a],g=d[Bt].firstChild;if(null!==g)return Xl(d,g)}return s[gi]}function Ov(r,s,a,d,g,y,I){for(;null!=a;){const S=d[a.index],R=a.type;if(I&&0===s&&(S&&Na(fi(S),d),a.flags|=2),32!=(32&a.flags))if(8&R)Ov(r,s,a.child,d,g,y,!1),Mu(s,r,g,S,y);else if(32&R){const z=Bd(a,d);let ie;for(;ie=z();)Mu(s,r,g,ie,y);Mu(s,r,g,S,y)}else 16&R?gb(r,s,d,a,g,y):Mu(s,r,g,S,y);a=I?a.projectionNext:a.next}}function Hg(r,s,a,d,g,y){Ov(a,d,r.firstChild,s,g,y,!1)}function gb(r,s,a,d,g,y){const I=a[jr],R=I[Zr].projection[d.projection];if(Array.isArray(R))for(let z=0;z<R.length;z++)Mu(s,r,g,R[z],y);else{let z=R;const ie=I[Or];vv(d)&&(z.flags|=128),Ov(r,s,z,ie,g,y,!0)}}function Mv(r,s,a){""===a?r.removeAttribute(s,"class"):r.setAttribute(s,"class",a)}function xv(r,s,a){const{mergedAttrs:d,classes:g,styles:y}=a;null!==d&&ji(r,s,d),null!==g&&Mv(r,s,g),null!==y&&function N_(r,s,a){r.setAttribute(s,"style",a)}(r,s,y)}function ep(r){return function Rv(){if(void 0===Nh&&(Nh=null,cr.trustedTypes))try{Nh=cr.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Nh}()?.createHTML(r)||r}function yb(r){tp=r}function ja(){if(void 0!==tp)return tp;if(typeof document<"u")return document;throw new je(210,!1)}function vb(r){return function Gg(){if(void 0===xi&&(xi=null,cr.trustedTypes))try{xi=cr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return xi}()?.createScriptURL(r)||r}class Mh{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_t})`}}class O_ extends Mh{getTypeName(){return"HTML"}}class bb extends Mh{getTypeName(){return"Style"}}class np extends Mh{getTypeName(){return"Script"}}class rp extends Mh{getTypeName(){return"URL"}}class jg extends Mh{getTypeName(){return"ResourceURL"}}function eu(r){return r instanceof Mh?r.changingThisBreaksApplicationSecurity:r}function ip(r,s){const a=function M_(r){return r instanceof Mh&&r.getTypeName()||null}(r);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${_t})`)}return a===s}function tE(r){return new O_(r)}function xh(r){return new bb(r)}function Rh(r){return new np(r)}function sp(r){return new rp(r)}function $g(r){return new jg(r)}function kv(r){const s=new Gd(r);return function wb(){try{return!!(new window.DOMParser).parseFromString(ep(""),"text/html")}catch{return!1}}()?new x_(s):s}class x_{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(ep(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class Gd{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=ep(s),a}}const ND=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Fv(r){return(r=String(r)).match(ND)?r:"unsafe:"+r}function jd(r){const s={};for(const a of r.split(","))s[a]=!0;return s}function R_(...r){const s={};for(const a of r)for(const d in a)a.hasOwnProperty(d)&&(s[d]=!0);return s}const Ib=jd("area,br,col,hr,img,wbr"),Al=jd("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rn=jd("rp,rt"),Ph=R_(Ib,R_(Al,jd("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),R_(rn,jd("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),R_(rn,Al)),Bv=jd("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Db=R_(Bv,jd("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),jd("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nE=jd("script,style,template");class pa{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,d=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?d=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,d&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let g=this.checkClobberedElement(a,a.nextSibling);if(g){a=g;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!Ph.hasOwnProperty(a))return this.sanitizedSomething=!0,!nE.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const d=s.attributes;for(let g=0;g<d.length;g++){const y=d.item(g),I=y.name,S=I.toLowerCase();if(!Db.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let R=y.value;Bv[S]&&(R=Fv(R)),this.buf.push(" ",I,'="',tu(R),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();Ph.hasOwnProperty(a)&&!Ib.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(tu(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const zg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ga=/([^\#-~ |!])/g;function tu(r){return r.replace(/&/g,"&amp;").replace(zg,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(ga,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let op;function kh(r,s){let a=null;try{op=op||kv(r);let d=s?String(s):"";a=op.getInertBodyElement(d);let g=5,y=d;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,d=y,y=a.innerHTML,a=op.getInertBodyElement(d)}while(d!==y);return ep((new pa).sanitizeChildren(ap(a)||a))}finally{if(a){const d=ap(a)||a;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function ap(r){return"content"in r&&function cp(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var $s=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}($s||{});function lp(r){const s=dp();return s?s.sanitize($s.URL,r)||"":ip(r,"URL")?eu(r):Fv(Je(r))}function tl(r){const s=dp();if(s)return vb(s.sanitize($s.RESOURCE_URL,r)||"");if(ip(r,"ResourceURL"))return vb(eu(r));throw new je(904,!1)}function up(r,s,a){return function Fh(r,s){return"src"===s&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===s&&("base"===r||"link"===r)?tl:lp}(s,a)(r)}function dp(){const r=ht();return r&&r[ui].sanitizer}const Lh=new xn("ENVIRONMENT_INITIALIZER"),qg=new xn("INJECTOR",-1),hp=new xn("INJECTOR_DEF_TYPES");class fp{get(s,a=V){if(a===V){const d=new Error(`NullInjectorError: No provider for ${Tt(s)}!`);throw d.name="NullInjectorError",d}return a}}function P_(...r){return{\u0275providers:Zg(0,r),\u0275fromNgModule:!0}}function Zg(r,...s){const a=[],d=new Set;let g;const y=I=>{a.push(I)};return Ih(s,I=>{const S=I;nl(S,y,[],d)&&(g||=[],g.push(S))}),void 0!==g&&Hv(g,y),a}function Hv(r,s){for(let a=0;a<r.length;a++){const{ngModule:d,providers:g}=r[a];nu(g,y=>{s(y,d)})}}function nl(r,s,a,d){if(!(r=Mt(r)))return!1;let g=null,y=An(r);const I=!y&&On(r);if(y||I){if(I&&!I.standalone)return!1;g=r}else{const R=r.ngModule;if(y=An(R),!y)return!1;g=R}const S=d.has(g);if(I){if(S)return!1;if(d.add(g),I.dependencies){const R="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const z of R)nl(z,s,a,d)}}else{if(!y)return!1;{if(null!=y.imports&&!S){let z;d.add(g);try{Ih(y.imports,ie=>{nl(ie,s,a,d)&&(z||=[],z.push(ie))})}finally{}void 0!==z&&Hv(z,s)}if(!S){const z=tc(g)||(()=>new g);s({provide:g,useFactory:z,deps:lr},g),s({provide:hp,useValue:g,multi:!0},g),s({provide:Lh,useValue:()=>Fn(g),multi:!0},g)}const R=y.providers;if(null!=R&&!S){const z=r;nu(R,ie=>{s(ie,z)})}}}return g!==r&&void 0!==r.providers}function nu(r,s){for(let a of r)ot(a)&&(a=a.\u0275providers),Array.isArray(a)?nu(a,s):s(a)}const Nb=Oe({provide:String,useValue:Oe});function k_(r){return null!==r&&"object"==typeof r&&Nb in r}function Ru(r){return"function"==typeof r}const F_=new xn("Set Injector scope."),Bh={},Yg={};let Vh;function $d(){return void 0===Vh&&(Vh=new fp),Vh}class Oc{}class Pu extends Oc{get destroyed(){return this._destroyed}constructor(s,a,d,g){super(),this.parent=a,this.source=d,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Jg(s,I=>this.processProvider(I)),this.records.set(qg,Uh(void 0,this)),g.has("environment")&&this.records.set(Oc,Uh(void 0,this));const y=this.records.get(F_);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(hp.multi,lr,tn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=Nn(this),d=yn(void 0);try{return s()}finally{Nn(a),yn(d)}}get(s,a=V,d=tn.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(Jr))return s[Jr](this);d=qs(d);const y=Nn(this),I=yn(void 0);try{if(!(d&tn.SkipSelf)){let R=this.records.get(s);if(void 0===R){const z=function Mb(r){return"function"==typeof r||"object"==typeof r&&r instanceof xn}(s)&&ct(s);R=z&&this.injectableDefInScope(z)?Uh(_p(s),Bh):null,this.records.set(s,R)}if(null!=R)return this.hydrate(s,R)}return(d&tn.Self?$d():this.parent).get(s,a=d&tn.Optional&&a===V?null:a)}catch(S){if("NullInjectorError"===S.name){if((S[W]=S[W]||[]).unshift(Tt(s)),y)throw S;return function Ra(r,s,a,d){const g=r[W];throw s[Et]&&g.unshift(s[Et]),r.message=function Pa(r,s,a,d=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let g=Tt(s);if(Array.isArray(s))g=s.map(Tt).join(" -> ");else if("object"==typeof s){let y=[];for(let I in s)if(s.hasOwnProperty(I)){let S=s[I];y.push(I+":"+("string"==typeof S?JSON.stringify(S):Tt(S)))}g=`{${y.join(", ")}}`}return`${a}${d?"("+d+")":""}[${g}]: ${r.replace(we,"\n  ")}`}("\n"+r.message,g,a,d),r.ngTokenPath=g,r[W]=null,r}(S,s,"R3InjectorError",this.source)}throw S}finally{yn(I),Nn(y)}}resolveInjectorInitializers(){const s=Nn(this),a=yn(void 0);try{const g=this.get(Lh.multi,lr,tn.Self);for(const y of g)y()}finally{Nn(s),yn(a)}}toString(){const s=[],a=this.records;for(const d of a.keys())s.push(Tt(d));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new je(205,!1)}processProvider(s){let a=Ru(s=Mt(s))?s:Mt(s&&s.provide);const d=function Gv(r){return k_(r)?Uh(void 0,r.useValue):Uh(jv(r),Bh)}(s);if(Ru(s)||!0!==s.multi)this.records.get(a);else{let g=this.records.get(a);g||(g=Uh(void 0,Bh,!0),g.factory=()=>Hi(g.multi),this.records.set(a,g)),a=s,g.multi.push(s)}this.records.set(a,d)}hydrate(s,a){return a.value===Bh&&(a.value=Yg,a.value=a.factory()),"object"==typeof a.value&&a.value&&function $v(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Mt(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function _p(r){const s=ct(r),a=null!==s?s.factory:tc(r);if(null!==a)return a;if(r instanceof xn)throw new je(204,!1);if(r instanceof Function)return function L_(r){const s=r.length;if(s>0)throw Ql(s,"?"),new je(204,!1);const a=function wr(r){return r&&(r[on]||r[En])||null}(r);return null!==a?()=>a.factory(r):()=>new r}(r);throw new je(204,!1)}function jv(r,s,a){let d;if(Ru(r)){const g=Mt(r);return tc(g)||_p(g)}if(k_(r))d=()=>Mt(r.useValue);else if(function Kg(r){return!(!r||!r.useFactory)}(r))d=()=>r.useFactory(...Hi(r.deps||[]));else if(function mp(r){return!(!r||!r.useExisting)}(r))d=()=>Fn(Mt(r.useExisting));else{const g=Mt(r&&(r.useClass||r.provide));if(!function Qg(r){return!!r.deps}(r))return tc(g)||_p(g);d=()=>new g(...Hi(r.deps))}return d}function Uh(r,s,a=!1){return{factory:r,value:s,multi:a?[]:void 0}}function Jg(r,s){for(const a of r)Array.isArray(a)?Jg(a,s):a&&ot(a)?Jg(a.\u0275providers,s):s(a)}const B_=new xn("AppId",{providedIn:"root",factory:()=>zv}),zv="ng",Uo=new xn("Platform Initializer"),Ho=new xn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Wv=new xn("AnimationModuleType"),rE=new xn("CSP nonce",{providedIn:"root",factory:()=>ja().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let rm=(r,s,a)=>null;function Wd(r,s,a=!1){return rm(r,s,a)}class q_{}class sm{}class om{resolveComponentFactory(s){throw function Yv(r){const s=Error(`No component factory found for ${Tt(r)}.`);return s.ngComponent=r,s}(s)}}let zh=(()=>{class r{static#e=this.NULL=new om}return r})();function Jv(){return Zd(os(),ht())}function Zd(r,s){return new Kd(Gs(r,s))}let Kd=(()=>{class r{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=Jv}return r})();function am(r){return r instanceof Kd?r.nativeElement:r}class cm{}let cE=(()=>{class r{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Xv(){const r=ht(),a=Ei(os().index,r);return(ti(a)?a:r)[mn]}()}return r})(),lm=(()=>{class r{static#e=this.\u0275prov=De({token:r,providedIn:"root",factory:()=>null})}return r})();class Z_{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const e0=new Z_("16.2.12"),K_={};function Y_(r){if(!Ir()&&!function pn(){return an}())throw new je(-203,!1)}function Q_(r,s=null,a=null,d){const g=n0(r,s,a,d);return g.resolveInjectorInitializers(),g}function n0(r,s=null,a=null,d,g=new Set){const y=[a||lr,P_(r)];return d=d||("object"==typeof r?void 0:Tt(r)),new Pu(y,s||$d(),d||null,g)}let ma=(()=>{class r{static#e=this.THROW_IF_NOT_FOUND=V;static#t=this.NULL=new fp;static create(a,d){if(Array.isArray(a))return Q_({name:""},d,a,"");{const g=a.name??"";return Q_({name:g},a.parent,a.providers,g)}}static#n=this.\u0275prov=De({token:r,providedIn:"any",factory:()=>Fn(qg)});static#r=this.__NG_ELEMENT_ID__=-1}return r})();function Zh(r){return r.ngOriginalError}class Fu{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Zh(s);for(;a&&Zh(a);)a=Zh(a);return a||null}}let Di=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=Ip;static#t=this.__NG_ENV_ID__=a=>a}return r})();class dm extends Di{constructor(s){super(),this._lView=s}onDestroy(s){return la(this._lView,s),()=>function Yi(r,s){if(null===r[Xs])return;const a=r[Xs].indexOf(s);-1!==a&&r[Xs].splice(a,1)}(this._lView,s)}}function Ip(){return new dm(ht())}function X_(r){return s=>{setTimeout(r,void 0,s)}}const Ol=class Ep extends b.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,d){let g=s,y=a||(()=>null),I=d;if(s&&"object"==typeof s){const R=s;g=R.next?.bind(R),y=R.error?.bind(R),I=R.complete?.bind(R)}this.__isAsync&&(y=X_(y),g&&(g=X_(g)),I&&(I=X_(I)));const S=super.subscribe({next:g,error:y,complete:I});return s instanceof re.w0&&s.add(S),S}};function r0(...r){}class Go{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ol(!1),this.onMicrotaskEmpty=new Ol(!1),this.onStable=new Ol(!1),this.onError=new Ol(!1),typeof Zone>"u")throw new je(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!d&&a,g.shouldCoalesceRunChangeDetection=d,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function Bb(){const r="function"==typeof cr.requestAnimationFrame;let s=cr[r?"requestAnimationFrame":"setTimeout"],a=cr[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&a){const d=s[Zone.__symbol__("OriginalDelegate")];d&&(s=d);const g=a[Zone.__symbol__("OriginalDelegate")];g&&(a=g)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function o0(r){const s=()=>{!function s0(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(cr,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,hm(r),r.isCheckStableRunning=!0,iu(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),hm(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,d,g,y,I,S)=>{if(function l0(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(S))return a.invokeTask(g,y,I,S);try{return Qd(r),a.invokeTask(g,y,I,S)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||r.shouldCoalesceRunChangeDetection)&&s(),a0(r)}},onInvoke:(a,d,g,y,I,S,R)=>{try{return Qd(r),a.invoke(g,y,I,S,R)}finally{r.shouldCoalesceRunChangeDetection&&s(),a0(r)}},onHasTask:(a,d,g,y)=>{a.hasTask(g,y),d===g&&("microTask"==y.change?(r._hasPendingMicrotasks=y.microTask,hm(r),iu(r)):"macroTask"==y.change&&(r.hasPendingMacrotasks=y.macroTask))},onHandleError:(a,d,g,y)=>(a.handleError(g,y),r.runOutsideAngular(()=>r.onError.emit(y)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Go.isInAngularZone())throw new je(909,!1)}static assertNotInAngularZone(){if(Go.isInAngularZone())throw new je(909,!1)}run(s,a,d){return this._inner.run(s,a,d)}runTask(s,a,d,g){const y=this._inner,I=y.scheduleEventTask("NgZoneEvent: "+g,s,Tp,r0,r0);try{return y.runTask(I,a,d)}finally{y.cancelTask(I)}}runGuarded(s,a,d){return this._inner.runGuarded(s,a,d)}runOutsideAngular(s){return this._outer.run(s)}}const Tp={};function iu(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function hm(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function Qd(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function a0(r){r._nesting--,iu(r)}class Vb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ol,this.onMicrotaskEmpty=new Ol,this.onStable=new Ol,this.onError=new Ol}run(s,a,d){return s.apply(a,d)}runGuarded(s,a,d){return s.apply(a,d)}runOutsideAngular(s){return s()}runTask(s,a,d,g){return s.apply(a,d)}}const ey=new xn("",{providedIn:"root",factory:c0});function c0(){const r=tr(Go);let s=!0;const a=new u.y(g=>{s=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{g.next(s),g.complete()})}),d=new u.y(g=>{let y;r.runOutsideAngular(()=>{y=r.onStable.subscribe(()=>{Go.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(s=!0,g.next(!0))})})});const I=r.onUnstable.subscribe(()=>{Go.assertInAngularZone(),s&&(s=!1,r.runOutsideAngular(()=>{g.next(!1)}))});return()=>{y.unsubscribe(),I.unsubscribe()}});return(0,be.T)(a,d.pipe(ce()))}function ty(r){return r.ownerDocument.defaultView}function su(r){return r instanceof Function?r():r}let Io=(()=>{class r{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=De({token:r,providedIn:"root",factory:()=>new r})}return r})();function Lu(r){for(;r;){r[Bn]|=64;const s=jf(r);if(Mi(r)&&!s)return r;r=s}return null}const Yh=new xn("",{providedIn:"root",factory:()=>!1});let xc=null;function Ap(r,s){return r[s]??th()}function Np(r,s){const a=th();a.producerNode?.length&&(r[s]=xc,a.lView=r,xc=eh())}const Op={...fo,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{Lu(r.lView)},lView:null};function eh(){return Object.create(Op)}function th(){return xc??=eh(),xc}const rr={};function rl(r){nh(Er(),ht(),zr()+r,!1)}function nh(r,s,a,d){if(!d)if(3==(3&s[Bn])){const y=r.preOrderCheckHooks;null!==y&&Il(s,y,a)}else{const y=r.preOrderHooks;null!==y&&El(s,y,0,a)}ua(a)}function ou(r,s=tn.Default){const a=ht();return null===a?Fn(r,s):Kl(os(),a,Mt(r),s)}function Mp(){throw new Error("invalid")}function Qh(r,s,a,d,g,y,I,S,R,z,ie){const me=s.blueprint.slice();return me[ur]=g,me[Bn]=140|d,(null!==z||r&&2048&r[Bn])&&(me[Bn]|=2048),Zu(me),me[Or]=me[ws]=r,me[Mr]=a,me[ui]=I||r&&r[ui],me[mn]=S||r&&r[mn],me[Zn]=R||r&&r[Zn]||null,me[Zr]=y,me[uo]=function Bo(){return cb++}(),me[Zi]=ie,me[$c]=z,me[jr]=2==s.type?r[jr]:me,me}function au(r,s,a,d,g){let y=r.data[s];if(null===y)y=Rp(r,s,a,d,g),function wl(){return _n.lFrame.inI18n}()&&(y.flags|=32);else if(64&y.type){y.type=a,y.value=d,y.attrs=g;const I=bl();y.injectorIndex=null===I?-1:I.injectorIndex}return _o(y,!0),y}function Rp(r,s,a,d,g){const y=Qu(),I=mu(),R=r.data[s]=function pc(r,s,a,d,g,y){let I=s?s.injectorIndex:-1,S=0;return Da()&&(S|=128),{type:a,index:d,insertBeforeIndex:null,injectorIndex:I,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:S,providerIndexes:0,value:g,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?y:y&&y.parent,a,s,d,g);return null===r.firstChild&&(r.firstChild=R),null!==y&&(I?null==y.child&&null!==R.parent&&(y.child=R):null===y.next&&(y.next=R,R.prev=y)),R}function Rc(r,s,a,d){if(0===a)return-1;const g=s.length;for(let y=0;y<a;y++)s.push(d),r.blueprint.push(d),r.data.push(null);return g}function Pc(r,s,a,d,g){const y=Ap(s,eo),I=zr(),S=2&d;try{ua(-1),S&&s.length>Vn&&nh(r,s,Vn,!1),Hs(S?2:0,g);const z=S?y:null,ie=Ta(z);try{null!==z&&(z.dirty=!1),a(d,g)}finally{Wc(z,ie)}}finally{S&&null===s[eo]&&Np(s,eo),ua(I),Hs(S?3:1,g)}}function xl(r,s,a){if(Bs(s)){const d=rs(null);try{const y=s.directiveEnd;for(let I=s.directiveStart;I<y;I++){const S=r.data[I];S.contentQueries&&S.contentQueries(1,a[I],I)}}finally{rs(d)}}}function ud(r,s,a){jl()&&(function ef(r,s,a,d){const g=a.directiveStart,y=a.directiveEnd;Es(a)&&function _0(r,s,a){const d=Gs(s,r),g=Pp(a);let I=16;a.signals?I=4096:a.onPush&&(I=64);const S=vm(r,Qh(r,g,null,I,d,s,null,r[ui].rendererFactory.createRenderer(d,a),null,null,null));r[s.index]=S}(s,a,r.data[g+a.componentOffset]),r.firstCreatePass||Dl(a,s),Na(d,s);const I=a.initialInputs;for(let S=g;S<y;S++){const R=r.data[S],z=Xc(s,r,S,a);Na(z,s),null!==I&&rh(0,S-g,z,R,0,I),di(R)&&(Ei(a.index,s)[Mr]=Xc(s,r,S,a))}}(r,s,a,Gs(a,s)),64==(64&a.flags)&&mm(r,s,a))}function Jh(r,s,a=Gs){const d=s.localNames;if(null!==d){let g=s.index+1;for(let y=0;y<d.length;y+=2){const I=d[y+1],S=-1===I?a(s,r):r[I];r[g++]=S}}}function Pp(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=kp(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):s}function kp(r,s,a,d,g,y,I,S,R,z,ie){const me=Vn+d,xe=me+g,Be=function Rl(r,s){const a=[];for(let d=0;d<s;d++)a.push(d<r?null:rr);return a}(me,xe),pt="function"==typeof z?z():z;return Be[Bt]={type:r,blueprint:Be,template:a,queries:null,viewQuery:S,declTNode:s,data:Be.slice().fill(null,me),bindingStartIndex:me,expandoStartIndex:xe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:R,consts:pt,incompleteFirstPass:!1,ssrId:ie}}let Lp=r=>null;function gm(r,s,a,d){for(let g in r)if(r.hasOwnProperty(g)){a=null===a?{}:a;const y=r[g];null===d?Xh(a,s,g,y):d.hasOwnProperty(g)&&Xh(a,s,d[g],y)}return a}function Xh(r,s,a,d){r.hasOwnProperty(a)?r[a].push(s,d):r[a]=[s,d]}function gc(r,s,a,d,g,y,I,S){const R=Gs(s,a);let ie,z=s.inputs;!S&&null!=z&&(ie=z[d])?(uu(r,a,ie,d,g),Es(s)&&function Ci(r,s){const a=Ei(s,r);16&a[Bn]||(a[Bn]|=64)}(a,s.index)):3&s.type&&(d=function cu(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(d),g=null!=I?I(g,s.value||"",d):g,y.setProperty(R,d,g))}function il(r,s,a,d){if(jl()){const g=null===d?null:{"":-1},y=function sl(r,s){const a=r.directiveRegistry;let d=null,g=null;if(a)for(let y=0;y<a.length;y++){const I=a[y];if(bs(s,I.selectors,!1))if(d||(d=[]),di(I))if(null!==I.findHostDirectiveDefs){const S=[];g=g||new Map,I.findHostDirectiveDefs(I,S,g),d.unshift(...S,I),zs(r,s,S.length)}else d.unshift(I),zs(r,s,0);else g=g||new Map,I.findHostDirectiveDefs?.(I,d,g),d.push(I)}return null===d?null:[d,g]}(r,a);let I,S;null===y?I=S=null:[I,S]=y,null!==I&&sy(r,s,a,I,g,S),g&&function Vp(r,s,a){if(s){const d=r.localNames=[];for(let g=0;g<s.length;g+=2){const y=a[s[g+1]];if(null==y)throw new je(-301,!1);d.push(s[g],y)}}}(a,d,g)}a.mergedAttrs=Qa(a.mergedAttrs,a.attrs)}function sy(r,s,a,d,g,y){for(let z=0;z<d.length;z++)Zl(Dl(a,s),r,d[z].type);!function Up(r,s,a){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+a,r.providerIndexes=s}(a,r.data.length,d.length);for(let z=0;z<d.length;z++){const ie=d[z];ie.providersResolver&&ie.providersResolver(ie)}let I=!1,S=!1,R=Rc(r,s,d.length,null);for(let z=0;z<d.length;z++){const ie=d[z];a.mergedAttrs=Qa(a.mergedAttrs,ie.hostAttrs),ym(r,a,s,R,ie),_m(R,ie,g),null!==ie.contentQueries&&(a.flags|=4),(null!==ie.hostBindings||null!==ie.hostAttrs||0!==ie.hostVars)&&(a.flags|=64);const me=ie.type.prototype;!I&&(me.ngOnChanges||me.ngOnInit||me.ngDoCheck)&&((r.preOrderHooks??=[]).push(a.index),I=!0),!S&&(me.ngOnChanges||me.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(a.index),S=!0),R++}!function hE(r,s,a){const g=s.directiveEnd,y=r.data,I=s.attrs,S=[];let R=null,z=null;for(let ie=s.directiveStart;ie<g;ie++){const me=y[ie],xe=a?a.get(me):null,pt=xe?xe.outputs:null;R=gm(me.inputs,ie,R,xe?xe.inputs:null),z=gm(me.outputs,ie,z,pt);const xt=null===R||null===I||ba(s)?null:cy(R,ie,I);S.push(xt)}null!==R&&(R.hasOwnProperty("class")&&(s.flags|=8),R.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=S,s.inputs=R,s.outputs=z}(r,a,y)}function mm(r,s,a){const d=a.directiveStart,g=a.directiveEnd,y=a.index,I=function Ju(){return _n.lFrame.currentDirectiveIndex}();try{ua(y);for(let S=d;S<g;S++){const R=r.data[S],z=s[S];C(S),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&lu(R,z)}}finally{ua(-1),C(I)}}function lu(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function zs(r,s,a){s.componentOffset=a,(r.components??=[]).push(s.index)}function _m(r,s,a){if(a){if(s.exportAs)for(let d=0;d<s.exportAs.length;d++)a[s.exportAs[d]]=r;di(s)&&(a[""]=r)}}function ym(r,s,a,d,g){r.data[d]=g;const y=g.factory||(g.factory=tc(g.type)),I=new td(y,di(g),ou);r.blueprint[d]=I,a[d]=I,function oy(r,s,a,d,g){const y=g.hostBindings;if(y){let I=r.hostBindingOpCodes;null===I&&(I=r.hostBindingOpCodes=[]);const S=~s.index;(function Bu(r){let s=r.length;for(;s>0;){const a=r[--s];if("number"==typeof a&&a<0)return a}return 0})(I)!=S&&I.push(S),I.push(a,d,y)}}(r,s,d,Rc(r,a,g.hostVars,rr),g)}function za(r,s,a,d,g,y){const I=Gs(r,s);!function ay(r,s,a,d,g,y,I){if(null==y)r.removeAttribute(s,g,a);else{const S=null==I?Je(y):I(y,d||"",g);r.setAttribute(s,g,S,a)}}(s[mn],I,y,r.value,a,d,g)}function rh(r,s,a,d,g,y){const I=y[s];if(null!==I)for(let S=0;S<I.length;)tf(d,a,I[S++],I[S++],I[S++])}function tf(r,s,a,d,g){const y=rs(null);try{const I=r.inputTransforms;null!==I&&I.hasOwnProperty(d)&&(g=I[d].call(s,g)),null!==r.setInput?r.setInput(s,g,a,d):s[d]=g}finally{rs(y)}}function cy(r,s,a){let d=null,g=0;for(;g<a.length;){const y=a[g];if(0!==y)if(5!==y){if("number"==typeof y)break;if(r.hasOwnProperty(y)){null===d&&(d=[]);const I=r[y];for(let S=0;S<I.length;S+=2)if(I[S]===s){d.push(y,I[S+1],a[g+1]);break}}g+=2}else g+=2;else g+=4}return d}function Hp(r,s,a,d){return[r,!0,!1,s,null,0,d,a,null,null,null]}function ly(r,s){const a=r.contentQueries;if(null!==a)for(let d=0;d<a.length;d+=2){const y=a[d+1];if(-1!==y){const I=r.data[y];P(a[d]),I.contentQueries(2,s[y],y)}}}function vm(r,s){return r[Js]?r[La][Ni]=s:r[Js]=s,r[La]=s,s}function nf(r,s,a){P(0);const d=rs(null);try{s(r,a)}finally{rs(d)}}function y0(r){return r[Oi]||(r[Oi]=[])}function Vu(r){return r.cleanup||(r.cleanup=[])}function As(r,s){const a=r[Zn],d=a?a.get(Fu,null):null;d&&d.handleError(s)}function uu(r,s,a,d,g){for(let y=0;y<a.length;){const I=a[y++],S=a[y++];tf(r.data[I],s[I],d,S,g)}}function Eo(r,s,a){const d=Ec(s,r);!function Tv(r,s,a){r.setValue(s,a)}(r[mn],d,a)}function dy(r,s){const a=Ei(s,r),d=a[Bt];!function jb(r,s){for(let a=s.length;a<r.blueprint.length;a++)s.push(r.blueprint[a])}(d,a);const g=a[ur];null!==g&&null===a[Zi]&&(a[Zi]=Wd(g,a[Zn])),Rt(d,a,a[Mr])}function Rt(r,s,a){_e(s);try{const d=r.viewQuery;null!==d&&nf(1,d,a);const g=r.template;null!==g&&Pc(r,s,g,1,a),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&ly(r,s),r.staticViewQueries&&nf(2,r.viewQuery,a);const y=r.components;null!==y&&function io(r,s){for(let a=0;a<s.length;a++)dy(r,s[a])}(s,y)}catch(d){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),d}finally{s[Bn]&=-5,Ar()}}let mc=(()=>{class r{constructor(){this.all=new Set,this.queue=new Map}create(a,d,g){const y=typeof Zone>"u"?null:Zone.current,I=function pr(r,s,a){const d=Object.create(br);a&&(d.consumerAllowSignalWrites=!0),d.fn=r,d.schedule=s;const g=I=>{d.cleanupFn=I};return d.ref={notify:()=>gh(d),run:()=>{if(d.dirty=!1,d.hasRun&&!po(d))return;d.hasRun=!0;const I=Ta(d);try{d.cleanupFn(),d.cleanupFn=Kn,d.fn(g)}finally{Wc(d,I)}},cleanup:()=>d.cleanupFn()},d.ref}(a,z=>{this.all.has(z)&&this.queue.set(z,y)},g);let S;this.all.add(I),I.notify();const R=()=>{I.cleanup(),S?.(),this.all.delete(I),this.queue.delete(I)};return S=d?.onDestroy(R),{destroy:R}}flush(){if(0!==this.queue.size)for(const[a,d]of this.queue)this.queue.delete(a),d?d.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=De({token:r,providedIn:"root",factory:()=>new r})}return r})();function dn(r,s,a){let d=a?r.styles:null,g=a?r.classes:null,y=0;if(null!==s)for(let I=0;I<s.length;I++){const S=s[I];"number"==typeof S?y=S:1==y?g=kt(g,S):2==y&&(d=kt(d,S+": "+s[++I]+";"))}a?r.styles=d:r.stylesWithoutHost=d,a?r.classes=g:r.classesWithoutHost=g}function Tn(r,s,a,d,g=!1){for(;null!==a;){const y=s[a.index];null!==y&&d.push(fi(y)),Rr(y)&&b0(y,d);const I=a.type;if(8&I)Tn(r,s,a.child,d);else if(32&I){const S=Bd(a,s);let R;for(;R=S();)d.push(R)}else if(16&I){const S=Av(s,a);if(Array.isArray(S))d.push(...S);else{const R=jf(s[jr]);Tn(R[Bt],R,S,d,!0)}}a=g?a.projectionNext:a.next}return d}function b0(r,s){for(let a=xr;a<r.length;a++){const d=r[a],g=d[Bt].firstChild;null!==g&&Tn(d[Bt],d,g,s)}r[gi]!==r[ur]&&s.push(r[gi])}function Wt(r,s,a,d=!0){const g=s[ui],y=g.rendererFactory,I=g.afterRenderEventManager;y.begin?.(),I?.begin();try{so(r,s,r.template,a)}catch(R){throw d&&As(s,R),R}finally{y.end?.(),g.effectManager?.flush(),I?.end()}}function so(r,s,a,d){const g=s[Bn];if(256!=(256&g)){s[ui].effectManager?.flush(),_e(s);try{Zu(s),function Qc(r){return _n.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==a&&Pc(r,s,a,2,d);const I=3==(3&g);if(I){const z=r.preOrderCheckHooks;null!==z&&Il(s,z,null)}else{const z=r.preOrderHooks;null!==z&&El(s,z,0,null),Sd(s,0)}if(function $b(r){for(let s=Ti(r);null!==s;s=Sh(s)){if(!s[Is])continue;const a=s[vc];for(let d=0;d<a.length;d++){Id(a[d])}}}(s),hy(s,2),null!==r.contentQueries&&ly(r,s),I){const z=r.contentCheckHooks;null!==z&&Il(s,z)}else{const z=r.contentHooks;null!==z&&El(s,z,1),Sd(s,1)}!function xp(r,s){const a=r.hostBindingOpCodes;if(null===a)return;const d=Ap(s,Ls);try{for(let g=0;g<a.length;g++){const y=a[g];if(y<0)ua(~y);else{const I=y,S=a[++g],R=a[++g];mh(S,I),d.dirty=!1;const z=Ta(d);try{R(2,s[I])}finally{Wc(d,z)}}}}finally{null===s[Ls]&&Np(s,Ls),ua(-1)}}(r,s);const S=r.components;null!==S&&I0(s,S,0);const R=r.viewQuery;if(null!==R&&nf(2,R,d),I){const z=r.viewCheckHooks;null!==z&&Il(s,z)}else{const z=r.viewHooks;null!==z&&El(s,z,2),Sd(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[Bn]&=-73,vi(s)}finally{Ar()}}}function hy(r,s){for(let a=Ti(r);null!==a;a=Sh(a))for(let d=xr;d<a.length;d++)w0(a[d],s)}function zb(r,s,a){w0(Ei(s,r),a)}function w0(r,s){if(!function Hl(r){return 128==(128&r[Bn])}(r))return;const a=r[Bt],d=r[Bn];if(80&d&&0===s||1024&d||2===s)so(a,r,a.template,r[Mr]);else if(r[Qs]>0){hy(r,1);const g=a.components;null!==g&&I0(r,g,1)}}function I0(r,s,a){for(let d=0;d<s.length;d++)zb(r,s[d],a)}class rf{get rootNodes(){const s=this._lView,a=s[Bt];return Tn(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Mr]}set context(s){this._lView[Mr]=s}get destroyed(){return 256==(256&this._lView[Bn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Or];if(Rr(s)){const a=s[8],d=a?a.indexOf(this):-1;d>-1&&(qf(s,d),kd(a,d))}this._attachedToViewContainer=!1}Ah(this._lView[Bt],this._lView)}onDestroy(s){la(this._lView,s)}markForCheck(){Lu(this._cdRefInjectingView||this._lView)}detach(){this._lView[Bn]&=-129}reattach(){this._lView[Bn]|=128}detectChanges(){Wt(this._lView[Bt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Bg(r,s){Hg(r,s,s[mn],2,null,null)}(this._lView[Bt],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new je(902,!1);this._appRef=s}}class E0 extends rf{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Wt(s[Bt],s,s[Mr],!1)}checkNoChanges(){}get context(){return null}}class T0 extends zh{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=On(s);return new Qn(a,this.ngModule)}}function D0(r){const s=[];for(let a in r)r.hasOwnProperty(a)&&s.push({propName:r[a],templateName:a});return s}class bm{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,d){d=qs(d);const g=this.injector.get(s,K_,d);return g!==K_||a===K_?g:this.parentInjector.get(s,a,d)}}class Qn extends sm{get inputs(){const s=this.componentDef,a=s.inputTransforms,d=D0(s.inputs);if(null!==a)for(const g of d)a.hasOwnProperty(g.propName)&&(g.transform=a[g.propName]);return d}get outputs(){return D0(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Ks(r){return r.map(hl).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,d,g){let y=(g=g||this.ngModule)instanceof Oc?g:g?.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const I=y?new bm(s,y):s,S=I.get(cm,null);if(null===S)throw new je(407,!1);const me={rendererFactory:S,sanitizer:I.get(lm,null),effectManager:I.get(mc,null),afterRenderEventManager:I.get(Io,null)},xe=S.createRenderer(null,this.componentDef),Be=this.componentDef.selectors[0][0]||"div",pt=d?function Fp(r,s,a,d){const y=d.get(Yh,!1)||a===ys.ShadowDom,I=r.selectRootElement(s,y);return function m0(r){Lp(r)}(I),I}(xe,d,this.componentDef.encapsulation,I):zf(xe,Be,function Wb(r){const s=r.toLowerCase();return"svg"===s?oc:"math"===s?"math":null}(Be)),In=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let bt=null;null!==pt&&(bt=Wd(pt,I,!0));const fr=kp(0,null,null,1,0,null,null,null,null,null,null),Ur=Qh(null,fr,null,In,null,null,me,xe,I,null,bt);let Li,dl;_e(Ur);try{const ph=this.componentDef;let d_,ED=null;ph.findHostDirectiveDefs?(d_=[],ED=new Map,ph.findHostDirectiveDefs(ph,d_,ED),d_.push(ph)):d_=[ph];const RS=function C0(r,s){const a=r[Bt],d=Vn;return r[d]=s,au(a,d,2,"#host",null)}(Ur,pt),PS=function ms(r,s,a,d,g,y,I){const S=g[Bt];!function Mn(r,s,a,d){for(const g of r)s.mergedAttrs=Qa(s.mergedAttrs,g.hostAttrs);null!==s.mergedAttrs&&(dn(s,s.mergedAttrs,!0),null!==a&&xv(d,a,s))}(d,r,s,I);let R=null;null!==s&&(R=Wd(s,g[Zn]));const z=y.rendererFactory.createRenderer(s,a);let ie=16;a.signals?ie=4096:a.onPush&&(ie=64);const me=Qh(g,Pp(a),null,ie,g[r.index],r,y,z,null,null,R);return S.firstCreatePass&&zs(S,r,d.length-1),vm(g,me),g[r.index]=me}(RS,pt,ph,d_,Ur,me,xe);dl=_l(fr,Vn),pt&&function hr(r,s,a,d){if(d)ji(r,a,["ng-version",e0.full]);else{const{attrs:g,classes:y}=function Ja(r){const s=[],a=[];let d=1,g=2;for(;d<r.length;){let y=r[d];if("string"==typeof y)2===g?""!==y&&s.push(y,r[++d]):8===g&&a.push(y);else{if(!ii(g))break;g=y}d++}return{attrs:s,classes:a}}(s.selectors[0]);g&&ji(r,a,g),y&&y.length>0&&Mv(r,a,y.join(" "))}}(xe,ph,pt,d),void 0!==a&&function fy(r,s,a){const d=r.projection=[];for(let g=0;g<s.length;g++){const y=a[g];d.push(null!=y?Array.from(y):null)}}(dl,this.ngContentSelectors,a),Li=function Gp(r,s,a,d,g,y){const I=os(),S=g[Bt],R=Gs(I,g);sy(S,g,I,a,null,d);for(let ie=0;ie<a.length;ie++)Na(Xc(g,S,I.directiveStart+ie,I),g);mm(S,g,I),R&&Na(R,g);const z=Xc(g,S,I.directiveStart+I.componentOffset,I);if(r[Mr]=g[Mr]=z,null!==y)for(const ie of y)ie(z,s);return xl(S,I,r),z}(PS,ph,d_,ED,Ur,[Qi]),Rt(fr,Ur,null)}finally{Ar()}return new sf(this.componentType,Li,Zd(dl,Ur),Ur,dl)}}class sf extends q_{constructor(s,a,d,g,y){super(),this.location=d,this._rootLView=g,this._tNode=y,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new E0(g),this.componentType=s}setInput(s,a){const d=this._tNode.inputs;let g;if(null!==d&&(g=d[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const y=this._rootLView;uu(y[Bt],y,g,s,a),this.previousInputValues.set(s,a),Lu(Ei(this._tNode.index,y))}}get injector(){return new Lo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Qi(){const r=os();ed(ht()[Bt],r)}function af(r){let s=function Yt(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),a=!0;const d=[r];for(;s;){let g;if(di(r))g=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new je(903,!1);g=s.\u0275dir}if(g){if(a){d.push(g);const I=r;I.inputs=ol(r.inputs),I.inputTransforms=ol(r.inputTransforms),I.declaredInputs=ol(r.declaredInputs),I.outputs=ol(r.outputs);const S=g.hostBindings;S&&Im(r,S);const R=g.viewQuery,z=g.contentQueries;if(R&&qb(r,R),z&&wm(r,z),Ye(r.inputs,g.inputs),Ye(r.declaredInputs,g.declaredInputs),Ye(r.outputs,g.outputs),null!==g.inputTransforms&&(null===I.inputTransforms&&(I.inputTransforms={}),Ye(I.inputTransforms,g.inputTransforms)),di(g)&&g.data.animation){const ie=r.data;ie.animation=(ie.animation||[]).concat(g.data.animation)}}const y=g.features;if(y)for(let I=0;I<y.length;I++){const S=y[I];S&&S.ngInherit&&S(r),S===af&&(a=!1)}}s=Object.getPrototypeOf(s)}!function py(r){let s=0,a=null;for(let d=r.length-1;d>=0;d--){const g=r[d];g.hostVars=s+=g.hostVars,g.hostAttrs=Qa(g.hostAttrs,a=Qa(a,g.hostAttrs))}}(d)}function ol(r){return r===ts?{}:r===lr?[]:r}function qb(r,s){const a=r.viewQuery;r.viewQuery=a?(d,g)=>{s(d,g),a(d,g)}:s}function wm(r,s){const a=r.contentQueries;r.contentQueries=a?(d,g,y)=>{s(d,g,y),a(d,g,y)}:s}function Im(r,s){const a=r.hostBindings;r.hostBindings=a?(d,g)=>{s(d,g),a(d,g)}:s}function Wa(r){return s=>{s.findHostDirectiveDefs=qa,s.hostDirectives=(Array.isArray(r)?r:r()).map(a=>"function"==typeof a?{directive:Mt(a),inputs:ts,outputs:ts}:{directive:Mt(a.directive),inputs:dd(a.inputs),outputs:dd(a.outputs)})}}function qa(r,s,a){if(null!==r.hostDirectives)for(const d of r.hostDirectives){const g=qr(d.directive);Zb(g.declaredInputs,d.inputs),qa(g,s,a),a.set(g,d),s.push(g)}}function dd(r){if(void 0===r||0===r.length)return ts;const s={};for(let a=0;a<r.length;a+=2)s[r[a]]=r[a+1];return s}function Zb(r,s){for(const a in s)s.hasOwnProperty(a)&&(r[s[a]]=r[a])}function qe(r){const s=r.inputConfig,a={};for(const d in s)if(s.hasOwnProperty(d)){const g=s[d];Array.isArray(g)&&g[2]&&(a[d]=g[2])}r.inputTransforms=a}function _a(r){return!!al(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function al(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function ya(r,s,a){return r[s]=a}function jo(r,s,a){return!Object.is(r[s],a)&&(r[s]=a,!0)}function sh(r,s,a,d){const g=jo(r,s,a);return jo(r,s+1,d)||g}function Tm(r,s,a,d,g){const y=sh(r,s,a,d);return jo(r,s+2,g)||y}function du(r,s,a,d){const g=ht();return jo(g,Ua(),s)&&(Er(),za(Fr(),g,r,s,a,d)),du}function oh(r,s,a,d){return jo(r,Ua(),a)?s+Je(a)+d:rr}function lf(r,s,a,d,g,y,I,S){const z=Tm(r,function yo(){return _n.lFrame.bindingIndex}(),a,g,I);return Ha(3),z?s+Je(a)+d+Je(g)+y+Je(I)+S:rr}function zo(r,s,a,d,g,y,I,S){const R=ht(),z=Er(),ie=r+Vn,me=z.firstCreatePass?function pi(r,s,a,d,g,y,I,S,R){const z=s.consts,ie=au(s,r,4,I||null,ca(z,S));il(s,a,ie,ca(z,R)),ed(s,ie);const me=ie.tView=kp(2,ie,d,g,y,s.directiveRegistry,s.pipeRegistry,null,s.schemas,z,null);return null!==s.queries&&(s.queries.template(s,ie),me.queries=s.queries.embeddedTView(ie)),ie}(ie,z,R,s,a,d,g,y,I):z.data[ie];_o(me,!1);const xe=ki(z,R,me,r);Of()&&Xf(z,R,xe,me),Na(xe,R),vm(R,R[ie]=Hp(xe,R,xe,me)),ta(me)&&ud(z,R,me),null!=I&&Jh(R,me,S)}let ki=function _s(r,s,a,d){return Dc(!0),s[mn].createComment("")};function Fi(r){return Tc(function _u(){return _n.lFrame.contextLView}(),Vn+r)}function To(r,s,a){const d=ht();return jo(d,Ua(),s)&&gc(Er(),Fr(),d,r,s,d[mn],a,!1),To}function Ws(r,s,a,d,g){const I=g?"class":"style";uu(r,a,s.inputs[I],I,d)}function ll(r,s,a,d){const g=ht(),y=Er(),I=Vn+r,S=g[mn],R=y.firstCreatePass?function cl(r,s,a,d,g,y){const I=s.consts,R=au(s,r,2,d,ca(I,g));return il(s,a,R,ca(I,y)),null!==R.attrs&&dn(R,R.attrs,!1),null!==R.mergedAttrs&&dn(R,R.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,R),R}(I,y,g,s,a,d):y.data[I],z=vy(y,g,R,S,s,r);g[I]=z;const ie=ta(R);return _o(R,!0),xv(S,z,R),32!=(32&R.flags)&&Of()&&Xf(y,g,z,R),0===function pu(){return _n.lFrame.elementDepthCount}()&&Na(z,g),function Ku(){_n.lFrame.elementDepthCount++}(),ie&&(ud(y,g,R),xl(y,R,g)),null!==d&&Jh(g,R),ll}function fd(){let r=os();mu()?ac():(r=r.parent,_o(r,!1));const s=r;(function Zc(r){return _n.skipHydrationRootTNode===r})(s)&&function vl(){_n.skipHydrationRootTNode=null}(),function Gl(){_n.lFrame.elementDepthCount--}();const a=Er();return a.firstCreatePass&&(ed(a,r),Bs(r)&&a.queries.elementEnd(r)),null!=s.classesWithoutHost&&function Mf(r){return 0!=(8&r.flags)}(s)&&Ws(a,s,ht(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function xf(r){return 0!=(16&r.flags)}(s)&&Ws(a,s,ht(),s.stylesWithoutHost,!1),fd}function Wp(r,s,a,d){return ll(r,s,a,d),fd(),Wp}let vy=(r,s,a,d,g,y)=>(Dc(!0),zf(d,g,function Xu(){return _n.lFrame.currentNamespace}()));function Sm(r,s,a){const d=ht(),g=Er(),y=r+Vn,I=g.firstCreatePass?function by(r,s,a,d,g){const y=s.consts,I=ca(y,d),S=au(s,r,8,"ng-container",I);return null!==I&&dn(S,I,!0),il(s,a,S,ca(y,g)),null!==s.queries&&s.queries.elementStart(s,S),S}(y,g,d,s,a):g.data[y];_o(I,!0);const S=df(g,d,I,r);return d[y]=S,Of()&&Xf(g,d,S,I),Na(S,d),ta(I)&&(ud(g,d,I),xl(g,I,d)),null!=a&&Jh(d,I),Sm}function Am(){let r=os();const s=Er();return mu()?ac():(r=r.parent,_o(r,!1)),s.firstCreatePass&&(ed(s,r),Bs(r)&&s.queries.elementEnd(r)),Am}let df=(r,s,a,d)=>(Dc(!0),Lg(s[mn],""));function Si(){return ht()}function kl(r){return!!r&&"function"==typeof r.then}function Nm(r){return!!r&&"function"==typeof r.subscribe}function qp(r,s,a,d){const g=ht(),y=Er(),I=os();return function ew(r,s,a,d,g,y,I){const S=ta(d),z=r.firstCreatePass&&Vu(r),ie=s[Mr],me=y0(s);let xe=!0;if(3&d.type||I){const xt=Gs(d,s),nn=I?I(xt):xt,In=me.length,bt=I?Ur=>I(fi(Ur[d.index])):d.index;let fr=null;if(!I&&S&&(fr=function xD(r,s,a,d){const g=r.cleanup;if(null!=g)for(let y=0;y<g.length-1;y+=2){const I=g[y];if(I===a&&g[y+1]===d){const S=s[Oi],R=g[y+2];return S.length>R?S[R]:null}"string"==typeof I&&(y+=2)}return null}(r,s,g,d.index)),null!==fr)(fr.__ngLastListenerFn__||fr).__ngNextListenerFn__=y,fr.__ngLastListenerFn__=y,xe=!1;else{y=Ai(d,s,ie,y,!1);const Ur=a.listen(nn,g,y);me.push(y,Ur),z&&z.push(g,bt,In,In+1)}}else y=Ai(d,s,ie,y,!1);const Be=d.outputs;let pt;if(xe&&null!==Be&&(pt=Be[g])){const xt=pt.length;if(xt)for(let nn=0;nn<xt;nn+=2){const Li=s[pt[nn]][pt[nn+1]].subscribe(y),dl=me.length;me.push(y,Li),z&&z.push(g,d.index,dl,-(dl+1))}}}(y,g,g[mn],I,r,s,d),qp}function Yr(r,s,a,d){try{return Hs(6,s,a),!1!==a(d)}catch(g){return As(r,g),!1}finally{Hs(7,s,a)}}function Ai(r,s,a,d,g){return function y(I){if(I===Function)return d;Lu(r.componentOffset>-1?Ei(r.index,s):s);let R=Yr(s,a,d,I),z=y.__ngNextListenerFn__;for(;z;)R=Yr(s,a,z,I)&&R,z=z.__ngNextListenerFn__;return g&&!1===R&&I.preventDefault(),R}}function Zp(r=1){return function gr(r){return(_n.lFrame.contextLView=function lc(r,s){for(;r>0;)s=s[ws],r--;return s}(r,_n.lFrame.contextLView))[Mr]}(r)}function tw(r,s){let a=null;const d=function ks(r){const s=r.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(r);for(let g=0;g<s.length;g++){const y=s[g];if("*"!==y){if(null===d?bs(r,y,!0):Bl(d,y))return g}else a=g}return a}function N0(r){const s=ht()[jr][Zr];if(!s.projection){const d=s.projection=Ql(r?r.length:1,null),g=d.slice();let y=s.child;for(;null!==y;){const I=r?tw(y,r):0;null!==I&&(g[I]?g[I].projectionNext=y:d[I]=y,g[I]=y),y=y.next}}}function nw(r,s=0,a){const d=ht(),g=Er(),y=au(g,Vn+r,16,null,a||null);null===y.projection&&(y.projection=s),ac(),(!d[Zi]||Da())&&32!=(32&y.flags)&&function YI(r,s,a){gb(s[mn],0,s,a,Kf(r,a,s),Yf(a.parent||s[Zr],a,s))}(g,d,y)}function Iy(r,s,a){return Ey(r,"",s,"",a),Iy}function Ey(r,s,a,d,g){const y=ht(),I=oh(y,s,a,d);return I!==rr&&gc(Er(),Fr(),y,r,I,y[mn],g,!1),Ey}function O0(r,s){return r<<17|s<<2}function hf(r){return r>>17&32767}function uh(r){return 2|r}function Gu(r){return(131068&r)>>2}function Om(r,s){return-131069&r|s<<2}function x0(r){return 1|r}function cw(r,s,a,d,g){const y=r[a+1],I=null===s;let S=d?hf(y):Gu(y),R=!1;for(;0!==S&&(!1===R||I);){const ie=r[S+1];lw(r[S],s)&&(R=!0,r[S+1]=d?x0(ie):uh(ie)),S=d?hf(ie):Gu(ie)}R&&(r[a+1]=d?uh(y):x0(y))}function lw(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&Su(r,s)>=0}const oo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function R0(r){return r.substring(oo.key,oo.keyEnd)}function P0(r,s){const a=oo.textEnd;return a===s?-1:(s=oo.keyEnd=function Ty(r,s,a){for(;s<a&&r.charCodeAt(s)>32;)s++;return s}(r,oo.key=s,a),pf(r,s,a))}function pf(r,s,a){for(;s<a&&r.charCodeAt(s)<=32;)s++;return s}function F0(r,s){return function Vc(r,s,a,d){const g=ht(),y=Er(),I=Ha(2);y.firstUpdatePass&&Tr(y,r,I,d),s!==rr&&jo(g,I,s)&&mf(y,y.data[zr()],g,g[mn],r,g[I+1]=function SE(r,s){return null==r||""===r||("string"==typeof s?r+=s:"object"==typeof r&&(r=Tt(eu(r)))),r}(s,a),d,I)}(r,s,null,!0),F0}function ju(r){!function zu(r,s,a,d){const g=Er(),y=Ha(2);g.firstUpdatePass&&Tr(g,null,y,d);const I=ht();if(a!==rr&&jo(I,y,a)){const S=g.data[zr()];if(Yp(S,d)&&!IE(g,y)){let R=d?S.classesWithoutHost:S.stylesWithoutHost;null!==R&&(a=kt(R,a||"")),Ws(g,S,I,a,d)}else!function Rm(r,s,a,d,g,y,I,S){g===rr&&(g=lr);let R=0,z=0,ie=0<g.length?g[0]:null,me=0<y.length?y[0]:null;for(;null!==ie||null!==me;){const xe=R<g.length?g[R+1]:void 0,Be=z<y.length?y[z+1]:void 0;let xt,pt=null;ie===me?(R+=2,z+=2,xe!==Be&&(pt=me,xt=Be)):null===me||null!==ie&&ie<me?(R+=2,pt=ie):(z+=2,pt=me,xt=Be),null!==pt&&mf(r,s,a,d,pt,xt,I,S),ie=R<g.length?g[R]:null,me=z<y.length?y[z]:null}}(g,S,I,I[mn],I[y+1],I[y+1]=function LD(r,s,a){if(null==a||""===a)return lr;const d=[],g=eu(a);if(Array.isArray(g))for(let y=0;y<g.length;y++)r(d,g[y],!0);else if("object"==typeof g)for(const y in g)g.hasOwnProperty(y)&&r(d,y,g[y]);else"string"==typeof g&&s(d,g);return d}(r,s,a),d,y)}}(CE,$u,r,!0)}function $u(r,s){for(let a=function Lc(r){return function uw(r){oo.key=0,oo.keyEnd=0,oo.value=0,oo.valueEnd=0,oo.textEnd=r.length}(r),P0(r,pf(r,0,oo.textEnd))}(s);a>=0;a=P0(s,a))da(r,R0(s),!0)}function IE(r,s){return s>=r.expandoStartIndex}function Tr(r,s,a,d){const g=r.data;if(null===g[a+1]){const y=g[zr()],I=IE(r,a);Yp(y,d)&&null===s&&!I&&(s=!1),s=function FD(r,s,a,d){const g=function x(r){const s=_n.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let y=d?s.residualClasses:s.residualStyles;if(null===g)0===(d?s.classBindings:s.styleBindings)&&(a=gf(a=L0(null,r,s,a,d),s.attrs,d),y=null);else{const I=s.directiveStylingLast;if(-1===I||r[I]!==g)if(a=L0(g,r,s,a,d),null===y){let R=function hw(r,s,a){const d=a?s.classBindings:s.styleBindings;if(0!==Gu(d))return r[hf(d)]}(r,s,d);void 0!==R&&Array.isArray(R)&&(R=L0(null,r,s,R[1],d),R=gf(R,s.attrs,d),function EE(r,s,a,d){r[hf(a?s.classBindings:s.styleBindings)]=d}(r,s,d,R))}else y=function TE(r,s,a){let d;const g=s.directiveEnd;for(let y=1+s.directiveStylingLast;y<g;y++)d=gf(d,r[y].hostAttrs,a);return gf(d,s.attrs,a)}(r,s,d)}return void 0!==y&&(d?s.residualClasses=y:s.residualStyles=y),a}(g,y,s,d),function vE(r,s,a,d,g,y){let I=y?s.classBindings:s.styleBindings,S=hf(I),R=Gu(I);r[d]=a;let ie,z=!1;if(Array.isArray(a)?(ie=a[1],(null===ie||Su(a,ie)>0)&&(z=!0)):ie=a,g)if(0!==R){const xe=hf(r[S+1]);r[d+1]=O0(xe,S),0!==xe&&(r[xe+1]=Om(r[xe+1],d)),r[S+1]=function aw(r,s){return 131071&r|s<<17}(r[S+1],d)}else r[d+1]=O0(S,0),0!==S&&(r[S+1]=Om(r[S+1],d)),S=d;else r[d+1]=O0(R,0),0===S?S=d:r[R+1]=Om(r[R+1],d),R=d;z&&(r[d+1]=uh(r[d+1])),cw(r,ie,d,!0),cw(r,ie,d,!1),function Mm(r,s,a,d,g){const y=g?r.residualClasses:r.residualStyles;null!=y&&"string"==typeof s&&Su(y,s)>=0&&(a[d+1]=x0(a[d+1]))}(s,ie,r,d,y),I=O0(S,R),y?s.classBindings=I:s.styleBindings=I}(g,y,s,a,I,d)}}function L0(r,s,a,d,g){let y=null;const I=a.directiveEnd;let S=a.directiveStylingLast;for(-1===S?S=a.directiveStart:S++;S<I&&(y=s[S],d=gf(d,y.hostAttrs,g),y!==r);)S++;return null!==r&&(a.directiveStylingLast=S),d}function gf(r,s,a){const d=a?1:2;let g=-1;if(null!==s)for(let y=0;y<s.length;y++){const I=s[y];"number"==typeof I?g=I:g===d&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),da(r,I,!!a||s[++y]))}return void 0===r?null:r}function CE(r,s,a){const d=String(s);""!==d&&!d.includes(" ")&&da(r,d,a)}function mf(r,s,a,d,g,y,I,S){if(!(3&s.type))return;const R=r.data,z=R[S+1],ie=function M0(r){return 1==(1&r)}(z)?fw(R,s,a,g,Gu(z),I):void 0;md(ie)||(md(y)||function RD(r){return 2==(2&r)}(z)&&(y=fw(R,null,a,g,S,I)),function JI(r,s,a,d,g){if(s)g?r.addClass(a,d):r.removeClass(a,d);else{let y=-1===d.indexOf("-")?void 0:wv.DashCase;null==g?r.removeStyle(a,d,y):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),y|=wv.Important),r.setStyle(a,d,g,y))}}(d,I,Ec(zr(),a),g,y))}function fw(r,s,a,d,g,y){const I=null===s;let S;for(;g>0;){const R=r[g],z=Array.isArray(R),ie=z?R[1]:R,me=null===ie;let xe=a[g+1];xe===rr&&(xe=me?lr:void 0);let Be=me?Lf(xe,d):ie===d?xe:void 0;if(z&&!md(Be)&&(Be=Lf(R,d)),md(Be)&&(S=Be,I))return S;const pt=r[g+1];g=I?hf(pt):Gu(pt)}if(null!==s){let R=y?s.residualClasses:s.residualStyles;null!=R&&(S=Lf(R,d))}return S}function md(r){return void 0!==r}function Yp(r,s){return 0!=(r.flags&(s?8:16))}function pw(r,s=""){const a=ht(),d=Er(),g=r+Vn,y=d.firstCreatePass?au(d,g,1,s,null):d.data[g],I=gw(d,a,y,s,r);a[g]=I,Of()&&Xf(d,a,I,y),_o(y,!1)}let gw=(r,s,a,d,g)=>(Dc(!0),Vd(s[mn],d));function mw(r){return Xi("",r,""),mw}function Xi(r,s,a){const d=ht(),g=oh(d,r,s,a);return g!==rr&&Eo(d,zr(),g),Xi}function Pm(r,s,a,d,g,y,I){const S=ht(),R=lf(S,r,s,a,d,g,y,I);return R!==rr&&Eo(S,zr(),R),Pm}function U0(r,s,a){const d=ht();return jo(d,Ua(),s)&&gc(Er(),Fr(),d,r,s,d[mn],a,!0),U0}const Jp=void 0;var BE=["en",[["a","p"],["AM","PM"],Jp],[["AM","PM"],Jp,Jp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jp,"{1} 'at' {0}",Jp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function LE(r){const a=Math.floor(Math.abs(r)),d=r.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===d?1:5}];let Um={};function Aw(r){const s=function Do(r){return r.toLowerCase().replace(/_/g,"-")}(r);let a=Xp(s);if(a)return a;const d=s.split("-")[0];if(a=Xp(d),a)return a;if("en"===d)return BE;throw new je(701,!1)}function H0(r){return Aw(r)[Hm.PluralCase]}function Xp(r){return r in Um||(Um[r]=cr.ng&&cr.ng.common&&cr.ng.common.locales&&cr.ng.common.locales[r]),Um[r]}var Hm=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(Hm||{});const _d="en-US",Gm={marker:"element"},Ay={marker:"ICU"};var Oa=function(r){return r[r.SHIFT=2]="SHIFT",r[r.APPEND_EAGERLY=1]="APPEND_EAGERLY",r[r.COMMENT=2]="COMMENT",r}(Oa||{});let Ow=_d;function Mw(r){(function un(r,s){null==r&&Dt(s,r,null,"!=")})(r,"Expected localeId to be defined"),"string"==typeof r&&(Ow=r.toLowerCase().replace(/_/g,"-"))}function UE(r,s,a){const d=s.insertBeforeIndex,g=Array.isArray(d)?d[0]:d;return null===g?Qf(r,0,a):fi(a[g])}function jm(r,s,a,d,g){const y=s.insertBeforeIndex;if(Array.isArray(y)){let I=d,S=null;if(3&s.type||(S=I,I=g),null!==I&&-1===s.componentOffset)for(let R=1;R<y.length;R++)xu(r,I,a[y[R]],S,!1)}}function G0(r,s){if(r.push(s),r.length>1)for(let a=r.length-2;a>=0;a--){const d=r[a];HE(d)||GE(d,s)&&null===xw(d)&&jE(d,s.index)}}function HE(r){return!(64&r.type)}function GE(r,s){return HE(s)||r.index>s.index}function xw(r){const s=r.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function jE(r,s){const a=r.insertBeforeIndex;Array.isArray(a)?a[0]=s:(S_(UE,jm),r.insertBeforeIndex=s)}function zD(r,s,a){const d=Rp(r,a,64,null,null);return G0(s,d),d}function Pw(){const r=[];let a,d,s=-1;function y(S,R){s=0;const z=function j0(r,s){const a=s[r.currentCaseLViewIndex];return null===a?a:a<0?~a:a}(S,R);d=null!==z?S.remove[z]:lr}function I(){if(s<d.length){const S=d[s++];return S>0?a[S]:(r.push(s,d),y(a[Bt].data[~S],a),I())}return 0===r.length?null:(d=r.pop(),s=r.pop(),I())}return function g(S,R){for(a=R;r.length;)r.pop();return y(S.value,R),I}}const My=/\ufffd(\d+):?\d*\ufffd/gi,xy=/\ufffd(\d+)\ufffd/,vf=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Ry="\ufffd",KE=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,YD=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,QD=/\uE500/g;function fh(r,s,a,d,g,y,I){const S=Rc(r,d,1,null);let R=S<<Oa.SHIFT,z=bl();s===z&&(z=null),null===z&&(R|=Oa.APPEND_EAGERLY),I&&(R|=Oa.COMMENT,function Fg(r){void 0===Ch&&(Ch=r())}(Pw)),g.push(R,null===y?"":y);const ie=Rp(r,S,I?32:1,null===y?"":y,null);G0(a,ie);const me=ie.index;return _o(ie,!1),null!==z&&s!==z&&function $D(r,s){let a=r.insertBeforeIndex;null===a?(S_(UE,jm),a=r.insertBeforeIndex=[null,s]):(function $e(r,s,a){r!=s&&Dt(a,r,s,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(z,me),ie}function YE(r,s,a,d,g,y,I){const S=I.match(My),R=fh(r,s,a,y,d,S?null:I,!1);S&&Wm(g,I,R.index,null,0,null)}function Wm(r,s,a,d,g,y){const I=r.length,S=I+1;r.push(null,null);const R=I+2,z=s.split(My);let ie=0;for(let me=0;me<z.length;me++){const xe=z[me];if(1&me){const Be=g+parseInt(xe,10);r.push(-1-Be),ie|=W0(Be)}else""!==xe&&r.push(xe)}return r.push(a<<2|(d?1:0)),d&&r.push(d,y),r[I]=ie,r[S]=r.length-R,ie}function W0(r){return 1<<Math.min(r,31)}function Lw(r){let s,y,a="",d=0,g=!1;for(;null!==(s=KE.exec(r));)g?s[0]===`${Ry}/*${y}${Ry}`&&(d=s.index,g=!1):(a+=r.substring(d,s.index+s[0].length),y=s[1],g=!0);return a+=r.slice(d),a}function q0(r,s,a,d,g,y){let I=0;const S={type:g.type,currentCaseLViewIndex:Rc(r,s,1,null),anchorIdx:y,cases:[],create:[],remove:[],update:[]};(function JE(r,s,a){r.push(W0(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(a,g,y),function $E(r,s,a){const d=r.data[s];null===d?r.data[s]=a:d.value=a}(r,y,S);const R=g.values;for(let z=0;z<R.length;z++){const ie=R[z],me=[];for(let xe=0;xe<ie.length;xe++){const Be=ie[xe];if("string"!=typeof Be){const pt=me.push(Be)-1;ie[xe]=`\x3c!--\ufffd${pt}\ufffd--\x3e`}}I=tC(r,S,s,a,d,g.cases[z],ie.join(""),me)|I}I&&function ky(r,s,a){r.push(s,1,a<<2|3)}(a,I,y)}function QE(r){const s=[],a=[];let d=1,g=0;const y=qm(r=r.replace(vf,function(I,S,R){return d="select"===R?0:1,g=parseInt(S.slice(1),10),""}));for(let I=0;I<y.length;){let S=y[I++].trim();1===d&&(S=S.replace(/\s*(?:=)?(\w+)\s*/,"$1")),S.length&&s.push(S);const R=qm(y[I++]);s.length>a.length&&a.push(R)}return{type:d,mainBinding:g,cases:s,values:a}}function qm(r){if(!r)return[];let s=0;const a=[],d=[],g=/[{}]/g;let y;for(g.lastIndex=0;y=g.exec(r);){const S=y.index;if("}"==y[0]){if(a.pop(),0==a.length){const R=r.substring(s,S);vf.test(R)?d.push(QE(R)):d.push(R),s=S+1}}else{if(0==a.length){const R=r.substring(s,S);d.push(R),s=S+1}a.push("{")}}const I=r.substring(s);return d.push(I),d}function tC(r,s,a,d,g,y,I,S){const R=[],z=[],ie=[];s.cases.push(y),s.create.push(R),s.remove.push(z),s.update.push(ie);const xe=kv(ja()).getInertBodyElement(I),Be=ap(xe)||xe;return Be?Z0(r,s,a,d,R,z,ie,Be,g,S,0):0}function Z0(r,s,a,d,g,y,I,S,R,z,ie){let me=0,xe=S.firstChild;for(;xe;){const Be=Rc(r,a,1,null);switch(xe.nodeType){case Node.ELEMENT_NODE:const pt=xe,xt=pt.tagName.toLowerCase();if(Ph.hasOwnProperty(xt)){Zm(g,Gm,xt,R,Be),r.data[Be]=xt;const fr=pt.attributes;for(let Ur=0;Ur<fr.length;Ur++){const Li=fr.item(Ur),dl=Li.name.toLowerCase();Li.value.match(My)?Db.hasOwnProperty(dl)&&Wm(I,Li.value,Be,Li.name,0,Bv[dl]?Fv:null):Fy(g,Be,Li)}me=Z0(r,s,a,d,g,y,I,xe,Be,z,ie+1)|me,Py(y,Be,ie)}break;case Node.TEXT_NODE:const nn=xe.textContent||"",In=nn.match(My);Zm(g,null,In?"":nn,R,Be),Py(y,Be,ie),In&&(me=Wm(I,nn,Be,null,0,null)|me);break;case Node.COMMENT_NODE:const bt=xy.exec(xe.textContent||"");if(bt){const Ur=z[parseInt(bt[1],10)];Zm(g,Ay,"",R,Be),q0(r,a,d,R,Ur,Be),nC(y,Be,ie)}}xe=xe.nextSibling}return me}function Py(r,s,a){0===a&&r.push(s)}function nC(r,s,a){0===a&&(r.push(~s),r.push(s))}function Zm(r,s,a,d,g){null!==s&&r.push(s),r.push(a,g,function WD(r,s,a){return r|s<<17|a<<1}(0,d,g))}function Fy(r,s,a){r.push(s<<1|1,a.name,a.value)}function Uw(r,s,a=-1){const d=Er(),g=ht(),y=Vn+r,I=ca(d.consts,s),S=bl();d.firstCreatePass&&function ng(r,s,a,d,g,y){const I=bl(),S=[],R=[],z=[[]];g=function Bw(r,s){if(function Fw(r){return-1===r}(s))return Lw(r);{const a=r.indexOf(`:${s}${Ry}`)+2+s.toString().length,d=r.search(new RegExp(`${Ry}\\/\\*\\d+:${s}${Ry}`));return Lw(r.substring(a,d))}}(g,y);const ie=function JD(r){return r.replace(QD," ")}(g).split(YD);for(let me=0;me<ie.length;me++){let xe=ie[me];if(1&me){const Be=47===xe.charCodeAt(0),xt=(xe.charCodeAt(Be?1:0),Vn+Number.parseInt(xe.substring(Be?2:1)));if(Be)z.shift(),_o(bl(),!1);else{const nn=zD(r,z[0],xt);z.unshift([]),_o(nn,!0)}}else{const Be=qm(xe);for(let pt=0;pt<Be.length;pt++){let xt=Be[pt];if(1&pt){const nn=xt;if("object"!=typeof nn)throw new Error(`Unable to parse ICU expression in "${g}" message.`);q0(r,a,R,s,nn,fh(r,I,z[0],a,S,"",!0).index)}else""!==xt&&YE(r,I,z[0],S,R,a,xt)}}}r.data[d]={create:S,update:R}}(d,null===S?0:S.index,g,y,I,a),2===d.type?g[jr][Bn]|=32:g[Bn]|=32;const R=d.data[y],ie=Vg(d,S===g[Zr]?null:S,g);(function WE(r,s,a,d){const g=r[mn];for(let y=0;y<s.length;y++){const I=s[y++],S=s[y],z=(I&Oa.APPEND_EAGERLY)===Oa.APPEND_EAGERLY,ie=I>>>Oa.SHIFT;let me=r[ie];null===me&&(me=r[ie]=(I&Oa.COMMENT)===Oa.COMMENT?g.createComment(S):Vd(g,S)),z&&null!==a&&xu(g,a,me,d,!1)}})(g,R.create,ie,S&&8&S.type?g[S.index]:null),$l(!0)}function nT(r,s,a){Uw(r,s,a),function wf(){$l(!1)}()}function Gw(r,s,a,d,g){if(r=Mt(r),Array.isArray(r))for(let y=0;y<r.length;y++)Gw(r[y],s,a,d,g);else{const y=Er(),I=ht(),S=os();let R=Ru(r)?r:Mt(r.provide);const z=jv(r),ie=1048575&S.providerIndexes,me=S.directiveStart,xe=S.providerIndexes>>20;if(Ru(r)||!r.multi){const Be=new td(z,g,ou),pt=Qm(R,s,g?ie:ie+xe,me);-1===pt?(Zl(Dl(S,I),y,R),Q0(y,r,s.length),s.push(R),S.directiveStart++,S.directiveEnd++,g&&(S.providerIndexes+=1048576),a.push(Be),I.push(Be)):(a[pt]=Be,I[pt]=Be)}else{const Be=Qm(R,s,ie+xe,me),pt=Qm(R,s,ie,ie+xe),nn=pt>=0&&a[pt];if(g&&!nn||!g&&!(Be>=0&&a[Be])){Zl(Dl(S,I),y,R);const In=function oC(r,s,a,d,g){const y=new td(r,a,ou);return y.multi=[],y.index=s,y.componentProviders=0,sT(y,g,d&&!a),y}(g?sC:iC,a.length,g,d,z);!g&&nn&&(a[pt].providerFactory=In),Q0(y,r,s.length,0),s.push(R),S.directiveStart++,S.directiveEnd++,g&&(S.providerIndexes+=1048576),a.push(In),I.push(In)}else Q0(y,r,Be>-1?Be:pt,sT(a[g?pt:Be],z,!g&&d));!g&&d&&nn&&a[pt].componentProviders++}}}function Q0(r,s,a,d){const g=Ru(s),y=function Ob(r){return!!r.useClass}(s);if(g||y){const R=(y?Mt(s.useClass):s).prototype.ngOnDestroy;if(R){const z=r.destroyHooks||(r.destroyHooks=[]);if(!g&&s.multi){const ie=z.indexOf(a);-1===ie?z.push(a,[d,R]):z[ie+1].push(d,R)}else z.push(a,R)}}}function sT(r,s,a){return a&&r.componentProviders++,r.multi.push(s)-1}function Qm(r,s,a,d){for(let g=a;g<d;g++)if(s[g]===r)return g;return-1}function iC(r,s,a,d){return J0(this.multi,[])}function sC(r,s,a,d){const g=this.multi;let y;if(this.providerFactory){const I=this.providerFactory.componentProviders,S=Xc(a,a[Bt],this.providerFactory.index,d);y=S.slice(0,I),J0(g,y);for(let R=I;R<S.length;R++)y.push(S[R])}else y=[],J0(g,y);return y}function J0(r,s){for(let a=0;a<r.length;a++)s.push((0,r[a])());return s}function jw(r,s=[]){return a=>{a.providersResolver=(d,g)=>function iT(r,s,a){const d=Er();if(d.firstCreatePass){const g=di(r);Gw(a,d.data,d.blueprint,g,!0),Gw(s,d.data,d.blueprint,g,!1)}}(d,g?g(r):r,s)}}class Ll{}class Jm{}function oT(r,s){return new $w(r,s??null,[])}class $w extends Ll{constructor(s,a,d){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new T0(this);const g=si(s);this._bootstrapComponents=su(g.bootstrap),this._r3Injector=n0(s,a,[{provide:Ll,useValue:this},{provide:zh,useValue:this.componentFactoryResolver},...d],Tt(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class X0 extends Jm{constructor(s){super(),this.moduleType=s}create(s){return new $w(this.moduleType,s,[])}}class aT extends Ll{constructor(s){super(),this.componentFactoryResolver=new T0(this),this.instance=null;const a=new Pu([...s.providers,{provide:Ll,useValue:this},{provide:zh,useValue:this.componentFactoryResolver}],s.parent||$d(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function e1(r,s,a=null){return new aT({providers:r,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}let Ma=(()=>{class r{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const d=Zg(0,a.type),g=d.length>0?e1([d],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,g)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=De({token:r,providedIn:"environment",factory:()=>new r(Fn(Oc))})}return r})();function cT(r){r.getStandaloneInjector=s=>s.get(Ma).getOrCreateStandaloneInjector(r)}function qw(r,s,a,d){return Ly(ht(),js(),r,s,a,d)}function o1(r,s,a,d,g){return Zw(ht(),js(),r,s,a,d,g)}function _T(r,s,a,d,g,y){return function Kw(r,s,a,d,g,y,I,S){const R=s+a;return Tm(r,R,g,y,I)?ya(r,R+3,S?d.call(S,g,y,I):d(g,y,I)):rg(r,R+3)}(ht(),js(),r,s,a,d,g,y)}function rg(r,s){const a=r[s];return a===rr?void 0:a}function Ly(r,s,a,d,g,y){const I=s+a;return jo(r,I,g)?ya(r,I+1,y?d.call(y,g):d(g)):rg(r,I+1)}function Zw(r,s,a,d,g,y,I){const S=s+a;return sh(r,S,g,y)?ya(r,S+2,I?d.call(I,g,y):d(g,y)):rg(r,S+2)}function a1(r,s){const a=Er();let d;const g=r+Vn;a.firstCreatePass?(d=function fC(r,s){if(s)for(let a=s.length-1;a>=0;a--){const d=s[a];if(r===d.name)return d}}(s,a.pipeRegistry),a.data[g]=d,d.onDestroy&&(a.destroyHooks??=[]).push(g,d.onDestroy)):d=a.data[g];const y=d.factory||(d.factory=tc(d.type)),S=yn(ou);try{const R=Jc(!1),z=y();return Jc(R),function hd(r,s,a,d){a>=r.data.length&&(r.data[a]=null,r.blueprint[a]=null),s[a]=d}(a,ht(),g,z),z}finally{yn(S)}}function Qw(r,s,a){const d=r+Vn,g=ht(),y=Tc(g,d);return ig(g,d)?Ly(g,js(),s,y.transform,a,y):y.transform(a)}function c1(r,s,a,d){const g=r+Vn,y=ht(),I=Tc(y,g);return ig(y,g)?Zw(y,js(),s,I.transform,a,d,I):I.transform(a,d)}function ig(r,s){return r[Bt].data[s].pure}function Jw(){return this._results[Symbol.iterator]()}class Vy{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Ol)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Vy.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=Jw)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const d=this;d.dirty=!1;const g=function Nc(r){return r.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function vg(r,s,a){if(r.length!==s.length)return!1;for(let d=0;d<r.length;d++){let g=r[d],y=s[d];if(a&&(g=a(g),y=a(y)),y!==g)return!1}return!0}(d._results,g,a))&&(d._results=g,d.length=g.length,d.last=g[this.length-1],d.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function ET(r,s,a,d=!0){const g=s[Bt];if(function I_(r,s,a,d){const g=xr+d,y=a.length;d>0&&(a[g-1][Ni]=s),d<y-xr?(s[Ni]=a[g],Eh(a,xr+d,s)):(a.push(s),s[Ni]=null),s[Or]=a;const I=s[qi];null!==I&&a!==I&&function E_(r,s){const a=r[vc];s[jr]!==s[Or][Or][jr]&&(r[Is]=!0),null===a?r[vc]=[s]:a.push(s)}(I,s);const S=s[oi];null!==S&&S.insertView(r),s[Bn]|=128}(g,s,r,a),d){const y=Nv(a,r),I=s[mn],S=Hd(I,r[gi]);null!==S&&function Wf(r,s,a,d,g,y){d[ur]=g,d[Zr]=s,Hg(r,d,a,1,g,y)}(g,r[Zr],I,s,S,y)}}let sg=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=yc}return r})();const gC=sg,mC=class extends gC{constructor(s,a,d){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,d){const g=function IT(r,s,a,d){const g=s.tView,S=Qh(r,g,a,4096&r[Bn]?4096:16,null,s,null,null,null,d?.injector??null,d?.hydrationInfo??null);S[qi]=r[s.index];const z=r[oi];return null!==z&&(S[oi]=z.createEmbeddedView(g)),Rt(g,S,a),S}(this._declarationLView,this._declarationTContainer,s,{injector:a,hydrationInfo:d});return new rf(g)}};function yc(){return d1(os(),ht())}function d1(r,s){return 4&r.type?new mC(s,r,Zd(r,s)):null}let p1=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=bC}return r})();function bC(){return Gy(os(),ht())}const Uy=p1,g1=class extends Uy{constructor(s,a,d){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=d}get element(){return Zd(this._hostTNode,this._hostLView)}get injector(){return new Lo(this._hostTNode,this._hostLView)}get parentInjector(){const s=Tu(this._hostTNode,this._hostLView);if(vu(s)){const a=ql(s,this._hostLView),d=Wl(s);return new Lo(a[Bt].data[d+8],a)}return new Lo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=og(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-xr}createEmbeddedView(s,a,d){let g,y;"number"==typeof d?g=d:null!=d&&(g=d.index,y=d.injector);const S=s.createEmbeddedViewImpl(a||{},y,null);return this.insertImpl(S,g,false),S}createComponent(s,a,d,g,y){const I=s&&!function Ff(r){return"function"==typeof r}(s);let S;if(I)S=a;else{const xt=a||{};S=xt.index,d=xt.injector,g=xt.projectableNodes,y=xt.environmentInjector||xt.ngModuleRef}const R=I?s:new Qn(On(s)),z=d||this.parentInjector;if(!y&&null==R.ngModule){const nn=(I?z:this.parentInjector).get(Oc,null);nn&&(y=nn)}On(R.componentType??{});const Be=R.create(z,g,null,y);return this.insertImpl(Be.hostView,S,false),Be}insert(s,a){return this.insertImpl(s,a,!1)}insertImpl(s,a,d){const g=s._lView;if(function wd(r){return Rr(r[Or])}(g)){const R=this.indexOf(s);if(-1!==R)this.detach(R);else{const z=g[Or],ie=new g1(z,z[Zr],z[Or]);ie.detach(ie.indexOf(s))}}const I=this._adjustIndex(a),S=this._lContainer;return ET(S,g,I,!d),s.attachToViewContainerRef(),Eh(Hy(S),I,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=og(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),d=qf(this._lContainer,a);d&&(kd(Hy(this._lContainer),a),Ah(d[Bt],d))}detach(s){const a=this._adjustIndex(s,-1),d=qf(this._lContainer,a);return d&&null!=kd(Hy(this._lContainer),a)?new rf(d):null}_adjustIndex(s,a=0){return s??this.length+a}};function og(r){return r[8]}function Hy(r){return r[8]||(r[8]=[])}function Gy(r,s){let a;const d=s[r.index];return Rr(d)?a=d:(a=Hp(d,s,null,r),s[r.index]=a,vm(s,a)),m1(a,s,r,d),new g1(a,r,s)}let m1=function tI(r,s,a,d){if(r[gi])return;let g;g=8&a.type?fi(d):function jy(r,s){const a=r[mn],d=a.createComment(""),g=Gs(s,r);return xu(a,Hd(a,g),d,function C_(r,s){return r.nextSibling(s)}(a,g),!1),d}(s,a),r[gi]=g};class vd{constructor(s){this.queryList=s,this.matches=null}clone(){return new vd(this.queryList)}setDirty(){this.queryList.setDirty()}}class _1{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const d=null!==s.contentQueries?s.contentQueries[0]:a.length,g=[];for(let y=0;y<d;y++){const I=a.getByIndex(y);g.push(this.queries[I.indexInDeclarationView].clone())}return new _1(g)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==MT(s,a).matches&&this.queries[a].setDirty()}}class CT{constructor(s,a,d=null){this.predicate=s,this.flags=a,this.read=d}}class $y{constructor(s=[]){this.queries=s}elementStart(s,a){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let d=0;d<this.length;d++){const g=null!==a?a.length:0,y=this.getByIndex(d).embeddedTView(s,g);y&&(y.indexInDeclarationView=d,null!==a?a.push(y):a=[y])}return null!==a?new $y(a):null}template(s,a){for(let d=0;d<this.queries.length;d++)this.queries[d].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class iI{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new iI(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let d=s.parent;for(;null!==d&&8&d.type&&d.index!==a;)d=d.parent;return a===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const d=this.metadata.predicate;if(Array.isArray(d))for(let g=0;g<d.length;g++){const y=d[g];this.matchTNodeWithReadOption(s,a,sI(a,y)),this.matchTNodeWithReadOption(s,a,Cl(a,s,y,!1,!1))}else d===sg?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Cl(a,s,d,!1,!1))}matchTNodeWithReadOption(s,a,d){if(null!==d){const g=this.metadata.read;if(null!==g)if(g===Kd||g===p1||g===sg&&4&a.type)this.addMatch(a.index,-2);else{const y=Cl(a,s,g,!1,!1);null!==y&&this.addMatch(a.index,y)}else this.addMatch(a.index,d)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function sI(r,s){const a=r.localNames;if(null!==a)for(let d=0;d<a.length;d+=2)if(a[d]===s)return a[d+1];return null}function oI(r,s,a,d){return-1===a?function wC(r,s){return 11&r.type?Zd(r,s):4&r.type?d1(r,s):null}(s,r):-2===a?function y1(r,s,a){return a===Kd?Zd(s,r):a===sg?d1(s,r):a===p1?Gy(s,r):void 0}(r,s,d):Xc(r,r[Bt],a,s)}function v1(r,s,a,d){const g=s[oi].queries[d];if(null===g.matches){const y=r.data,I=a.matches,S=[];for(let R=0;R<I.length;R+=2){const z=I[R];S.push(z<0?null:oI(s,y[z],I[R+1],a.metadata.read))}g.matches=S}return g.matches}function b1(r,s,a,d){const g=r.queries.getByIndex(a),y=g.matches;if(null!==y){const I=v1(r,s,g,a);for(let S=0;S<y.length;S+=2){const R=y[S];if(R>0)d.push(I[S/2]);else{const z=y[S+1],ie=s[-R];for(let me=xr;me<ie.length;me++){const xe=ie[me];xe[qi]===xe[Or]&&b1(xe[Bt],xe,z,d)}if(null!==ie[vc]){const me=ie[vc];for(let xe=0;xe<me.length;xe++){const Be=me[xe];b1(Be[Bt],Be,z,d)}}}}}return d}function ag(r){const s=ht(),a=Er(),d=D();P(d+1);const g=MT(a,d);if(r.dirty&&function Ul(r){return 4==(4&r[Bn])}(s)===(2==(2&g.metadata.flags))){if(null===g.matches)r.reset([]);else{const y=g.crossesNgTemplate?b1(a,s,d,[]):v1(a,s,g,d);r.reset(y,am),r.notifyOnChanges()}return!0}return!1}function w1(r,s,a){const d=Er();d.firstCreatePass&&(OT(d,new CT(r,s,a),-1),2==(2&s)&&(d.staticViewQueries=!0)),aI(d,ht(),s)}function ST(r,s,a,d){const g=Er();if(g.firstCreatePass){const y=os();OT(g,new CT(s,a,d),y.index),function cI(r,s){const a=r.contentQueries||(r.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(r.queries.length-1,s)}(g,r),2==(2&a)&&(g.staticContentQueries=!0)}aI(g,ht(),a)}function AT(){return function NT(r,s){return r[oi].queries[s].queryList}(ht(),D())}function aI(r,s,a){const d=new Vy(4==(4&a));(function kc(r,s,a,d){const g=y0(s);g.push(a),r.firstCreatePass&&Vu(r).push(d,g.length-1)})(r,s,d,d.destroy),null===s[oi]&&(s[oi]=new _1),s[oi].queries.push(new vd(d))}function OT(r,s,a){null===r.queries&&(r.queries=new $y),r.queries.track(new iI(s,a))}function MT(r,s){return r.queries.getByIndex(s)}function I1(r,s){return d1(r,s)}function zy(r){return!!si(r)}const R1=new xn("Application Initializer");let vI=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,d)=>{this.resolve=a,this.reject=d}),this.appInits=tr(R1,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const g of this.appInits){const y=g();if(kl(y))a.push(y);else if(Nm(y)){const I=new Promise((S,R)=>{y.subscribe({complete:S,error:R})});a.push(I)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{d()}).catch(g=>{this.reject(g)}),0===a.length&&d(),this.initialized=!0}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),YT=(()=>{class r{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();const P1=new xn("LocaleId",{providedIn:"root",factory:()=>tr(P1,tn.Optional|tn.SkipSelf)||function bI(){return typeof $localize<"u"&&$localize.locale||_d}()}),wI=new xn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let k1=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ue.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class JT{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let II=(()=>{class r{compileModuleSync(a){return new X0(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const d=this.compileModuleSync(a),y=su(si(a).declarations).reduce((I,S)=>{const R=On(S);return R&&I.push(new Qn(R)),I},[]);return new JT(d,y)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const OI=new xn(""),$1=new xn("");let xI,nD=(()=>{class r{constructor(a,d,g){this._ngZone=a,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,xI||(function MI(r){xI=r}(g),g.addToWindow(d)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Go.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(a)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,d,g){let y=-1;d&&d>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==y),a(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:a,timeoutId:y,updateCb:g})}whenStable(a,d,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,d,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,d,g){return[]}static#e=this.\u0275fac=function(d){return new(d||r)(Fn(Go),Fn(dg),Fn($1))};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac})}return r})(),dg=(()=>{class r{constructor(){this._applications=new Map}registerApplication(a,d){this._applications.set(a,d)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,d=!0){return xI?.findTestabilityInTree(this,a,d)??null}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})(),Df=null;const rD=new xn("AllowMultipleToken"),z1=new xn("PlatformDestroyListeners"),RI=new xn("appBootstrapListener");class HC{constructor(s,a){this.name=s,this.token=a}}function PI(r,s,a=[]){const d=`Platform: ${s}`,g=new xn(d);return(y=[])=>{let I=q1();if(!I||I.injector.get(rD,!1)){const S=[...a,...y,{provide:g,useValue:!0}];r?r(S):function oD(r){if(Df&&!Df.get(rD,!1))throw new je(400,!1);(function sD(){!function qu(r){Ic=r}(()=>{throw new je(600,!1)})})(),Df=r;const s=r.get(kI);(function W1(r){r.get(Uo,null)?.forEach(a=>a())})(r)}(function Qy(r=[],s){return ma.create({name:s,providers:[{provide:F_,useValue:"platform"},{provide:z1,useValue:new Set([()=>Df=null])},...r]})}(S,d))}return function cD(r){const s=q1();if(!s)throw new je(401,!1);return s}()}}function q1(){return Df?.get(kI)??null}let kI=(()=>{class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,d){const g=function GC(r="zone.js",s){return"noop"===r?new Vb:"zone.js"===r?new Go(s):r}(d?.ngZone,function a_(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return g.run(()=>{const y=function cC(r,s,a){return new $w(r,s,a)}(a.moduleType,this.injector,function K1(r){return[{provide:Go,useFactory:r},{provide:Lh,multi:!0,useFactory:()=>{const s=tr(lD,{optional:!0});return()=>s.initialize()}},{provide:FI,useFactory:bS},{provide:ey,useFactory:c0}]}(()=>g)),I=y.injector.get(Fu,null);return g.runOutsideAngular(()=>{const S=g.onError.subscribe({next:R=>{I.handleError(R)}});y.onDestroy(()=>{Z1(this._modules,y),S.unsubscribe()})}),function ao(r,s,a){try{const d=a();return kl(d)?d.catch(g=>{throw s.runOutsideAngular(()=>r.handleError(g)),g}):d}catch(d){throw s.runOutsideAngular(()=>r.handleError(d)),d}}(I,g,()=>{const S=y.injector.get(vI);return S.runInitializers(),S.donePromise.then(()=>(Mw(y.injector.get(P1,_d)||_d),this._moduleDoBootstrap(y),y))})})}bootstrapModule(a,d=[]){const g=xa({},d);return function iD(r,s,a){const d=new X0(a);return Promise.resolve(d)}(0,0,a).then(y=>this.bootstrapModuleFactory(y,g))}_moduleDoBootstrap(a){const d=a.injector.get(Hc);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(g=>d.bootstrap(g));else{if(!a.instance.ngDoBootstrap)throw new je(-403,!1);a.instance.ngDoBootstrap(d)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new je(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const a=this._injector.get(z1,null);a&&(a.forEach(d=>d()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(d){return new(d||r)(Fn(ma))};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();function xa(r,s){return Array.isArray(s)?s.reduce(xa,r):{...r,...s}}let Hc=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=tr(FI),this.zoneIsStable=tr(ey),this.componentTypes=[],this.components=[],this.isStable=tr(k1).hasPendingTasks.pipe((0,Me.w)(a=>a?(0,fe.of)(!1):this.zoneIsStable),(0,Se.x)(),ce()),this._injector=tr(Oc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,d){const g=a instanceof sm;if(!this._injector.get(vI).done)throw!g&&ds(a),new je(405,!1);let I;I=g?a:this._injector.get(zh).resolveComponentFactory(a),this.componentTypes.push(I.componentType);const S=function UC(r){return r.isBoundToModule}(I)?void 0:this._injector.get(Ll),z=I.create(ma.NULL,[],d||I.selector,S),ie=z.location.nativeElement,me=z.injector.get(OI,null);return me?.registerApplication(ie),z.onDestroy(()=>{this.detachView(z.hostView),Z1(this.components,z),me?.unregisterApplication(ie)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new je(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const d=a;this._views.push(d),d.attachToAppRef(this)}detachView(a){const d=a;Z1(this._views,d),d.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const d=this._injector.get(RI,[]);d.push(...this._bootstrapListeners),d.forEach(g=>g(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Z1(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new je(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Z1(r,s){const a=r.indexOf(s);a>-1&&r.splice(a,1)}const FI=new xn("",{providedIn:"root",factory:()=>tr(Fu).handleError.bind(void 0)});function bS(){const r=tr(Go),s=tr(Fu);return a=>r.runOutsideAngular(()=>s.handleError(a))}let lD=(()=>{class r{constructor(){this.zone=tr(Go),this.applicationRef=tr(Hc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();let uD=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=ES}return r})();function ES(r){return function TS(r,s,a){if(Es(r)&&!a){const d=Ei(r.index,s);return new rf(d,d)}return 47&r.type?new rf(s[jr],s):null}(os(),ht(),16==(16&r))}class fD{constructor(){}supports(s){return _a(s)}create(s){return new UI(s)}}const l_=(r,s)=>s;class UI{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||l_}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,d=this._removalsHead,g=0,y=null;for(;a||d;){const I=!d||a&&a.currentIndex<gD(d,g,y)?a:d,S=gD(I,g,y),R=I.currentIndex;if(I===d)g--,d=d._nextRemoved;else if(a=a._next,null==I.previousIndex)g++;else{y||(y=[]);const z=S-g,ie=R-g;if(z!=ie){for(let xe=0;xe<z;xe++){const Be=xe<y.length?y[xe]:y[xe]=0,pt=Be+xe;ie<=pt&&pt<z&&(y[xe]=Be+1)}y[I.previousIndex]=ie-z}}S!==R&&s(I,S,R)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!_a(s))throw new je(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let g,y,I,a=this._itHead,d=!1;if(Array.isArray(s)){this.length=s.length;for(let S=0;S<this.length;S++)y=s[S],I=this._trackByFn(S,y),null!==a&&Object.is(a.trackById,I)?(d&&(a=this._verifyReinsertion(a,y,I,S)),Object.is(a.item,y)||this._addIdentityChange(a,y)):(a=this._mismatch(a,y,I,S),d=!0),a=a._next}else g=0,function zp(r,s){if(Array.isArray(r))for(let a=0;a<r.length;a++)s(r[a]);else{const a=r[Symbol.iterator]();let d;for(;!(d=a.next()).done;)s(d.value)}}(s,S=>{I=this._trackByFn(g,S),null!==a&&Object.is(a.trackById,I)?(d&&(a=this._verifyReinsertion(a,S,I,g)),Object.is(a.item,S)||this._addIdentityChange(a,S)):(a=this._mismatch(a,S,I,g),d=!0),a=a._next,g++}),this.length=g;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,d,g){let y;return null===s?y=this._itTail:(y=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,y,g)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(d,g))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,y,g)):s=this._addAfter(new ev(a,d),y,g),s}_verifyReinsertion(s,a,d,g){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==y?s=this._reinsertAfter(y,s._prev,g):s.currentIndex!=g&&(s.currentIndex=g,this._addToMoves(s,g)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const g=s._prevRemoved,y=s._nextRemoved;return null===g?this._removalsHead=y:g._nextRemoved=y,null===y?this._removalsTail=g:y._prevRemoved=g,this._insertAfter(s,a,d),this._addToMoves(s,d),s}_moveAfter(s,a,d){return this._unlink(s),this._insertAfter(s,a,d),this._addToMoves(s,d),s}_addAfter(s,a,d){return this._insertAfter(s,a,d),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,d){const g=null===a?this._itHead:a._next;return s._next=g,s._prev=a,null===g?this._itTail=s:g._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Q1),this._linkedRecords.put(s),s.currentIndex=d,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,d=s._next;return null===a?this._itHead=d:a._next=d,null===d?this._itTail=a:d._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Q1),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class ev{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class pD{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===a||a<=d.currentIndex)&&Object.is(d.trackById,s))return d;return null}remove(s){const a=s._prevDup,d=s._nextDup;return null===a?this._head=d:a._nextDup=d,null===d?this._tail=a:d._prevDup=a,null===this._head}}class Q1{constructor(){this.map=new Map}put(s){const a=s.trackById;let d=this.map.get(a);d||(d=new pD,this.map.set(a,d)),d.add(s)}get(s,a){const g=this.map.get(s);return g?g.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gD(r,s,a){const d=r.previousIndex;if(null===d)return d;let g=0;return a&&d<a.length&&(g=a[d]),d+s+g}class mD{constructor(){}supports(s){return s instanceof Map||al(s)}create(){return new ZC}}class ZC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||al(s)))throw new je(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(d,g)=>{if(a&&a.key===g)this._maybeAddToChanges(a,d),this._appendAfter=a,a=a._next;else{const y=this._getOrCreateRecordForKey(g,d);a=this._insertBeforeOrAppend(a,y)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let d=a;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const d=s._prev;return a._next=s,a._prev=d,s._prev=a,d&&(d._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const g=this._records.get(s);this._maybeAddToChanges(g,a);const y=g._prev,I=g._next;return y&&(y._next=I),I&&(I._prev=y),g._next=null,g._prev=null,g}const d=new _D(s);return this._records.set(s,d),d.currentValue=a,this._addToAdditions(d),d}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(d=>a(s[d],d))}}class _D{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function HI(){return new J1([new fD])}let J1=(()=>{class r{static#e=this.\u0275prov=De({token:r,providedIn:"root",factory:HI});constructor(a){this.factories=a}static create(a,d){if(null!=d){const g=d.factories.slice();a=a.concat(g)}return new r(a)}static extend(a){return{provide:r,useFactory:d=>r.create(a,d||HI()),deps:[[r,new Tg,new Th]]}}find(a){const d=this.factories.find(g=>g.supports(a));if(null!=d)return d;throw new je(901,!1)}}return r})();function GI(){return new X1([new mD])}let X1=(()=>{class r{static#e=this.\u0275prov=De({token:r,providedIn:"root",factory:GI});constructor(a){this.factories=a}static create(a,d){if(d){const g=d.factories.slice();a=a.concat(g)}return new r(a)}static extend(a){return{provide:r,useFactory:d=>r.create(a,d||GI()),deps:[[r,new Tg,new Th]]}}find(a){const d=this.factories.find(g=>g.supports(a));if(d)return d;throw new je(901,!1)}}return r})();const eb=PI(null,"core",[]);let yD=(()=>{class r{constructor(a){}static#e=this.\u0275fac=function(d){return new(d||r)(Fn(Hc))};static#t=this.\u0275mod=Wi({type:r});static#n=this.\u0275inj=ke({})}return r})();function wD(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function xS(r,s){const a=On(r),d=s.elementInjector||$d();return new Qn(a).create(d,s.projectableNodes,s.hostElement,s.environmentInjector)}function fg(r){const s=On(r);if(!s)return null;const a=new Qn(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},7592:(Vt,Ge,K)=>{K.d(Ge,{C6:()=>Pe,Jn:()=>vr,KN:()=>vt,Mq:()=>De,Xd:()=>Pt,ZF:()=>Br,qX:()=>Ut});var b=K(5861),re=K(6820),u=K(7879),be=K(229),ue=K(1878);class fe{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(Ze=>{if(function Ee(nt){const Ce=nt.getComponent();return"VERSION"===Ce?.type}(Ze)){const It=Ze.getImmediate();return`${It.library}/${It.version}`}return null}).filter(Ze=>Ze).join(" ")}}const Qe="@firebase/app",ce=new u.Yd("@firebase/app"),Fe="[DEFAULT]",$e={[Qe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xe=new Map,Ue=new Map;function it(nt,Ce){try{nt.container.addComponent(Ce)}catch(Ze){ce.debug(`Component ${Ce.name} failed to register with FirebaseApp ${nt.name}`,Ze)}}function Pt(nt){const Ce=nt.name;if(Ue.has(Ce))return ce.debug(`There were multiple attempts to register component ${Ce}.`),!1;Ue.set(Ce,nt);for(const Ze of Xe.values())it(Ze,nt);return!0}function Ut(nt,Ce){const Ze=nt.container.getProvider("heartbeat").getImmediate({optional:!0});return Ze&&Ze.triggerHeartbeat(),nt.container.getProvider(Ce)}const Dt=new be.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Wn{constructor(Ce,Ze,It){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},Ze),this._name=Ze.name,this._automaticDataCollectionEnabled=Ze.automaticDataCollectionEnabled,this._container=It,this.container.addComponent(new re.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw Dt.create("app-deleted",{appName:this._name})}}const vr="9.23.0";function Br(nt,Ce={}){let Ze=nt;"object"!=typeof Ce&&(Ce={name:Ce});const It=Object.assign({name:Fe,automaticDataCollectionEnabled:!1},Ce),zt=It.name;if("string"!=typeof zt||!zt)throw Dt.create("bad-app-name",{appName:String(zt)});if(Ze||(Ze=(0,be.aH)()),!Ze)throw Dt.create("no-options");const Zt=Xe.get(zt);if(Zt){if((0,be.vZ)(Ze,Zt.options)&&(0,be.vZ)(It,Zt.config))return Zt;throw Dt.create("duplicate-app",{appName:zt})}const $n=new re.H0(zt);for(const V of Ue.values())$n.addComponent(V);const Y=new Wn(Ze,It,$n);return Xe.set(zt,Y),Y}function De(nt=Fe){const Ce=Xe.get(nt);if(!Ce&&nt===Fe&&(0,be.aH)())return Br();if(!Ce)throw Dt.create("no-app",{appName:nt});return Ce}function Pe(){return Array.from(Xe.values())}function vt(nt,Ce,Ze){var It;let zt=null!==(It=$e[nt])&&void 0!==It?It:nt;Ze&&(zt+=`-${Ze}`);const Zt=zt.match(/\s|\//),$n=Ce.match(/\s|\//);if(Zt||$n){const Y=[`Unable to register library "${zt}" with version "${Ce}":`];return Zt&&Y.push(`library name "${zt}" contains illegal characters (whitespace or "/")`),Zt&&$n&&Y.push("and"),$n&&Y.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void ce.warn(Y.join(" "))}Pt(new re.wA(`${zt}-version`,()=>({library:zt,version:Ce}),"VERSION"))}const An="firebase-heartbeat-database",on=1,Xt="firebase-heartbeat-store";let En=null;function Jn(){return En||(En=(0,ue.X3)(An,on,{upgrade:(nt,Ce)=>{0===Ce&&nt.createObjectStore(Xt)}}).catch(nt=>{throw Dt.create("idb-open",{originalErrorMessage:nt.message})})),En}function Cr(){return(Cr=(0,b.Z)(function*(nt){try{return yield(yield Jn()).transaction(Xt).objectStore(Xt).get(ar(nt))}catch(Ce){if(Ce instanceof be.ZR)ce.warn(Ce.message);else{const Ze=Dt.create("idb-get",{originalErrorMessage:Ce?.message});ce.warn(Ze.message)}}})).apply(this,arguments)}function Ir(nt,Ce){return yn.apply(this,arguments)}function yn(){return(yn=(0,b.Z)(function*(nt,Ce){try{const It=(yield Jn()).transaction(Xt,"readwrite");yield It.objectStore(Xt).put(Ce,ar(nt)),yield It.done}catch(Ze){if(Ze instanceof be.ZR)ce.warn(Ze.message);else{const It=Dt.create("idb-set",{originalErrorMessage:Ze?.message});ce.warn(It.message)}}})).apply(this,arguments)}function ar(nt){return`${nt.name}!${nt.options.appId}`}class jn{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const Ze=this.container.getProvider("app").getImmediate();this._storage=new Xn(Ze),this._heartbeatsCachePromise=this._storage.read().then(It=>(this._heartbeatsCache=It,It))}triggerHeartbeat(){var Ce=this;return(0,b.Z)(function*(){const It=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),zt=ai();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==zt&&!Ce._heartbeatsCache.heartbeats.some(Zt=>Zt.date===zt))return Ce._heartbeatsCache.heartbeats.push({date:zt,agent:It}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(Zt=>{const $n=new Date(Zt.date).valueOf();return Date.now()-$n<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,b.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const Ze=ai(),{heartbeatsToSend:It,unsentEntries:zt}=function xn(nt,Ce=1024){const Ze=[];let It=nt.slice();for(const zt of nt){const Zt=Ze.find($n=>$n.agent===zt.agent);if(Zt){if(Zt.dates.push(zt.date),Nr(Ze)>Ce){Zt.dates.pop();break}}else if(Ze.push({agent:zt.agent,dates:[zt.date]}),Nr(Ze)>Ce){Ze.pop();break}It=It.slice(1)}return{heartbeatsToSend:Ze,unsentEntries:It}}(Ce._heartbeatsCache.heartbeats),Zt=(0,be.L)(JSON.stringify({version:2,heartbeats:It}));return Ce._heartbeatsCache.lastSentHeartbeatDate=Ze,zt.length>0?(Ce._heartbeatsCache.heartbeats=zt,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),Zt})()}}function ai(){return(new Date).toISOString().substring(0,10)}class Xn{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!(0,be.hl)()&&(0,be.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,b.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function tn(nt){return Cr.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var Ze=this;return(0,b.Z)(function*(){var It;if(yield Ze._canUseIndexedDBPromise){const Zt=yield Ze.read();return Ir(Ze.app,{lastSentHeartbeatDate:null!==(It=Ce.lastSentHeartbeatDate)&&void 0!==It?It:Zt.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var Ze=this;return(0,b.Z)(function*(){var It;if(yield Ze._canUseIndexedDBPromise){const Zt=yield Ze.read();return Ir(Ze.app,{lastSentHeartbeatDate:null!==(It=Ce.lastSentHeartbeatDate)&&void 0!==It?It:Zt.lastSentHeartbeatDate,heartbeats:[...Zt.heartbeats,...Ce.heartbeats]})}})()}}function Nr(nt){return(0,be.L)(JSON.stringify({version:2,heartbeats:nt})).length}!function ci(nt){Pt(new re.wA("platform-logger",Ce=>new fe(Ce),"PRIVATE")),Pt(new re.wA("heartbeat",Ce=>new jn(Ce),"PRIVATE")),vt(Qe,"0.9.13",nt),vt(Qe,"0.9.13","esm2017"),vt("fire-js","")}("")},6820:(Vt,Ge,K)=>{K.d(Ge,{H0:()=>Qe,wA:()=>u});var b=K(5861),re=K(229);class u{constructor(ce,de,Me){this.name=ce,this.instanceFactory=de,this.type=Me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ce){return this.instantiationMode=ce,this}setMultipleInstances(ce){return this.multipleInstances=ce,this}setServiceProps(ce){return this.serviceProps=ce,this}setInstanceCreatedCallback(ce){return this.onInstanceCreated=ce,this}}const be="[DEFAULT]";class ue{constructor(ce,de){this.name=ce,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ce){const de=this.normalizeInstanceIdentifier(ce);if(!this.instancesDeferred.has(de)){const Me=new re.BH;if(this.instancesDeferred.set(de,Me),this.isInitialized(de)||this.shouldAutoInitialize())try{const Se=this.getOrInitializeService({instanceIdentifier:de});Se&&Me.resolve(Se)}catch{}}return this.instancesDeferred.get(de).promise}getImmediate(ce){var de;const Me=this.normalizeInstanceIdentifier(ce?.identifier),Se=null!==(de=ce?.optional)&&void 0!==de&&de;if(!this.isInitialized(Me)&&!this.shouldAutoInitialize()){if(Se)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Me})}catch(Oe){if(Se)return null;throw Oe}}getComponent(){return this.component}setComponent(ce){if(ce.name!==this.name)throw Error(`Mismatching Component ${ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ce,this.shouldAutoInitialize()){if(function Ee(Re){return"EAGER"===Re.instantiationMode}(ce))try{this.getOrInitializeService({instanceIdentifier:be})}catch{}for(const[de,Me]of this.instancesDeferred.entries()){const Se=this.normalizeInstanceIdentifier(de);try{const Oe=this.getOrInitializeService({instanceIdentifier:Se});Me.resolve(Oe)}catch{}}}}clearInstance(ce=be){this.instancesDeferred.delete(ce),this.instancesOptions.delete(ce),this.instances.delete(ce)}delete(){var ce=this;return(0,b.Z)(function*(){const de=Array.from(ce.instances.values());yield Promise.all([...de.filter(Me=>"INTERNAL"in Me).map(Me=>Me.INTERNAL.delete()),...de.filter(Me=>"_delete"in Me).map(Me=>Me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ce=be){return this.instances.has(ce)}getOptions(ce=be){return this.instancesOptions.get(ce)||{}}initialize(ce={}){const{options:de={}}=ce,Me=this.normalizeInstanceIdentifier(ce.instanceIdentifier);if(this.isInitialized(Me))throw Error(`${this.name}(${Me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Se=this.getOrInitializeService({instanceIdentifier:Me,options:de});for(const[Oe,Ye]of this.instancesDeferred.entries())Me===this.normalizeInstanceIdentifier(Oe)&&Ye.resolve(Se);return Se}onInit(ce,de){var Me;const Se=this.normalizeInstanceIdentifier(de),Oe=null!==(Me=this.onInitCallbacks.get(Se))&&void 0!==Me?Me:new Set;Oe.add(ce),this.onInitCallbacks.set(Se,Oe);const Ye=this.instances.get(Se);return Ye&&ce(Ye,Se),()=>{Oe.delete(ce)}}invokeOnInitCallbacks(ce,de){const Me=this.onInitCallbacks.get(de);if(Me)for(const Se of Me)try{Se(ce,de)}catch{}}getOrInitializeService({instanceIdentifier:ce,options:de={}}){let Me=this.instances.get(ce);if(!Me&&this.component&&(Me=this.component.instanceFactory(this.container,{instanceIdentifier:(Re=ce,Re===be?void 0:Re),options:de}),this.instances.set(ce,Me),this.instancesOptions.set(ce,de),this.invokeOnInitCallbacks(Me,ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ce,Me)}catch{}var Re;return Me||null}normalizeInstanceIdentifier(ce=be){return this.component?this.component.multipleInstances?ce:be:ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Qe{constructor(ce){this.name=ce,this.providers=new Map}addComponent(ce){const de=this.getProvider(ce.name);if(de.isComponentSet())throw new Error(`Component ${ce.name} has already been registered with ${this.name}`);de.setComponent(ce)}addOrOverwriteComponent(ce){this.getProvider(ce.name).isComponentSet()&&this.providers.delete(ce.name),this.addComponent(ce)}getProvider(ce){if(this.providers.has(ce))return this.providers.get(ce);const de=new ue(ce,this);return this.providers.set(ce,de),de}getProviders(){return Array.from(this.providers.values())}}},4097:(Vt,Ge,K)=>{K.d(Ge,{C6:()=>b.C6,KN:()=>b.KN,Mq:()=>b.Mq,ZF:()=>b.ZF});var b=K(7592);(0,b.KN)("firebase","9.23.0","app")},95:(Vt,Ge,K)=>{K.d(Ge,{Fj:()=>ft,CE:()=>Bt,qu:()=>ho,NI:()=>ii,u:()=>Ni,cw:()=>an,sg:()=>bi,x0:()=>xo,u5:()=>ra,wO:()=>wi,Cf:()=>_t,JU:()=>Ye,JJ:()=>Xt,JL:()=>En,YN:()=>Zn,wV:()=>Wi,UX:()=>pl,Q7:()=>Vn,EJ:()=>Mr,kI:()=>Je,_Y:()=>Oo,Kr:()=>jr});var b=K(9468),re=K(6814),u=K(2459),be=K(5592),ue=K(7453),fe=K(4829),Ee=K(9940),Qe=K(8251),Re=K(7400),ce=K(2714),Me=K(7398);let Se=(()=>{class q{constructor(B,oe){this._renderer=B,this._elementRef=oe,this.onChange=Te=>{},this.onTouched=()=>{}}setProperty(B,oe){this._renderer.setProperty(this._elementRef.nativeElement,B,oe)}registerOnTouched(B){this.onTouched=B}registerOnChange(B){this.onChange=B}setDisabledState(B){this.setProperty("disabled",B)}static#e=this.\u0275fac=function(oe){return new(oe||q)(b.Y36(b.Qsj),b.Y36(b.SBq))};static#t=this.\u0275dir=b.lG2({type:q})}return q})(),Oe=(()=>{class q extends Se{static#e=this.\u0275fac=function(){let B;return function(Te){return(B||(B=b.n5z(q)))(Te||q)}}();static#t=this.\u0275dir=b.lG2({type:q,features:[b.qOj]})}return q})();const Ye=new b.OlP("NgValueAccessor"),Ot={provide:Ye,useExisting:(0,b.Gpc)(()=>ft),multi:!0},Mt=new b.OlP("CompositionEventMode");let ft=(()=>{class q extends Se{constructor(B,oe,Te){super(B,oe),this._compositionMode=Te,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Cn(){const q=(0,re.q)()?(0,re.q)().getUserAgent():"";return/android (\d+)/.test(q.toLowerCase())}())}writeValue(B){this.setProperty("value",B??"")}_handleInput(B){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(B)}_compositionStart(){this._composing=!0}_compositionEnd(B){this._composing=!1,this._compositionMode&&this.onChange(B)}static#e=this.\u0275fac=function(oe){return new(oe||q)(b.Y36(b.Qsj),b.Y36(b.SBq),b.Y36(Mt,8))};static#t=this.\u0275dir=b.lG2({type:q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(oe,Te){1&oe&&b.NdJ("input",function(Hn){return Te._handleInput(Hn.target.value)})("blur",function(){return Te.onTouched()})("compositionstart",function(){return Te._compositionStart()})("compositionend",function(Hn){return Te._compositionEnd(Hn.target.value)})},features:[b._Bn([Ot]),b.qOj]})}return q})();function ot(q){return null==q||("string"==typeof q||Array.isArray(q))&&0===q.length}function yt(q){return null!=q&&"number"==typeof q.length}const _t=new b.OlP("NgValidators"),je=new b.OlP("NgAsyncValidators"),ve=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Je{static min(X){return function mt(q){return X=>{if(ot(X.value)||ot(q))return null;const B=parseFloat(X.value);return!isNaN(B)&&B<q?{min:{min:q,actual:X.value}}:null}}(X)}static max(X){return function kn(q){return X=>{if(ot(X.value)||ot(q))return null;const B=parseFloat(X.value);return!isNaN(B)&&B>q?{max:{max:q,actual:X.value}}:null}}(X)}static required(X){return dt(X)}static requiredTrue(X){return function hn(q){return!0===q.value?null:{required:!0}}(X)}static email(X){return function Sn(q){return ot(q.value)||ve.test(q.value)?null:{email:!0}}(X)}static minLength(X){return Un(X)}static maxLength(X){return function or(q){return X=>yt(X.value)&&X.value.length>q?{maxlength:{requiredLength:q,actualLength:X.value.length}}:null}(X)}static pattern(X){return function yr(q){if(!q)return Fe;let X,B;return"string"==typeof q?(B="","^"!==q.charAt(0)&&(B+="^"),B+=q,"$"!==q.charAt(q.length-1)&&(B+="$"),X=new RegExp(B)):(B=q.toString(),X=q),oe=>{if(ot(oe.value))return null;const Te=oe.value;return X.test(Te)?null:{pattern:{requiredPattern:B,actualValue:Te}}}}(X)}static nullValidator(X){return null}static compose(X){return Ut(X)}static composeAsync(X){return wn(X)}}function dt(q){return ot(q.value)?{required:!0}:null}function Un(q){return X=>ot(X.value)||!yt(X.value)?null:X.value.length<q?{minlength:{requiredLength:q,actualLength:X.value.length}}:null}function Fe(q){return null}function $e(q){return null!=q}function Xe(q){return(0,b.QGY)(q)?(0,u.D)(q):q}function Ue(q){let X={};return q.forEach(B=>{X=null!=B?{...X,...B}:X}),0===Object.keys(X).length?null:X}function it(q,X){return X.map(B=>B(q))}function Pt(q){return q.map(X=>function wt(q){return!q.validate}(X)?X:B=>X.validate(B))}function Ut(q){if(!q)return null;const X=q.filter($e);return 0==X.length?null:function(B){return Ue(it(B,X))}}function fn(q){return null!=q?Ut(Pt(q)):null}function wn(q){if(!q)return null;const X=q.filter($e);return 0==X.length?null:function(B){return function de(...q){const X=(0,Ee.jO)(q),{args:B,keys:oe}=(0,ue.D)(q),Te=new be.y(en=>{const{length:Hn}=B;if(!Hn)return void en.complete();const ns=new Array(Hn);let to=Hn,Ki=Hn;for(let Ui=0;Ui<Hn;Ui++){let ec=!1;(0,fe.Xf)(B[Ui]).subscribe((0,Qe.x)(en,ko=>{ec||(ec=!0,Ki--),ns[Ui]=ko},()=>to--,void 0,()=>{(!to||!ec)&&(Ki||en.next(oe?(0,ce.n)(oe,ns):ns),en.complete())}))}});return X?Te.pipe((0,Re.Z)(X)):Te}(it(B,X).map(Xe)).pipe((0,Me.U)(Ue))}}function un(q){return null!=q?wn(Pt(q)):null}function Dt(q,X){return null===q?[X]:Array.isArray(q)?[...q,X]:[q,X]}function Wn(q){return q._rawValidators}function vr(q){return q._rawAsyncValidators}function Br(q){return q?Array.isArray(q)?q:[q]:[]}function De(q,X){return Array.isArray(q)?q.includes(X):q===X}function Pe(q,X){const B=Br(X);return Br(q).forEach(Te=>{De(B,Te)||B.push(Te)}),B}function ke(q,X){return Br(X).filter(B=>!De(q,B))}class ct{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(X){this._rawValidators=X||[],this._composedValidatorFn=fn(this._rawValidators)}_setAsyncValidators(X){this._rawAsyncValidators=X||[],this._composedAsyncValidatorFn=un(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(X){this._onDestroyCallbacks.push(X)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(X=>X()),this._onDestroyCallbacks=[]}reset(X=void 0){this.control&&this.control.reset(X)}hasError(X,B){return!!this.control&&this.control.hasError(X,B)}getError(X,B){return this.control?this.control.getError(X,B):null}}class vt extends ct{get formDirective(){return null}get path(){return null}}class At extends ct{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class wr{constructor(X){this._cd=X}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Xt=(()=>{class q extends wr{constructor(B){super(B)}static#e=this.\u0275fac=function(oe){return new(oe||q)(b.Y36(At,2))};static#t=this.\u0275dir=b.lG2({type:q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(oe,Te){2&oe&&b.ekj("ng-untouched",Te.isUntouched)("ng-touched",Te.isTouched)("ng-pristine",Te.isPristine)("ng-dirty",Te.isDirty)("ng-valid",Te.isValid)("ng-invalid",Te.isInvalid)("ng-pending",Te.isPending)},features:[b.qOj]})}return q})(),En=(()=>{class q extends wr{constructor(B){super(B)}static#e=this.\u0275fac=function(oe){return new(oe||q)(b.Y36(vt,10))};static#t=this.\u0275dir=b.lG2({type:q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(oe,Te){2&oe&&b.ekj("ng-untouched",Te.isUntouched)("ng-touched",Te.isTouched)("ng-pristine",Te.isPristine)("ng-dirty",Te.isDirty)("ng-valid",Te.isValid)("ng-invalid",Te.isInvalid)("ng-pending",Te.isPending)("ng-submitted",Te.isSubmitted)},features:[b.qOj]})}return q})();const It="VALID",zt="INVALID",Zt="PENDING",$n="DISABLED";function Y(q){return($(q)?q.validators:q)||null}function G(q,X){return($(X)?X.asyncValidators:q)||null}function $(q){return null!=q&&!Array.isArray(q)&&"object"==typeof q}function we(q,X,B){const oe=q.controls;if(!(X?Object.keys(oe):oe).length)throw new b.vHH(1e3,"");if(!oe[B])throw new b.vHH(1001,"")}function We(q,X,B){q._forEachChild((oe,Te)=>{if(void 0===B[Te])throw new b.vHH(1002,"")})}class Et{constructor(X,B){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(X),this._assignAsyncValidators(B)}get validator(){return this._composedValidatorFn}set validator(X){this._rawValidators=this._composedValidatorFn=X}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(X){this._rawAsyncValidators=this._composedAsyncValidatorFn=X}get parent(){return this._parent}get valid(){return this.status===It}get invalid(){return this.status===zt}get pending(){return this.status==Zt}get disabled(){return this.status===$n}get enabled(){return this.status!==$n}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(X){this._assignValidators(X)}setAsyncValidators(X){this._assignAsyncValidators(X)}addValidators(X){this.setValidators(Pe(X,this._rawValidators))}addAsyncValidators(X){this.setAsyncValidators(Pe(X,this._rawAsyncValidators))}removeValidators(X){this.setValidators(ke(X,this._rawValidators))}removeAsyncValidators(X){this.setAsyncValidators(ke(X,this._rawAsyncValidators))}hasValidator(X){return De(this._rawValidators,X)}hasAsyncValidator(X){return De(this._rawAsyncValidators,X)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(X={}){this.touched=!0,this._parent&&!X.onlySelf&&this._parent.markAsTouched(X)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(X=>X.markAllAsTouched())}markAsUntouched(X={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(B=>{B.markAsUntouched({onlySelf:!0})}),this._parent&&!X.onlySelf&&this._parent._updateTouched(X)}markAsDirty(X={}){this.pristine=!1,this._parent&&!X.onlySelf&&this._parent.markAsDirty(X)}markAsPristine(X={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(B=>{B.markAsPristine({onlySelf:!0})}),this._parent&&!X.onlySelf&&this._parent._updatePristine(X)}markAsPending(X={}){this.status=Zt,!1!==X.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!X.onlySelf&&this._parent.markAsPending(X)}disable(X={}){const B=this._parentMarkedDirty(X.onlySelf);this.status=$n,this.errors=null,this._forEachChild(oe=>{oe.disable({...X,onlySelf:!0})}),this._updateValue(),!1!==X.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...X,skipPristineCheck:B}),this._onDisabledChange.forEach(oe=>oe(!0))}enable(X={}){const B=this._parentMarkedDirty(X.onlySelf);this.status=It,this._forEachChild(oe=>{oe.enable({...X,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:X.emitEvent}),this._updateAncestors({...X,skipPristineCheck:B}),this._onDisabledChange.forEach(oe=>oe(!1))}_updateAncestors(X){this._parent&&!X.onlySelf&&(this._parent.updateValueAndValidity(X),X.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(X){this._parent=X}getRawValue(){return this.value}updateValueAndValidity(X={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===It||this.status===Zt)&&this._runAsyncValidator(X.emitEvent)),!1!==X.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!X.onlySelf&&this._parent.updateValueAndValidity(X)}_updateTreeValidity(X={emitEvent:!0}){this._forEachChild(B=>B._updateTreeValidity(X)),this.updateValueAndValidity({onlySelf:!0,emitEvent:X.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$n:It}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(X){if(this.asyncValidator){this.status=Zt,this._hasOwnPendingAsyncValidator=!0;const B=Xe(this.asyncValidator(this));this._asyncValidationSubscription=B.subscribe(oe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(oe,{emitEvent:X})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(X,B={}){this.errors=X,this._updateControlsErrors(!1!==B.emitEvent)}get(X){let B=X;return null==B||(Array.isArray(B)||(B=B.split(".")),0===B.length)?null:B.reduce((oe,Te)=>oe&&oe._find(Te),this)}getError(X,B){const oe=B?this.get(B):this;return oe&&oe.errors?oe.errors[X]:null}hasError(X,B){return!!this.getError(X,B)}get root(){let X=this;for(;X._parent;)X=X._parent;return X}_updateControlsErrors(X){this.status=this._calculateStatus(),X&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(X)}_initObservables(){this.valueChanges=new b.vpe,this.statusChanges=new b.vpe}_calculateStatus(){return this._allControlsDisabled()?$n:this.errors?zt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zt)?Zt:this._anyControlsHaveStatus(zt)?zt:It}_anyControlsHaveStatus(X){return this._anyControls(B=>B.status===X)}_anyControlsDirty(){return this._anyControls(X=>X.dirty)}_anyControlsTouched(){return this._anyControls(X=>X.touched)}_updatePristine(X={}){this.pristine=!this._anyControlsDirty(),this._parent&&!X.onlySelf&&this._parent._updatePristine(X)}_updateTouched(X={}){this.touched=this._anyControlsTouched(),this._parent&&!X.onlySelf&&this._parent._updateTouched(X)}_registerOnCollectionChange(X){this._onCollectionChange=X}_setUpdateStrategy(X){$(X)&&null!=X.updateOn&&(this._updateOn=X.updateOn)}_parentMarkedDirty(X){return!X&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(X){return null}_assignValidators(X){this._rawValidators=Array.isArray(X)?X.slice():X,this._composedValidatorFn=function V(q){return Array.isArray(q)?fn(q):q||null}(this._rawValidators)}_assignAsyncValidators(X){this._rawAsyncValidators=Array.isArray(X)?X.slice():X,this._composedAsyncValidatorFn=function W(q){return Array.isArray(q)?un(q):q||null}(this._rawAsyncValidators)}}class an extends Et{constructor(X,B,oe){super(Y(B),G(oe,B)),this.controls=X,this._initObservables(),this._setUpdateStrategy(B),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(X,B){return this.controls[X]?this.controls[X]:(this.controls[X]=B,B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange),B)}addControl(X,B,oe={}){this.registerControl(X,B),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}removeControl(X,B={}){this.controls[X]&&this.controls[X]._registerOnCollectionChange(()=>{}),delete this.controls[X],this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}setControl(X,B,oe={}){this.controls[X]&&this.controls[X]._registerOnCollectionChange(()=>{}),delete this.controls[X],B&&this.registerControl(X,B),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}contains(X){return this.controls.hasOwnProperty(X)&&this.controls[X].enabled}setValue(X,B={}){We(this,0,X),Object.keys(X).forEach(oe=>{we(this,!0,oe),this.controls[oe].setValue(X[oe],{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B)}patchValue(X,B={}){null!=X&&(Object.keys(X).forEach(oe=>{const Te=this.controls[oe];Te&&Te.patchValue(X[oe],{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B))}reset(X={},B={}){this._forEachChild((oe,Te)=>{oe.reset(X?X[Te]:null,{onlySelf:!0,emitEvent:B.emitEvent})}),this._updatePristine(B),this._updateTouched(B),this.updateValueAndValidity(B)}getRawValue(){return this._reduceChildren({},(X,B,oe)=>(X[oe]=B.getRawValue(),X))}_syncPendingControls(){let X=this._reduceChildren(!1,(B,oe)=>!!oe._syncPendingControls()||B);return X&&this.updateValueAndValidity({onlySelf:!0}),X}_forEachChild(X){Object.keys(this.controls).forEach(B=>{const oe=this.controls[B];oe&&X(oe,B)})}_setUpControls(){this._forEachChild(X=>{X.setParent(this),X._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(X){for(const[B,oe]of Object.entries(this.controls))if(this.contains(B)&&X(oe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(B,oe,Te)=>((oe.enabled||this.disabled)&&(B[Te]=oe.value),B))}_reduceChildren(X,B){let oe=X;return this._forEachChild((Te,en)=>{oe=B(oe,Te,en)}),oe}_allControlsDisabled(){for(const X of Object.keys(this.controls))if(this.controls[X].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(X){return this.controls.hasOwnProperty(X)?this.controls[X]:null}}class Kt extends an{}const Wr=new b.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>tr}),tr="always";function qs(q,X){return[...X.path,q]}function Hi(q,X,B=tr){Pa(q,X),X.valueAccessor.writeValue(q.value),(q.disabled||"always"===B)&&X.valueAccessor.setDisabledState?.(q.disabled),function Ao(q,X){X.valueAccessor.registerOnChange(B=>{q._pendingValue=B,q._pendingChange=!0,q._pendingDirty=!0,"change"===q.updateOn&&ts(q,X)})}(q,X),function lr(q,X){const B=(oe,Te)=>{X.valueAccessor.writeValue(oe),Te&&X.viewToModelUpdate(oe)};q.registerOnChange(B),X._registerOnDestroy(()=>{q._unregisterOnChange(B)})}(q,X),function ys(q,X){X.valueAccessor.registerOnTouched(()=>{q._pendingTouched=!0,"blur"===q.updateOn&&q._pendingChange&&ts(q,X),"submit"!==q.updateOn&&q.markAsTouched()})}(q,X),function Ra(q,X){if(X.valueAccessor.setDisabledState){const B=oe=>{X.valueAccessor.setDisabledState(oe)};q.registerOnDisabledChange(B),X._registerOnDestroy(()=>{q._unregisterOnDisabledChange(B)})}}(q,X)}function ls(q,X,B=!0){const oe=()=>{};X.valueAccessor&&(X.valueAccessor.registerOnChange(oe),X.valueAccessor.registerOnTouched(oe)),Gr(q,X),q&&(X._invokeOnDestroyCallbacks(),q._registerOnCollectionChange(()=>{}))}function Yo(q,X){q.forEach(B=>{B.registerOnValidatorChange&&B.registerOnValidatorChange(X)})}function Pa(q,X){const B=Wn(q);null!==X.validator?q.setValidators(Dt(B,X.validator)):"function"==typeof B&&q.setValidators([B]);const oe=vr(q);null!==X.asyncValidator?q.setAsyncValidators(Dt(oe,X.asyncValidator)):"function"==typeof oe&&q.setAsyncValidators([oe]);const Te=()=>q.updateValueAndValidity();Yo(X._rawValidators,Te),Yo(X._rawAsyncValidators,Te)}function Gr(q,X){let B=!1;if(null!==q){if(null!==X.validator){const Te=Wn(q);if(Array.isArray(Te)&&Te.length>0){const en=Te.filter(Hn=>Hn!==X.validator);en.length!==Te.length&&(B=!0,q.setValidators(en))}}if(null!==X.asyncValidator){const Te=vr(q);if(Array.isArray(Te)&&Te.length>0){const en=Te.filter(Hn=>Hn!==X.asyncValidator);en.length!==Te.length&&(B=!0,q.setAsyncValidators(en))}}}const oe=()=>{};return Yo(X._rawValidators,oe),Yo(X._rawAsyncValidators,oe),B}function ts(q,X){q._pendingDirty&&q.markAsDirty(),q.setValue(q._pendingValue,{emitModelToViewChange:!1}),X.viewToModelUpdate(q._pendingValue),q._pendingChange=!1}function wa(q,X){const B=q.indexOf(X);B>-1&&q.splice(B,1)}function vs(q){return"object"==typeof q&&null!==q&&2===Object.keys(q).length&&"value"in q&&"disabled"in q}const ii=class extends Et{constructor(X=null,B,oe){super(Y(B),G(oe,B)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(X),this._setUpdateStrategy(B),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$(B)&&(B.nonNullable||B.initialValueIsDefault)&&(this.defaultValue=vs(X)?X.value:X)}setValue(X,B={}){this.value=this._pendingValue=X,this._onChange.length&&!1!==B.emitModelToViewChange&&this._onChange.forEach(oe=>oe(this.value,!1!==B.emitViewToModelChange)),this.updateValueAndValidity(B)}patchValue(X,B={}){this.setValue(X,B)}reset(X=this.defaultValue,B={}){this._applyFormState(X),this.markAsPristine(B),this.markAsUntouched(B),this.setValue(this.value,B),this._pendingChange=!1}_updateValue(){}_anyControls(X){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(X){this._onChange.push(X)}_unregisterOnChange(X){wa(this._onChange,X)}registerOnDisabledChange(X){this._onDisabledChange.push(X)}_unregisterOnDisabledChange(X){wa(this._onDisabledChange,X)}_forEachChild(X){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(X){vs(X)?(this.value=this._pendingValue=X.value,X.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=X}};let ks=(()=>{class q extends vt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return qs(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let B;return function(Te){return(B||(B=b.n5z(q)))(Te||q)}}();static#t=this.\u0275dir=b.lG2({type:q,features:[b.qOj]})}return q})(),Oo=(()=>{class q{static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275dir=b.lG2({type:q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return q})();const fl={provide:Ye,useExisting:(0,b.Gpc)(()=>Wi),multi:!0};let Wi=(()=>{class q extends Oe{writeValue(B){this.setProperty("value",B??"")}registerOnChange(B){this.onChange=oe=>{B(""==oe?null:parseFloat(oe))}}static#e=this.\u0275fac=function(){let B;return function(Te){return(B||(B=b.n5z(q)))(Te||q)}}();static#t=this.\u0275dir=b.lG2({type:q,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(oe,Te){1&oe&&b.NdJ("input",function(Hn){return Te.onChange(Hn.target.value)})("blur",function(){return Te.onTouched()})},features:[b._Bn([fl]),b.qOj]})}return q})(),Mo=(()=>{class q{static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275mod=b.oAB({type:q});static#n=this.\u0275inj=b.cJS({})}return q})();const ds=new b.OlP("NgModelWithFormControlWarning"),lo={provide:vt,useExisting:(0,b.Gpc)(()=>bi)};let bi=(()=>{class q extends vt{constructor(B,oe,Te){super(),this.callSetDisabledState=Te,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new b.vpe,this._setValidators(B),this._setAsyncValidators(oe)}ngOnChanges(B){this._checkFormPresent(),B.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Gr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(B){const oe=this.form.get(B.path);return Hi(oe,B,this.callSetDisabledState),oe.updateValueAndValidity({emitEvent:!1}),this.directives.push(B),oe}getControl(B){return this.form.get(B.path)}removeControl(B){ls(B.control||null,B,!1),function Qa(q,X){const B=q.indexOf(X);B>-1&&q.splice(B,1)}(this.directives,B)}addFormGroup(B){this._setUpFormContainer(B)}removeFormGroup(B){this._cleanUpFormContainer(B)}getFormGroup(B){return this.form.get(B.path)}addFormArray(B){this._setUpFormContainer(B)}removeFormArray(B){this._cleanUpFormContainer(B)}getFormArray(B){return this.form.get(B.path)}updateModel(B,oe){this.form.get(B.path).setValue(oe)}onSubmit(B){return this.submitted=!0,function Ya(q,X){q._syncPendingControls(),X.forEach(B=>{const oe=B.control;"submit"===oe.updateOn&&oe._pendingChange&&(B.viewToModelUpdate(oe._pendingValue),oe._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(B),"dialog"===B?.target?.method}onReset(){this.resetForm()}resetForm(B=void 0){this.form.reset(B),this.submitted=!1}_updateDomValue(){this.directives.forEach(B=>{const oe=B.control,Te=this.form.get(B.path);oe!==Te&&(ls(oe||null,B),(q=>q instanceof ii)(Te)&&(Hi(Te,B,this.callSetDisabledState),B.control=Te))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(B){const oe=this.form.get(B.path);(function co(q,X){Pa(q,X)})(oe,B),oe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(B){if(this.form){const oe=this.form.get(B.path);oe&&function No(q,X){return Gr(q,X)}(oe,B)&&oe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Pa(this.form,this),this._oldForm&&Gr(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(oe){return new(oe||q)(b.Y36(_t,10),b.Y36(je,10),b.Y36(Wr,8))};static#t=this.\u0275dir=b.lG2({type:q,selectors:[["","formGroup",""]],hostBindings:function(oe,Te){1&oe&&b.NdJ("submit",function(Hn){return Te.onSubmit(Hn)})("reset",function(){return Te.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[b._Bn([lo]),b.qOj,b.TTD]})}return q})();const Fa={provide:vt,useExisting:(0,b.Gpc)(()=>xo)};let xo=(()=>{class q extends ks{constructor(B,oe,Te){super(),this.name=null,this._parent=B,this._setValidators(oe),this._setAsyncValidators(Te)}_checkParentType(){Bn(this._parent)}static#e=this.\u0275fac=function(oe){return new(oe||q)(b.Y36(vt,13),b.Y36(_t,10),b.Y36(je,10))};static#t=this.\u0275dir=b.lG2({type:q,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[b._Bn([Fa]),b.qOj]})}return q})();const ur={provide:vt,useExisting:(0,b.Gpc)(()=>Bt)};let Bt=(()=>{class q extends vt{constructor(B,oe,Te){super(),this.name=null,this._parent=B,this._setValidators(oe),this._setAsyncValidators(Te)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return qs(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Bn(this._parent)}static#e=this.\u0275fac=function(oe){return new(oe||q)(b.Y36(vt,13),b.Y36(_t,10),b.Y36(je,10))};static#t=this.\u0275dir=b.lG2({type:q,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[b._Bn([ur]),b.qOj]})}return q})();function Bn(q){return!(q instanceof xo||q instanceof bi||q instanceof Bt)}const Or={provide:At,useExisting:(0,b.Gpc)(()=>Ni)};let Ni=(()=>{class q extends At{set isDisabled(B){}static#e=this._ngModelWarningSentOnce=!1;constructor(B,oe,Te,en,Hn){super(),this._ngModelWarningConfig=Hn,this._added=!1,this.name=null,this.update=new b.vpe,this._ngModelWarningSent=!1,this._parent=B,this._setValidators(oe),this._setAsyncValidators(Te),this.valueAccessor=function us(q,X){if(!X)return null;let B,oe,Te;return Array.isArray(X),X.forEach(en=>{en.constructor===ft?B=en:function ji(q){return Object.getPrototypeOf(q.constructor)===Oe}(en)?oe=en:Te=en}),Te||oe||B||null}(0,en)}ngOnChanges(B){this._added||this._setUpControl(),function Zs(q,X){if(!q.hasOwnProperty("model"))return!1;const B=q.model;return!!B.isFirstChange()||!Object.is(X,B.currentValue)}(B,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(B){this.viewModel=B,this.update.emit(B)}get path(){return qs(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(oe){return new(oe||q)(b.Y36(vt,13),b.Y36(_t,10),b.Y36(je,10),b.Y36(Ye,10),b.Y36(ds,8))};static#n=this.\u0275dir=b.lG2({type:q,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[b._Bn([Or]),b.qOj,b.TTD]})}return q})();const Qs={provide:Ye,useExisting:(0,b.Gpc)(()=>Mr),multi:!0};function Zr(q,X){return null==q?`${X}`:(X&&"object"==typeof X&&(X="Object"),`${q}: ${X}`.slice(0,50))}let Mr=(()=>{class q extends Oe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(B){this._compareWith=B}writeValue(B){this.value=B;const Te=Zr(this._getOptionId(B),B);this.setProperty("value",Te)}registerOnChange(B){this.onChange=oe=>{this.value=this._getOptionValue(oe),B(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(B){for(const oe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(oe),B))return oe;return null}_getOptionValue(B){const oe=function Oi(q){return q.split(":")[0]}(B);return this._optionMap.has(oe)?this._optionMap.get(oe):B}static#e=this.\u0275fac=function(){let B;return function(Te){return(B||(B=b.n5z(q)))(Te||q)}}();static#t=this.\u0275dir=b.lG2({type:q,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(oe,Te){1&oe&&b.NdJ("change",function(Hn){return Te.onChange(Hn.target.value)})("blur",function(){return Te.onTouched()})},inputs:{compareWith:"compareWith"},features:[b._Bn([Qs]),b.qOj]})}return q})(),Zn=(()=>{class q{constructor(B,oe,Te){this._element=B,this._renderer=oe,this._select=Te,this._select&&(this.id=this._select._registerOption())}set ngValue(B){null!=this._select&&(this._select._optionMap.set(this.id,B),this._setElementValue(Zr(this.id,B)),this._select.writeValue(this._select.value))}set value(B){this._setElementValue(B),this._select&&this._select.writeValue(this._select.value)}_setElementValue(B){this._renderer.setProperty(this._element.nativeElement,"value",B)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(oe){return new(oe||q)(b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(Mr,9))};static#t=this.\u0275dir=b.lG2({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return q})();const ui={provide:Ye,useExisting:(0,b.Gpc)(()=>ws),multi:!0};function mn(q,X){return null==q?`${X}`:("string"==typeof X&&(X=`'${X}'`),X&&"object"==typeof X&&(X="Object"),`${q}: ${X}`.slice(0,50))}let ws=(()=>{class q extends Oe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(B){this._compareWith=B}writeValue(B){let oe;if(this.value=B,Array.isArray(B)){const Te=B.map(en=>this._getOptionId(en));oe=(en,Hn)=>{en._setSelected(Te.indexOf(Hn.toString())>-1)}}else oe=(Te,en)=>{Te._setSelected(!1)};this._optionMap.forEach(oe)}registerOnChange(B){this.onChange=oe=>{const Te=[],en=oe.selectedOptions;if(void 0!==en){const Hn=en;for(let ns=0;ns<Hn.length;ns++){const Ki=this._getOptionValue(Hn[ns].value);Te.push(Ki)}}else{const Hn=oe.options;for(let ns=0;ns<Hn.length;ns++){const to=Hn[ns];if(to.selected){const Ki=this._getOptionValue(to.value);Te.push(Ki)}}}this.value=Te,B(Te)}}_registerOption(B){const oe=(this._idCounter++).toString();return this._optionMap.set(oe,B),oe}_getOptionId(B){for(const oe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(oe)._value,B))return oe;return null}_getOptionValue(B){const oe=function Js(q){return q.split(":")[0]}(B);return this._optionMap.has(oe)?this._optionMap.get(oe)._value:B}static#e=this.\u0275fac=function(){let B;return function(Te){return(B||(B=b.n5z(q)))(Te||q)}}();static#t=this.\u0275dir=b.lG2({type:q,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(oe,Te){1&oe&&b.NdJ("change",function(Hn){return Te.onChange(Hn.target)})("blur",function(){return Te.onTouched()})},inputs:{compareWith:"compareWith"},features:[b._Bn([ui]),b.qOj]})}return q})(),jr=(()=>{class q{constructor(B,oe,Te){this._element=B,this._renderer=oe,this._select=Te,this._select&&(this.id=this._select._registerOption(this))}set ngValue(B){null!=this._select&&(this._value=B,this._setElementValue(mn(this.id,B)),this._select.writeValue(this._select.value))}set value(B){this._select?(this._value=B,this._setElementValue(mn(this.id,B)),this._select.writeValue(this._select.value)):this._setElementValue(B)}_setElementValue(B){this._renderer.setProperty(this._element.nativeElement,"value",B)}_setSelected(B){this._renderer.setProperty(this._element.nativeElement,"selected",B)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(oe){return new(oe||q)(b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(ws,9))};static#t=this.\u0275dir=b.lG2({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return q})();let oi=(()=>{class q{constructor(){this._validator=Fe}ngOnChanges(B){if(this.inputName in B){const oe=this.normalizeInput(B[this.inputName].currentValue);this._enabled=this.enabled(oe),this._validator=this._enabled?this.createValidator(oe):Fe,this._onChange&&this._onChange()}}validate(B){return this._validator(B)}registerOnValidatorChange(B){this._onChange=B}enabled(B){return null!=B}static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275dir=b.lG2({type:q,features:[b.TTD]})}return q})();const eo={provide:_t,useExisting:(0,b.Gpc)(()=>Vn),multi:!0};let Vn=(()=>{class q extends oi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=b.VuI,this.createValidator=B=>dt}enabled(B){return B}static#e=this.\u0275fac=function(){let B;return function(Te){return(B||(B=b.n5z(q)))(Te||q)}}();static#t=this.\u0275dir=b.lG2({type:q,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(oe,Te){2&oe&&b.uIk("required",Te._enabled?"":null)},inputs:{required:"required"},features:[b._Bn([eo]),b.qOj]})}return q})();const gi={provide:_t,useExisting:(0,b.Gpc)(()=>wi),multi:!0};let wi=(()=>{class q extends oi{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=B=>function qi(q){return"number"==typeof q?q:parseInt(q,10)}(B),this.createValidator=B=>Un(B)}static#e=this.\u0275fac=function(){let B;return function(Te){return(B||(B=b.n5z(q)))(Te||q)}}();static#t=this.\u0275dir=b.lG2({type:q,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(oe,Te){2&oe&&b.uIk("minlength",Te._enabled?Te.minlength:null)},inputs:{minlength:"minlength"},features:[b._Bn([gi]),b.qOj]})}return q})(),Es=(()=>{class q{static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275mod=b.oAB({type:q});static#n=this.\u0275inj=b.cJS({imports:[Mo]})}return q})();class ta extends Et{constructor(X,B,oe){super(Y(B),G(oe,B)),this.controls=X,this._initObservables(),this._setUpdateStrategy(B),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(X){return this.controls[this._adjustIndex(X)]}push(X,B={}){this.controls.push(X),this._registerControl(X),this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}insert(X,B,oe={}){this.controls.splice(X,0,B),this._registerControl(B),this.updateValueAndValidity({emitEvent:oe.emitEvent})}removeAt(X,B={}){let oe=this._adjustIndex(X);oe<0&&(oe=0),this.controls[oe]&&this.controls[oe]._registerOnCollectionChange(()=>{}),this.controls.splice(oe,1),this.updateValueAndValidity({emitEvent:B.emitEvent})}setControl(X,B,oe={}){let Te=this._adjustIndex(X);Te<0&&(Te=0),this.controls[Te]&&this.controls[Te]._registerOnCollectionChange(()=>{}),this.controls.splice(Te,1),B&&(this.controls.splice(Te,0,B),this._registerControl(B)),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(X,B={}){We(this,0,X),X.forEach((oe,Te)=>{we(this,!1,Te),this.at(Te).setValue(oe,{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B)}patchValue(X,B={}){null!=X&&(X.forEach((oe,Te)=>{this.at(Te)&&this.at(Te).patchValue(oe,{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B))}reset(X=[],B={}){this._forEachChild((oe,Te)=>{oe.reset(X[Te],{onlySelf:!0,emitEvent:B.emitEvent})}),this._updatePristine(B),this._updateTouched(B),this.updateValueAndValidity(B)}getRawValue(){return this.controls.map(X=>X.getRawValue())}clear(X={}){this.controls.length<1||(this._forEachChild(B=>B._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:X.emitEvent}))}_adjustIndex(X){return X<0?X+this.length:X}_syncPendingControls(){let X=this.controls.reduce((B,oe)=>!!oe._syncPendingControls()||B,!1);return X&&this.updateValueAndValidity({onlySelf:!0}),X}_forEachChild(X){this.controls.forEach((B,oe)=>{X(B,oe)})}_updateValue(){this.value=this.controls.filter(X=>X.enabled||this.disabled).map(X=>X.value)}_anyControls(X){return this.controls.some(B=>B.enabled&&X(B))}_setUpControls(){this._forEachChild(X=>this._registerControl(X))}_allControlsDisabled(){for(const X of this.controls)if(X.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(X){X.setParent(this),X._registerOnCollectionChange(this._onCollectionChange)}_find(X){return this.at(X)??null}}function Ba(q){return!!q&&(void 0!==q.asyncValidators||void 0!==q.validators||void 0!==q.updateOn)}let ho=(()=>{class q{constructor(){this.useNonNullable=!1}get nonNullable(){const B=new q;return B.useNonNullable=!0,B}group(B,oe=null){const Te=this._reduceControls(B);let en={};return Ba(oe)?en=oe:null!==oe&&(en.validators=oe.validator,en.asyncValidators=oe.asyncValidator),new an(Te,en)}record(B,oe=null){const Te=this._reduceControls(B);return new Kt(Te,oe)}control(B,oe,Te){let en={};return this.useNonNullable?(Ba(oe)?en=oe:(en.validators=oe,en.asyncValidators=Te),new ii(B,{...en,nonNullable:!0})):new ii(B,oe,Te)}array(B,oe,Te){const en=B.map(Hn=>this._createControl(Hn));return new ta(en,oe,Te)}_reduceControls(B){const oe={};return Object.keys(B).forEach(Te=>{oe[Te]=this._createControl(B[Te])}),oe}_createControl(B){return B instanceof ii||B instanceof Et?B:Array.isArray(B)?this.control(B[0],B.length>1?B[1]:null,B.length>2?B[2]:null):this.control(B)}static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275prov=b.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"})}return q})(),ra=(()=>{class q{static withConfig(B){return{ngModule:q,providers:[{provide:Wr,useValue:B.callSetDisabledState??tr}]}}static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275mod=b.oAB({type:q});static#n=this.\u0275inj=b.cJS({imports:[Es]})}return q})(),pl=(()=>{class q{static withConfig(B){return{ngModule:q,providers:[{provide:ds,useValue:B.warnOnNgModelWithFormControl??"always"},{provide:Wr,useValue:B.callSetDisabledState??tr}]}}static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275mod=b.oAB({type:q});static#n=this.\u0275inj=b.cJS({imports:[Es]})}return q})()},2614:()=>{const Vt=":";const Wn=function(De,...Pe){if(Wn.translate){const ct=Wn.translate(De,Pe);De=ct[0],Pe=ct[1]}let ke=Br(De[0],De.raw[0]);for(let ct=1;ct<De.length;ct++)ke+=Pe[ct-1]+Br(De[ct],De.raw[ct]);return ke},vr=":";function Br(De,Pe){return Pe.charAt(0)===vr?De.substring(function $e(De,Pe){for(let ke=1,ct=1;ke<De.length;ke++,ct++)if("\\"===Pe[ct])ct++;else if(De[ke]===Vt)return ke;throw new Error(`Unterminated $localize metadata block in "${Pe}".`)}(De,Pe)+1):De}globalThis.$localize=Wn},6593:(Vt,Ge,K)=>{K.d(Ge,{Dx:()=>At,H7:()=>Xn,b2:()=>De,q6:()=>Dt,se:()=>ve});var b=K(9468),re=K(6814);class u extends re.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class be extends u{static makeCurrent(){(0,re.HT)(new be)}onAndCancel(G,W,$){return G.addEventListener(W,$),()=>{G.removeEventListener(W,$)}}dispatchEvent(G,W){G.dispatchEvent(W)}remove(G){G.parentNode&&G.parentNode.removeChild(G)}createElement(G,W){return(W=W||this.getDefaultDocument()).createElement(G)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(G){return G.nodeType===Node.ELEMENT_NODE}isShadowRoot(G){return G instanceof DocumentFragment}getGlobalEventTarget(G,W){return"window"===W?window:"document"===W?G:"body"===W?G.body:null}getBaseHref(G){const W=function fe(){return ue=ue||document.querySelector("base"),ue?ue.getAttribute("href"):null}();return null==W?null:function Qe(V){Ee=Ee||document.createElement("a"),Ee.setAttribute("href",V);const G=Ee.pathname;return"/"===G.charAt(0)?G:`/${G}`}(W)}resetBaseElement(){ue=null}getUserAgent(){return window.navigator.userAgent}getCookie(G){return(0,re.Mx)(document.cookie,G)}}let Ee,ue=null,ce=(()=>{class V{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function($){return new($||V)};static#t=this.\u0275prov=b.Yz7({token:V,factory:V.\u0275fac})}return V})();const de=new b.OlP("EventManagerPlugins");let Me=(()=>{class V{constructor(W,$){this._zone=$,this._eventNameToPlugin=new Map,W.forEach(we=>{we.manager=this}),this._plugins=W.slice().reverse()}addEventListener(W,$,we){return this._findPluginFor($).addEventListener(W,$,we)}getZone(){return this._zone}_findPluginFor(W){let $=this._eventNameToPlugin.get(W);if($)return $;if($=this._plugins.find(We=>We.supports(W)),!$)throw new b.vHH(5101,!1);return this._eventNameToPlugin.set(W,$),$}static#e=this.\u0275fac=function($){return new($||V)(b.LFG(de),b.LFG(b.R0b))};static#t=this.\u0275prov=b.Yz7({token:V,factory:V.\u0275fac})}return V})();class Se{constructor(G){this._doc=G}}const Oe="ng-app-id";let Ye=(()=>{class V{constructor(W,$,we,We={}){this.doc=W,this.appId=$,this.nonce=we,this.platformId=We,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,re.PM)(We),this.resetHostNodes()}addStyles(W){for(const $ of W)1===this.changeUsageCount($,1)&&this.onStyleAdded($)}removeStyles(W){for(const $ of W)this.changeUsageCount($,-1)<=0&&this.onStyleRemoved($)}ngOnDestroy(){const W=this.styleNodesInDOM;W&&(W.forEach($=>$.remove()),W.clear());for(const $ of this.getAllStyles())this.onStyleRemoved($);this.resetHostNodes()}addHost(W){this.hostNodes.add(W);for(const $ of this.getAllStyles())this.addStyleToHost(W,$)}removeHost(W){this.hostNodes.delete(W)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(W){for(const $ of this.hostNodes)this.addStyleToHost($,W)}onStyleRemoved(W){const $=this.styleRef;$.get(W)?.elements?.forEach(we=>we.remove()),$.delete(W)}collectServerRenderedStyles(){const W=this.doc.head?.querySelectorAll(`style[${Oe}="${this.appId}"]`);if(W?.length){const $=new Map;return W.forEach(we=>{null!=we.textContent&&$.set(we.textContent,we)}),$}return null}changeUsageCount(W,$){const we=this.styleRef;if(we.has(W)){const We=we.get(W);return We.usage+=$,We.usage}return we.set(W,{usage:$,elements:[]}),$}getStyleElement(W,$){const we=this.styleNodesInDOM,We=we?.get($);if(We?.parentNode===W)return we.delete($),We.removeAttribute(Oe),We;{const Et=this.doc.createElement("style");return this.nonce&&Et.setAttribute("nonce",this.nonce),Et.textContent=$,this.platformIsServer&&Et.setAttribute(Oe,this.appId),Et}}addStyleToHost(W,$){const we=this.getStyleElement(W,$);W.appendChild(we);const We=this.styleRef,Et=We.get($)?.elements;Et?Et.push(we):We.set($,{elements:[we],usage:1})}resetHostNodes(){const W=this.hostNodes;W.clear(),W.add(this.doc.head)}static#e=this.\u0275fac=function($){return new($||V)(b.LFG(re.K0),b.LFG(b.AFp),b.LFG(b.Ojb,8),b.LFG(b.Lbi))};static#t=this.\u0275prov=b.Yz7({token:V,factory:V.\u0275fac})}return V})();const Tt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},kt=/%COMP%/g,ot=new b.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function je(V,G){return G.map(W=>W.replace(kt,V))}let ve=(()=>{class V{constructor(W,$,we,We,Et,an,pn,Nn=null){this.eventManager=W,this.sharedStylesHost=$,this.appId=we,this.removeStylesOnCompDestroy=We,this.doc=Et,this.platformId=an,this.ngZone=pn,this.nonce=Nn,this.rendererByCompId=new Map,this.platformIsServer=(0,re.PM)(an),this.defaultRenderer=new Je(W,Et,pn,this.platformIsServer)}createRenderer(W,$){if(!W||!$)return this.defaultRenderer;this.platformIsServer&&$.encapsulation===b.ifc.ShadowDom&&($={...$,encapsulation:b.ifc.Emulated});const we=this.getOrCreateRenderer(W,$);return we instanceof Un?we.applyToHost(W):we instanceof Sn&&we.applyStyles(),we}getOrCreateRenderer(W,$){const we=this.rendererByCompId;let We=we.get($.id);if(!We){const Et=this.doc,an=this.ngZone,pn=this.eventManager,Nn=this.sharedStylesHost,Kt=this.removeStylesOnCompDestroy,Fn=this.platformIsServer;switch($.encapsulation){case b.ifc.Emulated:We=new Un(pn,Nn,$,this.appId,Kt,Et,an,Fn);break;case b.ifc.ShadowDom:return new hn(pn,Nn,W,$,Et,an,this.nonce,Fn);default:We=new Sn(pn,Nn,$,Kt,Et,an,Fn)}we.set($.id,We)}return We}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function($){return new($||V)(b.LFG(Me),b.LFG(Ye),b.LFG(b.AFp),b.LFG(ot),b.LFG(re.K0),b.LFG(b.Lbi),b.LFG(b.R0b),b.LFG(b.Ojb))};static#t=this.\u0275prov=b.Yz7({token:V,factory:V.\u0275fac})}return V})();class Je{constructor(G,W,$,we){this.eventManager=G,this.doc=W,this.ngZone=$,this.platformIsServer=we,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(G,W){return W?this.doc.createElementNS(Tt[W]||W,G):this.doc.createElement(G)}createComment(G){return this.doc.createComment(G)}createText(G){return this.doc.createTextNode(G)}appendChild(G,W){(dt(G)?G.content:G).appendChild(W)}insertBefore(G,W,$){G&&(dt(G)?G.content:G).insertBefore(W,$)}removeChild(G,W){G&&G.removeChild(W)}selectRootElement(G,W){let $="string"==typeof G?this.doc.querySelector(G):G;if(!$)throw new b.vHH(-5104,!1);return W||($.textContent=""),$}parentNode(G){return G.parentNode}nextSibling(G){return G.nextSibling}setAttribute(G,W,$,we){if(we){W=we+":"+W;const We=Tt[we];We?G.setAttributeNS(We,W,$):G.setAttribute(W,$)}else G.setAttribute(W,$)}removeAttribute(G,W,$){if($){const we=Tt[$];we?G.removeAttributeNS(we,W):G.removeAttribute(`${$}:${W}`)}else G.removeAttribute(W)}addClass(G,W){G.classList.add(W)}removeClass(G,W){G.classList.remove(W)}setStyle(G,W,$,we){we&(b.JOm.DashCase|b.JOm.Important)?G.style.setProperty(W,$,we&b.JOm.Important?"important":""):G.style[W]=$}removeStyle(G,W,$){$&b.JOm.DashCase?G.style.removeProperty(W):G.style[W]=""}setProperty(G,W,$){G[W]=$}setValue(G,W){G.nodeValue=W}listen(G,W,$){if("string"==typeof G&&!(G=(0,re.q)().getGlobalEventTarget(this.doc,G)))throw new Error(`Unsupported event target ${G} for event ${W}`);return this.eventManager.addEventListener(G,W,this.decoratePreventDefault($))}decoratePreventDefault(G){return W=>{if("__ngUnwrap__"===W)return G;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>G(W)):G(W))&&W.preventDefault()}}}function dt(V){return"TEMPLATE"===V.tagName&&void 0!==V.content}class hn extends Je{constructor(G,W,$,we,We,Et,an,pn){super(G,We,Et,pn),this.sharedStylesHost=W,this.hostEl=$,this.shadowRoot=$.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Nn=je(we.id,we.styles);for(const Kt of Nn){const Fn=document.createElement("style");an&&Fn.setAttribute("nonce",an),Fn.textContent=Kt,this.shadowRoot.appendChild(Fn)}}nodeOrShadowRoot(G){return G===this.hostEl?this.shadowRoot:G}appendChild(G,W){return super.appendChild(this.nodeOrShadowRoot(G),W)}insertBefore(G,W,$){return super.insertBefore(this.nodeOrShadowRoot(G),W,$)}removeChild(G,W){return super.removeChild(this.nodeOrShadowRoot(G),W)}parentNode(G){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(G)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Sn extends Je{constructor(G,W,$,we,We,Et,an,pn){super(G,We,Et,an),this.sharedStylesHost=W,this.removeStylesOnCompDestroy=we,this.styles=pn?je(pn,$.styles):$.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Un extends Sn{constructor(G,W,$,we,We,Et,an,pn){const Nn=we+"-"+$.id;super(G,W,$,We,Et,an,pn,Nn),this.contentAttr=function yt(V){return"_ngcontent-%COMP%".replace(kt,V)}(Nn),this.hostAttr=function _t(V){return"_nghost-%COMP%".replace(kt,V)}(Nn)}applyToHost(G){this.applyStyles(),this.setAttribute(G,this.hostAttr,"")}createElement(G,W){const $=super.createElement(G,W);return super.setAttribute($,this.contentAttr,""),$}}let or=(()=>{class V extends Se{constructor(W){super(W)}supports(W){return!0}addEventListener(W,$,we){return W.addEventListener($,we,!1),()=>this.removeEventListener(W,$,we)}removeEventListener(W,$,we){return W.removeEventListener($,we)}static#e=this.\u0275fac=function($){return new($||V)(b.LFG(re.K0))};static#t=this.\u0275prov=b.Yz7({token:V,factory:V.\u0275fac})}return V})();const yr=["alt","control","meta","shift"],Fe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$e={alt:V=>V.altKey,control:V=>V.ctrlKey,meta:V=>V.metaKey,shift:V=>V.shiftKey};let Xe=(()=>{class V extends Se{constructor(W){super(W)}supports(W){return null!=V.parseEventName(W)}addEventListener(W,$,we){const We=V.parseEventName($),Et=V.eventCallback(We.fullKey,we,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,re.q)().onAndCancel(W,We.domEventName,Et))}static parseEventName(W){const $=W.toLowerCase().split("."),we=$.shift();if(0===$.length||"keydown"!==we&&"keyup"!==we)return null;const We=V._normalizeKey($.pop());let Et="",an=$.indexOf("code");if(an>-1&&($.splice(an,1),Et="code."),yr.forEach(Nn=>{const Kt=$.indexOf(Nn);Kt>-1&&($.splice(Kt,1),Et+=Nn+".")}),Et+=We,0!=$.length||0===We.length)return null;const pn={};return pn.domEventName=we,pn.fullKey=Et,pn}static matchEventFullKeyCode(W,$){let we=Fe[W.key]||W.key,We="";return $.indexOf("code.")>-1&&(we=W.code,We="code."),!(null==we||!we)&&(we=we.toLowerCase()," "===we?we="space":"."===we&&(we="dot"),yr.forEach(Et=>{Et!==we&&(0,$e[Et])(W)&&(We+=Et+".")}),We+=we,We===$)}static eventCallback(W,$,we){return We=>{V.matchEventFullKeyCode(We,W)&&we.runGuarded(()=>$(We))}}static _normalizeKey(W){return"esc"===W?"escape":W}static#e=this.\u0275fac=function($){return new($||V)(b.LFG(re.K0))};static#t=this.\u0275prov=b.Yz7({token:V,factory:V.\u0275fac})}return V})();const Dt=(0,b.eFA)(b._c5,"browser",[{provide:b.Lbi,useValue:re.bD},{provide:b.g9A,useValue:function Ut(){be.makeCurrent()},multi:!0},{provide:re.K0,useFactory:function wn(){return(0,b.RDi)(document),document},deps:[]}]),Wn=new b.OlP(""),vr=[{provide:b.rWj,useClass:class Re{addToWindow(G){b.dqk.getAngularTestability=($,we=!0)=>{const We=G.findTestabilityInTree($,we);if(null==We)throw new b.vHH(5103,!1);return We},b.dqk.getAllAngularTestabilities=()=>G.getAllTestabilities(),b.dqk.getAllAngularRootElements=()=>G.getAllRootElements(),b.dqk.frameworkStabilizers||(b.dqk.frameworkStabilizers=[]),b.dqk.frameworkStabilizers.push($=>{const we=b.dqk.getAllAngularTestabilities();let We=we.length,Et=!1;const an=function(pn){Et=Et||pn,We--,0==We&&$(Et)};we.forEach(pn=>{pn.whenStable(an)})})}findTestabilityInTree(G,W,$){return null==W?null:G.getTestability(W)??($?(0,re.q)().isShadowRoot(W)?this.findTestabilityInTree(G,W.host,!0):this.findTestabilityInTree(G,W.parentElement,!0):null)}},deps:[]},{provide:b.lri,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]},{provide:b.dDg,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]}],Br=[{provide:b.zSh,useValue:"root"},{provide:b.qLn,useFactory:function fn(){return new b.qLn},deps:[]},{provide:de,useClass:or,multi:!0,deps:[re.K0,b.R0b,b.Lbi]},{provide:de,useClass:Xe,multi:!0,deps:[re.K0]},ve,Ye,Me,{provide:b.FYo,useExisting:ve},{provide:re.JF,useClass:ce,deps:[]},[]];let De=(()=>{class V{constructor(W){}static withServerTransition(W){return{ngModule:V,providers:[{provide:b.AFp,useValue:W.appId}]}}static#e=this.\u0275fac=function($){return new($||V)(b.LFG(Wn,12))};static#t=this.\u0275mod=b.oAB({type:V});static#n=this.\u0275inj=b.cJS({providers:[...Br,...vr],imports:[re.ez,b.hGG]})}return V})(),At=(()=>{class V{constructor(W){this._doc=W}getTitle(){return this._doc.title}setTitle(W){this._doc.title=W||""}static#e=this.\u0275fac=function($){return new($||V)(b.LFG(re.K0))};static#t=this.\u0275prov=b.Yz7({token:V,factory:function($){let we=null;return we=$?new $:function vt(){return new At((0,b.LFG)(re.K0))}(),we},providedIn:"root"})}return V})();typeof window<"u"&&window;let Xn=(()=>{class V{static#e=this.\u0275fac=function($){return new($||V)};static#t=this.\u0275prov=b.Yz7({token:V,factory:function($){let we=null;return we=$?new($||V):b.LFG(ci),we},providedIn:"root"})}return V})(),ci=(()=>{class V extends Xn{constructor(W){super(),this._doc=W}sanitize(W,$){if(null==$)return null;switch(W){case b.q3G.NONE:return $;case b.q3G.HTML:return(0,b.qzn)($,"HTML")?(0,b.z3N)($):(0,b.EiD)(this._doc,String($)).toString();case b.q3G.STYLE:return(0,b.qzn)($,"Style")?(0,b.z3N)($):$;case b.q3G.SCRIPT:if((0,b.qzn)($,"Script"))return(0,b.z3N)($);throw new b.vHH(5200,!1);case b.q3G.URL:return(0,b.qzn)($,"URL")?(0,b.z3N)($):(0,b.mCW)(String($));case b.q3G.RESOURCE_URL:if((0,b.qzn)($,"ResourceURL"))return(0,b.z3N)($);throw new b.vHH(5201,!1);default:throw new b.vHH(5202,!1)}}bypassSecurityTrustHtml(W){return(0,b.JVY)(W)}bypassSecurityTrustStyle(W){return(0,b.L6k)(W)}bypassSecurityTrustScript(W){return(0,b.eBb)(W)}bypassSecurityTrustUrl(W){return(0,b.LAX)(W)}bypassSecurityTrustResourceUrl(W){return(0,b.pB0)(W)}static#e=this.\u0275fac=function($){return new($||V)(b.LFG(re.K0))};static#t=this.\u0275prov=b.Yz7({token:V,factory:function($){let we=null;return we=$?new $:function Nr(V){return new ci(V.get(re.K0))}(b.LFG(b.zs3)),we},providedIn:"root"})}return V})()},6024:(Vt,Ge,K)=>{K.d(Ge,{gz:()=>ur,m2:()=>Ps,F0:()=>no,rH:()=>Ei,Bz:()=>mu,lC:()=>Zn});var b=K(9468),re=K(5592),u=K(4674),ue=K(2459),fe=K(2096),Ee=K(5619),Qe=K(7453),Re=K(2737),ce=K(7400),de=K(9940),Me=K(2714),Se=K(8251),Oe=K(7103);function Ye(...C){const x=(0,de.yG)(C),D=(0,de.jO)(C),{args:P,keys:j}=(0,Qe.D)(C);if(0===P.length)return(0,ue.D)([],x);const se=new re.y(function Tt(C,x,D=Re.y){return P=>{kt(x,()=>{const{length:j}=C,se=new Array(j);let _e=j,ze=j;for(let He=0;He<j;He++)kt(x,()=>{const $t=(0,ue.D)(C[He],x);let Ln=!1;$t.subscribe((0,Se.x)(P,Ar=>{se[He]=Ar,Ln||(Ln=!0,ze--),ze||P.next(D(se.slice()))},()=>{--_e||P.complete()}))},P)},P)}}(P,x,j?_e=>(0,Me.n)(j,_e):Re.y));return D?se.pipe((0,ce.Z)(D)):se}function kt(C,x,D){C?(0,Oe.f)(D,C,x):x()}var Ot=K(6973),Cn=K(5211),Mt=K(4829);function ft(C){return new re.y(x=>{(0,Mt.Xf)(C()).subscribe(x)})}var ot=K(8407);function yt(C,x){const D=(0,u.m)(C)?C:()=>C,P=j=>j.error(D());return new re.y(x?j=>x.schedule(P,0,j):P)}var _t=K(6232),je=K(7394),ve=K(9360);function Je(){return(0,ve.e)((C,x)=>{let D=null;C._refCount++;const P=(0,Se.x)(x,void 0,void 0,void 0,()=>{if(!C||C._refCount<=0||0<--C._refCount)return void(D=null);const j=C._connection,se=D;D=null,j&&(!se||j===se)&&j.unsubscribe(),x.unsubscribe()});C.subscribe(P),P.closed||(D=C.connect())})}class mt extends re.y{constructor(x,D){super(),this.source=x,this.subjectFactory=D,this._subject=null,this._refCount=0,this._connection=null,(0,ve.A)(x)&&(this.lift=x.lift)}_subscribe(x){return this.getSubject().subscribe(x)}getSubject(){const x=this._subject;return(!x||x.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:x}=this;this._subject=this._connection=null,x?.unsubscribe()}connect(){let x=this._connection;if(!x){x=this._connection=new je.w0;const D=this.getSubject();x.add(this.source.subscribe((0,Se.x)(D,void 0,()=>{this._teardown(),D.complete()},P=>{this._teardown(),D.error(P)},()=>this._teardown()))),x.closed&&(this._connection=null,x=je.w0.EMPTY)}return x}refCount(){return Je()(this)}}var kn=K(8645),dt=K(6814),hn=K(7398),Sn=K(4664),Un=K(8180),or=K(7921),yr=K(2181),Fe=K(1631);function $e(C){return(0,ve.e)((x,D)=>{let P=!1;x.subscribe((0,Se.x)(D,j=>{P=!0,D.next(j)},()=>{P||D.next(C),D.complete()}))})}function Xe(C=Ue){return(0,ve.e)((x,D)=>{let P=!1;x.subscribe((0,Se.x)(D,j=>{P=!0,D.next(j)},()=>P?D.complete():D.error(C())))})}function Ue(){return new Ot.K}function it(C,x){const D=arguments.length>=2;return P=>P.pipe(C?(0,yr.h)((j,se)=>C(j,se,P)):Re.y,(0,Un.q)(1),D?$e(x):Xe(()=>new Ot.K))}function wt(C,x){return(0,u.m)(x)?(0,Fe.z)(C,x,1):(0,Fe.z)(C,1)}var Pt=K(9397);function Ut(C){return(0,ve.e)((x,D)=>{let se,P=null,j=!1;P=x.subscribe((0,Se.x)(D,void 0,void 0,_e=>{se=(0,Mt.Xf)(C(_e,Ut(C)(x))),P?(P.unsubscribe(),P=null,se.subscribe(D)):j=!0})),j&&(P.unsubscribe(),P=null,se.subscribe(D))})}function un(C){return C<=0?()=>_t.E:(0,ve.e)((x,D)=>{let P=[];x.subscribe((0,Se.x)(D,j=>{P.push(j),C<P.length&&P.shift()},()=>{for(const j of P)D.next(j);D.complete()},void 0,()=>{P=null}))})}var Wn=K(975);function vr(C){return(0,ve.e)((x,D)=>{try{x.subscribe(D)}finally{D.add(C)}})}var Br=K(9773),De=K(7537),Pe=K(6593);const ke="primary",ct=Symbol("RouteTitle");class vt{constructor(x){this.params=x||{}}has(x){return Object.prototype.hasOwnProperty.call(this.params,x)}get(x){if(this.has(x)){const D=this.params[x];return Array.isArray(D)?D[0]:D}return null}getAll(x){if(this.has(x)){const D=this.params[x];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function At(C){return new vt(C)}function wr(C,x,D){const P=D.path.split("/");if(P.length>C.length||"full"===D.pathMatch&&(x.hasChildren()||P.length<C.length))return null;const j={};for(let se=0;se<P.length;se++){const _e=P[se],ze=C[se];if(_e.startsWith(":"))j[_e.substring(1)]=ze;else if(_e!==ze.path)return null}return{consumed:C.slice(0,P.length),posParams:j}}function on(C,x){const D=C?Object.keys(C):void 0,P=x?Object.keys(x):void 0;if(!D||!P||D.length!=P.length)return!1;let j;for(let se=0;se<D.length;se++)if(j=D[se],!Xt(C[j],x[j]))return!1;return!0}function Xt(C,x){if(Array.isArray(C)&&Array.isArray(x)){if(C.length!==x.length)return!1;const D=[...C].sort(),P=[...x].sort();return D.every((j,se)=>P[se]===j)}return C===x}function En(C){return C.length>0?C[C.length-1]:null}function Jn(C){return function be(C){return!!C&&(C instanceof re.y||(0,u.m)(C.lift)&&(0,u.m)(C.subscribe))}(C)?C:(0,b.QGY)(C)?(0,ue.D)(Promise.resolve(C)):(0,fe.of)(C)}const tn={exact:function ar(C,x,D){if(!nt(C.segments,x.segments)||!ai(C.segments,x.segments,D)||C.numberOfChildren!==x.numberOfChildren)return!1;for(const P in x.children)if(!C.children[P]||!ar(C.children[P],x.children[P],D))return!1;return!0},subset:cr},Cr={exact:function yn(C,x){return on(C,x)},subset:function Yn(C,x){return Object.keys(x).length<=Object.keys(C).length&&Object.keys(x).every(D=>Xt(C[D],x[D]))},ignored:()=>!0};function Ir(C,x,D){return tn[D.paths](C.root,x.root,D.matrixParams)&&Cr[D.queryParams](C.queryParams,x.queryParams)&&!("exact"===D.fragment&&C.fragment!==x.fragment)}function cr(C,x,D){return jn(C,x,x.segments,D)}function jn(C,x,D,P){if(C.segments.length>D.length){const j=C.segments.slice(0,D.length);return!(!nt(j,D)||x.hasChildren()||!ai(j,D,P))}if(C.segments.length===D.length){if(!nt(C.segments,D)||!ai(C.segments,D,P))return!1;for(const j in x.children)if(!C.children[j]||!cr(C.children[j],x.children[j],P))return!1;return!0}{const j=D.slice(0,C.segments.length),se=D.slice(C.segments.length);return!!(nt(C.segments,j)&&ai(C.segments,j,P)&&C.children[ke])&&jn(C.children[ke],x,se,P)}}function ai(C,x,D){return x.every((P,j)=>Cr[D](C[j].parameters,P.parameters))}class xn{constructor(x=new Xn([],{}),D={},P=null){this.root=x,this.queryParams=D,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=At(this.queryParams)),this._queryParamMap}toString(){return zt.serialize(this)}}class Xn{constructor(x,D){this.segments=x,this.children=D,this.parent=null,Object.values(D).forEach(P=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zt(this)}}class Nr{constructor(x,D){this.path=x,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=At(this.parameters)),this._parameterMap}toString(){return We(this)}}function nt(C,x){return C.length===x.length&&C.every((D,P)=>D.path===x[P].path)}let Ze=(()=>{class C{static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=b.Yz7({token:C,factory:function(){return new It},providedIn:"root"})}return C})();class It{parse(x){const D=new ls(x);return new xn(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(x){const D=`/${$n(x.root,!0)}`,P=function an(C){const x=Object.keys(C).map(D=>{const P=C[D];return Array.isArray(P)?P.map(j=>`${V(D)}=${V(j)}`).join("&"):`${V(D)}=${V(P)}`}).filter(D=>!!D);return x.length?`?${x.join("&")}`:""}(x.queryParams);return`${D}${P}${"string"==typeof x.fragment?`#${function G(C){return encodeURI(C)}(x.fragment)}`:""}`}}const zt=new It;function Zt(C){return C.segments.map(x=>We(x)).join("/")}function $n(C,x){if(!C.hasChildren())return Zt(C);if(x){const D=C.children[ke]?$n(C.children[ke],!1):"",P=[];return Object.entries(C.children).forEach(([j,se])=>{j!==ke&&P.push(`${j}:${$n(se,!1)}`)}),P.length>0?`${D}(${P.join("//")})`:D}{const D=function Ce(C,x){let D=[];return Object.entries(C.children).forEach(([P,j])=>{P===ke&&(D=D.concat(x(j,P)))}),Object.entries(C.children).forEach(([P,j])=>{P!==ke&&(D=D.concat(x(j,P)))}),D}(C,(P,j)=>j===ke?[$n(C.children[ke],!1)]:[`${j}:${$n(P,!1)}`]);return 1===Object.keys(C.children).length&&null!=C.children[ke]?`${Zt(C)}/${D[0]}`:`${Zt(C)}/(${D.join("//")})`}}function Y(C){return encodeURIComponent(C).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function V(C){return Y(C).replace(/%3B/gi,";")}function W(C){return Y(C).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $(C){return decodeURIComponent(C)}function we(C){return $(C.replace(/\+/g,"%20"))}function We(C){return`${W(C.path)}${function Et(C){return Object.keys(C).map(x=>`;${W(x)}=${W(C[x])}`).join("")}(C.parameters)}`}const pn=/^[^\/()?;#]+/;function Nn(C){const x=C.match(pn);return x?x[0]:""}const Kt=/^[^\/()?;=#]+/,Wr=/^[^=?&#]+/,qs=/^[^&#]+/;class ls{constructor(x){this.url=x,this.remaining=x}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xn([],{}):new Xn([],this.parseChildren())}parseQueryParams(){const x={};if(this.consumeOptional("?"))do{this.parseQueryParam(x)}while(this.consumeOptional("&"));return x}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const x=[];for(this.peekStartsWith("(")||x.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),x.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(x.length>0||Object.keys(D).length>0)&&(P[ke]=new Xn(x,D)),P}parseSegment(){const x=Nn(this.remaining);if(""===x&&this.peekStartsWith(";"))throw new b.vHH(4009,!1);return this.capture(x),new Nr($(x),this.parseMatrixParams())}parseMatrixParams(){const x={};for(;this.consumeOptional(";");)this.parseParam(x);return x}parseParam(x){const D=function Fn(C){const x=C.match(Kt);return x?x[0]:""}(this.remaining);if(!D)return;this.capture(D);let P="";if(this.consumeOptional("=")){const j=Nn(this.remaining);j&&(P=j,this.capture(P))}x[$(D)]=$(P)}parseQueryParam(x){const D=function tr(C){const x=C.match(Wr);return x?x[0]:""}(this.remaining);if(!D)return;this.capture(D);let P="";if(this.consumeOptional("=")){const _e=function Hi(C){const x=C.match(qs);return x?x[0]:""}(this.remaining);_e&&(P=_e,this.capture(P))}const j=we(D),se=we(P);if(x.hasOwnProperty(j)){let _e=x[j];Array.isArray(_e)||(_e=[_e],x[j]=_e),_e.push(se)}else x[j]=se}parseParens(x){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=Nn(this.remaining),j=this.remaining[P.length];if("/"!==j&&")"!==j&&";"!==j)throw new b.vHH(4010,!1);let se;P.indexOf(":")>-1?(se=P.slice(0,P.indexOf(":")),this.capture(se),this.capture(":")):x&&(se=ke);const _e=this.parseChildren();D[se]=1===Object.keys(_e).length?_e[ke]:new Xn([],_e),this.consumeOptional("//")}return D}peekStartsWith(x){return this.remaining.startsWith(x)}consumeOptional(x){return!!this.peekStartsWith(x)&&(this.remaining=this.remaining.substring(x.length),!0)}capture(x){if(!this.consumeOptional(x))throw new b.vHH(4011,!1)}}function Yo(C){return C.segments.length>0?new Xn([],{[ke]:C}):C}function Ra(C){const x={};for(const P of Object.keys(C.children)){const se=Ra(C.children[P]);if(P===ke&&0===se.segments.length&&se.hasChildren())for(const[_e,ze]of Object.entries(se.children))x[_e]=ze;else(se.segments.length>0||se.hasChildren())&&(x[P]=se)}return function Pa(C){if(1===C.numberOfChildren&&C.children[ke]){const x=C.children[ke];return new Xn(C.segments.concat(x.segments),x.children)}return C}(new Xn(C.segments,x))}function Gr(C){return C instanceof xn}function ys(C){let x;const j=Yo(function D(se){const _e={};for(const He of se.children){const $t=D(He);_e[He.outlet]=$t}const ze=new Xn(se.url,_e);return se===C&&(x=ze),ze}(C.root));return x??j}function ts(C,x,D,P){let j=C;for(;j.parent;)j=j.parent;if(0===x.length)return No(j,j,j,D,P);const se=function Gi(C){if("string"==typeof C[0]&&1===C.length&&"/"===C[0])return new va(!0,0,C);let x=0,D=!1;const P=C.reduce((j,se,_e)=>{if("object"==typeof se&&null!=se){if(se.outlets){const ze={};return Object.entries(se.outlets).forEach(([He,$t])=>{ze[He]="string"==typeof $t?$t.split("/"):$t}),[...j,{outlets:ze}]}if(se.segmentPath)return[...j,se.segmentPath]}return"string"!=typeof se?[...j,se]:0===_e?(se.split("/").forEach((ze,He)=>{0==He&&"."===ze||(0==He&&""===ze?D=!0:".."===ze?x++:""!=ze&&j.push(ze))}),j):[...j,se]},[]);return new va(D,x,P)}(x);if(se.toRoot())return No(j,j,new Xn([],{}),D,P);const _e=function Jr(C,x,D){if(C.isAbsolute)return new xs(x,!0,0);if(!D)return new xs(x,!1,NaN);if(null===D.parent)return new xs(D,!0,0);const P=lr(C.commands[0])?0:1;return function Zs(C,x,D){let P=C,j=x,se=D;for(;se>j;){if(se-=j,P=P.parent,!P)throw new b.vHH(4005,!1);j=P.segments.length}return new xs(P,!1,j-se)}(D,D.segments.length-1+P,C.numberOfDoubleDots)}(se,j,C),ze=_e.processChildren?us(_e.segmentGroup,_e.index,se.commands):Ya(_e.segmentGroup,_e.index,se.commands);return No(j,_e.segmentGroup,ze,D,P)}function lr(C){return"object"==typeof C&&null!=C&&!C.outlets&&!C.segmentPath}function co(C){return"object"==typeof C&&null!=C&&C.outlets}function No(C,x,D,P,j){let _e,se={};P&&Object.entries(P).forEach(([He,$t])=>{se[He]=Array.isArray($t)?$t.map(Ln=>`${Ln}`):`${$t}`}),_e=C===x?D:Qo(C,x,D);const ze=Yo(Ra(_e));return new xn(ze,se,j)}function Qo(C,x,D){const P={};return Object.entries(C.children).forEach(([j,se])=>{P[j]=se===x?D:Qo(se,x,D)}),new Xn(C.segments,P)}class va{constructor(x,D,P){if(this.isAbsolute=x,this.numberOfDoubleDots=D,this.commands=P,x&&P.length>0&&lr(P[0]))throw new b.vHH(4003,!1);const j=P.find(co);if(j&&j!==En(P))throw new b.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xs{constructor(x,D,P){this.segmentGroup=x,this.processChildren=D,this.index=P}}function Ya(C,x,D){if(C||(C=new Xn([],{})),0===C.segments.length&&C.hasChildren())return us(C,x,D);const P=function Qa(C,x,D){let P=0,j=x;const se={match:!1,pathIndex:0,commandIndex:0};for(;j<C.segments.length;){if(P>=D.length)return se;const _e=C.segments[j],ze=D[P];if(co(ze))break;const He=`${ze}`,$t=P<D.length-1?D[P+1]:null;if(j>0&&void 0===He)break;if(He&&$t&&"object"==typeof $t&&void 0===$t.outlets){if(!ba(He,$t,_e))return se;P+=2}else{if(!ba(He,{},_e))return se;P++}j++}return{match:!0,pathIndex:j,commandIndex:P}}(C,x,D),j=D.slice(P.commandIndex);if(P.match&&P.pathIndex<C.segments.length){const se=new Xn(C.segments.slice(0,P.pathIndex),{});return se.children[ke]=new Xn(C.segments.slice(P.pathIndex),C.children),us(se,0,j)}return P.match&&0===j.length?new Xn(C.segments,{}):P.match&&!C.hasChildren()?li(C,x,D):P.match?us(C,0,j):li(C,x,D)}function us(C,x,D){if(0===D.length)return new Xn(C.segments,{});{const P=function ji(C){return co(C[0])?C[0].outlets:{[ke]:C}}(D),j={};if(Object.keys(P).some(se=>se!==ke)&&C.children[ke]&&1===C.numberOfChildren&&0===C.children[ke].segments.length){const se=us(C.children[ke],x,D);return new Xn(C.segments,se.children)}return Object.entries(P).forEach(([se,_e])=>{"string"==typeof _e&&(_e=[_e]),null!==_e&&(j[se]=Ya(C.children[se],x,_e))}),Object.entries(C.children).forEach(([se,_e])=>{void 0===P[se]&&(j[se]=_e)}),new Xn(C.segments,j)}}function li(C,x,D){const P=C.segments.slice(0,x);let j=0;for(;j<D.length;){const se=D[j];if(co(se)){const He=ka(se.outlets);return new Xn(P,He)}if(0===j&&lr(D[0])){P.push(new Nr(C.segments[x].path,Rs(D[0]))),j++;continue}const _e=co(se)?se.outlets[ke]:`${se}`,ze=j<D.length-1?D[j+1]:null;_e&&ze&&lr(ze)?(P.push(new Nr(_e,Rs(ze))),j+=2):(P.push(new Nr(_e,{})),j++)}return new Xn(P,{})}function ka(C){const x={};return Object.entries(C).forEach(([D,P])=>{"string"==typeof P&&(P=[P]),null!==P&&(x[D]=li(new Xn([],{}),0,P))}),x}function Rs(C){const x={};return Object.entries(C).forEach(([D,P])=>x[D]=`${P}`),x}function ba(C,x,D){return C==D.path&&on(x,D.parameters)}const wa="imperative";class vs{constructor(x,D){this.id=x,this.url=D}}class ii extends vs{constructor(x,D,P="imperative",j=null){super(x,D),this.type=0,this.navigationTrigger=P,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ps extends vs{constructor(x,D,P){super(x,D),this.urlAfterRedirects=P,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bs extends vs{constructor(x,D,P,j){super(x,D),this.reason=P,this.code=j,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ks extends vs{constructor(x,D,P,j){super(x,D),this.reason=P,this.code=j,this.type=16}}class jc extends vs{constructor(x,D,P,j){super(x,D),this.error=P,this.target=j,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $i extends vs{constructor(x,D,P,j){super(x,D),this.urlAfterRedirects=P,this.state=j,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bl extends vs{constructor(x,D,P,j){super(x,D),this.urlAfterRedirects=P,this.state=j,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zi extends vs{constructor(x,D,P,j,se){super(x,D),this.urlAfterRedirects=P,this.state=j,this.shouldActivate=se,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hl extends vs{constructor(x,D,P,j){super(x,D),this.urlAfterRedirects=P,this.state=j,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ks extends vs{constructor(x,D,P,j){super(x,D),this.urlAfterRedirects=P,this.state=j,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ja{constructor(x){this.route=x,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ei{constructor(x){this.route=x,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ys{constructor(x){this.snapshot=x,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oo{constructor(x){this.snapshot=x,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fl{constructor(x){this.snapshot=x,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wi{constructor(x){this.snapshot=x,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ia{constructor(x,D,P){this.routerEvent=x,this.position=D,this.anchor=P,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Jo{}class Mo{constructor(x){this.url=x}}class On{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new qr,this.attachRef=null}}let qr=(()=>{class C{constructor(){this.contexts=new Map}onChildOutletCreated(D,P){const j=this.getOrCreateContext(D);j.outlet=P,this.contexts.set(D,j)}onChildOutletDestroyed(D){const P=this.getContext(D);P&&(P.outlet=null,P.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let P=this.getContext(D);return P||(P=new On,this.contexts.set(D,P)),P}getContext(D){return this.contexts.get(D)||null}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=b.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();class Bi{constructor(x){this._root=x}get root(){return this._root.value}parent(x){const D=this.pathFromRoot(x);return D.length>1?D[D.length-2]:null}children(x){const D=ds(x,this._root);return D?D.children.map(P=>P.value):[]}firstChild(x){const D=ds(x,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(x){const D=si(x,this._root);return D.length<2?[]:D[D.length-2].children.map(j=>j.value).filter(j=>j!==x)}pathFromRoot(x){return si(x,this._root).map(D=>D.value)}}function ds(C,x){if(C===x.value)return x;for(const D of x.children){const P=ds(C,D);if(P)return P}return null}function si(C,x){if(C===x.value)return[x];for(const D of x.children){const P=si(C,D);if(P.length)return P.unshift(x),P}return[]}class Vi{constructor(x,D){this.value=x,this.children=D}toString(){return`TreeNode(${this.value})`}}function lo(C){const x={};return C&&C.children.forEach(D=>x[D.value.outlet]=D),x}class bi extends Bi{constructor(x,D){super(x),this.snapshot=D,Qs(this,x)}toString(){return this.snapshot.toString()}}function Fa(C,x){const D=function xo(C,x){const _e=new Or([],{},{},"",{},ke,x,null,{});return new Ni("",new Vi(_e,[]))}(0,x),P=new Ee.X([new Nr("",{})]),j=new Ee.X({}),se=new Ee.X({}),_e=new Ee.X({}),ze=new Ee.X(""),He=new ur(P,j,_e,ze,se,ke,x,D.root);return He.snapshot=D.root,new bi(new Vi(He,[]),D)}class ur{constructor(x,D,P,j,se,_e,ze,He){this.urlSubject=x,this.paramsSubject=D,this.queryParamsSubject=P,this.fragmentSubject=j,this.dataSubject=se,this.outlet=_e,this.component=ze,this._futureSnapshot=He,this.title=this.dataSubject?.pipe((0,hn.U)($t=>$t[ct]))??(0,fe.of)(void 0),this.url=x,this.params=D,this.queryParams=P,this.fragment=j,this.data=se}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,hn.U)(x=>At(x)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,hn.U)(x=>At(x)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Bt(C,x="emptyOnly"){const D=C.pathFromRoot;let P=0;if("always"!==x)for(P=D.length-1;P>=1;){const j=D[P],se=D[P-1];if(j.routeConfig&&""===j.routeConfig.path)P--;else{if(se.component)break;P--}}return function Bn(C){return C.reduce((x,D)=>({params:{...x.params,...D.params},data:{...x.data,...D.data},resolve:{...D.data,...x.resolve,...D.routeConfig?.data,...D._resolvedData}}),{params:{},data:{},resolve:{}})}(D.slice(P))}class Or{get title(){return this.data?.[ct]}constructor(x,D,P,j,se,_e,ze,He,$t){this.url=x,this.params=D,this.queryParams=P,this.fragment=j,this.data=se,this.outlet=_e,this.component=ze,this.routeConfig=He,this._resolve=$t}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=At(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=At(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ni extends Bi{constructor(x,D){super(D),this.url=x,Qs(this,D)}toString(){return Zr(this._root)}}function Qs(C,x){x.value._routerState=C,x.children.forEach(D=>Qs(C,D))}function Zr(C){const x=C.children.length>0?` { ${C.children.map(Zr).join(", ")} } `:"";return`${C.value}${x}`}function Oi(C){if(C.snapshot){const x=C.snapshot,D=C._futureSnapshot;C.snapshot=D,on(x.queryParams,D.queryParams)||C.queryParamsSubject.next(D.queryParams),x.fragment!==D.fragment&&C.fragmentSubject.next(D.fragment),on(x.params,D.params)||C.paramsSubject.next(D.params),function An(C,x){if(C.length!==x.length)return!1;for(let D=0;D<C.length;++D)if(!on(C[D],x[D]))return!1;return!0}(x.url,D.url)||C.urlSubject.next(D.url),on(x.data,D.data)||C.dataSubject.next(D.data)}else C.snapshot=C._futureSnapshot,C.dataSubject.next(C._futureSnapshot.data)}function Mr(C,x){const D=on(C.params,x.params)&&function ci(C,x){return nt(C,x)&&C.every((D,P)=>on(D.parameters,x[P].parameters))}(C.url,x.url);return D&&!(!C.parent!=!x.parent)&&(!C.parent||Mr(C.parent,x.parent))}let Zn=(()=>{class C{constructor(){this.activated=null,this._activatedRoute=null,this.name=ke,this.activateEvents=new b.vpe,this.deactivateEvents=new b.vpe,this.attachEvents=new b.vpe,this.detachEvents=new b.vpe,this.parentContexts=(0,b.f3M)(qr),this.location=(0,b.f3M)(b.s_b),this.changeDetector=(0,b.f3M)(b.sBO),this.environmentInjector=(0,b.f3M)(b.lqb),this.inputBinder=(0,b.f3M)(mn,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(D){if(D.name){const{firstChange:P,previousValue:j}=D.name;if(P)return;this.isTrackedInParentContexts(j)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(j)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(D){return this.parentContexts.getContext(D)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const D=this.parentContexts.getContext(this.name);D?.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b.vHH(4012,!1);this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,P){this.activated=D,this._activatedRoute=P,this.location.insert(D.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,P){if(this.isActivated)throw new b.vHH(4013,!1);this._activatedRoute=D;const j=this.location,_e=D.snapshot.component,ze=this.parentContexts.getOrCreateContext(this.name).children,He=new ui(D,ze,j.injector);this.activated=j.createComponent(_e,{index:j.length,injector:He,environmentInjector:P??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275dir=b.lG2({type:C,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[b.TTD]})}return C})();class ui{constructor(x,D,P){this.route=x,this.childContexts=D,this.parent=P}get(x,D){return x===ur?this.route:x===qr?this.childContexts:this.parent.get(x,D)}}const mn=new b.OlP("");let Js=(()=>{class C{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(D){this.unsubscribeFromRouteData(D),this.subscribeToRouteData(D)}unsubscribeFromRouteData(D){this.outletDataSubscriptions.get(D)?.unsubscribe(),this.outletDataSubscriptions.delete(D)}subscribeToRouteData(D){const{activatedRoute:P}=D,j=Ye([P.queryParams,P.params,P.data]).pipe((0,Sn.w)(([se,_e,ze],He)=>(ze={...se,..._e,...ze},0===He?(0,fe.of)(ze):Promise.resolve(ze)))).subscribe(se=>{if(!D.isActivated||!D.activatedComponentRef||D.activatedRoute!==P||null===P.component)return void this.unsubscribeFromRouteData(D);const _e=(0,b.qFp)(P.component);if(_e)for(const{templateName:ze}of _e.inputs)D.activatedComponentRef.setInput(ze,se[ze]);else this.unsubscribeFromRouteData(D)});this.outletDataSubscriptions.set(D,j)}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=b.Yz7({token:C,factory:C.\u0275fac})}return C})();function ws(C,x,D){if(D&&C.shouldReuseRoute(x.value,D.value.snapshot)){const P=D.value;P._futureSnapshot=x.value;const j=function jr(C,x,D){return x.children.map(P=>{for(const j of D.children)if(C.shouldReuseRoute(P.value,j.value.snapshot))return ws(C,P,j);return ws(C,P)})}(C,x,D);return new Vi(P,j)}{if(C.shouldAttach(x.value)){const se=C.retrieve(x.value);if(null!==se){const _e=se.route;return _e.value._futureSnapshot=x.value,_e.children=x.children.map(ze=>ws(C,ze)),_e}}const P=function qi(C){return new ur(new Ee.X(C.url),new Ee.X(C.params),new Ee.X(C.queryParams),new Ee.X(C.fragment),new Ee.X(C.data),C.outlet,C.component,C)}(x.value),j=x.children.map(se=>ws(C,se));return new Vi(P,j)}}const Fs="ngNavigationCancelingError";function oi(C,x){const{redirectTo:D,navigationBehaviorOptions:P}=Gr(x)?{redirectTo:x,navigationBehaviorOptions:void 0}:x,j=uo(!1,0,x);return j.url=D,j.navigationBehaviorOptions=P,j}function uo(C,x,D){const P=new Error("NavigationCancelingError: "+(C||""));return P[Fs]=!0,P.cancellationCode=x,D&&(P.url=D),P}function Xs(C){return C&&C[Fs]}let Zi=(()=>{class C{static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275cmp=b.Xpm({type:C,selectors:[["ng-component"]],standalone:!0,features:[b.jDz],decls:1,vars:0,template:function(P,j){1&P&&b._UZ(0,"router-outlet")},dependencies:[Zn],encapsulation:2})}return C})();function Ro(C){const x=C.children&&C.children.map(Ro),D=x?{...C,children:x}:{...C};return!D.component&&!D.loadComponent&&(x||D.loadChildren)&&D.outlet&&D.outlet!==ke&&(D.component=Zi),D}function xr(C){return C.outlet||ke}function ti(C){if(!C)return null;if(C.routeConfig?._injector)return C.routeConfig._injector;for(let x=C.parent;x;x=x.parent){const D=x.routeConfig;if(D?._loadedInjector)return D._loadedInjector;if(D?._injector)return D._injector}return null}class Es{constructor(x,D,P,j,se){this.routeReuseStrategy=x,this.futureState=D,this.currState=P,this.forwardEvent=j,this.inputBindingEnabled=se}activate(x){const D=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,P,x),Oi(this.futureState.root),this.activateChildRoutes(D,P,x)}deactivateChildRoutes(x,D,P){const j=lo(D);x.children.forEach(se=>{const _e=se.value.outlet;this.deactivateRoutes(se,j[_e],P),delete j[_e]}),Object.values(j).forEach(se=>{this.deactivateRouteAndItsChildren(se,P)})}deactivateRoutes(x,D,P){const j=x.value,se=D?D.value:null;if(j===se)if(j.component){const _e=P.getContext(j.outlet);_e&&this.deactivateChildRoutes(x,D,_e.children)}else this.deactivateChildRoutes(x,D,P);else se&&this.deactivateRouteAndItsChildren(D,P)}deactivateRouteAndItsChildren(x,D){x.value.component&&this.routeReuseStrategy.shouldDetach(x.value.snapshot)?this.detachAndStoreRouteSubtree(x,D):this.deactivateRouteAndOutlet(x,D)}detachAndStoreRouteSubtree(x,D){const P=D.getContext(x.value.outlet),j=P&&x.value.component?P.children:D,se=lo(x);for(const _e of Object.keys(se))this.deactivateRouteAndItsChildren(se[_e],j);if(P&&P.outlet){const _e=P.outlet.detach(),ze=P.children.onOutletDeactivated();this.routeReuseStrategy.store(x.value.snapshot,{componentRef:_e,route:x,contexts:ze})}}deactivateRouteAndOutlet(x,D){const P=D.getContext(x.value.outlet),j=P&&x.value.component?P.children:D,se=lo(x);for(const _e of Object.keys(se))this.deactivateRouteAndItsChildren(se[_e],j);P&&(P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated()),P.attachRef=null,P.route=null)}activateChildRoutes(x,D,P){const j=lo(D);x.children.forEach(se=>{this.activateRoutes(se,j[se.value.outlet],P),this.forwardEvent(new Wi(se.value.snapshot))}),x.children.length&&this.forwardEvent(new Oo(x.value.snapshot))}activateRoutes(x,D,P){const j=x.value,se=D?D.value:null;if(Oi(j),j===se)if(j.component){const _e=P.getOrCreateContext(j.outlet);this.activateChildRoutes(x,D,_e.children)}else this.activateChildRoutes(x,D,P);else if(j.component){const _e=P.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const ze=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),_e.children.onOutletReAttached(ze.contexts),_e.attachRef=ze.componentRef,_e.route=ze.route.value,_e.outlet&&_e.outlet.attach(ze.componentRef,ze.route.value),Oi(ze.route.value),this.activateChildRoutes(x,null,_e.children)}else{const ze=ti(j.snapshot);_e.attachRef=null,_e.route=j,_e.injector=ze,_e.outlet&&_e.outlet.activateWith(j,_e.injector),this.activateChildRoutes(x,null,_e.children)}}else this.activateChildRoutes(x,null,P)}}class ta{constructor(x){this.path=x,this.route=this.path[this.path.length-1]}}class di{constructor(x,D){this.component=x,this.route=D}}function Mi(C,x,D){const P=C._root;return na(P,x?x._root:null,D,[P.value])}function ho(C,x){const D=Symbol(),P=x.get(C,D);return P===D?"function"!=typeof C||(0,b.Z0I)(C)?x.get(C):C:P}function na(C,x,D,P,j={canDeactivateChecks:[],canActivateChecks:[]}){const se=lo(x);return C.children.forEach(_e=>{(function Xa(C,x,D,P,j={canDeactivateChecks:[],canActivateChecks:[]}){const se=C.value,_e=x?x.value:null,ze=D?D.getContext(C.value.outlet):null;if(_e&&se.routeConfig===_e.routeConfig){const He=function Kr(C,x,D){if("function"==typeof D)return D(C,x);switch(D){case"pathParamsChange":return!nt(C.url,x.url);case"pathParamsOrQueryParamsChange":return!nt(C.url,x.url)||!on(C.queryParams,x.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mr(C,x)||!on(C.queryParams,x.queryParams);default:return!Mr(C,x)}}(_e,se,se.routeConfig.runGuardsAndResolvers);He?j.canActivateChecks.push(new ta(P)):(se.data=_e.data,se._resolvedData=_e._resolvedData),na(C,x,se.component?ze?ze.children:null:D,P,j),He&&ze&&ze.outlet&&ze.outlet.isActivated&&j.canDeactivateChecks.push(new di(ze.outlet.component,_e))}else _e&&ra(x,ze,j),j.canActivateChecks.push(new ta(P)),na(C,null,se.component?ze?ze.children:null:D,P,j)})(_e,se[_e.value.outlet],D,P.concat([_e.value]),j),delete se[_e.value.outlet]}),Object.entries(se).forEach(([_e,ze])=>ra(ze,D.getContext(_e),j)),j}function ra(C,x,D){const P=lo(C),j=C.value;Object.entries(P).forEach(([se,_e])=>{ra(_e,j.component?x?x.children.getContext(se):null:x,D)}),D.canDeactivateChecks.push(new di(j.component&&x&&x.outlet&&x.outlet.isActivated?x.outlet.component:null,j))}function pl(C){return"function"==typeof C}function to(C){return C instanceof Ot.K||"EmptyError"===C?.name}const Ki=Symbol("INITIAL_VALUE");function Ui(){return(0,Sn.w)(C=>Ye(C.map(x=>x.pipe((0,Un.q)(1),(0,or.O)(Ki)))).pipe((0,hn.U)(x=>{for(const D of x)if(!0!==D){if(D===Ki)return Ki;if(!1===D||D instanceof xn)return D}return!0}),(0,yr.h)(x=>x!==Ki),(0,Un.q)(1)))}function ia(C){return(0,ot.z)((0,Pt.b)(x=>{if(Gr(x))throw oi(0,x)}),(0,hn.U)(x=>!0===x))}class fo{constructor(x){this.segmentGroup=x||null}}class gl{constructor(x){this.urlTree=x}}function hi(C){return yt(new fo(C))}function zc(C){return yt(new gl(C))}class Ta{constructor(x,D){this.urlSerializer=x,this.urlTree=D}noMatchError(x){return new b.vHH(4002,!1)}lineralizeSegments(x,D){let P=[],j=D.root;for(;;){if(P=P.concat(j.segments),0===j.numberOfChildren)return(0,fe.of)(P);if(j.numberOfChildren>1||!j.children[ke])return yt(new b.vHH(4e3,!1));j=j.children[ke]}}applyRedirectCommands(x,D,P){return this.applyRedirectCreateUrlTree(D,this.urlSerializer.parse(D),x,P)}applyRedirectCreateUrlTree(x,D,P,j){const se=this.createSegmentGroup(x,D.root,P,j);return new xn(se,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(x,D){const P={};return Object.entries(x).forEach(([j,se])=>{if("string"==typeof se&&se.startsWith(":")){const ze=se.substring(1);P[j]=D[ze]}else P[j]=se}),P}createSegmentGroup(x,D,P,j){const se=this.createSegments(x,D.segments,P,j);let _e={};return Object.entries(D.children).forEach(([ze,He])=>{_e[ze]=this.createSegmentGroup(x,He,P,j)}),new Xn(se,_e)}createSegments(x,D,P,j){return D.map(se=>se.path.startsWith(":")?this.findPosParam(x,se,j):this.findOrReturn(se,P))}findPosParam(x,D,P){const j=P[D.path.substring(1)];if(!j)throw new b.vHH(4001,!1);return j}findOrReturn(x,D){let P=0;for(const j of D){if(j.path===x.path)return D.splice(P),j;P++}return x}}const Wc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function po(C,x,D,P,j){const se=Us(C,x,D);return se.matched?(P=function eo(C,x){return C.providers&&!C._injector&&(C._injector=(0,b.MMx)(C.providers,x,`Route: ${C.path}`)),C._injector??x}(x,P),function rs(C,x,D,P){const j=x.canMatch;if(!j||0===j.length)return(0,fe.of)(!0);const se=j.map(_e=>{const ze=ho(_e,C);return Jn(function en(C){return C&&pl(C.canMatch)}(ze)?ze.canMatch(x,D):C.runInContext(()=>ze(x,D)))});return(0,fe.of)(se).pipe(Ui(),ia())}(P,x,D).pipe((0,hn.U)(_e=>!0===_e?se:{...Wc}))):(0,fe.of)(se)}function Us(C,x,D){if(""===x.path)return"full"===x.pathMatch&&(C.hasChildren()||D.length>0)?{...Wc}:{matched:!0,consumedSegments:[],remainingSegments:D,parameters:{},positionalParamSegments:{}};const j=(x.matcher||wr)(D,C,x);if(!j)return{...Wc};const se={};Object.entries(j.posParams??{}).forEach(([ze,He])=>{se[ze]=He.path});const _e=j.consumed.length>0?{...se,...j.consumed[j.consumed.length-1].parameters}:se;return{matched:!0,consumedSegments:j.consumed,remainingSegments:D.slice(j.consumed.length),parameters:_e,positionalParamSegments:j.posParams??{}}}function sa(C,x,D,P){return D.length>0&&function Ts(C,x,D){return D.some(P=>is(C,x,P)&&xr(P)!==ke)}(C,D,P)?{segmentGroup:new Xn(x,mi(P,new Xn(D,C.children))),slicedSegments:[]}:0===D.length&&function hs(C,x,D){return D.some(P=>is(C,x,P))}(C,D,P)?{segmentGroup:new Xn(C.segments,wc(C,0,D,P,C.children)),slicedSegments:D}:{segmentGroup:new Xn(C.segments,C.children),slicedSegments:D}}function wc(C,x,D,P,j){const se={};for(const _e of P)if(is(C,D,_e)&&!j[xr(_e)]){const ze=new Xn([],{});se[xr(_e)]=ze}return{...j,...se}}function mi(C,x){const D={};D[ke]=x;for(const P of C)if(""===P.path&&xr(P)!==ke){const j=new Xn([],{});D[xr(P)]=j}return D}function is(C,x,D){return(!(C.hasChildren()||x.length>0)||"full"!==D.pathMatch)&&""===D.path}class qc{constructor(x,D,P,j,se,_e,ze){this.injector=x,this.configLoader=D,this.rootComponentType=P,this.config=j,this.urlTree=se,this.paramsInheritanceStrategy=_e,this.urlSerializer=ze,this.allowRedirects=!0,this.applyRedirects=new Ta(this.urlSerializer,this.urlTree)}noMatchError(x){return new b.vHH(4002,!1)}recognize(){const x=sa(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,x,ke).pipe(Ut(D=>{if(D instanceof gl)return this.allowRedirects=!1,this.urlTree=D.urlTree,this.match(D.urlTree);throw D instanceof fo?this.noMatchError(D):D}),(0,hn.U)(D=>{const P=new Or([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ke,this.rootComponentType,null,{}),j=new Vi(P,D),se=new Ni("",j),_e=function Ao(C,x,D=null,P=null){return ts(ys(C),x,D,P)}(P,[],this.urlTree.queryParams,this.urlTree.fragment);return _e.queryParams=this.urlTree.queryParams,se.url=this.urlSerializer.serialize(_e),this.inheritParamsAndData(se._root),{state:se,tree:_e}}))}match(x){return this.processSegmentGroup(this.injector,this.config,x.root,ke).pipe(Ut(P=>{throw P instanceof fo?this.noMatchError(P):P}))}inheritParamsAndData(x){const D=x.value,P=Bt(D,this.paramsInheritanceStrategy);D.params=Object.freeze(P.params),D.data=Object.freeze(P.data),x.children.forEach(j=>this.inheritParamsAndData(j))}processSegmentGroup(x,D,P,j){return 0===P.segments.length&&P.hasChildren()?this.processChildren(x,D,P):this.processSegment(x,D,P,P.segments,j,!0)}processChildren(x,D,P){const j=[];for(const se of Object.keys(P.children))"primary"===se?j.unshift(se):j.push(se);return(0,ue.D)(j).pipe(wt(se=>{const _e=P.children[se],ze=function Po(C,x){const D=C.filter(P=>xr(P)===x);return D.push(...C.filter(P=>xr(P)!==x)),D}(D,se);return this.processSegmentGroup(x,ze,_e,se)}),function wn(C,x){return(0,ve.e)(function fn(C,x,D,P,j){return(se,_e)=>{let ze=D,He=x,$t=0;se.subscribe((0,Se.x)(_e,Ln=>{const Ar=$t++;He=ze?C(He,Ln,Ar):(ze=!0,Ln),P&&_e.next(He)},j&&(()=>{ze&&_e.next(He),_e.complete()})))}}(C,x,arguments.length>=2,!0))}((se,_e)=>(se.push(..._e),se)),$e(null),function Dt(C,x){const D=arguments.length>=2;return P=>P.pipe(C?(0,yr.h)((j,se)=>C(j,se,P)):Re.y,un(1),D?$e(x):Xe(()=>new Ot.K))}(),(0,Fe.z)(se=>{if(null===se)return hi(P);const _e=fs(se);return function hu(C){C.sort((x,D)=>x.value.outlet===ke?-1:D.value.outlet===ke?1:x.value.outlet.localeCompare(D.value.outlet))}(_e),(0,fe.of)(_e)}))}processSegment(x,D,P,j,se,_e){return(0,ue.D)(D).pipe(wt(ze=>this.processSegmentAgainstRoute(ze._injector??x,D,ze,P,j,se,_e).pipe(Ut(He=>{if(He instanceof fo)return(0,fe.of)(null);throw He}))),it(ze=>!!ze),Ut(ze=>{if(to(ze))return function rc(C,x,D){return 0===x.length&&!C.children[D]}(P,j,se)?(0,fe.of)([]):hi(P);throw ze}))}processSegmentAgainstRoute(x,D,P,j,se,_e,ze){return function ml(C,x,D,P){return!!(xr(C)===P||P!==ke&&is(x,D,C))&&("**"===C.path||Us(x,C,D).matched)}(P,j,se,_e)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(x,j,P,se,_e,ze):ze&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(x,j,D,P,se,_e):hi(j):hi(j)}expandSegmentAgainstRouteUsingRedirect(x,D,P,j,se,_e){return"**"===j.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(x,P,j,_e):this.expandRegularSegmentAgainstRouteUsingRedirect(x,D,P,j,se,_e)}expandWildCardWithParamsAgainstRouteUsingRedirect(x,D,P,j){const se=this.applyRedirects.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?zc(se):this.applyRedirects.lineralizeSegments(P,se).pipe((0,Fe.z)(_e=>{const ze=new Xn(_e,{});return this.processSegment(x,D,ze,_e,j,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(x,D,P,j,se,_e){const{matched:ze,consumedSegments:He,remainingSegments:$t,positionalParamSegments:Ln}=Us(D,j,se);if(!ze)return hi(D);const Ar=this.applyRedirects.applyRedirectCommands(He,j.redirectTo,Ln);return j.redirectTo.startsWith("/")?zc(Ar):this.applyRedirects.lineralizeSegments(j,Ar).pipe((0,Fe.z)(gr=>this.processSegment(x,P,D,gr.concat($t),_e,!1)))}matchSegmentAgainstRoute(x,D,P,j,se,_e){let ze;if("**"===P.path){const He=j.length>0?En(j).parameters:{},$t=new Or(j,He,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,M(P),xr(P),P.component??P._loadedComponent??null,P,ne(P));ze=(0,fe.of)({snapshot:$t,consumedSegments:[],remainingSegments:[]}),D.children={}}else ze=po(D,P,j,x).pipe((0,hn.U)(({matched:He,consumedSegments:$t,remainingSegments:Ln,parameters:Ar})=>He?{snapshot:new Or($t,Ar,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,M(P),xr(P),P.component??P._loadedComponent??null,P,ne(P)),consumedSegments:$t,remainingSegments:Ln}:null));return ze.pipe((0,Sn.w)(He=>null===He?hi(D):this.getChildConfig(x=P._injector??x,P,j).pipe((0,Sn.w)(({routes:$t})=>{const Ln=P._loadedInjector??x,{snapshot:Ar,consumedSegments:gr,remainingSegments:lc}=He,{segmentGroup:zr,slicedSegments:ua}=sa(D,gr,lc,$t);if(0===ua.length&&zr.hasChildren())return this.processChildren(Ln,$t,zr).pipe((0,hn.U)(Fo=>null===Fo?null:[new Vi(Ar,Fo)]));if(0===$t.length&&0===ua.length)return(0,fe.of)([new Vi(Ar,[])]);const Fr=xr(P)===se;return this.processSegment(Ln,$t,zr,ua,Fr?ke:se,!0).pipe((0,hn.U)(Fo=>[new Vi(Ar,Fo)]))}))))}getChildConfig(x,D,P){return D.children?(0,fe.of)({routes:D.children,injector:x}):D.loadChildren?void 0!==D._loadedRoutes?(0,fe.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):function Ii(C,x,D,P){const j=x.canLoad;if(void 0===j||0===j.length)return(0,fe.of)(!0);const se=j.map(_e=>{const ze=ho(_e,C);return Jn(function X(C){return C&&pl(C.canLoad)}(ze)?ze.canLoad(x,D):C.runInContext(()=>ze(x,D)))});return(0,fe.of)(se).pipe(Ui(),ia())}(x,D,P).pipe((0,Fe.z)(j=>j?this.configLoader.loadChildren(x,D).pipe((0,Pt.b)(se=>{D._loadedRoutes=se.routes,D._loadedInjector=se.injector})):function gh(C){return yt(uo(!1,3))}())):(0,fe.of)({routes:[],injector:x})}}function Ic(C){const x=C.value.routeConfig;return x&&""===x.path}function fs(C){const x=[],D=new Set;for(const P of C){if(!Ic(P)){x.push(P);continue}const j=x.find(se=>P.value.routeConfig===se.value.routeConfig);void 0!==j?(j.children.push(...P.children),D.add(j)):x.push(P)}for(const P of D){const j=fs(P.children);x.push(new Vi(P.value,j))}return x.filter(P=>!D.has(P))}function M(C){return C.data||{}}function ne(C){return C.resolve||{}}function Pr(C){return"string"==typeof C.title||null===C.title}function $r(C){return(0,Sn.w)(x=>{const D=C(x);return D?(0,ue.D)(D).pipe((0,hn.U)(()=>x)):(0,fe.of)(x)})}const pr=new b.OlP("ROUTES");let Kn=(()=>{class C{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,b.f3M)(b.Sil)}loadComponent(D){if(this.componentLoaders.get(D))return this.componentLoaders.get(D);if(D._loadedComponent)return(0,fe.of)(D._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(D);const P=Jn(D.loadComponent()).pipe((0,hn.U)(kr),(0,Pt.b)(se=>{this.onLoadEndListener&&this.onLoadEndListener(D),D._loadedComponent=se}),vr(()=>{this.componentLoaders.delete(D)})),j=new mt(P,()=>new kn.x).pipe(Je());return this.componentLoaders.set(D,j),j}loadChildren(D,P){if(this.childrenLoaders.get(P))return this.childrenLoaders.get(P);if(P._loadedRoutes)return(0,fe.of)({routes:P._loadedRoutes,injector:P._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(P);const se=function br(C,x,D,P){return Jn(C.loadChildren()).pipe((0,hn.U)(kr),(0,Fe.z)(j=>j instanceof b.YKP||Array.isArray(j)?(0,fe.of)(j):(0,ue.D)(x.compileModuleAsync(j))),(0,hn.U)(j=>{P&&P(C);let se,_e,ze=!1;return Array.isArray(j)?(_e=j,!0):(se=j.create(D).injector,_e=se.get(pr,[],{optional:!0,self:!0}).flat()),{routes:_e.map(Ro),injector:se}}))}(P,this.compiler,D,this.onLoadEndListener).pipe(vr(()=>{this.childrenLoaders.delete(P)})),_e=new mt(se,()=>new kn.x).pipe(Je());return this.childrenLoaders.set(P,_e),_e}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=b.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function kr(C){return function Sr(C){return C&&"object"==typeof C&&"default"in C}(C)?C.default:C}let ps=(()=>{class C{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new kn.x,this.transitionAbortSubject=new kn.x,this.configLoader=(0,b.f3M)(Kn),this.environmentInjector=(0,b.f3M)(b.lqb),this.urlSerializer=(0,b.f3M)(Ze),this.rootContexts=(0,b.f3M)(qr),this.inputBindingEnabled=null!==(0,b.f3M)(mn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,fe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=j=>this.events.next(new ei(j)),this.configLoader.onLoadStartListener=j=>this.events.next(new Ja(j))}complete(){this.transitions?.complete()}handleNavigationRequest(D){const P=++this.navigationId;this.transitions?.next({...this.transitions.value,...D,id:P})}setupNavigations(D,P,j){return this.transitions=new Ee.X({id:0,currentUrlTree:P,currentRawUrl:P,currentBrowserUrl:P,extractedUrl:D.urlHandlingStrategy.extract(P),urlAfterRedirects:D.urlHandlingStrategy.extract(P),rawUrl:P,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:wa,restoredState:null,currentSnapshot:j.snapshot,targetSnapshot:null,currentRouterState:j,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,yr.h)(se=>0!==se.id),(0,hn.U)(se=>({...se,extractedUrl:D.urlHandlingStrategy.extract(se.rawUrl)})),(0,Sn.w)(se=>{this.currentTransition=se;let _e=!1,ze=!1;return(0,fe.of)(se).pipe((0,Pt.b)(He=>{this.currentNavigation={id:He.id,initialUrl:He.rawUrl,extractedUrl:He.extractedUrl,trigger:He.source,extras:He.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Sn.w)(He=>{const $t=He.currentBrowserUrl.toString(),Ln=!D.navigated||He.extractedUrl.toString()!==$t||$t!==He.currentUrlTree.toString();if(!Ln&&"reload"!==(He.extras.onSameUrlNavigation??D.onSameUrlNavigation)){const gr="";return this.events.next(new ks(He.id,this.urlSerializer.serialize(He.rawUrl),gr,0)),He.resolve(null),_t.E}if(D.urlHandlingStrategy.shouldProcessUrl(He.rawUrl))return(0,fe.of)(He).pipe((0,Sn.w)(gr=>{const lc=this.transitions?.getValue();return this.events.next(new ii(gr.id,this.urlSerializer.serialize(gr.extractedUrl),gr.source,gr.restoredState)),lc!==this.transitions?.getValue()?_t.E:Promise.resolve(gr)}),function U(C,x,D,P,j,se){return(0,Fe.z)(_e=>function ic(C,x,D,P,j,se,_e="emptyOnly"){return new qc(C,x,D,P,j,_e,se).recognize()}(C,x,D,P,_e.extractedUrl,j,se).pipe((0,hn.U)(({state:ze,tree:He})=>({..._e,targetSnapshot:ze,urlAfterRedirects:He}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,D.config,this.urlSerializer,D.paramsInheritanceStrategy),(0,Pt.b)(gr=>{se.targetSnapshot=gr.targetSnapshot,se.urlAfterRedirects=gr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:gr.urlAfterRedirects};const lc=new $i(gr.id,this.urlSerializer.serialize(gr.extractedUrl),this.urlSerializer.serialize(gr.urlAfterRedirects),gr.targetSnapshot);this.events.next(lc)}));if(Ln&&D.urlHandlingStrategy.shouldProcessUrl(He.currentRawUrl)){const{id:gr,extractedUrl:lc,source:zr,restoredState:ua,extras:Fr}=He,Fo=new ii(gr,this.urlSerializer.serialize(lc),zr,ua);this.events.next(Fo);const Dd=Fa(0,this.rootComponentType).snapshot;return this.currentTransition=se={...He,targetSnapshot:Dd,urlAfterRedirects:lc,extras:{...Fr,skipLocationChange:!1,replaceUrl:!1}},(0,fe.of)(se)}{const gr="";return this.events.next(new ks(He.id,this.urlSerializer.serialize(He.extractedUrl),gr,1)),He.resolve(null),_t.E}}),(0,Pt.b)(He=>{const $t=new Bl(He.id,this.urlSerializer.serialize(He.extractedUrl),this.urlSerializer.serialize(He.urlAfterRedirects),He.targetSnapshot);this.events.next($t)}),(0,hn.U)(He=>(this.currentTransition=se={...He,guards:Mi(He.targetSnapshot,He.currentSnapshot,this.rootContexts)},se)),function ec(C,x){return(0,Fe.z)(D=>{const{targetSnapshot:P,currentSnapshot:j,guards:{canActivateChecks:se,canDeactivateChecks:_e}}=D;return 0===_e.length&&0===se.length?(0,fe.of)({...D,guardsResult:!0}):function ko(C,x,D,P){return(0,ue.D)(C).pipe((0,Fe.z)(j=>function nc(C,x,D,P,j){const se=x&&x.routeConfig?x.routeConfig.canDeactivate:null;if(!se||0===se.length)return(0,fe.of)(!0);const _e=se.map(ze=>{const He=ti(x)??j,$t=ho(ze,He);return Jn(function Te(C){return C&&pl(C.canDeactivate)}($t)?$t.canDeactivate(C,x,D,P):He.runInContext(()=>$t(C,x,D,P))).pipe(it())});return(0,fe.of)(_e).pipe(Ui())}(j.component,j.route,D,x,P)),it(j=>!0!==j,!0))}(_e,P,j,C).pipe((0,Fe.z)(ze=>ze&&function q(C){return"boolean"==typeof C}(ze)?function Ea(C,x,D,P){return(0,ue.D)(x).pipe(wt(j=>(0,Cn.z)(function tc(C,x){return null!==C&&x&&x(new Ys(C)),(0,fe.of)(!0)}(j.route.parent,P),function Va(C,x){return null!==C&&x&&x(new fl(C)),(0,fe.of)(!0)}(j.route,P),function Vl(C,x,D){const P=x[x.length-1],se=x.slice(0,x.length-1).reverse().map(_e=>function Ba(C){const x=C.routeConfig?C.routeConfig.canActivateChild:null;return x&&0!==x.length?{node:C,guards:x}:null}(_e)).filter(_e=>null!==_e).map(_e=>ft(()=>{const ze=_e.guards.map(He=>{const $t=ti(_e.node)??D,Ln=ho(He,$t);return Jn(function oe(C){return C&&pl(C.canActivateChild)}(Ln)?Ln.canActivateChild(P,C):$t.runInContext(()=>Ln(P,C))).pipe(it())});return(0,fe.of)(ze).pipe(Ui())}));return(0,fe.of)(se).pipe(Ui())}(C,j.path,D),function Vs(C,x,D){const P=x.routeConfig?x.routeConfig.canActivate:null;if(!P||0===P.length)return(0,fe.of)(!0);const j=P.map(se=>ft(()=>{const _e=ti(x)??D,ze=ho(se,_e);return Jn(function B(C){return C&&pl(C.canActivate)}(ze)?ze.canActivate(x,C):_e.runInContext(()=>ze(x,C))).pipe(it())}));return(0,fe.of)(j).pipe(Ui())}(C,j.route,D))),it(j=>!0!==j,!0))}(P,se,C,x):(0,fe.of)(ze)),(0,hn.U)(ze=>({...D,guardsResult:ze})))})}(this.environmentInjector,He=>this.events.next(He)),(0,Pt.b)(He=>{if(se.guardsResult=He.guardsResult,Gr(He.guardsResult))throw oi(0,He.guardsResult);const $t=new zi(He.id,this.urlSerializer.serialize(He.extractedUrl),this.urlSerializer.serialize(He.urlAfterRedirects),He.targetSnapshot,!!He.guardsResult);this.events.next($t)}),(0,yr.h)(He=>!!He.guardsResult||(this.cancelNavigationTransition(He,"",3),!1)),$r(He=>{if(He.guards.canActivateChecks.length)return(0,fe.of)(He).pipe((0,Pt.b)($t=>{const Ln=new hl($t.id,this.urlSerializer.serialize($t.extractedUrl),this.urlSerializer.serialize($t.urlAfterRedirects),$t.targetSnapshot);this.events.next(Ln)}),(0,Sn.w)($t=>{let Ln=!1;return(0,fe.of)($t).pipe(function ee(C,x){return(0,Fe.z)(D=>{const{targetSnapshot:P,guards:{canActivateChecks:j}}=D;if(!j.length)return(0,fe.of)(D);let se=0;return(0,ue.D)(j).pipe(wt(_e=>function ye(C,x,D,P){const j=C.routeConfig,se=C._resolve;return void 0!==j?.title&&!Pr(j)&&(se[ct]=j.title),function et(C,x,D,P){const j=function gt(C){return[...Object.keys(C),...Object.getOwnPropertySymbols(C)]}(C);if(0===j.length)return(0,fe.of)({});const se={};return(0,ue.D)(j).pipe((0,Fe.z)(_e=>function vn(C,x,D,P){const j=ti(x)??P,se=ho(C,j);return Jn(se.resolve?se.resolve(x,D):j.runInContext(()=>se(x,D)))}(C[_e],x,D,P).pipe(it(),(0,Pt.b)(ze=>{se[_e]=ze}))),un(1),(0,Wn.h)(se),Ut(_e=>to(_e)?_t.E:yt(_e)))}(se,C,x,P).pipe((0,hn.U)(_e=>(C._resolvedData=_e,C.data=Bt(C,D).resolve,j&&Pr(j)&&(C.data[ct]=j.title),null)))}(_e.route,P,C,x)),(0,Pt.b)(()=>se++),un(1),(0,Fe.z)(_e=>se===j.length?(0,fe.of)(D):_t.E))})}(D.paramsInheritanceStrategy,this.environmentInjector),(0,Pt.b)({next:()=>Ln=!0,complete:()=>{Ln||this.cancelNavigationTransition($t,"",2)}}))}),(0,Pt.b)($t=>{const Ln=new Ks($t.id,this.urlSerializer.serialize($t.extractedUrl),this.urlSerializer.serialize($t.urlAfterRedirects),$t.targetSnapshot);this.events.next(Ln)}))}),$r(He=>{const $t=Ln=>{const Ar=[];Ln.routeConfig?.loadComponent&&!Ln.routeConfig._loadedComponent&&Ar.push(this.configLoader.loadComponent(Ln.routeConfig).pipe((0,Pt.b)(gr=>{Ln.component=gr}),(0,hn.U)(()=>{})));for(const gr of Ln.children)Ar.push(...$t(gr));return Ar};return Ye($t(He.targetSnapshot.root)).pipe($e(),(0,Un.q)(1))}),$r(()=>this.afterPreactivation()),(0,hn.U)(He=>{const $t=function La(C,x,D){const P=ws(C,x._root,D?D._root:void 0);return new bi(P,x)}(D.routeReuseStrategy,He.targetSnapshot,He.currentRouterState);return this.currentTransition=se={...He,targetRouterState:$t},se}),(0,Pt.b)(()=>{this.events.next(new Jo)}),((C,x,D,P)=>(0,hn.U)(j=>(new Es(x,j.targetRouterState,j.currentRouterState,D,P).activate(C),j)))(this.rootContexts,D.routeReuseStrategy,He=>this.events.next(He),this.inputBindingEnabled),(0,Un.q)(1),(0,Pt.b)({next:He=>{_e=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ps(He.id,this.urlSerializer.serialize(He.extractedUrl),this.urlSerializer.serialize(He.urlAfterRedirects))),D.titleStrategy?.updateTitle(He.targetRouterState.snapshot),He.resolve(!0)},complete:()=>{_e=!0}}),(0,Br.R)(this.transitionAbortSubject.pipe((0,Pt.b)(He=>{throw He}))),vr(()=>{_e||ze||this.cancelNavigationTransition(se,"",1),this.currentNavigation?.id===se.id&&(this.currentNavigation=null)}),Ut(He=>{if(ze=!0,Xs(He))this.events.next(new bs(se.id,this.urlSerializer.serialize(se.extractedUrl),He.message,He.cancellationCode)),function $c(C){return Xs(C)&&Gr(C.url)}(He)?this.events.next(new Mo(He.url)):se.resolve(!1);else{this.events.next(new jc(se.id,this.urlSerializer.serialize(se.extractedUrl),He,se.targetSnapshot??void 0));try{se.resolve(D.errorHandler(He))}catch($t){se.reject($t)}}return _t.E}))}))}cancelNavigationTransition(D,P,j){const se=new bs(D.id,this.urlSerializer.serialize(D.extractedUrl),P,j);this.events.next(se),D.resolve(!1)}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=b.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function _i(C){return C!==wa}let yi=(()=>{class C{buildTitle(D){let P,j=D.root;for(;void 0!==j;)P=this.getResolvedTitleForRoute(j)??P,j=j.children.find(se=>se.outlet===ke);return P}getResolvedTitleForRoute(D){return D.data[ct]}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=b.Yz7({token:C,factory:function(){return(0,b.f3M)(ss)},providedIn:"root"})}return C})(),ss=(()=>{class C extends yi{constructor(D){super(),this.title=D}updateTitle(D){const P=this.buildTitle(D);void 0!==P&&this.title.setTitle(P)}static#e=this.\u0275fac=function(P){return new(P||C)(b.LFG(Pe.Dx))};static#t=this.\u0275prov=b.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})(),Ds=(()=>{class C{static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=b.Yz7({token:C,factory:function(){return(0,b.f3M)(sc)},providedIn:"root"})}return C})();class oa{shouldDetach(x){return!1}store(x,D){}shouldAttach(x){return!1}retrieve(x){return null}shouldReuseRoute(x,D){return x.routeConfig===D.routeConfig}}let sc=(()=>{class C extends oa{static#e=this.\u0275fac=function(){let D;return function(j){return(D||(D=b.n5z(C)))(j||C)}}();static#t=this.\u0275prov=b.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const aa=new b.OlP("",{providedIn:"root",factory:()=>({})});let fu=(()=>{class C{static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=b.Yz7({token:C,factory:function(){return(0,b.f3M)(Hs)},providedIn:"root"})}return C})(),Hs=(()=>{class C{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,P){return D}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=b.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();var oc=function(C){return C[C.COMPLETE=0]="COMPLETE",C[C.FAILED=1]="FAILED",C[C.REDIRECTING=2]="REDIRECTING",C}(oc||{});function go(C,x){C.events.pipe((0,yr.h)(D=>D instanceof Ps||D instanceof bs||D instanceof jc||D instanceof ks),(0,hn.U)(D=>D instanceof Ps||D instanceof ks?oc.COMPLETE:D instanceof bs&&(0===D.code||1===D.code)?oc.REDIRECTING:oc.FAILED),(0,yr.h)(D=>D!==oc.REDIRECTING),(0,Un.q)(1)).subscribe(()=>{x()})}function fi(C){throw C}function mo(C,x,D){return x.parse("/")}const Ec={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Gs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let no=(()=>{class C{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,b.f3M)(b.c2e),this.isNgZoneEnabled=!1,this._events=new kn.x,this.options=(0,b.f3M)(aa,{optional:!0})||{},this.pendingTasks=(0,b.f3M)(b.HDt),this.errorHandler=this.options.errorHandler||fi,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||mo,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,b.f3M)(fu),this.routeReuseStrategy=(0,b.f3M)(Ds),this.titleStrategy=(0,b.f3M)(yi),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,b.f3M)(pr,{optional:!0})?.flat()??[],this.navigationTransitions=(0,b.f3M)(ps),this.urlSerializer=(0,b.f3M)(Ze),this.location=(0,b.f3M)(dt.Ye),this.componentInputBindingEnabled=!!(0,b.f3M)(mn,{optional:!0}),this.eventsSubscription=new je.w0,this.isNgZoneEnabled=(0,b.f3M)(b.R0b)instanceof b.R0b&&b.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new xn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Fa(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(D=>{this.lastSuccessfulId=D.id,this.currentPageId=this.browserPageId},D=>{this.console.warn(`Unhandled Navigation Error: ${D}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const D=this.navigationTransitions.events.subscribe(P=>{try{const{currentTransition:j}=this.navigationTransitions;if(null===j)return void(Tc(P)&&this._events.next(P));if(P instanceof ii)_i(j.source)&&(this.browserUrlTree=j.extractedUrl);else if(P instanceof ks)this.rawUrlTree=j.rawUrl;else if(P instanceof $i){if("eager"===this.urlUpdateStrategy){if(!j.extras.skipLocationChange){const se=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl);this.setBrowserUrl(se,j)}this.browserUrlTree=j.urlAfterRedirects}}else if(P instanceof Jo)this.currentUrlTree=j.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl),this.routerState=j.targetRouterState,"deferred"===this.urlUpdateStrategy&&(j.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,j),this.browserUrlTree=j.urlAfterRedirects);else if(P instanceof bs)0!==P.code&&1!==P.code&&(this.navigated=!0),(3===P.code||2===P.code)&&this.restoreHistory(j);else if(P instanceof Mo){const se=this.urlHandlingStrategy.merge(P.url,j.currentRawUrl),_e={skipLocationChange:j.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||_i(j.source)};this.scheduleNavigation(se,wa,null,_e,{resolve:j.resolve,reject:j.reject,promise:j.promise})}P instanceof jc&&this.restoreHistory(j,!0),P instanceof Ps&&(this.navigated=!0),Tc(P)&&this._events.next(P)}catch(j){this.navigationTransitions.transitionAbortSubject.next(j)}});this.eventsSubscription.add(D)}resetRootComponentType(D){this.routerState.root.component=D,this.navigationTransitions.rootComponentType=D}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const D=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),wa,D)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const P="popstate"===D.type?"popstate":"hashchange";"popstate"===P&&setTimeout(()=>{this.navigateToSyncWithBrowser(D.url,P,D.state)},0)}))}navigateToSyncWithBrowser(D,P,j){const se={replaceUrl:!0},_e=j?.navigationId?j:null;if(j){const He={...j};delete He.navigationId,delete He.\u0275routerPageId,0!==Object.keys(He).length&&(se.state=He)}const ze=this.parseUrl(D);this.scheduleNavigation(ze,P,_e,se)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(D){this.config=D.map(Ro),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(D,P={}){const{relativeTo:j,queryParams:se,fragment:_e,queryParamsHandling:ze,preserveFragment:He}=P,$t=He?this.currentUrlTree.fragment:_e;let Ar,Ln=null;switch(ze){case"merge":Ln={...this.currentUrlTree.queryParams,...se};break;case"preserve":Ln=this.currentUrlTree.queryParams;break;default:Ln=se||null}null!==Ln&&(Ln=this.removeEmptyProps(Ln));try{Ar=ys(j?j.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof D[0]||!D[0].startsWith("/"))&&(D=[]),Ar=this.currentUrlTree.root}return ts(Ar,D,Ln,$t??null)}navigateByUrl(D,P={skipLocationChange:!1}){const j=Gr(D)?D:this.parseUrl(D),se=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(se,wa,null,P)}navigate(D,P={skipLocationChange:!1}){return function _l(C){for(let x=0;x<C.length;x++)if(null==C[x])throw new b.vHH(4008,!1)}(D),this.navigateByUrl(this.createUrlTree(D,P),P)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let P;try{P=this.urlSerializer.parse(D)}catch(j){P=this.malformedUriErrorHandler(j,this.urlSerializer,D)}return P}isActive(D,P){let j;if(j=!0===P?{...Ec}:!1===P?{...Gs}:P,Gr(D))return Ir(this.currentUrlTree,D,j);const se=this.parseUrl(D);return Ir(this.currentUrlTree,se,j)}removeEmptyProps(D){return Object.keys(D).reduce((P,j)=>{const se=D[j];return null!=se&&(P[j]=se),P},{})}scheduleNavigation(D,P,j,se,_e){if(this.disposed)return Promise.resolve(!1);let ze,He,$t;_e?(ze=_e.resolve,He=_e.reject,$t=_e.promise):$t=new Promise((Ar,gr)=>{ze=Ar,He=gr});const Ln=this.pendingTasks.add();return go(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ln))}),this.navigationTransitions.handleNavigationRequest({source:P,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:D,extras:se,resolve:ze,reject:He,promise:$t,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),$t.catch(Ar=>Promise.reject(Ar))}setBrowserUrl(D,P){const j=this.urlSerializer.serialize(D);if(this.location.isCurrentPathEqualTo(j)||P.extras.replaceUrl){const _e={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId)};this.location.replaceState(j,"",_e)}else{const se={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId+1)};this.location.go(j,"",se)}}restoreHistory(D,P=!1){if("computed"===this.canceledNavigationResolution){const se=this.currentPageId-this.browserPageId;0!==se?this.location.historyGo(se):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===se&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(D,P){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:P}:{navigationId:D}}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=b.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function Tc(C){return!(C instanceof Jo||C instanceof Mo)}let Ei=(()=>{class C{constructor(D,P,j,se,_e,ze){this.router=D,this.route=P,this.tabIndexAttribute=j,this.renderer=se,this.el=_e,this.locationStrategy=ze,this.href=null,this.commands=null,this.onChanges=new kn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const He=_e.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===He||"area"===He,this.isAnchorElement?this.subscription=D.events.subscribe($t=>{$t instanceof Ps&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(D){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",D)}ngOnChanges(D){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(D,P,j,se,_e){return!!(null===this.urlTree||this.isAnchorElement&&(0!==D||P||j||se||_e||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const D=null===this.href?null:(0,b.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",D)}applyAttributeValue(D,P){const j=this.renderer,se=this.el.nativeElement;null!==P?j.setAttribute(se,D,P):j.removeAttribute(se,D)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(P){return new(P||C)(b.Y36(no),b.Y36(ur),b.$8M("tabindex"),b.Y36(b.Qsj),b.Y36(b.SBq),b.Y36(dt.S$))};static#t=this.\u0275dir=b.lG2({type:C,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(P,j){1&P&&b.NdJ("click",function(_e){return j.onClick(_e.button,_e.ctrlKey,_e.shiftKey,_e.altKey,_e.metaKey)}),2&P&&b.uIk("target",j.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",b.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",b.VuI],replaceUrl:["replaceUrl","replaceUrl",b.VuI],routerLink:"routerLink"},standalone:!0,features:[b.Xq5,b.TTD]})}return C})();class wd{}let Id=(()=>{class C{constructor(D,P,j,se,_e){this.router=D,this.injector=j,this.preloadingStrategy=se,this.loader=_e}setUpPreloading(){this.subscription=this.router.events.pipe((0,yr.h)(D=>D instanceof Ps),wt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,P){const j=[];for(const se of P){se.providers&&!se._injector&&(se._injector=(0,b.MMx)(se.providers,D,`Route: ${se.path}`));const _e=se._injector??D,ze=se._loadedInjector??_e;(se.loadChildren&&!se._loadedRoutes&&void 0===se.canLoad||se.loadComponent&&!se._loadedComponent)&&j.push(this.preloadConfig(_e,se)),(se.children||se._loadedRoutes)&&j.push(this.processRoutes(ze,se.children??se._loadedRoutes))}return(0,ue.D)(j).pipe((0,De.J)())}preloadConfig(D,P){return this.preloadingStrategy.preload(P,()=>{let j;j=P.loadChildren&&void 0===P.canLoad?this.loader.loadChildren(D,P):(0,fe.of)(null);const se=j.pipe((0,Fe.z)(_e=>null===_e?(0,fe.of)(void 0):(P._loadedRoutes=_e.routes,P._loadedInjector=_e.injector,this.processRoutes(_e.injector??D,_e.routes))));if(P.loadComponent&&!P._loadedComponent){const _e=this.loader.loadComponent(P);return(0,ue.D)([se,_e]).pipe((0,De.J)())}return se})}static#e=this.\u0275fac=function(P){return new(P||C)(b.LFG(no),b.LFG(b.Sil),b.LFG(b.lqb),b.LFG(wd),b.LFG(Kn))};static#t=this.\u0275prov=b.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const vi=new b.OlP("");let yl=(()=>{class C{constructor(D,P,j,se,_e={}){this.urlSerializer=D,this.transitions=P,this.viewportScroller=j,this.zone=se,this.options=_e,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},_e.scrollPositionRestoration=_e.scrollPositionRestoration||"disabled",_e.anchorScrolling=_e.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof ii?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof Ps?(this.lastId=D.id,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.urlAfterRedirects).fragment)):D instanceof ks&&0===D.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof Ia&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,P){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ia(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(P){b.$Z()};static#t=this.\u0275prov=b.Yz7({token:C,factory:C.\u0275fac})}return C})();function _n(C,x){return{\u0275kind:C,\u0275providers:x}}function Gl(){const C=(0,b.f3M)(b.zs3);return x=>{const D=C.get(b.z2F);if(x!==D.components[0])return;const P=C.get(no),j=C.get(jl);1===C.get(Da)&&P.initialNavigation(),C.get(gu,null,b.XFs.Optional)?.setUpPreloading(),C.get(vi,null,b.XFs.Optional)?.init(),P.resetRootComponentType(D.componentTypes[0]),j.closed||(j.next(),j.complete(),j.unsubscribe())}}const jl=new b.OlP("",{factory:()=>new kn.x}),Da=new b.OlP("",{providedIn:"root",factory:()=>1}),gu=new b.OlP("");function vl(C){return _n(0,[{provide:gu,useExisting:Id},{provide:wd,useExisting:C}])}const Qu=new b.OlP("ROUTER_FORROOT_GUARD"),bl=[dt.Ye,{provide:Ze,useClass:It},no,qr,{provide:ur,useFactory:function Yi(C){return C.routerState.root},deps:[no]},Kn,[]];function _o(){return new b.PXZ("Router",no)}let mu=(()=>{class C{constructor(D){}static forRoot(D,P){return{ngModule:C,providers:[bl,[],{provide:pr,multi:!0,useValue:D},{provide:Qu,useFactory:cc,deps:[[no,new b.FiY,new b.tp0]]},{provide:aa,useValue:P||{}},P?.useHash?{provide:dt.S$,useClass:dt.Do}:{provide:dt.S$,useClass:dt.b0},{provide:vi,useFactory:()=>{const C=(0,b.f3M)(dt.EM),x=(0,b.f3M)(b.R0b),D=(0,b.f3M)(aa),P=(0,b.f3M)(ps),j=(0,b.f3M)(Ze);return D.scrollOffset&&C.setOffset(D.scrollOffset),new yl(j,P,C,x,D)}},P?.preloadingStrategy?vl(P.preloadingStrategy).\u0275providers:[],{provide:b.PXZ,multi:!0,useFactory:_o},P?.initialNavigation?js(P):[],P?.bindToComponentInputs?_n(8,[Js,{provide:mn,useExisting:Js}]).\u0275providers:[],[{provide:yo,useFactory:Gl},{provide:b.tb,multi:!0,useExisting:yo}]]}}static forChild(D){return{ngModule:C,providers:[{provide:pr,multi:!0,useValue:D}]}}static#e=this.\u0275fac=function(P){return new(P||C)(b.LFG(Qu,8))};static#t=this.\u0275mod=b.oAB({type:C});static#n=this.\u0275inj=b.cJS({})}return C})();function cc(C){return"guarded"}function js(C){return["disabled"===C.initialNavigation?_n(3,[{provide:b.ip1,multi:!0,useFactory:()=>{const x=(0,b.f3M)(no);return()=>{x.setUpLocationChangeListener()}}},{provide:Da,useValue:2}]).\u0275providers:[],"enabledBlocking"===C.initialNavigation?_n(2,[{provide:Da,useValue:0},{provide:b.ip1,multi:!0,deps:[b.zs3],useFactory:x=>{const D=x.get(dt.V_,Promise.resolve());return()=>D.then(()=>new Promise(P=>{const j=x.get(no),se=x.get(jl);go(j,()=>{P(!0)}),x.get(ps).afterPreactivation=()=>(P(!0),se.closed?(0,fe.of)(void 0):se),j.initialNavigation()}))}}]).\u0275providers:[]]}const yo=new b.OlP("")},4303:(Vt,Ge,K)=>{K.d(Ge,{Jn:()=>vr,KN:()=>vt,Mq:()=>De,Xd:()=>Pt,ZF:()=>Br,qX:()=>Ut});var b=K(5861),re=K(4537),u=K(7879),be=K(9058),ue=K(1878);class fe{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(Ze=>{if(function Ee(nt){const Ce=nt.getComponent();return"VERSION"===Ce?.type}(Ze)){const It=Ze.getImmediate();return`${It.library}/${It.version}`}return null}).filter(Ze=>Ze).join(" ")}}const Qe="@firebase/app",ce=new u.Yd("@firebase/app"),Fe="[DEFAULT]",$e={[Qe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xe=new Map,Ue=new Map;function it(nt,Ce){try{nt.container.addComponent(Ce)}catch(Ze){ce.debug(`Component ${Ce.name} failed to register with FirebaseApp ${nt.name}`,Ze)}}function Pt(nt){const Ce=nt.name;if(Ue.has(Ce))return ce.debug(`There were multiple attempts to register component ${Ce}.`),!1;Ue.set(Ce,nt);for(const Ze of Xe.values())it(Ze,nt);return!0}function Ut(nt,Ce){const Ze=nt.container.getProvider("heartbeat").getImmediate({optional:!0});return Ze&&Ze.triggerHeartbeat(),nt.container.getProvider(Ce)}const Dt=new be.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Wn{constructor(Ce,Ze,It){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},Ze),this._name=Ze.name,this._automaticDataCollectionEnabled=Ze.automaticDataCollectionEnabled,this._container=It,this.container.addComponent(new re.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw Dt.create("app-deleted",{appName:this._name})}}const vr="10.9.0";function Br(nt,Ce={}){let Ze=nt;"object"!=typeof Ce&&(Ce={name:Ce});const It=Object.assign({name:Fe,automaticDataCollectionEnabled:!1},Ce),zt=It.name;if("string"!=typeof zt||!zt)throw Dt.create("bad-app-name",{appName:String(zt)});if(Ze||(Ze=(0,be.aH)()),!Ze)throw Dt.create("no-options");const Zt=Xe.get(zt);if(Zt){if((0,be.vZ)(Ze,Zt.options)&&(0,be.vZ)(It,Zt.config))return Zt;throw Dt.create("duplicate-app",{appName:zt})}const $n=new re.H0(zt);for(const V of Ue.values())$n.addComponent(V);const Y=new Wn(Ze,It,$n);return Xe.set(zt,Y),Y}function De(nt=Fe){const Ce=Xe.get(nt);if(!Ce&&nt===Fe&&(0,be.aH)())return Br();if(!Ce)throw Dt.create("no-app",{appName:nt});return Ce}function vt(nt,Ce,Ze){var It;let zt=null!==(It=$e[nt])&&void 0!==It?It:nt;Ze&&(zt+=`-${Ze}`);const Zt=zt.match(/\s|\//),$n=Ce.match(/\s|\//);if(Zt||$n){const Y=[`Unable to register library "${zt}" with version "${Ce}":`];return Zt&&Y.push(`library name "${zt}" contains illegal characters (whitespace or "/")`),Zt&&$n&&Y.push("and"),$n&&Y.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void ce.warn(Y.join(" "))}Pt(new re.wA(`${zt}-version`,()=>({library:zt,version:Ce}),"VERSION"))}const An="firebase-heartbeat-database",on=1,Xt="firebase-heartbeat-store";let En=null;function Jn(){return En||(En=(0,ue.X3)(An,on,{upgrade:(nt,Ce)=>{if(0===Ce)try{nt.createObjectStore(Xt)}catch(Ze){console.warn(Ze)}}}).catch(nt=>{throw Dt.create("idb-open",{originalErrorMessage:nt.message})})),En}function Cr(){return(Cr=(0,b.Z)(function*(nt){try{const Ze=(yield Jn()).transaction(Xt),It=yield Ze.objectStore(Xt).get(ar(nt));return yield Ze.done,It}catch(Ce){if(Ce instanceof be.ZR)ce.warn(Ce.message);else{const Ze=Dt.create("idb-get",{originalErrorMessage:Ce?.message});ce.warn(Ze.message)}}})).apply(this,arguments)}function Ir(nt,Ce){return yn.apply(this,arguments)}function yn(){return(yn=(0,b.Z)(function*(nt,Ce){try{const It=(yield Jn()).transaction(Xt,"readwrite");yield It.objectStore(Xt).put(Ce,ar(nt)),yield It.done}catch(Ze){if(Ze instanceof be.ZR)ce.warn(Ze.message);else{const It=Dt.create("idb-set",{originalErrorMessage:Ze?.message});ce.warn(It.message)}}})).apply(this,arguments)}function ar(nt){return`${nt.name}!${nt.options.appId}`}class jn{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const Ze=this.container.getProvider("app").getImmediate();this._storage=new Xn(Ze),this._heartbeatsCachePromise=this._storage.read().then(It=>(this._heartbeatsCache=It,It))}triggerHeartbeat(){var Ce=this;return(0,b.Z)(function*(){var Ze,It;const Zt=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),$n=ai();if((null!=(null===(Ze=Ce._heartbeatsCache)||void 0===Ze?void 0:Ze.heartbeats)||(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise,null!=(null===(It=Ce._heartbeatsCache)||void 0===It?void 0:It.heartbeats)))&&Ce._heartbeatsCache.lastSentHeartbeatDate!==$n&&!Ce._heartbeatsCache.heartbeats.some(Y=>Y.date===$n))return Ce._heartbeatsCache.heartbeats.push({date:$n,agent:Zt}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(Y=>{const V=new Date(Y.date).valueOf();return Date.now()-V<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,b.Z)(function*(){var Ze;if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null==(null===(Ze=Ce._heartbeatsCache)||void 0===Ze?void 0:Ze.heartbeats)||0===Ce._heartbeatsCache.heartbeats.length)return"";const It=ai(),{heartbeatsToSend:zt,unsentEntries:Zt}=function xn(nt,Ce=1024){const Ze=[];let It=nt.slice();for(const zt of nt){const Zt=Ze.find($n=>$n.agent===zt.agent);if(Zt){if(Zt.dates.push(zt.date),Nr(Ze)>Ce){Zt.dates.pop();break}}else if(Ze.push({agent:zt.agent,dates:[zt.date]}),Nr(Ze)>Ce){Ze.pop();break}It=It.slice(1)}return{heartbeatsToSend:Ze,unsentEntries:It}}(Ce._heartbeatsCache.heartbeats),$n=(0,be.L)(JSON.stringify({version:2,heartbeats:zt}));return Ce._heartbeatsCache.lastSentHeartbeatDate=It,Zt.length>0?(Ce._heartbeatsCache.heartbeats=Zt,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),$n})()}}function ai(){return(new Date).toISOString().substring(0,10)}class Xn{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!(0,be.hl)()&&(0,be.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,b.Z)(function*(){if(yield Ce._canUseIndexedDBPromise){const It=yield function tn(nt){return Cr.apply(this,arguments)}(Ce.app);return It?.heartbeats?It:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Ce){var Ze=this;return(0,b.Z)(function*(){var It;if(yield Ze._canUseIndexedDBPromise){const Zt=yield Ze.read();return Ir(Ze.app,{lastSentHeartbeatDate:null!==(It=Ce.lastSentHeartbeatDate)&&void 0!==It?It:Zt.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var Ze=this;return(0,b.Z)(function*(){var It;if(yield Ze._canUseIndexedDBPromise){const Zt=yield Ze.read();return Ir(Ze.app,{lastSentHeartbeatDate:null!==(It=Ce.lastSentHeartbeatDate)&&void 0!==It?It:Zt.lastSentHeartbeatDate,heartbeats:[...Zt.heartbeats,...Ce.heartbeats]})}})()}}function Nr(nt){return(0,be.L)(JSON.stringify({version:2,heartbeats:nt})).length}!function ci(nt){Pt(new re.wA("platform-logger",Ce=>new fe(Ce),"PRIVATE")),Pt(new re.wA("heartbeat",Ce=>new jn(Ce),"PRIVATE")),vt(Qe,"0.9.29",nt),vt(Qe,"0.9.29","esm2017"),vt("fire-js","")}("")},4537:(Vt,Ge,K)=>{K.d(Ge,{H0:()=>Qe,wA:()=>u});var b=K(5861),re=K(9058);class u{constructor(ce,de,Me){this.name=ce,this.instanceFactory=de,this.type=Me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ce){return this.instantiationMode=ce,this}setMultipleInstances(ce){return this.multipleInstances=ce,this}setServiceProps(ce){return this.serviceProps=ce,this}setInstanceCreatedCallback(ce){return this.onInstanceCreated=ce,this}}const be="[DEFAULT]";class ue{constructor(ce,de){this.name=ce,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ce){const de=this.normalizeInstanceIdentifier(ce);if(!this.instancesDeferred.has(de)){const Me=new re.BH;if(this.instancesDeferred.set(de,Me),this.isInitialized(de)||this.shouldAutoInitialize())try{const Se=this.getOrInitializeService({instanceIdentifier:de});Se&&Me.resolve(Se)}catch{}}return this.instancesDeferred.get(de).promise}getImmediate(ce){var de;const Me=this.normalizeInstanceIdentifier(ce?.identifier),Se=null!==(de=ce?.optional)&&void 0!==de&&de;if(!this.isInitialized(Me)&&!this.shouldAutoInitialize()){if(Se)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Me})}catch(Oe){if(Se)return null;throw Oe}}getComponent(){return this.component}setComponent(ce){if(ce.name!==this.name)throw Error(`Mismatching Component ${ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ce,this.shouldAutoInitialize()){if(function Ee(Re){return"EAGER"===Re.instantiationMode}(ce))try{this.getOrInitializeService({instanceIdentifier:be})}catch{}for(const[de,Me]of this.instancesDeferred.entries()){const Se=this.normalizeInstanceIdentifier(de);try{const Oe=this.getOrInitializeService({instanceIdentifier:Se});Me.resolve(Oe)}catch{}}}}clearInstance(ce=be){this.instancesDeferred.delete(ce),this.instancesOptions.delete(ce),this.instances.delete(ce)}delete(){var ce=this;return(0,b.Z)(function*(){const de=Array.from(ce.instances.values());yield Promise.all([...de.filter(Me=>"INTERNAL"in Me).map(Me=>Me.INTERNAL.delete()),...de.filter(Me=>"_delete"in Me).map(Me=>Me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ce=be){return this.instances.has(ce)}getOptions(ce=be){return this.instancesOptions.get(ce)||{}}initialize(ce={}){const{options:de={}}=ce,Me=this.normalizeInstanceIdentifier(ce.instanceIdentifier);if(this.isInitialized(Me))throw Error(`${this.name}(${Me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Se=this.getOrInitializeService({instanceIdentifier:Me,options:de});for(const[Oe,Ye]of this.instancesDeferred.entries())Me===this.normalizeInstanceIdentifier(Oe)&&Ye.resolve(Se);return Se}onInit(ce,de){var Me;const Se=this.normalizeInstanceIdentifier(de),Oe=null!==(Me=this.onInitCallbacks.get(Se))&&void 0!==Me?Me:new Set;Oe.add(ce),this.onInitCallbacks.set(Se,Oe);const Ye=this.instances.get(Se);return Ye&&ce(Ye,Se),()=>{Oe.delete(ce)}}invokeOnInitCallbacks(ce,de){const Me=this.onInitCallbacks.get(de);if(Me)for(const Se of Me)try{Se(ce,de)}catch{}}getOrInitializeService({instanceIdentifier:ce,options:de={}}){let Me=this.instances.get(ce);if(!Me&&this.component&&(Me=this.component.instanceFactory(this.container,{instanceIdentifier:(Re=ce,Re===be?void 0:Re),options:de}),this.instances.set(ce,Me),this.instancesOptions.set(ce,de),this.invokeOnInitCallbacks(Me,ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ce,Me)}catch{}var Re;return Me||null}normalizeInstanceIdentifier(ce=be){return this.component?this.component.multipleInstances?ce:be:ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Qe{constructor(ce){this.name=ce,this.providers=new Map}addComponent(ce){const de=this.getProvider(ce.name);if(de.isComponentSet())throw new Error(`Component ${ce.name} has already been registered with ${this.name}`);de.setComponent(ce)}addOrOverwriteComponent(ce){this.getProvider(ce.name).isComponentSet()&&this.providers.delete(ce.name),this.addComponent(ce)}getProvider(ce){if(this.providers.has(ce))return this.providers.get(ce);const de=new ue(ce,this);return this.providers.set(ce,de),de}getProviders(){return Array.from(this.providers.values())}}},7879:(Vt,Ge,K)=>{K.d(Ge,{Yd:()=>Ee,in:()=>re});const b=[];var re=function(ce){return ce[ce.DEBUG=0]="DEBUG",ce[ce.VERBOSE=1]="VERBOSE",ce[ce.INFO=2]="INFO",ce[ce.WARN=3]="WARN",ce[ce.ERROR=4]="ERROR",ce[ce.SILENT=5]="SILENT",ce}(re||{});const u={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},be=re.INFO,ue={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},fe=(ce,de,...Me)=>{if(de<ce.logLevel)return;const Se=(new Date).toISOString(),Oe=ue[de];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[Oe](`[${Se}]  ${ce.name}:`,...Me)};class Ee{constructor(de){this.name=de,this._logLevel=be,this._logHandler=fe,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in re))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?u[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...de),this._logHandler(this,re.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...de),this._logHandler(this,re.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,re.INFO,...de),this._logHandler(this,re.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,re.WARN,...de),this._logHandler(this,re.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...de),this._logHandler(this,re.ERROR,...de)}}},1878:(Vt,Ge,K)=>{K.d(Ge,{X3:()=>Mt});var b=K(5861);const re=(ve,Je)=>Je.some(mt=>ve instanceof mt);let u,be;const Ee=new WeakMap,Qe=new WeakMap,Re=new WeakMap,ce=new WeakMap,de=new WeakMap;let Oe={get(ve,Je,mt){if(ve instanceof IDBTransaction){if("done"===Je)return Qe.get(ve);if("objectStoreNames"===Je)return ve.objectStoreNames||Re.get(ve);if("store"===Je)return mt.objectStoreNames[1]?void 0:mt.objectStore(mt.objectStoreNames[0])}return Ot(ve[Je])},set:(ve,Je,mt)=>(ve[Je]=mt,!0),has:(ve,Je)=>ve instanceof IDBTransaction&&("done"===Je||"store"===Je)||Je in ve};function kt(ve){return"function"==typeof ve?function Tt(ve){return ve!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ve)?function(...Je){return ve.apply(Cn(this),Je),Ot(Ee.get(this))}:function(...Je){return Ot(ve.apply(Cn(this),Je))}:function(Je,...mt){const kn=ve.call(Cn(this),Je,...mt);return Re.set(kn,Je.sort?Je.sort():[Je]),Ot(kn)}}(ve):(ve instanceof IDBTransaction&&function Se(ve){if(Qe.has(ve))return;const Je=new Promise((mt,kn)=>{const dt=()=>{ve.removeEventListener("complete",hn),ve.removeEventListener("error",Sn),ve.removeEventListener("abort",Sn)},hn=()=>{mt(),dt()},Sn=()=>{kn(ve.error||new DOMException("AbortError","AbortError")),dt()};ve.addEventListener("complete",hn),ve.addEventListener("error",Sn),ve.addEventListener("abort",Sn)});Qe.set(ve,Je)}(ve),re(ve,function ue(){return u||(u=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ve,Oe):ve)}function Ot(ve){if(ve instanceof IDBRequest)return function Me(ve){const Je=new Promise((mt,kn)=>{const dt=()=>{ve.removeEventListener("success",hn),ve.removeEventListener("error",Sn)},hn=()=>{mt(Ot(ve.result)),dt()},Sn=()=>{kn(ve.error),dt()};ve.addEventListener("success",hn),ve.addEventListener("error",Sn)});return Je.then(mt=>{mt instanceof IDBCursor&&Ee.set(mt,ve)}).catch(()=>{}),de.set(Je,ve),Je}(ve);if(ce.has(ve))return ce.get(ve);const Je=kt(ve);return Je!==ve&&(ce.set(ve,Je),de.set(Je,ve)),Je}const Cn=ve=>de.get(ve);function Mt(ve,Je,{blocked:mt,upgrade:kn,blocking:dt,terminated:hn}={}){const Sn=indexedDB.open(ve,Je),Un=Ot(Sn);return kn&&Sn.addEventListener("upgradeneeded",or=>{kn(Ot(Sn.result),or.oldVersion,or.newVersion,Ot(Sn.transaction),or)}),mt&&Sn.addEventListener("blocked",or=>mt(or.oldVersion,or.newVersion,or)),Un.then(or=>{hn&&or.addEventListener("close",()=>hn()),dt&&or.addEventListener("versionchange",yr=>dt(yr.oldVersion,yr.newVersion,yr))}).catch(()=>{}),Un}const ot=["get","getKey","getAll","getAllKeys","count"],yt=["put","add","delete","clear"],_t=new Map;function je(ve,Je){if(!(ve instanceof IDBDatabase)||Je in ve||"string"!=typeof Je)return;if(_t.get(Je))return _t.get(Je);const mt=Je.replace(/FromIndex$/,""),kn=Je!==mt,dt=yt.includes(mt);if(!(mt in(kn?IDBIndex:IDBObjectStore).prototype)||!dt&&!ot.includes(mt))return;const hn=function(){var Sn=(0,b.Z)(function*(Un,...or){const yr=this.transaction(Un,dt?"readwrite":"readonly");let Fe=yr.store;return kn&&(Fe=Fe.index(or.shift())),(yield Promise.all([Fe[mt](...or),dt&&yr.done]))[0]});return function(or){return Sn.apply(this,arguments)}}();return _t.set(Je,hn),hn}!function Ye(ve){Oe=ve(Oe)}(ve=>({...ve,get:(Je,mt,kn)=>je(Je,mt)||ve.get(Je,mt,kn),has:(Je,mt)=>!!je(Je,mt)||ve.has(Je,mt)}))},5861:(Vt,Ge,K)=>{function b(u,be,ue,fe,Ee,Qe,Re){try{var ce=u[Qe](Re),de=ce.value}catch(Me){return void ue(Me)}ce.done?be(de):Promise.resolve(de).then(fe,Ee)}function re(u){return function(){var be=this,ue=arguments;return new Promise(function(fe,Ee){var Qe=u.apply(be,ue);function Re(de){b(Qe,fe,Ee,Re,ce,"next",de)}function ce(de){b(Qe,fe,Ee,Re,ce,"throw",de)}Re(void 0)})}}K.d(Ge,{Z:()=>re})},7582:(Vt,Ge,K)=>{function be(Fe,$e){var Xe={};for(var Ue in Fe)Object.prototype.hasOwnProperty.call(Fe,Ue)&&$e.indexOf(Ue)<0&&(Xe[Ue]=Fe[Ue]);if(null!=Fe&&"function"==typeof Object.getOwnPropertySymbols){var it=0;for(Ue=Object.getOwnPropertySymbols(Fe);it<Ue.length;it++)$e.indexOf(Ue[it])<0&&Object.prototype.propertyIsEnumerable.call(Fe,Ue[it])&&(Xe[Ue[it]]=Fe[Ue[it]])}return Xe}function Me(Fe,$e,Xe,Ue){return new(Xe||(Xe=Promise))(function(wt,Pt){function Ut(un){try{wn(Ue.next(un))}catch(Dt){Pt(Dt)}}function fn(un){try{wn(Ue.throw(un))}catch(Dt){Pt(Dt)}}function wn(un){un.done?wt(un.value):function it(wt){return wt instanceof Xe?wt:new Xe(function(Pt){Pt(wt)})}(un.value).then(Ut,fn)}wn((Ue=Ue.apply(Fe,$e||[])).next())})}function ft(Fe){return this instanceof ft?(this.v=Fe,this):new ft(Fe)}function ot(Fe,$e,Xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var it,Ue=Xe.apply(Fe,$e||[]),wt=[];return it={},Pt("next"),Pt("throw"),Pt("return"),it[Symbol.asyncIterator]=function(){return this},it;function Pt(Wn){Ue[Wn]&&(it[Wn]=function(vr){return new Promise(function(Br,De){wt.push([Wn,vr,Br,De])>1||Ut(Wn,vr)})})}function Ut(Wn,vr){try{!function fn(Wn){Wn.value instanceof ft?Promise.resolve(Wn.value.v).then(wn,un):Dt(wt[0][2],Wn)}(Ue[Wn](vr))}catch(Br){Dt(wt[0][3],Br)}}function wn(Wn){Ut("next",Wn)}function un(Wn){Ut("throw",Wn)}function Dt(Wn,vr){Wn(vr),wt.shift(),wt.length&&Ut(wt[0][0],wt[0][1])}}function _t(Fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Xe,$e=Fe[Symbol.asyncIterator];return $e?$e.call(Fe):(Fe=function Tt(Fe){var $e="function"==typeof Symbol&&Symbol.iterator,Xe=$e&&Fe[$e],Ue=0;if(Xe)return Xe.call(Fe);if(Fe&&"number"==typeof Fe.length)return{next:function(){return Fe&&Ue>=Fe.length&&(Fe=void 0),{value:Fe&&Fe[Ue++],done:!Fe}}};throw new TypeError($e?"Object is not iterable.":"Symbol.iterator is not defined.")}(Fe),Xe={},Ue("next"),Ue("throw"),Ue("return"),Xe[Symbol.asyncIterator]=function(){return this},Xe);function Ue(wt){Xe[wt]=Fe[wt]&&function(Pt){return new Promise(function(Ut,fn){!function it(wt,Pt,Ut,fn){Promise.resolve(fn).then(function(wn){wt({value:wn,done:Ut})},Pt)}(Ut,fn,(Pt=Fe[wt](Pt)).done,Pt.value)})}}}K.d(Ge,{FC:()=>ot,KL:()=>_t,_T:()=>be,mG:()=>Me,qq:()=>ft}),"function"==typeof SuppressedError&&SuppressedError}},Vt=>{var Ge=b=>Vt(Vt.s=b);Ge(2614),Ge(9653)}]);