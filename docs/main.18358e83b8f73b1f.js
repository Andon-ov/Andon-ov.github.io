"use strict";(self.webpackChunkThe_Natural_Way=self.webpackChunkThe_Natural_Way||[]).push([[179],{8726:(Gt,$e,K)=>{K.d($e,{Ot:()=>we,ZF:()=>Bt,hX:()=>et,z6:()=>de});var w=K(4097),ae=K(9468),u=K(6106);class we{constructor(ot){return ot}}class de{constructor(){return(0,w.C6)()}}const He=new ae.OlP("angularfire2._apps"),Ee={provide:we,useFactory:function Ne(mt){return mt&&1===mt.length?mt[0]:new we((0,w.Mq)())},deps:[[new ae.FiY,He]]},re={provide:de,deps:[[new ae.FiY,He]]};function le(mt){return(ot,vt)=>{const _t=ot.runOutsideAngular(()=>mt(vt));return new we(_t)}}let Se=(()=>{class mt{constructor(vt){(0,w.KN)("angularfire",u.q4.full,"core"),(0,w.KN)("angularfire",u.q4.full,"app"),(0,w.KN)("angular",ae.q4F.full,vt.toString())}}return mt.\u0275fac=function(vt){return new(vt||mt)(ae.LFG(ae.Lbi))},mt.\u0275mod=ae.oAB({type:mt}),mt.\u0275inj=ae.cJS({providers:[Ee,re]}),mt})();function et(mt,...ot){return{ngModule:Se,providers:[{provide:He,useFactory:le(mt),multi:!0,deps:[ae.R0b,ae.zs3,u.HU,...ot]}]}}const Bt=(0,u.u3)(w.ZF,!0)},3477:(Gt,$e,K)=>{K.d($e,{gg:()=>SD,ET:()=>lA,Ab:()=>uA,vr:()=>dA,hJ:()=>hA,oe:()=>fA,JU:()=>pA,QT:()=>gA,PL:()=>mA,ad:()=>_A,b9:()=>yA,Xo:()=>vA,Cm:()=>cA,IO:()=>bA,pl:()=>wA,TQ:()=>IA,r7:()=>TA,ar:()=>EA});var w=K(6106),ae=K(9468),u=K(8726),we=K(4097),de=K(5861),fe=K(229),Ne=K(7592),He=K(7582),Ee=K(7879),re=K(6820);const xn=function Bt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},xt=new fe.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ot=new Ee.Yd("@firebase/auth");function _t(n,...e){ot.logLevel<=Ee.in.ERROR&&ot.error(`Auth (${Ne.Jn}): ${n}`,...e)}function Ge(n,...e){throw Vn(n,...e)}function ve(n,...e){return Vn(n,...e)}function Vn(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return xt.create(n,...e)}function dt(n,e,...t){if(!n)throw Vn(e,...t)}function dn(n){const e="INTERNAL ASSERTION FAILED: "+n;throw _t(e),new Error(e)}function Dn(n,e){n||dn(e)}function vr(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Ye{constructor(e,t){this.shortDelay=e,this.longDelay=t,Dn(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,fe.uI)()||(0,fe.b$)()}get(){return function ke(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function ar(){return"http:"===vr()||"https:"===vr()}()||(0,fe.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class nt{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void dn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void dn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void dn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Rt=new Ye(3e4,6e4);function hn(n,e,t,i){return bn.apply(this,arguments)}function bn(){return(bn=(0,de.Z)(function*(n,e,t,i,c={}){return cn(n,c,(0,de.Z)(function*(){let p={},_={};i&&("GET"===e?_=i:p={body:JSON.stringify(i)});const E=(0,fe.xO)(Object.assign({key:n.config.apiKey},_)).slice(1),F=yield n._getAdditionalHeaders();return F["Content-Type"]="application/json",n.languageCode&&(F["X-Firebase-Locale"]=n.languageCode),nt.fetch()(kr(n,n.config.apiHost,t,E),Object.assign({method:e,headers:F,referrerPolicy:"no-referrer"},p))}))})).apply(this,arguments)}function cn(n,e,t){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,de.Z)(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},bt),e);try{const c=new De(n),p=yield Promise.race([t(),c.promise]);c.clearNetworkTimeout();const _=yield p.json();if("needConfirmation"in _)throw xe(n,"account-exists-with-different-credential",_);if(p.ok&&!("errorMessage"in _))return _;{const E=p.ok?_.errorMessage:_.error.message,[F,H]=E.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===F)throw xe(n,"credential-already-in-use",_);if("EMAIL_EXISTS"===F)throw xe(n,"email-already-in-use",_);if("USER_DISABLED"===F)throw xe(n,"user-disabled",_);const te=i[F]||F.toLowerCase().replace(/[_\s]+/g,"-");if(H)throw function Ke(n,e,t){const i=Object.assign(Object.assign({},xn()),{[e]:t});return new fe.LL("auth","Firebase",i).create(e,{appName:n.name})}(n,te,H);Ge(n,te)}}catch(c){if(c instanceof fe.ZR)throw c;Ge(n,"network-request-failed",{message:String(c)})}})).apply(this,arguments)}function kr(n,e,t,i){const c=`${e}${t}?${i}`;return n.config.emulator?function Ue(n,e){Dn(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,c):`${n.config.apiScheme}://${c}`}class De{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ve(this.auth,"network-request-failed")),Rt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xe(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const c=ve(n,e,i);return c.customData._tokenResponse=t,c}function at(){return(at=(0,de.Z)(function*(n,e){return hn(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function An(){return(An=(0,de.Z)(function*(n,e){return hn(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function sn(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function tr(){return(tr=(0,de.Z)(function*(n,e=!1){const t=(0,fe.m9)(n),i=yield t.getIdToken(e),c=Sr(i);dt(c&&c.exp&&c.auth_time&&c.iat,t.auth,"internal-error");const p="object"==typeof c.firebase?c.firebase:void 0,_=p?.sign_in_provider;return{claims:c,token:i,authTime:sn(Xt(c.auth_time)),issuedAtTime:sn(Xt(c.iat)),expirationTime:sn(Xt(c.exp)),signInProvider:_||null,signInSecondFactor:p?.sign_in_second_factor||null}})).apply(this,arguments)}function Xt(n){return 1e3*Number(n)}function Sr(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return _t("JWT malformed, contained fewer than 3 sections"),null;try{const c=(0,fe.tV)(t);return c?JSON.parse(c):(_t("Failed to decode base64 JWT payload"),null)}catch(c){return _t("Caught error parsing JWT payload as JSON",c?.toString()),null}}function mn(n,e){return dr.apply(this,arguments)}function dr(){return(dr=(0,de.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof fe.ZR&&function Jn({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class hr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const c=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,c)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout((0,de.Z)(function*(){yield t.iteration()}),i)}iteration(){var e=this;return(0,de.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class Zn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=sn(this.lastLoginAt),this.creationTime=sn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function di(n){return Rn.apply(this,arguments)}function Rn(){return Rn=(0,de.Z)(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),c=yield mn(n,function wr(n,e){return An.apply(this,arguments)}(t,{idToken:i}));dt(c?.users.length,t,"internal-error");const p=c.users[0];n._notifyReloadListener(p);const _=null!==(e=p.providerUserInfo)&&void 0!==e&&e.length?function tt(n){return n.map(e=>{var{providerId:t}=e,i=(0,He._T)(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(p.providerUserInfo):[],E=function hi(n,e){return[...n.filter(i=>!e.some(c=>c.providerId===i.providerId)),...e]}(n.providerData,_),te=!!n.isAnonymous&&!(n.email&&p.passwordHash||E?.length),pe={uid:p.localId,displayName:p.displayName||null,photoURL:p.photoUrl||null,email:p.email||null,emailVerified:p.emailVerified||!1,phoneNumber:p.phoneNumber||null,tenantId:p.tenantId||null,providerData:E,metadata:new Zn(p.createdAt,p.lastLoginAt),isAnonymous:te};Object.assign(n,pe)}),Rn.apply(this,arguments)}function Or(){return(Or=(0,de.Z)(function*(n){const e=(0,fe.m9)(n);yield di(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Ze(){return(Ze=(0,de.Z)(function*(n,e){const t=yield cn(n,{},(0,de.Z)(function*(){const i=(0,fe.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:c,apiKey:p}=n.config,_=kr(n,c,"/v1/token",`key=${p}`),E=yield n._getAdditionalHeaders();return E["Content-Type"]="application/x-www-form-urlencoded",nt.fetch()(_,{method:"POST",headers:E,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class It{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){dt(e.idToken,"internal-error"),dt(typeof e.idToken<"u","internal-error"),dt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Ir(n){const e=Sr(n);return dt(e,"internal-error"),dt(typeof e.exp<"u","internal-error"),dt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return(0,de.Z)(function*(){return dt(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return(0,de.Z)(function*(){const{accessToken:c,refreshToken:p,expiresIn:_}=yield function Ce(n,e){return Ze.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(c,p,Number(_))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:c,expirationTime:p}=t,_=new It;return i&&(dt("string"==typeof i,"internal-error",{appName:e}),_.refreshToken=i),c&&(dt("string"==typeof c,"internal-error",{appName:e}),_.accessToken=c),p&&(dt("number"==typeof p,"internal-error",{appName:e}),_.expirationTime=p),_}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new It,this.toJSON())}_performRefresh(){return dn("not implemented")}}function qt(n,e){dt("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Zt{constructor(e){var{uid:t,auth:i,stsTokenManager:c}=e,p=(0,He._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=c,this.accessToken=c.accessToken,this.displayName=p.displayName||null,this.email=p.email||null,this.emailVerified=p.emailVerified||!1,this.phoneNumber=p.phoneNumber||null,this.photoURL=p.photoURL||null,this.isAnonymous=p.isAnonymous||!1,this.tenantId=p.tenantId||null,this.providerData=p.providerData?[...p.providerData]:[],this.metadata=new Zn(p.createdAt||void 0,p.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,de.Z)(function*(){const i=yield mn(t,t.stsTokenManager.getToken(t.auth,e));return dt(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function In(n){return tr.apply(this,arguments)}(this,e)}reload(){return function nr(n){return Or.apply(this,arguments)}(this)}_assign(e){this!==e&&(dt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return(0,de.Z)(function*(){let c=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),c=!0),t&&(yield di(i)),yield i.auth._persistUserIfCurrent(i),c&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return(0,de.Z)(function*(){const t=yield e.getIdToken();return yield mn(e,function Re(n,e){return at.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,c,p,_,E,F,H,te;const pe=null!==(i=t.displayName)&&void 0!==i?i:void 0,Be=null!==(c=t.email)&&void 0!==c?c:void 0,lt=null!==(p=t.phoneNumber)&&void 0!==p?p:void 0,kt=null!==(_=t.photoURL)&&void 0!==_?_:void 0,rn=null!==(E=t.tenantId)&&void 0!==E?E:void 0,an=null!==(F=t._redirectEventId)&&void 0!==F?F:void 0,Cr=null!==(H=t.createdAt)&&void 0!==H?H:void 0,ei=null!==(te=t.lastLoginAt)&&void 0!==te?te:void 0,{uid:Pr,emailVerified:Yo,isAnonymous:Do,providerData:Zi,stsTokenManager:Uc}=t;dt(Pr&&Uc,e,"internal-error");const hg=It.fromJSON(this.name,Uc);dt("string"==typeof Pr,e,"internal-error"),qt(pe,e.name),qt(Be,e.name),dt("boolean"==typeof Yo,e,"internal-error"),dt("boolean"==typeof Do,e,"internal-error"),qt(lt,e.name),qt(kt,e.name),qt(rn,e.name),qt(an,e.name),qt(Cr,e.name),qt(ei,e.name);const J1=new Zt({uid:Pr,auth:e,email:Be,emailVerified:Yo,displayName:pe,isAnonymous:Do,photoURL:kt,phoneNumber:lt,tenantId:rn,stsTokenManager:hg,createdAt:Cr,lastLoginAt:ei});return Zi&&Array.isArray(Zi)&&(J1.providerData=Zi.map(DA=>Object.assign({},DA))),an&&(J1._redirectEventId=an),J1}static _fromIdTokenResponse(e,t,i=!1){return(0,de.Z)(function*(){const c=new It;c.updateFromServerResponse(t);const p=new Zt({uid:t.localId,auth:e,stsTokenManager:c,isAnonymous:i});return yield di(p),p})()}}const zn=new Map;function Y(n){Dn(n instanceof Function,"Expected a class definition");let e=zn.get(n);return e?(Dn(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,zn.set(n,e),e)}const G=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,de.Z)(function*(){return!0})()}_set(t,i){var c=this;return(0,de.Z)(function*(){c.storage[t]=i})()}_get(t){var i=this;return(0,de.Z)(function*(){const c=i.storage[t];return void 0===c?null:c})()}_remove(t){var i=this;return(0,de.Z)(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function W(n,e,t){return`firebase:${n}:${e}:${t}`}class ${constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:c,name:p}=this.auth;this.fullUserKey=W(this.userKey,c.apiKey,p),this.fullPersistenceKey=W("persistence",c.apiKey,p),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,de.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Zt._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,de.Z)(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return(0,de.Z)(function*(){if(!t.length)return new $(Y(G),e,i);const c=(yield Promise.all(t.map(function(){var H=(0,de.Z)(function*(te){if(yield te._isAvailable())return te});return function(te){return H.apply(this,arguments)}}()))).filter(H=>H);let p=c[0]||Y(G);const _=W(i,e.config.apiKey,e.name);let E=null;for(const H of t)try{const te=yield H._get(_);if(te){const pe=Zt._fromJSON(e,te);H!==p&&(E=pe),p=H;break}}catch{}const F=c.filter(H=>H._shouldAllowMigration);return p._shouldAllowMigration&&F.length?(p=F[0],E&&(yield p._set(_,E.toJSON())),yield Promise.all(t.map(function(){var H=(0,de.Z)(function*(te){if(te!==p)try{yield te._remove(_)}catch{}});return function(te){return H.apply(this,arguments)}}())),new $(p,e,i)):new $(p,e,i)})()}}function be(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function ln(n=(0,fe.z$)()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function We(n=(0,fe.z$)()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function Kt(n=(0,fe.z$)()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function Fn(n=(0,fe.z$)()){return/webos/i.test(n)}(e))return"Webos";if(function Tt(n=(0,fe.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function tn(n=(0,fe.z$)()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function pn(n=(0,fe.z$)()){return/android/i.test(n)}(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function xa(n,e=[]){let t;switch(n){case"Browser":t=be((0,fe.z$)());break;case"Worker":t=`${be((0,fe.z$)())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ne.Jn}/${i}`}function _a(n,e){return vs.apply(this,arguments)}function vs(){return(vs=(0,de.Z)(function*(n,e){return hn(n,"GET","/v2/recaptchaConfig",function jt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}(n,e))})).apply(this,arguments)}function sr(n){return void 0!==n&&void 0!==n.enterprise}class bs{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}class Ks{constructor(e){this.type="recaptcha-enterprise",this.auth=fi(e)}verify(e="verify",t=!1){var i=this;return(0,de.Z)(function*(){function p(){return p=(0,de.Z)(function*(E){if(!t){if(null==E.tenantId&&null!=E._agentRecaptchaConfig)return E._agentRecaptchaConfig.siteKey;if(null!=E.tenantId&&void 0!==E._tenantRecaptchaConfigs[E.tenantId])return E._tenantRecaptchaConfigs[E.tenantId].siteKey}return new Promise(function(){var F=(0,de.Z)(function*(H,te){_a(E,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(pe=>{if(void 0!==pe.recaptchaKey){const Be=new bs(pe);return null==E.tenantId?E._agentRecaptchaConfig=Be:E._tenantRecaptchaConfigs[E.tenantId]=Be,H(Be.siteKey)}te(new Error("recaptcha Enterprise site key undefined"))}).catch(pe=>{te(pe)})});return function(H,te){return F.apply(this,arguments)}}())}),p.apply(this,arguments)}function _(E,F,H){const te=window.grecaptcha;sr(te)?te.enterprise.ready(()=>{te.enterprise.execute(E,{action:e}).then(pe=>{F(pe)}).catch(()=>{F("NO_RECAPTCHA")})}):H(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((E,F)=>{(function c(E){return p.apply(this,arguments)})(i.auth).then(H=>{if(!t&&sr(window.grecaptcha))_(H,E,F);else{if(typeof window>"u")return void F(new Error("RecaptchaVerifier is only supported in browser"));(function So(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=c=>{const p=ve("internal-error");p.customData=c,t(p)},i.type="text/javascript",i.charset="UTF-8",function co(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})})("https://www.google.com/recaptcha/enterprise.js?render="+H).then(()=>{_(H,E,F)}).catch(te=>{F(te)})}}).catch(H=>{F(H)})})})()}}class os{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=p=>new Promise((_,E)=>{try{_(e(p))}catch(F){E(F)}});i.onAbort=t,this.queue.push(i);const c=this.queue.length-1;return()=>{this.queue[c]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,de.Z)(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const c of t.queue)yield c(e),c.onAbort&&i.push(c.onAbort)}catch(c){i.reverse();for(const p of i)try{p()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:c?.message})}})()}}class Xa{constructor(e,t,i,c){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=c,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ra(this),this.idTokenSubscription=new Ra(this),this.beforeStateQueue=new os(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=c.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=Y(t)),this._initializationPromise=this.queue((0,de.Z)(function*(){var c,p;if(!i._deleted&&(i.persistenceManager=yield $.create(i,e),!i._deleted)){if(null!==(c=i._popupRedirectResolver)&&void 0!==c&&c._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(p=i.currentUser)||void 0===p?void 0:p.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,de.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,de.Z)(function*(){var i;const c=yield t.assertedPersistence.getCurrentUser();let p=c,_=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const E=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,F=p?._redirectEventId,H=yield t.tryRedirectSignIn(e);(!E||E===F)&&H?.user&&(p=H.user,_=!0)}if(!p)return t.directlySetCurrentUser(null);if(!p._redirectEventId){if(_)try{yield t.beforeStateQueue.runMiddleware(p)}catch(E){p=c,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(E))}return p?t.reloadAndSetCurrentUserOrClear(p):t.directlySetCurrentUser(null)}return dt(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===p._redirectEventId?t.directlySetCurrentUser(p):t.reloadAndSetCurrentUserOrClear(p)})()}tryRedirectSignIn(e){var t=this;return(0,de.Z)(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,de.Z)(function*(){try{yield di(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function je(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,de.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,de.Z)(function*(){const i=e?(0,fe.m9)(e):null;return i&&dt(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return(0,de.Z)(function*(){if(!i._deleted)return e&&dt(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue((0,de.Z)(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,de.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,de.Z)(function*(){yield t.assertedPersistence.setPersistence(Y(e))}))}initializeRecaptchaConfig(){var e=this;return(0,de.Z)(function*(){const t=yield _a(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new bs(t);null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.emailPasswordEnabled&&new Ks(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fe.LL("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return(0,de.Z)(function*(){const c=yield i.getOrInitRedirectPersistenceManager(t);return null===e?c.removeCurrentUser():c.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,de.Z)(function*(){if(!t.redirectPersistenceManager){const i=e&&Y(e)||t._popupRedirectResolver;dt(i,t,"argument-error"),t.redirectPersistenceManager=yield $.create(t,[Y(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,de.Z)(function*(){var i,c;return t._isInitialized&&(yield t.queue((0,de.Z)(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(c=t.redirectUser)||void 0===c?void 0:c._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,de.Z)(function*(){if(e===t.currentUser)return t.queue((0,de.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,c){if(this._deleted)return()=>{};const p="function"==typeof t?t:t.next.bind(t),_=this._isInitialized?Promise.resolve():this._initializationPromise;return dt(_,this,"internal-error"),_.then(()=>p(this.currentUser)),"function"==typeof t?e.addObserver(t,i,c):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,de.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,de.Z)(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const c=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();c&&(i["X-Firebase-Client"]=c);const p=yield e._getAppCheckToken();return p&&(i["X-Firebase-AppCheck"]=p),i})()}_getAppCheckToken(){var e=this;return(0,de.Z)(function*(){var t;const i=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return i?.error&&function vt(n,...e){ot.logLevel<=Ee.in.WARN&&ot.warn(`Auth (${Ne.Jn}): ${n}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function fi(n){return(0,fe.m9)(n)}class Ra{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,fe.ne)(t=>this.observer=t)}get next(){return dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function Jo(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new Ye(3e4,6e4),new Ye(2e3,1e4),new Ye(3e4,6e4),new Ye(5e3,15e3),encodeURIComponent("fac");var a_="@firebase/auth";class c_{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,de.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,fe.Pz)("authIdTokenMaxAge"),function Ca(n){(0,Ne.Xd)(new re.wA("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),c=e.getProvider("heartbeat"),p=e.getProvider("app-check-internal"),{apiKey:_,authDomain:E}=i.options;dt(_&&!_.includes(":"),"invalid-api-key",{appName:i.name});const F={apiKey:_,authDomain:E,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xa(n)},H=new Xa(i,c,p,F);return function Xo(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Y);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}(H,t),H},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),(0,Ne.Xd)(new re.wA("auth-internal",e=>{const t=fi(e.getProvider("auth").getImmediate());return new c_(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ne.KN)(a_,"0.23.2",function l_(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,Ne.KN)(a_,"0.23.2","esm2017")}("Browser");class _g{constructor(){return(0,w.vb)("auth")}}const __=new Map,y_={activated:!1,tokenObservers:[]},sb={initialized:!1,enabled:!1};function Os(n){return __.get(n)||Object.assign({},y_)}function $h(){return sb}const Cg="https://content-firebaseappcheck.googleapis.com/v1",ip="exchangeDebugToken",zh={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ob{constructor(e,t,i,c,p){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=c,this.upperBound=p,this.pending=null,this.nextErrorWaitInterval=c,c>p)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,de.Z)(function*(){t.stop();try{t.pending=new fe.BH,yield function od(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new fe.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const so=new fe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ag(n){if(!Os(n).activated)throw so.create("use-before-activation",{appName:n.name})}function ii(n,e){return sp.apply(this,arguments)}function sp(){return(sp=(0,de.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const pe=yield c.getHeartbeatsHeader();pe&&(i["X-Firebase-Client"]=pe)}const p={method:"POST",body:JSON.stringify(e),headers:i};let _,E;try{_=yield fetch(n,p)}catch(pe){throw so.create("fetch-network-error",{originalErrorMessage:pe?.message})}if(200!==_.status)throw so.create("fetch-status-error",{httpStatus:_.status});try{E=yield _.json()}catch(pe){throw so.create("fetch-parse-error",{originalErrorMessage:pe?.message})}const F=E.ttl.match(/^([\d.]+)(s)$/);if(!F||!F[2]||isNaN(Number(F[1])))throw so.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${E.ttl}`});const H=1e3*Number(F[1]),te=Date.now();return{token:E.token,expireTimeMillis:te+H,issuedAtTimeMillis:te}})).apply(this,arguments)}function Og(n,e){const{projectId:t,appId:i,apiKey:c}=n.options;return{url:`${Cg}/projects/${t}/apps/${i}:${ip}?key=${c}`,body:{debug_token:e}}}const cb="firebase-app-check-database",w_=1,Kd="firebase-app-check-store";let Qc=null;function Mg(){return(Mg=(0,de.Z)(function*(n,e){const i=(yield function Wh(){return Qc||(Qc=new Promise((n,e)=>{try{const t=indexedDB.open(cb,w_);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var c;e(so.create("storage-open",{originalErrorMessage:null===(c=i.target.error)||void 0===c?void 0:c.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Kd,{keyPath:"compositeKey"})}}catch(t){e(so.create("storage-open",{originalErrorMessage:t?.message}))}}),Qc)}()).transaction(Kd,"readwrite"),p=i.objectStore(Kd).put({compositeKey:n,value:e});return new Promise((_,E)=>{p.onsuccess=F=>{_()},i.onerror=F=>{var H;E(so.create("storage-set",{originalErrorMessage:null===(H=F.target.error)||void 0===H?void 0:H.message}))}})})).apply(this,arguments)}const qh=new Ee.Yd("@firebase/app-check");function up(n,e){return(0,fe.hl)()?function I_(n,e){return function T_(n,e){return Mg.apply(this,arguments)}(function vv(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{qh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function dp(){return $h().enabled}function hp(){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,de.Z)(function*(){const n=$h();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const S_={error:"UNKNOWN_ERROR"};function bv(n){return fe.US.encodeString(JSON.stringify(n),!1)}function A_(n){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,de.Z)(function*(n,e=!1){const t=n.app;Ag(t);const i=Os(t);let p,c=i.token;if(c&&!Nu(c)&&(i.token=void 0,c=void 0),!c){const F=yield i.cachedTokenPromise;F&&(Nu(F)?c=F:yield up(t,void 0))}if(!e&&c&&Nu(c))return{token:c.token};let E,_=!1;if(dp()){i.exchangeTokenPromise||(i.exchangeTokenPromise=ii(Og(t,yield hp()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),_=!0);const F=yield i.exchangeTokenPromise;return yield up(t,F),i.token=F,{token:F.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),_=!0),c=yield Os(t).exchangeTokenPromise}catch(F){"appCheck/throttled"===F.code?qh.warn(F.message):qh.error(F),p=F}return c?p?E=Nu(c)?{token:c.token,internalError:p}:Iv(p):(E={token:c.token},i.token=c,yield up(t,c)):E=Iv(p),_&&function Pg(n,e){const t=Os(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,E),E})).apply(this,arguments)}function wv(n){return Rg.apply(this,arguments)}function Rg(){return(Rg=(0,de.Z)(function*(n){const e=n.app;Ag(e);const{provider:t}=Os(e);if(dp()){const i=yield hp(),{token:c}=yield ii(Og(e,i),n.heartbeatServiceProvider);return{token:c}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function O_(n,e){const t=Os(n),i=t.tokenObservers.filter(c=>c.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function M_(n){const{app:e}=n,t=Os(e);let i=t.tokenRefresher;i||(i=function ub(n){const{app:e}=n;return new ob((0,de.Z)(function*(){let i;if(i=Os(e).token?yield A_(n,!0):yield A_(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Os(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},zh.RETRIAL_MIN_WAIT,zh.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Nu(n){return n.expireTimeMillis-Date.now()>0}function Iv(n){return{token:bv(S_),error:n}}class Tv{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Os(this.app);for(const t of e)O_(this.app,t.next);return Promise.resolve()}}const Ov="app-check-internal";!function pb(){(0,Ne.Xd)(new re.wA("app-check",n=>function x_(n,e){return new Tv(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Ov).initialize()})),(0,Ne.Xd)(new re.wA(Ov,n=>function db(n){return{getToken:e=>A_(n,e),getLimitedUseToken:()=>wv(n),addTokenListener:e=>function N_(n,e,t,i){const{app:c}=n,p=Os(c);if(p.tokenObservers=[...p.tokenObservers,{next:t,error:i,type:e}],p.token&&Nu(p.token)){const E=p.token;Promise.resolve().then(()=>{t({token:E.token}),M_(n)}).catch(()=>{})}p.cachedTokenPromise.then(()=>M_(n))}(n,"INTERNAL",e),removeTokenListener:e=>O_(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ne.KN)("@firebase/app-check","0.8.0")}();class ac{constructor(){return(0,w.vb)("app-check")}}typeof window<"u"&&window;var nn,mb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yl={},_b=_b||{},_r=mb||self;function xv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function cd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var yb="closure_uid_"+(1e9*Math.random()>>>0),vb=0;function U_(n,e,t){return n.call.apply(n.bind,arguments)}function Bg(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,i),n.apply(e,c)}}return function(){return n.apply(e,arguments)}}function Sa(n,e,t){return(Sa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?U_:Bg).apply(null,arguments)}function th(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function ha(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,c,p){for(var _=Array(arguments.length-2),E=2;E<arguments.length;E++)_[E-2]=arguments[E];return e.prototype[c].apply(i,_)}}function Kl(){this.s=this.s,this.o=this.o}Kl.prototype.s=!1,Kl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function B_(n){Object.prototype.hasOwnProperty.call(n,yb)&&n[yb]||(n[yb]=++vb)}(this)},Kl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Rv=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function _p(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function V_(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(xv(i)){const c=n.length||0,p=i.length||0;n.length=c+p;for(let _=0;_<p;_++)n[c+_]=i[_]}else n.push(i)}}function Ms(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ms.prototype.h=function(){this.defaultPrevented=!0};var bb=function(){if(!_r.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{_r.addEventListener("test",()=>{},e),_r.removeEventListener("test",()=>{},e)}catch{}return n}();function yp(n){return/^[\s\xa0]*$/.test(n)}function ld(){var n=_r.navigator;return n&&(n=n.userAgent)?n:""}function Jc(n){return-1!=ld().indexOf(n)}function H_(n){return H_[" "](n),n}H_[" "]=function(){};var Vg,n,Ib=Jc("Opera"),Qh=Jc("Trident")||Jc("MSIE"),Ug=Jc("Edge"),Pv=Ug||Qh,kv=Jc("Gecko")&&!(-1!=ld().toLowerCase().indexOf("webkit")&&!Jc("Edge"))&&!(Jc("Trident")||Jc("MSIE"))&&!Jc("Edge"),vp=-1!=ld().toLowerCase().indexOf("webkit")&&!Jc("Edge");function nh(){var n=_r.document;return n?n.documentMode:void 0}e:{var ud="",Ql=(n=ld(),kv?/rv:([^\);]+)(\)|;)/.exec(n):Ug?/Edge\/([\d\.]+)/.exec(n):Qh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):vp?/WebKit\/(\S+)/.exec(n):Ib?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Ql&&(ud=Ql?Ql[1]:""),Qh){var rh=nh();if(null!=rh&&rh>parseFloat(ud)){Vg=String(rh);break e}}Vg=ud}var Fv=_r.document&&Qh&&(nh()||parseInt(Vg,10))||void 0;function dd(n,e){if(Ms.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(kv){e:{try{H_(e.nodeName);var c=!0;break e}catch{}c=!1}c||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Lv[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&dd.$.h.call(this)}}ha(dd,Ms);var Lv={2:"touch",3:"pen",4:"mouse"};dd.prototype.h=function(){dd.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Jh="closure_listenable_"+(1e6*Math.random()|0),tT=0;function Hg(n,e,t,i,c){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=c,this.key=++tT,this.fa=this.ia=!1}function bp(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function wp(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function $_(n){const e={};for(const t in n)e[t]=n[t];return e}const Ip="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xh(n,e){let t,i;for(let c=1;c<arguments.length;c++){for(t in i=arguments[c],i)n[t]=i[t];for(let p=0;p<Ip.length;p++)t=Ip[p],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Tp(n){this.src=n,this.g={},this.h=0}function ef(n,e){var t=e.type;if(t in n.g){var p,i=n.g[t],c=Rv(i,e);(p=0<=c)&&Array.prototype.splice.call(i,c,1),p&&(bp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Ep(n,e,t,i){for(var c=0;c<n.length;++c){var p=n[c];if(!p.fa&&p.listener==e&&p.capture==!!t&&p.la==i)return c}return-1}Tp.prototype.add=function(n,e,t,i,c){var p=n.toString();(n=this.g[p])||(n=this.g[p]=[],this.h++);var _=Ep(n,e,i,c);return-1<_?(e=n[_],t||(e.ia=!1)):((e=new Hg(e,this.src,p,!!i,c)).ia=t,n.push(e)),e};var vl="closure_lm_"+(1e6*Math.random()|0),Mu={};function Gg(n,e,t,i,c){if(i&&i.once)return Uv(n,e,t,i,c);if(Array.isArray(e)){for(var p=0;p<e.length;p++)Gg(n,e[p],t,i,c);return null}return t=$g(t),n&&n[Jh]?n.O(e,t,cd(i)?!!i.capture:!!i,c):Bv(n,e,t,!1,i,c)}function Bv(n,e,t,i,c,p){if(!e)throw Error("Invalid event type");var _=cd(c)?!!c.capture:!!c,E=jg(n);if(E||(n[vl]=E=new Tp(n)),(t=E.add(e,t,i,_,p)).proxy)return t;if(i=function nT(){const e=Hv;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)bb||(c=_),void 0===c&&(c=!1),n.addEventListener(e.toString(),i,c);else if(n.attachEvent)n.attachEvent(Tb(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function Uv(n,e,t,i,c){if(Array.isArray(e)){for(var p=0;p<e.length;p++)Uv(n,e[p],t,i,c);return null}return t=$g(t),n&&n[Jh]?n.P(e,t,cd(i)?!!i.capture:!!i,c):Bv(n,e,t,!0,i,c)}function tf(n,e,t,i,c){if(Array.isArray(e))for(var p=0;p<e.length;p++)tf(n,e[p],t,i,c);else i=cd(i)?!!i.capture:!!i,t=$g(t),n&&n[Jh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Ep(p=n.g[e],t,i,c))&&(bp(p[t]),Array.prototype.splice.call(p,t,1),0==p.length&&(delete n.g[e],n.h--))):n&&(n=jg(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Ep(e,t,i,c)),(t=-1<n?e[n]:null)&&Vv(t))}function Vv(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Jh])ef(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Tb(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=jg(e))?(ef(t,n),0==t.h&&(t.src=null,e[vl]=null)):bp(n)}}}function Tb(n){return n in Mu?Mu[n]:Mu[n]="on"+n}function Hv(n,e){if(n.fa)n=!0;else{e=new dd(e,this);var t=n.listener,i=n.la||n.src;n.ia&&Vv(n),n=t.call(i,e)}return n}function jg(n){return(n=n[vl])instanceof Tp?n:null}var z_="__closure_events_fn_"+(1e9*Math.random()>>>0);function $g(n){return"function"==typeof n?n:(n[z_]||(n[z_]=function(e){return n.handleEvent(e)}),n[z_])}function jo(){Kl.call(this),this.i=new Tp(this),this.S=this,this.J=null}function $o(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Ms(e,n);else if(e instanceof Ms)e.target=e.target||n;else{var c=e;Xh(e=new Ms(i,n),c)}if(c=!0,t)for(var p=t.length-1;0<=p;p--){var _=e.g=t[p];c=zg(_,i,!0,e)&&c}if(c=zg(_=e.g=n,i,!0,e)&&c,c=zg(_,i,!1,e)&&c,t)for(p=0;p<t.length;p++)c=zg(_=e.g=t[p],i,!1,e)&&c}function zg(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,p=0;p<e.length;++p){var _=e[p];if(_&&!_.fa&&_.capture==t){var E=_.listener,F=_.la||_.src;_.ia&&ef(n.i,_),c=!1!==E.call(F,i)&&c}}return c&&!i.defaultPrevented}ha(jo,Kl),jo.prototype[Jh]=!0,jo.prototype.removeEventListener=function(n,e,t,i){tf(this,n,e,t,i)},jo.prototype.N=function(){if(jo.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)bp(t[i]);delete n.g[e],n.h--}}this.J=null},jo.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},jo.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var W_=_r.JSON.stringify;function rT(){var n=rf;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var iT=new class Eb{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new q_,n=>n.reset());class q_{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function sT(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Gv(n){_r.setTimeout(()=>{throw n},0)}let nf,xu=!1,rf=new class MD{constructor(){this.h=this.g=null}add(e,t){const i=iT.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},Z_=()=>{const n=_r.Promise.resolve(void 0);nf=()=>{n.then(Wg)}};var Wg=()=>{for(var n;n=rT();){try{n.h.call(n.g)}catch(t){Gv(t)}var e=iT;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}xu=!1};function sf(n,e){jo.call(this),this.h=n||1,this.g=e||_r,this.j=Sa(this.qb,this),this.l=Date.now()}function ih(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Dp(n,e,t){if("function"==typeof n)t&&(n=Sa(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Sa(n.handleEvent,n)}return 2147483647<Number(e)?-1:_r.setTimeout(n,e||0)}function K_(n){n.g=Dp(()=>{n.g=null,n.i&&(n.i=!1,K_(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ha(sf,jo),(nn=sf.prototype).ga=!1,nn.T=null,nn.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),$o(this,"tick"),this.ga&&(ih(this),this.start()))}},nn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nn.N=function(){sf.$.N.call(this),ih(this),delete this.g};class Y_ extends Kl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:K_(this)}N(){super.N(),this.g&&(_r.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qg(n){Kl.call(this),this.h=n,this.g={}}ha(qg,Kl);var Q_=[];function Cp(n,e,t,i){Array.isArray(t)||(t&&(Q_[0]=t.toString()),t=Q_);for(var c=0;c<t.length;c++){var p=Gg(e,t[c],i||n.handleEvent,!1,n.h||n);if(!p)break;n.g[p.key]=p}}function J_(n){wp(n.g,function(e,t){this.g.hasOwnProperty(t)&&Vv(e)},n),n.g={}}function Zg(){this.g=!0}function sh(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function jv(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var c=i[1];if(Array.isArray(c)&&!(1>c.length)){var p=c[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var _=1;_<c.length;_++)c[_]=""}}}return W_(t)}catch{return e}}(n,t)+(i?" "+i:"")})}qg.prototype.N=function(){qg.$.N.call(this),J_(this)},qg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zg.prototype.Ea=function(){this.g=!1},Zg.prototype.info=function(){};var af={},cT=null;function X_(){return cT=cT||new jo}function Kg(n){Ms.call(this,af.Ta,n)}function fd(n){const e=X_();$o(e,new Kg(e))}function Cb(n,e){Ms.call(this,af.STAT_EVENT,n),this.stat=e}function za(n){const e=X_();$o(e,new Cb(e,n))}function ey(n,e){Ms.call(this,af.Ua,n),this.size=e}function oh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return _r.setTimeout(function(){n()},e)}af.Ta="serverreachability",ha(Kg,Ms),af.STAT_EVENT="statevent",ha(Cb,Ms),af.Ua="timingevent",ha(ey,Ms);var Yg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},$v={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function zv(){}function lT(){}zv.prototype.h=null;var pd,cf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Sp(){Ms.call(this,"d")}function qv(){Ms.call(this,"c")}function ah(){}function Qg(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new qg(this),this.P=uT,this.V=new sf(n=Pv?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Zv}function Zv(){this.i=null,this.g="",this.h=!1}ha(Sp,Ms),ha(qv,Ms),ha(ah,zv),ah.prototype.g=function(){return new XMLHttpRequest},ah.prototype.i=function(){return{}},pd=new ah;var uT=45e3,Kv={},Ap={};function Jg(n,e,t){n.L=1,n.v=nm(Jl(e)),n.s=t,n.S=!0,ty(n,null)}function ty(n,e){n.G=Date.now(),lf(n),n.A=Jl(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),rm(t.i,"t",i),n.C=0,t=n.l.J,n.h=new Zv,n.g=a0(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Y_(Sa(n.Pa,n,n.g),n.O)),Cp(n.U,n.g,"readystatechange",n.nb),e=n.I?$_(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),fd(),function oT(n,e,t,i,c,p){n.info(function(){if(n.g)if(p)for(var _="",E=p.split("&"),F=0;F<E.length;F++){var H=E[F].split("=");if(1<H.length){var te=H[0];H=H[1];var pe=te.split("_");_=2<=pe.length&&"type"==pe[1]?_+(te+"=")+H+"&":_+(te+"=redacted&")}}else _=null;else _=p;return"XMLHTTP REQ ("+i+") [attempt "+c+"]: "+e+"\n"+t+"\n"+_})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Xg(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function dT(n,e,t){let c,i=!0;for(;!n.J&&n.C<t.length;){if(c=Np(n,t),c==Ap){4==e&&(n.o=4,za(14),i=!1),sh(n.j,n.m,null,"[Incomplete Response]");break}if(c==Kv){n.o=4,za(15),sh(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}sh(n.j,n.m,c,null),tm(n,c)}Xg(n)&&c!=Ap&&c!=Kv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,za(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),vd(e),e.M=!0,za(11))):(sh(n.j,n.m,t,"[Invalid Chunked Response]"),ch(n),uf(n))}function Np(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Ap:(t=Number(e.substring(t,i)),isNaN(t)?Kv:(i+=1)+t>e.length?Ap:(e=e.slice(i,i+t),n.C=i+t,e))}function lf(n){n.Y=Date.now()+n.P,Yv(n,n.P)}function Yv(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=oh(Sa(n.lb,n),e)}function em(n){n.B&&(_r.clearTimeout(n.B),n.B=null)}function uf(n){0==n.l.H||n.J||o0(n.l,n)}function ch(n){em(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,ih(n.V),J_(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function tm(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Rp(t.i,n)))if(!n.K&&Rp(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var c=i;if(0==c[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;bd(t),gf(t)}yd(t),za(18)}}else t.Fa=c[1],0<t.Fa-t.V&&37500>c[2]&&t.G&&0==t.A&&!t.v&&(t.v=oh(Sa(t.ib,t),6e3));if(1>=im(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else ph(t,11)}else if((n.K||t.g==n)&&bd(t),!yp(e))for(c=t.Ja.g.parse(e),e=0;e<c.length;e++){let H=c[e];if(t.V=H[0],H=H[1],2==t.H)if("c"==H[0]){t.K=H[1],t.pa=H[2];const te=H[3];null!=te&&(t.ra=te,t.l.info("VER="+t.ra));const pe=H[4];null!=pe&&(t.Ga=pe,t.l.info("SVER="+t.Ga));const Be=H[5];null!=Be&&"number"==typeof Be&&0<Be&&(t.L=i=1.5*Be,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const lt=n.g;if(lt){const kt=lt.g?lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kt){var p=i.i;p.g||-1==kt.indexOf("spdy")&&-1==kt.indexOf("quic")&&-1==kt.indexOf("h2")||(p.j=p.l,p.g=new Set,p.h&&(hf(p,p.h),p.h=null))}if(i.F){const rn=lt.g?lt.g.getResponseHeader("X-HTTP-Session-Id"):null;rn&&(i.Da=rn,wi(i.I,i.F,rn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var _=n;if((i=t).wa=ly(i,i.J?i.pa:null,i.Y),_.K){ku(i.i,_);var E=_,F=i.L;F&&E.setTimeout(F),E.B&&(em(E),lf(E)),i.g=_}else fh(i);0<t.j.length&&lc(t)}else"stop"!=H[0]&&"close"!=H[0]||ph(t,7);else 3==t.H&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?ph(t,7):lm(t):"noop"!=H[0]&&t.h&&t.h.Aa(H),t.A=0)}fd()}catch{}}function Nb(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(xv(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Ab(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(xv(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Sb(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(xv(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),c=i.length,p=0;p<c;p++)e.call(void 0,i[p],t&&t[p],n)}(nn=Qg.prototype).setTimeout=function(n){this.P=n},nn.nb=function(n){n=n.target;const e=this.M;e&&3==Wa(n)?e.l():this.Pa(n)},nn.Pa=function(n){try{if(n==this.g)e:{const te=Wa(this.g);var e=this.g.Ia();if(this.g.da(),!(3>te)&&(3!=te||Pv||this.g&&(this.h.h||this.g.ja()||Il(this.g)))){this.J||4!=te||7==e||fd(),em(this);var t=this.g.da();this.ca=t;t:if(Xg(this)){var i=Il(this.g);n="";var c=i.length,p=4==Wa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ch(this),uf(this);var _="";break t}this.h.i=new _r.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:p&&e==c-1});i.splice(0,c),this.h.g+=n,this.C=0,_=this.h.g}else _=this.g.ja();if(this.i=200==t,function aT(n,e,t,i,c,p,_){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+c+"]: "+e+"\n"+t+"\n"+p+" "+_})}(this.j,this.u,this.A,this.m,this.W,te,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var E,F=this.g;if((E=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yp(E)){var H=E;break t}}H=null}if(!(t=H)){this.i=!1,this.o=3,za(12),ch(this),uf(this);break e}sh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tm(this,t)}this.S?(dT(this,te,_),Pv&&this.i&&3==te&&(Cp(this.U,this.V,"tick",this.mb),this.V.start())):(sh(this.j,this.m,_,null),tm(this,_)),4==te&&ch(this),this.i&&!this.J&&(4==te?o0(this.l,this):(this.i=!1,lf(this)))}else(function am(n){const e={};n=(n.g&&2<=Wa(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(yp(n[i]))continue;var t=sT(n[i]);const c=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const p=e[c]||[];e[c]=p,p.push(t)}!function hd(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<_.indexOf("Unknown SID")?(this.o=3,za(12)):(this.o=0,za(13)),ch(this),uf(this)}}}catch{}},nn.mb=function(){if(this.g){var n=Wa(this.g),e=this.g.ja();this.C<e.length&&(em(this),dT(this,n,e),this.i&&4!=n&&lf(this))}},nn.cancel=function(){this.J=!0,ch(this)},nn.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Db(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(fd(),za(17)),ch(this),this.o=2,uf(this)):Yv(this,this.Y-n)};var ny=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof fa){this.h=n.h,ry(this,n.j),this.s=n.s,this.g=n.g,df(this,n.m),this.l=n.l;var e=n.i,t=new xp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ru(this,t),this.o=n.o}else n&&(e=String(n).match(ny))?(this.h=!1,ry(this,e[1]||"",!0),this.s=Op(e[2]||""),this.g=Op(e[3]||"",!0),df(this,e[4]),this.l=Op(e[5]||"",!0),Ru(this,e[6]||"",!0),this.o=Op(e[7]||"")):(this.h=!1,this.i=new xp(null,this.h))}function Jl(n){return new fa(n)}function ry(n,e,t){n.j=t?Op(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function df(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Ru(n,e,t){e instanceof xp?(n.i=e,function e0(n,e){e&&!n.j&&(Xl(n),n.i=null,n.g.forEach(function(t,i){var c=i.toLowerCase();i!=c&&(Jv(this,i),rm(this,c,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Mp(e,hT)),n.i=new xp(e,n.h))}function wi(n,e,t){n.i.set(e,t)}function nm(n){return wi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Op(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Mp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,iy),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function iy(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}fa.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Mp(e,bl,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Mp(e,bl,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Mp(t,"/"==t.charAt(0)?Mb:Qv,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Mp(t,zo)),n.join("")};var bl=/[#\/\?@]/g,Qv=/[#\?:]/g,Mb=/[#\?]/g,hT=/[#\?@]/g,zo=/#/g;function xp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Xl(n){n.g||(n.g=new Map,n.h=0,n.i&&function Ob(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),c=null;if(0<=i){var p=n[t].substring(0,i);c=n[t].substring(i+1)}else p=n[t];e(p,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Jv(n,e){Xl(n),e=lh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Xv(n,e){return Xl(n),e=lh(n,e),n.g.has(e)}function rm(n,e,t){Jv(n,e),0<t.length&&(n.i=null,n.g.set(lh(n,e),_p(t)),n.h+=t.length)}function lh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function sy(n){this.l=n||t0,n=_r.PerformanceNavigationTiming?0<(n=_r.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(_r.g&&_r.g.Ka&&_r.g.Ka()&&_r.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(nn=xp.prototype).add=function(n,e){Xl(this),this.i=null,n=lh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},nn.forEach=function(n,e){Xl(this),this.g.forEach(function(t,i){t.forEach(function(c){n.call(e,c,i,this)},this)},this)},nn.ta=function(){Xl(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const c=n[i];for(let p=0;p<c.length;p++)t.push(e[i])}return t},nn.Z=function(n){Xl(this);let e=[];if("string"==typeof n)Xv(this,n)&&(e=e.concat(this.g.get(lh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},nn.set=function(n,e){return Xl(this),this.i=null,Xv(this,n=lh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},nn.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},nn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const p=encodeURIComponent(String(i)),_=this.Z(i);for(i=0;i<_.length;i++){var c=p;""!==_[i]&&(c+="="+encodeURIComponent(String(_[i]))),n.push(c)}}return this.i=n.join("&")};var t0=10;function Pu(n){return!!n.h||!!n.g&&n.g.size>=n.j}function im(n){return n.h?1:n.g?n.g.size:0}function Rp(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function hf(n,e){n.g?n.g.add(e):n.h=e}function ku(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function xs(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return _p(n.i)}sy.prototype.cancel=function(){if(this.i=xs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var uh=class{stringify(n){return _r.JSON.stringify(n,void 0)}parse(n){return _r.JSON.parse(n,void 0)}};function xb(){this.g=new uh}function oy(n,e,t){const i=t||"";try{Nb(n,function(c,p){let _=c;cd(c)&&(_=W_(c)),e.push(i+p+"="+encodeURIComponent(_))})}catch(c){throw e.push(i+"type="+encodeURIComponent("_badmap")),c}}function wl(n,e,t,i,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(i)}catch{}}function gd(n){this.l=n.fc||null,this.j=n.ob||!1}function md(n,e){jo.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Pp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ha(gd,zv),gd.prototype.g=function(){return new md(this.l,this.j)},gd.prototype.i=function(n){return function(){return n}}({}),ha(md,jo);var Pp=0;function ay(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function dh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ff(n)}function ff(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(nn=md.prototype).open=function(n,e){if(this.readyState!=Pp)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ff(this)},nn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||_r).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},nn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dh(this)),this.readyState=Pp},nn.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ff(this)),this.g&&(this.readyState=3,ff(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof _r.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ay(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},nn.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?dh(this):ff(this),3==this.readyState&&ay(this)}},nn.Za=function(n){this.g&&(this.response=this.responseText=n,dh(this))},nn.Ya=function(n){this.g&&(this.response=n,dh(this))},nn.ka=function(){this.g&&dh(this)},nn.setRequestHeader=function(n,e){this.v.append(n,e)},nn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},nn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(md.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var pT=_r.JSON.parse;function gs(n){jo.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=sm,this.L=this.M=!1}ha(gs,jo);var sm="",r0=/^https?$/i,Rb=["POST","PUT"];function cy(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,om(n),_d(n)}function om(n){n.F||(n.F=!0,$o(n,"complete"),$o(n,"error"))}function pf(n){if(n.h&&typeof _b<"u"&&(!n.C[1]||4!=Wa(n)||2!=n.da()))if(n.v&&4==Wa(n))Dp(n.La,0,n);else if($o(n,"readystatechange"),4==Wa(n)){n.h=!1;try{const _=n.da();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===_){var c=String(n.I).match(ny)[1]||null;!c&&_r.self&&_r.self.location&&(c=_r.self.location.protocol.slice(0,-1)),i=!r0.test(c?c.toLowerCase():"")}t=i}if(t)$o(n,"complete"),$o(n,"success");else{n.m=6;try{var p=2<Wa(n)?n.g.statusText:""}catch{p=""}n.j=p+" ["+n.da()+"]",om(n)}}finally{_d(n)}}}function _d(n,e){if(n.g){s0(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||$o(n,"ready");try{t.onreadystatechange=i}catch{}}}function s0(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(_r.clearTimeout(n.A),n.A=null)}function Wa(n){return n.g?n.g.readyState:0}function Il(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case sm:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function kp(n){let e="";return wp(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function cm(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=kp(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):wi(n,e,t))}function eu(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function lr(n){this.Ga=0,this.j=[],this.l=new Zg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=eu("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=eu("baseRetryDelayMs",5e3,n),this.hb=eu("retryDelaySeedMs",1e4,n),this.eb=eu("forwardChannelMaxRetries",2,n),this.xa=eu("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new sy(n&&n.concurrentRequestLimit),this.Ja=new xb,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function lm(n){if(cc(n),3==n.H){var e=n.W++,t=Jl(n.I);if(wi(t,"SID",n.K),wi(t,"RID",e),wi(t,"TYPE","terminate"),tu(n,t),(e=new Qg(n,n.l,e)).L=2,e.v=nm(Jl(t)),t=!1,_r.navigator&&_r.navigator.sendBeacon)try{t=_r.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&_r.Image&&((new Image).src=e.v,t=!0),t||(e.g=a0(e.l,null),e.g.ha(e.v)),e.G=Date.now(),lf(e)}uc(n)}function gf(n){n.g&&(vd(n),n.g.cancel(),n.g=null)}function cc(n){gf(n),n.u&&(_r.clearTimeout(n.u),n.u=null),bd(n),n.i.cancel(),n.m&&("number"==typeof n.m&&_r.clearTimeout(n.m),n.m=null)}function lc(n){if(!Pu(n.i)&&!n.m){n.m=!0;var e=n.Na;nf||Z_(),xu||(nf(),xu=!0),rf.add(e,n),n.C=0}}function Fu(n,e){var t;t=e?e.m:n.W++;const i=Jl(n.I);wi(i,"SID",n.K),wi(i,"RID",t),wi(i,"AID",n.V),tu(n,i),n.o&&n.s&&cm(i,n.o,n.s),t=new Qg(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=mf(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),hf(n.i,t),Jg(t,i,e)}function tu(n,e){n.na&&wp(n.na,function(t,i){wi(e,i,t)}),n.h&&Nb({},function(t,i){wi(e,i,t)})}function mf(n,e,t){t=Math.min(n.j.length,t);var i=n.h?Sa(n.h.Va,n.h,n):null;e:{var c=n.j;let p=-1;for(;;){const _=["count="+t];-1==p?0<t?(p=c[0].g,_.push("ofs="+p)):p=0:_.push("ofs="+p);let E=!0;for(let F=0;F<t;F++){let H=c[F].g;const te=c[F].map;if(H-=p,0>H)p=Math.max(0,c[F].g-100),E=!1;else try{oy(te,_,"req"+H+"_")}catch{i&&i(te)}}if(E){i=_.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function fh(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;nf||Z_(),xu||(nf(),xu=!0),rf.add(e,n),n.A=0}}function yd(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=oh(Sa(n.Ma,n),dm(n,n.A)),n.A++,0))}function vd(n){null!=n.B&&(_r.clearTimeout(n.B),n.B=null)}function um(n){n.g=new Qg(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Jl(n.wa);wi(e,"RID","rpc"),wi(e,"SID",n.K),wi(e,"AID",n.V),wi(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&wi(e,"TO",n.qa),wi(e,"TYPE","xmlhttp"),tu(n,e),n.o&&n.s&&cm(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=nm(Jl(e)),t.s=null,t.S=!0,ty(t,n)}function bd(n){null!=n.v&&(_r.clearTimeout(n.v),n.v=null)}function o0(n,e){var t=null;if(n.g==e){bd(n),vd(n),n.g=null;var i=2}else{if(!Rp(n.i,e))return;t=e.F,ku(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var c=n.C;$o(i=X_(),new ey(i,t)),lc(n)}else fh(n);else if(3==(c=e.o)||0==c&&0<e.ca||!(1==i&&function hh(n,e){return!(im(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=oh(Sa(n.Na,n,e),dm(n,n.C)),n.C++,0)))}(n,e)||2==i&&yd(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),c){case 1:ph(n,5);break;case 4:ph(n,10);break;case 3:ph(n,6);break;default:ph(n,2)}}function dm(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function ph(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=Sa(n.pb,n);t||(t=new fa("//www.google.com/images/cleardot.gif"),_r.location&&"http"==_r.location.protocol||ry(t,"https"),nm(t)),function n0(n,e){const t=new Zg;if(_r.Image){const i=new Image;i.onload=th(wl,t,i,"TestLoadImage: loaded",!0,e),i.onerror=th(wl,t,i,"TestLoadImage: error",!1,e),i.onabort=th(wl,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=th(wl,t,i,"TestLoadImage: timeout",!1,e),_r.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else za(2);n.H=0,n.h&&n.h.za(e),uc(n),cc(n)}function uc(n){if(n.H=0,n.ma=[],n.h){const e=xs(n.i);(0!=e.length||0!=n.j.length)&&(V_(n.ma,e),V_(n.ma,n.j),n.i.i.length=0,_p(n.j),n.j.length=0),n.h.ya()}}function ly(n,e,t){var i=t instanceof fa?Jl(t):new fa(t);if(""!=i.g)e&&(i.g=e+"."+i.g),df(i,i.m);else{var c=_r.location;i=c.protocol,e=e?e+"."+c.hostname:c.hostname,c=+c.port;var p=new fa(null);i&&ry(p,i),e&&(p.g=e),c&&df(p,c),t&&(p.l=t),i=p}return e=n.Da,(t=n.F)&&e&&wi(i,t,e),wi(i,"VER",n.ra),tu(n,i),i}function a0(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new gs(t&&n.Ha&&!n.va?new gd({ob:!0}):n.va)).Oa(n.J),e}function kb(){}function uy(){if(Qh&&!(10<=Number(Fv)))throw Error("Environmental error: no available transport.")}function Xc(n,e){jo.call(this),this.g=new lr(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!yp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yp(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new nu(this)}function Fb(n){Sp.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function c0(){qv.call(this),this.status=1}function nu(n){this.g=n}function Tl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function qa(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var c=0;16>c;++c)i[c]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(c=0;16>c;++c)i[c]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var p=n.g[3],_=(e=n.g[0])+(p^(t=n.g[1])&((c=n.g[2])^p))+i[0]+3614090360&4294967295;_=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=t+(_<<7&4294967295|_>>>25))+((_=p+(c^e&(t^c))+i[1]+3905402710&4294967295)<<12&4294967295|_>>>20))+((_=c+(t^p&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^c&(p^e))+i[3]+3250441966&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(c^p))+i[4]+4118548399&4294967295)<<7&4294967295|_>>>25))+((_=p+(c^e&(t^c))+i[5]+1200080426&4294967295)<<12&4294967295|_>>>20))+((_=c+(t^p&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^c&(p^e))+i[7]+4249261313&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(c^p))+i[8]+1770035416&4294967295)<<7&4294967295|_>>>25))+((_=p+(c^e&(t^c))+i[9]+2336552879&4294967295)<<12&4294967295|_>>>20))+((_=c+(t^p&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^c&(p^e))+i[11]+2304563134&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(c^p))+i[12]+1804603682&4294967295)<<7&4294967295|_>>>25))+((_=p+(c^e&(t^c))+i[13]+4254626195&4294967295)<<12&4294967295|_>>>20))+((_=c+(t^p&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^c&(p^e))+i[15]+1236535329&4294967295)<<22&4294967295|_>>>10))+((_=e+(c^p&(t^c))+i[1]+4129170786&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^c&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|_>>>23))+((_=c+(e^t&(p^e))+i[11]+643717713&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(c^p))+i[0]+3921069994&4294967295)<<20&4294967295|_>>>12))+((_=e+(c^p&(t^c))+i[5]+3593408605&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^c&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|_>>>23))+((_=c+(e^t&(p^e))+i[15]+3634488961&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(c^p))+i[4]+3889429448&4294967295)<<20&4294967295|_>>>12))+((_=e+(c^p&(t^c))+i[9]+568446438&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^c&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|_>>>23))+((_=c+(e^t&(p^e))+i[3]+4107603335&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(c^p))+i[8]+1163531501&4294967295)<<20&4294967295|_>>>12))+((_=e+(c^p&(t^c))+i[13]+2850285829&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^c&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|_>>>23))+((_=c+(e^t&(p^e))+i[7]+1735328473&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(c^p))+i[12]+2368359562&4294967295)<<20&4294967295|_>>>12))+((_=e+(t^c^p)+i[5]+4294588738&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^c)+i[8]+2272392833&4294967295)<<11&4294967295|_>>>21))+((_=c+(p^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|_>>>16))+((_=t+(c^p^e)+i[14]+4259657740&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^c^p)+i[1]+2763975236&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^c)+i[4]+1272893353&4294967295)<<11&4294967295|_>>>21))+((_=c+(p^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|_>>>16))+((_=t+(c^p^e)+i[10]+3200236656&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^c^p)+i[13]+681279174&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^c)+i[0]+3936430074&4294967295)<<11&4294967295|_>>>21))+((_=c+(p^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|_>>>16))+((_=t+(c^p^e)+i[6]+76029189&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^c^p)+i[9]+3654602809&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^c)+i[12]+3873151461&4294967295)<<11&4294967295|_>>>21))+((_=c+(p^e^t)+i[15]+530742520&4294967295)<<16&4294967295|_>>>16))+((_=t+(c^p^e)+i[2]+3299628645&4294967295)<<23&4294967295|_>>>9))+((_=e+(c^(t|~p))+i[0]+4096336452&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~c))+i[7]+1126891415&4294967295)<<10&4294967295|_>>>22))+((_=c+(e^(p|~t))+i[14]+2878612391&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(c|~e))+i[5]+4237533241&4294967295)<<21&4294967295|_>>>11))+((_=e+(c^(t|~p))+i[12]+1700485571&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~c))+i[3]+2399980690&4294967295)<<10&4294967295|_>>>22))+((_=c+(e^(p|~t))+i[10]+4293915773&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(c|~e))+i[1]+2240044497&4294967295)<<21&4294967295|_>>>11))+((_=e+(c^(t|~p))+i[8]+1873313359&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~c))+i[15]+4264355552&4294967295)<<10&4294967295|_>>>22))+((_=c+(e^(p|~t))+i[6]+2734768916&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(c|~e))+i[13]+1309151649&4294967295)<<21&4294967295|_>>>11))+((p=(e=t+((_=e+(c^(t|~p))+i[4]+4149444226&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~c))+i[11]+3174756917&4294967295)<<10&4294967295|_>>>22))^((c=p+((_=c+(e^(p|~t))+i[2]+718787259&4294967295)<<15&4294967295|_>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(c+(_<<21&4294967295|_>>>11))&4294967295,n.g[2]=n.g[2]+c&4294967295,n.g[3]=n.g[3]+p&4294967295}function si(n,e){this.h=e;for(var t=[],i=!0,c=n.length-1;0<=c;c--){var p=0|n[c];i&&p==e||(t[c]=p,i=!1)}this.g=t}(nn=gs.prototype).Oa=function(n){this.M=n},nn.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():pd.g(),this.C=function Wv(n){return n.h||(n.h=n.i())}(this.u?this.u:pd),this.g.onreadystatechange=Sa(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(p){return void cy(this,p)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var c in i)t.set(c,i[c]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const p of i.keys())t.set(p,i.get(p))}i=Array.from(t.keys()).find(p=>"content-type"==p.toLowerCase()),c=_r.FormData&&n instanceof _r.FormData,!(0<=Rv(Rb,e))||i||c||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[p,_]of t)this.g.setRequestHeader(p,_);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{s0(this),0<this.B&&((this.L=function Pb(n){return Qh&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Sa(this.ua,this)):this.A=Dp(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(p){cy(this,p)}},nn.ua=function(){typeof _b<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$o(this,"timeout"),this.abort(8))},nn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,$o(this,"complete"),$o(this,"abort"),_d(this))},nn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_d(this,!0)),gs.$.N.call(this)},nn.La=function(){this.s||(this.G||this.v||this.l?pf(this):this.kb())},nn.kb=function(){pf(this)},nn.isActive=function(){return!!this.g},nn.da=function(){try{return 2<Wa(this)?this.g.status:-1}catch{return-1}},nn.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},nn.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),pT(e)}},nn.Ia=function(){return this.m},nn.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(nn=lr.prototype).ra=8,nn.H=1,nn.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const c=new Qg(this,this.l,n);let p=this.s;if(this.U&&(p?(p=$_(p),Xh(p,this.U)):p=this.U),null!==this.o||this.O||(c.I=p,p=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=mf(this,c,e),wi(t=Jl(this.I),"RID",n),wi(t,"CVER",22),this.F&&wi(t,"X-HTTP-Session-Id",this.F),tu(this,t),p&&(this.O?e="headers="+encodeURIComponent(String(kp(p)))+"&"+e:this.o&&cm(t,this.o,p)),hf(this.i,c),this.bb&&wi(t,"TYPE","init"),this.P?(wi(t,"$req",e),wi(t,"SID","null"),c.aa=!0,Jg(c,t,null)):Jg(c,t,e),this.H=2}}else 3==this.H&&(n?Fu(this,n):0==this.j.length||Pu(this.i)||Fu(this))},nn.Ma=function(){if(this.u=null,um(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=oh(Sa(this.jb,this),n)}},nn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,za(10),gf(this),um(this))},nn.ib=function(){null!=this.v&&(this.v=null,gf(this),yd(this),za(19))},nn.pb=function(n){n?(this.l.info("Successfully pinged google.com"),za(2)):(this.l.info("Failed to ping google.com"),za(1))},nn.isActive=function(){return!!this.h&&this.h.isActive(this)},(nn=kb.prototype).Ba=function(){},nn.Aa=function(){},nn.za=function(){},nn.ya=function(){},nn.isActive=function(){return!0},nn.Va=function(){},uy.prototype.g=function(n,e){return new Xc(n,e)},ha(Xc,jo),Xc.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;za(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=ly(n,null,n.Y),lc(n)},Xc.prototype.close=function(){lm(this.g)},Xc.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=W_(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&lc(e)},Xc.prototype.N=function(){this.g.h=null,delete this.j,lm(this.g),delete this.g,Xc.$.N.call(this)},ha(Fb,Sp),ha(c0,qv),ha(nu,kb),nu.prototype.Ba=function(){$o(this.g,"a")},nu.prototype.Aa=function(n){$o(this.g,new Fb(n))},nu.prototype.za=function(n){$o(this.g,new c0)},nu.prototype.ya=function(){$o(this.g,"b")},ha(Tl,function Lb(){this.blockSize=-1}),Tl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Tl.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,c=this.h,p=0;p<e;){if(0==c)for(;p<=t;)qa(this,n,p),p+=this.blockSize;if("string"==typeof n){for(;p<e;)if(i[c++]=n.charCodeAt(p++),c==this.blockSize){qa(this,i),c=0;break}}else for(;p<e;)if(i[c++]=n[p++],c==this.blockSize){qa(this,i),c=0;break}}this.h=c,this.i+=e},Tl.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var hm={};function dy(n){return-128<=n&&128>n?function wb(n,e){var t=hm;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new si([0|e],0>e?-1:0)}):new si([0|n],0>n?-1:0)}function xc(n){if(isNaN(n)||!isFinite(n))return gh;if(0>n)return wo(xc(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=Fp;return new si(e,0)}var Fp=4294967296,gh=dy(0),fy=dy(1),py=dy(16777216);function Lu(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function el(n){return-1==n.h}function wo(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new si(t,~n.h).add(fy)}function fm(n,e){return n.add(wo(e))}function ru(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function mh(n,e){this.g=n,this.h=e}function _f(n,e){if(Lu(e))throw Error("division by zero");if(Lu(n))return new mh(gh,gh);if(el(n))return e=_f(wo(n),e),new mh(wo(e.g),wo(e.h));if(el(e))return e=_f(n,wo(e)),new mh(wo(e.g),e.h);if(30<n.g.length){if(el(n)||el(e))throw Error("slowDivide_ only works with positive integers.");for(var t=fy,i=e;0>=i.X(n);)t=Lp(t),i=Lp(i);var c=Za(t,1),p=Za(i,1);for(i=Za(i,2),t=Za(t,2);!Lu(i);){var _=p.add(i);0>=_.X(n)&&(c=c.add(t),p=_),i=Za(i,1),t=Za(t,1)}return e=fm(n,c.R(e)),new mh(c,e)}for(c=gh;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),_=(p=xc(t)).R(e);el(_)||0<_.X(n);)_=(p=xc(t-=i)).R(e);Lu(p)&&(p=fy),c=c.add(p),n=fm(n,_)}return new mh(c,n)}function Lp(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new si(t,n.h)}function Za(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,c=[],p=0;p<i;p++)c[p]=0<e?n.D(p+t)>>>e|n.D(p+t+1)<<32-e:n.D(p+t);return new si(c,n.h)}(nn=si.prototype).ea=function(){if(el(this))return-wo(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:Fp+i)*e,e*=Fp}return n},nn.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Lu(this))return"0";if(el(this))return"-"+wo(this).toString(n);for(var e=xc(Math.pow(n,6)),t=this,i="";;){var c=_f(t,e).g,p=((0<(t=fm(t,c.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Lu(t=c))return p+i;for(;6>p.length;)p="0"+p;i=p+i}},nn.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},nn.X=function(n){return el(n=fm(this,n))?-1:Lu(n)?0:1},nn.abs=function(){return el(this)?wo(this):this},nn.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,c=0;c<=e;c++){var p=i+(65535&this.D(c))+(65535&n.D(c)),_=(p>>>16)+(this.D(c)>>>16)+(n.D(c)>>>16);i=_>>>16,t[c]=(_&=65535)<<16|(p&=65535)}return new si(t,-2147483648&t[t.length-1]?-1:0)},nn.R=function(n){if(Lu(this)||Lu(n))return gh;if(el(this))return el(n)?wo(this).R(wo(n)):wo(wo(this).R(n));if(el(n))return wo(this.R(wo(n)));if(0>this.X(py)&&0>n.X(py))return xc(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var c=0;c<n.g.length;c++){var p=this.D(i)>>>16,_=65535&this.D(i),E=n.D(c)>>>16,F=65535&n.D(c);t[2*i+2*c]+=_*F,ru(t,2*i+2*c),t[2*i+2*c+1]+=p*F,ru(t,2*i+2*c+1),t[2*i+2*c+1]+=_*E,ru(t,2*i+2*c+1),t[2*i+2*c+2]+=p*E,ru(t,2*i+2*c+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new si(t,0)},nn.gb=function(n){return _f(this,n).h},nn.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new si(t,this.h&n.h)},nn.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new si(t,this.h|n.h)},nn.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new si(t,this.h^n.h)},uy.prototype.createWebChannel=uy.prototype.g,Xc.prototype.send=Xc.prototype.u,Xc.prototype.open=Xc.prototype.m,Xc.prototype.close=Xc.prototype.close,Yg.NO_ERROR=0,Yg.TIMEOUT=8,Yg.HTTP_ERROR=6,$v.COMPLETE="complete",lT.EventType=cf,cf.OPEN="a",cf.CLOSE="b",cf.ERROR="c",cf.MESSAGE="d",jo.prototype.listen=jo.prototype.O,gs.prototype.listenOnce=gs.prototype.P,gs.prototype.getLastError=gs.prototype.Sa,gs.prototype.getLastErrorCode=gs.prototype.Ia,gs.prototype.getStatus=gs.prototype.da,gs.prototype.getResponseJson=gs.prototype.Wa,gs.prototype.getResponseText=gs.prototype.ja,gs.prototype.send=gs.prototype.ha,gs.prototype.setWithCredentials=gs.prototype.Oa,Tl.prototype.digest=Tl.prototype.l,Tl.prototype.reset=Tl.prototype.reset,Tl.prototype.update=Tl.prototype.j,si.prototype.add=si.prototype.add,si.prototype.multiply=si.prototype.R,si.prototype.modulo=si.prototype.gb,si.prototype.compare=si.prototype.X,si.prototype.toNumber=si.prototype.ea,si.prototype.toString=si.prototype.toString,si.prototype.getBits=si.prototype.D,si.fromNumber=xc,si.fromString=function hy(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return wo(hy(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=xc(Math.pow(e,8)),i=gh,c=0;c<n.length;c+=8){var p=Math.min(8,n.length-c),_=parseInt(n.substring(c,c+p),e);8>p?(p=xc(Math.pow(e,p)),i=i.R(p).add(xc(_))):i=(i=i.R(t)).add(xc(_))}return i};var gy=yl.createWebChannelTransport=function(){return new uy},Bb=yl.getStatEventTarget=function(){return X_()},pm=yl.ErrorCode=Yg,Ub=yl.EventType=$v,gm=yl.Event=af,my=yl.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},_h=yl.FetchXmlHttpFactory=gd,wd=yl.WebChannel=lT,_y=yl.XhrIo=gs,l0=yl.Md5=Tl,Id=yl.Integer=si;const yy="@firebase/firestore";class Wo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wo.UNAUTHENTICATED=new Wo(null),Wo.GOOGLE_CREDENTIALS=new Wo("google-credentials-uid"),Wo.FIRST_PARTY=new Wo("first-party-uid"),Wo.MOCK_USER=new Wo("mock-user");let iu="9.23.0";const Ka=new Ee.Yd("@firebase/firestore");function vy(){return Ka.logLevel}function Nt(n,...e){if(Ka.logLevel<=Ee.in.DEBUG){const t=e.map(u0);Ka.debug(`Firestore (${iu}): ${n}`,...t)}}function ms(n,...e){if(Ka.logLevel<=Ee.in.ERROR){const t=e.map(u0);Ka.error(`Firestore (${iu}): ${n}`,...t)}}function Rc(n,...e){if(Ka.logLevel<=Ee.in.WARN){const t=e.map(u0);Ka.warn(`Firestore (${iu}): ${n}`,...t)}}function u0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function un(n="Unexpected state"){const e=`FIRESTORE (${iu}) INTERNAL ASSERTION FAILED: `+n;throw ms(e),new Error(e)}function Tn(n,e){n||un()}function Jt(n,e){return n}const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends fe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class by{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Hb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wo.UNAUTHENTICATED))}shutdown(){}}class d0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class h0{constructor(e){this.t=e,this.currentUser=Wo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let c=this.i;const p=H=>this.i!==c?(c=this.i,t(H)):Promise.resolve();let _=new zs;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new zs,e.enqueueRetryable(()=>p(this.currentUser))};const E=()=>{const H=_;e.enqueueRetryable((0,de.Z)(function*(){yield H.promise,yield p(i.currentUser)}))},F=H=>{Nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),E()};this.t.onInit(H=>F(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?F(H):(Nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new zs)}},0),E()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Tn("string"==typeof i.accessToken),new by(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Tn(null===e||"string"==typeof e),new Wo(e)}}class mm{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=Wo.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Bp{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new mm(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Wo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class f0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p0{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=p=>{null!=p.error&&Nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const _=p.token!==this.T;return this.T=p.token,Nt("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?t(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>i(p))};const c=p=>{Nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.I.onInit(p=>c(p)),setTimeout(()=>{if(!this.appCheck){const p=this.I.getImmediate({optional:!0});p?c(p):Nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Tn("string"==typeof t.token),this.T=t.token,new f0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function g0(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class m0{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const c=g0(40);for(let p=0;p<c.length;++p)i.length<20&&c[p]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(c[p]%62))}return i}}function On(n,e){return n<e?-1:n>e?1:0}function Td(n,e,t){return n.length===e.length&&n.every((i,c)=>t(i,e[c]))}class zi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ct(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ct(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ct(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ct(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zi.fromMillis(Date.now())}static fromDate(e){return zi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new zi(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?On(this.nanoseconds,e.nanoseconds):On(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class kn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new kn(e)}static min(){return new kn(new zi(0,0))}static max(){return new kn(new zi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Up{constructor(e,t,i){void 0===t?t=0:t>e.length&&un(),void 0===i?i=e.length-t:i>e.length-t&&un(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Up.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Up?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let c=0;c<i;c++){const p=e.get(c),_=t.get(c);if(p<_)return-1;if(p>_)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class jr extends Up{construct(e,t,i){return new jr(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ct(rt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(c=>c.length>0))}return new jr(t)}static emptyPath(){return new jr([])}}const jb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ws extends Up{construct(e,t,i){return new Ws(e,t,i)}static isValidIdentifier(e){return jb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ws.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ws(["__name__"])}static fromServerFormat(e){const t=[];let i="",c=0;const p=()=>{if(0===i.length)throw new Ct(rt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let _=!1;for(;c<e.length;){const E=e[c];if("\\"===E){if(c+1===e.length)throw new Ct(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const F=e[c+1];if("\\"!==F&&"."!==F&&"`"!==F)throw new Ct(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=F,c+=2}else"`"===E?(_=!_,c++):"."!==E||_?(i+=E,c++):(p(),c++)}if(p(),_)throw new Ct(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ws(t)}static emptyPath(){return new Ws([])}}class Wt{constructor(e){this.path=e}static fromPath(e){return new Wt(jr.fromString(e))}static fromName(e){return new Wt(jr.fromString(e).popFirst(5))}static empty(){return new Wt(jr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===jr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return jr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Wt(new jr(e.slice()))}}function wy(n){return new dc(n.readTime,n.key,-1)}class dc{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new dc(kn.min(),Wt.empty(),-1)}static max(){return new dc(kn.max(),Wt.empty(),-1)}}function Hp(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Wt.comparator(n.documentKey,e.documentKey),0!==t?t:On(n.largestBatchId,e.largestBatchId))}const wf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $b{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function yh(n){return If.apply(this,arguments)}function If(){return If=(0,de.Z)(function*(n){if(n.code!==rt.FAILED_PRECONDITION||n.message!==wf)throw n;Nt("LocalStore","Unexpectedly lost primary lease")}),If.apply(this,arguments)}class qe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&un(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new qe((i,c)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(i,c)},this.catchCallback=p=>{this.wrapFailure(t,p).next(i,c)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof qe?t:qe.resolve(t)}catch(t){return qe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):qe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):qe.reject(t)}static resolve(e){return new qe((t,i)=>{t(e)})}static reject(e){return new qe((t,i)=>{i(e)})}static waitFor(e){return new qe((t,i)=>{let c=0,p=0,_=!1;e.forEach(E=>{++c,E.next(()=>{++p,_&&p===c&&t()},F=>i(F))}),_=!0,p===c&&t()})}static or(e){let t=qe.resolve(!1);for(const i of e)t=t.next(c=>c?qe.resolve(c):i());return t}static forEach(e,t){const i=[];return e.forEach((c,p)=>{i.push(t.call(this,c,p))}),this.waitFor(i)}static mapArray(e,t){return new qe((i,c)=>{const p=e.length,_=new Array(p);let E=0;for(let F=0;F<p;F++){const H=F;t(e[H]).next(te=>{_[H]=te,++E,E===p&&i(_)},te=>c(te))}})}static doWhile(e,t){return new qe((i,c)=>{const p=()=>{!0===e()?t().next(()=>{p()},c):i()};p()})}}function su(n){return"IndexedDbTransactionError"===n.name}let ts=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=c=>this.ot(c),this.ut=c=>i.writeSequenceNumber(c))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function bh(n){return null==n}function ou(n){return 0===n&&1/n==-1/0}function Sn(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function rr(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ur(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class vn{constructor(e,t){this.comparator=e,this.root=t||fr.EMPTY}insert(e,t){return new vn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fr.BLACK,null,null))}remove(e){return new vn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const c=this.comparator(e,i.key);if(0===c)return t+i.left.size;c<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yr(this.root,e,this.comparator,!1)}getReverseIterator(){return new yr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yr(this.root,e,this.comparator,!0)}}class yr{constructor(e,t,i,c){this.isReverse=c,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=t?i(e.key,t):1,t&&c&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fr{constructor(e,t,i,c,p){this.key=e,this.value=t,this.color=i??fr.RED,this.left=c??fr.EMPTY,this.right=p??fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,c,p){return new fr(e??this.key,t??this.value,i??this.color,c??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let c=this;const p=i(e,c.key);return c=p<0?c.copy(null,null,null,c.left.insert(e,t,i),null):0===p?c.copy(null,t,null,null,null):c.copy(null,null,null,null,c.right.insert(e,t,i)),c.fixUp()}removeMin(){if(this.left.isEmpty())return fr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,c=this;if(t(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,t),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===t(e,c.key)){if(c.right.isEmpty())return fr.EMPTY;i=c.right.min(),c=c.copy(i.key,i.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,t))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw un();const e=this.left.check();if(e!==this.right.check())throw un();return e+(this.isRed()?0:1)}}fr.EMPTY=null,fr.RED=!0,fr.BLACK=!1,fr.EMPTY=new class{constructor(){this.size=0}get key(){throw un()}get value(){throw un()}get color(){throw un()}get left(){throw un()}get right(){throw un()}copy(n,e,t,i,c){return this}insert(n,e,t){return new fr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kn{constructor(e){this.comparator=e,this.data=new vn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const c=i.getNext();if(this.comparator(c.key,e[1])>=0)return;t(c.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ns(this.data.getIterator())}getIteratorFrom(e){return new ns(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Kn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const c=t.getNext().key,p=i.getNext().key;if(0!==this.comparator(c,p))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Kn(this.comparator);return t.data=e,t}}class ns{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $r{constructor(e){this.fields=e,e.sort(Ws.comparator)}static empty(){return new $r([])}unionWith(e){let t=new Kn(Ws.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new $r(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Td(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Dl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Dl("Invalid base64 string: "+c):c}}(e);return new Pt(t)}static fromUint8Array(e){const t=function(i){let c="";for(let p=0;p<i.length;++p)c+=String.fromCharCode(i[p]);return c}(e);return new Pt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return On(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const gn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function En(n){if(Tn(!!n),"string"==typeof n){let e=0;const t=gn.exec(n);if(Tn(!!t),t[1]){let c=t[1];c=(c+"000000000").substr(0,9),e=Number(c)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Nn(n.seconds),nanos:Nn(n.nanos)}}function Nn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function li(n){return"string"==typeof n?Pt.fromBase64String(n):Pt.fromUint8Array(n)}function pa(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function rs(n){const e=n.mapValue.fields.__previous_value__;return pa(e)?rs(e):e}function ga(n){const e=En(n.mapValue.fields.__local_write_time__.timestampValue);return new zi(e.seconds,e.nanos)}class ui{constructor(e,t,i,c,p,_,E,F,H){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=c,this.ssl=p,this.forceLongPolling=_,this.autoDetectLongPolling=E,this.longPollingOptions=F,this.useFetchStreams=H}}class ma{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ma("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ma&&e.projectId===this.projectId&&e.database===this.database}}const fc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function _s(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pa(n)?4:Iy(n)?9007199254740991:10:un()}function Ui(n,e){if(n===e)return!0;const t=_s(n);if(t!==_s(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ga(n).isEqual(ga(e));case 3:return function(i,c){if("string"==typeof i.timestampValue&&"string"==typeof c.timestampValue&&i.timestampValue.length===c.timestampValue.length)return i.timestampValue===c.timestampValue;const p=En(i.timestampValue),_=En(c.timestampValue);return p.seconds===_.seconds&&p.nanos===_.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return c=e,li(n.bytesValue).isEqual(li(c.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,c){return Nn(i.geoPointValue.latitude)===Nn(c.geoPointValue.latitude)&&Nn(i.geoPointValue.longitude)===Nn(c.geoPointValue.longitude)}(n,e);case 2:return function(i,c){if("integerValue"in i&&"integerValue"in c)return Nn(i.integerValue)===Nn(c.integerValue);if("doubleValue"in i&&"doubleValue"in c){const p=Nn(i.doubleValue),_=Nn(c.doubleValue);return p===_?ou(p)===ou(_):isNaN(p)&&isNaN(_)}return!1}(n,e);case 9:return Td(n.arrayValue.values||[],e.arrayValue.values||[],Ui);case 10:return function(i,c){const p=i.mapValue.fields||{},_=c.mapValue.fields||{};if(Sn(p)!==Sn(_))return!1;for(const E in p)if(p.hasOwnProperty(E)&&(void 0===_[E]||!Ui(p[E],_[E])))return!1;return!0}(n,e);default:return un()}var c}function au(n,e){return void 0!==(n.values||[]).find(t=>Ui(t,e))}function pc(n,e){if(n===e)return 0;const t=_s(n),i=_s(e);if(t!==i)return On(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return On(n.booleanValue,e.booleanValue);case 2:return function(c,p){const _=Nn(c.integerValue||c.doubleValue),E=Nn(p.integerValue||p.doubleValue);return _<E?-1:_>E?1:_===E?0:isNaN(_)?isNaN(E)?0:-1:1}(n,e);case 3:return w0(n.timestampValue,e.timestampValue);case 4:return w0(ga(n),ga(e));case 5:return On(n.stringValue,e.stringValue);case 6:return function(c,p){const _=li(c),E=li(p);return _.compareTo(E)}(n.bytesValue,e.bytesValue);case 7:return function(c,p){const _=c.split("/"),E=p.split("/");for(let F=0;F<_.length&&F<E.length;F++){const H=On(_[F],E[F]);if(0!==H)return H}return On(_.length,E.length)}(n.referenceValue,e.referenceValue);case 8:return function(c,p){const _=On(Nn(c.latitude),Nn(p.latitude));return 0!==_?_:On(Nn(c.longitude),Nn(p.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(c,p){const _=c.values||[],E=p.values||[];for(let F=0;F<_.length&&F<E.length;++F){const H=pc(_[F],E[F]);if(H)return H}return On(_.length,E.length)}(n.arrayValue,e.arrayValue);case 10:return function(c,p){if(c===fc.mapValue&&p===fc.mapValue)return 0;if(c===fc.mapValue)return 1;if(p===fc.mapValue)return-1;const _=c.fields||{},E=Object.keys(_),F=p.fields||{},H=Object.keys(F);E.sort(),H.sort();for(let te=0;te<E.length&&te<H.length;++te){const pe=On(E[te],H[te]);if(0!==pe)return pe;const Be=pc(_[E[te]],F[H[te]]);if(0!==Be)return Be}return On(E.length,H.length)}(n.mapValue,e.mapValue);default:throw un()}}function w0(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return On(n,e);const t=En(n),i=En(e),c=On(t.seconds,i.seconds);return 0!==c?c:On(t.nanos,i.nanos)}function Cd(n){return jp(n)}function jp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const c=En(i);return`time(${c.seconds},${c.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?li(n.bytesValue).toBase64():"referenceValue"in n?Wt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let c="[",p=!0;for(const _ of i.values||[])p?p=!1:c+=",",c+=jp(_);return c+"]"}(n.arrayValue):"mapValue"in n?function(i){const c=Object.keys(i.fields||{}).sort();let p="{",_=!0;for(const E of c)_?_=!1:p+=",",p+=`${E}:${jp(i.fields[E])}`;return p+"}"}(n.mapValue):un();var e}function Sd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Eh(n){return!!n&&"integerValue"in n}function Ad(n){return!!n&&"arrayValue"in n}function bm(n){return!!n&&"nullValue"in n}function Vu(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Dh(n){return!!n&&"mapValue"in n}function Df(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return rr(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Df(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Df(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Iy(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Zo{constructor(e){this.value=e}static empty(){return new Zo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Dh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Df(t)}setAll(e){let t=Ws.emptyPath(),i={},c=[];e.forEach((_,E)=>{if(!t.isImmediateParentOf(E)){const F=this.getFieldsMap(t);this.applyChanges(F,i,c),i={},c=[],t=E.popLast()}_?i[E.lastSegment()]=Df(_):c.push(E.lastSegment())});const p=this.getFieldsMap(t);this.applyChanges(p,i,c)}delete(e){const t=this.field(e.popLast());Dh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ui(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let c=t.mapValue.fields[e.get(i)];Dh(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=c),t=c}return t.mapValue.fields}applyChanges(e,t,i){rr(t,(c,p)=>e[c]=p);for(const c of i)delete e[c]}clone(){return new Zo(Df(this.value))}}function mT(n){const e=[];return rr(n.fields,(t,i)=>{const c=new Ws([t]);if(Dh(i)){const p=mT(i.mapValue).fields;if(0===p.length)e.push(c);else for(const _ of p)e.push(c.child(_))}else e.push(c)}),new $r(e)}class is{constructor(e,t,i,c,p,_,E){this.key=e,this.documentType=t,this.version=i,this.readTime=c,this.createTime=p,this.data=_,this.documentState=E}static newInvalidDocument(e){return new is(e,0,kn.min(),kn.min(),kn.min(),Zo.empty(),0)}static newFoundDocument(e,t,i,c){return new is(e,1,t,kn.min(),i,c,0)}static newNoDocument(e,t){return new is(e,2,t,kn.min(),kn.min(),Zo.empty(),0)}static newUnknownDocument(e,t){return new is(e,3,t,kn.min(),kn.min(),Zo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(kn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof is&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new is(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Nd{constructor(e,t){this.position=e,this.inclusive=t}}function qb(n,e,t){let i=0;for(let c=0;c<n.position.length;c++){const p=e[c],_=n.position[c];if(i=p.field.isKeyField()?Wt.comparator(Wt.fromName(_.referenceValue),t.key):pc(_,t.data.field(p.field)),"desc"===p.dir&&(i*=-1),0!==i)break}return i}function I0(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ui(n.position[t],e.position[t]))return!1;return!0}class zp{constructor(e,t="asc"){this.field=e,this.dir=t}}function xD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Zb{}class Wr extends Zb{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new _T(e,t,i):"array-contains"===t?new bT(e,i):"in"===t?new ew(e,i):"not-in"===t?new E0(e,i):"array-contains-any"===t?new Sf(e,i):new Wr(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new yT(e,i):new vT(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(pc(t,this.value)):null!==t&&_s(this.value)===_s(t)&&this.matchesComparison(pc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return un()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ci extends Zb{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Ci(e,t)}matches(e){return Wp(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Wp(n){return"and"===n.op}function T0(n){return function Yb(n){for(const e of n.filters)if(e instanceof Ci)return!1;return!0}(n)&&Wp(n)}function Ty(n){if(n instanceof Wr)return n.field.canonicalString()+n.op.toString()+Cd(n.value);if(T0(n))return n.filters.map(e=>Ty(e)).join(",");{const e=n.filters.map(t=>Ty(t)).join(",");return`${n.op}(${e})`}}function Ey(n,e){return n instanceof Wr?(t=n,(i=e)instanceof Wr&&t.op===i.op&&t.field.isEqual(i.field)&&Ui(t.value,i.value)):n instanceof Ci?function(t,i){return i instanceof Ci&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((c,p,_)=>c&&Ey(p,i.filters[_]),!0)}(n,e):void un();var t,i}function Jb(n){return n instanceof Wr?`${(e=n).field.canonicalString()} ${e.op} ${Cd(e.value)}`:n instanceof Ci?function(e){return e.op.toString()+" {"+e.getFilters().map(Jb).join(" ,")+"}"}(n):"Filter";var e}class _T extends Wr{constructor(e,t,i){super(e,t,i),this.key=Wt.fromName(i.referenceValue)}matches(e){const t=Wt.comparator(e.key,this.key);return this.matchesComparison(t)}}class yT extends Wr{constructor(e,t){super(e,"in",t),this.keys=Xb(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class vT extends Wr{constructor(e,t){super(e,"not-in",t),this.keys=Xb(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Xb(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Wt.fromName(i.referenceValue))}class bT extends Wr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ad(t)&&au(t.arrayValue,this.value)}}class ew extends Wr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&au(this.value.arrayValue,t)}}class E0 extends Wr{constructor(e,t){super(e,"not-in",t)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!au(this.value.arrayValue,t)}}class Sf extends Wr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ad(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>au(this.value.arrayValue,i))}}class RD{constructor(e,t=null,i=[],c=[],p=null,_=null,E=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=c,this.limit=p,this.startAt=_,this.endAt=E,this.dt=null}}function tw(n,e=null,t=[],i=[],c=null,p=null,_=null){return new RD(n,e,t,i,c,p,_)}function Ch(n){const e=Jt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Ty(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(c=i).field.canonicalString()+c.dir;var c}).join(","),bh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Cd(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Cd(i)).join(",")),e.dt=t}return e.dt}function Hu(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!xD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Ey(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!I0(n.startAt,e.startAt)&&I0(n.endAt,e.endAt)}function Tm(n){return Wt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Af{constructor(e,t=null,i=[],c=[],p=null,_="F",E=null,F=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=c,this.limit=p,this.limitType=_,this.startAt=E,this.endAt=F,this.wt=null,this._t=null}}function Em(n){return new Af(n)}function nw(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function rw(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function oo(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function S0(n){return null!==n.collectionGroup}function qp(n){const e=Jt(n);if(null===e.wt){e.wt=[];const t=oo(e),i=rw(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new zp(t)),e.wt.push(new zp(Ws.keyField(),"asc"));else{let c=!1;for(const p of e.explicitOrderBy)e.wt.push(p),p.field.isKeyField()&&(c=!0);if(!c){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new zp(Ws.keyField(),p))}}}return e.wt}function Pc(n){const e=Jt(n);if(!e._t)if("F"===e.limitType)e._t=tw(e.path,e.collectionGroup,qp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const p of qp(e))t.push(new zp(p.field,"desc"===p.dir?"asc":"desc"));const i=e.endAt?new Nd(e.endAt.position,e.endAt.inclusive):null,c=e.startAt?new Nd(e.startAt.position,e.startAt.inclusive):null;e._t=tw(e.path,e.collectionGroup,t,e.filters,e.limit,i,c)}return e._t}function A0(n,e){e.getFirstInequalityField(),oo(n);const t=n.filters.concat([e]);return new Af(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function N0(n,e,t){return new Af(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Dm(n,e){return Hu(Pc(n),Pc(e))&&n.limitType===e.limitType}function iw(n){return`${Ch(Pc(n))}|lt:${n.limitType}`}function Nf(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>Jb(i)).join(", ")}]`),bh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(c=i).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Cd(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Cd(i)).join(",")),`Target(${t})`}(Pc(n))}; limitType=${n.limitType})`}function Dy(n,e){return e.isFoundDocument()&&function(t,i){const c=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(c):Wt.isDocumentKey(t.path)?t.path.isEqual(c):t.path.isImmediateParentOf(c)}(n,e)&&function(t,i){for(const c of qp(t))if(!c.field.isKeyField()&&null===i.data.field(c.field))return!1;return!0}(n,e)&&function(t,i){for(const c of t.filters)if(!c.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(c,p,_){const E=qb(c,p,_);return c.inclusive?E<=0:E<0}(t.startAt,qp(t),i)||t.endAt&&!function(c,p,_){const E=qb(c,p,_);return c.inclusive?E>=0:E>0}(t.endAt,qp(t),i)));var t,i}function sw(n){return(e,t)=>{let i=!1;for(const c of qp(n)){const p=kD(c,e,t);if(0!==p)return p;i=i||c.field.isKeyField()}return 0}}function kD(n,e,t){const i=n.field.isKeyField()?Wt.comparator(e.key,t.key):function(c,p,_){const E=p.data.field(c),F=_.data.field(c);return null!==E&&null!==F?pc(E,F):un()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return un()}}class Od{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[c,p]of i)if(this.equalsFn(c,e))return p}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),c=this.inner[i];if(void 0===c)return this.inner[i]=[[e,t]],void this.innerSize++;for(let p=0;p<c.length;p++)if(this.equalsFn(c[p][0],e))return void(c[p]=[e,t]);c.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let c=0;c<i.length;c++)if(this.equalsFn(i[c][0],e))return 1===i.length?delete this.inner[t]:i.splice(c,1),this.innerSize--,!0;return!1}forEach(e){rr(this.inner,(t,i)=>{for(const[c,p]of i)e(c,p)})}isEmpty(){return ur(this.inner)}size(){return this.innerSize}}const aS=new vn(Wt.comparator);function kc(){return aS}const O0=new vn(Wt.comparator);function tl(...n){let e=O0;for(const t of n)e=e.insert(t.key,t);return e}function TT(n){let e=O0;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Gu(){return Fc()}function ju(){return Fc()}function Fc(){return new Od(n=>n.toString(),(n,e)=>n.isEqual(e))}const $u=new vn(Wt.comparator),ET=new Kn(Wt.comparator);function Dr(...n){let e=ET;for(const t of n)e=e.add(t);return e}const FD=new Kn(On);function DT(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ou(e)?"-0":e}}function CT(n){return{integerValue:""+n}}function M0(n,e){return function wh(n){return"number"==typeof n&&Number.isInteger(n)&&!ou(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?CT(e):DT(n,e)}class Of{constructor(){this._=void 0}}function LD(n,e,t){return n instanceof Cm?function(i,c){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return c&&pa(c)&&(c=rs(c)),c&&(p.fields.__previous_value__=c),{mapValue:p}}(t,e):n instanceof Mf?aw(n,e):n instanceof Md?NT(n,e):function(i,c){const p=AT(i,c),_=cw(p)+cw(i.gt);return Eh(p)&&Eh(i.gt)?CT(_):DT(i.serializer,_)}(n,e)}function ST(n,e,t){return n instanceof Mf?aw(n,e):n instanceof Md?NT(n,e):t}function AT(n,e){return n instanceof Zp?Eh(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Cm extends Of{}class Mf extends Of{constructor(e){super(),this.elements=e}}function aw(n,e){const t=lw(e);for(const i of n.elements)t.some(c=>Ui(c,i))||t.push(i);return{arrayValue:{values:t}}}class Md extends Of{constructor(e){super(),this.elements=e}}function NT(n,e){let t=lw(e);for(const i of n.elements)t=t.filter(c=>!Ui(c,i));return{arrayValue:{values:t}}}class Zp extends Of{constructor(e,t){super(),this.serializer=e,this.gt=t}}function cw(n){return Nn(n.integerValue||n.doubleValue)}function lw(n){return Ad(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Cy{constructor(e,t){this.field=e,this.transform=t}}class uw{constructor(e,t){this.version=e,this.transformResults=t}}class qi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new qi}static exists(e){return new qi(void 0,e)}static updateTime(e){return new qi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sy(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Sm{}function dw(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Nm(n.key,qi.none()):new Kp(n.key,n.data,qi.none());{const t=n.data,i=Zo.empty();let c=new Kn(Ws.comparator);for(let p of e.fields)if(!c.has(p)){let _=t.field(p);null===_&&p.length>1&&(p=p.popLast(),_=t.field(p)),null===_?i.delete(p):i.set(p,_),c=c.add(p)}return new Sh(n.key,i,new $r(c.toArray()),qi.none())}}function OT(n,e,t){n instanceof Kp?function(i,c,p){const _=i.value.clone(),E=RT(i.fieldTransforms,c,p.transformResults);_.setAll(E),c.convertToFoundDocument(p.version,_).setHasCommittedMutations()}(n,e,t):n instanceof Sh?function(i,c,p){if(!Sy(i.precondition,c))return void c.convertToUnknownDocument(p.version);const _=RT(i.fieldTransforms,c,p.transformResults),E=c.data;E.setAll(xT(i)),E.setAll(_),c.convertToFoundDocument(p.version,E).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Am(n,e,t,i){return n instanceof Kp?function(c,p,_,E){if(!Sy(c.precondition,p))return _;const F=c.value.clone(),H=PT(c.fieldTransforms,E,p);return F.setAll(H),p.convertToFoundDocument(p.version,F).setHasLocalMutations(),null}(n,e,t,i):n instanceof Sh?function(c,p,_,E){if(!Sy(c.precondition,p))return _;const F=PT(c.fieldTransforms,E,p),H=p.data;return H.setAll(xT(c)),H.setAll(F),p.convertToFoundDocument(p.version,H).setHasLocalMutations(),null===_?null:_.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(te=>te.field))}(n,e,t,i):(_=t,Sy(n.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):_);var p,_}function MT(n,e){let t=null;for(const i of n.fieldTransforms){const c=e.data.field(i.field),p=AT(i.transform,c||null);null!=p&&(null===t&&(t=Zo.empty()),t.set(i.field,p))}return t||null}function hw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Td(t,i,(c,p)=>function BD(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Mf&&i instanceof Mf||t instanceof Md&&i instanceof Md?Td(t.elements,i.elements,Ui):t instanceof Zp&&i instanceof Zp?Ui(t.gt,i.gt):t instanceof Cm&&i instanceof Cm);var t,i}(c,p))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Kp extends Sm{constructor(e,t,i,c=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class Sh extends Sm{constructor(e,t,i,c,p=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=c,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function xT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function RT(n,e,t){const i=new Map;Tn(n.length===t.length);for(let c=0;c<t.length;c++){const p=n[c],_=p.transform,E=e.data.field(p.field);i.set(p.field,ST(_,E,t[c]))}return i}function PT(n,e,t){const i=new Map;for(const c of n){const p=c.transform,_=t.data.field(c.field);i.set(c.field,LD(p,_,e))}return i}class Nm extends Sm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fw extends Sm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class pw{constructor(e,t,i,c){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=c}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let c=0;c<this.mutations.length;c++){const p=this.mutations[c];p.key.isEqual(e.key)&&OT(p,e,i[c])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Am(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Am(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=ju();return this.mutations.forEach(c=>{const p=e.get(c.key),_=p.overlayedDocument;let E=this.applyToLocalView(_,p.mutatedFields);E=t.has(c.key)?null:E;const F=dw(_,E);null!==F&&i.set(c.key,F),_.isValidDocument()||_.convertToNoDocument(kn.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Dr())}isEqual(e){return this.batchId===e.batchId&&Td(this.mutations,e.mutations,(t,i)=>hw(t,i))&&Td(this.baseMutations,e.baseMutations,(t,i)=>hw(t,i))}}class gw{constructor(e,t,i,c){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=c}static from(e,t,i){Tn(e.mutations.length===i.length);let c=$u;const p=e.mutations;for(let _=0;_<p.length;_++)c=c.insert(p[_].key,i[_].version);return new gw(e,t,i,c)}}class mw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class VD{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ko,oi;function FT(n){if(void 0===n)return ms("GRPC error has no .code"),rt.UNKNOWN;switch(n){case Ko.OK:return rt.OK;case Ko.CANCELLED:return rt.CANCELLED;case Ko.UNKNOWN:return rt.UNKNOWN;case Ko.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case Ko.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case Ko.INTERNAL:return rt.INTERNAL;case Ko.UNAVAILABLE:return rt.UNAVAILABLE;case Ko.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case Ko.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case Ko.NOT_FOUND:return rt.NOT_FOUND;case Ko.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case Ko.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case Ko.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case Ko.ABORTED:return rt.ABORTED;case Ko.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case Ko.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case Ko.DATA_LOSS:return rt.DATA_LOSS;default:return un()}}(oi=Ko||(Ko={}))[oi.OK=0]="OK",oi[oi.CANCELLED=1]="CANCELLED",oi[oi.UNKNOWN=2]="UNKNOWN",oi[oi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oi[oi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oi[oi.NOT_FOUND=5]="NOT_FOUND",oi[oi.ALREADY_EXISTS=6]="ALREADY_EXISTS",oi[oi.PERMISSION_DENIED=7]="PERMISSION_DENIED",oi[oi.UNAUTHENTICATED=16]="UNAUTHENTICATED",oi[oi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oi[oi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oi[oi.ABORTED=10]="ABORTED",oi[oi.OUT_OF_RANGE=11]="OUT_OF_RANGE",oi[oi.UNIMPLEMENTED=12]="UNIMPLEMENTED",oi[oi.INTERNAL=13]="INTERNAL",oi[oi.UNAVAILABLE=14]="UNAVAILABLE",oi[oi.DATA_LOSS=15]="DATA_LOSS";class _w{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return x0}static getOrCreateInstance(){return null===x0&&(x0=new _w),x0}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let x0=null;const BT=new Id([4294967295,4294967295],0);function yw(n){const e=function LT(){return new TextEncoder}().encode(n),t=new l0;return t.update(e),new Uint8Array(t.digest())}function vw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),c=e.getUint32(8,!0),p=e.getUint32(12,!0);return[new Id([t,i],0),new Id([c,p],0)]}class R0{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Om(`Invalid padding: ${t}`);if(i<0)throw new Om(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Om(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Om(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Id.fromNumber(this.It)}Et(e,t,i){let c=e.add(t.multiply(Id.fromNumber(i)));return 1===c.compare(BT)&&(c=new Id([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=yw(e),[i,c]=vw(t);for(let p=0;p<this.hashCount;p++){const _=this.Et(i,c,p);if(!this.At(_))return!1}return!0}static create(e,t,i){const c=e%8==0?0:8-e%8,p=new Uint8Array(Math.ceil(e/8)),_=new R0(p,c,t);return i.forEach(E=>_.insert(E)),_}insert(e){if(0===this.It)return;const t=yw(e),[i,c]=vw(t);for(let p=0;p<this.hashCount;p++){const _=this.Et(i,c,p);this.Rt(_)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Om extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mm{constructor(e,t,i,c,p){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=c,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const c=new Map;return c.set(e,xm.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Mm(kn.min(),c,new vn(On),kc(),Dr())}}class xm{constructor(e,t,i,c,p){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=c,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new xm(i,t,Dr(),Dr(),Dr())}}class Ay{constructor(e,t,i,c){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=c}}class bw{constructor(e,t){this.targetId=e,this.Vt=t}}class P0{constructor(e,t,i=Pt.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=c}}class ww{constructor(){this.St=0,this.Dt=VT(),this.Ct=Pt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Dr(),t=Dr(),i=Dr();return this.Dt.forEach((c,p)=>{switch(p){case 0:e=e.add(c);break;case 2:t=t.add(c);break;case 1:i=i.add(c);break;default:un()}}),new xm(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=VT()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Yp{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=kc(),this.zt=UT(),this.Wt=new vn(On)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:un()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,c)=>{this.te(c)&&t(c)})}ne(e){var t;const i=e.targetId,c=e.Vt.count,p=this.se(i);if(p){const _=p.target;if(Tm(_))if(0===c){const E=new Wt(_.path);this.Yt(i,E,is.newNoDocument(E,kn.min()))}else Tn(1===c);else{const E=this.ie(i);if(E!==c){const F=this.re(e,E);0!==F&&(this.ee(i),this.Wt=this.Wt.insert(i,2===F?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=_w.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(H,te,pe){var Be,lt,kt,rn,an,Cr;const ei={localCacheCount:te,existenceFilterCount:pe.count},Pr=pe.unchangedNames;return Pr&&(ei.bloomFilter={applied:0===H,hashCount:null!==(Be=Pr?.hashCount)&&void 0!==Be?Be:0,bitmapLength:null!==(rn=null===(kt=null===(lt=Pr?.bits)||void 0===lt?void 0:lt.bitmap)||void 0===kt?void 0:kt.length)&&void 0!==rn?rn:0,padding:null!==(Cr=null===(an=Pr?.bits)||void 0===an?void 0:an.padding)&&void 0!==Cr?Cr:0}),ei}(F,E,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:c}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:p="",padding:_=0},hashCount:E=0}=i;let F,H;try{F=li(p).toUint8Array()}catch(te){if(te instanceof Dl)return Rc("Decoding the base64 bloom filter in existence filter failed ("+te.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw te}try{H=new R0(F,_,E)}catch(te){return Rc(te instanceof Om?"BloomFilter error: ":"Applying bloom filter failed: ",te),1}return 0===H.It?1:c!==t-this.oe(e.targetId,H)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let c=0;return i.forEach(p=>{const _=this.Gt.ue(),E=`projects/${_.projectId}/databases/${_.database}/documents/${p.path.canonicalString()}`;t.vt(E)||(this.Yt(e,p,null),c++)}),c}ce(e){const t=new Map;this.Qt.forEach((p,_)=>{const E=this.se(_);if(E){if(p.current&&Tm(E.target)){const F=new Wt(E.target.path);null!==this.jt.get(F)||this.ae(_,F)||this.Yt(_,F,is.newNoDocument(F,e))}p.Mt&&(t.set(_,p.Ot()),p.Ft())}});let i=Dr();this.zt.forEach((p,_)=>{let E=!0;_.forEachWhile(F=>{const H=this.se(F);return!H||"TargetPurposeLimboResolution"===H.purpose||(E=!1,!1)}),E&&(i=i.add(p))}),this.jt.forEach((p,_)=>_.setReadTime(e));const c=new Mm(e,t,this.Wt,this.jt,i);return this.jt=kc(),this.zt=UT(),this.Wt=new vn(On),c}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const c=this.Zt(e);this.ae(e,t)?c.Bt(t,1):c.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new ww,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Kn(On),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Nt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new ww),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function UT(){return new vn(Wt.comparator)}function VT(){return new vn(Wt.comparator)}const Rm={asc:"ASCENDING",desc:"DESCENDING"},cS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Iw={and:"AND",or:"OR"};class lS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function k0(n,e){return n.useProto3Json||bh(e)?e:{value:e}}function Qp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HD(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Pm(n,e){return Qp(n,e.toTimestamp())}function To(n){return Tn(!!n),kn.fromTimestamp(function(e){const t=En(e);return new zi(t.seconds,t.nanos)}(n))}function Tw(n,e){return(t=n,new jr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function HT(n){const e=jr.fromString(n);return Tn(Lm(e)),e}function xd(n,e){return Tw(n.databaseId,e.path)}function Rd(n,e){const t=HT(e);if(t.get(1)!==n.databaseId.projectId)throw new Ct(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ct(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Wt(GD(t))}function km(n,e){return Tw(n.databaseId,e)}function Na(n){return new jr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function GD(n){return Tn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Ew(n,e,t){return{name:xd(n,e),fields:t.value.mapValue.fields}}function $T(n,e){return{documents:[km(n,e.path)]}}function Cw(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=km(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=km(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const c=function(F){if(0!==F.length)return Sw(Ci.create(F,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const p=function(F){if(0!==F.length)return F.map(H=>{return{field:Ah((te=H).field),direction:$D(te.dir)};var te})}(e.orderBy);p&&(t.structuredQuery.orderBy=p);const _=k0(n,e.limit);var E,F;return null!==_&&(t.structuredQuery.limit=_),e.startAt&&(t.structuredQuery.startAt={before:(E=e.startAt).inclusive,values:E.position}),e.endAt&&(t.structuredQuery.endAt={before:!(F=e.endAt).inclusive,values:F.position}),t}function zT(n){let e=function Ny(n){const e=HT(n);return 4===e.length?jr.emptyPath():GD(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let c=null;if(i>0){Tn(1===i);const te=t.from[0];te.allDescendants?c=te.collectionId:e=e.child(te.collectionId)}let p=[];t.where&&(p=function(te){const pe=WT(te);return pe instanceof Ci&&T0(pe)?pe.getFilters():[pe]}(t.where));let _=[];t.orderBy&&(_=t.orderBy.map(te=>{return new zp(Jp((pe=te).field),function(Be){switch(Be){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(pe.direction));var pe}));let E=null;t.limit&&(E=function(te){let pe;return pe="object"==typeof te?te.value:te,bh(pe)?null:pe}(t.limit));let F=null;var te;t.startAt&&(F=new Nd((te=t.startAt).values||[],!!te.before));let H=null;return t.endAt&&(H=function(te){return new Nd(te.values||[],!te.before)}(t.endAt)),function wT(n,e,t,i,c,p,_,E){return new Af(n,e,t,i,c,p,_,E)}(e,c,_,p,E,"F",F,H)}function WT(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Jp(e.unaryFilter.field);return Wr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Jp(e.unaryFilter.field);return Wr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Jp(e.unaryFilter.field);return Wr.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Jp(e.unaryFilter.field);return Wr.create(p,"!=",{nullValue:"NULL_VALUE"});default:return un()}}(n):void 0!==n.fieldFilter?Wr.create(Jp((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return un()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Ci.create(e.compositeFilter.filters.map(t=>WT(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return un()}}(e.compositeFilter.op))}(n):un();var e}function $D(n){return Rm[n]}function zD(n){return cS[n]}function L0(n){return Iw[n]}function Ah(n){return{fieldPath:n.canonicalString()}}function Jp(n){return Ws.fromServerFormat(n.fieldPath)}function Sw(n){return n instanceof Wr?function(e){if("=="===e.op){if(Vu(e.value))return{unaryFilter:{field:Ah(e.field),op:"IS_NAN"}};if(bm(e.value))return{unaryFilter:{field:Ah(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Vu(e.value))return{unaryFilter:{field:Ah(e.field),op:"IS_NOT_NAN"}};if(bm(e.value))return{unaryFilter:{field:Ah(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ah(e.field),op:zD(e.op),value:e.value}}}(n):n instanceof Ci?function(e){const t=e.getFilters().map(i=>Sw(i));return 1===t.length?t[0]:{compositeFilter:{op:L0(e.op),filters:t}}}(n):un()}function WD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Lm(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Cl{constructor(e,t,i,c,p=kn.min(),_=kn.min(),E=Pt.EMPTY_BYTE_STRING,F=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=c,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=E,this.expectedCount=F}withSequenceNumber(e){return new Cl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Cl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class qT{constructor(e){this.fe=e}}function Aw(n){const e=zT({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?N0(e,e.limit,"L"):e}class Pf{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Nn(e.integerValue));else if("doubleValue"in e){const i=Nn(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),ou(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(li(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?Iy(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):un()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const c of Object.keys(i))this.Te(c,t),this.me(i[c],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const c of i)this.me(c,t)}ve(e,t){this.ye(t,37),Wt.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Pf.Ve=new Pf;class tC{constructor(){this.rn=new G0}addToCollectionParentIndex(e,t){return this.rn.add(t),qe.resolve()}getCollectionParents(e,t){return qe.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return qe.resolve()}deleteFieldIndex(e,t){return qe.resolve()}getDocumentsMatchingTarget(e,t){return qe.resolve(null)}getIndexType(e,t){return qe.resolve(0)}getFieldIndexes(e,t){return qe.resolve([])}getNextCollectionGroupToUpdate(e){return qe.resolve(null)}getMinOffset(e,t){return qe.resolve(dc.min())}getMinOffsetFromCollectionGroup(e,t){return qe.resolve(dc.min())}updateCollectionGroup(e,t,i){return qe.resolve()}updateIndexEntries(e,t){return qe.resolve()}}class G0{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),c=this.index[t]||new Kn(jr.comparator),p=!c.has(i);return this.index[t]=c.add(i),p}has(e){const t=e.lastSegment(),i=e.popLast(),c=this.index[t];return c&&c.has(i)}getEntries(e){return(this.index[e]||new Kn(jr.comparator)).toArray()}}new Uint8Array(0);class gc{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new gc(e,gc.DEFAULT_COLLECTION_PERCENTILE,gc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}gc.DEFAULT_COLLECTION_PERCENTILE=10,gc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gc.DEFAULT=new gc(41943040,gc.DEFAULT_COLLECTION_PERCENTILE,gc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gc.DISABLED=new gc(-1,0,0);class Ff{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ff(0)}static Mn(){return new Ff(-1)}}class iC{constructor(){this.changes=new Od(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,is.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?qe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Bw{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class q0{constructor(e,t,i,c){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=c}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(c=>(i=c,this.remoteDocumentCache.getEntry(e,t))).next(c=>(null!==i&&Am(i.mutation,c,$r.empty(),zi.now()),c))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Dr()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Dr()){const c=Gu();return this.populateOverlays(e,c,t).next(()=>this.computeViews(e,t,c,i).next(p=>{let _=tl();return p.forEach((E,F)=>{_=_.insert(E,F.overlayedDocument)}),_}))}getOverlayedDocuments(e,t){const i=Gu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Dr()))}populateOverlays(e,t,i){const c=[];return i.forEach(p=>{t.has(p)||c.push(p)}),this.documentOverlayCache.getOverlays(e,c).next(p=>{p.forEach((_,E)=>{t.set(_,E)})})}computeViews(e,t,i,c){let p=kc();const _=Fc(),E=Fc();return t.forEach((F,H)=>{const te=i.get(H.key);c.has(H.key)&&(void 0===te||te.mutation instanceof Sh)?p=p.insert(H.key,H):void 0!==te?(_.set(H.key,te.mutation.getFieldMask()),Am(te.mutation,H,te.mutation.getFieldMask(),zi.now())):_.set(H.key,$r.empty())}),this.recalculateAndSaveOverlays(e,p).next(F=>(F.forEach((H,te)=>_.set(H,te)),t.forEach((H,te)=>{var pe;return E.set(H,new Bw(te,null!==(pe=_.get(H))&&void 0!==pe?pe:null))}),E))}recalculateAndSaveOverlays(e,t){const i=Fc();let c=new vn((_,E)=>_-E),p=Dr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(_=>{for(const E of _)E.keys().forEach(F=>{const H=t.get(F);if(null===H)return;let te=i.get(F)||$r.empty();te=E.applyToLocalView(H,te),i.set(F,te);const pe=(c.get(E.batchId)||Dr()).add(F);c=c.insert(E.batchId,pe)})}).next(()=>{const _=[],E=c.getReverseIterator();for(;E.hasNext();){const F=E.getNext(),H=F.key,te=F.value,pe=ju();te.forEach(Be=>{if(!p.has(Be)){const lt=dw(t.get(Be),i.get(Be));null!==lt&&pe.set(Be,lt),p=p.add(Be)}}),_.push(this.documentOverlayCache.saveOverlays(e,H,pe))}return qe.waitFor(_)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Wt.isDocumentKey((c=t).path)&&null===c.collectionGroup&&0===c.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):S0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var c}getNextDocuments(e,t,i,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,c).next(p=>{const _=c-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,c-p.size):qe.resolve(Gu());let E=-1,F=p;return _.next(H=>qe.forEach(H,(te,pe)=>(E<pe.largestBatchId&&(E=pe.largestBatchId),p.get(te)?qe.resolve():this.remoteDocumentCache.getEntry(e,te).next(Be=>{F=F.insert(te,Be)}))).next(()=>this.populateOverlays(e,H,p)).next(()=>this.computeViews(e,F,H,Dr())).next(te=>({batchId:E,changes:TT(te)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Wt(t)).next(i=>{let c=tl();return i.isFoundDocument()&&(c=c.insert(i.key,i)),c})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const c=t.collectionGroup;let p=tl();return this.indexManager.getCollectionParents(e,c).next(_=>qe.forEach(_,E=>{const F=(H=t,te=E.child(c),new Af(te,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,te;return this.getDocumentsMatchingCollectionQuery(e,F,i).next(H=>{H.forEach((te,pe)=>{p=p.insert(te,pe)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,t,i){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,c))).next(p=>{c.forEach((E,F)=>{const H=F.getKey();null===p.get(H)&&(p=p.insert(H,is.newInvalidDocument(H)))});let _=tl();return p.forEach((E,F)=>{const H=c.get(E);void 0!==H&&Am(H.mutation,F,$r.empty(),zi.now()),Dy(t,F)&&(_=_.insert(E,F))}),_})}}class cC{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return qe.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:To(i.createTime)}),qe.resolve()}getNamedQuery(e,t){return qe.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:Aw(i.bundledQuery),readTime:To(i.readTime)}),qe.resolve();var i}}class lE{constructor(){this.overlays=new vn(Wt.comparator),this.ls=new Map}getOverlay(e,t){return qe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Gu();return qe.forEach(t,c=>this.getOverlay(e,c).next(p=>{null!==p&&i.set(c,p)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((c,p)=>{this.we(e,t,p)}),qe.resolve()}removeOverlaysForBatchId(e,t,i){const c=this.ls.get(i);return void 0!==c&&(c.forEach(p=>this.overlays=this.overlays.remove(p)),this.ls.delete(i)),qe.resolve()}getOverlaysForCollection(e,t,i){const c=Gu(),p=t.length+1,_=new Wt(t.child("")),E=this.overlays.getIteratorFrom(_);for(;E.hasNext();){const F=E.getNext().value,H=F.getKey();if(!t.isPrefixOf(H.path))break;H.path.length===p&&F.largestBatchId>i&&c.set(F.getKey(),F)}return qe.resolve(c)}getOverlaysForCollectionGroup(e,t,i,c){let p=new vn((H,te)=>H-te);const _=this.overlays.getIterator();for(;_.hasNext();){const H=_.getNext().value;if(H.getKey().getCollectionGroup()===t&&H.largestBatchId>i){let te=p.get(H.largestBatchId);null===te&&(te=Gu(),p=p.insert(H.largestBatchId,te)),te.set(H.getKey(),H)}}const E=Gu(),F=p.getIterator();for(;F.hasNext()&&(F.getNext().value.forEach((H,te)=>E.set(H,te)),!(E.size()>=c)););return qe.resolve(E)}we(e,t,i){const c=this.overlays.get(i.key);if(null!==c){const _=this.ls.get(c.largestBatchId).delete(i.key);this.ls.set(c.largestBatchId,_)}this.overlays=this.overlays.insert(i.key,new mw(t,i));let p=this.ls.get(t);void 0===p&&(p=Dr(),this.ls.set(t,p)),this.ls.set(t,p.add(i.key))}}class Z0{constructor(){this.fs=new Kn(Oa.ds),this.ws=new Kn(Oa._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Oa(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Oa(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new Wt(new jr([])),i=new Oa(t,e),c=new Oa(t,e+1),p=[];return this.ws.forEachInRange([i,c],_=>{this.ys(_),p.push(_.key)}),p}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Wt(new jr([])),i=new Oa(t,e),c=new Oa(t,e+1);let p=Dr();return this.ws.forEachInRange([i,c],_=>{p=p.add(_.key)}),p}containsKey(e){const t=new Oa(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Oa{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Wt.comparator(e.key,t.key)||On(e.As,t.As)}static _s(e,t){return On(e.As,t.As)||Wt.comparator(e.key,t.key)}}class uE{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Kn(Oa.ds)}checkEmpty(e){return qe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,c){const p=this.vs;this.vs++;const _=new pw(p,t,i,c);this.mutationQueue.push(_);for(const E of c)this.Rs=this.Rs.add(new Oa(E.key,p)),this.indexManager.addToCollectionParentIndex(e,E.key.path.popLast());return qe.resolve(_)}lookupMutationBatch(e,t){return qe.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const c=this.bs(t+1),p=c<0?0:c;return qe.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return qe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Oa(t,0),c=new Oa(t,Number.POSITIVE_INFINITY),p=[];return this.Rs.forEachInRange([i,c],_=>{const E=this.Ps(_.As);p.push(E)}),qe.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Kn(On);return t.forEach(c=>{const p=new Oa(c,0),_=new Oa(c,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([p,_],E=>{i=i.add(E.As)})}),qe.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,c=i.length+1;let p=i;Wt.isDocumentKey(p)||(p=p.child(""));const _=new Oa(new Wt(p),0);let E=new Kn(On);return this.Rs.forEachWhile(F=>{const H=F.key.path;return!!i.isPrefixOf(H)&&(H.length===c&&(E=E.add(F.As)),!0)},_),qe.resolve(this.Vs(E))}Vs(e){const t=[];return e.forEach(i=>{const c=this.Ps(i);null!==c&&t.push(c)}),t}removeMutationBatch(e,t){Tn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return qe.forEach(t.mutations,c=>{const p=new Oa(c.key,t.batchId);return i=i.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Oa(t,0),c=this.Rs.firstAfterOrEqual(i);return qe.resolve(t.isEqual(c&&c.key))}performConsistencyCheck(e){return qe.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Uw{constructor(e){this.Ds=e,this.docs=new vn(Wt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,c=this.docs.get(i),p=c?c.size:0,_=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:_}),this.size+=_-p,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return qe.resolve(i?i.document.mutableCopy():is.newInvalidDocument(t))}getEntries(e,t){let i=kc();return t.forEach(c=>{const p=this.docs.get(c);i=i.insert(c,p?p.document.mutableCopy():is.newInvalidDocument(c))}),qe.resolve(i)}getDocumentsMatchingQuery(e,t,i,c){let p=kc();const _=t.path,E=new Wt(_.child("")),F=this.docs.getIteratorFrom(E);for(;F.hasNext();){const{key:H,value:{document:te}}=F.getNext();if(!_.isPrefixOf(H.path))break;H.path.length>_.length+1||Hp(wy(te),i)<=0||(c.has(te.key)||Dy(t,te))&&(p=p.insert(te.key,te.mutableCopy()))}return qe.resolve(p)}getAllFromCollectionGroup(e,t,i,c){un()}Cs(e,t){return qe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new dE(this)}getSize(e){return qe.resolve(this.size)}}class dE extends iC{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,c)=>{c.isValidDocument()?t.push(this.os.addEntry(e,c)):this.os.removeEntry(i)}),qe.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class hE{constructor(e){this.persistence=e,this.xs=new Od(t=>Ch(t),Hu),this.lastRemoteSnapshotVersion=kn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Z0,this.targetCount=0,this.Ms=Ff.kn()}forEachTarget(e,t){return this.xs.forEach((i,c)=>t(c)),qe.resolve()}getLastRemoteSnapshotVersion(e){return qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return qe.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),qe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),qe.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Ff(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,qe.resolve()}updateTargetData(e,t){return this.Fn(t),qe.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,qe.resolve()}removeTargets(e,t,i){let c=0;const p=[];return this.xs.forEach((_,E)=>{E.sequenceNumber<=t&&null===i.get(E.targetId)&&(this.xs.delete(_),p.push(this.removeMatchingKeysForTargetId(e,E.targetId)),c++)}),qe.waitFor(p).next(()=>c)}getTargetCount(e){return qe.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return qe.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),qe.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const c=this.persistence.referenceDelegate,p=[];return c&&t.forEach(_=>{p.push(c.markPotentiallyOrphaned(e,_))}),qe.waitFor(p)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),qe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return qe.resolve(i)}containsKey(e,t){return qe.resolve(this.ks.containsKey(t))}}class K0{constructor(e,t){this.$s={},this.overlays={},this.Os=new ts(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new hE(this),this.indexManager=new tC,this.remoteDocumentCache=new Uw(i=>this.referenceDelegate.Ls(i)),this.serializer=new qT(t),this.qs=new cC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new uE(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){Nt("MemoryPersistence","Starting transaction:",e);const c=new fE(this.Os.next());return this.referenceDelegate.Us(),i(c).next(p=>this.referenceDelegate.Ks(c).next(()=>p)).toPromise().then(p=>(c.raiseOnCommittedEvent(),p))}Gs(e,t){return qe.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class fE extends $b{constructor(e){super(),this.currentSequenceNumber=e}}class Y0{constructor(e){this.persistence=e,this.Qs=new Z0,this.js=null}static zs(e){return new Y0(e)}get Ws(){if(this.js)return this.js;throw un()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),qe.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),qe.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),qe.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(c=>this.Ws.add(c.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(c=>{c.forEach(p=>this.Ws.add(p.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qe.forEach(this.Ws,i=>{const c=Wt.fromPath(i);return this.Hs(e,c).next(p=>{p||t.removeEntry(c,kn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return qe.or([()=>qe.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class mE{constructor(e,t,i,c){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=c}static Li(e,t){let i=Dr(),c=Dr();for(const p of t.docChanges)switch(p.type){case 0:i=i.add(p.doc.key);break;case 1:c=c.add(p.doc.key)}return new mE(e,t.fromCache,i,c)}}class _E{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,c){return this.Ki(e,t).next(p=>p||this.Gi(e,t,c,i)).next(p=>p||this.Qi(e,t))}Ki(e,t){if(nw(t))return qe.resolve(null);let i=Pc(t);return this.indexManager.getIndexType(e,i).next(c=>0===c?null:(null!==t.limit&&1===c&&(t=N0(t,null,"F"),i=Pc(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(p=>{const _=Dr(...p);return this.Ui.getDocuments(e,_).next(E=>this.indexManager.getMinOffset(e,i).next(F=>{const H=this.ji(t,E);return this.zi(t,H,_,F.readTime)?this.Ki(e,N0(t,null,"F")):this.Wi(e,H,t,F)}))})))}Gi(e,t,i,c){return nw(t)||c.isEqual(kn.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(p=>{const _=this.ji(t,p);return this.zi(t,_,i,c)?this.Qi(e,t):(vy()<=Ee.in.DEBUG&&Nt("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Nf(t)),this.Wi(e,_,t,function y0(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,c=kn.fromTimestamp(1e9===i?new zi(t+1,0):new zi(t,i));return new dc(c,Wt.empty(),e)}(c,-1)))})}ji(e,t){let i=new Kn(sw(e));return t.forEach((c,p)=>{Dy(e,p)&&(i=i.add(p))}),i}zi(e,t,i,c){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const p="F"===e.limitType?t.last():t.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(c)>0)}Qi(e,t){return vy()<=Ee.in.DEBUG&&Nt("QueryEngine","Using full collection scan to execute query:",Nf(t)),this.Ui.getDocumentsMatchingQuery(e,t,dc.min())}Wi(e,t,i,c){return this.Ui.getDocumentsMatchingQuery(e,i,c).next(p=>(t.forEach(_=>{p=p.insert(_.key,_)}),p))}}class uC{constructor(e,t,i,c){this.persistence=e,this.Hi=t,this.serializer=c,this.Ji=new vn(On),this.Yi=new Od(p=>Ch(p),Hu),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new q0(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Hw(n,e){return e1.apply(this,arguments)}function e1(){return e1=(0,de.Z)(function*(n,e){const t=Jt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let c;return t.mutationQueue.getAllMutationBatches(i).next(p=>(c=p,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(p=>{const _=[],E=[];let F=Dr();for(const H of c){_.push(H.batchId);for(const te of H.mutations)F=F.add(te.key)}for(const H of p){E.push(H.batchId);for(const te of H.mutations)F=F.add(te.key)}return t.localDocuments.getDocuments(i,F).next(H=>({er:H,removedBatchIds:_,addedBatchIds:E}))})})}),e1.apply(this,arguments)}function bE(n){const e=Jt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function hC(n,e){const t=Jt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Zm(n,e,t){return tg.apply(this,arguments)}function tg(){return tg=(0,de.Z)(function*(n,e,t){const i=Jt(n),c=i.Ji.get(e),p=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",p,_=>i.persistence.referenceDelegate.removeTarget(_,c)))}catch(_){if(!su(_))throw _;Nt("LocalStore",`Failed to update sequence numbers for target ${e}: ${_}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(c.target)}),tg.apply(this,arguments)}function By(n,e,t){const i=Jt(n);let c=kn.min(),p=Dr();return i.persistence.runTransaction("Execute query","readonly",_=>function(E,F,H){const te=Jt(E),pe=te.Yi.get(H);return void 0!==pe?qe.resolve(te.Ji.get(pe)):te.Bs.getTargetData(F,H)}(i,_,Pc(e)).next(E=>{if(E)return c=E.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(_,E.targetId).next(F=>{p=F})}).next(()=>i.Hi.getDocumentsMatchingQuery(_,e,t?c:kn.min(),t?p:Dr())).next(E=>(function $w(n,e,t){let i=n.Xi.get(e)||kn.min();t.forEach((c,p)=>{p.readTime.compareTo(i)>0&&(i=p.readTime)}),n.Xi.set(e,i)}(i,function IT(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),E),{documents:E,ir:p})))}class Ww{constructor(){this.activeTargetIds=function ow(){return FD}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EE{constructor(){this.Hr=new Ww,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Ww,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dS{Yr(e){}shutdown(){}}class DE{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let qw=null;function rg(){return null===qw?qw=268435456+Math.round(2147483648*Math.random()):qw++,"0x"+qw.toString(16)}const gC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mC{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const mc="WebChannelConnection";class s1 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,c,p){const _=rg(),E=this.To(e,t);Nt("RestConnection",`Sending RPC '${e}' ${_}:`,E,i);const F={};return this.Eo(F,c,p),this.Ao(e,E,F,i).then(H=>(Nt("RestConnection",`Received RPC '${e}' ${_}: `,H),H),H=>{throw Rc("RestConnection",`RPC '${e}' ${_} failed with error: `,H,"url: ",E,"request:",i),H})}vo(e,t,i,c,p,_){return this.Io(e,t,i,c,p)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+iu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((c,p)=>e[p]=c),i&&i.headers.forEach((c,p)=>e[p]=c)}To(e,t){return`${this.mo}/v1/${t}:${gC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,c){const p=rg();return new Promise((_,E)=>{const F=new _y;F.setWithCredentials(!0),F.listenOnce(Ub.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case pm.NO_ERROR:const te=F.getResponseJson();Nt(mc,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(te)),_(te);break;case pm.TIMEOUT:Nt(mc,`RPC '${e}' ${p} timed out`),E(new Ct(rt.DEADLINE_EXCEEDED,"Request time out"));break;case pm.HTTP_ERROR:const pe=F.getStatus();if(Nt(mc,`RPC '${e}' ${p} failed with status:`,pe,"response text:",F.getResponseText()),pe>0){let Be=F.getResponseJson();Array.isArray(Be)&&(Be=Be[0]);const lt=Be?.error;if(lt&&lt.status&&lt.message){const kt=function(rn){const an=rn.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(an)>=0?an:rt.UNKNOWN}(lt.status);E(new Ct(kt,lt.message))}else E(new Ct(rt.UNKNOWN,"Server responded with status "+F.getStatus()))}else E(new Ct(rt.UNAVAILABLE,"Connection failed."));break;default:un()}}finally{Nt(mc,`RPC '${e}' ${p} completed.`)}});const H=JSON.stringify(c);Nt(mc,`RPC '${e}' ${p} sending request:`,c),F.send(t,"POST",H,i,15)})}Ro(e,t,i){const c=rg(),p=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],_=gy(),E=Bb(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},H=this.longPollingOptions.timeoutSeconds;void 0!==H&&(F.longPollingTimeout=Math.round(1e3*H)),this.useFetchStreams&&(F.xmlHttpFactory=new _h({})),this.Eo(F.initMessageHeaders,t,i),F.encodeInitMessageHeaders=!0;const te=p.join("");Nt(mc,`Creating RPC '${e}' stream ${c}: ${te}`,F);const pe=_.createWebChannel(te,F);let Be=!1,lt=!1;const kt=new mC({ro:an=>{lt?Nt(mc,`Not sending because RPC '${e}' stream ${c} is closed:`,an):(Be||(Nt(mc,`Opening RPC '${e}' stream ${c} transport.`),pe.open(),Be=!0),Nt(mc,`RPC '${e}' stream ${c} sending:`,an),pe.send(an))},oo:()=>pe.close()}),rn=(an,Cr,ei)=>{an.listen(Cr,Pr=>{try{ei(Pr)}catch(Yo){setTimeout(()=>{throw Yo},0)}})};return rn(pe,wd.EventType.OPEN,()=>{lt||Nt(mc,`RPC '${e}' stream ${c} transport opened.`)}),rn(pe,wd.EventType.CLOSE,()=>{lt||(lt=!0,Nt(mc,`RPC '${e}' stream ${c} transport closed`),kt.wo())}),rn(pe,wd.EventType.ERROR,an=>{lt||(lt=!0,Rc(mc,`RPC '${e}' stream ${c} transport errored:`,an),kt.wo(new Ct(rt.UNAVAILABLE,"The operation could not be completed")))}),rn(pe,wd.EventType.MESSAGE,an=>{var Cr;if(!lt){const ei=an.data[0];Tn(!!ei);const Yo=ei.error||(null===(Cr=ei[0])||void 0===Cr?void 0:Cr.error);if(Yo){Nt(mc,`RPC '${e}' stream ${c} received error:`,Yo);const Do=Yo.status;let Zi=function(hg){const J1=Ko[hg];if(void 0!==J1)return FT(J1)}(Do),Uc=Yo.message;void 0===Zi&&(Zi=rt.INTERNAL,Uc="Unknown error status: "+Do+" with message "+Yo.message),lt=!0,kt.wo(new Ct(Zi,Uc)),pe.close()}else Nt(mc,`RPC '${e}' stream ${c} received:`,ei),kt._o(ei)}}),rn(E,gm.STAT_EVENT,an=>{an.stat===my.PROXY?Nt(mc,`RPC '${e}' stream ${c} detected buffering proxy`):an.stat===my.NOPROXY&&Nt(mc,`RPC '${e}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{kt.fo()},0),kt}}function o1(){return typeof document<"u"?document:null}function Km(n){return new lS(n,!0)}class Ym{constructor(e,t,i=1e3,c=1.5,p=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=c,this.Vo=p,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),c=Math.max(0,t-i);c>0&&Nt("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,c,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class CE{constructor(e,t,i,c,p,_,E,F){this.ii=e,this.$o=i,this.Oo=c,this.connection=p,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=E,this.listener=F,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Ym(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,de.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,de.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,de.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===rt.RESOURCE_EXHAUSTED?(ms(t.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===rt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,c])=>{this.Fo===t&&this.Zo(i,c)},i=>{e(()=>{const c=new Ct(rt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(c)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(c=>{i(()=>this.tu(c))}),this.stream.onMessage(c=>{i(()=>this.onMessage(c))})}Go(){var e=this;this.state=5,this.qo.No((0,de.Z)(function*(){e.state=0,e.start()}))}tu(e){return Nt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _C extends CE{constructor(e,t,i,c,p,_){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,c,_),this.serializer=p}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function GT(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(F=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===F?1:"REMOVE"===F?2:"CURRENT"===F?3:"RESET"===F?4:un(),c=e.targetChange.targetIds||[],p=function(F,H){return F.useProto3Json?(Tn(void 0===H||"string"==typeof H),Pt.fromBase64String(H||"")):(Tn(void 0===H||H instanceof Uint8Array),Pt.fromUint8Array(H||new Uint8Array))}(n,e.targetChange.resumeToken),_=e.targetChange.cause,E=_&&function(F){const H=void 0===F.code?rt.UNKNOWN:FT(F.code);return new Ct(H,F.message||"")}(_);t=new P0(i,c,p,E||null)}else if("documentChange"in e){const i=e.documentChange,c=Rd(n,i.document.name),p=To(i.document.updateTime),_=i.document.createTime?To(i.document.createTime):kn.min(),E=new Zo({mapValue:{fields:i.document.fields}}),F=is.newFoundDocument(c,p,_,E);t=new Ay(i.targetIds||[],i.removedTargetIds||[],F.key,F)}else if("documentDelete"in e){const i=e.documentDelete,c=Rd(n,i.document),p=i.readTime?To(i.readTime):kn.min(),_=is.newNoDocument(c,p);t=new Ay([],i.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){const i=e.documentRemove,c=Rd(n,i.document);t=new Ay([],i.removedTargetIds||[],c,null)}else{if(!("filter"in e))return un();{const i=e.filter,{count:c=0,unchangedNames:p}=i,_=new VD(c,p);t=new bw(i.targetId,_)}}var F;return t}(this.serializer,e),i=function(c){if(!("targetChange"in c))return kn.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?kn.min():p.readTime?To(p.readTime):kn.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Na(this.serializer),t.addTarget=function(c,p){let _;const E=p.target;if(_=Tm(E)?{documents:$T(c,E)}:{query:Cw(c,E)},_.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){_.resumeToken=HD(c,p.resumeToken);const F=k0(c,p.expectedCount);null!==F&&(_.expectedCount=F)}else if(p.snapshotVersion.compareTo(kn.min())>0){_.readTime=Qp(c,p.snapshotVersion.toTimestamp());const F=k0(c,p.expectedCount);null!==F&&(_.expectedCount=F)}return _}(this.serializer,e);const i=function Oy(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return un()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Na(this.serializer),t.removeTarget=e,this.Wo(t)}}class SE extends CE{constructor(e,t,i,c,p,_){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,c,_),this.serializer=p,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Tn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function jT(n,e){return n&&n.length>0?(Tn(void 0!==e),n.map(t=>function(i,c){let p=To(i.updateTime?i.updateTime:c);return p.isEqual(kn.min())&&(p=To(c)),new uw(p,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=To(e.commitTime);return this.listener.cu(i,t)}return Tn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Na(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function Fm(n,e){let t;if(e instanceof Kp)t={update:Ew(n,e.key,e.value)};else if(e instanceof Nm)t={delete:xd(n,e.key)};else if(e instanceof Sh)t={update:Ew(n,e.key,e.data),updateMask:WD(e.fieldMask)};else{if(!(e instanceof fw))return un();t={verify:xd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(c,p){const _=p.transform;if(_ instanceof Cm)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof Mf)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof Md)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof Zp)return{fieldPath:p.field.canonicalString(),increment:_.gt};throw un()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:Pm(n,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:un()),t;var c}(this.serializer,i))};this.Wo(t)}}class yC extends class{}{constructor(e,t,i,c){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=c,this.lu=!1}fu(){if(this.lu)throw new Ct(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.Io(e,t,i,c,p)).catch(c=>{throw"FirebaseError"===c.name?(c.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ct(rt.UNKNOWN,c.toString())})}vo(e,t,i,c){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,_])=>this.connection.vo(e,t,i,p,_,c)).catch(p=>{throw"FirebaseError"===p.name?(p.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Ct(rt.UNKNOWN,p.toString())})}terminate(){this.lu=!0}}class c1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ms(t),this.mu=!1):Nt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class bC{constructor(e,t,i,c,p){var _=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=p,this.Pu.Yr(E=>{i.enqueueAndForget((0,de.Z)(function*(){var F;Pd(_)&&(Nt("RemoteStore","Restarting streams for network reachability change."),yield(F=(0,de.Z)(function*(H){const te=Jt(H);te.vu.add(4),yield ig(te),te.bu.set("Unknown"),te.vu.delete(4),yield Hy(te)}),function(H){return F.apply(this,arguments)})(_))}))}),this.bu=new c1(i,c)}}function Hy(n){return l1.apply(this,arguments)}function l1(){return l1=(0,de.Z)(function*(n){if(Pd(n))for(const e of n.Ru)yield e(!0)}),l1.apply(this,arguments)}function ig(n){return Gy.apply(this,arguments)}function Gy(){return Gy=(0,de.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),Gy.apply(this,arguments)}function jy(n,e){const t=Jt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Qw(t)?Yw(t):qy(t).Ko()&&u1(t,e))}function $y(n,e){const t=Jt(n),i=qy(t);t.Au.delete(e),i.Ko()&&Kw(t,e),0===t.Au.size&&(i.Ko()?i.jo():Pd(t)&&t.bu.set("Unknown"))}function u1(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(kn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}qy(n).su(e)}function Kw(n,e){n.Vu.qt(e),qy(n).iu(e)}function Yw(n){n.Vu=new Yp({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),qy(n).start(),n.bu.gu()}function Qw(n){return Pd(n)&&!qy(n).Uo()&&n.Au.size>0}function Pd(n){return 0===Jt(n).vu.size}function d1(n){n.Vu=void 0}function AE(n){return zy.apply(this,arguments)}function zy(){return zy=(0,de.Z)(function*(n){n.Au.forEach((e,t)=>{u1(n,e)})}),zy.apply(this,arguments)}function Jw(n,e){return Xw.apply(this,arguments)}function Xw(){return Xw=(0,de.Z)(function*(n,e){d1(n),Qw(n)?(n.bu.Iu(e),Yw(n)):n.bu.set("Unknown")}),Xw.apply(this,arguments)}function wC(n,e,t){return eI.apply(this,arguments)}function eI(){return eI=(0,de.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof P0&&2===e.state&&e.cause)try{yield(i=(0,de.Z)(function*(c,p){const _=p.cause;for(const E of p.targetIds)c.Au.has(E)&&(yield c.remoteSyncer.rejectListen(E,_),c.Au.delete(E),c.Vu.removeTarget(E))}),function(c,p){return i.apply(this,arguments)})(n,e)}catch(i){Nt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield h1(n,i)}else if(e instanceof Ay?n.Vu.Ht(e):e instanceof bw?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(kn.min()))try{const i=yield bE(n.localStore);t.compareTo(i)>=0&&(yield function(c,p){const _=c.Vu.ce(p);return _.targetChanges.forEach((E,F)=>{if(E.resumeToken.approximateByteSize()>0){const H=c.Au.get(F);H&&c.Au.set(F,H.withResumeToken(E.resumeToken,p))}}),_.targetMismatches.forEach((E,F)=>{const H=c.Au.get(E);if(!H)return;c.Au.set(E,H.withResumeToken(Pt.EMPTY_BYTE_STRING,H.snapshotVersion)),Kw(c,E);const te=new Cl(H.target,E,F,H.sequenceNumber);u1(c,te)}),c.remoteSyncer.applyRemoteEvent(_)}(n,t))}catch(i){Nt("RemoteStore","Failed to raise snapshot:",i),yield h1(n,i)}var i}),eI.apply(this,arguments)}function h1(n,e,t){return f1.apply(this,arguments)}function f1(){return f1=(0,de.Z)(function*(n,e,t){if(!su(e))throw e;n.vu.add(1),yield ig(n),n.bu.set("Offline"),t||(t=()=>bE(n.localStore)),n.asyncQueue.enqueueRetryable((0,de.Z)(function*(){Nt("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Hy(n)}))}),f1.apply(this,arguments)}function p1(n,e){return e().catch(t=>h1(n,t,e))}function sg(n){return g1.apply(this,arguments)}function g1(){return g1=(0,de.Z)(function*(n){const e=Jt(n),t=og(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;NE(e);)try{const c=yield hC(e.localStore,i);if(null===c){0===e.Eu.length&&t.jo();break}i=c.batchId,OE(e,c)}catch(c){yield h1(e,c)}ME(e)&&tI(e)}),g1.apply(this,arguments)}function NE(n){return Pd(n)&&n.Eu.length<10}function OE(n,e){n.Eu.push(e);const t=og(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function ME(n){return Pd(n)&&!og(n).Uo()&&n.Eu.length>0}function tI(n){og(n).start()}function xE(n){return nI.apply(this,arguments)}function nI(){return nI=(0,de.Z)(function*(n){og(n).hu()}),nI.apply(this,arguments)}function RE(n){return m1.apply(this,arguments)}function m1(){return m1=(0,de.Z)(function*(n){const e=og(n);for(const t of n.Eu)e.uu(t.mutations)}),m1.apply(this,arguments)}function Lc(n,e,t){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,de.Z)(function*(n,e,t){const i=n.Eu.shift(),c=gw.from(i,e,t);yield p1(n,()=>n.remoteSyncer.applySuccessfulWrite(c)),yield sg(n)}),Bf.apply(this,arguments)}function IC(n,e){return rI.apply(this,arguments)}function rI(){return rI=(0,de.Z)(function*(n,e){var t;e&&og(n).ou&&(yield(t=(0,de.Z)(function*(i,c){if(function kT(n){switch(n){default:return un();case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0}}(p=c.code)&&p!==rt.ABORTED){const _=i.Eu.shift();og(i).Qo(),yield p1(i,()=>i.remoteSyncer.rejectFailedWrite(_.batchId,c)),yield sg(i)}var p}),function(i,c){return t.apply(this,arguments)})(n,e)),ME(n)&&tI(n)}),rI.apply(this,arguments)}function TC(n,e){return PE.apply(this,arguments)}function PE(){return PE=(0,de.Z)(function*(n,e){const t=Jt(n);t.asyncQueue.verifyOperationInProgress(),Nt("RemoteStore","RemoteStore received new credentials");const i=Pd(t);t.vu.add(3),yield ig(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Hy(t)}),PE.apply(this,arguments)}function Wy(){return Wy=(0,de.Z)(function*(n,e){const t=Jt(n);e?(t.vu.delete(2),yield Hy(t)):e||(t.vu.add(2),yield ig(t),t.bu.set("Unknown"))}),Wy.apply(this,arguments)}function qy(n){return n.Su||(n.Su=function(e,t,i){const c=Jt(e);return c.fu(),new _C(t,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,i)}(n.datastore,n.asyncQueue,{uo:AE.bind(null,n),ao:Jw.bind(null,n),nu:wC.bind(null,n)}),n.Ru.push(function(){var e=(0,de.Z)(function*(t){t?(n.Su.Qo(),Qw(n)?Yw(n):n.bu.set("Unknown")):(yield n.Su.stop(),d1(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function og(n){return n.Du||(n.Du=function(e,t,i){const c=Jt(e);return c.fu(),new SE(t,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,i)}(n.datastore,n.asyncQueue,{uo:xE.bind(null,n),ao:IC.bind(null,n),au:RE.bind(null,n),cu:Lc.bind(null,n)}),n.Ru.push(function(){var e=(0,de.Z)(function*(t){t?(n.Du.Qo(),yield sg(n)):(yield n.Du.stop(),n.Eu.length>0&&(Nt("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class kE{constructor(e,t,i,c,p){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=c,this.removalCallback=p,this.deferred=new zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}static createAndSchedule(e,t,i,c,p){const _=Date.now()+i,E=new kE(e,t,_,c,p);return E.start(i),E}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ct(rt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kd(n,e){if(ms("AsyncQueue",`${e}: ${n}`),su(n))return new Ct(rt.UNAVAILABLE,`${e}: ${n}`);throw n}class Qm{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Wt.comparator(t.key,i.key):(t,i)=>Wt.comparator(t.key,i.key),this.keyedMap=tl(),this.sortedSet=new vn(this.comparator)}static emptySet(e){return new Qm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const c=t.getNext().key,p=i.getNext().key;if(!c.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Qm;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class y1{constructor(){this.Cu=new vn(Wt.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):un():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Jm{constructor(e,t,i,c,p,_,E,F,H){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=c,this.mutatedKeys=p,this.fromCache=_,this.syncStateChanged=E,this.excludesMetadataChanges=F,this.hasCachedResults=H}static fromInitialDocuments(e,t,i,c,p){const _=[];return t.forEach(E=>{_.push({type:0,doc:E})}),new Jm(e,t,Qm.emptySet(t),_,i,c,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let c=0;c<t.length;c++)if(t[c].type!==i[c].type||!t[c].doc.isEqual(i[c].doc))return!1;return!0}}class FE{constructor(){this.Nu=void 0,this.listeners=[]}}class EC{constructor(){this.queries=new Od(e=>iw(e),Dm),this.onlineState="Unknown",this.ku=new Set}}function iI(n,e){return sI.apply(this,arguments)}function sI(){return sI=(0,de.Z)(function*(n,e){const t=Jt(n),i=e.query;let c=!1,p=t.queries.get(i);if(p||(c=!0,p=new FE),c)try{p.Nu=yield t.onListen(i)}catch(_){const E=kd(_,`Initialization of query '${Nf(e.query)}' failed`);return void e.onError(E)}t.queries.set(i,p),p.listeners.push(e),e.Mu(t.onlineState),p.Nu&&e.$u(p.Nu)&&Ky(t)}),sI.apply(this,arguments)}function Zy(n,e){return v1.apply(this,arguments)}function v1(){return v1=(0,de.Z)(function*(n,e){const t=Jt(n),i=e.query;let c=!1;const p=t.queries.get(i);if(p){const _=p.listeners.indexOf(e);_>=0&&(p.listeners.splice(_,1),c=0===p.listeners.length)}if(c)return t.queries.delete(i),t.onUnlisten(i)}),v1.apply(this,arguments)}function DC(n,e){const t=Jt(n);let i=!1;for(const c of e){const _=t.queries.get(c.query);if(_){for(const E of _.listeners)E.$u(c)&&(i=!0);_.Nu=c}}i&&Ky(t)}function b1(n,e,t){const i=Jt(n),c=i.queries.get(e);if(c)for(const p of c.listeners)p.onError(t);i.queries.delete(e)}function Ky(n){n.ku.forEach(e=>{e.next()})}class LE{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const c of e.docChanges)3!==c.type&&i.push(c);e=new Jm(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Jm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class HE{constructor(e){this.key=e}}class oI{constructor(e){this.key=e}}class w1{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Dr(),this.mutatedKeys=Dr(),this.tc=sw(e),this.ec=new Qm(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new y1,c=t?t.ec:this.ec;let p=t?t.mutatedKeys:this.mutatedKeys,_=c,E=!1;const F="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,H="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((te,pe)=>{const Be=c.get(te),lt=Dy(this.query,pe)?pe:null,kt=!!Be&&this.mutatedKeys.has(Be.key),rn=!!lt&&(lt.hasLocalMutations||this.mutatedKeys.has(lt.key)&&lt.hasCommittedMutations);let an=!1;Be&&lt?Be.data.isEqual(lt.data)?kt!==rn&&(i.track({type:3,doc:lt}),an=!0):this.rc(Be,lt)||(i.track({type:2,doc:lt}),an=!0,(F&&this.tc(lt,F)>0||H&&this.tc(lt,H)<0)&&(E=!0)):!Be&&lt?(i.track({type:0,doc:lt}),an=!0):Be&&!lt&&(i.track({type:1,doc:Be}),an=!0,(F||H)&&(E=!0)),an&&(lt?(_=_.add(lt),p=rn?p.add(te):p.delete(te)):(_=_.delete(te),p=p.delete(te)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const te="F"===this.query.limitType?_.last():_.first();_=_.delete(te.key),p=p.delete(te.key),i.track({type:1,doc:te})}return{ec:_,ic:i,zi:E,mutatedKeys:p}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const c=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const p=e.ic.xu();p.sort((H,te)=>function(pe,Be){const lt=kt=>{switch(kt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return un()}};return lt(pe)-lt(Be)}(H.type,te.type)||this.tc(H.doc,te.doc)),this.oc(i);const _=t?this.uc():[],E=0===this.Zu.size&&this.current?1:0,F=E!==this.Xu;return this.Xu=E,0!==p.length||F?{snapshot:new Jm(this.query,e.ec,c,p,e.mutatedKeys,0===E,F,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:_}:{cc:_}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new y1,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Dr(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new oI(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new HE(i))}),t}hc(e){this.Yu=e.ir,this.Zu=Dr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Jm.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class hS{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class CC{constructor(e){this.key=e,this.fc=!1}}class fS{constructor(e,t,i,c,p,_){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=c,this.currentUser=p,this.maxConcurrentLimboResolutions=_,this.dc={},this.wc=new Od(E=>iw(E),Dm),this._c=new Map,this.mc=new Set,this.gc=new vn(Wt.comparator),this.yc=new Map,this.Ic=new Z0,this.Tc={},this.Ec=new Map,this.Ac=Ff.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function SC(n,e){return aI.apply(this,arguments)}function aI(){return aI=(0,de.Z)(function*(n,e){const t=function yI(n){const e=Jt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$E.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AC.bind(null,e),e.dc.nu=DC.bind(null,e.eventManager),e.dc.Pc=b1.bind(null,e.eventManager),e}(n);let i,c;const p=t.wc.get(e);if(p)i=p.targetId,t.sharedClientState.addLocalQueryTarget(i),c=p.view.lc();else{const _=yield function qm(n,e){const t=Jt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let c;return t.Bs.getTargetData(i,e).next(p=>p?(c=p,qe.resolve(c)):t.Bs.allocateTargetId(i).next(_=>(c=new Cl(e,_,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,c).next(()=>c))))}).then(i=>{const c=t.Ji.get(i.targetId);return(null===c||i.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}(t.localStore,Pc(e)),E=t.sharedClientState.addLocalQueryTarget(_.targetId);i=_.targetId,c=yield function cI(n,e,t,i,c){return I1.apply(this,arguments)}(t,e,i,"current"===E,_.resumeToken),t.isPrimaryClient&&jy(t.remoteStore,_)}return c}),aI.apply(this,arguments)}function I1(){return I1=(0,de.Z)(function*(n,e,t,i,c){n.Rc=(pe,Be,lt)=>{return(kt=(0,de.Z)(function*(rn,an,Cr,ei){let Pr=an.view.sc(Cr);Pr.zi&&(Pr=yield By(rn.localStore,an.query,!1).then(({documents:Zi})=>an.view.sc(Zi,Pr)));const Yo=ei&&ei.targetChanges.get(an.targetId),Do=an.view.applyChanges(Pr,rn.isPrimaryClient,Yo);return KE(rn,an.targetId,Do.cc),Do.snapshot}),function(rn,an,Cr,ei){return kt.apply(this,arguments)})(n,pe,Be,lt);var kt};const p=yield By(n.localStore,e,!0),_=new w1(e,p.ir),E=_.sc(p.documents),F=xm.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,c),H=_.applyChanges(E,n.isPrimaryClient,F);KE(n,t,H.cc);const te=new hS(e,t,_);return n.wc.set(e,te),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),H.snapshot}),I1.apply(this,arguments)}function GE(n,e){return lI.apply(this,arguments)}function lI(){return lI=(0,de.Z)(function*(n,e){const t=Jt(n),i=t.wc.get(e),c=t._c.get(i.targetId);if(c.length>1)return t._c.set(i.targetId,c.filter(p=>!Dm(p,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Zm(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),$y(t.remoteStore,i.targetId),Yy(t,i.targetId)}).catch(yh))):(Yy(t,i.targetId),yield Zm(t.localStore,i.targetId,!0))}),lI.apply(this,arguments)}function T1(){return T1=(0,de.Z)(function*(n,e,t){const i=function vI(n){const e=Jt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zE.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WE.bind(null,e),e}(n);try{const c=yield function(p,_){const E=Jt(p),F=zi.now(),H=_.reduce((Be,lt)=>Be.add(lt.key),Dr());let te,pe;return E.persistence.runTransaction("Locally write mutations","readwrite",Be=>{let lt=kc(),kt=Dr();return E.Zi.getEntries(Be,H).next(rn=>{lt=rn,lt.forEach((an,Cr)=>{Cr.isValidDocument()||(kt=kt.add(an))})}).next(()=>E.localDocuments.getOverlayedDocuments(Be,lt)).next(rn=>{te=rn;const an=[];for(const Cr of _){const ei=MT(Cr,te.get(Cr.key).overlayedDocument);null!=ei&&an.push(new Sh(Cr.key,ei,mT(ei.value.mapValue),qi.exists(!0)))}return E.mutationQueue.addMutationBatch(Be,F,an,_)}).next(rn=>{pe=rn;const an=rn.applyToLocalDocumentSet(te,kt);return E.documentOverlayCache.saveOverlays(Be,rn.batchId,an)})}).then(()=>({batchId:pe.batchId,changes:TT(te)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(c.batchId),function(p,_,E){let F=p.Tc[p.currentUser.toKey()];F||(F=new vn(On)),F=F.insert(_,E),p.Tc[p.currentUser.toKey()]=F}(i,c.batchId,t),yield Uf(i,c.changes),yield sg(i.remoteStore)}catch(c){const p=kd(c,"Failed to persist write");t.reject(p)}}),T1.apply(this,arguments)}function $E(n,e){return uI.apply(this,arguments)}function uI(){return uI=(0,de.Z)(function*(n,e){const t=Jt(n);try{const i=yield function dC(n,e){const t=Jt(n),i=e.snapshotVersion;let c=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const _=t.Zi.newChangeBuffer({trackRemovals:!0});c=t.Ji;const E=[];e.targetChanges.forEach((te,pe)=>{const Be=c.get(pe);if(!Be)return;E.push(t.Bs.removeMatchingKeys(p,te.removedDocuments,pe).next(()=>t.Bs.addMatchingKeys(p,te.addedDocuments,pe)));let lt=Be.withSequenceNumber(p.currentSequenceNumber);var kt,rn,an;null!==e.targetMismatches.get(pe)?lt=lt.withResumeToken(Pt.EMPTY_BYTE_STRING,kn.min()).withLastLimboFreeSnapshotVersion(kn.min()):te.resumeToken.approximateByteSize()>0&&(lt=lt.withResumeToken(te.resumeToken,i)),c=c.insert(pe,lt),rn=lt,an=te,(0===(kt=Be).resumeToken.approximateByteSize()||rn.snapshotVersion.toMicroseconds()-kt.snapshotVersion.toMicroseconds()>=3e8||an.addedDocuments.size+an.modifiedDocuments.size+an.removedDocuments.size>0)&&E.push(t.Bs.updateTargetData(p,lt))});let F=kc(),H=Dr();if(e.documentUpdates.forEach(te=>{e.resolvedLimboDocuments.has(te)&&E.push(t.persistence.referenceDelegate.updateLimboDocument(p,te))}),E.push(function wE(n,e,t){let i=Dr(),c=Dr();return t.forEach(p=>i=i.add(p)),e.getEntries(n,i).next(p=>{let _=kc();return t.forEach((E,F)=>{const H=p.get(E);F.isFoundDocument()!==H.isFoundDocument()&&(c=c.add(E)),F.isNoDocument()&&F.version.isEqual(kn.min())?(e.removeEntry(E,F.readTime),_=_.insert(E,F)):!H.isValidDocument()||F.version.compareTo(H.version)>0||0===F.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(F),_=_.insert(E,F)):Nt("LocalStore","Ignoring outdated watch update for ",E,". Current version:",H.version," Watch version:",F.version)}),{nr:_,sr:c}})}(p,_,e.documentUpdates).next(te=>{F=te.nr,H=te.sr})),!i.isEqual(kn.min())){const te=t.Bs.getLastRemoteSnapshotVersion(p).next(pe=>t.Bs.setTargetsMetadata(p,p.currentSequenceNumber,i));E.push(te)}return qe.waitFor(E).next(()=>_.apply(p)).next(()=>t.localDocuments.getLocalViewOfDocuments(p,F,H)).next(()=>F)}).then(p=>(t.Ji=c,p))}(t.localStore,e);e.targetChanges.forEach((c,p)=>{const _=t.yc.get(p);_&&(Tn(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?_.fc=!0:c.modifiedDocuments.size>0?Tn(_.fc):c.removedDocuments.size>0&&(Tn(_.fc),_.fc=!1))}),yield Uf(t,i,e)}catch(i){yield yh(i)}}),uI.apply(this,arguments)}function dI(n,e,t){const i=Jt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const c=[];i.wc.forEach((p,_)=>{const E=_.view.Mu(e);E.snapshot&&c.push(E.snapshot)}),function(p,_){const E=Jt(p);E.onlineState=_;let F=!1;E.queries.forEach((H,te)=>{for(const pe of te.listeners)pe.Mu(_)&&(F=!0)}),F&&Ky(E)}(i.eventManager,e),c.length&&i.dc.nu(c),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function AC(n,e,t){return E1.apply(this,arguments)}function E1(){return E1=(0,de.Z)(function*(n,e,t){const i=Jt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const c=i.yc.get(e),p=c&&c.key;if(p){let _=new vn(Wt.comparator);_=_.insert(p,is.newNoDocument(p,kn.min()));const E=Dr().add(p),F=new Mm(kn.min(),new Map,new vn(On),_,E);yield $E(i,F),i.gc=i.gc.remove(p),i.yc.delete(e),YE(i)}else yield Zm(i.localStore,e,!1).then(()=>Yy(i,e,t)).catch(yh)}),E1.apply(this,arguments)}function zE(n,e){return D1.apply(this,arguments)}function D1(){return D1=(0,de.Z)(function*(n,e){const t=Jt(n),i=e.batch.batchId;try{const c=yield function vE(n,e){const t=Jt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const c=e.batch.keys(),p=t.Zi.newChangeBuffer({trackRemovals:!0});return function(_,E,F,H){const te=F.batch,pe=te.keys();let Be=qe.resolve();return pe.forEach(lt=>{Be=Be.next(()=>H.getEntry(E,lt)).next(kt=>{const rn=F.docVersions.get(lt);Tn(null!==rn),kt.version.compareTo(rn)<0&&(te.applyToRemoteDocument(kt,F),kt.isValidDocument()&&(kt.setReadTime(F.commitVersion),H.addEntry(kt)))})}),Be.next(()=>_.mutationQueue.removeMutationBatch(E,te))}(t,i,e,p).next(()=>p.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,c,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(_){let E=Dr();for(let F=0;F<_.mutationResults.length;++F)_.mutationResults[F].transformResults.length>0&&(E=E.add(_.batch.mutations[F].key));return E}(e))).next(()=>t.localDocuments.getDocuments(i,c))})}(t.localStore,e);ZE(t,i,null),C1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Uf(t,c)}catch(c){yield yh(c)}}),D1.apply(this,arguments)}function WE(n,e,t){return hI.apply(this,arguments)}function hI(){return hI=(0,de.Z)(function*(n,e,t){const i=Jt(n);try{const c=yield function(p,_){const E=Jt(p);return E.persistence.runTransaction("Reject batch","readwrite-primary",F=>{let H;return E.mutationQueue.lookupMutationBatch(F,_).next(te=>(Tn(null!==te),H=te.keys(),E.mutationQueue.removeMutationBatch(F,te))).next(()=>E.mutationQueue.performConsistencyCheck(F)).next(()=>E.documentOverlayCache.removeOverlaysForBatchId(F,H,_)).next(()=>E.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(F,H)).next(()=>E.localDocuments.getDocuments(F,H))})}(i.localStore,e);ZE(i,e,t),C1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Uf(i,c)}catch(c){yield yh(c)}}),hI.apply(this,arguments)}function C1(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function ZE(n,e,t){const i=Jt(n);let c=i.Tc[i.currentUser.toKey()];if(c){const p=c.get(e);p&&(t?p.reject(t):p.resolve(),c=c.remove(e)),i.Tc[i.currentUser.toKey()]=c}}function Yy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||OC(n,i)})}function OC(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&($y(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),YE(n))}function KE(n,e,t){for(const i of t)i instanceof HE?(n.Ic.addReference(i.key,e),pS(n,i)):i instanceof oI?(Nt("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||OC(n,i.key)):un()}function pS(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(Nt("SyncEngine","New document in limbo: "+t),n.mc.add(i),YE(n))}function YE(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Wt(jr.fromString(e)),i=n.Ac.next();n.yc.set(i,new CC(t)),n.gc=n.gc.insert(t,i),jy(n.remoteStore,new Cl(Pc(Em(t.path)),i,"TargetPurposeLimboResolution",ts.ct))}}function Uf(n,e,t){return QE.apply(this,arguments)}function QE(){return QE=(0,de.Z)(function*(n,e,t){const i=Jt(n),c=[],p=[],_=[];var E;i.wc.isEmpty()||(i.wc.forEach((E,F)=>{_.push(i.Rc(F,e,t).then(H=>{if((H||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(F.targetId,H?.fromCache?"not-current":"current"),H){c.push(H);const te=mE.Li(F.targetId,H);p.push(te)}}))}),yield Promise.all(_),i.dc.nu(c),yield(E=(0,de.Z)(function*(F,H){const te=Jt(F);try{yield te.persistence.runTransaction("notifyLocalViewChanges","readwrite",pe=>qe.forEach(H,Be=>qe.forEach(Be.Fi,lt=>te.persistence.referenceDelegate.addReference(pe,Be.targetId,lt)).next(()=>qe.forEach(Be.Bi,lt=>te.persistence.referenceDelegate.removeReference(pe,Be.targetId,lt)))))}catch(pe){if(!su(pe))throw pe;Nt("LocalStore","Failed to update sequence numbers: "+pe)}for(const pe of H){const Be=pe.targetId;if(!pe.fromCache){const lt=te.Ji.get(Be),rn=lt.withLastLimboFreeSnapshotVersion(lt.snapshotVersion);te.Ji=te.Ji.insert(Be,rn)}}}),function(F,H){return E.apply(this,arguments)})(i.localStore,p))}),QE.apply(this,arguments)}function gS(n,e){return S1.apply(this,arguments)}function S1(){return S1=(0,de.Z)(function*(n,e){const t=Jt(n);if(!t.currentUser.isEqual(e)){Nt("SyncEngine","User change. New user:",e.toKey());const i=yield Hw(t.localStore,e);t.currentUser=e,(c=t).Ec.forEach(_=>{_.forEach(E=>{E.reject(new Ct(rt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Uf(t,i.er)}var c}),S1.apply(this,arguments)}function fI(n,e){const t=Jt(n),i=t.yc.get(e);if(i&&i.fc)return Dr().add(i.key);{let c=Dr();const p=t._c.get(e);if(!p)return c;for(const _ of p){const E=t.wc.get(_);c=c.unionWith(E.view.nc)}return c}}class M1{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,de.Z)(function*(){t.serializer=Km(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function yE(n,e,t,i){return new uC(n,e,t,i)}(this.persistence,new _E,e.initialUser,this.serializer)}createPersistence(e){return new K0(Y0.zs,this.serializer)}createSharedClientState(e){return new EE}terminate(){var e=this;return(0,de.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Xm{initialize(e,t){var i=this;return(0,de.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=c=>dI(i.syncEngine,c,1),i.remoteStore.remoteSyncer.handleCredentialChange=gS.bind(null,i.syncEngine),yield function _1(n,e){return Wy.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new EC}createDatastore(e){const t=Km(e.databaseInfo.databaseId),i=new s1(e.databaseInfo);return new yC(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,c=e.asyncQueue,p=E=>dI(this.syncEngine,E,0),_=DE.D()?new DE:new dS,new bC(t,i,c,p,_);var t,i,c,p,_}createSyncEngine(e,t){return function(i,c,p,_,E,F,H){const te=new fS(i,c,p,_,E,F);return H&&(te.vc=!0),te}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,de.Z)(function*(t){const i=Jt(t);Nt("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield ig(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class R1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ms("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class BC{constructor(e,t,i,c){var p=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=c,this.user=Wo.UNAUTHENTICATED,this.clientId=m0.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var _=(0,de.Z)(function*(E){Nt("FirestoreClient","Received user=",E.uid),yield p.authCredentialListener(E),p.user=E});return function(E){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(i,_=>(Nt("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}getConfiguration(){var e=this;return(0,de.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ct(rt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,de.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const c=kd(i,"Failed to shutdown persistence");t.reject(c)}})),t.promise}}function P1(n,e){return bI.apply(this,arguments)}function bI(){return bI=(0,de.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Nt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var c=(0,de.Z)(function*(p){i.isEqual(p)||(yield Hw(e.localStore,p),i=p)});return function(p){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),bI.apply(this,arguments)}function wI(n,e){return k1.apply(this,arguments)}function k1(){return k1=(0,de.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function II(n){return TI.apply(this,arguments)}(n);Nt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(c=>TC(e.remoteStore,c)),n.setAppCheckTokenChangeListener((c,p)=>TC(e.remoteStore,p)),n._onlineComponents=e}),k1.apply(this,arguments)}function TI(){return TI=(0,de.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Nt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield P1(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function F1(n){return"FirebaseError"===n.name?n.code===rt.FAILED_PRECONDITION||n.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Rc("Error using user provided cache. Falling back to memory cache: "+t),yield P1(n,new M1)}}else Nt("FirestoreClient","Using default OfflineComponentProvider"),yield P1(n,new M1);return n._offlineComponents}),TI.apply(this,arguments)}function Qy(n){return L1.apply(this,arguments)}function L1(){return L1=(0,de.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Nt("FirestoreClient","Using user provided OnlineComponentProvider"),yield wI(n,n._uninitializedComponentsProvider._online)):(Nt("FirestoreClient","Using default OnlineComponentProvider"),yield wI(n,new Xm))),n._onlineComponents}),L1.apply(this,arguments)}function lg(n){return DI.apply(this,arguments)}function DI(){return DI=(0,de.Z)(function*(n){const e=yield Qy(n),t=e.eventManager;return t.onListen=SC.bind(null,e.syncEngine),t.onUnlisten=GE.bind(null,e.syncEngine),t}),DI.apply(this,arguments)}function cD(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const lD=new Map;function V1(n,e,t){if(!t)throw new Ct(rt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function AI(n){if(!Wt.isDocumentKey(n))throw new Ct(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function uD(n){if(Wt.isDocumentKey(n))throw new Ct(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Jy(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":un()}function ai(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ct(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Jy(n);throw new Ct(rt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class NI{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Ct(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ct(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function vS(n,e,t,i){if(!0===e&&!0===i)throw new Ct(rt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=cD(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new Ct(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Ct(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Ct(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class e_{constructor(e,t,i,c){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ct(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ct(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NI(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Hb;switch(t.type){case"firstParty":return new Bp(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ct(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=lD.get(e);t&&(Nt("ComponentProvider","Removing Datastore"),lD.delete(e),t.terminate())}(this),Promise.resolve()}}class ao{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ao(this.firestore,e,this._key)}}class Ma{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ma(this.firestore,e,this._query)}}class Bc extends Ma{constructor(e,t,i){super(e,t,Em(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ao(this.firestore,null,new Wt(e))}withConverter(e){return new Bc(this.firestore,e,this._path)}}function G1(n,e,...t){if(n=(0,fe.m9)(n),V1("collection","path",e),n instanceof e_){const i=jr.fromString(e,...t);return uD(i),new Bc(n,null,i)}{if(!(n instanceof ao||n instanceof Bc))throw new Ct(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(jr.fromString(e,...t));return uD(i),new Bc(n.firestore,null,i)}}function OI(n,e,...t){if(n=(0,fe.m9)(n),1===arguments.length&&(e=m0.A()),V1("doc","path",e),n instanceof e_){const i=jr.fromString(e,...t);return AI(i),new ao(n,null,new Wt(i))}{if(!(n instanceof ao||n instanceof Bc))throw new Ct(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(jr.fromString(e,...t));return AI(i),new ao(n.firestore,n instanceof Bc?n.converter:null,new Wt(i))}}class wS{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Ym(this,"async_queue_retry"),this.Xc=()=>{const t=o1();t&&Nt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=o1();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=o1();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new zs;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,de.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!su(t))throw t;Nt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,ms("INTERNAL UNHANDLED ERROR: ",function(p){let _=p.message||"";return p.stack&&(_=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),_}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const c=kE.createAndSchedule(this,e,t,i,p=>this.na(p));return this.zc.push(c),c}Zc(){this.Wc&&un()}verifyOperationInProgress(){}sa(){var e=this;return(0,de.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Ps extends e_{constructor(e,t,i,c){super(e,t,i,c),this.type="firestore",this._queue=new wS,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||hD(this),this._firestoreClient.terminate()}}function IS(n,e){const t="object"==typeof n?n:(0,Ne.Mq)(),i="string"==typeof n?n:e||"(default)",c=(0,Ne.qX)(t,"firestore").getImmediate({identifier:i});if(!c._initialized){const p=(0,fe.P0)("firestore");p&&function GC(n,e,t,i={}){var c;const p=(n=ai(n,e_))._getSettings(),_=`${e}:${t}`;if("firestore.googleapis.com"!==p.host&&p.host!==_&&Rc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},p),{host:_,ssl:!1})),i.mockUserToken){let E,F;if("string"==typeof i.mockUserToken)E=i.mockUserToken,F=Wo.MOCK_USER;else{E=(0,fe.Sg)(i.mockUserToken,null===(c=n._app)||void 0===c?void 0:c.options.projectId);const H=i.mockUserToken.sub||i.mockUserToken.user_id;if(!H)throw new Ct(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new Wo(H)}n._authCredentials=new d0(new by(E,F))}}(c,...p)}return c}function Eo(n){return n._firestoreClient||hD(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function hD(n){var e,t,i;const c=n._freezeSettings(),p=(E=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new ui(n._databaseId,E,n._persistenceKey,(H=c).host,H.ssl,H.experimentalForceLongPolling,H.experimentalAutoDetectLongPolling,cD(H.experimentalLongPollingOptions),H.useFetchStreams));var E,H;n._firestoreClient=new BC(n._authCredentials,n._appCheckCredentials,n._queue,p),null!==(t=c.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=c.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:c.cache.kind,_offline:c.cache._offlineComponentProvider,_online:c.cache._onlineComponentProvider})}class Hf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hf(Pt.fromBase64String(e))}catch(t){throw new Ct(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Hf(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Gf{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ct(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ws(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xy{constructor(e){this._methodName=e}}class ev{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ct(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ct(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return On(this._lat,e._lat)||On(this._long,e._long)}}const xI=/^__.*__$/;class $1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Sh(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kp(e,this.data,t,this.fieldTransforms)}}class WC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Sh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw un()}}class RI{constructor(e,t,i,c,p,_){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=c,void 0===p&&this.ua(),this.fieldTransforms=p||[],this.fieldMask=_||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new RI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.aa({path:i,la:!1});return c.fa(e),c}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.aa({path:i,la:!1});return c.ua(),c}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Z1(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(qC(this.ca)&&xI.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class gD{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Km(e)}ya(e,t,i,c=!1){return new RI({ca:e,methodName:t,ga:i,path:Ws.emptyPath(),la:!1,ma:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function n_(n){const e=n._freezeSettings(),t=Km(n._databaseId);return new gD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function PI(n,e,t,i,c,p={}){const _=n.ya(p.merge||p.mergeFields?2:0,e,t,c);LI("Data must be an object, but it was:",_,i);const E=FI(i,_);let F,H;if(p.merge)F=new $r(_.fieldMask),H=_.fieldTransforms;else if(p.mergeFields){const te=[];for(const pe of p.mergeFields){const Be=nv(e,pe,t);if(!_.contains(Be))throw new Ct(rt.INVALID_ARGUMENT,`Field '${Be}' is specified in your field mask but missing from your input data.`);bD(te,Be)||te.push(Be)}F=new $r(te),H=_.fieldTransforms.filter(pe=>F.covers(pe.field))}else F=null,H=_.fieldTransforms;return new $1(new Zo(E),F,H)}class tv extends Xy{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tv}}function mD(n,e,t){return new RI({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class _D extends Xy{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=mD(this,e,!0),i=this.pa.map(p=>r_(p,t)),c=new Mf(i);return new Cy(e.path,c)}isEqual(e){return this===e}}class yD extends Xy{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=mD(this,e,!0),i=this.pa.map(p=>r_(p,t)),c=new Md(i);return new Cy(e.path,c)}isEqual(e){return this===e}}function W1(n,e,t,i=!1){return r_(t,n.ya(i?4:3,e))}function r_(n,e){if(q1(n=(0,fe.m9)(n)))return LI("Unsupported field value:",e,n),FI(n,e);if(n instanceof Xy)return function(t,i){if(!qC(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const c=t._toFieldTransform(i);c&&i.fieldTransforms.push(c)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const c=[];let p=0;for(const _ of t){let E=r_(_,i.wa(p));null==E&&(E={nullValue:"NULL_VALUE"}),c.push(E),p++}return{arrayValue:{values:c}}}(n,e)}return function(t,i){if(null===(t=(0,fe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return M0(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const c=zi.fromDate(t);return{timestampValue:Qp(i.serializer,c)}}if(t instanceof zi){const c=new zi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Qp(i.serializer,c)}}if(t instanceof ev)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Hf)return{bytesValue:HD(i.serializer,t._byteString)};if(t instanceof ao){const c=i.databaseId,p=t.firestore._databaseId;if(!p.isEqual(c))throw i._a(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Tw(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${Jy(t)}`)}(n,e)}function FI(n,e){const t={};return ur(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rr(n,(i,c)=>{const p=r_(c,e.ha(i));null!=p&&(t[i]=p)}),{mapValue:{fields:t}}}function q1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof zi||n instanceof ev||n instanceof Hf||n instanceof ao||n instanceof Xy)}function LI(n,e,t){if(!q1(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=Jy(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function nv(n,e,t){if((e=(0,fe.m9)(e))instanceof Gf)return e._internalPath;if("string"==typeof e)return BI(n,e);throw Z1("Field path arguments must be of type string or ",n,!1,void 0,t)}const SS=new RegExp("[~\\*/\\[\\]]");function BI(n,e,t){if(e.search(SS)>=0)throw Z1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Gf(...e.split("."))._internalPath}catch{throw Z1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Z1(n,e,t,i,c){const p=i&&!i.isEmpty(),_=void 0!==c;let E=`Function ${e}() called with invalid data`;t&&(E+=" (via `toFirestore()`)"),E+=". ";let F="";return(p||_)&&(F+=" (found",p&&(F+=` in field ${i}`),_&&(F+=` in document ${c}`),F+=")"),new Ct(rt.INVALID_ARGUMENT,E+n+F)}function bD(n,e){return n.some(t=>t.isEqual(e))}class UI{constructor(e,t,i,c,p){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=c,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new ao(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new KC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class KC extends UI{data(){return super.data()}}function rv(n,e){return"string"==typeof e?BI(n,e):e instanceof Gf?e._internalPath:e._delegate._internalPath}class HI{}class iv extends HI{}function wD(n,e,...t){let i=[];e instanceof HI&&i.push(e),i=i.concat(t),function(c){const p=c.filter(E=>E instanceof jf).length,_=c.filter(E=>E instanceof K1).length;if(p>1||p>0&&_>0)throw new Ct(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const c of i)n=c._apply(n);return n}class K1 extends iv{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new K1(e,t,i)}_apply(e){const t=this._parse(e);return rS(e._query,t),new Ma(e.firestore,e.converter,A0(e._query,t))}_parse(e){const t=n_(e.firestore);return function(c,p,_,E,F,H,te){let pe;if(F.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new Ct(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){TD(te,H);const Be=[];for(const lt of te)Be.push(ID(E,c,lt));pe={arrayValue:{values:Be}}}else pe=ID(E,c,te)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||TD(te,H),pe=W1(_,"where",te,"in"===H||"not-in"===H);return Wr.create(F,H,pe)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function YC(n,e,t){const i=e,c=rv("where",n);return K1._create(c,i,t)}class jf extends HI{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new jf(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Ci.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,c){let p=i;const _=c.getFlattenedFilters();for(const E of _)rS(p,E),p=A0(p,E)}(e._query,t),new Ma(e.firestore,e.converter,A0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class GI extends iv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new GI(e,t)}_apply(e){const t=function(i,c,p){if(null!==i.startAt)throw new Ct(rt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ct(rt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const _=new zp(c,p);return function(E,F){if(null===rw(E)){const H=oo(E);null!==H&&iS(0,H,F.field)}}(i,_),_}(e._query,this._field,this._direction);return new Ma(e.firestore,e.converter,function(i,c){const p=i.explicitOrderBy.concat([c]);return new Af(i.path,i.collectionGroup,p,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function Y1(n,e="asc"){const t=e,i=rv("orderBy",n);return GI._create(i,t)}class Q1 extends iv{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Q1(e,t,i)}_apply(e){return new Ma(e.firestore,e.converter,N0(e._query,this._limit,this._limitType))}}function XC(n){return function H1(n,e){if(e<=0)throw new Ct(rt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}("limit",n),Q1._create("limit",n,"F")}class sv extends iv{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new sv(e,t,i)}_apply(e){const t=function nS(n,e,t,i){if(t[0]=(0,fe.m9)(t[0]),t[0]instanceof UI)return function(c,p,_,E,F){if(!E)throw new Ct(rt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${_}().`);const H=[];for(const te of qp(c))if(te.field.isKeyField())H.push(Sd(p,E.key));else{const pe=E.data.field(te.field);if(pa(pe))throw new Ct(rt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+te.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===pe){const Be=te.field.canonicalString();throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Be}' (used as the orderBy) does not exist.`)}H.push(pe)}return new Nd(H,F)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const c=n_(n.firestore);return function(p,_,E,F,H,te){const pe=p.explicitOrderBy;if(H.length>pe.length)throw new Ct(rt.INVALID_ARGUMENT,`Too many arguments provided to ${F}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Be=[];for(let lt=0;lt<H.length;lt++){const kt=H[lt];if(pe[lt].field.isKeyField()){if("string"!=typeof kt)throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${F}(), but got a ${typeof kt}`);if(!S0(p)&&-1!==kt.indexOf("/"))throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${F}() must be a plain document ID, but '${kt}' contains a slash.`);const rn=p.path.child(jr.fromString(kt));if(!Wt.isDocumentKey(rn))throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${F}() must result in a valid document path, but '${rn}' is not because it contains an odd number of segments.`);const an=new Wt(rn);Be.push(Sd(_,an))}else{const rn=W1(E,F,kt);Be.push(rn)}}return new Nd(Be,te)}(n._query,n.firestore._databaseId,c,e,t,i)}}(e,this.type,this._docOrFields,this._inclusive);return new Ma(e.firestore,e.converter,(c=t,new Af((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,c,i.endAt)));var i,c}}function tS(...n){return sv._create("startAfter",n,!1)}function ID(n,e,t){if("string"==typeof(t=(0,fe.m9)(t))){if(""===t)throw new Ct(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!S0(e)&&-1!==t.indexOf("/"))throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(jr.fromString(t));if(!Wt.isDocumentKey(i))throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Sd(n,new Wt(i))}if(t instanceof ao)return Sd(n,t._key);throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jy(t)}.`)}function TD(n,e){if(!Array.isArray(n)||0===n.length)throw new Ct(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rS(n,e){if(e.isInequality()){const i=oo(n),c=e.field;if(null!==i&&!i.isEqual(c))throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${c.toString()}'`);const p=rw(n);null!==p&&iS(0,c,p)}const t=function(i,c){for(const p of i)for(const _ of p.getFlattenedFilters())if(c.indexOf(_.op)>=0)return _.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ct(rt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function iS(n,e,t){if(!t.isEqual(e))throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class NS{convertValue(e,t="none"){switch(_s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw un()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return rr(e,(c,p)=>{i[c]=this.convertValue(p,t)}),i}convertGeoPoint(e){return new ev(Nn(e.latitude),Nn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=rs(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ga(e));default:return null}}convertTimestamp(e){const t=En(e);return new zi(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=jr.fromString(e);Tn(Lm(i));const c=new ma(i.get(1),i.get(3)),p=new Wt(i.popFirst(5));return c.isEqual(t)||ms(`Document ${p} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),p}}function ED(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class dg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ov extends UI{constructor(e,t,i,c,p,_){super(e,t,i,c,_),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new r(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(rv("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class r extends ov{data(e={}){return super.data(e)}}class s{constructor(e,t,i,c){this._firestore=e,this._userDataWriter=t,this._snapshot=c,this.metadata=new dg(c.hasPendingWrites,c.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new r(this._firestore,this._userDataWriter,i.key,i,new dg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ct(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,c){if(i._snapshot.oldDocs.isEmpty()){let p=0;return i._snapshot.docChanges.map(_=>({type:"added",doc:new r(i._firestore,i._userDataWriter,_.doc.key,_.doc,new dg(i._snapshot.mutatedKeys.has(_.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:p++}))}{let p=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(_=>c||3!==_.type).map(_=>{const E=new r(i._firestore,i._userDataWriter,_.doc.key,_.doc,new dg(i._snapshot.mutatedKeys.has(_.doc.key),i._snapshot.fromCache),i.query.converter);let F=-1,H=-1;return 0!==_.type&&(F=p.indexOf(_.doc.key),p=p.delete(_.doc.key)),1!==_.type&&(p=p.add(_.doc),H=p.indexOf(_.doc.key)),{type:a(_.type),doc:E,oldIndex:F,newIndex:H}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function a(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return un()}}function g(n){n=ai(n,ao);const e=ai(n.firestore,Ps);return function U1(n,e,t={}){const i=new zs;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(c,p,_,E,F){const H=new R1({next:pe=>{p.enqueueAndForget(()=>Zy(c,te));const Be=pe.docs.has(_);!Be&&pe.fromCache?F.reject(new Ct(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):Be&&pe.fromCache&&E&&"server"===E.source?F.reject(new Ct(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):F.resolve(pe)},error:pe=>F.reject(pe)}),te=new LE(Em(_.path),H,{includeMetadataChanges:!0,Ku:!0});return iI(c,te)}(yield lg(n),n.asyncQueue,e,t,i)})),i.promise}(Eo(e),n._key).then(t=>function wt(n,e,t){const i=t.docs.get(e._key),c=new y(n);return new ov(n,c,e._key,i,new dg(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class y extends NS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ao(this.firestore,null,t)}}function R(n){n=ai(n,Ma);const e=ai(n.firestore,Ps),t=Eo(e),i=new y(e);return function VI(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ct(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function oD(n,e,t={}){const i=new zs;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(c,p,_,E,F){const H=new R1({next:pe=>{p.enqueueAndForget(()=>Zy(c,te)),pe.fromCache&&"server"===E.source?F.reject(new Ct(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):F.resolve(pe)},error:pe=>F.reject(pe)}),te=new LE(_,H,{includeMetadataChanges:!0,Ku:!0});return iI(c,te)}(yield lg(n),n.asyncQueue,e,t,i)})),i.promise}(t,n._query).then(c=>new s(e,i,n,c))}function me(n,e,t){n=ai(n,ao);const i=ai(n.firestore,Ps),c=ED(n.converter,e,t);return wn(i,[PI(n_(i),"setDoc",n._key,c,null!==n.converter,t).toMutation(n._key,qi.none())])}function Me(n,e,t,...i){n=ai(n,ao);const c=ai(n.firestore,Ps),p=n_(c);let _;return _="string"==typeof(e=(0,fe.m9)(e))||e instanceof Gf?function kI(n,e,t,i,c,p){const _=n.ya(1,e,t),E=[nv(e,i,t)],F=[c];if(p.length%2!=0)throw new Ct(rt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Be=0;Be<p.length;Be+=2)E.push(nv(e,p[Be])),F.push(p[Be+1]);const H=[],te=Zo.empty();for(let Be=E.length-1;Be>=0;--Be)if(!bD(H,E[Be])){const lt=E[Be];let kt=F[Be];kt=(0,fe.m9)(kt);const rn=_.da(lt);if(kt instanceof tv)H.push(lt);else{const an=r_(kt,rn);null!=an&&(H.push(lt),te.set(lt,an))}}const pe=new $r(H);return new WC(te,pe,_.fieldTransforms)}(p,"updateDoc",n._key,e,t,i):function vD(n,e,t,i){const c=n.ya(1,e,t);LI("Data must be an object, but it was:",c,i);const p=[],_=Zo.empty();rr(i,(F,H)=>{const te=BI(e,F,t);H=(0,fe.m9)(H);const pe=c.da(te);if(H instanceof tv)p.push(te);else{const Be=r_(H,pe);null!=Be&&(p.push(te),_.set(te,Be))}});const E=new $r(p);return new WC(_,E,c.fieldTransforms)}(p,"updateDoc",n._key,e),wn(c,[_.toMutation(n._key,qi.exists(!0))])}function Le(n){return wn(ai(n.firestore,Ps),[new Nm(n._key,qi.none())])}function pt(n,e){const t=ai(n.firestore,Ps),i=OI(n),c=ED(n.converter,e);return wn(t,[PI(n_(n.firestore),"addDoc",i._key,c,null!==n.converter,{}).toMutation(i._key,qi.exists(!1))]).then(()=>i)}function wn(n,e){return function(t,i){const c=new zs;return t.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function jE(n,e,t){return T1.apply(this,arguments)}(yield function B1(n){return Qy(n).then(e=>e.syncEngine)}(t),i,c)})),c.promise}(Eo(n),e)}function eA(...n){return new _D("arrayUnion",n)}function tA(...n){return new yD("arrayRemove",n)}!function(n,e=!0){iu=Ne.Jn,(0,Ne.Xd)(new re.wA("firestore",(t,{instanceIdentifier:i,options:c})=>{const p=t.getProvider("app").getImmediate(),_=new Ps(new h0(t.getProvider("auth-internal")),new p0(t.getProvider("app-check-internal")),function(E,F){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new Ct(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ma(E.options.projectId,F)}(p,i),p);return c=Object.assign({useFetchStreams:e},c),_._setSettings(c),_},"PUBLIC").setMultipleInstances(!0)),(0,Ne.KN)(yy,"3.13.0",n),(0,Ne.KN)(yy,"3.13.0","esm2017")}();class SD{constructor(e){return e}}const FS="firestore",oS=new ae.OlP("angularfire2.firestore-instances");function iA(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new SD(i)}}const sA={provide:class nA{constructor(){return(0,w.vb)(FS)}},deps:[[new ae.FiY,oS]]},oA={provide:SD,useFactory:function rA(n,e){const t=(0,w.JM)(FS,n,e);return t&&new SD(t)},deps:[[new ae.FiY,oS],u.Ot]};let aA=(()=>{class n{constructor(){(0,we.KN)("angularfire",w.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ae.oAB({type:n}),n.\u0275inj=ae.cJS({providers:[oA,sA]}),n})();function cA(n,...e){return{ngModule:aA,providers:[{provide:oS,useFactory:iA(n),multi:!0,deps:[ae.R0b,ae.zs3,w.HU,u.z6,[new ae.FiY,_g],[new ae.FiY,ac],...e]}]}}const lA=(0,w.u3)(pt,!0),uA=(0,w.u3)(tA,!0),dA=(0,w.u3)(eA,!0),hA=(0,w.u3)(G1,!0),fA=(0,w.u3)(Le,!0),pA=(0,w.u3)(OI,!0),gA=(0,w.u3)(g,!0),mA=(0,w.u3)(R,!0),_A=(0,w.u3)(IS,!0),yA=(0,w.u3)(XC,!0),vA=(0,w.u3)(Y1,!0),bA=(0,w.u3)(wD,!0),wA=(0,w.u3)(me,!0),IA=(0,w.u3)(tS,!0),TA=(0,w.u3)(Me,!0),EA=(0,w.u3)(YC,!0)},6106:(Gt,$e,K)=>{K.d($e,{q4:()=>vu,HU:()=>$d,vb:()=>Zf,JM:()=>Gl,u3:()=>Yf});var w=K(9468),ae=K(4097),u=K(5861),we=K(7592),de=K(229),fe=K(6820),Ne=K(7879);const He=(O,L)=>L.some(Q=>O instanceof Q);let Ee,re;const et=new WeakMap,Pe=new WeakMap,it=new WeakMap,At=new WeakMap,Bt=new WeakMap;let xt={get(O,L,Q){if(O instanceof IDBTransaction){if("done"===L)return Pe.get(O);if("objectStoreNames"===L)return O.objectStoreNames||it.get(O);if("store"===L)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return _t(O[L])},set:(O,L,Q)=>(O[L]=Q,!0),has:(O,L)=>O instanceof IDBTransaction&&("done"===L||"store"===L)||L in O};function vt(O){return"function"==typeof O?function ot(O){return O!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Se(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(O)?function(...L){return O.apply(Ge(this),L),_t(et.get(this))}:function(...L){return _t(O.apply(Ge(this),L))}:function(L,...Q){const he=O.call(Ge(this),L,...Q);return it.set(he,L.sort?L.sort():[L]),_t(he)}}(O):(O instanceof IDBTransaction&&function xn(O){if(Pe.has(O))return;const L=new Promise((Q,he)=>{const Ae=()=>{O.removeEventListener("complete",Fe),O.removeEventListener("error",st),O.removeEventListener("abort",st)},Fe=()=>{Q(),Ae()},st=()=>{he(O.error||new DOMException("AbortError","AbortError")),Ae()};O.addEventListener("complete",Fe),O.addEventListener("error",st),O.addEventListener("abort",st)});Pe.set(O,L)}(O),He(O,function le(){return Ee||(Ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(O,xt):O)}function _t(O){if(O instanceof IDBRequest)return function Ft(O){const L=new Promise((Q,he)=>{const Ae=()=>{O.removeEventListener("success",Fe),O.removeEventListener("error",st)},Fe=()=>{Q(_t(O.result)),Ae()},st=()=>{he(O.error),Ae()};O.addEventListener("success",Fe),O.addEventListener("error",st)});return L.then(Q=>{Q instanceof IDBCursor&&et.set(Q,O)}).catch(()=>{}),Bt.set(L,O),L}(O);if(At.has(O))return At.get(O);const L=vt(O);return L!==O&&(At.set(O,L),Bt.set(L,O)),L}const Ge=O=>Bt.get(O),gt=["get","getKey","getAll","getAllKeys","count"],Vn=["put","add","delete","clear"],dt=new Map;function dn(O,L){if(!(O instanceof IDBDatabase)||L in O||"string"!=typeof L)return;if(dt.get(L))return dt.get(L);const Q=L.replace(/FromIndex$/,""),he=L!==Q,Ae=Vn.includes(Q);if(!(Q in(he?IDBIndex:IDBObjectStore).prototype)||!Ae&&!gt.includes(Q))return;const Fe=function(){var st=(0,u.Z)(function*(Vt,...Ht){const yn=this.transaction(Vt,Ae?"readwrite":"readonly");let Qn=yn.store;return he&&(Qn=Qn.index(Ht.shift())),(yield Promise.all([Qn[Q](...Ht),Ae&&yn.done]))[0]});return function(Ht){return st.apply(this,arguments)}}();return dt.set(L,Fe),Fe}!function mt(O){xt=O(xt)}(O=>({...O,get:(L,Q,he)=>dn(L,Q)||O.get(L,Q,he),has:(L,Q)=>!!dn(L,Q)||O.has(L,Q)}));const Dn="@firebase/installations",$n="0.6.4",ar=1e4,vr=`w:${$n}`,ke="FIS_v2",je="https://firebaseinstallations.googleapis.com/v1",Ye=36e5,Rt=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function jt(O){return O instanceof de.ZR&&O.code.includes("request-failed")}function hn({projectId:O}){return`${je}/projects/${O}/installations`}function bn(O){return{token:O.token,requestStatus:2,expiresIn:xe(O.expiresIn),creationTime:Date.now()}}function cn(O,L){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,u.Z)(function*(O,L){const he=(yield L.json()).error;return Rt.create("request-failed",{requestName:O,serverCode:he.code,serverMessage:he.message,serverStatus:he.status})})).apply(this,arguments)}function Yn({apiKey:O}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O})}function kr(O){return De.apply(this,arguments)}function De(){return(De=(0,u.Z)(function*(O){const L=yield O();return L.status>=500&&L.status<600?O():L})).apply(this,arguments)}function xe(O){return Number(O.replace("s","000"))}function yt(){return(yt=(0,u.Z)(function*({appConfig:O,heartbeatServiceProvider:L},{fid:Q}){const he=hn(O),Ae=Yn(O),Fe=L.getImmediate({optional:!0});if(Fe){const yn=yield Fe.getHeartbeatsHeader();yn&&Ae.append("x-firebase-client",yn)}const Vt={method:"POST",headers:Ae,body:JSON.stringify({fid:Q,authVersion:ke,appId:O.appId,sdkVersion:vr})},Ht=yield kr(()=>fetch(he,Vt));if(Ht.ok){const yn=yield Ht.json();return{fid:yn.fid||Q,registrationStatus:2,refreshToken:yn.refreshToken,authToken:bn(yn.authToken)}}throw yield cn("Create Installation",Ht)})).apply(this,arguments)}function St(O){return new Promise(L=>{setTimeout(L,O)})}const An=/^[cdef][\w-]{21}$/,sn="";function Qt(){try{const O=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(O),O[0]=112+O[0]%16;const Q=function In(O){return function wr(O){return btoa(String.fromCharCode(...O)).replace(/\+/g,"-").replace(/\//g,"_")}(O).substr(0,22)}(O);return An.test(Q)?Q:sn}catch{return sn}}function tr(O){return`${O.appName}!${O.appId}`}const Xt=new Map;function Sr(O,L){const Q=tr(O);dr(Q,L),function Jn(O,L){const Q=function Zn(){return!hr&&"BroadcastChannel"in self&&(hr=new BroadcastChannel("[Firebase] FID Change"),hr.onmessage=O=>{dr(O.data.key,O.data.fid)}),hr}();Q&&Q.postMessage({key:O,fid:L}),function di(){0===Xt.size&&hr&&(hr.close(),hr=null)}()}(Q,L)}function dr(O,L){const Q=Xt.get(O);if(Q)for(const he of Q)he(L)}let hr=null;const Rn="firebase-installations-database",nr=1,Or="firebase-installations-store";let hi=null;function tt(){return hi||(hi=function ve(O,L,{blocked:Q,upgrade:he,blocking:Ae,terminated:Fe}={}){const st=indexedDB.open(O,L),Vt=_t(st);return he&&st.addEventListener("upgradeneeded",Ht=>{he(_t(st.result),Ht.oldVersion,Ht.newVersion,_t(st.transaction))}),Q&&st.addEventListener("blocked",()=>Q()),Vt.then(Ht=>{Fe&&Ht.addEventListener("close",()=>Fe()),Ae&&Ht.addEventListener("versionchange",()=>Ae())}).catch(()=>{}),Vt}(Rn,nr,{upgrade:(O,L)=>{0===L&&O.createObjectStore(Or)}})),hi}function Ce(O,L){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,u.Z)(function*(O,L){const Q=tr(O),Ae=(yield tt()).transaction(Or,"readwrite"),Fe=Ae.objectStore(Or),st=yield Fe.get(Q);return yield Fe.put(L,Q),yield Ae.done,(!st||st.fid!==L.fid)&&Sr(O,L.fid),L})).apply(this,arguments)}function It(O){return qt.apply(this,arguments)}function qt(){return(qt=(0,u.Z)(function*(O){const L=tr(O),he=(yield tt()).transaction(Or,"readwrite");yield he.objectStore(Or).delete(L),yield he.done})).apply(this,arguments)}function Zt(O,L){return zn.apply(this,arguments)}function zn(){return(zn=(0,u.Z)(function*(O,L){const Q=tr(O),Ae=(yield tt()).transaction(Or,"readwrite"),Fe=Ae.objectStore(Or),st=yield Fe.get(Q),Vt=L(st);return void 0===Vt?yield Fe.delete(Q):yield Fe.put(Vt,Q),yield Ae.done,Vt&&(!st||st.fid!==Vt.fid)&&Sr(O,Vt.fid),Vt})).apply(this,arguments)}function Y(O){return U.apply(this,arguments)}function U(){return U=(0,u.Z)(function*(O){let L;const Q=yield Zt(O.appConfig,he=>{const Ae=function G(O){return ln(O||{fid:Qt(),registrationStatus:0})}(he),Fe=function W(O,L){if(0===L.registrationStatus){if(!navigator.onLine)return{installationEntry:L,registrationPromise:Promise.reject(Rt.create("app-offline"))};const Q={fid:L.fid,registrationStatus:1,registrationTime:Date.now()},he=function $(O,L){return be.apply(this,arguments)}(O,Q);return{installationEntry:Q,registrationPromise:he}}return 1===L.registrationStatus?{installationEntry:L,registrationPromise:We(O)}:{installationEntry:L}}(O,Ae);return L=Fe.registrationPromise,Fe.installationEntry});return Q.fid===sn?{installationEntry:yield L}:{installationEntry:Q,registrationPromise:L}}),U.apply(this,arguments)}function be(){return be=(0,u.Z)(function*(O,L){try{const Q=yield function at(O,L){return yt.apply(this,arguments)}(O,L);return Ce(O.appConfig,Q)}catch(Q){throw jt(Q)&&409===Q.customData.serverCode?yield It(O.appConfig):yield Ce(O.appConfig,{fid:L.fid,registrationStatus:0}),Q}}),be.apply(this,arguments)}function We(O){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,u.Z)(function*(O){let L=yield tn(O.appConfig);for(;1===L.registrationStatus;)yield St(100),L=yield tn(O.appConfig);if(0===L.registrationStatus){const{installationEntry:Q,registrationPromise:he}=yield Y(O);return he||Q}return L})).apply(this,arguments)}function tn(O){return Zt(O,L=>{if(!L)throw Rt.create("installation-not-found");return ln(L)})}function ln(O){return function pn(O){return 1===O.registrationStatus&&O.registrationTime+ar<Date.now()}(O)?{fid:O.fid,registrationStatus:0}:O}function Fn(){return(Fn=(0,u.Z)(function*({appConfig:O,heartbeatServiceProvider:L},Q){const he=function qr(O,{fid:L}){return`${hn(O)}/${L}/authTokens:generate`}(O,Q),Ae=function br(O,{refreshToken:L}){const Q=Yn(O);return Q.append("Authorization",function Re(O){return`${ke} ${O}`}(L)),Q}(O,Q),Fe=L.getImmediate({optional:!0});if(Fe){const yn=yield Fe.getHeartbeatsHeader();yn&&Ae.append("x-firebase-client",yn)}const Vt={method:"POST",headers:Ae,body:JSON.stringify({installation:{sdkVersion:vr,appId:O.appId}})},Ht=yield kr(()=>fetch(he,Vt));if(Ht.ok)return bn(yield Ht.json());throw yield cn("Generate Auth Token",Ht)})).apply(this,arguments)}function ir(O){return ss.apply(this,arguments)}function ss(){return ss=(0,u.Z)(function*(O,L=!1){let Q;const he=yield Zt(O.appConfig,Fe=>{if(!ti(Fe))throw Rt.create("not-registered");const st=Fe.authToken;if(!L&&function _a(O){return 2===O.requestStatus&&!function vs(O){const L=Date.now();return L<O.creationTime||O.creationTime+O.expiresIn<L+Ye}(O)}(st))return Fe;if(1===st.requestStatus)return Q=function Co(O,L){return ys.apply(this,arguments)}(O,L),Fe;{if(!navigator.onLine)throw Rt.create("app-offline");const Vt=function Si(O){const L={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},O),{authToken:L})}(Fe);return Q=function xa(O,L){return _c.apply(this,arguments)}(O,Vt),Vt}});return Q?yield Q:he.authToken}),ss.apply(this,arguments)}function ys(){return(ys=(0,u.Z)(function*(O,L){let Q=yield Qo(O.appConfig);for(;1===Q.authToken.requestStatus;)yield St(100),Q=yield Qo(O.appConfig);const he=Q.authToken;return 0===he.requestStatus?ir(O,L):he})).apply(this,arguments)}function Qo(O){return Zt(O,L=>{if(!ti(L))throw Rt.create("not-registered");return function sr(O){return 1===O.requestStatus&&O.requestTime+ar<Date.now()}(L.authToken)?Object.assign(Object.assign({},L),{authToken:{requestStatus:0}}):L})}function _c(){return _c=(0,u.Z)(function*(O,L){try{const Q=yield function Kt(O,L){return Fn.apply(this,arguments)}(O,L),he=Object.assign(Object.assign({},L),{authToken:Q});return yield Ce(O.appConfig,he),Q}catch(Q){if(!jt(Q)||401!==Q.customData.serverCode&&404!==Q.customData.serverCode){const he=Object.assign(Object.assign({},L),{authToken:{requestStatus:0}});yield Ce(O.appConfig,he)}else yield It(O.appConfig);throw Q}}),_c.apply(this,arguments)}function ti(O){return void 0!==O&&2===O.registrationStatus}function co(){return(co=(0,u.Z)(function*(O){const L=O,{installationEntry:Q,registrationPromise:he}=yield Y(L);return he?he.catch(console.error):ir(L).catch(console.error),Q.fid})).apply(this,arguments)}function Jo(){return Jo=(0,u.Z)(function*(O,L=!1){const Q=O;return yield function ks(O){return Zs.apply(this,arguments)}(Q),(yield ir(Q,L)).token}),Jo.apply(this,arguments)}function Zs(){return(Zs=(0,u.Z)(function*(O){const{registrationPromise:L}=yield Y(O);L&&(yield L)})).apply(this,arguments)}function Fs(O){return Rt.create("missing-app-config-values",{valueName:O})}const Xo="installations",Ls=O=>{const L=O.getProvider("app").getImmediate(),Q=function Ra(O){if(!O||!O.options)throw Fs("App Configuration");if(!O.name)throw Fs("App Name");const L=["projectId","apiKey","appId"];for(const Q of L)if(!O.options[Q])throw Fs(Q);return{appName:O.name,projectId:O.options.projectId,apiKey:O.options.apiKey,appId:O.options.appId}}(L);return{app:L,appConfig:Q,heartbeatServiceProvider:(0,we.qX)(L,"heartbeat"),_delete:()=>Promise.resolve()}},pi=O=>{const L=O.getProvider("app").getImmediate(),Q=(0,we.qX)(L,Xo).getImmediate();return{getId:()=>function bs(O){return co.apply(this,arguments)}(Q),getToken:Ae=>function So(O){return Jo.apply(this,arguments)}(Q,Ae)}};(function Ys(){(0,we.Xd)(new fe.wA(Xo,Ls,"PUBLIC")),(0,we.Xd)(new fe.wA("installations-internal",pi,"PRIVATE"))})(),(0,we.KN)(Dn,$n),(0,we.KN)(Dn,$n,"esm2017");const ws="@firebase/remote-config",Ai=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ii{constructor(L,Q,he,Ae){this.client=L,this.storage=Q,this.storageCache=he,this.logger=Ae}isCachedDataFresh(L,Q){if(!Q)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const he=Date.now()-Q,Ae=he<=L;return this.logger.debug(`Config fetch cache check. Cache age millis: ${he}. Cache max age millis (minimumFetchIntervalMillis setting): ${L}. Is cache hit: ${Ae}.`),Ae}fetch(L){var Q=this;return(0,u.Z)(function*(){const[he,Ae]=yield Promise.all([Q.storage.getLastSuccessfulFetchTimestampMillis(),Q.storage.getLastSuccessfulFetchResponse()]);if(Ae&&Q.isCachedDataFresh(L.cacheMaxAgeMillis,he))return Ae;L.eTag=Ae&&Ae.eTag;const Fe=yield Q.client.fetch(L),st=[Q.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Fe.status&&st.push(Q.storage.setLastSuccessfulFetchResponse(Fe)),yield Promise.all(st),Fe})()}}function tc(O=navigator){return O.languages&&O.languages[0]||O.language}class lo{constructor(L,Q,he,Ae,Fe,st){this.firebaseInstallations=L,this.sdkVersion=Q,this.namespace=he,this.projectId=Ae,this.apiKey=Fe,this.appId=st}fetch(L){var Q=this;return(0,u.Z)(function*(){const[he,Ae]=yield Promise.all([Q.firebaseInstallations.getId(),Q.firebaseInstallations.getToken()]),st=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Q.projectId}/namespaces/${Q.namespace}:fetch?key=${Q.apiKey}`,Vt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":L.eTag||"*"},Ht={sdk_version:Q.sdkVersion,app_instance_id:he,app_instance_id_token:Ae,app_id:Q.appId,language_code:tc()},yn={method:"POST",headers:Vt,body:JSON.stringify(Ht)},Qn=fetch(st,yn),or=new Promise((ja,Oc)=>{L.signal.addEventListener(()=>{const es=new Error("The operation was aborted.");es.name="AbortError",Oc(es)})});let sc;try{yield Promise.race([Qn,or]),sc=yield Qn}catch(ja){let Oc="fetch-client-network";throw"AbortError"===ja?.name&&(Oc="fetch-timeout"),Ai.create(Oc,{originalErrorMessage:ja?.message})}let vo=sc.status;const Uh=sc.headers.get("ETag")||void 0;let Vh,Da;if(200===sc.status){let ja;try{ja=yield sc.json()}catch(Oc){throw Ai.create("fetch-client-parse",{originalErrorMessage:Oc?.message})}Vh=ja.entries,Da=ja.state}if("INSTANCE_STATE_UNSPECIFIED"===Da?vo=500:"NO_CHANGE"===Da?vo=304:("NO_TEMPLATE"===Da||"EMPTY_CONFIG"===Da)&&(Vh={}),304!==vo&&200!==vo)throw Ai.create("fetch-status",{httpStatus:vo});return{status:vo,eTag:Uh,config:Vh}})()}}class Wn{constructor(L,Q){this.client=L,this.storage=Q}fetch(L){var Q=this;return(0,u.Z)(function*(){const he=(yield Q.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Q.attemptFetch(L,he)})()}attemptFetch(L,{throttleEndTimeMillis:Q,backoffCount:he}){var Ae=this;return(0,u.Z)(function*(){yield function cr(O,L){return new Promise((Q,he)=>{const Ae=Math.max(L-Date.now(),0),Fe=setTimeout(Q,Ae);O.addEventListener(()=>{clearTimeout(Fe),he(Ai.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(L.signal,Q);try{const Fe=yield Ae.client.fetch(L);return yield Ae.storage.deleteThrottleMetadata(),Fe}catch(Fe){if(!function Lt(O){if(!(O instanceof de.ZR&&O.customData))return!1;const L=Number(O.customData.httpStatus);return 429===L||500===L||503===L||504===L}(Fe))throw Fe;const st={throttleEndTimeMillis:Date.now()+(0,de.$s)(he),backoffCount:he+1};return yield Ae.storage.setThrottleMetadata(st),Ae.attemptFetch(L,st)}})()}}class vi{constructor(L,Q,he,Ae,Fe){this.app=L,this._client=Q,this._storageCache=he,this._storage=Ae,this._logger=Fe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Kr(O,L){const Q=O.target.error||void 0;return Ai.create(L,{originalErrorMessage:Q&&Q?.message})}const Mi="app_namespace_store";class Ln{constructor(L,Q,he,Ae=function cs(){return new Promise((O,L)=>{try{const Q=indexedDB.open("firebase_remote_config",1);Q.onerror=he=>{L(Kr(he,"storage-open"))},Q.onsuccess=he=>{O(he.target.result)},Q.onupgradeneeded=he=>{0===he.oldVersion&&he.target.result.createObjectStore(Mi,{keyPath:"compositeKey"})}}catch(Q){L(Ai.create("storage-open",{originalErrorMessage:Q?.message}))}})}()){this.appId=L,this.appName=Q,this.namespace=he,this.openDbPromise=Ae}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(L){return this.set("last_fetch_status",L)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(L){return this.set("last_successful_fetch_timestamp_millis",L)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(L){return this.set("last_successful_fetch_response",L)}getActiveConfig(){return this.get("active_config")}setActiveConfig(L){return this.set("active_config",L)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(L){return this.set("active_config_etag",L)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(L){return this.set("throttle_metadata",L)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(L){var Q=this;return(0,u.Z)(function*(){const he=yield Q.openDbPromise;return new Promise((Ae,Fe)=>{const Vt=he.transaction([Mi],"readonly").objectStore(Mi),Ht=Q.createCompositeKey(L);try{const yn=Vt.get(Ht);yn.onerror=Qn=>{Fe(Kr(Qn,"storage-get"))},yn.onsuccess=Qn=>{const or=Qn.target.result;Ae(or?or.value:void 0)}}catch(yn){Fe(Ai.create("storage-get",{originalErrorMessage:yn?.message}))}})})()}set(L,Q){var he=this;return(0,u.Z)(function*(){const Ae=yield he.openDbPromise;return new Promise((Fe,st)=>{const Ht=Ae.transaction([Mi],"readwrite").objectStore(Mi),yn=he.createCompositeKey(L);try{const Qn=Ht.put({compositeKey:yn,value:Q});Qn.onerror=or=>{st(Kr(or,"storage-set"))},Qn.onsuccess=()=>{Fe()}}catch(Qn){st(Ai.create("storage-set",{originalErrorMessage:Qn?.message}))}})})()}delete(L){var Q=this;return(0,u.Z)(function*(){const he=yield Q.openDbPromise;return new Promise((Ae,Fe)=>{const Vt=he.transaction([Mi],"readwrite").objectStore(Mi),Ht=Q.createCompositeKey(L);try{const yn=Vt.delete(Ht);yn.onerror=Qn=>{Fe(Kr(Qn,"storage-delete"))},yn.onsuccess=()=>{Ae()}}catch(yn){Fe(Ai.create("storage-delete",{originalErrorMessage:yn?.message}))}})})()}createCompositeKey(L){return[this.appId,this.appName,this.namespace,L].join()}}class uo{constructor(L){this.storage=L}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var L=this;return(0,u.Z)(function*(){const Q=L.storage.getLastFetchStatus(),he=L.storage.getLastSuccessfulFetchTimestampMillis(),Ae=L.storage.getActiveConfig(),Fe=yield Q;Fe&&(L.lastFetchStatus=Fe);const st=yield he;st&&(L.lastSuccessfulFetchTimestampMillis=st);const Vt=yield Ae;Vt&&(L.activeConfig=Vt)})()}setLastFetchStatus(L){return this.lastFetchStatus=L,this.storage.setLastFetchStatus(L)}setLastSuccessfulFetchTimestampMillis(L){return this.lastSuccessfulFetchTimestampMillis=L,this.storage.setLastSuccessfulFetchTimestampMillis(L)}setActiveConfig(L){return this.activeConfig=L,this.storage.setActiveConfig(L)}}function ls(){return Us.apply(this,arguments)}function Us(){return(Us=(0,u.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}!function Fa(){(0,we.Xd)(new fe.wA("remote-config",function O(L,{instanceIdentifier:Q}){const he=L.getProvider("app").getImmediate(),Ae=L.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ai.create("registration-window");if(!(0,de.hl)())throw Ai.create("indexed-db-unavailable");const{projectId:Fe,apiKey:st,appId:Vt}=he.options;if(!Fe)throw Ai.create("registration-project-id");if(!st)throw Ai.create("registration-api-key");if(!Vt)throw Ai.create("registration-app-id");const Ht=new Ln(Vt,he.name,Q=Q||"firebase"),yn=new uo(Ht),Qn=new Ne.Yd(ws);Qn.logLevel=Ne.in.ERROR;const or=new lo(Ae,we.Jn,Q,Fe,st,Vt),sc=new Wn(or,Ht),vo=new Ii(sc,Ht,yn,Qn),Uh=new vi(he,vo,yn,Ht,Qn);return function na(O){const L=(0,de.m9)(O);L._initializePromise||(L._initializePromise=L._storageCache.loadFromStorage().then(()=>{L._isInitializationComplete=!0}))}(Uh),Uh},"PUBLIC").setMultipleInstances(!0)),(0,we.KN)(ws,"0.4.4"),(0,we.KN)(ws,"0.4.4","esm2017")}();const Jr=(O,L)=>L.some(Q=>O instanceof Q);let Oo,il;const Xs=new WeakMap,Fi=new WeakMap,qn=new WeakMap,zu=new WeakMap,Mo=new WeakMap;let Vr={get(O,L,Q){if(O instanceof IDBTransaction){if("done"===L)return Fi.get(O);if("objectStoreNames"===L)return O.objectStoreNames||qn.get(O);if("store"===L)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return eo(O[L])},set:(O,L,Q)=>(O[L]=Q,!0),has:(O,L)=>O instanceof IDBTransaction&&("done"===L||"store"===L)||L in O};function Fr(O){return"function"==typeof O?function Ts(O){return O!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Gi(){return il||(il=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(O)?function(...L){return O.apply(Yr(this),L),eo(Xs.get(this))}:function(...L){return eo(O.apply(Yr(this),L))}:function(L,...Q){const he=O.call(Yr(this),L,...Q);return qn.set(he,L.sort?L.sort():[L]),eo(he)}}(O):(O instanceof IDBTransaction&&function Ti(O){if(Fi.has(O))return;const L=new Promise((Q,he)=>{const Ae=()=>{O.removeEventListener("complete",Fe),O.removeEventListener("error",st),O.removeEventListener("abort",st)},Fe=()=>{Q(),Ae()},st=()=>{he(O.error||new DOMException("AbortError","AbortError")),Ae()};O.addEventListener("complete",Fe),O.addEventListener("error",st),O.addEventListener("abort",st)});Fi.set(O,L)}(O),Jr(O,function ho(){return Oo||(Oo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(O,Vr):O)}function eo(O){if(O instanceof IDBRequest)return function Vs(O){const L=new Promise((Q,he)=>{const Ae=()=>{O.removeEventListener("success",Fe),O.removeEventListener("error",st)},Fe=()=>{Q(eo(O.result)),Ae()},st=()=>{he(O.error),Ae()};O.addEventListener("success",Fe),O.addEventListener("error",st)});return L.then(Q=>{Q instanceof IDBCursor&&Xs.set(Q,O)}).catch(()=>{}),Mo.set(L,O),L}(O);if(zu.has(O))return zu.get(O);const L=Fr(O);return L!==O&&(zu.set(O,L),Mo.set(L,O)),L}const Yr=O=>Mo.get(O);function Ki(O,L,{blocked:Q,upgrade:he,blocking:Ae,terminated:Fe}={}){const st=indexedDB.open(O,L),Vt=eo(st);return he&&st.addEventListener("upgradeneeded",Ht=>{he(eo(st.result),Ht.oldVersion,Ht.newVersion,eo(st.transaction))}),Q&&st.addEventListener("blocked",()=>Q()),Vt.then(Ht=>{Fe&&Ht.addEventListener("close",()=>Fe()),Ae&&Ht.addEventListener("versionchange",()=>Ae())}).catch(()=>{}),Vt}function to(O,{blocked:L}={}){const Q=indexedDB.deleteDatabase(O);return L&&Q.addEventListener("blocked",()=>L()),eo(Q).then(()=>{})}const no=["get","getKey","getAll","getAllKeys","count"],xo=["put","add","delete","clear"],bi=new Map;function xi(O,L){if(!(O instanceof IDBDatabase)||L in O||"string"!=typeof L)return;if(bi.get(L))return bi.get(L);const Q=L.replace(/FromIndex$/,""),he=L!==Q,Ae=xo.includes(Q);if(!(Q in(he?IDBIndex:IDBObjectStore).prototype)||!Ae&&!no.includes(Q))return;const Fe=function(){var st=(0,u.Z)(function*(Vt,...Ht){const yn=this.transaction(Vt,Ae?"readwrite":"readonly");let Qn=yn.store;return he&&(Qn=Qn.index(Ht.shift())),(yield Promise.all([Qn[Q](...Ht),Ae&&yn.done]))[0]});return function(Ht){return st.apply(this,arguments)}}();return bi.set(L,Fe),Fe}!function ra(O){Vr=O(Vr)}(O=>({...O,get:(L,Q,he)=>xi(L,Q)||O.get(L,Q,he),has:(L,Q)=>!!xi(L,Q)||O.has(L,Q)}));const vc="/firebase-messaging-sw.js",Ro="/firebase-cloud-messaging-push-scope",fo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Po="https://fcmregistrations.googleapis.com/v1",Ar="google.c.a.c_id",ia="google.c.a.c_l",sl="google.c.a.ts";var B=function(O){return O.PUSH_RECEIVED="push-received",O.NOTIFICATION_CLICKED="notification-clicked",O}(B||{});function oe(O){const L=new Uint8Array(O);return btoa(String.fromCharCode(...L)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ie(O){const Q=(O+"=".repeat((4-O.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),he=atob(Q),Ae=new Uint8Array(he.length);for(let Fe=0;Fe<he.length;++Fe)Ae[Fe]=he.charCodeAt(Fe);return Ae}const Yt="fcm_token_details_db",Bn=5,Yi="fcm_token_object_Store";function Qi(){return Qi=(0,u.Z)(function*(O){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Fe=>Fe.name).includes(Yt))return null;let L=null;return(yield Ki(Yt,Bn,{upgrade:(he=(0,u.Z)(function*(Ae,Fe,st,Vt){var Ht;if(Fe<2||!Ae.objectStoreNames.contains(Yi))return;const yn=Vt.objectStore(Yi),Qn=yield yn.index("fcmSenderId").get(O);if(yield yn.clear(),Qn)if(2===Fe){const or=Qn;if(!or.auth||!or.p256dh||!or.endpoint)return;L={token:or.fcmToken,createTime:null!==(Ht=or.createTime)&&void 0!==Ht?Ht:Date.now(),subscriptionOptions:{auth:or.auth,p256dh:or.p256dh,endpoint:or.endpoint,swScope:or.swScope,vapidKey:"string"==typeof or.vapidKey?or.vapidKey:oe(or.vapidKey)}}}else if(3===Fe){const or=Qn;L={token:or.fcmToken,createTime:or.createTime,subscriptionOptions:{auth:oe(or.auth),p256dh:oe(or.p256dh),endpoint:or.endpoint,swScope:or.swScope,vapidKey:oe(or.vapidKey)}}}else if(4===Fe){const or=Qn;L={token:or.fcmToken,createTime:or.createTime,subscriptionOptions:{auth:oe(or.auth),p256dh:oe(or.p256dh),endpoint:or.endpoint,swScope:or.swScope,vapidKey:oe(or.vapidKey)}}}}),function(Fe,st,Vt,Ht){return he.apply(this,arguments)})})).close(),yield to(Yt),yield to("fcm_vapid_details_db"),yield to("undefined"),function Li(O){if(!O||!O.subscriptionOptions)return!1;const{subscriptionOptions:L}=O;return"number"==typeof O.createTime&&O.createTime>0&&"string"==typeof O.token&&O.token.length>0&&"string"==typeof L.auth&&L.auth.length>0&&"string"==typeof L.p256dh&&L.p256dh.length>0&&"string"==typeof L.endpoint&&L.endpoint.length>0&&"string"==typeof L.swScope&&L.swScope.length>0&&"string"==typeof L.vapidKey&&L.vapidKey.length>0}(L)?L:null;var he}),Qi.apply(this,arguments)}const bc="firebase-messaging-database",sa=1,ko="firebase-messaging-store";let wc=null;function La(){return wc||(wc=Ki(bc,sa,{upgrade:(O,L)=>{0===L&&O.createObjectStore(ko)}})),wc}function Ds(O){return Al.apply(this,arguments)}function Al(){return Al=(0,u.Z)(function*(O){const L=po(O),he=yield(yield La()).transaction(ko).objectStore(ko).get(L);if(he)return he;{const Ae=yield function Es(O){return Qi.apply(this,arguments)}(O.appConfig.senderId);if(Ae)return yield Vc(O,Ae),Ae}}),Al.apply(this,arguments)}function Vc(O,L){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,u.Z)(function*(O,L){const Q=po(O),Ae=(yield La()).transaction(ko,"readwrite");return yield Ae.objectStore(ko).put(L,Q),yield Ae.done,L})).apply(this,arguments)}function us(){return(us=(0,u.Z)(function*(O){const L=po(O),he=(yield La()).transaction(ko,"readwrite");yield he.objectStore(ko).delete(L),yield he.done})).apply(this,arguments)}function po({appConfig:O}){return O.appId}const Qr=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Hs(O,L){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,u.Z)(function*(O,L){const Q=yield go(O),he=Ss(L),Ae={method:"POST",headers:Q,body:JSON.stringify(he)};let Fe;try{Fe=yield(yield fetch(Ji(O.appConfig),Ae)).json()}catch(st){throw Qr.create("token-subscribe-failed",{errorInfo:st?.toString()})}if(Fe.error)throw Qr.create("token-subscribe-failed",{errorInfo:Fe.error.message});if(!Fe.token)throw Qr.create("token-subscribe-no-token");return Fe.token})).apply(this,arguments)}function Ei(){return(Ei=(0,u.Z)(function*(O,L){const Q=yield go(O),he=Ss(L.subscriptionOptions),Ae={method:"PATCH",headers:Q,body:JSON.stringify(he)};let Fe;try{Fe=yield(yield fetch(`${Ji(O.appConfig)}/${L.token}`,Ae)).json()}catch(st){throw Qr.create("token-update-failed",{errorInfo:st?.toString()})}if(Fe.error)throw Qr.create("token-update-failed",{errorInfo:Fe.error.message});if(!Fe.token)throw Qr.create("token-update-no-token");return Fe.token})).apply(this,arguments)}function Cs(O,L){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,u.Z)(function*(O,L){const he={method:"DELETE",headers:yield go(O)};try{const Fe=yield(yield fetch(`${Ji(O.appConfig)}/${L}`,he)).json();if(Fe.error)throw Qr.create("token-unsubscribe-failed",{errorInfo:Fe.error.message})}catch(Ae){throw Qr.create("token-unsubscribe-failed",{errorInfo:Ae?.toString()})}})).apply(this,arguments)}function Ji({projectId:O}){return`${Po}/projects/${O}/registrations`}function go(O){return ba.apply(this,arguments)}function ba(){return(ba=(0,u.Z)(function*({appConfig:O,installations:L}){const Q=yield L.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O.apiKey,"x-goog-firebase-installations-auth":`FIS ${Q}`})})).apply(this,arguments)}function Ss({p256dh:O,auth:L,endpoint:Q,vapidKey:he}){const Ae={web:{endpoint:Q,auth:L,p256dh:O}};return he!==fo&&(Ae.web.applicationPubKey=he),Ae}const wa=6048e5;function Ec(){return Ec=(0,u.Z)(function*(O){const L=yield function mo(O,L){return qu.apply(this,arguments)}(O.swRegistration,O.vapidKey),Q={vapidKey:O.vapidKey,swScope:O.swRegistration.scope,endpoint:L.endpoint,auth:oe(L.getKey("auth")),p256dh:oe(L.getKey("p256dh"))},he=yield Ds(O.firebaseDependencies);if(he){if(function M(O,L){return L.vapidKey===O.vapidKey&&L.endpoint===O.endpoint&&L.auth===O.auth&&L.p256dh===O.p256dh}(he.subscriptionOptions,Q))return Date.now()>=he.createTime+wa?function Ol(O,L){return cu.apply(this,arguments)}(O,{token:he.token,createTime:Date.now(),subscriptionOptions:Q}):he.token;try{yield Cs(O.firebaseDependencies,he.token)}catch(Ae){console.warn(Ae)}return lu(O.firebaseDependencies,Q)}return lu(O.firebaseDependencies,Q)}),Ec.apply(this,arguments)}function Nl(){return Nl=(0,u.Z)(function*(O){const L=yield Ds(O.firebaseDependencies);L&&(yield Cs(O.firebaseDependencies,L.token),yield function oa(O){return us.apply(this,arguments)}(O.firebaseDependencies));const Q=yield O.swRegistration.pushManager.getSubscription();return!Q||Q.unsubscribe()}),Nl.apply(this,arguments)}function cu(){return cu=(0,u.Z)(function*(O,L){try{const Q=yield function Wu(O,L){return Ei.apply(this,arguments)}(O.firebaseDependencies,L),he=Object.assign(Object.assign({},L),{token:Q,createTime:Date.now()});return yield Vc(O.firebaseDependencies,he),Q}catch(Q){throw yield function Dc(O){return Nl.apply(this,arguments)}(O),Q}}),cu.apply(this,arguments)}function lu(O,L){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,u.Z)(function*(O,L){const he={token:yield Hs(O,L),createTime:Date.now(),subscriptionOptions:L};return yield Vc(O,he),he.token})).apply(this,arguments)}function qu(){return(qu=(0,u.Z)(function*(O,L){return(yield O.pushManager.getSubscription())||O.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ie(L)})})).apply(this,arguments)}function ne(O){const L={from:O.from,collapseKey:O.collapse_key,messageId:O.fcmMessageId};return function V(O,L){if(!L.notification)return;O.notification={};const Q=L.notification.title;Q&&(O.notification.title=Q);const he=L.notification.body;he&&(O.notification.body=he);const Ae=L.notification.image;Ae&&(O.notification.image=Ae);const Fe=L.notification.icon;Fe&&(O.notification.icon=Fe)}(L,O),function X(O,L){L.data&&(O.data=L.data)}(L,O),function ye(O,L){var Q,he,Ae,Fe,st;if(!(L.fcmOptions||null!==(Q=L.notification)&&void 0!==Q&&Q.click_action))return;O.fcmOptions={};const Vt=null!==(Ae=null===(he=L.fcmOptions)||void 0===he?void 0:he.link)&&void 0!==Ae?Ae:null===(Fe=L.notification)||void 0===Fe?void 0:Fe.click_action;Vt&&(O.fcmOptions.link=Vt);const Ht=null===(st=L.fcmOptions)||void 0===st?void 0:st.analytics_label;Ht&&(O.fcmOptions.analyticsLabel=Ht)}(L,O),L}function ct(O,L){const Q=[];for(let he=0;he<O.length;he++)Q.push(O.charAt(he)),he<L.length&&Q.push(L.charAt(he));return Q.join("")}function Xn(O){return Qr.create("missing-app-config-values",{valueName:O})}ct("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ct("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Lr{constructor(L,Q,he){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ae=function on(O){if(!O||!O.options)throw Xn("App Configuration Object");if(!O.name)throw Xn("App Name");const L=["projectId","apiKey","appId","messagingSenderId"],{options:Q}=O;for(const he of L)if(!Q[he])throw Xn(he);return{appName:O.name,projectId:Q.projectId,apiKey:Q.apiKey,appId:Q.appId,senderId:Q.messagingSenderId}}(L);this.firebaseDependencies={app:L,appConfig:Ae,installations:Q,analyticsProvider:he}}_delete(){return Promise.resolve()}}function Hn(){return(Hn=(0,u.Z)(function*(O){try{O.swRegistration=yield navigator.serviceWorker.register(vc,{scope:Ro}),O.swRegistration.update().catch(()=>{})}catch(L){throw Qr.create("failed-service-worker-registration",{browserErrorMessage:L?.message})}})).apply(this,arguments)}function xr(){return(xr=(0,u.Z)(function*(O,L){if(!L&&!O.swRegistration&&(yield function er(O){return Hn.apply(this,arguments)}(O)),L||!O.swRegistration){if(!(L instanceof ServiceWorkerRegistration))throw Qr.create("invalid-sw-registration");O.swRegistration=L}})).apply(this,arguments)}function As(){return(As=(0,u.Z)(function*(O,L){L?O.vapidKey=L:O.vapidKey||(O.vapidKey=fo)})).apply(this,arguments)}function ji(){return ji=(0,u.Z)(function*(O,L){if(!navigator)throw Qr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Qr.create("permission-blocked");return yield function gi(O,L){return As.apply(this,arguments)}(O,L?.vapidKey),yield function Xr(O,L){return xr.apply(this,arguments)}(O,L?.serviceWorkerRegistration),function Tc(O){return Ec.apply(this,arguments)}(O)}),ji.apply(this,arguments)}function aa(){return(aa=(0,u.Z)(function*(O,L,Q){const he=function hs(O){switch(O){case B.NOTIFICATION_CLICKED:return"notification_open";case B.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(L);(yield O.firebaseDependencies.analyticsProvider.get()).logEvent(he,{message_id:Q[Ar],message_name:Q[ia],message_time:Q[sl],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Gs(){return Gs=(0,u.Z)(function*(O,L){const Q=L.data;if(!Q.isFirebaseMessaging)return;O.onMessageHandler&&Q.messageType===B.PUSH_RECEIVED&&("function"==typeof O.onMessageHandler?O.onMessageHandler(ne(Q)):O.onMessageHandler.next(ne(Q)));const he=Q.data;(function Qe(O){return"object"==typeof O&&!!O&&Ar in O})(he)&&"1"===he["google.c.a.e"]&&(yield function ds(O,L,Q){return aa.apply(this,arguments)}(O,Q.messageType,he))}),Gs.apply(this,arguments)}const Ml="@firebase/messaging",Ba=O=>{const L=new Lr(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),O.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Q=>function Cc(O,L){return Gs.apply(this,arguments)}(L,Q)),L},Ua=O=>{const L=O.getProvider("messaging").getImmediate();return{getToken:he=>function Pi(O,L){return ji.apply(this,arguments)}(L,he)}};function al(){return xl.apply(this,arguments)}function xl(){return(xl=(0,u.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function mi(){(0,we.Xd)(new fe.wA("messaging",Ba,"PUBLIC")),(0,we.Xd)(new fe.wA("messaging-internal",Ua,"PRIVATE")),(0,we.KN)(Ml,"0.12.4"),(0,we.KN)(Ml,"0.12.4","esm2017")}();const ca="analytics",du="firebase_id",Fd="origin",_i=6e4,Gc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",nc="https://www.googletagmanager.com/gtag/js",ps=new Ne.Yd("@firebase/analytics"),Ns=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function fg(O){if(!O.startsWith(nc)){const L=Ns.create("invalid-gtag-resource",{gtagURL:O});return ps.warn(L.message),""}return O}function Zu(O){return Promise.all(O.map(L=>L.catch(Q=>Q)))}function $c(){return($c=(0,u.Z)(function*(O,L,Q,he,Ae,Fe){const st=he[Ae];try{if(st)yield L[st];else{const Ht=(yield Zu(Q)).find(yn=>yn.measurementId===Ae);Ht&&(yield L[Ht.appId])}}catch(Vt){ps.error(Vt)}O("config",Ae,Fe)})).apply(this,arguments)}function Ku(){return(Ku=(0,u.Z)(function*(O,L,Q,he,Ae){try{let Fe=[];if(Ae&&Ae.send_to){let st=Ae.send_to;Array.isArray(st)||(st=[st]);const Vt=yield Zu(Q);for(const Ht of st){const yn=Vt.find(or=>or.measurementId===Ht),Qn=yn&&L[yn.appId];if(!Qn){Fe=[];break}Fe.push(Qn)}}0===Fe.length&&(Fe=Object.values(L)),yield Promise.all(Fe),O("event",he,Ae||{})}catch(Fe){ps.error(Fe)}})).apply(this,arguments)}const Er=30,Xi=new class Bd{constructor(L={},Q=1e3){this.throttleMetadata=L,this.intervalMillis=Q}getThrottleMetadata(L){return this.throttleMetadata[L]}setThrottleMetadata(L,Q){this.throttleMetadata[L]=Q}deleteThrottleMetadata(L){delete this.throttleMetadata[L]}};function Qu(O){return new Headers({Accept:"application/json","x-goog-api-key":O})}function _o(){return(_o=(0,u.Z)(function*(O){var L;const{appId:Q,apiKey:he}=O,Ae={method:"GET",headers:Qu(he)},Fe=Gc.replace("{app-id}",Q),st=yield fetch(Fe,Ae);if(200!==st.status&&304!==st.status){let Vt="";try{const Ht=yield st.json();null!==(L=Ht.error)&&void 0!==L&&L.message&&(Vt=Ht.error.message)}catch{}throw Ns.create("config-fetch-failed",{httpStatus:st.status,responseMessage:Vt})}return st.json()})).apply(this,arguments)}function Va(){return(Va=(0,u.Z)(function*(O,L=Xi,Q){const{appId:he,apiKey:Ae,measurementId:Fe}=O.options;if(!he)throw Ns.create("no-app-id");if(!Ae){if(Fe)return{measurementId:Fe,appId:he};throw Ns.create("no-api-key")}const st=L.getThrottleMetadata(he)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Vt=new Fo;return setTimeout((0,u.Z)(function*(){Vt.abort()}),void 0!==Q?Q:_i),pu({appId:he,apiKey:Ae,measurementId:Fe},st,Vt,L)})).apply(this,arguments)}function pu(O,L,Q){return ul.apply(this,arguments)}function ul(){return ul=(0,u.Z)(function*(O,{throttleEndTimeMillis:L,backoffCount:Q},he,Ae=Xi){var Fe;const{appId:st,measurementId:Vt}=O;try{yield function la(O,L){return new Promise((Q,he)=>{const Ae=Math.max(L-Date.now(),0),Fe=setTimeout(Q,Ae);O.addEventListener(()=>{clearTimeout(Fe),he(Ns.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(he,L)}catch(Ht){if(Vt)return ps.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Vt} provided in the "measurementId" field in the local Firebase config. [${Ht?.message}]`),{appId:st,measurementId:Vt};throw Ht}try{const Ht=yield function ll(O){return _o.apply(this,arguments)}(O);return Ae.deleteThrottleMetadata(st),Ht}catch(Ht){const yn=Ht;if(!function $s(O){if(!(O instanceof de.ZR&&O.customData))return!1;const L=Number(O.customData.httpStatus);return 429===L||500===L||503===L||504===L}(yn)){if(Ae.deleteThrottleMetadata(st),Vt)return ps.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Vt} provided in the "measurementId" field in the local Firebase config. [${yn?.message}]`),{appId:st,measurementId:Vt};throw Ht}const Qn=503===Number(null===(Fe=yn?.customData)||void 0===Fe?void 0:Fe.httpStatus)?(0,de.$s)(Q,Ae.intervalMillis,Er):(0,de.$s)(Q,Ae.intervalMillis),or={throttleEndTimeMillis:Date.now()+Qn,backoffCount:Q+1};return Ae.setThrottleMetadata(st,or),ps.debug(`Calling attemptFetch again in ${Qn} millis`),pu(O,or,he,Ae)}}),ul.apply(this,arguments)}class Fo{constructor(){this.listeners=[]}addEventListener(L){this.listeners.push(L)}abort(){this.listeners.forEach(L=>L())}}let dl,_e;function Ta(){return(Ta=(0,u.Z)(function*(O,L,Q,he,Ae){if(Ae&&Ae.global)O("event",Q,he);else{const Fe=yield L;O("event",Q,Object.assign(Object.assign({},he),{send_to:Fe}))}})).apply(this,arguments)}function Gn(){return(Gn=(0,u.Z)(function*(){if(!(0,de.hl)())return ps.warn(Ns.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(O){return ps.warn(Ns.create("indexeddb-unavailable",{errorInfo:O?.toString()}).message),!1}return!0})).apply(this,arguments)}function mr(){return mr=(0,u.Z)(function*(O,L,Q,he,Ae,Fe,st){var Vt;const Ht=function Fl(O){return Va.apply(this,arguments)}(O);Ht.then(vo=>{Q[vo.measurementId]=vo.appId,O.options.measurementId&&vo.measurementId!==O.options.measurementId&&ps.warn(`The measurement ID in the local Firebase config (${O.options.measurementId}) does not match the measurement ID fetched from the server (${vo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(vo=>ps.error(vo)),L.push(Ht);const yn=function $t(){return Gn.apply(this,arguments)}().then(vo=>{if(vo)return he.getId()}),[Qn,or]=yield Promise.all([Ht,yn]);(function ht(O){const L=window.document.getElementsByTagName("script");for(const Q of Object.values(L))if(Q.src&&Q.src.includes(nc)&&Q.src.includes(O))return Q;return null})(Fe)||function kl(O,L){const Q=function Pl(O,L){let Q;return window.trustedTypes&&(Q=window.trustedTypes.createPolicy(O,L)),Q}("firebase-js-sdk-policy",{createScriptURL:fg}),he=document.createElement("script"),Ae=`${nc}?l=${O}&id=${L}`;he.src=Q?Q?.createScriptURL(Ae):Ae,he.async=!0,document.head.appendChild(he)}(Fe,Qn.measurementId),_e&&(Ae("consent","default",_e),function ze(O){_e=O}(void 0)),Ae("js",new Date);const sc=null!==(Vt=st?.config)&&void 0!==Vt?Vt:{};return sc[Fd]="firebase",sc.update=!0,null!=or&&(sc[du]=or),Ae("config",Qn.measurementId,sc),dl&&(Ae("set",dl),function Ve(O){dl=O}(void 0)),Qn.measurementId}),mr.apply(this,arguments)}class rc{constructor(L){this.app=L}_delete(){return delete Gr[this.app.options.appId],Promise.resolve()}}let Gr={},Ea=[];const Rr={};let Rh,Ga,ua="dataLayer",ed=!1;function Ac(O,L,Q){!function kh(){const O=[];if((0,de.ru)()&&O.push("This is a browser extension environment."),(0,de.zI)()||O.push("Cookies are not available."),O.length>0){const L=O.map((he,Ae)=>`(${Ae+1}) ${he}`).join(" "),Q=Ns.create("invalid-analytics-context",{errorInfo:L});ps.warn(Q.message)}}();const he=O.options.appId;if(!he)throw Ns.create("no-app-id");if(!O.options.apiKey){if(!O.options.measurementId)throw Ns.create("no-api-key");ps.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${O.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Gr[he])throw Ns.create("already-exists",{id:he});if(!ed){!function jc(O){let L=[];Array.isArray(window[O])?L=window[O]:window[O]=L}(ua);const{wrappedGtag:Fe,gtagCore:st}=function fu(O,L,Q,he,Ae){let Fe=function(...st){window[he].push(arguments)};return window[Ae]&&"function"==typeof window[Ae]&&(Fe=window[Ae]),window[Ae]=function hu(O,L,Q,he){function Fe(){return Fe=(0,u.Z)(function*(st,...Vt){try{if("event"===st){const[Ht,yn]=Vt;yield function Ld(O,L,Q,he,Ae){return Ku.apply(this,arguments)}(O,L,Q,Ht,yn)}else if("config"===st){const[Ht,yn]=Vt;yield function Ia(O,L,Q,he,Ae,Fe){return $c.apply(this,arguments)}(O,L,Q,he,Ht,yn)}else if("consent"===st){const[Ht]=Vt;O("consent","update",Ht)}else if("get"===st){const[Ht,yn,Qn]=Vt;O("get",Ht,yn,Qn)}else if("set"===st){const[Ht]=Vt;O("set",Ht)}else O(st,...Vt)}catch(Ht){ps.error(Ht)}}),Fe.apply(this,arguments)}return function Ae(st){return Fe.apply(this,arguments)}}(Fe,O,L,Q),{gtagCore:Fe,wrappedGtag:window[Ae]}}(Gr,Ea,Rr,ua,"gtag");Ga=Fe,Rh=st,ed=!0}return Gr[he]=function Nr(O,L,Q,he,Ae,Fe,st){return mr.apply(this,arguments)}(O,Ea,Rr,L,Rh,ua,Q),new rc(O)}function zc(){return fl.apply(this,arguments)}function fl(){return(fl=(0,u.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}const pg="@firebase/analytics";!function Wf(){(0,we.Xd)(new fe.wA(ca,(L,{options:Q})=>Ac(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),Q),"PUBLIC")),(0,we.Xd)(new fe.wA("analytics-internal",function O(L){try{const Q=L.getProvider(ca).getImmediate();return{logEvent:(he,Ae,Fe)=>function Lh(O,L,Q,he){O=(0,de.m9)(O),function Ha(O,L,Q,he,Ae){return Ta.apply(this,arguments)}(Ga,Gr[O.app.options.appId],L,Q,he).catch(Ae=>ps.error(Ae))}(Q,he,Ae,Fe)}}catch(Q){throw Ns.create("interop-component-reg-failed",{reason:Q})}},"PRIVATE")),(0,we.KN)(pg,"0.10.0"),(0,we.KN)(pg,"0.10.0","esm2017")}();var Gd=K(1954),_u=K(9931);const Bh=new class Bl extends _u.v{}(class av extends Gd.o{constructor(L,Q){super(L,Q),this.scheduler=L,this.work=Q}schedule(L,Q=0){return Q>0?super.schedule(L,Q):(this.delay=Q,this.state=L,this.scheduler.flush(this),this)}execute(L,Q){return Q>0||this.closed?super.execute(L,Q):this._execute(L,Q)}requestAsyncId(L,Q,he=0){return null!=he&&he>0||null==he&&this.delay>0?super.requestAsyncId(L,Q,he):(L.flush(this),0)}});var yu=K(6321),Wc=K(5592),gg=K(9397),Vl=K(5137),nd=K(3093);const vu=new w.GfV("7.6.1"),yo="__angularfire_symbol__analyticsIsSupportedValue",rd="__angularfire_symbol__analyticsIsSupported",gl="__angularfire_symbol__remoteConfigIsSupportedValue",qc="__angularfire_symbol__remoteConfigIsSupported",bu="__angularfire_symbol__messagingIsSupportedValue",wu="__angularfire_symbol__messagingIsSupported";function Gl(O,L,Q){if(L){if(1===L.length)return L[0];const Fe=L.filter(st=>st.app===Q);if(1===Fe.length)return Fe[0]}return Q.container.getProvider(O).getImmediate({optional:!0})}globalThis[rd]||(globalThis[rd]=zc().then(O=>globalThis[yo]=O).catch(()=>globalThis[yo]=!1)),globalThis[wu]||(globalThis[wu]=al().then(O=>globalThis[bu]=O).catch(()=>globalThis[bu]=!1)),globalThis[qc]||(globalThis[qc]=ls().then(O=>globalThis[gl]=O).catch(()=>globalThis[gl]=!1));const Zf=(O,L)=>{const Q=L?[L]:(0,ae.C6)(),he=[];return Q.forEach(Ae=>{Ae.container.getProvider(O).instances.forEach(st=>{he.includes(st)||he.push(st)})}),he};function jl(){}class ml{constructor(L,Q=Bh){this.zone=L,this.delegate=Q}now(){return this.delegate.now()}schedule(L,Q,he){const Ae=this.zone;return this.delegate.schedule(function(st){Ae.runGuarded(()=>{L.apply(this,[st])})},Q,he)}}class Zc{constructor(L){this.zone=L,this.task=null}call(L,Q){const he=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",jl,{},jl,jl)),Q.pipe((0,gg.b)({next:he,complete:he,error:he})).subscribe(L).add(he)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let $d=(()=>{class O{constructor(Q){this.ngZone=Q,this.outsideAngular=Q.runOutsideAngular(()=>new ml(Zone.current)),this.insideAngular=Q.run(()=>new ml(Zone.current,yu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return O.\u0275fac=function(Q){return new(Q||O)(w.LFG(w.R0b))},O.\u0275prov=w.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function Nc(){const O=globalThis.\u0275AngularFireScheduler;if(!O)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return O}function Lo(O){return Nc().ngZone.run(()=>O())}function Kf(O){return Nc(),function zd(O){return function(Q){return(Q=Q.lift(new Zc(O.ngZone))).pipe((0,Vl.R)(O.outsideAngular),(0,nd.Q)(O.insideAngular))}}(Nc())(O)}const id=(O,L)=>function(){const he=arguments;return L&&setTimeout(()=>{"scheduled"===L.state&&L.invoke()},10),Lo(()=>O.apply(void 0,he))},Yf=(O,L)=>function(){let Q;const he=arguments;for(let Fe=0;Fe<arguments.length;Fe++)"function"==typeof he[Fe]&&(L&&(Q||(Q=Lo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",jl,{},jl,jl)))),he[Fe]=id(he[Fe],Q));const Ae=function Iu(O){return Nc().ngZone.runOutsideAngular(()=>O())}(()=>O.apply(this,he));if(!L){if(Ae instanceof Wc.y){const Fe=Nc();return Ae.pipe((0,Vl.R)(Fe.outsideAngular),(0,nd.Q)(Fe.insideAngular))}return Lo(()=>Ae)}return Ae instanceof Wc.y?Ae.pipe(Kf):Ae instanceof Promise?Lo(()=>new Promise((Fe,st)=>Ae.then(Vt=>Lo(()=>Fe(Vt)),Vt=>Lo(()=>st(Vt))))):"function"==typeof Ae&&Q?function(){return setTimeout(()=>{Q&&"scheduled"===Q.state&&Q.invoke()},10),Ae.apply(this,arguments)}:Lo(()=>Ae)}},229:(Gt,$e,K)=>{K.d($e,{$s:()=>It,BH:()=>vt,L:()=>Ee,LL:()=>bt,P0:()=>xt,Pz:()=>ot,Sg:()=>_t,US:()=>fe,ZR:()=>nt,aH:()=>mt,b$:()=>dt,eu:()=>je,hl:()=>ke,m9:()=>zn,ne:()=>tr,ru:()=>Vn,tV:()=>re,uI:()=>ve,vZ:()=>yt,xO:()=>An,z$:()=>Ge,zI:()=>Ye});const we=function(Y){const U=[];let G=0;for(let W=0;W<Y.length;W++){let $=Y.charCodeAt(W);$<128?U[G++]=$:$<2048?(U[G++]=$>>6|192,U[G++]=63&$|128):55296==(64512&$)&&W+1<Y.length&&56320==(64512&Y.charCodeAt(W+1))?($=65536+((1023&$)<<10)+(1023&Y.charCodeAt(++W)),U[G++]=$>>18|240,U[G++]=$>>12&63|128,U[G++]=$>>6&63|128,U[G++]=63&$|128):(U[G++]=$>>12|224,U[G++]=$>>6&63|128,U[G++]=63&$|128)}return U},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Y,U){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let $=0;$<Y.length;$+=3){const be=Y[$],We=$+1<Y.length,Tt=We?Y[$+1]:0,tn=$+2<Y.length,ln=tn?Y[$+2]:0;let Fn=(15&Tt)<<2|ln>>6,qr=63&ln;tn||(qr=64,We||(Fn=64)),W.push(G[be>>2],G[(3&be)<<4|Tt>>4],G[Fn],G[qr])}return W.join("")},encodeString(Y,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(Y):this.encodeByteArray(we(Y),U)},decodeString(Y,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(Y):function(Y){const U=[];let G=0,W=0;for(;G<Y.length;){const $=Y[G++];if($<128)U[W++]=String.fromCharCode($);else if($>191&&$<224){const be=Y[G++];U[W++]=String.fromCharCode((31&$)<<6|63&be)}else if($>239&&$<365){const tn=((7&$)<<18|(63&Y[G++])<<12|(63&Y[G++])<<6|63&Y[G++])-65536;U[W++]=String.fromCharCode(55296+(tn>>10)),U[W++]=String.fromCharCode(56320+(1023&tn))}else{const be=Y[G++],We=Y[G++];U[W++]=String.fromCharCode((15&$)<<12|(63&be)<<6|63&We)}}return U.join("")}(this.decodeStringToByteArray(Y,U))},decodeStringToByteArray(Y,U){this.init_();const G=U?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let $=0;$<Y.length;){const be=G[Y.charAt($++)],Tt=$<Y.length?G[Y.charAt($)]:0;++$;const ln=$<Y.length?G[Y.charAt($)]:64;++$;const Kt=$<Y.length?G[Y.charAt($)]:64;if(++$,null==be||null==Tt||null==ln||null==Kt)throw new Ne;W.push(be<<2|Tt>>4),64!==ln&&(W.push(Tt<<4&240|ln>>2),64!==Kt&&W.push(ln<<6&192|Kt))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}};class Ne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ee=function(Y){return function(Y){const U=we(Y);return fe.encodeByteArray(U,!0)}(Y).replace(/\./g,"")},re=function(Y){try{return fe.decodeString(Y,!0)}catch(U){console.error("base64Decode failed: ",U)}return null},Ft=()=>{try{return function Pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Y=process.env.__FIREBASE_DEFAULTS__;return Y?JSON.parse(Y):void 0})()||(()=>{if(typeof document>"u")return;let Y;try{Y=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=Y&&re(Y[1]);return U&&JSON.parse(U)})()}catch(Y){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Y}`)}},xt=Y=>{const U=(Y=>{var U,G;return null===(G=null===(U=Ft())||void 0===U?void 0:U.emulatorHosts)||void 0===G?void 0:G[Y]})(Y);if(!U)return;const G=U.lastIndexOf(":");if(G<=0||G+1===U.length)throw new Error(`Invalid host ${U} with no separate hostname and port!`);const W=parseInt(U.substring(G+1),10);return"["===U[0]?[U.substring(1,G-1),W]:[U.substring(0,G),W]},mt=()=>{var Y;return null===(Y=Ft())||void 0===Y?void 0:Y.config},ot=Y=>{var U;return null===(U=Ft())||void 0===U?void 0:U[`_${Y}`]};class vt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,G)=>{this.resolve=U,this.reject=G})}wrapCallback(U){return(G,W)=>{G?this.reject(G):this.resolve(W),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(G):U(G,W))}}}function _t(Y,U){if(Y.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const W=U||"demo-project",$=Y.iat||0,be=Y.sub||Y.user_id;if(!be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const We=Object.assign({iss:`https://securetoken.google.com/${W}`,aud:W,iat:$,exp:$+3600,auth_time:$,sub:be,user_id:be,firebase:{sign_in_provider:"custom",identities:{}}},Y);return[Ee(JSON.stringify({alg:"none",type:"JWT"})),Ee(JSON.stringify(We)),""].join(".")}function Ge(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function Vn(){const Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ke(){try{return"object"==typeof indexedDB}catch{return!1}}function je(){return new Promise((Y,U)=>{try{let G=!0;const W="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(W);$.onsuccess=()=>{$.result.close(),G||self.indexedDB.deleteDatabase(W),Y(!0)},$.onupgradeneeded=()=>{G=!1},$.onerror=()=>{var be;U((null===(be=$.error)||void 0===be?void 0:be.message)||"")}}catch(G){U(G)}})}function Ye(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class nt extends Error{constructor(U,G,W){super(G),this.code=U,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bt.prototype.create)}}class bt{constructor(U,G,W){this.service=U,this.serviceName=G,this.errors=W}create(U,...G){const W=G[0]||{},$=`${this.service}/${U}`,be=this.errors[U],We=be?function Rt(Y,U){return Y.replace(jt,(G,W)=>{const $=U[W];return null!=$?String($):`<${W}?>`})}(be,W):"Error";return new nt($,`${this.serviceName}: ${We} (${$}).`,W)}}const jt=/\{\$([^}]+)}/g;function yt(Y,U){if(Y===U)return!0;const G=Object.keys(Y),W=Object.keys(U);for(const $ of G){if(!W.includes($))return!1;const be=Y[$],We=U[$];if(St(be)&&St(We)){if(!yt(be,We))return!1}else if(be!==We)return!1}for(const $ of W)if(!G.includes($))return!1;return!0}function St(Y){return null!==Y&&"object"==typeof Y}function An(Y){const U=[];for(const[G,W]of Object.entries(Y))Array.isArray(W)?W.forEach($=>{U.push(encodeURIComponent(G)+"="+encodeURIComponent($))}):U.push(encodeURIComponent(G)+"="+encodeURIComponent(W));return U.length?"&"+U.join("&"):""}function tr(Y,U){const G=new Xt(Y,U);return G.subscribe.bind(G)}class Xt{constructor(U,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{U(this)}).catch(W=>{this.error(W)})}next(U){this.forEachObserver(G=>{G.next(U)})}error(U){this.forEachObserver(G=>{G.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,G,W){let $;if(void 0===U&&void 0===G&&void 0===W)throw new Error("Missing Observer.");$=function Ir(Y,U){if("object"!=typeof Y||null===Y)return!1;for(const G of U)if(G in Y&&"function"==typeof Y[G])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:G,complete:W},void 0===$.next&&($.next=mn),void 0===$.error&&($.error=mn),void 0===$.complete&&($.complete=mn);const be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),be}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,U)}sendOne(U,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{G(this.observers[U])}catch(W){typeof console<"u"&&console.error&&console.error(W)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mn(){}const hi=1e3,tt=2,Ce=144e5,Ze=.5;function It(Y,U=hi,G=tt){const W=U*Math.pow(G,Y),$=Math.round(Ze*W*(Math.random()-.5)*2);return Math.min(Ce,W+$)}function zn(Y){return Y&&Y._delegate?Y._delegate:Y}},9058:(Gt,$e,K)=>{K.d($e,{BH:()=>vt,L:()=>Ee,LL:()=>bt,Pz:()=>ot,ZR:()=>nt,aH:()=>mt,b$:()=>dt,eu:()=>je,hl:()=>ke,m9:()=>zn,ne:()=>tr,pd:()=>Qt,q4:()=>xn,ru:()=>Vn,tV:()=>re,uI:()=>ve,vZ:()=>yt,w1:()=>Dn,xO:()=>An,xb:()=>Re,z$:()=>Ge,zd:()=>sn});const we=function(Y){const U=[];let G=0;for(let W=0;W<Y.length;W++){let $=Y.charCodeAt(W);$<128?U[G++]=$:$<2048?(U[G++]=$>>6|192,U[G++]=63&$|128):55296==(64512&$)&&W+1<Y.length&&56320==(64512&Y.charCodeAt(W+1))?($=65536+((1023&$)<<10)+(1023&Y.charCodeAt(++W)),U[G++]=$>>18|240,U[G++]=$>>12&63|128,U[G++]=$>>6&63|128,U[G++]=63&$|128):(U[G++]=$>>12|224,U[G++]=$>>6&63|128,U[G++]=63&$|128)}return U},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Y,U){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let $=0;$<Y.length;$+=3){const be=Y[$],We=$+1<Y.length,Tt=We?Y[$+1]:0,tn=$+2<Y.length,ln=tn?Y[$+2]:0;let Fn=(15&Tt)<<2|ln>>6,qr=63&ln;tn||(qr=64,We||(Fn=64)),W.push(G[be>>2],G[(3&be)<<4|Tt>>4],G[Fn],G[qr])}return W.join("")},encodeString(Y,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(Y):this.encodeByteArray(we(Y),U)},decodeString(Y,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(Y):function(Y){const U=[];let G=0,W=0;for(;G<Y.length;){const $=Y[G++];if($<128)U[W++]=String.fromCharCode($);else if($>191&&$<224){const be=Y[G++];U[W++]=String.fromCharCode((31&$)<<6|63&be)}else if($>239&&$<365){const tn=((7&$)<<18|(63&Y[G++])<<12|(63&Y[G++])<<6|63&Y[G++])-65536;U[W++]=String.fromCharCode(55296+(tn>>10)),U[W++]=String.fromCharCode(56320+(1023&tn))}else{const be=Y[G++],We=Y[G++];U[W++]=String.fromCharCode((15&$)<<12|(63&be)<<6|63&We)}}return U.join("")}(this.decodeStringToByteArray(Y,U))},decodeStringToByteArray(Y,U){this.init_();const G=U?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let $=0;$<Y.length;){const be=G[Y.charAt($++)],Tt=$<Y.length?G[Y.charAt($)]:0;++$;const ln=$<Y.length?G[Y.charAt($)]:64;++$;const Kt=$<Y.length?G[Y.charAt($)]:64;if(++$,null==be||null==Tt||null==ln||null==Kt)throw new Ne;W.push(be<<2|Tt>>4),64!==ln&&(W.push(Tt<<4&240|ln>>2),64!==Kt&&W.push(ln<<6&192|Kt))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}};class Ne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ee=function(Y){return function(Y){const U=we(Y);return fe.encodeByteArray(U,!0)}(Y).replace(/\./g,"")},re=function(Y){try{return fe.decodeString(Y,!0)}catch(U){console.error("base64Decode failed: ",U)}return null},Ft=()=>{try{return function Pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Y=process.env.__FIREBASE_DEFAULTS__;return Y?JSON.parse(Y):void 0})()||(()=>{if(typeof document>"u")return;let Y;try{Y=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=Y&&re(Y[1]);return U&&JSON.parse(U)})()}catch(Y){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Y}`)}},xn=Y=>{var U,G;return null===(G=null===(U=Ft())||void 0===U?void 0:U.emulatorHosts)||void 0===G?void 0:G[Y]},mt=()=>{var Y;return null===(Y=Ft())||void 0===Y?void 0:Y.config},ot=Y=>{var U;return null===(U=Ft())||void 0===U?void 0:U[`_${Y}`]};class vt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,G)=>{this.resolve=U,this.reject=G})}wrapCallback(U){return(G,W)=>{G?this.reject(G):this.resolve(W),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(G):U(G,W))}}}function Ge(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function Vn(){const Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Dn(){const Y=Ge();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function ke(){try{return"object"==typeof indexedDB}catch{return!1}}function je(){return new Promise((Y,U)=>{try{let G=!0;const W="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(W);$.onsuccess=()=>{$.result.close(),G||self.indexedDB.deleteDatabase(W),Y(!0)},$.onupgradeneeded=()=>{G=!1},$.onerror=()=>{var be;U((null===(be=$.error)||void 0===be?void 0:be.message)||"")}}catch(G){U(G)}})}class nt extends Error{constructor(U,G,W){super(G),this.code=U,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bt.prototype.create)}}class bt{constructor(U,G,W){this.service=U,this.serviceName=G,this.errors=W}create(U,...G){const W=G[0]||{},$=`${this.service}/${U}`,be=this.errors[U],We=be?function Rt(Y,U){return Y.replace(jt,(G,W)=>{const $=U[W];return null!=$?String($):`<${W}?>`})}(be,W):"Error";return new nt($,`${this.serviceName}: ${We} (${$}).`,W)}}const jt=/\{\$([^}]+)}/g;function Re(Y){for(const U in Y)if(Object.prototype.hasOwnProperty.call(Y,U))return!1;return!0}function yt(Y,U){if(Y===U)return!0;const G=Object.keys(Y),W=Object.keys(U);for(const $ of G){if(!W.includes($))return!1;const be=Y[$],We=U[$];if(St(be)&&St(We)){if(!yt(be,We))return!1}else if(be!==We)return!1}for(const $ of W)if(!G.includes($))return!1;return!0}function St(Y){return null!==Y&&"object"==typeof Y}function An(Y){const U=[];for(const[G,W]of Object.entries(Y))Array.isArray(W)?W.forEach($=>{U.push(encodeURIComponent(G)+"="+encodeURIComponent($))}):U.push(encodeURIComponent(G)+"="+encodeURIComponent(W));return U.length?"&"+U.join("&"):""}function sn(Y){const U={};return Y.replace(/^\?/,"").split("&").forEach(W=>{if(W){const[$,be]=W.split("=");U[decodeURIComponent($)]=decodeURIComponent(be)}}),U}function Qt(Y){const U=Y.indexOf("?");if(!U)return"";const G=Y.indexOf("#",U);return Y.substring(U,G>0?G:void 0)}function tr(Y,U){const G=new Xt(Y,U);return G.subscribe.bind(G)}class Xt{constructor(U,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{U(this)}).catch(W=>{this.error(W)})}next(U){this.forEachObserver(G=>{G.next(U)})}error(U){this.forEachObserver(G=>{G.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,G,W){let $;if(void 0===U&&void 0===G&&void 0===W)throw new Error("Missing Observer.");$=function Ir(Y,U){if("object"!=typeof Y||null===Y)return!1;for(const G of U)if(G in Y&&"function"==typeof Y[G])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:G,complete:W},void 0===$.next&&($.next=mn),void 0===$.error&&($.error=mn),void 0===$.complete&&($.complete=mn);const be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),be}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,U)}sendOne(U,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{G(this.observers[U])}catch(W){typeof console<"u"&&console.error&&console.error(W)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mn(){}function zn(Y){return Y&&Y._delegate?Y._delegate:Y}},1816:(Gt,$e,K)=>{K.d($e,{y:()=>u});var w=K(8645),ae=K(9468);let u=(()=>{class we{constructor(){this.modalMessageSource=new w.x,this.modalMessage$=this.modalMessageSource.asObservable()}sendModalMessage(fe){this.modalMessageSource.next(fe),console.log(2),console.log(this.modalMessage$)}static#e=this.\u0275fac=function(Ne){return new(Ne||we)};static#t=this.\u0275prov=ae.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})()},2732:(Gt,$e,K)=>{K.d($e,{Q:()=>u});var w=K(9468),ae=K(6593);let u=(()=>{class we{constructor(fe){this.sanitizer=fe}transform(fe){let Ne;if(fe.startsWith("https://m."))Ne=new URLSearchParams(fe.split("?")[1]).get("v")||"";else{const Ee=fe.split("/");Ne=Ee[Ee.length-1]}return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+Ne)}static#e=this.\u0275fac=function(Ne){return new(Ne||we)(w.Y36(ae.H7,16))};static#t=this.\u0275pipe=w.Yjl({name:"safeUrl",type:we,pure:!0})}return we})()},2772:(Gt,$e,K)=>{K.d($e,{r:()=>de});var w=K(6814),ae=K(6024),u=K(95),we=K(9468);let de=(()=>{class fe{static#e=this.\u0275fac=function(Ee){return new(Ee||fe)};static#t=this.\u0275mod=we.oAB({type:fe});static#n=this.\u0275inj=we.cJS({imports:[w.ez,ae.Bz,u.u5,u.UX]})}return fe})()},8850:(Gt,$e,K)=>{K.d($e,{O:()=>de});var w=K(5861),ae=K(3477),u=K(8645),we=K(9468);let de=(()=>{class fe{constructor(He){this.firestore=He,this.commentAddedSubject=new u.x}getCommentsForRecipe(He){var Ee=this;return(0,w.Z)(function*(){try{const re=(0,ae.hJ)(Ee.firestore,"Comments"),le=(0,ae.IO)(re,(0,ae.ar)("recipeId","==",He)),Se=yield(0,ae.PL)(le),et=[];return Se.forEach(Pe=>{const it=Pe.data();et.push({create_time:it.create_time,name:it.name,recipeId:it.recipeId,text:it.text,uid:it.uid,id:Pe.id})}),et.sort((Pe,it)=>{const At=Pe.create_time.toDate();return it.create_time.toDate().getTime()-At.getTime()}),et}catch(re){return console.error("Error retrieving comments:",re),[]}})()}getCommentsForUser(He){var Ee=this;return(0,w.Z)(function*(){try{const re=(0,ae.hJ)(Ee.firestore,"Comments"),le=(0,ae.IO)(re,(0,ae.ar)("uid","==",He)),Se=yield(0,ae.PL)(le),et=[];return Se.forEach(Pe=>{const it=Pe.data();et.push({create_time:it.create_time,name:it.name,recipeId:it.recipeId,text:it.text,uid:it.uid,id:Pe.id})}),et.sort((Pe,it)=>{const At=Pe.create_time.toDate();return it.create_time.toDate().getTime()-At.getTime()}),et}catch(re){return console.error("Error retrieving comments:",re),[]}})()}addComment(He){var Ee=this;return(0,w.Z)(function*(){try{const re="Comments",le=yield(0,ae.ET)((0,ae.hJ)(Ee.firestore,re),He);return Ee.commentAddedSubject.next(),le.id}catch(re){return console.error("Error adding comment:",re),null}})()}deleteComment(He){var Ee=this;return(0,w.Z)(function*(){try{const le=(0,ae.JU)(Ee.firestore,"Comments",He);yield(0,ae.oe)(le),console.log("Comment deleted successfully:",He)}catch(re){console.error("Error deleting comment:",re)}})()}getCommentById(He){var Ee=this;return(0,w.Z)(function*(){const re=(0,ae.JU)(Ee.firestore,"Comments",He),le=yield(0,ae.QT)(re);if(le.exists()){const Se=le.data();return console.log(Se.recipeId),le.data()}return null})()}editComment(He,Ee){var re=this;return(0,w.Z)(function*(){try{const Se=(0,ae.JU)(re.firestore,"Comments",He);yield(0,ae.r7)(Se,Ee),console.log("Comment edited successfully:",He)}catch(le){console.error("Error editing comment:",le)}})()}getCommentAddedObservable(){return this.commentAddedSubject.asObservable()}static#e=this.\u0275fac=function(Ee){return new(Ee||fe)(we.LFG(ae.gg))};static#t=this.\u0275prov=we.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})()},4019:(Gt,$e,K)=>{K.d($e,{j:()=>we});var w=K(5861),ae=K(3477),u=K(9468);let we=(()=>{class de{constructor(Ne){this.firestore=Ne}getRecipeById(Ne){var He=this;return(0,w.Z)(function*(){const Ee=(0,ae.JU)(He.firestore,"Recipe",Ne),re=yield(0,ae.QT)(Ee);if(re.exists()){let le=re.data();return le.id||(le={...le,id:Ne}),le}return null})()}updateRecipeLikes(Ne,He,Ee){var re=this;return(0,w.Z)(function*(){const Se=(0,ae.JU)(re.firestore,"Recipe",Ne);try{Ee?(console.log("remove"),yield(0,ae.r7)(Se,{likes:(0,ae.Ab)(He)})):(console.log("add"),yield(0,ae.r7)(Se,{likes:(0,ae.vr)(He)})),console.log("Recipe likes updated successfully")}catch(et){console.error("Error updating recipe likes: ",et)}})()}deleteRecipe(Ne){var He=this;return(0,w.Z)(function*(){try{const re=(0,ae.JU)(He.firestore,"Recipe",Ne);yield(0,ae.oe)(re),console.log("Recipe deleted successfully:",Ne)}catch(Ee){console.error("Error deleting recipe:",Ee)}})()}static#e=this.\u0275fac=function(He){return new(He||de)(u.LFG(ae.gg))};static#t=this.\u0275prov=u.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})()},1753:(Gt,$e,K)=>{K.d($e,{v:()=>He});var w=K(5861),ae=K(5619),u=K(6973),we=K(305),fe=K(3477),Ne=K(9468);let He=(()=>{class Ee{constructor(le){this.firestore=le,this.lastDocSubject=new ae.X(void 0),this.lastDoc$=this.lastDocSubject.asObservable()}getRecipeByUID(le){var Se=this;return(0,w.Z)(function*(){try{const et=(0,fe.hJ)(Se.firestore,"Recipe"),Pe=(0,fe.IO)(et,(0,fe.ar)("uid","==",le)),it=yield(0,fe.PL)(Pe),At=[];return it.forEach(Bt=>{const xn={...Bt.data(),id:Bt.id};At.push(xn)}),At}catch(et){return console.error("Error retrieving recipes:",et),[]}})()}getRecipesLoadMore(){var le=this;return(0,w.Z)(function*(){const et=yield function de(Ee,re){const le="object"==typeof re;return new Promise((Se,et)=>{const Pe=new we.Hp({next:it=>{Se(it),Pe.unsubscribe()},error:et,complete:()=>{le?Se(re.defaultValue):et(new u.K)}});Ee.subscribe(Pe)})}(le.lastDoc$);let it=(0,fe.IO)((0,fe.hJ)(le.firestore,"Recipe"),(0,fe.Xo)("title"));et&&(it=(0,fe.IO)(it,(0,fe.TQ)(et))),it=(0,fe.IO)(it,(0,fe.b9)(6));const At=yield(0,fe.PL)(it);let Bt=[];At.forEach(xt=>{const ot={...xt.data(),id:xt.id};Bt.push(ot)});const Ft=6===At.size;return le.lastDocSubject.next(At.docs[At.docs.length-1]),{data:Bt,hasMore:Ft}})()}getRecipes(){var le=this;return(0,w.Z)(function*(){let Pe=(0,fe.IO)((0,fe.hJ)(le.firestore,"Recipe"),(0,fe.Xo)("title"));Pe=(0,fe.IO)(Pe,(0,fe.b9)(6));const it=yield(0,fe.PL)(Pe);let At=[];return it.forEach(Ft=>{const xt={...Ft.data(),id:Ft.id};At.push(xt)}),le.lastDocSubject.next(it.docs[it.docs.length-1]),{data:At}})()}searchRecipesByTitle(le){var Se=this;return(0,w.Z)(function*(){let Pe=(0,fe.IO)((0,fe.hJ)(Se.firestore,"Recipe"),(0,fe.Xo)("title"));const it=yield(0,fe.PL)(Pe);let At=[];return it.forEach(Bt=>{const xn={...Bt.data(),id:Bt.id};At.push(xn)}),le&&(At=At.filter(Bt=>Bt.title.toLowerCase().includes(le.toLowerCase()))),{data:At}})()}static#e=this.\u0275fac=function(Se){return new(Se||Ee)(Ne.LFG(fe.gg))};static#t=this.\u0275prov=Ne.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})()},6499:(Gt,$e,K)=>{K.d($e,{K:()=>np});var w=K(5861),ae=K(9058),u=K(4303),we=K(7879),de=K(7582),fe=K(4537);const it=function et(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},At=new ae.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ft=new we.Yd("@firebase/auth");function xt(A,...v){Ft.logLevel<=we.in.ERROR&&Ft.error(`Auth (${u.Jn}): ${A}`,...v)}function mt(A,...v){throw Ge(A,...v)}function ot(A,...v){return Ge(A,...v)}function Ge(A,...v){if("string"!=typeof A){const b=v[0],N=[...v.slice(1)];return N[0]&&(N[0].appName=A.name),A._errorFactory.create(b,...N)}return At.create(A,...v)}function ve(A,v,...b){if(!A)throw Ge(v,...b)}function Ke(A){const v="INTERNAL ASSERTION FAILED: "+A;throw xt(v),new Error(v)}function gt(A,v){A||Ke(v)}function Vn(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.href)||""}function dn(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.protocol)||null}class ar{constructor(v,b){this.shortDelay=v,this.longDelay=b,gt(b>v,"Short delay should be less than long delay!"),this.isMobile=(0,ae.uI)()||(0,ae.b$)()}get(){return function Dn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function dt(){return"http:"===dn()||"https:"===dn()}()||(0,ae.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vr(A,v){gt(A.emulator,"Emulator should always be set here");const{url:b}=A.emulator;return v?`${b}${v.startsWith("/")?v.slice(1):v}`:b}class ke{static initialize(v,b,N){this.fetchImpl=v,b&&(this.headersImpl=b),N&&(this.responseImpl=N)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ke("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ke("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ke("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const je={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ye=new ar(3e4,6e4);function Ue(A,v){return A.tenantId&&!v.tenantId?Object.assign(Object.assign({},v),{tenantId:A.tenantId}):v}function nt(A,v,b,N){return bt.apply(this,arguments)}function bt(){return(bt=(0,w.Z)(function*(A,v,b,N,Z={}){return Rt(A,Z,(0,w.Z)(function*(){let ce={},Oe={};N&&("GET"===v?Oe=N:ce={body:JSON.stringify(N)});const Xe=(0,ae.xO)(Object.assign({key:A.config.apiKey},Oe)).slice(1),Et=yield A._getAdditionalHeaders();return Et["Content-Type"]="application/json",A.languageCode&&(Et["X-Firebase-Locale"]=A.languageCode),ke.fetch()(cn(A,A.config.apiHost,b,Xe),Object.assign({method:v,headers:Et,referrerPolicy:"no-referrer"},ce))}))})).apply(this,arguments)}function Rt(A,v,b){return jt.apply(this,arguments)}function jt(){return(jt=(0,w.Z)(function*(A,v,b){A._canInitEmulator=!1;const N=Object.assign(Object.assign({},je),v);try{const Z=new Yn(A),ce=yield Promise.race([b(),Z.promise]);Z.clearNetworkTimeout();const Oe=yield ce.json();if("needConfirmation"in Oe)throw br(A,"account-exists-with-different-credential",Oe);if(ce.ok&&!("errorMessage"in Oe))return Oe;{const Xe=ce.ok?Oe.errorMessage:Oe.error.message,[Et,fn]=Xe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Et)throw br(A,"credential-already-in-use",Oe);if("EMAIL_EXISTS"===Et)throw br(A,"email-already-in-use",Oe);if("USER_DISABLED"===Et)throw br(A,"user-disabled",Oe);const Cn=N[Et]||Et.toLowerCase().replace(/[_\s]+/g,"-");if(fn)throw function vt(A,v,b){const N=Object.assign(Object.assign({},it()),{[v]:b});return new ae.LL("auth","Firebase",N).create(v,{appName:A.name})}(A,Cn,fn);mt(A,Cn)}}catch(Z){if(Z instanceof ae.ZR)throw Z;mt(A,"network-request-failed",{message:String(Z)})}})).apply(this,arguments)}function hn(A,v,b,N){return bn.apply(this,arguments)}function bn(){return(bn=(0,w.Z)(function*(A,v,b,N,Z={}){const ce=yield nt(A,v,b,N,Z);return"mfaPendingCredential"in ce&&mt(A,"multi-factor-auth-required",{_serverResponse:ce}),ce})).apply(this,arguments)}function cn(A,v,b,N){const Z=`${v}${b}?${N}`;return A.config.emulator?vr(A.config,Z):`${A.config.apiScheme}://${Z}`}function Dt(A){switch(A){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Yn{constructor(v){this.auth=v,this.timer=null,this.promise=new Promise((b,N)=>{this.timer=setTimeout(()=>N(ot(this.auth,"network-request-failed")),Ye.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function br(A,v,b){const N={appName:A.name};b.email&&(N.email=b.email),b.phoneNumber&&(N.phoneNumber=b.phoneNumber);const Z=ot(A,v,N);return Z.customData._tokenResponse=b,Z}function De(A){return void 0!==A&&void 0!==A.enterprise}class xe{constructor(v){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===v.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=v.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=v.recaptchaEnforcementState}getProviderEnforcementState(v){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const b of this.recaptchaEnforcementState)if(b.provider&&b.provider===v)return Dt(b.enforcementState);return null}isProviderEnabled(v){return"ENFORCE"===this.getProviderEnforcementState(v)||"AUDIT"===this.getProviderEnforcementState(v)}}function yt(A,v){return St.apply(this,arguments)}function St(){return(St=(0,w.Z)(function*(A,v){return nt(A,"GET","/v2/recaptchaConfig",Ue(A,v))})).apply(this,arguments)}function An(){return(An=(0,w.Z)(function*(A,v){return nt(A,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}function tr(){return(tr=(0,w.Z)(function*(A,v){return nt(A,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}function Xt(A){if(A)try{const v=new Date(Number(A));if(!isNaN(v.getTime()))return v.toUTCString()}catch{}}function mn(){return(mn=(0,w.Z)(function*(A,v=!1){const b=(0,ae.m9)(A),N=yield b.getIdToken(v),Z=Jn(N);ve(Z&&Z.exp&&Z.auth_time&&Z.iat,b.auth,"internal-error");const ce="object"==typeof Z.firebase?Z.firebase:void 0,Oe=ce?.sign_in_provider;return{claims:Z,token:N,authTime:Xt(dr(Z.auth_time)),issuedAtTime:Xt(dr(Z.iat)),expirationTime:Xt(dr(Z.exp)),signInProvider:Oe||null,signInSecondFactor:ce?.sign_in_second_factor||null}})).apply(this,arguments)}function dr(A){return 1e3*Number(A)}function Jn(A){const[v,b,N]=A.split(".");if(void 0===v||void 0===b||void 0===N)return xt("JWT malformed, contained fewer than 3 sections"),null;try{const Z=(0,ae.tV)(b);return Z?JSON.parse(Z):(xt("Failed to decode base64 JWT payload"),null)}catch(Z){return xt("Caught error parsing JWT payload as JSON",Z?.toString()),null}}function Zn(A,v){return di.apply(this,arguments)}function di(){return(di=(0,w.Z)(function*(A,v,b=!1){if(b)return v;try{return yield v}catch(N){throw N instanceof ae.ZR&&function Rn({code:A}){return"auth/user-disabled"===A||"auth/user-token-expired"===A}(N)&&A.auth.currentUser===A&&(yield A.auth.signOut()),N}})).apply(this,arguments)}class nr{constructor(v){this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(v){var b;if(v){const N=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),N}{this.errorBackoff=3e4;const Z=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,Z)}}schedule(v=!1){var b=this;if(!this.isRunning)return;const N=this.getInterval(v);this.timerId=setTimeout((0,w.Z)(function*(){yield b.iteration()}),N)}iteration(){var v=this;return(0,w.Z)(function*(){try{yield v.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===b?.code&&v.schedule(!0))}v.schedule()})()}}class Or{constructor(v,b){this.createdAt=v,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xt(this.lastLoginAt),this.creationTime=Xt(this.createdAt)}_copy(v){this.createdAt=v.createdAt,this.lastLoginAt=v.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function hi(A){return tt.apply(this,arguments)}function tt(){return tt=(0,w.Z)(function*(A){var v;const b=A.auth,N=yield A.getIdToken(),Z=yield Zn(A,function In(A,v){return tr.apply(this,arguments)}(b,{idToken:N}));ve(Z?.users.length,b,"internal-error");const ce=Z.users[0];A._notifyReloadListener(ce);const Oe=null!==(v=ce.providerUserInfo)&&void 0!==v&&v.length?function qt(A){return A.map(v=>{var{providerId:b}=v,N=(0,de._T)(v,["providerId"]);return{providerId:b,uid:N.rawId||"",displayName:N.displayName||null,email:N.email||null,phoneNumber:N.phoneNumber||null,photoURL:N.photoUrl||null}})}(ce.providerUserInfo):[],Xe=function It(A,v){return[...A.filter(N=>!v.some(Z=>Z.providerId===N.providerId)),...v]}(A.providerData,Oe),Cn=!!A.isAnonymous&&!(A.email&&ce.passwordHash||Xe?.length),Br={uid:ce.localId,displayName:ce.displayName||null,photoURL:ce.photoUrl||null,email:ce.email||null,emailVerified:ce.emailVerified||!1,phoneNumber:ce.phoneNumber||null,tenantId:ce.tenantId||null,providerData:Xe,metadata:new Or(ce.createdAt,ce.lastLoginAt),isAnonymous:Cn};Object.assign(A,Br)}),tt.apply(this,arguments)}function Ze(){return(Ze=(0,w.Z)(function*(A){const v=(0,ae.m9)(A);yield hi(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}function zn(){return(zn=(0,w.Z)(function*(A,v){const b=yield Rt(A,{},(0,w.Z)(function*(){const N=(0,ae.xO)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:Z,apiKey:ce}=A.config,Oe=cn(A,Z,"/v1/token",`key=${ce}`),Xe=yield A._getAdditionalHeaders();return Xe["Content-Type"]="application/x-www-form-urlencoded",ke.fetch()(Oe,{method:"POST",headers:Xe,body:N})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}function U(){return(U=(0,w.Z)(function*(A,v){return nt(A,"POST","/v2/accounts:revokeToken",Ue(A,v))})).apply(this,arguments)}class G{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(v){ve(v.idToken,"internal-error"),ve(typeof v.idToken<"u","internal-error"),ve(typeof v.refreshToken<"u","internal-error");const b="expiresIn"in v&&typeof v.expiresIn<"u"?Number(v.expiresIn):function hr(A){const v=Jn(A);return ve(v,"internal-error"),ve(typeof v.exp<"u","internal-error"),ve(typeof v.iat<"u","internal-error"),Number(v.exp)-Number(v.iat)}(v.idToken);this.updateTokensAndExpiration(v.idToken,v.refreshToken,b)}getToken(v,b=!1){var N=this;return(0,w.Z)(function*(){return ve(!N.accessToken||N.refreshToken,v,"user-token-expired"),b||!N.accessToken||N.isExpired?N.refreshToken?(yield N.refresh(v,N.refreshToken),N.accessToken):null:N.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(v,b){var N=this;return(0,w.Z)(function*(){const{accessToken:Z,refreshToken:ce,expiresIn:Oe}=yield function Zt(A,v){return zn.apply(this,arguments)}(v,b);N.updateTokensAndExpiration(Z,ce,Number(Oe))})()}updateTokensAndExpiration(v,b,N){this.refreshToken=b||null,this.accessToken=v||null,this.expirationTime=Date.now()+1e3*N}static fromJSON(v,b){const{refreshToken:N,accessToken:Z,expirationTime:ce}=b,Oe=new G;return N&&(ve("string"==typeof N,"internal-error",{appName:v}),Oe.refreshToken=N),Z&&(ve("string"==typeof Z,"internal-error",{appName:v}),Oe.accessToken=Z),ce&&(ve("number"==typeof ce,"internal-error",{appName:v}),Oe.expirationTime=ce),Oe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(v){this.accessToken=v.accessToken,this.refreshToken=v.refreshToken,this.expirationTime=v.expirationTime}_clone(){return Object.assign(new G,this.toJSON())}_performRefresh(){return Ke("not implemented")}}function W(A,v){ve("string"==typeof A||typeof A>"u","internal-error",{appName:v})}class ${constructor(v){var{uid:b,auth:N,stsTokenManager:Z}=v,ce=(0,de._T)(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=N,this.stsTokenManager=Z,this.accessToken=Z.accessToken,this.displayName=ce.displayName||null,this.email=ce.email||null,this.emailVerified=ce.emailVerified||!1,this.phoneNumber=ce.phoneNumber||null,this.photoURL=ce.photoURL||null,this.isAnonymous=ce.isAnonymous||!1,this.tenantId=ce.tenantId||null,this.providerData=ce.providerData?[...ce.providerData]:[],this.metadata=new Or(ce.createdAt||void 0,ce.lastLoginAt||void 0)}getIdToken(v){var b=this;return(0,w.Z)(function*(){const N=yield Zn(b,b.stsTokenManager.getToken(b.auth,v));return ve(N,b.auth,"internal-error"),b.accessToken!==N&&(b.accessToken=N,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),N})()}getIdTokenResult(v){return function Ir(A){return mn.apply(this,arguments)}(this,v)}reload(){return function Ce(A){return Ze.apply(this,arguments)}(this)}_assign(v){this!==v&&(ve(this.uid===v.uid,this.auth,"internal-error"),this.displayName=v.displayName,this.photoURL=v.photoURL,this.email=v.email,this.emailVerified=v.emailVerified,this.phoneNumber=v.phoneNumber,this.isAnonymous=v.isAnonymous,this.tenantId=v.tenantId,this.providerData=v.providerData.map(b=>Object.assign({},b)),this.metadata._copy(v.metadata),this.stsTokenManager._assign(v.stsTokenManager))}_clone(v){const b=new $(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}));return b.metadata._copy(this.metadata),b}_onReload(v){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=v,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(v){this.reloadListener?this.reloadListener(v):this.reloadUserInfo=v}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(v,b=!1){var N=this;return(0,w.Z)(function*(){let Z=!1;v.idToken&&v.idToken!==N.stsTokenManager.accessToken&&(N.stsTokenManager.updateFromServerResponse(v),Z=!0),b&&(yield hi(N)),yield N.auth._persistUserIfCurrent(N),Z&&N.auth._notifyListenersIfCurrent(N)})()}delete(){var v=this;return(0,w.Z)(function*(){const b=yield v.getIdToken();return yield Zn(v,function wr(A,v){return An.apply(this,arguments)}(v.auth,{idToken:b})),v.stsTokenManager.clearRefreshToken(),v.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(v=>Object.assign({},v)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(v,b){var N,Z,ce,Oe,Xe,Et,fn,Cn;const Br=null!==(N=b.displayName)&&void 0!==N?N:void 0,$a=null!==(Z=b.email)&&void 0!==Z?Z:void 0,Su=null!==(ce=b.phoneNumber)&&void 0!==ce?ce:void 0,Mc=null!==(Oe=b.photoURL)&&void 0!==Oe?Oe:void 0,bg=null!==(Xe=b.tenantId)&&void 0!==Xe?Xe:void 0,uv=null!==(Et=b._redirectEventId)&&void 0!==Et?Et:void 0,jh=null!==(fn=b.createdAt)&&void 0!==fn?fn:void 0,tb=null!==(Cn=b.lastLoginAt)&&void 0!==Cn?Cn:void 0,{uid:dv,emailVerified:nb,isAnonymous:p_,providerData:wg,stsTokenManager:Ig}=b;ve(dv&&Ig,v,"internal-error");const Au=G.fromJSON(this.name,Ig);ve("string"==typeof dv,v,"internal-error"),W(Br,v.name),W($a,v.name),ve("boolean"==typeof nb,v,"internal-error"),ve("boolean"==typeof p_,v,"internal-error"),W(Su,v.name),W(Mc,v.name),W(bg,v.name),W(uv,v.name),W(jh,v.name),W(tb,v.name);const ql=new $({uid:dv,auth:v,email:$a,emailVerified:nb,displayName:Br,isAnonymous:p_,photoURL:Mc,phoneNumber:Su,tenantId:bg,stsTokenManager:Au,createdAt:jh,lastLoginAt:tb});return wg&&Array.isArray(wg)&&(ql.providerData=wg.map(hv=>Object.assign({},hv))),uv&&(ql._redirectEventId=uv),ql}static _fromIdTokenResponse(v,b,N=!1){return(0,w.Z)(function*(){const Z=new G;Z.updateFromServerResponse(b);const ce=new $({uid:b.localId,auth:v,stsTokenManager:Z,isAnonymous:N});return yield hi(ce),ce})()}}const be=new Map;function We(A){gt(A instanceof Function,"Expected a class definition");let v=be.get(A);return v?(gt(v instanceof A,"Instance stored in cache mismatched with class"),v):(v=new A,be.set(A,v),v)}const tn=(()=>{class A{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,w.Z)(function*(){return!0})()}_set(b,N){var Z=this;return(0,w.Z)(function*(){Z.storage[b]=N})()}_get(b){var N=this;return(0,w.Z)(function*(){const Z=N.storage[b];return void 0===Z?null:Z})()}_remove(b){var N=this;return(0,w.Z)(function*(){delete N.storage[b]})()}_addListener(b,N){}_removeListener(b,N){}}return A.type="NONE",A})();function ln(A,v,b){return`firebase:${A}:${v}:${b}`}class pn{constructor(v,b,N){this.persistence=v,this.auth=b,this.userKey=N;const{config:Z,name:ce}=this.auth;this.fullUserKey=ln(this.userKey,Z.apiKey,ce),this.fullPersistenceKey=ln("persistence",Z.apiKey,ce),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(v){return this.persistence._set(this.fullUserKey,v.toJSON())}getCurrentUser(){var v=this;return(0,w.Z)(function*(){const b=yield v.persistence._get(v.fullUserKey);return b?$._fromJSON(v.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(v){var b=this;return(0,w.Z)(function*(){if(b.persistence===v)return;const N=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=v,N?b.setCurrentUser(N):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(v,b,N="authUser"){return(0,w.Z)(function*(){if(!b.length)return new pn(We(tn),v,N);const Z=(yield Promise.all(b.map(function(){var fn=(0,w.Z)(function*(Cn){if(yield Cn._isAvailable())return Cn});return function(Cn){return fn.apply(this,arguments)}}()))).filter(fn=>fn);let ce=Z[0]||We(tn);const Oe=ln(N,v.config.apiKey,v.name);let Xe=null;for(const fn of b)try{const Cn=yield fn._get(Oe);if(Cn){const Br=$._fromJSON(v,Cn);fn!==ce&&(Xe=Br),ce=fn;break}}catch{}const Et=Z.filter(fn=>fn._shouldAllowMigration);return ce._shouldAllowMigration&&Et.length?(ce=Et[0],Xe&&(yield ce._set(Oe,Xe.toJSON())),yield Promise.all(b.map(function(){var fn=(0,w.Z)(function*(Cn){if(Cn!==ce)try{yield Cn._remove(Oe)}catch{}});return function(Cn){return fn.apply(this,arguments)}}())),new pn(ce,v,N)):new pn(ce,v,N)})()}}function Kt(A){const v=A.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(ss(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(Fn(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(ys(v))return"Blackberry";if(Qo(v))return"Webos";if(qr(v))return"Safari";if((v.includes("chrome/")||ir(v))&&!v.includes("edge/"))return"Chrome";if(Co(v))return"Android";{const N=A.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===N?.length)return N[1]}return"Other"}function Fn(A=(0,ae.z$)()){return/firefox\//i.test(A)}function qr(A=(0,ae.z$)()){const v=A.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}function ir(A=(0,ae.z$)()){return/crios\//i.test(A)}function ss(A=(0,ae.z$)()){return/iemobile/i.test(A)}function Co(A=(0,ae.z$)()){return/android/i.test(A)}function ys(A=(0,ae.z$)()){return/blackberry/i.test(A)}function Qo(A=(0,ae.z$)()){return/webos/i.test(A)}function xa(A=(0,ae.z$)()){return/iphone|ipad|ipod/i.test(A)||/macintosh/i.test(A)&&/mobile/i.test(A)}function vs(A=(0,ae.z$)()){return xa(A)||Co(A)||Qo(A)||ys(A)||/windows phone/i.test(A)||ss(A)}function sr(A,v=[]){let b;switch(A){case"Browser":b=Kt((0,ae.z$)());break;case"Worker":b=`${Kt((0,ae.z$)())}-${A}`;break;default:b=A}const N=v.length?v.join(","):"FirebaseCore-web";return`${b}/JsCore/${u.Jn}/${N}`}class bs{constructor(v){this.auth=v,this.queue=[]}pushCallback(v,b){const N=ce=>new Promise((Oe,Xe)=>{try{Oe(v(ce))}catch(Et){Xe(Et)}});N.onAbort=b,this.queue.push(N);const Z=this.queue.length-1;return()=>{this.queue[Z]=()=>Promise.resolve()}}runMiddleware(v){var b=this;return(0,w.Z)(function*(){if(b.auth.currentUser===v)return;const N=[];try{for(const Z of b.queue)yield Z(v),Z.onAbort&&N.push(Z.onAbort)}catch(Z){N.reverse();for(const ce of N)try{ce()}catch{}throw b.auth._errorFactory.create("login-blocked",{originalMessage:Z?.message})}})()}}function So(){return(So=(0,w.Z)(function*(A,v={}){return nt(A,"GET","/v2/passwordPolicy",Ue(A,v))})).apply(this,arguments)}class ks{constructor(v){var b,N,Z,ce;const Oe=v.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(b=Oe.minPasswordLength)&&void 0!==b?b:6,Oe.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Oe.maxPasswordLength),void 0!==Oe.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Oe.containsLowercaseCharacter),void 0!==Oe.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Oe.containsUppercaseCharacter),void 0!==Oe.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Oe.containsNumericCharacter),void 0!==Oe.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Oe.containsNonAlphanumericCharacter),this.enforcementState=v.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Z=null===(N=v.allowedNonAlphanumericCharacters)||void 0===N?void 0:N.join(""))&&void 0!==Z?Z:"",this.forceUpgradeOnSignin=null!==(ce=v.forceUpgradeOnSignin)&&void 0!==ce&&ce,this.schemaVersion=v.schemaVersion}validatePassword(v){var b,N,Z,ce,Oe,Xe;const Et={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(v,Et),this.validatePasswordCharacterOptions(v,Et),Et.isValid&&(Et.isValid=null===(b=Et.meetsMinPasswordLength)||void 0===b||b),Et.isValid&&(Et.isValid=null===(N=Et.meetsMaxPasswordLength)||void 0===N||N),Et.isValid&&(Et.isValid=null===(Z=Et.containsLowercaseLetter)||void 0===Z||Z),Et.isValid&&(Et.isValid=null===(ce=Et.containsUppercaseLetter)||void 0===ce||ce),Et.isValid&&(Et.isValid=null===(Oe=Et.containsNumericCharacter)||void 0===Oe||Oe),Et.isValid&&(Et.isValid=null===(Xe=Et.containsNonAlphanumericCharacter)||void 0===Xe||Xe),Et}validatePasswordLengthOptions(v,b){const N=this.customStrengthOptions.minPasswordLength,Z=this.customStrengthOptions.maxPasswordLength;N&&(b.meetsMinPasswordLength=v.length>=N),Z&&(b.meetsMaxPasswordLength=v.length<=Z)}validatePasswordCharacterOptions(v,b){let N;this.updatePasswordCharacterOptionsStatuses(b,!1,!1,!1,!1);for(let Z=0;Z<v.length;Z++)N=v.charAt(Z),this.updatePasswordCharacterOptionsStatuses(b,N>="a"&&N<="z",N>="A"&&N<="Z",N>="0"&&N<="9",this.allowedNonAlphanumericCharacters.includes(N))}updatePasswordCharacterOptionsStatuses(v,b,N,Z,ce){this.customStrengthOptions.containsLowercaseLetter&&(v.containsLowercaseLetter||(v.containsLowercaseLetter=b)),this.customStrengthOptions.containsUppercaseLetter&&(v.containsUppercaseLetter||(v.containsUppercaseLetter=N)),this.customStrengthOptions.containsNumericCharacter&&(v.containsNumericCharacter||(v.containsNumericCharacter=Z)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(v.containsNonAlphanumericCharacter||(v.containsNonAlphanumericCharacter=ce))}}class Zs{constructor(v,b,N,Z){this.app=v,this.heartbeatServiceProvider=b,this.appCheckServiceProvider=N,this.config=Z,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ks(this),this.idTokenSubscription=new Ks(this),this.beforeStateQueue=new bs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=At,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=Z.sdkClientVersion}_initializeWithPersistence(v,b){var N=this;return b&&(this._popupRedirectResolver=We(b)),this._initializationPromise=this.queue((0,w.Z)(function*(){var Z,ce;if(!N._deleted&&(N.persistenceManager=yield pn.create(N,v),!N._deleted)){if(null!==(Z=N._popupRedirectResolver)&&void 0!==Z&&Z._shouldInitProactively)try{yield N._popupRedirectResolver._initialize(N)}catch{}yield N.initializeCurrentUser(b),N.lastNotifiedUid=(null===(ce=N.currentUser)||void 0===ce?void 0:ce.uid)||null,!N._deleted&&(N._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var v=this;return(0,w.Z)(function*(){if(v._deleted)return;const b=yield v.assertedPersistence.getCurrentUser();if(v.currentUser||b){if(v.currentUser&&b&&v.currentUser.uid===b.uid)return v._currentUser._assign(b),void(yield v.currentUser.getIdToken());yield v._updateCurrentUser(b,!0)}})()}initializeCurrentUser(v){var b=this;return(0,w.Z)(function*(){var N;const Z=yield b.assertedPersistence.getCurrentUser();let ce=Z,Oe=!1;if(v&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const Xe=null===(N=b.redirectUser)||void 0===N?void 0:N._redirectEventId,Et=ce?._redirectEventId,fn=yield b.tryRedirectSignIn(v);(!Xe||Xe===Et)&&fn?.user&&(ce=fn.user,Oe=!0)}if(!ce)return b.directlySetCurrentUser(null);if(!ce._redirectEventId){if(Oe)try{yield b.beforeStateQueue.runMiddleware(ce)}catch(Xe){ce=Z,b._popupRedirectResolver._overrideRedirectResult(b,()=>Promise.reject(Xe))}return ce?b.reloadAndSetCurrentUserOrClear(ce):b.directlySetCurrentUser(null)}return ve(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===ce._redirectEventId?b.directlySetCurrentUser(ce):b.reloadAndSetCurrentUserOrClear(ce)})()}tryRedirectSignIn(v){var b=this;return(0,w.Z)(function*(){let N=null;try{N=yield b._popupRedirectResolver._completeRedirectFn(b,v,!0)}catch{yield b._setRedirectUser(null)}return N})()}reloadAndSetCurrentUserOrClear(v){var b=this;return(0,w.Z)(function*(){try{yield hi(v)}catch(N){if("auth/network-request-failed"!==N?.code)return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(v)})()}useDeviceLanguage(){this.languageCode=function $n(){if(typeof navigator>"u")return null;const A=navigator;return A.languages&&A.languages[0]||A.language||null}()}_delete(){var v=this;return(0,w.Z)(function*(){v._deleted=!0})()}updateCurrentUser(v){var b=this;return(0,w.Z)(function*(){const N=v?(0,ae.m9)(v):null;return N&&ve(N.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(N&&N._clone(b))})()}_updateCurrentUser(v,b=!1){var N=this;return(0,w.Z)(function*(){if(!N._deleted)return v&&ve(N.tenantId===v.tenantId,N,"tenant-id-mismatch"),b||(yield N.beforeStateQueue.runMiddleware(v)),N.queue((0,w.Z)(function*(){yield N.directlySetCurrentUser(v),N.notifyAuthListeners()}))})()}signOut(){var v=this;return(0,w.Z)(function*(){return yield v.beforeStateQueue.runMiddleware(null),(v.redirectPersistenceManager||v._popupRedirectResolver)&&(yield v._setRedirectUser(null)),v._updateCurrentUser(null,!0)})()}setPersistence(v){var b=this;return this.queue((0,w.Z)(function*(){yield b.assertedPersistence.setPersistence(We(v))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(v){var b=this;return(0,w.Z)(function*(){b._getPasswordPolicyInternal()||(yield b._updatePasswordPolicy());const N=b._getPasswordPolicyInternal();return N.schemaVersion!==b.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(b._errorFactory.create("unsupported-password-policy-schema-version",{})):N.validatePassword(v)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var v=this;return(0,w.Z)(function*(){const b=yield function co(A){return So.apply(this,arguments)}(v),N=new ks(b);null===v.tenantId?v._projectPasswordPolicy=N:v._tenantPasswordPolicies[v.tenantId]=N})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(v){this._errorFactory=new ae.LL("auth","Firebase",v())}onAuthStateChanged(v,b,N){return this.registerStateListener(this.authStateSubscription,v,b,N)}beforeAuthStateChanged(v,b){return this.beforeStateQueue.pushCallback(v,b)}onIdTokenChanged(v,b,N){return this.registerStateListener(this.idTokenSubscription,v,b,N)}authStateReady(){return new Promise((v,b)=>{if(this.currentUser)v();else{const N=this.onAuthStateChanged(()=>{N(),v()},b)}})}revokeAccessToken(v){var b=this;return(0,w.Z)(function*(){if(b.currentUser){const N=yield b.currentUser.getIdToken(),Z={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:v,idToken:N};null!=b.tenantId&&(Z.tenantId=b.tenantId),yield function Y(A,v){return U.apply(this,arguments)}(b,Z)}})()}toJSON(){var v;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(v=this._currentUser)||void 0===v?void 0:v.toJSON()}}_setRedirectUser(v,b){var N=this;return(0,w.Z)(function*(){const Z=yield N.getOrInitRedirectPersistenceManager(b);return null===v?Z.removeCurrentUser():Z.setCurrentUser(v)})()}getOrInitRedirectPersistenceManager(v){var b=this;return(0,w.Z)(function*(){if(!b.redirectPersistenceManager){const N=v&&We(v)||b._popupRedirectResolver;ve(N,b,"argument-error"),b.redirectPersistenceManager=yield pn.create(b,[We(N._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(v){var b=this;return(0,w.Z)(function*(){var N,Z;return b._isInitialized&&(yield b.queue((0,w.Z)(function*(){}))),(null===(N=b._currentUser)||void 0===N?void 0:N._redirectEventId)===v?b._currentUser:(null===(Z=b.redirectUser)||void 0===Z?void 0:Z._redirectEventId)===v?b.redirectUser:null})()}_persistUserIfCurrent(v){var b=this;return(0,w.Z)(function*(){if(v===b.currentUser)return b.queue((0,w.Z)(function*(){return b.directlySetCurrentUser(v)}))})()}_notifyListenersIfCurrent(v){v===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var v,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const N=null!==(b=null===(v=this.currentUser)||void 0===v?void 0:v.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==N&&(this.lastNotifiedUid=N,this.authStateSubscription.next(this.currentUser))}registerStateListener(v,b,N,Z){if(this._deleted)return()=>{};const ce="function"==typeof b?b:b.next.bind(b);let Oe=!1;const Xe=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(Xe,this,"internal-error"),Xe.then(()=>{Oe||ce(this.currentUser)}),"function"==typeof b){const Et=v.addObserver(b,N,Z);return()=>{Oe=!0,Et()}}{const Et=v.addObserver(b);return()=>{Oe=!0,Et()}}}directlySetCurrentUser(v){var b=this;return(0,w.Z)(function*(){b.currentUser&&b.currentUser!==v&&b._currentUser._stopProactiveRefresh(),v&&b.isProactiveRefreshEnabled&&v._startProactiveRefresh(),b.currentUser=v,v?yield b.assertedPersistence.setCurrentUser(v):yield b.assertedPersistence.removeCurrentUser()})()}queue(v){return this.operations=this.operations.then(v,v),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(v){!v||this.frameworks.includes(v)||(this.frameworks.push(v),this.frameworks.sort(),this.clientVersion=sr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var v=this;return(0,w.Z)(function*(){var b;const N={"X-Client-Version":v.clientVersion};v.app.options.appId&&(N["X-Firebase-gmpid"]=v.app.options.appId);const Z=yield null===(b=v.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();Z&&(N["X-Firebase-Client"]=Z);const ce=yield v._getAppCheckToken();return ce&&(N["X-Firebase-AppCheck"]=ce),N})()}_getAppCheckToken(){var v=this;return(0,w.Z)(function*(){var b;const N=yield null===(b=v.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getToken();return N?.error&&function xn(A,...v){Ft.logLevel<=we.in.WARN&&Ft.warn(`Auth (${u.Jn}): ${A}`,...v)}(`Error while retrieving App Check token: ${N.error}`),N?.token})()}}function ci(A){return(0,ae.m9)(A)}class Ks{constructor(v){this.auth=v,this.observer=null,this.addObserver=(0,ae.ne)(b=>this.observer=b)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Vi={loadJS:()=>(0,w.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function os(A){return Vi.loadJS(A)}function Fs(A){return`__${A}${Math.floor(1e6*Math.random())}`}class Ls{constructor(v){this.type="recaptcha-enterprise",this.auth=ci(v)}verify(v="verify",b=!1){var N=this;return(0,w.Z)(function*(){function ce(){return ce=(0,w.Z)(function*(Xe){if(!b){if(null==Xe.tenantId&&null!=Xe._agentRecaptchaConfig)return Xe._agentRecaptchaConfig.siteKey;if(null!=Xe.tenantId&&void 0!==Xe._tenantRecaptchaConfigs[Xe.tenantId])return Xe._tenantRecaptchaConfigs[Xe.tenantId].siteKey}return new Promise(function(){var Et=(0,w.Z)(function*(fn,Cn){yt(Xe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Br=>{if(void 0!==Br.recaptchaKey){const $a=new xe(Br);return null==Xe.tenantId?Xe._agentRecaptchaConfig=$a:Xe._tenantRecaptchaConfigs[Xe.tenantId]=$a,fn($a.siteKey)}Cn(new Error("recaptcha Enterprise site key undefined"))}).catch(Br=>{Cn(Br)})});return function(fn,Cn){return Et.apply(this,arguments)}}())}),ce.apply(this,arguments)}function Oe(Xe,Et,fn){const Cn=window.grecaptcha;De(Cn)?Cn.enterprise.ready(()=>{Cn.enterprise.execute(Xe,{action:v}).then(Br=>{Et(Br)}).catch(()=>{Et("NO_RECAPTCHA")})}):fn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Xe,Et)=>{(function Z(Xe){return ce.apply(this,arguments)})(N.auth).then(fn=>{if(!b&&De(window.grecaptcha))Oe(fn,Xe,Et);else{if(typeof window>"u")return void Et(new Error("RecaptchaVerifier is only supported in browser"));let Cn=function fi(){return Vi.recaptchaEnterpriseScript}();0!==Cn.length&&(Cn+=fn),os(Cn).then(()=>{Oe(fn,Xe,Et)}).catch(Br=>{Et(Br)})}}).catch(fn=>{Et(fn)})})})()}}function pi(A,v,b){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,w.Z)(function*(A,v,b,N=!1){const Z=new Ls(A);let ce;try{ce=yield Z.verify(b)}catch{ce=yield Z.verify(b,!0)}const Oe=Object.assign({},v);return Object.assign(Oe,N?{captchaResp:ce}:{captchaResponse:ce}),Object.assign(Oe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Oe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Oe})).apply(this,arguments)}function ws(A,v,b,N){return Hi.apply(this,arguments)}function Hi(){return Hi=(0,w.Z)(function*(A,v,b,N){var Z;if(null!==(Z=A._getRecaptchaConfig())&&void 0!==Z&&Z.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ce=yield pi(A,v,b,"getOobCode"===b);return N(A,ce)}return N(A,v).catch(function(){var ce=(0,w.Z)(function*(Oe){if("auth/missing-recaptcha-token"===Oe.code){console.log(`${b} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Xe=yield pi(A,v,b,"getOobCode"===b);return N(A,Xe)}return Promise.reject(Oe)});return function(Oe){return ce.apply(this,arguments)}}())}),Hi.apply(this,arguments)}function Bs(A){const v=A.indexOf(":");return v<0?"":A.substr(0,v+1)}function ea(A){if(!A)return null;const v=Number(A);return isNaN(v)?null:v}class ta{constructor(v,b){this.providerId=v,this.signInMethod=b}toJSON(){return Ke("not implemented")}_getIdTokenResponse(v){return Ke("not implemented")}_linkToIdToken(v,b){return Ke("not implemented")}_getReauthenticationResolver(v){return Ke("not implemented")}}function Ao(A,v){return No.apply(this,arguments)}function No(){return(No=(0,w.Z)(function*(A,v){return nt(A,"POST","/v1/accounts:signUp",v)})).apply(this,arguments)}function Oi(A,v){return as.apply(this,arguments)}function as(){return(as=(0,w.Z)(function*(A,v){return hn(A,"POST","/v1/accounts:signInWithPassword",Ue(A,v))})).apply(this,arguments)}function yi(){return(yi=(0,w.Z)(function*(A,v){return nt(A,"POST","/v1/accounts:sendOobCode",Ue(A,v))})).apply(this,arguments)}function tc(A,v){return lo.apply(this,arguments)}function lo(){return(lo=(0,w.Z)(function*(A,v){return function ni(A,v){return yi.apply(this,arguments)}(A,v)})).apply(this,arguments)}function vi(){return(vi=(0,w.Z)(function*(A,v){return hn(A,"POST","/v1/accounts:signInWithEmailLink",Ue(A,v))})).apply(this,arguments)}function Mi(){return(Mi=(0,w.Z)(function*(A,v){return hn(A,"POST","/v1/accounts:signInWithEmailLink",Ue(A,v))})).apply(this,arguments)}class Mr extends ta{constructor(v,b,N,Z=null){super("password",N),this._email=v,this._password=b,this._tenantId=Z}static _fromEmailAndPassword(v,b){return new Mr(v,b,"password")}static _fromEmailAndCode(v,b,N=null){return new Mr(v,b,"emailLink",N)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(v){const b="string"==typeof v?JSON.parse(v):v;if(b?.email&&b?.password){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(v){var b=this;return(0,w.Z)(function*(){switch(b.signInMethod){case"password":return ws(v,{returnSecureToken:!0,email:b._email,password:b._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Oi);case"emailLink":return function Hr(A,v){return vi.apply(this,arguments)}(v,{email:b._email,oobCode:b._password});default:mt(v,"internal-error")}})()}_linkToIdToken(v,b){var N=this;return(0,w.Z)(function*(){switch(N.signInMethod){case"password":return ws(v,{idToken:b,returnSecureToken:!0,email:N._email,password:N._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ao);case"emailLink":return function Kr(A,v){return Mi.apply(this,arguments)}(v,{idToken:b,email:N._email,oobCode:N._password});default:mt(v,"internal-error")}})()}_getReauthenticationResolver(v){return this._getIdTokenResponse(v)}}function ri(A,v){return cs.apply(this,arguments)}function cs(){return(cs=(0,w.Z)(function*(A,v){return hn(A,"POST","/v1/accounts:signInWithIdp",Ue(A,v))})).apply(this,arguments)}class qn{constructor(v){var b,N,Z,ce,Oe,Xe;const Et=(0,ae.zd)((0,ae.pd)(v)),fn=null!==(b=Et.apiKey)&&void 0!==b?b:null,Cn=null!==(N=Et.oobCode)&&void 0!==N?N:null,Br=function Xs(A){switch(A){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Z=Et.mode)&&void 0!==Z?Z:null);ve(fn&&Cn&&Br,"argument-error"),this.apiKey=fn,this.operation=Br,this.code=Cn,this.continueUrl=null!==(ce=Et.continueUrl)&&void 0!==ce?ce:null,this.languageCode=null!==(Oe=Et.languageCode)&&void 0!==Oe?Oe:null,this.tenantId=null!==(Xe=Et.tenantId)&&void 0!==Xe?Xe:null}static parseLink(v){const b=function Fi(A){const v=(0,ae.zd)((0,ae.pd)(A)).link,b=v?(0,ae.zd)((0,ae.pd)(v)).deep_link_id:null,N=(0,ae.zd)((0,ae.pd)(A)).deep_link_id;return(N?(0,ae.zd)((0,ae.pd)(N)).link:null)||N||b||v||A}(v);try{return new qn(b)}catch{return null}}}let Mo=(()=>{class A{constructor(){this.providerId=A.PROVIDER_ID}static credential(b,N){return Mr._fromEmailAndPassword(b,N)}static credentialWithLink(b,N){const Z=qn.parseLink(N);return ve(Z,"argument-error"),Mr._fromEmailAndCode(b,Z.code,Z.tenantId)}}return A.PROVIDER_ID="password",A.EMAIL_PASSWORD_SIGN_IN_METHOD="password",A.EMAIL_LINK_SIGN_IN_METHOD="emailLink",A})();class Vs{constructor(v){this.providerId=v,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(v){this.defaultLanguageCode=v}setCustomParameters(v){return this.customParameters=v,this}getCustomParameters(){return this.customParameters}}class Ti extends Vs{constructor(){super(...arguments),this.scopes=[]}addScope(v){return this.scopes.includes(v)||this.scopes.push(v),this}getScopes(){return[...this.scopes]}}function xo(A,v){return bi.apply(this,arguments)}function bi(){return(bi=(0,w.Z)(function*(A,v){return hn(A,"POST","/v1/accounts:signUp",Ue(A,v))})).apply(this,arguments)}class xi{constructor(v){this.user=v.user,this.providerId=v.providerId,this._tokenResponse=v._tokenResponse,this.operationType=v.operationType}static _fromIdTokenResponse(v,b,N,Z=!1){return(0,w.Z)(function*(){const ce=yield $._fromIdTokenResponse(v,N,Z),Oe=vc(N);return new xi({user:ce,providerId:Oe,_tokenResponse:N,operationType:b})})()}static _forOperation(v,b,N){return(0,w.Z)(function*(){yield v._updateTokensIfNecessary(N,!0);const Z=vc(N);return new xi({user:v,providerId:Z,_tokenResponse:N,operationType:b})})()}}function vc(A){return A.providerId?A.providerId:"phoneNumber"in A?"phone":null}class Po extends ae.ZR{constructor(v,b,N,Z){var ce;super(b.code,b.message),this.operationType=N,this.user=Z,Object.setPrototypeOf(this,Po.prototype),this.customData={appName:v.name,tenantId:null!==(ce=v.tenantId)&&void 0!==ce?ce:void 0,_serverResponse:b.customData._serverResponse,operationType:N}}static _fromErrorAndOperation(v,b,N,Z){return new Po(v,b,N,Z)}}function Ar(A,v,b,N){return("reauthenticate"===v?b._getReauthenticationResolver(A):b._getIdTokenResponse(A)).catch(ce=>{throw"auth/multi-factor-auth-required"===ce.code?Po._fromErrorAndOperation(A,ce,v,N):ce})}function B(){return(B=(0,w.Z)(function*(A,v,b=!1){const N=yield Zn(A,v._linkToIdToken(A.auth,yield A.getIdToken()),b);return xi._forOperation(A,"link",N)})).apply(this,arguments)}function Bn(){return(Bn=(0,w.Z)(function*(A,v,b=!1){const{auth:N}=A,Z="reauthenticate";try{const ce=yield Zn(A,Ar(N,Z,v,A),b);ve(ce.idToken,N,"internal-error");const Oe=Jn(ce.idToken);ve(Oe,N,"internal-error");const{sub:Xe}=Oe;return ve(A.uid===Xe,N,"user-mismatch"),xi._forOperation(A,Z,ce)}catch(ce){throw"auth/user-not-found"===ce?.code&&mt(N,"user-mismatch"),ce}})).apply(this,arguments)}function Yi(A,v){return Es.apply(this,arguments)}function Es(){return(Es=(0,w.Z)(function*(A,v,b=!1){const N="signIn",Z=yield Ar(A,N,v),ce=yield xi._fromIdTokenResponse(A,N,Z);return b||(yield A._updateCurrentUser(ce.user)),ce})).apply(this,arguments)}function Qi(A,v){return Li.apply(this,arguments)}function Li(){return(Li=(0,w.Z)(function*(A,v){return Yi(ci(A),v)})).apply(this,arguments)}function ol(A){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,w.Z)(function*(A){const v=ci(A);v._getPasswordPolicyInternal()&&(yield v._updatePasswordPolicy())})).apply(this,arguments)}function Ic(){return(Ic=(0,w.Z)(function*(A,v,b){const N=ci(A),Z={requestType:"PASSWORD_RESET",email:v,clientType:"CLIENT_TYPE_WEB"};b&&function po(A,v,b){var N;ve((null===(N=b.url)||void 0===N?void 0:N.length)>0,A,"invalid-continue-uri"),ve(typeof b.dynamicLinkDomain>"u"||b.dynamicLinkDomain.length>0,A,"invalid-dynamic-link-domain"),v.continueUrl=b.url,v.dynamicLinkDomain=b.dynamicLinkDomain,v.canHandleCodeInApp=b.handleCodeInApp,b.iOS&&(ve(b.iOS.bundleId.length>0,A,"missing-ios-bundle-id"),v.iOSBundleId=b.iOS.bundleId),b.android&&(ve(b.android.packageName.length>0,A,"missing-android-pkg-name"),v.androidInstallApp=b.android.installApp,v.androidMinimumVersionCode=b.android.minimumVersion,v.androidPackageName=b.android.packageName)}(N,Z,b),yield ws(N,Z,"getOobCode",tc)})).apply(this,arguments)}function Tc(){return(Tc=(0,w.Z)(function*(A,v,b){const N=ci(A),Oe=yield ws(N,{returnSecureToken:!0,email:v,password:b,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xo).catch(Et=>{throw"auth/password-does-not-meet-requirements"===Et.code&&ol(A),Et}),Xe=yield xi._fromIdTokenResponse(N,"signIn",Oe);return yield N._updateCurrentUser(Xe.user),Xe})).apply(this,arguments)}function Sc(){return(Sc=(0,w.Z)(function*(A){return(0,ae.m9)(A).delete()})).apply(this,arguments)}const _n="__sak";class Ns{constructor(v,b){this.storageRetriever=v,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem(_n,"1"),this.storage.removeItem(_n),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(v,b){return this.storage.setItem(v,JSON.stringify(b)),Promise.resolve()}_get(v){const b=this.storage.getItem(v);return Promise.resolve(b?JSON.parse(b):null)}_remove(v){return this.storage.removeItem(v),Promise.resolve()}get storage(){return this.storageRetriever()}}const jc=(()=>{class A extends Ns{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(b,N)=>this.onStorageEvent(b,N),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function fg(){const A=(0,ae.z$)();return qr(A)||xa(A)}()&&function Si(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=vs(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const N of Object.keys(this.listeners)){const Z=this.storage.getItem(N),ce=this.localCache[N];Z!==ce&&b(N,ce,Z)}}onStorageEvent(b,N=!1){if(!b.key)return void this.forAllChangedKeys((Xe,Et,fn)=>{this.notifyListeners(Xe,fn)});const Z=b.key;if(N?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Xe=this.storage.getItem(Z);if(b.newValue!==Xe)null!==b.newValue?this.storage.setItem(Z,b.newValue):this.storage.removeItem(Z);else if(this.localCache[Z]===b.newValue&&!N)return}const ce=()=>{const Xe=this.storage.getItem(Z);!N&&this.localCache[Z]===Xe||this.notifyListeners(Z,Xe)},Oe=this.storage.getItem(Z);!function _a(){return(0,ae.w1)()&&10===document.documentMode}()||Oe===b.newValue||b.newValue===b.oldValue?ce():setTimeout(ce,10)}notifyListeners(b,N){this.localCache[b]=N;const Z=this.listeners[b];if(Z)for(const ce of Array.from(Z))ce(N&&JSON.parse(N))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,N,Z)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:N,newValue:Z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,N){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(N)}_removeListener(b,N){this.listeners[b]&&(this.listeners[b].delete(N),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,N){var Z=()=>super._set,ce=this;return(0,w.Z)(function*(){yield Z().call(ce,b,N),ce.localCache[b]=JSON.stringify(N)})()}_get(b){var N=()=>super._get,Z=this;return(0,w.Z)(function*(){const ce=yield N().call(Z,b);return Z.localCache[b]=JSON.stringify(ce),ce})()}_remove(b){var N=()=>super._remove,Z=this;return(0,w.Z)(function*(){yield N().call(Z,b),delete Z.localCache[b]})()}}return A.type="LOCAL",A})(),$c=(()=>{class A extends Ns{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(b,N){}_removeListener(b,N){}}return A.type="SESSION",A})();let Ku=(()=>{class A{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const N=this.receivers.find(ce=>ce.isListeningto(b));if(N)return N;const Z=new A(b);return this.receivers.push(Z),Z}isListeningto(b){return this.eventTarget===b}handleEvent(b){var N=this;return(0,w.Z)(function*(){const Z=b,{eventId:ce,eventType:Oe,data:Xe}=Z.data,Et=N.handlersMap[Oe];if(!Et?.size)return;Z.ports[0].postMessage({status:"ack",eventId:ce,eventType:Oe});const fn=Array.from(Et).map(function(){var Br=(0,w.Z)(function*($a){return $a(Z.origin,Xe)});return function($a){return Br.apply(this,arguments)}}()),Cn=yield function Ld(A){return Promise.all(A.map(function(){var v=(0,w.Z)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(N){return{fulfilled:!1,reason:N}}});return function(b){return v.apply(this,arguments)}}()))}(fn);Z.ports[0].postMessage({status:"done",eventId:ce,eventType:Oe,response:Cn})})()}_subscribe(b,N){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(N)}_unsubscribe(b,N){this.handlersMap[b]&&N&&this.handlersMap[b].delete(N),(!N||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return A.receivers=[],A})();function hu(A="",v=10){let b="";for(let N=0;N<v;N++)b+=Math.floor(10*Math.random());return A+b}class fu{constructor(v){this.target=v,this.handlers=new Set}removeMessageHandler(v){v.messageChannel&&(v.messageChannel.port1.removeEventListener("message",v.onMessage),v.messageChannel.port1.close()),this.handlers.delete(v)}_send(v,b,N=50){var Z=this;return(0,w.Z)(function*(){const ce=typeof MessageChannel<"u"?new MessageChannel:null;if(!ce)throw new Error("connection_unavailable");let Oe,Xe;return new Promise((Et,fn)=>{const Cn=hu("",20);ce.port1.start();const Br=setTimeout(()=>{fn(new Error("unsupported_event"))},N);Xe={messageChannel:ce,onMessage($a){const Su=$a;if(Su.data.eventId===Cn)switch(Su.data.status){case"ack":clearTimeout(Br),Oe=setTimeout(()=>{fn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Oe),Et(Su.data.response);break;default:clearTimeout(Br),clearTimeout(Oe),fn(new Error("invalid_response"))}}},Z.handlers.add(Xe),ce.port1.addEventListener("message",Xe.onMessage),Z.target.postMessage({eventType:v,eventId:Cn,data:b},[ce.port2])}).finally(()=>{Xe&&Z.removeMessageHandler(Xe)})})()}}function ht(){return window}function Yu(){return typeof ht().WorkerGlobalScope<"u"&&"function"==typeof ht().importScripts}function Xi(){return(Xi=(0,w.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const _o="firebaseLocalStorageDb",Va="firebaseLocalStorage",pu="fbase_key";class ul{constructor(v){this.request=v}toPromise(){return new Promise((v,b)=>{this.request.addEventListener("success",()=>{v(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function la(A,v){return A.transaction([Va],v?"readwrite":"readonly").objectStore(Va)}function Fo(){const A=indexedDB.open(_o,1);return new Promise((v,b)=>{A.addEventListener("error",()=>{b(A.error)}),A.addEventListener("upgradeneeded",()=>{const N=A.result;try{N.createObjectStore(Va,{keyPath:pu})}catch(Z){b(Z)}}),A.addEventListener("success",(0,w.Z)(function*(){const N=A.result;N.objectStoreNames.contains(Va)?v(N):(N.close(),yield function $s(){const A=indexedDB.deleteDatabase(_o);return new ul(A).toPromise()}(),v(yield Fo()))}))})}function dl(A,v,b){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,w.Z)(function*(A,v,b){const N=la(A,!0).put({[pu]:v,value:b});return new ul(N).toPromise()})).apply(this,arguments)}function Ju(){return(Ju=(0,w.Z)(function*(A,v){const b=la(A,!1).get(v),N=yield new ul(b).toPromise();return void 0===N?null:N.value})).apply(this,arguments)}function hl(A,v){const b=la(A,!0).delete(v);return new ul(b).toPromise()}const x=(()=>{class A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,w.Z)(function*(){return b.db||(b.db=yield Fo()),b.db})()}_withRetries(b){var N=this;return(0,w.Z)(function*(){let Z=0;for(;;)try{const ce=yield N._openDb();return yield b(ce)}catch(ce){if(Z++>3)throw ce;N.db&&(N.db.close(),N.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,w.Z)(function*(){return Yu()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,w.Z)(function*(){b.receiver=Ku._getInstance(function ll(){return Yu()?self:null}()),b.receiver._subscribe("keyChanged",function(){var N=(0,w.Z)(function*(Z,ce){return{keyProcessed:(yield b._poll()).includes(ce.key)}});return function(Z,ce){return N.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var N=(0,w.Z)(function*(Z,ce){return["keyChanged"]});return function(Z,ce){return N.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,w.Z)(function*(){var N,Z;if(b.activeServiceWorker=yield function Bd(){return Xi.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new fu(b.activeServiceWorker);const ce=yield b.sender._send("ping",{},800);ce&&null!==(N=ce[0])&&void 0!==N&&N.fulfilled&&null!==(Z=ce[0])&&void 0!==Z&&Z.value.includes("keyChanged")&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var N=this;return(0,w.Z)(function*(){if(N.sender&&N.activeServiceWorker&&function Qu(){var A;return(null===(A=navigator?.serviceWorker)||void 0===A?void 0:A.controller)||null}()===N.activeServiceWorker)try{yield N.sender._send("keyChanged",{key:b},N.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,w.Z)(function*(){try{if(!indexedDB)return!1;const b=yield Fo();return yield dl(b,_n,"1"),yield hl(b,_n),!0}catch{}return!1})()}_withPendingWrite(b){var N=this;return(0,w.Z)(function*(){N.pendingWrites++;try{yield b()}finally{N.pendingWrites--}})()}_set(b,N){var Z=this;return(0,w.Z)(function*(){return Z._withPendingWrite((0,w.Z)(function*(){return yield Z._withRetries(ce=>dl(ce,b,N)),Z.localCache[b]=N,Z.notifyServiceWorker(b)}))})()}_get(b){var N=this;return(0,w.Z)(function*(){const Z=yield N._withRetries(ce=>function Ta(A,v){return Ju.apply(this,arguments)}(ce,b));return N.localCache[b]=Z,Z})()}_remove(b){var N=this;return(0,w.Z)(function*(){return N._withPendingWrite((0,w.Z)(function*(){return yield N._withRetries(Z=>hl(Z,b)),delete N.localCache[b],N.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,w.Z)(function*(){const N=yield b._withRetries(Oe=>{const Xe=la(Oe,!1).getAll();return new ul(Xe).toPromise()});if(!N)return[];if(0!==b.pendingWrites)return[];const Z=[],ce=new Set;if(0!==N.length)for(const{fbase_key:Oe,value:Xe}of N)ce.add(Oe),JSON.stringify(b.localCache[Oe])!==JSON.stringify(Xe)&&(b.notifyListeners(Oe,Xe),Z.push(Oe));for(const Oe of Object.keys(b.localCache))b.localCache[Oe]&&!ce.has(Oe)&&(b.notifyListeners(Oe,null),Z.push(Oe));return Z})()}notifyListeners(b,N){this.localCache[b]=N;const Z=this.listeners[b];if(Z)for(const ce of Array.from(Z))ce(N)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,w.Z)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,N){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(N)}_removeListener(b,N){this.listeners[b]&&(this.listeners[b].delete(N),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return A.type="LOCAL",A})();Fs("rcb"),new ar(3e4,6e4);class pl extends ta{constructor(v){super("custom","custom"),this.params=v}_getIdTokenResponse(v){return ri(v,this._buildIdpRequest())}_linkToIdToken(v,b){return ri(v,this._buildIdpRequest(b))}_getReauthenticationResolver(v){return ri(v,this._buildIdpRequest())}_buildIdpRequest(v){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return v&&(b.idToken=v),b}}function td(A){return Yi(A.auth,new pl(A),A.bypassAuthState)}function Fh(A){const{auth:v,user:b}=A;return ve(b,v,"internal-error"),function Yt(A,v){return Bn.apply(this,arguments)}(b,new pl(A),A.bypassAuthState)}function Lh(A){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,w.Z)(function*(A){const{auth:v,user:b}=A;return ve(b,v,"internal-error"),function ee(A,v){return B.apply(this,arguments)}(b,new pl(A),A.bypassAuthState)})).apply(this,arguments)}class pg{constructor(v,b,N,Z,ce=!1){this.auth=v,this.resolver=N,this.user=Z,this.bypassAuthState=ce,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var v=this;return new Promise(function(){var b=(0,w.Z)(function*(N,Z){v.pendingPromise={resolve:N,reject:Z};try{v.eventManager=yield v.resolver._initialize(v.auth),yield v.onExecution(),v.eventManager.registerConsumer(v)}catch(ce){v.reject(ce)}});return function(N,Z){return b.apply(this,arguments)}}())}onAuthEvent(v){var b=this;return(0,w.Z)(function*(){const{urlResponse:N,sessionId:Z,postBody:ce,tenantId:Oe,error:Xe,type:Et}=v;if(Xe)return void b.reject(Xe);const fn={auth:b.auth,requestUri:N,sessionId:Z,tenantId:Oe||void 0,postBody:ce||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(Et)(fn))}catch(Cn){b.reject(Cn)}})()}onError(v){this.reject(v)}getIdpTask(v){switch(v){case"signInViaPopup":case"signInViaRedirect":return td;case"linkViaPopup":case"linkViaRedirect":return Lh;case"reauthViaPopup":case"reauthViaRedirect":return Fh;default:mt(this.auth,"internal-error")}}resolve(v){gt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(v),this.unregisterAndCleanUp()}reject(v){gt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(v),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new ar(2e3,1e4);const yu="pendingRedirect",Wc=new Map;class gg extends pg{constructor(v,b,N=!1){super(v,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,N),this.eventId=null}execute(){var v=()=>super.execute,b=this;return(0,w.Z)(function*(){let N=Wc.get(b.auth._key());if(!N){try{const ce=(yield function Vl(A,v){return nd.apply(this,arguments)}(b.resolver,b.auth))?yield v().call(b):null;N=()=>Promise.resolve(ce)}catch(Z){N=()=>Promise.reject(Z)}Wc.set(b.auth._key(),N)}return b.bypassAuthState||Wc.set(b.auth._key(),()=>Promise.resolve(null)),N()})()}onAuthEvent(v){var b=()=>super.onAuthEvent,N=this;return(0,w.Z)(function*(){if("signInViaRedirect"===v.type)return b().call(N,v);if("unknown"!==v.type){if(v.eventId){const Z=yield N.auth._redirectUserForId(v.eventId);if(Z)return N.user=Z,b().call(N,v);N.resolve(null)}}else N.resolve(null)})()}onExecution(){return(0,w.Z)(function*(){})()}cleanUp(){}}function nd(){return(nd=(0,w.Z)(function*(A,v){const b=function bu(A){return ln(yu,A.config.apiKey,A.name)}(v),N=function qc(A){return We(A._redirectPersistence)}(A);if(!(yield N._isAvailable()))return!1;const Z="true"===(yield N._get(b));return yield N._remove(b),Z})).apply(this,arguments)}function gl(A,v){Wc.set(A._key(),v)}function Nc(A,v){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,w.Z)(function*(A,v,b=!1){const N=ci(A),Z=function ic(A,v){return v?We(v):(ve(A._popupRedirectResolver,A,"argument-error"),A._popupRedirectResolver)}(N,v),Oe=yield new gg(N,Z,b).execute();return Oe&&!b&&(delete Oe.user._redirectEventId,yield N._persistUserIfCurrent(Oe.user),yield N._setRedirectUser(null,v)),Oe})).apply(this,arguments)}class Kf{constructor(v){this.auth=v,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(v){this.consumers.add(v),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,v)&&(this.sendToConsumer(this.queuedRedirectEvent,v),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(v){this.consumers.delete(v)}onEvent(v){if(this.hasEventBeenHandled(v))return!1;let b=!1;return this.consumers.forEach(N=>{this.isEventForConsumer(v,N)&&(b=!0,this.sendToConsumer(v,N),this.saveEventToCache(v))}),this.hasHandledPotentialRedirect||!function Yf(A){switch(A.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return id(A);default:return!1}}(v)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=v,b=!0)),b}sendToConsumer(v,b){var N;if(v.error&&!id(v)){const Z=(null===(N=v.error.code)||void 0===N?void 0:N.split("auth/")[1])||"internal-error";b.onError(ot(this.auth,Z))}else b.onAuthEvent(v)}isEventForConsumer(v,b){const N=null===b.eventId||!!v.eventId&&v.eventId===b.eventId;return b.filter.includes(v.type)&&N}hasEventBeenHandled(v){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zd(v))}saveEventToCache(v){this.cachedEventUids.add(zd(v)),this.lastProcessedEventTime=Date.now()}}function zd(A){return[A.type,A.eventId,A.sessionId,A.tenantId].filter(v=>v).join("-")}function id({type:A,error:v}){return"unknown"===A&&"auth/no-auth-event"===v?.code}function L(){return(L=(0,w.Z)(function*(A,v={}){return nt(A,"GET","/v1/projects",v)})).apply(this,arguments)}const Q=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,he=/^https?/;function Fe(){return Fe=(0,w.Z)(function*(A){if(A.config.emulator)return;const{authorizedDomains:v}=yield function O(A){return L.apply(this,arguments)}(A);for(const b of v)try{if(st(b))return}catch{}mt(A,"unauthorized-domain")}),Fe.apply(this,arguments)}function st(A){const v=Vn(),{protocol:b,hostname:N}=new URL(v);if(A.startsWith("chrome-extension://")){const Oe=new URL(A);return""===Oe.hostname&&""===N?"chrome-extension:"===b&&A.replace("chrome-extension://","")===v.replace("chrome-extension://",""):"chrome-extension:"===b&&Oe.hostname===N}if(!he.test(b))return!1;if(Q.test(A))return N===A;const Z=A.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Z+"|"+Z+")$","i").test(N)}const Vt=new ar(3e4,6e4);function Ht(){const A=ht().___jsl;if(A?.H)for(const v of Object.keys(A.H))if(A.H[v].r=A.H[v].r||[],A.H[v].L=A.H[v].L||[],A.H[v].r=[...A.H[v].L],A.CP)for(let b=0;b<A.CP.length;b++)A.CP[b]=null}let Qn=null;const sc=new ar(5e3,15e3),vo="__/auth/iframe",Uh="emulator/auth/iframe",Vh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Da=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ja(A){const v=A.config;ve(v.authDomain,A,"auth-domain-config-required");const b=v.emulator?vr(v,Uh):`https://${A.config.authDomain}/${vo}`,N={apiKey:v.apiKey,appName:A.name,v:u.Jn},Z=Da.get(A.config.apiHost);Z&&(N.eid=Z);const ce=A._getFrameworks();return ce.length&&(N.fw=ce.join(",")),`${b}?${(0,ae.xO)(N).slice(1)}`}function es(){return es=(0,w.Z)(function*(A){const v=yield function or(A){return Qn=Qn||function yn(A){return new Promise((v,b)=>{var N,Z,ce;function Oe(){Ht(),gapi.load("gapi.iframes",{callback:()=>{v(gapi.iframes.getContext())},ontimeout:()=>{Ht(),b(ot(A,"network-request-failed"))},timeout:Vt.get()})}if(null!==(Z=null===(N=ht().gapi)||void 0===N?void 0:N.iframes)&&void 0!==Z&&Z.Iframe)v(gapi.iframes.getContext());else{if(null===(ce=ht().gapi)||void 0===ce||!ce.load){const Xe=Fs("iframefcb");return ht()[Xe]=()=>{gapi.load?Oe():b(ot(A,"network-request-failed"))},os(`${function Ra(){return Vi.gapiScript}()}?onload=${Xe}`).catch(Et=>b(Et))}Oe()}}).catch(v=>{throw Qn=null,v})}(A),Qn}(A),b=ht().gapi;return ve(b,A,"internal-error"),v.open({where:document.body,url:ja(A),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vh,dontclear:!0},N=>new Promise(function(){var Z=(0,w.Z)(function*(ce,Oe){yield N.restyle({setHideOnLeave:!1});const Xe=ot(A,"network-request-failed"),Et=ht().setTimeout(()=>{Oe(Xe)},sc.get());function fn(){ht().clearTimeout(Et),ce(N)}N.ping(fn).then(fn,()=>{Oe(Xe)})});return function(ce,Oe){return Z.apply(this,arguments)}}()))}),es.apply(this,arguments)}const s_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Gh{constructor(v){this.window=v,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const a_="__/auth/handler",cv="emulator/auth/handler",c_=encodeURIComponent("fac");function l_(A,v,b,N,Z,ce){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,w.Z)(function*(A,v,b,N,Z,ce){ve(A.config.authDomain,A,"auth-domain-config-required"),ve(A.config.apiKey,A,"invalid-api-key");const Oe={apiKey:A.config.apiKey,appName:A.name,authType:b,redirectUrl:N,v:u.Jn,eventId:Z};if(v instanceof Vs){v.setDefaultLanguage(A.languageCode),Oe.providerId=v.providerId||"",(0,ae.xb)(v.getCustomParameters())||(Oe.customParameters=JSON.stringify(v.getCustomParameters()));for(const[Cn,Br]of Object.entries(ce||{}))Oe[Cn]=Br}if(v instanceof Ti){const Cn=v.getScopes().filter(Br=>""!==Br);Cn.length>0&&(Oe.scopes=Cn.join(","))}A.tenantId&&(Oe.tid=A.tenantId);const Xe=Oe;for(const Cn of Object.keys(Xe))void 0===Xe[Cn]&&delete Xe[Cn];const Et=yield A._getAppCheckToken(),fn=Et?`#${c_}=${encodeURIComponent(Et)}`:"";return`${function Uo({config:A}){return A.emulator?vr(A,cv):`https://${A.authDomain}/${a_}`}(A)}?${(0,ae.xO)(Xe).slice(1)}${fn}`})).apply(this,arguments)}const Eu="webStorageSupport",zl=class u_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$c,this._completeRedirectFn=Nc,this._overrideRedirectResult=gl}_openPopup(v,b,N,Z){var ce=this;return(0,w.Z)(function*(){var Oe;gt(null===(Oe=ce.eventManagers[v._key()])||void 0===Oe?void 0:Oe.manager,"_initialize() not called before _openPopup()");const Xe=yield l_(v,b,N,Vn(),Z);return function qd(A,v,b,N=500,Z=600){const ce=Math.max((window.screen.availHeight-Z)/2,0).toString(),Oe=Math.max((window.screen.availWidth-N)/2,0).toString();let Xe="";const Et=Object.assign(Object.assign({},s_),{width:N.toString(),height:Z.toString(),top:ce,left:Oe}),fn=(0,ae.z$)().toLowerCase();b&&(Xe=ir(fn)?"_blank":b),Fn(fn)&&(v=v||"http://localhost",Et.scrollbars="yes");const Cn=Object.entries(Et).reduce(($a,[Su,Mc])=>`${$a}${Su}=${Mc},`,"");if(function ti(A=(0,ae.z$)()){var v;return xa(A)&&!(null===(v=window.navigator)||void 0===v||!v.standalone)}(fn)&&"_self"!==Xe)return function $l(A,v){const b=document.createElement("a");b.href=A,b.target=v;const N=document.createEvent("MouseEvent");N.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(N)}(v||"",Xe),new Gh(null);const Br=window.open(v||"",Xe,Cn);ve(Br,A,"popup-blocked");try{Br.focus()}catch{}return new Gh(Br)}(v,Xe,hu())})()}_openRedirect(v,b,N,Z){var ce=this;return(0,w.Z)(function*(){return yield ce._originValidation(v),function Er(A){ht().location.href=A}(yield l_(v,b,N,Vn(),Z)),new Promise(()=>{})})()}_initialize(v){const b=v._key();if(this.eventManagers[b]){const{manager:Z,promise:ce}=this.eventManagers[b];return Z?Promise.resolve(Z):(gt(ce,"If manager is not set, promise should be"),ce)}const N=this.initAndGetManager(v);return this.eventManagers[b]={promise:N},N.catch(()=>{delete this.eventManagers[b]}),N}initAndGetManager(v){var b=this;return(0,w.Z)(function*(){const N=yield function Oc(A){return es.apply(this,arguments)}(v),Z=new Kf(v);return N.register("authEvent",ce=>(ve(ce?.authEvent,v,"invalid-auth-event"),{status:Z.onEvent(ce.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[v._key()]={manager:Z},b.iframes[v._key()]=N,Z})()}_isIframeWebStorageSupported(v,b){this.iframes[v._key()].send(Eu,{type:Eu},Z=>{var ce;const Oe=null===(ce=Z?.[0])||void 0===ce?void 0:ce[Eu];void 0!==Oe&&b(!!Oe),mt(v,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(v){const b=v._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function Ae(A){return Fe.apply(this,arguments)}(v)),this.originValidationPromises[b]}get _shouldInitProactively(){return vs()||qr()||xa()}};var Yc="@firebase/auth";class yg{constructor(v){this.auth=v,this.internalListeners=new Map}getUid(){var v;return this.assertAuthConfigured(),(null===(v=this.auth.currentUser)||void 0===v?void 0:v.uid)||null}getToken(v){var b=this;return(0,w.Z)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(v)}:null})()}addAuthTokenListener(v){if(this.assertAuthConfigured(),this.internalListeners.has(v))return;const b=this.auth.onIdTokenChanged(N=>{v(N?.stsTokenManager.accessToken||null)});this.internalListeners.set(v,b),this.updateProactiveRefresh()}removeAuthTokenListener(v){this.assertAuthConfigured();const b=this.internalListeners.get(v);b&&(this.internalListeners.delete(v),b(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const f_=(0,ae.Pz)("authIdTokenMaxAge")||300;let ep=null;const Du=A=>function(){var v=(0,w.Z)(function*(b){const N=b&&(yield b.getIdTokenResult()),Z=N&&((new Date).getTime()-Date.parse(N.issuedAtTime))/1e3;if(Z&&Z>f_)return;const ce=N?.token;ep!==ce&&(ep=ce,yield fetch(A,{method:ce?"POST":"DELETE",headers:ce?{Authorization:`Bearer ${ce}`}:{}}))});return function(b){return v.apply(this,arguments)}}();function io(A=(0,u.Mq)()){const v=(0,u.qX)(A,"auth");if(v.isInitialized())return v.getImmediate();const b=function ya(A,v){const b=(0,u.qX)(A,"auth");if(b.isInitialized()){const Z=b.getImmediate(),ce=b.getOptions();if((0,ae.vZ)(ce,v??{}))return Z;mt(Z,"already-initialized")}return b.initialize({options:v})}(A,{popupRedirectResolver:zl,persistence:[x,jc,$c]}),N=(0,ae.Pz)("authTokenSyncURL");if(N&&N.match(/^\/[^\/].*/)){const ce=Du(N);(function Ua(A,v,b){(0,ae.m9)(A).beforeAuthStateChanged(v,b)})(b,ce,()=>ce(b.currentUser)),function Ba(A,v,b,N){(0,ae.m9)(A).onIdTokenChanged(v,b,N)}(b,Oe=>ce(Oe))}const Z=(0,ae.q4)("auth");return Z&&function rl(A,v,b){const N=ci(A);ve(N._canInitEmulator,N,"emulator-config-failed"),ve(/^https?:\/\//.test(v),N,"invalid-emulator-scheme");const Z=!!b?.disableWarnings,ce=Bs(v),{host:Oe,port:Xe}=function yc(A){const v=Bs(A),b=/(\/\/)?([^?#/]+)/.exec(A.substr(v.length));if(!b)return{host:"",port:null};const N=b[2].split("@").pop()||"",Z=/^(\[[^\]]+\])(:|$)/.exec(N);if(Z){const ce=Z[1];return{host:ce,port:ea(N.substr(ce.length+1))}}{const[ce,Oe]=N.split(":");return{host:ce,port:ea(Oe)}}}(v);N.config.emulator={url:`${ce}//${Oe}${null===Xe?"":`:${Xe}`}/`},N.settings.appVerificationDisabledForTesting=!0,N.emulatorConfig=Object.freeze({host:Oe,port:Xe,protocol:ce.replace(":",""),options:Object.freeze({disableWarnings:Z})}),Z||function ka(){function A(){const v=document.createElement("p"),b=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",A):A())}()}(b,`http://${Z}`),b}(function Ja(A){Vi=A})({loadJS:A=>new Promise((v,b)=>{const N=document.createElement("script");N.setAttribute("src",A),N.onload=v,N.onerror=Z=>{const ce=ot("internal-error");ce.customData=Z,b(ce)},N.type="text/javascript",N.charset="UTF-8",function X1(){var A,v;return null!==(v=null===(A=document.getElementsByTagName("head"))||void 0===A?void 0:A[0])&&void 0!==v?v:document}().appendChild(N)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Xf(A){(0,u.Xd)(new fe.wA("auth",(v,{options:b})=>{const N=v.getProvider("app").getImmediate(),Z=v.getProvider("heartbeat"),ce=v.getProvider("app-check-internal"),{apiKey:Oe,authDomain:Xe}=N.options;ve(Oe&&!Oe.includes(":"),"invalid-api-key",{appName:N.name});const Et={apiKey:Oe,authDomain:Xe,clientPlatform:A,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sr(A)},fn=new Zs(N,Z,ce,Et);return function Ai(A,v){const b=v?.persistence||[],N=(Array.isArray(b)?b:[b]).map(We);v?.errorMap&&A._updateErrorMap(v.errorMap),A._initializeWithPersistence(N,v?.popupRedirectResolver)}(fn,b),fn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,b,N)=>{v.getProvider("auth-internal").initialize()})),(0,u.Xd)(new fe.wA("auth-internal",v=>{const b=ci(v.getProvider("auth").getImmediate());return new yg(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,u.KN)(Yc,"1.6.2",function vg(A){switch(A){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(A)),(0,u.KN)(Yc,"1.6.2","esm2017")}("Browser");var lv=K(5619),Cu=K(8180),Ho=K(3477),tp=K(9468),eb=K(6024);let np=(()=>{class A{constructor(b,N){this.firestore=b,this.router=N,this.userDataSubject=new lv.X(null),this.userData$=this.userDataSubject.asObservable();const Z=localStorage.getItem("user");if(Z){const ce=JSON.parse(Z);this.userDataSubject.next(ce)}}registerUser(b,N,Z){var ce=this;return(0,w.Z)(function*(){try{const Oe=yield ce.createUserWithEmailAndPassword(b,N),Xe=Oe.user.uid;yield ce.addAdditionalAuthData(Xe,Z),yield ce.saveUserData(Oe.user,Z),ce.router.navigate(["recipes-list"])}catch(Oe){ce.handleError(Oe)}})()}loginUser(b,N){var Z=this;return(0,w.Z)(function*(){try{const ce=yield Z.signInWithEmailAndPassword(b,N),Oe=ce.user.uid,Xe=yield Z.getAdditionalAuthDataById(Oe);yield Z.saveUserData(ce.user,Xe),Z.router.navigate(["recipes-list"])}catch(ce){Z.handleError(ce)}})()}logoutUser(){var b=this;return(0,w.Z)(function*(){try{yield b.signOutAuth(),yield b.clearUserData(),b.router.navigate(["login"])}catch(N){b.handleError(N)}})()}deleteUserAccount(){var b=this;return(0,w.Z)(function*(){try{const Z=io().currentUser;if(!Z)throw new Error("No user found to delete.");yield function uu(A){return Sc.apply(this,arguments)}(Z),yield b.clearUserData(),b.router.navigate(["login"])}catch(N){b.handleError(N)}})()}forgotPassword(b){var N=this;return(0,w.Z)(function*(){try{yield N.sendPasswordResetEmail(b),window.alert("Password reset email sent, check your inbox."),yield N.router.navigate(["login"])}catch(Z){N.handleError(Z),window.alert(Z)}})()}updateFavoriteRecipes(b,N,Z){var ce=this;return(0,w.Z)(function*(){const Xe=(0,Ho.JU)(ce.firestore,"Auth",N);try{Z?(console.log("remove"),yield(0,Ho.r7)(Xe,{favoriteRecipes:(0,Ho.Ab)(b)})):(console.log("add"),yield(0,Ho.r7)(Xe,{favoriteRecipes:(0,Ho.vr)(b)})),console.log("Favorite recipes updated successfully");const Et=yield ce.getAdditionalAuthDataById(N);ce.userData$.pipe((0,Cu.q)(1)).subscribe(fn=>{fn?ce.saveUserData(fn,Et).then(()=>console.log("User data saved successfully")).catch(()=>console.error("Failed to save user data")):console.error("User is null")})}catch(Et){console.error("Error updating favorite recipes: ",Et)}})()}sendPasswordResetEmail(b){return function Hs(A,v,b){return Ic.apply(this,arguments)}(io(),b)}createUserWithEmailAndPassword(b,N){return function wa(A,v,b){return Tc.apply(this,arguments)}(io(),b,N)}signInWithEmailAndPassword(b,N){return function Ec(A,v,b){return Qi((0,ae.m9)(A),Mo.credential(v,b)).catch(function(){var N=(0,w.Z)(function*(Z){throw"auth/password-does-not-meet-requirements"===Z.code&&ol(A),Z});return function(Z){return N.apply(this,arguments)}}())}(io(),b,N)}signOutAuth(){return function fs(A){return(0,ae.m9)(A).signOut()}(io())}addAdditionalAuthData(b,N){return(0,Ho.pl)((0,Ho.JU)(this.firestore,"Auth",b),N)}getAdditionalAuthDataById(b){var N=this;return(0,w.Z)(function*(){const Z=(0,Ho.JU)(N.firestore,"Auth",b),ce=yield(0,Ho.QT)(Z);return ce.exists()?ce.data():null})()}saveUserData(b,N){return new Promise((Z,ce)=>{if(b&&N){const Oe={...b,...N};localStorage.setItem("user",JSON.stringify(Oe)),this.userDataSubject.next(Oe),Z()}else localStorage.setItem("user","null"),this.userDataSubject.next(null),ce()})}clearUserData(){return new Promise((b,N)=>{localStorage.removeItem("user"),this.userDataSubject.next(null),b()})}handleError(b){if(b instanceof Error){const Z=b.message;console.error(`Error (${b.name}): ${Z}`),alert(Z)}else console.error("Unknown error:",b),alert(b)}static#e=this.\u0275fac=function(N){return new(N||A)(tp.LFG(Ho.gg),tp.LFG(eb.F0))};static#t=this.\u0275prov=tp.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()},9286:(Gt,$e,K)=>{K.d($e,{N:()=>we});var w=K(4303);(0,w.KN)("firebase","10.9.0","app");const we={firebaseConfig:{apiKey:"AIzaSyCVbXDjBGUwaOrn1CZYGIwce1dYPKpR7PA",authDomain:"the-natural-way.firebaseapp.com",projectId:"the-natural-way",storageBucket:"the-natural-way.appspot.com",messagingSenderId:"778711637280",appId:"1:778711637280:web:30b52ea2a4e159578fcb45"},cloudinaryConfig:{cloudName:"dsla98vyk",apiKey:"587566495847865",apiSecret:"sJLzQzouizKo51b9Mv0bI8a5pCI",uploadPreset:"the_natural_way"}};(0,w.ZF)(we.firebaseConfig)},7157:(Gt,$e,K)=>{var w=K(6593),ae=K(6024),u=K(9468),we=K(4664),de=K(7398),fe=K(2096),Ne=K(6499),Ee=K(5861),re=K(95),le=K(6814);function Se(l,f){1&l&&(u.TgZ(0,"div",21),u._uU(1," Email is required! "),u.qZA())}function et(l,f){1&l&&(u.TgZ(0,"div",21),u._uU(1," Please enter a valid email address! "),u.qZA())}function Pe(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,Se,2,0,"div",20),u.YNc(2,et,2,0,"div",20),u.qZA()),2&l){const o=u.oxw();let h,m;u.xp6(1),u.Q6J("ngIf",null==(h=o.registerForm.get("email"))||null==h.errors?null:h.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.registerForm.get("email"))||null==m.errors?null:m.errors.email)}}function it(l,f){1&l&&(u.TgZ(0,"div",21),u._uU(1," Password is required! "),u.qZA())}function At(l,f){1&l&&(u.TgZ(0,"div",21),u._uU(1," Password must be at least 6 characters long! "),u.qZA())}function Bt(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,it,2,0,"div",20),u.YNc(2,At,2,0,"div",20),u.qZA()),2&l){const o=u.oxw();let h,m;u.xp6(1),u.Q6J("ngIf",null==(h=o.registerForm.get("password"))||null==h.errors?null:h.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.registerForm.get("password"))||null==m.errors?null:m.errors.minlength)}}function Ft(l,f){1&l&&(u.TgZ(0,"div",21),u._uU(1," Repeat password is required! "),u.qZA())}function xn(l,f){1&l&&(u.TgZ(0,"div",21),u._uU(1," Repeat password must be at least 6 characters long! "),u.qZA())}function xt(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,Ft,2,0,"div",20),u.YNc(2,xn,2,0,"div",20),u.qZA()),2&l){const o=u.oxw();let h,m;u.xp6(1),u.Q6J("ngIf",null==(h=o.registerForm.get("repeatPassword"))||null==h.errors?null:h.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.registerForm.get("repeatPassword"))||null==m.errors?null:m.errors.minlength)}}function mt(l,f){1&l&&(u.TgZ(0,"div",21),u._uU(1," First name is required! "),u.qZA())}function ot(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,mt,2,0,"div",20),u.qZA()),2&l){const o=u.oxw();let h;u.xp6(1),u.Q6J("ngIf",null==(h=o.registerForm.get("firstName"))||null==h.errors?null:h.errors.required)}}function vt(l,f){1&l&&(u.TgZ(0,"div",21),u._uU(1," Last name is required! "),u.qZA())}function _t(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,vt,2,0,"div",20),u.qZA()),2&l){const o=u.oxw();let h;u.xp6(1),u.Q6J("ngIf",null==(h=o.registerForm.get("lastName"))||null==h.errors?null:h.errors.required)}}let Ge=(()=>{class l{constructor(o,h,m){this.userService=o,this.fb=h,this.router=m,this.registerForm=this.fb.group({email:["",[re.kI.required,re.kI.email]],password:["",[re.kI.required,re.kI.minLength(6)]],repeatPassword:["",re.kI.required],firstName:["",re.kI.required],lastName:["",re.kI.required],isActive:[!0,re.kI.required],isAdmin:[!1,re.kI.required],favoriteRecipes:this.fb.array([])})}submitRegisterForm(){var o=this;return(0,Ee.Z)(function*(){if(o.registerForm.valid){const{email:h,password:m,repeatPassword:T,...k}=o.registerForm.value;if(m!==T)return void alert("Password do not match!");try{yield o.userService.registerUser(h,m,k)}catch(J){alert(J)}}})()}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(Ne.K),u.Y36(re.qu),u.Y36(ae.F0))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-register"]],decls:33,vars:6,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[3,"formGroup","ngSubmit"],[1,"title-wrapper"],[1,"title-form"],["for","email"],["type","email","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","new-password"],["for","repeatPassword"],["type","password","id","repeatPassword","formControlName","repeatPassword","autocomplete","new-password"],["for","firstName"],["type","text","id","firstName","formControlName","firstName"],["for","lastName"],["type","text","id","lastName","formControlName","lastName"],["type","submit",1,"button",2,"width","100%","margin-top","20px"],["href","#","routerLink","/login"],[1,"hint"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(h,m){if(1&h&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"form",3),u.NdJ("ngSubmit",function(){return m.submitRegisterForm()}),u.TgZ(4,"div",4)(5,"h1",5),u._uU(6,"Registration"),u.qZA()(),u.TgZ(7,"label",6),u._uU(8,"Email:"),u.qZA(),u._UZ(9,"input",7),u.YNc(10,Pe,3,2,"div",8),u.TgZ(11,"label",9),u._uU(12,"Password:"),u.qZA(),u._UZ(13,"input",10),u.YNc(14,Bt,3,2,"div",8),u.TgZ(15,"label",11),u._uU(16,"Repeat password:"),u.qZA(),u._UZ(17,"input",12),u.YNc(18,xt,3,2,"div",8),u.TgZ(19,"label",13),u._uU(20,"First name:"),u.qZA(),u._UZ(21,"input",14),u.YNc(22,ot,2,1,"div",8),u.TgZ(23,"label",15),u._uU(24,"Last Name:"),u.qZA(),u._UZ(25,"input",16),u.YNc(26,_t,2,1,"div",8),u.TgZ(27,"button",17),u._uU(28," Submit "),u.qZA(),u._UZ(29,"hr"),u.TgZ(30,"a",18)(31,"div",19),u._uU(32,"Already registered?"),u.qZA()()()()()),2&h){let T,k,J,ue,ge;u.xp6(3),u.Q6J("formGroup",m.registerForm),u.xp6(7),u.Q6J("ngIf",(null==(T=m.registerForm.get("email"))?null:T.invalid)&&(null==(T=m.registerForm.get("email"))?null:T.touched)),u.xp6(4),u.Q6J("ngIf",(null==(k=m.registerForm.get("password"))?null:k.invalid)&&(null==(k=m.registerForm.get("password"))?null:k.touched)),u.xp6(4),u.Q6J("ngIf",(null==(J=m.registerForm.get("repeatPassword"))?null:J.invalid)&&(null==(J=m.registerForm.get("repeatPassword"))?null:J.touched)),u.xp6(4),u.Q6J("ngIf",(null==(ue=m.registerForm.get("firstName"))?null:ue.invalid)&&(null==(ue=m.registerForm.get("firstName"))?null:ue.touched)),u.xp6(4),u.Q6J("ngIf",(null==(ge=m.registerForm.get("lastName"))?null:ge.invalid)&&(null==(ge=m.registerForm.get("lastName"))?null:ge.touched))}},dependencies:[le.O5,ae.rH,re._Y,re.Fj,re.JJ,re.JL,re.sg,re.u],styles:[".checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:none}}"]})}return l})();function ve(l,f){1&l&&(u.TgZ(0,"div",16),u._uU(1," Email is required! "),u.qZA())}function Ke(l,f){1&l&&(u.TgZ(0,"div",16),u._uU(1," Invalid email! "),u.qZA())}function gt(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,ve,2,0,"div",17),u.YNc(2,Ke,2,0,"div",17),u.qZA()),2&l){const o=u.oxw();let h,m;u.xp6(1),u.Q6J("ngIf",null==(h=o.logInForm.get("email"))||null==h.errors?null:h.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.logInForm.get("email"))||null==m.errors?null:m.errors.email)}}function Vn(l,f){1&l&&(u.TgZ(0,"div",16),u._uU(1," Password is required! "),u.qZA())}function dt(l,f){1&l&&(u.TgZ(0,"div",16),u._uU(1," Password must be at least 6 characters long! "),u.qZA())}function dn(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,Vn,2,0,"div",17),u.YNc(2,dt,2,0,"div",17),u.qZA()),2&l){const o=u.oxw();let h,m;u.xp6(1),u.Q6J("ngIf",null==(h=o.logInForm.get("password"))||null==h.errors?null:h.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.logInForm.get("password"))||null==m.errors?null:m.errors.minlength)}}function Dn(l,f){if(1&l&&(u.TgZ(0,"div"),u._uU(1),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.Oqu(o.loginError)}}let $n=(()=>{class l{constructor(o,h,m,T){this.userService=o,this.fb=h,this.route=m,this.router=T,this.loginError=null,this.returnUrl=null,this.logInForm=this.fb.group({email:["",[re.kI.required,re.kI.email]],password:["",[re.kI.required,re.kI.minLength(6)]]})}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}submitLogInForm(){var o=this;return(0,Ee.Z)(function*(){if(o.logInForm.valid){const{email:h,password:m}=o.logInForm.value;try{yield o.userService.loginUser(h,m);const T=o.returnUrl||"/category";yield o.router.navigateByUrl(T)}catch(T){console.log(T)}}})()}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(Ne.K),u.Y36(re.qu),u.Y36(ae.gz),u.Y36(ae.F0))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-login"]],decls:30,vars:4,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[3,"formGroup","ngSubmit"],[1,"title-wrapper"],[1,"title-form"],[1,"formGroup"],["for","email"],["type","text","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","current-password"],["type","submit",1,"button",2,"width","100%"],["href","#","routerLink","/register"],[1,"hint"],["href","#","routerLink","/forgot-password"],[1,"errors"],["class","errors",4,"ngIf"]],template:function(h,m){if(1&h&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"form",3),u.NdJ("ngSubmit",function(){return m.submitLogInForm()}),u.TgZ(4,"div",4)(5,"h1",5),u._uU(6,"Login"),u.qZA()(),u.TgZ(7,"div",6)(8,"label",7),u._uU(9,"Email"),u.qZA(),u._UZ(10,"input",8),u.YNc(11,gt,3,2,"div",9),u.qZA(),u.TgZ(12,"div",6)(13,"label",10),u._uU(14,"Password"),u.qZA(),u._UZ(15,"input",11),u.YNc(16,dn,3,2,"div",9),u.qZA(),u._UZ(17,"br"),u.TgZ(18,"div",6)(19,"button",12),u._uU(20,"Submit"),u.qZA()(),u.YNc(21,Dn,2,1,"div",9),u._UZ(22,"hr"),u.TgZ(23,"div")(24,"a",13)(25,"div",14),u._uU(26,"Don't have a Registration yet?"),u.qZA()(),u.TgZ(27,"a",15)(28,"div",16),u._uU(29,"Forgot your password?"),u.qZA()()()()()()),2&h){let T,k;u.xp6(3),u.Q6J("formGroup",m.logInForm),u.xp6(8),u.Q6J("ngIf",(null==(T=m.logInForm.get("email"))?null:T.invalid)&&(null==(T=m.logInForm.get("email"))?null:T.touched)),u.xp6(5),u.Q6J("ngIf",(null==(k=m.logInForm.get("password"))?null:k.invalid)&&(null==(k=m.logInForm.get("password"))?null:k.touched)),u.xp6(5),u.Q6J("ngIf",m.loginError)}},dependencies:[le.O5,ae.rH,re._Y,re.Fj,re.JJ,re.JL,re.sg,re.u],styles:["form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:none}}"]})}return l})();var ar=K(1753);const vr=function(l){return["/recipe",l]};function ke(l,f){if(1&l&&(u.TgZ(0,"div")(1,"a",8)(2,"div",9)(3,"div",10),u._UZ(4,"img",11),u.qZA(),u.TgZ(5,"p",12),u._uU(6),u.qZA()()()()),2&l){const o=f.$implicit;u.xp6(1),u.Q6J("routerLink",u.VKq(4,vr,o.id)),u.xp6(3),u.s9C("alt",o.title),u.Q6J("src",o.image_recipe[0].image_recipe,u.LSH),u.xp6(2),u.Oqu(o.title)}}function je(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"button",13),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.getRecipesLoadMore())}),u._uU(1," Load More "),u.qZA()}}let Ye=(()=>{class l{constructor(o){this.recipeService=o,this.recipes=[],this.showLoadMoreButton=!0}ngOnInit(){this.getRecipes(),this.showLoadMoreButton=!0}getRecipesLoadMore(){var o=this;return(0,Ee.Z)(function*(){const{data:h,hasMore:m}=yield o.recipeService.getRecipesLoadMore();console.log(m),o.showLoadMoreButton=m,o.recipes.push(...h)})()}getRecipes(){var o=this;return(0,Ee.Z)(function*(){const{data:h}=yield o.recipeService.getRecipes();o.recipes.push(...h)})()}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(ar.v))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-recipes-list"]],decls:9,vars:2,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper-list"],[1,"title-wrapper"],[1,"title"],[1,"recipe-list"],[4,"ngFor","ngForOf"],["class","button",3,"click",4,"ngIf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"],[1,"button",3,"click"]],template:function(h,m){1&h&&(u.TgZ(0,"main",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"h1",4),u._uU(5,"Recipes"),u.qZA()(),u.TgZ(6,"div",5),u.YNc(7,ke,7,6,"div",6),u.qZA(),u.YNc(8,je,2,0,"button",7),u.qZA()()),2&h&&(u.xp6(7),u.Q6J("ngForOf",m.recipes),u.xp6(1),u.Q6J("ngIf",m.showLoadMoreButton))},dependencies:[le.sg,le.O5,ae.rH],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:20px;margin-bottom:100px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 461px) and (max-width: 767px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return l})();var Ue=K(4019),nt=K(8850),bt=K(3477);function Rt(l,f){1&l&&(u.TgZ(0,"div",9),u._uU(1," Please write your comment here! "),u.qZA())}function jt(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,Rt,2,0,"div",8),u.qZA()),2&l){const o=u.oxw();let h;u.xp6(1),u.Q6J("ngIf",null==(h=o.commentForm.get("text"))||null==h.errors?null:h.errors.required)}}let hn=(()=>{class l{constructor(o,h,m,T){this.fb=o,this.commentService=m,this.userService=T,this.timestamp=new Date,this.fullName="",this.firestore=h}ngOnInit(){this.commentForm=this.fb.group({name:[""],text:["",re.kI.required],recipeId:[this.recipeId],create_time:[this.timestamp],uid:[""]}),this.userService.userData$.subscribe({next:o=>{o?(this.userData=o,this.fullName=this.userData.firstName+" "+this.userData.lastName):this.fullName="Anonymous"},error:o=>{console.log(o)}})}onSubmit(){var o=this;return(0,Ee.Z)(function*(){if(o.timestamp=new Date,o.commentForm.valid){o.commentForm.patchValue({name:o.fullName}),o.commentForm.patchValue({recipeId:o.recipeId}),o.commentForm.patchValue({create_time:o.timestamp}),o.userData&&o.commentForm.patchValue({uid:o.userData.uid});try{(yield o.commentService.addComment(o.commentForm.value))?(alert("You have successfully added your comment"),o.commentForm.reset()):console.error("Error adding comment.")}catch(h){console.error("An error occurred while submitting the comment:",h)}}})()}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(re.qu),u.Y36(bt.gg),u.Y36(nt.O),u.Y36(Ne.K))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-comment-form"]],inputs:{recipeId:"recipeId"},decls:15,vars:2,consts:[[1,"commentWrapper"],["id","commentForm",3,"formGroup","ngSubmit"],[1,"divider"],[1,"form-group"],["for","text"],["placeholder","Please write your comment here!","id","text","formControlName","text","rows","5","cols","30",1,"form-control"],[4,"ngIf"],["type","submit",1,"button",2,"width","100%"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(h,m){if(1&h&&(u.TgZ(0,"div",0)(1,"form",1),u.NdJ("ngSubmit",function(){return m.onSubmit()}),u.TgZ(2,"div",2),u._UZ(3,"hr"),u.TgZ(4,"p"),u._uU(5,"\xa0\xa0Comment\xa0\xa0"),u.qZA(),u._UZ(6,"hr"),u.qZA(),u.TgZ(7,"div",3)(8,"label",4),u._uU(9,"Comment (required)"),u.qZA(),u._UZ(10,"textarea",5),u.qZA(),u.YNc(11,jt,2,1,"div",6),u._UZ(12,"br"),u.TgZ(13,"button",7),u._uU(14,"Submit"),u.qZA()()()),2&h){let T;u.xp6(1),u.Q6J("formGroup",m.commentForm),u.xp6(10),u.Q6J("ngIf",null==(T=m.commentForm.get("text"))?null:T.touched)}},dependencies:[le.O5,re._Y,re.Fj,re.JJ,re.JL,re.sg,re.u],styles:["form#commentForm[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:100%;border:unset}"]})}return l})();var bn=K(2732);function cn(l,f){if(1&l&&(u.TgZ(0,"div",19),u._uU(1),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.hij(" ",null==o.recipe?null:o.recipe.summary," ")}}function Dt(l,f){1&l&&(u.TgZ(0,"div"),u._UZ(1,"br"),u.qZA())}function Yn(l,f){if(1&l&&(u.TgZ(0,"li"),u._UZ(1,"img",22),u.qZA()),2&l){const o=f.$implicit;u.xp6(1),u.Q6J("src",o.image_recipe,u.LSH)}}function br(l,f){if(1&l&&(u.TgZ(0,"ul",20),u.YNc(1,Yn,2,1,"li",21),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.Q6J("ngForOf",null==o.recipe?null:o.recipe.image_recipe)}}function kr(l,f){1&l&&(u.ynx(0),u._UZ(1,"i",28),u.BQk())}function De(l,f){1&l&&u._UZ(0,"i",29)}function xe(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"button",25),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.updateRecipeLikes())}),u.YNc(1,kr,2,0,"ng-container",26),u.YNc(2,De,1,0,"ng-template",null,27,u.W1O),u.qZA()}if(2&l){const o=u.MAs(3),h=u.oxw(2);u.xp6(1),u.Q6J("ngIf",h.userData&&h.recipe&&h.recipe.likes&&(null==h.userData?null:h.userData.uid)&&h.recipe.likes.includes(h.userData.uid))("ngIfElse",o)}}function Re(l,f){if(1&l&&(u.TgZ(0,"div")(1,"span"),u._uU(2),u.qZA()()),2&l){const o=u.oxw(2);u.xp6(2),u.hij("Like: ",null==o.recipe||null==o.recipe.likes?null:o.recipe.likes.length,"")}}function at(l,f){1&l&&(u.ynx(0),u._uU(1," Save it! "),u.BQk())}function yt(l,f){1&l&&u._uU(0,"Save Recipe")}function St(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"button",25),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.updateFavoriteRecipes())}),u.YNc(1,at,2,0,"ng-container",26),u.YNc(2,yt,1,0,"ng-template",null,27,u.W1O),u.qZA()}if(2&l){const o=u.MAs(3),h=u.oxw(2);u.xp6(1),u.Q6J("ngIf",h.recipe&&h.userData&&h.userData.favoriteRecipes&&h.userData.favoriteRecipes.includes(h.recipeId||""))("ngIfElse",o)}}function wr(l,f){if(1&l&&(u.TgZ(0,"div",23),u.YNc(1,xe,4,2,"button",24),u.YNc(2,Re,3,1,"div",8),u.YNc(3,St,4,2,"button",24),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.Q6J("ngIf",o.userData),u.xp6(1),u.Q6J("ngIf",(null==o.recipe||null==o.recipe.likes?null:o.recipe.likes.length)>0),u.xp6(1),u.Q6J("ngIf",o.userData)}}function An(l,f){1&l&&(u.TgZ(0,"div",12),u._UZ(1,"hr"),u.TgZ(2,"p"),u._uU(3,"\xa0\xa0Ingredients\xa0\xa0"),u.qZA(),u._UZ(4,"hr"),u.qZA())}function sn(l,f){if(1&l&&(u.TgZ(0,"li"),u._uU(1),u.qZA()),2&l){const o=u.oxw().$implicit;u.xp6(1),u.lnq(" ",o.name," - ",o.amount," ",o.unit," ")}}function Qt(l,f){if(1&l&&(u.TgZ(0,"ul",30),u.YNc(1,sn,2,3,"li",8),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.Q6J("ngIf",null==o.recipe?null:o.recipe.ingredients)}}function In(l,f){if(1&l&&(u.TgZ(0,"li"),u._UZ(1,"iframe",32),u.ALo(2,"safeUrl"),u.qZA()),2&l){const o=f.$implicit;u.xp6(1),u.Q6J("src",u.lcZ(2,1,o.video_recipe),u.uOi)}}function tr(l,f){if(1&l&&(u.TgZ(0,"div",31)(1,"div",12),u._UZ(2,"hr"),u.TgZ(3,"p"),u._uU(4,"\xa0\xa0Video\xa0\xa0"),u.qZA(),u._UZ(5,"hr"),u.qZA(),u._UZ(6,"br"),u.TgZ(7,"ul"),u.YNc(8,In,3,3,"li",21),u.qZA()()),2&l){const o=u.oxw();u.xp6(8),u.Q6J("ngForOf",null==o.recipe?null:o.recipe.video_recipe)}}function Xt(l,f){1&l&&(u.TgZ(0,"div",12),u._UZ(1,"hr"),u.TgZ(2,"p"),u._uU(3,"\xa0\xa0Buttons\xa0\xa0"),u.qZA(),u._UZ(4,"hr"),u.qZA())}function Sr(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"button",35),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.toggleCommentForm())}),u._uU(1," Comment? "),u.qZA()}}function Ir(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"button",35),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.toggleCommentForm())}),u._uU(1," Hide Form "),u.qZA()}}function mn(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"button",35),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.navigateToRecipeEdit())}),u._uU(1," Edit Recipe "),u.qZA()}}function dr(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"button",35),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.navigateToRecipeDelete())}),u._uU(1," Delete Recipe "),u.qZA()}}function Jn(l,f){if(1&l&&(u.TgZ(0,"div",33),u.YNc(1,Sr,2,0,"button",34),u.YNc(2,Ir,2,0,"button",34),u.YNc(3,mn,2,0,"button",34),u.YNc(4,dr,2,0,"button",34),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.Q6J("ngIf",!o.showCommentForm),u.xp6(1),u.Q6J("ngIf",o.showCommentForm),u.xp6(1),u.Q6J("ngIf",o.userData&&o.userData.uid==(null==o.recipe?null:o.recipe.uid)),u.xp6(1),u.Q6J("ngIf",o.userData&&o.userData.uid==(null==o.recipe?null:o.recipe.uid))}}function hr(l,f){if(1&l&&(u.TgZ(0,"div"),u._UZ(1,"app-comment-form",36),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.Q6J("recipeId",o.recipeId)}}function Zn(l,f){1&l&&(u.TgZ(0,"div",12),u._UZ(1,"hr"),u.TgZ(2,"p"),u._uU(3,"\xa0\xa0Comments\xa0\xa0"),u.qZA(),u._UZ(4,"hr"),u.qZA())}function di(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"span",41),u.NdJ("click",function(){u.CHM(o);const m=u.oxw().$implicit,T=u.oxw(2);return u.KtG(T.confirmDelete(m.id))}),u._UZ(1,"i",42),u.qZA()}}function Rn(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"span",41),u.NdJ("click",function(){u.CHM(o);const m=u.oxw().$implicit,T=u.oxw(2);return u.KtG(T.navigateToCommentEdit(m.id))}),u._UZ(1,"i",43),u.qZA()}}function nr(l,f){if(1&l&&(u.TgZ(0,"ul")(1,"li"),u._uU(2),u.qZA(),u.TgZ(3,"li"),u._uU(4),u.qZA(),u.TgZ(5,"li",38)(6,"p"),u._uU(7),u.ALo(8,"date"),u.qZA(),u.TgZ(9,"div",39),u.YNc(10,di,2,0,"span",40),u.YNc(11,Rn,2,0,"span",40),u.qZA()(),u._UZ(12,"hr"),u.qZA()),2&l){const o=f.$implicit,h=u.oxw(2);u.xp6(2),u.Oqu(o.name),u.xp6(2),u.Oqu(o.text),u.xp6(3),u.hij(" ",u.xi3(8,5,o.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," "),u.xp6(3),u.Q6J("ngIf",h.userData&&o.uid==h.userData.uid),u.xp6(1),u.Q6J("ngIf",h.userData&&o.uid==h.userData.uid)}}function Or(l,f){if(1&l&&(u.TgZ(0,"section",37),u.YNc(1,nr,13,8,"ul",21),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.Q6J("ngForOf",o.comments)}}let hi=(()=>{class l{constructor(o,h,m,T,k){var J=this;this.route=o,this.recipeService=h,this.commentService=m,this.userService=T,this.router=k,this.recipe=null,this.recipeId="",this.comments=[],this.showCommentForm=!1,this.route.paramMap.subscribe(function(){var ue=(0,Ee.Z)(function*(ge){J.recipeId=ge.get("id")});return function(ge){return ue.apply(this,arguments)}}()),m.getCommentAddedObservable().subscribe((0,Ee.Z)(function*(){console.log("Comment successfully added."),yield J.loadCommentsForRecipe()}))}loadRecipeData(){var o=this;return(0,Ee.Z)(function*(){if(o.recipeId)try{o.recipe=yield o.recipeService.getRecipeById(o.recipeId),o.comments=yield o.commentService.getCommentsForRecipe(o.recipeId),console.log("Recipe data loaded successfully.")}catch(h){console.error("An error occurred while loading recipe data:",h)}})()}navigateToRecipeEdit(){var o=this;return(0,Ee.Z)(function*(){yield o.router.navigate(["/dashboard/recipe-edit",o.recipeId])})()}navigateToRecipeDelete(){var o=this;return(0,Ee.Z)(function*(){yield o.router.navigate(["/dashboard/recipe-delete",o.recipeId])})()}ngOnInit(){var o=this;return(0,Ee.Z)(function*(){yield o.loadRecipeData(),o.userService.userData$.subscribe(h=>{h&&(o.userData=h)})})()}toggleCommentForm(){this.showCommentForm=!this.showCommentForm}navigateToCommentEdit(o){var h=this;return(0,Ee.Z)(function*(){yield h.router.navigate(["/dashboard/comment-edit",o])})()}deleteComment(o){var h=this;return(0,Ee.Z)(function*(){try{yield h.commentService.deleteComment(o),console.log("Comment deleted successfully.")}catch(m){console.error("Error deleting comment:",m)}})()}confirmDelete(o){confirm("Are you sure you want to delete this comment?")&&this.deleteComment(o)}updateRecipeLikes(){var o=this;return(0,Ee.Z)(function*(){if(o.recipe)if(o.userData){if(o.userData){let h=o.recipe.likes.includes(o.userData.uid);yield o.recipeService.updateRecipeLikes(o.recipeId,o.userData.uid,h)}yield o.loadRecipeData()}else console.error("User is not logged in.");else console.error("Recipe data is missing.")})()}updateFavoriteRecipes(){var o=this;return(0,Ee.Z)(function*(){if(o.recipe){if(o.userData&&o.recipeId){let h=o.userData.favoriteRecipes.includes(o.recipeId);yield o.userService.updateFavoriteRecipes(o.recipeId,o.userData.uid,h),yield o.loadRecipeData()}}else console.error("Recipe data is missing.")})()}loadCommentsForRecipe(){var o=this;return(0,Ee.Z)(function*(){o.recipeId&&(o.comments=yield o.commentService.getCommentsForRecipe(o.recipeId))})()}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(ae.gz),u.Y36(Ue.j),u.Y36(nt.O),u.Y36(Ne.K),u.Y36(ae.F0))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-recipe"]],decls:33,vars:15,consts:[[1,"mainLong"],[1,"headerImage"],[1,"wrapper-list"],[1,"recipe-container"],[1,"title-wrapper"],[1,"title"],[1,"recipe-subtitle"],["class","recipe-summary",4,"ngIf"],[4,"ngIf"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],["class","buttons",4,"ngIf"],[1,"divider"],[1,"recipe-description-text","description"],["class","divider",4,"ngIf"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-videos",4,"ngIf"],["class","buttons buttons-img",4,"ngIf"],["class","comments",4,"ngIf"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","Image of a recipe",3,"src"],[1,"buttons"],["class","button",3,"click",4,"ngIf"],[1,"button",3,"click"],[4,"ngIf","ngIfElse"],["notLiked",""],[1,"fa-solid","fa-heart","fa-beat-fade"],[1,"fa-regular","fa-heart","fa-beat-fade"],[1,"recipe-ingredients"],[1,"recipe-videos"],["width","560","height","315","allowfullscreen","",3,"src"],[1,"buttons","buttons-img"],["class","button-img",3,"click",4,"ngIf"],[1,"button-img",3,"click"],[3,"recipeId"],[1,"comments"],[1,"comments-last"],[1,"commentBtnWrapper"],[3,"click",4,"ngIf"],[3,"click"],[1,"fa-solid","fa-trash","fa-shake"],[1,"fa-regular","fa-pen-to-square","fa-flip"]],template:function(h,m){1&h&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6),u.qZA()(),u.TgZ(7,"h3",6),u._uU(8),u.qZA(),u.YNc(9,cn,2,1,"div",7),u.YNc(10,Dt,2,0,"div",8),u.TgZ(11,"div",9),u.YNc(12,br,2,1,"ul",10),u.YNc(13,wr,4,3,"div",11),u.TgZ(14,"div",12),u._UZ(15,"hr"),u.TgZ(16,"p"),u._uU(17,"\xa0\xa0Preparation\xa0\xa0"),u.qZA(),u._UZ(18,"hr"),u.qZA(),u._UZ(19,"br"),u.TgZ(20,"p",13),u._uU(21),u.qZA(),u._UZ(22,"br"),u.YNc(23,An,5,0,"div",14),u._UZ(24,"br"),u.YNc(25,Qt,2,1,"ul",15),u.YNc(26,tr,9,1,"div",16),u.YNc(27,Xt,5,0,"div",14),u._UZ(28,"br"),u.YNc(29,Jn,5,4,"div",17),u.YNc(30,hr,2,1,"div",8),u.YNc(31,Zn,5,0,"div",14),u.YNc(32,Or,2,1,"section",18),u.qZA()()()()),2&h&&(u.xp6(6),u.Oqu(null==m.recipe?null:m.recipe.title),u.xp6(2),u.Oqu(null==m.recipe?null:m.recipe.subtitle),u.xp6(1),u.Q6J("ngIf",null==m.recipe?null:m.recipe.summary),u.xp6(1),u.Q6J("ngIf",!(null!=m.recipe&&m.recipe.summary)),u.xp6(2),u.Q6J("ngIf",(null==m.recipe?null:m.recipe.image_recipe)&&(null==m.recipe||null==m.recipe.image_recipe?null:m.recipe.image_recipe.length)>0),u.xp6(1),u.Q6J("ngIf",m.userData),u.xp6(8),u.hij(" ",null==m.recipe?null:m.recipe.description," "),u.xp6(2),u.Q6J("ngIf",null==m.recipe?null:m.recipe.ingredients),u.xp6(2),u.Q6J("ngForOf",null==m.recipe?null:m.recipe.ingredients),u.xp6(1),u.Q6J("ngIf",(null==m.recipe?null:m.recipe.video_recipe)&&(null==m.recipe||null==m.recipe.video_recipe?null:m.recipe.video_recipe.length)>0),u.xp6(1),u.Q6J("ngIf",m.userData),u.xp6(2),u.Q6J("ngIf",m.userData),u.xp6(1),u.Q6J("ngIf",m.showCommentForm),u.xp6(1),u.Q6J("ngIf",m.comments.length>0),u.xp6(1),u.Q6J("ngIf",m.comments.length>0))},dependencies:[le.sg,le.O5,hn,le.uU,bn.Q],styles:[".recipe-container[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:800px;margin:-50px auto 50px;padding:32px;box-shadow:0 1px 3px #0000004d}.title[_ngcontent-%COMP%]{font-size:28px}.recipe-subtitle[_ngcontent-%COMP%]{font-size:14px;margin-top:-10px;color:var(--mainGreyColor);font-style:italic;white-space:pre-wrap}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic;white-space:pre-wrap}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}ul.recipe-image[_ngcontent-%COMP%]{padding-left:unset}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.buttons[_ngcontent-%COMP%]{padding:0 32px;display:flex;justify-content:space-between}.comments[_ngcontent-%COMP%]{border:1px solid var(--mainMagnoliaColor);margin:30px 0;padding:20px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:10px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:5px}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--mainGreyColor)}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--backgroundColor);padding-left:5px;border-radius:5px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--mainMagnoliaColor);font-style:italic;border-radius:5px}.commentBtnWrapper[_ngcontent-%COMP%]{display:flex;gap:10px}.comments-last[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.fa-solid.fa-trash.fa-shake[_ngcontent-%COMP%], .fa-regular.fa-pen-to-square.fa-flip[_ngcontent-%COMP%]{cursor:pointer;color:var(--mainRGBAColor);background-color:var(--backgroundColor);padding:8px 10px;border:3px solid var(--mainRGBAColor);border-radius:50%;transition:1s ease-in-out}.fa-solid.fa-trash.fa-shake[_ngcontent-%COMP%]:hover, .fa-regular.fa-pen-to-square.fa-flip[_ngcontent-%COMP%]:hover{color:var(--backgroundColor);background-color:var(--mainRGBAColor);padding:8px 10px;border:3px solid var(--mainRGBAColor);border-radius:50%}@media (max-width: 640px){.buttons-img[_ngcontent-%COMP%]{flex-direction:column-reverse}}"]})}return l})();function tt(l,f){1&l&&(u.TgZ(0,"div")(1,"main",2),u._UZ(2,"div",3),u.TgZ(3,"div",4)(4,"div",5)(5,"div",6)(6,"h1",7),u._uU(7," We're sorry, but we couldn't find the result you're looking for! "),u.TgZ(8,"main",8),u.O4$(),u.TgZ(9,"svg",9),u._UZ(10,"rect",10),u.TgZ(11,"g",11)(12,"svg",12)(13,"g")(14,"svg",13)(15,"g",14)(16,"svg",15)(17,"g",16)(18,"svg",17)(19,"g")(20,"svg",15)(21,"g",18)(22,"svg",19),u._UZ(23,"path",20),u.qZA()()()()()()()(),u.TgZ(24,"g",21)(25,"svg",22)(26,"g"),u._UZ(27,"svg"),u.qZA(),u.TgZ(28,"g",23)(29,"svg",22)(30,"g"),u._UZ(31,"path",24)(32,"ellipse",25),u.qZA(),u.TgZ(33,"g",26)(34,"svg",27)(35,"g")(36,"svg",28),u._UZ(37,"path",29),u.qZA()()()()()()()(),u._UZ(38,"g"),u.qZA()(),u._UZ(39,"defs"),u.qZA(),u._UZ(40,"rect",30),u.qZA()()()()()()()()())}const Ce=function(l){return["/recipe",l]};function Ze(l,f){if(1&l&&(u.TgZ(0,"div")(1,"a",35)(2,"div",36)(3,"div",37),u._UZ(4,"img",38),u.qZA(),u.TgZ(5,"p",39),u._uU(6),u.qZA()()()()),2&l){const o=f.$implicit;u.xp6(1),u.Q6J("routerLink",u.VKq(4,Ce,o.id)),u.xp6(3),u.s9C("alt",o.title),u.Q6J("src",o.image_recipe[0].image_recipe,u.LSH),u.xp6(2),u.Oqu(o.title)}}function It(l,f){if(1&l&&(u.TgZ(0,"main",31),u._UZ(1,"div",3),u.TgZ(2,"div",32)(3,"div",6)(4,"h1",7),u._uU(5,"Result"),u.qZA()(),u.TgZ(6,"div",33),u.YNc(7,Ze,7,6,"div",34),u.qZA()()()),2&l){const o=u.oxw();u.xp6(7),u.Q6J("ngForOf",o.recipes)}}let qt=(()=>{class l{constructor(o,h){this.recipeService=o,this.route=h,this.recipes=[],this.result=!1}ngOnInit(){this.route.queryParams.subscribe(o=>{const h=o.search;h&&this.getRecipes(h)})}getRecipes(o){var h=this;return(0,Ee.Z)(function*(){const{data:m}=yield h.recipeService.searchRecipesByTitle(o);console.log(m),m.length>0?(h.recipes.push(...m),h.result=!0):h.result=!1})()}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(ar.v),u.Y36(ae.gz))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-recipe-search"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["recipesList",""],[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[2,"max-width","600px","margin","-50px auto 50px auto","padding","32px","background-color","var(--backgroundColor)","border-radius","unset","box-shadow","0 1px 3px 0 rgba(0, 0, 0, 0.3)","display","flex","flex-direction","column","align-items","center"],[1,"title-wrapper"],[1,"title"],[1,"logo-svg"],["viewBox","0 0 640 400","data-background-color","var(--mainWhiteColor)","preserveAspectRatio","xMidYMid meet","height","400","width","640","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["width","640","height","400","x","0","y","0","opacity","1","fill","var(--mainRGBAColor)","data-fill-palette-color","background","id","background"],["id","tight-bounds","transform","matrix(1,0,0,1,168.6873741251188,76.4)"],["viewBox","0 0 302.6252517497624 247.2","height","247.2","width","302.6252517497624"],["viewBox","0 0 395.52 323.08124796157813","height","247.2","width","302.6252517497624"],["transform","matrix(1,0,0,1,0,240.1001478205344)"],["viewBox","0 0 395.52 82.98110014104373","height","82.98110014104373","width","395.52"],["id","textblocktransform"],["viewBox","0 0 395.52 82.98110014104373","height","82.98110014104373","width","395.52","id","textblock"],["transform","matrix(1,0,0,1,0,0)"],["width","395.52","viewBox","0.15000000596046448 -37.939998626708984 276.9100036621094 58.11000061035156","height","82.98110014104373","data-palette-color","var(--mainWhiteColor)"],["d","M8.3-27.15L0.15-26.51 0.93-29.05Q0.98-29.1 1.68-29.17 2.39-29.25 3.56-29.37 4.74-29.49 6.2-29.64 7.67-29.79 9.2-29.93 10.74-30.08 12.23-30.22 13.72-30.37 14.99-30.52L14.99-30.52Q14.99-30.52 15.43-30.52 15.87-30.52 16.41-30.52 16.94-30.52 17.43-30.52 17.92-30.52 18.07-30.52L18.07-30.52Q19.24-30.52 19.68-30.08 20.12-29.64 20.12-28.17L20.12-28.17 11.23-27.15Q11.13-24.07 11.33-20.7 11.52-17.33 11.82-13.89 12.11-10.45 12.38-7.08 12.65-3.71 12.65-0.63L12.65-0.63Q12.65-0.2 12.38-0.02 12.11 0.15 11.74 0.2 11.38 0.24 10.99 0.17 10.6 0.1 10.3 0L10.3 0Q10.16-0.63 10.01-2.2 9.86-3.76 9.72-5.86 9.57-7.96 9.42-10.4 9.28-12.84 9.13-15.28 8.98-17.72 8.84-19.95 8.69-22.17 8.59-23.85 8.5-25.54 8.42-26.46 8.35-27.39 8.3-27.15L8.3-27.15ZM20.07-33.74L21.68-33.5 22.95-17.48Q23.29-17.77 23.83-18.36 24.36-18.95 25.1-19.46 25.83-19.97 26.71-20.34 27.59-20.7 28.61-20.65L28.61-20.65Q30.61-20.46 31.81-19.04 33.01-17.63 33.62-15.58 34.23-13.53 34.42-11.11 34.62-8.69 34.54-6.49 34.47-4.3 34.3-2.59 34.13-0.88 34.03-0.24L34.03-0.24 32.27-0.49Q32.27-0.93 32.3-1.88 32.32-2.83 32.37-4.13 32.42-5.42 32.42-6.84 32.42-8.25 32.44-9.5 32.47-10.74 32.44-11.72 32.42-12.7 32.37-13.09L32.37-13.09Q32.42-14.45 31.83-15.72 31.25-16.99 30.27-17.65 29.29-18.31 27.93-18.09 26.56-17.87 25-16.16L25-16.16Q23.63-14.11 23-12.13 22.36-10.16 22.17-8.23 21.97-6.3 22.02-4.27 22.07-2.25 22.02 0L22.02 0 20.11-0.29Q20.26-0.83 20.33-2.27 20.41-3.71 20.46-5.74 20.51-7.76 20.53-10.25 20.55-12.74 20.53-15.41 20.51-18.07 20.46-20.75 20.41-23.44 20.33-25.88 20.26-28.32 20.19-30.37 20.11-32.42 20.07-33.74L20.07-33.74ZM36.86-11.47L36.86-11.47Q36.86-12.94 37.5-14.72 38.13-16.5 39.23-18.04 40.33-19.58 41.72-20.63 43.11-21.68 44.62-21.68L44.62-21.68Q45.45-21.68 46.26-21.34 47.07-21 47.82-20.43 48.58-19.87 49.19-19.17 49.8-18.46 50.14-17.68 50.48-16.89 50.51-16.16 50.53-15.43 50.09-14.89L50.09-14.89 39.79-12.99Q39.59-12.94 39.45-12.52 39.3-12.11 39.2-11.47 39.11-10.84 39.03-10.08 38.96-9.33 38.91-8.62 38.86-7.91 38.86-7.35 38.86-6.79 38.86-6.49L38.86-6.49Q38.86-5.13 39.52-4.27 40.18-3.42 41.21-2.98 42.23-2.54 43.53-2.39 44.82-2.25 46.09-2.25 47.36-2.25 48.48-2.34 49.6-2.44 50.34-2.44L50.34-2.44Q50.34-2.25 50.19-2 50.04-1.76 49.85-1.54 49.65-1.32 49.46-1.15 49.26-0.98 49.21-0.93L49.21-0.93Q48.82-0.83 48.02-0.66 47.21-0.49 46.31-0.34 45.41-0.2 44.62-0.1 43.84 0 43.55 0L43.55 0Q42.04 0.29 40.91-0.05 39.79-0.39 39.01-1.22 38.23-2.05 37.74-3.25 37.25-4.44 37.01-5.81 36.76-7.18 36.74-8.64 36.71-10.11 36.86-11.47ZM43.94-19.82L43.94-19.82Q43.5-19.82 42.79-19.36 42.08-18.9 41.47-18.19 40.86-17.48 40.45-16.67 40.03-15.87 40.18-15.28L40.18-15.28Q41.45-15.14 42.82-15.33 44.18-15.53 45.31-15.94 46.43-16.36 47.16-16.92 47.9-17.48 47.87-18.07 47.85-18.65 46.94-19.12 46.04-19.58 43.94-19.82ZM93.06 0L74.31-29.05Q74.31-28.91 74.28-28.42 74.26-27.93 74.26-27.42 74.26-26.9 74.26-26.44 74.26-25.98 74.26-25.83L74.26-25.83Q74.26-22.66 74.4-19.48 74.55-16.31 74.75-13.11 74.94-9.91 75.09-6.69 75.23-3.47 75.23-0.24L75.23-0.24 73.48-0.34Q73.43-1.27 73.31-2.93 73.18-4.59 73.01-6.76 72.84-8.94 72.65-11.43 72.45-13.92 72.23-16.48 72.01-19.04 71.87-21.53 71.72-24.02 71.6-26.15 71.47-28.27 71.43-29.91 71.38-31.54 71.43-32.42L71.43-32.42Q71.43-33.01 71.87-33.4 72.3-33.79 72.89-33.79L72.89-33.79Q73.48-33.79 74.23-33.52 74.99-33.25 75.23-32.81L75.23-32.81 92.81-4.44Q92.81-6.69 92.69-9.28 92.57-11.87 92.47-14.6 92.37-17.33 92.35-20.09 92.32-22.85 92.45-25.46 92.57-28.08 92.93-30.42 93.3-32.76 93.98-34.67L93.98-34.67Q94.67-34.91 95.06-34.94 95.45-34.96 95.64-34.91 95.84-34.86 95.86-34.67 95.89-34.47 95.89-34.28L95.89-34.28Q95.89-34.18 95.89-33.98 95.89-33.79 95.89-33.74L95.89-33.74Q95.79-33.45 95.67-32.67 95.55-31.88 95.35-30.35 95.16-28.81 95.01-26.37 94.86-23.93 94.72-20.31 94.57-16.7 94.5-11.72 94.42-6.74 94.47-0.1L94.47-0.1 93.06 0ZM97.74-4.2L97.74-4.2Q97.74-6.98 99.28-8.25 100.82-9.52 103.31-9.52L103.31-9.52Q104.28-9.52 105.14-9.47 105.99-9.42 106.77-9.23 107.56-9.03 108.31-8.64 109.07-8.25 109.9-7.52L109.9-7.52Q109.9-7.67 109.92-8.13 109.95-8.59 109.95-9.13 109.95-9.67 109.95-10.13 109.95-10.6 109.95-10.79L109.95-10.79Q109.9-11.67 109.9-13.06 109.9-14.45 109.68-15.92 109.46-17.38 108.8-18.7 108.14-20.02 106.68-20.7L106.68-20.7Q105.65-20.7 104.77-20.36 103.89-20.02 103.01-19.63 102.14-19.24 101.26-18.92 100.38-18.6 99.35-18.6L99.35-18.6Q99.35-19.82 100.11-20.63 100.87-21.44 101.94-21.88 103.01-22.31 104.19-22.46 105.36-22.61 106.24-22.61L106.24-22.61Q107.12-22.46 107.87-22.27 108.63-22.07 109.29-21.48 109.95-20.9 110.51-19.7 111.07-18.51 111.49-16.36 111.9-14.21 112.22-10.91 112.54-7.62 112.73-2.83L112.73-2.83Q112.83-2.2 112.32-1.73 111.8-1.27 110.93-0.95 110.05-0.63 108.95-0.42 107.85-0.2 106.73-0.1 105.6 0 104.58 0.05 103.55 0.1 102.87 0.1L102.87 0.1Q101.99 0.1 101.09-0.2 100.18-0.49 99.43-1.05 98.67-1.61 98.21-2.42 97.74-3.22 97.74-4.2ZM104.09-7.62L104.09-7.62Q101.65-6.93 100.67-5.98 99.69-5.03 99.82-4.15 99.94-3.27 100.96-2.56 101.99-1.86 103.45-1.64 104.92-1.42 106.63-1.88 108.34-2.34 109.9-3.71L109.9-3.71Q109.31-5.13 108.73-5.88 108.14-6.64 107.46-7.03 106.77-7.42 105.94-7.52 105.11-7.62 104.09-7.62ZM120.64-17.72L120.64-17.72Q120.2-17.87 119.44-17.85 118.69-17.82 117.83-17.75 116.98-17.68 116.2-17.58 115.41-17.48 114.88-17.48L114.88-17.48Q114.63-17.48 114.56-18.19 114.49-18.9 114.34-20.12L114.34-20.12 121.23-20.61Q121.37-22.31 121.42-23.05 121.47-23.78 121.44-24.29 121.42-24.8 121.4-25.46 121.37-26.12 121.37-27.54L121.37-27.54Q122.64-27.73 123.3-27.66 123.96-27.59 124.2-27.29 124.45-27 124.42-26.44 124.4-25.88 124.28-25.05 124.15-24.22 124.08-23.05 124.01-21.88 124.15-20.41L124.15-20.41 130.01-20.61 130.01-18.21Q129.62-18.21 128.79-18.16 127.96-18.12 127.01-18.07 126.06-18.02 125.25-17.97 124.45-17.92 124.06-17.77L124.06-17.77Q123.67-16.02 123.23-14.01 122.79-12.01 122.64-10.06 122.49-8.11 122.74-6.42 122.98-4.74 123.96-3.64 124.94-2.54 126.74-2.12 128.55-1.71 131.53-2.39L131.53-2.39Q131.43-1.66 130.97-1.2 130.5-0.73 129.89-0.46 129.28-0.2 128.6-0.07 127.91 0.05 127.38 0.05L127.38 0.05Q124.89 0.05 123.42-0.85 121.96-1.76 121.23-3.22 120.49-4.69 120.3-6.57 120.1-8.45 120.18-10.4 120.25-12.35 120.44-14.26 120.64-16.16 120.64-17.72ZM133.19-18.95L133.19-18.95Q133.19-19.19 133.5-19.43 133.82-19.68 134.28-19.82 134.75-19.97 135.19-20.02 135.63-20.07 135.82-19.87L135.82-19.87Q136.12-13.82 136.97-10.23 137.82-6.64 138.92-4.98 140.02-3.32 141.29-3.3 142.56-3.27 143.78-4.37 145-5.47 146.05-7.37 147.1-9.28 147.76-11.47 148.42-13.67 148.57-15.87 148.71-18.07 148.18-19.78L148.18-19.78 151.11-20.12Q151.15-19.38 151.37-17.7 151.59-16.02 151.86-13.89 152.13-11.77 152.47-9.47 152.81-7.18 153.06-5.2 153.3-3.22 153.5-1.83 153.69-0.44 153.69-0.1L153.69-0.1 151.59-0.1 149.3-8.54Q148.62-6.84 147.64-5.27 146.66-3.71 145.51-2.54 144.37-1.37 143.1-0.71 141.83-0.05 140.58-0.17 139.34-0.29 138.17-1.32 136.99-2.34 135.99-4.57 134.99-6.79 134.26-10.3 133.53-13.82 133.19-18.95ZM155.25-19.04L155.25-19.04Q155.84-19.29 156.28-19.14 156.72-18.99 157.01-18.6 157.3-18.21 157.45-17.7 157.6-17.19 157.69-16.7L157.69-16.7Q158.33-17.77 159.53-18.43 160.72-19.09 162.09-19.31 163.46-19.53 164.82-19.41 166.19-19.29 167.14-18.82 168.1-18.36 168.49-17.55 168.88-16.75 168.29-15.67L168.29-15.67Q167.02-16.41 165.63-16.85 164.24-17.29 162.92-17.14 161.6-16.99 160.48-16.14 159.36-15.28 158.62-13.43 157.89-11.57 157.72-8.52 157.55-5.47 158.13-0.93L158.13-0.93 156.28-0.93Q156.28-0.93 156.21-1.73 156.13-2.54 156.06-3.86 155.99-5.18 155.86-6.79 155.74-8.4 155.64-10.06 155.55-11.72 155.47-13.26 155.4-14.79 155.3-15.92L155.3-15.92Q155.3-16.06 155.28-16.5 155.25-16.94 155.25-17.46 155.25-17.97 155.25-18.41 155.25-18.85 155.25-19.04ZM170.49-4.2L170.49-4.2Q170.49-6.98 172.02-8.25 173.56-9.52 176.05-9.52L176.05-9.52Q177.03-9.52 177.88-9.47 178.74-9.42 179.52-9.23 180.3-9.03 181.06-8.64 181.81-8.25 182.64-7.52L182.64-7.52Q182.64-7.67 182.67-8.13 182.69-8.59 182.69-9.13 182.69-9.67 182.69-10.13 182.69-10.6 182.69-10.79L182.69-10.79Q182.64-11.67 182.64-13.06 182.64-14.45 182.42-15.92 182.2-17.38 181.54-18.7 180.89-20.02 179.42-20.7L179.42-20.7Q178.4-20.7 177.52-20.36 176.64-20.02 175.76-19.63 174.88-19.24 174-18.92 173.12-18.6 172.1-18.6L172.1-18.6Q172.1-19.82 172.85-20.63 173.61-21.44 174.68-21.88 175.76-22.31 176.93-22.46 178.1-22.61 178.98-22.61L178.98-22.61Q179.86-22.46 180.62-22.27 181.37-22.07 182.03-21.48 182.69-20.9 183.25-19.7 183.82-18.51 184.23-16.36 184.65-14.21 184.96-10.91 185.28-7.62 185.48-2.83L185.48-2.83Q185.57-2.2 185.06-1.73 184.55-1.27 183.67-0.95 182.79-0.63 181.69-0.42 180.59-0.2 179.47-0.1 178.35 0 177.32 0.05 176.3 0.1 175.61 0.1L175.61 0.1Q174.73 0.1 173.83-0.2 172.93-0.49 172.17-1.05 171.41-1.61 170.95-2.42 170.49-3.22 170.49-4.2ZM176.83-7.62L176.83-7.62Q174.39-6.93 173.42-5.98 172.44-5.03 172.56-4.15 172.68-3.27 173.71-2.56 174.73-1.86 176.2-1.64 177.66-1.42 179.37-1.88 181.08-2.34 182.64-3.71L182.64-3.71Q182.06-5.13 181.47-5.88 180.89-6.64 180.2-7.03 179.52-7.42 178.69-7.52 177.86-7.62 176.83-7.62ZM188.6-37.94L188.6-37.94Q189.28-37.84 189.79-37.57 190.31-37.3 190.6-36.62L190.6-36.62Q190.6-35.69 190.67-34.06 190.75-32.42 190.82-30.27 190.89-28.13 190.99-25.63 191.09-23.14 191.19-20.61 191.28-18.07 191.36-15.58 191.43-13.09 191.5-10.94 191.58-8.79 191.63-7.13 191.67-5.47 191.72-4.59L191.72-4.59Q191.72-4.49 191.7-4.25 191.67-4 191.65-3.66 191.63-3.32 191.6-3 191.58-2.69 191.58-2.54L191.58-2.54Q191.53-2.25 191.53-1.83 191.53-1.42 191.43-1.03 191.33-0.63 191.11-0.32 190.89 0 190.4 0.05L190.4 0.05 189.57-0.98Q189.53-1.03 189.45-2.81 189.38-4.59 189.26-7.45 189.14-10.3 189.04-13.89 188.94-17.48 188.82-21.14 188.7-24.8 188.6-28.17 188.5-31.54 188.45-33.98L188.45-33.98Q188.45-34.18 188.48-34.77 188.5-35.35 188.52-35.96 188.55-36.57 188.57-37.13 188.6-37.7 188.6-37.94ZM226.58-17.58L226.58-17.58Q226.43-17.04 226.12-15.87 225.8-14.7 225.39-13.23 224.97-11.77 224.51-10.16 224.04-8.54 223.6-7.08 223.16-5.62 222.82-4.47 222.48-3.32 222.33-2.83L222.33-2.83Q222.24-2.34 222.04-1.78 221.85-1.22 221.6-0.93 221.36-0.63 221.06-0.78 220.77-0.93 220.48-1.86L220.48-1.86 212.96-35.64Q213.1-35.64 213.45-35.72 213.79-35.79 213.93-35.79L213.93-35.79Q214.91-35.79 215.23-35.38 215.55-34.96 215.79-33.74L215.79-33.74 221.41-8.4 225.17-20.61Q225.36-21.19 225.73-21.39 226.09-21.58 226.58-21.58L226.58-21.58Q226.97-21.19 227.7-20.14 228.44-19.09 229.29-17.7 230.15-16.31 231.07-14.72 232-13.13 232.86-11.72 233.71-10.3 234.39-9.16 235.08-8.01 235.47-7.52L235.47-7.52Q235.61-7.28 235.98-6.86 236.35-6.45 236.79-6.01 237.23-5.57 237.67-5.18 238.1-4.79 238.3-4.69L238.3-4.69Q238.25-6.3 238.15-8.52 238.06-10.74 237.96-13.33 237.86-15.92 237.84-18.73 237.81-21.53 237.93-24.29 238.06-27.05 238.35-29.61 238.64-32.18 239.13-34.33L239.13-34.33Q239.23-34.67 239.4-34.84 239.57-35.01 239.79-35.06 240.01-35.11 240.38-35.08 240.74-35.06 241.18-35.06L241.18-35.06Q241.18-34.52 241.13-33.76 241.08-33.01 240.99-31.62 240.89-30.22 240.79-27.88 240.69-25.54 240.57-21.83 240.45-18.12 240.35-12.77 240.25-7.42 240.16 0L240.16 0Q238.06-1.66 236.25-3.71 234.44-5.76 232.83-8.08 231.22-10.4 229.68-12.82 228.14-15.23 226.58-17.58ZM243.18-4.2L243.18-4.2Q243.18-6.98 244.72-8.25 246.26-9.52 248.75-9.52L248.75-9.52Q249.72-9.52 250.58-9.47 251.43-9.42 252.21-9.23 252.99-9.03 253.75-8.64 254.51-8.25 255.34-7.52L255.34-7.52Q255.34-7.67 255.36-8.13 255.39-8.59 255.39-9.13 255.39-9.67 255.39-10.13 255.39-10.6 255.39-10.79L255.39-10.79Q255.34-11.67 255.34-13.06 255.34-14.45 255.12-15.92 254.9-17.38 254.24-18.7 253.58-20.02 252.12-20.7L252.12-20.7Q251.09-20.7 250.21-20.36 249.33-20.02 248.45-19.63 247.57-19.24 246.7-18.92 245.82-18.6 244.79-18.6L244.79-18.6Q244.79-19.82 245.55-20.63 246.31-21.44 247.38-21.88 248.45-22.31 249.63-22.46 250.8-22.61 251.68-22.61L251.68-22.61Q252.56-22.46 253.31-22.27 254.07-22.07 254.73-21.48 255.39-20.9 255.95-19.7 256.51-18.51 256.93-16.36 257.34-14.21 257.66-10.91 257.98-7.62 258.17-2.83L258.17-2.83Q258.27-2.2 257.76-1.73 257.24-1.27 256.36-0.95 255.49-0.63 254.39-0.42 253.29-0.2 252.16-0.1 251.04 0 250.02 0.05 248.99 0.1 248.31 0.1L248.31 0.1Q247.43 0.1 246.53-0.2 245.62-0.49 244.86-1.05 244.11-1.61 243.64-2.42 243.18-3.22 243.18-4.2ZM249.53-7.62L249.53-7.62Q247.09-6.93 246.11-5.98 245.13-5.03 245.26-4.15 245.38-3.27 246.4-2.56 247.43-1.86 248.89-1.64 250.36-1.42 252.07-1.88 253.78-2.34 255.34-3.71L255.34-3.71Q254.75-5.13 254.17-5.88 253.58-6.64 252.9-7.03 252.21-7.42 251.38-7.52 250.55-7.62 249.53-7.62ZM271.79 20.17L269.59 20.02Q269.59 17.58 270.03 14.99 270.47 12.4 270.94 9.81 271.4 7.23 271.72 4.64 272.04 2.05 271.79-0.44L271.79-0.44 259.63-21.04Q260.71-22.02 261.34-22.14 261.98-22.27 262.07-22.17L262.07-22.17Q262.42-21.68 263.22-20.36 264.03-19.04 265.08-17.29 266.13-15.53 267.3-13.57 268.47-11.62 269.52-9.86 270.57-8.11 271.33-6.74 272.08-5.37 272.38-4.83L272.38-4.83 274.62-22.95 277.06-21.73 271.79 20.17Z","opacity","1","transform","matrix(1,0,0,1,0,0)","fill","var(--mainWhiteColor)","data-fill-palette-color","primary","id","text-0",1,"wordmark-text-0"],["transform","matrix(1,0,0,1,97.29977228662983,0)"],["viewBox","0 0 200.92045542674032 200.92045542674032","height","200.92045542674032","width","200.92045542674032"],["id","icon-0"],["d","M0 100.46c0-55.483 44.978-100.46 100.46-100.46 55.483 0 100.46 44.978 100.46 100.46 0 55.483-44.978 100.46-100.46 100.46-55.483 0-100.46-44.978-100.46-100.46zM100.46 193.437c51.35 0 92.977-41.627 92.977-92.977 0-51.35-41.627-92.977-92.977-92.977-51.35 0-92.977 41.627-92.977 92.977 0 51.35 41.627 92.977 92.977 92.977z","data-fill-palette-color","accent","fill","var(--mainWhiteColor)","stroke","transparent"],["rx","99.45562543623646","ry","99.45562543623646","cx","100.46022771337016","cy","100.46022771337016","fill","var(--mainWhiteColor)","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,43.57436241056036,43.35758026693677)"],["viewBox","0 0 113.7717306056196 114.20529489286677","height","114.20529489286677","width","113.7717306056196"],["xmlns","http://www.w3.org/2000/svg","data-name","Layer 1","viewBox","1.190000057220459 1.002901315689087 97.62506866455078 97.99710083007812","x","0","y","0","height","114.20529489286677","width","113.7717306056196","data-fill-palette-color","quaternary","id","b-0",1,"icon-b-0"],["d","M79.28 26.63a0.3 0.3 0 0 0 0-0.07 0.28 0.28 0 0 0-0.48-0.19l-7 7a20.24 20.24 0 0 0-6 13v1.87a37.5 37.5 0 0 1 1.67 5.15H54.79a32.9 32.9 0 0 0-5.43-15.13 26.9 26.9 0 0 1-7.74 5.77 22.2 22.2 0 0 1-6.34 2.06c-9.9 1.51-22.3-5-28.35-41.61a1.86 1.86 0 0 1 1.55-2.05c47.44-6.69 50.2 11.7 47.85 22.85a51.5 51.5 0 0 0-19.69-6.14h-0.11a0.43 0.43 0 0 0-0.18 0.76l11.58 8.5 5.84 4.31a37.3 37.3 0 0 1 6.08 5.85 24.8 24.8 0 0 1 5-6.15 17.7 17.7 0 0 1-2.54-5 14.8 14.8 0 0 1-0.65-4.41c0-6.65 5.53-14.14 30.18-14.44a1.23 1.23 0 0 1 1.24 1.23c-0.38 31.82-12.74 31.78-19.82 29.12a34.2 34.2 0 0 0 6.02-12.28M28.65 93h34.63a16.16 16.16 0 0 0 12.18-5.54l21.68-24.79a6.79 6.79 0 0 0-0.79-9.7 6.55 6.55 0 0 0-4.2-1.49 7.24 7.24 0 0 0-5.38 2.43l-10.2 11.35v0.16a11.85 11.85 0 0 1-11.89 11.26H52.21a2.54 2.54 0 1 1 0-5.08h12.47a6.72 6.72 0 0 0 6.81-6.34A6.54 6.54 0 0 0 65 58.52H44.19l-3.37-1.18a23.42 23.42 0 0 0-24.26 5.49L1.19 78.1 22.64 99Z","fill","var(--textColor)","data-fill-palette-color","quaternary"],["width","302.6252517497624","height","247.2","fill","none","stroke","none","visibility","hidden"],[1,"main-long"],[1,"wrapper-list"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"]],template:function(h,m){if(1&h&&(u.YNc(0,tt,41,0,"div",0),u.YNc(1,It,8,1,"ng-template",null,1,u.W1O)),2&h){const T=u.MAs(2);u.Q6J("ngIf",!m.result)("ngIfElse",T)}},dependencies:[le.sg,le.O5,ae.rH],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:20px;margin-bottom:100px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 461px) and (max-width: 767px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return l})();const zn=(l,f)=>(0,u.f3M)(Ne.K).userData$.pipe((0,we.w)(h=>(0,fe.of)(!h)),(0,de.U)(h=>!!h||(window.alert("You are already logged in. Please log out to access this functionality."),!1))),$=[{path:"",pathMatch:"full",component:(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-carousel"]],decls:24,vars:0,consts:[["id","carouselExampleAutoplaying","data-bs-ride","carousel",1,"carousel","slide"],[1,"overlay"],[1,"info"],[1,"carousel-title"],[1,"subtitle"],["routerLink","/recipes-list",1,"infoBtn"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://www.aveeno.com/sites/aveeno_us_2/files/healingherbswithmortaran_687349.jpg","alt","...",1,"carousel-img","d-block","w-100"],[1,"carousel-item"],["src","https://imgix-prod.sgs.com/-/media/sgscorp/images/connectivity-and-products/aromatics-pexels.cdn.en-MU.1.jpg","alt","...",1,"carousel-img","d-block","w-100"],["src","https://images.pexels.com/photos/1793035/pexels-photo-1793035.jpeg","alt","...",1,"carousel-img","d-block","w-100"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(h,m){1&h&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),u._uU(4,"Welcome to our Healing Herbal Recipe Community!"),u.qZA(),u.TgZ(5,"div",4),u._uU(6," Explore a wealth of new herbal recipes designed for healing right here. Upon registration, you'll gain access to not only adding your favorite healing recipes but also rating and commenting on the ones that resonate with you. Join us in nurturing wellness through the power of herbal remedies! "),u.qZA(),u.TgZ(7,"a",5),u._uU(8,"READ MORE"),u.qZA()()(),u.TgZ(9,"div",6)(10,"div",7),u._UZ(11,"img",8),u.qZA(),u.TgZ(12,"div",9),u._UZ(13,"img",10),u.qZA(),u.TgZ(14,"div",9),u._UZ(15,"img",11),u.qZA()(),u.TgZ(16,"button",12),u._UZ(17,"span",13),u.TgZ(18,"span",14),u._uU(19,"Previous"),u.qZA()(),u.TgZ(20,"button",15),u._UZ(21,"span",16),u.TgZ(22,"span",14),u._uU(23,"Next"),u.qZA()()())},dependencies:[ae.rH],styles:[".carousel[_ngcontent-%COMP%]{max-height:93vh;overflow:hidden}.carousel-img[_ngcontent-%COMP%]{height:100vh;object-fit:cover}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{z-index:9}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0 50% 0 0;background-color:#a7575ee6;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:47%;right:10%;top:40%;transform:translate(2%,-27%);color:var(--mainWhiteColor);text-align:left}.carousel-title[_ngcontent-%COMP%]{font-size:32px;padding-bottom:20px;font-weight:900;line-height:35px;color:var(--backgroundColor);text-align:left;box-shadow:unset}.subtitle[_ngcontent-%COMP%]{font-style:italic;color:var(--backgroundColor)}.infoBtn[_ngcontent-%COMP%]{background-color:var(--backgroundColor);color:var(--textColor);padding:13px 35px;font-size:14px;margin-top:40px;display:inline-block;font-weight:700;font-family:Roboto,sans-serif;border:1px solid transparent}.infoBtn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:transparent;border:1px solid var(--backgroundColor);color:var(--mainWhiteColor)}@media (max-width: 460px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#a7575e99;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.infoBtn[_ngcontent-%COMP%]{margin-top:10px}.carousel-title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900;text-align:center}}@media (min-width: 461px) and (max-width: 767px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#a7575e99;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.infoBtn[_ngcontent-%COMP%]{margin-top:10px}.carousel-title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900}}@media (min-width: 768px) and (max-width: 1023px){.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor)}}"]})}return l})()},{path:"register",component:Ge,canActivate:[zn]},{path:"login",component:$n,canActivate:[zn]},{path:"forgot-password",component:(()=>{class l{constructor(o){this.userService=o}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(Ne.K))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-forgot-password"]],decls:19,vars:0,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper",2,"flex-direction","column"],[1,"title"],[1,"hint"],[1,"formGroup"],["type","email","placeholder","Email","required","",1,"formControl"],["passwordResetEmail",""],[1,"errors"],[1,"buttons"],["type","submit","value","Send email",1,"button",3,"click"],["href","#","routerLink","/login"]],template:function(h,m){if(1&h){const T=u.EpF();u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Forgotten password"),u.qZA()(),u.TgZ(7,"p",6),u._uU(8," Please enter your email address so we can send you a password reset email. "),u.qZA(),u.TgZ(9,"div",7),u._UZ(10,"input",8,9),u.qZA(),u.TgZ(12,"p",10),u._uU(13," If you can't find the email, please check your spam folder! "),u.qZA(),u.TgZ(14,"div",11)(15,"input",12),u.NdJ("click",function(){u.CHM(T);const J=u.MAs(11);return u.KtG(m.userService.forgotPassword(J.value))}),u.qZA(),u.TgZ(16,"a",13)(17,"div",6),u._uU(18,"Return to Login"),u.qZA()()()()()()}},dependencies:[ae.rH],styles:[".form-wrapper[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.wrapper[_ngcontent-%COMP%]{padding:0 5%;max-width:600px;margin:0 auto}"]})}return l})()},{path:"recipes-list",component:Ye},{path:"recipe-search",component:qt},{path:"recipe/:id",component:hi},{path:"about",component:(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-about-us"]],decls:22,vars:0,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],[2,"color","var(--mainGreyColor)"]],template:function(h,m){1&h&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"About Us"),u.qZA()(),u.TgZ(7,"div",6)(8,"p"),u._uU(9,"Welcome to our Healing Herbal Recipe Community!"),u.qZA(),u.TgZ(10,"p"),u._uU(11," Hello and welcome to our cozy corner dedicated to the power of herbs for health and well-being! We are passionate enthusiasts of herbal healing recipes and have decided to create this space where people from all over the world can come together to share their knowledge, experience, and love for herbal remedies. "),u.qZA(),u.TgZ(12,"p"),u._uU(13," We believe in the healing power of nature and strive to provide our users with a wealth of resources and inspiring ideas to improve their health and well-being. Our mission is to create a space where people can find recipes and support from the community to feel healthier and stronger. "),u.qZA(),u.TgZ(14,"p"),u._uU(15," Join us today and become part of our Healing Herbal Recipe Community! Together, we can achieve good heath and well-being through the power of nature and community. "),u.qZA(),u.TgZ(16,"p"),u._uU(17," Thank you for choosing to be part of our journey towards health and harmony! "),u.qZA(),u.TgZ(18,"p"),u._uU(19,"With love and gratitude,"),u.qZA(),u.TgZ(20,"p"),u._uU(21,"The Natural Way Team"),u.qZA()()()()())}})}return l})()},{path:"privacy-policy",component:(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-privacy-policy"]],decls:46,vars:0,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],[2,"color","var(--mainGreyColor)"],[2,"font-style","italic"],["routerLink","/contact"]],template:function(h,m){1&h&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Privacy Policy"),u.qZA()(),u.TgZ(7,"div",6)(8,"p",7),u._uU(9,"Last updated: 29.03.2024"),u.qZA(),u.TgZ(10,"p"),u._uU(11,' Welcome to the Privacy Policy of "The Natural Way". Our Privacy Policy explains how we collect, use, and disclose the personal information we receive from visitors to our Website. '),u.qZA(),u.TgZ(12,"h5"),u._uU(13,"1. Collection of Information"),u.qZA(),u.TgZ(14,"p"),u._uU(15," When you visit the Website, we may collect certain information from and about you. This information may include, but is not limited to: "),u.TgZ(16,"span",7),u._uU(17," Personal data such as names, email addresses, mailing addresses, etc., that you voluntarily provide to us through contact forms or account registration. Information about your computer, including IP address, browser type, operating system, and similar data for trend analysis, Website management, and protection against abuse. "),u.qZA()(),u.TgZ(18,"h5"),u._uU(19,"2. Use of Information"),u.qZA(),u.TgZ(20,"p"),u._uU(21," We use the collected information to provide and improve the Website, interact with users, analyze trends, and provide personalized content and advertisements. "),u.qZA(),u.TgZ(22,"h5"),u._uU(23,"3. Disclosure of Information"),u.qZA(),u.TgZ(24,"p"),u._uU(25," We may disclose personal information to our partners, service providers, and other third parties when necessary to provide services and perform tasks related to Website management. "),u.qZA(),u.TgZ(26,"h5"),u._uU(27,"4. Cookies and Similar Technologies"),u.qZA(),u.TgZ(28,"p"),u._uU(29," Our Cookie Policy explains how we use cookies and similar technologies that may be used on our Website. "),u.qZA(),u.TgZ(30,"h5"),u._uU(31,"5. Changes to the Privacy Policy"),u.qZA(),u.TgZ(32,"p"),u._uU(33," We may update this Privacy Policy from time to time. Any changes to this Privacy Policy will be posted on this page. "),u.qZA(),u.TgZ(34,"h5"),u._uU(35,"6. Linked Services and Websites"),u.qZA(),u.TgZ(36,"p"),u._uU(37," The Website may contain links to other websites and services that are not under our control. We are not responsible for the content and practices of these websites, and we encourage you to review the privacy policies of each website you visit. "),u.qZA(),u.TgZ(38,"h5"),u._uU(39,"7. Contact Information"),u.qZA(),u.TgZ(40,"p"),u._uU(41," For additional information regarding our Privacy Policy, please contact us at "),u.TgZ(42,"span")(43,"a",8),u._uU(44,"Contact Us"),u.qZA(),u._uU(45," page. "),u.qZA()()()()()())},dependencies:[ae.rH]})}return l})()},{path:"contact",component:(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-contact-us"]],decls:28,vars:0,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],[2,"color","var(--mainGreyColor)"],["href","mailto:andon.ov@yahoo.com"]],template:function(h,m){1&h&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Contact Us"),u.qZA()(),u.TgZ(7,"div",6)(8,"p"),u._uU(9," For any inquiries or questions, please feel free to contact us. We're here to help! "),u.qZA(),u.TgZ(10,"div")(11,"p")(12,"strong"),u._uU(13,"Address:"),u.qZA(),u._uU(14," San Stefano , Burgas, Bulgaria"),u.qZA(),u.TgZ(15,"p")(16,"strong"),u._uU(17,"Phone:"),u.qZA(),u._uU(18," +359 885 996789"),u.qZA(),u.TgZ(19,"p")(20,"strong"),u._uU(21,"Email:"),u.qZA(),u.TgZ(22,"a",7),u._uU(23," Andon.ov@yahoo.com"),u.qZA()()(),u._UZ(24,"hr"),u.TgZ(25,"div")(26,"p"),u._uU(27," This project was developed to meet the requirements of the Angular Project Assignment within the 'Angular - February 2024' course at SoftUni. "),u.qZA()()()()()())}})}return l})()},{path:"dashboard",loadChildren:()=>K.e(893).then(K.bind(K,1893)).then(l=>l.PrivateModule),canActivate:[(l,f)=>{const o=(0,u.f3M)(Ne.K),h=(0,u.f3M)(ae.F0);return o.userData$.pipe((0,we.w)(m=>(0,fe.of)(!!m&&m.isActive)),(0,de.U)(m=>!!m||(alert("Not authorized"),console.log("Not authorized"),h.createUrlTree(["/login"],{queryParams:{returnUrl:f.url}}))))}]}];let be=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({imports:[ae.Bz.forRoot($,{useHash:!0}),ae.Bz]})}return l})(),We=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-footer"]],decls:20,vars:0,consts:[[1,"footer"],[1,"footer-links"],["routerLink","/about"],["routerLink","/contact"],["routerLink","/privacy-policy"],[1,"social-icons"],["href","https://github.com/andon-ov","target","_blank"],[1,"fa-brands","fa-github","fa-flip"],["href","https://linkedin.com/in/andon-ov","target","_blank"],[1,"fa-brands","fa-linkedin","fa-flip"],[1,"copyright"],[1,"projectInfo"]],template:function(h,m){1&h&&(u.TgZ(0,"footer",0)(1,"div",1)(2,"a",2),u._uU(3,"About Us"),u.qZA(),u._uU(4," | "),u.TgZ(5,"a",3),u._uU(6,"Contact Us"),u.qZA(),u._uU(7," | "),u.TgZ(8,"a",4),u._uU(9,"Privacy Policy"),u.qZA()(),u.TgZ(10,"div",5)(11,"a",6),u._UZ(12,"i",7),u.qZA(),u.TgZ(13,"a",8),u._UZ(14,"i",9),u.qZA()(),u.TgZ(15,"div",10)(16,"div",11),u._uU(17," This project was developed to meet the requirements of the Angular Project Assignment within the 'Angular - February 2024' course at SoftUni. "),u.qZA(),u.TgZ(18,"span"),u._uU(19," \xa9 2024 The Natural Way. All Rights Reserved. "),u.qZA()()())},dependencies:[ae.rH],styles:[".footer[_ngcontent-%COMP%]{background-color:var(--aliceBlueColor);padding:20px;color:#333;font-size:14px;text-align:center}.footer-links[_ngcontent-%COMP%]{padding:20px 0}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none;margin:0 10px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--mainBlackColor)}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none;margin:0 10px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--textColor)}.copyright[_ngcontent-%COMP%]{margin-top:20px;font-size:12px;color:#999}.projectInfo[_ngcontent-%COMP%]{margin-bottom:10px}"]})}return l})();var Tt=K(5619);class tn{}class ln{}const pn="*";function Kt(l,f){return{type:7,name:l,definitions:f,options:{}}}function Fn(l,f=null){return{type:4,styles:f,timings:l}}function ir(l,f=null){return{type:2,steps:l,options:f}}function ss(l){return{type:6,styles:l,offset:null}}function Co(l,f,o){return{type:0,name:l,styles:f,options:o}}function Qo(l,f,o=null){return{type:1,expr:l,animation:f,options:o}}class Si{constructor(f=0,o=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=f+o}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}onStart(f){this._originalOnStartFns.push(f),this._onStartFns.push(f)}onDone(f){this._originalOnDoneFns.push(f),this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(f=>f()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(f){this._position=this.totalTime?f*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(f){const o="start"==f?this._onStartFns:this._onDoneFns;o.forEach(h=>h()),o.length=0}}class sr{constructor(f){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=f;let o=0,h=0,m=0;const T=this.players.length;0==T?queueMicrotask(()=>this._onFinish()):this.players.forEach(k=>{k.onDone(()=>{++o==T&&this._onFinish()}),k.onDestroy(()=>{++h==T&&this._onDestroy()}),k.onStart(()=>{++m==T&&this._onStart()})}),this.totalTime=this.players.reduce((k,J)=>Math.max(k,J.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this.players.forEach(f=>f.init())}onStart(f){this._onStartFns.push(f)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(f=>f()),this._onStartFns=[])}onDone(f){this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(f=>f.play())}pause(){this.players.forEach(f=>f.pause())}restart(){this.players.forEach(f=>f.restart())}finish(){this._onFinish(),this.players.forEach(f=>f.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(f=>f.destroy()),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}reset(){this.players.forEach(f=>f.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(f){const o=f*this.totalTime;this.players.forEach(h=>{const m=h.totalTime?Math.min(1,o/h.totalTime):1;h.setPosition(m)})}getPosition(){const f=this.players.reduce((o,h)=>null===o||h.totalTime>o.totalTime?h:o,null);return null!=f?f.getPosition():0}beforeDestroy(){this.players.forEach(f=>{f.beforeDestroy&&f.beforeDestroy()})}triggerCallback(f){const o="start"==f?this._onStartFns:this._onDoneFns;o.forEach(h=>h()),o.length=0}}let co=(()=>{class l{constructor(o,h){this.el=o,this.renderer=h}ngOnInit(){this.checkWidth()}onResize(){this.checkWidth()}checkWidth(){window.innerWidth<992?(this.renderer.addClass(this.el.nativeElement,"button"),this.renderer.addClass(this.el.nativeElement,"nav-btn"),this.renderer.addClass(this.el.nativeElement,"nav-link"),this.renderer.removeClass(this.el.nativeElement,"navigation")):(this.renderer.removeClass(this.el.nativeElement,"button"),this.renderer.removeClass(this.el.nativeElement,"nav-link"),this.renderer.removeClass(this.el.nativeElement,"nav-btn"),this.renderer.addClass(this.el.nativeElement,"navigation"))}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(u.SBq),u.Y36(u.Qsj))};static#t=this.\u0275dir=u.lG2({type:l,selectors:[["","appResponsiveClass",""]],hostBindings:function(h,m){1&h&&u.NdJ("resize",function(){return m.onResize()},!1,u.Jf7)}})}return l})();function So(l,f){1&l&&(u.TgZ(0,"li",19)(1,"a",20),u._UZ(2,"i",27),u.qZA(),u.TgZ(3,"ul",28)(4,"li")(5,"a",29),u._uU(6,"Register"),u.qZA()(),u.TgZ(7,"li")(8,"a",30),u._uU(9,"Login"),u.qZA()()()())}function Jo(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"li",19)(1,"a",20)(2,"span"),u._uU(3),u.qZA()(),u.TgZ(4,"ul",28)(5,"li")(6,"a",31),u._uU(7,"My recipes"),u.qZA()(),u.TgZ(8,"li")(9,"a",32),u._uU(10,"Create recipe"),u.qZA()(),u.TgZ(11,"li")(12,"a",33),u._uU(13,"Favorite recipes"),u.qZA()(),u.TgZ(14,"li")(15,"a",34),u._uU(16,"My comments"),u.qZA()(),u.TgZ(17,"li")(18,"a",35),u._uU(19,"Profile"),u.qZA()(),u.TgZ(20,"li")(21,"a",36),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.logout())}),u._uU(22,"Logout"),u.qZA()()()()}if(2&l){const o=u.oxw();u.xp6(3),u.Oqu(o.getUserDisplayName())}}function ks(l,f){1&l&&(u.TgZ(0,"div",38),u._uU(1," What are you searching for? "),u.qZA())}function Zs(l,f){1&l&&(u.TgZ(0,"div",38),u._uU(1," Min length is a 3 char! "),u.qZA())}function ci(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,ks,2,0,"div",37),u.YNc(2,Zs,2,0,"div",37),u.qZA()),2&l){const o=u.oxw();let h,m;u.xp6(1),u.Q6J("ngIf",null==(h=o.searchForm.get("search"))||null==h.errors?null:h.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.searchForm.get("search"))||null==m.errors?null:m.errors.minlength)}}let Ks=(()=>{class l{constructor(o,h,m,T){this.userService=o,this.router=h,this.fb=m,this.elementRef=T,this.state="normal",this.searchForm=this.fb.group({search:[""]}),this.isMenuOpen=!1,this.userDataSubject=new Tt.X(null),this.userDataSubscription=this.userDataSubject.subscribe(k=>{this.userData=k,console.log(this.userData)})}onMouseOver(){this.state="hovered"}onMouseOut(){this.state="normal"}ngOnInit(){this.userService.userData$.subscribe({next:o=>{o?(this.userDataSubject.next(o),console.log("You have a user:",o)):(this.userDataSubject.next(null),console.log("You have no user."))},error:o=>{console.log(o)}}),this.router.events.subscribe(o=>{if(o instanceof ae.m2){const h=this.elementRef.nativeElement.querySelector("#navbarScroll");h&&h.classList.remove("show")}})}onSubmit(){var o=this;return(0,Ee.Z)(function*(){if(o.searchForm.valid){let h=o.searchForm.value;h&&h.search?(yield o.router.navigate(["/recipe-search"],{queryParams:{search:h.search.trim()}}),o.searchForm.reset()):console.error("Query search value is null or undefined.")}else alert("Try again!")})()}ngOnDestroy(){this.userDataSubscription&&this.userDataSubscription.unsubscribe()}logout(){var o=this;return(0,Ee.Z)(function*(){yield o.userService.logoutUser()})()}getUserDisplayName(){return this.userData?this.userData.lastName:"Anonymous"}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(Ne.K),u.Y36(ae.F0),u.Y36(re.qu),u.Y36(u.SBq))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-header"]],decls:34,vars:5,consts:[[1,"navbar","navbar-dark","navbar-expand-lg"],[1,"container-fluid"],[1,"header-wrapper"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","hamburger",3,"mouseover","mouseout"],[1,"fa-solid","fa-bars","fa-beat-fade"],["href","#",1,"navbar-brand"],["viewBox","0 0 200.92045542674032 200.92045542674032","height","50","width","50",1,"svg-logo"],["d","M0 100.46c0-55.483 44.978-100.46 100.46-100.46 55.483 0 100.46 44.978 100.46 100.46 0 55.483-44.978 100.46-100.46 100.46-55.483 0-100.46-44.978-100.46-100.46zM100.46 193.437c51.35 0 92.977-41.627 92.977-92.977 0-51.35-41.627-92.977-92.977-92.977-51.35 0-92.977 41.627-92.977 92.977 0 51.35 41.627 92.977 92.977 92.977z","data-fill-palette-color","accent","fill","var(--aliceBlueColor)","stroke","transparent"],["rx","99.45562543623646","ry","99.45562543623646","cx","100.46022771337016","cy","100.46022771337016","fill","var(--mainRGBAColor)","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,43.57436241056036,43.35758026693677)"],["viewBox","0 0 113.7717306056196 114.20529489286677","height","114.20529489286677","width","113.7717306056196"],["xmlns","http://www.w3.org/2000/svg","data-name","Layer 1","viewBox","1.190000057220459 1.002901315689087 97.62506866455078 97.99710083007812","x","0","y","0","height","114.20529489286677","width","113.7717306056196","data-fill-palette-color","quaternary","id","b-0",1,"icon-b-0"],["d","M79.28 26.63a0.3 0.3 0 0 0 0-0.07 0.28 0.28 0 0 0-0.48-0.19l-7 7a20.24 20.24 0 0 0-6 13v1.87a37.5 37.5 0 0 1 1.67 5.15H54.79a32.9 32.9 0 0 0-5.43-15.13 26.9 26.9 0 0 1-7.74 5.77 22.2 22.2 0 0 1-6.34 2.06c-9.9 1.51-22.3-5-28.35-41.61a1.86 1.86 0 0 1 1.55-2.05c47.44-6.69 50.2 11.7 47.85 22.85a51.5 51.5 0 0 0-19.69-6.14h-0.11a0.43 0.43 0 0 0-0.18 0.76l11.58 8.5 5.84 4.31a37.3 37.3 0 0 1 6.08 5.85 24.8 24.8 0 0 1 5-6.15 17.7 17.7 0 0 1-2.54-5 14.8 14.8 0 0 1-0.65-4.41c0-6.65 5.53-14.14 30.18-14.44a1.23 1.23 0 0 1 1.24 1.23c-0.38 31.82-12.74 31.78-19.82 29.12a34.2 34.2 0 0 0 6.02-12.28M28.65 93h34.63a16.16 16.16 0 0 0 12.18-5.54l21.68-24.79a6.79 6.79 0 0 0-0.79-9.7 6.55 6.55 0 0 0-4.2-1.49 7.24 7.24 0 0 0-5.38 2.43l-10.2 11.35v0.16a11.85 11.85 0 0 1-11.89 11.26H52.21a2.54 2.54 0 1 1 0-5.08h12.47a6.72 6.72 0 0 0 6.81-6.34A6.54 6.54 0 0 0 65 58.52H44.19l-3.37-1.18a23.42 23.42 0 0 0-24.26 5.49L1.19 78.1 22.64 99Z","fill","var(--aliceBlueColor)","data-fill-palette-color","quaternary"],[1,"logoText"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","my-2","my-lg-0","navbar-nav-scroll"],[1,"nav-item"],["appResponsiveClass","","routerLink","/recipes-list","href","#","role","button","aria-expanded","false",1,"navigation"],["class","nav-item dropdown",4,"ngIf"],[1,"nav-item","dropdown"],["appResponsiveClass","","href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle"],[1,"fa-solid","fa-magnifying-glass"],[1,"dropdown-menu","search"],["role","search",1,"d-flex","w-100",3,"formGroup","ngSubmit"],["type","search","aria-label","Search","formControlName","search","required","","minlength","3",1,"form-control","me-2"],[4,"ngIf"],["type","submit",1,"search","button"],[1,"fa-solid","fa-user"],[1,"dropdown-menu"],["routerLink","/register",1,"dropdown-item"],["routerLink","/login",1,"dropdown-item"],["routerLink","/dashboard/user-recipes","href","#",1,"dropdown-item"],["routerLink","/dashboard/recipe-create",1,"dropdown-item"],["routerLink","/dashboard/user-favorite-recipes","href","#",1,"dropdown-item"],["routerLink","/dashboard/user-comments","href","#",1,"dropdown-item"],["routerLink","/dashboard/user-info",1,"dropdown-item"],[1,"dropdown-item",3,"click"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(h,m){if(1&h&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"button",3),u.NdJ("mouseover",function(){return m.onMouseOver()})("mouseout",function(){return m.onMouseOut()}),u.TgZ(4,"span"),u._UZ(5,"i",4),u.qZA()(),u.TgZ(6,"a",5),u.O4$(),u.TgZ(7,"svg",6)(8,"g"),u._UZ(9,"path",7)(10,"ellipse",8),u.qZA(),u.TgZ(11,"g",9)(12,"svg",10)(13,"g")(14,"svg",11),u._UZ(15,"path",12),u.qZA()()()()(),u.kcU(),u.TgZ(16,"span",13),u._uU(17," The Natural Way "),u.qZA()()(),u.TgZ(18,"div",14)(19,"ul",15)(20,"li",16)(21,"a",17),u._uU(22," Recipes "),u.qZA()(),u.YNc(23,So,10,0,"li",18),u.YNc(24,Jo,23,1,"li",18),u.TgZ(25,"li",19)(26,"a",20),u._UZ(27,"i",21),u.qZA(),u.TgZ(28,"ul",22)(29,"form",23),u.NdJ("ngSubmit",function(){return m.onSubmit()}),u._UZ(30,"input",24),u.YNc(31,ci,3,2,"div",25),u.TgZ(32,"button",26),u._uU(33,"Search"),u.qZA()()()()()()()()),2&h){let T;u.xp6(3),u.Q6J("@rotate",m.state),u.xp6(20),u.Q6J("ngIf",!m.userData),u.xp6(1),u.Q6J("ngIf",m.userData),u.xp6(5),u.Q6J("formGroup",m.searchForm),u.xp6(2),u.Q6J("ngIf",null==(T=m.searchForm.get("search"))?null:T.touched)}},dependencies:[le.O5,ae.rH,re._Y,re.Fj,re.JJ,re.JL,re.Q7,re.wO,re.sg,re.u,co],styles:["nav.navbar[_ngcontent-%COMP%]{min-height:7vh;background-color:var(--aliceBlueColor);box-shadow:1px 5px 15px 0 var(--mainRGBAColor)}.container-fluid[_ngcontent-%COMP%]{max-width:1024px}a.navbar-brand[_ngcontent-%COMP%]{display:flex;gap:10px;font-family:Caveat,cursive;font-weight:400;font-size:32px;color:var(--textColor)}.header-wrapper[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center}.hamburger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:4px 2px}.hamburger[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 15px 0 var(--textColor)}button.navbar-toggler[_ngcontent-%COMP%]{background-color:var(--textColor);border:1px solid var(--backgroundColor)}ul.navbar-nav[_ngcontent-%COMP%]{position:relative;display:flex;gap:18px;width:100%;justify-content:flex-end}.navigation[_ngcontent-%COMP%]{color:var(--textColor)}ul.navbar-nav[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]{background-color:var(--backgroundColor);margin-top:18px}a.dropdown-item[_ngcontent-%COMP%]{color:var(--textColor)}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:focus{background-color:var(--textColor);color:var(--backgroundColor)}form[_ngcontent-%COMP%]{max-width:unset}.form-control[_ngcontent-%COMP%]{border:1px solid var(--textColor);border-radius:8px;background-color:var(--backgroundColor)}.form-control[_ngcontent-%COMP%]:focus{box-shadow:unset;background-color:var(--mainMagnoliaColor)}@media (max-width: 991px){.container-fluid[_ngcontent-%COMP%]{justify-content:space-evenly}.svg-logo[_ngcontent-%COMP%]{display:none}.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{background-color:var(--backgroundColor);padding:20px;border-radius:8px}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{border:unset;width:100%}form.d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:15px}}@media (min-width: 992px) and (max-width: 1440px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:900px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}.container-fluid[_ngcontent-%COMP%]{max-width:1200px;padding:0 3%;color:var(--textColor)}}@media (min-width: 1441px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:1000px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}.container-fluid[_ngcontent-%COMP%]{padding:unset;max-width:1200px;color:var(--textColor)}}"],data:{animation:[Kt("rotate",[Co("normal",ss({transform:"rotate(0deg)"})),Co("hovered",ss({transform:"rotate(180deg)"})),Qo("normal => hovered",Fn("0.5s ease-in-out")),Qo("hovered => normal",Fn("0.5s ease-in-out"))])]}})}return l})();function Vi(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"div",1)(1,"button",2),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.scrollToTop())}),u._UZ(2,"i",3),u.qZA(),u.TgZ(3,"a",4)(4,"div",5)(5,"span",6),u.O4$(),u.TgZ(6,"svg",7),u._UZ(7,"path",8),u.qZA()(),u.kcU(),u.TgZ(8,"span",6),u.O4$(),u.TgZ(9,"svg",9),u._UZ(10,"path",8),u.qZA()()()()()}}let Ja=(()=>{class l{constructor(){this.showScrollButton=!1}onWindowScroll(){this.showScrollButton=window.pageYOffset>300}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-scroll-to-top"]],hostBindings:function(h,m){1&h&&u.NdJ("scroll",function(){return m.onWindowScroll()},!1,u.Jf7)},decls:1,vars:1,consts:[["class","buttons",4,"ngIf"],[1,"buttons"],[1,"to-top",3,"click"],[1,"fa-solid","fa-chevron-up","fa-beat-fade"],["href","javascript:history.back()",1,"back-button"],[1,"button-box"],[1,"button-elem"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],["viewBox","0 0 46 40"]],template:function(h,m){1&h&&u.YNc(0,Vi,11,0,"div",0),2&h&&u.Q6J("ngIf",m.showScrollButton)},dependencies:[le.O5],styles:[".buttons[_ngcontent-%COMP%]{display:flex;gap:10px;position:fixed;bottom:120px;right:10px;flex-direction:column;align-items:center;z-index:10}.to-top[_ngcontent-%COMP%]{background-color:var(--mainRGBAColor);color:var(--backgroundColor);border:3px solid var(--backgroundColor);border-radius:50%;width:60px;height:60px;font-size:16px;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{color:var(--textColor);background-color:var(--backgroundColor);box-shadow:0 0 15px 0 var(--textColor)}button[_ngcontent-%COMP%]:focus{outline:none}button.ng-hidden[_ngcontent-%COMP%]{display:none}"]})}return l})();var os=K(1816);const Xa=function(l){return{show:l}};let fi=(()=>{class l{constructor(o){this.modalService=o,this.showModal=!1}ngOnInit(){this.modalMessageSubscription=this.modalService.modalMessage$.subscribe(o=>{console.log(3),this.modalMessage=o,console.log(o),this.showModal=!0})}ngOnDestroy(){this.modalMessageSubscription&&this.modalMessageSubscription.unsubscribe()}hideModal(){this.showModal=!1}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(os.y))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-custom-alert"]],decls:11,vars:4,consts:[["tabindex","-1","role","dialog",1,"modal",3,"ngClass"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"button",3,"click"]],template:function(h,m){1&h&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),u._uU(5,"Error Found!"),u.qZA()(),u.TgZ(6,"div",5),u._uU(7),u.qZA(),u.TgZ(8,"div",6)(9,"button",7),u.NdJ("click",function(){return m.hideModal()}),u._uU(10,"Close"),u.qZA()()()()()),2&h&&(u.Q6J("ngClass",u.VKq(2,Xa,m.showModal)),u.xp6(7),u.hij(" ",m.modalMessage," "))},dependencies:[le.mk],styles:[".modal[_ngcontent-%COMP%]{display:none;overflow:hidden;position:fixed;top:0;left:0;width:100%;height:100%;z-index:15;outline:0}.modal.show[_ngcontent-%COMP%]{display:block;background-color:var(--mainRGBAColor)}.modal-body[_ngcontent-%COMP%]{white-space:pre-wrap}"]})}return l})(),Ra=(()=>{class l{constructor(){this.title="The-Natural-Way"}static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-root"]],decls:5,vars:0,template:function(h,m){1&h&&u._UZ(0,"app-header")(1,"app-scroll-to-top")(2,"app-custom-alert")(3,"router-outlet")(4,"app-footer")},dependencies:[ae.lC,We,Ks,Ja,fi]})}return l})();var Fs=K(9286),Xo=K(8726);let ws=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=u.oAB({type:l}),l.\u0275inj=u.cJS({imports:[[]]}),l})();var Hi=K(5592),ec=K(6232),Tr=K(8645),ya=K(4829),Ai=K(1631),rl=K(4266),Bs=K(4674),yc=K(7400);const ea=["addListener","removeListener"],ka=["addEventListener","removeEventListener"],ta=["on","off"];function Ni(l,f,o,h){if((0,Bs.m)(o)&&(h=o,o=void 0),h)return Ni(l,f,o).pipe((0,yc.Z)(h));const[m,T]=function Ao(l){return(0,Bs.m)(l.addEventListener)&&(0,Bs.m)(l.removeEventListener)}(l)?ka.map(k=>J=>l[k](f,J,o)):function va(l){return(0,Bs.m)(l.addListener)&&(0,Bs.m)(l.removeListener)}(l)?ea.map(Qs(l,f)):function na(l){return(0,Bs.m)(l.on)&&(0,Bs.m)(l.off)}(l)?ta.map(Qs(l,f)):[];if(!m&&(0,rl.z)(l))return(0,Ai.z)(k=>Ni(k,f,o))((0,ya.Xf)(l));if(!m)throw new TypeError("Invalid event target");return new Hi.y(k=>{const J=(...ue)=>k.next(1<ue.length?ue:ue[0]);return m(J),()=>T(J)})}function Qs(l,f){return o=>h=>l[o](f,h)}var No=K(6321),pr=K(671);const{isArray:as}=Array;function ni(l){return 1===l.length&&as(l[0])?l[0]:l}var yi=K(8251);K(3019);var lo=K(9940);function cr(...l){const f=(0,lo.jO)(l),o=ni(l);return o.length?new Hi.y(h=>{let m=o.map(()=>[]),T=o.map(()=>!1);h.add(()=>{m=T=null});for(let k=0;!h.closed&&k<o.length;k++)(0,ya.Xf)(o[k]).subscribe((0,yi.x)(h,J=>{if(m[k].push(J),m.every(ue=>ue.length)){const ue=m.map(ge=>ge.shift());h.next(f?f(...ue):ue),m.some((ge,Te)=>!ge.length&&T[Te])&&h.complete()}},()=>{T[k]=!0,!m[k].length&&h.complete()}));return()=>{m=T=null}}):ec.E}var Lt=K(5211),Pn=K(9773),Hr=K(2181),vi=K(8180),Kr=K(9397),Mi=K(9360),Mr=K(2737),ri=K(2420);function cs(...l){const f=(0,lo.jO)(l);return(0,Mi.e)((o,h)=>{const m=l.length,T=new Array(m);let k=l.map(()=>!1),J=!1;for(let ue=0;ue<m;ue++)(0,ya.Xf)(l[ue]).subscribe((0,yi.x)(h,ge=>{T[ue]=ge,!J&&!k[ue]&&(k[ue]=!0,(J=k.every(Mr.y))&&(k=null))},ri.Z));o.subscribe((0,yi.x)(h,ue=>{if(J){const ge=[ue,...T];h.next(f?f(...ge):ge)}}))})}K(975),K(7921),K(3997),Math,Math,Math;const Rr=["*"],nd=["dialog"];function zl(l){return"string"==typeof l}function Wl(l){return null!=l}function Yc(l){return(l||document.body).getBoundingClientRect()}const h_={animation:!0,transitionTimerDelayMs:5},f_=()=>{},{transitionTimerDelayMs:ep}=h_,Du=new Map,io=(l,f,o,h)=>{let m=h.context||{};const T=Du.get(f);if(T)switch(h.runningTransition){case"continue":return ec.E;case"stop":l.run(()=>T.transition$.complete()),m=Object.assign(T.context,m),Du.delete(f)}const k=o(f,h.animation,m)||f_;if(!h.animation||"none"===window.getComputedStyle(f).transitionProperty)return l.run(()=>k()),(0,fe.of)(void 0).pipe(function d_(l){return f=>new Hi.y(o=>f.subscribe({next:k=>l.run(()=>o.next(k)),error:k=>l.run(()=>o.error(k)),complete:()=>l.run(()=>o.complete())}))}(l));const J=new Tr.x,ue=new Tr.x,ge=J.pipe(function Wn(...l){return f=>(0,Lt.z)(f,(0,fe.of)(...l))}(!0));Du.set(f,{transition$:J,complete:()=>{ue.next(),ue.complete()},context:m});const Te=function Xf(l){const{transitionDelay:f,transitionDuration:o}=window.getComputedStyle(l);return 1e3*(parseFloat(f)+parseFloat(o))}(f);return l.runOutsideAngular(()=>{const Je=Ni(f,"transitionend").pipe((0,Pn.R)(ge),(0,Hr.h)(({target:ft})=>ft===f));(function Js(...l){return 1===(l=ni(l)).length?(0,ya.Xf)(l[0]):new Hi.y(function Ii(l){return f=>{let o=[];for(let h=0;o&&!f.closed&&h<l.length;h++)o.push((0,ya.Xf)(l[h]).subscribe((0,yi.x)(f,m=>{if(o){for(let T=0;T<o.length;T++)T!==h&&o[T].unsubscribe();o=null}f.next(m)})))}}(l))})(function Oi(l=0,f,o=No.P){let h=-1;return null!=f&&((0,pr.K)(f)?o=f:h=f),new Hi.y(m=>{let T=function Zr(l){return l instanceof Date&&!isNaN(l)}(l)?+l-o.now():l;T<0&&(T=0);let k=0;return o.schedule(function(){m.closed||(m.next(k++),0<=h?this.schedule(void 0,h):m.complete())},T)})}(Te+ep).pipe((0,Pn.R)(ge)),Je,ue).pipe((0,Pn.R)(ge)).subscribe(()=>{Du.delete(f),l.run(()=>{k(),J.next(),J.complete()})})}),J.asObservable()};let Ho=(()=>{class l{constructor(){this.animation=h_.animation}static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),jh=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),p_=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Eg=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Dg=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})();var ii=function(l){return l[l.Tab=9]="Tab",l[l.Enter=13]="Enter",l[l.Escape=27]="Escape",l[l.Space=32]="Space",l[l.PageUp=33]="PageUp",l[l.PageDown=34]="PageDown",l[l.End=35]="End",l[l.Home=36]="Home",l[l.ArrowLeft=37]="ArrowLeft",l[l.ArrowUp=38]="ArrowUp",l[l.ArrowRight=39]="ArrowRight",l[l.ArrowDown=40]="ArrowDown",l}(ii||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const _v=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function T_(l){const f=Array.from(l.querySelectorAll(_v)).filter(o=>-1!==o.tabIndex);return[f[0],f[f.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let cd=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Kl=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})();class Yl{constructor(f,o,h){this.nodes=f,this.viewRef=o,this.componentRef=h}}let _p=(()=>{class l{constructor(o,h){this._el=o,this._zone=h}ngOnInit(){this._zone.onStable.asObservable().pipe((0,vi.q)(1)).subscribe(()=>{io(this._zone,this._el.nativeElement,(o,h)=>{h&&Yc(o),o.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return io(this._zone,this._el.nativeElement,({classList:o})=>o.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(u.SBq),u.Y36(u.R0b))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(h,m){2&h&&(u.Tol("modal-backdrop"+(m.backdropClass?" "+m.backdropClass:"")),u.ekj("show",!m.animation)("fade",m.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[u.jDz],decls:0,vars:0,template:function(h,m){},encapsulation:2})}return l})();class V_{update(f){}close(f){}dismiss(f){}}const Ms=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],bb=["animation","backdropClass"];class yp{_applyWindowOptions(f,o){Ms.forEach(h=>{Wl(o[h])&&(f[h]=o[h])})}_applyBackdropOptions(f,o){bb.forEach(h=>{Wl(o[h])&&(f[h]=o[h])})}update(f){this._applyWindowOptions(this._windowCmptRef.instance,f),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,f)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,Pn.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,Pn.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(f,o,h,m){this._windowCmptRef=f,this._contentRef=o,this._backdropCmptRef=h,this._beforeDismiss=m,this._closed=new Tr.x,this._dismissed=new Tr.x,this._hidden=new Tr.x,f.instance.dismissEvent.subscribe(T=>{this.dismiss(T)}),this.result=new Promise((T,k)=>{this._resolve=T,this._reject=k}),this.result.then(null,()=>{})}close(f){this._windowCmptRef&&(this._closed.next(f),this._resolve(f),this._removeModalElements())}_dismiss(f){this._dismissed.next(f),this._reject(f),this._removeModalElements()}dismiss(f){if(this._windowCmptRef)if(this._beforeDismiss){const o=this._beforeDismiss();!function _g(l){return l&&l.then}(o)?!1!==o&&this._dismiss(f):o.then(h=>{!1!==h&&this._dismiss(f)},()=>{})}else this._dismiss(f)}_removeModalElements(){const f=this._windowCmptRef.instance.hide(),o=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,fe.of)(void 0);f.subscribe(()=>{const{nativeElement:h}=this._windowCmptRef.location;h.parentNode.removeChild(h),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),o.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:h}=this._backdropCmptRef.location;h.parentNode.removeChild(h),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),cr(f,o).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var ld=function(l){return l[l.BACKDROP_CLICK=0]="BACKDROP_CLICK",l[l.ESC=1]="ESC",l}(ld||{});let Jc=(()=>{class l{constructor(o,h,m){this._document=o,this._elRef=h,this._zone=m,this._closed$=new Tr.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new Tr.x,this.hidden=new Tr.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":zl(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(o){this.dismissEvent.emit(o)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,vi.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:o}=this._elRef,h={animation:this.animation,runningTransition:"stop"},k=cr(io(this._zone,o,()=>o.classList.remove("show"),h),io(this._zone,this._dialogEl.nativeElement,()=>{},h));return k.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),k}_show(){const o={animation:this.animation,runningTransition:"continue"};cr(io(this._zone,this._elRef.nativeElement,(T,k)=>{k&&Yc(T),T.classList.add("show")},o),io(this._zone,this._dialogEl.nativeElement,()=>{},o)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:o}=this._elRef;this._zone.runOutsideAngular(()=>{Ni(o,"keydown").pipe((0,Pn.R)(this._closed$),(0,Hr.h)(m=>m.which===ii.Escape)).subscribe(m=>{this.keyboard?requestAnimationFrame(()=>{m.defaultPrevented||this._zone.run(()=>this.dismiss(ld.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let h=!1;Ni(this._dialogEl.nativeElement,"mousedown").pipe((0,Pn.R)(this._closed$),(0,Kr.b)(()=>h=!1),(0,we.w)(()=>Ni(o,"mouseup").pipe((0,Pn.R)(this._closed$),(0,vi.q)(1))),(0,Hr.h)(({target:m})=>o===m)).subscribe(()=>{h=!0}),Ni(o,"click").pipe((0,Pn.R)(this._closed$)).subscribe(({target:m})=>{o===m&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!h&&this._zone.run(()=>this.dismiss(ld.BACKDROP_CLICK))),h=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:o}=this._elRef;if(!o.contains(document.activeElement)){const h=o.querySelector("[ngbAutofocus]"),m=T_(o)[0];(h||m||o).focus()}}_restoreFocus(){const o=this._document.body,h=this._elWithFocus;let m;m=h&&h.focus&&o.contains(h)?h:o,this._zone.runOutsideAngular(()=>{setTimeout(()=>m.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&io(this._zone,this._elRef.nativeElement,({classList:o})=>(o.add("modal-static"),()=>o.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(le.K0),u.Y36(u.SBq),u.Y36(u.R0b))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["ngb-modal-window"]],viewQuery:function(h,m){if(1&h&&u.Gf(nd,7),2&h){let T;u.iGM(T=u.CRH())&&(m._dialogEl=T.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(h,m){2&h&&(u.uIk("aria-modal",!0)("aria-labelledby",m.ariaLabelledBy)("aria-describedby",m.ariaDescribedBy),u.Tol("modal d-block"+(m.windowClass?" "+m.windowClass:"")),u.ekj("fade",m.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[u.jDz],ngContentSelectors:Rr,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(h,m){1&h&&(u.F$t(),u.TgZ(0,"div",0,1)(2,"div",2),u.Hsn(3),u.qZA()()),2&h&&u.Tol("modal-dialog"+(m.size?" modal-"+m.size:"")+(m.centered?" modal-dialog-centered":"")+m.fullscreenClass+(m.scrollable?" modal-dialog-scrollable":"")+(m.modalDialogClass?" "+m.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return l})(),H_=(()=>{class l{constructor(o){this._document=o}hide(){const o=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),h=this._document.body,m=h.style,{overflow:T,paddingRight:k}=m;if(o>0){const J=parseFloat(window.getComputedStyle(h).paddingRight);m.paddingRight=`${J+o}px`}return m.overflow="hidden",()=>{o>0&&(m.paddingRight=k),m.overflow=T}}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(le.K0))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),wb=(()=>{class l{constructor(o,h,m,T,k,J,ue){this._applicationRef=o,this._injector=h,this._environmentInjector=m,this._document=T,this._scrollBar=k,this._rendererFactory=J,this._ngZone=ue,this._activeWindowCmptHasChanged=new Tr.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const ge=this._windowCmpts[this._windowCmpts.length-1];((l,f,o,h=!1)=>{l.runOutsideAngular(()=>{const m=Ni(f,"focusin").pipe((0,Pn.R)(o),(0,de.U)(T=>T.target));Ni(f,"keydown").pipe((0,Pn.R)(o),(0,Hr.h)(T=>T.which===ii.Tab),cs(m)).subscribe(([T,k])=>{const[J,ue]=T_(f);(k===J||k===f)&&T.shiftKey&&(ue.focus(),T.preventDefault()),k===ue&&!T.shiftKey&&(J.focus(),T.preventDefault())}),h&&Ni(f,"click").pipe((0,Pn.R)(o),cs(m),(0,de.U)(T=>T[1])).subscribe(T=>T.focus())})})(this._ngZone,ge.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(ge.location.nativeElement)}})}_restoreScrollBar(){const o=this._scrollBarRestoreFn;o&&(this._scrollBarRestoreFn=null,o())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(o,h,m){const T=m.container instanceof HTMLElement?m.container:Wl(m.container)?this._document.querySelector(m.container):this._document.body,k=this._rendererFactory.createRenderer(null,null);if(!T)throw new Error(`The specified modal container "${m.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const J=new V_,ue=(o=m.injector||o).get(u.lqb,null)||this._environmentInjector,ge=this._getContentRef(o,ue,h,J,m);let Te=!1!==m.backdrop?this._attachBackdrop(T):void 0,Je=this._attachWindowComponent(T,ge.nodes),ut=new yp(Je,ge,Te,m.beforeDismiss);return this._registerModalRef(ut),this._registerWindowCmpt(Je),ut.hidden.pipe((0,vi.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(k.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),J.close=ft=>{ut.close(ft)},J.dismiss=ft=>{ut.dismiss(ft)},J.update=ft=>{ut.update(ft)},ut.update(m),1===this._modalRefs.length&&k.addClass(this._document.body,"modal-open"),Te&&Te.instance&&Te.changeDetectorRef.detectChanges(),Je.changeDetectorRef.detectChanges(),ut}get activeInstances(){return this._activeInstances}dismissAll(o){this._modalRefs.forEach(h=>h.dismiss(o))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(o){let h=(0,u.LMc)(_p,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(h.hostView),o.appendChild(h.location.nativeElement),h}_attachWindowComponent(o,h){let m=(0,u.LMc)(Jc,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:h});return this._applicationRef.attachView(m.hostView),o.appendChild(m.location.nativeElement),m}_getContentRef(o,h,m,T,k){return m?m instanceof u.Rgc?this._createFromTemplateRef(m,T):zl(m)?this._createFromString(m):this._createFromComponent(o,h,m,T,k):new Yl([])}_createFromTemplateRef(o,h){const T=o.createEmbeddedView({$implicit:h,close(k){h.close(k)},dismiss(k){h.dismiss(k)}});return this._applicationRef.attachView(T),new Yl([T.rootNodes],T)}_createFromString(o){const h=this._document.createTextNode(`${o}`);return new Yl([[h]])}_createFromComponent(o,h,m,T,k){const J=u.zs3.create({providers:[{provide:V_,useValue:T}],parent:o}),ue=(0,u.LMc)(m,{environmentInjector:h,elementInjector:J}),ge=ue.location.nativeElement;return k.scrollable&&ge.classList.add("component-host-scrollable"),this._applicationRef.attachView(ue.hostView),new Yl([[ge]],ue.hostView,ue)}_setAriaHidden(o){const h=o.parentElement;h&&o!==this._document.body&&(Array.from(h.children).forEach(m=>{m!==o&&"SCRIPT"!==m.nodeName&&(this._ariaHiddenValues.set(m,m.getAttribute("aria-hidden")),m.setAttribute("aria-hidden","true"))}),this._setAriaHidden(h))}_revertAriaHidden(){this._ariaHiddenValues.forEach((o,h)=>{o?h.setAttribute("aria-hidden",o):h.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(o){const h=()=>{const m=this._modalRefs.indexOf(o);m>-1&&(this._modalRefs.splice(m,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(o),this._activeInstances.emit(this._modalRefs),o.result.then(h,h)}_registerWindowCmpt(o){this._windowCmpts.push(o),this._activeWindowCmptHasChanged.next(),o.onDestroy(()=>{const h=this._windowCmpts.indexOf(o);h>-1&&(this._windowCmpts.splice(h,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(u.lqb),u.LFG(le.K0),u.LFG(H_),u.LFG(u.FYo),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),Ib=(()=>{class l{constructor(o){this._ngbConfig=o,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(o){this._animation=o}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(Ho))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),Qh=(()=>{class l{constructor(o,h,m){this._injector=o,this._modalStack=h,this._config=m}open(o,h={}){const m={...this._config,animation:this._config.animation,...h};return this._modalStack.open(this._injector,o,m)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(o){this._modalStack.dismissAll(o)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(u.zs3),u.LFG(wb),u.LFG(Ib))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),Ug=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({providers:[Qh]})}return l})(),Hg=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Mu=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Hv=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),$g=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),zg=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),rf=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),J_=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),jv=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),fd=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})();new u.OlP("live announcer delay",{providedIn:"root",factory:function Yg(){return 100}});let cf=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Ap=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})();const Jg=[jh,p_,Eg,Dg,cd,Kl,Ug,Hg,Ap,Mu,Hv,$g,zg,rf,J_,jv,fd,cf];let ty=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({imports:[Jg,jh,p_,Eg,Dg,cd,Kl,Ug,Hg,Ap,Mu,Hv,$g,zg,rf,J_,jv,fd,cf]})}return l})();var Xg=K(2772);function Np(l){return new u.vHH(3e3,!1)}function Pu(l){switch(l.length){case 0:return new Si;case 1:return l[0];default:return new sr(l)}}function im(l,f,o=new Map,h=new Map){const m=[],T=[];let k=-1,J=null;if(f.forEach(ue=>{const ge=ue.get("offset"),Te=ge==k,Je=Te&&J||new Map;ue.forEach((ut,ft)=>{let Mt=ft,Ut=ut;if("offset"!==ft)switch(Mt=l.normalizePropertyName(Mt,m),Ut){case"!":Ut=o.get(ft);break;case pn:Ut=h.get(ft);break;default:Ut=l.normalizeStyleValue(ft,Mt,Ut,m)}Je.set(Mt,Ut)}),Te||T.push(Je),J=Je,k=ge}),m.length)throw function Mb(l){return new u.vHH(3502,!1)}();return T}function Rp(l,f,o,h){switch(f){case"start":l.onStart(()=>h(o&&hf(o,"start",l)));break;case"done":l.onDone(()=>h(o&&hf(o,"done",l)));break;case"destroy":l.onDestroy(()=>h(o&&hf(o,"destroy",l)))}}function hf(l,f,o){const T=ku(l.element,l.triggerName,l.fromState,l.toState,f||l.phaseName,o.totalTime??l.totalTime,!!o.disabled),k=l._data;return null!=k&&(T._data=k),T}function ku(l,f,o,h,m="",T=0,k){return{element:l,triggerName:f,fromState:o,toState:h,phaseName:m,totalTime:T,disabled:!!k}}function xs(l,f,o){let h=l.get(f);return h||l.set(f,h=o),h}function uh(l){const f=l.indexOf(":");return[l.substring(1,f),l.slice(f+1)]}const xb=(()=>typeof document>"u"?null:document.documentElement)();function oy(l){const f=l.parentNode||l.host||null;return f===xb?null:f}let wl=null,gd=!1;function dh(l,f){for(;f;){if(f===l)return!0;f=oy(f)}return!1}function ff(l,f,o){if(o)return Array.from(l.querySelectorAll(f));const h=l.querySelector(f);return h?[h]:[]}let gs=(()=>{class l{validateStyleProperty(o){return function md(l){wl||(wl=function ay(){return typeof document<"u"?document.body:null}()||{},gd=!!wl.style&&"WebkitAppearance"in wl.style);let f=!0;return wl.style&&!function n0(l){return"ebkit"==l.substring(1,6)}(l)&&(f=l in wl.style,!f&&gd&&(f="Webkit"+l.charAt(0).toUpperCase()+l.slice(1)in wl.style)),f}(o)}matchesElement(o,h){return!1}containsElement(o,h){return dh(o,h)}getParentElement(o){return oy(o)}query(o,h,m){return ff(o,h,m)}computeStyle(o,h,m){return m||""}animate(o,h,m,T,k,J=[],ue){return new Si(m,T)}static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac})}return l})(),sm=(()=>{class l{static#e=this.NOOP=new gs}return l})();const r0=1e3,cy="ng-enter",om="ng-leave",pf="ng-trigger",_d=".ng-trigger",s0="ng-animating",Wa=".ng-animating";function Il(l){if("number"==typeof l)return l;const f=l.match(/^(-?[\.\d]+)(m?s)/);return!f||f.length<2?0:am(parseFloat(f[1]),f[2])}function am(l,f){return"s"===f?l*r0:l}function kp(l,f,o){return l.hasOwnProperty("duration")?l:function cm(l,f,o){let m,T=0,k="";if("string"==typeof l){const J=l.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===J)return f.push(Np()),{duration:0,delay:0,easing:""};m=am(parseFloat(J[1]),J[2]);const ue=J[3];null!=ue&&(T=am(parseFloat(ue),J[4]));const ge=J[5];ge&&(k=ge)}else m=l;if(!o){let J=!1,ue=f.length;m<0&&(f.push(function lf(){return new u.vHH(3100,!1)}()),J=!0),T<0&&(f.push(function Yv(){return new u.vHH(3101,!1)}()),J=!0),J&&f.splice(ue,0,Np())}return{duration:m,delay:T,easing:k}}(l,f,o)}function eu(l,f={}){return Object.keys(l).forEach(o=>{f[o]=l[o]}),f}function lr(l){const f=new Map;return Object.keys(l).forEach(o=>{f.set(o,l[o])}),f}function cc(l,f=new Map,o){if(o)for(let[h,m]of o)f.set(h,m);for(let[h,m]of l)f.set(h,m);return f}function lc(l,f,o){f.forEach((h,m)=>{const T=bd(m);o&&!o.has(m)&&o.set(m,l.style[T]),l.style[T]=h})}function hh(l,f){f.forEach((o,h)=>{const m=bd(h);l.style[m]=""})}function Fu(l){return Array.isArray(l)?1==l.length?l[0]:ir(l):l}const mf=new RegExp("{{\\s*(.+?)\\s*}}","g");function fh(l){let f=[];if("string"==typeof l){let o;for(;o=mf.exec(l);)f.push(o[1]);mf.lastIndex=0}return f}function yd(l,f,o){const h=l.toString(),m=h.replace(mf,(T,k)=>{let J=f[k];return null==J&&(o.push(function uf(l){return new u.vHH(3003,!1)}()),J=""),J.toString()});return m==h?l:m}function vd(l){const f=[];let o=l.next();for(;!o.done;)f.push(o.value),o=l.next();return f}const um=/-+([a-z0-9])/g;function bd(l){return l.replace(um,(...f)=>f[1].toUpperCase())}function uc(l,f,o){switch(f.type){case 7:return l.visitTrigger(f,o);case 0:return l.visitState(f,o);case 1:return l.visitTransition(f,o);case 2:return l.visitSequence(f,o);case 3:return l.visitGroup(f,o);case 4:return l.visitAnimate(f,o);case 5:return l.visitKeyframes(f,o);case 6:return l.visitStyle(f,o);case 8:return l.visitReference(f,o);case 9:return l.visitAnimateChild(f,o);case 10:return l.visitAnimateRef(f,o);case 11:return l.visitQuery(f,o);case 12:return l.visitStagger(f,o);default:throw function ch(l){return new u.vHH(3004,!1)}()}}function ly(l,f){return window.getComputedStyle(l)[f]}const nu="*";function Lb(l,f){const o=[];return"string"==typeof l?l.split(/\s*,\s*/).forEach(h=>function Tl(l,f,o){if(":"==l[0]){const ue=function qa(l,f){switch(l){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,h)=>parseFloat(h)>parseFloat(o);case":decrement":return(o,h)=>parseFloat(h)<parseFloat(o);default:return f.push(function Mp(l){return new u.vHH(3016,!1)}()),"* => *"}}(l,o);if("function"==typeof ue)return void f.push(ue);l=ue}const h=l.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==h||h.length<4)return o.push(function Op(l){return new u.vHH(3015,!1)}()),f;const m=h[1],T=h[2],k=h[3];f.push(dy(m,k));"<"==T[0]&&!(m==nu&&k==nu)&&f.push(dy(k,m))}(h,o,f)):o.push(l),o}const si=new Set(["true","1"]),hm=new Set(["false","0"]);function dy(l,f){const o=si.has(l)||hm.has(l),h=si.has(f)||hm.has(f);return(m,T)=>{let k=l==nu||l==m,J=f==nu||f==T;return!k&&o&&"boolean"==typeof m&&(k=m?si.has(l):hm.has(l)),!J&&h&&"boolean"==typeof T&&(J=T?si.has(f):hm.has(f)),k&&J}}const hy=new RegExp("s*:selfs*,?","g");function Fp(l,f,o,h){return new fy(l).build(f,o,h)}class fy{constructor(f){this._driver=f}build(f,o,h){const m=new el(o);return this._resetContextStyleTimingState(m),uc(this,Fu(f),m)}_resetContextStyleTimingState(f){f.currentQuerySelector="",f.collectedStyles=new Map,f.collectedStyles.set("",new Map),f.currentTime=0}visitTrigger(f,o){let h=o.queryCount=0,m=o.depCount=0;const T=[],k=[];return"@"==f.name.charAt(0)&&o.errors.push(function Sb(){return new u.vHH(3006,!1)}()),f.definitions.forEach(J=>{if(this._resetContextStyleTimingState(o),0==J.type){const ue=J,ge=ue.name;ge.toString().split(/\s*,\s*/).forEach(Te=>{ue.name=Te,T.push(this.visitState(ue,o))}),ue.name=ge}else if(1==J.type){const ue=this.visitTransition(J,o);h+=ue.queryCount,m+=ue.depCount,k.push(ue)}else o.errors.push(function Ab(){return new u.vHH(3007,!1)}())}),{type:7,name:f.name,states:T,transitions:k,queryCount:h,depCount:m,options:null}}visitState(f,o){const h=this.visitStyle(f.styles,o),m=f.options&&f.options.params||null;if(h.containsDynamicStyles){const T=new Set,k=m||{};h.styles.forEach(J=>{J instanceof Map&&J.forEach(ue=>{fh(ue).forEach(ge=>{k.hasOwnProperty(ge)||T.add(ge)})})}),T.size&&(vd(T.values()),o.errors.push(function Nb(l,f){return new u.vHH(3008,!1)}()))}return{type:0,name:f.name,style:h,options:m?{params:m}:null}}visitTransition(f,o){o.queryCount=0,o.depCount=0;const h=uc(this,Fu(f.animation),o);return{type:1,matchers:Lb(f.expr,o.errors),animation:h,queryCount:o.queryCount,depCount:o.depCount,options:ru(f.options)}}visitSequence(f,o){return{type:2,steps:f.steps.map(h=>uc(this,h,o)),options:ru(f.options)}}visitGroup(f,o){const h=o.currentTime;let m=0;const T=f.steps.map(k=>{o.currentTime=h;const J=uc(this,k,o);return m=Math.max(m,o.currentTime),J});return o.currentTime=m,{type:3,steps:T,options:ru(f.options)}}visitAnimate(f,o){const h=function fm(l,f){if(l.hasOwnProperty("duration"))return l;if("number"==typeof l)return mh(kp(l,f).duration,0,"");const o=l;if(o.split(/\s+/).some(T=>"{"==T.charAt(0)&&"{"==T.charAt(1))){const T=mh(0,0,"");return T.dynamic=!0,T.strValue=o,T}const m=kp(o,f);return mh(m.duration,m.delay,m.easing)}(f.timings,o.errors);o.currentAnimateTimings=h;let m,T=f.styles?f.styles:ss({});if(5==T.type)m=this.visitKeyframes(T,o);else{let k=f.styles,J=!1;if(!k){J=!0;const ge={};h.easing&&(ge.easing=h.easing),k=ss(ge)}o.currentTime+=h.duration+h.delay;const ue=this.visitStyle(k,o);ue.isEmptyStep=J,m=ue}return o.currentAnimateTimings=null,{type:4,timings:h,style:m,options:null}}visitStyle(f,o){const h=this._makeStyleAst(f,o);return this._validateStyleAst(h,o),h}_makeStyleAst(f,o){const h=[],m=Array.isArray(f.styles)?f.styles:[f.styles];for(let J of m)"string"==typeof J?J===pn?h.push(J):o.errors.push(new u.vHH(3002,!1)):h.push(lr(J));let T=!1,k=null;return h.forEach(J=>{if(J instanceof Map&&(J.has("easing")&&(k=J.get("easing"),J.delete("easing")),!T))for(let ue of J.values())if(ue.toString().indexOf("{{")>=0){T=!0;break}}),{type:6,styles:h,easing:k,offset:f.offset,containsDynamicStyles:T,options:null}}_validateStyleAst(f,o){const h=o.currentAnimateTimings;let m=o.currentTime,T=o.currentTime;h&&T>0&&(T-=h.duration+h.delay),f.styles.forEach(k=>{"string"!=typeof k&&k.forEach((J,ue)=>{const ge=o.collectedStyles.get(o.currentQuerySelector),Te=ge.get(ue);let Je=!0;Te&&(T!=m&&T>=Te.startTime&&m<=Te.endTime&&(o.errors.push(function fa(l,f,o,h,m){return new u.vHH(3010,!1)}()),Je=!1),T=Te.startTime),Je&&ge.set(ue,{startTime:T,endTime:m}),o.options&&function tu(l,f,o){const h=f.params||{},m=fh(l);m.length&&m.forEach(T=>{h.hasOwnProperty(T)||o.push(function em(l){return new u.vHH(3001,!1)}())})}(J,o.options,o.errors)})})}visitKeyframes(f,o){const h={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function Jl(){return new u.vHH(3011,!1)}()),h;let T=0;const k=[];let J=!1,ue=!1,ge=0;const Te=f.steps.map(jn=>{const Un=this._makeStyleAst(jn,o);let Mn=null!=Un.offset?Un.offset:function wo(l){if("string"==typeof l)return null;let f=null;if(Array.isArray(l))l.forEach(o=>{if(o instanceof Map&&o.has("offset")){const h=o;f=parseFloat(h.get("offset")),h.delete("offset")}});else if(l instanceof Map&&l.has("offset")){const o=l;f=parseFloat(o.get("offset")),o.delete("offset")}return f}(Un.styles),Sn=0;return null!=Mn&&(T++,Sn=Un.offset=Mn),ue=ue||Sn<0||Sn>1,J=J||Sn<ge,ge=Sn,k.push(Sn),Un});ue&&o.errors.push(function ry(){return new u.vHH(3012,!1)}()),J&&o.errors.push(function df(){return new u.vHH(3200,!1)}());const Je=f.steps.length;let ut=0;T>0&&T<Je?o.errors.push(function Ru(){return new u.vHH(3202,!1)}()):0==T&&(ut=1/(Je-1));const ft=Je-1,Mt=o.currentTime,Ut=o.currentAnimateTimings,zt=Ut.duration;return Te.forEach((jn,Un)=>{const Mn=ut>0?Un==ft?1:ut*Un:k[Un],Sn=Mn*zt;o.currentTime=Mt+Ut.delay+Sn,Ut.duration=Sn,this._validateStyleAst(jn,o),jn.offset=Mn,h.styles.push(jn)}),h}visitReference(f,o){return{type:8,animation:uc(this,Fu(f.animation),o),options:ru(f.options)}}visitAnimateChild(f,o){return o.depCount++,{type:9,options:ru(f.options)}}visitAnimateRef(f,o){return{type:10,animation:this.visitReference(f.animation,o),options:ru(f.options)}}visitQuery(f,o){const h=o.currentQuerySelector,m=f.options||{};o.queryCount++,o.currentQuery=f;const[T,k]=function py(l){const f=!!l.split(/\s*,\s*/).find(o=>":self"==o);return f&&(l=l.replace(hy,"")),l=l.replace(/@\*/g,_d).replace(/@\w+/g,o=>_d+"-"+o.slice(1)).replace(/:animating/g,Wa),[l,f]}(f.selector);o.currentQuerySelector=h.length?h+" "+T:T,xs(o.collectedStyles,o.currentQuerySelector,new Map);const J=uc(this,Fu(f.animation),o);return o.currentQuery=null,o.currentQuerySelector=h,{type:11,selector:T,limit:m.limit||0,optional:!!m.optional,includeSelf:k,animation:J,originalSelector:f.selector,options:ru(f.options)}}visitStagger(f,o){o.currentQuery||o.errors.push(function wi(){return new u.vHH(3013,!1)}());const h="full"===f.timings?{duration:0,delay:0,easing:"full"}:kp(f.timings,o.errors,!0);return{type:12,animation:uc(this,Fu(f.animation),o),timings:h,options:null}}}class el{constructor(f){this.errors=f,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ru(l){return l?(l=eu(l)).params&&(l.params=function Lu(l){return l?eu(l):null}(l.params)):l={},l}function mh(l,f,o){return{duration:l,delay:f,easing:o}}function _f(l,f,o,h,m,T,k=null,J=!1){return{type:1,element:l,keyframes:f,preStyleProps:o,postStyleProps:h,duration:m,delay:T,totalTime:m+T,easing:k,subTimeline:J}}class Lp{constructor(){this._map=new Map}get(f){return this._map.get(f)||[]}append(f,o){let h=this._map.get(f);h||this._map.set(f,h=[]),h.push(...o)}has(f){return this._map.has(f)}clear(){this._map.clear()}}const Bb=new RegExp(":enter","g"),Ub=new RegExp(":leave","g");function gm(l,f,o,h,m,T=new Map,k=new Map,J,ue,ge=[]){return(new my).buildKeyframes(l,f,o,h,m,T,k,J,ue,ge)}class my{buildKeyframes(f,o,h,m,T,k,J,ue,ge,Te=[]){ge=ge||new Lp;const Je=new wd(f,o,ge,m,T,Te,[]);Je.options=ue;const ut=ue.delay?Il(ue.delay):0;Je.currentTimeline.delayNextStep(ut),Je.currentTimeline.setStyles([k],null,Je.errors,ue),uc(this,h,Je);const ft=Je.timelines.filter(Mt=>Mt.containsAnimation());if(ft.length&&J.size){let Mt;for(let Ut=ft.length-1;Ut>=0;Ut--){const zt=ft[Ut];if(zt.element===o){Mt=zt;break}}Mt&&!Mt.allowOnlyTimelineStyles()&&Mt.setStyles([J],null,Je.errors,ue)}return ft.length?ft.map(Mt=>Mt.buildKeyframes()):[_f(o,[],[],[],0,ut,"",!1)]}visitTrigger(f,o){}visitState(f,o){}visitTransition(f,o){}visitAnimateChild(f,o){const h=o.subInstructions.get(o.element);if(h){const m=o.createSubContext(f.options),T=o.currentTimeline.currentTime,k=this._visitSubInstructions(h,m,m.options);T!=k&&o.transformIntoNewTimeline(k)}o.previousNode=f}visitAnimateRef(f,o){const h=o.createSubContext(f.options);h.transformIntoNewTimeline(),this._applyAnimationRefDelays([f.options,f.animation.options],o,h),this.visitReference(f.animation,h),o.transformIntoNewTimeline(h.currentTimeline.currentTime),o.previousNode=f}_applyAnimationRefDelays(f,o,h){for(const m of f){const T=m?.delay;if(T){const k="number"==typeof T?T:Il(yd(T,m?.params??{},o.errors));h.delayNextStep(k)}}}_visitSubInstructions(f,o,h){let T=o.currentTimeline.currentTime;const k=null!=h.duration?Il(h.duration):null,J=null!=h.delay?Il(h.delay):null;return 0!==k&&f.forEach(ue=>{const ge=o.appendInstructionToTimeline(ue,k,J);T=Math.max(T,ge.duration+ge.delay)}),T}visitReference(f,o){o.updateOptions(f.options,!0),uc(this,f.animation,o),o.previousNode=f}visitSequence(f,o){const h=o.subContextCount;let m=o;const T=f.options;if(T&&(T.params||T.delay)&&(m=o.createSubContext(T),m.transformIntoNewTimeline(),null!=T.delay)){6==m.previousNode.type&&(m.currentTimeline.snapshotCurrentStyles(),m.previousNode=_h);const k=Il(T.delay);m.delayNextStep(k)}f.steps.length&&(f.steps.forEach(k=>uc(this,k,m)),m.currentTimeline.applyStylesToKeyframe(),m.subContextCount>h&&m.transformIntoNewTimeline()),o.previousNode=f}visitGroup(f,o){const h=[];let m=o.currentTimeline.currentTime;const T=f.options&&f.options.delay?Il(f.options.delay):0;f.steps.forEach(k=>{const J=o.createSubContext(f.options);T&&J.delayNextStep(T),uc(this,k,J),m=Math.max(m,J.currentTimeline.currentTime),h.push(J.currentTimeline)}),h.forEach(k=>o.currentTimeline.mergeTimelineCollectedStyles(k)),o.transformIntoNewTimeline(m),o.previousNode=f}_visitTiming(f,o){if(f.dynamic){const h=f.strValue;return kp(o.params?yd(h,o.params,o.errors):h,o.errors)}return{duration:f.duration,delay:f.delay,easing:f.easing}}visitAnimate(f,o){const h=o.currentAnimateTimings=this._visitTiming(f.timings,o),m=o.currentTimeline;h.delay&&(o.incrementTime(h.delay),m.snapshotCurrentStyles());const T=f.style;5==T.type?this.visitKeyframes(T,o):(o.incrementTime(h.duration),this.visitStyle(T,o),m.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=f}visitStyle(f,o){const h=o.currentTimeline,m=o.currentAnimateTimings;!m&&h.hasCurrentStyleProperties()&&h.forwardFrame();const T=m&&m.easing||f.easing;f.isEmptyStep?h.applyEmptyStep(T):h.setStyles(f.styles,T,o.errors,o.options),o.previousNode=f}visitKeyframes(f,o){const h=o.currentAnimateTimings,m=o.currentTimeline.duration,T=h.duration,J=o.createSubContext().currentTimeline;J.easing=h.easing,f.styles.forEach(ue=>{J.forwardTime((ue.offset||0)*T),J.setStyles(ue.styles,ue.easing,o.errors,o.options),J.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(J),o.transformIntoNewTimeline(m+T),o.previousNode=f}visitQuery(f,o){const h=o.currentTimeline.currentTime,m=f.options||{},T=m.delay?Il(m.delay):0;T&&(6===o.previousNode.type||0==h&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=_h);let k=h;const J=o.invokeQuery(f.selector,f.originalSelector,f.limit,f.includeSelf,!!m.optional,o.errors);o.currentQueryTotal=J.length;let ue=null;J.forEach((ge,Te)=>{o.currentQueryIndex=Te;const Je=o.createSubContext(f.options,ge);T&&Je.delayNextStep(T),ge===o.element&&(ue=Je.currentTimeline),uc(this,f.animation,Je),Je.currentTimeline.applyStylesToKeyframe(),k=Math.max(k,Je.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(k),ue&&(o.currentTimeline.mergeTimelineCollectedStyles(ue),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=f}visitStagger(f,o){const h=o.parentContext,m=o.currentTimeline,T=f.timings,k=Math.abs(T.duration),J=k*(o.currentQueryTotal-1);let ue=k*o.currentQueryIndex;switch(T.duration<0?"reverse":T.easing){case"reverse":ue=J-ue;break;case"full":ue=h.currentStaggerTime}const Te=o.currentTimeline;ue&&Te.delayNextStep(ue);const Je=Te.currentTime;uc(this,f.animation,o),o.previousNode=f,h.currentStaggerTime=m.currentTime-Je+(m.startTime-h.currentTimeline.startTime)}}const _h={};class wd{constructor(f,o,h,m,T,k,J,ue){this._driver=f,this.element=o,this.subInstructions=h,this._enterClassName=m,this._leaveClassName=T,this.errors=k,this.timelines=J,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_h,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ue||new _y(this._driver,o,0),J.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(f,o){if(!f)return;const h=f;let m=this.options;null!=h.duration&&(m.duration=Il(h.duration)),null!=h.delay&&(m.delay=Il(h.delay));const T=h.params;if(T){let k=m.params;k||(k=this.options.params={}),Object.keys(T).forEach(J=>{(!o||!k.hasOwnProperty(J))&&(k[J]=yd(T[J],k,this.errors))})}}_copyOptions(){const f={};if(this.options){const o=this.options.params;if(o){const h=f.params={};Object.keys(o).forEach(m=>{h[m]=o[m]})}}return f}createSubContext(f=null,o,h){const m=o||this.element,T=new wd(this._driver,m,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(m,h||0));return T.previousNode=this.previousNode,T.currentAnimateTimings=this.currentAnimateTimings,T.options=this._copyOptions(),T.updateOptions(f),T.currentQueryIndex=this.currentQueryIndex,T.currentQueryTotal=this.currentQueryTotal,T.parentContext=this,this.subContextCount++,T}transformIntoNewTimeline(f){return this.previousNode=_h,this.currentTimeline=this.currentTimeline.fork(this.element,f),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(f,o,h){const m={duration:o??f.duration,delay:this.currentTimeline.currentTime+(h??0)+f.delay,easing:""},T=new l0(this._driver,f.element,f.keyframes,f.preStyleProps,f.postStyleProps,m,f.stretchStartingKeyframe);return this.timelines.push(T),m}incrementTime(f){this.currentTimeline.forwardTime(this.currentTimeline.duration+f)}delayNextStep(f){f>0&&this.currentTimeline.delayNextStep(f)}invokeQuery(f,o,h,m,T,k){let J=[];if(m&&J.push(this.element),f.length>0){f=(f=f.replace(Bb,"."+this._enterClassName)).replace(Ub,"."+this._leaveClassName);let ge=this._driver.query(this.element,f,1!=h);0!==h&&(ge=h<0?ge.slice(ge.length+h,ge.length):ge.slice(0,h)),J.push(...ge)}return!T&&0==J.length&&k.push(function nm(l){return new u.vHH(3014,!1)}()),J}}class _y{constructor(f,o,h,m){this._driver=f,this.element=o,this.startTime=h,this._elementTimelineStylesLookup=m,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(f){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+f),o&&this.snapshotCurrentStyles()):this.startTime+=f}fork(f,o){return this.applyStylesToKeyframe(),new _y(this._driver,f,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(f){this.applyStylesToKeyframe(),this.duration=f,this._loadKeyframe()}_updateStyle(f,o){this._localTimelineStyles.set(f,o),this._globalTimelineStyles.set(f,o),this._styleSummary.set(f,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(f){f&&this._previousKeyframe.set("easing",f);for(let[o,h]of this._globalTimelineStyles)this._backFill.set(o,h||pn),this._currentKeyframe.set(o,pn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(f,o,h,m){o&&this._previousKeyframe.set("easing",o);const T=m&&m.params||{},k=function yy(l,f){const o=new Map;let h;return l.forEach(m=>{if("*"===m){h=h||f.keys();for(let T of h)o.set(T,pn)}else cc(m,o)}),o}(f,this._globalTimelineStyles);for(let[J,ue]of k){const ge=yd(ue,T,h);this._pendingStyles.set(J,ge),this._localTimelineStyles.has(J)||this._backFill.set(J,this._globalTimelineStyles.get(J)??pn),this._updateStyle(J,ge)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((f,o)=>{this._currentKeyframe.set(o,f)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((f,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,f)}))}snapshotCurrentStyles(){for(let[f,o]of this._localTimelineStyles)this._pendingStyles.set(f,o),this._updateStyle(f,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const f=[];for(let o in this._currentKeyframe)f.push(o);return f}mergeTimelineCollectedStyles(f){f._styleSummary.forEach((o,h)=>{const m=this._styleSummary.get(h);(!m||o.time>m.time)&&this._updateStyle(h,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const f=new Set,o=new Set,h=1===this._keyframes.size&&0===this.duration;let m=[];this._keyframes.forEach((J,ue)=>{const ge=cc(J,new Map,this._backFill);ge.forEach((Te,Je)=>{"!"===Te?f.add(Je):Te===pn&&o.add(Je)}),h||ge.set("offset",ue/this.duration),m.push(ge)});const T=f.size?vd(f.values()):[],k=o.size?vd(o.values()):[];if(h){const J=m[0],ue=new Map(J);J.set("offset",0),ue.set("offset",1),m=[J,ue]}return _f(this.element,m,T,k,this.duration,this.startTime,this.easing,!1)}}class l0 extends _y{constructor(f,o,h,m,T,k,J=!1){super(f,o,k.delay),this.keyframes=h,this.preStyleProps=m,this.postStyleProps=T,this._stretchStartingKeyframe=J,this.timings={duration:k.duration,delay:k.delay,easing:k.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let f=this.keyframes,{delay:o,duration:h,easing:m}=this.timings;if(this._stretchStartingKeyframe&&o){const T=[],k=h+o,J=o/k,ue=cc(f[0]);ue.set("offset",0),T.push(ue);const ge=cc(f[0]);ge.set("offset",Id(J)),T.push(ge);const Te=f.length-1;for(let Je=1;Je<=Te;Je++){let ut=cc(f[Je]);const ft=ut.get("offset");ut.set("offset",Id((o+ft*h)/k)),T.push(ut)}h=k,o=0,m="",f=T}return _f(this.element,f,this.preStyleProps,this.postStyleProps,h,o,m,!0)}}function Id(l,f=3){const o=Math.pow(10,f-1);return Math.round(l*o)/o}class iu{}const vy=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class gT extends iu{normalizePropertyName(f,o){return bd(f)}normalizeStyleValue(f,o,h,m){let T="";const k=h.toString().trim();if(vy.has(o)&&0!==h&&"0"!==h)if("number"==typeof h)T="px";else{const J=h.match(/^[+-]?[\d\.]+([a-z]*)$/);J&&0==J[1].length&&m.push(function tm(l,f){return new u.vHH(3005,!1)}())}return k+T}}function Nt(l,f,o,h,m,T,k,J,ue,ge,Te,Je,ut){return{type:0,element:l,triggerName:f,isRemovalTransition:m,fromState:o,fromStyles:T,toState:h,toStyles:k,timelines:J,queriedElements:ue,preStyleProps:ge,postStyleProps:Te,totalTime:Je,errors:ut}}const ms={};class Rc{constructor(f,o,h){this._triggerName=f,this.ast=o,this._stateStyles=h}match(f,o,h,m){return function un(l,f,o,h,m){return l.some(T=>T(f,o,h,m))}(this.ast.matchers,f,o,h,m)}buildStyles(f,o,h){let m=this._stateStyles.get("*");return void 0!==f&&(m=this._stateStyles.get(f?.toString())||m),m?m.buildStyles(o,h):new Map}build(f,o,h,m,T,k,J,ue,ge,Te){const Je=[],ut=this.ast.options&&this.ast.options.params||ms,Mt=this.buildStyles(h,J&&J.params||ms,Je),Ut=ue&&ue.params||ms,zt=this.buildStyles(m,Ut,Je),jn=new Set,Un=new Map,Mn=new Map,Sn="void"===m,rr={params:Tn(Ut,ut),delay:this.ast.options?.delay},ur=Te?[]:gm(f,o,this.ast.animation,T,k,Mt,zt,rr,ge,Je);let vn=0;if(ur.forEach(fr=>{vn=Math.max(fr.duration+fr.delay,vn)}),Je.length)return Nt(o,this._triggerName,h,m,Sn,Mt,zt,[],[],Un,Mn,vn,Je);ur.forEach(fr=>{const Kn=fr.element,ns=xs(Un,Kn,new Set);fr.preStyleProps.forEach($r=>ns.add($r));const Rs=xs(Mn,Kn,new Set);fr.postStyleProps.forEach($r=>Rs.add($r)),Kn!==o&&jn.add(Kn)});const yr=vd(jn.values());return Nt(o,this._triggerName,h,m,Sn,Mt,zt,ur,yr,Un,Mn,vn)}}function Tn(l,f){const o=eu(f);for(const h in l)l.hasOwnProperty(h)&&null!=l[h]&&(o[h]=l[h]);return o}class Vb{constructor(f,o,h){this.styles=f,this.defaultParams=o,this.normalizer=h}buildStyles(f,o){const h=new Map,m=eu(this.defaultParams);return Object.keys(f).forEach(T=>{const k=f[T];null!==k&&(m[T]=k)}),this.styles.styles.forEach(T=>{"string"!=typeof T&&T.forEach((k,J)=>{k&&(k=yd(k,m,o));const ue=this.normalizer.normalizePropertyName(J,o);k=this.normalizer.normalizeStyleValue(J,ue,k,o),h.set(J,k)})}),h}}class rt{constructor(f,o,h){this.name=f,this.ast=o,this._normalizer=h,this.transitionFactories=[],this.states=new Map,o.states.forEach(m=>{this.states.set(m.name,new Vb(m.style,m.options&&m.options.params||{},h))}),zs(this.states,"true","1"),zs(this.states,"false","0"),o.transitions.forEach(m=>{this.transitionFactories.push(new Rc(f,m,this.states))}),this.fallbackTransition=function Ct(l,f,o){return new Rc(l,{type:1,animation:{type:2,steps:[],options:null},matchers:[(k,J)=>!0],options:null,queryCount:0,depCount:0},f)}(f,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(f,o,h,m){return this.transitionFactories.find(k=>k.match(f,o,h,m))||null}matchStyles(f,o,h){return this.fallbackTransition.buildStyles(f,o,h)}}function zs(l,f,o){l.has(f)?l.has(o)||l.set(o,l.get(f)):l.has(o)&&l.set(f,l.get(o))}const by=new Lp;class Hb{constructor(f,o,h){this.bodyNode=f,this._driver=o,this._normalizer=h,this._animations=new Map,this._playersById=new Map,this.players=[]}register(f,o){const h=[],T=Fp(this._driver,o,h,[]);if(h.length)throw function hT(l){return new u.vHH(3503,!1)}();this._animations.set(f,T)}_buildPlayer(f,o,h){const m=f.element,T=im(this._normalizer,f.keyframes,o,h);return this._driver.animate(m,T,f.duration,f.delay,f.easing,[],!0)}create(f,o,h={}){const m=[],T=this._animations.get(f);let k;const J=new Map;if(T?(k=gm(this._driver,o,T,cy,om,new Map,new Map,h,by,m),k.forEach(Te=>{const Je=xs(J,Te.element,new Map);Te.postStyleProps.forEach(ut=>Je.set(ut,null))})):(m.push(function zo(){return new u.vHH(3300,!1)}()),k=[]),m.length)throw function xp(l){return new u.vHH(3504,!1)}();J.forEach((Te,Je)=>{Te.forEach((ut,ft)=>{Te.set(ft,this._driver.computeStyle(Je,ft,pn))})});const ge=Pu(k.map(Te=>{const Je=J.get(Te.element);return this._buildPlayer(Te,new Map,Je)}));return this._playersById.set(f,ge),ge.onDestroy(()=>this.destroy(f)),this.players.push(ge),ge}destroy(f){const o=this._getPlayer(f);o.destroy(),this._playersById.delete(f);const h=this.players.indexOf(o);h>=0&&this.players.splice(h,1)}_getPlayer(f){const o=this._playersById.get(f);if(!o)throw function Xl(l){return new u.vHH(3301,!1)}();return o}listen(f,o,h,m){const T=ku(o,"","","");return Rp(this._getPlayer(f),h,T,m),()=>{}}command(f,o,h,m){if("register"==h)return void this.register(f,m[0]);if("create"==h)return void this.create(f,o,m[0]||{});const T=this._getPlayer(f);switch(h){case"play":T.play();break;case"pause":T.pause();break;case"reset":T.reset();break;case"restart":T.restart();break;case"finish":T.finish();break;case"init":T.init();break;case"setPosition":T.setPosition(parseFloat(m[0]));break;case"destroy":this.destroy(f)}}}const d0="ng-animate-queued",mm="ng-animate-disabled",Gb=[],g0={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},m0={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},On="__ng_removed";class Td{get params(){return this.options.params}constructor(f,o=""){this.namespaceId=o;const h=f&&f.hasOwnProperty("value");if(this.value=function Ws(l){return l??null}(h?f.value:f),h){const T=eu(f);delete T.value,this.options=T}else this.options={};this.options.params||(this.options.params={})}absorbOptions(f){const o=f.params;if(o){const h=this.options.params;Object.keys(o).forEach(m=>{null==h[m]&&(h[m]=o[m])})}}}const yf="void",zi=new Td(yf);class kn{constructor(f,o,h){this.id=f,this.hostElement=o,this._engine=h,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+f,Ya(o,this._hostClassName)}listen(f,o,h,m){if(!this._triggers.has(o))throw function Jv(l,f){return new u.vHH(3302,!1)}();if(null==h||0==h.length)throw function Xv(l){return new u.vHH(3303,!1)}();if(!function vf(l){return"start"==l||"done"==l}(h))throw function rm(l,f){return new u.vHH(3400,!1)}();const T=xs(this._elementListeners,f,[]),k={name:o,phase:h,callback:m};T.push(k);const J=xs(this._engine.statesByElement,f,new Map);return J.has(o)||(Ya(f,pf),Ya(f,pf+"-"+o),J.set(o,zi)),()=>{this._engine.afterFlush(()=>{const ue=T.indexOf(k);ue>=0&&T.splice(ue,1),this._triggers.has(o)||J.delete(o)})}}register(f,o){return!this._triggers.has(f)&&(this._triggers.set(f,o),!0)}_getTrigger(f){const o=this._triggers.get(f);if(!o)throw function lh(l){return new u.vHH(3401,!1)}();return o}trigger(f,o,h,m=!0){const T=this._getTrigger(o),k=new jr(this.id,o,f);let J=this._engine.statesByElement.get(f);J||(Ya(f,pf),Ya(f,pf+"-"+o),this._engine.statesByElement.set(f,J=new Map));let ue=J.get(o);const ge=new Td(h,this.id);if(!(h&&h.hasOwnProperty("value"))&&ue&&ge.absorbOptions(ue.options),J.set(o,ge),ue||(ue=zi),ge.value!==yf&&ue.value===ge.value){if(!function dc(l,f){const o=Object.keys(l),h=Object.keys(f);if(o.length!=h.length)return!1;for(let m=0;m<o.length;m++){const T=o[m];if(!f.hasOwnProperty(T)||l[T]!==f[T])return!1}return!0}(ue.params,ge.params)){const Ut=[],zt=T.matchStyles(ue.value,ue.params,Ut),jn=T.matchStyles(ge.value,ge.params,Ut);Ut.length?this._engine.reportError(Ut):this._engine.afterFlush(()=>{hh(f,zt),lc(f,jn)})}return}const ut=xs(this._engine.playersByElement,f,[]);ut.forEach(Ut=>{Ut.namespaceId==this.id&&Ut.triggerName==o&&Ut.queued&&Ut.destroy()});let ft=T.matchTransition(ue.value,ge.value,f,ge.params),Mt=!1;if(!ft){if(!m)return;ft=T.fallbackTransition,Mt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:o,transition:ft,fromState:ue,toState:ge,player:k,isFallbackTransition:Mt}),Mt||(Ya(f,d0),k.onStart(()=>{bf(f,d0)})),k.onDone(()=>{let Ut=this.players.indexOf(k);Ut>=0&&this.players.splice(Ut,1);const zt=this._engine.playersByElement.get(f);if(zt){let jn=zt.indexOf(k);jn>=0&&zt.splice(jn,1)}}),this.players.push(k),ut.push(k),k}deregister(f){this._triggers.delete(f),this._engine.statesByElement.forEach(o=>o.delete(f)),this._elementListeners.forEach((o,h)=>{this._elementListeners.set(h,o.filter(m=>m.name!=f))})}clearElementCache(f){this._engine.statesByElement.delete(f),this._elementListeners.delete(f);const o=this._engine.playersByElement.get(f);o&&(o.forEach(h=>h.destroy()),this._engine.playersByElement.delete(f))}_signalRemovalForInnerTriggers(f,o){const h=this._engine.driver.query(f,_d,!0);h.forEach(m=>{if(m[On])return;const T=this._engine.fetchNamespacesByElement(m);T.size?T.forEach(k=>k.triggerLeaveAnimation(m,o,!1,!0)):this.clearElementCache(m)}),this._engine.afterFlushAnimationsDone(()=>h.forEach(m=>this.clearElementCache(m)))}triggerLeaveAnimation(f,o,h,m){const T=this._engine.statesByElement.get(f),k=new Map;if(T){const J=[];if(T.forEach((ue,ge)=>{if(k.set(ge,ue.value),this._triggers.has(ge)){const Te=this.trigger(f,ge,yf,m);Te&&J.push(Te)}}),J.length)return this._engine.markElementAsRemoved(this.id,f,!0,o,k),h&&Pu(J).onDone(()=>this._engine.processLeaveNode(f)),!0}return!1}prepareLeaveAnimationListeners(f){const o=this._elementListeners.get(f),h=this._engine.statesByElement.get(f);if(o&&h){const m=new Set;o.forEach(T=>{const k=T.name;if(m.has(k))return;m.add(k);const ue=this._triggers.get(k).fallbackTransition,ge=h.get(k)||zi,Te=new Td(yf),Je=new jr(this.id,k,f);this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:k,transition:ue,fromState:ge,toState:Te,player:Je,isFallbackTransition:!0})})}}removeNode(f,o){const h=this._engine;if(f.childElementCount&&this._signalRemovalForInnerTriggers(f,o),this.triggerLeaveAnimation(f,o,!0))return;let m=!1;if(h.totalAnimations){const T=h.players.length?h.playersByQueriedElement.get(f):[];if(T&&T.length)m=!0;else{let k=f;for(;k=k.parentNode;)if(h.statesByElement.get(k)){m=!0;break}}}if(this.prepareLeaveAnimationListeners(f),m)h.markElementAsRemoved(this.id,f,!1,o);else{const T=f[On];(!T||T===g0)&&(h.afterFlush(()=>this.clearElementCache(f)),h.destroyInnerAnimations(f),h._onRemovalComplete(f,o))}}insertNode(f,o){Ya(f,this._hostClassName)}drainQueuedTransitions(f){const o=[];return this._queue.forEach(h=>{const m=h.player;if(m.destroyed)return;const T=h.element,k=this._elementListeners.get(T);k&&k.forEach(J=>{if(J.name==h.triggerName){const ue=ku(T,h.triggerName,h.fromState.value,h.toState.value);ue._data=f,Rp(h.player,J.phase,ue,J.callback)}}),m.markedForDestroy?this._engine.afterFlush(()=>{m.destroy()}):o.push(h)}),this._queue=[],o.sort((h,m)=>{const T=h.transition.ast.depCount,k=m.transition.ast.depCount;return 0==T||0==k?T-k:this._engine.driver.containsElement(h.element,m.element)?1:-1})}destroy(f){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,f)}}class Up{_onRemovalComplete(f,o){this.onRemovalComplete(f,o)}constructor(f,o,h){this.bodyNode=f,this.driver=o,this._normalizer=h,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(m,T)=>{}}get queuedPlayers(){const f=[];return this._namespaceList.forEach(o=>{o.players.forEach(h=>{h.queued&&f.push(h)})}),f}createNamespace(f,o){const h=new kn(f,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(h,o):(this.newHostElements.set(o,h),this.collectEnterElement(o)),this._namespaceLookup[f]=h}_balanceNamespaceList(f,o){const h=this._namespaceList,m=this.namespacesByHostElement;if(h.length-1>=0){let k=!1,J=this.driver.getParentElement(o);for(;J;){const ue=m.get(J);if(ue){const ge=h.indexOf(ue);h.splice(ge+1,0,f),k=!0;break}J=this.driver.getParentElement(J)}k||h.unshift(f)}else h.push(f);return m.set(o,f),f}register(f,o){let h=this._namespaceLookup[f];return h||(h=this.createNamespace(f,o)),h}registerTrigger(f,o,h){let m=this._namespaceLookup[f];m&&m.register(o,h)&&this.totalAnimations++}destroy(f,o){f&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const h=this._fetchNamespace(f);this.namespacesByHostElement.delete(h.hostElement);const m=this._namespaceList.indexOf(h);m>=0&&this._namespaceList.splice(m,1),h.destroy(o),delete this._namespaceLookup[f]}))}_fetchNamespace(f){return this._namespaceLookup[f]}fetchNamespacesByElement(f){const o=new Set,h=this.statesByElement.get(f);if(h)for(let m of h.values())if(m.namespaceId){const T=this._fetchNamespace(m.namespaceId);T&&o.add(T)}return o}trigger(f,o,h,m){if(Wt(o)){const T=this._fetchNamespace(f);if(T)return T.trigger(o,h,m),!0}return!1}insertNode(f,o,h,m){if(!Wt(o))return;const T=o[On];if(T&&T.setForRemoval){T.setForRemoval=!1,T.setForMove=!0;const k=this.collectedLeaveElements.indexOf(o);k>=0&&this.collectedLeaveElements.splice(k,1)}if(f){const k=this._fetchNamespace(f);k&&k.insertNode(o,h)}m&&this.collectEnterElement(o)}collectEnterElement(f){this.collectedEnterElements.push(f)}markElementAsDisabled(f,o){o?this.disabledNodes.has(f)||(this.disabledNodes.add(f),Ya(f,mm)):this.disabledNodes.has(f)&&(this.disabledNodes.delete(f),bf(f,mm))}removeNode(f,o,h){if(Wt(o)){const m=f?this._fetchNamespace(f):null;m?m.removeNode(o,h):this.markElementAsRemoved(f,o,!1,h);const T=this.namespacesByHostElement.get(o);T&&T.id!==f&&T.removeNode(o,h)}else this._onRemovalComplete(o,h)}markElementAsRemoved(f,o,h,m,T){this.collectedLeaveElements.push(o),o[On]={namespaceId:f,setForRemoval:m,hasAnimation:h,removedBeforeQueried:!1,previousTriggersValues:T}}listen(f,o,h,m,T){return Wt(o)?this._fetchNamespace(f).listen(o,h,m,T):()=>{}}_buildInstruction(f,o,h,m,T){return f.transition.build(this.driver,f.element,f.fromState.value,f.toState.value,h,m,f.fromState.options,f.toState.options,o,T)}destroyInnerAnimations(f){let o=this.driver.query(f,_d,!0);o.forEach(h=>this.destroyActiveAnimationsForElement(h)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(f,Wa,!0),o.forEach(h=>this.finishActiveQueriedAnimationOnElement(h)))}destroyActiveAnimationsForElement(f){const o=this.playersByElement.get(f);o&&o.forEach(h=>{h.queued?h.markedForDestroy=!0:h.destroy()})}finishActiveQueriedAnimationOnElement(f){const o=this.playersByQueriedElement.get(f);o&&o.forEach(h=>h.finish())}whenRenderingDone(){return new Promise(f=>{if(this.players.length)return Pu(this.players).onDone(()=>f());f()})}processLeaveNode(f){const o=f[On];if(o&&o.setForRemoval){if(f[On]=g0,o.namespaceId){this.destroyInnerAnimations(f);const h=this._fetchNamespace(o.namespaceId);h&&h.clearElementCache(f)}this._onRemovalComplete(f,o.setForRemoval)}f.classList?.contains(mm)&&this.markElementAsDisabled(f,!1),this.driver.query(f,".ng-animate-disabled",!0).forEach(h=>{this.markElementAsDisabled(h,!1)})}flush(f=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((h,m)=>this._balanceNamespaceList(h,m)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let h=0;h<this.collectedEnterElements.length;h++)Ya(this.collectedEnterElements[h],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const h=[];try{o=this._flushAnimations(h,f)}finally{for(let m=0;m<h.length;m++)h[m]()}}else for(let h=0;h<this.collectedLeaveElements.length;h++)this.processLeaveNode(this.collectedLeaveElements[h]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(h=>h()),this._flushFns=[],this._whenQuietFns.length){const h=this._whenQuietFns;this._whenQuietFns=[],o.length?Pu(o).onDone(()=>{h.forEach(m=>m())}):h.forEach(m=>m())}}reportError(f){throw function e0(l){return new u.vHH(3402,!1)}()}_flushAnimations(f,o){const h=new Lp,m=[],T=new Map,k=[],J=new Map,ue=new Map,ge=new Map,Te=new Set;this.disabledNodes.forEach(Pt=>{Te.add(Pt);const gn=this.driver.query(Pt,".ng-animate-queued",!0);for(let En=0;En<gn.length;En++)Te.add(gn[En])});const Je=this.bodyNode,ut=Array.from(this.statesByElement.keys()),ft=_0(ut,this.collectedEnterElements),Mt=new Map;let Ut=0;ft.forEach((Pt,gn)=>{const En=cy+Ut++;Mt.set(gn,En),Pt.forEach(Nn=>Ya(Nn,En))});const zt=[],jn=new Set,Un=new Set;for(let Pt=0;Pt<this.collectedLeaveElements.length;Pt++){const gn=this.collectedLeaveElements[Pt],En=gn[On];En&&En.setForRemoval&&(zt.push(gn),jn.add(gn),En.hasAnimation?this.driver.query(gn,".ng-star-inserted",!0).forEach(Nn=>jn.add(Nn)):Un.add(gn))}const Mn=new Map,Sn=_0(ut,Array.from(jn));Sn.forEach((Pt,gn)=>{const En=om+Ut++;Mn.set(gn,En),Pt.forEach(Nn=>Ya(Nn,En))}),f.push(()=>{ft.forEach((Pt,gn)=>{const En=Mt.get(gn);Pt.forEach(Nn=>bf(Nn,En))}),Sn.forEach((Pt,gn)=>{const En=Mn.get(gn);Pt.forEach(Nn=>bf(Nn,En))}),zt.forEach(Pt=>{this.processLeaveNode(Pt)})});const rr=[],ur=[];for(let Pt=this._namespaceList.length-1;Pt>=0;Pt--)this._namespaceList[Pt].drainQueuedTransitions(o).forEach(En=>{const Nn=En.player,li=En.element;if(rr.push(Nn),this.collectedEnterElements.length){const Wi=li[On];if(Wi&&Wi.setForMove){if(Wi.previousTriggersValues&&Wi.previousTriggersValues.has(En.triggerName)){const _s=Wi.previousTriggersValues.get(En.triggerName),Ui=this.statesByElement.get(En.element);if(Ui&&Ui.has(En.triggerName)){const au=Ui.get(En.triggerName);au.value=_s,Ui.set(En.triggerName,au)}}return void Nn.destroy()}}const pa=!Je||!this.driver.containsElement(Je,li),rs=Mn.get(li),ga=Mt.get(li),ui=this._buildInstruction(En,h,ga,rs,pa);if(ui.errors&&ui.errors.length)return void ur.push(ui);if(pa)return Nn.onStart(()=>hh(li,ui.fromStyles)),Nn.onDestroy(()=>lc(li,ui.toStyles)),void m.push(Nn);if(En.isFallbackTransition)return Nn.onStart(()=>hh(li,ui.fromStyles)),Nn.onDestroy(()=>lc(li,ui.toStyles)),void m.push(Nn);const ma=[];ui.timelines.forEach(Wi=>{Wi.stretchStartingKeyframe=!0,this.disabledNodes.has(Wi.element)||ma.push(Wi)}),ui.timelines=ma,h.append(li,ui.timelines),k.push({instruction:ui,player:Nn,element:li}),ui.queriedElements.forEach(Wi=>xs(J,Wi,[]).push(Nn)),ui.preStyleProps.forEach((Wi,_s)=>{if(Wi.size){let Ui=ue.get(_s);Ui||ue.set(_s,Ui=new Set),Wi.forEach((au,pc)=>Ui.add(pc))}}),ui.postStyleProps.forEach((Wi,_s)=>{let Ui=ge.get(_s);Ui||ge.set(_s,Ui=new Set),Wi.forEach((au,pc)=>Ui.add(pc))})});if(ur.length){const Pt=[];ur.forEach(gn=>{Pt.push(function sy(l,f){return new u.vHH(3505,!1)}())}),rr.forEach(gn=>gn.destroy()),this.reportError(Pt)}const vn=new Map,yr=new Map;k.forEach(Pt=>{const gn=Pt.element;h.has(gn)&&(yr.set(gn,gn),this._beforeAnimationBuild(Pt.player.namespaceId,Pt.instruction,vn))}),m.forEach(Pt=>{const gn=Pt.element;this._getPreviousPlayers(gn,!1,Pt.namespaceId,Pt.triggerName,null).forEach(Nn=>{xs(vn,gn,[]).push(Nn),Nn.destroy()})});const fr=zt.filter(Pt=>Hp(Pt,ue,ge)),Kn=new Map;El(Kn,this.driver,Un,ge,pn).forEach(Pt=>{Hp(Pt,ue,ge)&&fr.push(Pt)});const Rs=new Map;ft.forEach((Pt,gn)=>{El(Rs,this.driver,new Set(Pt),ue,"!")}),fr.forEach(Pt=>{const gn=Kn.get(Pt),En=Rs.get(Pt);Kn.set(Pt,new Map([...gn?.entries()??[],...En?.entries()??[]]))});const $r=[],Dl=[],Uu={};k.forEach(Pt=>{const{element:gn,player:En,instruction:Nn}=Pt;if(h.has(gn)){if(Te.has(gn))return En.onDestroy(()=>lc(gn,Nn.toStyles)),En.disabled=!0,En.overrideTotalTime(Nn.totalTime),void m.push(En);let li=Uu;if(yr.size>1){let rs=gn;const ga=[];for(;rs=rs.parentNode;){const ui=yr.get(rs);if(ui){li=ui;break}ga.push(rs)}ga.forEach(ui=>yr.set(ui,li))}const pa=this._buildAnimation(En.namespaceId,Nn,vn,T,Rs,Kn);if(En.setRealPlayer(pa),li===Uu)$r.push(En);else{const rs=this.playersByElement.get(li);rs&&rs.length&&(En.parentPlayer=Pu(rs)),m.push(En)}}else hh(gn,Nn.fromStyles),En.onDestroy(()=>lc(gn,Nn.toStyles)),Dl.push(En),Te.has(gn)&&m.push(En)}),Dl.forEach(Pt=>{const gn=T.get(Pt.element);if(gn&&gn.length){const En=Pu(gn);Pt.setRealPlayer(En)}}),m.forEach(Pt=>{Pt.parentPlayer?Pt.syncPlayerEvents(Pt.parentPlayer):Pt.destroy()});for(let Pt=0;Pt<zt.length;Pt++){const gn=zt[Pt],En=gn[On];if(bf(gn,om),En&&En.hasAnimation)continue;let Nn=[];if(J.size){let pa=J.get(gn);pa&&pa.length&&Nn.push(...pa);let rs=this.driver.query(gn,Wa,!0);for(let ga=0;ga<rs.length;ga++){let ui=J.get(rs[ga]);ui&&ui.length&&Nn.push(...ui)}}const li=Nn.filter(pa=>!pa.destroyed);li.length?Vp(this,gn,li):this.processLeaveNode(gn)}return zt.length=0,$r.forEach(Pt=>{this.players.push(Pt),Pt.onDone(()=>{Pt.destroy();const gn=this.players.indexOf(Pt);this.players.splice(gn,1)}),Pt.play()}),$r}afterFlush(f){this._flushFns.push(f)}afterFlushAnimationsDone(f){this._whenQuietFns.push(f)}_getPreviousPlayers(f,o,h,m,T){let k=[];if(o){const J=this.playersByQueriedElement.get(f);J&&(k=J)}else{const J=this.playersByElement.get(f);if(J){const ue=!T||T==yf;J.forEach(ge=>{ge.queued||!ue&&ge.triggerName!=m||k.push(ge)})}}return(h||m)&&(k=k.filter(J=>!(h&&h!=J.namespaceId||m&&m!=J.triggerName))),k}_beforeAnimationBuild(f,o,h){const T=o.element,k=o.isRemovalTransition?void 0:f,J=o.isRemovalTransition?void 0:o.triggerName;for(const ue of o.timelines){const ge=ue.element,Te=ge!==T,Je=xs(h,ge,[]);this._getPreviousPlayers(ge,Te,k,J,o.toState).forEach(ft=>{const Mt=ft.getRealPlayer();Mt.beforeDestroy&&Mt.beforeDestroy(),ft.destroy(),Je.push(ft)})}hh(T,o.fromStyles)}_buildAnimation(f,o,h,m,T,k){const J=o.triggerName,ue=o.element,ge=[],Te=new Set,Je=new Set,ut=o.timelines.map(Mt=>{const Ut=Mt.element;Te.add(Ut);const zt=Ut[On];if(zt&&zt.removedBeforeQueried)return new Si(Mt.duration,Mt.delay);const jn=Ut!==ue,Un=function y0(l){const f=[];return wy(l,f),f}((h.get(Ut)||Gb).map(vn=>vn.getRealPlayer())).filter(vn=>!!vn.element&&vn.element===Ut),Mn=T.get(Ut),Sn=k.get(Ut),rr=im(this._normalizer,Mt.keyframes,Mn,Sn),ur=this._buildPlayer(Mt,rr,Un);if(Mt.subTimeline&&m&&Je.add(Ut),jn){const vn=new jr(f,J,Ut);vn.setRealPlayer(ur),ge.push(vn)}return ur});ge.forEach(Mt=>{xs(this.playersByQueriedElement,Mt.element,[]).push(Mt),Mt.onDone(()=>function jb(l,f,o){let h=l.get(f);if(h){if(h.length){const m=h.indexOf(o);h.splice(m,1)}0==h.length&&l.delete(f)}return h}(this.playersByQueriedElement,Mt.element,Mt))}),Te.forEach(Mt=>Ya(Mt,s0));const ft=Pu(ut);return ft.onDestroy(()=>{Te.forEach(Mt=>bf(Mt,s0)),lc(ue,o.toStyles)}),Je.forEach(Mt=>{xs(m,Mt,[]).push(ft)}),ft}_buildPlayer(f,o,h){return o.length>0?this.driver.animate(f.element,o,f.duration,f.delay,f.easing,h):new Si(f.duration,f.delay)}}class jr{constructor(f,o,h){this.namespaceId=f,this.triggerName=o,this.element=h,this._player=new Si,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(f){this._containsRealPlayer||(this._player=f,this._queuedCallbacks.forEach((o,h)=>{o.forEach(m=>Rp(f,h,void 0,m))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(f.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(f){this.totalTime=f}syncPlayerEvents(f){const o=this._player;o.triggerCallback&&f.onStart(()=>o.triggerCallback("start")),f.onDone(()=>this.finish()),f.onDestroy(()=>this.destroy())}_queueEvent(f,o){xs(this._queuedCallbacks,f,[]).push(o)}onDone(f){this.queued&&this._queueEvent("done",f),this._player.onDone(f)}onStart(f){this.queued&&this._queueEvent("start",f),this._player.onStart(f)}onDestroy(f){this.queued&&this._queueEvent("destroy",f),this._player.onDestroy(f)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(f){this.queued||this._player.setPosition(f)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(f){const o=this._player;o.triggerCallback&&o.triggerCallback(f)}}function Wt(l){return l&&1===l.nodeType}function _m(l,f){const o=l.style.display;return l.style.display=f??"none",o}function El(l,f,o,h,m){const T=[];o.forEach(ue=>T.push(_m(ue)));const k=[];h.forEach((ue,ge)=>{const Te=new Map;ue.forEach(Je=>{const ut=f.computeStyle(ge,Je,m);Te.set(Je,ut),(!ut||0==ut.length)&&(ge[On]=m0,k.push(ge))}),l.set(ge,Te)});let J=0;return o.forEach(ue=>_m(ue,T[J++])),k}function _0(l,f){const o=new Map;if(l.forEach(J=>o.set(J,[])),0==f.length)return o;const m=new Set(f),T=new Map;function k(J){if(!J)return 1;let ue=T.get(J);if(ue)return ue;const ge=J.parentNode;return ue=o.has(ge)?ge:m.has(ge)?1:k(ge),T.set(J,ue),ue}return f.forEach(J=>{const ue=k(J);1!==ue&&o.get(ue).push(J)}),o}function Ya(l,f){l.classList?.add(f)}function bf(l,f){l.classList?.remove(f)}function Vp(l,f,o){Pu(o).onDone(()=>l.processLeaveNode(f))}function wy(l,f){for(let o=0;o<l.length;o++){const h=l[o];h instanceof sr?wy(h.players,f):f.push(h)}}function Hp(l,f,o){const h=o.get(l);if(!h)return!1;let m=f.get(l);return m?h.forEach(T=>m.add(T)):f.set(l,h),o.delete(l),!0}class wf{constructor(f,o,h){this.bodyNode=f,this._driver=o,this._normalizer=h,this._triggerCache={},this.onRemovalComplete=(m,T)=>{},this._transitionEngine=new Up(f,o,h),this._timelineEngine=new Hb(f,o,h),this._transitionEngine.onRemovalComplete=(m,T)=>this.onRemovalComplete(m,T)}registerTrigger(f,o,h,m,T){const k=f+"-"+m;let J=this._triggerCache[k];if(!J){const ue=[],Te=Fp(this._driver,T,ue,[]);if(ue.length)throw function Qv(l,f){return new u.vHH(3404,!1)}();J=function Jt(l,f,o){return new rt(l,f,o)}(m,Te,this._normalizer),this._triggerCache[k]=J}this._transitionEngine.registerTrigger(o,m,J)}register(f,o){this._transitionEngine.register(f,o)}destroy(f,o){this._transitionEngine.destroy(f,o)}onInsert(f,o,h,m){this._transitionEngine.insertNode(f,o,h,m)}onRemove(f,o,h){this._transitionEngine.removeNode(f,o,h)}disableAnimations(f,o){this._transitionEngine.markElementAsDisabled(f,o)}process(f,o,h,m){if("@"==h.charAt(0)){const[T,k]=uh(h);this._timelineEngine.command(T,o,k,m)}else this._transitionEngine.trigger(f,o,h,m)}listen(f,o,h,m,T){if("@"==h.charAt(0)){const[k,J]=uh(h);return this._timelineEngine.listen(k,o,J,T)}return this._transitionEngine.listen(f,o,h,m,T)}flush(f=-1){this._transitionEngine.flush(f)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(f){this._transitionEngine.afterFlushAnimationsDone(f)}}let yh=(()=>{class l{static#e=this.initialStylesByElement=new WeakMap;constructor(o,h,m){this._element=o,this._startStyles=h,this._endStyles=m,this._state=0;let T=l.initialStylesByElement.get(o);T||l.initialStylesByElement.set(o,T=new Map),this._initialStyles=T}start(){this._state<1&&(this._startStyles&&lc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(lc(this._element,this._initialStyles),this._endStyles&&(lc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(l.initialStylesByElement.delete(this._element),this._startStyles&&(hh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(hh(this._element,this._endStyles),this._endStyles=null),lc(this._element,this._initialStyles),this._state=3)}}return l})();function If(l){let f=null;return l.forEach((o,h)=>{(function qe(l){return"display"===l||"position"===l})(h)&&(f=f||new Map,f.set(h,o))}),f}class ym{constructor(f,o,h,m){this.element=f,this.keyframes=o,this.options=h,this._specialStyles=m,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=h.duration,this._delay=h.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const f=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,f,this.options),this._finalKeyframe=f.length?f[f.length-1]:new Map;const o=()=>this._onFinish();this.domPlayer.addEventListener("finish",o),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",o)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(f){const o=[];return f.forEach(h=>{o.push(Object.fromEntries(h))}),o}_triggerWebAnimation(f,o,h){return f.animate(this._convertKeyframesToObject(o),h)}onStart(f){this._originalOnStartFns.push(f),this._onStartFns.push(f)}onDone(f){this._originalOnDoneFns.push(f),this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(f=>f()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}setPosition(f){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=f*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const f=new Map;this.hasStarted()&&this._finalKeyframe.forEach((h,m)=>{"offset"!==m&&f.set(m,this._finished?h:ly(this.element,m))}),this.currentSnapshot=f}triggerCallback(f){const o="start"===f?this._onStartFns:this._onDoneFns;o.forEach(h=>h()),o.length=0}}class hc{validateStyleProperty(f){return!0}validateAnimatableStyleProperty(f){return!0}matchesElement(f,o){return!1}containsElement(f,o){return dh(f,o)}getParentElement(f){return oy(f)}query(f,o,h){return ff(f,o,h)}computeStyle(f,o,h){return window.getComputedStyle(f)[o]}animate(f,o,h,m,T,k=[]){const ue={duration:h,delay:m,fill:0==m?"both":"forwards"};T&&(ue.easing=T);const ge=new Map,Te=k.filter(ft=>ft instanceof ym);(function dm(l,f){return 0===l||0===f})(h,m)&&Te.forEach(ft=>{ft.currentSnapshot.forEach((Mt,Ut)=>ge.set(Ut,Mt))});let Je=function lm(l){return l.length?l[0]instanceof Map?l:l.map(f=>lr(f)):[]}(o).map(ft=>cc(ft));Je=function ph(l,f,o){if(o.size&&f.length){let h=f[0],m=[];if(o.forEach((T,k)=>{h.has(k)||m.push(k),h.set(k,T)}),m.length)for(let T=1;T<f.length;T++){let k=f[T];m.forEach(J=>k.set(J,ly(l,J)))}}return f}(f,Je,ge);const ut=function $b(l,f){let o=null,h=null;return Array.isArray(f)&&f.length?(o=If(f[0]),f.length>1&&(h=If(f[f.length-1]))):f instanceof Map&&(o=If(f)),o||h?new yh(l,o,h):null}(f,Je);return new ym(f,Je,ue,ut)}}let zb=(()=>{class l extends tn{constructor(o,h){super(),this._nextAnimationId=0,this._renderer=o.createRenderer(h.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(o){const h=this._nextAnimationId.toString();this._nextAnimationId++;const m=Array.isArray(o)?ir(o):o;return v0(this._renderer,null,h,"register",[m]),new Gp(h,this._renderer)}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(u.FYo),u.LFG(le.K0))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac})}return l})();class Gp extends ln{constructor(f,o){super(),this._id=f,this._renderer=o}create(f,o){return new su(this._id,f,o||{},this._renderer)}}class su{constructor(f,o,h,m){this.id=f,this.element=o,this._renderer=m,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",h)}_listen(f,o){return this._renderer.listen(this.element,`@@${this.id}:${f}`,o)}_command(f,...o){return v0(this._renderer,this.element,this.id,f,o)}onDone(f){this._listen("done",f)}onStart(f){this._listen("start",f)}onDestroy(f){this._listen("destroy",f)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(f){this._command("setPosition",f)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function v0(l,f,o,h,m){return l.setProperty(f,`@@${o}:${h}`,m)}const vh="@.disabled";let qo=(()=>{class l{constructor(o,h,m){this.delegate=o,this.engine=h,this._zone=m,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,h.onRemovalComplete=(T,k)=>{const J=k?.parentNode(T);J&&k.removeChild(J,T)}}createRenderer(o,h){const T=this.delegate.createRenderer(o,h);if(!(o&&h&&h.data&&h.data.animation)){let Te=this._rendererCache.get(T);return Te||(Te=new Ed("",T,this.engine,()=>this._rendererCache.delete(T)),this._rendererCache.set(T,Te)),Te}const k=h.id,J=h.id+"-"+this._currentId;this._currentId++,this.engine.register(J,o);const ue=Te=>{Array.isArray(Te)?Te.forEach(ue):this.engine.registerTrigger(k,J,o,Te.name,Te)};return h.data.animation.forEach(ue),new vm(this,J,T,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(o,h,m){o>=0&&o<this._microtaskId?this._zone.run(()=>h(m)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(T=>{const[k,J]=T;k(J)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([h,m]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(u.FYo),u.LFG(wf),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac})}return l})();class Ed{constructor(f,o,h,m){this.namespaceId=f,this.delegate=o,this.engine=h,this._onDestroy=m}get data(){return this.delegate.data}destroyNode(f){this.delegate.destroyNode?.(f)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(f,o){return this.delegate.createElement(f,o)}createComment(f){return this.delegate.createComment(f)}createText(f){return this.delegate.createText(f)}appendChild(f,o){this.delegate.appendChild(f,o),this.engine.onInsert(this.namespaceId,o,f,!1)}insertBefore(f,o,h,m=!0){this.delegate.insertBefore(f,o,h),this.engine.onInsert(this.namespaceId,o,f,m)}removeChild(f,o,h){this.engine.onRemove(this.namespaceId,o,this.delegate)}selectRootElement(f,o){return this.delegate.selectRootElement(f,o)}parentNode(f){return this.delegate.parentNode(f)}nextSibling(f){return this.delegate.nextSibling(f)}setAttribute(f,o,h,m){this.delegate.setAttribute(f,o,h,m)}removeAttribute(f,o,h){this.delegate.removeAttribute(f,o,h)}addClass(f,o){this.delegate.addClass(f,o)}removeClass(f,o){this.delegate.removeClass(f,o)}setStyle(f,o,h,m){this.delegate.setStyle(f,o,h,m)}removeStyle(f,o,h){this.delegate.removeStyle(f,o,h)}setProperty(f,o,h){"@"==o.charAt(0)&&o==vh?this.disableAnimations(f,!!h):this.delegate.setProperty(f,o,h)}setValue(f,o){this.delegate.setValue(f,o)}listen(f,o,h){return this.delegate.listen(f,o,h)}disableAnimations(f,o){this.engine.disableAnimations(f,o)}}class vm extends Ed{constructor(f,o,h,m,T){super(o,h,m,T),this.factory=f,this.namespaceId=o}setProperty(f,o,h){"@"==o.charAt(0)?"."==o.charAt(1)&&o==vh?this.disableAnimations(f,h=void 0===h||!!h):this.engine.process(this.namespaceId,f,o.slice(1),h):this.delegate.setProperty(f,o,h)}listen(f,o,h){if("@"==o.charAt(0)){const m=function ts(l){switch(l){case"body":return document.body;case"document":return document;case"window":return window;default:return l}}(f);let T=o.slice(1),k="";return"@"!=T.charAt(0)&&([T,k]=function bh(l){const f=l.indexOf(".");return[l.substring(0,f),l.slice(f+1)]}(T)),this.engine.listen(this.namespaceId,m,T,k,J=>{this.factory.scheduleListenerCallback(J._data||-1,h,J)})}return this.delegate.listen(f,o,h)}}const Ih=[{provide:tn,useClass:zb},{provide:iu,useFactory:function wh(){return new gT}},{provide:wf,useClass:(()=>{class l extends wf{constructor(o,h,m,T){super(o.body,h,m)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(le.K0),u.LFG(sm),u.LFG(iu),u.LFG(u.z2F))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac})}return l})()},{provide:u.FYo,useFactory:function qs(l,f,o){return new qo(l,f,o)},deps:[w.se,wf,u.R0b]}],Bu=[{provide:sm,useFactory:()=>new hc},{provide:u.QbO,useValue:"BrowserAnimations"},...Ih],Aa=[{provide:sm,useClass:gs},{provide:u.QbO,useValue:"NoopAnimations"},...Ih];let Th=(()=>{class l{static withConfig(o){return{ngModule:l,providers:o.disableAnimations?Aa:Bu}}static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({providers:Bu,imports:[w.b2]})}return l})(),b0=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l,bootstrap:[Ra]});static#n=this.\u0275inj=u.cJS({imports:[w.b2,be,Xg.r,Th,(0,Xo.hX)(()=>(0,Xo.ZF)(Fs.N.firebaseConfig)),(0,bt.Cm)(()=>(0,bt.ad)()),ws,ty]})}return l})();w.q6().bootstrapModule(b0).catch(l=>console.error(l))},5619:(Gt,$e,K)=>{K.d($e,{X:()=>ae});var w=K(8645);class ae extends w.x{constructor(we){super(),this._value=we}get value(){return this.getValue()}_subscribe(we){const de=super._subscribe(we);return!de.closed&&we.next(this._value),de}getValue(){const{hasError:we,thrownError:de,_value:fe}=this;if(we)throw de;return this._throwIfClosed(),fe}next(we){super.next(this._value=we)}}},5592:(Gt,$e,K)=>{K.d($e,{y:()=>He});var w=K(305),ae=K(7394),u=K(4850),we=K(8407),de=K(2653),fe=K(4674),Ne=K(1441);let He=(()=>{class Se{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const it=new Se;return it.source=this,it.operator=Pe,it}subscribe(Pe,it,At){const Bt=function le(Se){return Se&&Se instanceof w.Lv||function re(Se){return Se&&(0,fe.m)(Se.next)&&(0,fe.m)(Se.error)&&(0,fe.m)(Se.complete)}(Se)&&(0,ae.Nn)(Se)}(Pe)?Pe:new w.Hp(Pe,it,At);return(0,Ne.x)(()=>{const{operator:Ft,source:xn}=this;Bt.add(Ft?Ft.call(Bt,xn):xn?this._subscribe(Bt):this._trySubscribe(Bt))}),Bt}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(it){Pe.error(it)}}forEach(Pe,it){return new(it=Ee(it))((At,Bt)=>{const Ft=new w.Hp({next:xn=>{try{Pe(xn)}catch(xt){Bt(xt),Ft.unsubscribe()}},error:Bt,complete:At});this.subscribe(Ft)})}_subscribe(Pe){var it;return null===(it=this.source)||void 0===it?void 0:it.subscribe(Pe)}[u.L](){return this}pipe(...Pe){return(0,we.U)(Pe)(this)}toPromise(Pe){return new(Pe=Ee(Pe))((it,At)=>{let Bt;this.subscribe(Ft=>Bt=Ft,Ft=>At(Ft),()=>it(Bt))})}}return Se.create=et=>new Se(et),Se})();function Ee(Se){var et;return null!==(et=Se??de.config.Promise)&&void 0!==et?et:Promise}},8645:(Gt,$e,K)=>{K.d($e,{x:()=>Ne});var w=K(5592),ae=K(7394);const we=(0,K(2306).d)(Ee=>function(){Ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=K(9039),fe=K(1441);let Ne=(()=>{class Ee extends w.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(le){const Se=new He(this,this);return Se.operator=le,Se}_throwIfClosed(){if(this.closed)throw new we}next(le){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Se of this.currentObservers)Se.next(le)}})}error(le){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=le;const{observers:Se}=this;for(;Se.length;)Se.shift().error(le)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:le}=this;for(;le.length;)le.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var le;return(null===(le=this.observers)||void 0===le?void 0:le.length)>0}_trySubscribe(le){return this._throwIfClosed(),super._trySubscribe(le)}_subscribe(le){return this._throwIfClosed(),this._checkFinalizedStatuses(le),this._innerSubscribe(le)}_innerSubscribe(le){const{hasError:Se,isStopped:et,observers:Pe}=this;return Se||et?ae.Lc:(this.currentObservers=null,Pe.push(le),new ae.w0(()=>{this.currentObservers=null,(0,de.P)(Pe,le)}))}_checkFinalizedStatuses(le){const{hasError:Se,thrownError:et,isStopped:Pe}=this;Se?le.error(et):Pe&&le.complete()}asObservable(){const le=new w.y;return le.source=this,le}}return Ee.create=(re,le)=>new He(re,le),Ee})();class He extends Ne{constructor(re,le){super(),this.destination=re,this.source=le}next(re){var le,Se;null===(Se=null===(le=this.destination)||void 0===le?void 0:le.next)||void 0===Se||Se.call(le,re)}error(re){var le,Se;null===(Se=null===(le=this.destination)||void 0===le?void 0:le.error)||void 0===Se||Se.call(le,re)}complete(){var re,le;null===(le=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===le||le.call(re)}_subscribe(re){var le,Se;return null!==(Se=null===(le=this.source)||void 0===le?void 0:le.subscribe(re))&&void 0!==Se?Se:ae.Lc}}},305:(Gt,$e,K)=>{K.d($e,{Hp:()=>At,Lv:()=>Se});var w=K(4674),ae=K(7394),u=K(2653),we=K(3894),de=K(2420);const fe=Ee("C",void 0,void 0);function Ee(mt,ot,vt){return{kind:mt,value:ot,error:vt}}var re=K(7599),le=K(1441);class Se extends ae.w0{constructor(ot){super(),this.isStopped=!1,ot?(this.destination=ot,(0,ae.Nn)(ot)&&ot.add(this)):this.destination=xt}static create(ot,vt,_t){return new At(ot,vt,_t)}next(ot){this.isStopped?xn(function He(mt){return Ee("N",mt,void 0)}(ot),this):this._next(ot)}error(ot){this.isStopped?xn(function Ne(mt){return Ee("E",void 0,mt)}(ot),this):(this.isStopped=!0,this._error(ot))}complete(){this.isStopped?xn(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ot){this.destination.next(ot)}_error(ot){try{this.destination.error(ot)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const et=Function.prototype.bind;function Pe(mt,ot){return et.call(mt,ot)}class it{constructor(ot){this.partialObserver=ot}next(ot){const{partialObserver:vt}=this;if(vt.next)try{vt.next(ot)}catch(_t){Bt(_t)}}error(ot){const{partialObserver:vt}=this;if(vt.error)try{vt.error(ot)}catch(_t){Bt(_t)}else Bt(ot)}complete(){const{partialObserver:ot}=this;if(ot.complete)try{ot.complete()}catch(vt){Bt(vt)}}}class At extends Se{constructor(ot,vt,_t){let Ge;if(super(),(0,w.m)(ot)||!ot)Ge={next:ot??void 0,error:vt??void 0,complete:_t??void 0};else{let ve;this&&u.config.useDeprecatedNextContext?(ve=Object.create(ot),ve.unsubscribe=()=>this.unsubscribe(),Ge={next:ot.next&&Pe(ot.next,ve),error:ot.error&&Pe(ot.error,ve),complete:ot.complete&&Pe(ot.complete,ve)}):Ge=ot}this.destination=new it(Ge)}}function Bt(mt){u.config.useDeprecatedSynchronousErrorHandling?(0,le.O)(mt):(0,we.h)(mt)}function xn(mt,ot){const{onStoppedNotification:vt}=u.config;vt&&re.z.setTimeout(()=>vt(mt,ot))}const xt={closed:!0,next:de.Z,error:function Ft(mt){throw mt},complete:de.Z}},7394:(Gt,$e,K)=>{K.d($e,{Lc:()=>fe,w0:()=>de,Nn:()=>Ne});var w=K(4674);const u=(0,K(2306).d)(Ee=>function(le){Ee(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map((Se,et)=>`${et+1}) ${Se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le});var we=K(9039);class de{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:le}=this;if(le)if(this._parentage=null,Array.isArray(le))for(const Pe of le)Pe.remove(this);else le.remove(this);const{initialTeardown:Se}=this;if((0,w.m)(Se))try{Se()}catch(Pe){re=Pe instanceof u?Pe.errors:[Pe]}const{_finalizers:et}=this;if(et){this._finalizers=null;for(const Pe of et)try{He(Pe)}catch(it){re=re??[],it instanceof u?re=[...re,...it.errors]:re.push(it)}}if(re)throw new u(re)}}add(re){var le;if(re&&re!==this)if(this.closed)He(re);else{if(re instanceof de){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(le=this._finalizers)&&void 0!==le?le:[]).push(re)}}_hasParent(re){const{_parentage:le}=this;return le===re||Array.isArray(le)&&le.includes(re)}_addParent(re){const{_parentage:le}=this;this._parentage=Array.isArray(le)?(le.push(re),le):le?[le,re]:re}_removeParent(re){const{_parentage:le}=this;le===re?this._parentage=null:Array.isArray(le)&&(0,we.P)(le,re)}remove(re){const{_finalizers:le}=this;le&&(0,we.P)(le,re),re instanceof de&&re._removeParent(this)}}de.EMPTY=(()=>{const Ee=new de;return Ee.closed=!0,Ee})();const fe=de.EMPTY;function Ne(Ee){return Ee instanceof de||Ee&&"closed"in Ee&&(0,w.m)(Ee.remove)&&(0,w.m)(Ee.add)&&(0,w.m)(Ee.unsubscribe)}function He(Ee){(0,w.m)(Ee)?Ee():Ee.unsubscribe()}},2653:(Gt,$e,K)=>{K.d($e,{config:()=>w});const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:(Gt,$e,K)=>{K.d($e,{z:()=>de});var w=K(7537),u=K(9940),we=K(2459);function de(...fe){return function ae(){return(0,w.J)(1)}()((0,we.D)(fe,(0,u.yG)(fe)))}},6232:(Gt,$e,K)=>{K.d($e,{E:()=>ae});const ae=new(K(5592).y)(de=>de.complete())},2459:(Gt,$e,K)=>{K.d($e,{D:()=>ot});var w=K(4829),ae=K(3093),u=K(5137),fe=K(5592),He=K(4971),Ee=K(4674),re=K(7103);function Se(vt,_t){if(!vt)throw new Error("Iterable cannot be null");return new fe.y(Ge=>{(0,re.f)(Ge,_t,()=>{const ve=vt[Symbol.asyncIterator]();(0,re.f)(Ge,_t,()=>{ve.next().then(Ke=>{Ke.done?Ge.complete():Ge.next(Ke.value)})},0,!0)})})}var et=K(8382),Pe=K(4026),it=K(4266),At=K(3664),Bt=K(5726),Ft=K(9853),xn=K(541);function ot(vt,_t){return _t?function mt(vt,_t){if(null!=vt){if((0,et.c)(vt))return function we(vt,_t){return(0,w.Xf)(vt).pipe((0,u.R)(_t),(0,ae.Q)(_t))}(vt,_t);if((0,it.z)(vt))return function Ne(vt,_t){return new fe.y(Ge=>{let ve=0;return _t.schedule(function(){ve===vt.length?Ge.complete():(Ge.next(vt[ve++]),Ge.closed||this.schedule())})})}(vt,_t);if((0,Pe.t)(vt))return function de(vt,_t){return(0,w.Xf)(vt).pipe((0,u.R)(_t),(0,ae.Q)(_t))}(vt,_t);if((0,Bt.D)(vt))return Se(vt,_t);if((0,At.T)(vt))return function le(vt,_t){return new fe.y(Ge=>{let ve;return(0,re.f)(Ge,_t,()=>{ve=vt[He.h](),(0,re.f)(Ge,_t,()=>{let Ke,gt;try{({value:Ke,done:gt}=ve.next())}catch(Vn){return void Ge.error(Vn)}gt?Ge.complete():Ge.next(Ke)},0,!0)}),()=>(0,Ee.m)(ve?.return)&&ve.return()})}(vt,_t);if((0,xn.L)(vt))return function xt(vt,_t){return Se((0,xn.Q)(vt),_t)}(vt,_t)}throw(0,Ft.z)(vt)}(vt,_t):(0,w.Xf)(vt)}},4829:(Gt,$e,K)=>{K.d($e,{Xf:()=>et});var w=K(7582),ae=K(4266),u=K(4026),we=K(5592),de=K(8382),fe=K(5726),Ne=K(9853),He=K(3664),Ee=K(541),re=K(4674),le=K(3894),Se=K(4850);function et(mt){if(mt instanceof we.y)return mt;if(null!=mt){if((0,de.c)(mt))return function Pe(mt){return new we.y(ot=>{const vt=mt[Se.L]();if((0,re.m)(vt.subscribe))return vt.subscribe(ot);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(mt);if((0,ae.z)(mt))return function it(mt){return new we.y(ot=>{for(let vt=0;vt<mt.length&&!ot.closed;vt++)ot.next(mt[vt]);ot.complete()})}(mt);if((0,u.t)(mt))return function At(mt){return new we.y(ot=>{mt.then(vt=>{ot.closed||(ot.next(vt),ot.complete())},vt=>ot.error(vt)).then(null,le.h)})}(mt);if((0,fe.D)(mt))return Ft(mt);if((0,He.T)(mt))return function Bt(mt){return new we.y(ot=>{for(const vt of mt)if(ot.next(vt),ot.closed)return;ot.complete()})}(mt);if((0,Ee.L)(mt))return function xn(mt){return Ft((0,Ee.Q)(mt))}(mt)}throw(0,Ne.z)(mt)}function Ft(mt){return new we.y(ot=>{(function xt(mt,ot){var vt,_t,Ge,ve;return(0,w.mG)(this,void 0,void 0,function*(){try{for(vt=(0,w.KL)(mt);!(_t=yield vt.next()).done;)if(ot.next(_t.value),ot.closed)return}catch(Ke){Ge={error:Ke}}finally{try{_t&&!_t.done&&(ve=vt.return)&&(yield ve.call(vt))}finally{if(Ge)throw Ge.error}}ot.complete()})})(mt,ot).catch(vt=>ot.error(vt))})}},3019:(Gt,$e,K)=>{K.d($e,{T:()=>fe});var w=K(7537),ae=K(4829),u=K(6232),we=K(9940),de=K(2459);function fe(...Ne){const He=(0,we.yG)(Ne),Ee=(0,we._6)(Ne,1/0),re=Ne;return re.length?1===re.length?(0,ae.Xf)(re[0]):(0,w.J)(Ee)((0,de.D)(re,He)):u.E}},2096:(Gt,$e,K)=>{K.d($e,{of:()=>u});var w=K(9940),ae=K(2459);function u(...we){const de=(0,w.yG)(we);return(0,ae.D)(we,de)}},8251:(Gt,$e,K)=>{K.d($e,{x:()=>ae});var w=K(305);function ae(we,de,fe,Ne,He){return new u(we,de,fe,Ne,He)}class u extends w.Lv{constructor(de,fe,Ne,He,Ee,re){super(de),this.onFinalize=Ee,this.shouldUnsubscribe=re,this._next=fe?function(le){try{fe(le)}catch(Se){de.error(Se)}}:super._next,this._error=He?function(le){try{He(le)}catch(Se){de.error(Se)}finally{this.unsubscribe()}}:super._error,this._complete=Ne?function(){try{Ne()}catch(le){de.error(le)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},3997:(Gt,$e,K)=>{K.d($e,{x:()=>we});var w=K(2737),ae=K(9360),u=K(8251);function we(fe,Ne=w.y){return fe=fe??de,(0,ae.e)((He,Ee)=>{let re,le=!0;He.subscribe((0,u.x)(Ee,Se=>{const et=Ne(Se);(le||!fe(re,et))&&(le=!1,re=et,Ee.next(Se))}))})}function de(fe,Ne){return fe===Ne}},2181:(Gt,$e,K)=>{K.d($e,{h:()=>u});var w=K(9360),ae=K(8251);function u(we,de){return(0,w.e)((fe,Ne)=>{let He=0;fe.subscribe((0,ae.x)(Ne,Ee=>we.call(de,Ee,He++)&&Ne.next(Ee)))})}},7398:(Gt,$e,K)=>{K.d($e,{U:()=>u});var w=K(9360),ae=K(8251);function u(we,de){return(0,w.e)((fe,Ne)=>{let He=0;fe.subscribe((0,ae.x)(Ne,Ee=>{Ne.next(we.call(de,Ee,He++))}))})}},975:(Gt,$e,K)=>{K.d($e,{h:()=>ae});var w=K(7398);function ae(u){return(0,w.U)(()=>u)}},7537:(Gt,$e,K)=>{K.d($e,{J:()=>u});var w=K(1631),ae=K(2737);function u(we=1/0){return(0,w.z)(ae.y,we)}},1631:(Gt,$e,K)=>{K.d($e,{z:()=>He});var w=K(7398),ae=K(4829),u=K(9360),we=K(7103),de=K(8251),Ne=K(4674);function He(Ee,re,le=1/0){return(0,Ne.m)(re)?He((Se,et)=>(0,w.U)((Pe,it)=>re(Se,Pe,et,it))((0,ae.Xf)(Ee(Se,et))),le):("number"==typeof re&&(le=re),(0,u.e)((Se,et)=>function fe(Ee,re,le,Se,et,Pe,it,At){const Bt=[];let Ft=0,xn=0,xt=!1;const mt=()=>{xt&&!Bt.length&&!Ft&&re.complete()},ot=_t=>Ft<Se?vt(_t):Bt.push(_t),vt=_t=>{Pe&&re.next(_t),Ft++;let Ge=!1;(0,ae.Xf)(le(_t,xn++)).subscribe((0,de.x)(re,ve=>{et?.(ve),Pe?ot(ve):re.next(ve)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(Ft--;Bt.length&&Ft<Se;){const ve=Bt.shift();it?(0,we.f)(re,it,()=>vt(ve)):vt(ve)}mt()}catch(ve){re.error(ve)}}))};return Ee.subscribe((0,de.x)(re,ot,()=>{xt=!0,mt()})),()=>{At?.()}}(Se,et,Ee,le)))}},3093:(Gt,$e,K)=>{K.d($e,{Q:()=>we});var w=K(7103),ae=K(9360),u=K(8251);function we(de,fe=0){return(0,ae.e)((Ne,He)=>{Ne.subscribe((0,u.x)(He,Ee=>(0,w.f)(He,de,()=>He.next(Ee),fe),()=>(0,w.f)(He,de,()=>He.complete(),fe),Ee=>(0,w.f)(He,de,()=>He.error(Ee),fe)))})}},7921:(Gt,$e,K)=>{K.d($e,{O:()=>we});var w=K(5211),ae=K(9940),u=K(9360);function we(...de){const fe=(0,ae.yG)(de);return(0,u.e)((Ne,He)=>{(fe?(0,w.z)(de,Ne,fe):(0,w.z)(de,Ne)).subscribe(He)})}},5137:(Gt,$e,K)=>{K.d($e,{R:()=>ae});var w=K(9360);function ae(u,we=0){return(0,w.e)((de,fe)=>{fe.add(u.schedule(()=>de.subscribe(fe),we))})}},4664:(Gt,$e,K)=>{K.d($e,{w:()=>we});var w=K(4829),ae=K(9360),u=K(8251);function we(de,fe){return(0,ae.e)((Ne,He)=>{let Ee=null,re=0,le=!1;const Se=()=>le&&!Ee&&He.complete();Ne.subscribe((0,u.x)(He,et=>{Ee?.unsubscribe();let Pe=0;const it=re++;(0,w.Xf)(de(et,it)).subscribe(Ee=(0,u.x)(He,At=>He.next(fe?fe(et,At,it,Pe++):At),()=>{Ee=null,Se()}))},()=>{le=!0,Se()}))})}},8180:(Gt,$e,K)=>{K.d($e,{q:()=>we});var w=K(6232),ae=K(9360),u=K(8251);function we(de){return de<=0?()=>w.E:(0,ae.e)((fe,Ne)=>{let He=0;fe.subscribe((0,u.x)(Ne,Ee=>{++He<=de&&(Ne.next(Ee),de<=He&&Ne.complete())}))})}},9773:(Gt,$e,K)=>{K.d($e,{R:()=>de});var w=K(9360),ae=K(8251),u=K(4829),we=K(2420);function de(fe){return(0,w.e)((Ne,He)=>{(0,u.Xf)(fe).subscribe((0,ae.x)(He,()=>He.complete(),we.Z)),!He.closed&&Ne.subscribe(He)})}},9397:(Gt,$e,K)=>{K.d($e,{b:()=>de});var w=K(4674),ae=K(9360),u=K(8251),we=K(2737);function de(fe,Ne,He){const Ee=(0,w.m)(fe)||Ne||He?{next:fe,error:Ne,complete:He}:fe;return Ee?(0,ae.e)((re,le)=>{var Se;null===(Se=Ee.subscribe)||void 0===Se||Se.call(Ee);let et=!0;re.subscribe((0,u.x)(le,Pe=>{var it;null===(it=Ee.next)||void 0===it||it.call(Ee,Pe),le.next(Pe)},()=>{var Pe;et=!1,null===(Pe=Ee.complete)||void 0===Pe||Pe.call(Ee),le.complete()},Pe=>{var it;et=!1,null===(it=Ee.error)||void 0===it||it.call(Ee,Pe),le.error(Pe)},()=>{var Pe,it;et&&(null===(Pe=Ee.unsubscribe)||void 0===Pe||Pe.call(Ee)),null===(it=Ee.finalize)||void 0===it||it.call(Ee)}))}):we.y}},1954:(Gt,$e,K)=>{K.d($e,{o:()=>de});var w=K(7394);class ae extends w.w0{constructor(Ne,He){super()}schedule(Ne,He=0){return this}}const u={setInterval(fe,Ne,...He){const{delegate:Ee}=u;return Ee?.setInterval?Ee.setInterval(fe,Ne,...He):setInterval(fe,Ne,...He)},clearInterval(fe){const{delegate:Ne}=u;return(Ne?.clearInterval||clearInterval)(fe)},delegate:void 0};var we=K(9039);class de extends ae{constructor(Ne,He){super(Ne,He),this.scheduler=Ne,this.work=He,this.pending=!1}schedule(Ne,He=0){var Ee;if(this.closed)return this;this.state=Ne;const re=this.id,le=this.scheduler;return null!=re&&(this.id=this.recycleAsyncId(le,re,He)),this.pending=!0,this.delay=He,this.id=null!==(Ee=this.id)&&void 0!==Ee?Ee:this.requestAsyncId(le,this.id,He),this}requestAsyncId(Ne,He,Ee=0){return u.setInterval(Ne.flush.bind(Ne,this),Ee)}recycleAsyncId(Ne,He,Ee=0){if(null!=Ee&&this.delay===Ee&&!1===this.pending)return He;null!=He&&u.clearInterval(He)}execute(Ne,He){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(Ne,He);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ne,He){let re,Ee=!1;try{this.work(Ne)}catch(le){Ee=!0,re=le||new Error("Scheduled action threw falsy error")}if(Ee)return this.unsubscribe(),re}unsubscribe(){if(!this.closed){const{id:Ne,scheduler:He}=this,{actions:Ee}=He;this.work=this.state=this.scheduler=null,this.pending=!1,(0,we.P)(Ee,this),null!=Ne&&(this.id=this.recycleAsyncId(He,Ne,null)),this.delay=null,super.unsubscribe()}}}},9931:(Gt,$e,K)=>{K.d($e,{v:()=>u});const w={now:()=>(w.delegate||Date).now(),delegate:void 0};class ae{constructor(de,fe=ae.now){this.schedulerActionCtor=de,this.now=fe}schedule(de,fe=0,Ne){return new this.schedulerActionCtor(this,de).schedule(Ne,fe)}}ae.now=w.now;class u extends ae{constructor(de,fe=ae.now){super(de,fe),this.actions=[],this._active=!1}flush(de){const{actions:fe}=this;if(this._active)return void fe.push(de);let Ne;this._active=!0;do{if(Ne=de.execute(de.state,de.delay))break}while(de=fe.shift());if(this._active=!1,Ne){for(;de=fe.shift();)de.unsubscribe();throw Ne}}}},6321:(Gt,$e,K)=>{K.d($e,{P:()=>we,z:()=>u});var w=K(1954);const u=new(K(9931).v)(w.o),we=u},7599:(Gt,$e,K)=>{K.d($e,{z:()=>w});const w={setTimeout(ae,u,...we){const{delegate:de}=w;return de?.setTimeout?de.setTimeout(ae,u,...we):setTimeout(ae,u,...we)},clearTimeout(ae){const{delegate:u}=w;return(u?.clearTimeout||clearTimeout)(ae)},delegate:void 0}},4971:(Gt,$e,K)=>{K.d($e,{h:()=>ae});const ae=function w(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Gt,$e,K)=>{K.d($e,{L:()=>w});const w="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Gt,$e,K)=>{K.d($e,{K:()=>ae});const ae=(0,K(2306).d)(u=>function(){u(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Gt,$e,K)=>{K.d($e,{_6:()=>fe,jO:()=>we,yG:()=>de});var w=K(4674),ae=K(671);function u(Ne){return Ne[Ne.length-1]}function we(Ne){return(0,w.m)(u(Ne))?Ne.pop():void 0}function de(Ne){return(0,ae.K)(u(Ne))?Ne.pop():void 0}function fe(Ne,He){return"number"==typeof u(Ne)?Ne.pop():He}},7453:(Gt,$e,K)=>{K.d($e,{D:()=>de});const{isArray:w}=Array,{getPrototypeOf:ae,prototype:u,keys:we}=Object;function de(Ne){if(1===Ne.length){const He=Ne[0];if(w(He))return{args:He,keys:null};if(function fe(Ne){return Ne&&"object"==typeof Ne&&ae(Ne)===u}(He)){const Ee=we(He);return{args:Ee.map(re=>He[re]),keys:Ee}}}return{args:Ne,keys:null}}},9039:(Gt,$e,K)=>{function w(ae,u){if(ae){const we=ae.indexOf(u);0<=we&&ae.splice(we,1)}}K.d($e,{P:()=>w})},2306:(Gt,$e,K)=>{function w(ae){const we=ae(de=>{Error.call(de),de.stack=(new Error).stack});return we.prototype=Object.create(Error.prototype),we.prototype.constructor=we,we}K.d($e,{d:()=>w})},2714:(Gt,$e,K)=>{function w(ae,u){return ae.reduce((we,de,fe)=>(we[de]=u[fe],we),{})}K.d($e,{n:()=>w})},1441:(Gt,$e,K)=>{K.d($e,{O:()=>we,x:()=>u});var w=K(2653);let ae=null;function u(de){if(w.config.useDeprecatedSynchronousErrorHandling){const fe=!ae;if(fe&&(ae={errorThrown:!1,error:null}),de(),fe){const{errorThrown:Ne,error:He}=ae;if(ae=null,Ne)throw He}}else de()}function we(de){w.config.useDeprecatedSynchronousErrorHandling&&ae&&(ae.errorThrown=!0,ae.error=de)}},7103:(Gt,$e,K)=>{function w(ae,u,we,de=0,fe=!1){const Ne=u.schedule(function(){we(),fe?ae.add(this.schedule(null,de)):this.unsubscribe()},de);if(ae.add(Ne),!fe)return Ne}K.d($e,{f:()=>w})},2737:(Gt,$e,K)=>{function w(ae){return ae}K.d($e,{y:()=>w})},4266:(Gt,$e,K)=>{K.d($e,{z:()=>w});const w=ae=>ae&&"number"==typeof ae.length&&"function"!=typeof ae},5726:(Gt,$e,K)=>{K.d($e,{D:()=>ae});var w=K(4674);function ae(u){return Symbol.asyncIterator&&(0,w.m)(u?.[Symbol.asyncIterator])}},4674:(Gt,$e,K)=>{function w(ae){return"function"==typeof ae}K.d($e,{m:()=>w})},8382:(Gt,$e,K)=>{K.d($e,{c:()=>u});var w=K(4850),ae=K(4674);function u(we){return(0,ae.m)(we[w.L])}},3664:(Gt,$e,K)=>{K.d($e,{T:()=>u});var w=K(4971),ae=K(4674);function u(we){return(0,ae.m)(we?.[w.h])}},4026:(Gt,$e,K)=>{K.d($e,{t:()=>ae});var w=K(4674);function ae(u){return(0,w.m)(u?.then)}},541:(Gt,$e,K)=>{K.d($e,{L:()=>we,Q:()=>u});var w=K(7582),ae=K(4674);function u(de){return(0,w.FC)(this,arguments,function*(){const Ne=de.getReader();try{for(;;){const{value:He,done:Ee}=yield(0,w.qq)(Ne.read());if(Ee)return yield(0,w.qq)(void 0);yield yield(0,w.qq)(He)}}finally{Ne.releaseLock()}})}function we(de){return(0,ae.m)(de?.getReader)}},671:(Gt,$e,K)=>{K.d($e,{K:()=>ae});var w=K(4674);function ae(u){return u&&(0,w.m)(u.schedule)}},9360:(Gt,$e,K)=>{K.d($e,{A:()=>ae,e:()=>u});var w=K(4674);function ae(we){return(0,w.m)(we?.lift)}function u(we){return de=>{if(ae(de))return de.lift(function(fe){try{return we(fe,this)}catch(Ne){this.error(Ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Gt,$e,K)=>{K.d($e,{Z:()=>we});var w=K(7398);const{isArray:ae}=Array;function we(de){return(0,w.U)(fe=>function u(de,fe){return ae(fe)?de(...fe):de(fe)}(de,fe))}},2420:(Gt,$e,K)=>{function w(){}K.d($e,{Z:()=>w})},8407:(Gt,$e,K)=>{K.d($e,{U:()=>u,z:()=>ae});var w=K(2737);function ae(...we){return u(we)}function u(we){return 0===we.length?w.y:1===we.length?we[0]:function(fe){return we.reduce((Ne,He)=>He(Ne),fe)}}},3894:(Gt,$e,K)=>{K.d($e,{h:()=>u});var w=K(2653),ae=K(7599);function u(we){ae.z.setTimeout(()=>{const{onUnhandledError:de}=w.config;if(!de)throw we;de(we)})}},9853:(Gt,$e,K)=>{function w(ae){return new TypeError(`You provided ${null!==ae&&"object"==typeof ae?"an invalid object":`'${ae}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}K.d($e,{z:()=>w})},6814:(Gt,$e,K)=>{K.d($e,{Do:()=>At,EM:()=>Fa,HT:()=>we,JF:()=>Us,K0:()=>fe,Mn:()=>Dn,Mx:()=>bs,O5:()=>os,PM:()=>ri,S$:()=>et,Tn:()=>ve,UT:()=>$n,V_:()=>He,Ye:()=>Bt,ax:()=>Ks,b0:()=>it,bD:()=>Hr,ez:()=>Pn,mk:()=>Jo,p6:()=>tr,q:()=>u,sg:()=>Ks,tP:()=>Hi,uU:()=>Ao,w_:()=>de,x:()=>Ge});var w=K(9468);let ae=null;function u(){return ae}function we(M){ae||(ae=M)}class de{}const fe=new w.OlP("DocumentToken");let Ne=(()=>{class M{historyGo(V){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||M)};static#t=this.\u0275prov=w.Yz7({token:M,factory:function(){return(0,w.f3M)(Ee)},providedIn:"platform"})}return M})();const He=new w.OlP("Location Initialized");let Ee=(()=>{class M extends Ne{constructor(){super(),this._doc=(0,w.f3M)(fe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return u().getBaseHref(this._doc)}onPopState(V){const X=u().getGlobalEventTarget(this._doc,"window");return X.addEventListener("popstate",V,!1),()=>X.removeEventListener("popstate",V)}onHashChange(V){const X=u().getGlobalEventTarget(this._doc,"window");return X.addEventListener("hashchange",V,!1),()=>X.removeEventListener("hashchange",V)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(V){this._location.pathname=V}pushState(V,X,ye){this._history.pushState(V,X,ye)}replaceState(V,X,ye){this._history.replaceState(V,X,ye)}forward(){this._history.forward()}back(){this._history.back()}historyGo(V=0){this._history.go(V)}getState(){return this._history.state}static#e=this.\u0275fac=function(X){return new(X||M)};static#t=this.\u0275prov=w.Yz7({token:M,factory:function(){return new M},providedIn:"platform"})}return M})();function re(M,ne){if(0==M.length)return ne;if(0==ne.length)return M;let V=0;return M.endsWith("/")&&V++,ne.startsWith("/")&&V++,2==V?M+ne.substring(1):1==V?M+ne:M+"/"+ne}function le(M){const ne=M.match(/#|\?|$/),V=ne&&ne.index||M.length;return M.slice(0,V-("/"===M[V-1]?1:0))+M.slice(V)}function Se(M){return M&&"?"!==M[0]?"?"+M:M}let et=(()=>{class M{historyGo(V){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||M)};static#t=this.\u0275prov=w.Yz7({token:M,factory:function(){return(0,w.f3M)(it)},providedIn:"root"})}return M})();const Pe=new w.OlP("appBaseHref");let it=(()=>{class M extends et{constructor(V,X){super(),this._platformLocation=V,this._removeListenerFns=[],this._baseHref=X??this._platformLocation.getBaseHrefFromDOM()??(0,w.f3M)(fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}prepareExternalUrl(V){return re(this._baseHref,V)}path(V=!1){const X=this._platformLocation.pathname+Se(this._platformLocation.search),ye=this._platformLocation.hash;return ye&&V?`${X}${ye}`:X}pushState(V,X,ye,Qe){const ct=this.prepareExternalUrl(ye+Se(Qe));this._platformLocation.pushState(V,X,ct)}replaceState(V,X,ye,Qe){const ct=this.prepareExternalUrl(ye+Se(Qe));this._platformLocation.replaceState(V,X,ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){this._platformLocation.historyGo?.(V)}static#e=this.\u0275fac=function(X){return new(X||M)(w.LFG(Ne),w.LFG(Pe,8))};static#t=this.\u0275prov=w.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})(),At=(()=>{class M extends et{constructor(V,X){super(),this._platformLocation=V,this._baseHref="",this._removeListenerFns=[],null!=X&&(this._baseHref=X)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}path(V=!1){let X=this._platformLocation.hash;return null==X&&(X="#"),X.length>0?X.substring(1):X}prepareExternalUrl(V){const X=re(this._baseHref,V);return X.length>0?"#"+X:X}pushState(V,X,ye,Qe){let ct=this.prepareExternalUrl(ye+Se(Qe));0==ct.length&&(ct=this._platformLocation.pathname),this._platformLocation.pushState(V,X,ct)}replaceState(V,X,ye,Qe){let ct=this.prepareExternalUrl(ye+Se(Qe));0==ct.length&&(ct=this._platformLocation.pathname),this._platformLocation.replaceState(V,X,ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){this._platformLocation.historyGo?.(V)}static#e=this.\u0275fac=function(X){return new(X||M)(w.LFG(Ne),w.LFG(Pe,8))};static#t=this.\u0275prov=w.Yz7({token:M,factory:M.\u0275fac})}return M})(),Bt=(()=>{class M{constructor(V){this._subject=new w.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=V;const X=this._locationStrategy.getBaseHref();this._basePath=function mt(M){if(new RegExp("^(https?:)?//").test(M)){const[,V]=M.split(/\/\/[^\/]+/);return V}return M}(le(xt(X))),this._locationStrategy.onPopState(ye=>{this._subject.emit({url:this.path(!0),pop:!0,state:ye.state,type:ye.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(V=!1){return this.normalize(this._locationStrategy.path(V))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(V,X=""){return this.path()==this.normalize(V+Se(X))}normalize(V){return M.stripTrailingSlash(function xn(M,ne){if(!M||!ne.startsWith(M))return ne;const V=ne.substring(M.length);return""===V||["/",";","?","#"].includes(V[0])?V:ne}(this._basePath,xt(V)))}prepareExternalUrl(V){return V&&"/"!==V[0]&&(V="/"+V),this._locationStrategy.prepareExternalUrl(V)}go(V,X="",ye=null){this._locationStrategy.pushState(ye,"",V,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+Se(X)),ye)}replaceState(V,X="",ye=null){this._locationStrategy.replaceState(ye,"",V,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+Se(X)),ye)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(V=0){this._locationStrategy.historyGo?.(V)}onUrlChange(V){return this._urlChangeListeners.push(V),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(X=>{this._notifyUrlChangeListeners(X.url,X.state)})),()=>{const X=this._urlChangeListeners.indexOf(V);this._urlChangeListeners.splice(X,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(V="",X){this._urlChangeListeners.forEach(ye=>ye(V,X))}subscribe(V,X,ye){return this._subject.subscribe({next:V,error:X,complete:ye})}static#e=this.normalizeQueryParams=Se;static#t=this.joinWithSlash=re;static#n=this.stripTrailingSlash=le;static#r=this.\u0275fac=function(X){return new(X||M)(w.LFG(et))};static#i=this.\u0275prov=w.Yz7({token:M,factory:function(){return function Ft(){return new Bt((0,w.LFG)(et))}()},providedIn:"root"})}return M})();function xt(M){return M.replace(/\/index.html$/,"")}var Ge=function(M){return M[M.Format=0]="Format",M[M.Standalone=1]="Standalone",M}(Ge||{}),ve=function(M){return M[M.Narrow=0]="Narrow",M[M.Abbreviated=1]="Abbreviated",M[M.Wide=2]="Wide",M[M.Short=3]="Short",M}(ve||{}),Ke=function(M){return M[M.Short=0]="Short",M[M.Medium=1]="Medium",M[M.Long=2]="Long",M[M.Full=3]="Full",M}(Ke||{}),gt=function(M){return M[M.Decimal=0]="Decimal",M[M.Group=1]="Group",M[M.List=2]="List",M[M.PercentSign=3]="PercentSign",M[M.PlusSign=4]="PlusSign",M[M.MinusSign=5]="MinusSign",M[M.Exponential=6]="Exponential",M[M.SuperscriptingExponent=7]="SuperscriptingExponent",M[M.PerMille=8]="PerMille",M[M.Infinity=9]="Infinity",M[M.NaN=10]="NaN",M[M.TimeSeparator=11]="TimeSeparator",M[M.CurrencyDecimal=12]="CurrencyDecimal",M[M.CurrencyGroup=13]="CurrencyGroup",M}(gt||{});function Dn(M,ne,V){const X=(0,w.cg1)(M),Qe=De([X[w.wAp.DaysFormat],X[w.wAp.DaysStandalone]],ne);return De(Qe,V)}function $n(M,ne,V){const X=(0,w.cg1)(M),Qe=De([X[w.wAp.MonthsFormat],X[w.wAp.MonthsStandalone]],ne);return De(Qe,V)}function je(M,ne){return De((0,w.cg1)(M)[w.wAp.DateFormat],ne)}function Ye(M,ne){return De((0,w.cg1)(M)[w.wAp.TimeFormat],ne)}function Ue(M,ne){return De((0,w.cg1)(M)[w.wAp.DateTimeFormat],ne)}function nt(M,ne){const V=(0,w.cg1)(M),X=V[w.wAp.NumberSymbols][ne];if(typeof X>"u"){if(ne===gt.CurrencyDecimal)return V[w.wAp.NumberSymbols][gt.Decimal];if(ne===gt.CurrencyGroup)return V[w.wAp.NumberSymbols][gt.Group]}return X}function Dt(M){if(!M[w.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${M[w.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function De(M,ne){for(let V=ne;V>-1;V--)if(typeof M[V]<"u")return M[V];throw new Error("Locale data API: locale data undefined")}function xe(M){const[ne,V]=M.split(":");return{hours:+ne,minutes:+V}}const St=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,wr={},An=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var sn=function(M){return M[M.Short=0]="Short",M[M.ShortGMT=1]="ShortGMT",M[M.Long=2]="Long",M[M.Extended=3]="Extended",M}(sn||{}),Qt=function(M){return M[M.FullYear=0]="FullYear",M[M.Month=1]="Month",M[M.Date=2]="Date",M[M.Hours=3]="Hours",M[M.Minutes=4]="Minutes",M[M.Seconds=5]="Seconds",M[M.FractionalSeconds=6]="FractionalSeconds",M[M.Day=7]="Day",M}(Qt||{}),In=function(M){return M[M.DayPeriods=0]="DayPeriods",M[M.Days=1]="Days",M[M.Months=2]="Months",M[M.Eras=3]="Eras",M}(In||{});function tr(M,ne,V,X){let ye=function U(M){if(W(M))return M;if("number"==typeof M&&!isNaN(M))return new Date(M);if("string"==typeof M){if(M=M.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(M)){const[ye,Qe=1,ct=1]=M.split("-").map(on=>+on);return Xt(ye,Qe-1,ct)}const V=parseFloat(M);if(!isNaN(M-V))return new Date(V);let X;if(X=M.match(St))return function G(M){const ne=new Date(0);let V=0,X=0;const ye=M[8]?ne.setUTCFullYear:ne.setFullYear,Qe=M[8]?ne.setUTCHours:ne.setHours;M[9]&&(V=Number(M[9]+M[10]),X=Number(M[9]+M[11])),ye.call(ne,Number(M[1]),Number(M[2])-1,Number(M[3]));const ct=Number(M[4]||0)-V,on=Number(M[5]||0)-X,Xn=Number(M[6]||0),Lr=Math.floor(1e3*parseFloat("0."+(M[7]||0)));return Qe.call(ne,ct,on,Xn,Lr),ne}(X)}const ne=new Date(M);if(!W(ne))throw new Error(`Unable to convert "${M}" into a date`);return ne}(M);ne=Sr(V,ne)||ne;let on,ct=[];for(;ne;){if(on=An.exec(ne),!on){ct.push(ne);break}{ct=ct.concat(on.slice(1));const er=ct.pop();if(!er)break;ne=er}}let Xn=ye.getTimezoneOffset();X&&(Xn=Zt(X,Xn),ye=function Y(M,ne,V){const X=V?-1:1,ye=M.getTimezoneOffset();return function zn(M,ne){return(M=new Date(M.getTime())).setMinutes(M.getMinutes()+ne),M}(M,X*(Zt(ne,ye)-ye))}(ye,X,!0));let Lr="";return ct.forEach(er=>{const Hn=function qt(M){if(It[M])return It[M];let ne;switch(M){case"G":case"GG":case"GGG":ne=Zn(In.Eras,ve.Abbreviated);break;case"GGGG":ne=Zn(In.Eras,ve.Wide);break;case"GGGGG":ne=Zn(In.Eras,ve.Narrow);break;case"y":ne=Jn(Qt.FullYear,1,0,!1,!0);break;case"yy":ne=Jn(Qt.FullYear,2,0,!0,!0);break;case"yyy":ne=Jn(Qt.FullYear,3,0,!1,!0);break;case"yyyy":ne=Jn(Qt.FullYear,4,0,!1,!0);break;case"Y":ne=Ze(1);break;case"YY":ne=Ze(2,!0);break;case"YYY":ne=Ze(3);break;case"YYYY":ne=Ze(4);break;case"M":case"L":ne=Jn(Qt.Month,1,1);break;case"MM":case"LL":ne=Jn(Qt.Month,2,1);break;case"MMM":ne=Zn(In.Months,ve.Abbreviated);break;case"MMMM":ne=Zn(In.Months,ve.Wide);break;case"MMMMM":ne=Zn(In.Months,ve.Narrow);break;case"LLL":ne=Zn(In.Months,ve.Abbreviated,Ge.Standalone);break;case"LLLL":ne=Zn(In.Months,ve.Wide,Ge.Standalone);break;case"LLLLL":ne=Zn(In.Months,ve.Narrow,Ge.Standalone);break;case"w":ne=Ce(1);break;case"ww":ne=Ce(2);break;case"W":ne=Ce(1,!0);break;case"d":ne=Jn(Qt.Date,1);break;case"dd":ne=Jn(Qt.Date,2);break;case"c":case"cc":ne=Jn(Qt.Day,1);break;case"ccc":ne=Zn(In.Days,ve.Abbreviated,Ge.Standalone);break;case"cccc":ne=Zn(In.Days,ve.Wide,Ge.Standalone);break;case"ccccc":ne=Zn(In.Days,ve.Narrow,Ge.Standalone);break;case"cccccc":ne=Zn(In.Days,ve.Short,Ge.Standalone);break;case"E":case"EE":case"EEE":ne=Zn(In.Days,ve.Abbreviated);break;case"EEEE":ne=Zn(In.Days,ve.Wide);break;case"EEEEE":ne=Zn(In.Days,ve.Narrow);break;case"EEEEEE":ne=Zn(In.Days,ve.Short);break;case"a":case"aa":case"aaa":ne=Zn(In.DayPeriods,ve.Abbreviated);break;case"aaaa":ne=Zn(In.DayPeriods,ve.Wide);break;case"aaaaa":ne=Zn(In.DayPeriods,ve.Narrow);break;case"b":case"bb":case"bbb":ne=Zn(In.DayPeriods,ve.Abbreviated,Ge.Standalone,!0);break;case"bbbb":ne=Zn(In.DayPeriods,ve.Wide,Ge.Standalone,!0);break;case"bbbbb":ne=Zn(In.DayPeriods,ve.Narrow,Ge.Standalone,!0);break;case"B":case"BB":case"BBB":ne=Zn(In.DayPeriods,ve.Abbreviated,Ge.Format,!0);break;case"BBBB":ne=Zn(In.DayPeriods,ve.Wide,Ge.Format,!0);break;case"BBBBB":ne=Zn(In.DayPeriods,ve.Narrow,Ge.Format,!0);break;case"h":ne=Jn(Qt.Hours,1,-12);break;case"hh":ne=Jn(Qt.Hours,2,-12);break;case"H":ne=Jn(Qt.Hours,1);break;case"HH":ne=Jn(Qt.Hours,2);break;case"m":ne=Jn(Qt.Minutes,1);break;case"mm":ne=Jn(Qt.Minutes,2);break;case"s":ne=Jn(Qt.Seconds,1);break;case"ss":ne=Jn(Qt.Seconds,2);break;case"S":ne=Jn(Qt.FractionalSeconds,1);break;case"SS":ne=Jn(Qt.FractionalSeconds,2);break;case"SSS":ne=Jn(Qt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ne=Rn(sn.Short);break;case"ZZZZZ":ne=Rn(sn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ne=Rn(sn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ne=Rn(sn.Long);break;default:return null}return It[M]=ne,ne}(er);Lr+=Hn?Hn(ye,V,Xn):"''"===er?"'":er.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Lr}function Xt(M,ne,V){const X=new Date(0);return X.setFullYear(M,ne,V),X.setHours(0,0,0),X}function Sr(M,ne){const V=function dt(M){return(0,w.cg1)(M)[w.wAp.LocaleId]}(M);if(wr[V]=wr[V]||{},wr[V][ne])return wr[V][ne];let X="";switch(ne){case"shortDate":X=je(M,Ke.Short);break;case"mediumDate":X=je(M,Ke.Medium);break;case"longDate":X=je(M,Ke.Long);break;case"fullDate":X=je(M,Ke.Full);break;case"shortTime":X=Ye(M,Ke.Short);break;case"mediumTime":X=Ye(M,Ke.Medium);break;case"longTime":X=Ye(M,Ke.Long);break;case"fullTime":X=Ye(M,Ke.Full);break;case"short":const ye=Sr(M,"shortTime"),Qe=Sr(M,"shortDate");X=Ir(Ue(M,Ke.Short),[ye,Qe]);break;case"medium":const ct=Sr(M,"mediumTime"),on=Sr(M,"mediumDate");X=Ir(Ue(M,Ke.Medium),[ct,on]);break;case"long":const Xn=Sr(M,"longTime"),Lr=Sr(M,"longDate");X=Ir(Ue(M,Ke.Long),[Xn,Lr]);break;case"full":const er=Sr(M,"fullTime"),Hn=Sr(M,"fullDate");X=Ir(Ue(M,Ke.Full),[er,Hn])}return X&&(wr[V][ne]=X),X}function Ir(M,ne){return ne&&(M=M.replace(/\{([^}]+)}/g,function(V,X){return null!=ne&&X in ne?ne[X]:V})),M}function mn(M,ne,V="-",X,ye){let Qe="";(M<0||ye&&M<=0)&&(ye?M=1-M:(M=-M,Qe=V));let ct=String(M);for(;ct.length<ne;)ct="0"+ct;return X&&(ct=ct.slice(ct.length-ne)),Qe+ct}function Jn(M,ne,V=0,X=!1,ye=!1){return function(Qe,ct){let on=function hr(M,ne){switch(M){case Qt.FullYear:return ne.getFullYear();case Qt.Month:return ne.getMonth();case Qt.Date:return ne.getDate();case Qt.Hours:return ne.getHours();case Qt.Minutes:return ne.getMinutes();case Qt.Seconds:return ne.getSeconds();case Qt.FractionalSeconds:return ne.getMilliseconds();case Qt.Day:return ne.getDay();default:throw new Error(`Unknown DateType value "${M}".`)}}(M,Qe);if((V>0||on>-V)&&(on+=V),M===Qt.Hours)0===on&&-12===V&&(on=12);else if(M===Qt.FractionalSeconds)return function dr(M,ne){return mn(M,3).substring(0,ne)}(on,ne);const Xn=nt(ct,gt.MinusSign);return mn(on,ne,Xn,X,ye)}}function Zn(M,ne,V=Ge.Format,X=!1){return function(ye,Qe){return function di(M,ne,V,X,ye,Qe){switch(V){case In.Months:return $n(ne,ye,X)[M.getMonth()];case In.Days:return Dn(ne,ye,X)[M.getDay()];case In.DayPeriods:const ct=M.getHours(),on=M.getMinutes();if(Qe){const Lr=function Yn(M){const ne=(0,w.cg1)(M);return Dt(ne),(ne[w.wAp.ExtraData][2]||[]).map(X=>"string"==typeof X?xe(X):[xe(X[0]),xe(X[1])])}(ne),er=function br(M,ne,V){const X=(0,w.cg1)(M);Dt(X);const Qe=De([X[w.wAp.ExtraData][0],X[w.wAp.ExtraData][1]],ne)||[];return De(Qe,V)||[]}(ne,ye,X),Hn=Lr.findIndex(Xr=>{if(Array.isArray(Xr)){const[xr,gi]=Xr,As=ct>=xr.hours&&on>=xr.minutes,Pi=ct<gi.hours||ct===gi.hours&&on<gi.minutes;if(xr.hours<gi.hours){if(As&&Pi)return!0}else if(As||Pi)return!0}else if(Xr.hours===ct&&Xr.minutes===on)return!0;return!1});if(-1!==Hn)return er[Hn]}return function dn(M,ne,V){const X=(0,w.cg1)(M),Qe=De([X[w.wAp.DayPeriodsFormat],X[w.wAp.DayPeriodsStandalone]],ne);return De(Qe,V)}(ne,ye,X)[ct<12?0:1];case In.Eras:return function ar(M,ne){return De((0,w.cg1)(M)[w.wAp.Eras],ne)}(ne,X)[M.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${V}`)}}(ye,Qe,M,ne,V,X)}}function Rn(M){return function(ne,V,X){const ye=-1*X,Qe=nt(V,gt.MinusSign),ct=ye>0?Math.floor(ye/60):Math.ceil(ye/60);switch(M){case sn.Short:return(ye>=0?"+":"")+mn(ct,2,Qe)+mn(Math.abs(ye%60),2,Qe);case sn.ShortGMT:return"GMT"+(ye>=0?"+":"")+mn(ct,1,Qe);case sn.Long:return"GMT"+(ye>=0?"+":"")+mn(ct,2,Qe)+":"+mn(Math.abs(ye%60),2,Qe);case sn.Extended:return 0===X?"Z":(ye>=0?"+":"")+mn(ct,2,Qe)+":"+mn(Math.abs(ye%60),2,Qe);default:throw new Error(`Unknown zone width "${M}"`)}}}const nr=0,Or=4;function tt(M){return Xt(M.getFullYear(),M.getMonth(),M.getDate()+(Or-M.getDay()))}function Ce(M,ne=!1){return function(V,X){let ye;if(ne){const Qe=new Date(V.getFullYear(),V.getMonth(),1).getDay()-1,ct=V.getDate();ye=1+Math.floor((ct+Qe)/7)}else{const Qe=tt(V),ct=function hi(M){const ne=Xt(M,nr,1).getDay();return Xt(M,0,1+(ne<=Or?Or:Or+7)-ne)}(Qe.getFullYear()),on=Qe.getTime()-ct.getTime();ye=1+Math.round(on/6048e5)}return mn(ye,M,nt(X,gt.MinusSign))}}function Ze(M,ne=!1){return function(V,X){return mn(tt(V).getFullYear(),M,nt(X,gt.MinusSign),ne)}}const It={};function Zt(M,ne){M=M.replace(/:/g,"");const V=Date.parse("Jan 01, 1970 00:00:00 "+M)/6e4;return isNaN(V)?ne:V}function W(M){return M instanceof Date&&!isNaN(M.valueOf())}function bs(M,ne){ne=encodeURIComponent(ne);for(const V of M.split(";")){const X=V.indexOf("="),[ye,Qe]=-1==X?[V,""]:[V.slice(0,X),V.slice(X+1)];if(ye.trim()===ne)return decodeURIComponent(Qe)}return null}const co=/\s+/,So=[];let Jo=(()=>{class M{constructor(V,X,ye,Qe){this._iterableDiffers=V,this._keyValueDiffers=X,this._ngEl=ye,this._renderer=Qe,this.initialClasses=So,this.stateMap=new Map}set klass(V){this.initialClasses=null!=V?V.trim().split(co):So}set ngClass(V){this.rawClass="string"==typeof V?V.trim().split(co):V}ngDoCheck(){for(const X of this.initialClasses)this._updateState(X,!0);const V=this.rawClass;if(Array.isArray(V)||V instanceof Set)for(const X of V)this._updateState(X,!0);else if(null!=V)for(const X of Object.keys(V))this._updateState(X,!!V[X]);this._applyStateDiff()}_updateState(V,X){const ye=this.stateMap.get(V);void 0!==ye?(ye.enabled!==X&&(ye.changed=!0,ye.enabled=X),ye.touched=!0):this.stateMap.set(V,{enabled:X,changed:!0,touched:!0})}_applyStateDiff(){for(const V of this.stateMap){const X=V[0],ye=V[1];ye.changed?(this._toggleClass(X,ye.enabled),ye.changed=!1):ye.touched||(ye.enabled&&this._toggleClass(X,!1),this.stateMap.delete(X)),ye.touched=!1}}_toggleClass(V,X){(V=V.trim()).length>0&&V.split(co).forEach(ye=>{X?this._renderer.addClass(this._ngEl.nativeElement,ye):this._renderer.removeClass(this._ngEl.nativeElement,ye)})}static#e=this.\u0275fac=function(X){return new(X||M)(w.Y36(w.ZZ4),w.Y36(w.aQg),w.Y36(w.SBq),w.Y36(w.Qsj))};static#t=this.\u0275dir=w.lG2({type:M,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return M})();class ci{constructor(ne,V,X,ye){this.$implicit=ne,this.ngForOf=V,this.index=X,this.count=ye}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ks=(()=>{class M{set ngForOf(V){this._ngForOf=V,this._ngForOfDirty=!0}set ngForTrackBy(V){this._trackByFn=V}get ngForTrackBy(){return this._trackByFn}constructor(V,X,ye){this._viewContainer=V,this._template=X,this._differs=ye,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(V){V&&(this._template=V)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const V=this._ngForOf;!this._differ&&V&&(this._differ=this._differs.find(V).create(this.ngForTrackBy))}if(this._differ){const V=this._differ.diff(this._ngForOf);V&&this._applyChanges(V)}}_applyChanges(V){const X=this._viewContainer;V.forEachOperation((ye,Qe,ct)=>{if(null==ye.previousIndex)X.createEmbeddedView(this._template,new ci(ye.item,this._ngForOf,-1,-1),null===ct?void 0:ct);else if(null==ct)X.remove(null===Qe?void 0:Qe);else if(null!==Qe){const on=X.get(Qe);X.move(on,ct),Vi(on,ye)}});for(let ye=0,Qe=X.length;ye<Qe;ye++){const on=X.get(ye).context;on.index=ye,on.count=Qe,on.ngForOf=this._ngForOf}V.forEachIdentityChange(ye=>{Vi(X.get(ye.currentIndex),ye)})}static ngTemplateContextGuard(V,X){return!0}static#e=this.\u0275fac=function(X){return new(X||M)(w.Y36(w.s_b),w.Y36(w.Rgc),w.Y36(w.ZZ4))};static#t=this.\u0275dir=w.lG2({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return M})();function Vi(M,ne){M.context.$implicit=ne.item}let os=(()=>{class M{constructor(V,X){this._viewContainer=V,this._context=new Xa,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=X}set ngIf(V){this._context.$implicit=this._context.ngIf=V,this._updateView()}set ngIfThen(V){fi("ngIfThen",V),this._thenTemplateRef=V,this._thenViewRef=null,this._updateView()}set ngIfElse(V){fi("ngIfElse",V),this._elseTemplateRef=V,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(V,X){return!0}static#e=this.\u0275fac=function(X){return new(X||M)(w.Y36(w.s_b),w.Y36(w.Rgc))};static#t=this.\u0275dir=w.lG2({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return M})();class Xa{constructor(){this.$implicit=null,this.ngIf=null}}function fi(M,ne){if(ne&&!ne.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,w.AaK)(ne)}'.`)}let Hi=(()=>{class M{constructor(V){this._viewContainerRef=V,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(V){if(V.ngTemplateOutlet||V.ngTemplateOutletInjector){const X=this._viewContainerRef;if(this._viewRef&&X.remove(X.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ye,ngTemplateOutletContext:Qe,ngTemplateOutletInjector:ct}=this;this._viewRef=X.createEmbeddedView(ye,Qe,ct?{injector:ct}:void 0)}else this._viewRef=null}else this._viewRef&&V.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(X){return new(X||M)(w.Y36(w.s_b))};static#t=this.\u0275dir=w.lG2({type:M,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[w.TTD]})}return M})();const va=new w.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),na=new w.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Ao=(()=>{class M{constructor(V,X,ye){this.locale=V,this.defaultTimezone=X,this.defaultOptions=ye}transform(V,X,ye,Qe){if(null==V||""===V||V!=V)return null;try{return tr(V,X??this.defaultOptions?.dateFormat??"mediumDate",Qe||this.locale,ye??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(ct){throw function Tr(M,ne){return new w.vHH(2100,!1)}()}}static#e=this.\u0275fac=function(X){return new(X||M)(w.Y36(w.soG,16),w.Y36(va,24),w.Y36(na,24))};static#t=this.\u0275pipe=w.Yjl({name:"date",type:M,pure:!0,standalone:!0})}return M})(),Pn=(()=>{class M{static#e=this.\u0275fac=function(X){return new(X||M)};static#t=this.\u0275mod=w.oAB({type:M});static#n=this.\u0275inj=w.cJS({})}return M})();const Hr="browser",vi="server";function ri(M){return M===vi}let Fa=(()=>{class M{static#e=this.\u0275prov=(0,w.Yz7)({token:M,providedIn:"root",factory:()=>new Is((0,w.LFG)(fe),window)})}return M})();class Is{constructor(ne,V){this.document=ne,this.window=V,this.offset=()=>[0,0]}setOffset(ne){this.offset=Array.isArray(ne)?()=>ne:ne}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ne){this.supportsScrolling()&&this.window.scrollTo(ne[0],ne[1])}scrollToAnchor(ne){if(!this.supportsScrolling())return;const V=function zr(M,ne){const V=M.getElementById(ne)||M.getElementsByName(ne)[0];if(V)return V;if("function"==typeof M.createTreeWalker&&M.body&&"function"==typeof M.body.attachShadow){const X=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let ye=X.currentNode;for(;ye;){const Qe=ye.shadowRoot;if(Qe){const ct=Qe.getElementById(ne)||Qe.querySelector(`[name="${ne}"]`);if(ct)return ct}ye=X.nextNode()}}return null}(this.document,ne);V&&(this.scrollToElement(V),V.focus())}setHistoryScrollRestoration(ne){this.supportsScrolling()&&(this.window.history.scrollRestoration=ne)}scrollToElement(ne){const V=ne.getBoundingClientRect(),X=V.left+this.window.pageXOffset,ye=V.top+this.window.pageYOffset,Qe=this.offset();this.window.scrollTo(X-Qe[0],ye-Qe[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Us{}},9468:(Gt,$e,K)=>{K.d($e,{QbO:()=>W_,tb:()=>SI,AFp:()=>z_,ip1:()=>S1,hGG:()=>bD,z2F:()=>Bc,Ojb:()=>Eb,sBO:()=>hD,Sil:()=>mI,EJc:()=>gI,ktI:()=>wi,Xts:()=>nh,SBq:()=>ah,lqb:()=>vl,qLn:()=>Ru,vpe:()=>bl,XFs:()=>Xt,OlP:()=>Rn,zs3:()=>fa,ZZ4:()=>W1,aQg:()=>q1,soG:()=>A1,YKP:()=>zm,h0i:()=>Sl,PXZ:()=>HC,R0b:()=>zo,FiY:()=>yg,Lbi:()=>$o,g9A:()=>jo,Qsj:()=>uT,FYo:()=>Zv,JOm:()=>Dg,q3G:()=>Ms,tp0:()=>Xf,Rgc:()=>rg,dDg:()=>iD,eoX:()=>lg,q4F:()=>ty,GfV:()=>Jg,s_b:()=>c1,ifc:()=>vs,gHi:()=>Np,VuI:()=>TD,LMc:()=>xS,MMx:()=>Z0,Lck:()=>cE,eFA:()=>AI,Gpc:()=>xn,f3M:()=>ir,$WT:()=>as,_c5:()=>Z1,qFp:()=>dg,rg0:()=>Lr,c2e:()=>JE,zSh:()=>Ip,HDt:()=>N1,wAp:()=>Pm,vHH:()=>Ge,lri:()=>EI,rWj:()=>B1,JZr:()=>_t,EiD:()=>Rv,mCW:()=>Mv,qzn:()=>ad,JVY:()=>F_,pB0:()=>JI,eBb:()=>gb,L6k:()=>Xd,LAX:()=>QI,cg1:()=>Iw,kL8:()=>k0,dqk:()=>hr,Z0I:()=>yt,eJc:()=>Wy,QGY:()=>Nd,F4k:()=>qb,RDi:()=>Av,AaK:()=>At,z3N:()=>ac,zW0:()=>dc,qOj:()=>vf,Xq5:()=>qe,TTD:()=>As,_Bn:()=>Lw,jDz:()=>uE,xp6:()=>lm,uIk:()=>bh,Tol:()=>Gu,ekj:()=>O0,Suo:()=>NE,Xpm:()=>ea,lG2:()=>Ao,Yz7:()=>De,cJS:()=>Re,oAB:()=>Qs,Yjl:()=>No,Y36:()=>cc,_UZ:()=>bm,BQk:()=>$p,ynx:()=>Cf,qZA:()=>Ad,TgZ:()=>Eh,EpF:()=>is,n5z:()=>zd,Ikx:()=>P0,SDv:()=>iE,LFG:()=>Fn,$8M:()=>L,$Z:()=>lc,NdJ:()=>I0,CRH:()=>OE,kcU:()=>Rh,O4$:()=>ua,oxw:()=>Wp,ALo:()=>t1,lcZ:()=>zw,xi3:()=>n1,Hsn:()=>Yb,F$t:()=>T0,Q6J:()=>jp,s9C:()=>Ty,MGl:()=>Ey,VKq:()=>Hw,WLB:()=>e1,kEZ:()=>vE,iGM:()=>sg,MAs:()=>Cd,KtG:()=>Bd,Jf7:()=>im,CHM:()=>Yu,uOi:()=>Jc,LSH:()=>ld,P3R:()=>Ug,YNc:()=>Wi,W1O:()=>m1,_uU:()=>cw,Oqu:()=>uw,hij:()=>qi,lnq:()=>Sm,Gf:()=>g1});var w=K(8645),ae=K(7394),u=K(5592),we=K(3019),de=K(5619),fe=K(2096),Ne=K(4829),He=K(305),Ee=K(9360);function re(r={}){const{connector:s=(()=>new w.x),resetOnError:a=!0,resetOnComplete:d=!0,resetOnRefCountZero:g=!0}=r;return y=>{let I,S,R,z=0,ie=!1,me=!1;const Me=()=>{S?.unsubscribe(),S=void 0},Le=()=>{Me(),I=R=void 0,ie=me=!1},pt=()=>{const Ot=I;Le(),Ot?.unsubscribe()};return(0,Ee.e)((Ot,en)=>{z++,!me&&!ie&&Me();const wn=R=R??s();en.add(()=>{z--,0===z&&!me&&!ie&&(S=le(pt,g))}),wn.subscribe(en),!I&&z>0&&(I=new He.Hp({next:wt=>wn.next(wt),error:wt=>{me=!0,Me(),S=le(Le,a,wt),wn.error(wt)},complete:()=>{ie=!0,Me(),S=le(Le,d),wn.complete()}}),(0,Ne.Xf)(Ot).subscribe(I))})(y)}}function le(r,s,...a){if(!0===s)return void r();if(!1===s)return;const d=new He.Hp({next:()=>{d.unsubscribe(),r()}});return(0,Ne.Xf)(s(...a)).subscribe(d)}var Se=K(4664),et=K(3997);function Pe(r){for(let s in r)if(r[s]===Pe)return s;throw Error("Could not find renamed property on target object.")}function it(r,s){for(const a in s)s.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=s[a])}function At(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(At).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Bt(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const Ft=Pe({__forward_ref__:Pe});function xn(r){return r.__forward_ref__=xn,r.toString=function(){return At(this())},r}function xt(r){return mt(r)?r():r}function mt(r){return"function"==typeof r&&r.hasOwnProperty(Ft)&&r.__forward_ref__===xn}function ot(r){return r&&!!r.\u0275providers}const _t="https://g.co/ng/security#xss";class Ge extends Error{constructor(s,a){super(function ve(r,s){return`NG0${Math.abs(r)}${s?": "+s:""}`}(s,a)),this.code=s}}function Ke(r){return"string"==typeof r?r:null==r?"":String(r)}function Dn(r,s){throw new Ge(-201,!1)}function Dt(r,s,a,d){throw new Error(`ASSERTION ERROR: ${r}`+(null==d?"":` [Expected=> ${a} ${d} ${s} <=Actual]`))}function De(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Re(r){return{providers:r.providers||[],imports:r.imports||[]}}function at(r){return St(r,sn)||St(r,In)}function yt(r){return null!==at(r)}function St(r,s){return r.hasOwnProperty(s)?r[s]:null}function An(r){return r&&(r.hasOwnProperty(Qt)||r.hasOwnProperty(tr))?r[Qt]:null}const sn=Pe({\u0275prov:Pe}),Qt=Pe({\u0275inj:Pe}),In=Pe({ngInjectableDef:Pe}),tr=Pe({ngInjectorDef:Pe});var Xt=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(Xt||{});let Sr;function Ir(){return Sr}function mn(r){const s=Sr;return Sr=r,s}function dr(r,s,a){const d=at(r);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:a&Xt.Optional?null:void 0!==s?s:void Dn(At(r))}const hr=globalThis;class Rn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=De({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const U={},G="__NG_DI_FLAG__",W="ngTempTokenPath",be=/\n/gm,Tt="__source";let tn;function pn(r){const s=tn;return tn=r,s}function Kt(r,s=Xt.Default){if(void 0===tn)throw new Ge(-203,!1);return null===tn?dr(r,void 0,s):tn.get(r,s&Xt.Optional?null:void 0,s)}function Fn(r,s=Xt.Default){return(Ir()||Kt)(xt(r),s)}function ir(r,s=Xt.Default){return Fn(r,ss(s))}function ss(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function Co(r){const s=[];for(let a=0;a<r.length;a++){const d=xt(r[a]);if(Array.isArray(d)){if(0===d.length)throw new Ge(900,!1);let g,y=Xt.Default;for(let I=0;I<d.length;I++){const S=d[I],R=Qo(S);"number"==typeof R?-1===R?g=S.token:y|=R:g=S}s.push(Fn(g,y))}else s.push(Fn(d))}return s}function ys(r,s){return r[G]=s,r.prototype[G]=s,r}function Qo(r){return r[G]}function ti(r){return{toString:r}.toString()}var _a=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(_a||{}),vs=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(vs||{});const Si={},sr=[],bs=Pe({\u0275cmp:Pe}),co=Pe({\u0275dir:Pe}),So=Pe({\u0275pipe:Pe}),Jo=Pe({\u0275mod:Pe}),ks=Pe({\u0275fac:Pe}),Zs=Pe({__NG_ELEMENT_ID__:Pe}),ci=Pe({__NG_ENV_ID__:Pe});function Ks(r,s,a){let d=r.length;for(;;){const g=r.indexOf(s,a);if(-1===g)return g;if(0===g||r.charCodeAt(g-1)<=32){const y=s.length;if(g+y===d||r.charCodeAt(g+y)<=32)return g}a=g+1}}function Vi(r,s,a){let d=0;for(;d<a.length;){const g=a[d];if("number"==typeof g){if(0!==g)break;d++;const y=a[d++],I=a[d++],S=a[d++];r.setAttribute(s,I,S,y)}else{const y=g,I=a[++d];os(y)?r.setProperty(s,y,I):r.setAttribute(s,y,I),d++}}return d}function Ja(r){return 3===r||4===r||6===r}function os(r){return 64===r.charCodeAt(0)}function Xa(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let a=-1;for(let d=0;d<s.length;d++){const g=s[d];"number"==typeof g?a=g:0===a||fi(r,a,g,null,-1===a||2===a?s[++d]:null)}}return r}function fi(r,s,a,d,g){let y=0,I=r.length;if(-1===s)I=-1;else for(;y<r.length;){const S=r[y++];if("number"==typeof S){if(S===s){I=-1;break}if(S>s){I=y-1;break}}}for(;y<r.length;){const S=r[y];if("number"==typeof S)break;if(S===a){if(null===d)return void(null!==g&&(r[y+1]=g));if(d===r[y+1])return void(r[y+2]=g)}y++,null!==d&&y++,null!==g&&y++}-1!==I&&(r.splice(I,0,s),y=I+1),r.splice(y++,0,a),null!==d&&r.splice(y++,0,d),null!==g&&r.splice(y++,0,g)}const Ra="ng-template";function Fs(r,s,a){let d=0,g=!0;for(;d<r.length;){let y=r[d++];if("string"==typeof y&&g){const I=r[d++];if(a&&"class"===y&&-1!==Ks(I.toLowerCase(),s,0))return!0}else{if(1===y){for(;d<r.length&&"string"==typeof(y=r[d++]);)if(y.toLowerCase()===s)return!0;return!1}"number"==typeof y&&(g=!1)}}return!1}function Xo(r){return 4===r.type&&r.value!==Ra}function Pa(r,s,a){return s===(4!==r.type||a?r.value:Ra)}function Ls(r,s,a){let d=4;const g=r.attrs||[],y=function ec(r){for(let s=0;s<r.length;s++)if(Ja(r[s]))return s;return r.length}(g);let I=!1;for(let S=0;S<s.length;S++){const R=s[S];if("number"!=typeof R){if(!I)if(4&d){if(d=2|1&d,""!==R&&!Pa(r,R,a)||""===R&&1===s.length){if(pi(d))return!1;I=!0}}else{const z=8&d?R:s[++S];if(8&d&&null!==r.attrs){if(!Fs(r.attrs,z,a)){if(pi(d))return!1;I=!0}continue}const me=Ys(8&d?"class":R,g,Xo(r),a);if(-1===me){if(pi(d))return!1;I=!0;continue}if(""!==z){let Me;Me=me>y?"":g[me+1].toLowerCase();const Le=8&d?Me:null;if(Le&&-1!==Ks(Le,z,0)||2&d&&z!==Me){if(pi(d))return!1;I=!0}}}}else{if(!I&&!pi(d)&&!pi(R))return!1;if(I&&pi(R))continue;I=!1,d=R|1&d}}return pi(d)||I}function pi(r){return 0==(1&r)}function Ys(r,s,a,d){if(null===s)return-1;let g=0;if(d||!a){let y=!1;for(;g<s.length;){const I=s[g];if(I===r)return g;if(3===I||6===I)y=!0;else{if(1===I||2===I){let S=s[++g];for(;"string"==typeof S;)S=s[++g];continue}if(4===I)break;if(0===I){g+=4;continue}}g+=y?1:2}return-1}return function Tr(r,s){let a=r.indexOf(4);if(a>-1)for(a++;a<r.length;){const d=r[a];if("number"==typeof d)return-1;if(d===s)return a;a++}return-1}(s,r)}function ws(r,s,a=!1){for(let d=0;d<s.length;d++)if(Ls(r,s[d],a))return!0;return!1}function ya(r,s){e:for(let a=0;a<s.length;a++){const d=s[a];if(r.length===d.length){for(let g=0;g<r.length;g++)if(r[g]!==d[g])continue e;return!0}}return!1}function Ai(r,s){return r?":not("+s.trim()+")":s}function rl(r){let s=r[0],a=1,d=2,g="",y=!1;for(;a<r.length;){let I=r[a];if("string"==typeof I)if(2&d){const S=r[++a];g+="["+I+(S.length>0?'="'+S+'"':"")+"]"}else 8&d?g+="."+I:4&d&&(g+=" "+I);else""!==g&&!pi(I)&&(s+=Ai(y,g),g=""),d=I,y=y||!pi(d);a++}return""!==g&&(s+=Ai(y,g)),s}function ea(r){return ti(()=>{const s=yi(r),a={...s,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===_a.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||vs.Emulated,styles:r.styles||sr,_:null,schemas:r.schemas||null,tView:null,id:""};Js(a);const d=r.dependencies;return a.directiveDefs=Ii(d,!1),a.pipeDefs=Ii(d,!0),a.id=function lo(r){let s=0;const a=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const g of a)s=Math.imul(31,s)+g.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(a),a})}function ta(r){return pr(r)||Zr(r)}function Ni(r){return null!==r}function Qs(r){return ti(()=>({type:r.type,bootstrap:r.bootstrap||sr,declarations:r.declarations||sr,imports:r.imports||sr,exports:r.exports||sr,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function na(r,s){if(null==r)return Si;const a={};for(const d in r)if(r.hasOwnProperty(d)){let g=r[d],y=g;Array.isArray(g)&&(y=g[1],g=g[0]),a[g]=d,s&&(s[g]=y)}return a}function Ao(r){return ti(()=>{const s=yi(r);return Js(s),s})}function No(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function pr(r){return r[bs]||null}function Zr(r){return r[co]||null}function Oi(r){return r[So]||null}function as(r){const s=pr(r)||Zr(r)||Oi(r);return null!==s&&s.standalone}function ni(r,s){const a=r[Jo]||null;if(!a&&!0===s)throw new Error(`Type ${At(r)} does not have '\u0275mod' property.`);return a}function yi(r){const s={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:r.inputs||Si,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||sr,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:na(r.inputs,s),outputs:na(r.outputs)}}function Js(r){r.features?.forEach(s=>s(r))}function Ii(r,s){if(!r)return null;const a=s?Oi:ta;return()=>("function"==typeof r?r():r).map(d=>a(d)).filter(Ni)}const cr=0,Lt=1,Wn=2,Pn=3,Hr=4,vi=5,Kr=6,Mi=7,Mr=8,ri=9,cs=10,Ln=11,uo=12,Fa=13,Is=14,zr=15,ls=16,Us=17,Jr=18,Oo=19,il=20,ho=21,Gi=22,Xs=23,Fi=24,qn=25,Mo=1,Vs=2,Ti=7,ra=9,Fr=11;function Yr(r){return Array.isArray(r)&&"object"==typeof r[Mo]}function Ki(r){return Array.isArray(r)&&!0===r[Mo]}function to(r){return 0!=(4&r.flags)}function no(r){return r.componentOffset>-1}function xo(r){return 1==(1&r.flags)}function bi(r){return!!r.template}function xi(r){return 0!=(512&r[Wn])}function La(r,s){return r.hasOwnProperty(ks)?r[ks]:null}let Ri=null,oa=!1;function us(r){const s=Ri;return Ri=r,s}const po={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Qr(r){if(!Ss(r)||r.dirty){if(!r.producerMustRecompute(r)&&!Bi(r))return void(r.dirty=!1);r.producerRecomputeValue(r),r.dirty=!1}}function Wu(r){r.dirty=!0,function Hs(r){if(void 0===r.liveConsumerNode)return;const s=oa;oa=!0;try{for(const a of r.liveConsumerNode)a.dirty||Wu(a)}finally{oa=s}}(r),r.consumerMarkedDirty?.(r)}function Ei(r){return r&&(r.nextProducerIndex=0),us(r)}function Cs(r,s){if(us(s),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(Ss(r))for(let a=r.nextProducerIndex;a<r.producerNode.length;a++)ba(r.producerNode[a],r.producerIndexOfThis[a]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function Bi(r){wa(r);for(let s=0;s<r.producerNode.length;s++){const a=r.producerNode[s],d=r.producerLastReadVersion[s];if(d!==a.version||(Qr(a),d!==a.version))return!0}return!1}function Ji(r){if(wa(r),Ss(r))for(let s=0;s<r.producerNode.length;s++)ba(r.producerNode[s],r.producerIndexOfThis[s]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function ba(r,s){if(function Tc(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}(r),wa(r),1===r.liveConsumerNode.length)for(let d=0;d<r.producerNode.length;d++)ba(r.producerNode[d],r.producerIndexOfThis[d]);const a=r.liveConsumerNode.length-1;if(r.liveConsumerNode[s]=r.liveConsumerNode[a],r.liveConsumerIndexOfThis[s]=r.liveConsumerIndexOfThis[a],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,s<r.liveConsumerNode.length){const d=r.liveConsumerIndexOfThis[s],g=r.liveConsumerNode[s];wa(g),g.producerIndexOfThis[d]=s}}function Ss(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function wa(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}let Hc=null;function Lr(r){const s=us(null);try{return r()}finally{us(s)}}const Hn=()=>{},Xr=(()=>({...po,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{r.schedule(r.ref)},hasRun:!1,cleanupFn:Hn}))();class gi{constructor(s,a,d){this.previousValue=s,this.currentValue=a,this.firstChange=d}isFirstChange(){return this.firstChange}}function As(){return Pi}function Pi(r){return r.type.prototype.ngOnChanges&&(r.setInput=ds),ji}function ji(){const r=hs(this),s=r?.current;if(s){const a=r.previous;if(a===Si)r.previous=s;else for(let d in s)a[d]=s[d];r.current=null,this.ngOnChanges(s)}}function ds(r,s,a,d){const g=this.declaredInputs[a],y=hs(r)||function Cc(r,s){return r[aa]=s}(r,{previous:Si,current:null}),I=y.current||(y.current={}),S=y.previous,R=S[g];I[g]=new gi(R&&R.currentValue,s,S===Si),r[d]=s}As.ngInherit=!0;const aa="__ngSimpleChanges__";function hs(r){return r[aa]||null}const js=function(r,s,a){},Ba="svg";function mi(r){for(;Array.isArray(r);)r=r[cr];return r}function xl(r,s){return mi(s[r])}function fs(r,s){return mi(s[r.index])}function uu(r,s){return r.data[s]}function Sc(r,s){return r[s]}function Di(r,s){const a=s[r];return Yr(a)?a:a[cr]}function ca(r,s){return null==s?null:r[s]}function du(r){r[Us]=0}function Fd(r){1024&r[Wn]||(r[Wn]|=1024,Gc(r,1))}function _i(r){1024&r[Wn]&&(r[Wn]&=-1025,Gc(r,-1))}function Gc(r,s){let a=r[Pn];if(null===a)return;a[vi]+=s;let d=a;for(a=a[Pn];null!==a&&(1===s&&1===d[vi]||-1===s&&0===d[vi]);)a[vi]+=s,d=a,a=a[Pn]}function nc(r,s){if(256==(256&r[Wn]))throw new Ge(911,!1);null===r[ho]&&(r[ho]=[]),r[ho].push(s)}const _n={lFrame:Ve(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function jc(){return _n.bindingsEnabled}function Ia(){return null!==_n.skipHydrationRootTNode}function ht(){return _n.lFrame.lView}function Er(){return _n.lFrame.tView}function Yu(r){return _n.lFrame.contextLView=r,r[Mr]}function Bd(r){return _n.lFrame.contextLView=null,r}function Xi(){let r=Qu();for(;null!==r&&64===r.type;)r=r.parent;return r}function Qu(){return _n.lFrame.currentTNode}function ll(){const r=_n.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}function _o(r,s){const a=_n.lFrame;a.currentTNode=r,a.isParent=s}function Fl(){return _n.lFrame.isParent}function Va(){_n.lFrame.isParent=!1}function $s(){const r=_n.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function Ha(){return _n.lFrame.bindingIndex++}function Ta(r){const s=_n.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,a}function hl(r){_n.lFrame.inI18n=r}function xh(r,s){const a=_n.lFrame;a.bindingIndex=a.bindingRootIndex=r,C(s)}function C(r){_n.lFrame.currentDirectiveIndex=r}function D(){return _n.lFrame.currentQueryIndex}function P(r){_n.lFrame.currentQueryIndex=r}function j(r){const s=r[Lt];return 2===s.type?s.declTNode:1===s.type?r[Kr]:null}function se(r,s,a){if(a&Xt.SkipSelf){let g=s,y=r;for(;!(g=g.parent,null!==g||a&Xt.Host||(g=j(y),null===g||(y=y[Is],10&g.type))););if(null===g)return!1;s=g,r=y}const d=_n.lFrame=ze();return d.currentTNode=s,d.lView=r,!0}function _e(r){const s=ze(),a=r[Lt];_n.lFrame=s,s.currentTNode=a.firstChild,s.lView=r,s.tView=a,s.contextLView=r,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function ze(){const r=_n.lFrame,s=null===r?null:r.child;return null===s?Ve(r):s}function Ve(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function $t(){const r=_n.lFrame;return _n.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Gn=$t;function Nr(){const r=$t();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Gr(){return _n.lFrame.selectedIndex}function Ea(r){_n.lFrame.selectedIndex=r}function Rr(){const r=_n.lFrame;return uu(r.tView,r.selectedIndex)}function ua(){_n.lFrame.currentNamespace=Ba}function Rh(){!function Ga(){_n.lFrame.currentNamespace=null}()}let Ph=!0;function kh(){return Ph}function Ac(r){Ph=r}function gu(r,s){for(let a=s.directiveStart,d=s.directiveEnd;a<d;a++){const y=r.data[a].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:S,ngAfterViewInit:R,ngAfterViewChecked:z,ngOnDestroy:ie}=y;I&&(r.contentHooks??=[]).push(-a,I),S&&((r.contentHooks??=[]).push(a,S),(r.contentCheckHooks??=[]).push(a,S)),R&&(r.viewHooks??=[]).push(-a,R),z&&((r.viewHooks??=[]).push(a,z),(r.viewCheckHooks??=[]).push(a,z)),null!=ie&&(r.destroyHooks??=[]).push(a,ie)}}function zc(r,s,a){mu(r,s,3,a)}function fl(r,s,a,d){(3&r[Wn])===a&&mu(r,s,a,d)}function Vd(r,s){let a=r[Wn];(3&a)===s&&(a&=8191,a+=1,r[Wn]=a)}function mu(r,s,a,d){const y=d??-1,I=s.length-1;let S=0;for(let R=void 0!==d?65535&r[Us]:0;R<I;R++)if("number"==typeof s[R+1]){if(S=s[R],null!=d&&S>=d)break}else s[R]<0&&(r[Us]+=65536),(S<y||-1==y)&&(ic(r,a,s,R),r[Us]=(4294901760&r[Us])+R+2),R++}function Hd(r,s){js(4,r,s);const a=us(null);try{s.call(r)}finally{us(a),js(5,r,s)}}function ic(r,s,a,d){const g=a[d]<0,y=a[d+1],S=r[g?-a[d]:a[d]];g?r[Wn]>>13<r[Us]>>16&&(3&r[Wn])===s&&(r[Wn]+=8192,Hd(S,y)):Hd(S,y)}const pl=-1;class td{constructor(s,a,d){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=d}}function _u(r){return r!==pl}function Bl(r){return 32767&r}function Ul(r,s){let a=function Bh(r){return r>>16}(r),d=s;for(;a>0;)d=d[Is],a--;return d}let yu=!0;function Wc(r){const s=yu;return yu=r,s}const Vl=255,nd=5;let vu=0;const yo={};function gl(r,s){const a=bu(r,s);if(-1!==a)return a;const d=s[Lt];d.firstCreatePass&&(r.injectorIndex=s.length,qc(d.data,r),qc(s,null),qc(d.blueprint,null));const g=wu(r,s),y=r.injectorIndex;if(_u(g)){const I=Bl(g),S=Ul(g,s),R=S[Lt].data;for(let z=0;z<8;z++)s[y+z]=S[I+z]|R[I+z]}return s[y+8]=g,y}function qc(r,s){r.push(0,0,0,0,0,0,0,0,s)}function bu(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function wu(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let a=0,d=null,g=s;for(;null!==g;){if(d=O(g),null===d)return pl;if(a++,g=g[Is],-1!==d.injectorIndex)return d.injectorIndex|a<<16}return pl}function Hl(r,s,a){!function rd(r,s,a){let d;"string"==typeof a?d=a.charCodeAt(0)||0:a.hasOwnProperty(Zs)&&(d=a[Zs]),null==d&&(d=a[Zs]=vu++);const g=d&Vl;s.data[r+(g>>nd)]|=1<<g}(r,s,a)}function mg(r,s,a){if(a&Xt.Optional||void 0!==r)return r;Dn()}function qf(r,s,a,d){if(a&Xt.Optional&&void 0===d&&(d=null),!(a&(Xt.Self|Xt.Host))){const g=r[ri],y=mn(void 0);try{return g?g.get(s,d,a&Xt.Optional):dr(s,d,a&Xt.Optional)}finally{mn(y)}}return mg(d,0,a)}function Gl(r,s,a,d=Xt.Default,g){if(null!==r){if(2048&s[Wn]&&!(d&Xt.Self)){const I=function Yf(r,s,a,d,g){let y=r,I=s;for(;null!==y&&null!==I&&2048&I[Wn]&&!(512&I[Wn]);){const S=Zf(y,I,a,d|Xt.Self,yo);if(S!==yo)return S;let R=y.parent;if(!R){const z=I[il];if(z){const ie=z.get(a,yo,d);if(ie!==yo)return ie}R=O(I),I=I[Is]}y=R}return g}(r,s,a,d,yo);if(I!==yo)return I}const y=Zf(r,s,a,d,yo);if(y!==yo)return y}return qf(s,a,d,g)}function Zf(r,s,a,d,g){const y=function $d(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(Zs)?r[Zs]:void 0;return"number"==typeof s?s>=0?s&Vl:Kf:s}(a);if("function"==typeof y){if(!se(s,r,d))return d&Xt.Host?mg(g,0,d):qf(s,a,d,g);try{let I;if(I=y(d),null!=I||d&Xt.Optional)return I;Dn()}finally{Gn()}}else if("number"==typeof y){let I=null,S=bu(r,s),R=pl,z=d&Xt.Host?s[zr][Kr]:null;for((-1===S||d&Xt.SkipSelf)&&(R=-1===S?wu(r,s):s[S+8],R!==pl&&Iu(d,!1)?(I=s[Lt],S=Bl(R),s=Ul(R,s)):S=-1);-1!==S;){const ie=s[Lt];if(Nc(y,S,ie.data)){const me=jl(S,s,a,I,d,z);if(me!==yo)return me}R=s[S+8],R!==pl&&Iu(d,s[Lt].data[S+8]===z)&&Nc(y,S,s)?(I=ie,S=Bl(R),s=Ul(R,s)):S=-1}}return g}function jl(r,s,a,d,g,y){const I=s[Lt],S=I.data[r+8],ie=ml(S,I,a,null==d?no(S)&&yu:d!=I&&0!=(3&S.type),g&Xt.Host&&y===S);return null!==ie?Zc(s,I,ie,S):yo}function ml(r,s,a,d,g){const y=r.providerIndexes,I=s.data,S=1048575&y,R=r.directiveStart,ie=y>>20,Me=g?S+ie:r.directiveEnd;for(let Le=d?S:S+ie;Le<Me;Le++){const pt=I[Le];if(Le<R&&a===pt||Le>=R&&pt.type===a)return Le}if(g){const Le=I[R];if(Le&&bi(Le)&&Le.type===a)return R}return null}function Zc(r,s,a,d){let g=r[a];const y=s.data;if(function Fh(r){return r instanceof td}(g)){const I=g;I.resolving&&function Vn(r,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new Ge(-200,`Circular dependency in DI detected for ${r}${a}`)}(function gt(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Ke(r)}(y[a]));const S=Wc(I.canSeeViewProviders);I.resolving=!0;const z=I.injectImpl?mn(I.injectImpl):null;se(r,d,Xt.Default);try{g=r[a]=I.factory(void 0,y,r,d),s.firstCreatePass&&a>=d.directiveStart&&function $f(r,s,a){const{ngOnChanges:d,ngOnInit:g,ngDoCheck:y}=s.type.prototype;if(d){const I=Pi(s);(a.preOrderHooks??=[]).push(r,I),(a.preOrderCheckHooks??=[]).push(r,I)}g&&(a.preOrderHooks??=[]).push(0-r,g),y&&((a.preOrderHooks??=[]).push(r,y),(a.preOrderCheckHooks??=[]).push(r,y))}(a,y[a],s)}finally{null!==z&&mn(z),Wc(S),I.resolving=!1,Gn()}}return g}function Nc(r,s,a){return!!(a[s+(r>>nd)]&1<<r)}function Iu(r,s){return!(r&Xt.Self||r&Xt.Host&&s)}class Bo{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,d){return Gl(this._tNode,this._lView,s,ss(d),a)}}function Kf(){return new Bo(Xi(),ht())}function zd(r){return ti(()=>{const s=r.prototype.constructor,a=s[ks]||id(s),d=Object.prototype;let g=Object.getPrototypeOf(r.prototype).constructor;for(;g&&g!==d;){const y=g[ks]||id(g);if(y&&y!==a)return y;g=Object.getPrototypeOf(g)}return y=>new y})}function id(r){return mt(r)?()=>{const s=id(xt(r));return s&&s()}:La(r)}function O(r){const s=r[Lt],a=s.type;return 2===a?s.declTNode:1===a?r[Kr]:null}function L(r){return function jd(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const a=r.attrs;if(a){const d=a.length;let g=0;for(;g<d;){const y=a[g];if(Ja(y))break;if(0===y)g+=2;else if("number"==typeof y)for(g++;g<d&&"string"==typeof a[g];)g++;else{if(y===s)return a[g+1];g+=2}}}return null}(Xi(),r)}const he="__parameters__";function Vt(r,s,a){return ti(()=>{const d=function st(r){return function(...a){if(r){const d=r(...a);for(const g in d)this[g]=d[g]}}}(s);function g(...y){if(this instanceof g)return d.apply(this,y),this;const I=new g(...y);return S.annotation=I,S;function S(R,z,ie){const me=R.hasOwnProperty(he)?R[he]:Object.defineProperty(R,he,{value:[]})[he];for(;me.length<=ie;)me.push(null);return(me[ie]=me[ie]||[]).push(I),R}}return a&&(g.prototype=Object.create(a.prototype)),g.prototype.ngMetadataName=r,g.annotationCls=g,g})}function Wd(r,s){r.forEach(a=>Array.isArray(a)?Wd(a,s):s(a))}function Gh(r,s,a){s>=r.length?r.push(a):r.splice(s,0,a)}function qd(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function $l(r,s){const a=[];for(let d=0;d<r;d++)a.push(s);return a}function Ca(r,s,a){let d=Eu(r,s);return d>=0?r[1|d]=a:(d=~d,function c_(r,s,a,d){let g=r.length;if(g==s)r.push(a,d);else if(1===g)r.push(d,r[0]),r[0]=a;else{for(g--,r.push(r[g-1],r[g]);g>s;)r[g]=r[g-2],g--;r[s]=a,r[s+1]=d}}(r,d,s,a)),d}function Uo(r,s){const a=Eu(r,s);if(a>=0)return r[1|a]}function Eu(r,s){return function zl(r,s,a){let d=0,g=r.length>>a;for(;g!==d;){const y=d+(g-d>>1),I=r[y<<a];if(s===I)return y<<a;I>s?g=y:d=y+1}return~(g<<a)}(r,s,1)}const yg=ys(Vt("Optional"),8),Xf=ys(Vt("SkipSelf"),4);function g_(r){return 128==(128&r.flags)}var Dg=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(Dg||{});const Go=/^>|^->|<!--|-->|--!>|<!-$/g,rp=/(<|>)/g,rb="\u200b$1\u200b";const fv=new Map;let m_=0;const Sg="__ngContext__";function bo(r,s){Yr(s)?(r[Sg]=s[Oo],function __(r){fv.set(r[Oo],r)}(s)):r[Sg]=s}let ii;function sp(r,s){return ii(r,s)}function op(r){const s=r[Pn];return Ki(s)?s[Pn]:s}function w_(r){return ap(r[uo])}function Kd(r){return ap(r[Hr])}function ap(r){for(;null!==r&&!Ki(r);)r=r[Hr];return r}function Qc(r,s,a,d,g){if(null!=d){let y,I=!1;Ki(d)?y=d:Yr(d)&&(I=!0,d=d[cr]);const S=mi(d);0===r&&null!==a?null==g?C_(s,a,S):Zl(s,a,S,g||null,!0):1===r&&null!==a?Zl(s,a,S,g||null,!0):2===r?function x_(r,s,a){const d=Yd(r,s);d&&function bv(r,s,a,d){r.removeChild(s,a,d)}(r,d,s,a)}(s,S,I):3===r&&s.destroyNode(S),null!=y&&function KI(r,s,a,d,g){const y=a[Ti];y!==mi(a)&&Qc(s,r,d,y,g);for(let S=Fr;S<a.length;S++){const R=a[S];kg(R[Lt],R,r,s,d,y)}}(s,r,y,a,g)}}function Wh(r,s){return r.createText(s)}function I_(r,s){return r.createComment(function ib(r){return r.replace(Go,s=>s.replace(rp,rb))}(s))}function cp(r,s,a){return r.createElement(s,a)}function qh(r,s){const a=r[ra],d=a.indexOf(s);_i(s),a.splice(d,1)}function xg(r,s){if(r.length<=Fr)return;const a=Fr+s,d=r[a];if(d){const g=d[ls];null!==g&&g!==r&&qh(g,d),s>0&&(r[a-1][Hr]=d[Hr]);const y=qd(r,Fr+s);!function _v(r,s){kg(r,s,s[Ln],2,null,null),s[cr]=null,s[Kr]=null}(d[Lt],d);const I=y[Jr];null!==I&&I.detachView(y[Lt]),d[Pn]=null,d[Hr]=null,d[Wn]&=-129}return d}function lp(r,s){if(!(256&s[Wn])){const a=s[Ln];s[Xs]&&Ji(s[Xs]),s[Fi]&&Ji(s[Fi]),a.destroyNode&&kg(r,s,a,3,null,null),function yv(r){let s=r[uo];if(!s)return up(r[Lt],r);for(;s;){let a=null;if(Yr(s))a=s[uo];else{const d=s[Fr];d&&(a=d)}if(!a){for(;s&&!s[Hr]&&s!==r;)Yr(s)&&up(s[Lt],s),s=s[Pn];null===s&&(s=r),Yr(s)&&up(s[Lt],s),a=s&&s[Hr]}s=a}}(s)}}function up(r,s){if(!(256&s[Wn])){s[Wn]&=-129,s[Wn]|=256,function D_(r,s){let a;if(null!=r&&null!=(a=r.destroyHooks))for(let d=0;d<a.length;d+=2){const g=s[a[d]];if(!(g instanceof td)){const y=a[d+1];if(Array.isArray(y))for(let I=0;I<y.length;I+=2){const S=g[y[I]],R=y[I+1];js(4,S,R);try{R.call(S)}finally{js(5,S,R)}}else{js(4,g,y);try{y.call(g)}finally{js(5,g,y)}}}}}(r,s),function lb(r,s){const a=r.cleanup,d=s[Mi];if(null!==a)for(let y=0;y<a.length-1;y+=2)if("string"==typeof a[y]){const I=a[y+3];I>=0?d[I]():d[-I].unsubscribe(),y+=2}else a[y].call(d[a[y+1]]);null!==d&&(s[Mi]=null);const g=s[ho];if(null!==g){s[ho]=null;for(let y=0;y<g.length;y++)(0,g[y])()}}(r,s),1===s[Lt].type&&s[Ln].destroy();const a=s[ls];if(null!==a&&Ki(s[Pn])){a!==s[Pn]&&qh(a,s);const d=s[Jr];null!==d&&d.detachView(r)}!function sb(r){fv.delete(r[Oo])}(s)}}function dp(r,s,a){return hp(r,s.parent,a)}function hp(r,s,a){let d=s;for(;null!==d&&40&d.type;)d=(s=d).parent;if(null===d)return a[cr];{const{componentOffset:g}=d;if(g>-1){const{encapsulation:y}=r.data[d.directiveStart+g];if(y===vs.None||y===vs.Emulated)return null}return fs(d,a)}}function Zl(r,s,a,d,g){r.insertBefore(s,a,d,g)}function C_(r,s,a){r.appendChild(s,a)}function S_(r,s,a,d,g){null!==d?Zl(r,s,a,d,g):C_(r,s,a)}function Yd(r,s){return r.parentNode(s)}function Rg(r,s,a){return O_(r,s,a)}function N_(r,s,a){return 40&r.type?fs(r,a):null}let M_,fp,Zh,Kh,O_=N_;function ub(r,s){O_=r,M_=s}function Pg(r,s,a,d){const g=dp(r,d,s),y=s[Ln],S=Rg(d.parent||s[Kr],d,s);if(null!=g)if(Array.isArray(a))for(let R=0;R<a.length;R++)S_(y,g,a[R],S,!1);else S_(y,g,a,S,!1);void 0!==M_&&M_(y,d,s,a,g)}function Nu(r,s){if(null!==s){const a=s.type;if(3&a)return fs(s,r);if(4&a)return Tv(-1,r[s.index]);if(8&a){const d=s.child;if(null!==d)return Nu(r,d);{const g=r[s.index];return Ki(g)?Tv(-1,g):mi(g)}}if(32&a)return sp(s,r)()||mi(r[s.index]);{const d=Iv(r,s);return null!==d?Array.isArray(d)?d[0]:Nu(op(r[zr]),d):Nu(r,s.next)}}return null}function Iv(r,s){return null!==s?r[zr][Kr].projection[s.projection]:null}function Tv(r,s){const a=Fr+r+1;if(a<s.length){const d=s[a],g=d[Lt].firstChild;if(null!==g)return Nu(d,g)}return s[Ti]}function Ev(r,s,a,d,g,y,I){for(;null!=a;){const S=d[a.index],R=a.type;if(I&&0===s&&(S&&bo(mi(S),d),a.flags|=2),32!=(32&a.flags))if(8&R)Ev(r,s,a.child,d,g,y,!1),Qc(s,r,g,S,y);else if(32&R){const z=sp(a,d);let ie;for(;ie=z();)Qc(s,r,g,ie,y);Qc(s,r,g,S,y)}else 16&R?Dv(r,s,d,a,g,y):Qc(s,r,g,S,y);a=I?a.projectionNext:a.next}}function kg(r,s,a,d,g,y){Ev(a,d,r.firstChild,s,g,y,!1)}function Dv(r,s,a,d,g,y){const I=a[zr],R=I[Kr].projection[d.projection];if(Array.isArray(R))for(let z=0;z<R.length;z++)Qc(s,r,g,R[z],y);else{let z=R;const ie=I[Pn];g_(d)&&(z.flags|=128),Ev(r,s,z,ie,g,y,!0)}}function Cv(r,s,a){""===a?r.removeAttribute(s,"class"):r.setAttribute(s,"class",a)}function Sv(r,s,a){const{mergedAttrs:d,classes:g,styles:y}=a;null!==d&&Vi(r,s,d),null!==g&&Cv(r,s,g),null!==y&&function R_(r,s,a){r.setAttribute(s,"style",a)}(r,s,y)}function pp(r){return function Fg(){if(void 0===fp&&(fp=null,hr.trustedTypes))try{fp=hr.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return fp}()?.createHTML(r)||r}function Av(r){Zh=r}function gp(){if(void 0!==Zh)return Zh;if(typeof document<"u")return document;throw new Ge(210,!1)}function Nv(r){return function hb(){if(void 0===Kh&&(Kh=null,hr.trustedTypes))try{Kh=hr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Kh}()?.createScriptURL(r)||r}class Yh{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_t})`}}class fb extends Yh{getTypeName(){return"HTML"}}class Ov extends Yh{getTypeName(){return"Style"}}class pb extends Yh{getTypeName(){return"Script"}}class Jd extends Yh{getTypeName(){return"URL"}}class Ou extends Yh{getTypeName(){return"ResourceURL"}}function ac(r){return r instanceof Yh?r.changingThisBreaksApplicationSecurity:r}function ad(r,s){const a=function Lg(r){return r instanceof Yh&&r.getTypeName()||null}(r);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${_t})`)}return a===s}function F_(r){return new fb(r)}function Xd(r){return new Ov(r)}function gb(r){return new pb(r)}function QI(r){return new Jd(r)}function JI(r){return new Ou(r)}function XI(r){const s=new eT(r);return function ND(){try{return!!(new window.DOMParser).parseFromString(pp(""),"text/html")}catch{return!1}}()?new AD(s):s}class AD{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(pp(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class eT{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=pp(s),a}}const OD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Mv(r){return(r=String(r)).match(OD)?r:"unsafe:"+r}function eh(r){const s={};for(const a of r.split(","))s[a]=!0;return s}function L_(...r){const s={};for(const a of r)for(const d in a)a.hasOwnProperty(d)&&(s[d]=!0);return s}const mb=eh("area,br,col,hr,img,wbr"),yl=eh("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nn=eh("rp,rt"),cd=L_(mb,L_(yl,eh("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),L_(nn,eh("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),L_(nn,yl)),B_=eh("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),U_=L_(B_,eh("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),eh("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Bg=eh("script,style,template");class Sa{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,d=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?d=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,d&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let g=this.checkClobberedElement(a,a.nextSibling);if(g){a=g;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!cd.hasOwnProperty(a))return this.sanitizedSomething=!0,!Bg.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const d=s.attributes;for(let g=0;g<d.length;g++){const y=d.item(g),I=y.name,S=I.toLowerCase();if(!U_.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let R=y.value;B_[S]&&(R=Mv(R)),this.buf.push(" ",I,'="',Kl(R),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();cd.hasOwnProperty(a)&&!mb.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(Kl(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const th=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ha=/([^\#-~ |!])/g;function Kl(r){return r.replace(/&/g,"&amp;").replace(th,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(ha,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Yl;function Rv(r,s){let a=null;try{Yl=Yl||XI(r);let d=s?String(s):"";a=Yl.getInertBodyElement(d);let g=5,y=d;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,d=y,y=a.innerHTML,a=Yl.getInertBodyElement(d)}while(d!==y);return pp((new Sa).sanitizeChildren(_p(a)||a))}finally{if(a){const d=_p(a)||a;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function _p(r){return"content"in r&&function V_(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Ms=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(Ms||{});function ld(r){const s=vp();return s?s.sanitize(Ms.URL,r)||"":ad(r,"URL")?ac(r):Mv(Ke(r))}function Jc(r){const s=vp();if(s)return Nv(s.sanitize(Ms.RESOURCE_URL,r)||"");if(ad(r,"ResourceURL"))return Nv(ac(r));throw new Ge(904,!1)}function Ug(r,s,a){return function Qh(r,s){return"src"===s&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===s&&("base"===r||"link"===r)?Jc:ld}(s,a)(r)}function vp(){const r=ht();return r&&r[cs].sanitizer}const nh=new Rn("ENVIRONMENT_INITIALIZER"),Vg=new Rn("INJECTOR",-1),ud=new Rn("INJECTOR_DEF_TYPES");class Ql{get(s,a=U){if(a===U){const d=new Error(`NullInjectorError: No provider for ${At(s)}!`);throw d.name="NullInjectorError",d}return a}}function G_(...r){return{\u0275providers:j_(0,r),\u0275fromNgModule:!0}}function j_(r,...s){const a=[],d=new Set;let g;const y=I=>{a.push(I)};return Wd(s,I=>{const S=I;dd(S,y,[],d)&&(g||=[],g.push(S))}),void 0!==g&&Fv(g,y),a}function Fv(r,s){for(let a=0;a<r.length;a++){const{ngModule:d,providers:g}=r[a];Jh(g,y=>{s(y,d)})}}function dd(r,s,a,d){if(!(r=xt(r)))return!1;let g=null,y=An(r);const I=!y&&pr(r);if(y||I){if(I&&!I.standalone)return!1;g=r}else{const R=r.ngModule;if(y=An(R),!y)return!1;g=R}const S=d.has(g);if(I){if(S)return!1;if(d.add(g),I.dependencies){const R="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const z of R)dd(z,s,a,d)}}else{if(!y)return!1;{if(null!=y.imports&&!S){let z;d.add(g);try{Wd(y.imports,ie=>{dd(ie,s,a,d)&&(z||=[],z.push(ie))})}finally{}void 0!==z&&Fv(z,s)}if(!S){const z=La(g)||(()=>new g);s({provide:g,useFactory:z,deps:sr},g),s({provide:ud,useValue:g,multi:!0},g),s({provide:nh,useValue:()=>Fn(g),multi:!0},g)}const R=y.providers;if(null!=R&&!S){const z=r;Jh(R,ie=>{s(ie,z)})}}}return g!==r&&void 0!==r.providers}function Jh(r,s){for(let a of r)ot(a)&&(a=a.\u0275providers),Array.isArray(a)?Jh(a,s):s(a)}const tT=Pe({provide:String,useValue:Pe});function Hg(r){return null!==r&&"object"==typeof r&&tT in r}function hd(r){return"function"==typeof r}const Ip=new Rn("Set Injector scope."),Xh={},Tp={};let ef;function Ep(){return void 0===ef&&(ef=new Ql),ef}class vl{}class Mu extends vl{get destroyed(){return this._destroyed}constructor(s,a,d,g){super(),this.parent=a,this.source=d,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jg(s,I=>this.processProvider(I)),this.records.set(Vg,tf(void 0,this)),g.has("environment")&&this.records.set(vl,tf(void 0,this));const y=this.records.get(Ip);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(ud.multi,sr,Xt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=pn(this),d=mn(void 0);try{return s()}finally{pn(a),mn(d)}}get(s,a=U,d=Xt.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(ci))return s[ci](this);d=ss(d);const y=pn(this),I=mn(void 0);try{if(!(d&Xt.SkipSelf)){let R=this.records.get(s);if(void 0===R){const z=function Hv(r){return"function"==typeof r||"object"==typeof r&&r instanceof Rn}(s)&&at(s);R=z&&this.injectableDefInScope(z)?tf(Gg(s),Xh):null,this.records.set(s,R)}if(null!=R)return this.hydrate(s,R)}return(d&Xt.Self?Ep():this.parent).get(s,a=d&Xt.Optional&&a===U?null:a)}catch(S){if("NullInjectorError"===S.name){if((S[W]=S[W]||[]).unshift(At(s)),y)throw S;return function xa(r,s,a,d){const g=r[W];throw s[Tt]&&g.unshift(s[Tt]),r.message=function _c(r,s,a,d=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let g=At(s);if(Array.isArray(s))g=s.map(At).join(" -> ");else if("object"==typeof s){let y=[];for(let I in s)if(s.hasOwnProperty(I)){let S=s[I];y.push(I+":"+("string"==typeof S?JSON.stringify(S):At(S)))}g=`{${y.join(", ")}}`}return`${a}${d?"("+d+")":""}[${g}]: ${r.replace(be,"\n  ")}`}("\n"+r.message,g,a,d),r.ngTokenPath=g,r[W]=null,r}(S,s,"R3InjectorError",this.source)}throw S}finally{mn(I),pn(y)}}resolveInjectorInitializers(){const s=pn(this),a=mn(void 0);try{const g=this.get(nh.multi,sr,Xt.Self);for(const y of g)y()}finally{pn(s),mn(a)}}toString(){const s=[],a=this.records;for(const d of a.keys())s.push(At(d));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ge(205,!1)}processProvider(s){let a=hd(s=xt(s))?s:xt(s&&s.provide);const d=function nT(r){return Hg(r)?tf(void 0,r.useValue):tf(Uv(r),Xh)}(s);if(hd(s)||!0!==s.multi)this.records.get(a);else{let g=this.records.get(a);g||(g=tf(void 0,Xh,!0),g.factory=()=>Co(g.multi),this.records.set(a,g)),a=s,g.multi.push(s)}this.records.set(a,d)}hydrate(s,a){return a.value===Xh&&(a.value=Tp,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Tb(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=xt(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function Gg(r){const s=at(r),a=null!==s?s.factory:La(r);if(null!==a)return a;if(r instanceof Rn)throw new Ge(204,!1);if(r instanceof Function)return function Bv(r){const s=r.length;if(s>0)throw $l(s,"?"),new Ge(204,!1);const a=function wr(r){return r&&(r[sn]||r[In])||null}(r);return null!==a?()=>a.factory(r):()=>new r}(r);throw new Ge(204,!1)}function Uv(r,s,a){let d;if(hd(r)){const g=xt(r);return La(g)||Gg(g)}if(Hg(r))d=()=>xt(r.useValue);else if(function wp(r){return!(!r||!r.useFactory)}(r))d=()=>r.useFactory(...Co(r.deps||[]));else if(function bp(r){return!(!r||!r.useExisting)}(r))d=()=>Fn(xt(r.useExisting));else{const g=xt(r&&(r.useClass||r.provide));if(!function Vv(r){return!!r.deps}(r))return La(g)||Gg(g);d=()=>new g(...Co(r.deps))}return d}function tf(r,s,a=!1){return{factory:r,value:s,multi:a?[]:void 0}}function jg(r,s){for(const a of r)Array.isArray(a)?jg(a,s):a&&ot(a)?jg(a.\u0275providers,s):s(a)}const z_=new Rn("AppId",{providedIn:"root",factory:()=>$g}),$g="ng",jo=new Rn("Platform Initializer"),$o=new Rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),W_=new Rn("AnimationModuleType"),Eb=new Rn("CSP nonce",{providedIn:"root",factory:()=>gp().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Zg=(r,s,a)=>null;function sh(r,s,a=!1){return Zg(r,s,a)}class Yg{}class $v{}class cf{resolveComponentFactory(s){throw function zv(r){const s=Error(`No component factory found for ${At(r)}.`);return s.ngComponent=r,s}(s)}}let Sp=(()=>{class r{static#e=this.NULL=new cf}return r})();function qv(){return pd(Xi(),ht())}function pd(r,s){return new ah(fs(r,s))}let ah=(()=>{class r{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=qv}return r})();function Qg(r){return r instanceof ah?r.nativeElement:r}class Zv{}let uT=(()=>{class r{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Kv(){const r=ht(),a=Di(Xi().index,r);return(Yr(a)?a:r)[Ln]}()}return r})(),Ap=(()=>{class r{static#e=this.\u0275prov=De({token:r,providedIn:"root",factory:()=>null})}return r})();class Jg{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const ty=new Jg("16.2.12"),Xg={};function Np(r){if(!Ir()&&!function ln(){return tn}())throw new Ge(-203,!1)}function ny(r,s=null,a=null,d){const g=Ob(r,s,a,d);return g.resolveInjectorInitializers(),g}function Ob(r,s=null,a=null,d,g=new Set){const y=[a||sr,G_(r)];return d=d||("object"==typeof r?void 0:At(r)),new Mu(y,s||Ep(),d||null,g)}let fa=(()=>{class r{static#e=this.THROW_IF_NOT_FOUND=U;static#t=this.NULL=new Ql;static create(a,d){if(Array.isArray(a))return ny({name:""},d,a,"");{const g=a.name??"";return ny({name:g},a.parent,a.providers,g)}}static#n=this.\u0275prov=De({token:r,providedIn:"any",factory:()=>Fn(Vg)});static#r=this.__NG_ELEMENT_ID__=-1}return r})();function df(r){return r.ngOriginalError}class Ru{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&df(s);for(;a&&df(a);)a=df(a);return a||null}}let wi=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=Op;static#t=this.__NG_ENV_ID__=a=>a}return r})();class nm extends wi{constructor(s){super(),this._lView=s}onDestroy(s){return nc(this._lView,s),()=>function ps(r,s){if(null===r[ho])return;const a=r[ho].indexOf(s);-1!==a&&r[ho].splice(a,1)}(this._lView,s)}}function Op(){return new nm(ht())}function iy(r){return s=>{setTimeout(r,void 0,s)}}const bl=class Mp extends w.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,d){let g=s,y=a||(()=>null),I=d;if(s&&"object"==typeof s){const R=s;g=R.next?.bind(R),y=R.error?.bind(R),I=R.complete?.bind(R)}this.__isAsync&&(y=iy(y),g&&(g=iy(g)),I&&(I=iy(I)));const S=super.subscribe({next:g,error:y,complete:I});return s instanceof ae.w0&&s.add(S),S}};function Qv(...r){}class zo{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bl(!1),this.onMicrotaskEmpty=new bl(!1),this.onStable=new bl(!1),this.onError=new bl(!1),typeof Zone>"u")throw new Ge(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!d&&a,g.shouldCoalesceRunChangeDetection=d,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function Mb(){const r="function"==typeof hr.requestAnimationFrame;let s=hr[r?"requestAnimationFrame":"setTimeout"],a=hr[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&a){const d=s[Zone.__symbol__("OriginalDelegate")];d&&(s=d);const g=a[Zone.__symbol__("OriginalDelegate")];g&&(a=g)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function Xv(r){const s=()=>{!function Jv(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(hr,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,rm(r),r.isCheckStableRunning=!0,Xl(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),rm(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,d,g,y,I,S)=>{if(function Pu(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(S))return a.invokeTask(g,y,I,S);try{return lh(r),a.invokeTask(g,y,I,S)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||r.shouldCoalesceRunChangeDetection)&&s(),e0(r)}},onInvoke:(a,d,g,y,I,S,R)=>{try{return lh(r),a.invoke(g,y,I,S,R)}finally{r.shouldCoalesceRunChangeDetection&&s(),e0(r)}},onHasTask:(a,d,g,y)=>{a.hasTask(g,y),d===g&&("microTask"==y.change?(r._hasPendingMicrotasks=y.microTask,rm(r),Xl(r)):"macroTask"==y.change&&(r.hasPendingMacrotasks=y.macroTask))},onHandleError:(a,d,g,y)=>(a.handleError(g,y),r.runOutsideAngular(()=>r.onError.emit(y)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!zo.isInAngularZone())throw new Ge(909,!1)}static assertNotInAngularZone(){if(zo.isInAngularZone())throw new Ge(909,!1)}run(s,a,d){return this._inner.run(s,a,d)}runTask(s,a,d,g){const y=this._inner,I=y.scheduleEventTask("NgZoneEvent: "+g,s,xp,Qv,Qv);try{return y.runTask(I,a,d)}finally{y.cancelTask(I)}}runGuarded(s,a,d){return this._inner.runGuarded(s,a,d)}runOutsideAngular(s){return this._outer.run(s)}}const xp={};function Xl(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function rm(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function lh(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function e0(r){r._nesting--,Xl(r)}class fT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bl,this.onMicrotaskEmpty=new bl,this.onStable=new bl,this.onError=new bl}run(s,a,d){return s.apply(a,d)}runGuarded(s,a,d){return s.apply(a,d)}runOutsideAngular(s){return s()}runTask(s,a,d,g){return s.apply(a,d)}}const sy=new Rn("",{providedIn:"root",factory:t0});function t0(){const r=ir(zo);let s=!0;const a=new u.y(g=>{s=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{g.next(s),g.complete()})}),d=new u.y(g=>{let y;r.runOutsideAngular(()=>{y=r.onStable.subscribe(()=>{zo.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(s=!0,g.next(!0))})})});const I=r.onUnstable.subscribe(()=>{zo.assertInAngularZone(),s&&(s=!1,r.runOutsideAngular(()=>{g.next(!1)}))});return()=>{y.unsubscribe(),I.unsubscribe()}});return(0,we.T)(a,d.pipe(re()))}function im(r){return r.ownerDocument.defaultView}function xs(r){return r instanceof Function?r():r}let gd=(()=>{class r{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=De({token:r,providedIn:"root",factory:()=>new r})}return r})();function md(r){for(;r;){r[Wn]|=64;const s=op(r);if(xi(r)&&!s)return r;r=s}return null}const dh=new Rn("",{providedIn:"root",factory:()=>!1});let Wa=null;function Il(r,s){return r[s]??eu()}function am(r,s){const a=eu();a.producerNode?.length&&(r[s]=Wa,a.lView=r,Wa=cm())}const kp={...po,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{md(r.lView)},lView:null};function cm(){return Object.create(kp)}function eu(){return Wa??=cm(),Wa}const lr={};function lm(r){gf(Er(),ht(),Gr()+r,!1)}function gf(r,s,a,d){if(!d)if(3==(3&s[Wn])){const y=r.preOrderCheckHooks;null!==y&&zc(s,y,a)}else{const y=r.preOrderHooks;null!==y&&fl(s,y,0,a)}Ea(a)}function cc(r,s=Xt.Default){const a=ht();return null===a?Fn(r,s):Gl(Xi(),a,xt(r),s)}function lc(){throw new Error("invalid")}function Fu(r,s,a,d,g,y,I,S,R,z,ie){const me=s.blueprint.slice();return me[cr]=g,me[Wn]=140|d,(null!==z||r&&2048&r[Wn])&&(me[Wn]|=2048),du(me),me[Pn]=me[Is]=r,me[Mr]=a,me[cs]=I||r&&r[cs],me[Ln]=S||r&&r[Ln],me[ri]=R||r&&r[ri]||null,me[Kr]=y,me[Oo]=function pv(){return m_++}(),me[Gi]=ie,me[il]=z,me[zr]=2==s.type?r[zr]:me,me}function tu(r,s,a,d,g){let y=r.data[s];if(null===y)y=mf(r,s,a,d,g),function Ju(){return _n.lFrame.inI18n}()&&(y.flags|=32);else if(64&y.type){y.type=a,y.value=d,y.attrs=g;const I=ll();y.injectorIndex=null===I?-1:I.injectorIndex}return _o(y,!0),y}function mf(r,s,a,d,g){const y=Qu(),I=Fl(),R=r.data[s]=function Fb(r,s,a,d,g,y){let I=s?s.injectorIndex:-1,S=0;return Ia()&&(S|=128),{type:a,index:d,insertBeforeIndex:null,injectorIndex:I,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:S,providerIndexes:0,value:g,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?y:y&&y.parent,a,s,d,g);return null===r.firstChild&&(r.firstChild=R),null!==y&&(I?null==y.child&&null!==R.parent&&(y.child=R):null===y.next&&(y.next=R,R.prev=y)),R}function fh(r,s,a,d){if(0===a)return-1;const g=s.length;for(let y=0;y<a;y++)s.push(d),r.blueprint.push(d),r.data.push(null);return g}function yd(r,s,a,d,g){const y=Il(s,Xs),I=Gr(),S=2&d;try{Ea(-1),S&&s.length>qn&&gf(r,s,qn,!1),js(S?2:0,g);const z=S?y:null,ie=Ei(z);try{null!==z&&(z.dirty=!1),a(d,g)}finally{Cs(z,ie)}}finally{S&&null===s[Xs]&&am(s,Xs),Ea(I),js(S?3:1,g)}}function vd(r,s,a){if(to(s)){const d=us(null);try{const y=s.directiveEnd;for(let I=s.directiveStart;I<y;I++){const S=r.data[I];S.contentQueries&&S.contentQueries(1,a[I],I)}}finally{us(d)}}}function um(r,s,a){jc()&&(function fy(r,s,a,d){const g=a.directiveStart,y=a.directiveEnd;no(a)&&function Lp(r,s,a){const d=fs(s,r),g=o0(a);let I=16;a.signals?I=4096:a.onPush&&(I=64);const S=_h(r,Fu(r,g,null,I,d,s,null,r[cs].rendererFactory.createRenderer(d,a),null,null,null));r[s.index]=S}(s,a,r.data[g+a.componentOffset]),r.firstCreatePass||gl(a,s),bo(d,s);const I=a.initialInputs;for(let S=g;S<y;S++){const R=r.data[S],z=Zc(s,r,S,a);bo(z,s),null!==I&&Bb(0,S-g,z,R,0,I),bi(R)&&(Di(a.index,s)[Mr]=Zc(s,r,S,a))}}(r,s,a,fs(a,s)),64==(64&a.flags)&&py(r,s,a))}function bd(r,s,a=fs){const d=s.localNames;if(null!==d){let g=s.index+1;for(let y=0;y<d.length;y+=2){const I=d[y+1],S=-1===I?a(s,r):r[I];r[g++]=S}}}function o0(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=dm(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):s}function dm(r,s,a,d,g,y,I,S,R,z,ie){const me=qn+d,Me=me+g,Le=function ph(r,s){const a=[];for(let d=0;d<s;d++)a.push(d<r?null:lr);return a}(me,Me),pt="function"==typeof z?z():z;return Le[Lt]={type:r,blueprint:Le,template:a,queries:null,viewQuery:S,declTNode:s,data:Le.slice().fill(null,me),bindingStartIndex:me,expandoStartIndex:Me,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:R,consts:pt,incompleteFirstPass:!1,ssrId:ie}}let a0=r=>null;function c0(r,s,a,d){for(let g in r)if(r.hasOwnProperty(g)){a=null===a?{}:a;const y=r[g];null===d?nu(a,s,g,y):d.hasOwnProperty(g)&&nu(a,s,d[g],y)}return a}function nu(r,s,a,d){r.hasOwnProperty(a)?r[a].push(s,d):r[a]=[s,d]}function qa(r,s,a,d,g,y,I,S){const R=fs(s,a);let ie,z=s.inputs;!S&&null!=z&&(ie=z[d])?(iu(r,a,ie,d,g),no(s)&&function si(r,s){const a=Di(s,r);16&a[Wn]||(a[Wn]|=64)}(a,s.index)):3&s.type&&(d=function Tl(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(d),g=null!=I?I(g,s.value||"",d):g,y.setProperty(R,d,g))}function xc(r,s,a,d){if(jc()){const g=null===d?null:{"":-1},y=function el(r,s){const a=r.directiveRegistry;let d=null,g=null;if(a)for(let y=0;y<a.length;y++){const I=a[y];if(ws(s,I.selectors,!1))if(d||(d=[]),bi(I))if(null!==I.findHostDirectiveDefs){const S=[];g=g||new Map,I.findHostDirectiveDefs(I,S,g),d.unshift(...S,I),wo(r,s,S.length)}else d.unshift(I),wo(r,s,0);else g=g||new Map,I.findHostDirectiveDefs?.(I,d,g),d.push(I)}return null===d?null:[d,g]}(r,a);let I,S;null===y?I=S=null:[I,S]=y,null!==I&&hy(r,s,a,I,g,S),g&&function fm(r,s,a){if(s){const d=r.localNames=[];for(let g=0;g<s.length;g+=2){const y=a[s[g+1]];if(null==y)throw new Ge(-301,!1);d.push(s[g],y)}}}(a,d,g)}a.mergedAttrs=Xa(a.mergedAttrs,a.attrs)}function hy(r,s,a,d,g,y){for(let z=0;z<d.length;z++)Hl(gl(a,s),r,d[z].type);!function mh(r,s,a){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+a,r.providerIndexes=s}(a,r.data.length,d.length);for(let z=0;z<d.length;z++){const ie=d[z];ie.providersResolver&&ie.providersResolver(ie)}let I=!1,S=!1,R=fh(r,s,d.length,null);for(let z=0;z<d.length;z++){const ie=d[z];a.mergedAttrs=Xa(a.mergedAttrs,ie.hostAttrs),_f(r,a,s,R,ie),ru(R,ie,g),null!==ie.contentQueries&&(a.flags|=4),(null!==ie.hostBindings||null!==ie.hostAttrs||0!==ie.hostVars)&&(a.flags|=64);const me=ie.type.prototype;!I&&(me.ngOnChanges||me.ngOnInit||me.ngDoCheck)&&((r.preOrderHooks??=[]).push(a.index),I=!0),!S&&(me.ngOnChanges||me.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(a.index),S=!0),R++}!function Lb(r,s,a){const g=s.directiveEnd,y=r.data,I=s.attrs,S=[];let R=null,z=null;for(let ie=s.directiveStart;ie<g;ie++){const me=y[ie],Me=a?a.get(me):null,pt=Me?Me.outputs:null;R=c0(me.inputs,ie,R,Me?Me.inputs:null),z=c0(me.outputs,ie,z,pt);const Ot=null===R||null===I||Xo(s)?null:Ub(R,ie,I);S.push(Ot)}null!==R&&(R.hasOwnProperty("class")&&(s.flags|=8),R.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=S,s.inputs=R,s.outputs=z}(r,a,y)}function py(r,s,a){const d=a.directiveStart,g=a.directiveEnd,y=a.index,I=function Xu(){return _n.lFrame.currentDirectiveIndex}();try{Ea(y);for(let S=d;S<g;S++){const R=r.data[S],z=s[S];C(S),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&Lu(R,z)}}finally{Ea(-1),C(I)}}function Lu(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function wo(r,s,a){s.componentOffset=a,(r.components??=[]).push(s.index)}function ru(r,s,a){if(a){if(s.exportAs)for(let d=0;d<s.exportAs.length;d++)a[s.exportAs[d]]=r;bi(s)&&(a[""]=r)}}function _f(r,s,a,d,g){r.data[d]=g;const y=g.factory||(g.factory=La(g.type)),I=new td(y,bi(g),cc);r.blueprint[d]=I,a[d]=I,function Fp(r,s,a,d,g){const y=g.hostBindings;if(y){let I=r.hostBindingOpCodes;null===I&&(I=r.hostBindingOpCodes=[]);const S=~s.index;(function gh(r){let s=r.length;for(;s>0;){const a=r[--s];if("number"==typeof a&&a<0)return a}return 0})(I)!=S&&I.push(S),I.push(a,d,y)}}(r,s,d,fh(r,a,g.hostVars,lr),g)}function Za(r,s,a,d,g,y){const I=fs(r,s);!function gy(r,s,a,d,g,y,I){if(null==y)r.removeAttribute(s,g,a);else{const S=null==I?Ke(y):I(y,d||"",g);r.setAttribute(s,g,S,a)}}(s[Ln],I,y,r.value,a,d,g)}function Bb(r,s,a,d,g,y){const I=y[s];if(null!==I)for(let S=0;S<I.length;)pm(d,a,I[S++],I[S++],I[S++])}function pm(r,s,a,d,g){const y=us(null);try{const I=r.inputTransforms;null!==I&&I.hasOwnProperty(d)&&(g=I[d].call(s,g)),null!==r.setInput?r.setInput(s,g,a,d):s[d]=g}finally{us(y)}}function Ub(r,s,a){let d=null,g=0;for(;g<a.length;){const y=a[g];if(0!==y)if(5!==y){if("number"==typeof y)break;if(r.hasOwnProperty(y)){null===d&&(d=[]);const I=r[y];for(let S=0;S<I.length;S+=2)if(I[S]===s){d.push(y,I[S+1],a[g+1]);break}}g+=2}else g+=2;else g+=4}return d}function gm(r,s,a,d){return[r,!0,!1,s,null,0,d,a,null,null,null]}function my(r,s){const a=r.contentQueries;if(null!==a)for(let d=0;d<a.length;d+=2){const y=a[d+1];if(-1!==y){const I=r.data[y];P(a[d]),I.contentQueries(2,s[y],y)}}}function _h(r,s){return r[uo]?r[Fa][Hr]=s:r[uo]=s,r[Fa]=s,s}function wd(r,s,a){P(0);const d=us(null);try{s(r,a)}finally{us(d)}}function l0(r){return r[Mi]||(r[Mi]=[])}function Id(r){return r.cleanup||(r.cleanup=[])}function Wo(r,s){const a=r[ri],d=a?a.get(Ru,null):null;d&&d.handleError(s)}function iu(r,s,a,d,g){for(let y=0;y<a.length;){const I=a[y++],S=a[y++];pm(r.data[I],s[I],d,S,g)}}function Ka(r,s,a){const d=xl(s,r);!function mv(r,s,a){r.setValue(s,a)}(r[Ln],d,a)}function vy(r,s){const a=Di(s,r),d=a[Lt];!function gT(r,s){for(let a=s.length;a<r.blueprint.length;a++)s.push(r.blueprint[a])}(d,a);const g=a[cr];null!==g&&null===a[Gi]&&(a[Gi]=sh(g,a[ri])),Nt(d,a,a[Mr])}function Nt(r,s,a){_e(s);try{const d=r.viewQuery;null!==d&&wd(1,d,a);const g=r.template;null!==g&&yd(r,s,g,1,a),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&my(r,s),r.staticViewQueries&&wd(2,r.viewQuery,a);const y=r.components;null!==y&&function ms(r,s){for(let a=0;a<s.length;a++)vy(r,s[a])}(s,y)}catch(d){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),d}finally{s[Wn]&=-5,Nr()}}let Rc=(()=>{class r{constructor(){this.all=new Set,this.queue=new Map}create(a,d,g){const y=typeof Zone>"u"?null:Zone.current,I=function er(r,s,a){const d=Object.create(Xr);a&&(d.consumerAllowSignalWrites=!0),d.fn=r,d.schedule=s;const g=I=>{d.cleanupFn=I};return d.ref={notify:()=>Wu(d),run:()=>{if(d.dirty=!1,d.hasRun&&!Bi(d))return;d.hasRun=!0;const I=Ei(d);try{d.cleanupFn(),d.cleanupFn=Hn,d.fn(g)}finally{Cs(d,I)}},cleanup:()=>d.cleanupFn()},d.ref}(a,z=>{this.all.has(z)&&this.queue.set(z,y)},g);let S;this.all.add(I),I.notify();const R=()=>{I.cleanup(),S?.(),this.all.delete(I),this.queue.delete(I)};return S=d?.onDestroy(R),{destroy:R}}flush(){if(0!==this.queue.size)for(const[a,d]of this.queue)this.queue.delete(a),d?d.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=De({token:r,providedIn:"root",factory:()=>new r})}return r})();function un(r,s,a){let d=a?r.styles:null,g=a?r.classes:null,y=0;if(null!==s)for(let I=0;I<s.length;I++){const S=s[I];"number"==typeof S?y=S:1==y?g=Bt(g,S):2==y&&(d=Bt(d,S+": "+s[++I]+";"))}a?r.styles=d:r.stylesWithoutHost=d,a?r.classes=g:r.classesWithoutHost=g}function Tn(r,s,a,d,g=!1){for(;null!==a;){const y=s[a.index];null!==y&&d.push(mi(y)),Ki(y)&&Vb(y,d);const I=a.type;if(8&I)Tn(r,s,a.child,d);else if(32&I){const S=sp(a,s);let R;for(;R=S();)d.push(R)}else if(16&I){const S=Iv(s,a);if(Array.isArray(S))d.push(...S);else{const R=op(s[zr]);Tn(R[Lt],R,S,d,!0)}}a=g?a.projectionNext:a.next}return d}function Vb(r,s){for(let a=Fr;a<r.length;a++){const d=r[a],g=d[Lt].firstChild;null!==g&&Tn(d[Lt],d,g,s)}r[Ti]!==r[cr]&&s.push(r[Ti])}function Jt(r,s,a,d=!0){const g=s[cs],y=g.rendererFactory,I=g.afterRenderEventManager;y.begin?.(),I?.begin();try{zs(r,s,r.template,a)}catch(R){throw d&&Wo(s,R),R}finally{y.end?.(),g.effectManager?.flush(),I?.end()}}function zs(r,s,a,d){const g=s[Wn];if(256!=(256&g)){s[cs].effectManager?.flush(),_e(s);try{du(s),function dl(r){return _n.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==a&&yd(r,s,a,2,d);const I=3==(3&g);if(I){const z=r.preOrderCheckHooks;null!==z&&zc(s,z,null)}else{const z=r.preOrderHooks;null!==z&&fl(s,z,0,null),Vd(s,0)}if(function Hb(r){for(let s=w_(r);null!==s;s=Kd(s)){if(!s[Vs])continue;const a=s[ra];for(let d=0;d<a.length;d++){Fd(a[d])}}}(s),by(s,2),null!==r.contentQueries&&my(r,s),I){const z=r.contentCheckHooks;null!==z&&zc(s,z)}else{const z=r.contentHooks;null!==z&&fl(s,z,1),Vd(s,1)}!function hh(r,s){const a=r.hostBindingOpCodes;if(null===a)return;const d=Il(s,Fi);try{for(let g=0;g<a.length;g++){const y=a[g];if(y<0)Ea(~y);else{const I=y,S=a[++g],R=a[++g];xh(S,I),d.dirty=!1;const z=Ei(d);try{R(2,s[I])}finally{Cs(d,z)}}}}finally{null===s[Fi]&&am(s,Fi),Ea(-1)}}(r,s);const S=r.components;null!==S&&mm(s,S,0);const R=r.viewQuery;if(null!==R&&wd(2,R,d),I){const z=r.viewCheckHooks;null!==z&&zc(s,z)}else{const z=r.viewHooks;null!==z&&fl(s,z,2),Vd(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[Wn]&=-73,_i(s)}finally{Nr()}}}function by(r,s){for(let a=w_(r);null!==a;a=Kd(a))for(let d=Fr;d<a.length;d++)h0(a[d],s)}function d0(r,s,a){h0(Di(s,r),a)}function h0(r,s){if(!function Mh(r){return 128==(128&r[Wn])}(r))return;const a=r[Lt],d=r[Wn];if(80&d&&0===s||1024&d||2===s)zs(a,r,a.template,r[Mr]);else if(r[vi]>0){by(r,1);const g=a.components;null!==g&&mm(r,g,1)}}function mm(r,s,a){for(let d=0;d<s.length;d++)d0(r,s[d],a)}class Bp{get rootNodes(){const s=this._lView,a=s[Lt];return Tn(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Mr]}set context(s){this._lView[Mr]=s}get destroyed(){return 256==(256&this._lView[Wn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Pn];if(Ki(s)){const a=s[8],d=a?a.indexOf(this):-1;d>-1&&(xg(s,d),qd(a,d))}this._attachedToViewContainer=!1}lp(this._lView[Lt],this._lView)}onDestroy(s){nc(this._lView,s)}markForCheck(){md(this._cdRefInjectingView||this._lView)}detach(){this._lView[Wn]&=-129}reattach(){this._lView[Wn]|=128}detectChanges(){Jt(this._lView[Lt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Mg(r,s){kg(r,s,s[Ln],2,null,null)}(this._lView[Lt],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Ge(902,!1);this._appRef=s}}class f0 extends Bp{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Jt(s[Lt],s,s[Mr],!1)}checkNoChanges(){}get context(){return null}}class p0 extends Sp{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=pr(s);return new On(a,this.ngModule)}}function Gb(r){const s=[];for(let a in r)r.hasOwnProperty(a)&&s.push({propName:r[a],templateName:a});return s}class m0{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,d){d=ss(d);const g=this.injector.get(s,Xg,d);return g!==Xg||a===Xg?g:this.parentInjector.get(s,a,d)}}class On extends $v{get inputs(){const s=this.componentDef,a=s.inputTransforms,d=Gb(s.inputs);if(null!==a)for(const g of d)a.hasOwnProperty(g.propName)&&(g.transform=a[g.propName]);return d}get outputs(){return Gb(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Bs(r){return r.map(rl).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,d,g){let y=(g=g||this.ngModule)instanceof vl?g:g?.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const I=y?new m0(s,y):s,S=I.get(Zv,null);if(null===S)throw new Ge(407,!1);const me={rendererFactory:S,sanitizer:I.get(Ap,null),effectManager:I.get(Rc,null),afterRenderEventManager:I.get(gd,null)},Me=S.createRenderer(null,this.componentDef),Le=this.componentDef.selectors[0][0]||"div",pt=d?function uc(r,s,a,d){const y=d.get(dh,!1)||a===vs.ShadowDom,I=r.selectRootElement(s,y);return function ly(r){a0(r)}(I),I}(Me,d,this.componentDef.encapsulation,I):cp(Me,Le,function g0(r){const s=r.toLowerCase();return"svg"===s?Ba:"math"===s?"math":null}(Le)),wn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let wt=null;null!==pt&&(wt=sh(pt,I,!0));const gr=dm(0,null,null,1,0,null,null,null,null,null,null),Ur=Fu(null,gr,null,wn,null,null,me,Me,I,null,wt);let ki,nl;_e(Ur);try{const Oh=this.componentDef;let i_,DD=null;Oh.findHostDirectiveDefs?(i_=[],DD=new Map,Oh.findHostDirectiveDefs(Oh,i_,DD),i_.push(Oh)):i_=[Oh];const RS=function yf(r,s){const a=r[Lt],d=qn;return r[d]=s,tu(a,d,2,"#host",null)}(Ur,pt),PS=function zi(r,s,a,d,g,y,I){const S=g[Lt];!function kn(r,s,a,d){for(const g of r)s.mergedAttrs=Xa(s.mergedAttrs,g.hostAttrs);null!==s.mergedAttrs&&(un(s,s.mergedAttrs,!0),null!==a&&Sv(d,a,s))}(d,r,s,I);let R=null;null!==s&&(R=sh(s,g[ri]));const z=y.rendererFactory.createRenderer(s,a);let ie=16;a.signals?ie=4096:a.onPush&&(ie=64);const me=Fu(g,o0(a),null,ie,g[r.index],r,y,z,null,null,R);return S.firstCreatePass&&wo(S,r,d.length-1),_h(g,me),g[r.index]=me}(RS,pt,Oh,i_,Ur,me,Me);nl=uu(gr,qn),pt&&function jr(r,s,a,d){if(d)Vi(r,a,["ng-version",ty.full]);else{const{attrs:g,classes:y}=function yc(r){const s=[],a=[];let d=1,g=2;for(;d<r.length;){let y=r[d];if("string"==typeof y)2===g?""!==y&&s.push(y,r[++d]):8===g&&a.push(y);else{if(!pi(g))break;g=y}d++}return{attrs:s,classes:a}}(s.selectors[0]);g&&Vi(r,a,g),y&&y.length>0&&Cv(r,a,y.join(" "))}}(Me,Oh,pt,d),void 0!==a&&function jb(r,s,a){const d=r.projection=[];for(let g=0;g<s.length;g++){const y=a[g];d.push(null!=y?Array.from(y):null)}}(nl,this.ngContentSelectors,a),ki=function Up(r,s,a,d,g,y){const I=Xi(),S=g[Lt],R=fs(I,g);hy(S,g,I,a,null,d);for(let ie=0;ie<a.length;ie++)bo(Zc(g,S,I.directiveStart+ie,I),g);py(S,g,I),R&&bo(R,g);const z=Zc(g,S,I.directiveStart+I.componentOffset,I);if(r[Mr]=g[Mr]=z,null!==y)for(const ie of y)ie(z,s);return vd(S,I,r),z}(PS,Oh,i_,DD,Ur,[Ws]),Nt(gr,Ur,null)}finally{Nr()}return new Td(this.componentType,ki,pd(nl,Ur),Ur,nl)}}class Td extends Yg{constructor(s,a,d,g,y){super(),this.location=d,this._rootLView=g,this._tNode=y,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new f0(g),this.componentType=s}setInput(s,a){const d=this._tNode.inputs;let g;if(null!==d&&(g=d[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const y=this._rootLView;iu(y[Lt],y,g,s,a),this.previousInputValues.set(s,a),md(Di(this._tNode.index,y))}}get injector(){return new Bo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Ws(){const r=Xi();gu(ht()[Lt],r)}function vf(r){let s=function Wt(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),a=!0;const d=[r];for(;s;){let g;if(bi(r))g=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Ge(903,!1);g=s.\u0275dir}if(g){if(a){d.push(g);const I=r;I.inputs=El(r.inputs),I.inputTransforms=El(r.inputTransforms),I.declaredInputs=El(r.declaredInputs),I.outputs=El(r.outputs);const S=g.hostBindings;S&&bf(r,S);const R=g.viewQuery,z=g.contentQueries;if(R&&_0(r,R),z&&Ya(r,z),it(r.inputs,g.inputs),it(r.declaredInputs,g.declaredInputs),it(r.outputs,g.outputs),null!==g.inputTransforms&&(null===I.inputTransforms&&(I.inputTransforms={}),it(I.inputTransforms,g.inputTransforms)),bi(g)&&g.data.animation){const ie=r.data;ie.animation=(ie.animation||[]).concat(g.data.animation)}}const y=g.features;if(y)for(let I=0;I<y.length;I++){const S=y[I];S&&S.ngInherit&&S(r),S===vf&&(a=!1)}}s=Object.getPrototypeOf(s)}!function _m(r){let s=0,a=null;for(let d=r.length-1;d>=0;d--){const g=r[d];g.hostVars=s+=g.hostVars,g.hostAttrs=Xa(g.hostAttrs,a=Xa(a,g.hostAttrs))}}(d)}function El(r){return r===Si?{}:r===sr?[]:r}function _0(r,s){const a=r.viewQuery;r.viewQuery=a?(d,g)=>{s(d,g),a(d,g)}:s}function Ya(r,s){const a=r.contentQueries;r.contentQueries=a?(d,g,y)=>{s(d,g,y),a(d,g,y)}:s}function bf(r,s){const a=r.hostBindings;r.hostBindings=a?(d,g)=>{s(d,g),a(d,g)}:s}function dc(r){return s=>{s.findHostDirectiveDefs=Hp,s.hostDirectives=(Array.isArray(r)?r:r()).map(a=>"function"==typeof a?{directive:xt(a),inputs:Si,outputs:Si}:{directive:xt(a.directive),inputs:wf(a.inputs),outputs:wf(a.outputs)})}}function Hp(r,s,a){if(null!==r.hostDirectives)for(const d of r.hostDirectives){const g=Zr(d.directive);$b(g.declaredInputs,d.inputs),Hp(g,s,a),a.set(g,d),s.push(g)}}function wf(r){if(void 0===r||0===r.length)return Si;const s={};for(let a=0;a<r.length;a+=2)s[r[a]]=r[a+1];return s}function $b(r,s){for(const a in s)s.hasOwnProperty(a)&&(r[s[a]]=r[a])}function qe(r){const s=r.inputConfig,a={};for(const d in s)if(s.hasOwnProperty(d)){const g=s[d];Array.isArray(g)&&g[2]&&(a[d]=g[2])}r.inputTransforms=a}function hc(r){return!!su(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function su(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Io(r,s,a){return r[s]=a}function qo(r,s,a){return!Object.is(r[s],a)&&(r[s]=a,!0)}function Ed(r,s,a,d){const g=qo(r,s,a);return qo(r,s+1,d)||g}function vm(r,s,a,d,g){const y=Ed(r,s,a,d);return qo(r,s+2,g)||y}function bh(r,s,a,d){const g=ht();return qo(g,Ha(),s)&&(Er(),Za(Rr(),g,r,s,a,d)),bh}function wh(r,s,a,d){return qo(r,Ha(),a)?s+Ke(a)+d:lr}function Ih(r,s,a,d,g,y,I,S){const z=vm(r,function Fo(){return _n.lFrame.bindingIndex}(),a,g,I);return Ta(3),z?s+Ke(a)+d+Ke(g)+y+Ke(I)+S:lr}function Wi(r,s,a,d,g,y,I,S){const R=ht(),z=Er(),ie=r+qn,me=z.firstCreatePass?function fc(r,s,a,d,g,y,I,S,R){const z=s.consts,ie=tu(s,r,4,I||null,ca(z,S));xc(s,a,ie,ca(z,R)),gu(s,ie);const me=ie.tView=dm(2,ie,d,g,y,s.directiveRegistry,s.pipeRegistry,null,s.schemas,z,null);return null!==s.queries&&(s.queries.template(s,ie),me.queries=s.queries.embeddedTView(ie)),ie}(ie,z,R,s,a,d,g,y,I):z.data[ie];_o(me,!1);const Me=_s(z,R,me,r);kh()&&Pg(z,R,Me,me),bo(Me,R),_h(R,R[ie]=gm(Me,R,Me,me)),xo(me)&&um(z,R,me),null!=I&&bd(R,me,S)}let _s=function Ui(r,s,a,d){return Ac(!0),s[Ln].createComment("")};function Cd(r){return Sc(function pu(){return _n.lFrame.contextLView}(),qn+r)}function jp(r,s,a){const d=ht();return qo(d,Ha(),s)&&qa(Er(),Rr(),d,r,s,d[Ln],a,!1),jp}function Ef(r,s,a,d,g){const I=g?"class":"style";iu(r,a,s.inputs[I],I,d)}function Eh(r,s,a,d){const g=ht(),y=Er(),I=qn+r,S=g[Ln],R=y.firstCreatePass?function Sd(r,s,a,d,g,y){const I=s.consts,R=tu(s,r,2,d,ca(I,g));return xc(s,a,R,ca(I,y)),null!==R.attrs&&un(R,R.attrs,!1),null!==R.mergedAttrs&&un(R,R.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,R),R}(I,y,g,s,a,d):y.data[I],z=Vu(y,g,R,S,s,r);g[I]=z;const ie=xo(R);return _o(R,!0),Sv(S,z,R),32!=(32&R.flags)&&kh()&&Pg(y,g,z,R),0===function Zu(){return _n.lFrame.elementDepthCount}()&&bo(z,g),function Pl(){_n.lFrame.elementDepthCount++}(),ie&&(um(y,g,R),vd(y,R,g)),null!==d&&bd(g,R),Eh}function Ad(){let r=Xi();Fl()?Va():(r=r.parent,_o(r,!1));const s=r;(function $c(r){return _n.skipHydrationRootTNode===r})(s)&&function fu(){_n.skipHydrationRootTNode=null}(),function kl(){_n.lFrame.elementDepthCount--}();const a=Er();return a.firstCreatePass&&(gu(a,r),to(r)&&a.queries.elementEnd(r)),null!=s.classesWithoutHost&&function zf(r){return 0!=(8&r.flags)}(s)&&Ef(a,s,ht(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Wf(r){return 0!=(16&r.flags)}(s)&&Ef(a,s,ht(),s.stylesWithoutHost,!1),Ad}function bm(r,s,a,d){return Eh(r,s,a,d),Ad(),bm}let Vu=(r,s,a,d,g,y)=>(Ac(!0),cp(d,g,function ed(){return _n.lFrame.currentNamespace}()));function Cf(r,s,a){const d=ht(),g=Er(),y=r+qn,I=g.firstCreatePass?function Iy(r,s,a,d,g){const y=s.consts,I=ca(y,d),S=tu(s,r,8,"ng-container",I);return null!==I&&un(S,I,!0),xc(s,a,S,ca(y,g)),null!==s.queries&&s.queries.elementStart(s,S),S}(y,g,d,s,a):g.data[y];_o(I,!0);const S=Im(g,d,I,r);return d[y]=S,kh()&&Pg(g,d,S,I),bo(S,d),xo(I)&&(um(g,d,I),vd(g,I,d)),null!=a&&bd(d,I),Cf}function $p(){let r=Xi();const s=Er();return Fl()?Va():(r=r.parent,_o(r,!1)),s.firstCreatePass&&(gu(s,r),to(r)&&s.queries.elementEnd(r)),$p}let Im=(r,s,a,d)=>(Ac(!0),I_(s[Ln],""));function is(){return ht()}function Nd(r){return!!r&&"function"==typeof r.then}function qb(r){return!!r&&"function"==typeof r.subscribe}function I0(r,s,a,d){const g=ht(),y=Er(),I=Xi();return function Zb(r,s,a,d,g,y,I){const S=xo(d),z=r.firstCreatePass&&Id(r),ie=s[Mr],me=l0(s);let Me=!0;if(3&d.type||I){const Ot=fs(d,s),en=I?I(Ot):Ot,wn=me.length,wt=I?Ur=>I(mi(Ur[d.index])):d.index;let gr=null;if(!I&&S&&(gr=function xD(r,s,a,d){const g=r.cleanup;if(null!=g)for(let y=0;y<g.length-1;y+=2){const I=g[y];if(I===a&&g[y+1]===d){const S=s[Mi],R=g[y+2];return S.length>R?S[R]:null}"string"==typeof I&&(y+=2)}return null}(r,s,g,d.index)),null!==gr)(gr.__ngLastListenerFn__||gr).__ngNextListenerFn__=y,gr.__ngLastListenerFn__=y,Me=!1;else{y=Ci(d,s,ie,y,!1);const Ur=a.listen(en,g,y);me.push(y,Ur),z&&z.push(g,wt,wn,wn+1)}}else y=Ci(d,s,ie,y,!1);const Le=d.outputs;let pt;if(Me&&null!==Le&&(pt=Le[g])){const Ot=pt.length;if(Ot)for(let en=0;en<Ot;en+=2){const ki=s[pt[en]][pt[en+1]].subscribe(y),nl=me.length;me.push(y,ki),z&&z.push(g,d.index,nl,-(nl+1))}}}(y,g,g[Ln],I,r,s,d),I0}function Wr(r,s,a,d){try{return js(6,s,a),!1!==a(d)}catch(g){return Wo(r,g),!1}finally{js(7,s,a)}}function Ci(r,s,a,d,g){return function y(I){if(I===Function)return d;md(r.componentOffset>-1?Di(r.index,s):s);let R=Wr(s,a,d,I),z=y.__ngNextListenerFn__;for(;z;)R=Wr(s,a,z,I)&&R,z=z.__ngNextListenerFn__;return g&&!1===R&&I.preventDefault(),R}}function Wp(r=1){return function mr(r){return(_n.lFrame.contextLView=function rc(r,s){for(;r>0;)s=s[Is],r--;return s}(r,_n.lFrame.contextLView))[Mr]}(r)}function Kb(r,s){let a=null;const d=function Hi(r){const s=r.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(r);for(let g=0;g<s.length;g++){const y=s[g];if("*"!==y){if(null===d?ws(r,y,!0):ya(d,y))return g}else a=g}return a}function T0(r){const s=ht()[zr][Kr];if(!s.projection){const d=s.projection=$l(r?r.length:1,null),g=d.slice();let y=s.child;for(;null!==y;){const I=r?Kb(y,r):0;null!==I&&(g[I]?g[I].projectionNext=y:d[I]=y,g[I]=y),y=y.next}}}function Yb(r,s=0,a){const d=ht(),g=Er(),y=tu(g,qn+r,16,null,a||null);null===y.projection&&(y.projection=s),Va(),(!d[Gi]||Ia())&&32!=(32&y.flags)&&function ZI(r,s,a){Dv(s[Ln],0,s,a,dp(r,a,s),Rg(a.parent||s[Kr],a,s))}(g,d,y)}function Ty(r,s,a){return Ey(r,"",s,"",a),Ty}function Ey(r,s,a,d,g){const y=ht(),I=wh(y,s,a,d);return I!==lr&&qa(Er(),Rr(),y,r,I,y[Ln],g,!1),Ey}function E0(r,s){return r<<17|s<<2}function Sf(r){return r>>17&32767}function Ch(r){return 2|r}function Hu(r){return(131068&r)>>2}function Tm(r,s){return-131069&r|s<<2}function C0(r){return 1|r}function nw(r,s,a,d,g){const y=r[a+1],I=null===s;let S=d?Sf(y):Hu(y),R=!1;for(;0!==S&&(!1===R||I);){const ie=r[S+1];rw(r[S],s)&&(R=!0,r[S+1]=d?C0(ie):Ch(ie)),S=d?Sf(ie):Hu(ie)}R&&(r[a+1]=d?Ch(y):C0(y))}function rw(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&Eu(r,s)>=0}const oo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function S0(r){return r.substring(oo.key,oo.keyEnd)}function A0(r,s){const a=oo.textEnd;return a===s?-1:(s=oo.keyEnd=function Dy(r,s,a){for(;s<a&&r.charCodeAt(s)>32;)s++;return s}(r,oo.key=s,a),Nf(r,s,a))}function Nf(r,s,a){for(;s<a&&r.charCodeAt(s)<=32;)s++;return s}function O0(r,s){return function Fc(r,s,a,d){const g=ht(),y=Er(),I=Ta(2);y.firstUpdatePass&&Dr(y,r,I,d),s!==lr&&qo(g,I,s)&&Mf(y,y.data[Gr()],g,g[Ln],r,g[I+1]=function NT(r,s){return null==r||""===r||("string"==typeof s?r+=s:"object"==typeof r&&(r=At(ac(r)))),r}(s,a),d,I)}(r,s,null,!0),O0}function Gu(r){!function $u(r,s,a,d){const g=Er(),y=Ta(2);g.firstUpdatePass&&Dr(g,null,y,d);const I=ht();if(a!==lr&&qo(I,y,a)){const S=g.data[Gr()];if(Zp(S,d)&&!ET(g,y)){let R=d?S.classesWithoutHost:S.stylesWithoutHost;null!==R&&(a=Bt(R,a||"")),Ef(g,S,I,a,d)}else!function Cm(r,s,a,d,g,y,I,S){g===lr&&(g=sr);let R=0,z=0,ie=0<g.length?g[0]:null,me=0<y.length?y[0]:null;for(;null!==ie||null!==me;){const Me=R<g.length?g[R+1]:void 0,Le=z<y.length?y[z+1]:void 0;let Ot,pt=null;ie===me?(R+=2,z+=2,Me!==Le&&(pt=me,Ot=Le)):null===me||null!==ie&&ie<me?(R+=2,pt=ie):(z+=2,pt=me,Ot=Le),null!==pt&&Mf(r,s,a,d,pt,Ot,I,S),ie=R<g.length?g[R]:null,me=z<y.length?y[z]:null}}(g,S,I,I[Ln],I[y+1],I[y+1]=function LD(r,s,a){if(null==a||""===a)return sr;const d=[],g=ac(a);if(Array.isArray(g))for(let y=0;y<g.length;y++)r(d,g[y],!0);else if("object"==typeof g)for(const y in g)g.hasOwnProperty(y)&&r(d,y,g[y]);else"string"==typeof g&&s(d,g);return d}(r,s,a),d,y)}}(AT,ju,r,!0)}function ju(r,s){for(let a=function Pc(r){return function iw(r){oo.key=0,oo.keyEnd=0,oo.value=0,oo.valueEnd=0,oo.textEnd=r.length}(r),A0(r,Nf(r,0,oo.textEnd))}(s);a>=0;a=A0(s,a))Ca(r,S0(s),!0)}function ET(r,s){return s>=r.expandoStartIndex}function Dr(r,s,a,d){const g=r.data;if(null===g[a+1]){const y=g[Gr()],I=ET(r,a);Zp(y,d)&&null===s&&!I&&(s=!1),s=function FD(r,s,a,d){const g=function x(r){const s=_n.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let y=d?s.residualClasses:s.residualStyles;if(null===g)0===(d?s.classBindings:s.styleBindings)&&(a=Of(a=M0(null,r,s,a,d),s.attrs,d),y=null);else{const I=s.directiveStylingLast;if(-1===I||r[I]!==g)if(a=M0(g,r,s,a,d),null===y){let R=function ow(r,s,a){const d=a?s.classBindings:s.styleBindings;if(0!==Hu(d))return r[Sf(d)]}(r,s,d);void 0!==R&&Array.isArray(R)&&(R=M0(null,r,s,R[1],d),R=Of(R,s.attrs,d),function DT(r,s,a,d){r[Sf(a?s.classBindings:s.styleBindings)]=d}(r,s,d,R))}else y=function CT(r,s,a){let d;const g=s.directiveEnd;for(let y=1+s.directiveStylingLast;y<g;y++)d=Of(d,r[y].hostAttrs,a);return Of(d,s.attrs,a)}(r,s,d)}return void 0!==y&&(d?s.residualClasses=y:s.residualStyles=y),a}(g,y,s,d),function wT(r,s,a,d,g,y){let I=y?s.classBindings:s.styleBindings,S=Sf(I),R=Hu(I);r[d]=a;let ie,z=!1;if(Array.isArray(a)?(ie=a[1],(null===ie||Eu(a,ie)>0)&&(z=!0)):ie=a,g)if(0!==R){const Me=Sf(r[S+1]);r[d+1]=E0(Me,S),0!==Me&&(r[Me+1]=Tm(r[Me+1],d)),r[S+1]=function tw(r,s){return 131071&r|s<<17}(r[S+1],d)}else r[d+1]=E0(S,0),0!==S&&(r[S+1]=Tm(r[S+1],d)),S=d;else r[d+1]=E0(R,0),0===S?S=d:r[R+1]=Tm(r[R+1],d),R=d;z&&(r[d+1]=Ch(r[d+1])),nw(r,ie,d,!0),nw(r,ie,d,!1),function Em(r,s,a,d,g){const y=g?r.residualClasses:r.residualStyles;null!=y&&"string"==typeof s&&Eu(y,s)>=0&&(a[d+1]=C0(a[d+1]))}(s,ie,r,d,y),I=E0(S,R),y?s.classBindings=I:s.styleBindings=I}(g,y,s,a,I,d)}}function M0(r,s,a,d,g){let y=null;const I=a.directiveEnd;let S=a.directiveStylingLast;for(-1===S?S=a.directiveStart:S++;S<I&&(y=s[S],d=Of(d,y.hostAttrs,g),y!==r);)S++;return null!==r&&(a.directiveStylingLast=S),d}function Of(r,s,a){const d=a?1:2;let g=-1;if(null!==s)for(let y=0;y<s.length;y++){const I=s[y];"number"==typeof I?g=I:g===d&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Ca(r,I,!!a||s[++y]))}return void 0===r?null:r}function AT(r,s,a){const d=String(s);""!==d&&!d.includes(" ")&&Ca(r,d,a)}function Mf(r,s,a,d,g,y,I,S){if(!(3&s.type))return;const R=r.data,z=R[S+1],ie=function D0(r){return 1==(1&r)}(z)?aw(R,s,a,g,Hu(z),I):void 0;Md(ie)||(Md(y)||function RD(r){return 2==(2&r)}(z)&&(y=aw(R,null,a,g,S,I)),function YI(r,s,a,d,g){if(s)g?r.addClass(a,d):r.removeClass(a,d);else{let y=-1===d.indexOf("-")?void 0:Dg.DashCase;null==g?r.removeStyle(a,d,y):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),y|=Dg.Important),r.setStyle(a,d,g,y))}}(d,I,xl(Gr(),a),g,y))}function aw(r,s,a,d,g,y){const I=null===s;let S;for(;g>0;){const R=r[g],z=Array.isArray(R),ie=z?R[1]:R,me=null===ie;let Me=a[g+1];Me===lr&&(Me=me?sr:void 0);let Le=me?Uo(Me,d):ie===d?Me:void 0;if(z&&!Md(Le)&&(Le=Uo(R,d)),Md(Le)&&(S=Le,I))return S;const pt=r[g+1];g=I?Sf(pt):Hu(pt)}if(null!==s){let R=y?s.residualClasses:s.residualStyles;null!=R&&(S=Uo(R,d))}return S}function Md(r){return void 0!==r}function Zp(r,s){return 0!=(r.flags&(s?8:16))}function cw(r,s=""){const a=ht(),d=Er(),g=r+qn,y=d.firstCreatePass?tu(d,g,1,s,null):d.data[g],I=lw(d,a,y,s,r);a[g]=I,kh()&&Pg(d,a,I,y),_o(y,!1)}let lw=(r,s,a,d,g)=>(Ac(!0),Wh(s[Ln],d));function uw(r){return qi("",r,""),uw}function qi(r,s,a){const d=ht(),g=wh(d,r,s,a);return g!==lr&&Ka(d,Gr(),g),qi}function Sm(r,s,a,d,g,y,I){const S=ht(),R=Ih(S,r,s,a,d,g,y,I);return R!==lr&&Ka(S,Gr(),R),Sm}function P0(r,s,a){const d=ht();return qo(d,Ha(),s)&&qa(Er(),Rr(),d,r,s,d[Ln],a,!0),P0}const Yp=void 0;var VT=["en",[["a","p"],["AM","PM"],Yp],[["AM","PM"],Yp,Yp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yp,"{1} 'at' {0}",Yp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function UT(r){const a=Math.floor(Math.abs(r)),d=r.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===d?1:5}];let Rm={};function Iw(r){const s=function To(r){return r.toLowerCase().replace(/_/g,"-")}(r);let a=Qp(s);if(a)return a;const d=s.split("-")[0];if(a=Qp(d),a)return a;if("en"===d)return VT;throw new Ge(701,!1)}function k0(r){return Iw(r)[Pm.PluralCase]}function Qp(r){return r in Rm||(Rm[r]=hr.ng&&hr.ng.common&&hr.ng.common.locales&&hr.ng.common.locales[r]),Rm[r]}var Pm=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(Pm||{});const xd="en-US",km={marker:"element"},Ny={marker:"ICU"};var Na=function(r){return r[r.SHIFT=2]="SHIFT",r[r.APPEND_EAGERLY=1]="APPEND_EAGERLY",r[r.COMMENT=2]="COMMENT",r}(Na||{});let Ew=xd;function Dw(r){(function cn(r,s){null==r&&Dt(s,r,null,"!=")})(r,"Expected localeId to be defined"),"string"==typeof r&&(Ew=r.toLowerCase().replace(/_/g,"-"))}function GT(r,s,a){const d=s.insertBeforeIndex,g=Array.isArray(d)?d[0]:d;return null===g?N_(r,0,a):mi(a[g])}function Fm(r,s,a,d,g){const y=s.insertBeforeIndex;if(Array.isArray(y)){let I=d,S=null;if(3&s.type||(S=I,I=g),null!==I&&-1===s.componentOffset)for(let R=1;R<y.length;R++)Zl(r,I,a[y[R]],S,!1)}}function F0(r,s){if(r.push(s),r.length>1)for(let a=r.length-2;a>=0;a--){const d=r[a];jT(d)||$T(d,s)&&null===Cw(d)&&zT(d,s.index)}}function jT(r){return!(64&r.type)}function $T(r,s){return jT(s)||r.index>s.index}function Cw(r){const s=r.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function zT(r,s){const a=r.insertBeforeIndex;Array.isArray(a)?a[0]=s:(ub(GT,Fm),r.insertBeforeIndex=s)}function zD(r,s,a){const d=mf(r,a,64,null,null);return F0(s,d),d}function Aw(){const r=[];let a,d,s=-1;function y(S,R){s=0;const z=function L0(r,s){const a=s[r.currentCaseLViewIndex];return null===a?a:a<0?~a:a}(S,R);d=null!==z?S.remove[z]:sr}function I(){if(s<d.length){const S=d[s++];return S>0?a[S]:(r.push(s,d),y(a[Lt].data[~S],a),I())}return 0===r.length?null:(d=r.pop(),s=r.pop(),I())}return function g(S,R){for(a=R;r.length;)r.pop();return y(S.value,R),I}}const xy=/\ufffd(\d+):?\d*\ufffd/gi,Ry=/\ufffd(\d+)\ufffd/,Pf=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Py="\ufffd",QT=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,YD=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,QD=/\uE500/g;function Nh(r,s,a,d,g,y,I){const S=fh(r,d,1,null);let R=S<<Na.SHIFT,z=ll();s===z&&(z=null),null===z&&(R|=Na.APPEND_EAGERLY),I&&(R|=Na.COMMENT,function b_(r){void 0===ii&&(ii=r())}(Aw)),g.push(R,null===y?"":y);const ie=mf(r,S,I?32:1,null===y?"":y,null);F0(a,ie);const me=ie.index;return _o(ie,!1),null!==z&&s!==z&&function $D(r,s){let a=r.insertBeforeIndex;null===a?(ub(GT,Fm),a=r.insertBeforeIndex=[null,s]):(function je(r,s,a){r!=s&&Dt(a,r,s,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(z,me),ie}function JT(r,s,a,d,g,y,I){const S=I.match(xy),R=Nh(r,s,a,y,d,S?null:I,!1);S&&Um(g,I,R.index,null,0,null)}function Um(r,s,a,d,g,y){const I=r.length,S=I+1;r.push(null,null);const R=I+2,z=s.split(xy);let ie=0;for(let me=0;me<z.length;me++){const Me=z[me];if(1&me){const Le=g+parseInt(Me,10);r.push(-1-Le),ie|=V0(Le)}else""!==Me&&r.push(Me)}return r.push(a<<2|(d?1:0)),d&&r.push(d,y),r[I]=ie,r[S]=r.length-R,ie}function V0(r){return 1<<Math.min(r,31)}function Mw(r){let s,y,a="",d=0,g=!1;for(;null!==(s=QT.exec(r));)g?s[0]===`${Py}/*${y}${Py}`&&(d=s.index,g=!1):(a+=r.substring(d,s.index+s[0].length),y=s[1],g=!0);return a+=r.slice(d),a}function H0(r,s,a,d,g,y){let I=0;const S={type:g.type,currentCaseLViewIndex:fh(r,s,1,null),anchorIdx:y,cases:[],create:[],remove:[],update:[]};(function eE(r,s,a){r.push(V0(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(a,g,y),function WT(r,s,a){const d=r.data[s];null===d?r.data[s]=a:d.value=a}(r,y,S);const R=g.values;for(let z=0;z<R.length;z++){const ie=R[z],me=[];for(let Me=0;Me<ie.length;Me++){const Le=ie[Me];if("string"!=typeof Le){const pt=me.push(Le)-1;ie[Me]=`\x3c!--\ufffd${pt}\ufffd--\x3e`}}I=tC(r,S,s,a,d,g.cases[z],ie.join(""),me)|I}I&&function Fy(r,s,a){r.push(s,1,a<<2|3)}(a,I,y)}function XT(r){const s=[],a=[];let d=1,g=0;const y=Vm(r=r.replace(Pf,function(I,S,R){return d="select"===R?0:1,g=parseInt(S.slice(1),10),""}));for(let I=0;I<y.length;){let S=y[I++].trim();1===d&&(S=S.replace(/\s*(?:=)?(\w+)\s*/,"$1")),S.length&&s.push(S);const R=Vm(y[I++]);s.length>a.length&&a.push(R)}return{type:d,mainBinding:g,cases:s,values:a}}function Vm(r){if(!r)return[];let s=0;const a=[],d=[],g=/[{}]/g;let y;for(g.lastIndex=0;y=g.exec(r);){const S=y.index;if("}"==y[0]){if(a.pop(),0==a.length){const R=r.substring(s,S);Pf.test(R)?d.push(XT(R)):d.push(R),s=S+1}}else{if(0==a.length){const R=r.substring(s,S);d.push(R),s=S+1}a.push("{")}}const I=r.substring(s);return d.push(I),d}function tC(r,s,a,d,g,y,I,S){const R=[],z=[],ie=[];s.cases.push(y),s.create.push(R),s.remove.push(z),s.update.push(ie);const Me=XI(gp()).getInertBodyElement(I),Le=_p(Me)||Me;return Le?G0(r,s,a,d,R,z,ie,Le,g,S,0):0}function G0(r,s,a,d,g,y,I,S,R,z,ie){let me=0,Me=S.firstChild;for(;Me;){const Le=fh(r,a,1,null);switch(Me.nodeType){case Node.ELEMENT_NODE:const pt=Me,Ot=pt.tagName.toLowerCase();if(cd.hasOwnProperty(Ot)){Hm(g,km,Ot,R,Le),r.data[Le]=Ot;const gr=pt.attributes;for(let Ur=0;Ur<gr.length;Ur++){const ki=gr.item(Ur),nl=ki.name.toLowerCase();ki.value.match(xy)?U_.hasOwnProperty(nl)&&Um(I,ki.value,Le,ki.name,0,B_[nl]?Mv:null):Ly(g,Le,ki)}me=G0(r,s,a,d,g,y,I,Me,Le,z,ie+1)|me,ky(y,Le,ie)}break;case Node.TEXT_NODE:const en=Me.textContent||"",wn=en.match(xy);Hm(g,null,wn?"":en,R,Le),ky(y,Le,ie),wn&&(me=Um(I,en,Le,null,0,null)|me);break;case Node.COMMENT_NODE:const wt=Ry.exec(Me.textContent||"");if(wt){const Ur=z[parseInt(wt[1],10)];Hm(g,Ny,"",R,Le),H0(r,a,d,R,Ur,Le),nC(y,Le,ie)}}Me=Me.nextSibling}return me}function ky(r,s,a){0===a&&r.push(s)}function nC(r,s,a){0===a&&(r.push(~s),r.push(s))}function Hm(r,s,a,d,g){null!==s&&r.push(s),r.push(a,g,function WD(r,s,a){return r|s<<17|a<<1}(0,d,g))}function Ly(r,s,a){r.push(s<<1|1,a.name,a.value)}function Pw(r,s,a=-1){const d=Er(),g=ht(),y=qn+r,I=ca(d.consts,s),S=ll();d.firstCreatePass&&function eg(r,s,a,d,g,y){const I=ll(),S=[],R=[],z=[[]];g=function xw(r,s){if(function Ow(r){return-1===r}(s))return Mw(r);{const a=r.indexOf(`:${s}${Py}`)+2+s.toString().length,d=r.search(new RegExp(`${Py}\\/\\*\\d+:${s}${Py}`));return Mw(r.substring(a,d))}}(g,y);const ie=function JD(r){return r.replace(QD," ")}(g).split(YD);for(let me=0;me<ie.length;me++){let Me=ie[me];if(1&me){const Le=47===Me.charCodeAt(0),Ot=(Me.charCodeAt(Le?1:0),qn+Number.parseInt(Me.substring(Le?2:1)));if(Le)z.shift(),_o(ll(),!1);else{const en=zD(r,z[0],Ot);z.unshift([]),_o(en,!0)}}else{const Le=Vm(Me);for(let pt=0;pt<Le.length;pt++){let Ot=Le[pt];if(1&pt){const en=Ot;if("object"!=typeof en)throw new Error(`Unable to parse ICU expression in "${g}" message.`);H0(r,a,R,s,en,Nh(r,I,z[0],a,S,"",!0).index)}else""!==Ot&&JT(r,I,z[0],S,R,a,Ot)}}}r.data[d]={create:S,update:R}}(d,null===S?0:S.index,g,y,I,a),2===d.type?g[zr][Wn]|=32:g[Wn]|=32;const R=d.data[y],ie=hp(d,S===g[Kr]?null:S,g);(function ZT(r,s,a,d){const g=r[Ln];for(let y=0;y<s.length;y++){const I=s[y++],S=s[y],z=(I&Na.APPEND_EAGERLY)===Na.APPEND_EAGERLY,ie=I>>>Na.SHIFT;let me=r[ie];null===me&&(me=r[ie]=(I&Na.COMMENT)===Na.COMMENT?g.createComment(S):Wh(g,S)),z&&null!==a&&Zl(g,a,me,d,!1)}})(g,R.create,ie,S&&8&S.type?g[S.index]:null),hl(!0)}function iE(r,s,a){Pw(r,s,a),function Ff(){hl(!1)}()}function Fw(r,s,a,d,g){if(r=xt(r),Array.isArray(r))for(let y=0;y<r.length;y++)Fw(r[y],s,a,d,g);else{const y=Er(),I=ht(),S=Xi();let R=hd(r)?r:xt(r.provide);const z=Uv(r),ie=1048575&S.providerIndexes,me=S.directiveStart,Me=S.providerIndexes>>20;if(hd(r)||!r.multi){const Le=new td(z,g,cc),pt=$m(R,s,g?ie:ie+Me,me);-1===pt?(Hl(gl(S,I),y,R),z0(y,r,s.length),s.push(R),S.directiveStart++,S.directiveEnd++,g&&(S.providerIndexes+=1048576),a.push(Le),I.push(Le)):(a[pt]=Le,I[pt]=Le)}else{const Le=$m(R,s,ie+Me,me),pt=$m(R,s,ie,ie+Me),en=pt>=0&&a[pt];if(g&&!en||!g&&!(Le>=0&&a[Le])){Hl(gl(S,I),y,R);const wn=function oC(r,s,a,d,g){const y=new td(r,a,cc);return y.multi=[],y.index=s,y.componentProviders=0,aE(y,g,d&&!a),y}(g?sC:iC,a.length,g,d,z);!g&&en&&(a[pt].providerFactory=wn),z0(y,r,s.length,0),s.push(R),S.directiveStart++,S.directiveEnd++,g&&(S.providerIndexes+=1048576),a.push(wn),I.push(wn)}else z0(y,r,Le>-1?Le:pt,aE(a[g?pt:Le],z,!g&&d));!g&&d&&en&&a[pt].componentProviders++}}}function z0(r,s,a,d){const g=hd(s),y=function $_(r){return!!r.useClass}(s);if(g||y){const R=(y?xt(s.useClass):s).prototype.ngOnDestroy;if(R){const z=r.destroyHooks||(r.destroyHooks=[]);if(!g&&s.multi){const ie=z.indexOf(a);-1===ie?z.push(a,[d,R]):z[ie+1].push(d,R)}else z.push(a,R)}}}function aE(r,s,a){return a&&r.componentProviders++,r.multi.push(s)-1}function $m(r,s,a,d){for(let g=a;g<d;g++)if(s[g]===r)return g;return-1}function iC(r,s,a,d){return W0(this.multi,[])}function sC(r,s,a,d){const g=this.multi;let y;if(this.providerFactory){const I=this.providerFactory.componentProviders,S=Zc(a,a[Lt],this.providerFactory.index,d);y=S.slice(0,I),W0(g,y);for(let R=I;R<S.length;R++)y.push(S[R])}else y=[],W0(g,y);return y}function W0(r,s){for(let a=0;a<r.length;a++)s.push((0,r[a])());return s}function Lw(r,s=[]){return a=>{a.providersResolver=(d,g)=>function oE(r,s,a){const d=Er();if(d.firstCreatePass){const g=bi(r);Fw(a,d.data,d.blueprint,g,!0),Fw(s,d.data,d.blueprint,g,!1)}}(d,g?g(r):r,s)}}class Sl{}class zm{}function cE(r,s){return new Bw(r,s??null,[])}class Bw extends Sl{constructor(s,a,d){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new p0(this);const g=ni(s);this._bootstrapComponents=xs(g.bootstrap),this._r3Injector=Ob(s,a,[{provide:Sl,useValue:this},{provide:Sp,useValue:this.componentFactoryResolver},...d],At(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class q0 extends zm{constructor(s){super(),this.moduleType=s}create(s){return new Bw(this.moduleType,s,[])}}class lE extends Sl{constructor(s){super(),this.componentFactoryResolver=new p0(this),this.instance=null;const a=new Mu([...s.providers,{provide:Sl,useValue:this},{provide:Sp,useValue:this.componentFactoryResolver}],s.parent||Ep(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Z0(r,s,a=null){return new lE({providers:r,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}let Oa=(()=>{class r{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const d=j_(0,a.type),g=d.length>0?Z0([d],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,g)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=De({token:r,providedIn:"environment",factory:()=>new r(Fn(vl))})}return r})();function uE(r){r.getStandaloneInjector=s=>s.get(Oa).getOrCreateStandaloneInjector(r)}function Hw(r,s,a,d){return By(ht(),$s(),r,s,a,d)}function e1(r,s,a,d,g){return Gw(ht(),$s(),r,s,a,d,g)}function vE(r,s,a,d,g,y){return function jw(r,s,a,d,g,y,I,S){const R=s+a;return vm(r,R,g,y,I)?Io(r,R+3,S?d.call(S,g,y,I):d(g,y,I)):tg(r,R+3)}(ht(),$s(),r,s,a,d,g,y)}function tg(r,s){const a=r[s];return a===lr?void 0:a}function By(r,s,a,d,g,y){const I=s+a;return qo(r,I,g)?Io(r,I+1,y?d.call(y,g):d(g)):tg(r,I+1)}function Gw(r,s,a,d,g,y,I){const S=s+a;return Ed(r,S,g,y)?Io(r,S+2,I?d.call(I,g,y):d(g,y)):tg(r,S+2)}function t1(r,s){const a=Er();let d;const g=r+qn;a.firstCreatePass?(d=function fC(r,s){if(s)for(let a=s.length-1;a>=0;a--){const d=s[a];if(r===d.name)return d}}(s,a.pipeRegistry),a.data[g]=d,d.onDestroy&&(a.destroyHooks??=[]).push(g,d.onDestroy)):d=a.data[g];const y=d.factory||(d.factory=La(d.type)),S=mn(cc);try{const R=Wc(!1),z=y();return Wc(R),function w0(r,s,a,d){a>=r.data.length&&(r.data[a]=null,r.blueprint[a]=null),s[a]=d}(a,ht(),g,z),z}finally{mn(S)}}function zw(r,s,a){const d=r+qn,g=ht(),y=Sc(g,d);return ng(g,d)?By(g,$s(),s,y.transform,a,y):y.transform(a)}function n1(r,s,a,d){const g=r+qn,y=ht(),I=Sc(y,g);return ng(y,g)?Gw(y,$s(),s,I.transform,a,d,I):I.transform(a,d)}function ng(r,s){return r[Lt].data[s].pure}function Ww(){return this._results[Symbol.iterator]()}class Vy{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new bl)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Vy.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=Ww)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const d=this;d.dirty=!1;const g=function Kc(r){return r.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function o_(r,s,a){if(r.length!==s.length)return!1;for(let d=0;d<r.length;d++){let g=r[d],y=s[d];if(a&&(g=a(g),y=a(y)),y!==g)return!1}return!0}(d._results,g,a))&&(d._results=g,d.length=g.length,d.last=g[this.length-1],d.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function DE(r,s,a,d=!0){const g=s[Lt];if(function E_(r,s,a,d){const g=Fr+d,y=a.length;d>0&&(a[g-1][Hr]=s),d<y-Fr?(s[Hr]=a[g],Gh(a,Fr+d,s)):(a.push(s),s[Hr]=null),s[Pn]=a;const I=s[ls];null!==I&&a!==I&&function vv(r,s){const a=r[ra];s[zr]!==s[Pn][Pn][zr]&&(r[Vs]=!0),null===a?r[ra]=[s]:a.push(s)}(I,s);const S=s[Jr];null!==S&&S.insertView(r),s[Wn]|=128}(g,s,r,a),d){const y=Tv(a,r),I=s[Ln],S=Yd(I,r[Ti]);null!==S&&function T_(r,s,a,d,g,y){d[cr]=g,d[Kr]=s,kg(r,d,a,1,g,y)}(g,r[Kr],I,s,S,y)}}let rg=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=mc}return r})();const gC=rg,mC=class extends gC{constructor(s,a,d){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,d){const g=function EE(r,s,a,d){const g=s.tView,S=Fu(r,g,a,4096&r[Wn]?4096:16,null,s,null,null,null,d?.injector??null,d?.hydrationInfo??null);S[ls]=r[s.index];const z=r[Jr];return null!==z&&(S[Jr]=z.createEmbeddedView(g)),Nt(g,S,a),S}(this._declarationLView,this._declarationTContainer,s,{injector:a,hydrationInfo:d});return new Bp(g)}};function mc(){return s1(Xi(),ht())}function s1(r,s){return 4&r.type?new mC(s,r,pd(r,s)):null}let c1=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=bC}return r})();function bC(){return jy(Xi(),ht())}const Hy=c1,l1=class extends Hy{constructor(s,a,d){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=d}get element(){return pd(this._hostTNode,this._hostLView)}get injector(){return new Bo(this._hostTNode,this._hostLView)}get parentInjector(){const s=wu(this._hostTNode,this._hostLView);if(_u(s)){const a=Ul(s,this._hostLView),d=Bl(s);return new Bo(a[Lt].data[d+8],a)}return new Bo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=ig(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-Fr}createEmbeddedView(s,a,d){let g,y;"number"==typeof d?g=d:null!=d&&(g=d.index,y=d.injector);const S=s.createEmbeddedViewImpl(a||{},y,null);return this.insertImpl(S,g,false),S}createComponent(s,a,d,g,y){const I=s&&!function Hh(r){return"function"==typeof r}(s);let S;if(I)S=a;else{const Ot=a||{};S=Ot.index,d=Ot.injector,g=Ot.projectableNodes,y=Ot.environmentInjector||Ot.ngModuleRef}const R=I?s:new On(pr(s)),z=d||this.parentInjector;if(!y&&null==R.ngModule){const en=(I?z:this.parentInjector).get(vl,null);en&&(y=en)}pr(R.componentType??{});const Le=R.create(z,g,null,y);return this.insertImpl(Le.hostView,S,false),Le}insert(s,a){return this.insertImpl(s,a,!1)}insertImpl(s,a,d){const g=s._lView;if(function cl(r){return Ki(r[Pn])}(g)){const R=this.indexOf(s);if(-1!==R)this.detach(R);else{const z=g[Pn],ie=new l1(z,z[Kr],z[Pn]);ie.detach(ie.indexOf(s))}}const I=this._adjustIndex(a),S=this._lContainer;return DE(S,g,I,!d),s.attachToViewContainerRef(),Gh(Gy(S),I,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=ig(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),d=xg(this._lContainer,a);d&&(qd(Gy(this._lContainer),a),lp(d[Lt],d))}detach(s){const a=this._adjustIndex(s,-1),d=xg(this._lContainer,a);return d&&null!=qd(Gy(this._lContainer),a)?new Bp(d):null}_adjustIndex(s,a=0){return s??this.length+a}};function ig(r){return r[8]}function Gy(r){return r[8]||(r[8]=[])}function jy(r,s){let a;const d=s[r.index];return Ki(d)?a=d:(a=gm(d,s,null,r),s[r.index]=a,_h(s,a)),u1(a,s,r,d),new l1(a,r,s)}let u1=function Kw(r,s,a,d){if(r[Ti])return;let g;g=8&a.type?mi(d):function $y(r,s){const a=r[Ln],d=a.createComment(""),g=fs(s,r);return Zl(a,Yd(a,g),d,function wv(r,s){return r.nextSibling(s)}(a,g),!1),d}(s,a),r[Ti]=g};class Pd{constructor(s){this.queryList=s,this.matches=null}clone(){return new Pd(this.queryList)}setDirty(){this.queryList.setDirty()}}class d1{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const d=null!==s.contentQueries?s.contentQueries[0]:a.length,g=[];for(let y=0;y<d;y++){const I=a.getByIndex(y);g.push(this.queries[I.indexInDeclarationView].clone())}return new d1(g)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==RE(s,a).matches&&this.queries[a].setDirty()}}class AE{constructor(s,a,d=null){this.predicate=s,this.flags=a,this.read=d}}class zy{constructor(s=[]){this.queries=s}elementStart(s,a){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let d=0;d<this.length;d++){const g=null!==a?a.length:0,y=this.getByIndex(d).embeddedTView(s,g);y&&(y.indexInDeclarationView=d,null!==a?a.push(y):a=[y])}return null!==a?new zy(a):null}template(s,a){for(let d=0;d<this.queries.length;d++)this.queries[d].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Jw{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Jw(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let d=s.parent;for(;null!==d&&8&d.type&&d.index!==a;)d=d.parent;return a===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const d=this.metadata.predicate;if(Array.isArray(d))for(let g=0;g<d.length;g++){const y=d[g];this.matchTNodeWithReadOption(s,a,Xw(a,y)),this.matchTNodeWithReadOption(s,a,ml(a,s,y,!1,!1))}else d===rg?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,ml(a,s,d,!1,!1))}matchTNodeWithReadOption(s,a,d){if(null!==d){const g=this.metadata.read;if(null!==g)if(g===ah||g===c1||g===rg&&4&a.type)this.addMatch(a.index,-2);else{const y=ml(a,s,g,!1,!1);null!==y&&this.addMatch(a.index,y)}else this.addMatch(a.index,d)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function Xw(r,s){const a=r.localNames;if(null!==a)for(let d=0;d<a.length;d+=2)if(a[d]===s)return a[d+1];return null}function eI(r,s,a,d){return-1===a?function wC(r,s){return 11&r.type?pd(r,s):4&r.type?s1(r,s):null}(s,r):-2===a?function h1(r,s,a){return a===ah?pd(s,r):a===rg?s1(s,r):a===c1?jy(s,r):void 0}(r,s,d):Zc(r,r[Lt],a,s)}function f1(r,s,a,d){const g=s[Jr].queries[d];if(null===g.matches){const y=r.data,I=a.matches,S=[];for(let R=0;R<I.length;R+=2){const z=I[R];S.push(z<0?null:eI(s,y[z],I[R+1],a.metadata.read))}g.matches=S}return g.matches}function p1(r,s,a,d){const g=r.queries.getByIndex(a),y=g.matches;if(null!==y){const I=f1(r,s,g,a);for(let S=0;S<y.length;S+=2){const R=y[S];if(R>0)d.push(I[S/2]);else{const z=y[S+1],ie=s[-R];for(let me=Fr;me<ie.length;me++){const Me=ie[me];Me[ls]===Me[Pn]&&p1(Me[Lt],Me,z,d)}if(null!==ie[ra]){const me=ie[ra];for(let Me=0;Me<me.length;Me++){const Le=me[Me];p1(Le[Lt],Le,z,d)}}}}}return d}function sg(r){const s=ht(),a=Er(),d=D();P(d+1);const g=RE(a,d);if(r.dirty&&function Rl(r){return 4==(4&r[Wn])}(s)===(2==(2&g.metadata.flags))){if(null===g.matches)r.reset([]);else{const y=g.crossesNgTemplate?p1(a,s,d,[]):f1(a,s,g,d);r.reset(y,Qg),r.notifyOnChanges()}return!0}return!1}function g1(r,s,a){const d=Er();d.firstCreatePass&&(xE(d,new AE(r,s,a),-1),2==(2&s)&&(d.staticViewQueries=!0)),tI(d,ht(),s)}function NE(r,s,a,d){const g=Er();if(g.firstCreatePass){const y=Xi();xE(g,new AE(s,a,d),y.index),function nI(r,s){const a=r.contentQueries||(r.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(r.queries.length-1,s)}(g,r),2==(2&a)&&(g.staticContentQueries=!0)}tI(g,ht(),a)}function OE(){return function ME(r,s){return r[Jr].queries[s].queryList}(ht(),D())}function tI(r,s,a){const d=new Vy(4==(4&a));(function Xc(r,s,a,d){const g=l0(s);g.push(a),r.firstCreatePass&&Id(r).push(d,g.length-1)})(r,s,d,d.destroy),null===s[Jr]&&(s[Jr]=new d1),s[Jr].queries.push(new Pd(d))}function xE(r,s,a){null===r.queries&&(r.queries=new zy),r.queries.track(new Jw(s,a))}function RE(r,s){return r.queries.getByIndex(s)}function m1(r,s){return s1(r,s)}function Wy(r){return!!ni(r)}const S1=new Rn("Application Initializer");let fI=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,d)=>{this.resolve=a,this.reject=d}),this.appInits=ir(S1,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const g of this.appInits){const y=g();if(Nd(y))a.push(y);else if(qb(y)){const I=new Promise((S,R)=>{y.subscribe({complete:S,error:R})});a.push(I)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{d()}).catch(g=>{this.reject(g)}),0===a.length&&d(),this.initialized=!0}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),JE=(()=>{class r{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();const A1=new Rn("LocaleId",{providedIn:"root",factory:()=>ir(A1,Xt.Optional|Xt.SkipSelf)||function pI(){return typeof $localize<"u"&&$localize.locale||xd}()}),gI=new Rn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let N1=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new de.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class eD{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let mI=(()=>{class r{compileModuleSync(a){return new q0(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const d=this.compileModuleSync(a),y=xs(ni(a).declarations).reduce((I,S)=>{const R=pr(S);return R&&I.push(new On(R)),I},[]);return new eD(d,y)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const EI=new Rn(""),B1=new Rn("");let CI,iD=(()=>{class r{constructor(a,d,g){this._ngZone=a,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,CI||(function DI(r){CI=r}(g),g.addToWindow(d)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(a)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,d,g){let y=-1;d&&d>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==y),a(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:a,timeoutId:y,updateCb:g})}whenStable(a,d,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,d,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,d,g){return[]}static#e=this.\u0275fac=function(d){return new(d||r)(Fn(zo),Fn(lg),Fn(B1))};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac})}return r})(),lg=(()=>{class r{constructor(){this._applications=new Map}registerApplication(a,d){this._applications.set(a,d)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,d=!0){return CI?.findTestabilityInTree(this,a,d)??null}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})(),Vf=null;const sD=new Rn("AllowMultipleToken"),U1=new Rn("PlatformDestroyListeners"),SI=new Rn("appBootstrapListener");class HC{constructor(s,a){this.name=s,this.token=a}}function AI(r,s,a=[]){const d=`Platform: ${s}`,g=new Rn(d);return(y=[])=>{let I=H1();if(!I||I.injector.get(sD,!1)){const S=[...a,...y,{provide:g,useValue:!0}];r?r(S):function cD(r){if(Vf&&!Vf.get(sD,!1))throw new Ge(400,!1);(function aD(){!function qu(r){Hc=r}(()=>{throw new Ge(600,!1)})})(),Vf=r;const s=r.get(NI);(function V1(r){r.get(jo,null)?.forEach(a=>a())})(r)}(function Jy(r=[],s){return fa.create({name:s,providers:[{provide:Ip,useValue:"platform"},{provide:U1,useValue:new Set([()=>Vf=null])},...r]})}(S,d))}return function uD(r){const s=H1();if(!s)throw new Ge(401,!1);return s}()}}function H1(){return Vf?.get(NI)??null}let NI=(()=>{class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,d){const g=function GC(r="zone.js",s){return"noop"===r?new fT:"zone.js"===r?new zo(s):r}(d?.ngZone,function e_(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return g.run(()=>{const y=function cC(r,s,a){return new Bw(r,s,a)}(a.moduleType,this.injector,function j1(r){return[{provide:zo,useFactory:r},{provide:nh,multi:!0,useFactory:()=>{const s=ir(dD,{optional:!0});return()=>s.initialize()}},{provide:OI,useFactory:bS},{provide:sy,useFactory:t0}]}(()=>g)),I=y.injector.get(Ru,null);return g.runOutsideAngular(()=>{const S=g.onError.subscribe({next:R=>{I.handleError(R)}});y.onDestroy(()=>{G1(this._modules,y),S.unsubscribe()})}),function ao(r,s,a){try{const d=a();return Nd(d)?d.catch(g=>{throw s.runOutsideAngular(()=>r.handleError(g)),g}):d}catch(d){throw s.runOutsideAngular(()=>r.handleError(d)),d}}(I,g,()=>{const S=y.injector.get(fI);return S.runInitializers(),S.donePromise.then(()=>(Dw(y.injector.get(A1,xd)||xd),this._moduleDoBootstrap(y),y))})})}bootstrapModule(a,d=[]){const g=Ma({},d);return function oD(r,s,a){const d=new q0(a);return Promise.resolve(d)}(0,0,a).then(y=>this.bootstrapModuleFactory(y,g))}_moduleDoBootstrap(a){const d=a.injector.get(Bc);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(g=>d.bootstrap(g));else{if(!a.instance.ngDoBootstrap)throw new Ge(-403,!1);a.instance.ngDoBootstrap(d)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ge(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const a=this._injector.get(U1,null);a&&(a.forEach(d=>d()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(d){return new(d||r)(Fn(fa))};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();function Ma(r,s){return Array.isArray(s)?s.reduce(Ma,r):{...r,...s}}let Bc=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ir(OI),this.zoneIsStable=ir(sy),this.componentTypes=[],this.components=[],this.isStable=ir(N1).hasPendingTasks.pipe((0,Se.w)(a=>a?(0,fe.of)(!1):this.zoneIsStable),(0,et.x)(),re()),this._injector=ir(vl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,d){const g=a instanceof $v;if(!this._injector.get(fI).done)throw!g&&as(a),new Ge(405,!1);let I;I=g?a:this._injector.get(Sp).resolveComponentFactory(a),this.componentTypes.push(I.componentType);const S=function VC(r){return r.isBoundToModule}(I)?void 0:this._injector.get(Sl),z=I.create(fa.NULL,[],d||I.selector,S),ie=z.location.nativeElement,me=z.injector.get(EI,null);return me?.registerApplication(ie),z.onDestroy(()=>{this.detachView(z.hostView),G1(this.components,z),me?.unregisterApplication(ie)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new Ge(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const d=a;this._views.push(d),d.attachToAppRef(this)}detachView(a){const d=a;G1(this._views,d),d.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const d=this._injector.get(SI,[]);d.push(...this._bootstrapListeners),d.forEach(g=>g(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>G1(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Ge(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function G1(r,s){const a=r.indexOf(s);a>-1&&r.splice(a,1)}const OI=new Rn("",{providedIn:"root",factory:()=>ir(Ru).handleError.bind(void 0)});function bS(){const r=ir(zo),s=ir(Ru);return a=>r.runOutsideAngular(()=>s.handleError(a))}let dD=(()=>{class r{constructor(){this.zone=ir(zo),this.applicationRef=ir(Bc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();let hD=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=TS}return r})();function TS(r){return function ES(r,s,a){if(no(r)&&!a){const d=Di(r.index,s);return new Bp(d,d)}return 47&r.type?new Bp(s[zr],s):null}(Xi(),ht(),16==(16&r))}class gD{constructor(){}supports(s){return hc(s)}create(s){return new PI(s)}}const n_=(r,s)=>s;class PI{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||n_}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,d=this._removalsHead,g=0,y=null;for(;a||d;){const I=!d||a&&a.currentIndex<_D(d,g,y)?a:d,S=_D(I,g,y),R=I.currentIndex;if(I===d)g--,d=d._nextRemoved;else if(a=a._next,null==I.previousIndex)g++;else{y||(y=[]);const z=S-g,ie=R-g;if(z!=ie){for(let Me=0;Me<z;Me++){const Le=Me<y.length?y[Me]:y[Me]=0,pt=Le+Me;ie<=pt&&pt<z&&(y[Me]=Le+1)}y[I.previousIndex]=ie-z}}S!==R&&s(I,S,R)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!hc(s))throw new Ge(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let g,y,I,a=this._itHead,d=!1;if(Array.isArray(s)){this.length=s.length;for(let S=0;S<this.length;S++)y=s[S],I=this._trackByFn(S,y),null!==a&&Object.is(a.trackById,I)?(d&&(a=this._verifyReinsertion(a,y,I,S)),Object.is(a.item,y)||this._addIdentityChange(a,y)):(a=this._mismatch(a,y,I,S),d=!0),a=a._next}else g=0,function Gp(r,s){if(Array.isArray(r))for(let a=0;a<r.length;a++)s(r[a]);else{const a=r[Symbol.iterator]();let d;for(;!(d=a.next()).done;)s(d.value)}}(s,S=>{I=this._trackByFn(g,S),null!==a&&Object.is(a.trackById,I)?(d&&(a=this._verifyReinsertion(a,S,I,g)),Object.is(a.item,S)||this._addIdentityChange(a,S)):(a=this._mismatch(a,S,I,g),d=!0),a=a._next,g++}),this.length=g;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,d,g){let y;return null===s?y=this._itTail:(y=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,y,g)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(d,g))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,y,g)):s=this._addAfter(new tv(a,d),y,g),s}_verifyReinsertion(s,a,d,g){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==y?s=this._reinsertAfter(y,s._prev,g):s.currentIndex!=g&&(s.currentIndex=g,this._addToMoves(s,g)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const g=s._prevRemoved,y=s._nextRemoved;return null===g?this._removalsHead=y:g._nextRemoved=y,null===y?this._removalsTail=g:y._prevRemoved=g,this._insertAfter(s,a,d),this._addToMoves(s,d),s}_moveAfter(s,a,d){return this._unlink(s),this._insertAfter(s,a,d),this._addToMoves(s,d),s}_addAfter(s,a,d){return this._insertAfter(s,a,d),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,d){const g=null===a?this._itHead:a._next;return s._next=g,s._prev=a,null===g?this._itTail=s:g._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new z1),this._linkedRecords.put(s),s.currentIndex=d,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,d=s._next;return null===a?this._itHead=d:a._next=d,null===d?this._itTail=a:d._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new z1),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class tv{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mD{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===a||a<=d.currentIndex)&&Object.is(d.trackById,s))return d;return null}remove(s){const a=s._prevDup,d=s._nextDup;return null===a?this._head=d:a._nextDup=d,null===d?this._tail=a:d._prevDup=a,null===this._head}}class z1{constructor(){this.map=new Map}put(s){const a=s.trackById;let d=this.map.get(a);d||(d=new mD,this.map.set(a,d)),d.add(s)}get(s,a){const g=this.map.get(s);return g?g.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _D(r,s,a){const d=r.previousIndex;if(null===d)return d;let g=0;return a&&d<a.length&&(g=a[d]),d+s+g}class yD{constructor(){}supports(s){return s instanceof Map||su(s)}create(){return new ZC}}class ZC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||su(s)))throw new Ge(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(d,g)=>{if(a&&a.key===g)this._maybeAddToChanges(a,d),this._appendAfter=a,a=a._next;else{const y=this._getOrCreateRecordForKey(g,d);a=this._insertBeforeOrAppend(a,y)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let d=a;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const d=s._prev;return a._next=s,a._prev=d,s._prev=a,d&&(d._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const g=this._records.get(s);this._maybeAddToChanges(g,a);const y=g._prev,I=g._next;return y&&(y._next=I),I&&(I._prev=y),g._next=null,g._prev=null,g}const d=new vD(s);return this._records.set(s,d),d.currentValue=a,this._addToAdditions(d),d}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(d=>a(s[d],d))}}class vD{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kI(){return new W1([new gD])}let W1=(()=>{class r{static#e=this.\u0275prov=De({token:r,providedIn:"root",factory:kI});constructor(a){this.factories=a}static create(a,d){if(null!=d){const g=d.factories.slice();a=a.concat(g)}return new r(a)}static extend(a){return{provide:r,useFactory:d=>r.create(a,d||kI()),deps:[[r,new Xf,new yg]]}}find(a){const d=this.factories.find(g=>g.supports(a));if(null!=d)return d;throw new Ge(901,!1)}}return r})();function FI(){return new q1([new yD])}let q1=(()=>{class r{static#e=this.\u0275prov=De({token:r,providedIn:"root",factory:FI});constructor(a){this.factories=a}static create(a,d){if(d){const g=d.factories.slice();a=a.concat(g)}return new r(a)}static extend(a){return{provide:r,useFactory:d=>r.create(a,d||FI()),deps:[[r,new Xf,new yg]]}}find(a){const d=this.factories.find(g=>g.supports(a));if(d)return d;throw new Ge(901,!1)}}return r})();const Z1=AI(null,"core",[]);let bD=(()=>{class r{constructor(a){}static#e=this.\u0275fac=function(d){return new(d||r)(Fn(Bc))};static#t=this.\u0275mod=Qs({type:r});static#n=this.\u0275inj=Re({})}return r})();function TD(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function xS(r,s){const a=pr(r),d=s.elementInjector||Ep();return new On(a).create(d,s.projectableNodes,s.hostElement,s.environmentInjector)}function dg(r){const s=pr(r);if(!s)return null;const a=new On(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},7592:(Gt,$e,K)=>{K.d($e,{C6:()=>xe,Jn:()=>br,KN:()=>yt,Mq:()=>De,Xd:()=>Rt,ZF:()=>kr,qX:()=>jt});var w=K(5861),ae=K(6820),u=K(7879),we=K(229),de=K(1878);class fe{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(Ze=>{if(function Ne(tt){const Ce=tt.getComponent();return"VERSION"===Ce?.type}(Ze)){const It=Ze.getImmediate();return`${It.library}/${It.version}`}return null}).filter(Ze=>Ze).join(" ")}}const He="@firebase/app",re=new u.Yd("@firebase/app"),ke="[DEFAULT]",je={[He]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ye=new Map,Ue=new Map;function nt(tt,Ce){try{tt.container.addComponent(Ce)}catch(Ze){re.debug(`Component ${Ce.name} failed to register with FirebaseApp ${tt.name}`,Ze)}}function Rt(tt){const Ce=tt.name;if(Ue.has(Ce))return re.debug(`There were multiple attempts to register component ${Ce}.`),!1;Ue.set(Ce,tt);for(const Ze of Ye.values())nt(Ze,tt);return!0}function jt(tt,Ce){const Ze=tt.container.getProvider("heartbeat").getImmediate({optional:!0});return Ze&&Ze.triggerHeartbeat(),tt.container.getProvider(Ce)}const Dt=new we.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Yn{constructor(Ce,Ze,It){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},Ze),this._name=Ze.name,this._automaticDataCollectionEnabled=Ze.automaticDataCollectionEnabled,this._container=It,this.container.addComponent(new ae.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw Dt.create("app-deleted",{appName:this._name})}}const br="9.23.0";function kr(tt,Ce={}){let Ze=tt;"object"!=typeof Ce&&(Ce={name:Ce});const It=Object.assign({name:ke,automaticDataCollectionEnabled:!1},Ce),qt=It.name;if("string"!=typeof qt||!qt)throw Dt.create("bad-app-name",{appName:String(qt)});if(Ze||(Ze=(0,we.aH)()),!Ze)throw Dt.create("no-options");const Zt=Ye.get(qt);if(Zt){if((0,we.vZ)(Ze,Zt.options)&&(0,we.vZ)(It,Zt.config))return Zt;throw Dt.create("duplicate-app",{appName:qt})}const zn=new ae.H0(qt);for(const U of Ue.values())zn.addComponent(U);const Y=new Yn(Ze,It,zn);return Ye.set(qt,Y),Y}function De(tt=ke){const Ce=Ye.get(tt);if(!Ce&&tt===ke&&(0,we.aH)())return kr();if(!Ce)throw Dt.create("no-app",{appName:tt});return Ce}function xe(){return Array.from(Ye.values())}function yt(tt,Ce,Ze){var It;let qt=null!==(It=je[tt])&&void 0!==It?It:tt;Ze&&(qt+=`-${Ze}`);const Zt=qt.match(/\s|\//),zn=Ce.match(/\s|\//);if(Zt||zn){const Y=[`Unable to register library "${qt}" with version "${Ce}":`];return Zt&&Y.push(`library name "${qt}" contains illegal characters (whitespace or "/")`),Zt&&zn&&Y.push("and"),zn&&Y.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void re.warn(Y.join(" "))}Rt(new ae.wA(`${qt}-version`,()=>({library:qt,version:Ce}),"VERSION"))}const An="firebase-heartbeat-database",sn=1,Qt="firebase-heartbeat-store";let In=null;function tr(){return In||(In=(0,de.X3)(An,sn,{upgrade:(tt,Ce)=>{0===Ce&&tt.createObjectStore(Qt)}}).catch(tt=>{throw Dt.create("idb-open",{originalErrorMessage:tt.message})})),In}function Sr(){return(Sr=(0,w.Z)(function*(tt){try{return yield(yield tr()).transaction(Qt).objectStore(Qt).get(dr(tt))}catch(Ce){if(Ce instanceof we.ZR)re.warn(Ce.message);else{const Ze=Dt.create("idb-get",{originalErrorMessage:Ce?.message});re.warn(Ze.message)}}})).apply(this,arguments)}function Ir(tt,Ce){return mn.apply(this,arguments)}function mn(){return(mn=(0,w.Z)(function*(tt,Ce){try{const It=(yield tr()).transaction(Qt,"readwrite");yield It.objectStore(Qt).put(Ce,dr(tt)),yield It.done}catch(Ze){if(Ze instanceof we.ZR)re.warn(Ze.message);else{const It=Dt.create("idb-set",{originalErrorMessage:Ze?.message});re.warn(It.message)}}})).apply(this,arguments)}function dr(tt){return`${tt.name}!${tt.options.appId}`}class Zn{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const Ze=this.container.getProvider("app").getImmediate();this._storage=new nr(Ze),this._heartbeatsCachePromise=this._storage.read().then(It=>(this._heartbeatsCache=It,It))}triggerHeartbeat(){var Ce=this;return(0,w.Z)(function*(){const It=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),qt=di();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==qt&&!Ce._heartbeatsCache.heartbeats.some(Zt=>Zt.date===qt))return Ce._heartbeatsCache.heartbeats.push({date:qt,agent:It}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(Zt=>{const zn=new Date(Zt.date).valueOf();return Date.now()-zn<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,w.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const Ze=di(),{heartbeatsToSend:It,unsentEntries:qt}=function Rn(tt,Ce=1024){const Ze=[];let It=tt.slice();for(const qt of tt){const Zt=Ze.find(zn=>zn.agent===qt.agent);if(Zt){if(Zt.dates.push(qt.date),Or(Ze)>Ce){Zt.dates.pop();break}}else if(Ze.push({agent:qt.agent,dates:[qt.date]}),Or(Ze)>Ce){Ze.pop();break}It=It.slice(1)}return{heartbeatsToSend:Ze,unsentEntries:It}}(Ce._heartbeatsCache.heartbeats),Zt=(0,we.L)(JSON.stringify({version:2,heartbeats:It}));return Ce._heartbeatsCache.lastSentHeartbeatDate=Ze,qt.length>0?(Ce._heartbeatsCache.heartbeats=qt,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),Zt})()}}function di(){return(new Date).toISOString().substring(0,10)}class nr{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.Z)(function*(){return!!(0,we.hl)()&&(0,we.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,w.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function Xt(tt){return Sr.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var Ze=this;return(0,w.Z)(function*(){var It;if(yield Ze._canUseIndexedDBPromise){const Zt=yield Ze.read();return Ir(Ze.app,{lastSentHeartbeatDate:null!==(It=Ce.lastSentHeartbeatDate)&&void 0!==It?It:Zt.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var Ze=this;return(0,w.Z)(function*(){var It;if(yield Ze._canUseIndexedDBPromise){const Zt=yield Ze.read();return Ir(Ze.app,{lastSentHeartbeatDate:null!==(It=Ce.lastSentHeartbeatDate)&&void 0!==It?It:Zt.lastSentHeartbeatDate,heartbeats:[...Zt.heartbeats,...Ce.heartbeats]})}})()}}function Or(tt){return(0,we.L)(JSON.stringify({version:2,heartbeats:tt})).length}!function hi(tt){Rt(new ae.wA("platform-logger",Ce=>new fe(Ce),"PRIVATE")),Rt(new ae.wA("heartbeat",Ce=>new Zn(Ce),"PRIVATE")),yt(He,"0.9.13",tt),yt(He,"0.9.13","esm2017"),yt("fire-js","")}("")},6820:(Gt,$e,K)=>{K.d($e,{H0:()=>He,wA:()=>u});var w=K(5861),ae=K(229);class u{constructor(re,le,Se){this.name=re,this.instanceFactory=le,this.type=Se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const we="[DEFAULT]";class de{constructor(re,le){this.name=re,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const le=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(le)){const Se=new ae.BH;if(this.instancesDeferred.set(le,Se),this.isInitialized(le)||this.shouldAutoInitialize())try{const et=this.getOrInitializeService({instanceIdentifier:le});et&&Se.resolve(et)}catch{}}return this.instancesDeferred.get(le).promise}getImmediate(re){var le;const Se=this.normalizeInstanceIdentifier(re?.identifier),et=null!==(le=re?.optional)&&void 0!==le&&le;if(!this.isInitialized(Se)&&!this.shouldAutoInitialize()){if(et)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Se})}catch(Pe){if(et)return null;throw Pe}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function Ne(Ee){return"EAGER"===Ee.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:we})}catch{}for(const[le,Se]of this.instancesDeferred.entries()){const et=this.normalizeInstanceIdentifier(le);try{const Pe=this.getOrInitializeService({instanceIdentifier:et});Se.resolve(Pe)}catch{}}}}clearInstance(re=we){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,w.Z)(function*(){const le=Array.from(re.instances.values());yield Promise.all([...le.filter(Se=>"INTERNAL"in Se).map(Se=>Se.INTERNAL.delete()),...le.filter(Se=>"_delete"in Se).map(Se=>Se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=we){return this.instances.has(re)}getOptions(re=we){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:le={}}=re,Se=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(Se))throw Error(`${this.name}(${Se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const et=this.getOrInitializeService({instanceIdentifier:Se,options:le});for(const[Pe,it]of this.instancesDeferred.entries())Se===this.normalizeInstanceIdentifier(Pe)&&it.resolve(et);return et}onInit(re,le){var Se;const et=this.normalizeInstanceIdentifier(le),Pe=null!==(Se=this.onInitCallbacks.get(et))&&void 0!==Se?Se:new Set;Pe.add(re),this.onInitCallbacks.set(et,Pe);const it=this.instances.get(et);return it&&re(it,et),()=>{Pe.delete(re)}}invokeOnInitCallbacks(re,le){const Se=this.onInitCallbacks.get(le);if(Se)for(const et of Se)try{et(re,le)}catch{}}getOrInitializeService({instanceIdentifier:re,options:le={}}){let Se=this.instances.get(re);if(!Se&&this.component&&(Se=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=re,Ee===we?void 0:Ee),options:le}),this.instances.set(re,Se),this.instancesOptions.set(re,le),this.invokeOnInitCallbacks(Se,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,Se)}catch{}var Ee;return Se||null}normalizeInstanceIdentifier(re=we){return this.component?this.component.multipleInstances?re:we:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class He{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const le=this.getProvider(re.name);if(le.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);le.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const le=new de(re,this);return this.providers.set(re,le),le}getProviders(){return Array.from(this.providers.values())}}},4097:(Gt,$e,K)=>{K.d($e,{C6:()=>w.C6,KN:()=>w.KN,Mq:()=>w.Mq,ZF:()=>w.ZF});var w=K(7592);(0,w.KN)("firebase","9.23.0","app")},95:(Gt,$e,K)=>{K.d($e,{Fj:()=>mt,CE:()=>Lt,qu:()=>Ro,NI:()=>pi,u:()=>Hr,cw:()=>tn,sg:()=>Ii,x0:()=>lo,u5:()=>ia,wO:()=>Vr,Cf:()=>_t,JU:()=>it,JJ:()=>Qt,JL:()=>In,YN:()=>ri,wV:()=>Qs,UX:()=>sl,Q7:()=>qn,EJ:()=>Mr,kI:()=>Ke,_Y:()=>ta,Kr:()=>zr});var w=K(9468),ae=K(6814),u=K(2459),we=K(5592),de=K(7453),fe=K(4829),Ne=K(9940),He=K(8251),Ee=K(7400),re=K(2714),Se=K(7398);let et=(()=>{class q{constructor(B,oe){this._renderer=B,this._elementRef=oe,this.onChange=Ie=>{},this.onTouched=()=>{}}setProperty(B,oe){this._renderer.setProperty(this._elementRef.nativeElement,B,oe)}registerOnTouched(B){this.onTouched=B}registerOnChange(B){this.onChange=B}setDisabledState(B){this.setProperty("disabled",B)}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(w.Qsj),w.Y36(w.SBq))};static#t=this.\u0275dir=w.lG2({type:q})}return q})(),Pe=(()=>{class q extends et{static#e=this.\u0275fac=function(){let B;return function(Ie){return(B||(B=w.n5z(q)))(Ie||q)}}();static#t=this.\u0275dir=w.lG2({type:q,features:[w.qOj]})}return q})();const it=new w.OlP("NgValueAccessor"),Ft={provide:it,useExisting:(0,w.Gpc)(()=>mt),multi:!0},xt=new w.OlP("CompositionEventMode");let mt=(()=>{class q extends et{constructor(B,oe,Ie){super(B,oe),this._compositionMode=Ie,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function xn(){const q=(0,ae.q)()?(0,ae.q)().getUserAgent():"";return/android (\d+)/.test(q.toLowerCase())}())}writeValue(B){this.setProperty("value",B??"")}_handleInput(B){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(B)}_compositionStart(){this._composing=!0}_compositionEnd(B){this._composing=!1,this._compositionMode&&this.onChange(B)}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(xt,8))};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(oe,Ie){1&oe&&w.NdJ("input",function(Bn){return Ie._handleInput(Bn.target.value)})("blur",function(){return Ie.onTouched()})("compositionstart",function(){return Ie._compositionStart()})("compositionend",function(Bn){return Ie._compositionEnd(Bn.target.value)})},features:[w._Bn([Ft]),w.qOj]})}return q})();function ot(q){return null==q||("string"==typeof q||Array.isArray(q))&&0===q.length}function vt(q){return null!=q&&"number"==typeof q.length}const _t=new w.OlP("NgValidators"),Ge=new w.OlP("NgAsyncValidators"),ve=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ke{static min(ee){return function gt(q){return ee=>{if(ot(ee.value)||ot(q))return null;const B=parseFloat(ee.value);return!isNaN(B)&&B<q?{min:{min:q,actual:ee.value}}:null}}(ee)}static max(ee){return function Vn(q){return ee=>{if(ot(ee.value)||ot(q))return null;const B=parseFloat(ee.value);return!isNaN(B)&&B>q?{max:{max:q,actual:ee.value}}:null}}(ee)}static required(ee){return dt(ee)}static requiredTrue(ee){return function dn(q){return!0===q.value?null:{required:!0}}(ee)}static email(ee){return function Dn(q){return ot(q.value)||ve.test(q.value)?null:{email:!0}}(ee)}static minLength(ee){return $n(ee)}static maxLength(ee){return function ar(q){return ee=>vt(ee.value)&&ee.value.length>q?{maxlength:{requiredLength:q,actualLength:ee.value.length}}:null}(ee)}static pattern(ee){return function vr(q){if(!q)return ke;let ee,B;return"string"==typeof q?(B="","^"!==q.charAt(0)&&(B+="^"),B+=q,"$"!==q.charAt(q.length-1)&&(B+="$"),ee=new RegExp(B)):(B=q.toString(),ee=q),oe=>{if(ot(oe.value))return null;const Ie=oe.value;return ee.test(Ie)?null:{pattern:{requiredPattern:B,actualValue:Ie}}}}(ee)}static nullValidator(ee){return null}static compose(ee){return jt(ee)}static composeAsync(ee){return bn(ee)}}function dt(q){return ot(q.value)?{required:!0}:null}function $n(q){return ee=>ot(ee.value)||!vt(ee.value)?null:ee.value.length<q?{minlength:{requiredLength:q,actualLength:ee.value.length}}:null}function ke(q){return null}function je(q){return null!=q}function Ye(q){return(0,w.QGY)(q)?(0,u.D)(q):q}function Ue(q){let ee={};return q.forEach(B=>{ee=null!=B?{...ee,...B}:ee}),0===Object.keys(ee).length?null:ee}function nt(q,ee){return ee.map(B=>B(q))}function Rt(q){return q.map(ee=>function bt(q){return!q.validate}(ee)?ee:B=>ee.validate(B))}function jt(q){if(!q)return null;const ee=q.filter(je);return 0==ee.length?null:function(B){return Ue(nt(B,ee))}}function hn(q){return null!=q?jt(Rt(q)):null}function bn(q){if(!q)return null;const ee=q.filter(je);return 0==ee.length?null:function(B){return function le(...q){const ee=(0,Ne.jO)(q),{args:B,keys:oe}=(0,de.D)(q),Ie=new we.y(Yt=>{const{length:Bn}=B;if(!Bn)return void Yt.complete();const Yi=new Array(Bn);let Es=Bn,Qi=Bn;for(let Li=0;Li<Bn;Li++){let bc=!1;(0,fe.Xf)(B[Li]).subscribe((0,He.x)(Yt,sa=>{bc||(bc=!0,Qi--),Yi[Li]=sa},()=>Es--,void 0,()=>{(!Es||!bc)&&(Qi||Yt.next(oe?(0,re.n)(oe,Yi):Yi),Yt.complete())}))}});return ee?Ie.pipe((0,Ee.Z)(ee)):Ie}(nt(B,ee).map(Ye)).pipe((0,Se.U)(Ue))}}function cn(q){return null!=q?bn(Rt(q)):null}function Dt(q,ee){return null===q?[ee]:Array.isArray(q)?[...q,ee]:[q,ee]}function Yn(q){return q._rawValidators}function br(q){return q._rawAsyncValidators}function kr(q){return q?Array.isArray(q)?q:[q]:[]}function De(q,ee){return Array.isArray(q)?q.includes(ee):q===ee}function xe(q,ee){const B=kr(ee);return kr(q).forEach(Ie=>{De(B,Ie)||B.push(Ie)}),B}function Re(q,ee){return kr(ee).filter(B=>!De(q,B))}class at{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ee){this._rawValidators=ee||[],this._composedValidatorFn=hn(this._rawValidators)}_setAsyncValidators(ee){this._rawAsyncValidators=ee||[],this._composedAsyncValidatorFn=cn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ee){this._onDestroyCallbacks.push(ee)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ee=>ee()),this._onDestroyCallbacks=[]}reset(ee=void 0){this.control&&this.control.reset(ee)}hasError(ee,B){return!!this.control&&this.control.hasError(ee,B)}getError(ee,B){return this.control?this.control.getError(ee,B):null}}class yt extends at{get formDirective(){return null}get path(){return null}}class St extends at{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class wr{constructor(ee){this._cd=ee}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Qt=(()=>{class q extends wr{constructor(B){super(B)}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(St,2))};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(oe,Ie){2&oe&&w.ekj("ng-untouched",Ie.isUntouched)("ng-touched",Ie.isTouched)("ng-pristine",Ie.isPristine)("ng-dirty",Ie.isDirty)("ng-valid",Ie.isValid)("ng-invalid",Ie.isInvalid)("ng-pending",Ie.isPending)},features:[w.qOj]})}return q})(),In=(()=>{class q extends wr{constructor(B){super(B)}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(yt,10))};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(oe,Ie){2&oe&&w.ekj("ng-untouched",Ie.isUntouched)("ng-touched",Ie.isTouched)("ng-pristine",Ie.isPristine)("ng-dirty",Ie.isDirty)("ng-valid",Ie.isValid)("ng-invalid",Ie.isInvalid)("ng-pending",Ie.isPending)("ng-submitted",Ie.isSubmitted)},features:[w.qOj]})}return q})();const It="VALID",qt="INVALID",Zt="PENDING",zn="DISABLED";function Y(q){return($(q)?q.validators:q)||null}function G(q,ee){return($(ee)?ee.asyncValidators:q)||null}function $(q){return null!=q&&!Array.isArray(q)&&"object"==typeof q}function be(q,ee,B){const oe=q.controls;if(!(ee?Object.keys(oe):oe).length)throw new w.vHH(1e3,"");if(!oe[B])throw new w.vHH(1001,"")}function We(q,ee,B){q._forEachChild((oe,Ie)=>{if(void 0===B[Ie])throw new w.vHH(1002,"")})}class Tt{constructor(ee,B){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(ee),this._assignAsyncValidators(B)}get validator(){return this._composedValidatorFn}set validator(ee){this._rawValidators=this._composedValidatorFn=ee}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ee){this._rawAsyncValidators=this._composedAsyncValidatorFn=ee}get parent(){return this._parent}get valid(){return this.status===It}get invalid(){return this.status===qt}get pending(){return this.status==Zt}get disabled(){return this.status===zn}get enabled(){return this.status!==zn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ee){this._assignValidators(ee)}setAsyncValidators(ee){this._assignAsyncValidators(ee)}addValidators(ee){this.setValidators(xe(ee,this._rawValidators))}addAsyncValidators(ee){this.setAsyncValidators(xe(ee,this._rawAsyncValidators))}removeValidators(ee){this.setValidators(Re(ee,this._rawValidators))}removeAsyncValidators(ee){this.setAsyncValidators(Re(ee,this._rawAsyncValidators))}hasValidator(ee){return De(this._rawValidators,ee)}hasAsyncValidator(ee){return De(this._rawAsyncValidators,ee)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ee={}){this.touched=!0,this._parent&&!ee.onlySelf&&this._parent.markAsTouched(ee)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(ee=>ee.markAllAsTouched())}markAsUntouched(ee={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(B=>{B.markAsUntouched({onlySelf:!0})}),this._parent&&!ee.onlySelf&&this._parent._updateTouched(ee)}markAsDirty(ee={}){this.pristine=!1,this._parent&&!ee.onlySelf&&this._parent.markAsDirty(ee)}markAsPristine(ee={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(B=>{B.markAsPristine({onlySelf:!0})}),this._parent&&!ee.onlySelf&&this._parent._updatePristine(ee)}markAsPending(ee={}){this.status=Zt,!1!==ee.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!ee.onlySelf&&this._parent.markAsPending(ee)}disable(ee={}){const B=this._parentMarkedDirty(ee.onlySelf);this.status=zn,this.errors=null,this._forEachChild(oe=>{oe.disable({...ee,onlySelf:!0})}),this._updateValue(),!1!==ee.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ee,skipPristineCheck:B}),this._onDisabledChange.forEach(oe=>oe(!0))}enable(ee={}){const B=this._parentMarkedDirty(ee.onlySelf);this.status=It,this._forEachChild(oe=>{oe.enable({...ee,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ee.emitEvent}),this._updateAncestors({...ee,skipPristineCheck:B}),this._onDisabledChange.forEach(oe=>oe(!1))}_updateAncestors(ee){this._parent&&!ee.onlySelf&&(this._parent.updateValueAndValidity(ee),ee.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(ee){this._parent=ee}getRawValue(){return this.value}updateValueAndValidity(ee={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===It||this.status===Zt)&&this._runAsyncValidator(ee.emitEvent)),!1!==ee.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ee.onlySelf&&this._parent.updateValueAndValidity(ee)}_updateTreeValidity(ee={emitEvent:!0}){this._forEachChild(B=>B._updateTreeValidity(ee)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ee.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zn:It}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ee){if(this.asyncValidator){this.status=Zt,this._hasOwnPendingAsyncValidator=!0;const B=Ye(this.asyncValidator(this));this._asyncValidationSubscription=B.subscribe(oe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(oe,{emitEvent:ee})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(ee,B={}){this.errors=ee,this._updateControlsErrors(!1!==B.emitEvent)}get(ee){let B=ee;return null==B||(Array.isArray(B)||(B=B.split(".")),0===B.length)?null:B.reduce((oe,Ie)=>oe&&oe._find(Ie),this)}getError(ee,B){const oe=B?this.get(B):this;return oe&&oe.errors?oe.errors[ee]:null}hasError(ee,B){return!!this.getError(ee,B)}get root(){let ee=this;for(;ee._parent;)ee=ee._parent;return ee}_updateControlsErrors(ee){this.status=this._calculateStatus(),ee&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(ee)}_initObservables(){this.valueChanges=new w.vpe,this.statusChanges=new w.vpe}_calculateStatus(){return this._allControlsDisabled()?zn:this.errors?qt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zt)?Zt:this._anyControlsHaveStatus(qt)?qt:It}_anyControlsHaveStatus(ee){return this._anyControls(B=>B.status===ee)}_anyControlsDirty(){return this._anyControls(ee=>ee.dirty)}_anyControlsTouched(){return this._anyControls(ee=>ee.touched)}_updatePristine(ee={}){this.pristine=!this._anyControlsDirty(),this._parent&&!ee.onlySelf&&this._parent._updatePristine(ee)}_updateTouched(ee={}){this.touched=this._anyControlsTouched(),this._parent&&!ee.onlySelf&&this._parent._updateTouched(ee)}_registerOnCollectionChange(ee){this._onCollectionChange=ee}_setUpdateStrategy(ee){$(ee)&&null!=ee.updateOn&&(this._updateOn=ee.updateOn)}_parentMarkedDirty(ee){return!ee&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ee){return null}_assignValidators(ee){this._rawValidators=Array.isArray(ee)?ee.slice():ee,this._composedValidatorFn=function U(q){return Array.isArray(q)?hn(q):q||null}(this._rawValidators)}_assignAsyncValidators(ee){this._rawAsyncValidators=Array.isArray(ee)?ee.slice():ee,this._composedAsyncValidatorFn=function W(q){return Array.isArray(q)?cn(q):q||null}(this._rawAsyncValidators)}}class tn extends Tt{constructor(ee,B,oe){super(Y(B),G(oe,B)),this.controls=ee,this._initObservables(),this._setUpdateStrategy(B),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(ee,B){return this.controls[ee]?this.controls[ee]:(this.controls[ee]=B,B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange),B)}addControl(ee,B,oe={}){this.registerControl(ee,B),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}removeControl(ee,B={}){this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),delete this.controls[ee],this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}setControl(ee,B,oe={}){this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),delete this.controls[ee],B&&this.registerControl(ee,B),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}contains(ee){return this.controls.hasOwnProperty(ee)&&this.controls[ee].enabled}setValue(ee,B={}){We(this,0,ee),Object.keys(ee).forEach(oe=>{be(this,!0,oe),this.controls[oe].setValue(ee[oe],{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B)}patchValue(ee,B={}){null!=ee&&(Object.keys(ee).forEach(oe=>{const Ie=this.controls[oe];Ie&&Ie.patchValue(ee[oe],{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B))}reset(ee={},B={}){this._forEachChild((oe,Ie)=>{oe.reset(ee?ee[Ie]:null,{onlySelf:!0,emitEvent:B.emitEvent})}),this._updatePristine(B),this._updateTouched(B),this.updateValueAndValidity(B)}getRawValue(){return this._reduceChildren({},(ee,B,oe)=>(ee[oe]=B.getRawValue(),ee))}_syncPendingControls(){let ee=this._reduceChildren(!1,(B,oe)=>!!oe._syncPendingControls()||B);return ee&&this.updateValueAndValidity({onlySelf:!0}),ee}_forEachChild(ee){Object.keys(this.controls).forEach(B=>{const oe=this.controls[B];oe&&ee(oe,B)})}_setUpControls(){this._forEachChild(ee=>{ee.setParent(this),ee._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ee){for(const[B,oe]of Object.entries(this.controls))if(this.contains(B)&&ee(oe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(B,oe,Ie)=>((oe.enabled||this.disabled)&&(B[Ie]=oe.value),B))}_reduceChildren(ee,B){let oe=ee;return this._forEachChild((Ie,Yt)=>{oe=B(oe,Ie,Yt)}),oe}_allControlsDisabled(){for(const ee of Object.keys(this.controls))if(this.controls[ee].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ee){return this.controls.hasOwnProperty(ee)?this.controls[ee]:null}}class Kt extends tn{}const qr=new w.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ir}),ir="always";function ss(q,ee){return[...ee.path,q]}function Co(q,ee,B=ir){_c(q,ee),ee.valueAccessor.writeValue(q.value),(q.disabled||"always"===B)&&ee.valueAccessor.setDisabledState?.(q.disabled),function _a(q,ee){ee.valueAccessor.registerOnChange(B=>{q._pendingValue=B,q._pendingChange=!0,q._pendingDirty=!0,"change"===q.updateOn&&Si(q,ee)})}(q,ee),function sr(q,ee){const B=(oe,Ie)=>{ee.valueAccessor.writeValue(oe),Ie&&ee.viewToModelUpdate(oe)};q.registerOnChange(B),ee._registerOnDestroy(()=>{q._unregisterOnChange(B)})}(q,ee),function vs(q,ee){ee.valueAccessor.registerOnTouched(()=>{q._pendingTouched=!0,"blur"===q.updateOn&&q._pendingChange&&Si(q,ee),"submit"!==q.updateOn&&q.markAsTouched()})}(q,ee),function xa(q,ee){if(ee.valueAccessor.setDisabledState){const B=oe=>{ee.valueAccessor.setDisabledState(oe)};q.registerOnDisabledChange(B),ee._registerOnDestroy(()=>{q._unregisterOnDisabledChange(B)})}}(q,ee)}function ys(q,ee,B=!0){const oe=()=>{};ee.valueAccessor&&(ee.valueAccessor.registerOnChange(oe),ee.valueAccessor.registerOnTouched(oe)),ti(q,ee),q&&(ee._invokeOnDestroyCallbacks(),q._registerOnCollectionChange(()=>{}))}function Qo(q,ee){q.forEach(B=>{B.registerOnValidatorChange&&B.registerOnValidatorChange(ee)})}function _c(q,ee){const B=Yn(q);null!==ee.validator?q.setValidators(Dt(B,ee.validator)):"function"==typeof B&&q.setValidators([B]);const oe=br(q);null!==ee.asyncValidator?q.setAsyncValidators(Dt(oe,ee.asyncValidator)):"function"==typeof oe&&q.setAsyncValidators([oe]);const Ie=()=>q.updateValueAndValidity();Qo(ee._rawValidators,Ie),Qo(ee._rawAsyncValidators,Ie)}function ti(q,ee){let B=!1;if(null!==q){if(null!==ee.validator){const Ie=Yn(q);if(Array.isArray(Ie)&&Ie.length>0){const Yt=Ie.filter(Bn=>Bn!==ee.validator);Yt.length!==Ie.length&&(B=!0,q.setValidators(Yt))}}if(null!==ee.asyncValidator){const Ie=br(q);if(Array.isArray(Ie)&&Ie.length>0){const Yt=Ie.filter(Bn=>Bn!==ee.asyncValidator);Yt.length!==Ie.length&&(B=!0,q.setAsyncValidators(Yt))}}}const oe=()=>{};return Qo(ee._rawValidators,oe),Qo(ee._rawAsyncValidators,oe),B}function Si(q,ee){q._pendingDirty&&q.markAsDirty(),q.setValue(q._pendingValue,{emitModelToViewChange:!1}),ee.viewToModelUpdate(q._pendingValue),q._pendingChange=!1}function Pa(q,ee){const B=q.indexOf(ee);B>-1&&q.splice(B,1)}function Ls(q){return"object"==typeof q&&null!==q&&2===Object.keys(q).length&&"value"in q&&"disabled"in q}const pi=class extends Tt{constructor(ee=null,B,oe){super(Y(B),G(oe,B)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ee),this._setUpdateStrategy(B),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$(B)&&(B.nonNullable||B.initialValueIsDefault)&&(this.defaultValue=Ls(ee)?ee.value:ee)}setValue(ee,B={}){this.value=this._pendingValue=ee,this._onChange.length&&!1!==B.emitModelToViewChange&&this._onChange.forEach(oe=>oe(this.value,!1!==B.emitViewToModelChange)),this.updateValueAndValidity(B)}patchValue(ee,B={}){this.setValue(ee,B)}reset(ee=this.defaultValue,B={}){this._applyFormState(ee),this.markAsPristine(B),this.markAsUntouched(B),this.setValue(this.value,B),this._pendingChange=!1}_updateValue(){}_anyControls(ee){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ee){this._onChange.push(ee)}_unregisterOnChange(ee){Pa(this._onChange,ee)}registerOnDisabledChange(ee){this._onDisabledChange.push(ee)}_unregisterOnDisabledChange(ee){Pa(this._onDisabledChange,ee)}_forEachChild(ee){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ee){Ls(ee)?(this.value=this._pendingValue=ee.value,ee.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ee}};let Hi=(()=>{class q extends yt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ss(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let B;return function(Ie){return(B||(B=w.n5z(q)))(Ie||q)}}();static#t=this.\u0275dir=w.lG2({type:q,features:[w.qOj]})}return q})(),ta=(()=>{class q{static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return q})();const Ni={provide:it,useExisting:(0,w.Gpc)(()=>Qs),multi:!0};let Qs=(()=>{class q extends Pe{writeValue(B){this.setProperty("value",B??"")}registerOnChange(B){this.onChange=oe=>{B(""==oe?null:parseFloat(oe))}}static#e=this.\u0275fac=function(){let B;return function(Ie){return(B||(B=w.n5z(q)))(Ie||q)}}();static#t=this.\u0275dir=w.lG2({type:q,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(oe,Ie){1&oe&&w.NdJ("input",function(Bn){return Ie.onChange(Bn.target.value)})("blur",function(){return Ie.onTouched()})},features:[w._Bn([Ni]),w.qOj]})}return q})(),Ao=(()=>{class q{static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275mod=w.oAB({type:q});static#n=this.\u0275inj=w.cJS({})}return q})();const as=new w.OlP("NgModelWithFormControlWarning"),Js={provide:yt,useExisting:(0,w.Gpc)(()=>Ii)};let Ii=(()=>{class q extends yt{constructor(B,oe,Ie){super(),this.callSetDisabledState=Ie,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new w.vpe,this._setValidators(B),this._setAsyncValidators(oe)}ngOnChanges(B){this._checkFormPresent(),B.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ti(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(B){const oe=this.form.get(B.path);return Co(oe,B,this.callSetDisabledState),oe.updateValueAndValidity({emitEvent:!1}),this.directives.push(B),oe}getControl(B){return this.form.get(B.path)}removeControl(B){ys(B.control||null,B,!1),function Xa(q,ee){const B=q.indexOf(ee);B>-1&&q.splice(B,1)}(this.directives,B)}addFormGroup(B){this._setUpFormContainer(B)}removeFormGroup(B){this._cleanUpFormContainer(B)}getFormGroup(B){return this.form.get(B.path)}addFormArray(B){this._setUpFormContainer(B)}removeFormArray(B){this._cleanUpFormContainer(B)}getFormArray(B){return this.form.get(B.path)}updateModel(B,oe){this.form.get(B.path).setValue(oe)}onSubmit(B){return this.submitted=!0,function Ja(q,ee){q._syncPendingControls(),ee.forEach(B=>{const oe=B.control;"submit"===oe.updateOn&&oe._pendingChange&&(B.viewToModelUpdate(oe._pendingValue),oe._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(B),"dialog"===B?.target?.method}onReset(){this.resetForm()}resetForm(B=void 0){this.form.reset(B),this.submitted=!1}_updateDomValue(){this.directives.forEach(B=>{const oe=B.control,Ie=this.form.get(B.path);oe!==Ie&&(ys(oe||null,B),(q=>q instanceof pi)(Ie)&&(Co(Ie,B,this.callSetDisabledState),B.control=Ie))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(B){const oe=this.form.get(B.path);(function bs(q,ee){_c(q,ee)})(oe,B),oe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(B){if(this.form){const oe=this.form.get(B.path);oe&&function co(q,ee){return ti(q,ee)}(oe,B)&&oe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_c(this.form,this),this._oldForm&&ti(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(_t,10),w.Y36(Ge,10),w.Y36(qr,8))};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["","formGroup",""]],hostBindings:function(oe,Ie){1&oe&&w.NdJ("submit",function(Bn){return Ie.onSubmit(Bn)})("reset",function(){return Ie.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[w._Bn([Js]),w.qOj,w.TTD]})}return q})();const tc={provide:yt,useExisting:(0,w.Gpc)(()=>lo)};let lo=(()=>{class q extends Hi{constructor(B,oe,Ie){super(),this.name=null,this._parent=B,this._setValidators(oe),this._setAsyncValidators(Ie)}_checkParentType(){Wn(this._parent)}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(yt,13),w.Y36(_t,10),w.Y36(Ge,10))};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[w._Bn([tc]),w.qOj]})}return q})();const cr={provide:yt,useExisting:(0,w.Gpc)(()=>Lt)};let Lt=(()=>{class q extends yt{constructor(B,oe,Ie){super(),this.name=null,this._parent=B,this._setValidators(oe),this._setAsyncValidators(Ie)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ss(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Wn(this._parent)}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(yt,13),w.Y36(_t,10),w.Y36(Ge,10))};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[w._Bn([cr]),w.qOj]})}return q})();function Wn(q){return!(q instanceof lo||q instanceof Ii||q instanceof Lt)}const Pn={provide:St,useExisting:(0,w.Gpc)(()=>Hr)};let Hr=(()=>{class q extends St{set isDisabled(B){}static#e=this._ngModelWarningSentOnce=!1;constructor(B,oe,Ie,Yt,Bn){super(),this._ngModelWarningConfig=Bn,this._added=!1,this.name=null,this.update=new w.vpe,this._ngModelWarningSent=!1,this._parent=B,this._setValidators(oe),this._setAsyncValidators(Ie),this.valueAccessor=function os(q,ee){if(!ee)return null;let B,oe,Ie;return Array.isArray(ee),ee.forEach(Yt=>{Yt.constructor===mt?B=Yt:function Vi(q){return Object.getPrototypeOf(q.constructor)===Pe}(Yt)?oe=Yt:Ie=Yt}),Ie||oe||B||null}(0,Yt)}ngOnChanges(B){this._added||this._setUpControl(),function Ks(q,ee){if(!q.hasOwnProperty("model"))return!1;const B=q.model;return!!B.isFirstChange()||!Object.is(ee,B.currentValue)}(B,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(B){this.viewModel=B,this.update.emit(B)}get path(){return ss(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(yt,13),w.Y36(_t,10),w.Y36(Ge,10),w.Y36(it,10),w.Y36(as,8))};static#n=this.\u0275dir=w.lG2({type:q,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[w._Bn([Pn]),w.qOj,w.TTD]})}return q})();const vi={provide:it,useExisting:(0,w.Gpc)(()=>Mr),multi:!0};function Kr(q,ee){return null==q?`${ee}`:(ee&&"object"==typeof ee&&(ee="Object"),`${q}: ${ee}`.slice(0,50))}let Mr=(()=>{class q extends Pe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(B){this._compareWith=B}writeValue(B){this.value=B;const Ie=Kr(this._getOptionId(B),B);this.setProperty("value",Ie)}registerOnChange(B){this.onChange=oe=>{this.value=this._getOptionValue(oe),B(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(B){for(const oe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(oe),B))return oe;return null}_getOptionValue(B){const oe=function Mi(q){return q.split(":")[0]}(B);return this._optionMap.has(oe)?this._optionMap.get(oe):B}static#e=this.\u0275fac=function(){let B;return function(Ie){return(B||(B=w.n5z(q)))(Ie||q)}}();static#t=this.\u0275dir=w.lG2({type:q,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(oe,Ie){1&oe&&w.NdJ("change",function(Bn){return Ie.onChange(Bn.target.value)})("blur",function(){return Ie.onTouched()})},inputs:{compareWith:"compareWith"},features:[w._Bn([vi]),w.qOj]})}return q})(),ri=(()=>{class q{constructor(B,oe,Ie){this._element=B,this._renderer=oe,this._select=Ie,this._select&&(this.id=this._select._registerOption())}set ngValue(B){null!=this._select&&(this._select._optionMap.set(this.id,B),this._setElementValue(Kr(this.id,B)),this._select.writeValue(this._select.value))}set value(B){this._setElementValue(B),this._select&&this._select.writeValue(this._select.value)}_setElementValue(B){this._renderer.setProperty(this._element.nativeElement,"value",B)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(w.SBq),w.Y36(w.Qsj),w.Y36(Mr,9))};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return q})();const cs={provide:it,useExisting:(0,w.Gpc)(()=>Is),multi:!0};function Ln(q,ee){return null==q?`${ee}`:("string"==typeof ee&&(ee=`'${ee}'`),ee&&"object"==typeof ee&&(ee="Object"),`${q}: ${ee}`.slice(0,50))}let Is=(()=>{class q extends Pe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(B){this._compareWith=B}writeValue(B){let oe;if(this.value=B,Array.isArray(B)){const Ie=B.map(Yt=>this._getOptionId(Yt));oe=(Yt,Bn)=>{Yt._setSelected(Ie.indexOf(Bn.toString())>-1)}}else oe=(Ie,Yt)=>{Ie._setSelected(!1)};this._optionMap.forEach(oe)}registerOnChange(B){this.onChange=oe=>{const Ie=[],Yt=oe.selectedOptions;if(void 0!==Yt){const Bn=Yt;for(let Yi=0;Yi<Bn.length;Yi++){const Qi=this._getOptionValue(Bn[Yi].value);Ie.push(Qi)}}else{const Bn=oe.options;for(let Yi=0;Yi<Bn.length;Yi++){const Es=Bn[Yi];if(Es.selected){const Qi=this._getOptionValue(Es.value);Ie.push(Qi)}}}this.value=Ie,B(Ie)}}_registerOption(B){const oe=(this._idCounter++).toString();return this._optionMap.set(oe,B),oe}_getOptionId(B){for(const oe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(oe)._value,B))return oe;return null}_getOptionValue(B){const oe=function uo(q){return q.split(":")[0]}(B);return this._optionMap.has(oe)?this._optionMap.get(oe)._value:B}static#e=this.\u0275fac=function(){let B;return function(Ie){return(B||(B=w.n5z(q)))(Ie||q)}}();static#t=this.\u0275dir=w.lG2({type:q,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(oe,Ie){1&oe&&w.NdJ("change",function(Bn){return Ie.onChange(Bn.target)})("blur",function(){return Ie.onTouched()})},inputs:{compareWith:"compareWith"},features:[w._Bn([cs]),w.qOj]})}return q})(),zr=(()=>{class q{constructor(B,oe,Ie){this._element=B,this._renderer=oe,this._select=Ie,this._select&&(this.id=this._select._registerOption(this))}set ngValue(B){null!=this._select&&(this._value=B,this._setElementValue(Ln(this.id,B)),this._select.writeValue(this._select.value))}set value(B){this._select?(this._value=B,this._setElementValue(Ln(this.id,B)),this._select.writeValue(this._select.value)):this._setElementValue(B)}_setElementValue(B){this._renderer.setProperty(this._element.nativeElement,"value",B)}_setSelected(B){this._renderer.setProperty(this._element.nativeElement,"selected",B)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(w.SBq),w.Y36(w.Qsj),w.Y36(Is,9))};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return q})();let Jr=(()=>{class q{constructor(){this._validator=ke}ngOnChanges(B){if(this.inputName in B){const oe=this.normalizeInput(B[this.inputName].currentValue);this._enabled=this.enabled(oe),this._validator=this._enabled?this.createValidator(oe):ke,this._onChange&&this._onChange()}}validate(B){return this._validator(B)}registerOnValidatorChange(B){this._onChange=B}enabled(B){return null!=B}static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275dir=w.lG2({type:q,features:[w.TTD]})}return q})();const Xs={provide:_t,useExisting:(0,w.Gpc)(()=>qn),multi:!0};let qn=(()=>{class q extends Jr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=w.VuI,this.createValidator=B=>dt}enabled(B){return B}static#e=this.\u0275fac=function(){let B;return function(Ie){return(B||(B=w.n5z(q)))(Ie||q)}}();static#t=this.\u0275dir=w.lG2({type:q,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(oe,Ie){2&oe&&w.uIk("required",Ie._enabled?"":null)},inputs:{required:"required"},features:[w._Bn([Xs]),w.qOj]})}return q})();const Ti={provide:_t,useExisting:(0,w.Gpc)(()=>Vr),multi:!0};let Vr=(()=>{class q extends Jr{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=B=>function ls(q){return"number"==typeof q?q:parseInt(q,10)}(B),this.createValidator=B=>$n(B)}static#e=this.\u0275fac=function(){let B;return function(Ie){return(B||(B=w.n5z(q)))(Ie||q)}}();static#t=this.\u0275dir=w.lG2({type:q,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(oe,Ie){2&oe&&w.uIk("minlength",Ie._enabled?Ie.minlength:null)},inputs:{minlength:"minlength"},features:[w._Bn([Ti]),w.qOj]})}return q})(),no=(()=>{class q{static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275mod=w.oAB({type:q});static#n=this.\u0275inj=w.cJS({imports:[Ao]})}return q})();class xo extends Tt{constructor(ee,B,oe){super(Y(B),G(oe,B)),this.controls=ee,this._initObservables(),this._setUpdateStrategy(B),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(ee){return this.controls[this._adjustIndex(ee)]}push(ee,B={}){this.controls.push(ee),this._registerControl(ee),this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}insert(ee,B,oe={}){this.controls.splice(ee,0,B),this._registerControl(B),this.updateValueAndValidity({emitEvent:oe.emitEvent})}removeAt(ee,B={}){let oe=this._adjustIndex(ee);oe<0&&(oe=0),this.controls[oe]&&this.controls[oe]._registerOnCollectionChange(()=>{}),this.controls.splice(oe,1),this.updateValueAndValidity({emitEvent:B.emitEvent})}setControl(ee,B,oe={}){let Ie=this._adjustIndex(ee);Ie<0&&(Ie=0),this.controls[Ie]&&this.controls[Ie]._registerOnCollectionChange(()=>{}),this.controls.splice(Ie,1),B&&(this.controls.splice(Ie,0,B),this._registerControl(B)),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(ee,B={}){We(this,0,ee),ee.forEach((oe,Ie)=>{be(this,!1,Ie),this.at(Ie).setValue(oe,{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B)}patchValue(ee,B={}){null!=ee&&(ee.forEach((oe,Ie)=>{this.at(Ie)&&this.at(Ie).patchValue(oe,{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B))}reset(ee=[],B={}){this._forEachChild((oe,Ie)=>{oe.reset(ee[Ie],{onlySelf:!0,emitEvent:B.emitEvent})}),this._updatePristine(B),this._updateTouched(B),this.updateValueAndValidity(B)}getRawValue(){return this.controls.map(ee=>ee.getRawValue())}clear(ee={}){this.controls.length<1||(this._forEachChild(B=>B._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:ee.emitEvent}))}_adjustIndex(ee){return ee<0?ee+this.length:ee}_syncPendingControls(){let ee=this.controls.reduce((B,oe)=>!!oe._syncPendingControls()||B,!1);return ee&&this.updateValueAndValidity({onlySelf:!0}),ee}_forEachChild(ee){this.controls.forEach((B,oe)=>{ee(B,oe)})}_updateValue(){this.value=this.controls.filter(ee=>ee.enabled||this.disabled).map(ee=>ee.value)}_anyControls(ee){return this.controls.some(B=>B.enabled&&ee(B))}_setUpControls(){this._forEachChild(ee=>this._registerControl(ee))}_allControlsDisabled(){for(const ee of this.controls)if(ee.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(ee){ee.setParent(this),ee._registerOnCollectionChange(this._onCollectionChange)}_find(ee){return this.at(ee)??null}}function vc(q){return!!q&&(void 0!==q.asyncValidators||void 0!==q.validators||void 0!==q.updateOn)}let Ro=(()=>{class q{constructor(){this.useNonNullable=!1}get nonNullable(){const B=new q;return B.useNonNullable=!0,B}group(B,oe=null){const Ie=this._reduceControls(B);let Yt={};return vc(oe)?Yt=oe:null!==oe&&(Yt.validators=oe.validator,Yt.asyncValidators=oe.asyncValidator),new tn(Ie,Yt)}record(B,oe=null){const Ie=this._reduceControls(B);return new Kt(Ie,oe)}control(B,oe,Ie){let Yt={};return this.useNonNullable?(vc(oe)?Yt=oe:(Yt.validators=oe,Yt.asyncValidators=Ie),new pi(B,{...Yt,nonNullable:!0})):new pi(B,oe,Ie)}array(B,oe,Ie){const Yt=B.map(Bn=>this._createControl(Bn));return new xo(Yt,oe,Ie)}_reduceControls(B){const oe={};return Object.keys(B).forEach(Ie=>{oe[Ie]=this._createControl(B[Ie])}),oe}_createControl(B){return B instanceof pi||B instanceof Tt?B:Array.isArray(B)?this.control(B[0],B.length>1?B[1]:null,B.length>2?B[2]:null):this.control(B)}static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275prov=w.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"})}return q})(),ia=(()=>{class q{static withConfig(B){return{ngModule:q,providers:[{provide:qr,useValue:B.callSetDisabledState??ir}]}}static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275mod=w.oAB({type:q});static#n=this.\u0275inj=w.cJS({imports:[no]})}return q})(),sl=(()=>{class q{static withConfig(B){return{ngModule:q,providers:[{provide:as,useValue:B.warnOnNgModelWithFormControl??"always"},{provide:qr,useValue:B.callSetDisabledState??ir}]}}static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275mod=w.oAB({type:q});static#n=this.\u0275inj=w.cJS({imports:[no]})}return q})()},2614:()=>{const Gt=":";const Yn=function(De,...xe){if(Yn.translate){const at=Yn.translate(De,xe);De=at[0],xe=at[1]}let Re=kr(De[0],De.raw[0]);for(let at=1;at<De.length;at++)Re+=xe[at-1]+kr(De[at],De.raw[at]);return Re},br=":";function kr(De,xe){return xe.charAt(0)===br?De.substring(function je(De,xe){for(let Re=1,at=1;Re<De.length;Re++,at++)if("\\"===xe[at])at++;else if(De[Re]===Gt)return Re;throw new Error(`Unterminated $localize metadata block in "${xe}".`)}(De,xe)+1):De}globalThis.$localize=Yn},6593:(Gt,$e,K)=>{K.d($e,{Dx:()=>St,H7:()=>nr,b2:()=>De,q6:()=>Dt,se:()=>ve});var w=K(9468),ae=K(6814);class u extends ae.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class we extends u{static makeCurrent(){(0,ae.HT)(new we)}onAndCancel(G,W,$){return G.addEventListener(W,$),()=>{G.removeEventListener(W,$)}}dispatchEvent(G,W){G.dispatchEvent(W)}remove(G){G.parentNode&&G.parentNode.removeChild(G)}createElement(G,W){return(W=W||this.getDefaultDocument()).createElement(G)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(G){return G.nodeType===Node.ELEMENT_NODE}isShadowRoot(G){return G instanceof DocumentFragment}getGlobalEventTarget(G,W){return"window"===W?window:"document"===W?G:"body"===W?G.body:null}getBaseHref(G){const W=function fe(){return de=de||document.querySelector("base"),de?de.getAttribute("href"):null}();return null==W?null:function He(U){Ne=Ne||document.createElement("a"),Ne.setAttribute("href",U);const G=Ne.pathname;return"/"===G.charAt(0)?G:`/${G}`}(W)}resetBaseElement(){de=null}getUserAgent(){return window.navigator.userAgent}getCookie(G){return(0,ae.Mx)(document.cookie,G)}}let Ne,de=null,re=(()=>{class U{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function($){return new($||U)};static#t=this.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac})}return U})();const le=new w.OlP("EventManagerPlugins");let Se=(()=>{class U{constructor(W,$){this._zone=$,this._eventNameToPlugin=new Map,W.forEach(be=>{be.manager=this}),this._plugins=W.slice().reverse()}addEventListener(W,$,be){return this._findPluginFor($).addEventListener(W,$,be)}getZone(){return this._zone}_findPluginFor(W){let $=this._eventNameToPlugin.get(W);if($)return $;if($=this._plugins.find(We=>We.supports(W)),!$)throw new w.vHH(5101,!1);return this._eventNameToPlugin.set(W,$),$}static#e=this.\u0275fac=function($){return new($||U)(w.LFG(le),w.LFG(w.R0b))};static#t=this.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac})}return U})();class et{constructor(G){this._doc=G}}const Pe="ng-app-id";let it=(()=>{class U{constructor(W,$,be,We={}){this.doc=W,this.appId=$,this.nonce=be,this.platformId=We,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ae.PM)(We),this.resetHostNodes()}addStyles(W){for(const $ of W)1===this.changeUsageCount($,1)&&this.onStyleAdded($)}removeStyles(W){for(const $ of W)this.changeUsageCount($,-1)<=0&&this.onStyleRemoved($)}ngOnDestroy(){const W=this.styleNodesInDOM;W&&(W.forEach($=>$.remove()),W.clear());for(const $ of this.getAllStyles())this.onStyleRemoved($);this.resetHostNodes()}addHost(W){this.hostNodes.add(W);for(const $ of this.getAllStyles())this.addStyleToHost(W,$)}removeHost(W){this.hostNodes.delete(W)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(W){for(const $ of this.hostNodes)this.addStyleToHost($,W)}onStyleRemoved(W){const $=this.styleRef;$.get(W)?.elements?.forEach(be=>be.remove()),$.delete(W)}collectServerRenderedStyles(){const W=this.doc.head?.querySelectorAll(`style[${Pe}="${this.appId}"]`);if(W?.length){const $=new Map;return W.forEach(be=>{null!=be.textContent&&$.set(be.textContent,be)}),$}return null}changeUsageCount(W,$){const be=this.styleRef;if(be.has(W)){const We=be.get(W);return We.usage+=$,We.usage}return be.set(W,{usage:$,elements:[]}),$}getStyleElement(W,$){const be=this.styleNodesInDOM,We=be?.get($);if(We?.parentNode===W)return be.delete($),We.removeAttribute(Pe),We;{const Tt=this.doc.createElement("style");return this.nonce&&Tt.setAttribute("nonce",this.nonce),Tt.textContent=$,this.platformIsServer&&Tt.setAttribute(Pe,this.appId),Tt}}addStyleToHost(W,$){const be=this.getStyleElement(W,$);W.appendChild(be);const We=this.styleRef,Tt=We.get($)?.elements;Tt?Tt.push(be):We.set($,{elements:[be],usage:1})}resetHostNodes(){const W=this.hostNodes;W.clear(),W.add(this.doc.head)}static#e=this.\u0275fac=function($){return new($||U)(w.LFG(ae.K0),w.LFG(w.AFp),w.LFG(w.Ojb,8),w.LFG(w.Lbi))};static#t=this.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac})}return U})();const At={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Bt=/%COMP%/g,ot=new w.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ge(U,G){return G.map(W=>W.replace(Bt,U))}let ve=(()=>{class U{constructor(W,$,be,We,Tt,tn,ln,pn=null){this.eventManager=W,this.sharedStylesHost=$,this.appId=be,this.removeStylesOnCompDestroy=We,this.doc=Tt,this.platformId=tn,this.ngZone=ln,this.nonce=pn,this.rendererByCompId=new Map,this.platformIsServer=(0,ae.PM)(tn),this.defaultRenderer=new Ke(W,Tt,ln,this.platformIsServer)}createRenderer(W,$){if(!W||!$)return this.defaultRenderer;this.platformIsServer&&$.encapsulation===w.ifc.ShadowDom&&($={...$,encapsulation:w.ifc.Emulated});const be=this.getOrCreateRenderer(W,$);return be instanceof $n?be.applyToHost(W):be instanceof Dn&&be.applyStyles(),be}getOrCreateRenderer(W,$){const be=this.rendererByCompId;let We=be.get($.id);if(!We){const Tt=this.doc,tn=this.ngZone,ln=this.eventManager,pn=this.sharedStylesHost,Kt=this.removeStylesOnCompDestroy,Fn=this.platformIsServer;switch($.encapsulation){case w.ifc.Emulated:We=new $n(ln,pn,$,this.appId,Kt,Tt,tn,Fn);break;case w.ifc.ShadowDom:return new dn(ln,pn,W,$,Tt,tn,this.nonce,Fn);default:We=new Dn(ln,pn,$,Kt,Tt,tn,Fn)}be.set($.id,We)}return We}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function($){return new($||U)(w.LFG(Se),w.LFG(it),w.LFG(w.AFp),w.LFG(ot),w.LFG(ae.K0),w.LFG(w.Lbi),w.LFG(w.R0b),w.LFG(w.Ojb))};static#t=this.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac})}return U})();class Ke{constructor(G,W,$,be){this.eventManager=G,this.doc=W,this.ngZone=$,this.platformIsServer=be,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(G,W){return W?this.doc.createElementNS(At[W]||W,G):this.doc.createElement(G)}createComment(G){return this.doc.createComment(G)}createText(G){return this.doc.createTextNode(G)}appendChild(G,W){(dt(G)?G.content:G).appendChild(W)}insertBefore(G,W,$){G&&(dt(G)?G.content:G).insertBefore(W,$)}removeChild(G,W){G&&G.removeChild(W)}selectRootElement(G,W){let $="string"==typeof G?this.doc.querySelector(G):G;if(!$)throw new w.vHH(-5104,!1);return W||($.textContent=""),$}parentNode(G){return G.parentNode}nextSibling(G){return G.nextSibling}setAttribute(G,W,$,be){if(be){W=be+":"+W;const We=At[be];We?G.setAttributeNS(We,W,$):G.setAttribute(W,$)}else G.setAttribute(W,$)}removeAttribute(G,W,$){if($){const be=At[$];be?G.removeAttributeNS(be,W):G.removeAttribute(`${$}:${W}`)}else G.removeAttribute(W)}addClass(G,W){G.classList.add(W)}removeClass(G,W){G.classList.remove(W)}setStyle(G,W,$,be){be&(w.JOm.DashCase|w.JOm.Important)?G.style.setProperty(W,$,be&w.JOm.Important?"important":""):G.style[W]=$}removeStyle(G,W,$){$&w.JOm.DashCase?G.style.removeProperty(W):G.style[W]=""}setProperty(G,W,$){G[W]=$}setValue(G,W){G.nodeValue=W}listen(G,W,$){if("string"==typeof G&&!(G=(0,ae.q)().getGlobalEventTarget(this.doc,G)))throw new Error(`Unsupported event target ${G} for event ${W}`);return this.eventManager.addEventListener(G,W,this.decoratePreventDefault($))}decoratePreventDefault(G){return W=>{if("__ngUnwrap__"===W)return G;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>G(W)):G(W))&&W.preventDefault()}}}function dt(U){return"TEMPLATE"===U.tagName&&void 0!==U.content}class dn extends Ke{constructor(G,W,$,be,We,Tt,tn,ln){super(G,We,Tt,ln),this.sharedStylesHost=W,this.hostEl=$,this.shadowRoot=$.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const pn=Ge(be.id,be.styles);for(const Kt of pn){const Fn=document.createElement("style");tn&&Fn.setAttribute("nonce",tn),Fn.textContent=Kt,this.shadowRoot.appendChild(Fn)}}nodeOrShadowRoot(G){return G===this.hostEl?this.shadowRoot:G}appendChild(G,W){return super.appendChild(this.nodeOrShadowRoot(G),W)}insertBefore(G,W,$){return super.insertBefore(this.nodeOrShadowRoot(G),W,$)}removeChild(G,W){return super.removeChild(this.nodeOrShadowRoot(G),W)}parentNode(G){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(G)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Dn extends Ke{constructor(G,W,$,be,We,Tt,tn,ln){super(G,We,Tt,tn),this.sharedStylesHost=W,this.removeStylesOnCompDestroy=be,this.styles=ln?Ge(ln,$.styles):$.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class $n extends Dn{constructor(G,W,$,be,We,Tt,tn,ln){const pn=be+"-"+$.id;super(G,W,$,We,Tt,tn,ln,pn),this.contentAttr=function vt(U){return"_ngcontent-%COMP%".replace(Bt,U)}(pn),this.hostAttr=function _t(U){return"_nghost-%COMP%".replace(Bt,U)}(pn)}applyToHost(G){this.applyStyles(),this.setAttribute(G,this.hostAttr,"")}createElement(G,W){const $=super.createElement(G,W);return super.setAttribute($,this.contentAttr,""),$}}let ar=(()=>{class U extends et{constructor(W){super(W)}supports(W){return!0}addEventListener(W,$,be){return W.addEventListener($,be,!1),()=>this.removeEventListener(W,$,be)}removeEventListener(W,$,be){return W.removeEventListener($,be)}static#e=this.\u0275fac=function($){return new($||U)(w.LFG(ae.K0))};static#t=this.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac})}return U})();const vr=["alt","control","meta","shift"],ke={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},je={alt:U=>U.altKey,control:U=>U.ctrlKey,meta:U=>U.metaKey,shift:U=>U.shiftKey};let Ye=(()=>{class U extends et{constructor(W){super(W)}supports(W){return null!=U.parseEventName(W)}addEventListener(W,$,be){const We=U.parseEventName($),Tt=U.eventCallback(We.fullKey,be,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ae.q)().onAndCancel(W,We.domEventName,Tt))}static parseEventName(W){const $=W.toLowerCase().split("."),be=$.shift();if(0===$.length||"keydown"!==be&&"keyup"!==be)return null;const We=U._normalizeKey($.pop());let Tt="",tn=$.indexOf("code");if(tn>-1&&($.splice(tn,1),Tt="code."),vr.forEach(pn=>{const Kt=$.indexOf(pn);Kt>-1&&($.splice(Kt,1),Tt+=pn+".")}),Tt+=We,0!=$.length||0===We.length)return null;const ln={};return ln.domEventName=be,ln.fullKey=Tt,ln}static matchEventFullKeyCode(W,$){let be=ke[W.key]||W.key,We="";return $.indexOf("code.")>-1&&(be=W.code,We="code."),!(null==be||!be)&&(be=be.toLowerCase()," "===be?be="space":"."===be&&(be="dot"),vr.forEach(Tt=>{Tt!==be&&(0,je[Tt])(W)&&(We+=Tt+".")}),We+=be,We===$)}static eventCallback(W,$,be){return We=>{U.matchEventFullKeyCode(We,W)&&be.runGuarded(()=>$(We))}}static _normalizeKey(W){return"esc"===W?"escape":W}static#e=this.\u0275fac=function($){return new($||U)(w.LFG(ae.K0))};static#t=this.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac})}return U})();const Dt=(0,w.eFA)(w._c5,"browser",[{provide:w.Lbi,useValue:ae.bD},{provide:w.g9A,useValue:function jt(){we.makeCurrent()},multi:!0},{provide:ae.K0,useFactory:function bn(){return(0,w.RDi)(document),document},deps:[]}]),Yn=new w.OlP(""),br=[{provide:w.rWj,useClass:class Ee{addToWindow(G){w.dqk.getAngularTestability=($,be=!0)=>{const We=G.findTestabilityInTree($,be);if(null==We)throw new w.vHH(5103,!1);return We},w.dqk.getAllAngularTestabilities=()=>G.getAllTestabilities(),w.dqk.getAllAngularRootElements=()=>G.getAllRootElements(),w.dqk.frameworkStabilizers||(w.dqk.frameworkStabilizers=[]),w.dqk.frameworkStabilizers.push($=>{const be=w.dqk.getAllAngularTestabilities();let We=be.length,Tt=!1;const tn=function(ln){Tt=Tt||ln,We--,0==We&&$(Tt)};be.forEach(ln=>{ln.whenStable(tn)})})}findTestabilityInTree(G,W,$){return null==W?null:G.getTestability(W)??($?(0,ae.q)().isShadowRoot(W)?this.findTestabilityInTree(G,W.host,!0):this.findTestabilityInTree(G,W.parentElement,!0):null)}},deps:[]},{provide:w.lri,useClass:w.dDg,deps:[w.R0b,w.eoX,w.rWj]},{provide:w.dDg,useClass:w.dDg,deps:[w.R0b,w.eoX,w.rWj]}],kr=[{provide:w.zSh,useValue:"root"},{provide:w.qLn,useFactory:function hn(){return new w.qLn},deps:[]},{provide:le,useClass:ar,multi:!0,deps:[ae.K0,w.R0b,w.Lbi]},{provide:le,useClass:Ye,multi:!0,deps:[ae.K0]},ve,it,Se,{provide:w.FYo,useExisting:ve},{provide:ae.JF,useClass:re,deps:[]},[]];let De=(()=>{class U{constructor(W){}static withServerTransition(W){return{ngModule:U,providers:[{provide:w.AFp,useValue:W.appId}]}}static#e=this.\u0275fac=function($){return new($||U)(w.LFG(Yn,12))};static#t=this.\u0275mod=w.oAB({type:U});static#n=this.\u0275inj=w.cJS({providers:[...kr,...br],imports:[ae.ez,w.hGG]})}return U})(),St=(()=>{class U{constructor(W){this._doc=W}getTitle(){return this._doc.title}setTitle(W){this._doc.title=W||""}static#e=this.\u0275fac=function($){return new($||U)(w.LFG(ae.K0))};static#t=this.\u0275prov=w.Yz7({token:U,factory:function($){let be=null;return be=$?new $:function yt(){return new St((0,w.LFG)(ae.K0))}(),be},providedIn:"root"})}return U})();typeof window<"u"&&window;let nr=(()=>{class U{static#e=this.\u0275fac=function($){return new($||U)};static#t=this.\u0275prov=w.Yz7({token:U,factory:function($){let be=null;return be=$?new($||U):w.LFG(hi),be},providedIn:"root"})}return U})(),hi=(()=>{class U extends nr{constructor(W){super(),this._doc=W}sanitize(W,$){if(null==$)return null;switch(W){case w.q3G.NONE:return $;case w.q3G.HTML:return(0,w.qzn)($,"HTML")?(0,w.z3N)($):(0,w.EiD)(this._doc,String($)).toString();case w.q3G.STYLE:return(0,w.qzn)($,"Style")?(0,w.z3N)($):$;case w.q3G.SCRIPT:if((0,w.qzn)($,"Script"))return(0,w.z3N)($);throw new w.vHH(5200,!1);case w.q3G.URL:return(0,w.qzn)($,"URL")?(0,w.z3N)($):(0,w.mCW)(String($));case w.q3G.RESOURCE_URL:if((0,w.qzn)($,"ResourceURL"))return(0,w.z3N)($);throw new w.vHH(5201,!1);default:throw new w.vHH(5202,!1)}}bypassSecurityTrustHtml(W){return(0,w.JVY)(W)}bypassSecurityTrustStyle(W){return(0,w.L6k)(W)}bypassSecurityTrustScript(W){return(0,w.eBb)(W)}bypassSecurityTrustUrl(W){return(0,w.LAX)(W)}bypassSecurityTrustResourceUrl(W){return(0,w.pB0)(W)}static#e=this.\u0275fac=function($){return new($||U)(w.LFG(ae.K0))};static#t=this.\u0275prov=w.Yz7({token:U,factory:function($){let be=null;return be=$?new $:function Or(U){return new hi(U.get(ae.K0))}(w.LFG(w.zs3)),be},providedIn:"root"})}return U})()},6024:(Gt,$e,K)=>{K.d($e,{gz:()=>cr,m2:()=>Ys,F0:()=>ro,rH:()=>Di,Bz:()=>Fl,lC:()=>ri});var w=K(9468),ae=K(5592),u=K(4674),de=K(2459),fe=K(2096),Ne=K(5619),He=K(7453),Ee=K(2737),re=K(7400),le=K(9940),Se=K(2714),et=K(8251),Pe=K(7103);function it(...C){const x=(0,le.yG)(C),D=(0,le.jO)(C),{args:P,keys:j}=(0,He.D)(C);if(0===P.length)return(0,de.D)([],x);const se=new ae.y(function At(C,x,D=Ee.y){return P=>{Bt(x,()=>{const{length:j}=C,se=new Array(j);let _e=j,ze=j;for(let Ve=0;Ve<j;Ve++)Bt(x,()=>{const $t=(0,de.D)(C[Ve],x);let Gn=!1;$t.subscribe((0,et.x)(P,Nr=>{se[Ve]=Nr,Gn||(Gn=!0,ze--),ze||P.next(D(se.slice()))},()=>{--_e||P.complete()}))},P)},P)}}(P,x,j?_e=>(0,Se.n)(j,_e):Ee.y));return D?se.pipe((0,re.Z)(D)):se}function Bt(C,x,D){C?(0,Pe.f)(D,C,x):x()}var Ft=K(6973),xn=K(5211),xt=K(4829);function mt(C){return new ae.y(x=>{(0,xt.Xf)(C()).subscribe(x)})}var ot=K(8407);function vt(C,x){const D=(0,u.m)(C)?C:()=>C,P=j=>j.error(D());return new ae.y(x?j=>x.schedule(P,0,j):P)}var _t=K(6232),Ge=K(7394),ve=K(9360);function Ke(){return(0,ve.e)((C,x)=>{let D=null;C._refCount++;const P=(0,et.x)(x,void 0,void 0,void 0,()=>{if(!C||C._refCount<=0||0<--C._refCount)return void(D=null);const j=C._connection,se=D;D=null,j&&(!se||j===se)&&j.unsubscribe(),x.unsubscribe()});C.subscribe(P),P.closed||(D=C.connect())})}class gt extends ae.y{constructor(x,D){super(),this.source=x,this.subjectFactory=D,this._subject=null,this._refCount=0,this._connection=null,(0,ve.A)(x)&&(this.lift=x.lift)}_subscribe(x){return this.getSubject().subscribe(x)}getSubject(){const x=this._subject;return(!x||x.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:x}=this;this._subject=this._connection=null,x?.unsubscribe()}connect(){let x=this._connection;if(!x){x=this._connection=new Ge.w0;const D=this.getSubject();x.add(this.source.subscribe((0,et.x)(D,void 0,()=>{this._teardown(),D.complete()},P=>{this._teardown(),D.error(P)},()=>this._teardown()))),x.closed&&(this._connection=null,x=Ge.w0.EMPTY)}return x}refCount(){return Ke()(this)}}var Vn=K(8645),dt=K(6814),dn=K(7398),Dn=K(4664),$n=K(8180),ar=K(7921),vr=K(2181),ke=K(1631);function je(C){return(0,ve.e)((x,D)=>{let P=!1;x.subscribe((0,et.x)(D,j=>{P=!0,D.next(j)},()=>{P||D.next(C),D.complete()}))})}function Ye(C=Ue){return(0,ve.e)((x,D)=>{let P=!1;x.subscribe((0,et.x)(D,j=>{P=!0,D.next(j)},()=>P?D.complete():D.error(C())))})}function Ue(){return new Ft.K}function nt(C,x){const D=arguments.length>=2;return P=>P.pipe(C?(0,vr.h)((j,se)=>C(j,se,P)):Ee.y,(0,$n.q)(1),D?je(x):Ye(()=>new Ft.K))}function bt(C,x){return(0,u.m)(x)?(0,ke.z)(C,x,1):(0,ke.z)(C,1)}var Rt=K(9397);function jt(C){return(0,ve.e)((x,D)=>{let se,P=null,j=!1;P=x.subscribe((0,et.x)(D,void 0,void 0,_e=>{se=(0,xt.Xf)(C(_e,jt(C)(x))),P?(P.unsubscribe(),P=null,se.subscribe(D)):j=!0})),j&&(P.unsubscribe(),P=null,se.subscribe(D))})}function cn(C){return C<=0?()=>_t.E:(0,ve.e)((x,D)=>{let P=[];x.subscribe((0,et.x)(D,j=>{P.push(j),C<P.length&&P.shift()},()=>{for(const j of P)D.next(j);D.complete()},void 0,()=>{P=null}))})}var Yn=K(975);function br(C){return(0,ve.e)((x,D)=>{try{x.subscribe(D)}finally{D.add(C)}})}var kr=K(9773),De=K(7537),xe=K(6593);const Re="primary",at=Symbol("RouteTitle");class yt{constructor(x){this.params=x||{}}has(x){return Object.prototype.hasOwnProperty.call(this.params,x)}get(x){if(this.has(x)){const D=this.params[x];return Array.isArray(D)?D[0]:D}return null}getAll(x){if(this.has(x)){const D=this.params[x];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function St(C){return new yt(C)}function wr(C,x,D){const P=D.path.split("/");if(P.length>C.length||"full"===D.pathMatch&&(x.hasChildren()||P.length<C.length))return null;const j={};for(let se=0;se<P.length;se++){const _e=P[se],ze=C[se];if(_e.startsWith(":"))j[_e.substring(1)]=ze;else if(_e!==ze.path)return null}return{consumed:C.slice(0,P.length),posParams:j}}function sn(C,x){const D=C?Object.keys(C):void 0,P=x?Object.keys(x):void 0;if(!D||!P||D.length!=P.length)return!1;let j;for(let se=0;se<D.length;se++)if(j=D[se],!Qt(C[j],x[j]))return!1;return!0}function Qt(C,x){if(Array.isArray(C)&&Array.isArray(x)){if(C.length!==x.length)return!1;const D=[...C].sort(),P=[...x].sort();return D.every((j,se)=>P[se]===j)}return C===x}function In(C){return C.length>0?C[C.length-1]:null}function tr(C){return function we(C){return!!C&&(C instanceof ae.y||(0,u.m)(C.lift)&&(0,u.m)(C.subscribe))}(C)?C:(0,w.QGY)(C)?(0,de.D)(Promise.resolve(C)):(0,fe.of)(C)}const Xt={exact:function dr(C,x,D){if(!tt(C.segments,x.segments)||!di(C.segments,x.segments,D)||C.numberOfChildren!==x.numberOfChildren)return!1;for(const P in x.children)if(!C.children[P]||!dr(C.children[P],x.children[P],D))return!1;return!0},subset:hr},Sr={exact:function mn(C,x){return sn(C,x)},subset:function Jn(C,x){return Object.keys(x).length<=Object.keys(C).length&&Object.keys(x).every(D=>Qt(C[D],x[D]))},ignored:()=>!0};function Ir(C,x,D){return Xt[D.paths](C.root,x.root,D.matrixParams)&&Sr[D.queryParams](C.queryParams,x.queryParams)&&!("exact"===D.fragment&&C.fragment!==x.fragment)}function hr(C,x,D){return Zn(C,x,x.segments,D)}function Zn(C,x,D,P){if(C.segments.length>D.length){const j=C.segments.slice(0,D.length);return!(!tt(j,D)||x.hasChildren()||!di(j,D,P))}if(C.segments.length===D.length){if(!tt(C.segments,D)||!di(C.segments,D,P))return!1;for(const j in x.children)if(!C.children[j]||!hr(C.children[j],x.children[j],P))return!1;return!0}{const j=D.slice(0,C.segments.length),se=D.slice(C.segments.length);return!!(tt(C.segments,j)&&di(C.segments,j,P)&&C.children[Re])&&Zn(C.children[Re],x,se,P)}}function di(C,x,D){return x.every((P,j)=>Sr[D](C[j].parameters,P.parameters))}class Rn{constructor(x=new nr([],{}),D={},P=null){this.root=x,this.queryParams=D,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=St(this.queryParams)),this._queryParamMap}toString(){return qt.serialize(this)}}class nr{constructor(x,D){this.segments=x,this.children=D,this.parent=null,Object.values(D).forEach(P=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zt(this)}}class Or{constructor(x,D){this.path=x,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=St(this.parameters)),this._parameterMap}toString(){return We(this)}}function tt(C,x){return C.length===x.length&&C.every((D,P)=>D.path===x[P].path)}let Ze=(()=>{class C{static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:function(){return new It},providedIn:"root"})}return C})();class It{parse(x){const D=new ys(x);return new Rn(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(x){const D=`/${zn(x.root,!0)}`,P=function tn(C){const x=Object.keys(C).map(D=>{const P=C[D];return Array.isArray(P)?P.map(j=>`${U(D)}=${U(j)}`).join("&"):`${U(D)}=${U(P)}`}).filter(D=>!!D);return x.length?`?${x.join("&")}`:""}(x.queryParams);return`${D}${P}${"string"==typeof x.fragment?`#${function G(C){return encodeURI(C)}(x.fragment)}`:""}`}}const qt=new It;function Zt(C){return C.segments.map(x=>We(x)).join("/")}function zn(C,x){if(!C.hasChildren())return Zt(C);if(x){const D=C.children[Re]?zn(C.children[Re],!1):"",P=[];return Object.entries(C.children).forEach(([j,se])=>{j!==Re&&P.push(`${j}:${zn(se,!1)}`)}),P.length>0?`${D}(${P.join("//")})`:D}{const D=function Ce(C,x){let D=[];return Object.entries(C.children).forEach(([P,j])=>{P===Re&&(D=D.concat(x(j,P)))}),Object.entries(C.children).forEach(([P,j])=>{P!==Re&&(D=D.concat(x(j,P)))}),D}(C,(P,j)=>j===Re?[zn(C.children[Re],!1)]:[`${j}:${zn(P,!1)}`]);return 1===Object.keys(C.children).length&&null!=C.children[Re]?`${Zt(C)}/${D[0]}`:`${Zt(C)}/(${D.join("//")})`}}function Y(C){return encodeURIComponent(C).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function U(C){return Y(C).replace(/%3B/gi,";")}function W(C){return Y(C).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $(C){return decodeURIComponent(C)}function be(C){return $(C.replace(/\+/g,"%20"))}function We(C){return`${W(C.path)}${function Tt(C){return Object.keys(C).map(x=>`;${W(x)}=${W(C[x])}`).join("")}(C.parameters)}`}const ln=/^[^\/()?;#]+/;function pn(C){const x=C.match(ln);return x?x[0]:""}const Kt=/^[^\/()?;=#]+/,qr=/^[^=?&#]+/,ss=/^[^&#]+/;class ys{constructor(x){this.url=x,this.remaining=x}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nr([],{}):new nr([],this.parseChildren())}parseQueryParams(){const x={};if(this.consumeOptional("?"))do{this.parseQueryParam(x)}while(this.consumeOptional("&"));return x}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const x=[];for(this.peekStartsWith("(")||x.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),x.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(x.length>0||Object.keys(D).length>0)&&(P[Re]=new nr(x,D)),P}parseSegment(){const x=pn(this.remaining);if(""===x&&this.peekStartsWith(";"))throw new w.vHH(4009,!1);return this.capture(x),new Or($(x),this.parseMatrixParams())}parseMatrixParams(){const x={};for(;this.consumeOptional(";");)this.parseParam(x);return x}parseParam(x){const D=function Fn(C){const x=C.match(Kt);return x?x[0]:""}(this.remaining);if(!D)return;this.capture(D);let P="";if(this.consumeOptional("=")){const j=pn(this.remaining);j&&(P=j,this.capture(P))}x[$(D)]=$(P)}parseQueryParam(x){const D=function ir(C){const x=C.match(qr);return x?x[0]:""}(this.remaining);if(!D)return;this.capture(D);let P="";if(this.consumeOptional("=")){const _e=function Co(C){const x=C.match(ss);return x?x[0]:""}(this.remaining);_e&&(P=_e,this.capture(P))}const j=be(D),se=be(P);if(x.hasOwnProperty(j)){let _e=x[j];Array.isArray(_e)||(_e=[_e],x[j]=_e),_e.push(se)}else x[j]=se}parseParens(x){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=pn(this.remaining),j=this.remaining[P.length];if("/"!==j&&")"!==j&&";"!==j)throw new w.vHH(4010,!1);let se;P.indexOf(":")>-1?(se=P.slice(0,P.indexOf(":")),this.capture(se),this.capture(":")):x&&(se=Re);const _e=this.parseChildren();D[se]=1===Object.keys(_e).length?_e[Re]:new nr([],_e),this.consumeOptional("//")}return D}peekStartsWith(x){return this.remaining.startsWith(x)}consumeOptional(x){return!!this.peekStartsWith(x)&&(this.remaining=this.remaining.substring(x.length),!0)}capture(x){if(!this.consumeOptional(x))throw new w.vHH(4011,!1)}}function Qo(C){return C.segments.length>0?new nr([],{[Re]:C}):C}function xa(C){const x={};for(const P of Object.keys(C.children)){const se=xa(C.children[P]);if(P===Re&&0===se.segments.length&&se.hasChildren())for(const[_e,ze]of Object.entries(se.children))x[_e]=ze;else(se.segments.length>0||se.hasChildren())&&(x[P]=se)}return function _c(C){if(1===C.numberOfChildren&&C.children[Re]){const x=C.children[Re];return new nr(C.segments.concat(x.segments),x.children)}return C}(new nr(C.segments,x))}function ti(C){return C instanceof Rn}function vs(C){let x;const j=Qo(function D(se){const _e={};for(const Ve of se.children){const $t=D(Ve);_e[Ve.outlet]=$t}const ze=new nr(se.url,_e);return se===C&&(x=ze),ze}(C.root));return x??j}function Si(C,x,D,P){let j=C;for(;j.parent;)j=j.parent;if(0===x.length)return co(j,j,j,D,P);const se=function ks(C){if("string"==typeof C[0]&&1===C.length&&"/"===C[0])return new Jo(!0,0,C);let x=0,D=!1;const P=C.reduce((j,se,_e)=>{if("object"==typeof se&&null!=se){if(se.outlets){const ze={};return Object.entries(se.outlets).forEach(([Ve,$t])=>{ze[Ve]="string"==typeof $t?$t.split("/"):$t}),[...j,{outlets:ze}]}if(se.segmentPath)return[...j,se.segmentPath]}return"string"!=typeof se?[...j,se]:0===_e?(se.split("/").forEach((ze,Ve)=>{0==Ve&&"."===ze||(0==Ve&&""===ze?D=!0:".."===ze?x++:""!=ze&&j.push(ze))}),j):[...j,se]},[]);return new Jo(D,x,P)}(x);if(se.toRoot())return co(j,j,new nr([],{}),D,P);const _e=function ci(C,x,D){if(C.isAbsolute)return new Zs(x,!0,0);if(!D)return new Zs(x,!1,NaN);if(null===D.parent)return new Zs(D,!0,0);const P=sr(C.commands[0])?0:1;return function Ks(C,x,D){let P=C,j=x,se=D;for(;se>j;){if(se-=j,P=P.parent,!P)throw new w.vHH(4005,!1);j=P.segments.length}return new Zs(P,!1,j-se)}(D,D.segments.length-1+P,C.numberOfDoubleDots)}(se,j,C),ze=_e.processChildren?os(_e.segmentGroup,_e.index,se.commands):Ja(_e.segmentGroup,_e.index,se.commands);return co(j,_e.segmentGroup,ze,D,P)}function sr(C){return"object"==typeof C&&null!=C&&!C.outlets&&!C.segmentPath}function bs(C){return"object"==typeof C&&null!=C&&C.outlets}function co(C,x,D,P,j){let _e,se={};P&&Object.entries(P).forEach(([Ve,$t])=>{se[Ve]=Array.isArray($t)?$t.map(Gn=>`${Gn}`):`${$t}`}),_e=C===x?D:So(C,x,D);const ze=Qo(xa(_e));return new Rn(ze,se,j)}function So(C,x,D){const P={};return Object.entries(C.children).forEach(([j,se])=>{P[j]=se===x?D:So(se,x,D)}),new nr(C.segments,P)}class Jo{constructor(x,D,P){if(this.isAbsolute=x,this.numberOfDoubleDots=D,this.commands=P,x&&P.length>0&&sr(P[0]))throw new w.vHH(4003,!1);const j=P.find(bs);if(j&&j!==In(P))throw new w.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zs{constructor(x,D,P){this.segmentGroup=x,this.processChildren=D,this.index=P}}function Ja(C,x,D){if(C||(C=new nr([],{})),0===C.segments.length&&C.hasChildren())return os(C,x,D);const P=function Xa(C,x,D){let P=0,j=x;const se={match:!1,pathIndex:0,commandIndex:0};for(;j<C.segments.length;){if(P>=D.length)return se;const _e=C.segments[j],ze=D[P];if(bs(ze))break;const Ve=`${ze}`,$t=P<D.length-1?D[P+1]:null;if(j>0&&void 0===Ve)break;if(Ve&&$t&&"object"==typeof $t&&void 0===$t.outlets){if(!Xo(Ve,$t,_e))return se;P+=2}else{if(!Xo(Ve,{},_e))return se;P++}j++}return{match:!0,pathIndex:j,commandIndex:P}}(C,x,D),j=D.slice(P.commandIndex);if(P.match&&P.pathIndex<C.segments.length){const se=new nr(C.segments.slice(0,P.pathIndex),{});return se.children[Re]=new nr(C.segments.slice(P.pathIndex),C.children),os(se,0,j)}return P.match&&0===j.length?new nr(C.segments,{}):P.match&&!C.hasChildren()?fi(C,x,D):P.match?os(C,0,j):fi(C,x,D)}function os(C,x,D){if(0===D.length)return new nr(C.segments,{});{const P=function Vi(C){return bs(C[0])?C[0].outlets:{[Re]:C}}(D),j={};if(Object.keys(P).some(se=>se!==Re)&&C.children[Re]&&1===C.numberOfChildren&&0===C.children[Re].segments.length){const se=os(C.children[Re],x,D);return new nr(C.segments,se.children)}return Object.entries(P).forEach(([se,_e])=>{"string"==typeof _e&&(_e=[_e]),null!==_e&&(j[se]=Ja(C.children[se],x,_e))}),Object.entries(C.children).forEach(([se,_e])=>{void 0===P[se]&&(j[se]=_e)}),new nr(C.segments,j)}}function fi(C,x,D){const P=C.segments.slice(0,x);let j=0;for(;j<D.length;){const se=D[j];if(bs(se)){const Ve=Ra(se.outlets);return new nr(P,Ve)}if(0===j&&sr(D[0])){P.push(new Or(C.segments[x].path,Fs(D[0]))),j++;continue}const _e=bs(se)?se.outlets[Re]:`${se}`,ze=j<D.length-1?D[j+1]:null;_e&&ze&&sr(ze)?(P.push(new Or(_e,Fs(ze))),j+=2):(P.push(new Or(_e,{})),j++)}return new nr(P,{})}function Ra(C){const x={};return Object.entries(C).forEach(([D,P])=>{"string"==typeof P&&(P=[P]),null!==P&&(x[D]=fi(new nr([],{}),0,P))}),x}function Fs(C){const x={};return Object.entries(C).forEach(([D,P])=>x[D]=`${P}`),x}function Xo(C,x,D){return C==D.path&&sn(x,D.parameters)}const Pa="imperative";class Ls{constructor(x,D){this.id=x,this.url=D}}class pi extends Ls{constructor(x,D,P="imperative",j=null){super(x,D),this.type=0,this.navigationTrigger=P,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ys extends Ls{constructor(x,D,P){super(x,D),this.urlAfterRedirects=P,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ws extends Ls{constructor(x,D,P,j){super(x,D),this.reason=P,this.code=j,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Hi extends Ls{constructor(x,D,P,j){super(x,D),this.reason=P,this.code=j,this.type=16}}class ec extends Ls{constructor(x,D,P,j){super(x,D),this.error=P,this.target=j,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Tr extends Ls{constructor(x,D,P,j){super(x,D),this.urlAfterRedirects=P,this.state=j,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ya extends Ls{constructor(x,D,P,j){super(x,D),this.urlAfterRedirects=P,this.state=j,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ai extends Ls{constructor(x,D,P,j,se){super(x,D),this.urlAfterRedirects=P,this.state=j,this.shouldActivate=se,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rl extends Ls{constructor(x,D,P,j){super(x,D),this.urlAfterRedirects=P,this.state=j,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bs extends Ls{constructor(x,D,P,j){super(x,D),this.urlAfterRedirects=P,this.state=j,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yc{constructor(x){this.route=x,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ea{constructor(x){this.route=x,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ka{constructor(x){this.snapshot=x,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ta{constructor(x){this.snapshot=x,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ni{constructor(x){this.snapshot=x,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qs{constructor(x){this.snapshot=x,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class va{constructor(x,D,P){this.routerEvent=x,this.position=D,this.anchor=P,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class na{}class Ao{constructor(x){this.url=x}}class pr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Zr,this.attachRef=null}}let Zr=(()=>{class C{constructor(){this.contexts=new Map}onChildOutletCreated(D,P){const j=this.getOrCreateContext(D);j.outlet=P,this.contexts.set(D,j)}onChildOutletDestroyed(D){const P=this.getContext(D);P&&(P.outlet=null,P.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let P=this.getContext(D);return P||(P=new pr,this.contexts.set(D,P)),P}getContext(D){return this.contexts.get(D)||null}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();class Oi{constructor(x){this._root=x}get root(){return this._root.value}parent(x){const D=this.pathFromRoot(x);return D.length>1?D[D.length-2]:null}children(x){const D=as(x,this._root);return D?D.children.map(P=>P.value):[]}firstChild(x){const D=as(x,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(x){const D=ni(x,this._root);return D.length<2?[]:D[D.length-2].children.map(j=>j.value).filter(j=>j!==x)}pathFromRoot(x){return ni(x,this._root).map(D=>D.value)}}function as(C,x){if(C===x.value)return x;for(const D of x.children){const P=as(C,D);if(P)return P}return null}function ni(C,x){if(C===x.value)return[x];for(const D of x.children){const P=ni(C,D);if(P.length)return P.unshift(x),P}return[]}class yi{constructor(x,D){this.value=x,this.children=D}toString(){return`TreeNode(${this.value})`}}function Js(C){const x={};return C&&C.children.forEach(D=>x[D.value.outlet]=D),x}class Ii extends Oi{constructor(x,D){super(x),this.snapshot=D,vi(this,x)}toString(){return this.snapshot.toString()}}function tc(C,x){const D=function lo(C,x){const _e=new Pn([],{},{},"",{},Re,x,null,{});return new Hr("",new yi(_e,[]))}(0,x),P=new Ne.X([new Or("",{})]),j=new Ne.X({}),se=new Ne.X({}),_e=new Ne.X({}),ze=new Ne.X(""),Ve=new cr(P,j,_e,ze,se,Re,x,D.root);return Ve.snapshot=D.root,new Ii(new yi(Ve,[]),D)}class cr{constructor(x,D,P,j,se,_e,ze,Ve){this.urlSubject=x,this.paramsSubject=D,this.queryParamsSubject=P,this.fragmentSubject=j,this.dataSubject=se,this.outlet=_e,this.component=ze,this._futureSnapshot=Ve,this.title=this.dataSubject?.pipe((0,dn.U)($t=>$t[at]))??(0,fe.of)(void 0),this.url=x,this.params=D,this.queryParams=P,this.fragment=j,this.data=se}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,dn.U)(x=>St(x)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,dn.U)(x=>St(x)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Lt(C,x="emptyOnly"){const D=C.pathFromRoot;let P=0;if("always"!==x)for(P=D.length-1;P>=1;){const j=D[P],se=D[P-1];if(j.routeConfig&&""===j.routeConfig.path)P--;else{if(se.component)break;P--}}return function Wn(C){return C.reduce((x,D)=>({params:{...x.params,...D.params},data:{...x.data,...D.data},resolve:{...D.data,...x.resolve,...D.routeConfig?.data,...D._resolvedData}}),{params:{},data:{},resolve:{}})}(D.slice(P))}class Pn{get title(){return this.data?.[at]}constructor(x,D,P,j,se,_e,ze,Ve,$t){this.url=x,this.params=D,this.queryParams=P,this.fragment=j,this.data=se,this.outlet=_e,this.component=ze,this.routeConfig=Ve,this._resolve=$t}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=St(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=St(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Hr extends Oi{constructor(x,D){super(D),this.url=x,vi(this,D)}toString(){return Kr(this._root)}}function vi(C,x){x.value._routerState=C,x.children.forEach(D=>vi(C,D))}function Kr(C){const x=C.children.length>0?` { ${C.children.map(Kr).join(", ")} } `:"";return`${C.value}${x}`}function Mi(C){if(C.snapshot){const x=C.snapshot,D=C._futureSnapshot;C.snapshot=D,sn(x.queryParams,D.queryParams)||C.queryParamsSubject.next(D.queryParams),x.fragment!==D.fragment&&C.fragmentSubject.next(D.fragment),sn(x.params,D.params)||C.paramsSubject.next(D.params),function An(C,x){if(C.length!==x.length)return!1;for(let D=0;D<C.length;++D)if(!sn(C[D],x[D]))return!1;return!0}(x.url,D.url)||C.urlSubject.next(D.url),sn(x.data,D.data)||C.dataSubject.next(D.data)}else C.snapshot=C._futureSnapshot,C.dataSubject.next(C._futureSnapshot.data)}function Mr(C,x){const D=sn(C.params,x.params)&&function hi(C,x){return tt(C,x)&&C.every((D,P)=>sn(D.parameters,x[P].parameters))}(C.url,x.url);return D&&!(!C.parent!=!x.parent)&&(!C.parent||Mr(C.parent,x.parent))}let ri=(()=>{class C{constructor(){this.activated=null,this._activatedRoute=null,this.name=Re,this.activateEvents=new w.vpe,this.deactivateEvents=new w.vpe,this.attachEvents=new w.vpe,this.detachEvents=new w.vpe,this.parentContexts=(0,w.f3M)(Zr),this.location=(0,w.f3M)(w.s_b),this.changeDetector=(0,w.f3M)(w.sBO),this.environmentInjector=(0,w.f3M)(w.lqb),this.inputBinder=(0,w.f3M)(Ln,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(D){if(D.name){const{firstChange:P,previousValue:j}=D.name;if(P)return;this.isTrackedInParentContexts(j)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(j)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(D){return this.parentContexts.getContext(D)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const D=this.parentContexts.getContext(this.name);D?.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w.vHH(4012,!1);this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,P){this.activated=D,this._activatedRoute=P,this.location.insert(D.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,P){if(this.isActivated)throw new w.vHH(4013,!1);this._activatedRoute=D;const j=this.location,_e=D.snapshot.component,ze=this.parentContexts.getOrCreateContext(this.name).children,Ve=new cs(D,ze,j.injector);this.activated=j.createComponent(_e,{index:j.length,injector:Ve,environmentInjector:P??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275dir=w.lG2({type:C,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[w.TTD]})}return C})();class cs{constructor(x,D,P){this.route=x,this.childContexts=D,this.parent=P}get(x,D){return x===cr?this.route:x===Zr?this.childContexts:this.parent.get(x,D)}}const Ln=new w.OlP("");let uo=(()=>{class C{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(D){this.unsubscribeFromRouteData(D),this.subscribeToRouteData(D)}unsubscribeFromRouteData(D){this.outletDataSubscriptions.get(D)?.unsubscribe(),this.outletDataSubscriptions.delete(D)}subscribeToRouteData(D){const{activatedRoute:P}=D,j=it([P.queryParams,P.params,P.data]).pipe((0,Dn.w)(([se,_e,ze],Ve)=>(ze={...se,..._e,...ze},0===Ve?(0,fe.of)(ze):Promise.resolve(ze)))).subscribe(se=>{if(!D.isActivated||!D.activatedComponentRef||D.activatedRoute!==P||null===P.component)return void this.unsubscribeFromRouteData(D);const _e=(0,w.qFp)(P.component);if(_e)for(const{templateName:ze}of _e.inputs)D.activatedComponentRef.setInput(ze,se[ze]);else this.unsubscribeFromRouteData(D)});this.outletDataSubscriptions.set(D,j)}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac})}return C})();function Is(C,x,D){if(D&&C.shouldReuseRoute(x.value,D.value.snapshot)){const P=D.value;P._futureSnapshot=x.value;const j=function zr(C,x,D){return x.children.map(P=>{for(const j of D.children)if(C.shouldReuseRoute(P.value,j.value.snapshot))return Is(C,P,j);return Is(C,P)})}(C,x,D);return new yi(P,j)}{if(C.shouldAttach(x.value)){const se=C.retrieve(x.value);if(null!==se){const _e=se.route;return _e.value._futureSnapshot=x.value,_e.children=x.children.map(ze=>Is(C,ze)),_e}}const P=function ls(C){return new cr(new Ne.X(C.url),new Ne.X(C.params),new Ne.X(C.queryParams),new Ne.X(C.fragment),new Ne.X(C.data),C.outlet,C.component,C)}(x.value),j=x.children.map(se=>Is(C,se));return new yi(P,j)}}const Us="ngNavigationCancelingError";function Jr(C,x){const{redirectTo:D,navigationBehaviorOptions:P}=ti(x)?{redirectTo:x,navigationBehaviorOptions:void 0}:x,j=Oo(!1,0,x);return j.url=D,j.navigationBehaviorOptions=P,j}function Oo(C,x,D){const P=new Error("NavigationCancelingError: "+(C||""));return P[Us]=!0,P.cancellationCode=x,D&&(P.url=D),P}function ho(C){return C&&C[Us]}let Gi=(()=>{class C{static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275cmp=w.Xpm({type:C,selectors:[["ng-component"]],standalone:!0,features:[w.jDz],decls:1,vars:0,template:function(P,j){1&P&&w._UZ(0,"router-outlet")},dependencies:[ri],encapsulation:2})}return C})();function Ts(C){const x=C.children&&C.children.map(Ts),D=x?{...C,children:x}:{...C};return!D.component&&!D.loadComponent&&(x||D.loadChildren)&&D.outlet&&D.outlet!==Re&&(D.component=Gi),D}function Fr(C){return C.outlet||Re}function Yr(C){if(!C)return null;if(C.routeConfig?._injector)return C.routeConfig._injector;for(let x=C.parent;x;x=x.parent){const D=x.routeConfig;if(D?._loadedInjector)return D._loadedInjector;if(D?._injector)return D._injector}return null}class no{constructor(x,D,P,j,se){this.routeReuseStrategy=x,this.futureState=D,this.currState=P,this.forwardEvent=j,this.inputBindingEnabled=se}activate(x){const D=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,P,x),Mi(this.futureState.root),this.activateChildRoutes(D,P,x)}deactivateChildRoutes(x,D,P){const j=Js(D);x.children.forEach(se=>{const _e=se.value.outlet;this.deactivateRoutes(se,j[_e],P),delete j[_e]}),Object.values(j).forEach(se=>{this.deactivateRouteAndItsChildren(se,P)})}deactivateRoutes(x,D,P){const j=x.value,se=D?D.value:null;if(j===se)if(j.component){const _e=P.getContext(j.outlet);_e&&this.deactivateChildRoutes(x,D,_e.children)}else this.deactivateChildRoutes(x,D,P);else se&&this.deactivateRouteAndItsChildren(D,P)}deactivateRouteAndItsChildren(x,D){x.value.component&&this.routeReuseStrategy.shouldDetach(x.value.snapshot)?this.detachAndStoreRouteSubtree(x,D):this.deactivateRouteAndOutlet(x,D)}detachAndStoreRouteSubtree(x,D){const P=D.getContext(x.value.outlet),j=P&&x.value.component?P.children:D,se=Js(x);for(const _e of Object.keys(se))this.deactivateRouteAndItsChildren(se[_e],j);if(P&&P.outlet){const _e=P.outlet.detach(),ze=P.children.onOutletDeactivated();this.routeReuseStrategy.store(x.value.snapshot,{componentRef:_e,route:x,contexts:ze})}}deactivateRouteAndOutlet(x,D){const P=D.getContext(x.value.outlet),j=P&&x.value.component?P.children:D,se=Js(x);for(const _e of Object.keys(se))this.deactivateRouteAndItsChildren(se[_e],j);P&&(P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated()),P.attachRef=null,P.route=null)}activateChildRoutes(x,D,P){const j=Js(D);x.children.forEach(se=>{this.activateRoutes(se,j[se.value.outlet],P),this.forwardEvent(new Qs(se.value.snapshot))}),x.children.length&&this.forwardEvent(new ta(x.value.snapshot))}activateRoutes(x,D,P){const j=x.value,se=D?D.value:null;if(Mi(j),j===se)if(j.component){const _e=P.getOrCreateContext(j.outlet);this.activateChildRoutes(x,D,_e.children)}else this.activateChildRoutes(x,D,P);else if(j.component){const _e=P.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const ze=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),_e.children.onOutletReAttached(ze.contexts),_e.attachRef=ze.componentRef,_e.route=ze.route.value,_e.outlet&&_e.outlet.attach(ze.componentRef,ze.route.value),Mi(ze.route.value),this.activateChildRoutes(x,null,_e.children)}else{const ze=Yr(j.snapshot);_e.attachRef=null,_e.route=j,_e.injector=ze,_e.outlet&&_e.outlet.activateWith(j,_e.injector),this.activateChildRoutes(x,null,_e.children)}}else this.activateChildRoutes(x,null,P)}}class xo{constructor(x){this.path=x,this.route=this.path[this.path.length-1]}}class bi{constructor(x,D){this.component=x,this.route=D}}function xi(C,x,D){const P=C._root;return fo(P,x?x._root:null,D,[P.value])}function Ro(C,x){const D=Symbol(),P=x.get(C,D);return P===D?"function"!=typeof C||(0,w.Z0I)(C)?x.get(C):C:P}function fo(C,x,D,P,j={canDeactivateChecks:[],canActivateChecks:[]}){const se=Js(x);return C.children.forEach(_e=>{(function Po(C,x,D,P,j={canDeactivateChecks:[],canActivateChecks:[]}){const se=C.value,_e=x?x.value:null,ze=D?D.getContext(C.value.outlet):null;if(_e&&se.routeConfig===_e.routeConfig){const Ve=function Ar(C,x,D){if("function"==typeof D)return D(C,x);switch(D){case"pathParamsChange":return!tt(C.url,x.url);case"pathParamsOrQueryParamsChange":return!tt(C.url,x.url)||!sn(C.queryParams,x.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mr(C,x)||!sn(C.queryParams,x.queryParams);default:return!Mr(C,x)}}(_e,se,se.routeConfig.runGuardsAndResolvers);Ve?j.canActivateChecks.push(new xo(P)):(se.data=_e.data,se._resolvedData=_e._resolvedData),fo(C,x,se.component?ze?ze.children:null:D,P,j),Ve&&ze&&ze.outlet&&ze.outlet.isActivated&&j.canDeactivateChecks.push(new bi(ze.outlet.component,_e))}else _e&&ia(x,ze,j),j.canActivateChecks.push(new xo(P)),fo(C,null,se.component?ze?ze.children:null:D,P,j)})(_e,se[_e.value.outlet],D,P.concat([_e.value]),j),delete se[_e.value.outlet]}),Object.entries(se).forEach(([_e,ze])=>ia(ze,D.getContext(_e),j)),j}function ia(C,x,D){const P=Js(C),j=C.value;Object.entries(P).forEach(([se,_e])=>{ia(_e,j.component?x?x.children.getContext(se):null:x,D)}),D.canDeactivateChecks.push(new bi(j.component&&x&&x.outlet&&x.outlet.isActivated?x.outlet.component:null,j))}function sl(C){return"function"==typeof C}function Es(C){return C instanceof Ft.K||"EmptyError"===C?.name}const Qi=Symbol("INITIAL_VALUE");function Li(){return(0,Dn.w)(C=>it(C.map(x=>x.pipe((0,$n.q)(1),(0,ar.O)(Qi)))).pipe((0,dn.U)(x=>{for(const D of x)if(!0!==D){if(D===Qi)return Qi;if(!1===D||D instanceof Rn)return D}return!0}),(0,vr.h)(x=>x!==Qi),(0,$n.q)(1)))}function oa(C){return(0,ot.z)((0,Rt.b)(x=>{if(ti(x))throw Jr(0,x)}),(0,dn.U)(x=>!0===x))}class po{constructor(x){this.segmentGroup=x||null}}class ol{constructor(x){this.urlTree=x}}function Qr(C){return vt(new po(C))}function Hs(C){return vt(new ol(C))}class Ei{constructor(x,D){this.urlSerializer=x,this.urlTree=D}noMatchError(x){return new w.vHH(4002,!1)}lineralizeSegments(x,D){let P=[],j=D.root;for(;;){if(P=P.concat(j.segments),0===j.numberOfChildren)return(0,fe.of)(P);if(j.numberOfChildren>1||!j.children[Re])return vt(new w.vHH(4e3,!1));j=j.children[Re]}}applyRedirectCommands(x,D,P){return this.applyRedirectCreateUrlTree(D,this.urlSerializer.parse(D),x,P)}applyRedirectCreateUrlTree(x,D,P,j){const se=this.createSegmentGroup(x,D.root,P,j);return new Rn(se,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(x,D){const P={};return Object.entries(x).forEach(([j,se])=>{if("string"==typeof se&&se.startsWith(":")){const ze=se.substring(1);P[j]=D[ze]}else P[j]=se}),P}createSegmentGroup(x,D,P,j){const se=this.createSegments(x,D.segments,P,j);let _e={};return Object.entries(D.children).forEach(([ze,Ve])=>{_e[ze]=this.createSegmentGroup(x,Ve,P,j)}),new nr(se,_e)}createSegments(x,D,P,j){return D.map(se=>se.path.startsWith(":")?this.findPosParam(x,se,j):this.findOrReturn(se,P))}findPosParam(x,D,P){const j=P[D.path.substring(1)];if(!j)throw new w.vHH(4001,!1);return j}findOrReturn(x,D){let P=0;for(const j of D){if(j.path===x.path)return D.splice(P),j;P++}return x}}const Cs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Bi(C,x,D,P,j){const se=Ji(C,x,D);return se.matched?(P=function Xs(C,x){return C.providers&&!C._injector&&(C._injector=(0,w.MMx)(C.providers,x,`Route: ${C.path}`)),C._injector??x}(x,P),function us(C,x,D,P){const j=x.canMatch;if(!j||0===j.length)return(0,fe.of)(!0);const se=j.map(_e=>{const ze=Ro(_e,C);return tr(function Yt(C){return C&&sl(C.canMatch)}(ze)?ze.canMatch(x,D):C.runInContext(()=>ze(x,D)))});return(0,fe.of)(se).pipe(Li(),oa())}(P,x,D).pipe((0,dn.U)(_e=>!0===_e?se:{...Cs}))):(0,fe.of)(se)}function Ji(C,x,D){if(""===x.path)return"full"===x.pathMatch&&(C.hasChildren()||D.length>0)?{...Cs}:{matched:!0,consumedSegments:[],remainingSegments:D,parameters:{},positionalParamSegments:{}};const j=(x.matcher||wr)(D,C,x);if(!j)return{...Cs};const se={};Object.entries(j.posParams??{}).forEach(([ze,Ve])=>{se[ze]=Ve.path});const _e=j.consumed.length>0?{...se,...j.consumed[j.consumed.length-1].parameters}:se;return{matched:!0,consumedSegments:j.consumed,remainingSegments:D.slice(j.consumed.length),parameters:_e,positionalParamSegments:j.posParams??{}}}function go(C,x,D,P){return D.length>0&&function wa(C,x,D){return D.some(P=>Ec(C,x,P)&&Fr(P)!==Re)}(C,D,P)?{segmentGroup:new nr(x,Ss(P,new nr(D,C.children))),slicedSegments:[]}:0===D.length&&function Tc(C,x,D){return D.some(P=>Ec(C,x,P))}(C,D,P)?{segmentGroup:new nr(C.segments,ba(C,0,D,P,C.children)),slicedSegments:D}:{segmentGroup:new nr(C.segments,C.children),slicedSegments:D}}function ba(C,x,D,P,j){const se={};for(const _e of P)if(Ec(C,D,_e)&&!j[Fr(_e)]){const ze=new nr([],{});se[Fr(_e)]=ze}return{...j,...se}}function Ss(C,x){const D={};D[Re]=x;for(const P of C)if(""===P.path&&Fr(P)!==Re){const j=new nr([],{});D[Fr(P)]=j}return D}function Ec(C,x,D){return(!(C.hasChildren()||x.length>0)||"full"!==D.pathMatch)&&""===D.path}class cu{constructor(x,D,P,j,se,_e,ze){this.injector=x,this.configLoader=D,this.rootComponentType=P,this.config=j,this.urlTree=se,this.paramsInheritanceStrategy=_e,this.urlSerializer=ze,this.allowRedirects=!0,this.applyRedirects=new Ei(this.urlSerializer,this.urlTree)}noMatchError(x){return new w.vHH(4002,!1)}recognize(){const x=go(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,x,Re).pipe(jt(D=>{if(D instanceof ol)return this.allowRedirects=!1,this.urlTree=D.urlTree,this.match(D.urlTree);throw D instanceof po?this.noMatchError(D):D}),(0,dn.U)(D=>{const P=new Pn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Re,this.rootComponentType,null,{}),j=new yi(P,D),se=new Hr("",j),_e=function _a(C,x,D=null,P=null){return Si(vs(C),x,D,P)}(P,[],this.urlTree.queryParams,this.urlTree.fragment);return _e.queryParams=this.urlTree.queryParams,se.url=this.urlSerializer.serialize(_e),this.inheritParamsAndData(se._root),{state:se,tree:_e}}))}match(x){return this.processSegmentGroup(this.injector,this.config,x.root,Re).pipe(jt(P=>{throw P instanceof po?this.noMatchError(P):P}))}inheritParamsAndData(x){const D=x.value,P=Lt(D,this.paramsInheritanceStrategy);D.params=Object.freeze(P.params),D.data=Object.freeze(P.data),x.children.forEach(j=>this.inheritParamsAndData(j))}processSegmentGroup(x,D,P,j){return 0===P.segments.length&&P.hasChildren()?this.processChildren(x,D,P):this.processSegment(x,D,P,P.segments,j,!0)}processChildren(x,D,P){const j=[];for(const se of Object.keys(P.children))"primary"===se?j.unshift(se):j.push(se);return(0,de.D)(j).pipe(bt(se=>{const _e=P.children[se],ze=function eo(C,x){const D=C.filter(P=>Fr(P)===x);return D.push(...C.filter(P=>Fr(P)!==x)),D}(D,se);return this.processSegmentGroup(x,ze,_e,se)}),function bn(C,x){return(0,ve.e)(function hn(C,x,D,P,j){return(se,_e)=>{let ze=D,Ve=x,$t=0;se.subscribe((0,et.x)(_e,Gn=>{const Nr=$t++;Ve=ze?C(Ve,Gn,Nr):(ze=!0,Gn),P&&_e.next(Ve)},j&&(()=>{ze&&_e.next(Ve),_e.complete()})))}}(C,x,arguments.length>=2,!0))}((se,_e)=>(se.push(..._e),se)),je(null),function Dt(C,x){const D=arguments.length>=2;return P=>P.pipe(C?(0,vr.h)((j,se)=>C(j,se,P)):Ee.y,cn(1),D?je(x):Ye(()=>new Ft.K))}(),(0,ke.z)(se=>{if(null===se)return Qr(P);const _e=mo(se);return function lu(C){C.sort((x,D)=>x.value.outlet===Re?-1:D.value.outlet===Re?1:x.value.outlet.localeCompare(D.value.outlet))}(_e),(0,fe.of)(_e)}))}processSegment(x,D,P,j,se,_e){return(0,de.D)(D).pipe(bt(ze=>this.processSegmentAgainstRoute(ze._injector??x,D,ze,P,j,se,_e).pipe(jt(Ve=>{if(Ve instanceof po)return(0,fe.of)(null);throw Ve}))),nt(ze=>!!ze),jt(ze=>{if(Es(ze))return function Nl(C,x,D){return 0===x.length&&!C.children[D]}(P,j,se)?(0,fe.of)([]):Qr(P);throw ze}))}processSegmentAgainstRoute(x,D,P,j,se,_e,ze){return function Dc(C,x,D,P){return!!(Fr(C)===P||P!==Re&&Ec(x,D,C))&&("**"===C.path||Ji(x,C,D).matched)}(P,j,se,_e)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(x,j,P,se,_e,ze):ze&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(x,j,D,P,se,_e):Qr(j):Qr(j)}expandSegmentAgainstRouteUsingRedirect(x,D,P,j,se,_e){return"**"===j.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(x,P,j,_e):this.expandRegularSegmentAgainstRouteUsingRedirect(x,D,P,j,se,_e)}expandWildCardWithParamsAgainstRouteUsingRedirect(x,D,P,j){const se=this.applyRedirects.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?Hs(se):this.applyRedirects.lineralizeSegments(P,se).pipe((0,ke.z)(_e=>{const ze=new nr(_e,{});return this.processSegment(x,D,ze,_e,j,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(x,D,P,j,se,_e){const{matched:ze,consumedSegments:Ve,remainingSegments:$t,positionalParamSegments:Gn}=Ji(D,j,se);if(!ze)return Qr(D);const Nr=this.applyRedirects.applyRedirectCommands(Ve,j.redirectTo,Gn);return j.redirectTo.startsWith("/")?Hs(Nr):this.applyRedirects.lineralizeSegments(j,Nr).pipe((0,ke.z)(mr=>this.processSegment(x,P,D,mr.concat($t),_e,!1)))}matchSegmentAgainstRoute(x,D,P,j,se,_e){let ze;if("**"===P.path){const Ve=j.length>0?In(j).parameters:{},$t=new Pn(j,Ve,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,M(P),Fr(P),P.component??P._loadedComponent??null,P,ne(P));ze=(0,fe.of)({snapshot:$t,consumedSegments:[],remainingSegments:[]}),D.children={}}else ze=Bi(D,P,j,x).pipe((0,dn.U)(({matched:Ve,consumedSegments:$t,remainingSegments:Gn,parameters:Nr})=>Ve?{snapshot:new Pn($t,Nr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,M(P),Fr(P),P.component??P._loadedComponent??null,P,ne(P)),consumedSegments:$t,remainingSegments:Gn}:null));return ze.pipe((0,Dn.w)(Ve=>null===Ve?Qr(D):this.getChildConfig(x=P._injector??x,P,j).pipe((0,Dn.w)(({routes:$t})=>{const Gn=P._loadedInjector??x,{snapshot:Nr,consumedSegments:mr,remainingSegments:rc}=Ve,{segmentGroup:Gr,slicedSegments:Ea}=go(D,mr,rc,$t);if(0===Ea.length&&Gr.hasChildren())return this.processChildren(Gn,$t,Gr).pipe((0,dn.U)(ua=>null===ua?null:[new yi(Nr,ua)]));if(0===$t.length&&0===Ea.length)return(0,fe.of)([new yi(Nr,[])]);const Rr=Fr(P)===se;return this.processSegment(Gn,$t,Gr,Ea,Rr?Re:se,!0).pipe((0,dn.U)(ua=>[new yi(Nr,ua)]))}))))}getChildConfig(x,D,P){return D.children?(0,fe.of)({routes:D.children,injector:x}):D.loadChildren?void 0!==D._loadedRoutes?(0,fe.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):function Ri(C,x,D,P){const j=x.canLoad;if(void 0===j||0===j.length)return(0,fe.of)(!0);const se=j.map(_e=>{const ze=Ro(_e,C);return tr(function ee(C){return C&&sl(C.canLoad)}(ze)?ze.canLoad(x,D):C.runInContext(()=>ze(x,D)))});return(0,fe.of)(se).pipe(Li(),oa())}(x,D,P).pipe((0,ke.z)(j=>j?this.configLoader.loadChildren(x,D).pipe((0,Rt.b)(se=>{D._loadedRoutes=se.routes,D._loadedInjector=se.injector})):function Wu(C){return vt(Oo(!1,3))}())):(0,fe.of)({routes:[],injector:x})}}function Hc(C){const x=C.value.routeConfig;return x&&""===x.path}function mo(C){const x=[],D=new Set;for(const P of C){if(!Hc(P)){x.push(P);continue}const j=x.find(se=>P.value.routeConfig===se.value.routeConfig);void 0!==j?(j.children.push(...P.children),D.add(j)):x.push(P)}for(const P of D){const j=mo(P.children);x.push(new yi(P.value,j))}return x.filter(P=>!D.has(P))}function M(C){return C.data||{}}function ne(C){return C.resolve||{}}function Xn(C){return"string"==typeof C.title||null===C.title}function Lr(C){return(0,Dn.w)(x=>{const D=C(x);return D?(0,de.D)(D).pipe((0,dn.U)(()=>x)):(0,fe.of)(x)})}const er=new w.OlP("ROUTES");let Hn=(()=>{class C{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,w.f3M)(w.Sil)}loadComponent(D){if(this.componentLoaders.get(D))return this.componentLoaders.get(D);if(D._loadedComponent)return(0,fe.of)(D._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(D);const P=tr(D.loadComponent()).pipe((0,dn.U)(gi),(0,Rt.b)(se=>{this.onLoadEndListener&&this.onLoadEndListener(D),D._loadedComponent=se}),br(()=>{this.componentLoaders.delete(D)})),j=new gt(P,()=>new Vn.x).pipe(Ke());return this.componentLoaders.set(D,j),j}loadChildren(D,P){if(this.childrenLoaders.get(P))return this.childrenLoaders.get(P);if(P._loadedRoutes)return(0,fe.of)({routes:P._loadedRoutes,injector:P._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(P);const se=function Xr(C,x,D,P){return tr(C.loadChildren()).pipe((0,dn.U)(gi),(0,ke.z)(j=>j instanceof w.YKP||Array.isArray(j)?(0,fe.of)(j):(0,de.D)(x.compileModuleAsync(j))),(0,dn.U)(j=>{P&&P(C);let se,_e,ze=!1;return Array.isArray(j)?(_e=j,!0):(se=j.create(D).injector,_e=se.get(er,[],{optional:!0,self:!0}).flat()),{routes:_e.map(Ts),injector:se}}))}(P,this.compiler,D,this.onLoadEndListener).pipe(br(()=>{this.childrenLoaders.delete(P)})),_e=new gt(se,()=>new Vn.x).pipe(Ke());return this.childrenLoaders.set(P,_e),_e}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function gi(C){return function xr(C){return C&&"object"==typeof C&&"default"in C}(C)?C.default:C}let As=(()=>{class C{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Vn.x,this.transitionAbortSubject=new Vn.x,this.configLoader=(0,w.f3M)(Hn),this.environmentInjector=(0,w.f3M)(w.lqb),this.urlSerializer=(0,w.f3M)(Ze),this.rootContexts=(0,w.f3M)(Zr),this.inputBindingEnabled=null!==(0,w.f3M)(Ln,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,fe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=j=>this.events.next(new ea(j)),this.configLoader.onLoadStartListener=j=>this.events.next(new yc(j))}complete(){this.transitions?.complete()}handleNavigationRequest(D){const P=++this.navigationId;this.transitions?.next({...this.transitions.value,...D,id:P})}setupNavigations(D,P,j){return this.transitions=new Ne.X({id:0,currentUrlTree:P,currentRawUrl:P,currentBrowserUrl:P,extractedUrl:D.urlHandlingStrategy.extract(P),urlAfterRedirects:D.urlHandlingStrategy.extract(P),rawUrl:P,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Pa,restoredState:null,currentSnapshot:j.snapshot,targetSnapshot:null,currentRouterState:j,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,vr.h)(se=>0!==se.id),(0,dn.U)(se=>({...se,extractedUrl:D.urlHandlingStrategy.extract(se.rawUrl)})),(0,Dn.w)(se=>{this.currentTransition=se;let _e=!1,ze=!1;return(0,fe.of)(se).pipe((0,Rt.b)(Ve=>{this.currentNavigation={id:Ve.id,initialUrl:Ve.rawUrl,extractedUrl:Ve.extractedUrl,trigger:Ve.source,extras:Ve.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Dn.w)(Ve=>{const $t=Ve.currentBrowserUrl.toString(),Gn=!D.navigated||Ve.extractedUrl.toString()!==$t||$t!==Ve.currentUrlTree.toString();if(!Gn&&"reload"!==(Ve.extras.onSameUrlNavigation??D.onSameUrlNavigation)){const mr="";return this.events.next(new Hi(Ve.id,this.urlSerializer.serialize(Ve.rawUrl),mr,0)),Ve.resolve(null),_t.E}if(D.urlHandlingStrategy.shouldProcessUrl(Ve.rawUrl))return(0,fe.of)(Ve).pipe((0,Dn.w)(mr=>{const rc=this.transitions?.getValue();return this.events.next(new pi(mr.id,this.urlSerializer.serialize(mr.extractedUrl),mr.source,mr.restoredState)),rc!==this.transitions?.getValue()?_t.E:Promise.resolve(mr)}),function V(C,x,D,P,j,se){return(0,ke.z)(_e=>function Ol(C,x,D,P,j,se,_e="emptyOnly"){return new cu(C,x,D,P,j,_e,se).recognize()}(C,x,D,P,_e.extractedUrl,j,se).pipe((0,dn.U)(({state:ze,tree:Ve})=>({..._e,targetSnapshot:ze,urlAfterRedirects:Ve}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,D.config,this.urlSerializer,D.paramsInheritanceStrategy),(0,Rt.b)(mr=>{se.targetSnapshot=mr.targetSnapshot,se.urlAfterRedirects=mr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:mr.urlAfterRedirects};const rc=new Tr(mr.id,this.urlSerializer.serialize(mr.extractedUrl),this.urlSerializer.serialize(mr.urlAfterRedirects),mr.targetSnapshot);this.events.next(rc)}));if(Gn&&D.urlHandlingStrategy.shouldProcessUrl(Ve.currentRawUrl)){const{id:mr,extractedUrl:rc,source:Gr,restoredState:Ea,extras:Rr}=Ve,ua=new pi(mr,this.urlSerializer.serialize(rc),Gr,Ea);this.events.next(ua);const Ud=tc(0,this.rootComponentType).snapshot;return this.currentTransition=se={...Ve,targetSnapshot:Ud,urlAfterRedirects:rc,extras:{...Rr,skipLocationChange:!1,replaceUrl:!1}},(0,fe.of)(se)}{const mr="";return this.events.next(new Hi(Ve.id,this.urlSerializer.serialize(Ve.extractedUrl),mr,1)),Ve.resolve(null),_t.E}}),(0,Rt.b)(Ve=>{const $t=new ya(Ve.id,this.urlSerializer.serialize(Ve.extractedUrl),this.urlSerializer.serialize(Ve.urlAfterRedirects),Ve.targetSnapshot);this.events.next($t)}),(0,dn.U)(Ve=>(this.currentTransition=se={...Ve,guards:xi(Ve.targetSnapshot,Ve.currentSnapshot,this.rootContexts)},se)),function bc(C,x){return(0,ke.z)(D=>{const{targetSnapshot:P,currentSnapshot:j,guards:{canActivateChecks:se,canDeactivateChecks:_e}}=D;return 0===_e.length&&0===se.length?(0,fe.of)({...D,guardsResult:!0}):function sa(C,x,D,P){return(0,de.D)(C).pipe((0,ke.z)(j=>function Vc(C,x,D,P,j){const se=x&&x.routeConfig?x.routeConfig.canDeactivate:null;if(!se||0===se.length)return(0,fe.of)(!0);const _e=se.map(ze=>{const Ve=Yr(x)??j,$t=Ro(ze,Ve);return tr(function Ie(C){return C&&sl(C.canDeactivate)}($t)?$t.canDeactivate(C,x,D,P):Ve.runInContext(()=>$t(C,x,D,P))).pipe(nt())});return(0,fe.of)(_e).pipe(Li())}(j.component,j.route,D,x,P)),nt(j=>!0!==j,!0))}(_e,P,j,C).pipe((0,ke.z)(ze=>ze&&function q(C){return"boolean"==typeof C}(ze)?function ko(C,x,D,P){return(0,de.D)(x).pipe(bt(j=>(0,xn.z)(function La(C,x){return null!==C&&x&&x(new ka(C)),(0,fe.of)(!0)}(j.route.parent,P),function wc(C,x){return null!==C&&x&&x(new Ni(C)),(0,fe.of)(!0)}(j.route,P),function Al(C,x,D){const P=x[x.length-1],se=x.slice(0,x.length-1).reverse().map(_e=>function vc(C){const x=C.routeConfig?C.routeConfig.canActivateChild:null;return x&&0!==x.length?{node:C,guards:x}:null}(_e)).filter(_e=>null!==_e).map(_e=>mt(()=>{const ze=_e.guards.map(Ve=>{const $t=Yr(_e.node)??D,Gn=Ro(Ve,$t);return tr(function oe(C){return C&&sl(C.canActivateChild)}(Gn)?Gn.canActivateChild(P,C):$t.runInContext(()=>Gn(P,C))).pipe(nt())});return(0,fe.of)(ze).pipe(Li())}));return(0,fe.of)(se).pipe(Li())}(C,j.path,D),function Ds(C,x,D){const P=x.routeConfig?x.routeConfig.canActivate:null;if(!P||0===P.length)return(0,fe.of)(!0);const j=P.map(se=>mt(()=>{const _e=Yr(x)??D,ze=Ro(se,_e);return tr(function B(C){return C&&sl(C.canActivate)}(ze)?ze.canActivate(x,C):_e.runInContext(()=>ze(x,C))).pipe(nt())}));return(0,fe.of)(j).pipe(Li())}(C,j.route,D))),nt(j=>!0!==j,!0))}(P,se,C,x):(0,fe.of)(ze)),(0,dn.U)(ze=>({...D,guardsResult:ze})))})}(this.environmentInjector,Ve=>this.events.next(Ve)),(0,Rt.b)(Ve=>{if(se.guardsResult=Ve.guardsResult,ti(Ve.guardsResult))throw Jr(0,Ve.guardsResult);const $t=new Ai(Ve.id,this.urlSerializer.serialize(Ve.extractedUrl),this.urlSerializer.serialize(Ve.urlAfterRedirects),Ve.targetSnapshot,!!Ve.guardsResult);this.events.next($t)}),(0,vr.h)(Ve=>!!Ve.guardsResult||(this.cancelNavigationTransition(Ve,"",3),!1)),Lr(Ve=>{if(Ve.guards.canActivateChecks.length)return(0,fe.of)(Ve).pipe((0,Rt.b)($t=>{const Gn=new rl($t.id,this.urlSerializer.serialize($t.extractedUrl),this.urlSerializer.serialize($t.urlAfterRedirects),$t.targetSnapshot);this.events.next(Gn)}),(0,Dn.w)($t=>{let Gn=!1;return(0,fe.of)($t).pipe(function X(C,x){return(0,ke.z)(D=>{const{targetSnapshot:P,guards:{canActivateChecks:j}}=D;if(!j.length)return(0,fe.of)(D);let se=0;return(0,de.D)(j).pipe(bt(_e=>function ye(C,x,D,P){const j=C.routeConfig,se=C._resolve;return void 0!==j?.title&&!Xn(j)&&(se[at]=j.title),function Qe(C,x,D,P){const j=function ct(C){return[...Object.keys(C),...Object.getOwnPropertySymbols(C)]}(C);if(0===j.length)return(0,fe.of)({});const se={};return(0,de.D)(j).pipe((0,ke.z)(_e=>function on(C,x,D,P){const j=Yr(x)??P,se=Ro(C,j);return tr(se.resolve?se.resolve(x,D):j.runInContext(()=>se(x,D)))}(C[_e],x,D,P).pipe(nt(),(0,Rt.b)(ze=>{se[_e]=ze}))),cn(1),(0,Yn.h)(se),jt(_e=>Es(_e)?_t.E:vt(_e)))}(se,C,x,P).pipe((0,dn.U)(_e=>(C._resolvedData=_e,C.data=Lt(C,D).resolve,j&&Xn(j)&&(C.data[at]=j.title),null)))}(_e.route,P,C,x)),(0,Rt.b)(()=>se++),cn(1),(0,ke.z)(_e=>se===j.length?(0,fe.of)(D):_t.E))})}(D.paramsInheritanceStrategy,this.environmentInjector),(0,Rt.b)({next:()=>Gn=!0,complete:()=>{Gn||this.cancelNavigationTransition($t,"",2)}}))}),(0,Rt.b)($t=>{const Gn=new Bs($t.id,this.urlSerializer.serialize($t.extractedUrl),this.urlSerializer.serialize($t.urlAfterRedirects),$t.targetSnapshot);this.events.next(Gn)}))}),Lr(Ve=>{const $t=Gn=>{const Nr=[];Gn.routeConfig?.loadComponent&&!Gn.routeConfig._loadedComponent&&Nr.push(this.configLoader.loadComponent(Gn.routeConfig).pipe((0,Rt.b)(mr=>{Gn.component=mr}),(0,dn.U)(()=>{})));for(const mr of Gn.children)Nr.push(...$t(mr));return Nr};return it($t(Ve.targetSnapshot.root)).pipe(je(),(0,$n.q)(1))}),Lr(()=>this.afterPreactivation()),(0,dn.U)(Ve=>{const $t=function Fa(C,x,D){const P=Is(C,x._root,D?D._root:void 0);return new Ii(P,x)}(D.routeReuseStrategy,Ve.targetSnapshot,Ve.currentRouterState);return this.currentTransition=se={...Ve,targetRouterState:$t},se}),(0,Rt.b)(()=>{this.events.next(new na)}),((C,x,D,P)=>(0,dn.U)(j=>(new no(x,j.targetRouterState,j.currentRouterState,D,P).activate(C),j)))(this.rootContexts,D.routeReuseStrategy,Ve=>this.events.next(Ve),this.inputBindingEnabled),(0,$n.q)(1),(0,Rt.b)({next:Ve=>{_e=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ys(Ve.id,this.urlSerializer.serialize(Ve.extractedUrl),this.urlSerializer.serialize(Ve.urlAfterRedirects))),D.titleStrategy?.updateTitle(Ve.targetRouterState.snapshot),Ve.resolve(!0)},complete:()=>{_e=!0}}),(0,kr.R)(this.transitionAbortSubject.pipe((0,Rt.b)(Ve=>{throw Ve}))),br(()=>{_e||ze||this.cancelNavigationTransition(se,"",1),this.currentNavigation?.id===se.id&&(this.currentNavigation=null)}),jt(Ve=>{if(ze=!0,ho(Ve))this.events.next(new ws(se.id,this.urlSerializer.serialize(se.extractedUrl),Ve.message,Ve.cancellationCode)),function il(C){return ho(C)&&ti(C.url)}(Ve)?this.events.next(new Ao(Ve.url)):se.resolve(!1);else{this.events.next(new ec(se.id,this.urlSerializer.serialize(se.extractedUrl),Ve,se.targetSnapshot??void 0));try{se.resolve(D.errorHandler(Ve))}catch($t){se.reject($t)}}return _t.E}))}))}cancelNavigationTransition(D,P,j){const se=new ws(D.id,this.urlSerializer.serialize(D.extractedUrl),P,j);this.events.next(se),D.resolve(!1)}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function Pi(C){return C!==Pa}let ji=(()=>{class C{buildTitle(D){let P,j=D.root;for(;void 0!==j;)P=this.getResolvedTitleForRoute(j)??P,j=j.children.find(se=>se.outlet===Re);return P}getResolvedTitleForRoute(D){return D.data[at]}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:function(){return(0,w.f3M)(ds)},providedIn:"root"})}return C})(),ds=(()=>{class C extends ji{constructor(D){super(),this.title=D}updateTitle(D){const P=this.buildTitle(D);void 0!==P&&this.title.setTitle(P)}static#e=this.\u0275fac=function(P){return new(P||C)(w.LFG(xe.Dx))};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})(),aa=(()=>{class C{static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:function(){return(0,w.f3M)(Cc)},providedIn:"root"})}return C})();class hs{shouldDetach(x){return!1}store(x,D){}shouldAttach(x){return!1}retrieve(x){return null}shouldReuseRoute(x,D){return x.routeConfig===D.routeConfig}}let Cc=(()=>{class C extends hs{static#e=this.\u0275fac=function(){let D;return function(j){return(D||(D=w.n5z(C)))(j||C)}}();static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const Gs=new w.OlP("",{providedIn:"root",factory:()=>({})});let Ml=(()=>{class C{static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:function(){return(0,w.f3M)(js)},providedIn:"root"})}return C})(),js=(()=>{class C{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,P){return D}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();var Ba=function(C){return C[C.COMPLETE=0]="COMPLETE",C[C.FAILED=1]="FAILED",C[C.REDIRECTING=2]="REDIRECTING",C}(Ba||{});function Ua(C,x){C.events.pipe((0,vr.h)(D=>D instanceof Ys||D instanceof ws||D instanceof ec||D instanceof Hi),(0,dn.U)(D=>D instanceof Ys||D instanceof Hi?Ba.COMPLETE:D instanceof ws&&(0===D.code||1===D.code)?Ba.REDIRECTING:Ba.FAILED),(0,vr.h)(D=>D!==Ba.REDIRECTING),(0,$n.q)(1)).subscribe(()=>{x()})}function mi(C){throw C}function al(C,x,D){return x.parse("/")}const xl={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ro=(()=>{class C{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,w.f3M)(w.c2e),this.isNgZoneEnabled=!1,this._events=new Vn.x,this.options=(0,w.f3M)(Gs,{optional:!0})||{},this.pendingTasks=(0,w.f3M)(w.HDt),this.errorHandler=this.options.errorHandler||mi,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||al,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,w.f3M)(Ml),this.routeReuseStrategy=(0,w.f3M)(aa),this.titleStrategy=(0,w.f3M)(ji),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,w.f3M)(er,{optional:!0})?.flat()??[],this.navigationTransitions=(0,w.f3M)(As),this.urlSerializer=(0,w.f3M)(Ze),this.location=(0,w.f3M)(dt.Ye),this.componentInputBindingEnabled=!!(0,w.f3M)(Ln,{optional:!0}),this.eventsSubscription=new Ge.w0,this.isNgZoneEnabled=(0,w.f3M)(w.R0b)instanceof w.R0b&&w.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Rn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=tc(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(D=>{this.lastSuccessfulId=D.id,this.currentPageId=this.browserPageId},D=>{this.console.warn(`Unhandled Navigation Error: ${D}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const D=this.navigationTransitions.events.subscribe(P=>{try{const{currentTransition:j}=this.navigationTransitions;if(null===j)return void(Sc(P)&&this._events.next(P));if(P instanceof pi)Pi(j.source)&&(this.browserUrlTree=j.extractedUrl);else if(P instanceof Hi)this.rawUrlTree=j.rawUrl;else if(P instanceof Tr){if("eager"===this.urlUpdateStrategy){if(!j.extras.skipLocationChange){const se=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl);this.setBrowserUrl(se,j)}this.browserUrlTree=j.urlAfterRedirects}}else if(P instanceof na)this.currentUrlTree=j.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl),this.routerState=j.targetRouterState,"deferred"===this.urlUpdateStrategy&&(j.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,j),this.browserUrlTree=j.urlAfterRedirects);else if(P instanceof ws)0!==P.code&&1!==P.code&&(this.navigated=!0),(3===P.code||2===P.code)&&this.restoreHistory(j);else if(P instanceof Ao){const se=this.urlHandlingStrategy.merge(P.url,j.currentRawUrl),_e={skipLocationChange:j.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Pi(j.source)};this.scheduleNavigation(se,Pa,null,_e,{resolve:j.resolve,reject:j.reject,promise:j.promise})}P instanceof ec&&this.restoreHistory(j,!0),P instanceof Ys&&(this.navigated=!0),Sc(P)&&this._events.next(P)}catch(j){this.navigationTransitions.transitionAbortSubject.next(j)}});this.eventsSubscription.add(D)}resetRootComponentType(D){this.routerState.root.component=D,this.navigationTransitions.rootComponentType=D}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const D=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Pa,D)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const P="popstate"===D.type?"popstate":"hashchange";"popstate"===P&&setTimeout(()=>{this.navigateToSyncWithBrowser(D.url,P,D.state)},0)}))}navigateToSyncWithBrowser(D,P,j){const se={replaceUrl:!0},_e=j?.navigationId?j:null;if(j){const Ve={...j};delete Ve.navigationId,delete Ve.\u0275routerPageId,0!==Object.keys(Ve).length&&(se.state=Ve)}const ze=this.parseUrl(D);this.scheduleNavigation(ze,P,_e,se)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(D){this.config=D.map(Ts),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(D,P={}){const{relativeTo:j,queryParams:se,fragment:_e,queryParamsHandling:ze,preserveFragment:Ve}=P,$t=Ve?this.currentUrlTree.fragment:_e;let Nr,Gn=null;switch(ze){case"merge":Gn={...this.currentUrlTree.queryParams,...se};break;case"preserve":Gn=this.currentUrlTree.queryParams;break;default:Gn=se||null}null!==Gn&&(Gn=this.removeEmptyProps(Gn));try{Nr=vs(j?j.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof D[0]||!D[0].startsWith("/"))&&(D=[]),Nr=this.currentUrlTree.root}return Si(Nr,D,Gn,$t??null)}navigateByUrl(D,P={skipLocationChange:!1}){const j=ti(D)?D:this.parseUrl(D),se=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(se,Pa,null,P)}navigate(D,P={skipLocationChange:!1}){return function uu(C){for(let x=0;x<C.length;x++)if(null==C[x])throw new w.vHH(4008,!1)}(D),this.navigateByUrl(this.createUrlTree(D,P),P)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let P;try{P=this.urlSerializer.parse(D)}catch(j){P=this.malformedUriErrorHandler(j,this.urlSerializer,D)}return P}isActive(D,P){let j;if(j=!0===P?{...xl}:!1===P?{...fs}:P,ti(D))return Ir(this.currentUrlTree,D,j);const se=this.parseUrl(D);return Ir(this.currentUrlTree,se,j)}removeEmptyProps(D){return Object.keys(D).reduce((P,j)=>{const se=D[j];return null!=se&&(P[j]=se),P},{})}scheduleNavigation(D,P,j,se,_e){if(this.disposed)return Promise.resolve(!1);let ze,Ve,$t;_e?(ze=_e.resolve,Ve=_e.reject,$t=_e.promise):$t=new Promise((Nr,mr)=>{ze=Nr,Ve=mr});const Gn=this.pendingTasks.add();return Ua(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Gn))}),this.navigationTransitions.handleNavigationRequest({source:P,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:D,extras:se,resolve:ze,reject:Ve,promise:$t,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),$t.catch(Nr=>Promise.reject(Nr))}setBrowserUrl(D,P){const j=this.urlSerializer.serialize(D);if(this.location.isCurrentPathEqualTo(j)||P.extras.replaceUrl){const _e={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId)};this.location.replaceState(j,"",_e)}else{const se={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId+1)};this.location.go(j,"",se)}}restoreHistory(D,P=!1){if("computed"===this.canceledNavigationResolution){const se=this.currentPageId-this.browserPageId;0!==se?this.location.historyGo(se):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===se&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(D,P){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:P}:{navigationId:D}}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function Sc(C){return!(C instanceof na||C instanceof Ao)}let Di=(()=>{class C{constructor(D,P,j,se,_e,ze){this.router=D,this.route=P,this.tabIndexAttribute=j,this.renderer=se,this.el=_e,this.locationStrategy=ze,this.href=null,this.commands=null,this.onChanges=new Vn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Ve=_e.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ve||"area"===Ve,this.isAnchorElement?this.subscription=D.events.subscribe($t=>{$t instanceof Ys&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(D){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",D)}ngOnChanges(D){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(D,P,j,se,_e){return!!(null===this.urlTree||this.isAnchorElement&&(0!==D||P||j||se||_e||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const D=null===this.href?null:(0,w.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",D)}applyAttributeValue(D,P){const j=this.renderer,se=this.el.nativeElement;null!==P?j.setAttribute(se,D,P):j.removeAttribute(se,D)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(P){return new(P||C)(w.Y36(ro),w.Y36(cr),w.$8M("tabindex"),w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(dt.S$))};static#t=this.\u0275dir=w.lG2({type:C,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(P,j){1&P&&w.NdJ("click",function(_e){return j.onClick(_e.button,_e.ctrlKey,_e.shiftKey,_e.altKey,_e.metaKey)}),2&P&&w.uIk("target",j.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",w.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",w.VuI],replaceUrl:["replaceUrl","replaceUrl",w.VuI],routerLink:"routerLink"},standalone:!0,features:[w.Xq5,w.TTD]})}return C})();class cl{}let Fd=(()=>{class C{constructor(D,P,j,se,_e){this.router=D,this.injector=j,this.preloadingStrategy=se,this.loader=_e}setUpPreloading(){this.subscription=this.router.events.pipe((0,vr.h)(D=>D instanceof Ys),bt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,P){const j=[];for(const se of P){se.providers&&!se._injector&&(se._injector=(0,w.MMx)(se.providers,D,`Route: ${se.path}`));const _e=se._injector??D,ze=se._loadedInjector??_e;(se.loadChildren&&!se._loadedRoutes&&void 0===se.canLoad||se.loadComponent&&!se._loadedComponent)&&j.push(this.preloadConfig(_e,se)),(se.children||se._loadedRoutes)&&j.push(this.processRoutes(ze,se.children??se._loadedRoutes))}return(0,de.D)(j).pipe((0,De.J)())}preloadConfig(D,P){return this.preloadingStrategy.preload(P,()=>{let j;j=P.loadChildren&&void 0===P.canLoad?this.loader.loadChildren(D,P):(0,fe.of)(null);const se=j.pipe((0,ke.z)(_e=>null===_e?(0,fe.of)(void 0):(P._loadedRoutes=_e.routes,P._loadedInjector=_e.injector,this.processRoutes(_e.injector??D,_e.routes))));if(P.loadComponent&&!P._loadedComponent){const _e=this.loader.loadComponent(P);return(0,de.D)([se,_e]).pipe((0,De.J)())}return se})}static#e=this.\u0275fac=function(P){return new(P||C)(w.LFG(ro),w.LFG(w.Sil),w.LFG(w.lqb),w.LFG(cl),w.LFG(Hn))};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const _i=new w.OlP("");let Gc=(()=>{class C{constructor(D,P,j,se,_e={}){this.urlSerializer=D,this.transitions=P,this.viewportScroller=j,this.zone=se,this.options=_e,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},_e.scrollPositionRestoration=_e.scrollPositionRestoration||"disabled",_e.anchorScrolling=_e.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof pi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof Ys?(this.lastId=D.id,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.urlAfterRedirects).fragment)):D instanceof Hi&&0===D.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof va&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,P){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new va(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(P){w.$Z()};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac})}return C})();function _n(C,x){return{\u0275kind:C,\u0275providers:x}}function kl(){const C=(0,w.f3M)(w.zs3);return x=>{const D=C.get(w.z2F);if(x!==D.components[0])return;const P=C.get(ro),j=C.get(jc);1===C.get(Ia)&&P.initialNavigation(),C.get(hu,null,w.XFs.Optional)?.setUpPreloading(),C.get(_i,null,w.XFs.Optional)?.init(),P.resetRootComponentType(D.componentTypes[0]),j.closed||(j.next(),j.complete(),j.unsubscribe())}}const jc=new w.OlP("",{factory:()=>new Vn.x}),Ia=new w.OlP("",{providedIn:"root",factory:()=>1}),hu=new w.OlP("");function fu(C){return _n(0,[{provide:hu,useExisting:Fd},{provide:cl,useExisting:C}])}const Qu=new w.OlP("ROUTER_FORROOT_GUARD"),ll=[dt.Ye,{provide:Ze,useClass:It},ro,Zr,{provide:cr,useFactory:function ps(C){return C.routerState.root},deps:[ro]},Hn,[]];function _o(){return new w.PXZ("Router",ro)}let Fl=(()=>{class C{constructor(D){}static forRoot(D,P){return{ngModule:C,providers:[ll,[],{provide:er,multi:!0,useValue:D},{provide:Qu,useFactory:la,deps:[[ro,new w.FiY,new w.tp0]]},{provide:Gs,useValue:P||{}},P?.useHash?{provide:dt.S$,useClass:dt.Do}:{provide:dt.S$,useClass:dt.b0},{provide:_i,useFactory:()=>{const C=(0,w.f3M)(dt.EM),x=(0,w.f3M)(w.R0b),D=(0,w.f3M)(Gs),P=(0,w.f3M)(As),j=(0,w.f3M)(Ze);return D.scrollOffset&&C.setOffset(D.scrollOffset),new Gc(j,P,C,x,D)}},P?.preloadingStrategy?fu(P.preloadingStrategy).\u0275providers:[],{provide:w.PXZ,multi:!0,useFactory:_o},P?.initialNavigation?$s(P):[],P?.bindToComponentInputs?_n(8,[uo,{provide:Ln,useExisting:uo}]).\u0275providers:[],[{provide:Fo,useFactory:kl},{provide:w.tb,multi:!0,useExisting:Fo}]]}}static forChild(D){return{ngModule:C,providers:[{provide:er,multi:!0,useValue:D}]}}static#e=this.\u0275fac=function(P){return new(P||C)(w.LFG(Qu,8))};static#t=this.\u0275mod=w.oAB({type:C});static#n=this.\u0275inj=w.cJS({})}return C})();function la(C){return"guarded"}function $s(C){return["disabled"===C.initialNavigation?_n(3,[{provide:w.ip1,multi:!0,useFactory:()=>{const x=(0,w.f3M)(ro);return()=>{x.setUpLocationChangeListener()}}},{provide:Ia,useValue:2}]).\u0275providers:[],"enabledBlocking"===C.initialNavigation?_n(2,[{provide:Ia,useValue:0},{provide:w.ip1,multi:!0,deps:[w.zs3],useFactory:x=>{const D=x.get(dt.V_,Promise.resolve());return()=>D.then(()=>new Promise(P=>{const j=x.get(ro),se=x.get(jc);Ua(j,()=>{P(!0)}),x.get(As).afterPreactivation=()=>(P(!0),se.closed?(0,fe.of)(void 0):se),j.initialNavigation()}))}}]).\u0275providers:[]]}const Fo=new w.OlP("")},4303:(Gt,$e,K)=>{K.d($e,{Jn:()=>br,KN:()=>yt,Mq:()=>De,Xd:()=>Rt,ZF:()=>kr,qX:()=>jt});var w=K(5861),ae=K(4537),u=K(7879),we=K(9058),de=K(1878);class fe{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(Ze=>{if(function Ne(tt){const Ce=tt.getComponent();return"VERSION"===Ce?.type}(Ze)){const It=Ze.getImmediate();return`${It.library}/${It.version}`}return null}).filter(Ze=>Ze).join(" ")}}const He="@firebase/app",re=new u.Yd("@firebase/app"),ke="[DEFAULT]",je={[He]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ye=new Map,Ue=new Map;function nt(tt,Ce){try{tt.container.addComponent(Ce)}catch(Ze){re.debug(`Component ${Ce.name} failed to register with FirebaseApp ${tt.name}`,Ze)}}function Rt(tt){const Ce=tt.name;if(Ue.has(Ce))return re.debug(`There were multiple attempts to register component ${Ce}.`),!1;Ue.set(Ce,tt);for(const Ze of Ye.values())nt(Ze,tt);return!0}function jt(tt,Ce){const Ze=tt.container.getProvider("heartbeat").getImmediate({optional:!0});return Ze&&Ze.triggerHeartbeat(),tt.container.getProvider(Ce)}const Dt=new we.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Yn{constructor(Ce,Ze,It){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},Ze),this._name=Ze.name,this._automaticDataCollectionEnabled=Ze.automaticDataCollectionEnabled,this._container=It,this.container.addComponent(new ae.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw Dt.create("app-deleted",{appName:this._name})}}const br="10.9.0";function kr(tt,Ce={}){let Ze=tt;"object"!=typeof Ce&&(Ce={name:Ce});const It=Object.assign({name:ke,automaticDataCollectionEnabled:!1},Ce),qt=It.name;if("string"!=typeof qt||!qt)throw Dt.create("bad-app-name",{appName:String(qt)});if(Ze||(Ze=(0,we.aH)()),!Ze)throw Dt.create("no-options");const Zt=Ye.get(qt);if(Zt){if((0,we.vZ)(Ze,Zt.options)&&(0,we.vZ)(It,Zt.config))return Zt;throw Dt.create("duplicate-app",{appName:qt})}const zn=new ae.H0(qt);for(const U of Ue.values())zn.addComponent(U);const Y=new Yn(Ze,It,zn);return Ye.set(qt,Y),Y}function De(tt=ke){const Ce=Ye.get(tt);if(!Ce&&tt===ke&&(0,we.aH)())return kr();if(!Ce)throw Dt.create("no-app",{appName:tt});return Ce}function yt(tt,Ce,Ze){var It;let qt=null!==(It=je[tt])&&void 0!==It?It:tt;Ze&&(qt+=`-${Ze}`);const Zt=qt.match(/\s|\//),zn=Ce.match(/\s|\//);if(Zt||zn){const Y=[`Unable to register library "${qt}" with version "${Ce}":`];return Zt&&Y.push(`library name "${qt}" contains illegal characters (whitespace or "/")`),Zt&&zn&&Y.push("and"),zn&&Y.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void re.warn(Y.join(" "))}Rt(new ae.wA(`${qt}-version`,()=>({library:qt,version:Ce}),"VERSION"))}const An="firebase-heartbeat-database",sn=1,Qt="firebase-heartbeat-store";let In=null;function tr(){return In||(In=(0,de.X3)(An,sn,{upgrade:(tt,Ce)=>{if(0===Ce)try{tt.createObjectStore(Qt)}catch(Ze){console.warn(Ze)}}}).catch(tt=>{throw Dt.create("idb-open",{originalErrorMessage:tt.message})})),In}function Sr(){return(Sr=(0,w.Z)(function*(tt){try{const Ze=(yield tr()).transaction(Qt),It=yield Ze.objectStore(Qt).get(dr(tt));return yield Ze.done,It}catch(Ce){if(Ce instanceof we.ZR)re.warn(Ce.message);else{const Ze=Dt.create("idb-get",{originalErrorMessage:Ce?.message});re.warn(Ze.message)}}})).apply(this,arguments)}function Ir(tt,Ce){return mn.apply(this,arguments)}function mn(){return(mn=(0,w.Z)(function*(tt,Ce){try{const It=(yield tr()).transaction(Qt,"readwrite");yield It.objectStore(Qt).put(Ce,dr(tt)),yield It.done}catch(Ze){if(Ze instanceof we.ZR)re.warn(Ze.message);else{const It=Dt.create("idb-set",{originalErrorMessage:Ze?.message});re.warn(It.message)}}})).apply(this,arguments)}function dr(tt){return`${tt.name}!${tt.options.appId}`}class Zn{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const Ze=this.container.getProvider("app").getImmediate();this._storage=new nr(Ze),this._heartbeatsCachePromise=this._storage.read().then(It=>(this._heartbeatsCache=It,It))}triggerHeartbeat(){var Ce=this;return(0,w.Z)(function*(){var Ze,It;const Zt=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),zn=di();if((null!=(null===(Ze=Ce._heartbeatsCache)||void 0===Ze?void 0:Ze.heartbeats)||(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise,null!=(null===(It=Ce._heartbeatsCache)||void 0===It?void 0:It.heartbeats)))&&Ce._heartbeatsCache.lastSentHeartbeatDate!==zn&&!Ce._heartbeatsCache.heartbeats.some(Y=>Y.date===zn))return Ce._heartbeatsCache.heartbeats.push({date:zn,agent:Zt}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(Y=>{const U=new Date(Y.date).valueOf();return Date.now()-U<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,w.Z)(function*(){var Ze;if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null==(null===(Ze=Ce._heartbeatsCache)||void 0===Ze?void 0:Ze.heartbeats)||0===Ce._heartbeatsCache.heartbeats.length)return"";const It=di(),{heartbeatsToSend:qt,unsentEntries:Zt}=function Rn(tt,Ce=1024){const Ze=[];let It=tt.slice();for(const qt of tt){const Zt=Ze.find(zn=>zn.agent===qt.agent);if(Zt){if(Zt.dates.push(qt.date),Or(Ze)>Ce){Zt.dates.pop();break}}else if(Ze.push({agent:qt.agent,dates:[qt.date]}),Or(Ze)>Ce){Ze.pop();break}It=It.slice(1)}return{heartbeatsToSend:Ze,unsentEntries:It}}(Ce._heartbeatsCache.heartbeats),zn=(0,we.L)(JSON.stringify({version:2,heartbeats:qt}));return Ce._heartbeatsCache.lastSentHeartbeatDate=It,Zt.length>0?(Ce._heartbeatsCache.heartbeats=Zt,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),zn})()}}function di(){return(new Date).toISOString().substring(0,10)}class nr{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.Z)(function*(){return!!(0,we.hl)()&&(0,we.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,w.Z)(function*(){if(yield Ce._canUseIndexedDBPromise){const It=yield function Xt(tt){return Sr.apply(this,arguments)}(Ce.app);return It?.heartbeats?It:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Ce){var Ze=this;return(0,w.Z)(function*(){var It;if(yield Ze._canUseIndexedDBPromise){const Zt=yield Ze.read();return Ir(Ze.app,{lastSentHeartbeatDate:null!==(It=Ce.lastSentHeartbeatDate)&&void 0!==It?It:Zt.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var Ze=this;return(0,w.Z)(function*(){var It;if(yield Ze._canUseIndexedDBPromise){const Zt=yield Ze.read();return Ir(Ze.app,{lastSentHeartbeatDate:null!==(It=Ce.lastSentHeartbeatDate)&&void 0!==It?It:Zt.lastSentHeartbeatDate,heartbeats:[...Zt.heartbeats,...Ce.heartbeats]})}})()}}function Or(tt){return(0,we.L)(JSON.stringify({version:2,heartbeats:tt})).length}!function hi(tt){Rt(new ae.wA("platform-logger",Ce=>new fe(Ce),"PRIVATE")),Rt(new ae.wA("heartbeat",Ce=>new Zn(Ce),"PRIVATE")),yt(He,"0.9.29",tt),yt(He,"0.9.29","esm2017"),yt("fire-js","")}("")},4537:(Gt,$e,K)=>{K.d($e,{H0:()=>He,wA:()=>u});var w=K(5861),ae=K(9058);class u{constructor(re,le,Se){this.name=re,this.instanceFactory=le,this.type=Se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const we="[DEFAULT]";class de{constructor(re,le){this.name=re,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const le=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(le)){const Se=new ae.BH;if(this.instancesDeferred.set(le,Se),this.isInitialized(le)||this.shouldAutoInitialize())try{const et=this.getOrInitializeService({instanceIdentifier:le});et&&Se.resolve(et)}catch{}}return this.instancesDeferred.get(le).promise}getImmediate(re){var le;const Se=this.normalizeInstanceIdentifier(re?.identifier),et=null!==(le=re?.optional)&&void 0!==le&&le;if(!this.isInitialized(Se)&&!this.shouldAutoInitialize()){if(et)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Se})}catch(Pe){if(et)return null;throw Pe}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function Ne(Ee){return"EAGER"===Ee.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:we})}catch{}for(const[le,Se]of this.instancesDeferred.entries()){const et=this.normalizeInstanceIdentifier(le);try{const Pe=this.getOrInitializeService({instanceIdentifier:et});Se.resolve(Pe)}catch{}}}}clearInstance(re=we){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,w.Z)(function*(){const le=Array.from(re.instances.values());yield Promise.all([...le.filter(Se=>"INTERNAL"in Se).map(Se=>Se.INTERNAL.delete()),...le.filter(Se=>"_delete"in Se).map(Se=>Se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=we){return this.instances.has(re)}getOptions(re=we){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:le={}}=re,Se=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(Se))throw Error(`${this.name}(${Se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const et=this.getOrInitializeService({instanceIdentifier:Se,options:le});for(const[Pe,it]of this.instancesDeferred.entries())Se===this.normalizeInstanceIdentifier(Pe)&&it.resolve(et);return et}onInit(re,le){var Se;const et=this.normalizeInstanceIdentifier(le),Pe=null!==(Se=this.onInitCallbacks.get(et))&&void 0!==Se?Se:new Set;Pe.add(re),this.onInitCallbacks.set(et,Pe);const it=this.instances.get(et);return it&&re(it,et),()=>{Pe.delete(re)}}invokeOnInitCallbacks(re,le){const Se=this.onInitCallbacks.get(le);if(Se)for(const et of Se)try{et(re,le)}catch{}}getOrInitializeService({instanceIdentifier:re,options:le={}}){let Se=this.instances.get(re);if(!Se&&this.component&&(Se=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=re,Ee===we?void 0:Ee),options:le}),this.instances.set(re,Se),this.instancesOptions.set(re,le),this.invokeOnInitCallbacks(Se,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,Se)}catch{}var Ee;return Se||null}normalizeInstanceIdentifier(re=we){return this.component?this.component.multipleInstances?re:we:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class He{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const le=this.getProvider(re.name);if(le.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);le.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const le=new de(re,this);return this.providers.set(re,le),le}getProviders(){return Array.from(this.providers.values())}}},7879:(Gt,$e,K)=>{K.d($e,{Yd:()=>Ne,in:()=>ae});const w=[];var ae=function(re){return re[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",re}(ae||{});const u={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},we=ae.INFO,de={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},fe=(re,le,...Se)=>{if(le<re.logLevel)return;const et=(new Date).toISOString(),Pe=de[le];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${le})`);console[Pe](`[${et}]  ${re.name}:`,...Se)};class Ne{constructor(le){this.name=le,this._logLevel=we,this._logHandler=fe,this._userLogHandler=null,w.push(this)}get logLevel(){return this._logLevel}set logLevel(le){if(!(le in ae))throw new TypeError(`Invalid value "${le}" assigned to \`logLevel\``);this._logLevel=le}setLogLevel(le){this._logLevel="string"==typeof le?u[le]:le}get logHandler(){return this._logHandler}set logHandler(le){if("function"!=typeof le)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=le}get userLogHandler(){return this._userLogHandler}set userLogHandler(le){this._userLogHandler=le}debug(...le){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...le),this._logHandler(this,ae.DEBUG,...le)}log(...le){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...le),this._logHandler(this,ae.VERBOSE,...le)}info(...le){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...le),this._logHandler(this,ae.INFO,...le)}warn(...le){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...le),this._logHandler(this,ae.WARN,...le)}error(...le){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...le),this._logHandler(this,ae.ERROR,...le)}}},1878:(Gt,$e,K)=>{K.d($e,{X3:()=>xt});var w=K(5861);const ae=(ve,Ke)=>Ke.some(gt=>ve instanceof gt);let u,we;const Ne=new WeakMap,He=new WeakMap,Ee=new WeakMap,re=new WeakMap,le=new WeakMap;let Pe={get(ve,Ke,gt){if(ve instanceof IDBTransaction){if("done"===Ke)return He.get(ve);if("objectStoreNames"===Ke)return ve.objectStoreNames||Ee.get(ve);if("store"===Ke)return gt.objectStoreNames[1]?void 0:gt.objectStore(gt.objectStoreNames[0])}return Ft(ve[Ke])},set:(ve,Ke,gt)=>(ve[Ke]=gt,!0),has:(ve,Ke)=>ve instanceof IDBTransaction&&("done"===Ke||"store"===Ke)||Ke in ve};function Bt(ve){return"function"==typeof ve?function At(ve){return ve!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return we||(we=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ve)?function(...Ke){return ve.apply(xn(this),Ke),Ft(Ne.get(this))}:function(...Ke){return Ft(ve.apply(xn(this),Ke))}:function(Ke,...gt){const Vn=ve.call(xn(this),Ke,...gt);return Ee.set(Vn,Ke.sort?Ke.sort():[Ke]),Ft(Vn)}}(ve):(ve instanceof IDBTransaction&&function et(ve){if(He.has(ve))return;const Ke=new Promise((gt,Vn)=>{const dt=()=>{ve.removeEventListener("complete",dn),ve.removeEventListener("error",Dn),ve.removeEventListener("abort",Dn)},dn=()=>{gt(),dt()},Dn=()=>{Vn(ve.error||new DOMException("AbortError","AbortError")),dt()};ve.addEventListener("complete",dn),ve.addEventListener("error",Dn),ve.addEventListener("abort",Dn)});He.set(ve,Ke)}(ve),ae(ve,function de(){return u||(u=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ve,Pe):ve)}function Ft(ve){if(ve instanceof IDBRequest)return function Se(ve){const Ke=new Promise((gt,Vn)=>{const dt=()=>{ve.removeEventListener("success",dn),ve.removeEventListener("error",Dn)},dn=()=>{gt(Ft(ve.result)),dt()},Dn=()=>{Vn(ve.error),dt()};ve.addEventListener("success",dn),ve.addEventListener("error",Dn)});return Ke.then(gt=>{gt instanceof IDBCursor&&Ne.set(gt,ve)}).catch(()=>{}),le.set(Ke,ve),Ke}(ve);if(re.has(ve))return re.get(ve);const Ke=Bt(ve);return Ke!==ve&&(re.set(ve,Ke),le.set(Ke,ve)),Ke}const xn=ve=>le.get(ve);function xt(ve,Ke,{blocked:gt,upgrade:Vn,blocking:dt,terminated:dn}={}){const Dn=indexedDB.open(ve,Ke),$n=Ft(Dn);return Vn&&Dn.addEventListener("upgradeneeded",ar=>{Vn(Ft(Dn.result),ar.oldVersion,ar.newVersion,Ft(Dn.transaction),ar)}),gt&&Dn.addEventListener("blocked",ar=>gt(ar.oldVersion,ar.newVersion,ar)),$n.then(ar=>{dn&&ar.addEventListener("close",()=>dn()),dt&&ar.addEventListener("versionchange",vr=>dt(vr.oldVersion,vr.newVersion,vr))}).catch(()=>{}),$n}const ot=["get","getKey","getAll","getAllKeys","count"],vt=["put","add","delete","clear"],_t=new Map;function Ge(ve,Ke){if(!(ve instanceof IDBDatabase)||Ke in ve||"string"!=typeof Ke)return;if(_t.get(Ke))return _t.get(Ke);const gt=Ke.replace(/FromIndex$/,""),Vn=Ke!==gt,dt=vt.includes(gt);if(!(gt in(Vn?IDBIndex:IDBObjectStore).prototype)||!dt&&!ot.includes(gt))return;const dn=function(){var Dn=(0,w.Z)(function*($n,...ar){const vr=this.transaction($n,dt?"readwrite":"readonly");let ke=vr.store;return Vn&&(ke=ke.index(ar.shift())),(yield Promise.all([ke[gt](...ar),dt&&vr.done]))[0]});return function(ar){return Dn.apply(this,arguments)}}();return _t.set(Ke,dn),dn}!function it(ve){Pe=ve(Pe)}(ve=>({...ve,get:(Ke,gt,Vn)=>Ge(Ke,gt)||ve.get(Ke,gt,Vn),has:(Ke,gt)=>!!Ge(Ke,gt)||ve.has(Ke,gt)}))},5861:(Gt,$e,K)=>{function w(u,we,de,fe,Ne,He,Ee){try{var re=u[He](Ee),le=re.value}catch(Se){return void de(Se)}re.done?we(le):Promise.resolve(le).then(fe,Ne)}function ae(u){return function(){var we=this,de=arguments;return new Promise(function(fe,Ne){var He=u.apply(we,de);function Ee(le){w(He,fe,Ne,Ee,re,"next",le)}function re(le){w(He,fe,Ne,Ee,re,"throw",le)}Ee(void 0)})}}K.d($e,{Z:()=>ae})},7582:(Gt,$e,K)=>{function we(ke,je){var Ye={};for(var Ue in ke)Object.prototype.hasOwnProperty.call(ke,Ue)&&je.indexOf(Ue)<0&&(Ye[Ue]=ke[Ue]);if(null!=ke&&"function"==typeof Object.getOwnPropertySymbols){var nt=0;for(Ue=Object.getOwnPropertySymbols(ke);nt<Ue.length;nt++)je.indexOf(Ue[nt])<0&&Object.prototype.propertyIsEnumerable.call(ke,Ue[nt])&&(Ye[Ue[nt]]=ke[Ue[nt]])}return Ye}function Se(ke,je,Ye,Ue){return new(Ye||(Ye=Promise))(function(bt,Rt){function jt(cn){try{bn(Ue.next(cn))}catch(Dt){Rt(Dt)}}function hn(cn){try{bn(Ue.throw(cn))}catch(Dt){Rt(Dt)}}function bn(cn){cn.done?bt(cn.value):function nt(bt){return bt instanceof Ye?bt:new Ye(function(Rt){Rt(bt)})}(cn.value).then(jt,hn)}bn((Ue=Ue.apply(ke,je||[])).next())})}function mt(ke){return this instanceof mt?(this.v=ke,this):new mt(ke)}function ot(ke,je,Ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var nt,Ue=Ye.apply(ke,je||[]),bt=[];return nt={},Rt("next"),Rt("throw"),Rt("return"),nt[Symbol.asyncIterator]=function(){return this},nt;function Rt(Yn){Ue[Yn]&&(nt[Yn]=function(br){return new Promise(function(kr,De){bt.push([Yn,br,kr,De])>1||jt(Yn,br)})})}function jt(Yn,br){try{!function hn(Yn){Yn.value instanceof mt?Promise.resolve(Yn.value.v).then(bn,cn):Dt(bt[0][2],Yn)}(Ue[Yn](br))}catch(kr){Dt(bt[0][3],kr)}}function bn(Yn){jt("next",Yn)}function cn(Yn){jt("throw",Yn)}function Dt(Yn,br){Yn(br),bt.shift(),bt.length&&jt(bt[0][0],bt[0][1])}}function _t(ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ye,je=ke[Symbol.asyncIterator];return je?je.call(ke):(ke=function At(ke){var je="function"==typeof Symbol&&Symbol.iterator,Ye=je&&ke[je],Ue=0;if(Ye)return Ye.call(ke);if(ke&&"number"==typeof ke.length)return{next:function(){return ke&&Ue>=ke.length&&(ke=void 0),{value:ke&&ke[Ue++],done:!ke}}};throw new TypeError(je?"Object is not iterable.":"Symbol.iterator is not defined.")}(ke),Ye={},Ue("next"),Ue("throw"),Ue("return"),Ye[Symbol.asyncIterator]=function(){return this},Ye);function Ue(bt){Ye[bt]=ke[bt]&&function(Rt){return new Promise(function(jt,hn){!function nt(bt,Rt,jt,hn){Promise.resolve(hn).then(function(bn){bt({value:bn,done:jt})},Rt)}(jt,hn,(Rt=ke[bt](Rt)).done,Rt.value)})}}}K.d($e,{FC:()=>ot,KL:()=>_t,_T:()=>we,mG:()=>Se,qq:()=>mt}),"function"==typeof SuppressedError&&SuppressedError}},Gt=>{var $e=w=>Gt(Gt.s=w);$e(2614),$e(7157)}]);