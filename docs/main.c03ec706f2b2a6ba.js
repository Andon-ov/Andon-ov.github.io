"use strict";(self.webpackChunkThe_Natural_Way=self.webpackChunkThe_Natural_Way||[]).push([[179],{478:()=>{function Ie(t){return"function"==typeof t}function co(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const la=co(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function uo(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Pt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ie(r))try{r()}catch(s){e=s instanceof la?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{da(s)}catch(o){e=e??[],o instanceof la?e=[...e,...o.errors]:e.push(o)}}if(e)throw new la(e)}}add(e){var n;if(e&&e!==this)if(this.closed)da(e);else{if(e instanceof Pt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&uo(n,e)}remove(e){const{_finalizers:n}=this;n&&uo(n,e),e instanceof Pt&&e._removeParent(this)}}Pt.EMPTY=(()=>{const t=new Pt;return t.closed=!0,t})();const gd=Pt.EMPTY;function ug(t){return t instanceof Pt||t&&"closed"in t&&Ie(t.remove)&&Ie(t.add)&&Ie(t.unsubscribe)}function da(t){Ie(t)?t():t.unsubscribe()}const lo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},zc={setTimeout(t,e,...n){const{delegate:r}=zc;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=zc;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function tb(t){zc.setTimeout(()=>{const{onUnhandledError:e}=lo;if(!e)throw t;e(t)})}function ha(){}const nb=md("C",void 0,void 0);function md(t,e,n){return{kind:t,value:e,error:n}}let ws=null;function $i(t){if(lo.useDeprecatedSynchronousErrorHandling){const e=!ws;if(e&&(ws={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=ws;if(ws=null,n)throw r}}else t()}class Wc extends Pt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ug(e)&&e.add(this)):this.destination=yd}static create(e,n,r){return new Is(e,n,r)}next(e){this.isStopped?_d(function ib(t){return md("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?_d(function rb(t){return md("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?_d(nb,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const lg=Function.prototype.bind;function qc(t,e){return lg.call(t,e)}class dg{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Pr(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Pr(r)}else Pr(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Pr(n)}}}class Is extends Wc{constructor(e,n,r){let i;if(super(),Ie(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&lo.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&qc(e.next,s),error:e.error&&qc(e.error,s),complete:e.complete&&qc(e.complete,s)}):i=e}this.destination=new dg(i)}}function Pr(t){lo.useDeprecatedSynchronousErrorHandling?function sb(t){lo.useDeprecatedSynchronousErrorHandling&&ws&&(ws.errorThrown=!0,ws.error=t)}(t):tb(t)}function _d(t,e){const{onStoppedNotification:n}=lo;n&&zc.setTimeout(()=>n(t,e))}const yd={closed:!0,next:ha,error:function hg(t){throw t},complete:ha},vd="function"==typeof Symbol&&Symbol.observable||"@@observable";function mi(t){return t}function pg(t){return 0===t.length?mi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Be=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function ab(t){return t&&t instanceof Wc||function ob(t){return t&&Ie(t.next)&&Ie(t.error)&&Ie(t.complete)}(t)&&ug(t)}(n)?n:new Is(n,r,i);return $i(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=gg(r))((i,s)=>{const o=new Is({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[vd](){return this}pipe(...n){return pg(n)(this)}toPromise(n){return new(n=gg(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function gg(t){var e;return null!==(e=t??lo.Promise)&&void 0!==e?e:Promise}const cb=co(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Fe=(()=>{class t extends Be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new mg(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new cb}next(n){$i(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){$i(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){$i(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?gd:(this.currentObservers=null,s.push(n),new Pt(()=>{this.currentObservers=null,uo(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Be;return n.source=this,n}}return t.create=(e,n)=>new mg(e,n),t})();class mg extends Fe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:gd}}function bd(t){return Ie(t?.lift)}function It(t){return e=>{if(bd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function it(t,e,n,r,i){return new ub(t,e,n,r,i)}class ub extends Wc{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Oe(t,e){return It((n,r)=>{let i=0;n.subscribe(it(r,s=>{r.next(t.call(e,s,i++))}))})}function Yc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function mr(t){return this instanceof mr?(this.v=t,this):new mr(t)}function _r(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Ft(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}(a,c,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const gb=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Ok(t){return Ie(t?.then)}function Mk(t){return Ie(t[vd])}function Rk(t){return Symbol.asyncIterator&&Ie(t?.[Symbol.asyncIterator])}function kk(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Pk=function X9(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Fk(t){return Ie(t?.[Pk])}function Lk(t){return function fa(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(g,m){s.push([h,f,g,m])>1||a(h,f)})})}function a(h,f){try{!function c(h){h.value instanceof mr?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}(r[h](f))}catch(g){d(s[0][3],g)}}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield mr(n.read());if(i)return yield mr(void 0);yield yield mr(r)}}finally{n.releaseLock()}})}function Vk(t){return Ie(t?.getReader)}function nn(t){if(t instanceof Be)return t;if(null!=t){if(Mk(t))return function eK(t){return new Be(e=>{const n=t[vd]();if(Ie(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(gb(t))return function tK(t){return new Be(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Ok(t))return function nK(t){return new Be(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,tb)})}(t);if(Rk(t))return Bk(t);if(Fk(t))return function rK(t){return new Be(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Vk(t))return function iK(t){return Bk(Lk(t))}(t)}throw kk(t)}function Bk(t){return new Be(e=>{(function sK(t,e){var n,r,i,s;return function N(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=_r(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Ts(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function rn(t,e,n=1/0){return Ie(e)?rn((r,i)=>Oe((s,o)=>e(r,s,i,o))(nn(t(r,i))),n):("number"==typeof e&&(n=e),It((r,i)=>function oK(t,e,n,r,i,s,o,a){const c=[];let u=0,l=0,d=!1;const h=()=>{d&&!c.length&&!u&&e.complete()},f=m=>u<r?g(m):c.push(m),g=m=>{s&&e.next(m),u++;let _=!1;nn(n(m,l++)).subscribe(it(e,I=>{i?.(I),s?f(I):e.next(I)},()=>{_=!0},void 0,()=>{if(_)try{for(u--;c.length&&u<r;){const I=c.shift();o?Ts(e,o,()=>g(I)):g(I)}h()}catch(I){e.error(I)}}))};return t.subscribe(it(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Jc(t=1/0){return rn(mi,t)}const ti=new Be(t=>t.complete());function Uk(t){return t&&Ie(t.schedule)}function mb(t){return t[t.length-1]}function bg(t){return Ie(mb(t))?t.pop():void 0}function Id(t){return Uk(mb(t))?t.pop():void 0}function wg(t,e=0){return It((n,r)=>{n.subscribe(it(r,i=>Ts(r,t,()=>r.next(i),e),()=>Ts(r,t,()=>r.complete(),e),i=>Ts(r,t,()=>r.error(i),e)))})}function Ig(t,e=0){return It((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function jk(t,e){if(!t)throw new Error("Iterable cannot be null");return new Be(n=>{Ts(n,e,()=>{const r=t[Symbol.asyncIterator]();Ts(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function pn(t,e){return e?function pK(t,e){if(null!=t){if(Mk(t))return function uK(t,e){return nn(t).pipe(Ig(e),wg(e))}(t,e);if(gb(t))return function dK(t,e){return new Be(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Ok(t))return function lK(t,e){return nn(t).pipe(Ig(e),wg(e))}(t,e);if(Rk(t))return jk(t,e);if(Fk(t))return function hK(t,e){return new Be(n=>{let r;return Ts(n,e,()=>{r=t[Pk](),Ts(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Ie(r?.return)&&r.return()})}(t,e);if(Vk(t))return function fK(t,e){return jk(Lk(t),e)}(t,e)}throw kk(t)}(t,e):nn(t)}class yr extends Fe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function ae(...t){return pn(t,Id(t))}function _b(t={}){const{connector:e=(()=>new Fe),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,u=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=c=void 0,l=d=!1},g=()=>{const m=o;f(),m?.unsubscribe()};return It((m,_)=>{u++,!d&&!l&&h();const I=c=c??e();_.add(()=>{u--,0===u&&!d&&!l&&(a=yb(g,i))}),I.subscribe(_),!o&&u>0&&(o=new Is({next:b=>I.next(b),error:b=>{d=!0,h(),a=yb(f,n,b),I.error(b)},complete:()=>{l=!0,h(),a=yb(f,r),I.complete()}}),nn(m).subscribe(o))})(s)}}function yb(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Is({next:()=>{r.unsubscribe(),t()}});return nn(e(...n)).subscribe(r)}function _i(t,e){return It((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(it(r,c=>{i?.unsubscribe();let u=0;const l=s++;nn(t(c,l)).subscribe(i=it(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function gK(t,e){return t===e}function Qe(t){for(let e in t)if(t[e]===Qe)return e;throw Error("Could not find renamed property on target object.")}function Tg(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function sn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(sn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function vb(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const mK=Qe({__forward_ref__:Qe});function De(t){return t.__forward_ref__=De,t.toString=function(){return sn(this())},t}function de(t){return bb(t)?t():t}function bb(t){return"function"==typeof t&&t.hasOwnProperty(mK)&&t.__forward_ref__===De}function wb(t){return t&&!!t.\u0275providers}const Gk="https://g.co/ng/security#xss";class V extends Error{constructor(e,n){super(function Eg(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function fe(t){return"string"==typeof t?t:null==t?"":String(t)}function Ib(t,e){throw new V(-201,!1)}function ni(t,e){null==t&&function ue(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function we(t){return{providers:t.providers||[],imports:t.imports||[]}}function Dg(t){return zk(t,Sg)||zk(t,Wk)}function zk(t,e){return t.hasOwnProperty(e)?t[e]:null}function Cg(t){return t&&(t.hasOwnProperty(Tb)||t.hasOwnProperty(EK))?t[Tb]:null}const Sg=Qe({\u0275prov:Qe}),Tb=Qe({\u0275inj:Qe}),Wk=Qe({ngInjectableDef:Qe}),EK=Qe({ngInjectorDef:Qe});var Ce=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ce||{});let Eb;function vr(t){const e=Eb;return Eb=t,e}function Kk(t,e,n){const r=Dg(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ce.Optional?null:void 0!==e?e:void Ib(sn(t))}const st=globalThis;class te{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Td={},xb="__NG_DI_FLAG__",Ag="ngTempTokenPath",SK=/\n/gm,Qk="__source";let Zc;function fo(t){const e=Zc;return Zc=t,e}function NK(t,e=Ce.Default){if(void 0===Zc)throw new V(-203,!1);return null===Zc?Kk(t,void 0,e):Zc.get(t,e&Ce.Optional?null:void 0,e)}function q(t,e=Ce.Default){return(function qk(){return Eb}()||NK)(de(t),e)}function K(t,e=Ce.Default){return q(t,xg(e))}function xg(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Nb(t){const e=[];for(let n=0;n<t.length;n++){const r=de(t[n]);if(Array.isArray(r)){if(0===r.length)throw new V(900,!1);let i,s=Ce.Default;for(let o=0;o<r.length;o++){const a=r[o],c=OK(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(q(i,s))}else e.push(q(r))}return e}function Ed(t,e){return t[xb]=e,t.prototype[xb]=e,t}function OK(t){return t[xb]}function Es(t){return{toString:t}.toString()}var Ng=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ng||{}),yi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(yi||{});const Hi={},Ue=[],Og=Qe({\u0275cmp:Qe}),Ob=Qe({\u0275dir:Qe}),Mb=Qe({\u0275pipe:Qe}),Zk=Qe({\u0275mod:Qe}),Ds=Qe({\u0275fac:Qe}),Dd=Qe({__NG_ELEMENT_ID__:Qe}),Xk=Qe({__NG_ENV_ID__:Qe});function eP(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Rb(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];nP(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function tP(t){return 3===t||4===t||6===t}function nP(t){return 64===t.charCodeAt(0)}function Cd(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||rP(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function rP(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const iP="ng-template";function kK(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==eP(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function sP(t){return 4===t.type&&t.value!==iP}function PK(t,e,n){return e===(4!==t.type||n?t.value:iP)}function FK(t,e,n){let r=4;const i=t.attrs||[],s=function BK(t){for(let e=0;e<t.length;e++)if(tP(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!PK(t,c,n)||""===c&&1===e.length){if(vi(r))return!1;o=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!kK(t.attrs,u,n)){if(vi(r))return!1;o=!0}continue}const d=LK(8&r?"class":c,i,sP(t),n);if(-1===d){if(vi(r))return!1;o=!0;continue}if(""!==u){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==eP(f,u,0)||2&r&&u!==h){if(vi(r))return!1;o=!0}}}}else{if(!o&&!vi(r)&&!vi(c))return!1;if(o&&vi(c))continue;o=!1,r=c|1&r}}return vi(r)||o}function vi(t){return 0==(1&t)}function LK(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function UK(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function oP(t,e,n=!1){for(let r=0;r<e.length;r++)if(FK(t,e[r],n))return!0;return!1}function jK(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function aP(t,e){return t?":not("+e.trim()+")":e}function $K(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!vi(o)&&(e+=aP(s,i),i=""),r=o,s=s||!vi(r);n++}return""!==i&&(e+=aP(s,i)),e}function ot(t){return Es(()=>{const e=uP(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ng.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||yi.Emulated,styles:t.styles||Ue,_:null,schemas:t.schemas||null,tView:null,id:""};lP(n);const r=t.dependencies;return n.directiveDefs=Mg(r,!1),n.pipeDefs=Mg(r,!0),n.id=function QK(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function WK(t){return Me(t)||xn(t)}function qK(t){return null!==t}function Te(t){return Es(()=>({type:t.type,bootstrap:t.bootstrap||Ue,declarations:t.declarations||Ue,imports:t.imports||Ue,exports:t.exports||Ue,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function cP(t,e){if(null==t)return Hi;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function $(t){return Es(()=>{const e=uP(t);return lP(e),e})}function Wn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Me(t){return t[Og]||null}function xn(t){return t[Ob]||null}function nr(t){return t[Mb]||null}function Lr(t,e){const n=t[Zk]||null;if(!n&&!0===e)throw new Error(`Type ${sn(t)} does not have '\u0275mod' property.`);return n}function uP(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Hi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Ue,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:cP(t.inputs,e),outputs:cP(t.outputs)}}function lP(t){t.features?.forEach(e=>e(t))}function Mg(t,e){if(!t)return null;const n=e?nr:WK;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(qK)}const xt=0,ee=1,ye=2,yt=3,bi=4,Sd=5,qn=6,eu=7,Lt=8,po=9,tu=10,pe=11,Ad=12,dP=13,nu=14,Vt=15,xd=16,ru=17,Gi=18,Nd=19,hP=20,go=21,Cs=22,Od=23,Md=24,Se=25,kb=1,fP=2,zi=7,iu=9,Nn=11;function br(t){return Array.isArray(t)&&"object"==typeof t[kb]}function rr(t){return Array.isArray(t)&&!0===t[kb]}function Pb(t){return 0!=(4&t.flags)}function ma(t){return t.componentOffset>-1}function kg(t){return 1==(1&t.flags)}function wi(t){return!!t.template}function Fb(t){return 0!=(512&t[ye])}function _a(t,e){return t.hasOwnProperty(Ds)?t[Ds]:null}let On=null,Pg=!1;function ri(t){const e=On;return On=t,e}const mP={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function yP(t){if(!kd(t)||t.dirty){if(!t.producerMustRecompute(t)&&!wP(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function bP(t){t.dirty=!0,function vP(t){if(void 0===t.liveConsumerNode)return;const e=Pg;Pg=!0;try{for(const n of t.liveConsumerNode)n.dirty||bP(n)}finally{Pg=e}}(t),t.consumerMarkedDirty?.(t)}function Vb(t){return t&&(t.nextProducerIndex=0),ri(t)}function Bb(t,e){if(ri(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(kd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Fg(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function wP(t){su(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(yP(n),r!==n.version))return!0}return!1}function IP(t){if(su(t),kd(t))for(let e=0;e<t.producerNode.length;e++)Fg(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Fg(t,e){if(function EP(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),su(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Fg(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];su(i),i.producerIndexOfThis[r]=e}}function kd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function su(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let DP=null;const xP=()=>{},uY=(()=>({...mP,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:xP}))();class lY{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Mn(){return NP}function NP(t){return t.type.prototype.ngOnChanges&&(t.setInput=hY),dY}function dY(){const t=MP(this),e=t?.current;if(e){const n=t.previous;if(n===Hi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function hY(t,e,n,r){const i=this.declaredInputs[n],s=MP(t)||function fY(t,e){return t[OP]=e}(t,{previous:Hi,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new lY(c&&c.currentValue,e,a===Hi),t[r]=e}Mn.ngInherit=!0;const OP="__ngSimpleChanges__";function MP(t){return t[OP]||null}const Wi=function(t,e,n){},RP="svg";function at(t){for(;Array.isArray(t);)t=t[xt];return t}function Lg(t,e){return at(e[t])}function wr(t,e){return at(e[t.index])}function PP(t,e){return t.data[e]}function ou(t,e){return t[e]}function Vr(t,e){const n=e[t];return br(n)?n:n[xt]}function _o(t,e){return null==e?null:t[e]}function FP(t){t[ru]=0}function vY(t){1024&t[ye]||(t[ye]|=1024,VP(t,1))}function LP(t){1024&t[ye]&&(t[ye]&=-1025,VP(t,-1))}function VP(t,e){let n=t[yt];if(null===n)return;n[Sd]+=e;let r=n;for(n=n[yt];null!==n&&(1===e&&1===r[Sd]||-1===e&&0===r[Sd]);)n[Sd]+=e,r=n,n=n[yt]}const le={lFrame:YP(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function jP(){return le.bindingsEnabled}function au(){return null!==le.skipHydrationRootTNode}function P(){return le.lFrame.lView}function Re(){return le.lFrame.tView}function gn(t){return le.lFrame.contextLView=t,t[Lt]}function mn(t){return le.lFrame.contextLView=null,t}function Rn(){let t=$P();for(;null!==t&&64===t.type;)t=t.parent;return t}function $P(){return le.lFrame.currentTNode}function qi(t,e){const n=le.lFrame;n.currentTNode=t,n.isParent=e}function Gb(){return le.lFrame.isParent}function zb(){le.lFrame.isParent=!1}function ir(){const t=le.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function cu(){return le.lFrame.bindingIndex++}function As(t){const e=le.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function OY(t,e){const n=le.lFrame;n.bindingIndex=n.bindingRootIndex=t,Wb(e)}function Wb(t){le.lFrame.currentDirectiveIndex=t}function WP(){return le.lFrame.currentQueryIndex}function Kb(t){le.lFrame.currentQueryIndex=t}function RY(t){const e=t[ee];return 2===e.type?e.declTNode:1===e.type?t[qn]:null}function qP(t,e,n){if(n&Ce.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&Ce.Host||(i=RY(s),null===i||(s=s[nu],10&i.type))););if(null===i)return!1;e=i,t=s}const r=le.lFrame=KP();return r.currentTNode=e,r.lView=t,!0}function Yb(t){const e=KP(),n=t[ee];le.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function KP(){const t=le.lFrame,e=null===t?null:t.child;return null===e?YP(t):e}function YP(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function QP(){const t=le.lFrame;return le.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const JP=QP;function Qb(){const t=QP();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function sr(){return le.lFrame.selectedIndex}function ya(t){le.lFrame.selectedIndex=t}function Tt(){const t=le.lFrame;return PP(t.tView,t.selectedIndex)}function yo(){le.lFrame.currentNamespace=RP}function uu(){!function LY(){le.lFrame.currentNamespace=null}()}let XP=!0;function Vg(){return XP}function vo(t){XP=t}function Bg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Ug(t,e,n){e2(t,e,3,n)}function jg(t,e,n,r){(3&t[ye])===n&&e2(t,e,n,r)}function Jb(t,e){let n=t[ye];(3&n)===e&&(n&=8191,n+=1,t[ye]=n)}function e2(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&t[ru]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[ru]+=65536),(a<s||-1==s)&&(BY(t,n,e,c),t[ru]=(4294901760&t[ru])+c+2),c++}function t2(t,e){Wi(4,t,e);const n=ri(null);try{e.call(t)}finally{ri(n),Wi(5,t,e)}}function BY(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[ye]>>13<t[ru]>>16&&(3&t[ye])===e&&(t[ye]+=8192,t2(a,s)):t2(a,s)}const lu=-1;class Fd{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Xb(t){return t!==lu}function Ld(t){return 32767&t}function Vd(t,e){let n=function HY(t){return t>>16}(t),r=e;for(;n>0;)r=r[nu],n--;return r}let ew=!0;function $g(t){const e=ew;return ew=t,e}const n2=255,r2=5;let GY=0;const Ki={};function Hg(t,e){const n=i2(t,e);if(-1!==n)return n;const r=e[ee];r.firstCreatePass&&(t.injectorIndex=e.length,tw(r.data,t),tw(e,null),tw(r.blueprint,null));const i=Gg(t,e),s=t.injectorIndex;if(Xb(i)){const o=Ld(i),a=Vd(i,e),c=a[ee].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function tw(t,e){t.push(0,0,0,0,0,0,0,0,e)}function i2(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Gg(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=d2(i),null===r)return lu;if(n++,i=i[nu],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return lu}function nw(t,e,n){!function zY(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Dd)&&(r=n[Dd]),null==r&&(r=n[Dd]=GY++);const i=r&n2;e.data[t+(i>>r2)]|=1<<i}(t,e,n)}function s2(t,e,n){if(n&Ce.Optional||void 0!==t)return t;Ib()}function o2(t,e,n,r){if(n&Ce.Optional&&void 0===r&&(r=null),!(n&(Ce.Self|Ce.Host))){const i=t[po],s=vr(void 0);try{return i?i.get(e,r,n&Ce.Optional):Kk(e,r,n&Ce.Optional)}finally{vr(s)}}return s2(r,0,n)}function a2(t,e,n,r=Ce.Default,i){if(null!==t){if(2048&e[ye]&&!(r&Ce.Self)){const o=function JY(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[ye]&&!(512&o[ye]);){const a=c2(s,o,n,r|Ce.Self,Ki);if(a!==Ki)return a;let c=s.parent;if(!c){const u=o[hP];if(u){const l=u.get(n,Ki,r);if(l!==Ki)return l}c=d2(o),o=o[nu]}s=c}return i}(t,e,n,r,Ki);if(o!==Ki)return o}const s=c2(t,e,n,r,Ki);if(s!==Ki)return s}return o2(e,n,r,i)}function c2(t,e,n,r,i){const s=function KY(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Dd)?t[Dd]:void 0;return"number"==typeof e?e>=0?e&n2:QY:e}(n);if("function"==typeof s){if(!qP(e,t,r))return r&Ce.Host?s2(i,0,r):o2(e,n,r,i);try{let o;if(o=s(r),null!=o||r&Ce.Optional)return o;Ib()}finally{JP()}}else if("number"==typeof s){let o=null,a=i2(t,e),c=lu,u=r&Ce.Host?e[Vt][qn]:null;for((-1===a||r&Ce.SkipSelf)&&(c=-1===a?Gg(t,e):e[a+8],c!==lu&&l2(r,!1)?(o=e[ee],a=Ld(c),e=Vd(c,e)):a=-1);-1!==a;){const l=e[ee];if(u2(s,a,l.data)){const d=qY(a,e,n,o,r,u);if(d!==Ki)return d}c=e[a+8],c!==lu&&l2(r,e[ee].data[a+8]===u)&&u2(s,a,e)?(o=l,a=Ld(c),e=Vd(c,e)):a=-1}}return i}function qY(t,e,n,r,i,s){const o=e[ee],a=o.data[t+8],l=zg(a,o,n,null==r?ma(a)&&ew:r!=o&&0!=(3&a.type),i&Ce.Host&&s===a);return null!==l?va(e,o,l,a):Ki}function zg(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const g=o[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(i){const f=o[c];if(f&&wi(f)&&f.type===n)return c}return null}function va(t,e,n,r){let i=t[n];const s=e.data;if(function UY(t){return t instanceof Fd}(i)){const o=i;o.resolving&&function _K(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new V(-200,`Circular dependency in DI detected for ${t}${n}`)}(function We(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():fe(t)}(s[n]));const a=$g(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?vr(o.injectImpl):null;qP(t,r,Ce.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function VY(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=NP(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==u&&vr(u),$g(a),o.resolving=!1,JP()}}return i}function u2(t,e,n){return!!(n[e+(t>>r2)]&1<<t)}function l2(t,e){return!(t&Ce.Self||t&Ce.Host&&e)}class or{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return a2(this._tNode,this._lView,e,xg(r),n)}}function QY(){return new or(Rn(),P())}function Bt(t){return Es(()=>{const e=t.prototype.constructor,n=e[Ds]||rw(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Ds]||rw(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function rw(t){return bb(t)?()=>{const e=rw(de(t));return e&&e()}:_a(t)}function d2(t){const e=t[ee],n=e.type;return 2===n?e.declTNode:1===n?t[qn]:null}const hu="__parameters__";function pu(t,e,n){return Es(()=>{const r=function iw(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,u,l){const d=c.hasOwnProperty(hu)?c[hu]:Object.defineProperty(c,hu,{value:[]})[hu];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function mu(t,e){t.forEach(n=>Array.isArray(n)?mu(n,e):e(n))}function f2(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Wg(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function jd(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Br(t,e,n){let r=_u(t,e);return r>=0?t[1|r]=n:(r=~r,function iQ(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function sw(t,e){const n=_u(t,e);if(n>=0)return t[1|n]}function _u(t,e){return function p2(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Ir=Ed(pu("Optional"),8),Kg=Ed(pu("SkipSelf"),4);function Xg(t){return 128==(128&t.flags)}var bo=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(bo||{});const lw=new Map;let AQ=0;const hw="__ngContext__";function Kn(t,e){br(e)?(t[hw]=e[Nd],function NQ(t){lw.set(t[Nd],t)}(e)):t[hw]=e}let fw;function pw(t,e){return fw(t,e)}function Gd(t){const e=t[yt];return rr(e)?e[yt]:e}function k2(t){return F2(t[Ad])}function P2(t){return F2(t[bi])}function F2(t){for(;null!==t&&!rr(t);)t=t[bi];return t}function bu(t,e,n,r,i){if(null!=r){let s,o=!1;rr(r)?s=r:br(r)&&(o=!0,r=r[xt]);const a=at(r);0===t&&null!==n?null==i?U2(e,n,a):wa(e,n,a,i||null,!0):1===t&&null!==n?wa(e,n,a,i||null,!0):2===t?function om(t,e,n){const r=im(t,e);r&&function YQ(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function ZQ(t,e,n,r,i){const s=n[zi];s!==at(n)&&bu(e,t,r,s,i);for(let a=Nn;a<n.length;a++){const c=n[a];Wd(c[ee],c,t,e,r,s)}}(e,t,s,n,i)}}function nm(t,e,n){return t.createElement(e,n)}function V2(t,e){const n=t[iu],r=n.indexOf(e);LP(e),n.splice(r,1)}function rm(t,e){if(t.length<=Nn)return;const n=Nn+e,r=t[n];if(r){const i=r[xd];null!==i&&i!==t&&V2(i,r),e>0&&(t[n-1][bi]=r[bi]);const s=Wg(t,Nn+e);!function jQ(t,e){Wd(t,e,e[pe],2,null,null),e[xt]=null,e[qn]=null}(r[ee],r);const o=s[Gi];null!==o&&o.detachView(s[ee]),r[yt]=null,r[bi]=null,r[ye]&=-129}return r}function mw(t,e){if(!(256&e[ye])){const n=e[pe];e[Od]&&IP(e[Od]),e[Md]&&IP(e[Md]),n.destroyNode&&Wd(t,e,n,3,null,null),function GQ(t){let e=t[Ad];if(!e)return _w(t[ee],t);for(;e;){let n=null;if(br(e))n=e[Ad];else{const r=e[Nn];r&&(n=r)}if(!n){for(;e&&!e[bi]&&e!==t;)br(e)&&_w(e[ee],e),e=e[yt];null===e&&(e=t),br(e)&&_w(e[ee],e),n=e&&e[bi]}e=n}}(e)}}function _w(t,e){if(!(256&e[ye])){e[ye]&=-129,e[ye]|=256,function KQ(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Fd)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];Wi(4,a,c);try{c.call(a)}finally{Wi(5,a,c)}}else{Wi(4,i,s);try{s.call(i)}finally{Wi(5,i,s)}}}}}(t,e),function qQ(t,e){const n=t.cleanup,r=e[eu];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[eu]=null);const i=e[go];if(null!==i){e[go]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[ee].type&&e[pe].destroy();const n=e[xd];if(null!==n&&rr(e[yt])){n!==e[yt]&&V2(n,e);const r=e[Gi];null!==r&&r.detachView(t)}!function OQ(t){lw.delete(t[Nd])}(e)}}function yw(t,e,n){return function B2(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[xt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===yi.None||s===yi.Emulated)return null}return wr(r,n)}}(t,e.parent,n)}function wa(t,e,n,r,i){t.insertBefore(e,n,r,i)}function U2(t,e,n){t.appendChild(e,n)}function j2(t,e,n,r,i){null!==r?wa(t,e,n,r,i):U2(t,e,n)}function im(t,e){return t.parentNode(e)}function $2(t,e,n){return G2(t,e,n)}let vw,am,Tw,cm,G2=function H2(t,e,n){return 40&t.type?wr(t,n):null};function sm(t,e,n,r){const i=yw(t,r,e),s=e[pe],a=$2(r.parent||e[qn],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)j2(s,i,n[c],a,!1);else j2(s,i,n,a,!1);void 0!==vw&&vw(s,r,e,n,i)}function zd(t,e){if(null!==e){const n=e.type;if(3&n)return wr(e,t);if(4&n)return bw(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return zd(t,r);{const i=t[e.index];return rr(i)?bw(-1,i):at(i)}}if(32&n)return pw(e,t)()||at(t[e.index]);{const r=W2(t,e);return null!==r?Array.isArray(r)?r[0]:zd(Gd(t[Vt]),r):zd(t,e.next)}}return null}function W2(t,e){return null!==e?t[Vt][qn].projection[e.projection]:null}function bw(t,e){const n=Nn+t+1;if(n<e.length){const r=e[n],i=r[ee].firstChild;if(null!==i)return zd(r,i)}return e[zi]}function ww(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&Kn(at(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)ww(t,e,n.child,r,i,s,!1),bu(e,t,i,a,s);else if(32&c){const u=pw(n,r);let l;for(;l=u();)bu(e,t,i,l,s);bu(e,t,i,a,s)}else 16&c?K2(t,e,r,n,i,s):bu(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Wd(t,e,n,r,i,s){ww(n,r,t.firstChild,e,i,s,!1)}function K2(t,e,n,r,i,s){const o=n[Vt],c=o[qn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)bu(e,t,i,c[u],s);else{let u=c;const l=o[yt];Xg(r)&&(u.flags|=128),ww(t,e,u,l,i,s,!0)}}function Y2(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Q2(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Rb(t,e,r),null!==i&&Y2(t,e,i),null!==s&&function eJ(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function wu(t){return function Iw(){if(void 0===am&&(am=null,st.trustedTypes))try{am=st.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return am}()?.createHTML(t)||t}function X2(t){return function Ew(){if(void 0===cm&&(cm=null,st.trustedTypes))try{cm=st.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return cm}()?.createScriptURL(t)||t}class Ia{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Gk})`}}class sJ extends Ia{getTypeName(){return"HTML"}}class oJ extends Ia{getTypeName(){return"Style"}}class aJ extends Ia{getTypeName(){return"Script"}}class cJ extends Ia{getTypeName(){return"URL"}}class uJ extends Ia{getTypeName(){return"ResourceURL"}}function Ur(t){return t instanceof Ia?t.changingThisBreaksApplicationSecurity:t}function Yi(t,e){const n=function lJ(t){return t instanceof Ia&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Gk})`)}return n===e}class mJ{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(wu(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class _J{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=wu(e),n}}const vJ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function um(t){return(t=String(t)).match(vJ)?t:"unsafe:"+t}function xs(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function qd(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const tF=xs("area,br,col,hr,img,wbr"),nF=xs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rF=xs("rp,rt"),Dw=qd(tF,qd(nF,xs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),qd(rF,xs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),qd(rF,nF)),Cw=xs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),iF=qd(Cw,xs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),xs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),bJ=xs("script,style,template");class wJ{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!Dw.hasOwnProperty(n))return this.sanitizedSomething=!0,!bJ.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!iF.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;Cw[a]&&(c=um(c)),this.buf.push(" ",o,'="',sF(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();Dw.hasOwnProperty(n)&&!tF.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(sF(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const IJ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,TJ=/([^\#-~ |!])/g;function sF(t){return t.replace(/&/g,"&amp;").replace(IJ,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(TJ,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let lm;function oF(t,e){let n=null;try{lm=lm||function eF(t){const e=new _J(t);return function yJ(){try{return!!(new window.DOMParser).parseFromString(wu(""),"text/html")}catch{return!1}}()?new mJ(e):e}(t);let r=e?String(e):"";n=lm.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=lm.getInertBodyElement(r)}while(r!==s);return wu((new wJ).sanitizeChildren(Sw(n)||n))}finally{if(n){const r=Sw(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Sw(t){return"content"in t&&function EJ(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var si=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(si||{});function Kd(t){const e=Yd();return e?e.sanitize(si.URL,t)||"":Yi(t,"URL")?Ur(t):um(fe(t))}function Aw(t){const e=Yd();if(e)return X2(e.sanitize(si.RESOURCE_URL,t)||"");if(Yi(t,"ResourceURL"))return X2(Ur(t));throw new V(904,!1)}function Yd(){const t=P();return t&&t[tu].sanitizer}const Qd=new te("ENVIRONMENT_INITIALIZER"),cF=new te("INJECTOR",-1),uF=new te("INJECTOR_DEF_TYPES");class xw{get(e,n=Td){if(n===Td){const r=new Error(`NullInjectorError: No provider for ${sn(e)}!`);throw r.name="NullInjectorError",r}return n}}function OJ(...t){return{\u0275providers:dF(0,t),\u0275fromNgModule:!0}}function dF(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return mu(e,o=>{const a=o;dm(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&hF(i,s),n}function hF(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Nw(i,s=>{e(s,r)})}}function dm(t,e,n,r){if(!(t=de(t)))return!1;let i=null,s=Cg(t);const o=!s&&Me(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const c=t.ngModule;if(s=Cg(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of c)dm(u,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{mu(s.imports,l=>{dm(l,e,n,r)&&(u||=[],u.push(l))})}finally{}void 0!==u&&hF(u,e)}if(!a){const u=_a(i)||(()=>new i);e({provide:i,useFactory:u,deps:Ue},i),e({provide:uF,useValue:i,multi:!0},i),e({provide:Qd,useValue:()=>q(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const u=t;Nw(c,l=>{e(l,u)})}}}return i!==t&&void 0!==t.providers}function Nw(t,e){for(let n of t)wb(n)&&(n=n.\u0275providers),Array.isArray(n)?Nw(n,e):e(n)}const MJ=Qe({provide:String,useValue:Qe});function Ow(t){return null!==t&&"object"==typeof t&&MJ in t}function Ta(t){return"function"==typeof t}const Mw=new te("Set Injector scope."),hm={},kJ={};let Rw;function fm(){return void 0===Rw&&(Rw=new xw),Rw}class Er{}class Tu extends Er{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Pw(e,o=>this.processProvider(o)),this.records.set(cF,Eu(void 0,this)),i.has("environment")&&this.records.set(Er,Eu(void 0,this));const s=this.records.get(Mw);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(uF.multi,Ue,Ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=fo(this),r=vr(void 0);try{return e()}finally{fo(n),vr(r)}}get(e,n=Td,r=Ce.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Xk))return e[Xk](this);r=xg(r);const s=fo(this),o=vr(void 0);try{if(!(r&Ce.SkipSelf)){let c=this.records.get(e);if(void 0===c){const u=function BJ(t){return"function"==typeof t||"object"==typeof t&&t instanceof te}(e)&&Dg(e);c=u&&this.injectableDefInScope(u)?Eu(kw(e),hm):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&Ce.Self?fm():this.parent).get(e,n=r&Ce.Optional&&n===Td?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Ag]=a[Ag]||[]).unshift(sn(e)),s)throw a;return function MK(t,e,n,r){const i=t[Ag];throw e[Qk]&&i.unshift(e[Qk]),t.message=function RK(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=sn(e);if(Array.isArray(e))i=e.map(sn).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):sn(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(SK,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Ag]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{vr(o),fo(s)}}resolveInjectorInitializers(){const e=fo(this),n=vr(void 0);try{const i=this.get(Qd.multi,Ue,Ce.Self);for(const s of i)s()}finally{fo(e),vr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(sn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new V(205,!1)}processProvider(e){let n=Ta(e=de(e))?e:de(e&&e.provide);const r=function FJ(t){return Ow(t)?Eu(void 0,t.useValue):Eu(gF(t),hm)}(e);if(Ta(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Eu(void 0,hm,!0),i.factory=()=>Nb(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===hm&&(n.value=kJ,n.value=n.factory()),"object"==typeof n.value&&n.value&&function VJ(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=de(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function kw(t){const e=Dg(t),n=null!==e?e.factory:_a(t);if(null!==n)return n;if(t instanceof te)throw new V(204,!1);if(t instanceof Function)return function PJ(t){const e=t.length;if(e>0)throw jd(e,"?"),new V(204,!1);const n=function TK(t){return t&&(t[Sg]||t[Wk])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new V(204,!1)}function gF(t,e,n){let r;if(Ta(t)){const i=de(t);return _a(i)||kw(i)}if(Ow(t))r=()=>de(t.useValue);else if(function pF(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Nb(t.deps||[]));else if(function fF(t){return!(!t||!t.useExisting)}(t))r=()=>q(de(t.useExisting));else{const i=de(t&&(t.useClass||t.provide));if(!function LJ(t){return!!t.deps}(t))return _a(i)||kw(i);r=()=>new i(...Nb(t.deps))}return r}function Eu(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Pw(t,e){for(const n of t)Array.isArray(n)?Pw(n,e):n&&wb(n)?Pw(n.\u0275providers,e):e(n)}const pm=new te("AppId",{providedIn:"root",factory:()=>UJ}),UJ="ng",mF=new te("Platform Initializer"),Ns=new te("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_F=new te("CSP nonce",{providedIn:"root",factory:()=>function Iu(){if(void 0!==Tw)return Tw;if(typeof document<"u")return document;throw new V(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let yF=(t,e,n)=>null;function Hw(t,e,n=!1){return yF(t,e,n)}class QJ{}class wF{}class ZJ{resolveComponentFactory(e){throw function JJ(t){const e=Error(`No component factory found for ${sn(t)}.`);return e.ngComponent=t,e}(e)}}let bm=(()=>{class t{static#e=this.NULL=new ZJ}return t})();function XJ(){return Su(Rn(),P())}function Su(t,e){return new $e(wr(t,e))}let $e=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=XJ}return t})();function eZ(t){return t instanceof $e?t.nativeElement:t}class Ww{}let jr=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function tZ(){const t=P(),n=Vr(Rn().index,t);return(br(n)?n:t)[pe]}()}return t})(),nZ=(()=>{class t{static#e=this.\u0275prov=z({token:t,providedIn:"root",factory:()=>null})}return t})();class Au{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const qw=new Au("16.2.12"),Kw={};function CF(t,e=null,n=null,r){const i=SF(t,e,n,r);return i.resolveInjectorInitializers(),i}function SF(t,e=null,n=null,r,i=new Set){const s=[n||Ue,OJ(t)];return r=r||("object"==typeof t?void 0:sn(t)),new Tu(s,e||fm(),r||null,i)}let Qt=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Td;static#t=this.NULL=new xw;static create(n,r){if(Array.isArray(n))return CF({name:""},r,n,"");{const i=n.name??"";return CF({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=z({token:t,providedIn:"any",factory:()=>q(cF)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Yw(t){return t.ngOriginalError}class Os{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Yw(e);for(;n&&Yw(n);)n=Yw(n);return n||null}}function Qw(t){return e=>{setTimeout(t,void 0,e)}}const M=class lZ extends Fe{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Qw(s),i&&(i=Qw(i)),o&&(o=Qw(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Pt&&e.add(a),a}};function xF(...t){}class Ee{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new M(!1),this.onMicrotaskEmpty=new M(!1),this.onStable=new M(!1),this.onError=new M(!1),typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function dZ(){const t="function"==typeof st.requestAnimationFrame;let e=st[t?"requestAnimationFrame":"setTimeout"],n=st[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function pZ(t){const e=()=>{!function fZ(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(st,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Zw(t),t.isCheckStableRunning=!0,Jw(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Zw(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function mZ(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return NF(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),OF(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return NF(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),OF(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Zw(t),Jw(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ee.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(Ee.isInAngularZone())throw new V(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,hZ,xF,xF);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const hZ={};function Jw(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Zw(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function NF(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function OF(t){t._nesting--,Jw(t)}class gZ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new M,this.onMicrotaskEmpty=new M,this.onStable=new M,this.onError=new M}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const MF=new te("",{providedIn:"root",factory:RF});function RF(){const t=K(Ee);let e=!0;return function $k(...t){const e=Id(t),n=function cK(t,e){return"number"==typeof mb(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?nn(r[0]):Jc(n)(pn(r,e)):ti}(new Be(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Be(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(_b()))}function Ms(t){return t instanceof Function?t():t}let Xw=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}return t})();function Xd(t){for(;t;){t[ye]|=64;const e=Gd(t);if(Fb(t)&&!e)return t;t=e}return null}const VF=new te("",{providedIn:"root",factory:()=>!1});let Tm=null;function $F(t,e){return t[e]??zF()}function HF(t,e){const n=zF();n.producerNode?.length&&(t[e]=Tm,n.lView=t,Tm=GF())}const CZ={...mP,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Xd(t.lView)},lView:null};function GF(){return Object.create(CZ)}function zF(){return Tm??=GF(),Tm}const _e={};function A(t){WF(Re(),P(),sr()+t,!1)}function WF(t,e,n,r){if(!r)if(3==(3&e[ye])){const s=t.preOrderCheckHooks;null!==s&&Ug(e,s,n)}else{const s=t.preOrderHooks;null!==s&&jg(e,s,0,n)}ya(n)}function w(t,e=Ce.Default){const n=P();return null===n?q(t,e):a2(Rn(),n,de(t),e)}function Em(t,e,n,r,i,s,o,a,c,u,l){const d=e.blueprint.slice();return d[xt]=i,d[ye]=140|r,(null!==u||t&&2048&t[ye])&&(d[ye]|=2048),FP(d),d[yt]=d[nu]=t,d[Lt]=n,d[tu]=o||t&&t[tu],d[pe]=a||t&&t[pe],d[po]=c||t&&t[po]||null,d[qn]=s,d[Nd]=function xQ(){return AQ++}(),d[Cs]=l,d[hP]=u,d[Vt]=2==e.type?t[Vt]:d,d}function Mu(t,e,n,r,i){let s=t.data[e];if(null===s)s=function eI(t,e,n,r,i){const s=$P(),o=Gb(),c=t.data[e]=function kZ(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return au()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(t,e,n,r,i),function NY(){return le.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Pd(){const t=le.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return qi(s,!0),s}function eh(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function KF(t,e,n,r,i){const s=$F(e,Od),o=sr(),a=2&r;try{ya(-1),a&&e.length>Se&&WF(t,e,Se,!1),Wi(a?2:0,i);const u=a?s:null,l=Vb(u);try{null!==u&&(u.dirty=!1),n(r,i)}finally{Bb(u,l)}}finally{a&&null===e[Od]&&HF(e,Od),ya(o),Wi(a?3:1,i)}}function tI(t,e,n){if(Pb(e)){const r=ri(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{ri(r)}}}function nI(t,e,n){jP()&&(function jZ(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;ma(n)&&function KZ(t,e,n){const r=wr(e,t),i=YF(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Dm(t,Em(t,i,null,o,r,e,null,t[tu].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Hg(n,e),Kn(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const c=t.data[a],u=va(e,t,a,n);Kn(u,e),null!==o&&YZ(0,a-i,u,c,0,o),wi(c)&&(Vr(n.index,e)[Lt]=va(e,t,a,n))}}(t,e,n,wr(n,e)),64==(64&n.flags)&&eL(t,e,n))}function rI(t,e,n=wr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function YF(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=iI(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function iI(t,e,n,r,i,s,o,a,c,u,l){const d=Se+r,h=d+i,f=function AZ(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:_e);return n}(d,h),g="function"==typeof u?u():u;return f[ee]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}let QF=t=>null;function JF(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?ZF(n,e,i,s):r.hasOwnProperty(i)&&ZF(n,e,r[i],s)}return n}function ZF(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function $r(t,e,n,r,i,s,o,a){const c=wr(e,n);let l,u=e.inputs;!a&&null!=u&&(l=u[r])?(uI(t,n,l,r,i),ma(e)&&function LZ(t,e){const n=Vr(e,t);16&n[ye]||(n[ye]|=64)}(n,e.index)):3&e.type&&(r=function FZ(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}function sI(t,e,n,r){if(jP()){const i=null===r?null:{"":-1},s=function HZ(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(oP(e,o.selectors,!1))if(r||(r=[]),wi(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),oI(t,e,a.length)}else r.unshift(o),oI(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&XF(t,e,n,o,i,a),i&&function GZ(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new V(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Cd(n.mergedAttrs,n.attrs)}function XF(t,e,n,r,i,s){for(let u=0;u<r.length;u++)nw(Hg(n,e),t,r[u].type);!function WZ(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let u=0;u<r.length;u++){const l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=eh(t,e,r.length,null);for(let u=0;u<r.length;u++){const l=r[u];n.mergedAttrs=Cd(n.mergedAttrs,l.hostAttrs),qZ(t,n,e,c,l),zZ(c,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function PZ(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let c=null,u=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,g=h?h.outputs:null;c=JF(d.inputs,l,c,h?h.inputs:null),u=JF(d.outputs,l,u,g);const m=null===c||null===o||sP(e)?null:QZ(c,l,o);a.push(m)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}(t,n,s)}function eL(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function MY(){return le.lFrame.currentDirectiveIndex}();try{ya(s);for(let a=r;a<i;a++){const c=t.data[a],u=e[a];Wb(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&$Z(c,u)}}finally{ya(-1),Wb(o)}}function $Z(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function oI(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function zZ(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;wi(e)&&(n[""]=t)}}function qZ(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=_a(i.type)),o=new Fd(s,wi(i),w);t.blueprint[r]=o,n[r]=o,function BZ(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function UZ(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,eh(t,n,i.hostVars,_e),i)}function Qi(t,e,n,r,i,s){const o=wr(t,e);!function aI(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?fe(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[pe],o,s,t.value,n,r,i)}function YZ(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)tL(r,n,o[a++],o[a++],o[a++])}function tL(t,e,n,r,i){const s=ri(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{ri(s)}}function QZ(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function nL(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function rL(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];Kb(n[r]),o.contentQueries(2,e[s],s)}}}function Dm(t,e){return t[Ad]?t[dP][bi]=e:t[Ad]=e,t[dP]=e,e}function cI(t,e,n){Kb(0);const r=ri(null);try{e(t,n)}finally{ri(r)}}function iL(t){return t[eu]||(t[eu]=[])}function sL(t){return t.cleanup||(t.cleanup=[])}function aL(t,e){const n=t[po],r=n?n.get(Os,null):null;r&&r.handleError(e)}function uI(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];tL(t.data[o],e[o],r,a,i)}}function Rs(t,e,n){const r=Lg(e,t);!function L2(t,e,n){t.setValue(e,n)}(t[pe],r,n)}function JZ(t,e){const n=Vr(e,t),r=n[ee];!function ZZ(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[xt];null!==i&&null===n[Cs]&&(n[Cs]=Hw(i,n[po])),lI(r,n,n[Lt])}function lI(t,e,n){Yb(e);try{const r=t.viewQuery;null!==r&&cI(1,r,n);const i=t.template;null!==i&&KF(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&rL(t,e),t.staticViewQueries&&cI(2,t.viewQuery,n);const s=t.components;null!==s&&function XZ(t,e){for(let n=0;n<e.length;n++)JZ(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ye]&=-5,Qb()}}let cL=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function cY(t,e,n){const r=Object.create(uY);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>bP(r),run:()=>{if(r.dirty=!1,r.hasRun&&!wP(r))return;r.hasRun=!0;const o=Vb(r);try{r.cleanupFn(),r.cleanupFn=xP,r.fn(i)}finally{Bb(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,u=>{this.all.has(u)&&this.queue.set(u,s)},i);let a;this.all.add(o),o.notify();const c=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}return t})();function Cm(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=vb(i,a):2==s&&(r=vb(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function th(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(at(s)),rr(s)&&uL(s,r);const o=n.type;if(8&o)th(t,e,n.child,r);else if(32&o){const a=pw(n,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=W2(e,n);if(Array.isArray(a))r.push(...a);else{const c=Gd(e[Vt]);th(c[ee],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function uL(t,e){for(let n=Nn;n<t.length;n++){const r=t[n],i=r[ee].firstChild;null!==i&&th(r[ee],r,i,e)}t[zi]!==t[xt]&&e.push(t[zi])}function Sm(t,e,n,r=!0){const i=e[tu],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{lL(t,e,t.template,n)}catch(c){throw r&&aL(e,c),c}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function lL(t,e,n,r){const i=e[ye];if(256!=(256&i)){e[tu].effectManager?.flush(),Yb(e);try{FP(e),function GP(t){return le.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&KF(t,e,n,2,r);const o=3==(3&i);if(o){const u=t.preOrderCheckHooks;null!==u&&Ug(e,u,null)}else{const u=t.preOrderHooks;null!==u&&jg(e,u,0,null),Jb(e,0)}if(function nX(t){for(let e=k2(t);null!==e;e=P2(e)){if(!e[fP])continue;const n=e[iu];for(let r=0;r<n.length;r++){vY(n[r])}}}(e),dL(e,2),null!==t.contentQueries&&rL(t,e),o){const u=t.contentCheckHooks;null!==u&&Ug(e,u)}else{const u=t.contentHooks;null!==u&&jg(e,u,1),Jb(e,1)}!function SZ(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=$F(e,Md);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)ya(~s);else{const o=s,a=n[++i],c=n[++i];OY(a,o),r.dirty=!1;const u=Vb(r);try{c(2,e[o])}finally{Bb(r,u)}}}}finally{null===e[Md]&&HF(e,Md),ya(-1)}}(t,e);const a=t.components;null!==a&&fL(e,a,0);const c=t.viewQuery;if(null!==c&&cI(2,c,r),o){const u=t.viewCheckHooks;null!==u&&Ug(e,u)}else{const u=t.viewHooks;null!==u&&jg(e,u,2),Jb(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ye]&=-73,LP(e)}finally{Qb()}}}function dL(t,e){for(let n=k2(t);null!==n;n=P2(n))for(let r=Nn;r<n.length;r++)hL(n[r],e)}function rX(t,e,n){hL(Vr(e,t),n)}function hL(t,e){if(!function _Y(t){return 128==(128&t[ye])}(t))return;const n=t[ee],r=t[ye];if(80&r&&0===e||1024&r||2===e)lL(n,t,n.template,t[Lt]);else if(t[Sd]>0){dL(t,1);const i=n.components;null!==i&&fL(t,i,1)}}function fL(t,e,n){for(let r=0;r<e.length;r++)rX(t,e[r],n)}class nh{get rootNodes(){const e=this._lView,n=e[ee];return th(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Lt]}set context(e){this._lView[Lt]=e}get destroyed(){return 256==(256&this._lView[ye])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[yt];if(rr(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(rm(e,r),Wg(n,r))}this._attachedToViewContainer=!1}mw(this._lView[ee],this._lView)}onDestroy(e){!function BP(t,e){if(256==(256&t[ye]))throw new V(911,!1);null===t[go]&&(t[go]=[]),t[go].push(e)}(this._lView,e)}markForCheck(){Xd(this._cdRefInjectingView||this._lView)}detach(){this._lView[ye]&=-129}reattach(){this._lView[ye]|=128}detectChanges(){Sm(this._lView[ee],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function HQ(t,e){Wd(t,e,e[pe],2,null,null)}(this._lView[ee],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e}}class iX extends nh{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Sm(e[ee],e,e[Lt],!1)}checkNoChanges(){}get context(){return null}}class pL extends bm{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Me(e);return new rh(n,this.ngModule)}}function gL(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class oX{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=xg(r);const i=this.injector.get(e,Kw,r);return i!==Kw||n===Kw?i:this.parentInjector.get(e,n,r)}}class rh extends wF{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=gL(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return gL(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function HK(t){return t.map($K).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Er?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new oX(e,s):e,a=o.get(Ww,null);if(null===a)throw new V(407,!1);const d={rendererFactory:a,sanitizer:o.get(nZ,null),effectManager:o.get(cL,null),afterRenderEventManager:o.get(Xw,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",g=r?function xZ(t,e,n,r){const s=r.get(VF,!1)||n===yi.ShadowDom,o=t.selectRootElement(e,s);return function NZ(t){QF(t)}(o),o}(h,r,this.componentDef.encapsulation,o):nm(h,f,function sX(t){const e=t.toLowerCase();return"svg"===e?RP:"math"===e?"math":null}(f)),I=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let b=null;null!==g&&(b=Hw(g,o,!0));const x=iI(0,null,null,1,0,null,null,null,null,null,null),R=Em(null,x,null,I,null,null,d,h,o,null,b);let U,Y;Yb(R);try{const oe=this.componentDef;let me,Ve=null;oe.findHostDirectiveDefs?(me=[],Ve=new Map,oe.findHostDirectiveDefs(oe,me,Ve),me.push(oe)):me=[oe];const _t=function cX(t,e){const n=t[ee],r=Se;return t[r]=e,Mu(n,r,2,"#host",null)}(R,g),An=function uX(t,e,n,r,i,s,o){const a=i[ee];!function lX(t,e,n,r){for(const i of t)e.mergedAttrs=Cd(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Cm(e,e.mergedAttrs,!0),null!==n&&Q2(r,n,e))}(r,t,e,o);let c=null;null!==e&&(c=Hw(e,i[po]));const u=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=Em(i,YF(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&oI(a,t,r.length-1),Dm(i,d),i[t.index]=d}(_t,g,oe,me,R,d,h);Y=PP(x,Se),g&&function hX(t,e,n,r){if(r)Rb(t,n,["ng-version",qw.full]);else{const{attrs:i,classes:s}=function GK(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!vi(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Rb(t,n,i),s&&s.length>0&&Y2(t,n,s.join(" "))}}(h,oe,g,r),void 0!==n&&function fX(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(Y,this.ngContentSelectors,n),U=function dX(t,e,n,r,i,s){const o=Rn(),a=i[ee],c=wr(o,i);XF(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Kn(va(i,a,o.directiveStart+l,o),i);eL(a,i,o),c&&Kn(c,i);const u=va(i,a,o.directiveStart+o.componentOffset,o);if(t[Lt]=i[Lt]=u,null!==s)for(const l of s)l(u,e);return tI(a,o,t),u}(An,oe,me,Ve,R,[pX]),lI(x,R,null)}finally{Qb()}return new aX(this.componentType,U,Su(Y,R),R,Y)}}class aX extends QJ{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new iX(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;uI(s[ee],s,i,e,n),this.previousInputValues.set(e,n),Xd(Vr(this._tNode.index,s))}}get injector(){return new or(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function pX(){const t=Rn();Bg(P()[ee],t)}function He(t){let e=function mL(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(wi(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=Am(t.inputs),o.inputTransforms=Am(t.inputTransforms),o.declaredInputs=Am(t.declaredInputs),o.outputs=Am(t.outputs);const a=i.hostBindings;a&&yX(t,a);const c=i.viewQuery,u=i.contentQueries;if(c&&mX(t,c),u&&_X(t,u),Tg(t.inputs,i.inputs),Tg(t.declaredInputs,i.declaredInputs),Tg(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Tg(o.inputTransforms,i.inputTransforms)),wi(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===He&&(n=!1)}}e=Object.getPrototypeOf(e)}!function gX(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Cd(i.hostAttrs,n=Cd(n,i.hostAttrs))}}(r)}function Am(t){return t===Hi?{}:t===Ue?[]:t}function mX(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function _X(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function yX(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function bL(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function xm(t){return!!function dI(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Ji(t,e,n){return t[e]=n}function Yn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ea(t,e,n,r){const i=Yn(t,e,n);return Yn(t,e+1,r)||i}function qe(t,e,n,r){const i=P();return Yn(i,cu(),e)&&(Re(),Qi(Tt(),i,t,e,n,r)),qe}function ku(t,e,n,r){return Yn(t,cu(),n)?e+fe(n)+r:_e}function Fu(t,e,n,r,i,s,o,a){const u=function Nm(t,e,n,r,i){const s=Ea(t,e,n,r);return Yn(t,e+2,i)||s}(t,function Ss(){return le.lFrame.bindingIndex}(),n,i,o);return As(3),u?e+fe(n)+r+fe(i)+s+fe(o)+a:_e}function k(t,e,n,r,i,s,o,a){const c=P(),u=Re(),l=t+Se,d=u.firstCreatePass?function $X(t,e,n,r,i,s,o,a,c){const u=e.consts,l=Mu(e,t,4,o||null,_o(u,a));sI(e,n,l,_o(u,c)),Bg(e,l);const d=l.tView=iI(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,n,r,i,s,o):u.data[l];qi(d,!1);const h=RL(u,c,d,t);Vg()&&sm(u,c,h,d),Kn(h,c),Dm(c,c[l]=nL(h,c,h,d)),kg(d)&&nI(u,c,d),null!=o&&rI(c,d,a)}let RL=function kL(t,e,n,r){return vo(!0),e[pe].createComment("")};function O(t,e,n){const r=P();return Yn(r,cu(),e)&&$r(Re(),Tt(),r,t,e,r[pe],n,!1),O}function _I(t,e,n,r,i){const o=i?"class":"style";uI(t,n,e.inputs[o],o,r)}function y(t,e,n,r){const i=P(),s=Re(),o=Se+t,a=i[pe],c=s.firstCreatePass?function WX(t,e,n,r,i,s){const o=e.consts,c=Mu(e,t,2,r,_o(o,i));return sI(e,n,c,_o(o,s)),null!==c.attrs&&Cm(c,c.attrs,!1),null!==c.mergedAttrs&&Cm(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,n,r):s.data[o],u=PL(s,i,c,a,e,t);i[o]=u;const l=kg(c);return qi(c,!0),Q2(a,u,c),32!=(32&c.flags)&&Vg()&&sm(s,i,u,c),0===function wY(){return le.lFrame.elementDepthCount}()&&Kn(u,i),function IY(){le.lFrame.elementDepthCount++}(),l&&(nI(s,i,c),tI(s,c,i)),null!==r&&rI(i,c),y}function v(){let t=Rn();Gb()?zb():(t=t.parent,qi(t,!1));const e=t;(function EY(t){return le.skipHydrationRootTNode===t})(e)&&function AY(){le.skipHydrationRootTNode=null}(),function TY(){le.lFrame.elementDepthCount--}();const n=Re();return n.firstCreatePass&&(Bg(n,t),Pb(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function jY(t){return 0!=(8&t.flags)}(e)&&_I(n,e,P(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function $Y(t){return 0!=(16&t.flags)}(e)&&_I(n,e,P(),e.stylesWithoutHost,!1),v}function j(t,e,n,r){return y(t,e,n,r),v(),j}let PL=(t,e,n,r,i,s)=>(vo(!0),nm(r,i,function ZP(){return le.lFrame.currentNamespace}()));function kn(){return P()}function uh(t){return!!t&&"function"==typeof t.then}function VL(t){return!!t&&"function"==typeof t.subscribe}function ce(t,e,n,r){const i=P(),s=Re(),o=Rn();return function UL(t,e,n,r,i,s,o){const a=kg(r),u=t.firstCreatePass&&sL(t),l=e[Lt],d=iL(e);let h=!0;if(3&r.type||o){const m=wr(r,e),_=o?o(m):m,I=d.length,b=o?R=>o(at(R[r.index])):r.index;let x=null;if(!o&&a&&(x=function ZX(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[eu],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==x)(x.__ngLastListenerFn__||x).__ngNextListenerFn__=s,x.__ngLastListenerFn__=s,h=!1;else{s=$L(r,e,l,s,!1);const R=n.listen(_,i,s);d.push(s,R),u&&u.push(i,b,I,I+1)}}else s=$L(r,e,l,s,!1);const f=r.outputs;let g;if(h&&null!==f&&(g=f[i])){const m=g.length;if(m)for(let _=0;_<m;_+=2){const U=e[g[_]][g[_+1]].subscribe(s),Y=d.length;d.push(s,U),u&&u.push(i,r.index,Y,-(Y+1))}}}(s,i,i[pe],o,t,e,r),ce}function jL(t,e,n,r){try{return Wi(6,e,n),!1!==n(r)}catch(i){return aL(t,i),!1}finally{Wi(7,e,n)}}function $L(t,e,n,r,i){return function s(o){if(o===Function)return r;Xd(t.componentOffset>-1?Vr(t.index,e):e);let c=jL(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=jL(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&!1===c&&o.preventDefault(),c}}function H(t=1){return function kY(t){return(le.lFrame.contextLView=function PY(t,e){for(;t>0;)e=e[nu],t--;return e}(t,le.lFrame.contextLView))[Lt]}(t)}function XX(t,e){let n=null;const r=function VK(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?oP(t,s,!0):jK(r,s))return i}else n=i}return n}function km(t,e,n){return Pm(t,"",e,"",n),km}function Pm(t,e,n,r,i){const s=P(),o=ku(s,e,n,r);return o!==_e&&$r(Re(),Tt(),s,t,o,s[pe],i,!1),Pm}function Fm(t,e){return t<<17|e<<2}function wo(t){return t>>17&32767}function bI(t){return 2|t}function Da(t){return(131068&t)>>2}function wI(t,e){return-131069&t|e<<2}function II(t){return 1|t}function XL(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?wo(s):Da(s),c=!1;for(;0!==a&&(!1===c||o);){const l=t[a+1];see(t[a],e)&&(c=!0,t[a+1]=r?II(l):bI(l)),a=r?wo(l):Da(l)}c&&(t[n+1]=r?bI(s):II(s))}function see(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&_u(t,e)>=0}const an={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function eV(t){return t.substring(an.key,an.keyEnd)}function tV(t,e){const n=an.textEnd;return n===e?-1:(e=an.keyEnd=function uee(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,an.key=e,n),$u(t,e,n))}function $u(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function je(t,e){return function Ti(t,e,n,r){const i=P(),s=Re(),o=As(2);s.firstUpdatePass&&cV(s,t,o,r),e!==_e&&Yn(i,o,e)&&lV(s,s.data[sr()],i,i[pe],t,i[o+1]=function bee(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=sn(Ur(t)))),t}(e,n),r,o)}(t,e,null,!0),je}function Ca(t){!function Ei(t,e,n,r){const i=Re(),s=As(2);i.firstUpdatePass&&cV(i,null,s,r);const o=P();if(n!==_e&&Yn(o,s,n)){const a=i.data[sr()];if(hV(a,r)&&!aV(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(n=vb(c,n||"")),_I(i,a,o,n,r)}else!function vee(t,e,n,r,i,s,o,a){i===_e&&(i=Ue);let c=0,u=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==l||null!==d;){const h=c<i.length?i[c+1]:void 0,f=u<s.length?s[u+1]:void 0;let m,g=null;l===d?(c+=2,u+=2,h!==f&&(g=d,m=f)):null===d||null!==l&&l<d?(c+=2,g=l):(u+=2,g=d,m=f),null!==g&&lV(t,e,n,r,g,m,o,a),l=c<i.length?i[c]:null,d=u<s.length?s[u]:null}}(i,a,o,o[pe],o[s+1],o[s+1]=function _ee(t,e,n){if(null==n||""===n)return Ue;const r=[],i=Ur(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}(yee,Xi,t,!0)}function Xi(t,e){for(let n=function aee(t){return function rV(t){an.key=0,an.keyEnd=0,an.value=0,an.valueEnd=0,an.textEnd=t.length}(t),tV(t,$u(t,0,an.textEnd))}(e);n>=0;n=tV(e,n))Br(t,eV(e),!0)}function aV(t,e){return e>=t.expandoStartIndex}function cV(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[sr()],o=aV(t,n);hV(s,r)&&null===e&&!o&&(e=!1),e=function fee(t,e,n,r){const i=function qb(t){const e=le.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=lh(n=TI(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=TI(i,t,e,n,r),null===s){let c=function pee(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Da(r))return t[wo(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=TI(null,t,e,c[1],r),c=lh(c,e.attrs,r),function gee(t,e,n,r){t[wo(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else s=function mee(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=lh(r,t[s].hostAttrs,n);return lh(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function ree(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=wo(o),c=Da(o);t[r]=n;let l,u=!1;if(Array.isArray(n)?(l=n[1],(null===l||_u(n,l)>0)&&(u=!0)):l=n,i)if(0!==c){const h=wo(t[a+1]);t[r+1]=Fm(h,a),0!==h&&(t[h+1]=wI(t[h+1],r)),t[a+1]=function tee(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Fm(a,0),0!==a&&(t[a+1]=wI(t[a+1],r)),a=r;else t[r+1]=Fm(c,0),0===a?a=r:t[c+1]=wI(t[c+1],r),c=r;u&&(t[r+1]=bI(t[r+1])),XL(t,l,r,!0),XL(t,l,r,!1),function iee(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&_u(s,e)>=0&&(n[r+1]=II(n[r+1]))}(e,l,t,r,s),o=Fm(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function TI(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=lh(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function lh(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Br(t,o,!!n||e[++s]))}return void 0===t?null:t}function yee(t,e,n){const r=String(e);""!==r&&!r.includes(" ")&&Br(t,r,n)}function lV(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,u=c[a+1],l=function nee(t){return 1==(1&t)}(u)?dV(c,e,n,i,Da(u),o):void 0;Lm(l)||(Lm(s)||function eee(t){return 2==(2&t)}(u)&&(s=dV(c,null,n,i,a,o)),function XQ(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:bo.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=bo.Important),t.setStyle(n,r,i,s))}}(r,o,Lg(sr(),n),i,s))}function dV(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=null===l;let h=n[i+1];h===_e&&(h=d?Ue:void 0);let f=d?sw(h,r):l===r?h:void 0;if(u&&!Lm(f)&&(f=sw(c,r)),Lm(f)&&(a=f,o))return a;const g=t[i+1];i=o?wo(g):Da(g)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=sw(c,r))}return a}function Lm(t){return void 0!==t}function hV(t,e){return 0!=(t.flags&(e?8:16))}function S(t,e=""){const n=P(),r=Re(),i=t+Se,s=r.firstCreatePass?Mu(r,i,1,e,null):r.data[i],o=fV(r,n,s,e,t);n[i]=o,Vg()&&sm(r,n,o,s),qi(s,!1)}let fV=(t,e,n,r,i)=>(vo(!0),function tm(t,e){return t.createText(e)}(e[pe],r));function Ut(t){return ks("",t,""),Ut}function ks(t,e,n){const r=P(),i=ku(r,t,e,n);return i!==_e&&Rs(r,sr(),i),ks}function EI(t,e,n,r,i,s,o){const a=P(),c=Fu(a,t,e,n,r,i,s,o);return c!==_e&&Rs(a,sr(),c),EI}const Sa=void 0;var $ee=["en",[["a","p"],["AM","PM"],Sa],[["AM","PM"],Sa,Sa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Sa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Sa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Sa,"{1} 'at' {0}",Sa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function jee(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Hu={};function ar(t){const e=function Hee(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=MV(e);if(n)return n;const r=e.split("-")[0];if(n=MV(r),n)return n;if("en"===r)return $ee;throw new V(701,!1)}function MV(t){return t in Hu||(Hu[t]=st.ng&&st.ng.common&&st.ng.common.locales&&st.ng.common.locales[t]),Hu[t]}var ct=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ct||{});const Gu="en-US";let RV=Gu;function SI(t,e,n,r,i){if(t=de(t),Array.isArray(t))for(let s=0;s<t.length;s++)SI(t[s],e,n,r,i);else{const s=Re(),o=P(),a=Rn();let c=Ta(t)?t:de(t.provide);const u=gF(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Ta(t)||!t.multi){const f=new Fd(u,i,w),g=xI(c,e,i?l:l+h,d);-1===g?(nw(Hg(a,o),s,c),AI(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[g]=f,o[g]=f)}else{const f=xI(c,e,l+h,d),g=xI(c,e,l,l+h),_=g>=0&&n[g];if(i&&!_||!i&&!(f>=0&&n[f])){nw(Hg(a,o),s,c);const I=function Ute(t,e,n,r,i){const s=new Fd(t,n,w);return s.multi=[],s.index=e,s.componentProviders=0,i3(s,i,r&&!n),s}(i?Bte:Vte,n.length,i,r,u);!i&&_&&(n[g].providerFactory=I),AI(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(I),o.push(I)}else AI(s,t,f>-1?f:g,i3(n[i?g:f],u,!i&&r));!i&&r&&_&&n[g].componentProviders++}}}function AI(t,e,n,r){const i=Ta(e),s=function RJ(t){return!!t.useClass}(e);if(i||s){const c=(s?de(e.useClass):e).prototype.ngOnDestroy;if(c){const u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=u.indexOf(n);-1===l?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function i3(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function xI(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Vte(t,e,n,r){return NI(this.multi,[])}function Bte(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=va(n,n[ee],this.providerFactory.index,r);s=a.slice(0,o),NI(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],NI(i,s);return s}function NI(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function nt(t,e=[]){return n=>{n.providersResolver=(r,i)=>function Lte(t,e,n){const r=Re();if(r.firstCreatePass){const i=wi(t);SI(n,r.data,r.blueprint,i,!0),SI(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Aa{}class s3{}class OI extends Aa{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new pL(this);const i=Lr(e);this._bootstrapComponents=Ms(i.bootstrap),this._r3Injector=SF(e,n,[{provide:Aa,useValue:this},{provide:bm,useValue:this.componentFactoryResolver},...r],sn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class MI extends s3{constructor(e){super(),this.moduleType=e}create(e){return new OI(this.moduleType,e,[])}}class o3 extends Aa{constructor(e){super(),this.componentFactoryResolver=new pL(this),this.instance=null;const n=new Tu([...e.providers,{provide:Aa,useValue:this},{provide:bm,useValue:this.componentFactoryResolver}],e.parent||fm(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function RI(t,e,n=null){return new o3({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let Hte=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=dF(0,n.type),i=r.length>0?RI([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=z({token:t,providedIn:"environment",factory:()=>new t(q(Er))})}return t})();function Hr(t){t.getStandaloneInjector=e=>e.get(Hte).getOrCreateStandaloneInjector(t)}function yh(t,e){const n=t[e];return n===_e?void 0:n}function f3(t,e,n,r,i,s){const o=e+n;return Yn(t,o,i)?Ji(t,o+1,s?r.call(s,i):r(i)):yh(t,o+1)}function vh(t,e){const n=Re();let r;const i=t+Se;n.firstCreatePass?(r=function sne(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=_a(r.type)),a=vr(w);try{const c=$g(!1),u=s();return $g(c),function zX(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,P(),i,u),u}finally{vr(a)}}function $m(t,e,n){const r=t+Se,i=P(),s=ou(i,r);return bh(i,r)?f3(i,ir(),e,s.transform,n,s):s.transform(n)}function y3(t,e,n,r){const i=t+Se,s=P(),o=ou(s,i);return bh(s,i)?function p3(t,e,n,r,i,s,o){const a=e+n;return Ea(t,a,i,s)?Ji(t,a+2,o?r.call(o,i,s):r(i,s)):yh(t,a+2)}(s,ir(),e,o.transform,n,r,o):o.transform(n,r)}function bh(t,e){return t[ee].data[e].pure}function une(){return this._results[Symbol.iterator]()}class FI{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new M)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=FI.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=une)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function ii(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function nQ(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function dne(t,e,n,r=!0){const i=e[ee];if(function zQ(t,e,n,r){const i=Nn+r,s=n.length;r>0&&(n[i-1][bi]=e),r<s-Nn?(e[bi]=n[i],f2(n,Nn+r,e)):(n.push(e),e[bi]=null),e[yt]=n;const o=e[xd];null!==o&&n!==o&&function WQ(t,e){const n=t[iu];e[Vt]!==e[yt][yt][Vt]&&(t[fP]=!0),null===n?t[iu]=[e]:n.push(e)}(o,e);const a=e[Gi];null!==a&&a.insertView(t),e[ye]|=128}(i,e,t,n),r){const s=bw(n,t),o=e[pe],a=im(o,t[zi]);null!==a&&function $Q(t,e,n,r,i,s){r[xt]=i,r[qn]=e,Wd(t,r,n,1,i,s)}(i,t[qn],o,e,a,s)}}let Et=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=pne}return t})();const hne=Et,fne=class extends hne{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function lne(t,e,n,r){const i=e.tView,a=Em(t,i,n,4096&t[ye]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[xd]=t[e.index];const u=t[Gi];return null!==u&&(a[Gi]=u.createEmbeddedView(i)),lI(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new nh(i)}};function pne(){return Hm(Rn(),P())}function Hm(t,e){return 4&t.type?new fne(e,t,Su(t,e)):null}let ci=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=bne}return t})();function bne(){return D3(Rn(),P())}const wne=ci,T3=class extends wne{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Su(this._hostTNode,this._hostLView)}get injector(){return new or(this._hostTNode,this._hostLView)}get parentInjector(){const e=Gg(this._hostTNode,this._hostLView);if(Xb(e)){const n=Vd(e,this._hostLView),r=Ld(e);return new or(n[ee].data[r+8],n)}return new or(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=E3(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Nn}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function Ud(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const c=o?e:new rh(Me(e)),u=r||this.parentInjector;if(!s&&null==c.ngModule){const _=(o?u:this.parentInjector).get(Er,null);_&&(s=_)}Me(c.componentType??{});const f=c.create(u,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function yY(t){return rr(t[yt])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const u=i[yt],l=new T3(u,u[qn],u[yt]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return dne(a,i,o,!r),e.attachToViewContainerRef(),f2(LI(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=E3(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=rm(this._lContainer,n);r&&(Wg(LI(this._lContainer),n),mw(r[ee],r))}detach(e){const n=this._adjustIndex(e,-1),r=rm(this._lContainer,n);return r&&null!=Wg(LI(this._lContainer),n)?new nh(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function E3(t){return t[8]}function LI(t){return t[8]||(t[8]=[])}function D3(t,e){let n;const r=e[t.index];return rr(r)?n=r:(n=nL(r,e,null,t),e[t.index]=n,Dm(e,n)),C3(n,e,t,r),new T3(n,t,e)}let C3=function S3(t,e,n,r){if(t[zi])return;let i;i=8&n.type?at(r):function Ine(t,e){const n=t[pe],r=n.createComment(""),i=wr(e,t);return wa(n,im(n,i),r,function QQ(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[zi]=i};class VI{constructor(e){this.queryList=e,this.matches=null}clone(){return new VI(this.queryList)}setDirty(){this.queryList.setDirty()}}class BI{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new BI(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==M3(e,n).matches&&this.queries[n].setDirty()}}class A3{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class UI{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new UI(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class jI{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new jI(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,Dne(n,s)),this.matchTNodeWithReadOption(e,n,zg(n,e,s,!1,!1))}else r===Et?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,zg(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===$e||i===ci||i===Et&&4&n.type)this.addMatch(n.index,-2);else{const s=zg(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function Dne(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Sne(t,e,n,r){return-1===n?function Cne(t,e){return 11&t.type?Su(t,e):4&t.type?Hm(t,e):null}(e,t):-2===n?function Ane(t,e,n){return n===$e?Su(e,t):n===Et?Hm(e,t):n===ci?D3(e,t):void 0}(t,e,r):va(t,t[ee],n,e)}function x3(t,e,n,r){const i=e[Gi].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){const u=o[c];a.push(u<0?null:Sne(e,s[u],o[c+1],n.metadata.read))}i.matches=a}return i.matches}function $I(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=x3(t,e,i,n);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)r.push(o[a/2]);else{const u=s[a+1],l=e[-c];for(let d=Nn;d<l.length;d++){const h=l[d];h[xd]===h[yt]&&$I(h[ee],h,u,r)}if(null!==l[iu]){const d=l[iu];for(let h=0;h<d.length;h++){const f=d[h];$I(f[ee],f,u,r)}}}}}return r}function Je(t){const e=P(),n=Re(),r=WP();Kb(r+1);const i=M3(n,r);if(t.dirty&&function mY(t){return 4==(4&t[ye])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?$I(n,e,r,[]):x3(n,e,i,r);t.reset(s,eZ),t.notifyOnChanges()}return!0}return!1}function xa(t,e,n){const r=Re();r.firstCreatePass&&(function O3(t,e,n){null===t.queries&&(t.queries=new UI),t.queries.track(new jI(e,n))}(r,new A3(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function N3(t,e,n){const r=new FI(4==(4&n));(function RZ(t,e,n,r){const i=iL(e);i.push(n),t.firstCreatePass&&sL(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[Gi]&&(e[Gi]=new BI),e[Gi].queries.push(new VI(r))}(r,P(),e)}function M3(t,e){return t.queries.getByIndex(e)}const KI=new te("Application Initializer");let YI=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=K(KI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(uh(s))n.push(s);else if(VL(s)){const o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Y3=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Ci=new te("LocaleId",{providedIn:"root",factory:()=>K(Ci,Ce.Optional|Ce.SkipSelf)||function Jne(){return typeof $localize<"u"&&$localize.locale||Gu}()});let Q3=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new yr(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class ere{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let J3=(()=>{class t{compileModuleSync(n){return new MI(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Ms(Lr(n).declarations).reduce((o,a)=>{const c=Me(a);return c&&o.push(new rh(c)),o},[]);return new ere(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const tB=new te(""),qm=new te("");let e1,ZI=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,e1||(function Ire(t){e1=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(q(Ee),q(XI),q(qm))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),XI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return e1?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Io=null;const nB=new te("AllowMultipleToken"),t1=new te("PlatformDestroyListeners"),n1=new te("appBootstrapListener");class iB{constructor(e,n){this.name=e,this.token=n}}function oB(t,e,n=[]){const r=`Platform: ${e}`,i=new te(r);return(s=[])=>{let o=r1();if(!o||o.injector.get(nB,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function Dre(t){if(Io&&!Io.get(nB,!1))throw new V(400,!1);(function rB(){!function rY(t){DP=t}(()=>{throw new V(600,!1)})})(),Io=t;const e=t.get(cB);(function sB(t){t.get(mF,null)?.forEach(n=>n())})(t)}(function aB(t=[],e){return Qt.create({name:e,providers:[{provide:Mw,useValue:"platform"},{provide:t1,useValue:new Set([()=>Io=null])},...t]})}(a,r))}return function Sre(t){const e=r1();if(!e)throw new V(401,!1);return e}()}}function r1(){return Io?.get(cB)??null}let cB=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function Are(t="zone.js",e){return"noop"===t?new gZ:"zone.js"===t?new Ee(e):t}(r?.ngZone,function uB(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function $te(t,e,n){return new OI(t,e,n)}(n.moduleType,this.injector,function pB(t){return[{provide:Ee,useFactory:t},{provide:Qd,multi:!0,useFactory:()=>{const e=K(Nre,{optional:!0});return()=>e.initialize()}},{provide:fB,useFactory:xre},{provide:MF,useFactory:RF}]}(()=>i)),o=s.injector.get(Os,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{o.handleError(c)}});s.onDestroy(()=>{Km(this._modules,s),a.unsubscribe()})}),function lB(t,e,n){try{const r=n();return uh(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(YI);return a.runInitializers(),a.donePromise.then(()=>(function kV(t){ni(t,"Expected localeId to be defined"),"string"==typeof t&&(RV=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Ci,Gu)||Gu),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=dB({},r);return function Tre(t,e,n){const r=new MI(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(To);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new V(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new V(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(t1,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(q(Qt))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function dB(t,e){return Array.isArray(e)?e.reduce(dB,t):{...t,...e}}let To=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=K(fB),this.zoneIsStable=K(MF),this.componentTypes=[],this.components=[],this.isStable=K(Q3).hasPendingTasks.pipe(_i(n=>n?ae(!1):this.zoneIsStable),function Hk(t,e=mi){return t=t??gK,It((n,r)=>{let i,s=!0;n.subscribe(it(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),_b()),this._injector=K(Er)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof wF;if(!this._injector.get(YI).done)throw!i&&function Xc(t){const e=Me(t)||xn(t)||nr(t);return null!==e&&e.standalone}(n),new V(405,!1);let o;o=i?n:this._injector.get(bm).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function Ere(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Aa),u=o.create(Qt.NULL,[],r||o.selector,a),l=u.location.nativeElement,d=u.injector.get(tB,null);return d?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),Km(this.components,u),d?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new V(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Km(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(n1,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Km(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new V(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Km(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const fB=new te("",{providedIn:"root",factory:()=>K(Os).handleError.bind(void 0)});function xre(){const t=K(Ee),e=K(Os);return n=>t.runOutsideAngular(()=>e.handleError(n))}let Nre=(()=>{class t{constructor(){this.zone=K(Ee),this.applicationRef=K(To)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let Si=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Mre}return t})();function Mre(t){return function Rre(t,e,n){if(ma(t)&&!n){const r=Vr(t.index,e);return new nh(r,r)}return 47&t.type?new nh(e[Vt],e):null}(Rn(),P(),16==(16&t))}class yB{constructor(){}supports(e){return xm(e)}create(e){return new Bre(e)}}const Vre=(t,e)=>e;class Bre{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Vre}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<bB(r,i,s)?n:r,a=bB(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){const f=h<s.length?s[h]:s[h]=0,g=f+h;l<=g&&g<u&&(s[h]=f+1)}s[o.previousIndex]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!xm(e))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function EX(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Ure(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new vB),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vB),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Ure{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jre{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class vB{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new jre,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bB(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function IB(){return new Jm([new yB])}let Jm=(()=>{class t{static#e=this.\u0275prov=z({token:t,providedIn:"root",factory:IB});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||IB()),deps:[[t,new Kg,new Ir]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new V(901,!1)}}return t})();const Wre=oB(null,"core",[]);let qre=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(q(To))};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})();function Ku(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function u1(t,e){const n=Me(t),r=e.elementInjector||fm();return new rh(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}let l1=null;function Eo(){return l1}class aie{}const jt=new te("DocumentToken");let d1=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return K(uie)},providedIn:"platform"})}return t})();const cie=new te("Location Initialized");let uie=(()=>{class t extends d1{constructor(){super(),this._doc=K(jt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Eo().getBaseHref(this._doc)}onPopState(n){const r=Eo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Eo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function h1(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function MB(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ps(t){return t&&"?"!==t[0]?"?"+t:t}let Oa=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return K(kB)},providedIn:"root"})}return t})();const RB=new te("appBaseHref");let kB=(()=>{class t extends Oa{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??K(jt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return h1(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ps(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Ps(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Ps(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(q(d1),q(RB,8))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),lie=(()=>{class t extends Oa{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=h1(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Ps(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Ps(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(q(d1),q(RB,8))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),f1=(()=>{class t{constructor(n){this._subject=new M,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function fie(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(MB(PB(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ps(r))}normalize(n){return t.stripTrailingSlash(function hie(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,PB(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ps(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ps(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Ps;static#t=this.joinWithSlash=h1;static#n=this.stripTrailingSlash=MB;static#r=this.\u0275fac=function(r){return new(r||t)(q(Oa))};static#i=this.\u0275prov=z({token:t,factory:function(){return function die(){return new f1(q(Oa))}()},providedIn:"root"})}return t})();function PB(t){return t.replace(/\/index.html$/,"")}var _n=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(_n||{}),Le=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Le||{}),Gr=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Gr||{}),$t=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}($t||{});function e_(t,e){return li(ar(t)[ct.DateFormat],e)}function t_(t,e){return li(ar(t)[ct.TimeFormat],e)}function n_(t,e){return li(ar(t)[ct.DateTimeFormat],e)}function ui(t,e){const n=ar(t),r=n[ct.NumberSymbols][e];if(typeof r>"u"){if(e===$t.CurrencyDecimal)return n[ct.NumberSymbols][$t.Decimal];if(e===$t.CurrencyGroup)return n[ct.NumberSymbols][$t.Group]}return r}function VB(t){if(!t[ct.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[ct.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function li(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function m1(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const Die=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Eh={},Cie=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Fs=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Fs||{}),Ge=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Ge||{}),ze=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(ze||{});function BB(t,e,n,r){let i=function Pie(t){if($B(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[i,s=1,o=1]=t.split("-").map(a=>+a);return r_(i,s-1,o)}const n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(Die))return function Fie(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,c,u),e}(r)}const e=new Date(t);if(!$B(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=Ls(n,e)||e;let a,o=[];for(;e;){if(a=Cie.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const l=o.pop();if(!l)break;e=l}}let c=i.getTimezoneOffset();r&&(c=jB(r,c),i=function kie(t,e,n){const r=n?-1:1,i=t.getTimezoneOffset();return function Rie(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,r*(jB(e,i)-i))}(i,r,!0));let u="";return o.forEach(l=>{const d=function Mie(t){if(y1[t])return y1[t];let e;switch(t){case"G":case"GG":case"GGG":e=ut(ze.Eras,Le.Abbreviated);break;case"GGGG":e=ut(ze.Eras,Le.Wide);break;case"GGGGG":e=ut(ze.Eras,Le.Narrow);break;case"y":e=Jt(Ge.FullYear,1,0,!1,!0);break;case"yy":e=Jt(Ge.FullYear,2,0,!0,!0);break;case"yyy":e=Jt(Ge.FullYear,3,0,!1,!0);break;case"yyyy":e=Jt(Ge.FullYear,4,0,!1,!0);break;case"Y":e=a_(1);break;case"YY":e=a_(2,!0);break;case"YYY":e=a_(3);break;case"YYYY":e=a_(4);break;case"M":case"L":e=Jt(Ge.Month,1,1);break;case"MM":case"LL":e=Jt(Ge.Month,2,1);break;case"MMM":e=ut(ze.Months,Le.Abbreviated);break;case"MMMM":e=ut(ze.Months,Le.Wide);break;case"MMMMM":e=ut(ze.Months,Le.Narrow);break;case"LLL":e=ut(ze.Months,Le.Abbreviated,_n.Standalone);break;case"LLLL":e=ut(ze.Months,Le.Wide,_n.Standalone);break;case"LLLLL":e=ut(ze.Months,Le.Narrow,_n.Standalone);break;case"w":e=_1(1);break;case"ww":e=_1(2);break;case"W":e=_1(1,!0);break;case"d":e=Jt(Ge.Date,1);break;case"dd":e=Jt(Ge.Date,2);break;case"c":case"cc":e=Jt(Ge.Day,1);break;case"ccc":e=ut(ze.Days,Le.Abbreviated,_n.Standalone);break;case"cccc":e=ut(ze.Days,Le.Wide,_n.Standalone);break;case"ccccc":e=ut(ze.Days,Le.Narrow,_n.Standalone);break;case"cccccc":e=ut(ze.Days,Le.Short,_n.Standalone);break;case"E":case"EE":case"EEE":e=ut(ze.Days,Le.Abbreviated);break;case"EEEE":e=ut(ze.Days,Le.Wide);break;case"EEEEE":e=ut(ze.Days,Le.Narrow);break;case"EEEEEE":e=ut(ze.Days,Le.Short);break;case"a":case"aa":case"aaa":e=ut(ze.DayPeriods,Le.Abbreviated);break;case"aaaa":e=ut(ze.DayPeriods,Le.Wide);break;case"aaaaa":e=ut(ze.DayPeriods,Le.Narrow);break;case"b":case"bb":case"bbb":e=ut(ze.DayPeriods,Le.Abbreviated,_n.Standalone,!0);break;case"bbbb":e=ut(ze.DayPeriods,Le.Wide,_n.Standalone,!0);break;case"bbbbb":e=ut(ze.DayPeriods,Le.Narrow,_n.Standalone,!0);break;case"B":case"BB":case"BBB":e=ut(ze.DayPeriods,Le.Abbreviated,_n.Format,!0);break;case"BBBB":e=ut(ze.DayPeriods,Le.Wide,_n.Format,!0);break;case"BBBBB":e=ut(ze.DayPeriods,Le.Narrow,_n.Format,!0);break;case"h":e=Jt(Ge.Hours,1,-12);break;case"hh":e=Jt(Ge.Hours,2,-12);break;case"H":e=Jt(Ge.Hours,1);break;case"HH":e=Jt(Ge.Hours,2);break;case"m":e=Jt(Ge.Minutes,1);break;case"mm":e=Jt(Ge.Minutes,2);break;case"s":e=Jt(Ge.Seconds,1);break;case"ss":e=Jt(Ge.Seconds,2);break;case"S":e=Jt(Ge.FractionalSeconds,1);break;case"SS":e=Jt(Ge.FractionalSeconds,2);break;case"SSS":e=Jt(Ge.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=s_(Fs.Short);break;case"ZZZZZ":e=s_(Fs.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=s_(Fs.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=s_(Fs.Long);break;default:return null}return y1[t]=e,e}(l);u+=d?d(i,n,c):"''"===l?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function r_(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Ls(t,e){const n=function gie(t){return ar(t)[ct.LocaleId]}(t);if(Eh[n]=Eh[n]||{},Eh[n][e])return Eh[n][e];let r="";switch(e){case"shortDate":r=e_(t,Gr.Short);break;case"mediumDate":r=e_(t,Gr.Medium);break;case"longDate":r=e_(t,Gr.Long);break;case"fullDate":r=e_(t,Gr.Full);break;case"shortTime":r=t_(t,Gr.Short);break;case"mediumTime":r=t_(t,Gr.Medium);break;case"longTime":r=t_(t,Gr.Long);break;case"fullTime":r=t_(t,Gr.Full);break;case"short":const i=Ls(t,"shortTime"),s=Ls(t,"shortDate");r=i_(n_(t,Gr.Short),[i,s]);break;case"medium":const o=Ls(t,"mediumTime"),a=Ls(t,"mediumDate");r=i_(n_(t,Gr.Medium),[o,a]);break;case"long":const c=Ls(t,"longTime"),u=Ls(t,"longDate");r=i_(n_(t,Gr.Long),[c,u]);break;case"full":const l=Ls(t,"fullTime"),d=Ls(t,"fullDate");r=i_(n_(t,Gr.Full),[l,d])}return r&&(Eh[n][e]=r),r}function i_(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return null!=e&&r in e?e[r]:n})),t}function Ai(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function Jt(t,e,n=0,r=!1,i=!1){return function(s,o){let a=function Aie(t,e){switch(t){case Ge.FullYear:return e.getFullYear();case Ge.Month:return e.getMonth();case Ge.Date:return e.getDate();case Ge.Hours:return e.getHours();case Ge.Minutes:return e.getMinutes();case Ge.Seconds:return e.getSeconds();case Ge.FractionalSeconds:return e.getMilliseconds();case Ge.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===Ge.Hours)0===a&&-12===n&&(a=12);else if(t===Ge.FractionalSeconds)return function Sie(t,e){return Ai(t,3).substring(0,e)}(a,e);const c=ui(o,$t.MinusSign);return Ai(a,e,c,r,i)}}function ut(t,e,n=_n.Format,r=!1){return function(i,s){return function xie(t,e,n,r,i,s){switch(n){case ze.Months:return function p1(t,e,n){const r=ar(t),s=li([r[ct.MonthsFormat],r[ct.MonthsStandalone]],e);return li(s,n)}(e,i,r)[t.getMonth()];case ze.Days:return function LB(t,e,n){const r=ar(t),s=li([r[ct.DaysFormat],r[ct.DaysStandalone]],e);return li(s,n)}(e,i,r)[t.getDay()];case ze.DayPeriods:const o=t.getHours(),a=t.getMinutes();if(s){const u=function bie(t){const e=ar(t);return VB(e),(e[ct.ExtraData][2]||[]).map(r=>"string"==typeof r?m1(r):[m1(r[0]),m1(r[1])])}(e),l=function wie(t,e,n){const r=ar(t);VB(r);const s=li([r[ct.ExtraData][0],r[ct.ExtraData][1]],e)||[];return li(s,n)||[]}(e,i,r),d=u.findIndex(h=>{if(Array.isArray(h)){const[f,g]=h,m=o>=f.hours&&a>=f.minutes,_=o<g.hours||o===g.hours&&a<g.minutes;if(f.hours<g.hours){if(m&&_)return!0}else if(m||_)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(-1!==d)return l[d]}return function mie(t,e,n){const r=ar(t),s=li([r[ct.DayPeriodsFormat],r[ct.DayPeriodsStandalone]],e);return li(s,n)}(e,i,r)[o<12?0:1];case ze.Eras:return function _ie(t,e){return li(ar(t)[ct.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,s,t,e,n,r)}}function s_(t){return function(e,n,r){const i=-1*r,s=ui(n,$t.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Fs.Short:return(i>=0?"+":"")+Ai(o,2,s)+Ai(Math.abs(i%60),2,s);case Fs.ShortGMT:return"GMT"+(i>=0?"+":"")+Ai(o,1,s);case Fs.Long:return"GMT"+(i>=0?"+":"")+Ai(o,2,s)+":"+Ai(Math.abs(i%60),2,s);case Fs.Extended:return 0===r?"Z":(i>=0?"+":"")+Ai(o,2,s)+":"+Ai(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}const Nie=0,o_=4;function UB(t){return r_(t.getFullYear(),t.getMonth(),t.getDate()+(o_-t.getDay()))}function _1(t,e=!1){return function(n,r){let i;if(e){const s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{const s=UB(n),o=function Oie(t){const e=r_(t,Nie,1).getDay();return r_(t,0,1+(e<=o_?o_:o_+7)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Ai(i,t,ui(r,$t.MinusSign))}}function a_(t,e=!1){return function(n,r){return Ai(UB(n).getFullYear(),t,ui(r,$t.MinusSign),e)}}const y1={};function jB(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function $B(t){return t instanceof Date&&!isNaN(t.valueOf())}class Jie{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xi=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Jie(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),KB(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{KB(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(w(ci),w(Et),w(Jm))};static#t=this.\u0275dir=$({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function KB(t,e){t.context.$implicit=e.item}let zr=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Zie,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){YB("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){YB("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(w(ci),w(Et))};static#t=this.\u0275dir=$({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class Zie{constructor(){this.$implicit=null,this.ngIf=null}}function YB(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${sn(e)}'.`)}const fse=new te("DATE_PIPE_DEFAULT_TIMEZONE"),pse=new te("DATE_PIPE_DEFAULT_OPTIONS");let JB=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,s){if(null==n||""===n||n!=n)return null;try{return BB(n,r??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw function Ni(t,e){return new V(2100,!1)}()}}static#e=this.\u0275fac=function(r){return new(r||t)(w(Ci,16),w(fse,24),w(pse,24))};static#t=this.\u0275pipe=Wn({name:"date",type:t,pure:!0,standalone:!0})}return t})(),Ma=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})();const XB="browser";function eU(t){return"server"===t}let Ase=(()=>{class t{static#e=this.\u0275prov=z({token:t,providedIn:"root",factory:()=>new xse(q(jt),window)})}return t})();class xse{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Nse(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class eoe extends aie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class O1 extends eoe{static makeCurrent(){!function oie(t){l1||(l1=t)}(new O1)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function toe(){return Sh=Sh||document.querySelector("base"),Sh?Sh.getAttribute("href"):null}();return null==n?null:function noe(t){d_=d_||document.createElement("a"),d_.setAttribute("href",t);const e=d_.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Sh=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Kie(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let d_,Sh=null,ioe=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();const M1=new te("EventManagerPlugins");let sU=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new V(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(q(M1),q(Ee))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();class oU{constructor(e){this._doc=e}}const R1="ng-app-id";let aU=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=eU(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${R1}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(R1),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(R1,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(q(jt),q(pm),q(_F,8),q(Ns))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();const k1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},P1=/%COMP%/g,coe=new te("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function uU(t,e){return e.map(n=>n.replace(P1,t))}let lU=(()=>{class t{constructor(n,r,i,s,o,a,c,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=eU(a),this.defaultRenderer=new F1(n,o,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===yi.ShadowDom&&(r={...r,encapsulation:yi.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof hU?i.applyToHost(n):i instanceof L1&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case yi.Emulated:s=new hU(c,u,r,this.appId,l,o,a,d);break;case yi.ShadowDom:return new hoe(c,u,n,r,o,a,this.nonce,d);default:s=new L1(c,u,r,l,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(q(sU),q(aU),q(pm),q(coe),q(jt),q(Ns),q(Ee),q(_F))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();class F1{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(k1[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(dU(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(dU(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new V(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=k1[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=k1[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(bo.DashCase|bo.Important)?e.style.setProperty(n,r,i&bo.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&bo.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Eo().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function dU(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class hoe extends F1{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=uU(i.id,i.styles);for(const l of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class L1 extends F1{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?uU(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class hU extends L1{constructor(e,n,r,i,s,o,a,c){const u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=function uoe(t){return"_ngcontent-%COMP%".replace(P1,t)}(u),this.hostAttr=function loe(t){return"_nghost-%COMP%".replace(P1,t)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let foe=(()=>{class t extends oU{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(q(jt))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();const fU=["alt","control","meta","shift"],poe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},goe={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let moe=(()=>{class t extends oU{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Eo().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),fU.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(n,r){let i=poe[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),fU.forEach(o=>{o!==i&&(0,goe[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(q(jt))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();const gU=[{provide:Ns,useValue:XB},{provide:mF,useValue:function _oe(){O1.makeCurrent()},multi:!0},{provide:jt,useFactory:function voe(){return function iJ(t){Tw=t}(document),document},deps:[]}],boe=oB(Wre,"browser",gU),woe=new te(""),mU=[{provide:qm,useClass:class roe{addToWindow(e){st.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new V(5103,!1);return s},st.getAllAngularTestabilities=()=>e.getAllTestabilities(),st.getAllAngularRootElements=()=>e.getAllRootElements(),st.frameworkStabilizers||(st.frameworkStabilizers=[]),st.frameworkStabilizers.push(r=>{const i=st.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Eo().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:tB,useClass:ZI,deps:[Ee,XI,qm]},{provide:ZI,useClass:ZI,deps:[Ee,XI,qm]}],_U=[{provide:Mw,useValue:"root"},{provide:Os,useFactory:function yoe(){return new Os},deps:[]},{provide:M1,useClass:foe,multi:!0,deps:[jt,Ee,Ns]},{provide:M1,useClass:moe,multi:!0,deps:[jt]},lU,aU,sU,{provide:Ww,useExisting:lU},{provide:class Ose{},useClass:ioe,deps:[]},[]];let Ioe=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:pm,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(q(woe,12))};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({providers:[..._U,...mU],imports:[Ma,qre]})}return t})(),yU=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(q(jt))};static#t=this.\u0275prov=z({token:t,factory:function(r){let i=null;return i=r?new r:function Eoe(){return new yU(q(jt))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;let wU=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(r){let i=null;return i=r?new(r||t):q(IU),i},providedIn:"root"})}return t})(),IU=(()=>{class t extends wU{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case si.NONE:return r;case si.HTML:return Yi(r,"HTML")?Ur(r):oF(this._doc,String(r)).toString();case si.STYLE:return Yi(r,"Style")?Ur(r):r;case si.SCRIPT:if(Yi(r,"Script"))return Ur(r);throw new V(5200,!1);case si.URL:return Yi(r,"URL")?Ur(r):um(String(r));case si.RESOURCE_URL:if(Yi(r,"ResourceURL"))return Ur(r);throw new V(5201,!1);default:throw new V(5202,!1)}}bypassSecurityTrustHtml(n){return function dJ(t){return new sJ(t)}(n)}bypassSecurityTrustStyle(n){return function hJ(t){return new oJ(t)}(n)}bypassSecurityTrustScript(n){return function fJ(t){return new aJ(t)}(n)}bypassSecurityTrustUrl(n){return function pJ(t){return new cJ(t)}(n)}bypassSecurityTrustResourceUrl(n){return function gJ(t){return new uJ(t)}(n)}static#e=this.\u0275fac=function(r){return new(r||t)(q(jt))};static#t=this.\u0275prov=z({token:t,factory:function(r){let i=null;return i=r?new r:function Aoe(t){return new IU(t.get(jt))}(q(Qt)),i},providedIn:"root"})}return t})();const{isArray:Noe}=Array,{getPrototypeOf:Ooe,prototype:Moe,keys:Roe}=Object;function EU(t){if(1===t.length){const e=t[0];if(Noe(e))return{args:e,keys:null};if(function koe(t){return t&&"object"==typeof t&&Ooe(t)===Moe}(e)){const n=Roe(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:Poe}=Array;function B1(t){return Oe(e=>function Foe(t,e){return Poe(e)?t(...e):t(e)}(t,e))}function DU(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function U1(...t){const e=Id(t),n=bg(t),{args:r,keys:i}=EU(t);if(0===r.length)return pn([],e);const s=new Be(function Loe(t,e,n=mi){return r=>{CU(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)CU(e,()=>{const u=pn(t[c],e);let l=!1;u.subscribe(it(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>DU(i,o):mi));return n?s.pipe(B1(n)):s}function CU(t,e,n){t?Ts(n,t,e):e()}const h_=co(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ah(...t){return function Voe(){return Jc(1)}()(pn(t,Id(t)))}function j1(t){return new Be(e=>{nn(t()).subscribe(e)})}function xh(t,e){const n=Ie(t)?t:()=>t,r=i=>i.error(n());return new Be(e?i=>e.schedule(r,0,i):r)}function $1(){return It((t,e)=>{let n=null;t._refCount++;const r=it(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class SU extends Be{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,bd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pt;const n=this.getSubject();e.add(this.source.subscribe(it(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pt.EMPTY)}return e}refCount(){return $1()(this)}}function yn(t){return t<=0?()=>ti:It((e,n)=>{let r=0;e.subscribe(it(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function vn(t,e){return It((n,r)=>{let i=0;n.subscribe(it(r,s=>t.call(e,s,i++)&&r.next(s)))})}function f_(t){return It((e,n)=>{let r=!1;e.subscribe(it(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function xU(t=Boe){return It((e,n)=>{let r=!1;e.subscribe(it(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Boe(){return new h_}function Ra(t,e){const n=arguments.length>=2;return r=>r.pipe(t?vn((i,s)=>t(i,s,r)):mi,yn(1),n?f_(e):xU(()=>new h_))}function Nh(t,e){return Ie(e)?rn(t,e,1):rn(t,1)}function cn(t,e,n){const r=Ie(t)||e||n?{next:t,error:e,complete:n}:t;return r?It((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(it(s,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),s.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):mi}function ka(t){return It((e,n)=>{let s,r=null,i=!1;r=e.subscribe(it(n,void 0,void 0,o=>{s=nn(t(o,ka(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function H1(t){return t<=0?()=>ti:It((e,n)=>{let r=[];e.subscribe(it(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function G1(t){return Oe(()=>t)}function z1(t){return It((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function vt(t){return It((e,n)=>{nn(t).subscribe(it(n,()=>n.complete(),ha)),!n.closed&&e.subscribe(n)})}const ve="primary",Oh=Symbol("RouteTitle");class Hoe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ju(t){return new Hoe(t)}function Goe(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function es(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!NU(t[i],e[i]))return!1;return!0}function NU(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function OU(t){return t.length>0?t[t.length-1]:null}function Co(t){return function xoe(t){return!!t&&(t instanceof Be||Ie(t.lift)&&Ie(t.subscribe))}(t)?t:uh(t)?pn(Promise.resolve(t)):ae(t)}const Woe={exact:function kU(t,e,n){if(!Pa(t.segments,e.segments)||!p_(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!kU(t.children[r],e.children[r],n))return!1;return!0},subset:PU},MU={exact:function qoe(t,e){return es(t,e)},subset:function Koe(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>NU(t[n],e[n]))},ignored:()=>!0};function RU(t,e,n){return Woe[n.paths](t.root,e.root,n.matrixParams)&&MU[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function PU(t,e,n){return FU(t,e,e.segments,n)}function FU(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Pa(i,n)||e.hasChildren()||!p_(i,n,r))}if(t.segments.length===n.length){if(!Pa(t.segments,n)||!p_(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!PU(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Pa(t.segments,i)&&p_(t.segments,i,r)&&t.children[ve])&&FU(t.children[ve],e,s,r)}}function p_(t,e,n){return e.every((r,i)=>MU[n](t[i].parameters,r.parameters))}class Zu{constructor(e=new Xe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ju(this.queryParams)),this._queryParamMap}toString(){return Joe.serialize(this)}}class Xe{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return g_(this)}}class Mh{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ju(this.parameters)),this._parameterMap}toString(){return BU(this)}}function Pa(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Rh=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return new W1},providedIn:"root"})}return t})();class W1{parse(e){const n=new cae(e);return new Zu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${kh(e.root,!0)}`,r=function eae(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${m_(n)}=${m_(i)}`).join("&"):`${m_(n)}=${m_(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function Zoe(t){return encodeURI(t)}(e.fragment)}`:""}`}}const Joe=new W1;function g_(t){return t.segments.map(e=>BU(e)).join("/")}function kh(t,e){if(!t.hasChildren())return g_(t);if(e){const n=t.children[ve]?kh(t.children[ve],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ve&&r.push(`${i}:${kh(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Qoe(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ve&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ve&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ve?[kh(t.children[ve],!1)]:[`${i}:${kh(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ve]?`${g_(t)}/${n[0]}`:`${g_(t)}/(${n.join("//")})`}}function LU(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function m_(t){return LU(t).replace(/%3B/gi,";")}function q1(t){return LU(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function __(t){return decodeURIComponent(t)}function VU(t){return __(t.replace(/\+/g,"%20"))}function BU(t){return`${q1(t.path)}${function Xoe(t){return Object.keys(t).map(e=>`;${q1(e)}=${q1(t[e])}`).join("")}(t.parameters)}`}const tae=/^[^\/()?;#]+/;function K1(t){const e=t.match(tae);return e?e[0]:""}const nae=/^[^\/()?;=#]+/,iae=/^[^=?&#]+/,oae=/^[^&#]+/;class cae{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xe([],{}):new Xe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ve]=new Xe(e,n)),r}parseSegment(){const e=K1(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new Mh(__(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function rae(t){const e=t.match(nae);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=K1(this.remaining);i&&(r=i,this.capture(r))}e[__(n)]=__(r)}parseQueryParam(e){const n=function sae(t){const e=t.match(iae);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function aae(t){const e=t.match(oae);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=VU(n),s=VU(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=K1(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new V(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ve);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ve]:new Xe([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}}function UU(t){return t.segments.length>0?new Xe([],{[ve]:t}):t}function jU(t){const e={};for(const r of Object.keys(t.children)){const s=jU(t.children[r]);if(r===ve&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function uae(t){if(1===t.numberOfChildren&&t.children[ve]){const e=t.children[ve];return new Xe(t.segments.concat(e.segments),e.children)}return t}(new Xe(t.segments,e))}function Fa(t){return t instanceof Zu}function $U(t){let e;const i=UU(function n(s){const o={};for(const c of s.children){const u=n(c);o[c.outlet]=u}const a=new Xe(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function HU(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return Y1(i,i,i,n,r);const s=function dae(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new zU(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new zU(n,e,r)}(e);if(s.toRoot())return Y1(i,i,new Xe([],{}),n,r);const o=function hae(t,e,n){if(t.isAbsolute)return new v_(e,!0,0);if(!n)return new v_(e,!1,NaN);if(null===n.parent)return new v_(n,!0,0);const r=y_(t.commands[0])?0:1;return function fae(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new V(4005,!1);i=r.segments.length}return new v_(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?Fh(o.segmentGroup,o.index,s.commands):WU(o.segmentGroup,o.index,s.commands);return Y1(i,o.segmentGroup,a,n,r)}function y_(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ph(t){return"object"==typeof t&&null!=t&&t.outlets}function Y1(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=t===e?n:GU(t,e,n);const a=UU(jU(o));return new Zu(a,s,i)}function GU(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:GU(s,e,n)}),new Xe(t.segments,r)}class zU{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&y_(r[0]))throw new V(4003,!1);const i=r.find(Ph);if(i&&i!==OU(r))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class v_{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function WU(t,e,n){if(t||(t=new Xe([],{})),0===t.segments.length&&t.hasChildren())return Fh(t,e,n);const r=function gae(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Ph(a))break;const c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!KU(c,u,o))return s;r+=2}else{if(!KU(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Xe(t.segments.slice(0,r.pathIndex),{});return s.children[ve]=new Xe(t.segments.slice(r.pathIndex),t.children),Fh(s,0,i)}return r.match&&0===i.length?new Xe(t.segments,{}):r.match&&!t.hasChildren()?Q1(t,e,n):r.match?Fh(t,0,i):Q1(t,e,n)}function Fh(t,e,n){if(0===n.length)return new Xe(t.segments,{});{const r=function pae(t){return Ph(t[0])?t[0].outlets:{[ve]:t}}(n),i={};if(Object.keys(r).some(s=>s!==ve)&&t.children[ve]&&1===t.numberOfChildren&&0===t.children[ve].segments.length){const s=Fh(t.children[ve],e,n);return new Xe(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=WU(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Xe(t.segments,i)}}function Q1(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Ph(s)){const c=mae(s.outlets);return new Xe(r,c)}if(0===i&&y_(n[0])){r.push(new Mh(t.segments[e].path,qU(n[0]))),i++;continue}const o=Ph(s)?s.outlets[ve]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&y_(a)?(r.push(new Mh(o,qU(a))),i+=2):(r.push(new Mh(o,{})),i++)}return new Xe(r,{})}function mae(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=Q1(new Xe([],{}),0,r))}),e}function qU(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function KU(t,e,n){return t==n.path&&es(e,n.parameters)}const Lh="imperative";class ts{constructor(e,n){this.id=e,this.url=n}}class b_ extends ts{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class So extends ts{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vh extends ts{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Xu extends ts{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class w_ extends ts{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class YU extends ts{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _ae extends ts{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yae extends ts{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class vae extends ts{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bae extends ts{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wae{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Iae{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Tae{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Eae{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dae{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cae{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QU{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class J1{}class Z1{constructor(e){this.url=e}}class Sae{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Bh,this.attachRef=null}}let Bh=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Sae,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class JU{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=X1(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=X1(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=eT(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return eT(e,this._root).map(n=>n.value)}}function X1(t,e){if(t===e.value)return e;for(const n of e.children){const r=X1(t,n);if(r)return r}return null}function eT(t,e){if(t===e.value)return[e];for(const n of e.children){const r=eT(t,n);if(r.length)return r.unshift(e),r}return[]}class Vs{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function el(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class ZU extends JU{constructor(e,n){super(e),this.snapshot=n,tT(this,e)}toString(){return this.snapshot.toString()}}function XU(t,e){const n=function Aae(t,e){const o=new I_([],{},{},"",{},ve,e,null,{});return new t4("",new Vs(o,[]))}(0,e),r=new yr([new Mh("",{})]),i=new yr({}),s=new yr({}),o=new yr({}),a=new yr(""),c=new Ao(r,i,o,a,s,ve,e,n.root);return c.snapshot=n.root,new ZU(new Vs(c,[]),n)}class Ao{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Oe(u=>u[Oh]))??ae(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Oe(e=>Ju(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Oe(e=>Ju(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function e4(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function xae(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class I_{get title(){return this.data?.[Oh]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ju(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ju(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class t4 extends JU{constructor(e,n){super(n),this.url=e,tT(this,n)}toString(){return n4(this._root)}}function tT(t,e){e.value._routerState=t,e.children.forEach(n=>tT(t,n))}function n4(t){const e=t.children.length>0?` { ${t.children.map(n4).join(", ")} } `:"";return`${t.value}${e}`}function nT(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,es(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),es(e.params,n.params)||t.paramsSubject.next(n.params),function zoe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!es(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),es(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function rT(t,e){const n=es(t.params,e.params)&&function Yoe(t,e){return Pa(t,e)&&t.every((n,r)=>es(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||rT(t.parent,e.parent))}let iT=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ve,this.activateEvents=new M,this.deactivateEvents=new M,this.attachEvents=new M,this.detachEvents=new M,this.parentContexts=K(Bh),this.location=K(ci),this.changeDetector=K(Si),this.environmentInjector=K(Er),this.inputBinder=K(T_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Nae(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=$({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Mn]})}return t})();class Nae{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ao?this.route:e===Bh?this.childContexts:this.parent.get(e,n)}}const T_=new te("");let r4=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=U1([r.queryParams,r.params,r.data]).pipe(_i(([s,o,a],c)=>(a={...s,...o,...a},0===c?ae(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function sie(t){const e=Me(t);if(!e)return null;const n=new rh(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();function Uh(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Mae(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Uh(t,r,i);return Uh(t,r)})}(t,e,n);return new Vs(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Uh(t,a)),o}}const r=function Rae(t){return new Ao(new yr(t.url),new yr(t.params),new yr(t.queryParams),new yr(t.fragment),new yr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Uh(t,s));return new Vs(r,i)}}const sT="ngNavigationCancelingError";function i4(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Fa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=s4(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function s4(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[sT]=!0,r.cancellationCode=e,n&&(r.url=n),r}function o4(t){return t&&t[sT]}let a4=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ot({type:t,selectors:[["ng-component"]],standalone:!0,features:[Hr],decls:1,vars:0,template:function(r,i){1&r&&j(0,"router-outlet")},dependencies:[iT],encapsulation:2})}return t})();function oT(t){const e=t.children&&t.children.map(oT),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ve&&(n.component=a4),n}function Oi(t){return t.outlet||ve}function jh(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class jae{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),nT(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=el(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=el(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=el(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=el(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Cae(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Eae(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(nT(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),nT(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=jh(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class c4{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class E_{constructor(e,n){this.component=e,this.route=n}}function $ae(t,e,n){const r=t._root;return $h(r,e?e._root:null,n,[r.value])}function tl(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function IK(t){return null!==Dg(t)}(t)?e.get(t):t:r}function $h(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=el(e);return t.children.forEach(o=>{(function Gae(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function zae(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Pa(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Pa(t.url,e.url)||!es(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rT(t,e)||!es(t.queryParams,e.queryParams);default:return!rT(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new c4(r)):(s.data=o.data,s._resolvedData=o._resolvedData),$h(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new E_(a.outlet.component,o))}else o&&Hh(e,a,i),i.canActivateChecks.push(new c4(r)),$h(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Hh(a,n.getContext(o),i)),i}function Hh(t,e,n){const r=el(t),i=t.value;Object.entries(r).forEach(([s,o])=>{Hh(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new E_(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Gh(t){return"function"==typeof t}function u4(t){return t instanceof h_||"EmptyError"===t?.name}const D_=Symbol("INITIAL_VALUE");function nl(){return _i(t=>U1(t.map(e=>e.pipe(yn(1),function AU(...t){const e=Id(t);return It((n,r)=>{(e?Ah(t,n,e):Ah(t,n)).subscribe(r)})}(D_)))).pipe(Oe(e=>{for(const n of e)if(!0!==n){if(n===D_)return D_;if(!1===n||n instanceof Zu)return n}return!0}),vn(e=>e!==D_),yn(1)))}function l4(t){return function fg(...t){return pg(t)}(cn(e=>{if(Fa(e))throw i4(0,e)}),Oe(e=>!0===e))}class C_{constructor(e){this.segmentGroup=e||null}}class d4{constructor(e){this.urlTree=e}}function rl(t){return xh(new C_(t))}function h4(t){return xh(new d4(t))}class dce{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new V(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ae(r);if(i.numberOfChildren>1||!i.children[ve])return xh(new V(4e3,!1));i=i.children[ve]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Zu(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Xe(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new V(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const aT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hce(t,e,n,r,i){const s=cT(t,e,n);return s.matched?(r=function Pae(t,e){return t.providers&&!t._injector&&(t._injector=RI(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function cce(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?ae(i.map(o=>{const a=tl(o,t);return Co(function Jae(t){return t&&Gh(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(nl(),l4()):ae(!0)}(r,e,n).pipe(Oe(o=>!0===o?s:{...aT}))):ae(s)}function cT(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...aT}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Goe)(n,t,e);if(!i)return{...aT};const s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function f4(t,e,n,r){return n.length>0&&function gce(t,e,n){return n.some(r=>S_(t,e,r)&&Oi(r)!==ve)}(t,n,r)?{segmentGroup:new Xe(e,pce(r,new Xe(n,t.children))),slicedSegments:[]}:0===n.length&&function mce(t,e,n){return n.some(r=>S_(t,e,r))}(t,n,r)?{segmentGroup:new Xe(t.segments,fce(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Xe(t.segments,t.children),slicedSegments:n}}function fce(t,e,n,r,i){const s={};for(const o of r)if(S_(t,n,o)&&!i[Oi(o)]){const a=new Xe([],{});s[Oi(o)]=a}return{...i,...s}}function pce(t,e){const n={};n[ve]=e;for(const r of t)if(""===r.path&&Oi(r)!==ve){const i=new Xe([],{});n[Oi(r)]=i}return n}function S_(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class bce{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new dce(this.urlSerializer,this.urlTree)}noMatchError(e){return new V(4002,!1)}recognize(){const e=f4(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ve).pipe(ka(n=>{if(n instanceof d4)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof C_?this.noMatchError(n):n}),Oe(n=>{const r=new I_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ve,this.rootComponentType,null,{}),i=new Vs(r,n),s=new t4("",i),o=function lae(t,e,n=null,r=null){return HU($U(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ve).pipe(ka(r=>{throw r instanceof C_?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=e4(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return pn(i).pipe(Nh(s=>{const o=r.children[s],a=function Bae(t,e){const n=t.filter(r=>Oi(r)===e);return n.push(...t.filter(r=>Oi(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function joe(t,e){return It(function Uoe(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(it(o,l=>{const d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),f_(null),function $oe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?vn((i,s)=>t(i,s,r)):mi,H1(1),n?f_(e):xU(()=>new h_))}(),rn(s=>{if(null===s)return rl(r);const o=p4(s);return function wce(t){t.sort((e,n)=>e.value.outlet===ve?-1:n.value.outlet===ve?1:e.value.outlet.localeCompare(n.value.outlet))}(o),ae(o)}))}processSegment(e,n,r,i,s,o){return pn(n).pipe(Nh(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(ka(c=>{if(c instanceof C_)return ae(null);throw c}))),Ra(a=>!!a),ka(a=>{if(u4(a))return function yce(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?ae([]):rl(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function _ce(t,e,n,r){return!!(Oi(t)===r||r!==ve&&S_(e,n,t))&&("**"===t.path||cT(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):rl(i):rl(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?h4(s):this.applyRedirects.lineralizeSegments(r,s).pipe(rn(o=>{const a=new Xe(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:l}=cT(n,i,s);if(!a)return rl(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return i.redirectTo.startsWith("/")?h4(d):this.applyRedirects.lineralizeSegments(i,d).pipe(rn(h=>this.processSegment(e,r,n,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const c=i.length>0?OU(i).parameters:{};a=ae({snapshot:new I_(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,g4(r),Oi(r),r.component??r._loadedComponent??null,r,m4(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=hce(n,r,i,e).pipe(Oe(({matched:c,consumedSegments:u,remainingSegments:l,parameters:d})=>c?{snapshot:new I_(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,g4(r),Oi(r),r.component??r._loadedComponent??null,r,m4(r)),consumedSegments:u,remainingSegments:l}:null));return a.pipe(_i(c=>null===c?rl(n):this.getChildConfig(e=r._injector??e,r,i).pipe(_i(({routes:u})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=c,{segmentGroup:g,slicedSegments:m}=f4(n,h,f,u);if(0===m.length&&g.hasChildren())return this.processChildren(l,u,g).pipe(Oe(I=>null===I?null:[new Vs(d,I)]));if(0===u.length&&0===m.length)return ae([new Vs(d,[])]);const _=Oi(r)===s;return this.processSegment(l,u,g,m,_?ve:s,!0).pipe(Oe(I=>[new Vs(d,I)]))}))))}getChildConfig(e,n,r){return n.children?ae({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?ae({routes:n._loadedRoutes,injector:n._loadedInjector}):function ace(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?ae(!0):ae(i.map(o=>{const a=tl(o,t);return Co(function qae(t){return t&&Gh(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(nl(),l4())}(e,n,r).pipe(rn(i=>i?this.configLoader.loadChildren(e,n).pipe(cn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function lce(t){return xh(s4(!1,3))}())):ae({routes:[],injector:e})}}function Ice(t){const e=t.value.routeConfig;return e&&""===e.path}function p4(t){const e=[],n=new Set;for(const r of t){if(!Ice(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=p4(r.children);e.push(new Vs(r.value,i))}return e.filter(r=>!n.has(r))}function g4(t){return t.data||{}}function m4(t){return t.resolve||{}}function _4(t){return"string"==typeof t.title||null===t.title}function uT(t){return _i(e=>{const n=t(e);return n?pn(n).pipe(Oe(()=>e)):ae(e)})}const il=new te("ROUTES");let lT=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=K(J3)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ae(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Co(n.loadComponent()).pipe(Oe(y4),cn(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),z1(()=>{this.componentLoaders.delete(n)})),i=new SU(r,()=>new Fe).pipe($1());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ae({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function xce(t,e,n,r){return Co(t.loadChildren()).pipe(Oe(y4),rn(i=>i instanceof s3||Array.isArray(i)?ae(i):pn(e.compileModuleAsync(i))),Oe(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(il,[],{optional:!0,self:!0}).flat()),{routes:o.map(oT),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(z1(()=>{this.childrenLoaders.delete(r)})),o=new SU(s,()=>new Fe).pipe($1());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function y4(t){return function Nce(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let A_=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Fe,this.transitionAbortSubject=new Fe,this.configLoader=K(lT),this.environmentInjector=K(Er),this.urlSerializer=K(Rh),this.rootContexts=K(Bh),this.inputBindingEnabled=null!==K(T_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ae(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Iae(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new wae(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new yr({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Lh,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(vn(s=>0!==s.id),Oe(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),_i(s=>{this.currentTransition=s;let o=!1,a=!1;return ae(s).pipe(cn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),_i(c=>{const u=c.currentBrowserUrl.toString(),l=!n.navigated||c.extractedUrl.toString()!==u||u!==c.currentUrlTree.toString();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new Xu(c.id,this.urlSerializer.serialize(c.rawUrl),h,0)),c.resolve(null),ti}if(n.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ae(c).pipe(_i(h=>{const f=this.transitions?.getValue();return this.events.next(new b_(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?ti:Promise.resolve(h)}),function Tce(t,e,n,r,i,s){return rn(o=>function vce(t,e,n,r,i,s,o="emptyOnly"){return new bce(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Oe(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),cn(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new YU(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:h,extractedUrl:f,source:g,restoredState:m,extras:_}=c,I=new b_(h,this.urlSerializer.serialize(f),g,m);this.events.next(I);const b=XU(0,this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:b,urlAfterRedirects:f,extras:{..._,skipLocationChange:!1,replaceUrl:!1}},ae(s)}{const h="";return this.events.next(new Xu(c.id,this.urlSerializer.serialize(c.extractedUrl),h,1)),c.resolve(null),ti}}),cn(c=>{const u=new _ae(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Oe(c=>(this.currentTransition=s={...c,guards:$ae(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function Xae(t,e){return rn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?ae({...n,guardsResult:!0}):function ece(t,e,n,r){return pn(t).pipe(rn(i=>function oce(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ae(s.map(a=>{const c=jh(e)??i,u=tl(a,c);return Co(function Qae(t){return t&&Gh(t.canDeactivate)}(u)?u.canDeactivate(t,e,n,r):c.runInContext(()=>u(t,e,n,r))).pipe(Ra())})).pipe(nl()):ae(!0)}(i.component,i.route,n,e,r)),Ra(i=>!0!==i,!0))}(o,r,i,t).pipe(rn(a=>a&&function Wae(t){return"boolean"==typeof t}(a)?function tce(t,e,n,r){return pn(e).pipe(Nh(i=>Ah(function rce(t,e){return null!==t&&e&&e(new Tae(t)),ae(!0)}(i.route.parent,r),function nce(t,e){return null!==t&&e&&e(new Dae(t)),ae(!0)}(i.route,r),function sce(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function Hae(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>j1(()=>ae(o.guards.map(c=>{const u=jh(o.node)??n,l=tl(c,u);return Co(function Yae(t){return t&&Gh(t.canActivateChild)}(l)?l.canActivateChild(r,t):u.runInContext(()=>l(r,t))).pipe(Ra())})).pipe(nl())));return ae(s).pipe(nl())}(t,i.path,n),function ice(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ae(!0);const i=r.map(s=>j1(()=>{const o=jh(e)??n,a=tl(s,o);return Co(function Kae(t){return t&&Gh(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Ra())}));return ae(i).pipe(nl())}(t,i.route,n))),Ra(i=>!0!==i,!0))}(r,s,t,e):ae(a)),Oe(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),cn(c=>{if(s.guardsResult=c.guardsResult,Fa(c.guardsResult))throw i4(0,c.guardsResult);const u=new yae(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),vn(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),uT(c=>{if(c.guards.canActivateChecks.length)return ae(c).pipe(cn(u=>{const l=new vae(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),_i(u=>{let l=!1;return ae(u).pipe(function Ece(t,e){return rn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ae(n);let s=0;return pn(i).pipe(Nh(o=>function Dce(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!_4(i)&&(s[Oh]=i.title),function Cce(t,e,n,r){const i=function Sce(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return ae({});const s={};return pn(i).pipe(rn(o=>function Ace(t,e,n,r){const i=jh(e)??r,s=tl(t,i);return Co(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Ra(),cn(a=>{s[o]=a}))),H1(1),G1(s),ka(o=>u4(o)?ti:xh(o)))}(s,t,e,r).pipe(Oe(o=>(t._resolvedData=o,t.data=e4(t,n).resolve,i&&_4(i)&&(t.data[Oh]=i.title),null)))}(o.route,r,t,e)),cn(()=>s++),H1(1),rn(o=>s===i.length?ae(n):ti))})}(n.paramsInheritanceStrategy,this.environmentInjector),cn({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(u,"",2)}}))}),cn(u=>{const l=new bae(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}))}),uT(c=>{const u=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(cn(h=>{l.component=h}),Oe(()=>{})));for(const h of l.children)d.push(...u(h));return d};return U1(u(c.targetSnapshot.root)).pipe(f_(),yn(1))}),uT(()=>this.afterPreactivation()),Oe(c=>{const u=function Oae(t,e,n){const r=Uh(t,e._root,n?n._root:void 0);return new ZU(r,e)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:u},s}),cn(()=>{this.events.next(new J1)}),((t,e,n,r)=>Oe(i=>(new jae(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),yn(1),cn({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new So(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),n.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),vt(this.transitionAbortSubject.pipe(cn(c=>{throw c}))),z1(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),ka(c=>{if(a=!0,o4(c))this.events.next(new Vh(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function kae(t){return o4(t)&&Fa(t.url)}(c)?this.events.next(new Z1(c.url)):s.resolve(!1);else{this.events.next(new w_(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(c))}catch(u){s.reject(u)}}return ti}))}))}cancelNavigationTransition(n,r,i){const s=new Vh(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function v4(t){return t!==Lh}let b4=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ve);return r}getResolvedTitleForRoute(n){return n.data[Oh]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return K(Oce)},providedIn:"root"})}return t})(),Oce=(()=>{class t extends b4{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(q(yU))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Mce=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return K(kce)},providedIn:"root"})}return t})();class Rce{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let kce=(()=>{class t extends Rce{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Bt(t)))(i||t)}}();static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const x_=new te("",{providedIn:"root",factory:()=>({})});let Pce=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return K(Fce)},providedIn:"root"})}return t})(),Fce=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var zh=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(zh||{});function w4(t,e){t.events.pipe(vn(n=>n instanceof So||n instanceof Vh||n instanceof w_||n instanceof Xu),Oe(n=>n instanceof So||n instanceof Xu?zh.COMPLETE:n instanceof Vh&&(0===n.code||1===n.code)?zh.REDIRECTING:zh.FAILED),vn(n=>n!==zh.REDIRECTING),yn(1)).subscribe(()=>{e()})}function Lce(t){throw t}function Vce(t,e,n){return e.parse("/")}const Bce={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Uce={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Pn=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=K(Y3),this.isNgZoneEnabled=!1,this._events=new Fe,this.options=K(x_,{optional:!0})||{},this.pendingTasks=K(Q3),this.errorHandler=this.options.errorHandler||Lce,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Vce,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=K(Pce),this.routeReuseStrategy=K(Mce),this.titleStrategy=K(b4),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=K(il,{optional:!0})?.flat()??[],this.navigationTransitions=K(A_),this.urlSerializer=K(Rh),this.location=K(f1),this.componentInputBindingEnabled=!!K(T_,{optional:!0}),this.eventsSubscription=new Pt,this.isNgZoneEnabled=K(Ee)instanceof Ee&&Ee.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Zu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=XU(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(I4(r)&&this._events.next(r));if(r instanceof b_)v4(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Xu)this.rawUrlTree=i.rawUrl;else if(r instanceof YU){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof J1)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Vh)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof Z1){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||v4(i.source)};this.scheduleNavigation(s,Lh,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof w_&&this.restoreHistory(i,!0),r instanceof So&&(this.navigated=!0),I4(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Lh,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(oT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=$U(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return HU(d,n,l,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Fa(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Lh,null,r)}navigate(n,r={skipLocationChange:!1}){return function jce(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new V(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...Bce}:!1===r?{...Uce}:r,Fa(n))return RU(this.currentUrlTree,n,i);const s=this.parseUrl(n);return RU(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,u;o?(a=o.resolve,c=o.reject,u=o.promise):u=new Promise((d,h)=>{a=d,c=h});const l=this.pendingTasks.add();return w4(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function I4(t){return!(t instanceof J1||t instanceof Z1)}let ns=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Fe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof So&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function aF(t,e,n){return function NJ(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?Aw:Kd}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(w(Pn),w(Ao),function ba(t){return function WY(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(tP(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Rn(),t)}("tabindex"),w(jr),w($e),w(Oa))};static#t=this.\u0275dir=$({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&ce("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&qe("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Ku],skipLocationChange:["skipLocationChange","skipLocationChange",Ku],replaceUrl:["replaceUrl","replaceUrl",Ku],routerLink:"routerLink"},standalone:!0,features:[bL,Mn]})}return t})();class T4{}let Gce=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(vn(n=>n instanceof So),Nh(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=RI(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return pn(i).pipe(Jc())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):ae(null);const s=i.pipe(rn(o=>null===o?ae(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?pn([s,this.loader.loadComponent(r)]).pipe(Jc()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(q(Pn),q(J3),q(Er),q(T4),q(lT))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const dT=new te("");let E4=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof b_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof So?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Xu&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof QU&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new QU(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function qF(){throw new Error("invalid")}()};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();function Bs(t,e){return{\u0275kind:t,\u0275providers:e}}function C4(){const t=K(Qt);return e=>{const n=t.get(To);if(e!==n.components[0])return;const r=t.get(Pn),i=t.get(S4);1===t.get(hT)&&r.initialNavigation(),t.get(A4,null,Ce.Optional)?.setUpPreloading(),t.get(dT,null,Ce.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const S4=new te("",{factory:()=>new Fe}),hT=new te("",{providedIn:"root",factory:()=>1}),A4=new te("");function Kce(t){return Bs(0,[{provide:A4,useExisting:Gce},{provide:T4,useExisting:t}])}const x4=new te("ROUTER_FORROOT_GUARD"),Qce=[f1,{provide:Rh,useClass:W1},Pn,Bh,{provide:Ao,useFactory:function D4(t){return t.routerState.root},deps:[Pn]},lT,[]];function Jce(){return new iB("Router",Pn)}let sl=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[Qce,[],{provide:il,multi:!0,useValue:n},{provide:x4,useFactory:tue,deps:[[Pn,new Ir,new Kg]]},{provide:x_,useValue:r||{}},r?.useHash?{provide:Oa,useClass:lie}:{provide:Oa,useClass:kB},{provide:dT,useFactory:()=>{const t=K(Ase),e=K(Ee),n=K(x_),r=K(A_),i=K(Rh);return n.scrollOffset&&t.setOffset(n.scrollOffset),new E4(i,r,t,e,n)}},r?.preloadingStrategy?Kce(r.preloadingStrategy).\u0275providers:[],{provide:iB,multi:!0,useFactory:Jce},r?.initialNavigation?nue(r):[],r?.bindToComponentInputs?Bs(8,[r4,{provide:T_,useExisting:r4}]).\u0275providers:[],[{provide:N4,useFactory:C4},{provide:n1,multi:!0,useExisting:N4}]]}}static forChild(n){return{ngModule:t,providers:[{provide:il,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(q(x4,8))};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})();function tue(t){return"guarded"}function nue(t){return["disabled"===t.initialNavigation?Bs(3,[{provide:KI,multi:!0,useFactory:()=>{const e=K(Pn);return()=>{e.setUpLocationChangeListener()}}},{provide:hT,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Bs(2,[{provide:hT,useValue:0},{provide:KI,multi:!0,deps:[Qt],useFactory:e=>{const n=e.get(cie,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Pn),s=e.get(S4);w4(i,()=>{r(!0)}),e.get(A_).afterPreactivation=()=>(r(!0),s.closed?ae(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const N4=new te("");function O4(t,e,n,r,i,s,o){try{var a=t[s](o),c=a.value}catch(u){return void n(u)}a.done?e(c):Promise.resolve(c).then(r,i)}function p(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(c){O4(s,r,i,o,a,"next",c)}function a(c){O4(s,r,i,o,a,"throw",c)}o(void 0)})}}let M4=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(w(jr),w($e))};static#t=this.\u0275dir=$({type:t})}return t})(),La=(()=>{class t extends M4{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Bt(t)))(i||t)}}();static#t=this.\u0275dir=$({type:t,features:[He]})}return t})();const Wr=new te("NgValueAccessor"),oue={provide:Wr,useExisting:De(()=>Va),multi:!0},cue=new te("CompositionEventMode");let Va=(()=>{class t extends M4{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function aue(){const t=Eo()?Eo().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(w(jr),w($e),w(cue,8))};static#t=this.\u0275dir=$({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&ce("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[nt([oue]),He]})}return t})();function xo(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function k4(t){return null!=t&&"number"==typeof t.length}const Fn=new te("NgValidators"),No=new te("NgAsyncValidators"),uue=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ct{static min(e){return function P4(t){return e=>{if(xo(e.value)||xo(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function F4(t){return e=>{if(xo(e.value)||xo(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function L4(t){return xo(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function V4(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function B4(t){return xo(t.value)||uue.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function U4(t){return e=>xo(e.value)||!k4(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function j4(t){return e=>k4(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function $4(t){if(!t)return N_;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(xo(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return K4(e)}static composeAsync(e){return Y4(e)}}function N_(t){return null}function H4(t){return null!=t}function G4(t){return uh(t)?pn(t):t}function z4(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function W4(t,e){return e.map(n=>n(t))}function q4(t){return t.map(e=>function lue(t){return!t.validate}(e)?e:n=>e.validate(n))}function K4(t){if(!t)return null;const e=t.filter(H4);return 0==e.length?null:function(n){return z4(W4(n,e))}}function fT(t){return null!=t?K4(q4(t)):null}function Y4(t){if(!t)return null;const e=t.filter(H4);return 0==e.length?null:function(n){return function iue(...t){const e=bg(t),{args:n,keys:r}=EU(t),i=new Be(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let c=o,u=o;for(let l=0;l<o;l++){let d=!1;nn(n[l]).subscribe(it(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?DU(r,a):a),s.complete())}))}});return e?i.pipe(B1(e)):i}(W4(n,e).map(G4)).pipe(Oe(z4))}}function pT(t){return null!=t?Y4(q4(t)):null}function Q4(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function J4(t){return t._rawValidators}function Z4(t){return t._rawAsyncValidators}function gT(t){return t?Array.isArray(t)?t:[t]:[]}function O_(t,e){return Array.isArray(t)?t.includes(e):t===e}function X4(t,e){const n=gT(e);return gT(t).forEach(i=>{O_(n,i)||n.push(i)}),n}function ej(t,e){return gT(e).filter(n=>!O_(t,n))}class tj{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=fT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=pT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class ur extends tj{get formDirective(){return null}get path(){return null}}class Oo extends tj{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class nj{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Wh=(()=>{class t extends nj{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(w(Oo,2))};static#t=this.\u0275dir=$({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&je("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[He]})}return t})(),qh=(()=>{class t extends nj{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(w(ur,10))};static#t=this.\u0275dir=$({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&je("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[He]})}return t})();const Kh="VALID",R_="INVALID",ol="PENDING",Yh="DISABLED";function yT(t){return(k_(t)?t.validators:t)||null}function vT(t,e){return(k_(e)?e.asyncValidators:t)||null}function k_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function ij(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new V(1e3,"");if(!r[n])throw new V(1001,"")}function sj(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new V(1002,"")})}class P_{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Kh}get invalid(){return this.status===R_}get pending(){return this.status==ol}get disabled(){return this.status===Yh}get enabled(){return this.status!==Yh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(X4(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(X4(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ej(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ej(e,this._rawAsyncValidators))}hasValidator(e){return O_(this._rawValidators,e)}hasAsyncValidator(e){return O_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ol,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Yh,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Kh,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kh||this.status===ol)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yh:Kh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ol,this._hasOwnPendingAsyncValidator=!0;const n=G4(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new M,this.statusChanges=new M}_calculateStatus(){return this._allControlsDisabled()?Yh:this.errors?R_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ol)?ol:this._anyControlsHaveStatus(R_)?R_:Kh}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){k_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function pue(t){return Array.isArray(t)?fT(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function gue(t){return Array.isArray(t)?pT(t):t||null}(this._rawAsyncValidators)}}class Qh extends P_{constructor(e,n,r){super(yT(n),vT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){sj(this,0,e),Object.keys(e).forEach(r=>{ij(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class oj extends Qh{}const Ba=new te("CallSetDisabledState",{providedIn:"root",factory:()=>Jh}),Jh="always";function F_(t,e){return[...e.path,t]}function Zh(t,e,n=Jh){bT(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function _ue(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&aj(t,e)})}(t,e),function vue(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function yue(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&aj(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function mue(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function L_(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),B_(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function V_(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function bT(t,e){const n=J4(t);null!==e.validator?t.setValidators(Q4(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=Z4(t);null!==e.asyncValidator?t.setAsyncValidators(Q4(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();V_(e._rawValidators,i),V_(e._rawAsyncValidators,i)}function B_(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=J4(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=Z4(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return V_(e._rawValidators,r),V_(e._rawAsyncValidators,r),n}function aj(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function lj(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function dj(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const ef=class extends P_{constructor(e=null,n,r){super(yT(n),vT(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),k_(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=dj(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){lj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){lj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){dj(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let hj=(()=>{class t extends ur{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return F_(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Bt(t)))(i||t)}}();static#t=this.\u0275dir=$({type:t,features:[He]})}return t})(),tf=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=$({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})();const Aue={provide:Wr,useExisting:De(()=>DT),multi:!0};let DT=(()=>{class t extends La{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Bt(t)))(i||t)}}();static#t=this.\u0275dir=$({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&ce("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[nt([Aue]),He]})}return t})(),mj=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})();const CT=new te("NgModelWithFormControlWarning"),Rue={provide:ur,useExisting:De(()=>Ua)};let Ua=(()=>{class t extends ur{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new M,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(B_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Zh(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){L_(n.control||null,n,!1),function Tue(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function uj(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(L_(r||null,n),(t=>t instanceof ef)(i)&&(Zh(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function cj(t,e){bT(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function bue(t,e){return B_(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){bT(this.form,this),this._oldForm&&B_(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(w(Fn,10),w(No,10),w(Ba,8))};static#t=this.\u0275dir=$({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&ce("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[nt([Rue]),He,Mn]})}return t})();const kue={provide:ur,useExisting:De(()=>U_)};let U_=(()=>{class t extends hj{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){bj(this._parent)}static#e=this.\u0275fac=function(r){return new(r||t)(w(ur,13),w(Fn,10),w(No,10))};static#t=this.\u0275dir=$({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[nt([kue]),He]})}return t})();const Pue={provide:ur,useExisting:De(()=>j_)};let j_=(()=>{class t extends ur{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return F_(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){bj(this._parent)}static#e=this.\u0275fac=function(r){return new(r||t)(w(ur,13),w(Fn,10),w(No,10))};static#t=this.\u0275dir=$({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[nt([Pue]),He]})}return t})();function bj(t){return!(t instanceof U_||t instanceof Ua||t instanceof j_)}const Fue={provide:Oo,useExisting:De(()=>al)};let al=(()=>{class t extends Oo{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new M,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function TT(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Va?n=s:function Iue(t){return Object.getPrototypeOf(t.constructor)===La}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function IT(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return F_(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||t)(w(ur,13),w(Fn,10),w(No,10),w(Wr,10),w(CT,8))};static#n=this.\u0275dir=$({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[nt([Fue]),He,Mn]})}return t})();const Lue={provide:Wr,useExisting:De(()=>$_),multi:!0};function wj(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let $_=(()=>{class t extends La{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=wj(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function Vue(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Bt(t)))(i||t)}}();static#t=this.\u0275dir=$({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&ce("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[nt([Lue]),He]})}return t})(),Ij=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(wj(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(w($e),w(jr),w($_,9))};static#t=this.\u0275dir=$({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})();const Bue={provide:Wr,useExisting:De(()=>ST),multi:!0};function Tj(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let ST=(()=>{class t extends La{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const u=this._getOptionValue(o[a].value);i.push(u)}}else{const o=r.options;for(let a=0;a<o.length;a++){const c=o[a];if(c.selected){const u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function Uue(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Bt(t)))(i||t)}}();static#t=this.\u0275dir=$({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&ce("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[nt([Bue]),He]})}return t})(),Ej=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(Tj(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(Tj(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(w($e),w(jr),w(ST,9))};static#t=this.\u0275dir=$({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})(),kj=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({imports:[mj]})}return t})();class Pj extends P_{constructor(e,n,r){super(yT(n),vT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){sj(this,0,e),e.forEach((r,i)=>{ij(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Fj(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let H_=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let s={};return Fj(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Qh(i,s)}record(n,r=null){const i=this._reduceControls(n);return new oj(i,r)}control(n,r,i){let s={};return this.useNonNullable?(Fj(r)?s=r:(s.validators=r,s.asyncValidators=i),new ef(n,{...s,nonNullable:!0})):new ef(n,r,i)}array(n,r,i){const s=n.map(o=>this._createControl(o));return new Pj(s,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof ef||n instanceof P_?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),G_=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Ba,useValue:n.callSetDisabledState??Jh}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({imports:[kj]})}return t})(),xT=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:CT,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Ba,useValue:n.callSetDisabledState??Jh}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({imports:[kj]})}return t})();const Lj=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Vj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;c||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Lj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==u||null==d)throw new Zue;r.push(s<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Zue extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const z_=function(t){return function(t){const e=Lj(t);return Vj.encodeByteArray(e,!0)}(t).replace(/\./g,"")},W_=function(t){try{return Vj.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},q_=()=>{try{return function tle(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&W_(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},jj=()=>{var t;return null===(t=q_())||void 0===t?void 0:t.config},$j=t=>{var e;return null===(e=q_())||void 0===e?void 0:e[`_${t}`]};class Hj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function bn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class Mo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Mo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nf.prototype.create)}}class nf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function fle(t,e){return t.replace(ple,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Mo(i,`${this.serviceName}: ${o} (${i}).`,r)}}const ple=/\{\$([^}]+)}/g;function Y_(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(zj(s)&&zj(o)){if(!Y_(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function zj(t){return null!==t&&"object"==typeof t}function Q_(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function rf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function sf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class _le{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function yle(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=OT),void 0===i.error&&(i.error=OT),void 0===i.complete&&(i.complete=OT);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OT(){}function Ro(t){return t&&t._delegate?t._delegate:t}class cl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $a="[DEFAULT]";class Ele{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Hj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Cle(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:$a})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=$a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return p(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=$a){return this.instances.has(e)}getOptions(e=$a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===$a?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=$a){return this.component?this.component.multipleInstances?e:$a:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Sle{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ele(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const RT=[];var xe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(xe||{});const Wj={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},Ale=xe.INFO,xle={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},Nle=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=xle[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class ko{constructor(e){this.name=e,this._logLevel=Ale,this._logHandler=Nle,this._userLogHandler=null,RT.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Wj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const Ole=(t,e)=>e.some(n=>t instanceof n);let qj,Kj;const Yj=new WeakMap,kT=new WeakMap,Qj=new WeakMap,PT=new WeakMap,FT=new WeakMap;let LT={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return kT.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Qj.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Po(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Vle(t){return"function"==typeof t?function Lle(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Rle(){return Kj||(Kj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(VT(this),e),Po(Yj.get(this))}:function(...e){return Po(t.apply(VT(this),e))}:function(e,...n){const r=t.call(VT(this),e,...n);return Qj.set(r,e.sort?e.sort():[e]),Po(r)}}(t):(t instanceof IDBTransaction&&function Ple(t){if(kT.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});kT.set(t,e)}(t),Ole(t,function Mle(){return qj||(qj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,LT):t)}function Po(t){if(t instanceof IDBRequest)return function kle(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Po(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Yj.set(n,t)}).catch(()=>{}),FT.set(e,t),e}(t);if(PT.has(t))return PT.get(t);const e=Vle(t);return e!==t&&(PT.set(t,e),FT.set(e,t)),e}const VT=t=>FT.get(t);function Jj(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Po(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Po(o.result),c.oldVersion,c.newVersion,Po(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Ble=["get","getKey","getAll","getAllKeys","count"],Ule=["put","add","delete","clear"],BT=new Map;function Zj(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(BT.get(e))return BT.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ule.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ble.includes(n))return;const s=function(){var o=p(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return o.apply(this,arguments)}}();return BT.set(e,s),s}!function Fle(t){LT=t(LT)}(t=>({...t,get:(e,n,r)=>Zj(e,n)||t.get(e,n,r),has:(e,n)=>!!Zj(e,n)||t.has(e,n)}));class jle{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function $le(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const UT="@firebase/app",Ha=new ko("@firebase/app"),J_="[DEFAULT]",pde={[UT]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ga=new Map,Z_=new Map;function gde(t,e){try{t.container.addComponent(e)}catch(n){Ha.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function af(t){const e=t.name;if(Z_.has(e))return Ha.debug(`There were multiple attempts to register component ${e}.`),!1;Z_.set(e,t);for(const n of Ga.values())gde(n,t);return!0}function jT(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Us=new nf("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class _de{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Us.create("app-deleted",{appName:this._name})}}const cf="10.8.1";function e$(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:J_,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Us.create("bad-app-name",{appName:String(i)});if(n||(n=jj()),!n)throw Us.create("no-options");const s=Ga.get(i);if(s){if(Y_(n,s.options)&&Y_(r,s.config))return s;throw Us.create("duplicate-app",{appName:i})}const o=new Sle(i);for(const c of Z_.values())o.addComponent(c);const a=new _de(n,r,o);return Ga.set(i,a),a}function ul(t,e,n){var r;let i=null!==(r=pde[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ha.warn(a.join(" "))}af(new cl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const vde="firebase-heartbeat-database",bde=1,uf="firebase-heartbeat-store";let HT=null;function t$(){return HT||(HT=Jj(vde,bde,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(uf)}catch(n){console.warn(n)}}}).catch(t=>{throw Us.create("idb-open",{originalErrorMessage:t.message})})),HT}function GT(){return(GT=p(function*(t){try{const n=(yield t$()).transaction(uf),r=yield n.objectStore(uf).get(r$(t));return yield n.done,r}catch(e){if(e instanceof Mo)Ha.warn(e.message);else{const n=Us.create("idb-get",{originalErrorMessage:e?.message});Ha.warn(n.message)}}})).apply(this,arguments)}function n$(t,e){return zT.apply(this,arguments)}function zT(){return(zT=p(function*(t,e){try{const r=(yield t$()).transaction(uf,"readwrite");yield r.objectStore(uf).put(e,r$(t)),yield r.done}catch(n){if(n instanceof Mo)Ha.warn(n.message);else{const r=Us.create("idb-set",{originalErrorMessage:n?.message});Ha.warn(r.message)}}})).apply(this,arguments)}function r$(t){return`${t.name}!${t.options.appId}`}class Ede{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Cde(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return p(function*(){var n,r;const s=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=i$();if((null!=(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==o&&!e._heartbeatsCache.heartbeats.some(a=>a.date===o))return e._heartbeatsCache.heartbeats.push({date:o,agent:s}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return p(function*(){var n;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=i$(),{heartbeatsToSend:i,unsentEntries:s}=function Dde(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),s$(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),s$(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=z_(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(e._heartbeatsCache.heartbeats=s,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function i$(){return(new Date).toISOString().substring(0,10)}class Cde{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(function*(){return!!function lle(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function dle(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return p(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function wde(t){return GT.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var n=this;return p(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return n$(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return p(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return n$(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function s$(t){return z_(JSON.stringify({version:2,heartbeats:t})).length}!function Sde(t){af(new cl("platform-logger",e=>new jle(e),"PRIVATE")),af(new cl("heartbeat",e=>new Ede(e),"PRIVATE")),ul(UT,"0.9.28",t),ul(UT,"0.9.28","esm2017"),ul("fire-js","")}("");const Ade=function o$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},a$=new nf("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),X_=new ko("@firebase/auth");function ey(t,...e){X_.logLevel<=xe.ERROR&&X_.error(`Auth (${cf}): ${t}`,...e)}function Sr(t,...e){throw WT(t,...e)}function rs(t,...e){return WT(t,...e)}function WT(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return a$.create(t,...e)}function G(t,e,...n){if(!t)throw WT(e,...n)}function is(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ey(e),new Error(e)}function Fo(t,e){t||is(e)}function lf(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function u$(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function Nde(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function qT(){return"http:"===u$()||"https:"===u$()}()||function ale(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class df{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fo(n>e,"Short delay should be less than long delay!"),this.isMobile=function sle(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}()||function cle(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return Nde()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function KT(t,e){Fo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class l${static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Mde={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Rde=new df(3e4,6e4);function dt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ht(t,e,n,r){return YT.apply(this,arguments)}function YT(){return(YT=p(function*(t,e,n,r,i={}){return d$(t,i,p(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Q_(Object.assign({key:t.config.apiKey},o)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),l$.fetch()(h$(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function d$(t,e,n){return QT.apply(this,arguments)}function QT(){return(QT=p(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Mde),e);try{const i=new Pde(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw hf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw hf(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw hf(t,"email-already-in-use",o);if("USER_DISABLED"===c)throw hf(t,"user-disabled",o);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw function c$(t,e,n){const r=Object.assign(Object.assign({},Ade()),{[e]:n});return new nf("auth","Firebase",r).create(e,{appName:t.name})}(t,l,u);Sr(t,l)}}catch(i){if(i instanceof Mo)throw i;Sr(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function js(t,e,n,r){return JT.apply(this,arguments)}function JT(){return(JT=p(function*(t,e,n,r,i={}){const s=yield ht(t,e,n,r,i);return"mfaPendingCredential"in s&&Sr(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function h$(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?KT(t.config,i):`${t.config.apiScheme}://${i}`}function kde(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Pde{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(rs(this.auth,"network-request-failed")),Rde.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=rs(t,e,r);return i.customData._tokenResponse=n,i}function p$(t){return void 0!==t&&void 0!==t.enterprise}class g${constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return kde(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function m$(t,e){return XT.apply(this,arguments)}function XT(){return(XT=p(function*(t,e){return ht(t,"GET","/v2/recaptchaConfig",dt(t,e))})).apply(this,arguments)}function eE(){return(eE=p(function*(t,e){return ht(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function nE(){return(nE=p(function*(t,e){return ht(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function ff(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function rE(){return(rE=p(function*(t,e=!1){const n=Ro(t),r=yield n.getIdToken(e),i=ty(r);G(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ff(iE(i.auth_time)),issuedAtTime:ff(iE(i.iat)),expirationTime:ff(iE(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function iE(t){return 1e3*Number(t)}function ty(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return ey("JWT malformed, contained fewer than 3 sections"),null;try{const i=W_(n);return i?JSON.parse(i):(ey("Failed to decode base64 JWT payload"),null)}catch(i){return ey("Caught error parsing JWT payload as JSON",i?.toString()),null}}function $s(t,e){return sE.apply(this,arguments)}function sE(){return(sE=p(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Mo&&function $de({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Hde{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(p(function*(){yield n.iteration()}),r)}iteration(){var e=this;return p(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class _${constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ff(this.lastLoginAt),this.creationTime=ff(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function pf(t){return oE.apply(this,arguments)}function oE(){return oE=p(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield $s(t,function Bde(t,e){return nE.apply(this,arguments)}(n,{idToken:r}));G(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Wde(t){return t.map(e=>{var{providerId:n}=e,r=Yc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function zde(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new _$(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),oE.apply(this,arguments)}function aE(){return(aE=p(function*(t){const e=Ro(t);yield pf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function cE(){return(cE=p(function*(t,e){const n=yield d$(t,{},p(function*(){const r=Q_({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=h$(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",l$.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}function uE(){return(uE=p(function*(t,e){return ht(t,"POST","/v2/accounts:revokeToken",dt(t,e))})).apply(this,arguments)}class gf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function jde(t){const e=ty(t);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return p(function*(){return G(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return p(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function qde(t,e){return cE.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new gf;return r&&(G("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(G("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(G("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gf,this.toJSON())}_performRefresh(){return is("not implemented")}}function Lo(t,e){G("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class za{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Yc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hde(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new _$(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return p(function*(){const r=yield $s(n,n.stsTokenManager.getToken(n.auth,e));return G(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Ude(t){return rE.apply(this,arguments)}(this,e)}reload(){return function Gde(t){return aE.apply(this,arguments)}(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new za(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return p(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield pf(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return p(function*(){const n=yield e.getIdToken();return yield $s(e,function Lde(t,e){return eE.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,g=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,I=null!==(u=n.createdAt)&&void 0!==u?u:void 0,b=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:x,emailVerified:R,isAnonymous:U,providerData:Y,stsTokenManager:oe}=n;G(x&&oe,e,"internal-error");const me=gf.fromJSON(this.name,oe);G("string"==typeof x,e,"internal-error"),Lo(d,e.name),Lo(h,e.name),G("boolean"==typeof R,e,"internal-error"),G("boolean"==typeof U,e,"internal-error"),Lo(f,e.name),Lo(g,e.name),Lo(m,e.name),Lo(_,e.name),Lo(I,e.name),Lo(b,e.name);const Ve=new za({uid:x,auth:e,email:h,emailVerified:R,displayName:d,isAnonymous:U,photoURL:g,phoneNumber:f,tenantId:m,stsTokenManager:me,createdAt:I,lastLoginAt:b});return Y&&Array.isArray(Y)&&(Ve.providerData=Y.map(_t=>Object.assign({},_t))),_&&(Ve._redirectEventId=_),Ve}static _fromIdTokenResponse(e,n,r=!1){return p(function*(){const i=new gf;i.updateFromServerResponse(n);const s=new za({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield pf(s),s})()}}const y$=new Map;function Hs(t){Fo(t instanceof Function,"Expected a class definition");let e=y$.get(t);return e?(Fo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,y$.set(t,e),e)}const v$=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(function*(){return!0})()}_set(n,r){var i=this;return p(function*(){i.storage[n]=r})()}_get(n){var r=this;return p(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return p(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function ny(t,e,n){return`firebase:${t}:${e}:${n}`}class dl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ny(this.userKey,i.apiKey,s),this.fullPersistenceKey=ny("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return p(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?za._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return p(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(function*(){if(!n.length)return new dl(Hs(v$),e,r);const i=(yield Promise.all(n.map(function(){var u=p(function*(l){if(yield l._isAvailable())return l});return function(l){return u.apply(this,arguments)}}()))).filter(u=>u);let s=i[0]||Hs(v$);const o=ny(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const l=yield u._get(o);if(l){const d=za._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var u=p(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return u.apply(this,arguments)}}())),new dl(s,e,r)):new dl(s,e,r)})()}}function b$(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(T$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(w$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(D$(e))return"Blackberry";if(C$(e))return"Webos";if(lE(e))return"Safari";if((e.includes("chrome/")||I$(e))&&!e.includes("edge/"))return"Chrome";if(E$(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function w$(t=bn()){return/firefox\//i.test(t)}function lE(t=bn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function I$(t=bn()){return/crios\//i.test(t)}function T$(t=bn()){return/iemobile/i.test(t)}function E$(t=bn()){return/android/i.test(t)}function D$(t=bn()){return/blackberry/i.test(t)}function C$(t=bn()){return/webos/i.test(t)}function ry(t=bn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function S$(t=bn()){return ry(t)||E$(t)||C$(t)||D$(t)||/windows phone/i.test(t)||T$(t)}function A$(t,e=[]){let n;switch(t){case"Browser":n=b$(bn());break;case"Worker":n=`${b$(bn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${cf}/${r}`}class Zde{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return p(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function dE(){return(dE=p(function*(t,e={}){return ht(t,"GET","/v2/passwordPolicy",dt(t,e))})).apply(this,arguments)}class the{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(n=c.meetsMinPasswordLength)||void 0===n||n),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(s=c.containsUppercaseLetter)||void 0===s||s),c.isValid&&(c.isValid=null===(o=c.containsNumericCharacter)||void 0===o||o),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class nhe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new x$(this),this.idTokenSubscription=new x$(this),this.beforeStateQueue=new Zde(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=a$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Hs(n)),this._initializationPromise=this.queue(p(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield dl.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return p(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return p(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,u=yield n.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(s=u.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return G(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return p(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return p(function*(){try{yield pf(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Ode(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return p(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return p(function*(){const r=e?Ro(e):null;return r&&G(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return p(function*(){if(!r._deleted)return e&&G(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(p(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return p(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(p(function*(){yield n.assertedPersistence.setPersistence(Hs(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return p(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return p(function*(){const n=yield function Xde(t){return dE.apply(this,arguments)}(e),r=new the(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new nf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){var n=this;return p(function*(){if(n.currentUser){const r=yield n.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=n.tenantId&&(i.tenantId=n.tenantId),yield function Kde(t,e){return uE.apply(this,arguments)}(n,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return p(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return p(function*(){if(!n.redirectPersistenceManager){const r=e&&Hs(e)||n._popupRedirectResolver;G(r,n,"argument-error"),n.redirectPersistenceManager=yield dl.create(n,[Hs(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return p(function*(){var r,i;return n._isInitialized&&(yield n.queue(p(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return p(function*(){if(e===n.currentUser)return n.queue(p(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof n){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}{const c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){var n=this;return p(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=A$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return p(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return p(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function xde(t,...e){X_.logLevel<=xe.WARN&&X_.warn(`Auth (${cf}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Ht(t){return Ro(t)}class x${constructor(e){this.auth=e,this.observer=null,this.addObserver=function mle(t,e){const n=new _le(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mf={loadJS:()=>p(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hE(t){return mf.loadJS(t)}function N$(t){return`__${t}${Math.floor(1e6*Math.random())}`}class O${constructor(e){this.type="recaptcha-enterprise",this.auth=Ht(e)}verify(e="verify",n=!1){var r=this;return p(function*(){function s(){return s=p(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=p(function*(u,l){m$(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new g$(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,u(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(u,l){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,u){const l=window.grecaptcha;p$(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(u=>{if(!n&&p$(window.grecaptcha))o(u,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));let l=function she(){return mf.recaptchaEnterpriseScript}();0!==l.length&&(l+=u),hE(l).then(()=>{o(u,a,c)}).catch(d=>{c(d)})}}).catch(u=>{c(u)})})})()}}function M$(t,e,n){return fE.apply(this,arguments)}function fE(){return(fE=p(function*(t,e,n,r=!1){const i=new O$(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}function _f(t,e,n,r){return pE.apply(this,arguments)}function pE(){return pE=p(function*(t,e,n,r){var i;if(null!==(i=t._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=yield M$(t,e,n,"getOobCode"===n);return r(t,s)}return r(t,e).catch(function(){var s=p(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield M$(t,e,n,"getOobCode"===n);return r(t,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}())}),pE.apply(this,arguments)}function R$(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function k$(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class P${constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return is("not implemented")}_getIdTokenResponse(e){return is("not implemented")}_linkToIdToken(e,n){return is("not implemented")}_getReauthenticationResolver(e){return is("not implemented")}}function mhe(t,e){return yE.apply(this,arguments)}function yE(){return(yE=p(function*(t,e){return ht(t,"POST","/v1/accounts:signUp",e)})).apply(this,arguments)}function yhe(t,e){return bE.apply(this,arguments)}function bE(){return(bE=p(function*(t,e){return js(t,"POST","/v1/accounts:signInWithPassword",dt(t,e))})).apply(this,arguments)}function wE(){return(wE=p(function*(t,e){return ht(t,"POST","/v1/accounts:sendOobCode",dt(t,e))})).apply(this,arguments)}function bhe(t,e){return TE.apply(this,arguments)}function TE(){return(TE=p(function*(t,e){return function iy(t,e){return wE.apply(this,arguments)}(t,e)})).apply(this,arguments)}function CE(){return(CE=p(function*(t,e){return js(t,"POST","/v1/accounts:signInWithEmailLink",dt(t,e))})).apply(this,arguments)}function SE(){return(SE=p(function*(t,e){return js(t,"POST","/v1/accounts:signInWithEmailLink",dt(t,e))})).apply(this,arguments)}class yf extends P${constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new yf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new yf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return p(function*(){switch(n.signInMethod){case"password":return _f(e,{returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",yhe);case"emailLink":return function The(t,e){return CE.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Sr(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return p(function*(){switch(r.signInMethod){case"password":return _f(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mhe);case"emailLink":return function Ehe(t,e){return SE.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Sr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Gs(t,e){return AE.apply(this,arguments)}function AE(){return(AE=p(function*(t,e){return js(t,"POST","/v1/accounts:signInWithIdp",dt(t,e))})).apply(this,arguments)}class wf{constructor(e){var n,r,i,s,o,a;const c=rf(sf(e)),u=null!==(n=c.apiKey)&&void 0!==n?n:null,l=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function Ohe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);G(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function Mhe(t){const e=rf(sf(t)).link,n=e?rf(sf(e)).deep_link_id:null,r=rf(sf(t)).deep_link_id;return(r?rf(sf(r)).link:null)||r||n||e||t}(e);try{return new wf(n)}catch{return null}}}let L$=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return yf._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=wf.parseLink(r);return G(i,"argument-error"),yf._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class Vo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Rhe extends Vo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function V$(t,e){return kE.apply(this,arguments)}function kE(){return(kE=p(function*(t,e){return js(t,"POST","/v1/accounts:signUp",dt(t,e))})).apply(this,arguments)}class di{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return p(function*(){const s=yield za._fromIdTokenResponse(e,r,i),o=B$(r);return new di({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return p(function*(){yield e._updateTokensIfNecessary(r,!0);const i=B$(r);return new di({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function B$(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class oy extends Mo{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,oy.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new oy(e,n,r,i)}}function U$(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?oy._fromErrorAndOperation(t,s,e,r):s})}function VE(){return(VE=p(function*(t,e,n=!1){const r=yield $s(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return di._forOperation(t,"link",r)})).apply(this,arguments)}function UE(){return(UE=p(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield $s(t,U$(r,i,e,t),n);G(s.idToken,r,"internal-error");const o=ty(s.idToken);G(o,r,"internal-error");const{sub:a}=o;return G(t.uid===a,r,"user-mismatch"),di._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Sr(r,"user-mismatch"),s}})).apply(this,arguments)}function H$(t,e){return jE.apply(this,arguments)}function jE(){return(jE=p(function*(t,e,n=!1){const r="signIn",i=yield U$(t,r,e),s=yield di._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function $E(t,e){return HE.apply(this,arguments)}function HE(){return(HE=p(function*(t,e){return H$(Ht(t),e)})).apply(this,arguments)}function JE(t){return ZE.apply(this,arguments)}function ZE(){return(ZE=p(function*(t){const e=Ht(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function XE(){return(XE=p(function*(t,e,n){const r=Ht(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&function cy(t,e,n){var r;G((null===(r=n.url)||void 0===r?void 0:r.length)>0,t,"invalid-continue-uri"),G(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(G(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(G(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}(r,i,n),yield _f(r,i,"getOobCode",bhe)})).apply(this,arguments)}function iD(){return(iD=p(function*(t,e,n){const r=Ht(t),o=yield _f(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",V$).catch(c=>{throw"auth/password-does-not-meet-requirements"===c.code&&JE(t),c}),a=yield di._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})).apply(this,arguments)}const uy="__sak";class z${constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(uy,"1"),this.storage.removeItem(uy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ofe=(()=>{class t extends z${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function rfe(){const t=bn();return lE(t)||ry(t)}()&&function Jde(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=S$(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Qde(){return function ule(){const t=bn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return p(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return p(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return p(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),W$=(()=>{class t extends z${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let cfe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return p(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,c=r.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const u=Array.from(c).map(function(){var d=p(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function afe(t){return Promise.all(t.map(function(){var e=p(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(u);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function bD(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class ufe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return p(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,u)=>{const l=bD("",20);s.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(f.data.response);break;default:clearTimeout(d),clearTimeout(o),u(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Zt(){return window}function wD(){return typeof Zt().WorkerGlobalScope<"u"&&"function"==typeof Zt().importScripts}function ID(){return(ID=p(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const q$="firebaseLocalStorageDb",ly="firebaseLocalStorage",K$="fbase_key";class Tf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dy(t,e){return t.transaction([ly],e?"readwrite":"readonly").objectStore(ly)}function TD(){const t=indexedDB.open(q$,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ly,{keyPath:K$})}catch(i){n(i)}}),t.addEventListener("success",p(function*(){const r=t.result;r.objectStoreNames.contains(ly)?e(r):(r.close(),yield function gfe(){const t=indexedDB.deleteDatabase(q$);return new Tf(t).toPromise()}(),e(yield TD()))}))})}function Y$(t,e,n){return ED.apply(this,arguments)}function ED(){return(ED=p(function*(t,e,n){const r=dy(t,!0).put({[K$]:e,value:n});return new Tf(r).toPromise()})).apply(this,arguments)}function DD(){return(DD=p(function*(t,e){const n=dy(t,!1).get(e),r=yield new Tf(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function Q$(t,e){const n=dy(t,!0).delete(e);return new Tf(n).toPromise()}const vfe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return p(function*(){return n.db||(n.db=yield TD()),n.db})()}_withRetries(n){var r=this;return p(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return p(function*(){return wD()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return p(function*(){n.receiver=cfe._getInstance(function ffe(){return wD()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=p(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=p(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return p(function*(){var r,i;if(n.activeServiceWorker=yield function dfe(){return ID.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new ufe(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return p(function*(){if(r.sender&&r.activeServiceWorker&&function hfe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return p(function*(){try{if(!indexedDB)return!1;const n=yield TD();return yield Y$(n,uy,"1"),yield Q$(n,uy),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return p(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return p(function*(){return i._withPendingWrite(p(function*(){return yield i._withRetries(s=>Y$(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return p(function*(){const i=yield r._withRetries(s=>function mfe(t,e){return DD.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return p(function*(){return r._withPendingWrite(p(function*(){return yield r._withRetries(i=>Q$(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return p(function*(){const r=yield n._withRetries(o=>{const a=dy(o,!1).getAll();return new Tf(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;if(0!==r.length)for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(p(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();N$("rcb"),new df(3e4,6e4);class kD extends P${constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Gs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Gs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function kfe(t){return H$(t.auth,new kD(t),t.bypassAuthState)}function Pfe(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),function $$(t,e){return UE.apply(this,arguments)}(n,new kD(t),t.bypassAuthState)}function Ffe(t){return PD.apply(this,arguments)}function PD(){return(PD=p(function*(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),function LE(t,e){return VE.apply(this,arguments)}(n,new kD(t),t.bypassAuthState)})).apply(this,arguments)}class Lfe{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=p(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return p(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:c}=e;if(a)return void n.reject(a);const u={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(u))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kfe;case"linkViaPopup":case"linkViaRedirect":return Ffe;case"reauthViaPopup":case"reauthViaRedirect":return Pfe;default:Sr(this.auth,"internal-error")}}resolve(e){Fo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new df(2e3,1e4);const Vfe="pendingRedirect",Ef=new Map;class Bfe extends Lfe{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return p(function*(){let r=Ef.get(n.auth._key());if(!r){try{const s=(yield function Ufe(t,e){return UD.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Ef.set(n.auth._key(),r)}return n.bypassAuthState||Ef.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return p(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return p(function*(){})()}cleanUp(){}}function UD(){return(UD=p(function*(t,e){const n=function X$(t){return ny(Vfe,t.config.apiKey,t.name)}(e),r=function Z$(t){return Hs(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function jfe(t,e){Ef.set(t._key(),e)}function eH(t,e){return qD.apply(this,arguments)}function qD(){return(qD=p(function*(t,e,n=!1){const r=Ht(t),i=function qa(t,e){return e?Hs(e):(G(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),o=yield new Bfe(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class Wfe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function qfe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rH(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!rH(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(rs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(nH(e))}saveEventToCache(e){this.cachedEventUids.add(nH(e)),this.lastProcessedEventTime=Date.now()}}function nH(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rH({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function YD(){return(YD=p(function*(t,e={}){return ht(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Yfe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qfe=/^https?/;function QD(){return QD=p(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function Kfe(t){return YD.apply(this,arguments)}(t);for(const n of e)try{if(Zfe(n))return}catch{}Sr(t,"unauthorized-domain")}),QD.apply(this,arguments)}function Zfe(t){const e=lf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!Qfe.test(n))return!1;if(Yfe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Xfe=new df(3e4,6e4);function iH(){const t=Zt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let fy=null;const npe=new df(5e3,15e3),rpe="__/auth/iframe",ipe="emulator/auth/iframe",spe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ope=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ape(t){const e=t.config;G(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?KT(e,ipe):`https://${t.config.authDomain}/${rpe}`,r={apiKey:e.apiKey,appName:t.name,v:cf},i=ope.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Q_(r).slice(1)}`}function JD(){return JD=p(function*(t){const e=yield function tpe(t){return fy=fy||function epe(t){return new Promise((e,n)=>{var r,i,s;function o(){iH(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iH(),n(rs(t,"network-request-failed"))},timeout:Xfe.get()})}if(null!==(i=null===(r=Zt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=Zt().gapi)||void 0===s||!s.load){const a=N$("iframefcb");return Zt()[a]=()=>{gapi.load?o():n(rs(t,"network-request-failed"))},hE(`${function ohe(){return mf.gapiScript}()}?onload=${a}`).catch(c=>n(c))}o()}}).catch(e=>{throw fy=null,e})}(t),fy}(t),n=Zt().gapi;return G(n,t,"internal-error"),e.open({where:document.body,url:ape(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:spe,dontclear:!0},r=>new Promise(function(){var i=p(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=rs(t,"network-request-failed"),c=Zt().setTimeout(()=>{o(a)},npe.get());function u(){Zt().clearTimeout(c),s(r)}r.ping(u).then(u,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),JD.apply(this,arguments)}const upe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class sH{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const mpe="__/auth/handler",_pe="emulator/auth/handler",ype=encodeURIComponent("fac");function oH(t,e,n,r,i,s){return ZD.apply(this,arguments)}function ZD(){return(ZD=p(function*(t,e,n,r,i,s){G(t.config.authDomain,t,"auth-domain-config-required"),G(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:cf,eventId:i};if(e instanceof Vo){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function gle(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof Rhe){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const c=yield t._getAppCheckToken(),u=c?`#${ype}=${encodeURIComponent(c)}`:"";return`${function vpe({config:t}){return t.emulator?KT(t,_pe):`https://${t.authDomain}/${mpe}`}(t)}?${Q_(a).slice(1)}${u}`})).apply(this,arguments)}const XD="webStorageSupport",wpe=class bpe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=W$,this._completeRedirectFn=eH,this._overrideRedirectResult=jfe}_openPopup(e,n,r,i){var s=this;return p(function*(){var o;Fo(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield oH(e,n,r,lf(),i);return function ppe(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},upe),{width:r.toString(),height:i.toString(),top:s,left:o}),u=bn().toLowerCase();n&&(a=I$(u)?"_blank":n),w$(u)&&(e=e||"http://localhost",c.scrollbars="yes");const l=Object.entries(c).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(function Yde(t=bn()){var e;return ry(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function gpe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new sH(null);const d=window.open(e||"",a,l);G(d,t,"popup-blocked");try{d.focus()}catch{}return new sH(d)}(e,a,bD())})()}_openRedirect(e,n,r,i){var s=this;return p(function*(){return yield s._originValidation(e),function lfe(t){Zt().location.href=t}(yield oH(e,n,r,lf(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Fo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return p(function*(){const r=yield function cpe(t){return JD.apply(this,arguments)}(e),i=new Wfe(e);return r.register("authEvent",s=>(G(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(XD,{type:XD},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[XD];void 0!==o&&n(!!o),Sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function Jfe(t){return QD.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return S$()||lE()||ry()}};var uH="@firebase/auth";class Ipe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return p(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Cpe=$j("authIdTokenMaxAge")||300;let dH=null;const Spe=t=>function(){var e=p(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Cpe)return;const s=r?.token;dH!==s&&(dH=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function gy(t=function yde(t=J_){const e=Ga.get(t);if(!e&&t===J_&&jj())return e$();if(!e)throw Us.create("no-app",{appName:t});return e}()){const e=jT(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function lhe(t,e){const n=jT(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Y_(n.getOptions(),e??{}))return i;Sr(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:wpe,persistence:[vfe,ofe,W$]}),r=$j("authTokenSyncURL");if(r){const s=Spe(r);(function Jhe(t,e,n){Ro(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function Qhe(t,e,n,r){Ro(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=(t=>{var e,n;return null===(n=null===(e=q_())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})("auth");return i&&function hhe(t,e,n){const r=Ht(t);G(r._canInitEmulator,r,"emulator-config-failed"),G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=R$(e),{host:o,port:a}=function fhe(t){const e=R$(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:k$(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:k$(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function phe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}(function rhe(t){mf=t})({loadJS:t=>new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=rs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function Ape(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Epe(t){af(new cl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;G(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A$(t)},u=new nhe(r,i,s,c);return function dhe(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Hs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),af(new cl("auth-internal",e=>{const n=Ht(e.getProvider("auth").getImmediate());return new Ipe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ul(uH,"1.6.1",function Tpe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(t)),ul(uH,"1.6.1","esm2017")}("Browser");const hH=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},nC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;c||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hH(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==u||null==d)throw new Mpe;r.push(s<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Mpe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const my=function(t){return function(t){const e=hH(t);return nC.encodeByteArray(e,!0)}(t).replace(/\./g,"")},_y=function(t){try{return nC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},yy=()=>{try{return function Ppe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_y(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},pH=()=>{var t;return null===(t=yy())||void 0===t?void 0:t.config};class vy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function qr(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function rC(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Ka(){try{return"object"==typeof indexedDB}catch{return!1}}function Df(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function iC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Mi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ss.prototype.create)}}class ss{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function qpe(t,e){return t.replace(Kpe,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Mi(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Kpe=/\{\$([^}]+)}/g;function sC(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(mH(s)&&mH(o)){if(!sC(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function mH(t){return null!==t&&"object"==typeof t}function _H(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Qpe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Jpe(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=oC),void 0===i.error&&(i.error=oC),void 0===i.complete&&(i.complete=oC);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oC(){}const Zpe=1e3,Xpe=2,ege=144e5,tge=.5;function cC(t,e=Zpe,n=Xpe){const r=e*Math.pow(n,t),i=Math.round(tge*r*(Math.random()-.5)*2);return Math.min(ege,r+i)}function lr(t){return t&&t._delegate?t._delegate:t}class Qn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ya="[DEFAULT]";class rge{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new vy;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function sge(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ya})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return p(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ya){return this.instances.has(e)}getOptions(e=Ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Ya?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Ya){return this.component?this.component.multipleInstances?e:Ya:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class oge{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rge(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}class age{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function cge(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const uC="@firebase/app",Qa=new ko("@firebase/app"),wy="[DEFAULT]",kge={[uC]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ja=new Map,Iy=new Map;function Pge(t,e){try{t.container.addComponent(e)}catch(n){Qa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function dr(t){const e=t.name;if(Iy.has(e))return Qa.debug(`There were multiple attempts to register component ${e}.`),!1;Iy.set(e,t);for(const n of Ja.values())Pge(n,t);return!0}function Ty(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const zs=new ss("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Lge{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zs.create("app-deleted",{appName:this._name})}}const Cf="9.23.0";function vH(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:wy,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw zs.create("bad-app-name",{appName:String(i)});if(n||(n=pH()),!n)throw zs.create("no-options");const s=Ja.get(i);if(s){if(sC(n,s.options)&&sC(r,s.config))return s;throw zs.create("duplicate-app",{appName:i})}const o=new oge(i);for(const c of Iy.values())o.addComponent(c);const a=new Lge(n,r,o);return Ja.set(i,a),a}function bH(t=wy){const e=Ja.get(t);if(!e&&t===wy&&pH())return vH();if(!e)throw zs.create("no-app",{appName:t});return e}function wH(){return Array.from(Ja.values())}function Gt(t,e,n){var r;let i=null!==(r=kge[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Qa.warn(a.join(" "))}dr(new Qn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Vge="firebase-heartbeat-database",Bge=1,Sf="firebase-heartbeat-store";let dC=null;function IH(){return dC||(dC=Jj(Vge,Bge,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Sf)}}).catch(t=>{throw zs.create("idb-open",{originalErrorMessage:t.message})})),dC}function hC(){return(hC=p(function*(t){try{return yield(yield IH()).transaction(Sf).objectStore(Sf).get(EH(t))}catch(e){if(e instanceof Mi)Qa.warn(e.message);else{const n=zs.create("idb-get",{originalErrorMessage:e?.message});Qa.warn(n.message)}}})).apply(this,arguments)}function TH(t,e){return fC.apply(this,arguments)}function fC(){return(fC=p(function*(t,e){try{const r=(yield IH()).transaction(Sf,"readwrite");yield r.objectStore(Sf).put(e,EH(t)),yield r.done}catch(n){if(n instanceof Mi)Qa.warn(n.message);else{const r=zs.create("idb-set",{originalErrorMessage:n?.message});Qa.warn(r.message)}}})).apply(this,arguments)}function EH(t){return`${t.name}!${t.options.appId}`}class Hge{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zge(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return p(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=DH();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return p(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=DH(),{heartbeatsToSend:r,unsentEntries:i}=function Gge(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),CH(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),CH(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=my(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function DH(){return(new Date).toISOString().substring(0,10)}class zge{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(function*(){return!!Ka()&&Df().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return p(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Uge(t){return hC.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return p(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return TH(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return p(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return TH(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function CH(t){return my(JSON.stringify({version:2,heartbeats:t})).length}!function Wge(t){dr(new Qn("platform-logger",e=>new age(e),"PRIVATE")),dr(new Qn("heartbeat",e=>new Hge(e),"PRIVATE")),Gt(uC,"0.9.13",t),Gt(uC,"0.9.13","esm2017"),Gt("fire-js","")}(""),Gt("firebase","9.23.0","app");const Yge=(t,e)=>e.some(n=>t instanceof n);let SH,AH;const xH=new WeakMap,pC=new WeakMap,NH=new WeakMap,gC=new WeakMap,mC=new WeakMap;let _C={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return pC.get(t);if("objectStoreNames"===e)return t.objectStoreNames||NH.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bo(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function nme(t){return"function"==typeof t?function tme(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Jge(){return AH||(AH=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(yC(this),e),Bo(xH.get(this))}:function(...e){return Bo(t.apply(yC(this),e))}:function(e,...n){const r=t.call(yC(this),e,...n);return NH.set(r,e.sort?e.sort():[e]),Bo(r)}}(t):(t instanceof IDBTransaction&&function Xge(t){if(pC.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});pC.set(t,e)}(t),Yge(t,function Qge(){return SH||(SH=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,_C):t)}function Bo(t){if(t instanceof IDBRequest)return function Zge(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Bo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&xH.set(n,t)}).catch(()=>{}),mC.set(e,t),e}(t);if(gC.has(t))return gC.get(t);const e=nme(t);return e!==t&&(gC.set(t,e),mC.set(e,t)),e}const yC=t=>mC.get(t),ime=["get","getKey","getAll","getAllKeys","count"],sme=["put","add","delete","clear"],vC=new Map;function OH(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(vC.get(e))return vC.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=sme.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ime.includes(n))return;const s=function(){var o=p(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return o.apply(this,arguments)}}();return vC.set(e,s),s}!function eme(t){_C=t(_C)}(t=>({...t,get:(e,n,r)=>OH(e,n)||t.get(e,n,r),has:(e,n)=>!!OH(e,n)||t.has(e,n)}));const MH="@firebase/installations",bC="0.6.4",RH=1e4,kH=`w:${bC}`,PH="FIS_v2",ome="https://firebaseinstallations.googleapis.com/v1",ame=36e5,Ws=new ss("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function FH(t){return t instanceof Mi&&t.code.includes("request-failed")}function wC({projectId:t}){return`${ome}/projects/${t}/installations`}function LH(t){return{token:t.token,requestStatus:2,expiresIn:dme(t.expiresIn),creationTime:Date.now()}}function IC(t,e){return TC.apply(this,arguments)}function TC(){return(TC=p(function*(t,e){const r=(yield e.json()).error;return Ws.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function VH({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function EC(t){return DC.apply(this,arguments)}function DC(){return(DC=p(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function dme(t){return Number(t.replace("s","000"))}function CC(){return(CC=p(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=wC(t),i=VH(t),s=e.getImmediate({optional:!0});if(s){const u=yield s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:PH,appId:t.appId,sdkVersion:kH})},c=yield EC(()=>fetch(r,a));if(c.ok){const u=yield c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:LH(u.authToken)}}throw yield IC("Create Installation",c)})).apply(this,arguments)}function UH(t){return new Promise(e=>{setTimeout(e,t)})}const gme=/^[cdef][\w-]{21}$/,SC="";function mme(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function _me(t){return function pme(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return gme.test(n)?n:SC}catch{return SC}}function hl(t){return`${t.appName}!${t.appId}`}const fl=new Map;function jH(t,e){const n=hl(t);$H(n,e),function bme(t,e){const n=function HH(){return!Za&&"BroadcastChannel"in self&&(Za=new BroadcastChannel("[Firebase] FID Change"),Za.onmessage=t=>{$H(t.data.key,t.data.fid)}),Za}();n&&n.postMessage({key:t,fid:e}),function GH(){0===fl.size&&Za&&(Za.close(),Za=null)}()}(n,e)}function $H(t,e){const n=fl.get(t);if(n)for(const r of n)r(e)}let Za=null;const wme="firebase-installations-database",Ime=1,Xa="firebase-installations-store";let AC=null;function xC(){return AC||(AC=function rme(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Bo(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Bo(o.result),c.oldVersion,c.newVersion,Bo(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(wme,Ime,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Xa)}})),AC}function Ey(t,e){return NC.apply(this,arguments)}function NC(){return(NC=p(function*(t,e){const n=hl(t),i=(yield xC()).transaction(Xa,"readwrite"),s=i.objectStore(Xa),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&jH(t,e.fid),e})).apply(this,arguments)}function OC(t){return MC.apply(this,arguments)}function MC(){return(MC=p(function*(t){const e=hl(t),r=(yield xC()).transaction(Xa,"readwrite");yield r.objectStore(Xa).delete(e),yield r.done})).apply(this,arguments)}function Af(t,e){return RC.apply(this,arguments)}function RC(){return(RC=p(function*(t,e){const n=hl(t),i=(yield xC()).transaction(Xa,"readwrite"),s=i.objectStore(Xa),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&jH(t,a.fid),a})).apply(this,arguments)}function kC(t){return PC.apply(this,arguments)}function PC(){return PC=p(function*(t){let e;const n=yield Af(t.appConfig,r=>{const i=function Tme(t){return WH(t||{fid:mme(),registrationStatus:0})}(r),s=function Eme(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ws.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Dme(t,e){return FC.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Cme(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===SC?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),PC.apply(this,arguments)}function FC(){return FC=p(function*(t,e){try{const n=yield function fme(t,e){return CC.apply(this,arguments)}(t,e);return Ey(t.appConfig,n)}catch(n){throw FH(n)&&409===n.customData.serverCode?yield OC(t.appConfig):yield Ey(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),FC.apply(this,arguments)}function Cme(t){return LC.apply(this,arguments)}function LC(){return(LC=p(function*(t){let e=yield zH(t.appConfig);for(;1===e.registrationStatus;)yield UH(100),e=yield zH(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield kC(t);return r||n}return e})).apply(this,arguments)}function zH(t){return Af(t,e=>{if(!e)throw Ws.create("installation-not-found");return WH(e)})}function WH(t){return function Sme(t){return 1===t.registrationStatus&&t.registrationTime+RH<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function VC(){return(VC=p(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function xme(t,{fid:e}){return`${wC(t)}/${e}/authTokens:generate`}(t,n),i=function BH(t,{refreshToken:e}){const n=VH(t);return n.append("Authorization",function hme(t){return`${PH} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const u=yield s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:kH,appId:t.appId}})},c=yield EC(()=>fetch(r,a));if(c.ok)return LH(yield c.json());throw yield IC("Generate Auth Token",c)})).apply(this,arguments)}function BC(t){return UC.apply(this,arguments)}function UC(){return UC=p(function*(t,e=!1){let n;const r=yield Af(t.appConfig,s=>{if(!KH(s))throw Ws.create("not-registered");const o=s.authToken;if(!e&&function Mme(t){return 2===t.requestStatus&&!function Rme(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+ame}(t)}(o))return s;if(1===o.requestStatus)return n=function Nme(t,e){return jC.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Ws.create("app-offline");const a=function kme(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Ome(t,e){return $C.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),UC.apply(this,arguments)}function jC(){return(jC=p(function*(t,e){let n=yield qH(t.appConfig);for(;1===n.authToken.requestStatus;)yield UH(100),n=yield qH(t.appConfig);const r=n.authToken;return 0===r.requestStatus?BC(t,e):r})).apply(this,arguments)}function qH(t){return Af(t,e=>{if(!KH(e))throw Ws.create("not-registered");return function Pme(t){return 1===t.requestStatus&&t.requestTime+RH<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function $C(){return $C=p(function*(t,e){try{const n=yield function Ame(t,e){return VC.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Ey(t.appConfig,r),n}catch(n){if(!FH(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Ey(t.appConfig,r)}else yield OC(t.appConfig);throw n}}),$C.apply(this,arguments)}function KH(t){return void 0!==t&&2===t.registrationStatus}function HC(){return(HC=p(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield kC(e);return r?r.catch(console.error):BC(e).catch(console.error),n.fid})).apply(this,arguments)}function GC(){return GC=p(function*(t,e=!1){const n=t;return yield function Vme(t){return zC.apply(this,arguments)}(n),(yield BC(n,e)).token}),GC.apply(this,arguments)}function zC(){return(zC=p(function*(t){const{registrationPromise:e}=yield kC(t);e&&(yield e)})).apply(this,arguments)}function KC(t){return Ws.create("missing-app-config-values",{valueName:t})}const YH="installations",Hme=t=>{const e=t.getProvider("app").getImmediate(),n=function jme(t){if(!t||!t.options)throw KC("App Configuration");if(!t.name)throw KC("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw KC(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Ty(e,"heartbeat"),_delete:()=>Promise.resolve()}},Gme=t=>{const n=Ty(t.getProvider("app").getImmediate(),YH).getImmediate();return{getId:()=>function Fme(t){return HC.apply(this,arguments)}(n),getToken:i=>function Lme(t){return GC.apply(this,arguments)}(n,i)}};(function zme(){dr(new Qn(YH,Hme,"PUBLIC")),dr(new Qn("installations-internal",Gme,"PRIVATE"))})(),Gt(MH,bC),Gt(MH,bC,"esm2017");const YC="@firebase/remote-config",Ar=new ss("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class n_e{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return p(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function r_e(t=navigator){return t.languages&&t.languages[0]||t.language}class i_e{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return p(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:r_e()},u={method:"POST",headers:a,body:JSON.stringify(c)},l=fetch(o,u),d=new Promise((I,b)=>{e.signal.addEventListener(()=>{const x=new Error("The operation was aborted.");x.name="AbortError",b(x)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(I){let b="fetch-client-network";throw"AbortError"===I?.name&&(b="fetch-timeout"),Ar.create(b,{originalErrorMessage:I?.message})}let f=h.status;const g=h.headers.get("ETag")||void 0;let m,_;if(200===h.status){let I;try{I=yield h.json()}catch(b){throw Ar.create("fetch-client-parse",{originalErrorMessage:b?.message})}m=I.entries,_=I.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(m={}),304!==f&&200!==f)throw Ar.create("fetch-status",{httpStatus:f});return{status:f,eTag:g,config:m}})()}}class a_e{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return p(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return p(function*(){yield function s_e(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Ar.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function o_e(t){if(!(t instanceof Mi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+cC(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class l_e{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Cy(t,e){const n=t.target.error||void 0;return Ar.create(e,{originalErrorMessage:n&&n?.message})}const ec="app_namespace_store";class p_e{constructor(e,n,r,i=function f_e(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Cy(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ec,{keyPath:"compositeKey"})}}catch(n){e(Ar.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return p(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ec],"readonly").objectStore(ec),c=n.createCompositeKey(e);try{const u=a.get(c);u.onerror=l=>{s(Cy(l,"storage-get"))},u.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(u){s(Ar.create("storage-get",{originalErrorMessage:u?.message}))}})})()}set(e,n){var r=this;return p(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const c=i.transaction([ec],"readwrite").objectStore(ec),u=r.createCompositeKey(e);try{const l=c.put({compositeKey:u,value:n});l.onerror=d=>{o(Cy(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Ar.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return p(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ec],"readwrite").objectStore(ec),c=n.createCompositeKey(e);try{const u=a.delete(c);u.onerror=l=>{s(Cy(l,"storage-delete"))},u.onsuccess=()=>{i()}}catch(u){s(Ar.create("storage-delete",{originalErrorMessage:u?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class g_e{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return p(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function __e(){return eS.apply(this,arguments)}function eS(){return(eS=p(function*(){if(!Ka())return!1;try{return yield Df()}catch{return!1}})).apply(this,arguments)}!function m_e(){dr(new Qn("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ar.create("registration-window");if(!Ka())throw Ar.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Ar.create("registration-project-id");if(!o)throw Ar.create("registration-api-key");if(!a)throw Ar.create("registration-app-id");const c=new p_e(a,r.name,n=n||"firebase"),u=new g_e(c),l=new ko(YC);l.logLevel=xe.ERROR;const d=new i_e(i,Cf,n,s,o,a),h=new a_e(d,c),f=new n_e(h,c,u,l),g=new l_e(r,f,u,c,l);return function Xme(t){const e=lr(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(g),g},"PUBLIC").setMultipleInstances(!0)),Gt(YC,"0.4.4"),Gt(YC,"0.4.4","esm2017")}();const y_e=(t,e)=>e.some(n=>t instanceof n);let XH,eG;const tG=new WeakMap,tS=new WeakMap,nG=new WeakMap,nS=new WeakMap,rS=new WeakMap;let iS={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return tS.get(t);if("objectStoreNames"===e)return t.objectStoreNames||nG.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function D_e(t){return"function"==typeof t?function E_e(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function b_e(){return eG||(eG=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(sS(this),e),qs(tG.get(this))}:function(...e){return qs(t.apply(sS(this),e))}:function(e,...n){const r=t.call(sS(this),e,...n);return nG.set(r,e.sort?e.sort():[e]),qs(r)}}(t):(t instanceof IDBTransaction&&function I_e(t){if(tS.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});tS.set(t,e)}(t),y_e(t,function v_e(){return XH||(XH=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,iS):t)}function qs(t){if(t instanceof IDBRequest)return function w_e(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(qs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&tG.set(n,t)}).catch(()=>{}),rS.set(e,t),e}(t);if(nS.has(t))return nS.get(t);const e=D_e(t);return e!==t&&(nS.set(t,e),rS.set(e,t)),e}const sS=t=>rS.get(t);function rG(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=qs(o);return r&&o.addEventListener("upgradeneeded",c=>{r(qs(o.result),c.oldVersion,c.newVersion,qs(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function oS(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),qs(n).then(()=>{})}const C_e=["get","getKey","getAll","getAllKeys","count"],S_e=["put","add","delete","clear"],aS=new Map;function iG(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(aS.get(e))return aS.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=S_e.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!C_e.includes(n))return;const s=function(){var o=p(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return o.apply(this,arguments)}}();return aS.set(e,s),s}!function T_e(t){iS=t(iS)}(t=>({...t,get:(e,n,r)=>iG(e,n)||t.get(e,n,r),has:(e,n)=>!!iG(e,n)||t.has(e,n)}));const A_e="/firebase-messaging-sw.js",x_e="/firebase-cloud-messaging-push-scope",sG="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",N_e="https://fcmregistrations.googleapis.com/v1",oG="google.c.a.c_id",O_e="google.c.a.c_l",M_e="google.c.a.ts";var Sy=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Sy||{});function Ks(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function P_e(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const cS="fcm_token_details_db",F_e=5,aG="fcm_token_object_Store";function uS(){return uS=p(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(cS))return null;let e=null;return(yield rG(cS,F_e,{upgrade:(r=p(function*(i,s,o,a){var c;if(s<2||!i.objectStoreNames.contains(aG))return;const u=a.objectStore(aG),l=yield u.index("fcmSenderId").get(t);if(yield u.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Ks(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ks(d.auth),p256dh:Ks(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ks(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ks(d.auth),p256dh:Ks(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ks(d.vapidKey)}}}}),function(s,o,a,c){return r.apply(this,arguments)})})).close(),yield oS(cS),yield oS("fcm_vapid_details_db"),yield oS("undefined"),function V_e(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),uS.apply(this,arguments)}const B_e="firebase-messaging-database",U_e=1,tc="firebase-messaging-store";let lS=null;function dS(){return lS||(lS=rG(B_e,U_e,{upgrade:(t,e)=>{0===e&&t.createObjectStore(tc)}})),lS}function cG(t){return hS.apply(this,arguments)}function hS(){return hS=p(function*(t){const e=mS(t),r=yield(yield dS()).transaction(tc).objectStore(tc).get(e);if(r)return r;{const i=yield function L_e(t){return uS.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield fS(t,i),i}}),hS.apply(this,arguments)}function fS(t,e){return pS.apply(this,arguments)}function pS(){return(pS=p(function*(t,e){const n=mS(t),i=(yield dS()).transaction(tc,"readwrite");return yield i.objectStore(tc).put(e,n),yield i.done,e})).apply(this,arguments)}function gS(){return(gS=p(function*(t){const e=mS(t),r=(yield dS()).transaction(tc,"readwrite");yield r.objectStore(tc).delete(e),yield r.done})).apply(this,arguments)}function mS({appConfig:t}){return t.appId}const Ln=new ss("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function H_e(t,e){return _S.apply(this,arguments)}function _S(){return(_S=p(function*(t,e){const n=yield wS(t),r=lG(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(bS(t.appConfig),i)).json()}catch(o){throw Ln.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Ln.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Ln.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function yS(){return(yS=p(function*(t,e){const n=yield wS(t),r=lG(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${bS(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Ln.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Ln.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Ln.create("token-update-no-token");return s.token})).apply(this,arguments)}function uG(t,e){return vS.apply(this,arguments)}function vS(){return(vS=p(function*(t,e){const r={method:"DELETE",headers:yield wS(t)};try{const s=yield(yield fetch(`${bS(t.appConfig)}/${e}`,r)).json();if(s.error)throw Ln.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Ln.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function bS({projectId:t}){return`${N_e}/projects/${t}/registrations`}function wS(t){return IS.apply(this,arguments)}function IS(){return(IS=p(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function lG({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==sG&&(i.web.applicationPubKey=r),i}const z_e=6048e5;function TS(){return TS=p(function*(t){const e=yield function K_e(t,e){return SS.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Ks(e.getKey("auth")),p256dh:Ks(e.getKey("p256dh"))},r=yield cG(t.firebaseDependencies);if(r){if(function Y_e(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+z_e?function q_e(t,e){return DS.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield uG(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return hG(t.firebaseDependencies,n)}return hG(t.firebaseDependencies,n)}),TS.apply(this,arguments)}function ES(){return ES=p(function*(t){const e=yield cG(t.firebaseDependencies);e&&(yield uG(t.firebaseDependencies,e.token),yield function j_e(t){return gS.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),ES.apply(this,arguments)}function DS(){return DS=p(function*(t,e){try{const n=yield function G_e(t,e){return yS.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield fS(t.firebaseDependencies,r),n}catch(n){throw yield function dG(t){return ES.apply(this,arguments)}(t),n}}),DS.apply(this,arguments)}function hG(t,e){return CS.apply(this,arguments)}function CS(){return(CS=p(function*(t,e){const r={token:yield H_e(t,e),createTime:Date.now(),subscriptionOptions:e};return yield fS(t,r),r.token})).apply(this,arguments)}function SS(){return(SS=p(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:P_e(e)})})).apply(this,arguments)}function fG(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function Q_e(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function J_e(t,e){e.data&&(t.data=e.data)}(e,t),function Z_e(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const c=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}(e,t),e}function pG(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function AS(t){return Ln.create("missing-app-config-values",{valueName:t})}pG("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),pG("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class tye{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function eye(t){if(!t||!t.options)throw AS("App Configuration Object");if(!t.name)throw AS("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw AS(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function xS(){return(xS=p(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(A_e,{scope:x_e}),t.swRegistration.update().catch(()=>{})}catch(e){throw Ln.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function NS(){return(NS=p(function*(t,e){if(!e&&!t.swRegistration&&(yield function gG(t){return xS.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Ln.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function OS(){return(OS=p(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=sG)})).apply(this,arguments)}function MS(){return MS=p(function*(t,e){if(!navigator)throw Ln.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ln.create("permission-blocked");return yield function rye(t,e){return OS.apply(this,arguments)}(t,e?.vapidKey),yield function nye(t,e){return NS.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function W_e(t){return TS.apply(this,arguments)}(t)}),MS.apply(this,arguments)}function RS(){return(RS=p(function*(t,e,n){const r=function sye(t){switch(t){case Sy.NOTIFICATION_CLICKED:return"notification_open";case Sy.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[oG],message_name:n[O_e],message_time:n[M_e],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function kS(){return kS=p(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Sy.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(fG(n)):t.onMessageHandler.next(fG(n)));const r=n.data;(function X_e(t){return"object"==typeof t&&!!t&&oG in t})(r)&&"1"===r["google.c.a.e"]&&(yield function iye(t,e,n){return RS.apply(this,arguments)}(t,n.messageType,r))}),kS.apply(this,arguments)}const _G="@firebase/messaging",aye=t=>{const e=new tye(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function oye(t,e){return kS.apply(this,arguments)}(e,n)),e},cye=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function mG(t,e){return MS.apply(this,arguments)}(e,r)}};function vG(){return PS.apply(this,arguments)}function PS(){return(PS=p(function*(){try{yield Df()}catch{return!1}return typeof window<"u"&&Ka()&&iC()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function uye(){dr(new Qn("messaging",aye,"PUBLIC")),dr(new Qn("messaging-internal",cye,"PRIVATE")),Gt(_G,"0.12.4"),Gt(_G,"0.12.4","esm2017")}();const Ay="analytics",hye="firebase_id",fye="origin",pye=6e4,gye="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",VS="https://www.googletagmanager.com/gtag/js",wn=new ko("@firebase/analytics"),hr=new ss("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function _ye(t){if(!t.startsWith(VS)){const e=hr.create("invalid-gtag-resource",{gtagURL:t});return wn.warn(e.message),""}return t}function bG(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function BS(){return(BS=p(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const c=(yield bG(n)).find(u=>u.measurementId===i);c&&(yield e[c.appId])}}catch(a){wn.error(a)}t("config",i,s)})).apply(this,arguments)}function US(){return(US=p(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield bG(n);for(const c of o){const u=a.find(d=>d.measurementId===c),l=u&&e[u.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){wn.error(s)}})).apply(this,arguments)}const Cye=30,wG=new class Aye{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function xye(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function jS(){return(jS=p(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:xye(r)},s=gye.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const c=yield o.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw hr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function $S(){return($S=p(function*(t,e=wG,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw hr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw hr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new kye;return setTimeout(p(function*(){a.abort()}),void 0!==n?n:pye),IG({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function IG(t,e,n){return HS.apply(this,arguments)}function HS(){return HS=p(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=wG){var s;const{appId:o,measurementId:a}=t;try{yield function Mye(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(hr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw c}try{const c=yield function Nye(t){return jS.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),c}catch(c){const u=c;if(!function Rye(t){if(!(t instanceof Mi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u)){if(i.deleteThrottleMetadata(o),a)return wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw c}const l=503===Number(null===(s=u?.customData)||void 0===s?void 0:s.httpStatus)?cC(n,i.intervalMillis,Cye):cC(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),wn.debug(`Calling attemptFetch again in ${l} millis`),IG(t,d,r,i)}}),HS.apply(this,arguments)}class kye{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let GS,JS;function zS(){return(zS=p(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function ZS(){return(ZS=p(function*(){if(!Ka())return wn.warn(hr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Df()}catch(t){return wn.warn(hr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function XS(){return XS=p(function*(t,e,n,r,i,s,o){var a;const c=function Oye(t){return $S.apply(this,arguments)}(t);c.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&wn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>wn.error(f)),e.push(c);const u=function jye(){return ZS.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([c,u]);(function Dye(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(VS)&&n.src.includes(t))return n;return null})(s)||function vye(t,e){const n=function yye(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:_ye}),r=document.createElement("script"),i=`${VS}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),JS&&(i("consent","default",JS),function TG(t){JS=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[fye]="firebase",h.update=!0,null!=d&&(h[hye]=d),i("config",l.measurementId,h),GS&&(i("set",GS),function EG(t){GS=t}(void 0)),l.measurementId}),XS.apply(this,arguments)}class Hye{constructor(e){this.app=e}_delete(){return delete os[this.app.options.appId],Promise.resolve()}}let os={},DG=[];const CG={};let AG,as,xy="dataLayer",eA=!1;function zye(t,e,n){!function Gye(){const t=[];if(rC()&&t.push("This is a browser extension environment."),iC()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=hr.create("invalid-analytics-context",{errorInfo:e});wn.warn(n.message)}}();const r=t.options.appId;if(!r)throw hr.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw hr.create("no-api-key");wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=os[r])throw hr.create("already-exists",{id:r});if(!eA){!function bye(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(xy);const{wrappedGtag:s,gtagCore:o}=function Eye(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Tye(t,e,n,r){function s(){return s=p(function*(o,...a){try{if("event"===o){const[c,u]=a;yield function Iye(t,e,n,r,i){return US.apply(this,arguments)}(t,e,n,c,u)}else if("config"===o){const[c,u]=a;yield function wye(t,e,n,r,i,s){return BS.apply(this,arguments)}(t,e,n,r,c,u)}else if("consent"===o){const[c]=a;t("consent","update",c)}else if("get"===o){const[c,u,l]=a;t("get",c,u,l)}else if("set"===o){const[c]=a;t("set",c)}else t(o,...a)}catch(c){wn.error(c)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(os,DG,CG,xy,"gtag");as=s,AG=o,eA=!0}return os[r]=function $ye(t,e,n,r,i,s,o){return XS.apply(this,arguments)}(t,DG,CG,e,AG,xy,n),new Hye(t)}function qye(){return tA.apply(this,arguments)}function tA(){return(tA=p(function*(){if(rC()||!iC()||!Ka())return!1;try{return yield Df()}catch{return!1}})).apply(this,arguments)}const xG="@firebase/analytics";!function Yye(){dr(new Qn(Ay,(e,{options:n})=>zye(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),dr(new Qn("analytics-internal",function t(e){try{const n=e.getProvider(Ay).getImmediate();return{logEvent:(r,i,s)=>function Kye(t,e,n,r){t=lr(t),function Pye(t,e,n,r,i){return zS.apply(this,arguments)}(as,os[t.app.options.appId],e,n,r).catch(i=>wn.error(i))}(n,r,i,s)}}catch(n){throw hr.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Gt(xG,"0.10.0"),Gt(xG,"0.10.0","esm2017")}();class Qye extends Pt{constructor(e,n){super()}schedule(e,n=0){return this}}const Ny={setInterval(t,e,...n){const{delegate:r}=Ny;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Ny;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class OG extends Qye{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Ny.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Ny.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,uo(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const rA={now:()=>(rA.delegate||Date).now(),delegate:void 0};class xf{constructor(e,n=xf.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}xf.now=rA.now;class MG extends xf{constructor(e,n=xf.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Xye=new class Zye extends MG{}(class Jye extends OG{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),iA=new MG(OG),eve=iA,sA=new Au("7.6.1"),oA="__angularfire_symbol__analyticsIsSupportedValue",aA="__angularfire_symbol__analyticsIsSupported",cA="__angularfire_symbol__remoteConfigIsSupportedValue",uA="__angularfire_symbol__remoteConfigIsSupported",lA="__angularfire_symbol__messagingIsSupportedValue",dA="__angularfire_symbol__messagingIsSupported";globalThis[aA]||(globalThis[aA]=qye().then(t=>globalThis[oA]=t).catch(()=>globalThis[oA]=!1)),globalThis[dA]||(globalThis[dA]=vG().then(t=>globalThis[lA]=t).catch(()=>globalThis[lA]=!1)),globalThis[uA]||(globalThis[uA]=__e().then(t=>globalThis[cA]=t).catch(()=>globalThis[cA]=!1));const pA=(t,e)=>{const n=e?[e]:wH(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function pl(){}class RG{constructor(e,n=Xye){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class tve{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pl,{},pl,pl)),n.pipe(cn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let kG=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new RG(Zone.current)),this.insideAngular=n.run(()=>new RG(Zone.current,iA)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(q(Ee))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function nc(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function rc(t){return nc().ngZone.run(()=>t())}function rve(t){return nc(),function ive(t){return function(n){return(n=n.lift(new tve(t.ngZone))).pipe(Ig(t.outsideAngular),wg(t.insideAngular))}}(nc())(t)}const sve=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),rc(()=>t.apply(void 0,r))},hi=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=rc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pl,{},pl,pl)))),r[s]=sve(r[s],n));const i=function nve(t){return nc().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Be){const s=nc();return i.pipe(Ig(s.outsideAngular),wg(s.insideAngular))}return rc(()=>i)}return i instanceof Be?i.pipe(rve):i instanceof Promise?rc(()=>new Promise((s,o)=>i.then(a=>rc(()=>s(a)),a=>rc(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:rc(()=>i)};class gl{constructor(e){return e}}class PG{constructor(){return wH()}}const gA=new te("angularfire2._apps"),ave={provide:gl,useFactory:function ove(t){return t&&1===t.length?t[0]:new gl(bH())},deps:[[new Ir,gA]]},cve={provide:PG,deps:[[new Ir,gA]]};function uve(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new gl(r)}}let lve=(()=>{class t{constructor(n){Gt("angularfire",sA.full,"core"),Gt("angularfire",sA.full,"app"),Gt("angular",qw.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(q(Ns))},t.\u0275mod=Te({type:t}),t.\u0275inj=we({providers:[ave,cve]}),t})();function dve(t,...e){return{ngModule:lve,providers:[{provide:gA,useFactory:uve(t),multi:!0,deps:[Ee,Qt,kG,...e]}]}}const hve=hi(vH,!0);const fve=function FG(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},LG=new ss("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Oy=new ko("@firebase/auth");function My(t,...e){Oy.logLevel<=xe.ERROR&&Oy.error(`Auth (${Cf}): ${t}`,...e)}function xr(t,...e){throw mA(t,...e)}function cs(t,...e){return mA(t,...e)}function mA(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return LG.create(t,...e)}function W(t,e,...n){if(!t)throw mA(e,...n)}function us(t){const e="INTERNAL ASSERTION FAILED: "+t;throw My(e),new Error(e)}function Uo(t,e){t||us(e)}function BG(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Of{constructor(e,n){this.shortDelay=e,this.longDelay=n,Uo(n>e,"Short delay should be less than long delay!"),this.isMobile=function Hpe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qr())}()||function zpe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function gve(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function _A(){return"http:"===BG()||"https:"===BG()}()||rC()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class UG{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _ve={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},yve=new Of(3e4,6e4);function Ot(t,e,n,r){return vA.apply(this,arguments)}function vA(){return(vA=p(function*(t,e,n,r,i={}){return jG(t,i,p(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=_H(Object.assign({key:t.config.apiKey},o)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),UG.fetch()($G(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function jG(t,e,n){return bA.apply(this,arguments)}function bA(){return(bA=p(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},_ve),e);try{const i=new vve(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Mf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Mf(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw Mf(t,"email-already-in-use",o);if("USER_DISABLED"===c)throw Mf(t,"user-disabled",o);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw function VG(t,e,n){const r=Object.assign(Object.assign({},fve()),{[e]:n});return new ss("auth","Firebase",r).create(e,{appName:t.name})}(t,l,u);xr(t,l)}}catch(i){if(i instanceof Mi)throw i;xr(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function $G(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function yA(t,e){Uo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class vve{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cs(this.auth,"network-request-failed")),yve.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=cs(t,e,r);return i.customData._tokenResponse=n,i}function IA(){return(IA=p(function*(t,e){return Ot(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function EA(){return(EA=p(function*(t,e){return Ot(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Rf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function DA(){return(DA=p(function*(t,e=!1){const n=lr(t),r=yield n.getIdToken(e),i=Ry(r);W(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Rf(CA(i.auth_time)),issuedAtTime:Rf(CA(i.iat)),expirationTime:Rf(CA(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function CA(t){return 1e3*Number(t)}function Ry(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return My("JWT malformed, contained fewer than 3 sections"),null;try{const i=_y(n);return i?JSON.parse(i):(My("Failed to decode base64 JWT payload"),null)}catch(i){return My("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Qs(t,e){return SA.apply(this,arguments)}function SA(){return(SA=p(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Mi&&function Dve({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Cve{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(p(function*(){yield n.iteration()}),r)}iteration(){var e=this;return p(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class HG{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rf(this.lastLoginAt),this.creationTime=Rf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function kf(t){return AA.apply(this,arguments)}function AA(){return AA=p(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Qs(t,function Ive(t,e){return EA.apply(this,arguments)}(n,{idToken:r}));W(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function xve(t){return t.map(e=>{var{providerId:n}=e,r=Yc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Ave(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new HG(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),AA.apply(this,arguments)}function xA(){return(xA=p(function*(t){const e=lr(t);yield kf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function NA(){return(NA=p(function*(t,e){const n=yield jG(t,{},p(function*(){const r=_H({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=$G(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",UG.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Pf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Eve(t){const e=Ry(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return p(function*(){return W(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return p(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Nve(t,e){return NA.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Pf;return r&&(W("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(W("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(W("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pf,this.toJSON())}_performRefresh(){return us("not implemented")}}function jo(t,e){W("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class ic{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Yc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Cve(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new HG(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return p(function*(){const r=yield Qs(n,n.stsTokenManager.getToken(n.auth,e));return W(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Tve(t){return DA.apply(this,arguments)}(this,e)}reload(){return function Sve(t){return xA.apply(this,arguments)}(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ic(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return p(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield kf(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return p(function*(){const n=yield e.getIdToken();return yield Qs(e,function bve(t,e){return IA.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,g=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,I=null!==(u=n.createdAt)&&void 0!==u?u:void 0,b=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:x,emailVerified:R,isAnonymous:U,providerData:Y,stsTokenManager:oe}=n;W(x&&oe,e,"internal-error");const me=Pf.fromJSON(this.name,oe);W("string"==typeof x,e,"internal-error"),jo(d,e.name),jo(h,e.name),W("boolean"==typeof R,e,"internal-error"),W("boolean"==typeof U,e,"internal-error"),jo(f,e.name),jo(g,e.name),jo(m,e.name),jo(_,e.name),jo(I,e.name),jo(b,e.name);const Ve=new ic({uid:x,auth:e,email:h,emailVerified:R,displayName:d,isAnonymous:U,photoURL:g,phoneNumber:f,tenantId:m,stsTokenManager:me,createdAt:I,lastLoginAt:b});return Y&&Array.isArray(Y)&&(Ve.providerData=Y.map(_t=>Object.assign({},_t))),_&&(Ve._redirectEventId=_),Ve}static _fromIdTokenResponse(e,n,r=!1){return p(function*(){const i=new Pf;i.updateFromServerResponse(n);const s=new ic({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield kf(s),s})()}}const GG=new Map;function Js(t){Uo(t instanceof Function,"Expected a class definition");let e=GG.get(t);return e?(Uo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,GG.set(t,e),e)}const zG=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(function*(){return!0})()}_set(n,r){var i=this;return p(function*(){i.storage[n]=r})()}_get(n){var r=this;return p(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return p(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function ky(t,e,n){return`firebase:${t}:${e}:${n}`}class _l{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ky(this.userKey,i.apiKey,s),this.fullPersistenceKey=ky("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return p(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?ic._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return p(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(function*(){if(!n.length)return new _l(Js(zG),e,r);const i=(yield Promise.all(n.map(function(){var u=p(function*(l){if(yield l._isAvailable())return l});return function(l){return u.apply(this,arguments)}}()))).filter(u=>u);let s=i[0]||Js(zG);const o=ky(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const l=yield u._get(o);if(l){const d=ic._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var u=p(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return u.apply(this,arguments)}}())),new _l(s,e,r)):new _l(s,e,r)})()}}function WG(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function YG(t=qr()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function qG(t=qr()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function JG(t=qr()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function ZG(t=qr()){return/webos/i.test(t)}(e))return"Webos";if(function OA(t=qr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function KG(t=qr()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function QG(t=qr()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function XG(t,e=[]){let n;switch(t){case"Browser":n=WG(qr());break;case"Worker":n=`${WG(qr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cf}/${r}`}function e5(t,e){return RA.apply(this,arguments)}function RA(){return(RA=p(function*(t,e){return Ot(t,"GET","/v2/recaptchaConfig",function St(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}function n5(t){return void 0!==t&&void 0!==t.enterprise}class r5{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class s5{constructor(e){this.type="recaptcha-enterprise",this.auth=In(e)}verify(e="verify",n=!1){var r=this;return p(function*(){function s(){return s=p(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=p(function*(u,l){e5(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new r5(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,u(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(u,l){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,u){const l=window.grecaptcha;n5(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(u=>{if(!n&&n5(window.grecaptcha))o(u,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));(function kA(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=cs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function kve(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+u).then(()=>{o(u,a,c)}).catch(l=>{c(l)})}}).catch(u=>{c(u)})})})()}}class Vve{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return p(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Bve{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new o5(this),this.idTokenSubscription=new o5(this),this.beforeStateQueue=new Vve(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LG,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Js(n)),this._initializationPromise=this.queue(p(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield _l.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return p(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return p(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,u=yield n.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(s=u.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return W(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return p(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return p(function*(){try{yield kf(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function mve(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return p(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return p(function*(){const r=e?lr(e):null;return r&&W(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return p(function*(){if(!r._deleted)return e&&W(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(p(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return p(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(p(function*(){yield n.assertedPersistence.setPersistence(Js(e))}))}initializeRecaptchaConfig(){var e=this;return p(function*(){const n=yield e5(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new r5(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new s5(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ss("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return p(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return p(function*(){if(!n.redirectPersistenceManager){const r=e&&Js(e)||n._popupRedirectResolver;W(r,n,"argument-error"),n.redirectPersistenceManager=yield _l.create(n,[Js(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return p(function*(){var r,i;return n._isInitialized&&(yield n.queue(p(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return p(function*(){if(e===n.currentUser)return n.queue(p(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return W(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return p(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XG(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return p(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return p(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function pve(t,...e){Oy.logLevel<=xe.WARN&&Oy.warn(`Auth (${Cf}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function In(t){return lr(t)}class o5{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Ype(t,e){const n=new Qpe(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function i5(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new Of(3e4,6e4),new Of(2e3,1e4),new Of(3e4,6e4),new Of(5e3,15e3),encodeURIComponent("fac");var P5="@firebase/auth";class Obe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return p(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}yy(),function Rbe(t){dr(new Qn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;W(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XG(t)},u=new Bve(r,i,s,c);return function jve(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Js);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),dr(new Qn("auth-internal",e=>{const n=In(e.getProvider("auth").getImmediate());return new Obe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gt(P5,"0.23.2",function Mbe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Gt(P5,"0.23.2","esm2017")}("Browser");class B5{constructor(){return pA("auth")}}const IN=new Map,U5={activated:!1,tokenObservers:[]},Ube={initialized:!1,enabled:!1};function Mt(t){return IN.get(t)||Object.assign({},U5)}function qy(){return Ube}const TN="https://content-firebaseappcheck.googleapis.com/v1",Gbe="exchangeDebugToken",j5={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Wbe{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return p(function*(){n.stop();try{n.pending=new vy,yield function qbe(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new vy,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Vn=new ss("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function EN(t){if(!Mt(t).activated)throw Vn.create("use-before-activation",{appName:t.name})}function Qy(t,e){return CN.apply(this,arguments)}function CN(){return CN=p(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Vn.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Vn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Vn.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw Vn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=1e3*Number(c[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+u,issuedAtTimeMillis:l}}),CN.apply(this,arguments)}function $5(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${TN}/projects/${n}/apps/${r}:${Gbe}?key=${i}`,body:{debug_token:e}}}const Jbe="firebase-app-check-database",Zbe=1,Uf="firebase-app-check-store";let Jy=null;function SN(){return SN=p(function*(t,e){const r=(yield function G5(){return Jy||(Jy=new Promise((t,e)=>{try{const n=indexedDB.open(Jbe,Zbe);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Vn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Uf,{keyPath:"compositeKey"})}}catch(n){e(Vn.create("storage-open",{originalErrorMessage:n?.message}))}}),Jy)}()).transaction(Uf,"readwrite"),s=r.objectStore(Uf).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var u;a(Vn.create("storage-set",{originalErrorMessage:null===(u=c.target.error)||void 0===u?void 0:u.message}))}})}),SN.apply(this,arguments)}const jf=new ko("@firebase/app-check");function NN(t,e){return Ka()?function ewe(t,e){return function z5(t,e){return SN.apply(this,arguments)}(function q5(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{jf.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function MN(){return qy().enabled}function RN(){return kN.apply(this,arguments)}function kN(){return kN=p(function*(){const t=qy();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),kN.apply(this,arguments)}const owe={error:"UNKNOWN_ERROR"};function awe(t){return nC.encodeString(JSON.stringify(t),!1)}function Zy(t){return PN.apply(this,arguments)}function PN(){return PN=p(function*(t,e=!1){const n=t.app;EN(n);const r=Mt(n);let s,i=r.token;if(i&&!vl(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(vl(c)?i=c:yield NN(n,void 0))}if(!e&&i&&vl(i))return{token:i.token};let a,o=!1;if(MN()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Qy($5(n,yield RN()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const c=yield r.exchangeTokenPromise;return yield NN(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Mt(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?jf.warn(c.message):jf.error(c),s=c}return i?s?a=vl(i)?{token:i.token,internalError:s}:J5(s):(a={token:i.token},r.token=i,yield NN(n,i)):a=J5(s),o&&function Q5(t,e){const n=Mt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),PN.apply(this,arguments)}function FN(){return FN=p(function*(t){const e=t.app;EN(e);const{provider:n}=Mt(e);if(MN()){const r=yield RN(),{token:i}=yield Qy($5(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),FN.apply(this,arguments)}function VN(t,e){const n=Mt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Y5(t){const{app:e}=t,n=Mt(e);let r=n.tokenRefresher;r||(r=function cwe(t){const{app:e}=t;return new Wbe(p(function*(){let r;if(r=Mt(e).token?yield Zy(t,!0):yield Zy(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Mt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},j5.RETRIAL_MIN_WAIT,j5.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function vl(t){return t.expireTimeMillis-Date.now()>0}function J5(t){return{token:awe(owe),error:t}}class uwe{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Mt(this.app);for(const n of e)VN(this.app,n.next);return Promise.resolve()}}const sz="app-check-internal";!function Twe(){dr(new Qn("app-check",t=>function lwe(t,e){return new uwe(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(sz).initialize()})),dr(new Qn(sz,t=>function dwe(t){return{getToken:e=>Zy(t,e),getLimitedUseToken:()=>function K5(t){return FN.apply(this,arguments)}(t),addTokenListener:e=>function LN(t,e,n,r){const{app:i}=t,s=Mt(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&vl(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),Y5(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Y5(t))}(t,"INTERNAL",e),removeTokenListener:e=>VN(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Gt("@firebase/app-check","0.8.0")}();class az{constructor(){return pA("app-check")}}typeof window<"u"&&window;var X,Awe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ri={},HN=HN||{},ge=Awe||self;function ev(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function $f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var GN="closure_uid_"+(1e9*Math.random()>>>0),Nwe=0;function Owe(t,e,n){return t.call.apply(t.bind,arguments)}function Mwe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Jn(t,e,n){return(Jn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Owe:Mwe).apply(null,arguments)}function tv(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Tn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ho(){this.s=this.s,this.o=this.o}Ho.prototype.s=!1,Ho.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function xwe(t){Object.prototype.hasOwnProperty.call(t,GN)&&t[GN]||(t[GN]=++Nwe)}(this)},Ho.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const cz=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function zN(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function uz(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ev(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Zn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Zn.prototype.h=function(){this.defaultPrevented=!0};var kwe=function(){if(!ge.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ge.addEventListener("test",()=>{},e),ge.removeEventListener("test",()=>{},e)}catch{}return t}();function Hf(t){return/^[\s\xa0]*$/.test(t)}function nv(){var t=ge.navigator;return t&&(t=t.userAgent)?t:""}function ls(t){return-1!=nv().indexOf(t)}function WN(t){return WN[" "](t),t}WN[" "]=function(){};var KN,Fwe=ls("Opera"),bl=ls("Trident")||ls("MSIE"),lz=ls("Edge"),qN=lz||bl,dz=ls("Gecko")&&!(-1!=nv().toLowerCase().indexOf("webkit")&&!ls("Edge"))&&!(ls("Trident")||ls("MSIE"))&&!ls("Edge"),Lwe=-1!=nv().toLowerCase().indexOf("webkit")&&!ls("Edge");function hz(){var t=ge.document;return t?t.documentMode:void 0}e:{var YN="",QN=function(){var t=nv();return dz?/rv:([^\);]+)(\)|;)/.exec(t):lz?/Edge\/([\d\.]+)/.exec(t):bl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Lwe?/WebKit\/(\S+)/.exec(t):Fwe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(QN&&(YN=QN?QN[1]:""),bl){var JN=hz();if(null!=JN&&JN>parseFloat(YN)){KN=String(JN);break e}}KN=YN}var Vwe=ge.document&&bl&&(hz()||parseInt(KN,10))||void 0;function Gf(t,e){if(Zn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(dz){e:{try{WN(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Bwe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Gf.$.h.call(this)}}Tn(Gf,Zn);var Bwe={2:"touch",3:"pen",4:"mouse"};Gf.prototype.h=function(){Gf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var zf="closure_listenable_"+(1e6*Math.random()|0),Uwe=0;function jwe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Uwe,this.fa=this.ia=!1}function rv(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function XN(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function pz(t){const e={};for(const n in t)e[n]=t[n];return e}const gz="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mz(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<gz.length;s++)n=gz[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function iv(t){this.src=t,this.g={},this.h=0}function eO(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=cz(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(rv(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function tO(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}iv.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=tO(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new jwe(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var nO="closure_lm_"+(1e6*Math.random()|0),rO={};function _z(t,e,n,r,i){if(r&&r.once)return vz(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)_z(t,e[s],n,r,i);return null}return n=aO(n),t&&t[zf]?t.O(e,n,$f(r)?!!r.capture:!!r,i):yz(t,e,n,!1,r,i)}function yz(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=$f(i)?!!i.capture:!!i,a=sO(t);if(a||(t[nO]=a=new iv(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Hwe(){const e=Gwe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)kwe||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(wz(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function vz(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)vz(t,e[s],n,r,i);return null}return n=aO(n),t&&t[zf]?t.P(e,n,$f(r)?!!r.capture:!!r,i):yz(t,e,n,!0,r,i)}function bz(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)bz(t,e[s],n,r,i);else r=$f(r)?!!r.capture:!!r,n=aO(n),t&&t[zf]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=tO(s=t.g[e],n,r,i))&&(rv(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=sO(t))&&(e=t.g[e.toString()],t=-1,e&&(t=tO(e,n,r,i)),(n=-1<t?e[t]:null)&&iO(n))}function iO(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[zf])eO(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(wz(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=sO(e))?(eO(n,t),0==n.h&&(n.src=null,e[nO]=null)):rv(t)}}}function wz(t){return t in rO?rO[t]:rO[t]="on"+t}function Gwe(t,e){if(t.fa)t=!0;else{e=new Gf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&iO(t),t=n.call(r,e)}return t}function sO(t){return(t=t[nO])instanceof iv?t:null}var oO="__closure_events_fn_"+(1e9*Math.random()>>>0);function aO(t){return"function"==typeof t?t:(t[oO]||(t[oO]=function(e){return t.handleEvent(e)}),t[oO])}function En(){Ho.call(this),this.i=new iv(this),this.S=this,this.J=null}function Bn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Zn(e,t);else if(e instanceof Zn)e.target=e.target||t;else{var i=e;mz(e=new Zn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=sv(o,r,!0,e)&&i}if(i=sv(o=e.g=t,r,!0,e)&&i,i=sv(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=sv(o=e.g=n[s],r,!1,e)&&i}function sv(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&eO(t.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Tn(En,Ho),En.prototype[zf]=!0,En.prototype.removeEventListener=function(t,e,n,r){bz(this,t,e,n,r)},En.prototype.N=function(){if(En.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)rv(n[r]);delete t.g[e],t.h--}}this.J=null},En.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},En.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var cO=ge.JSON.stringify;function Wwe(){var t=uO;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Iz=new class zwe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Kwe,t=>t.reset());class Kwe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Ywe(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Qwe(t){ge.setTimeout(()=>{throw t},0)}let Wf,qf=!1,uO=new class qwe{constructor(){this.h=this.g=null}add(e,n){const r=Iz.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},Tz=()=>{const t=ge.Promise.resolve(void 0);Wf=()=>{t.then(Jwe)}};var Jwe=()=>{for(var t;t=Wwe();){try{t.h.call(t.g)}catch(n){Qwe(n)}var e=Iz;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}qf=!1};function ov(t,e){En.call(this),this.h=t||1,this.g=e||ge,this.j=Jn(this.qb,this),this.l=Date.now()}function lO(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function dO(t,e,n){if("function"==typeof t)n&&(t=Jn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Jn(t.handleEvent,t)}return 2147483647<Number(e)?-1:ge.setTimeout(t,e||0)}function Ez(t){t.g=dO(()=>{t.g=null,t.i&&(t.i=!1,Ez(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Tn(ov,En),(X=ov.prototype).ga=!1,X.T=null,X.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Bn(this,"tick"),this.ga&&(lO(this),this.start()))}},X.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},X.N=function(){ov.$.N.call(this),lO(this),delete this.g};class Zwe extends Ho{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ez(this)}N(){super.N(),this.g&&(ge.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kf(t){Ho.call(this),this.h=t,this.g={}}Tn(Kf,Ho);var Dz=[];function Cz(t,e,n,r){Array.isArray(n)||(n&&(Dz[0]=n.toString()),n=Dz);for(var i=0;i<n.length;i++){var s=_z(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Sz(t){XN(t.g,function(e,n){this.g.hasOwnProperty(n)&&iO(e)},t),t.g={}}function av(){this.g=!0}function wl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function nIe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return cO(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Kf.prototype.N=function(){Kf.$.N.call(this),Sz(this)},Kf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},av.prototype.Ea=function(){this.g=!1},av.prototype.info=function(){};var cc={},Az=null;function cv(){return Az=Az||new En}function xz(t){Zn.call(this,cc.Ta,t)}function Yf(t){const e=cv();Bn(e,new xz(e))}function Nz(t,e){Zn.call(this,cc.STAT_EVENT,t),this.stat=e}function fr(t){const e=cv();Bn(e,new Nz(e,t))}function Oz(t,e){Zn.call(this,cc.Ua,t),this.size=e}function Qf(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ge.setTimeout(function(){t()},e)}cc.Ta="serverreachability",Tn(xz,Zn),cc.STAT_EVENT="statevent",Tn(Nz,Zn),cc.Ua="timingevent",Tn(Oz,Zn);var uv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Mz={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function hO(){}function kz(){}hO.prototype.h=null;var gO,Jf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function fO(){Zn.call(this,"d")}function pO(){Zn.call(this,"c")}function lv(){}function Zf(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Kf(this),this.P=rIe,this.V=new ov(t=qN?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Pz}function Pz(){this.i=null,this.g="",this.h=!1}Tn(fO,Zn),Tn(pO,Zn),Tn(lv,hO),lv.prototype.g=function(){return new XMLHttpRequest},lv.prototype.i=function(){return{}},gO=new lv;var rIe=45e3,mO={},dv={};function _O(t,e,n){t.L=1,t.v=gv(Xs(e)),t.s=n,t.S=!0,Fz(t,null)}function Fz(t,e){t.G=Date.now(),Xf(t),t.A=Xs(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),Wz(n.i,"t",r),t.C=0,n=t.l.J,t.h=new Pz,t.g=m6(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Zwe(Jn(t.Pa,t,t.g),t.O)),Cz(t.U,t.g,"readystatechange",t.nb),e=t.I?pz(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Yf(),function Xwe(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function Lz(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function Vz(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=iIe(t,n),i==dv){4==e&&(t.o=4,fr(14),r=!1),wl(t.j,t.m,null,"[Incomplete Response]");break}if(i==mO){t.o=4,fr(15),wl(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}wl(t.j,t.m,i,null),yO(t,i)}Lz(t)&&i!=dv&&i!=mO&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,fr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),DO(e),e.M=!0,fr(11))):(wl(t.j,t.m,n,"[Invalid Chunked Response]"),uc(t),ep(t))}function iIe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?dv:(n=Number(e.substring(n,r)),isNaN(n)?mO:(r+=1)+n>e.length?dv:(e=e.slice(r,r+n),t.C=r+n,e))}function Xf(t){t.Y=Date.now()+t.P,Bz(t,t.P)}function Bz(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Qf(Jn(t.lb,t),e)}function hv(t){t.B&&(ge.clearTimeout(t.B),t.B=null)}function ep(t){0==t.l.H||t.J||h6(t.l,t)}function uc(t){hv(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,lO(t.V),Sz(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function yO(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||vO(n.i,t)))if(!t.K&&vO(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;wv(n),vv(n)}EO(n),fr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Qf(Jn(n.ib,n),6e3));if(1>=Yz(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else dc(n,11)}else if((t.K||n.g==t)&&wv(n),!Hf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const l=u[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=u[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||-1==g.indexOf("spdy")&&-1==g.indexOf("quic")&&-1==g.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(bO(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,ft(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=g6(r,r.J?r.pa:null,r.Y),o.K){Qz(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(hv(a),Xf(a)),r.g=o}else l6(r);0<n.j.length&&bv(n)}else"stop"!=u[0]&&"close"!=u[0]||dc(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?dc(n,7):TO(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}Yf()}catch{}}function Uz(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ev(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function oIe(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ev(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function sIe(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(ev(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(X=Zf.prototype).setTimeout=function(t){this.P=t},X.nb=function(t){t=t.target;const e=this.M;e&&3==ds(t)?e.l():this.Pa(t)},X.Pa=function(t){try{if(t==this.g)e:{const l=ds(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||qN||this.g&&(this.h.h||this.g.ja()||i6(this.g)))){this.J||4!=l||7==e||Yf(),hv(this);var n=this.g.da();this.ca=n;t:if(Lz(this)){var r=i6(this.g);t="";var i=r.length,s=4==ds(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){uc(this),ep(this);var o="";break t}this.h.i=new ge.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function eIe(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hf(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,fr(12),uc(this),ep(this);break e}wl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yO(this,n)}this.S?(Vz(this,l,o),qN&&this.i&&3==l&&(Cz(this.U,this.V,"tick",this.mb),this.V.start())):(wl(this.j,this.m,o,null),yO(this,o)),4==l&&uc(this),this.i&&!this.J&&(4==l?h6(this.l,this):(this.i=!1,Xf(this)))}else(function EIe(t){const e={};t=(t.g&&2<=ds(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Hf(t[r]))continue;var n=Ywe(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function $we(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,fr(12)):(this.o=0,fr(13)),uc(this),ep(this)}}}catch{}},X.mb=function(){if(this.g){var t=ds(this.g),e=this.g.ja();this.C<e.length&&(hv(this),Vz(this,t,e),this.i&&4!=t&&Xf(this))}},X.cancel=function(){this.J=!0,uc(this)},X.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function tIe(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Yf(),fr(17)),uc(this),this.o=2,ep(this)):Bz(this,this.Y-t)};var jz=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lc(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof lc){this.h=t.h,fv(this,t.j),this.s=t.s,this.g=t.g,pv(this,t.m),this.l=t.l;var e=t.i,n=new rp;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),$z(this,n),this.o=t.o}else t&&(e=String(t).match(jz))?(this.h=!1,fv(this,e[1]||"",!0),this.s=tp(e[2]||""),this.g=tp(e[3]||"",!0),pv(this,e[4]),this.l=tp(e[5]||"",!0),$z(this,e[6]||"",!0),this.o=tp(e[7]||"")):(this.h=!1,this.i=new rp(null,this.h))}function Xs(t){return new lc(t)}function fv(t,e,n){t.j=n?tp(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function pv(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function $z(t,e,n){e instanceof rp?(t.i=e,function fIe(t,e){e&&!t.j&&(Go(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Gz(this,r),Wz(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=np(e,dIe)),t.i=new rp(e,t.h))}function ft(t,e,n){t.i.set(e,n)}function gv(t){return ft(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function tp(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function np(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,cIe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function cIe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}lc.prototype.toString=function(){var t=[],e=this.j;e&&t.push(np(e,Hz,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(np(e,Hz,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(np(n,"/"==n.charAt(0)?lIe:uIe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",np(n,hIe)),t.join("")};var Hz=/[#\/\?@]/g,uIe=/[#\?:]/g,lIe=/[#\?]/g,dIe=/[#\?@]/g,hIe=/#/g;function rp(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Go(t){t.g||(t.g=new Map,t.h=0,t.i&&function aIe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Gz(t,e){Go(t),e=Il(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function zz(t,e){return Go(t),e=Il(t,e),t.g.has(e)}function Wz(t,e,n){Gz(t,e),0<n.length&&(t.i=null,t.g.set(Il(t,e),zN(n)),t.h+=n.length)}function Il(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function qz(t){this.l=t||gIe,t=ge.PerformanceNavigationTiming?0<(t=ge.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ge.g&&ge.g.Ka&&ge.g.Ka()&&ge.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(X=rp.prototype).add=function(t,e){Go(this),this.i=null,t=Il(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},X.forEach=function(t,e){Go(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},X.ta=function(){Go(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},X.Z=function(t){Go(this);let e=[];if("string"==typeof t)zz(this,t)&&(e=e.concat(this.g.get(Il(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},X.set=function(t,e){return Go(this),this.i=null,zz(this,t=Il(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},X.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},X.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var gIe=10;function Kz(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Yz(t){return t.h?1:t.g?t.g.size:0}function vO(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function bO(t,e){t.g?t.g.add(e):t.h=e}function Qz(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Jz(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return zN(t.i)}qz.prototype.cancel=function(){if(this.i=Jz(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var mIe=class{stringify(t){return ge.JSON.stringify(t,void 0)}parse(t){return ge.JSON.parse(t,void 0)}};function _Ie(){this.g=new mIe}function yIe(t,e,n){const r=n||"";try{Uz(t,function(i,s){let o=i;$f(i)&&(o=cO(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function mv(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ip(t){this.l=t.fc||null,this.j=t.ob||!1}function _v(t,e){En.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=wO,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Tn(ip,hO),ip.prototype.g=function(){return new _v(this.l,this.j)},ip.prototype.i=function(t){return function(){return t}}({}),Tn(_v,En);var wO=0;function Zz(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function sp(t){t.readyState=4,t.l=null,t.j=null,t.A=null,op(t)}function op(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(X=_v.prototype).open=function(t,e){if(this.readyState!=wO)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,op(this)},X.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ge).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},X.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sp(this)),this.readyState=wO},X.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,op(this)),this.g&&(this.readyState=3,op(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ge.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Zz(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},X.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?sp(this):op(this),3==this.readyState&&Zz(this)}},X.Za=function(t){this.g&&(this.response=this.responseText=t,sp(this))},X.Ya=function(t){this.g&&(this.response=t,sp(this))},X.ka=function(){this.g&&sp(this)},X.setRequestHeader=function(t,e){this.v.append(t,e)},X.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},X.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(_v.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var bIe=ge.JSON.parse;function Rt(t){En.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Xz,this.L=this.M=!1}Tn(Rt,En);var Xz="",wIe=/^https?$/i,IIe=["POST","PUT"];function e6(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,t6(t),yv(t)}function t6(t){t.F||(t.F=!0,Bn(t,"complete"),Bn(t,"error"))}function n6(t){if(t.h&&typeof HN<"u"&&(!t.C[1]||4!=ds(t)||2!=t.da()))if(t.v&&4==ds(t))dO(t.La,0,t);else if(Bn(t,"readystatechange"),4==ds(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(jz)[1]||null;!i&&ge.self&&ge.self.location&&(i=ge.self.location.protocol.slice(0,-1)),r=!wIe.test(i?i.toLowerCase():"")}n=r}if(n)Bn(t,"complete"),Bn(t,"success");else{t.m=6;try{var s=2<ds(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",t6(t)}}finally{yv(t)}}}function yv(t,e){if(t.g){r6(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Bn(t,"ready");try{n.onreadystatechange=r}catch{}}}function r6(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ge.clearTimeout(t.A),t.A=null)}function ds(t){return t.g?t.g.readyState:0}function i6(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Xz:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function s6(t){let e="";return XN(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function IO(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=s6(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ft(t,e,n))}function ap(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function o6(t){this.Ga=0,this.j=[],this.l=new av,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ap("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ap("baseRetryDelayMs",5e3,t),this.hb=ap("retryDelaySeedMs",1e4,t),this.eb=ap("forwardChannelMaxRetries",2,t),this.xa=ap("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new qz(t&&t.concurrentRequestLimit),this.Ja=new _Ie,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function TO(t){if(a6(t),3==t.H){var e=t.W++,n=Xs(t.I);if(ft(n,"SID",t.K),ft(n,"RID",e),ft(n,"TYPE","terminate"),cp(t,n),(e=new Zf(t,t.l,e)).L=2,e.v=gv(Xs(n)),n=!1,ge.navigator&&ge.navigator.sendBeacon)try{n=ge.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ge.Image&&((new Image).src=e.v,n=!0),n||(e.g=m6(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Xf(e)}p6(t)}function vv(t){t.g&&(DO(t),t.g.cancel(),t.g=null)}function a6(t){vv(t),t.u&&(ge.clearTimeout(t.u),t.u=null),wv(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ge.clearTimeout(t.m),t.m=null)}function bv(t){if(!Kz(t.i)&&!t.m){t.m=!0;var e=t.Na;Wf||Tz(),qf||(Wf(),qf=!0),uO.add(e,t),t.C=0}}function c6(t,e){var n;n=e?e.m:t.W++;const r=Xs(t.I);ft(r,"SID",t.K),ft(r,"RID",n),ft(r,"AID",t.V),cp(t,r),t.o&&t.s&&IO(r,t.o,t.s),n=new Zf(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=u6(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),bO(t.i,n),_O(n,r,e)}function cp(t,e){t.na&&XN(t.na,function(n,r){ft(e,r,n)}),t.h&&Uz({},function(n,r){ft(e,r,n)})}function u6(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Jn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g;const l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{yIe(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function l6(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Wf||Tz(),qf||(Wf(),qf=!0),uO.add(e,t),t.A=0}}function EO(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Qf(Jn(t.Ma,t),f6(t,t.A)),t.A++,0))}function DO(t){null!=t.B&&(ge.clearTimeout(t.B),t.B=null)}function d6(t){t.g=new Zf(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Xs(t.wa);ft(e,"RID","rpc"),ft(e,"SID",t.K),ft(e,"AID",t.V),ft(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ft(e,"TO",t.qa),ft(e,"TYPE","xmlhttp"),cp(t,e),t.o&&t.s&&IO(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=gv(Xs(e)),n.s=null,n.S=!0,Fz(n,t)}function wv(t){null!=t.v&&(ge.clearTimeout(t.v),t.v=null)}function h6(t,e){var n=null;if(t.g==e){wv(t),DO(t),t.g=null;var r=2}else{if(!vO(t.i,e))return;n=e.F,Qz(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Bn(r=cv(),new Oz(r,n)),bv(t)}else l6(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function DIe(t,e){return!(Yz(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Qf(Jn(t.Na,t,e),f6(t,t.C)),t.C++,0)))}(t,e)||2==r&&EO(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:dc(t,5);break;case 4:dc(t,10);break;case 3:dc(t,6);break;default:dc(t,2)}}function f6(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function dc(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Jn(t.pb,t);n||(n=new lc("//www.google.com/images/cleardot.gif"),ge.location&&"http"==ge.location.protocol||fv(n,"https"),gv(n)),function vIe(t,e){const n=new av;if(ge.Image){const r=new Image;r.onload=tv(mv,n,r,"TestLoadImage: loaded",!0,e),r.onerror=tv(mv,n,r,"TestLoadImage: error",!1,e),r.onabort=tv(mv,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=tv(mv,n,r,"TestLoadImage: timeout",!1,e),ge.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else fr(2);t.H=0,t.h&&t.h.za(e),p6(t),a6(t)}function p6(t){if(t.H=0,t.ma=[],t.h){const e=Jz(t.i);(0!=e.length||0!=t.j.length)&&(uz(t.ma,e),uz(t.ma,t.j),t.i.i.length=0,zN(t.j),t.j.length=0),t.h.ya()}}function g6(t,e,n){var r=n instanceof lc?Xs(n):new lc(n);if(""!=r.g)e&&(r.g=e+"."+r.g),pv(r,r.m);else{var i=ge.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new lc(null);r&&fv(s,r),e&&(s.g=e),i&&pv(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&ft(r,n,e),ft(r,"VER",t.ra),cp(t,r),r}function m6(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Rt(n&&t.Ha&&!t.va?new ip({ob:!0}):t.va)).Oa(t.J),e}function _6(){}function Iv(){if(bl&&!(10<=Number(Vwe)))throw Error("Environmental error: no available transport.")}function Kr(t,e){En.call(this),this.g=new o6(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Hf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Hf(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Tl(this)}function y6(t){fO.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function v6(){pO.call(this),this.status=1}function Tl(t){this.g=t}function ki(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function CO(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function et(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(X=Rt.prototype).Oa=function(t){this.M=t},X.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():gO.g(),this.C=function Rz(t){return t.h||(t.h=t.i())}(this.u?this.u:gO),this.g.onreadystatechange=Jn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void e6(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=ge.FormData&&t instanceof ge.FormData,!(0<=cz(IIe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{r6(this),0<this.B&&((this.L=function TIe(t){return bl&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jn(this.ua,this)):this.A=dO(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){e6(this,s)}},X.ua=function(){typeof HN<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Bn(this,"timeout"),this.abort(8))},X.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Bn(this,"complete"),Bn(this,"abort"),yv(this))},X.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yv(this,!0)),Rt.$.N.call(this)},X.La=function(){this.s||(this.G||this.v||this.l?n6(this):this.kb())},X.kb=function(){n6(this)},X.isActive=function(){return!!this.g},X.da=function(){try{return 2<ds(this)?this.g.status:-1}catch{return-1}},X.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},X.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),bIe(e)}},X.Ia=function(){return this.m},X.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(X=o6.prototype).ra=8,X.H=1,X.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Zf(this,this.l,t);let s=this.s;if(this.U&&(s?(s=pz(s),mz(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=u6(this,i,e),ft(n=Xs(this.I),"RID",t),ft(n,"CVER",22),this.F&&ft(n,"X-HTTP-Session-Id",this.F),cp(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(s6(s)))+"&"+e:this.o&&IO(n,this.o,s)),bO(this.i,i),this.bb&&ft(n,"TYPE","init"),this.P?(ft(n,"$req",e),ft(n,"SID","null"),i.aa=!0,_O(i,n,null)):_O(i,n,e),this.H=2}}else 3==this.H&&(t?c6(this,t):0==this.j.length||Kz(this.i)||c6(this))},X.Ma=function(){if(this.u=null,d6(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Qf(Jn(this.jb,this),t)}},X.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,fr(10),vv(this),d6(this))},X.ib=function(){null!=this.v&&(this.v=null,vv(this),EO(this),fr(19))},X.pb=function(t){t?(this.l.info("Successfully pinged google.com"),fr(2)):(this.l.info("Failed to ping google.com"),fr(1))},X.isActive=function(){return!!this.h&&this.h.isActive(this)},(X=_6.prototype).Ba=function(){},X.Aa=function(){},X.za=function(){},X.ya=function(){},X.isActive=function(){return!0},X.Va=function(){},Iv.prototype.g=function(t,e){return new Kr(t,e)},Tn(Kr,En),Kr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;fr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=g6(t,null,t.Y),bv(t)},Kr.prototype.close=function(){TO(this.g)},Kr.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=cO(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&bv(e)},Kr.prototype.N=function(){this.g.h=null,delete this.j,TO(this.g),delete this.g,Kr.$.N.call(this)},Tn(y6,fO),Tn(v6,pO),Tn(Tl,_6),Tl.prototype.Ba=function(){Bn(this.g,"a")},Tl.prototype.Aa=function(t){Bn(this.g,new y6(t))},Tl.prototype.za=function(t){Bn(this.g,new v6)},Tl.prototype.ya=function(){Bn(this.g,"b")},Tn(ki,function CIe(){this.blockSize=-1}),ki.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ki.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)CO(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){CO(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){CO(this,r),i=0;break}}this.h=i,this.i+=e},ki.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var SIe={};function SO(t){return-128<=t&&128>t?function Pwe(t,e){var n=SIe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new et([0|e],0>e?-1:0)}):new et([0|t],0>t?-1:0)}function hs(t){if(isNaN(t)||!isFinite(t))return El;if(0>t)return Un(hs(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=AO;return new et(e,0)}var AO=4294967296,El=SO(0),xO=SO(1),w6=SO(16777216);function eo(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function pi(t){return-1==t.h}function Un(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new et(n,~t.h).add(xO)}function Tv(t,e){return t.add(Un(e))}function Ev(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function up(t,e){this.g=t,this.h=e}function Dv(t,e){if(eo(e))throw Error("division by zero");if(eo(t))return new up(El,El);if(pi(t))return e=Dv(Un(t),e),new up(Un(e.g),Un(e.h));if(pi(e))return e=Dv(t,Un(e)),new up(Un(e.g),e.h);if(30<t.g.length){if(pi(t)||pi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=xO,r=e;0>=r.X(t);)n=I6(n),r=I6(r);var i=Dl(n,1),s=Dl(r,1);for(r=Dl(r,2),n=Dl(n,2);!eo(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Dl(r,1),n=Dl(n,1)}return e=Tv(t,i.R(e)),new up(i,e)}for(i=El;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=hs(n)).R(e);pi(o)||0<o.X(t);)o=(s=hs(n-=r)).R(e);eo(s)&&(s=xO),i=i.add(s),t=Tv(t,o)}return new up(i,t)}function I6(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new et(n,t.h)}function Dl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new et(i,t.h)}(X=et.prototype).ea=function(){if(pi(this))return-Un(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:AO+r)*e,e*=AO}return t},X.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(eo(this))return"0";if(pi(this))return"-"+Un(this).toString(t);for(var e=hs(Math.pow(t,6)),n=this,r="";;){var i=Dv(n,e).g,s=((0<(n=Tv(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(eo(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},X.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},X.X=function(t){return pi(t=Tv(this,t))?-1:eo(t)?0:1},X.abs=function(){return pi(this)?Un(this):this},X.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new et(n,-2147483648&n[n.length-1]?-1:0)},X.R=function(t){if(eo(this)||eo(t))return El;if(pi(this))return pi(t)?Un(this).R(Un(t)):Un(Un(this).R(t));if(pi(t))return Un(this.R(Un(t)));if(0>this.X(w6)&&0>t.X(w6))return hs(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=o*c,Ev(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Ev(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Ev(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Ev(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new et(n,0)},X.gb=function(t){return Dv(this,t).h},X.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new et(n,this.h&t.h)},X.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new et(n,this.h|t.h)},X.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new et(n,this.h^t.h)},Iv.prototype.createWebChannel=Iv.prototype.g,Kr.prototype.send=Kr.prototype.u,Kr.prototype.open=Kr.prototype.m,Kr.prototype.close=Kr.prototype.close,uv.NO_ERROR=0,uv.TIMEOUT=8,uv.HTTP_ERROR=6,Mz.COMPLETE="complete",kz.EventType=Jf,Jf.OPEN="a",Jf.CLOSE="b",Jf.ERROR="c",Jf.MESSAGE="d",En.prototype.listen=En.prototype.O,Rt.prototype.listenOnce=Rt.prototype.P,Rt.prototype.getLastError=Rt.prototype.Sa,Rt.prototype.getLastErrorCode=Rt.prototype.Ia,Rt.prototype.getStatus=Rt.prototype.da,Rt.prototype.getResponseJson=Rt.prototype.Wa,Rt.prototype.getResponseText=Rt.prototype.ja,Rt.prototype.send=Rt.prototype.ha,Rt.prototype.setWithCredentials=Rt.prototype.Oa,ki.prototype.digest=ki.prototype.l,ki.prototype.reset=ki.prototype.reset,ki.prototype.update=ki.prototype.j,et.prototype.add=et.prototype.add,et.prototype.multiply=et.prototype.R,et.prototype.modulo=et.prototype.gb,et.prototype.compare=et.prototype.X,et.prototype.toNumber=et.prototype.ea,et.prototype.toString=et.prototype.toString,et.prototype.getBits=et.prototype.D,et.fromNumber=hs,et.fromString=function b6(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Un(b6(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=hs(Math.pow(e,8)),r=El,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=hs(Math.pow(e,s)),r=r.R(s).add(hs(o))):r=(r=r.R(n)).add(hs(o))}return r};var AIe=Ri.createWebChannelTransport=function(){return new Iv},xIe=Ri.getStatEventTarget=function(){return cv()},NO=Ri.ErrorCode=uv,NIe=Ri.EventType=Mz,OIe=Ri.Event=cc,T6=Ri.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},MIe=Ri.FetchXmlHttpFactory=ip,Cv=Ri.WebChannel=kz,RIe=Ri.XhrIo=Rt,kIe=Ri.Md5=ki,Cl=Ri.Integer=et;const E6="@firebase/firestore";class Dn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");let Sl="9.23.0";const zo=new ko("@firebase/firestore");function OO(){return zo.logLevel}function B(t,...e){if(zo.logLevel<=xe.DEBUG){const n=e.map(MO);zo.debug(`Firestore (${Sl}): ${t}`,...n)}}function zt(t,...e){if(zo.logLevel<=xe.ERROR){const n=e.map(MO);zo.error(`Firestore (${Sl}): ${t}`,...n)}}function Pi(t,...e){if(zo.logLevel<=xe.WARN){const n=e.map(MO);zo.warn(`Firestore (${Sl}): ${t}`,...n)}}function MO(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function ne(t="Unexpected state"){const e=`FIRESTORE (${Sl}) INTERNAL ASSERTION FAILED: `+t;throw zt(e),new Error(e)}function ie(t,e){t||ne()}function Z(t,e){return t}const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class L extends Mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class un{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class D6{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PIe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dn.UNAUTHENTICATED))}shutdown(){}}class FIe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class LIe{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let o=new un;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new un,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=o;e.enqueueRetryable(p(function*(){yield u.promise,yield s(r.currentUser)}))},c=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new un)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ie("string"==typeof r.accessToken),new D6(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ie(null===e||"string"==typeof e),new Dn(e)}}class VIe{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class BIe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new VIe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class C6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UIe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,B("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ie("string"==typeof n.token),this.T=n.token,new C6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function jIe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class S6{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=jIe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function Al(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class At{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new At(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new se(e)}static min(){return new se(new At(0,0))}static max(){return new se(new At(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class lp{constructor(e,n,r){void 0===n?n=0:n>e.length&&ne(),void 0===r?r=e.length-n:r>e.length-n&&ne(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===lp.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof lp?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ke extends lp{construct(e,n,r){return new ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new L(C.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ke(n)}static emptyPath(){return new ke([])}}const $Ie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends lp{construct(e,n,r){return new Wt(e,n,r)}static isValidIdentifier(e){return $Ie.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Wt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new L(C.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new L(C.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new L(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new L(C.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}class J{constructor(e){this.path=e}static fromPath(e){return new J(ke.fromString(e))}static fromName(e){return new J(ke.fromString(e).popFirst(5))}static empty(){return new J(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ke.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new ke(e.slice()))}}function N6(t){return new Yr(t.readTime,t.key,-1)}class Yr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Yr(se.min(),J.empty(),-1)}static max(){return new Yr(se.max(),J.empty(),-1)}}function kO(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=J.comparator(t.documentKey,e.documentKey),0!==n?n:he(t.largestBatchId,e.largestBatchId))}const O6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zIe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Wo(t){return PO.apply(this,arguments)}function PO(){return PO=p(function*(t){if(t.code!==C.FAILED_PRECONDITION||t.message!==O6)throw t;B("LocalStore","Unexpectedly lost primary lease")}),PO.apply(this,arguments)}class D{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new D((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof D?n:D.resolve(n)}catch(n){return D.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):D.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):D.reject(n)}static resolve(e){return new D((n,r)=>{n(e)})}static reject(e){return new D((n,r)=>{r(e)})}static waitFor(e){return new D((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=D.resolve(!1);for(const r of e)n=n.next(i=>i?D.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new D((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new D((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function qo(t){return"IndexedDbTransactionError"===t.name}let Qr=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function fp(t){return null==t}function pp(t){return 0===t&&1/t==-1/0}function U6(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ko(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function j6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class lt{constructor(e,n){this.comparator=e,this.root=n||jn.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jn.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ov(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ov(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ov(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ov(this.root,e,this.comparator,!0)}}class Ov{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??jn.RED,this.left=i??jn.EMPTY,this.right=s??jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new jn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return jn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();const e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}}jn.EMPTY=null,jn.RED=!0,jn.BLACK=!1,jn.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(t,e,n,r,i){return this}insert(t,e,n){return new jn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $6(this.data.getIterator())}getIteratorFrom(e){return new $6(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pt(this.comparator);return n.data=e,n}}class $6{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nr{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Nr([])}unionWith(e){let n=new pt(Wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Al(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class H6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new H6("Invalid base64 string: "+i):i}}(e);return new ln(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const p1e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yo(t){if(ie(!!t),"string"==typeof t){let e=0;const n=p1e.exec(t);if(ie(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kt(t.seconds),nanos:kt(t.nanos)}}function kt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function to(t){return"string"==typeof t?ln.fromBase64String(t):ln.fromUint8Array(t)}function Mv(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Rv(t){const e=t.mapValue.fields.__previous_value__;return Mv(e)?Rv(e):e}function gp(t){const e=Yo(t.mapValue.fields.__local_write_time__.timestampValue);return new At(e.seconds,e.nanos)}class g1e{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class pc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new pc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof pc&&e.projectId===this.projectId&&e.database===this.database}}const Qo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Jo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mv(t)?4:q6(t)?9007199254740991:10:ne()}function ps(t,e){if(t===e)return!0;const n=Jo(t);if(n!==Jo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gp(t).isEqual(gp(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Yo(r.timestampValue),o=Yo(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,to(t.bytesValue).isEqual(to(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return kt(r.geoPointValue.latitude)===kt(i.geoPointValue.latitude)&&kt(r.geoPointValue.longitude)===kt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return kt(r.integerValue)===kt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=kt(r.doubleValue),o=kt(i.doubleValue);return s===o?pp(s)===pp(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Al(t.arrayValue.values||[],e.arrayValue.values||[],ps);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(U6(s)!==U6(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!ps(s[a],o[a])))return!1;return!0}(t,e);default:return ne()}var i}function mp(t,e){return void 0!==(t.values||[]).find(n=>ps(n,e))}function Zo(t,e){if(t===e)return 0;const n=Jo(t),r=Jo(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=kt(i.integerValue||i.doubleValue),a=kt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return G6(t.timestampValue,e.timestampValue);case 4:return G6(gp(t),gp(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(i,s){const o=to(i),a=to(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let c=0;c<o.length&&c<a.length;c++){const u=he(o[c],a[c]);if(0!==u)return u}return he(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=he(kt(i.latitude),kt(s.latitude));return 0!==o?o:he(kt(i.longitude),kt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let c=0;c<o.length&&c<a.length;++c){const u=Zo(o[c],a[c]);if(u)return u}return he(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Qo.mapValue&&s===Qo.mapValue)return 0;if(i===Qo.mapValue)return 1;if(s===Qo.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),c=s.fields||{},u=Object.keys(c);a.sort(),u.sort();for(let l=0;l<a.length&&l<u.length;++l){const d=he(a[l],u[l]);if(0!==d)return d;const h=Zo(o[a[l]],c[u[l]]);if(0!==h)return h}return he(a.length,u.length)}(t.mapValue,e.mapValue);default:throw ne()}}function G6(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return he(t,e);const n=Yo(t),r=Yo(e),i=he(n.seconds,r.seconds);return 0!==i?i:he(n.nanos,r.nanos)}function Nl(t){return VO(t)}function VO(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Yo(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?to(t.bytesValue).toBase64():"referenceValue"in t?J.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=VO(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${VO(r.fields[a])}`;return s+"}"}(t.mapValue):ne();var e}function gc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function BO(t){return!!t&&"integerValue"in t}function _p(t){return!!t&&"arrayValue"in t}function z6(t){return!!t&&"nullValue"in t}function W6(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fv(t){return!!t&&"mapValue"in t}function yp(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ko(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=yp(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yp(t.arrayValue.values[n]);return e}return Object.assign({},t)}function q6(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yp(n)}setAll(e){let n=Wt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=yp(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Fv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ps(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Fv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ko(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new $n(yp(this.value))}}function Q6(t){const e=[];return Ko(t.fields,(n,r)=>{const i=new Wt([n]);if(Fv(r)){const s=Q6(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Nr(e)}class gt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new gt(e,0,se.min(),se.min(),se.min(),$n.empty(),0)}static newFoundDocument(e,n,r,i){return new gt(e,1,n,se.min(),r,i,0)}static newNoDocument(e,n){return new gt(e,2,n,se.min(),se.min(),$n.empty(),0)}static newUnknownDocument(e,n){return new gt(e,3,n,se.min(),se.min(),$n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xo{constructor(e,n){this.position=e,this.inclusive=n}}function J6(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?J.comparator(J.fromName(o.referenceValue),n.key):Zo(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Z6(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ps(t.position[n],e.position[n]))return!1;return!0}class Ol{constructor(e,n="asc"){this.field=e,this.dir=n}}function y1e(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class X6{}class Ae extends X6{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new v1e(e,n,r):"array-contains"===n?new I1e(e,r):"in"===n?new s8(e,r):"not-in"===n?new T1e(e,r):"array-contains-any"===n?new E1e(e,r):new Ae(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new b1e(e,r):new w1e(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Zo(n,this.value)):null!==n&&Jo(this.value)===Jo(n)&&this.matchesComparison(Zo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class tt extends X6{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new tt(e,n)}matches(e){return Ml(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Ml(t){return"and"===t.op}function jO(t){return function e8(t){for(const e of t.filters)if(e instanceof tt)return!1;return!0}(t)&&Ml(t)}function $O(t){if(t instanceof Ae)return t.field.canonicalString()+t.op.toString()+Nl(t.value);if(jO(t))return t.filters.map(e=>$O(e)).join(",");{const e=t.filters.map(n=>$O(n)).join(",");return`${t.op}(${e})`}}function t8(t,e){return t instanceof Ae?(n=t,(r=e)instanceof Ae&&n.op===r.op&&n.field.isEqual(r.field)&&ps(n.value,r.value)):t instanceof tt?function(n,r){return r instanceof tt&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&t8(s,r.filters[o]),!0)}(t,e):void ne();var n,r}function r8(t){return t instanceof Ae?function(e){return`${e.field.canonicalString()} ${e.op} ${Nl(e.value)}`}(t):t instanceof tt?function(e){return e.op.toString()+" {"+e.getFilters().map(r8).join(" ,")+"}"}(t):"Filter"}class v1e extends Ae{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class b1e extends Ae{constructor(e,n){super(e,"in",n),this.keys=i8(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class w1e extends Ae{constructor(e,n){super(e,"not-in",n),this.keys=i8(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function i8(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class I1e extends Ae{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _p(n)&&mp(n.arrayValue,this.value)}}class s8 extends Ae{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&mp(this.value.arrayValue,n)}}class T1e extends Ae{constructor(e,n){super(e,"not-in",n)}matches(e){if(mp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!mp(this.value.arrayValue,n)}}class E1e extends Ae{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_p(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>mp(this.value.arrayValue,r))}}class D1e{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function HO(t,e=null,n=[],r=[],i=null,s=null,o=null){return new D1e(t,e,n,r,i,s,o)}function mc(t){const e=Z(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$O(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),fp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Nl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Nl(r)).join(",")),e.dt=n}return e.dt}function vp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!y1e(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!t8(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Z6(t.startAt,e.startAt)&&Z6(t.endAt,e.endAt)}function Lv(t){return J.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class no{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.wt=null,this._t=null}}function Rl(t){return new no(t)}function u8(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function GO(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Bv(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function zO(t){return null!==t.collectionGroup}function _c(t){const e=Z(t);if(null===e.wt){e.wt=[];const n=Bv(e),r=GO(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Ol(n)),e.wt.push(new Ol(Wt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ol(Wt.keyField(),s))}}}return e.wt}function pr(t){const e=Z(t);if(!e._t)if("F"===e.limitType)e._t=HO(e.path,e.collectionGroup,_c(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of _c(e))n.push(new Ol(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Xo(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Xo(e.startAt.position,e.startAt.inclusive):null;e._t=HO(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function WO(t,e){e.getFirstInequalityField(),Bv(t);const n=t.filters.concat([e]);return new no(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Uv(t,e,n){return new no(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bp(t,e){return vp(pr(t),pr(e))&&t.limitType===e.limitType}function l8(t){return`${mc(pr(t))}|lt:${t.limitType}`}function qO(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>r8(r)).join(", ")}]`),fp(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Nl(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Nl(r)).join(",")),`Target(${n})`}(pr(t))}; limitType=${t.limitType})`}function wp(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):J.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of _c(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=J6(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,_c(n),r)||n.endAt&&!function(i,s,o){const a=J6(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,_c(n),r)));var n,r}function h8(t){return(e,n)=>{let r=!1;for(const i of _c(t)){const s=C1e(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function C1e(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),c=o.data.field(i);return null!==a&&null!==c?Zo(a,c):ne()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}class ro{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ko(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return j6(this.inner)}size(){return this.innerSize}}const S1e=new lt(J.comparator);function Or(){return S1e}const f8=new lt(J.comparator);function Ip(...t){let e=f8;for(const n of t)e=e.insert(n.key,n);return e}function p8(t){let e=f8;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function gs(){return Tp()}function g8(){return Tp()}function Tp(){return new ro(t=>t.toString(),(t,e)=>t.isEqual(e))}const A1e=new lt(J.comparator),x1e=new pt(J.comparator);function be(...t){let e=x1e;for(const n of t)e=e.add(n);return e}const N1e=new pt(he);function m8(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pp(e)?"-0":e}}function _8(t){return{integerValue:""+t}}function y8(t,e){return function R6(t){return"number"==typeof t&&Number.isInteger(t)&&!pp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?_8(e):m8(t,e)}class jv{constructor(){this._=void 0}}function O1e(t,e,n){return t instanceof kl?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Mv(i)&&(i=Rv(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof yc?b8(t,e):t instanceof vc?w8(t,e):function(r,i){const s=v8(r,i),o=I8(s)+I8(r.gt);return BO(s)&&BO(r.gt)?_8(o):m8(r.serializer,o)}(t,e)}function M1e(t,e,n){return t instanceof yc?b8(t,e):t instanceof vc?w8(t,e):n}function v8(t,e){return t instanceof Pl?BO(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class kl extends jv{}class yc extends jv{constructor(e){super(),this.elements=e}}function b8(t,e){const n=T8(e);for(const r of t.elements)n.some(i=>ps(i,r))||n.push(r);return{arrayValue:{values:n}}}class vc extends jv{constructor(e){super(),this.elements=e}}function w8(t,e){let n=T8(e);for(const r of t.elements)n=n.filter(i=>!ps(i,r));return{arrayValue:{values:n}}}class Pl extends jv{constructor(e,n){super(),this.serializer=e,this.gt=n}}function I8(t){return kt(t.integerValue||t.doubleValue)}function T8(t){return _p(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class k1e{constructor(e,n){this.version=e,this.transformResults=n}}class bt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bt}static exists(e){return new bt(void 0,e)}static updateTime(e){return new bt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $v(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Hv{}function E8(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Ll(t.key,bt.none()):new Fl(t.key,t.data,bt.none());{const n=t.data,r=$n.empty();let i=new pt(Wt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new io(t.key,r,new Nr(i.toArray()),bt.none())}}function P1e(t,e,n){t instanceof Fl?function(r,i,s){const o=r.value.clone(),a=S8(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof io?function(r,i,s){if(!$v(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=S8(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(C8(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Dp(t,e,n,r){return t instanceof Fl?function(i,s,o,a){if(!$v(i.precondition,s))return o;const c=i.value.clone(),u=A8(i.fieldTransforms,a,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof io?function(i,s,o,a){if(!$v(i.precondition,s))return o;const c=A8(i.fieldTransforms,a,s),u=s.data;return u.setAll(C8(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,$v(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function F1e(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=v8(r.transform,i||null);null!=s&&(null===n&&(n=$n.empty()),n.set(r.field,s))}return n||null}function D8(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Al(n,r,(i,s)=>function R1e(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof yc&&r instanceof yc||n instanceof vc&&r instanceof vc?Al(n.elements,r.elements,ps):n instanceof Pl&&r instanceof Pl?ps(n.gt,r.gt):n instanceof kl&&r instanceof kl);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Fl extends Hv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class io extends Hv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function C8(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function S8(t,e,n){const r=new Map;ie(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,M1e(o,a,n[i]))}return r}function A8(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,O1e(s,o,e))}return r}class Ll extends Hv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YO extends Hv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class QO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&P1e(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Dp(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Dp(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=g8();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=E8(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&Al(this.mutations,e.mutations,(n,r)=>D8(n,r))&&Al(this.baseMutations,e.baseMutations,(n,r)=>D8(n,r))}}class JO{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ie(e.mutations.length===r.length);let i=A1e;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new JO(e,n,r,i)}}class ZO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class V1e{constructor(e,n){this.count=e,this.unchangedNames=n}}var en,Pe;function N8(t){if(void 0===t)return zt("GRPC error has no .code"),C.UNKNOWN;switch(t){case en.OK:return C.OK;case en.CANCELLED:return C.CANCELLED;case en.UNKNOWN:return C.UNKNOWN;case en.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case en.INTERNAL:return C.INTERNAL;case en.UNAVAILABLE:return C.UNAVAILABLE;case en.UNAUTHENTICATED:return C.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case en.NOT_FOUND:return C.NOT_FOUND;case en.ALREADY_EXISTS:return C.ALREADY_EXISTS;case en.PERMISSION_DENIED:return C.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case en.ABORTED:return C.ABORTED;case en.OUT_OF_RANGE:return C.OUT_OF_RANGE;case en.UNIMPLEMENTED:return C.UNIMPLEMENTED;case en.DATA_LOSS:return C.DATA_LOSS;default:return ne()}}(Pe=en||(en={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";class XO{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Gv}static getOrCreateInstance(){return null===Gv&&(Gv=new XO),Gv}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Gv=null;const B1e=new Cl([4294967295,4294967295],0);function M8(t){const e=function O8(){return new TextEncoder}().encode(t),n=new kIe;return n.update(e),new Uint8Array(n.digest())}function R8(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Cl([n,r],0),new Cl([i,s],0)]}class eM{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Cp(`Invalid padding: ${n}`);if(r<0)throw new Cp(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Cp(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Cp(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Cl.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Cl.fromNumber(r)));return 1===i.compare(B1e)&&(i=new Cl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=M8(e),[r,i]=R8(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new eM(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=M8(e),[r,i]=R8(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Cp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ap.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Sp(se.min(),i,new lt(he),Or(),be())}}class Ap{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ap(r,n,be(),be(),be())}}class zv{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class k8{constructor(e,n){this.targetId=e,this.Vt=n}}class P8{constructor(e,n,r=ln.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class F8{constructor(){this.St=0,this.Dt=V8(),this.Ct=ln.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=be(),n=be(),r=be();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ne()}}),new Ap(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=V8()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class U1e{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Or(),this.zt=L8(),this.Wt=new lt(he)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Lv(o))if(0===i){const a=new J(o.path);this.Yt(r,a,gt.newNoDocument(a,se.min()))}else ie(1===i);else{const a=this.ie(r);if(a!==i){const c=this.re(e,a);0!==c&&(this.ee(r),this.Wt=this.Wt.insert(r,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=XO.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(u,l,d){var h,f,g,m,_,I;const b={localCacheCount:l,existenceFilterCount:d.count},x=d.unchangedNames;return x&&(b.bloomFilter={applied:0===u,hashCount:null!==(h=x?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(g=null===(f=x?.bits)||void 0===f?void 0:f.bitmap)||void 0===g?void 0:g.length)&&void 0!==m?m:0,padding:null!==(I=null===(_=x?.bits)||void 0===_?void 0:_.padding)&&void 0!==I?I:0}),b}(c,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let c,u;try{c=to(s).toUint8Array()}catch(l){if(l instanceof H6)return Pi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{u=new eM(c,o,a)}catch(l){return Pi(l instanceof Cp?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===u.It?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Lv(a.target)){const c=new J(a.target.path);null!==this.jt.get(c)||this.ae(o,c)||this.Yt(o,c,gt.newNoDocument(c,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=be();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.se(c);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Sp(e,n,this.Wt,this.jt,r);return this.jt=Or(),this.zt=L8(),this.Wt=new lt(he),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new F8,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new pt(he),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||B("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new F8),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function L8(){return new lt(J.comparator)}function V8(){return new lt(J.comparator)}const j1e={asc:"ASCENDING",desc:"DESCENDING"},$1e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},H1e={and:"AND",or:"OR"};class G1e{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tM(t,e){return t.useProto3Json||fp(e)?e:{value:e}}function Vl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function B8(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function z1e(t,e){return Vl(t,e.toTimestamp())}function qt(t){return ie(!!t),se.fromTimestamp(function(e){const n=Yo(e);return new At(n.seconds,n.nanos)}(t))}function nM(t,e){return(n=t,new ke(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function U8(t){const e=ke.fromString(t);return ie(Y8(e)),e}function xp(t,e){return nM(t.databaseId,e.path)}function ms(t,e){const n=U8(e);if(n.get(1)!==t.databaseId.projectId)throw new L(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J($8(n))}function rM(t,e){return nM(t.databaseId,e)}function Np(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $8(t){return ie(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function H8(t,e,n){return{name:xp(t,e),fields:n.value.mapValue.fields}}function z8(t,e){return{documents:[rM(t,e.path)]}}function sM(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=rM(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=rM(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return K8(tt.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(u=>{return{field:ea((l=u).field),direction:Q1e(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=tM(t,e.limit);var a,c;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),n}function W8(t){let e=function j8(t){const e=U8(t);return 4===e.length?ke.emptyPath():$8(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ie(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=q8(l);return d instanceof tt&&jO(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Ol(Bl((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,fp(d)?null:d}(n.limit));let c=null;var l;n.startAt&&(c=new Xo((l=n.startAt).values||[],!!l.before));let u=null;return n.endAt&&(u=function(l){return new Xo(l.values||[],!l.before)}(n.endAt)),function c8(t,e,n,r,i,s,o,a){return new no(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",c,u)}function q8(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Bl(e.unaryFilter.field);return Ae.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Bl(e.unaryFilter.field);return Ae.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Bl(e.unaryFilter.field);return Ae.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Bl(e.unaryFilter.field);return Ae.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(t):void 0!==t.fieldFilter?function(e){return Ae.create(Bl(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return tt.create(e.compositeFilter.filters.map(n=>q8(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ne()}}(e.compositeFilter.op))}(t):ne()}function Q1e(t){return j1e[t]}function J1e(t){return $1e[t]}function Z1e(t){return H1e[t]}function ea(t){return{fieldPath:t.canonicalString()}}function Bl(t){return Wt.fromServerFormat(t.fieldPath)}function K8(t){return t instanceof Ae?function(e){if("=="===e.op){if(W6(e.value))return{unaryFilter:{field:ea(e.field),op:"IS_NAN"}};if(z6(e.value))return{unaryFilter:{field:ea(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(W6(e.value))return{unaryFilter:{field:ea(e.field),op:"IS_NOT_NAN"}};if(z6(e.value))return{unaryFilter:{field:ea(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ea(e.field),op:J1e(e.op),value:e.value}}}(t):t instanceof tt?function(e){const n=e.getFilters().map(r=>K8(r));return 1===n.length?n[0]:{compositeFilter:{op:Z1e(e.op),filters:n}}}(t):ne()}function X1e(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Y8(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class so{constructor(e,n,r,i,s=se.min(),o=se.min(),a=ln.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new so(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new so(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new so(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new so(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Q8{constructor(e){this.fe=e}}function oM(t){const e=W8({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Uv(e,e.limit,"L"):e}class Tc{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(kt(e.integerValue));else if("doubleValue"in e){const r=kt(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),pp(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(to(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?q6(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):ne()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),J.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Tc.Ve=new Tc;class cTe{constructor(){this.rn=new hM}addToCollectionParentIndex(e,n){return this.rn.add(n),D.resolve()}getCollectionParents(e,n){return D.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return D.resolve()}deleteFieldIndex(e,n){return D.resolve()}getDocumentsMatchingTarget(e,n){return D.resolve(null)}getIndexType(e,n){return D.resolve(0)}getFieldIndexes(e,n){return D.resolve([])}getNextCollectionGroupToUpdate(e){return D.resolve(null)}getMinOffset(e,n){return D.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,n){return D.resolve(Yr.min())}updateCollectionGroup(e,n,r){return D.resolve()}updateIndexEntries(e,n){return D.resolve()}}class hM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new pt(ke.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pt(ke.comparator)).toArray()}}new Uint8Array(0);class er{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new er(e,er.DEFAULT_COLLECTION_PERCENTILE,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}er.DEFAULT_COLLECTION_PERCENTILE=10,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,er.DEFAULT=new er(41943040,er.DEFAULT_COLLECTION_PERCENTILE,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),er.DISABLED=new er(-1,0,0);class Dc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Dc(0)}static Mn(){return new Dc(-1)}}class pTe{constructor(){this.changes=new ro(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?D.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class _Te{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class I7{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Dp(r.mutation,i,Nr.empty(),At.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){const i=gs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ip();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=gs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Or();const o=Tp(),a=Tp();return n.forEach((c,u)=>{const l=r.get(u.key);i.has(u.key)&&(void 0===l||l.mutation instanceof io)?s=s.insert(u.key,u):void 0!==l?(o.set(u.key,l.mutation.getFieldMask()),Dp(l.mutation,u,l.mutation.getFieldMask(),At.now())):o.set(u.key,Nr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new _Te(l,null!==(d=o.get(u))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Tp();let i=new lt((o,a)=>o-a),s=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(null===u)return;let l=r.get(c)||Nr.empty();l=a.applyToLocalView(u,l),r.set(c,l);const d=(i.get(a.batchId)||be()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,l=c.value,d=g8();l.forEach(h=>{if(!s.has(h)){const f=E8(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return D.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return J.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):zO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):D.resolve(gs());let a=-1,c=s;return o.next(u=>D.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?D.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,be())).next(l=>({batchId:a,changes:p8(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=Ip();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Ip();return this.indexManager.getCollectionParents(e,i).next(o=>D.forEach(o,a=>{const c=(u=n,l=a.child(i),new no(l,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt));var u,l;return this.getDocumentsMatchingCollectionQuery(e,c,r).next(u=>{u.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,c)=>{const u=c.getKey();null===s.get(u)&&(s=s.insert(u,gt.newInvalidDocument(u)))});let o=Ip();return s.forEach((a,c)=>{const u=i.get(a);void 0!==u&&Dp(u.mutation,c,Nr.empty(),At.now()),wp(n,c)&&(o=o.insert(a,c))}),o})}}class yTe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return D.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:qt(r.createTime)}),D.resolve()}getNamedQuery(e,n){return D.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:oM(r.bundledQuery),readTime:qt(r.readTime)}),D.resolve();var r}}class vTe{constructor(){this.overlays=new lt(J.comparator),this.ls=new Map}getOverlay(e,n){return D.resolve(this.overlays.get(n))}getOverlays(e,n){const r=gs();return D.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),D.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),D.resolve()}getOverlaysForCollection(e,n,r){const i=gs(),s=n.length+1,o=new J(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return D.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new lt((u,l)=>u-l);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);null===l&&(l=gs(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}const a=gs(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return D.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ZO(n,r));let s=this.ls.get(n);void 0===s&&(s=be(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class fM{constructor(){this.fs=new pt(Sn.ds),this.ws=new pt(Sn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Sn(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Sn(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new J(new ke([])),r=new Sn(n,e),i=new Sn(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new J(new ke([])),r=new Sn(n,e),i=new Sn(n,e+1);let s=be();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Sn(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Sn{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return J.comparator(e.key,n.key)||he(e.As,n.As)}static _s(e,n){return he(e.As,n.As)||J.comparator(e.key,n.key)}}class bTe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new pt(Sn.ds)}checkEmpty(e){return D.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new QO(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Sn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return D.resolve(o)}lookupMutationBatch(e,n){return D.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return D.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return D.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return D.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Sn(n,0),i=new Sn(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),D.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(he);return n.forEach(i=>{const s=new Sn(i,0),o=new Sn(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),D.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;J.isDocumentKey(s)||(s=s.child(""));const o=new Sn(new J(s),0);let a=new pt(he);return this.Rs.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.As)),!0)},o),D.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){ie(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return D.forEach(n.mutations,i=>{const s=new Sn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Sn(n,0),i=this.Rs.firstAfterOrEqual(r);return D.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return D.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class wTe{constructor(e){this.Ds=e,this.docs=new lt(J.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return D.resolve(r?r.document.mutableCopy():gt.newInvalidDocument(n))}getEntries(e,n){let r=Or();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():gt.newInvalidDocument(i))}),D.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Or();const o=n.path,a=new J(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||kO(N6(l),r)<=0||(i.has(l.key)||wp(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return D.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ne()}Cs(e,n){return D.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ITe(this)}getSize(e){return D.resolve(this.size)}}class ITe extends pTe{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),D.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class TTe{constructor(e){this.persistence=e,this.xs=new ro(n=>mc(n),vp),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Ns=0,this.ks=new fM,this.targetCount=0,this.Ms=Dc.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),D.resolve()}getLastRemoteSnapshotVersion(e){return D.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return D.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),D.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),D.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Dc(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,D.resolve()}updateTargetData(e,n){return this.Fn(n),D.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,D.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),D.waitFor(s).next(()=>i)}getTargetCount(e){return D.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return D.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),D.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),D.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),D.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return D.resolve(r)}containsKey(e,n){return D.resolve(this.ks.containsKey(n))}}class pM{constructor(e,n){this.$s={},this.overlays={},this.Os=new Qr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new TTe(this),this.indexManager=new cTe,this.remoteDocumentCache=new wTe(r=>this.referenceDelegate.Ls(r)),this.serializer=new Q8(n),this.qs=new yTe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vTe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new bTe(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){B("MemoryPersistence","Starting transaction:",e);const i=new ETe(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return D.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class ETe extends zIe{constructor(e){super(),this.currentSequenceNumber=e}}class e0{constructor(e){this.persistence=e,this.Qs=new fM,this.js=null}static zs(e){return new e0(e)}get Ws(){if(this.js)return this.js;throw ne()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),D.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),D.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),D.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return D.forEach(this.Ws,r=>{const i=J.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,se.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return D.or([()=>D.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class yM{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=be(),i=be();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new yM(e,n.fromCache,r,i)}}class E7{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(u8(n))return D.resolve(null);let r=pr(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Uv(n,null,"F"),r=pr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=be(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ji(n,a);return this.zi(n,u,o,c.readTime)?this.Ki(e,Uv(n,null,"F")):this.Wi(e,u,n,c)}))})))}Gi(e,n,r,i){return u8(n)||i.isEqual(se.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(OO()<=xe.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qO(n)),this.Wi(e,o,n,function x6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=se.fromTimestamp(1e9===r?new At(n+1,0):new At(n,r));return new Yr(i,J.empty(),e)}(i,-1)))})}ji(e,n){let r=new pt(h8(e));return n.forEach((i,s)=>{wp(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return OO()<=xe.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",qO(n)),this.Ui.getDocumentsMatchingQuery(e,n,Yr.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class CTe{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new lt(he),this.Yi=new ro(s=>mc(s),vp),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new I7(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function C7(t,e){return vM.apply(this,arguments)}function vM(){return vM=p(function*(t,e){const n=Z(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=be();for(const u of i){o.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}for(const u of s){a.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}),vM.apply(this,arguments)}function S7(t){const e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function xTe(t,e){const n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Hl(t,e,n){return bM.apply(this,arguments)}function bM(){return bM=p(function*(t,e,n){const r=Z(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!qo(o))throw o;B("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),bM.apply(this,arguments)}function r0(t,e,n){const r=Z(t);let i=se.min(),s=be();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,c,u){const l=Z(a),d=l.Yi.get(u);return void 0!==d?D.resolve(l.Ji.get(d)):l.Bs.getTargetData(c,u)}(r,o,pr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:se.min(),n?s:be())).next(a=>(function O7(t,e,n){let r=t.Xi.get(e)||se.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function d8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class DM{constructor(){this.activeTargetIds=function KO(){return N1e}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class k7{constructor(){this.Hr=new DM,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new DM,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class MTe{Yr(e){}shutdown(){}}class P7{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let a0=null;function SM(){return null===a0?a0=268435456+Math.round(2147483648*Math.random()):a0++,"0x"+a0.toString(16)}const RTe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kTe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const tr="WebChannelConnection";class PTe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=SM(),a=this.To(e,n);B("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const c={};return this.Eo(c,i,s),this.Ao(e,a,c,r).then(u=>(B("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw Pi("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Sl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${RTe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=SM();return new Promise((o,a)=>{const c=new RIe;c.setWithCredentials(!0),c.listenOnce(NIe.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case NO.NO_ERROR:const l=c.getResponseJson();B(tr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case NO.TIMEOUT:B(tr,`RPC '${e}' ${s} timed out`),a(new L(C.DEADLINE_EXCEEDED,"Request time out"));break;case NO.HTTP_ERROR:const d=c.getStatus();if(B(tr,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const g=function(m){const _=m.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(_)>=0?_:C.UNKNOWN}(f.status);a(new L(g,f.message))}else a(new L(C.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new L(C.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{B(tr,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);B(tr,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=SM(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=AIe(),a=xIe(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new MIe({})),this.Eo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const l=s.join("");B(tr,`Creating RPC '${e}' stream ${i}: ${l}`,c);const d=o.createWebChannel(l,c);let h=!1,f=!1;const g=new kTe({ro:_=>{f?B(tr,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(B(tr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),B(tr,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},oo:()=>d.close()}),m=(_,I,b)=>{_.listen(I,x=>{try{b(x)}catch(R){setTimeout(()=>{throw R},0)}})};return m(d,Cv.EventType.OPEN,()=>{f||B(tr,`RPC '${e}' stream ${i} transport opened.`)}),m(d,Cv.EventType.CLOSE,()=>{f||(f=!0,B(tr,`RPC '${e}' stream ${i} transport closed`),g.wo())}),m(d,Cv.EventType.ERROR,_=>{f||(f=!0,Pi(tr,`RPC '${e}' stream ${i} transport errored:`,_),g.wo(new L(C.UNAVAILABLE,"The operation could not be completed")))}),m(d,Cv.EventType.MESSAGE,_=>{var I;if(!f){const b=_.data[0];ie(!!b);const R=b.error||(null===(I=b[0])||void 0===I?void 0:I.error);if(R){B(tr,`RPC '${e}' stream ${i} received error:`,R);const U=R.status;let Y=function(me){const Ve=en[me];if(void 0!==Ve)return N8(Ve)}(U),oe=R.message;void 0===Y&&(Y=C.INTERNAL,oe="Unknown error status: "+U+" with message "+R.message),f=!0,g.wo(new L(Y,oe)),d.close()}else B(tr,`RPC '${e}' stream ${i} received:`,b),g._o(b)}}),m(a,OIe.STAT_EVENT,_=>{_.stat===T6.PROXY?B(tr,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===T6.NOPROXY&&B(tr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.fo()},0),g}}function c0(){return typeof document<"u"?document:null}function Up(t){return new G1e(t,!0)}class AM{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class L7{constructor(e,n,r,i,s,o,a,c){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new AM(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return p(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return p(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return p(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===C.RESOURCE_EXHAUSTED?(zt(n.toString()),zt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===C.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new L(C.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(p(function*(){e.state=0,e.start()}))}tu(e){return B("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FTe extends L7{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function q1e(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:ne(),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(ie(void 0===u||"string"==typeof u),ln.fromBase64String(u||"")):(ie(void 0===u||u instanceof Uint8Array),ln.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=void 0===c.code?C.UNKNOWN:N8(c.code);return new L(u,c.message||"")}(o);n=new P8(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ms(t,r.document.name),s=qt(r.document.updateTime),o=r.document.createTime?qt(r.document.createTime):se.min(),a=new $n({mapValue:{fields:r.document.fields}}),c=gt.newFoundDocument(i,s,o,a);n=new zv(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=ms(t,r.document),s=r.readTime?qt(r.readTime):se.min(),o=gt.newNoDocument(i,s);n=new zv([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=ms(t,r.document);n=new zv([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ne();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new V1e(i,s);n=new k8(r.targetId,o)}}var c;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return se.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?se.min():s.readTime?qt(s.readTime):se.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Np(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Lv(a)?{documents:z8(i,a)}:{query:sM(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=B8(i,s.resumeToken);const c=tM(i,s.expectedCount);null!==c&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(se.min())>0){o.readTime=Vl(i,s.snapshotVersion.toTimestamp());const c=tM(i,s.expectedCount);null!==c&&(o.expectedCount=c)}return o}(this.serializer,e);const r=function Y1e(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Np(this.serializer),n.removeTarget=e,this.Wo(n)}}class LTe extends L7{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function K1e(t,e){return t&&t.length>0?(ie(void 0!==e),t.map(n=>function(r,i){let s=qt(r.updateTime?r.updateTime:i);return s.isEqual(se.min())&&(s=qt(i)),new k1e(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=qt(e.commitTime);return this.listener.cu(r,n)}return ie(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Np(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Op(t,e){let n;if(e instanceof Fl)n={update:H8(t,e.key,e.value)};else if(e instanceof Ll)n={delete:xp(t,e.key)};else if(e instanceof io)n={update:H8(t,e.key,e.data),updateMask:X1e(e.fieldMask)};else{if(!(e instanceof YO))return ne();n={verify:xp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof kl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof yc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof vc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Pl)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw ne()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:z1e(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ne()),n;var i}(this.serializer,r))};this.Wo(n)}}class VTe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new L(C.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new L(C.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(C.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class UTe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(zt(n),this.mu=!1):B("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class jTe{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(p(function*(){var c;ia(o)&&(B("RemoteStore","Restarting streams for network reachability change."),yield(c=p(function*(u){const l=Z(u);l.vu.add(4),yield Gl(l),l.bu.set("Unknown"),l.vu.delete(4),yield jp(l)}),function(u){return c.apply(this,arguments)})(o))}))}),this.bu=new UTe(r,i)}}function jp(t){return NM.apply(this,arguments)}function NM(){return NM=p(function*(t){if(ia(t))for(const e of t.Ru)yield e(!0)}),NM.apply(this,arguments)}function Gl(t){return OM.apply(this,arguments)}function OM(){return OM=p(function*(t){for(const e of t.Ru)yield e(!1)}),OM.apply(this,arguments)}function u0(t,e){const n=Z(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),kM(n)?RM(n):Wl(n).Ko()&&MM(n,e))}function $p(t,e){const n=Z(t),r=Wl(n);n.Au.delete(e),r.Ko()&&V7(n,e),0===n.Au.size&&(r.Ko()?r.jo():ia(n)&&n.bu.set("Unknown"))}function MM(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wl(t).su(e)}function V7(t,e){t.Vu.qt(e),Wl(t).iu(e)}function RM(t){t.Vu=new U1e({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Wl(t).start(),t.bu.gu()}function kM(t){return ia(t)&&!Wl(t).Uo()&&t.Au.size>0}function ia(t){return 0===Z(t).vu.size}function B7(t){t.Vu=void 0}function $Te(t){return PM.apply(this,arguments)}function PM(){return PM=p(function*(t){t.Au.forEach((e,n)=>{MM(t,e)})}),PM.apply(this,arguments)}function HTe(t,e){return FM.apply(this,arguments)}function FM(){return FM=p(function*(t,e){B7(t),kM(t)?(t.bu.Iu(e),RM(t)):t.bu.set("Unknown")}),FM.apply(this,arguments)}function GTe(t,e,n){return LM.apply(this,arguments)}function LM(){return LM=p(function*(t,e,n){if(t.bu.set("Online"),e instanceof P8&&2===e.state&&e.cause)try{yield(r=p(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){B("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield l0(t,r)}else if(e instanceof zv?t.Vu.Ht(e):e instanceof k8?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(se.min()))try{const r=yield S7(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(c);u&&i.Au.set(c,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,c)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(ln.EMPTY_BYTE_STRING,u.snapshotVersion)),V7(i,a);const l=new so(u.target,a,c,u.sequenceNumber);MM(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){B("RemoteStore","Failed to raise snapshot:",r),yield l0(t,r)}var r}),LM.apply(this,arguments)}function l0(t,e,n){return VM.apply(this,arguments)}function VM(){return VM=p(function*(t,e,n){if(!qo(e))throw e;t.vu.add(1),yield Gl(t),t.bu.set("Offline"),n||(n=()=>S7(t.localStore)),t.asyncQueue.enqueueRetryable(p(function*(){B("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield jp(t)}))}),VM.apply(this,arguments)}function U7(t,e){return e().catch(n=>l0(t,n,e))}function zl(t){return BM.apply(this,arguments)}function BM(){return BM=p(function*(t){const e=Z(t),n=sa(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;zTe(e);)try{const i=yield xTe(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,WTe(e,i)}catch(i){yield l0(e,i)}j7(e)&&$7(e)}),BM.apply(this,arguments)}function zTe(t){return ia(t)&&t.Eu.length<10}function WTe(t,e){t.Eu.push(e);const n=sa(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function j7(t){return ia(t)&&!sa(t).Uo()&&t.Eu.length>0}function $7(t){sa(t).start()}function qTe(t){return UM.apply(this,arguments)}function UM(){return UM=p(function*(t){sa(t).hu()}),UM.apply(this,arguments)}function KTe(t){return jM.apply(this,arguments)}function jM(){return jM=p(function*(t){const e=sa(t);for(const n of t.Eu)e.uu(n.mutations)}),jM.apply(this,arguments)}function YTe(t,e,n){return $M.apply(this,arguments)}function $M(){return $M=p(function*(t,e,n){const r=t.Eu.shift(),i=JO.from(r,e,n);yield U7(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield zl(t)}),$M.apply(this,arguments)}function QTe(t,e){return HM.apply(this,arguments)}function HM(){return HM=p(function*(t,e){var n;e&&sa(t).ou&&(yield(n=p(function*(r,i){if(function x8(t){switch(t){default:return ne();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0}}(s=i.code)&&s!==C.ABORTED){const o=r.Eu.shift();sa(r).Qo(),yield U7(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield zl(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),j7(t)&&$7(t)}),HM.apply(this,arguments)}function H7(t,e){return GM.apply(this,arguments)}function GM(){return GM=p(function*(t,e){const n=Z(t);n.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");const r=ia(n);n.vu.add(3),yield Gl(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield jp(n)}),GM.apply(this,arguments)}function WM(){return WM=p(function*(t,e){const n=Z(t);e?(n.vu.delete(2),yield jp(n)):e||(n.vu.add(2),yield Gl(n),n.bu.set("Unknown"))}),WM.apply(this,arguments)}function Wl(t){return t.Su||(t.Su=function(e,n,r){const i=Z(e);return i.fu(),new FTe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:$Te.bind(null,t),ao:HTe.bind(null,t),nu:GTe.bind(null,t)}),t.Ru.push(function(){var e=p(function*(n){n?(t.Su.Qo(),kM(t)?RM(t):t.bu.set("Unknown")):(yield t.Su.stop(),B7(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function sa(t){return t.Du||(t.Du=function(e,n,r){const i=Z(e);return i.fu(),new LTe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:qTe.bind(null,t),ao:QTe.bind(null,t),au:KTe.bind(null,t),cu:YTe.bind(null,t)}),t.Ru.push(function(){var e=p(function*(n){n?(t.Du.Qo(),yield zl(t)):(yield t.Du.stop(),t.Eu.length>0&&(B("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class qM{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new un,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new qM(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new L(C.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ql(t,e){if(zt("AsyncQueue",`${e}: ${t}`),qo(t))return new L(C.UNAVAILABLE,`${e}: ${t}`);throw t}class Kl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=Ip(),this.sortedSet=new lt(this.comparator)}static emptySet(e){return new Kl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Kl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Kl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class G7{constructor(){this.Cu=new lt(J.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):ne():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Yl{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Yl(e,n,Kl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class JTe{constructor(){this.Nu=void 0,this.listeners=[]}}class ZTe{constructor(){this.queries=new ro(e=>l8(e),bp),this.onlineState="Unknown",this.ku=new Set}}function KM(t,e){return YM.apply(this,arguments)}function YM(){return YM=p(function*(t,e){const n=Z(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new JTe),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=ql(o,`Initialization of query '${qO(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&ZM(n)}),YM.apply(this,arguments)}function QM(t,e){return JM.apply(this,arguments)}function JM(){return JM=p(function*(t,e){const n=Z(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),JM.apply(this,arguments)}function XTe(t,e){const n=Z(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&ZM(n)}function eEe(t,e,n){const r=Z(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function ZM(t){t.ku.forEach(e=>{e.next()})}class XM{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Yl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class q7{constructor(e){this.key=e}}class K7{constructor(e){this.key=e}}class Y7{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=be(),this.mutatedKeys=be(),this.tc=h8(e),this.ec=new Kl(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new G7,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=wp(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?g!==m&&(r.track({type:3,doc:f}),_=!0):this.rc(h,f)||(r.track({type:2,doc:f}),_=!0,(c&&this.tc(f,c)>0||u&&this.tc(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(c||u)&&(a=!0)),_&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((u,l)=>function(d,h){const f=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return f(d)-f(h)}(u.type,l.type)||this.tc(u.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,0!==s.length||c?{snapshot:new Yl(this.query,e.ec,i,s,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new G7,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=be(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new K7(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new q7(r))}),n}hc(e){this.Yu=e.ir,this.Zu=be();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Yl.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class rEe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class iEe{constructor(e){this.key=e,this.fc=!1}}class sEe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new ro(a=>l8(a),bp),this._c=new Map,this.mc=new Set,this.gc=new lt(J.comparator),this.yc=new Map,this.Ic=new fM,this.Tc={},this.Ec=new Map,this.Ac=Dc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function oEe(t,e){return eR.apply(this,arguments)}function eR(){return eR=p(function*(t,e){const n=function TR(t){const e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Q7.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gEe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uEe.bind(null,e),e.dc.nu=XTe.bind(null,e.eventManager),e.dc.Pc=eEe.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function $l(t,e){const n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,D.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new so(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,pr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function tR(t,e,n,r,i){return nR.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&u0(n.remoteStore,o)}return i}),eR.apply(this,arguments)}function nR(){return nR=p(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(g=p(function*(m,_,I,b){let x=_.view.sc(I);x.zi&&(x=yield r0(m.localStore,_.query,!1).then(({documents:Y})=>_.view.sc(Y,x)));const R=b&&b.targetChanges.get(_.targetId),U=_.view.applyChanges(x,m.isPrimaryClient,R);return hR(m,_.targetId,U.cc),U.snapshot}),function(m,_,I,b){return g.apply(this,arguments)})(t,d,h,f);var g};const s=yield r0(t.localStore,e,!0),o=new Y7(e,s.ir),a=o.sc(s.documents),c=Ap.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),u=o.applyChanges(a,t.isPrimaryClient,c);hR(t,n,u.cc);const l=new rEe(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}),nR.apply(this,arguments)}function aEe(t,e){return rR.apply(this,arguments)}function rR(){return rR=p(function*(t,e){const n=Z(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!bp(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Hl(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),$p(n.remoteStore,r.targetId),Ql(n,r.targetId)}).catch(Wo))):(Ql(n,r.targetId),yield Hl(n.localStore,r.targetId,!0))}),rR.apply(this,arguments)}function iR(){return iR=p(function*(t,e,n){const r=function ER(t){const e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lEe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dEe.bind(null,e),e}(t);try{const i=yield function(s,o){const a=Z(s),c=At.now(),u=o.reduce((h,f)=>h.add(f.key),be());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Or(),g=be();return a.Zi.getEntries(h,u).next(m=>{f=m,f.forEach((_,I)=>{I.isValidDocument()||(g=g.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{l=m;const _=[];for(const I of o){const b=F1e(I,l.get(I.key).overlayedDocument);null!=b&&_.push(new io(I.key,b,Q6(b.value.mapValue),bt.exists(!0)))}return a.mutationQueue.addMutationBatch(h,c,_,o)}).next(m=>{d=m;const _=m.applyToLocalDocumentSet(l,g);return a.documentOverlayCache.saveOverlays(h,m.batchId,_)})}).then(()=>({batchId:d.batchId,changes:p8(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let c=s.Tc[s.currentUser.toKey()];c||(c=new lt(he)),c=c.insert(o,a),s.Tc[s.currentUser.toKey()]=c}(r,i.batchId,n),yield oo(r,i.changes),yield zl(r.remoteStore)}catch(i){const s=ql(i,"Failed to persist write");n.reject(s)}}),iR.apply(this,arguments)}function Q7(t,e){return sR.apply(this,arguments)}function sR(){return sR=p(function*(t,e){const n=Z(t);try{const r=yield function ATe(t,e){const n=Z(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var g,m,_;null!==e.targetMismatches.get(d)?f=f.withResumeToken(ln.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,_=l,(0===(g=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let c=Or(),u=be();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function A7(t,e,n){let r=be(),i=be();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Or();return n.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(se.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||0===c.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):B("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{c=l.nr,u=l.sr})),!r.isEqual(se.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return D.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?ie(o.fc):i.removedDocuments.size>0&&(ie(o.fc),o.fc=!1))}),yield oo(n,r,e)}catch(r){yield Wo(r)}}),sR.apply(this,arguments)}function J7(t,e,n){const r=Z(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=Z(s);a.onlineState=o;let c=!1;a.queries.forEach((u,l)=>{for(const d of l.listeners)d.Mu(o)&&(c=!0)}),c&&ZM(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function uEe(t,e,n){return oR.apply(this,arguments)}function oR(){return oR=p(function*(t,e,n){const r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new lt(J.comparator);o=o.insert(s,gt.newNoDocument(s,se.min()));const a=be().add(s),c=new Sp(se.min(),new Map,new lt(he),o,a);yield Q7(r,c),r.gc=r.gc.remove(s),r.yc.delete(e),fR(r)}else yield Hl(r.localStore,e,!1).then(()=>Ql(r,e,n)).catch(Wo)}),oR.apply(this,arguments)}function lEe(t,e){return aR.apply(this,arguments)}function aR(){return aR=p(function*(t,e){const n=Z(t),r=e.batch.batchId;try{const i=yield function STe(t,e){const n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,c,u){const l=c.batch,d=l.keys();let h=D.resolve();return d.forEach(f=>{h=h.next(()=>u.getEntry(a,f)).next(g=>{const m=c.docVersions.get(f);ie(null!==m),g.version.compareTo(m)<0&&(l.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=be();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(a=a.add(o.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);dR(n,r,null),lR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield oo(n,i)}catch(i){yield Wo(i)}}),aR.apply(this,arguments)}function dEe(t,e,n){return cR.apply(this,arguments)}function cR(){return cR=p(function*(t,e,n){const r=Z(t);try{const i=yield function(s,o){const a=Z(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return a.mutationQueue.lookupMutationBatch(c,o).next(l=>(ie(null!==l),u=l.keys(),a.mutationQueue.removeMutationBatch(c,l))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>a.localDocuments.getDocuments(c,u))})}(r.localStore,e);dR(r,e,n),lR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield oo(r,i)}catch(i){yield Wo(i)}}),cR.apply(this,arguments)}function lR(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function dR(t,e,n){const r=Z(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Ql(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||Z7(t,r)})}function Z7(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&($p(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),fR(t))}function hR(t,e,n){for(const r of n)r instanceof q7?(t.Ic.addReference(r.key,e),fEe(t,r)):r instanceof K7?(B("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||Z7(t,r.key)):ne()}function fEe(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(B("SyncEngine","New document in limbo: "+n),t.mc.add(r),fR(t))}function fR(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new J(ke.fromString(e)),r=t.Ac.next();t.yc.set(r,new iEe(n)),t.gc=t.gc.insert(n,r),u0(t.remoteStore,new so(pr(Rl(n.path)),r,"TargetPurposeLimboResolution",Qr.ct))}}function oo(t,e,n){return pR.apply(this,arguments)}function pR(){return pR=p(function*(t,e,n){const r=Z(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,c)=>{o.push(r.Rc(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);const l=yM.Li(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=p(function*(c,u){const l=Z(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>D.forEach(u,h=>D.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>D.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!qo(d))throw d;B("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,m)}}}),function(c,u){return a.apply(this,arguments)})(r.localStore,s))}),pR.apply(this,arguments)}function pEe(t,e){return gR.apply(this,arguments)}function gR(){return gR=p(function*(t,e){const n=Z(t);if(!n.currentUser.isEqual(e)){B("SyncEngine","User change. New user:",e.toKey());const r=yield C7(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new L(C.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield oo(n,r.er)}var i}),gR.apply(this,arguments)}function gEe(t,e){const n=Z(t),r=n.yc.get(e);if(r&&r.fc)return be().add(r.key);{let i=be();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class d0{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return p(function*(){n.serializer=Up(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function D7(t,e,n,r){return new CTe(t,e,n,r)}(this.persistence,new E7,e.initialUser,this.serializer)}createPersistence(e){return new pM(e0.zs,this.serializer)}createSharedClientState(e){return new k7}terminate(){var e=this;return p(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Jl{initialize(e,n){var r=this;return p(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>J7(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=pEe.bind(null,r.syncEngine),yield function zM(t,e){return WM.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ZTe}createDatastore(e){const n=Up(e.databaseInfo.databaseId),r=new PTe(e.databaseInfo);return new VTe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>J7(this.syncEngine,a,0),o=P7.D()?new P7:new MTe,new jTe(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,c,u){const l=new sEe(r,i,s,o,a,c);return u&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=p(function*(n){const r=Z(n);B("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Gl(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class h0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):zt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class AEe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dn.UNAUTHENTICATED,this.clientId=S6.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=p(function*(a){B("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(B("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return p(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new un;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(p(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=ql(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function f0(t,e){return DR.apply(this,arguments)}function DR(){return DR=p(function*(t,e){t.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=p(function*(s){r.isEqual(s)||(yield C7(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),DR.apply(this,arguments)}function CR(t,e){return SR.apply(this,arguments)}function SR(){return SR=p(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function AR(t){return xR.apply(this,arguments)}(t);B("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>H7(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>H7(e.remoteStore,s)),t._onlineComponents=e}),SR.apply(this,arguments)}function xR(){return xR=p(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){B("FirestoreClient","Using user provided OfflineComponentProvider");try{yield f0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function iW(t){return"FirebaseError"===t.name?t.code===C.FAILED_PRECONDITION||t.code===C.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Pi("Error using user provided cache. Falling back to memory cache: "+n),yield f0(t,new d0)}}else B("FirestoreClient","Using default OfflineComponentProvider"),yield f0(t,new d0);return t._offlineComponents}),xR.apply(this,arguments)}function p0(t){return NR.apply(this,arguments)}function NR(){return NR=p(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(B("FirestoreClient","Using user provided OnlineComponentProvider"),yield CR(t,t._uninitializedComponentsProvider._online)):(B("FirestoreClient","Using default OnlineComponentProvider"),yield CR(t,new Jl))),t._onlineComponents}),NR.apply(this,arguments)}function Zl(t){return MR.apply(this,arguments)}function MR(){return MR=p(function*(t){const e=yield p0(t),n=e.eventManager;return n.onListen=oEe.bind(null,e.syncEngine),n.onUnlisten=aEe.bind(null,e.syncEngine),n}),MR.apply(this,arguments)}function lW(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const dW=new Map;function RR(t,e,n){if(!n)throw new L(C.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hW(t){if(!J.isDocumentKey(t))throw new L(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fW(t){if(J.isDocumentKey(t))throw new L(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function m0(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":ne()}function Ne(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=m0(t);throw new L(C.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class gW{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new L(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new L(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function LEe(t,e,n,r){if(!0===e&&!0===r)throw new L(C.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=lW(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new L(C.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new L(C.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new L(C.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gW({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new L(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gW(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new PIe;switch(n.type){case"firstParty":return new BIe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new L(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=dW.get(e);n&&(B("ComponentProvider","Removing Datastore"),dW.delete(e),n.terminate())}(this),Promise.resolve()}}class Kt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}}class Hn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Hn(this.firestore,e,this._query)}}class _s extends Hn{constructor(e,n,r){super(e,n,Rl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new J(e))}withConverter(e){return new _s(this.firestore,e,this._path)}}function BEe(t,e,...n){if(t=lr(t),RR("collection","path",e),t instanceof Hp){const r=ke.fromString(e,...n);return fW(r),new _s(t,null,r)}{if(!(t instanceof Kt||t instanceof _s))throw new L(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return fW(r),new _s(t.firestore,null,r)}}function mW(t,e,...n){if(t=lr(t),1===arguments.length&&(e=S6.A()),RR("doc","path",e),t instanceof Hp){const r=ke.fromString(e,...n);return hW(r),new Kt(t,null,new J(r))}{if(!(t instanceof Kt||t instanceof _s))throw new L(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return hW(r),new Kt(t.firestore,t instanceof _s?t.converter:null,new J(r))}}class UEe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new AM(this,"async_queue_retry"),this.Xc=()=>{const n=c0();n&&B("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=c0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=c0();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new un;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return p(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!qo(n))throw n;B("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,zt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=qM.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&ne()}verifyOperationInProgress(){}sa(){var e=this;return p(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class mt extends Hp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new UEe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||yW(this),this._firestoreClient.terminate()}}function $Ee(t,e){const r="string"==typeof t?t:e||"(default)",i=Ty("object"==typeof t?t:bH(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=yy())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function VEe(t,e,n,r={}){var i;const s=(t=Ne(t,Hp))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Pi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Dn.MOCK_USER;else{a=function $pe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[my(JSON.stringify({alg:"none",type:"JWT"})),my(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new L(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Dn(u)}t._authCredentials=new FIe(new D6(a,c))}}(i,...s)}return i}function tn(t){return t._firestoreClient||yW(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function yW(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new g1e(t._databaseId,a,t._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,lW(u.experimentalLongPollingOptions),u.useFetchStreams));var a,u;t._firestoreClient=new AEe(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Sc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sc(ln.fromBase64String(e))}catch(n){throw new L(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Sc(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Xl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new L(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class PR{constructor(e){this._methodName=e}}class FR{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}const GEe=/^__.*__$/;class zEe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new io(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fl(e,this.data,n,this.fieldTransforms)}}class wW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new io(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function IW(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}class _0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new _0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return v0(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(IW(this.ca)&&GEe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class WEe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Up(e)}ya(e,n,r,i=!1){return new _0({ca:e,methodName:n,ga:r,path:Wt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ed(t){const e=t._freezeSettings(),n=Up(t._databaseId);return new WEe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function LR(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);BR("Data must be an object, but it was:",o,r);const a=SW(r,o);let c,u;if(s.merge)c=new Nr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Wp(e,d,n);if(!o.contains(h))throw new L(C.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);xW(l,h)||l.push(h)}c=new Nr(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new zEe(new $n(a),c,u)}class zp extends PR{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zp}}function Ac(t,e){if(AW(t=lr(t)))return BR("Unsupported field value:",e,t),SW(t,e);if(t instanceof PR)return function(n,r){if(!IW(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Ac(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=lr(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return y8(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=At.fromDate(n);return{timestampValue:Vl(r.serializer,i)}}if(n instanceof At){const i=new At(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Vl(r.serializer,i)}}if(n instanceof FR)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Sc)return{bytesValue:B8(r.serializer,n._byteString)};if(n instanceof Kt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:nM(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${m0(n)}`)}(t,e)}function SW(t,e){const n={};return j6(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ko(t,(r,i)=>{const s=Ac(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function AW(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof At||t instanceof FR||t instanceof Sc||t instanceof Kt||t instanceof PR)}function BR(t,e,n){if(!AW(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=m0(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Wp(t,e,n){if((e=lr(e))instanceof Xl)return e._internalPath;if("string"==typeof e)return y0(t,e);throw v0("Field path arguments must be of type string or ",t,!1,void 0,n)}const QEe=new RegExp("[~\\*/\\[\\]]");function y0(t,e,n){if(e.search(QEe)>=0)throw v0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xl(...e.split("."))._internalPath}catch{throw v0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function v0(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new L(C.INVALID_ARGUMENT,a+t+c)}function xW(t,e){return t.some(n=>n.isEqual(e))}class UR{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new JEe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(b0("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class JEe extends UR{data(){return super.data()}}function b0(t,e){return"string"==typeof e?y0(t,e):e instanceof Xl?e._internalPath:e._delegate._internalPath}class jR{}class ZEe extends jR{}function XEe(t,e,...n){let r=[];e instanceof jR&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof td).length,o=i.filter(a=>a instanceof qp).length;if(s>1||s>0&&o>0)throw new L(C.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class qp extends ZEe{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new qp(e,n,r)}_apply(e){const n=this._parse(e);return kW(e._query,n),new Hn(e.firestore,e.converter,WO(e._query,n))}_parse(e){const n=ed(e.firestore);return function(i,s,o,a,c,u,l){let d;if(c.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new L(C.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){RW(l,u);const h=[];for(const f of l)h.push(MW(a,i,f));d={arrayValue:{values:h}}}else d=MW(a,i,l)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||RW(l,u),d=function CW(t,e,n,r=!1){return Ac(n,t.ya(r?4:3,e))}(o,"where",l,"in"===u||"not-in"===u);return Ae.create(c,u,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function eDe(t,e,n){const r=e,i=b0("where",t);return qp._create(i,r,n)}class td extends jR{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new td(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:tt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)kW(s,a),s=WO(s,a)}(e._query,n),new Hn(e.firestore,e.converter,WO(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function MW(t,e,n){if("string"==typeof(n=lr(n))){if(""===n)throw new L(C.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zO(e)&&-1!==n.indexOf("/"))throw new L(C.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ke.fromString(n));if(!J.isDocumentKey(r))throw new L(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gc(t,new J(r))}if(n instanceof Kt)return gc(t,n._key);throw new L(C.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${m0(n)}.`)}function RW(t,e){if(!Array.isArray(t)||0===t.length)throw new L(C.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kW(t,e){if(e.isInequality()){const r=Bv(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new L(C.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=GO(t);null!==s&&function PW(t,e,n){if(!n.isEqual(e))throw new L(C.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new L(C.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class tDe{convertValue(e,n="none"){switch(Jo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(to(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ko(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new FR(kt(e.latitude),kt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Rv(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gp(e));default:return null}}convertTimestamp(e){const n=Yo(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ke.fromString(e);ie(Y8(r));const i=new pc(r.get(1),r.get(3)),s=new J(r.popFirst(5));return i.isEqual(n)||zt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function HR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class xc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nd extends UR{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new E0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(b0("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class E0 extends nd{data(e={}){return super.data(e)}}class rd{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new E0(this._firestore,this._userDataWriter,r.key,r,new xc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new E0(r._firestore,r._userDataWriter,o.doc.key,o.doc,new xc(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new E0(r._firestore,r._userDataWriter,o.doc.key,o.doc,new xc(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return 0!==o.type&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:rDe(o.type),doc:a,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function rDe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}function iDe(t){t=Ne(t,Kt);const e=Ne(t.firestore,mt);return function cW(t,e,n={}){const r=new un;return t.asyncQueue.enqueueAndForget(p(function*(){return function(i,s,o,a,c){const u=new h0({next:d=>{s.enqueueAndForget(()=>QM(i,l));const h=d.docs.has(o);!h&&d.fromCache?c.reject(new L(C.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?c.reject(new L(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),l=new XM(Rl(o.path),u,{includeMetadataChanges:!0,Ku:!0});return KM(i,l)}(yield Zl(t),t.asyncQueue,e,n,r)})),r.promise}(tn(e),t._key).then(n=>function GR(t,e,n){const r=n.docs.get(e._key),i=new oa(t);return new nd(t,i,e._key,r,new xc(n.hasPendingWrites,n.fromCache),e.converter)}(e,t,n))}class oa extends tDe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}function sDe(t){t=Ne(t,Hn);const e=Ne(t.firestore,mt),n=tn(e),r=new oa(e);return function NW(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new L(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),function uW(t,e,n={}){const r=new un;return t.asyncQueue.enqueueAndForget(p(function*(){return function(i,s,o,a,c){const u=new h0({next:d=>{s.enqueueAndForget(()=>QM(i,l)),d.fromCache&&"server"===a.source?c.reject(new L(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),l=new XM(o,u,{includeMetadataChanges:!0,Ku:!0});return KM(i,l)}(yield Zl(t),t.asyncQueue,e,n,r)})),r.promise}(n,t._query).then(i=>new rd(e,r,t,i))}function oDe(t,e,n){t=Ne(t,Kt);const r=Ne(t.firestore,mt),i=HR(t.converter,e,n);return Kp(r,[LR(ed(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,bt.none())])}function aDe(t,e,n,...r){t=Ne(t,Kt);const i=Ne(t.firestore,mt),s=ed(i);let o;return o="string"==typeof(e=lr(e))||e instanceof Xl?function DW(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[Wp(e,r,n)],c=[i];if(s.length%2!=0)throw new L(C.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Wp(e,s[h])),c.push(s[h+1]);const u=[],l=$n.empty();for(let h=a.length-1;h>=0;--h)if(!xW(u,a[h])){const f=a[h];let g=c[h];g=lr(g);const m=o.da(f);if(g instanceof zp)u.push(f);else{const _=Ac(g,m);null!=_&&(u.push(f),l.set(f,_))}}const d=new Nr(u);return new wW(l,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function EW(t,e,n,r){const i=t.ya(1,e,n);BR("Data must be an object, but it was:",i,r);const s=[],o=$n.empty();Ko(r,(c,u)=>{const l=y0(e,c,n);u=lr(u);const d=i.da(l);if(u instanceof zp)s.push(l);else{const h=Ac(u,d);null!=h&&(s.push(l),o.set(l,h))}});const a=new Nr(s);return new wW(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),Kp(i,[o.toMutation(t._key,bt.exists(!0))])}function cDe(t){return Kp(Ne(t.firestore,mt),[new Ll(t._key,bt.none())])}function uDe(t,e){const n=Ne(t.firestore,mt),r=mW(t),i=HR(t.converter,e);return Kp(n,[LR(ed(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,bt.exists(!1))]).then(()=>r)}function Kp(t,e){return function(n,r){const i=new un;return n.asyncQueue.enqueueAndForget(p(function*(){return function cEe(t,e,n){return iR.apply(this,arguments)}(yield function OR(t){return p0(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(tn(t),e)}!function(t,e=!0){Sl=Cf,dr(new Qn("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new mt(new LIe(n.getProvider("auth-internal")),new UIe(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new L(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pc(a.options.projectId,c)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Gt(E6,"3.13.0",t),Gt(E6,"3.13.0","esm2017")}();class ys{constructor(e){return e}}const VW="firestore",zR=new te("angularfire2.firestore-instances");function TDe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ys(r)}}const EDe={provide:class wDe{constructor(){return pA(VW)}},deps:[[new Ir,zR]]},DDe={provide:ys,useFactory:function IDe(t,e){const n=function fA(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(VW,t,e);return n&&new ys(n)},deps:[[new Ir,zR],gl]};let CDe=(()=>{class t{constructor(){Gt("angularfire",sA.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=we({providers:[DDe,EDe]}),t})();function SDe(t,...e){return{ngModule:CDe,providers:[{provide:zR,useFactory:TDe(t),multi:!0,deps:[Ee,Qt,kG,PG,[new Ir,B5],[new Ir,az],...e]}]}}const BW=hi(uDe,!0),C0=hi(BEe,!0),ADe=hi(cDe,!0),id=hi(mW,!0),WR=hi(iDe,!0),UW=hi(sDe,!0),xDe=hi($Ee,!0),NDe=hi(XEe,!0),ODe=hi(oDe,!0),MDe=hi(aDe,!0),RDe=hi(eDe,!0);let Nc=(()=>{class t{constructor(n,r){this.firestore=n,this.router=r,this.userDataSubject=new yr(null),this.userData$=this.userDataSubject.asObservable();const i=localStorage.getItem("user");if(i){const s=JSON.parse(i);this.userDataSubject.next(s)}}registerUser(n,r,i){var s=this;return p(function*(){try{const o=yield s.createUserWithEmailAndPassword(n,r),a=o.user.uid;yield s.addAdditionalAuthData(a,i),yield s.saveUserData(o.user,i),s.router.navigate(["recipes-list"])}catch(o){s.handleError(o)}})()}loginUser(n,r){var i=this;return p(function*(){try{const s=yield i.signInWithEmailAndPassword(n,r),o=s.user.uid,a=yield i.getAdditionalAuthDataById(o);yield i.saveUserData(s.user,a),i.router.navigate(["recipes-list"])}catch(s){i.handleError(s)}})()}logoutUser(){var n=this;return p(function*(){try{yield n.signOutAuth(),yield n.clearUserData(),n.router.navigate(["login"])}catch(r){n.handleError(r)}})()}forgotPassword(n){var r=this;return p(function*(){try{yield r.sendPasswordResetEmail(n),window.alert("Password reset email sent, check your inbox."),r.router.navigate(["login"])}catch(i){r.handleError(i),window.alert(i)}})()}sendPasswordResetEmail(n){return function Bhe(t,e,n){return XE.apply(this,arguments)}(gy(),n)}createUserWithEmailAndPassword(n,r){return function jhe(t,e,n){return iD.apply(this,arguments)}(gy(),n,r)}signInWithEmailAndPassword(n,r){return function $he(t,e,n){return $E(Ro(t),L$.credential(e,n)).catch(function(){var r=p(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&JE(t),i});return function(i){return r.apply(this,arguments)}}())}(gy(),n,r)}signOutAuth(){return function Zhe(t){return Ro(t).signOut()}(gy())}addAdditionalAuthData(n,r){return ODe(id(this.firestore,"Auth",n),r)}getAdditionalAuthDataById(n){var r=this;return p(function*(){const i=id(r.firestore,"Auth",n),s=yield WR(i);return s.exists()?s.data():null})()}saveUserData(n,r){return new Promise((i,s)=>{if(n&&r){const o={...n,...r};localStorage.setItem("user",JSON.stringify(o)),this.userDataSubject.next(o),i()}else localStorage.setItem("user","null"),this.userDataSubject.next(null),s()})}clearUserData(){return new Promise((n,r)=>{localStorage.removeItem("user"),this.userDataSubject.next(null),n()})}handleError(n){if(n instanceof Error){const i=n.message;console.error(`Error (${n.name}): ${i}`),alert(i)}else console.error("Unknown error:",n),alert(n)}static#e=this.\u0275fac=function(r){return new(r||t)(q(ys),q(Pn))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function kDe(t,e){1&t&&(y(0,"div",19),S(1," Email is required! "),v())}function PDe(t,e){1&t&&(y(0,"div",19),S(1," Please enter a valid email address! "),v())}function FDe(t,e){if(1&t&&(y(0,"div"),k(1,kDe,2,0,"div",18),k(2,PDe,2,0,"div",18),v()),2&t){const n=H();let r,i;A(1),O("ngIf",null==(r=n.registerForm.get("email"))||null==r.errors?null:r.errors.required),A(1),O("ngIf",null==(i=n.registerForm.get("email"))||null==i.errors?null:i.errors.email)}}function LDe(t,e){1&t&&(y(0,"div",19),S(1," Password is required! "),v())}function VDe(t,e){1&t&&(y(0,"div",19),S(1," Password must be at least 6 characters long! "),v())}function BDe(t,e){if(1&t&&(y(0,"div"),k(1,LDe,2,0,"div",18),k(2,VDe,2,0,"div",18),v()),2&t){const n=H();let r,i;A(1),O("ngIf",null==(r=n.registerForm.get("password"))||null==r.errors?null:r.errors.required),A(1),O("ngIf",null==(i=n.registerForm.get("password"))||null==i.errors?null:i.errors.minlength)}}function UDe(t,e){1&t&&(y(0,"div",19),S(1," Repeat password is required! "),v())}function jDe(t,e){1&t&&(y(0,"div",19),S(1," Repeat password must be at least 6 characters long! "),v())}function $De(t,e){if(1&t&&(y(0,"div"),k(1,UDe,2,0,"div",18),k(2,jDe,2,0,"div",18),v()),2&t){const n=H();let r,i;A(1),O("ngIf",null==(r=n.registerForm.get("repeatPassword"))||null==r.errors?null:r.errors.required),A(1),O("ngIf",null==(i=n.registerForm.get("repeatPassword"))||null==i.errors?null:i.errors.minlength)}}function HDe(t,e){1&t&&(y(0,"div",19),S(1," First name is required! "),v())}function GDe(t,e){if(1&t&&(y(0,"div"),k(1,HDe,2,0,"div",18),v()),2&t){const n=H();let r;A(1),O("ngIf",null==(r=n.registerForm.get("firstName"))||null==r.errors?null:r.errors.required)}}function zDe(t,e){1&t&&(y(0,"div",19),S(1," Last name is required! "),v())}function WDe(t,e){if(1&t&&(y(0,"div"),k(1,zDe,2,0,"div",18),v()),2&t){const n=H();let r;A(1),O("ngIf",null==(r=n.registerForm.get("lastName"))||null==r.errors?null:r.errors.required)}}let qDe=(()=>{class t{constructor(n,r,i){this.userService=n,this.fb=r,this.router=i,this.registerForm=this.fb.group({email:["",[Ct.required,Ct.email]],password:["",[Ct.required,Ct.minLength(6)]],repeatPassword:["",Ct.required],firstName:["",Ct.required],lastName:["",Ct.required],isActive:[!0,Ct.required],isAdmin:[!1,Ct.required]})}submitRegisterForm(){var n=this;return p(function*(){if(n.registerForm.valid){const{email:r,password:i,repeatPassword:s,...o}=n.registerForm.value;if(i!==s)return void alert("Password do not match!");try{yield n.userService.registerUser(r,i,o)}catch(a){alert(a)}}})()}static#e=this.\u0275fac=function(r){return new(r||t)(w(Nc),w(H_),w(Pn))};static#t=this.\u0275cmp=ot({type:t,selectors:[["app-register"]],decls:31,vars:6,consts:[[1,"main-short"],[1,"wrapper"],[1,"title"],[3,"formGroup","ngSubmit"],["for","email"],["type","email","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","new-password"],["for","repeatPassword"],["type","password","id","repeatPassword","formControlName","repeatPassword","autocomplete","new-password"],["for","firstName"],["type","text","id","firstName","formControlName","firstName"],["for","lastName"],["type","text","id","lastName","formControlName","lastName"],["type","submit",1,"button",2,"width","100%","margin-top","20px"],["href","#","routerLink","/login"],[1,"hint"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(y(0,"div",0)(1,"div",1)(2,"h1",2),S(3,"Registration"),v(),y(4,"form",3),ce("ngSubmit",function(){return i.submitRegisterForm()}),y(5,"label",4),S(6,"Email:"),v(),j(7,"input",5),k(8,FDe,3,2,"div",6),y(9,"label",7),S(10,"Password:"),v(),j(11,"input",8),k(12,BDe,3,2,"div",6),y(13,"label",9),S(14,"Repeat password:"),v(),j(15,"input",10),k(16,$De,3,2,"div",6),y(17,"label",11),S(18,"First name:"),v(),j(19,"input",12),k(20,GDe,2,1,"div",6),y(21,"label",13),S(22,"Last Name:"),v(),j(23,"input",14),k(24,WDe,2,1,"div",6),y(25,"button",15),S(26,"Submit"),v(),j(27,"hr"),y(28,"a",16)(29,"div",17),S(30,"Already registered?"),v()()()()()),2&r){let s,o,a,c,u;A(4),O("formGroup",i.registerForm),A(4),O("ngIf",(null==(s=i.registerForm.get("email"))?null:s.invalid)&&(null==(s=i.registerForm.get("email"))?null:s.touched)),A(4),O("ngIf",(null==(o=i.registerForm.get("password"))?null:o.invalid)&&(null==(o=i.registerForm.get("password"))?null:o.touched)),A(4),O("ngIf",(null==(a=i.registerForm.get("repeatPassword"))?null:a.invalid)&&(null==(a=i.registerForm.get("repeatPassword"))?null:a.touched)),A(4),O("ngIf",(null==(c=i.registerForm.get("firstName"))?null:c.invalid)&&(null==(c=i.registerForm.get("firstName"))?null:c.touched)),A(4),O("ngIf",(null==(u=i.registerForm.get("lastName"))?null:u.invalid)&&(null==(u=i.registerForm.get("lastName"))?null:u.touched))}},dependencies:[zr,tf,Va,Wh,qh,Ua,al,ns],styles:[".checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--mainBackgroundColor);border:none}}"]})}return t})();function KDe(t,e){1&t&&(y(0,"div",14),S(1," Email is required! "),v())}function YDe(t,e){1&t&&(y(0,"div",14),S(1," Invalid email! "),v())}function QDe(t,e){if(1&t&&(y(0,"div"),k(1,KDe,2,0,"div",15),k(2,YDe,2,0,"div",15),v()),2&t){const n=H();let r,i;A(1),O("ngIf",null==(r=n.logInForm.get("email"))||null==r.errors?null:r.errors.required),A(1),O("ngIf",null==(i=n.logInForm.get("email"))||null==i.errors?null:i.errors.email)}}function JDe(t,e){1&t&&(y(0,"div",14),S(1," Password is required! "),v())}function ZDe(t,e){1&t&&(y(0,"div",14),S(1," Password must be at least 6 characters long! "),v())}function XDe(t,e){if(1&t&&(y(0,"div"),k(1,JDe,2,0,"div",15),k(2,ZDe,2,0,"div",15),v()),2&t){const n=H();let r,i;A(1),O("ngIf",null==(r=n.logInForm.get("password"))||null==r.errors?null:r.errors.required),A(1),O("ngIf",null==(i=n.logInForm.get("password"))||null==i.errors?null:i.errors.minlength)}}function eCe(t,e){if(1&t&&(y(0,"div"),S(1),v()),2&t){const n=H();A(1),Ut(n.loginError)}}let tCe=(()=>{class t{constructor(n,r,i,s){this.userService=n,this.fb=r,this.route=i,this.router=s,this.loginError=null,this.returnUrl=null,this.logInForm=this.fb.group({email:["",[Ct.required,Ct.email]],password:["",[Ct.required,Ct.minLength(6)]]})}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}submitLogInForm(){var n=this;return p(function*(){if(n.logInForm.valid){const{email:r,password:i}=n.logInForm.value;try{yield n.userService.loginUser(r,i);const s=n.returnUrl||"/category";yield n.router.navigateByUrl(s)}catch(s){console.log(s)}}})()}static#e=this.\u0275fac=function(r){return new(r||t)(w(Nc),w(H_),w(Ao),w(Pn))};static#t=this.\u0275cmp=ot({type:t,selectors:[["app-login"]],decls:28,vars:4,consts:[[1,"main-short"],[1,"wrapper"],[1,"title"],[3,"formGroup","ngSubmit"],[1,"formGroup"],["for","email"],["type","text","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","current-password"],["type","submit",1,"button",2,"width","100%"],["href","#","routerLink","/register"],[1,"hint"],["href","#","routerLink","/forgot-password"],[1,"errors"],["class","errors",4,"ngIf"]],template:function(r,i){if(1&r&&(y(0,"div",0)(1,"div",1)(2,"h1",2),S(3,"Login"),v(),y(4,"form",3),ce("ngSubmit",function(){return i.submitLogInForm()}),y(5,"div",4)(6,"label",5),S(7,"Email"),v(),j(8,"input",6),k(9,QDe,3,2,"div",7),v(),y(10,"div",4)(11,"label",8),S(12,"Password"),v(),j(13,"input",9),k(14,XDe,3,2,"div",7),v(),j(15,"br"),y(16,"div",4)(17,"button",10),S(18,"Submit"),v()(),k(19,eCe,2,1,"div",7),j(20,"hr"),y(21,"div")(22,"a",11)(23,"div",12),S(24,"Don't have a Registration yet?"),v()(),y(25,"a",13)(26,"div",14),S(27,"Forgot your password?"),v()()()()()()),2&r){let s,o;A(4),O("formGroup",i.logInForm),A(5),O("ngIf",(null==(s=i.logInForm.get("email"))?null:s.invalid)&&(null==(s=i.logInForm.get("email"))?null:s.touched)),A(5),O("ngIf",(null==(o=i.logInForm.get("password"))?null:o.invalid)&&(null==(o=i.logInForm.get("password"))?null:o.touched)),A(5),O("ngIf",i.loginError)}},dependencies:[zr,tf,Va,Wh,qh,Ua,al,ns],styles:["@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--mainBackgroundColor);border:none}}"]})}return t})(),nCe=(()=>{class t{constructor(n){this.userService=n}static#e=this.\u0275fac=function(r){return new(r||t)(w(Nc))};static#t=this.\u0275cmp=ot({type:t,selectors:[["app-forgot-password"]],decls:16,vars:0,consts:[[1,"main-short"],[1,"wrapper"],[1,"title"],[1,"hint"],[1,"formGroup"],["type","email","placeholder","Email","required","",1,"formControl"],["passwordResetEmail",""],[1,"errors"],[1,"buttons"],["type","submit","value","\u0418\u0437\u043f\u0440\u0430\u0442\u0438 \u0438\u043c\u0435\u0439\u043b",1,"button",3,"click"],["href","#","routerLink","/login"]],template:function(r,i){if(1&r){const s=kn();y(0,"div",0)(1,"div",1)(2,"h3",2),S(3,"Forgotten password"),v(),y(4,"p",3),S(5," Please enter your email address so we can send you a password reset email. "),v(),y(6,"div",4),j(7,"input",5,6),v(),y(9,"p",7),S(10,"If you can't find the email, please check your spam folder!"),v(),y(11,"div",8)(12,"input",9),ce("click",function(){gn(s);const a=function Ii(t){return ou(function xY(){return le.lFrame.contextLView}(),Se+t)}(8);return mn(i.userService.forgotPassword(a.value))}),v(),y(13,"a",10)(14,"div",3),S(15,"Return to Login"),v()()()()()}},dependencies:[ns],styles:[".buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.wrapper[_ngcontent-%COMP%]{padding:0 5%;max-width:600px;margin:0 auto}"]})}return t})(),rCe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ot({type:t,selectors:[["app-carousel"]],decls:24,vars:0,consts:[["id","carouselExampleAutoplaying","data-bs-ride","carousel",1,"carousel","slide"],[1,"overlay"],[1,"info"],[1,"title"],[1,"subtitle"],["routerLink","/recipes-list",1,"infoBtn"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://www.aveeno.com/sites/aveeno_us_2/files/healingherbswithmortaran_687349.jpg","alt","...",1,"carousel-img","d-block","w-100"],[1,"carousel-item"],["src","https://imgix-prod.sgs.com/-/media/sgscorp/images/connectivity-and-products/aromatics-pexels.cdn.en-MU.1.jpg","alt","...",1,"carousel-img","d-block","w-100"],["src","https://images.pexels.com/photos/1793035/pexels-photo-1793035.jpeg","alt","...",1,"carousel-img","d-block","w-100"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(r,i){1&r&&(y(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),S(4,"Welcome to our Healing Herbal Recipe Community!"),v(),y(5,"div",4),S(6," Explore a wealth of new herbal recipes designed for healing right here. Upon registration, you'll gain access to not only adding your favorite healing recipes but also rating and commenting on the ones that resonate with you. Join us in nurturing wellness through the power of herbal remedies! "),v(),y(7,"a",5),S(8,"READ MORE"),v()()(),y(9,"div",6)(10,"div",7),j(11,"img",8),v(),y(12,"div",9),j(13,"img",10),v(),y(14,"div",9),j(15,"img",11),v()(),y(16,"button",12),j(17,"span",13),y(18,"span",14),S(19,"Previous"),v()(),y(20,"button",15),j(21,"span",16),y(22,"span",14),S(23,"Next"),v()()())},dependencies:[ns],styles:[".carousel[_ngcontent-%COMP%]{max-height:92vh;overflow:hidden}.carousel-img[_ngcontent-%COMP%]{height:100vh;object-fit:cover}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{z-index:9}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0 50% 0 0;background-color:#a7575e99;z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:47%;right:10%;top:40%;transform:translate(2%,-27%);color:var(--mainWhiteColor);text-align:left}.title[_ngcontent-%COMP%]{font-size:32px;padding-bottom:20px;font-weight:900;line-height:35px;color:var(--backgroundColor);text-align:left}.subtitle[_ngcontent-%COMP%]{font-style:italic;color:var(--backgroundColor)}.infoBtn[_ngcontent-%COMP%]{background-color:var(--backgroundColor);color:var(--textColor);padding:13px 35px;font-size:14px;margin-top:40px;display:inline-block;font-weight:700;font-family:Roboto,sans-serif;border:1px solid transparent}.infoBtn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:transparent;border:1px solid var(--backgroundColor);color:var(--mainWhiteColor)}@media (max-width: 460px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#a7575e99;z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.infoBtn[_ngcontent-%COMP%]{margin-top:10px}.title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900;text-align:center}}@media (min-width: 461px) and (max-width: 767px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#a7575e99;z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.infoBtn[_ngcontent-%COMP%]{margin-top:10px}.title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900}}@media (min-width: 768px) and (max-width: 1023px){.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor)}}"]})}return t})(),iCe=(()=>{class t{constructor(n){this.firestore=n}getRecipes(){const r=C0(this.firestore,"Recipe");return new Be(i=>{UW(r).then(s=>{const o=[];s.forEach(a=>{const u={...a.data(),id:a.id};o.push(u)}),i.next(o),i.complete()}).catch(s=>{i.error(s)})})}static#e=this.\u0275fac=function(r){return new(r||t)(q(ys))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const sCe=function(t){return["/recipe",t]};function oCe(t,e){if(1&t&&(y(0,"div")(1,"a",5)(2,"div",6)(3,"div",7),j(4,"img",8),v(),y(5,"p",9),S(6),v()()()()),2&t){const n=e.$implicit;A(1),O("routerLink",function zu(t,e,n,r){return f3(P(),ir(),t,e,n,r)}(4,sCe,n.id)),A(3),km("alt",n.title),O("src",n.image_recipe[0].image_recipe,Kd),A(2),Ut(n.title)}}let aCe=(()=>{class t{constructor(n){this.recipeService=n,this.recipes=[]}ngOnInit(){this.getRecipes()}getRecipes(){this.recipeService.getRecipes().subscribe({next:n=>{this.recipes=n.sort((r,i)=>r.title.localeCompare(i.title))},error:n=>{console.error("Error fetching recipes:",n)}})}static#e=this.\u0275fac=function(r){return new(r||t)(w(iCe))};static#t=this.\u0275cmp=ot({type:t,selectors:[["app-recipes-list"]],decls:6,vars:1,consts:[[1,"main-long"],[1,"recipes-list"],[1,"title"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"]],template:function(r,i){1&r&&(y(0,"main",0)(1,"section",1)(2,"h2",2),S(3,"Recipes list"),v(),y(4,"div",3),k(5,oCe,7,6,"div",4),v()()()),2&r&&(A(5),O("ngForOf",i.recipes))},dependencies:[xi,ns],styles:[".recipe-list[_ngcontent-%COMP%]{max-width:1200px;position:relative;margin:0 auto;display:grid;grid-template-columns:repeat(4,1fr)}.recipe-item[_ngcontent-%COMP%]{border:1px solid var(--mainWhiteColor);margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-title[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);background:var(--backgroundColor);color:var(--mainBlackColor);font-weight:600;padding:0 5px;margin:0;text-align:center;width:100%;top:70%;height:30%;font-family:var(--titleFont);text-transform:capitalize;display:flex;align-items:center;justify-content:center}.recipe-item[_ngcontent-%COMP%]:hover{transform:scale(.95);transition:1s ease-in-out}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;top:2%;height:30%;color:var(--mainBlackColor);background:var(--mainMagnoliaColor);transition:1s ease-in-out}@media (max-width: 460px){.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 5%}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px;height:25%;top:75%}}@media (min-width: 461px) and (max-width: 767px){.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 10%}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:16px;height:20%;top:79%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);padding:0 5%;column-gap:10px}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);padding:0 5%;column-gap:10px}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return t})();ul("firebase","10.8.1","app");const S0_firebaseConfig={apiKey:"AIzaSyCVbXDjBGUwaOrn1CZYGIwce1dYPKpR7PA",authDomain:"the-natural-way.firebaseapp.com",projectId:"the-natural-way",storageBucket:"the-natural-way.appspot.com",messagingSenderId:"778711637280",appId:"1:778711637280:web:30b52ea2a4e159578fcb45"},S0_cloudinaryConfig_cloudName="dsla98vyk",S0_cloudinaryConfig_uploadPreset="the_natural_way";e$(S0_firebaseConfig);let lCe=(()=>{class t{constructor(){this.cloudName=S0_cloudinaryConfig_cloudName,this.uploadPreset=S0_cloudinaryConfig_uploadPreset,this.imageUploaded=new M}ngOnInit(){this.myWidget=cloudinary.createUploadWidget({cloudName:this.cloudName,uploadPreset:this.uploadPreset,maxImageWidth:500},(n,r)=>{!n&&r&&"success"===r.event&&(console.log("Done! Here is the image info: ",r.info),this.onImagesUploaded(r.info.secure_url))})}onImagesUploaded(n){this.imageUploaded.emit(n)}openWidget(){this.myWidget.open()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ot({type:t,selectors:[["app-image-upload"]],outputs:{imageUploaded:"imageUploaded"},decls:4,vars:0,consts:[["id","upload_widget",1,"button-img",3,"click"],[1,"fa-solid","fa-plus","fa-beat-fade"]],template:function(r,i){1&r&&(y(0,"div")(1,"button",0),ce("click",function(){return i.openWidget()}),j(2,"i",1),S(3," Add images "),v()())}})}return t})();function dCe(t,e){1&t&&(y(0,"div",27),S(1," Please fill in the title! "),v())}function hCe(t,e){if(1&t&&(y(0,"div"),k(1,dCe,2,0,"div",26),v()),2&t){const n=H();let r;A(1),O("ngIf",null==(r=n.recipeForm.get("title"))||null==r.errors?null:r.errors.required)}}function fCe(t,e){1&t&&(y(0,"div",27),S(1," Please fill in a subtitle! "),v())}function pCe(t,e){if(1&t&&(y(0,"div"),k(1,fCe,2,0,"div",26),v()),2&t){const n=H();let r;A(1),O("ngIf",null==(r=n.recipeForm.get("subtitle"))||null==r.errors?null:r.errors.required)}}function gCe(t,e){1&t&&(y(0,"div",27),S(1," Please fill in the method of preparation! "),v())}function mCe(t,e){if(1&t&&(y(0,"div"),k(1,gCe,2,0,"div",26),v()),2&t){const n=H();let r;A(1),O("ngIf",null==(r=n.recipeForm.get("description"))||null==r.errors?null:r.errors.required)}}function _Ce(t,e){if(1&t&&j(0,"img",33),2&t){const n=H().index;let i;O("src",null==(i=H().image_recipe.controls[n].get("image_recipe"))?null:i.value,Kd)}}function yCe(t,e){if(1&t){const n=kn();y(0,"div",28)(1,"p",10),S(2,"Added image"),v(),j(3,"input",29),k(4,_Ce,1,1,"img",30),j(5,"br"),y(6,"button",31),ce("click",function(){const s=gn(n).index;return mn(H().removeImage(s))}),j(7,"i",32),S(8,"\xa0 Remove added image "),v(),j(9,"br"),v()}if(2&t){const n=e.index,r=H();let i;O("formGroupName",n),A(4),O("ngIf",null==(i=r.image_recipe.controls[n].get("image_recipe"))?null:i.value)}}function vCe(t,e){if(1&t){const n=kn();y(0,"div",28)(1,"p",10),S(2,"Paste the video link here"),v(),j(3,"input",34),y(4,"button",31),ce("click",function(){const s=gn(n).index;return mn(H().removeVideo(s))}),j(5,"i",32),S(6,"\xa0 Remove the video link "),v()()}2&t&&O("formGroupName",e.index)}function bCe(t,e){1&t&&(y(0,"div",27),S(1," Please enter an ingredient name! "),v())}function wCe(t,e){if(1&t&&(y(0,"div"),k(1,bCe,2,0,"div",26),v()),2&t){const n=H().index,r=H();let i;A(1),O("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".name"))||null==i.errors?null:i.errors.required)}}function ICe(t,e){1&t&&(y(0,"div",27),S(1," Please fill in the quantity of the ingredient! "),v())}function TCe(t,e){if(1&t&&(y(0,"div"),k(1,ICe,2,0,"div",26),v()),2&t){const n=H().index,r=H();let i;A(1),O("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".amount"))||null==i.errors?null:i.errors.required)}}function ECe(t,e){1&t&&(y(0,"div",27),S(1," Please select a unit of measurement! "),v())}function DCe(t,e){if(1&t&&(y(0,"div"),k(1,ECe,2,0,"div",26),v()),2&t){const n=H().index,r=H();let i;A(1),O("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".unit"))||null==i.errors?null:i.errors.required)}}function CCe(t,e){if(1&t){const n=kn();y(0,"div",28)(1,"div",35)(2,"div",36),j(3,"hr"),y(4,"p"),S(5,"\xa0\xa0Ingredient\xa0\xa0"),v(),j(6,"hr"),v(),y(7,"label",37),S(8,"Name (required):"),v(),j(9,"input",38),k(10,wCe,2,1,"div",5),y(11,"label",39),S(12,"Quantity (required):"),v(),j(13,"input",40),k(14,TCe,2,1,"div",5),y(15,"label",41),S(16,"Unit of measurement (required):"),v(),y(17,"p",10),S(18,"In which we measure the ingredient"),v(),y(19,"select",42)(20,"option",43),S(21,"Tea spoon"),v(),y(22,"option",44),S(23,"Tablespoon"),v(),y(24,"option",45),S(25,"Tea cup"),v(),y(26,"option",46),S(27,"Coffee cup"),v(),y(28,"option",47),S(29,"Gram"),v(),y(30,"option",48),S(31,"Kilogram"),v(),y(32,"option",49),S(33,"Milliliter"),v(),y(34,"option",50),S(35,"Liter"),v(),y(36,"option",51),S(37,"Pieces"),v()(),k(38,DCe,2,1,"div",5),y(39,"label",52),S(40,"Order index:"),v(),y(41,"p",10),S(42," The order in which the ingredients appear in the recipe "),v(),j(43,"input",53),y(44,"button",31),ce("click",function(){const s=gn(n).index;return mn(H().removeIngredient(s))}),j(45,"i",32),S(46,"\xa0Remove the ingredient "),v()()()}if(2&t){const n=e.index,r=H();let i,s,o;O("formGroupName",n),A(10),O("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".name"))?null:i.touched),A(4),O("ngIf",null==(s=r.recipeForm.get("ingredients."+n+".amount"))?null:s.touched),A(24),O("ngIf",null==(o=r.recipeForm.get("ingredients."+n+".unit"))?null:o.touched)}}let SCe=(()=>{class t{constructor(n,r,i){this.fb=r,this.router=i,this.editorConfig={},this.currentOrderIndex=1,this.firestore=n,this.recipeForm=this.fb.group({is_active:[!1],title:["",[Ct.required]],subtitle:["",[Ct.required]],description:["",[Ct.required]],summary:[""],like:[0],author:[""],image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([this.fb.group({name:["",[Ct.required]],amount:[null,[Ct.required]],unit:["",[Ct.required]],order_index:[0]})])})}ngOnInit(){this.editorConfig={content_style:"body { background-color: #f6f4f9; }",content_css:"default",base_url:"/tinymce",suffix:".min",menubar:!1,height:300,toolbar:"undo redo | formatselect | bold italic backcolor |           alignleft aligncenter alignright alignjustify |           bullist numlist outdent indent | removeformat "}}addImageToForm(n){this.recipeForm.get("image_recipe").push(this.fb.group({image_recipe:n}))}removeImage(n){this.recipeForm.get("image_recipe").removeAt(n)}addVideo(){this.recipeForm.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(n){this.recipeForm.get("video_recipe").removeAt(n)}addPreparation(){this.recipeForm.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(n){this.recipeForm.get("preparation_method").removeAt(n)}addIngredient(){this.recipeForm.get("ingredients").push(this.fb.group({name:["",[Ct.required]],amount:[null,[Ct.required]],unit:["",[Ct.required]],order_index:this.currentOrderIndex})),this.currentOrderIndex++,console.log(this.currentOrderIndex)}removeIngredient(n){this.recipeForm.get("ingredients").removeAt(n)}get ingredients(){return this.recipeForm.get("ingredients")}get image_recipe(){return this.recipeForm.get("image_recipe")}get video_recipe(){return this.recipeForm.get("video_recipe")}get preparation_method(){return this.recipeForm.get("preparation_method")}onSubmit(){this.recipeForm.invalid?alert("The form is not valid. Please fill in all required fields."):(this.addRecipe(this.recipeForm.value),this.recipeForm.reset())}addRecipe(n){BW(C0(this.firestore,"Recipe"),n).then(i=>{console.log("Document written with ID: ",i.id),this.router.navigate(["/recipe",i.id])}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||t)(w(ys),w(H_),w(Pn))};static#t=this.\u0275cmp=ot({type:t,selectors:[["app-recipe-create"]],decls:56,vars:7,consts:[[1,"main-long"],[1,"wrapper"],[1,"title"],[3,"formGroup"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["type","text","id","subtitle","formControlName","subtitle"],["for","description"],["name","text","id","description","formControlName","description","cols","30","rows","5"],["for","summary"],[1,"hint"],["type","text","id","summary","formControlName","summary"],[3,"imageUploaded"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["type","button",1,"button-img",3,"click"],[1,"fa-solid","fa-plus","fa-beat-fade"],["formArrayName","ingredients",1,"ingredients"],["type","button",1,"button",2,"width","100%",3,"click"],["href","javascript:history.back()",1,"back-button"],[1,"button-box"],[1,"button-elem"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],["viewBox","0 0 46 40"],["class","errors",4,"ngIf"],[1,"errors"],[3,"formGroupName"],["type","text","id","image_recipe","formControlName","image_recipe"],["alt","Image Preview","class","image-preview",3,"src",4,"ngIf"],["type","button",1,"removeIngredient",3,"click"],[1,"fa-solid","fa-trash","fa-shake"],["alt","Image Preview",1,"image-preview",3,"src"],["type","text","id","video_recipe","formControlName","video_recipe"],[1,"ingredient"],[1,"divider"],["for","name"],["type","text","id","name","formControlName","name"],["for","amount"],["type","number","id","amount","formControlName","amount"],["for","unit"],["id","ingredient_unit","formControlName","unit"],["value","ts."],["value","tbs."],["value","tc."],["value","cc."],["value","gr."],["value","kg."],["value","ml."],["value","l."],["value","pieces"],["for","order_index"],["type","number","id","ingredient_order_index","formControlName","order_index"]],template:function(r,i){if(1&r&&(y(0,"div",0)(1,"div",1)(2,"h1",2),S(3,"Add a recipe"),v(),y(4,"form",3)(5,"label"),S(6," Title (required): "),j(7,"input",4),v(),k(8,hCe,2,1,"div",5),y(9,"label"),S(10," Subtitle (required): "),j(11,"input",6),v(),k(12,pCe,2,1,"div",5),y(13,"div")(14,"label",7),S(15,"Method of preparation (required):"),v(),j(16,"textarea",8),v(),k(17,mCe,2,1,"div",5),y(18,"div")(19,"label",9),S(20,"Summary:"),v(),y(21,"p",10),S(22,"Recipe summary"),v(),j(23,"input",11),v(),y(24,"div"),j(25,"br"),y(26,"app-image-upload",12),ce("imageUploaded",function(o){return i.addImageToForm(o)}),v(),y(27,"div",13),k(28,yCe,10,2,"div",14),v(),y(29,"div",15),k(30,vCe,7,1,"div",14),y(31,"button",16),ce("click",function(){return i.addVideo()}),j(32,"i",17),S(33," Add a link to a recipe "),v()()(),y(34,"div",18),k(35,CCe,47,4,"div",14),v(),j(36,"br")(37,"hr")(38,"br"),y(39,"button",16),ce("click",function(){return i.addIngredient()}),j(40,"i",17),S(41," Add one more ingredient "),v(),j(42,"br"),y(43,"button",19),ce("click",function(){return i.onSubmit()}),S(44," Add a recipe "),v(),j(45,"br")(46,"hr"),S(47," Go Back "),y(48,"a",20)(49,"div",21)(50,"span",22),yo(),y(51,"svg",23),j(52,"path",24),v()(),uu(),y(53,"span",22),yo(),y(54,"svg",25),j(55,"path",24),v()()()()()()()),2&r){let s,o,a;A(4),O("formGroup",i.recipeForm),A(4),O("ngIf",null==(s=i.recipeForm.get("title"))?null:s.touched),A(4),O("ngIf",null==(o=i.recipeForm.get("subtitle"))?null:o.touched),A(5),O("ngIf",null==(a=i.recipeForm.get("description"))?null:a.touched),A(11),O("ngForOf",i.image_recipe.controls),A(2),O("ngForOf",i.video_recipe.controls),A(5),O("ngForOf",i.ingredients.controls)}},dependencies:[xi,zr,tf,Ij,Ej,Va,DT,$_,Wh,qh,Ua,al,U_,j_,lCe],styles:[".tiny[_ngcontent-%COMP%]{margin:20px 0}.removeIngredient[_ngcontent-%COMP%]{all:unset;color:red;cursor:pointer;margin-top:20px;text-align:right}.removeIngredient[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.addIngredient[_ngcontent-%COMP%]{all:unset;color:var(--mainGreenColor);cursor:pointer;margin:0 0 20px 30px}.addIngredient[_ngcontent-%COMP%]:hover{background-color:unset;color:var(--mainRedColor);box-shadow:unset}form[_ngcontent-%COMP%]{max-width:600px;margin:0 auto 50px;padding:20px;background-color:var(--backgroundColor);border-radius:10px}"]})}return t})(),ACe=(()=>{class t{constructor(n){this.firestore=n}getRecipeById(n){var r=this;return p(function*(){const i=id(r.firestore,"Recipe",n),s=yield WR(i);return s.exists()?s.data():null})()}static#e=this.\u0275fac=function(r){return new(r||t)(q(ys))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),jW=(()=>{class t{constructor(n){this.firestore=n,this.commentAddedSubject=new Fe}getCommentsForRecipe(n){var r=this;return p(function*(){try{const i=C0(r.firestore,"Comments"),s=NDe(i,RDe("recipeId","==",n)),o=yield UW(s),a=[];return o.forEach(c=>{const u=c.data();a.push({create_time:u.create_time,name:u.name,recipeId:u.recipeId,text:u.text,uid:u.uid,id:c.id})}),a.sort((c,u)=>{const l=c.create_time.toDate();return u.create_time.toDate()-l}),a}catch(i){return console.error("Error retrieving comments:",i),[]}})()}addComment(n){var r=this;return p(function*(){try{const i="Comments",s=yield BW(C0(r.firestore,i),n);return r.commentAddedSubject.next(),s.id}catch(i){return console.error("Error adding comment:",i),null}})()}deleteComment(n){var r=this;return p(function*(){try{const s=id(r.firestore,"Comments",n);yield ADe(s),console.log("Comment deleted successfully:",n)}catch(i){console.error("Error deleting comment:",i)}})()}getCommentById(n){var r=this;return p(function*(){const i=id(r.firestore,"Comments",n),s=yield WR(i);if(s.exists()){const o=s.data();return console.log(o.recipeId),s.data()}return null})()}editComment(n,r){var i=this;return p(function*(){try{const o=id(i.firestore,"Comments",n);yield MDe(o,r),console.log("Comment edited successfully:",n)}catch(s){console.error("Error editing comment:",s)}})()}getCommentAddedObservable(){return this.commentAddedSubject.asObservable()}static#e=this.\u0275fac=function(r){return new(r||t)(q(ys))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function xCe(t,e){1&t&&(y(0,"div",9),S(1," Please write your comment here! "),v())}function NCe(t,e){if(1&t&&(y(0,"div"),k(1,xCe,2,0,"div",8),v()),2&t){const n=H();let r;A(1),O("ngIf",null==(r=n.commentForm.get("text"))||null==r.errors?null:r.errors.required)}}let OCe=(()=>{class t{constructor(n,r,i,s){this.fb=n,this.commentService=i,this.userService=s,this.timestamp=new Date,this.fullName="",this.userData=null,this.firestore=r}ngOnInit(){this.commentForm=this.fb.group({name:[""],text:["",Ct.required],recipeId:[this.recipeId],create_time:[this.timestamp],uid:[""]}),this.userService.userData$.subscribe({next:n=>{n?(this.userData=n,this.fullName=this.userData.firstName+" "+this.userData.lastName):this.fullName="\u0410\u043d\u043e\u043d\u0438\u043c\u0435\u043d"},error:n=>{}})}onSubmit(){var n=this;return p(function*(){if(n.timestamp=new Date,n.commentForm.valid){n.commentForm.patchValue({name:n.fullName}),n.commentForm.patchValue({recipeId:n.recipeId}),n.commentForm.patchValue({create_time:n.timestamp}),n.commentForm.patchValue({uid:n.userData.uid});try{(yield n.commentService.addComment(n.commentForm.value))?(alert("\u0412\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0445\u0442\u0435 \u0432\u0430\u0448\u0438\u044f \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440"),n.commentForm.reset()):console.error("Error adding comment.")}catch(r){console.error("An error occurred while submitting the comment:",r)}}})()}static#e=this.\u0275fac=function(r){return new(r||t)(w(H_),w(ys),w(jW),w(Nc))};static#t=this.\u0275cmp=ot({type:t,selectors:[["app-comment-form"]],inputs:{recipeId:"recipeId"},decls:15,vars:2,consts:[[1,"commentWrapper"],["id","commentForm",3,"formGroup","ngSubmit"],[1,"divider"],[1,"form-group"],["for","text"],["id","text","formControlName","text",1,"form-control"],[4,"ngIf"],["type","submit",1,"button",2,"width","100%"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(y(0,"div",0)(1,"form",1),ce("ngSubmit",function(){return i.onSubmit()}),y(2,"div",2),j(3,"hr"),y(4,"p"),S(5,"\xa0\xa0Comment\xa0\xa0"),v(),j(6,"hr"),v(),y(7,"div",3)(8,"label",4),S(9,"Comment (required):"),v(),j(10,"textarea",5),v(),k(11,NCe,2,1,"div",6),j(12,"br"),y(13,"button",7),S(14,"Submit"),v()()()),2&r){let s;A(1),O("formGroup",i.commentForm),A(10),O("ngIf",null==(s=i.commentForm.get("text"))?null:s.touched)}},dependencies:[zr,tf,Va,Wh,qh,Ua,al],styles:["form#commentForm[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:100%;border:unset}"]})}return t})(),MCe=(()=>{class t{constructor(n){this.sanitizer=n}transform(n){let r;if(n.startsWith("https://m."))r=new URLSearchParams(n.split("?")[1]).get("v")||"";else{const s=n.split("/");r=s[s.length-1]}return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+r)}static#e=this.\u0275fac=function(r){return new(r||t)(w(wU,16))};static#t=this.\u0275pipe=Wn({name:"safeUrl",type:t,pure:!0})}return t})();function RCe(t,e){if(1&t&&(y(0,"div",21),S(1),v()),2&t){const n=H();A(1),ks(" ",null==n.recipe?null:n.recipe.summary," ")}}function kCe(t,e){1&t&&(y(0,"div"),j(1,"br"),v())}function PCe(t,e){if(1&t&&(y(0,"li"),j(1,"img",24),v()),2&t){const n=e.$implicit;A(1),O("src",n.image_recipe,Kd)}}function FCe(t,e){if(1&t&&(y(0,"ul",22),k(1,PCe,2,1,"li",23),v()),2&t){const n=H();A(1),O("ngForOf",null==n.recipe?null:n.recipe.image_recipe)}}function LCe(t,e){1&t&&(y(0,"div",8),j(1,"hr"),y(2,"p"),S(3,"\xa0\xa0Ingredients\xa0\xa0"),v(),j(4,"hr"),v())}function VCe(t,e){if(1&t&&(y(0,"li"),S(1),v()),2&t){const n=H().$implicit;A(1),EI(" ",n.name," - ",n.amount," ",n.unit," ")}}function BCe(t,e){if(1&t&&(y(0,"ul",25),k(1,VCe,2,3,"li",5),v()),2&t){const n=H();A(1),O("ngIf",null==n.recipe?null:n.recipe.ingredients)}}function UCe(t,e){if(1&t&&(y(0,"li"),j(1,"iframe",27),vh(2,"safeUrl"),v()),2&t){const n=e.$implicit;A(1),O("src",$m(2,1,n.video_recipe),Aw)}}function jCe(t,e){if(1&t&&(y(0,"div",26)(1,"div",8),j(2,"hr"),y(3,"p"),S(4,"\xa0\xa0Video\xa0\xa0"),v(),j(5,"hr"),v(),j(6,"br"),y(7,"ul"),k(8,UCe,3,3,"li",23),v()()),2&t){const n=H();A(8),O("ngForOf",null==n.recipe?null:n.recipe.video_recipe)}}function $Ce(t,e){if(1&t){const n=kn();y(0,"button",28),ce("click",function(){return gn(n),mn(H().toggleCommentForm())}),S(1," Would you like to comment? "),v()}}function HCe(t,e){if(1&t){const n=kn();y(0,"button",28),ce("click",function(){return gn(n),mn(H().toggleCommentForm())}),S(1," Hide comment form "),v()}}function GCe(t,e){if(1&t&&(yo(),uu(),y(0,"div"),j(1,"app-comment-form",29),v()),2&t){const n=H();A(1),O("recipeId",n.recipeId)}}function zCe(t,e){1&t&&(yo(),uu(),y(0,"div",8),j(1,"hr"),y(2,"p"),S(3,"\xa0\xa0Comments\xa0\xa0"),v(),j(4,"hr"),v())}function WCe(t,e){if(1&t&&(y(0,"ul")(1,"li"),S(2),v(),y(3,"li"),S(4),v(),y(5,"li",31)(6,"p"),S(7),vh(8,"date"),v()()()),2&t){const n=e.$implicit;A(2),Ut(n.name),A(2),Ut(n.text),A(3),ks(" ",y3(8,3,n.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," ")}}function qCe(t,e){if(1&t&&(yo(),uu(),y(0,"section",30),k(1,WCe,9,6,"ul",23),v()),2&t){const n=H();A(1),O("ngForOf",n.comments)}}let KCe=(()=>{class t{constructor(n,r,i,s,o,a){var c=this;this.route=n,this.recipeService=r,this.commentService=i,this.userService=s,this.firestore=o,this.router=a,this.recipe=null,this.recipeId="",this.comments=[],this.showCommentForm=!1,this.route.paramMap.subscribe(function(){var u=p(function*(l){const d=l.get("id");if(c.recipeId=d,d)try{c.recipe=yield c.recipeService.getRecipeById(d),c.comments=yield i.getCommentsForRecipe(d)}catch(h){console.error("An error occurred while retrieving the recipe:",h)}else console.error("Recipe ID not provided.")});return function(l){return u.apply(this,arguments)}}()),i.getCommentAddedObservable().subscribe(()=>{console.log("Comment successfully added."),this.loadCommentsForRecipe()})}ngOnInit(){this.userService.userData$.subscribe(n=>{this.userData=n})}toggleCommentForm(){this.showCommentForm=!this.showCommentForm}loadCommentsForRecipe(){var n=this;return p(function*(){n.recipeId&&(n.comments=yield n.commentService.getCommentsForRecipe(n.recipeId))})()}static#e=this.\u0275fac=function(r){return new(r||t)(w(Ao),w(ACe),w(jW),w(Nc),w(ys),w(Pn))};static#t=this.\u0275cmp=ot({type:t,selectors:[["app-recipe"]],decls:38,vars:14,consts:[[1,"mainLong"],[1,"recipe-container"],[1,"recipe-title"],[1,"recipe-subtitle"],["class","recipe-summary",4,"ngIf"],[4,"ngIf"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],[1,"divider"],[1,"recipe-description-text","description"],["class","divider",4,"ngIf"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-videos",4,"ngIf"],["class","button-img",3,"click",4,"ngIf"],["href","javascript:history.back()",1,"back-button"],[1,"button-box"],[1,"button-elem"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],["viewBox","0 0 46 40"],["class","comments",4,"ngIf"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","Image of a recipe",3,"src"],[1,"recipe-ingredients"],[1,"recipe-videos"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"],[1,"button-img",3,"click"],[3,"recipeId"],[1,"comments"],[1,"comments-last"]],template:function(r,i){1&r&&(y(0,"div",0)(1,"div",1)(2,"h1",2),S(3),v(),y(4,"h3",3),S(5),v(),k(6,RCe,2,1,"div",4),k(7,kCe,2,0,"div",5),y(8,"div",6),k(9,FCe,2,1,"ul",7),y(10,"div",8),j(11,"hr"),y(12,"p"),S(13,"\xa0\xa0Preparation\xa0\xa0"),v(),j(14,"hr"),v(),j(15,"br"),y(16,"p",9),S(17),v(),j(18,"br"),k(19,LCe,5,0,"div",10),j(20,"br"),k(21,BCe,2,1,"ul",11),k(22,jCe,9,1,"div",12),k(23,$Ce,2,0,"button",13),k(24,HCe,2,0,"button",13),j(25,"hr"),S(26," Go Back "),y(27,"a",14)(28,"div",15)(29,"span",16),yo(),y(30,"svg",17),j(31,"path",18),v()(),uu(),y(32,"span",16),yo(),y(33,"svg",19),j(34,"path",18),v()()()(),k(35,GCe,2,1,"div",5),k(36,zCe,5,0,"div",10),k(37,qCe,2,1,"section",20),v()()()),2&r&&(A(3),Ut(null==i.recipe?null:i.recipe.title),A(2),Ut(null==i.recipe?null:i.recipe.subtitle),A(1),O("ngIf",null==i.recipe?null:i.recipe.summary),A(1),O("ngIf",!(null!=i.recipe&&i.recipe.summary)),A(2),O("ngIf",(null==i.recipe?null:i.recipe.image_recipe)&&(null==i.recipe||null==i.recipe.image_recipe?null:i.recipe.image_recipe.length)>0),A(8),ks(" ",null==i.recipe?null:i.recipe.description," "),A(2),O("ngIf",null==i.recipe?null:i.recipe.ingredients),A(2),O("ngForOf",null==i.recipe?null:i.recipe.ingredients),A(1),O("ngIf",(null==i.recipe?null:i.recipe.video_recipe)&&(null==i.recipe||null==i.recipe.video_recipe?null:i.recipe.video_recipe.length)>0),A(1),O("ngIf",!i.showCommentForm),A(1),O("ngIf",i.showCommentForm),A(11),O("ngIf",i.showCommentForm),A(1),O("ngIf",i.comments.length>0),A(1),O("ngIf",i.comments.length>0))},dependencies:[xi,zr,OCe,JB,MCe],styles:[".recipe-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.recipe-title[_ngcontent-%COMP%]{font-size:26px;text-align:center;font-family:var(--titleFont)}.recipe-subtitle[_ngcontent-%COMP%], .recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic;white-space:pre-wrap}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}ul.recipe-image[_ngcontent-%COMP%]{padding-left:unset}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.btn[_ngcontent-%COMP%]   .fa-solid[_ngcontent-%COMP%]{color:var(--mainWhiteColor)}"]})}return t})(),YCe=(()=>{class t{transform(n){return new Date(parseInt(n,10)).toLocaleString()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275pipe=Wn({name:"timestampFormat",type:t,pure:!0})}return t})();const QCe=[{path:"",pathMatch:"full",component:rCe},{path:"register",component:qDe},{path:"login",component:tCe},{path:"forgot-password",component:nCe},{path:"dashboard",component:(()=>{class t{constructor(n){this.userService=n}ngOnInit(){this.userService.userData$.subscribe(n=>{this.user=n})}static#e=this.\u0275fac=function(r){return new(r||t)(w(Nc))};static#t=this.\u0275cmp=ot({type:t,selectors:[["app-dashboard"]],decls:48,vars:9,consts:[[1,"main-short"],[1,"wrapper"],[1,"nav","nav-tabs"],[1,"nav-item"],["aria-current","page","href","#",1,"nav-link","active"],["routerLink","/recipe-create","aria-current","page","href","#",1,"nav-link","active"],["aria-current","page","href","#",1,"nav-link","disabled"],["aria-current","page","href","#",1,"nav-link"],["aria-current","page","routerLink","/dashboard","href","#",1,"nav-link"],[1,"title"],[1,"user-details"],[1,"detail"]],template:function(r,i){1&r&&(y(0,"div",0)(1,"div",1)(2,"ul",2)(3,"li",3)(4,"a",4),S(5,"My recipes"),v()(),y(6,"li",3)(7,"a",5),S(8,"Recipe create"),v()(),y(9,"li",3)(10,"a",6),S(11,"Favorite recipes"),v()(),y(12,"li",3)(13,"a",7),S(14,"My comments"),v()(),y(15,"li",3)(16,"a",8),S(17,"Profile"),v()()(),y(18,"h1",9),S(19,"Info"),v(),y(20,"div",10)(21,"div",11)(22,"span"),S(23,"Email:"),v(),y(24,"span"),S(25),v()(),y(26,"div",11)(27,"span"),S(28,"First name:"),v(),y(29,"span"),S(30),v()(),y(31,"div",11)(32,"span"),S(33,"Last name:"),v(),y(34,"span"),S(35),v()(),y(36,"div",11)(37,"span"),S(38,"Created at:"),v(),y(39,"span"),S(40),vh(41,"timestampFormat"),v()(),y(42,"div",11)(43,"span"),S(44,"Last login:"),v(),y(45,"span"),S(46),vh(47,"timestampFormat"),v()()()()()),2&r&&(A(25),Ut(i.user.email),A(5),Ut(i.user.firstName),A(5),Ut(i.user.lastName),A(5),Ut($m(41,5,i.user.metadata.createdAt)),A(6),Ut($m(47,7,i.user.metadata.lastLoginAt)))},dependencies:[ns,YCe],styles:[".wrapper[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}.nav-link[_ngcontent-%COMP%]{background-color:var(--textColor);border:1px solid var(--mainBlackColor)}.user-details[_ngcontent-%COMP%]{background-color:var(--mainColor);color:var(--mainWhiteColor);display:flex;flex-direction:column;align-items:center;padding:20px;border:1px solid var(--borderColor);border-radius:8px;box-shadow:0 2px 4px #0000001a}.detail[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;margin-bottom:10px}.detail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){margin-left:10px}.wrapper[_ngcontent-%COMP%]{padding:0 5%}"]})}return t})()},{path:"recipes-list",component:aCe},{path:"recipe-create",component:SCe},{path:"recipe/:id",component:KCe}];let JCe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({imports:[sl.forRoot(QCe,{useHash:!0}),sl]})}return t})(),ZCe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ot({type:t,selectors:[["app-footer"]],decls:22,vars:0,consts:[[1,"footer"],[1,"footer-links"],["href","/about"],["href","/contact"],["href","/terms"],["href","/privacy"],[1,"social-icons"],["href","https://www.facebook.com"],[1,"fa-brands","fa-facebook","fa-flip"],["href","https://www.twitter.com"],[1,"fa-brands","fa-x-twitter","fa-flip"],["href","https://www.instagram.com"],[1,"fa-brands","fa-instagram","fa-flip"],[1,"copyright"]],template:function(r,i){1&r&&(y(0,"footer",0)(1,"div",1)(2,"a",2),S(3,"About Us"),v(),S(4," | "),y(5,"a",3),S(6,"Contact Us"),v(),S(7," | "),y(8,"a",4),S(9,"Terms of Service"),v(),S(10," | "),y(11,"a",5),S(12,"Privacy Policy"),v()(),y(13,"div",6)(14,"a",7),j(15,"i",8),v(),y(16,"a",9),j(17,"i",10),v(),y(18,"a",11),j(19,"i",12),v()(),y(20,"div",13),S(21," \xa9 2024 The Natural Way. All Rights Reserved. "),v()())},styles:[".footer[_ngcontent-%COMP%]{background-color:var(--backgroundColor);height:8vh;color:#40513b;text-align:center}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#40513b;text-decoration:none}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:10px}.social-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}"]})}return t})();function XCe(t,e){1&t&&(y(0,"li",7)(1,"a",8),j(2,"i",19),v(),y(3,"ul",9)(4,"li")(5,"a",20),S(6,"Register"),v()(),y(7,"li")(8,"a",21),S(9,"Login"),v()(),y(10,"li"),j(11,"hr",11),v(),y(12,"li")(13,"a",12),S(14,"Something else here"),v()()()())}function eSe(t,e){if(1&t){const n=kn();y(0,"li",7)(1,"a",8)(2,"span"),S(3),v()(),y(4,"ul",9)(5,"li")(6,"a",12),S(7,"My recipes"),v()(),y(8,"li")(9,"a",22),S(10,"Recipe create"),v()(),y(11,"li")(12,"a",12),S(13,"Favorite recipes"),v()(),y(14,"li")(15,"a",12),S(16,"My comments"),v()(),y(17,"li")(18,"a",23),S(19,"Profile"),v()(),y(20,"li")(21,"a",24),ce("click",function(){return gn(n),mn(H().logout())}),S(22,"Logout"),v()()()()}if(2&t){const n=H();A(3),Ut(n.getUserDisplayName())}}let tSe=(()=>{class t{constructor(n){this.userService=n,this.isMenuOpen=!1,this.userData=null,this.userDataSubject=new yr(null),this.userDataSubscription=this.userDataSubject.subscribe(r=>{this.userData=r,console.log(this.userData)})}ngOnInit(){this.userService.userData$.subscribe({next:n=>{n?(this.userDataSubject.next(n),console.log("\u0418\u043c\u0430\u0442\u0435 \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b:",n)):(this.userDataSubject.next(null),console.log("\u041d\u044f\u043c\u0430\u0442\u0435 \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b."))},error:n=>{console.log(n)}})}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}closeMenu(){this.isMenuOpen=!1}logout(){this.userService.logoutUser()}getUserDisplayName(){return this.userData?this.userData.lastName:"Anonymous"}static#e=this.\u0275fac=function(r){return new(r||t)(w(Nc))};static#t=this.\u0275cmp=ot({type:t,selectors:[["app-header"]],decls:30,vars:2,consts:[[1,"navbar","navbar-dark","navbar-expand-lg"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","button"],[1,"navbar-toggler-icon"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","my-2","my-lg-0","navbar-nav-scroll",2,"--bs-scroll-height","350px"],[1,"nav-item","dropdown"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-btn","nav-link","dropdown-toggle","button"],[1,"dropdown-menu"],["href","#","routerLink","/recipes-list",1,"dropdown-item"],[1,"dropdown-divider"],["href","#",1,"dropdown-item"],["class","nav-item dropdown",4,"ngIf"],[1,"fa-solid","fa-magnifying-glass"],[1,"dropdown-menu","search"],["role","search",1,"d-flex","w-100"],["type","search","aria-label","Search",1,"form-control","me-2"],["type","submit",1,"search","button"],[1,"fa-solid","fa-user"],["routerLink","/register",1,"dropdown-item"],["routerLink","/login",1,"dropdown-item"],["routerLink","/recipe-create",1,"dropdown-item"],["routerLink","/dashboard",1,"dropdown-item"],[1,"dropdown-item",3,"click"]],template:function(r,i){1&r&&(y(0,"nav",0)(1,"div",1)(2,"a",2),S(3," The Natural Way"),v(),y(4,"button",3),j(5,"span",4),v(),y(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),S(10," Recipes "),v(),y(11,"ul",9)(12,"li")(13,"a",10),S(14,"Recipes list"),v()(),y(15,"li"),j(16,"hr",11),v(),y(17,"li")(18,"a",12),S(19,"Something else here"),v()()()(),k(20,XCe,15,0,"li",13),k(21,eSe,23,1,"li",13),y(22,"li",7)(23,"a",8),j(24,"i",14),v(),y(25,"ul",15)(26,"form",16),j(27,"input",17),y(28,"button",18),S(29,"Search"),v()()()()()()()()),2&r&&(A(20),O("ngIf",!i.userData),A(1),O("ngIf",i.userData))},dependencies:[zr,ns],styles:["nav.navbar[_ngcontent-%COMP%]{min-height:8vh;background-color:var(--backgroundColor)}.container-fluid[_ngcontent-%COMP%]{max-width:1024px;color:var(--textColor)}a.navbar-brand[_ngcontent-%COMP%]{font-family:Dancing Script,cursive;font-weight:900;font-size:32px;color:var(--textColor)}button.navbar-toggler[_ngcontent-%COMP%]{background-color:var(--textColor);border:1px solid var(--backgroundColor)}.navbar-toggler[_ngcontent-%COMP%]   span.navbar-toggler-icon[_ngcontent-%COMP%]{color:var(--backgroundColor);background-color:var(--textColor)}button.navbar-toggler[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem var(--textColor)}ul.navbar-nav[_ngcontent-%COMP%]{position:relative;z-index:100;display:flex;gap:18px;border:1px solid var(--backgroundColor);width:100%;justify-content:flex-end}a.nav-btn.nav-link.dropdown-toggle.button[_ngcontent-%COMP%]{min-width:150px}ul.navbar-nav[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:1px solid var(--textColor);margin-top:18px}a.dropdown-item[_ngcontent-%COMP%]{color:var(--textColor)}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:focus{background-color:var(--textColor);color:var(--backgroundColor)}form.d-flex[_ngcontent-%COMP%]{padding:0 auto}.form-control[_ngcontent-%COMP%]{border:1px solid var(--textColor);border-radius:8px;background-color:var(--backgroundColor)}.form-control[_ngcontent-%COMP%]:focus{border:1px solid var(--textColor);box-shadow:unset;outline:unset;background-color:#f6f4f9;border-color:var(--textColor)}@media (max-width: 460px){.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{background-color:var(--backgroundColor);padding:20px;border-radius:8px}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{border:unset;width:100%}form.d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:15px}}@media (min-width: 461px) and (max-width: 767px){.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{background-color:var(--backgroundColor);padding:20px;border-radius:8px}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{border:unset;width:100%}.dropdown-menu.search.show[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{max-width:unset}}@media (min-width: 768px) and (max-width: 1023px){.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{background-color:var(--backgroundColor);padding:20px;border-radius:8px}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{border:unset}.dropdown-menu.search.show[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{max-width:unset}}@media (min-width: 1024px) and (max-width: 1440px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:1000px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}}@media (min-width: 1441px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:1000px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}}"]})}return t})(),nSe=(()=>{class t{constructor(){this.title="The-Natural-Way"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ot({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(r,i){1&r&&j(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[iT,ZCe,tSe],styles:[".logo-svg[_ngcontent-%COMP%]{background-color:var(--mainGreenColor);min-height:80vh}"]})}return t})(),rSe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({imports:[Ma,sl]})}return t})();const iSe=["addListener","removeListener"],sSe=["addEventListener","removeEventListener"],oSe=["on","off"];function dn(t,e,n,r){if(Ie(n)&&(r=n,n=void 0),r)return dn(t,e,n).pipe(B1(r));const[i,s]=function uSe(t){return Ie(t.addEventListener)&&Ie(t.removeEventListener)}(t)?sSe.map(o=>a=>t[o](e,a,n)):function aSe(t){return Ie(t.addListener)&&Ie(t.removeListener)}(t)?iSe.map($W(t,e)):function cSe(t){return Ie(t.on)&&Ie(t.off)}(t)?oSe.map($W(t,e)):[];if(!i&&gb(t))return rn(o=>dn(o,e,n))(nn(t));if(!i)throw new TypeError("Invalid event target");return new Be(o=>{const a=(...c)=>o.next(1<c.length?c:c[0]);return i(a),()=>s(a)})}function $W(t,e){return n=>r=>t[n](e,r)}class lSe extends Fe{constructor(e=1/0,n=1/0,r=rA){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=n.now();let a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}}function hSe(t,e){}const A0=()=>{const t=typeof window<"u"?window:void 0;return t&&t.tinymce?t.tinymce:null};let fSe=(()=>{class t{constructor(){this.onBeforePaste=new M,this.onBlur=new M,this.onClick=new M,this.onContextMenu=new M,this.onCopy=new M,this.onCut=new M,this.onDblclick=new M,this.onDrag=new M,this.onDragDrop=new M,this.onDragEnd=new M,this.onDragGesture=new M,this.onDragOver=new M,this.onDrop=new M,this.onFocus=new M,this.onFocusIn=new M,this.onFocusOut=new M,this.onKeyDown=new M,this.onKeyPress=new M,this.onKeyUp=new M,this.onMouseDown=new M,this.onMouseEnter=new M,this.onMouseLeave=new M,this.onMouseMove=new M,this.onMouseOut=new M,this.onMouseOver=new M,this.onMouseUp=new M,this.onPaste=new M,this.onSelectionChange=new M,this.onActivate=new M,this.onAddUndo=new M,this.onBeforeAddUndo=new M,this.onBeforeExecCommand=new M,this.onBeforeGetContent=new M,this.onBeforeRenderUI=new M,this.onBeforeSetContent=new M,this.onChange=new M,this.onClearUndos=new M,this.onDeactivate=new M,this.onDirty=new M,this.onExecCommand=new M,this.onGetContent=new M,this.onHide=new M,this.onInit=new M,this.onInitNgModel=new M,this.onLoadContent=new M,this.onNodeChange=new M,this.onPostProcess=new M,this.onPostRender=new M,this.onPreInit=new M,this.onPreProcess=new M,this.onProgressState=new M,this.onRedo=new M,this.onRemove=new M,this.onReset=new M,this.onResizeEditor=new M,this.onSaveContent=new M,this.onSetAttrib=new M,this.onObjectResizeStart=new M,this.onObjectResized=new M,this.onObjectSelected=new M,this.onSetContent=new M,this.onShow=new M,this.onSubmit=new M,this.onUndo=new M,this.onVisualAid=new M}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=$({type:t,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),t})();const HW=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],x0=(t,e,n)=>dn(t,e).pipe(vt(n)),GW=(t,e)=>"string"==typeof t?t.split(",").map(n=>n.trim()):Array.isArray(t)?t:e;let zW=0;const WW=t=>typeof t<"u"&&"textarea"===t.tagName.toLowerCase(),qW=t=>typeof t>"u"||""===t?[]:Array.isArray(t)?t:t.split(" "),_Se=(t,e)=>qW(t).concat(qW(e)),ySe=()=>{},KW=t=>null==t,vSe=(()=>{let t={script$:null};return{load:(r,i)=>t.script$||(t.script$=j1(()=>{const s=r.createElement("script");return s.referrerPolicy="origin",s.type="application/javascript",s.src=i,r.head.appendChild(s),dn(s,"load").pipe(yn(1),G1(void 0))}).pipe(function dSe(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=t??1/0,_b({connector:()=>new lSe(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}({bufferSize:1,refCount:!0}))),reinitialize:()=>{t={script$:null}}}})(),QW=new te("TINYMCE_SCRIPT_SRC"),bSe={provide:Wr,useExisting:De(()=>JW),multi:!0};let JW=(()=>{class t extends fSe{constructor(n,r,i,s){super(),this.platformId=i,this.tinymceScriptSrc=s,this.cloudChannel="6",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=ySe,this.destroy$=new Fe,this.initialise=()=>{const o={...this.init,selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,plugins:_Se(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:a=>{this._editor=a,x0(a,"init",this.destroy$).subscribe(()=>{this.initEditor(a)}),((t,e,n)=>{(t=>{const e=GW(t.ignoreEvents,[]);return GW(t.allowedEvents,HW).filter(r=>HW.includes(r)&&!e.includes(r))})(t).forEach(i=>{const s=t[i];x0(e,i.substring(2),n).subscribe(o=>{s.observers.length>0&&t.ngZone.run(()=>s.emit({event:o,editor:e}))})})})(this,a,this.destroy$),this.init&&"function"==typeof this.init.setup&&this.init.setup(a)}};WW(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{A0().init(o)})},this._elementRef=n,this.ngZone=r}set disabled(n){this._disabled=n,this._editor&&this._editor.initialized&&("function"==typeof this._editor.mode?.set?this._editor.mode.set(n?"readonly":"design"):this._editor.setMode(n?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(n){this._editor&&this._editor.initialized?this._editor.setContent(KW(n)?"":n):this.initialValue=null===n?void 0:n}registerOnChange(n){this.onChangeCallback=n}registerOnTouched(n){this.onTouchedCallback=n}setDisabledState(n){this.disabled=n}ngAfterViewInit(){(function Sse(t){return t===XB})(this.platformId)&&(this.id=this.id||(t=>{const n=(new Date).getTime(),r=Math.floor(1e9*Math.random());return zW++,"tiny-angular_"+r+zW+String(n)})(),this.inline=void 0!==this.inline?!1!==this.inline:!!this.init?.inline,this.createElement(),null!==A0()?this.initialise():this._element&&this._element.ownerDocument&&vSe.load(this._element.ownerDocument,this.getScriptSrc()).pipe(vt(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),null!==A0()&&A0().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,WW(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}getScriptSrc(){return KW(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(n){x0(n,"blur",this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.onTouchedCallback())}),x0(n,this.modelEvents,this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.emitOnChange(n))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{n.setContent(this.initialValue),n.getContent()!==this.initialValue&&this.emitOnChange(n),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(n)})}emitOnChange(n){this.onChangeCallback&&this.onChangeCallback(n.getContent({format:this.outputFormat}))}}return t.\u0275fac=function(n){return new(n||t)(w($e),w(Ee),w(Ns),w(QW,8))},t.\u0275cmp=ot({type:t,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[nt([bSe]),He,Hr],decls:1,vars:0,template:function(n,r){1&n&&k(0,hSe,0,0,"ng-template")},dependencies:[Ma,G_],styles:["[_nghost-%COMP%]{display:block}"]}),t})(),qR=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=we({imports:[JW]}),t})(),ZW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({imports:[Ma,qR,sl]})}return t})(),wSe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=we({imports:[[]]}),t})();const{isArray:TSe}=Array;function eq(t){return 1===t.length&&TSe(t[0])?t[0]:t}function KR(...t){const e=bg(t),n=eq(t);return n.length?new Be(r=>{let i=n.map(()=>[]),s=n.map(()=>!1);r.add(()=>{i=s=null});for(let o=0;!r.closed&&o<n.length;o++)nn(n[o]).subscribe(it(r,a=>{if(i[o].push(a),i.every(c=>c.length)){const c=i.map(u=>u.shift());r.next(e?e(...c):c),i.some((u,l)=>!u.length&&s[l])&&r.complete()}},()=>{s[o]=!0,!i[o].length&&r.complete()}));return()=>{i=s=null}}):ti}function YR(...t){const e=bg(t);return It((n,r)=>{const i=t.length,s=new Array(i);let o=t.map(()=>!1),a=!1;for(let c=0;c<i;c++)nn(t[c]).subscribe(it(r,u=>{s[c]=u,!a&&!o[c]&&(o[c]=!0,(a=o.every(mi))&&(o=null))},ha));n.subscribe(it(r,c=>{if(a){const u=[c,...s];r.next(e?e(...u):u)}}))})}Math,Math,Math;const txe=["*"],Oxe=["dialog"];function Rc(t){return"string"==typeof t}function kc(t){return null!=t}function ld(t){return(t||document.body).getBoundingClientRect()}const Rq={animation:!0,transitionTimerDelayMs:5},TNe=()=>{},{transitionTimerDelayMs:ENe}=Rq,ng=new Map,kr=(t,e,n,r)=>{let i=r.context||{};const s=ng.get(e);if(s)switch(r.runningTransition){case"continue":return ti;case"stop":t.run(()=>s.transition$.complete()),i=Object.assign(s.context,i),ng.delete(e)}const o=n(e,r.animation,i)||TNe;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>o()),ae(void 0).pipe(function wNe(t){return e=>new Be(n=>e.subscribe({next:o=>t.run(()=>n.next(o)),error:o=>t.run(()=>n.error(o)),complete:()=>t.run(()=>n.complete())}))}(t));const a=new Fe,c=new Fe,u=a.pipe(function DSe(...t){return e=>Ah(e,ae(...t))}(!0));ng.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:i});const l=function INe(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const d=dn(e,"transitionend").pipe(vt(u),vn(({target:f})=>f===e));(function tq(...t){return 1===(t=eq(t)).length?nn(t[0]):new Be(function ESe(t){return e=>{let n=[];for(let r=0;n&&!e.closed&&r<t.length;r++)n.push(nn(t[r]).subscribe(it(e,i=>{if(n){for(let s=0;s<n.length;s++)s!==r&&n[s].unsubscribe();n=null}e.next(i)})))}}(t))})(function XW(t=0,e,n=eve){let r=-1;return null!=e&&(Uk(e)?n=e:r=e),new Be(i=>{let s=function ISe(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(l+ENe).pipe(vt(u)),d,c).pipe(vt(u)).subscribe(()=>{ng.delete(e),t.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let L0=(()=>{class t{constructor(){this.animation=Rq.animation}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$q=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),Hq=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),Wq=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),qq=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})();var rt=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}(rt||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const e9=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function t9(t){const e=Array.from(t.querySelectorAll(e9)).filter(n=>-1!==n.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let p9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),_9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})();class Bc{constructor(e,n,r){this.nodes=e,this.viewRef=n,this.componentRef=r}}let TOe=(()=>{class t{constructor(n,r){this._el=n,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(yn(1)).subscribe(()=>{kr(this._zone,this._el.nativeElement,(n,r)=>{r&&ld(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return kr(this._zone,this._el.nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(r){return new(r||t)(w($e),w(Ee))};static#t=this.\u0275cmp=ot({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,i){2&r&&(Ca("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),je("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Hr],decls:0,vars:0,template:function(r,i){},encapsulation:2})}return t})();class y9{update(e){}close(e){}dismiss(e){}}const EOe=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],DOe=["animation","backdropClass"];class COe{_applyWindowOptions(e,n){EOe.forEach(r=>{kc(n[r])&&(e[r]=n[r])})}_applyBackdropOptions(e,n){DOe.forEach(r=>{kc(n[r])&&(e[r]=n[r])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(vt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(vt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,n,r,i){this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Fe,this._dismissed=new Fe,this._hidden=new Fe,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const n=this._beforeDismiss();!function Nq(t){return t&&t.then}(n)?!1!==n&&this._dismiss(e):n.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ae(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),KR(e,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Tk=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(Tk||{});let SOe=(()=>{class t{constructor(n,r,i){this._document=n,this._elRef=r,this._zone=i,this._closed$=new Fe,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new M,this.shown=new Fe,this.hidden=new Fe}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Rc(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(yn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:n}=this._elRef,r={animation:this.animation,runningTransition:"stop"},o=KR(kr(this._zone,n,()=>n.classList.remove("show"),r),kr(this._zone,this._dialogEl.nativeElement,()=>{},r));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const n={animation:this.animation,runningTransition:"continue"};KR(kr(this._zone,this._elRef.nativeElement,(s,o)=>{o&&ld(s),s.classList.add("show")},n),kr(this._zone,this._dialogEl.nativeElement,()=>{},n)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{dn(n,"keydown").pipe(vt(this._closed$),vn(i=>i.which===rt.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(Tk.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;dn(this._dialogEl.nativeElement,"mousedown").pipe(vt(this._closed$),cn(()=>r=!1),_i(()=>dn(n,"mouseup").pipe(vt(this._closed$),yn(1))),vn(({target:i})=>n===i)).subscribe(()=>{r=!0}),dn(n,"click").pipe(vt(this._closed$)).subscribe(({target:i})=>{n===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(Tk.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){const r=n.querySelector("[ngbAutofocus]"),i=t9(n)[0];(r||i||n).focus()}}_restoreFocus(){const n=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&n.contains(r)?r:n,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&kr(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(r){return new(r||t)(w(jt),w($e),w(Ee))};static#t=this.\u0275cmp=ot({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(r,i){if(1&r&&xa(Oxe,7),2&r){let s;Je(s=function Ze(){return function xne(t,e){return t[Gi].queries[e].queryList}(P(),WP())}())&&(i._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,i){2&r&&(qe("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),Ca("modal d-block"+(i.windowClass?" "+i.windowClass:"")),je("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Hr],ngContentSelectors:txe,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(r,i){1&r&&(function HL(t){const e=P()[Vt][qn];if(!e.projection){const r=e.projection=jd(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=t?XX(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),y(0,"div",0,1)(2,"div",2),function GL(t,e=0,n){const r=P(),i=Re(),s=Mu(i,Se+t,16,null,n||null);null===s.projection&&(s.projection=e),zb(),(!r[Cs]||au())&&32!=(32&s.flags)&&function JQ(t,e,n){K2(e[pe],0,e,n,yw(t,n,e),$2(n.parent||e[qn],n,e))}(i,r,s)}(3),v()()),2&r&&Ca("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return t})(),AOe=(()=>{class t{constructor(n){this._document=n}hide(){const n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:s,paddingRight:o}=i;if(n>0){const a=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${a+n}px`}return i.overflow="hidden",()=>{n>0&&(i.paddingRight=o),i.overflow=s}}static#e=this.\u0275fac=function(r){return new(r||t)(q(jt))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xOe=(()=>{class t{constructor(n,r,i,s,o,a,c){this._applicationRef=n,this._injector=r,this._environmentInjector=i,this._document=s,this._scrollBar=o,this._rendererFactory=a,this._ngZone=c,this._activeWindowCmptHasChanged=new Fe,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new M,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const u=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{t.runOutsideAngular(()=>{const i=dn(e,"focusin").pipe(vt(n),Oe(s=>s.target));dn(e,"keydown").pipe(vt(n),vn(s=>s.which===rt.Tab),YR(i)).subscribe(([s,o])=>{const[a,c]=t9(e);(o===a||o===e)&&s.shiftKey&&(c.focus(),s.preventDefault()),o===c&&!s.shiftKey&&(a.focus(),s.preventDefault())}),r&&dn(e,"click").pipe(vt(n),YR(i),Oe(s=>s[1])).subscribe(s=>s.focus())})})(this._ngZone,u.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(u.location.nativeElement)}})}_restoreScrollBar(){const n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,r,i){const s=i.container instanceof HTMLElement?i.container:kc(i.container)?this._document.querySelector(i.container):this._document.body,o=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new y9,c=(n=i.injector||n).get(Er,null)||this._environmentInjector,u=this._getContentRef(n,c,r,a,i);let l=!1!==i.backdrop?this._attachBackdrop(s):void 0,d=this._attachWindowComponent(s,u.nodes),h=new COe(d,u,l,i.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(d),h.hidden.pipe(yn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=f=>{h.close(f)},a.dismiss=f=>{h.dismiss(f)},a.update=f=>{h.update(f)},h.update(i),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),l&&l.instance&&l.changeDetectorRef.detectChanges(),d.changeDetectorRef.detectChanges(),h}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(r=>r.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let r=u1(TOe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),n.appendChild(r.location.nativeElement),r}_attachWindowComponent(n,r){let i=u1(SOe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),n.appendChild(i.location.nativeElement),i}_getContentRef(n,r,i,s,o){return i?i instanceof Et?this._createFromTemplateRef(i,s):Rc(i)?this._createFromString(i):this._createFromComponent(n,r,i,s,o):new Bc([])}_createFromTemplateRef(n,r){const s=n.createEmbeddedView({$implicit:r,close(o){r.close(o)},dismiss(o){r.dismiss(o)}});return this._applicationRef.attachView(s),new Bc([s.rootNodes],s)}_createFromString(n){const r=this._document.createTextNode(`${n}`);return new Bc([[r]])}_createFromComponent(n,r,i,s,o){const c=u1(i,{environmentInjector:r,elementInjector:Qt.create({providers:[{provide:y9,useValue:s}],parent:n})}),u=c.location.nativeElement;return o.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new Bc([[u]],c.hostView,c)}_setAriaHidden(n){const r=n.parentElement;r&&n!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==n&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,r)=>{n?r.setAttribute("aria-hidden",n):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){const r=()=>{const i=this._modalRefs.indexOf(n);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(r,r)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{const r=this._windowCmpts.indexOf(n);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(r){return new(r||t)(q(To),q(Qt),q(Er),q(jt),q(AOe),q(Ww),q(Ee))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),NOe=(()=>{class t{constructor(n){this._ngbConfig=n,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}static#e=this.\u0275fac=function(r){return new(r||t)(q(L0))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),OOe=(()=>{class t{constructor(n,r,i){this._injector=n,this._modalStack=r,this._config=i}open(n,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,n,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(r){return new(r||t)(q(Qt),q(xOe),q(NOe))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),v9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({providers:[OOe]})}return t})(),I9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),N9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),O9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),M9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),R9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),k9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),P9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),F9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),L9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})();new te("live announcer delay",{providedIn:"root",factory:function WOe(){return 100}});let V9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),B9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})();const KOe=[$q,Hq,Wq,qq,p9,_9,v9,I9,B9,N9,O9,M9,R9,k9,P9,F9,L9,V9];let YOe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({imports:[KOe,$q,Hq,Wq,qq,p9,_9,v9,I9,B9,N9,O9,M9,R9,k9,P9,F9,L9,V9]})}return t})(),QOe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({imports:[Ma,xT,G_]})}return t})(),JOe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({imports:[Ma,xT,G_,ZW,qR,sl,QOe]})}return t})(),ZOe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({imports:[Ma,G_,xT,sl]})}return t})(),XOe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t,bootstrap:[nSe]});static#n=this.\u0275inj=we({providers:[{provide:QW,useValue:"tinymce/tinymce.min.js"}],imports:[Ioe,JCe,rSe,ZW,JOe,ZOe,dve(()=>hve(S0_firebaseConfig)),SDe(()=>xDe()),wSe,YOe,qR]})}return t})();boe().bootstrapModule(XOe).catch(t=>console.error(t))},614:()=>{const Ie=":";const vg=function(E,...T){if(vg.translate){const F=vg.translate(E,T);E=F[0],T=F[1]}let N=db(E[0],E.raw[0]);for(let F=1;F<E.length;F++)N+=T[F-1]+db(E[F],E.raw[F]);return N},Nk=":";function db(E,T){return T.charAt(0)===Nk?E.substring(function bd(E,T){for(let N=1,F=1;N<E.length;N++,F++)if("\\"===T[F])F++;else if(E[N]===Ie)return N;throw new Error(`Unterminated $localize metadata block in "${T}".`)}(E,T)+1):E}globalThis.$localize=vg}},Ie=>{var co=uo=>Ie(Ie.s=uo);co(614),co(478)}]);