"use strict";(self.webpackChunkThe_Natural_Way=self.webpackChunkThe_Natural_Way||[]).push([[179],{199:()=>{function be(t){return"function"==typeof t}function Gs(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Bo=Gs(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function zs(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Mt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(be(r))try{r()}catch(s){e=s instanceof Bo?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Uo(s)}catch(o){e=e??[],o instanceof Bo?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Bo(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Uo(e);else{if(e instanceof Mt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&zs(n,e)}remove(e){const{_finalizers:n}=this;n&&zs(n,e),e instanceof Mt&&e._removeParent(this)}}Mt.EMPTY=(()=>{const t=new Mt;return t.closed=!0,t})();const kl=Mt.EMPTY;function ap(t){return t instanceof Mt||t&&"closed"in t&&be(t.remove)&&be(t.add)&&be(t.unsubscribe)}function Uo(t){be(t)?t():t.unsubscribe()}const qs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},_c={setTimeout(t,e,...n){const{delegate:r}=_c;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=_c;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Rv(t){_c.setTimeout(()=>{const{onUnhandledError:e}=qs;if(!e)throw t;e(t)})}function jo(){}const kv=Pl("C",void 0,void 0);function Pl(t,e,n){return{kind:t,value:e,error:n}}let os=null;function Ni(t){if(qs.useDeprecatedSynchronousErrorHandling){const e=!os;if(e&&(os={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=os;if(os=null,n)throw r}}else t()}class yc extends Mt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ap(e)&&e.add(this)):this.destination=Ll}static create(e,n,r){return new as(e,n,r)}next(e){this.isStopped?Fl(function Fv(t){return Pl("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Fl(function Pv(t){return Pl("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Fl(kv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const cp=Function.prototype.bind;function vc(t,e){return cp.call(t,e)}class up{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Dr(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Dr(r)}else Dr(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Dr(n)}}}class as extends yc{constructor(e,n,r){let i;if(super(),be(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&qs.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&vc(e.next,s),error:e.error&&vc(e.error,s),complete:e.complete&&vc(e.complete,s)}):i=e}this.destination=new up(i)}}function Dr(t){qs.useDeprecatedSynchronousErrorHandling?function Lv(t){qs.useDeprecatedSynchronousErrorHandling&&os&&(os.errorThrown=!0,os.error=t)}(t):Rv(t)}function Fl(t,e){const{onStoppedNotification:n}=qs;n&&_c.setTimeout(()=>n(t,e))}const Ll={closed:!0,next:jo,error:function lp(t){throw t},complete:jo},Vl="function"==typeof Symbol&&Symbol.observable||"@@observable";function ii(t){return t}function hp(t){return 0===t.length?ii:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Fe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function Bv(t){return t&&t instanceof yc||function Vv(t){return t&&be(t.next)&&be(t.error)&&be(t.complete)}(t)&&ap(t)}(n)?n:new as(n,r,i);return Ni(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=fp(r))((i,s)=>{const o=new as({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Vl](){return this}pipe(...n){return hp(n)(this)}toPromise(n){return new(n=fp(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function fp(t){var e;return null!==(e=t??qs.Promise)&&void 0!==e?e:Promise}const Uv=Gs(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Le=(()=>{class t extends Fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new pp(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Uv}next(n){Ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?kl:(this.currentObservers=null,s.push(n),new Mt(()=>{this.currentObservers=null,zs(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Fe;return n.source=this,n}}return t.create=(e,n)=>new pp(e,n),t})();class pp extends Le{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:kl}}function Bl(t){return be(t?.lift)}function _t(t){return e=>{if(Bl(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function rt(t,e,n,r,i){return new jv(t,e,n,r,i)}class jv extends yc{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function xe(t,e){return _t((n,r)=>{let i=0;n.subscribe(rt(r,s=>{r.next(t.call(e,s,i++))}))})}function _p(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function rr(t){return this instanceof rr?(this.v=t,this):new rr(t)}function ir(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Ot(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}(a,c,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Wv=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function nM(t){return be(t?.then)}function rM(t){return be(t[Vl])}function iM(t){return Symbol.asyncIterator&&be(t?.[Symbol.asyncIterator])}function sM(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const oM=function y6(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function aM(t){return be(t?.[oM])}function cM(t){return function $o(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function c(h){h.value instanceof rr?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield rr(n.read());if(i)return yield rr(void 0);yield yield rr(r)}}finally{n.releaseLock()}})}function uM(t){return be(t?.getReader)}function Yt(t){if(t instanceof Fe)return t;if(null!=t){if(rM(t))return function v6(t){return new Fe(e=>{const n=t[Vl]();if(be(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Wv(t))return function b6(t){return new Fe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(nM(t))return function w6(t){return new Fe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Rv)})}(t);if(iM(t))return lM(t);if(aM(t))return function I6(t){return new Fe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(uM(t))return function D6(t){return lM(cM(t))}(t)}throw sM(t)}function lM(t){return new Fe(e=>{(function C6(t,e){var n,r,i,s;return function S(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=ir(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function cs(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Qt(t,e,n=1/0){return be(e)?Qt((r,i)=>xe((s,o)=>e(r,s,i,o))(Yt(t(r,i))),n):("number"==typeof e&&(n=e),_t((r,i)=>function E6(t,e,n,r,i,s,o,a){const c=[];let u=0,l=0,d=!1;const h=()=>{d&&!c.length&&!u&&e.complete()},f=g=>u<r?p(g):c.push(g),p=g=>{s&&e.next(g),u++;let m=!1;Yt(n(g,l++)).subscribe(rt(e,b=>{i?.(b),s?f(b):e.next(b)},()=>{m=!0},void 0,()=>{if(m)try{for(u--;c.length&&u<r;){const b=c.shift();o?cs(e,o,()=>p(b)):p(b)}h()}catch(b){e.error(b)}}))};return t.subscribe(rt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Ic(t=1/0){return Qt(ii,t)}const Hr=new Fe(t=>t.complete());function dM(t){return t&&be(t.schedule)}function Kv(t){return t[t.length-1]}function vp(t){return be(Kv(t))?t.pop():void 0}function jl(t){return dM(Kv(t))?t.pop():void 0}function bp(t,e=0){return _t((n,r)=>{n.subscribe(rt(r,i=>cs(r,t,()=>r.next(i),e),()=>cs(r,t,()=>r.complete(),e),i=>cs(r,t,()=>r.error(i),e)))})}function wp(t,e=0){return _t((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function hM(t,e){if(!t)throw new Error("Iterable cannot be null");return new Fe(n=>{cs(n,e,()=>{const r=t[Symbol.asyncIterator]();cs(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function an(t,e){return e?function R6(t,e){if(null!=t){if(rM(t))return function A6(t,e){return Yt(t).pipe(wp(e),bp(e))}(t,e);if(Wv(t))return function N6(t,e){return new Fe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(nM(t))return function x6(t,e){return Yt(t).pipe(wp(e),bp(e))}(t,e);if(iM(t))return hM(t,e);if(aM(t))return function M6(t,e){return new Fe(n=>{let r;return cs(n,e,()=>{r=t[oM](),cs(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>be(r?.return)&&r.return()})}(t,e);if(uM(t))return function O6(t,e){return hM(cM(t),e)}(t,e)}throw sM(t)}(t,e):Yt(t)}class Gr extends Le{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function oe(...t){return an(t,jl(t))}function Yv(t={}){const{connector:e=(()=>new Le),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,u=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=c=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return _t((g,m)=>{u++,!d&&!l&&h();const b=c=c??e();m.add(()=>{u--,0===u&&!d&&!l&&(a=Qv(p,i))}),b.subscribe(m),!o&&u>0&&(o=new as({next:_=>b.next(_),error:_=>{d=!0,h(),a=Qv(f,n,_),b.error(_)},complete:()=>{l=!0,h(),a=Qv(f,r),b.complete()}}),Yt(g).subscribe(o))})(s)}}function Qv(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new as({next:()=>{r.unsubscribe(),t()}});return Yt(e(...n)).subscribe(r)}function si(t,e){return _t((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(rt(r,c=>{i?.unsubscribe();let u=0;const l=s++;Yt(t(c,l)).subscribe(i=rt(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function k6(t,e){return t===e}function Ke(t){for(let e in t)if(t[e]===Ke)return e;throw Error("Could not find renamed property on target object.")}function Ip(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Jt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Jt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Jv(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const P6=Ke({__forward_ref__:Ke});function De(t){return t.__forward_ref__=De,t.toString=function(){return Jt(this())},t}function ue(t){return Zv(t)?t():t}function Zv(t){return"function"==typeof t&&t.hasOwnProperty(P6)&&t.__forward_ref__===De}function Xv(t){return t&&!!t.\u0275providers}const gM="https://g.co/ng/security#xss";class k extends Error{constructor(e,n){super(function Dp(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function de(t){return"string"==typeof t?t:null==t?"":String(t)}function e0(t,e){throw new k(-201,!1)}function zr(t,e){null==t&&function ae(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function we(t){return{providers:t.providers||[],imports:t.imports||[]}}function Cp(t){return mM(t,Tp)||mM(t,_M)}function mM(t,e){return t.hasOwnProperty(e)?t[e]:null}function Ep(t){return t&&(t.hasOwnProperty(t0)||t.hasOwnProperty(H6))?t[t0]:null}const Tp=Ke({\u0275prov:Ke}),t0=Ke({\u0275inj:Ke}),_M=Ke({ngInjectableDef:Ke}),H6=Ke({ngInjectorDef:Ke});var Ee=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ee||{});let n0;function sr(t){const e=n0;return n0=t,e}function vM(t,e,n){const r=Cp(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ee.Optional?null:void 0!==e?e:void e0(Jt(t))}const it=globalThis;class Z{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const $l={},c0="__NG_DI_FLAG__",Sp="ngTempTokenPath",q6=/\n/gm,wM="__source";let Dc;function Ks(t){const e=Dc;return Dc=t,e}function Y6(t,e=Ee.Default){if(void 0===Dc)throw new k(-203,!1);return null===Dc?vM(t,void 0,e):Dc.get(t,e&Ee.Optional?null:void 0,e)}function W(t,e=Ee.Default){return(function yM(){return n0}()||Y6)(ue(t),e)}function H(t,e=Ee.Default){return W(t,Ap(e))}function Ap(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function u0(t){const e=[];for(let n=0;n<t.length;n++){const r=ue(t[n]);if(Array.isArray(r)){if(0===r.length)throw new k(900,!1);let i,s=Ee.Default;for(let o=0;o<r.length;o++){const a=r[o],c=Q6(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(W(i,s))}else e.push(W(r))}return e}function Hl(t,e){return t[c0]=e,t.prototype[c0]=e,t}function Q6(t){return t[c0]}function us(t){return{toString:t}.toString()}var xp=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(xp||{}),oi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(oi||{});const Mi={},Ve=[],Np=Ke({\u0275cmp:Ke}),l0=Ke({\u0275dir:Ke}),d0=Ke({\u0275pipe:Ke}),DM=Ke({\u0275mod:Ke}),ls=Ke({\u0275fac:Ke}),Gl=Ke({__NG_ELEMENT_ID__:Ke}),CM=Ke({__NG_ENV_ID__:Ke});function EM(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function h0(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];SM(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function TM(t){return 3===t||4===t||6===t}function SM(t){return 64===t.charCodeAt(0)}function zl(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||AM(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function AM(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const xM="ng-template";function X6(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==EM(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function NM(t){return 4===t.type&&t.value!==xM}function e7(t,e,n){return e===(4!==t.type||n?t.value:xM)}function t7(t,e,n){let r=4;const i=t.attrs||[],s=function i7(t){for(let e=0;e<t.length;e++)if(TM(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!e7(t,c,n)||""===c&&1===e.length){if(ai(r))return!1;o=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!X6(t.attrs,u,n)){if(ai(r))return!1;o=!0}continue}const d=n7(8&r?"class":c,i,NM(t),n);if(-1===d){if(ai(r))return!1;o=!0;continue}if(""!==u){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==EM(f,u,0)||2&r&&u!==h){if(ai(r))return!1;o=!0}}}}else{if(!o&&!ai(r)&&!ai(c))return!1;if(o&&ai(c))continue;o=!1,r=c|1&r}}return ai(r)||o}function ai(t){return 0==(1&t)}function n7(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function s7(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function MM(t,e,n=!1){for(let r=0;r<e.length;r++)if(t7(t,e[r],n))return!0;return!1}function o7(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function OM(t,e){return t?":not("+e.trim()+")":e}function a7(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!ai(o)&&(e+=OM(s,i),i=""),r=o,s=s||!ai(r);n++}return""!==i&&(e+=OM(s,i)),e}function yt(t){return us(()=>{const e=kM(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===xp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||oi.Emulated,styles:t.styles||Ve,_:null,schemas:t.schemas||null,tView:null,id:""};PM(n);const r=t.dependencies;return n.directiveDefs=Mp(r,!1),n.pipeDefs=Mp(r,!0),n.id=function g7(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function d7(t){return Ne(t)||vn(t)}function h7(t){return null!==t}function Ce(t){return us(()=>({type:t.type,bootstrap:t.bootstrap||Ve,declarations:t.declarations||Ve,imports:t.imports||Ve,exports:t.exports||Ve,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function RM(t,e){if(null==t)return Mi;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function B(t){return us(()=>{const e=kM(t);return PM(e),e})}function Hn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ne(t){return t[Np]||null}function vn(t){return t[l0]||null}function Gn(t){return t[d0]||null}function Er(t,e){const n=t[DM]||null;if(!n&&!0===e)throw new Error(`Type ${Jt(t)} does not have '\u0275mod' property.`);return n}function kM(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Mi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Ve,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:RM(t.inputs,e),outputs:RM(t.outputs)}}function PM(t){t.features?.forEach(e=>e(t))}function Mp(t,e){if(!t)return null;const n=e?Gn:d7;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(h7)}const Et=0,J=1,ge=2,ft=3,ci=4,ql=5,kn=6,Ec=7,Rt=8,Ys=9,Tc=10,he=11,Wl=12,FM=13,Sc=14,kt=15,Kl=16,Ac=17,Oi=18,Yl=19,LM=20,Qs=21,ds=22,Ql=23,Jl=24,Te=25,f0=1,VM=2,Ri=7,xc=9,bn=11;function or(t){return Array.isArray(t)&&"object"==typeof t[f0]}function zn(t){return Array.isArray(t)&&!0===t[f0]}function p0(t){return 0!=(4&t.flags)}function zo(t){return t.componentOffset>-1}function Rp(t){return 1==(1&t.flags)}function ui(t){return!!t.template}function g0(t){return 0!=(512&t[ge])}function qo(t,e){return t.hasOwnProperty(ls)?t[ls]:null}let wn=null,kp=!1;function qr(t){const e=wn;return wn=t,e}const jM={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function HM(t){if(!Xl(t)||t.dirty){if(!t.producerMustRecompute(t)&&!qM(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function zM(t){t.dirty=!0,function GM(t){if(void 0===t.liveConsumerNode)return;const e=kp;kp=!0;try{for(const n of t.liveConsumerNode)n.dirty||zM(n)}finally{kp=e}}(t),t.consumerMarkedDirty?.(t)}function _0(t){return t&&(t.nextProducerIndex=0),qr(t)}function y0(t,e){if(qr(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Xl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Pp(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function qM(t){Nc(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(HM(n),r!==n.version))return!0}return!1}function WM(t){if(Nc(t),Xl(t))for(let e=0;e<t.producerNode.length;e++)Pp(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Pp(t,e){if(function YM(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Nc(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Pp(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Nc(i),i.producerIndexOfThis[r]=e}}function Xl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Nc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let QM=null;const eO=()=>{},A7=(()=>({...jM,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:eO}))();class x7{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function In(){return tO}function tO(t){return t.type.prototype.ngOnChanges&&(t.setInput=M7),N7}function N7(){const t=rO(this),e=t?.current;if(e){const n=t.previous;if(n===Mi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function M7(t,e,n,r){const i=this.declaredInputs[n],s=rO(t)||function O7(t,e){return t[nO]=e}(t,{previous:Mi,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new x7(c&&c.currentValue,e,a===Mi),t[r]=e}In.ngInherit=!0;const nO="__ngSimpleChanges__";function rO(t){return t[nO]||null}const ki=function(t,e,n){};function st(t){for(;Array.isArray(t);)t=t[Et];return t}function Fp(t,e){return st(e[t])}function ar(t,e){return st(e[t.index])}function oO(t,e){return t.data[e]}function Tr(t,e){const n=e[t];return or(n)?n:n[Et]}function Zs(t,e){return null==e?null:t[e]}function aO(t){t[Ac]=0}function V7(t){1024&t[ge]||(t[ge]|=1024,uO(t,1))}function cO(t){1024&t[ge]&&(t[ge]&=-1025,uO(t,-1))}function uO(t,e){let n=t[ft];if(null===n)return;n[ql]+=e;let r=n;for(n=n[ft];null!==n&&(1===e&&1===r[ql]||-1===e&&0===r[ql]);)n[ql]+=e,r=n,n=n[ft]}const ce={lFrame:bO(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function hO(){return ce.bindingsEnabled}function Oc(){return null!==ce.skipHydrationRootTNode}function M(){return ce.lFrame.lView}function Me(){return ce.lFrame.tView}function cr(t){return ce.lFrame.contextLView=t,t[Rt]}function ur(t){return ce.lFrame.contextLView=null,t}function Dn(){let t=fO();for(;null!==t&&64===t.type;)t=t.parent;return t}function fO(){return ce.lFrame.currentTNode}function Pi(t,e){const n=ce.lFrame;n.currentTNode=t,n.isParent=e}function D0(){return ce.lFrame.isParent}function C0(){ce.lFrame.isParent=!1}function qn(){const t=ce.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Rc(){return ce.lFrame.bindingIndex++}function fs(t){const e=ce.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Q7(t,e){const n=ce.lFrame;n.bindingIndex=n.bindingRootIndex=t,E0(e)}function E0(t){ce.lFrame.currentDirectiveIndex=t}function _O(){return ce.lFrame.currentQueryIndex}function S0(t){ce.lFrame.currentQueryIndex=t}function Z7(t){const e=t[J];return 2===e.type?e.declTNode:1===e.type?t[kn]:null}function yO(t,e,n){if(n&Ee.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&Ee.Host||(i=Z7(s),null===i||(s=s[Sc],10&i.type))););if(null===i)return!1;e=i,t=s}const r=ce.lFrame=vO();return r.currentTNode=e,r.lView=t,!0}function A0(t){const e=vO(),n=t[J];ce.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function vO(){const t=ce.lFrame,e=null===t?null:t.child;return null===e?bO(t):e}function bO(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function wO(){const t=ce.lFrame;return ce.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const IO=wO;function x0(){const t=wO();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Wn(){return ce.lFrame.selectedIndex}function Wo(t){ce.lFrame.selectedIndex=t}function vt(){const t=ce.lFrame;return oO(t.tView,t.selectedIndex)}function td(){ce.lFrame.currentNamespace="svg"}function N0(){!function n9(){ce.lFrame.currentNamespace=null}()}let CO=!0;function Lp(){return CO}function Xs(t){CO=t}function Vp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Bp(t,e,n){EO(t,e,3,n)}function Up(t,e,n,r){(3&t[ge])===n&&EO(t,e,n,r)}function M0(t,e){let n=t[ge];(3&n)===e&&(n&=8191,n+=1,t[ge]=n)}function EO(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&t[Ac]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[Ac]+=65536),(a<s||-1==s)&&(i9(t,n,e,c),t[Ac]=(4294901760&t[Ac])+c+2),c++}function TO(t,e){ki(4,t,e);const n=qr(null);try{e.call(t)}finally{qr(n),ki(5,t,e)}}function i9(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[ge]>>13<t[Ac]>>16&&(3&t[ge])===e&&(t[ge]+=8192,TO(a,s)):TO(a,s)}const kc=-1;class nd{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function R0(t){return t!==kc}function rd(t){return 32767&t}function id(t,e){let n=function c9(t){return t>>16}(t),r=e;for(;n>0;)r=r[Sc],n--;return r}let k0=!0;function jp(t){const e=k0;return k0=t,e}const SO=255,AO=5;let u9=0;const Fi={};function $p(t,e){const n=xO(t,e);if(-1!==n)return n;const r=e[J];r.firstCreatePass&&(t.injectorIndex=e.length,P0(r.data,t),P0(e,null),P0(r.blueprint,null));const i=Hp(t,e),s=t.injectorIndex;if(R0(i)){const o=rd(i),a=id(i,e),c=a[J].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function P0(t,e){t.push(0,0,0,0,0,0,0,0,e)}function xO(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Hp(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=FO(i),null===r)return kc;if(n++,i=i[Sc],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return kc}function F0(t,e,n){!function l9(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Gl)&&(r=n[Gl]),null==r&&(r=n[Gl]=u9++);const i=r&SO;e.data[t+(i>>AO)]|=1<<i}(t,e,n)}function NO(t,e,n){if(n&Ee.Optional||void 0!==t)return t;e0()}function MO(t,e,n,r){if(n&Ee.Optional&&void 0===r&&(r=null),!(n&(Ee.Self|Ee.Host))){const i=t[Ys],s=sr(void 0);try{return i?i.get(e,r,n&Ee.Optional):vM(e,r,n&Ee.Optional)}finally{sr(s)}}return NO(r,0,n)}function OO(t,e,n,r=Ee.Default,i){if(null!==t){if(2048&e[ge]&&!(r&Ee.Self)){const o=function m9(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[ge]&&!(512&o[ge]);){const a=RO(s,o,n,r|Ee.Self,Fi);if(a!==Fi)return a;let c=s.parent;if(!c){const u=o[LM];if(u){const l=u.get(n,Fi,r);if(l!==Fi)return l}c=FO(o),o=o[Sc]}s=c}return i}(t,e,n,r,Fi);if(o!==Fi)return o}const s=RO(t,e,n,r,Fi);if(s!==Fi)return s}return MO(e,n,r,i)}function RO(t,e,n,r,i){const s=function f9(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Gl)?t[Gl]:void 0;return"number"==typeof e?e>=0?e&SO:g9:e}(n);if("function"==typeof s){if(!yO(e,t,r))return r&Ee.Host?NO(i,0,r):MO(e,n,r,i);try{let o;if(o=s(r),null!=o||r&Ee.Optional)return o;e0()}finally{IO()}}else if("number"==typeof s){let o=null,a=xO(t,e),c=kc,u=r&Ee.Host?e[kt][kn]:null;for((-1===a||r&Ee.SkipSelf)&&(c=-1===a?Hp(t,e):e[a+8],c!==kc&&PO(r,!1)?(o=e[J],a=rd(c),e=id(c,e)):a=-1);-1!==a;){const l=e[J];if(kO(s,a,l.data)){const d=h9(a,e,n,o,r,u);if(d!==Fi)return d}c=e[a+8],c!==kc&&PO(r,e[J].data[a+8]===u)&&kO(s,a,e)?(o=l,a=rd(c),e=id(c,e)):a=-1}}return i}function h9(t,e,n,r,i,s){const o=e[J],a=o.data[t+8],l=Gp(a,o,n,null==r?zo(a)&&k0:r!=o&&0!=(3&a.type),i&Ee.Host&&s===a);return null!==l?Ko(e,o,l,a):Fi}function Gp(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(i){const f=o[c];if(f&&ui(f)&&f.type===n)return c}return null}function Ko(t,e,n,r){let i=t[n];const s=e.data;if(function s9(t){return t instanceof nd}(i)){const o=i;o.resolving&&function F6(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new k(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ge(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():de(t)}(s[n]));const a=jp(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?sr(o.injectImpl):null;yO(t,r,Ee.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function r9(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=tO(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==u&&sr(u),jp(a),o.resolving=!1,IO()}}return i}function kO(t,e,n){return!!(n[e+(t>>AO)]&1<<t)}function PO(t,e){return!(t&Ee.Self||t&Ee.Host&&e)}class Kn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return OO(this._tNode,this._lView,e,Ap(r),n)}}function g9(){return new Kn(Dn(),M())}function Pt(t){return us(()=>{const e=t.prototype.constructor,n=e[ls]||L0(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[ls]||L0(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function L0(t){return Zv(t)?()=>{const e=L0(ue(t));return e&&e()}:qo(t)}function FO(t){const e=t[J],n=e.type;return 2===n?e.declTNode:1===n?t[kn]:null}const Fc="__parameters__";function Vc(t,e,n){return us(()=>{const r=function V0(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,u,l){const d=c.hasOwnProperty(Fc)?c[Fc]:Object.defineProperty(c,Fc,{value:[]})[Fc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Uc(t,e){t.forEach(n=>Array.isArray(n)?Uc(n,e):e(n))}function VO(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function zp(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ad(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Sr(t,e,n){let r=jc(t,e);return r>=0?t[1|r]=n:(r=~r,function D9(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function B0(t,e){const n=jc(t,e);if(n>=0)return t[1|n]}function jc(t,e){return function BO(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const lr=Hl(Vc("Optional"),8),Wp=Hl(Vc("SkipSelf"),4);function Zp(t){return 128==(128&t.flags)}var eo=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(eo||{});const G0=new Map;let W9=0;const q0="__ngContext__";function Pn(t,e){or(e)?(t[q0]=e[Yl],function Y9(t){G0.set(t[Yl],t)}(e)):t[q0]=e}let W0;function K0(t,e){return W0(t,e)}function ld(t){const e=t[ft];return zn(e)?e[ft]:e}function sR(t){return aR(t[Wl])}function oR(t){return aR(t[ci])}function aR(t){for(;null!==t&&!zn(t);)t=t[ci];return t}function Gc(t,e,n,r,i){if(null!=r){let s,o=!1;zn(r)?s=r:or(r)&&(o=!0,r=r[Et]);const a=st(r);0===t&&null!==n?null==i?dR(e,n,a):Qo(e,n,a,i||null,!0):1===t&&null!==n?Qo(e,n,a,i||null,!0):2===t?function sg(t,e,n){const r=rg(t,e);r&&function pq(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function _q(t,e,n,r,i){const s=n[Ri];s!==st(n)&&Gc(e,t,r,s,i);for(let a=bn;a<n.length;a++){const c=n[a];hd(c[J],c,t,e,r,s)}}(e,t,s,n,i)}}function tg(t,e,n){return t.createElement(e,n)}function uR(t,e){const n=t[xc],r=n.indexOf(e);cO(e),n.splice(r,1)}function ng(t,e){if(t.length<=bn)return;const n=bn+e,r=t[n];if(r){const i=r[Kl];null!==i&&i!==t&&uR(i,r),e>0&&(t[n-1][ci]=r[ci]);const s=zp(t,bn+e);!function oq(t,e){hd(t,e,e[he],2,null,null),e[Et]=null,e[kn]=null}(r[J],r);const o=s[Oi];null!==o&&o.detachView(s[J]),r[ft]=null,r[ci]=null,r[ge]&=-129}return r}function Q0(t,e){if(!(256&e[ge])){const n=e[he];e[Ql]&&WM(e[Ql]),e[Jl]&&WM(e[Jl]),n.destroyNode&&hd(t,e,n,3,null,null),function uq(t){let e=t[Wl];if(!e)return J0(t[J],t);for(;e;){let n=null;if(or(e))n=e[Wl];else{const r=e[bn];r&&(n=r)}if(!n){for(;e&&!e[ci]&&e!==t;)or(e)&&J0(e[J],e),e=e[ft];null===e&&(e=t),or(e)&&J0(e[J],e),n=e&&e[ci]}e=n}}(e)}}function J0(t,e){if(!(256&e[ge])){e[ge]&=-129,e[ge]|=256,function fq(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof nd)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];ki(4,a,c);try{c.call(a)}finally{ki(5,a,c)}}else{ki(4,i,s);try{s.call(i)}finally{ki(5,i,s)}}}}}(t,e),function hq(t,e){const n=t.cleanup,r=e[Ec];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Ec]=null);const i=e[Qs];if(null!==i){e[Qs]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[J].type&&e[he].destroy();const n=e[Kl];if(null!==n&&zn(e[ft])){n!==e[ft]&&uR(n,e);const r=e[Oi];null!==r&&r.detachView(t)}!function Q9(t){G0.delete(t[Yl])}(e)}}function Z0(t,e,n){return function lR(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Et];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===oi.None||s===oi.Emulated)return null}return ar(r,n)}}(t,e.parent,n)}function Qo(t,e,n,r,i){t.insertBefore(e,n,r,i)}function dR(t,e,n){t.appendChild(e,n)}function hR(t,e,n,r,i){null!==r?Qo(t,e,n,r,i):dR(t,e,n)}function rg(t,e){return t.parentNode(e)}function fR(t,e,n){return gR(t,e,n)}let X0,og,rb,ag,gR=function pR(t,e,n){return 40&t.type?ar(t,n):null};function ig(t,e,n,r){const i=Z0(t,r,e),s=e[he],a=fR(r.parent||e[kn],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)hR(s,i,n[c],a,!1);else hR(s,i,n,a,!1);void 0!==X0&&X0(s,r,e,n,i)}function dd(t,e){if(null!==e){const n=e.type;if(3&n)return ar(e,t);if(4&n)return eb(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return dd(t,r);{const i=t[e.index];return zn(i)?eb(-1,i):st(i)}}if(32&n)return K0(e,t)()||st(t[e.index]);{const r=_R(t,e);return null!==r?Array.isArray(r)?r[0]:dd(ld(t[kt]),r):dd(t,e.next)}}return null}function _R(t,e){return null!==e?t[kt][kn].projection[e.projection]:null}function eb(t,e){const n=bn+t+1;if(n<e.length){const r=e[n],i=r[J].firstChild;if(null!==i)return dd(r,i)}return e[Ri]}function tb(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&Pn(st(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)tb(t,e,n.child,r,i,s,!1),Gc(e,t,i,a,s);else if(32&c){const u=K0(n,r);let l;for(;l=u();)Gc(e,t,i,l,s);Gc(e,t,i,a,s)}else 16&c?vR(t,e,r,n,i,s):Gc(e,t,i,a,s);n=o?n.projectionNext:n.next}}function hd(t,e,n,r,i,s){tb(n,r,t.firstChild,e,i,s,!1)}function vR(t,e,n,r,i,s){const o=n[kt],c=o[kn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)Gc(e,t,i,c[u],s);else{let u=c;const l=o[ft];Zp(r)&&(u.flags|=128),tb(t,e,u,l,i,s,!0)}}function bR(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function wR(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&h0(t,e,r),null!==i&&bR(t,e,i),null!==s&&function vq(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function zc(t){return function nb(){if(void 0===og&&(og=null,it.trustedTypes))try{og=it.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return og}()?.createHTML(t)||t}function CR(t){return function ib(){if(void 0===ag&&(ag=null,it.trustedTypes))try{ag=it.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ag}()?.createScriptURL(t)||t}class Jo{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gM})`}}class Cq extends Jo{getTypeName(){return"HTML"}}class Eq extends Jo{getTypeName(){return"Style"}}class Tq extends Jo{getTypeName(){return"Script"}}class Sq extends Jo{getTypeName(){return"URL"}}class Aq extends Jo{getTypeName(){return"ResourceURL"}}function Ar(t){return t instanceof Jo?t.changingThisBreaksApplicationSecurity:t}function Li(t,e){const n=function xq(t){return t instanceof Jo&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${gM})`)}return n===e}class Pq{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(zc(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class Fq{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=zc(e),n}}const Vq=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function cg(t){return(t=String(t)).match(Vq)?t:"unsafe:"+t}function ps(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function fd(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const TR=ps("area,br,col,hr,img,wbr"),SR=ps("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),AR=ps("rp,rt"),sb=fd(TR,fd(SR,ps("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),fd(AR,ps("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),fd(AR,SR)),ob=ps("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xR=fd(ob,ps("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ps("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Bq=ps("script,style,template");class Uq{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!sb.hasOwnProperty(n))return this.sanitizedSomething=!0,!Bq.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!xR.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;ob[a]&&(c=cg(c)),this.buf.push(" ",o,'="',NR(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();sb.hasOwnProperty(n)&&!TR.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(NR(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const jq=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$q=/([^\#-~ |!])/g;function NR(t){return t.replace(/&/g,"&amp;").replace(jq,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace($q,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ug;function MR(t,e){let n=null;try{ug=ug||function ER(t){const e=new Fq(t);return function Lq(){try{return!!(new window.DOMParser).parseFromString(zc(""),"text/html")}catch{return!1}}()?new Pq(e):e}(t);let r=e?String(e):"";n=ug.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=ug.getInertBodyElement(r)}while(r!==s);return zc((new Uq).sanitizeChildren(ab(n)||n))}finally{if(n){const r=ab(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function ab(t){return"content"in t&&function Hq(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Kr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Kr||{});function pd(t){const e=gd();return e?e.sanitize(Kr.URL,t)||"":Li(t,"URL")?Ar(t):cg(de(t))}function cb(t){const e=gd();if(e)return CR(e.sanitize(Kr.RESOURCE_URL,t)||"");if(Li(t,"ResourceURL"))return CR(Ar(t));throw new k(904,!1)}function gd(){const t=M();return t&&t[Tc].sanitizer}const md=new Z("ENVIRONMENT_INITIALIZER"),RR=new Z("INJECTOR",-1),kR=new Z("INJECTOR_DEF_TYPES");class ub{get(e,n=$l){if(n===$l){const r=new Error(`NullInjectorError: No provider for ${Jt(e)}!`);throw r.name="NullInjectorError",r}return n}}function Qq(...t){return{\u0275providers:FR(0,t),\u0275fromNgModule:!0}}function FR(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Uc(e,o=>{const a=o;lg(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&LR(i,s),n}function LR(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];lb(i,s=>{e(s,r)})}}function lg(t,e,n,r){if(!(t=ue(t)))return!1;let i=null,s=Ep(t);const o=!s&&Ne(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const c=t.ngModule;if(s=Ep(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of c)lg(u,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{Uc(s.imports,l=>{lg(l,e,n,r)&&(u||=[],u.push(l))})}finally{}void 0!==u&&LR(u,e)}if(!a){const u=qo(i)||(()=>new i);e({provide:i,useFactory:u,deps:Ve},i),e({provide:kR,useValue:i,multi:!0},i),e({provide:md,useValue:()=>W(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const u=t;lb(c,l=>{e(l,u)})}}}return i!==t&&void 0!==t.providers}function lb(t,e){for(let n of t)Xv(n)&&(n=n.\u0275providers),Array.isArray(n)?lb(n,e):e(n)}const Jq=Ke({provide:String,useValue:Ke});function db(t){return null!==t&&"object"==typeof t&&Jq in t}function Zo(t){return"function"==typeof t}const hb=new Z("Set Injector scope."),dg={},Xq={};let fb;function hg(){return void 0===fb&&(fb=new ub),fb}class hr{}class Wc extends hr{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gb(e,o=>this.processProvider(o)),this.records.set(RR,Kc(void 0,this)),i.has("environment")&&this.records.set(hr,Kc(void 0,this));const s=this.records.get(hb);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(kR.multi,Ve,Ee.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Ks(this),r=sr(void 0);try{return e()}finally{Ks(n),sr(r)}}get(e,n=$l,r=Ee.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(CM))return e[CM](this);r=Ap(r);const s=Ks(this),o=sr(void 0);try{if(!(r&Ee.SkipSelf)){let c=this.records.get(e);if(void 0===c){const u=function iW(t){return"function"==typeof t||"object"==typeof t&&t instanceof Z}(e)&&Cp(e);c=u&&this.injectableDefInScope(u)?Kc(pb(e),dg):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&Ee.Self?hg():this.parent).get(e,n=r&Ee.Optional&&n===$l?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Sp]=a[Sp]||[]).unshift(Jt(e)),s)throw a;return function J6(t,e,n,r){const i=t[Sp];throw e[wM]&&i.unshift(e[wM]),t.message=function Z6(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Jt(e);if(Array.isArray(e))i=e.map(Jt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Jt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(q6,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Sp]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{sr(o),Ks(s)}}resolveInjectorInitializers(){const e=Ks(this),n=sr(void 0);try{const i=this.get(md.multi,Ve,Ee.Self);for(const s of i)s()}finally{Ks(e),sr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Jt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new k(205,!1)}processProvider(e){let n=Zo(e=ue(e))?e:ue(e&&e.provide);const r=function tW(t){return db(t)?Kc(void 0,t.useValue):Kc(UR(t),dg)}(e);if(Zo(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Kc(void 0,dg,!0),i.factory=()=>u0(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===dg&&(n.value=Xq,n.value=n.factory()),"object"==typeof n.value&&n.value&&function rW(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=ue(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function pb(t){const e=Cp(t),n=null!==e?e.factory:qo(t);if(null!==n)return n;if(t instanceof Z)throw new k(204,!1);if(t instanceof Function)return function eW(t){const e=t.length;if(e>0)throw ad(e,"?"),new k(204,!1);const n=function $6(t){return t&&(t[Tp]||t[_M])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new k(204,!1)}function UR(t,e,n){let r;if(Zo(t)){const i=ue(t);return qo(i)||pb(i)}if(db(t))r=()=>ue(t.useValue);else if(function BR(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...u0(t.deps||[]));else if(function VR(t){return!(!t||!t.useExisting)}(t))r=()=>W(ue(t.useExisting));else{const i=ue(t&&(t.useClass||t.provide));if(!function nW(t){return!!t.deps}(t))return qo(i)||pb(i);r=()=>new i(...u0(t.deps))}return r}function Kc(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function gb(t,e){for(const n of t)Array.isArray(n)?gb(n,e):n&&Xv(n)?gb(n.\u0275providers,e):e(n)}const fg=new Z("AppId",{providedIn:"root",factory:()=>sW}),sW="ng",jR=new Z("Platform Initializer"),gs=new Z("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),$R=new Z("CSP nonce",{providedIn:"root",factory:()=>function qc(){if(void 0!==rb)return rb;if(typeof document<"u")return document;throw new k(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let HR=(t,e,n)=>null;function Db(t,e,n=!1){return HR(t,e,n)}class gW{}class qR{}class _W{resolveComponentFactory(e){throw function mW(t){const e=Error(`No component factory found for ${Jt(t)}.`);return e.ngComponent=t,e}(e)}}let vg=(()=>{class t{static#e=this.NULL=new _W}return t})();function yW(){return Jc(Dn(),M())}function Jc(t,e){return new Ue(ar(t,e))}let Ue=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=yW}return t})();function vW(t){return t instanceof Ue?t.nativeElement:t}class Tb{}let xr=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function bW(){const t=M(),n=Tr(Dn().index,t);return(or(n)?n:t)[he]}()}return t})(),wW=(()=>{class t{static#e=this.\u0275prov=G({token:t,providedIn:"root",factory:()=>null})}return t})();class Zc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Sb=new Zc("16.2.12"),Ab={};function JR(t,e=null,n=null,r){const i=ZR(t,e,n,r);return i.resolveInjectorInitializers(),i}function ZR(t,e=null,n=null,r,i=new Set){const s=[n||Ve,Qq(t)];return r=r||("object"==typeof t?void 0:Jt(t)),new Wc(s,e||hg(),r||null,i)}let Gt=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=$l;static#t=this.NULL=new ub;static create(n,r){if(Array.isArray(n))return JR({name:""},r,n,"");{const i=n.name??"";return JR({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=G({token:t,providedIn:"any",factory:()=>W(RR)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function xb(t){return t.ngOriginalError}class ms{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&xb(e);for(;n&&xb(n);)n=xb(n);return n||null}}function Nb(t){return e=>{setTimeout(t,void 0,e)}}const x=class xW extends Le{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Nb(s),i&&(i=Nb(i)),o&&(o=Nb(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Mt&&e.add(a),a}};function ek(...t){}class Ie{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new x(!1),this.onMicrotaskEmpty=new x(!1),this.onStable=new x(!1),this.onError=new x(!1),typeof Zone>"u")throw new k(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function NW(){const t="function"==typeof it.requestAnimationFrame;let e=it[t?"requestAnimationFrame":"setTimeout"],n=it[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function RW(t){const e=()=>{!function OW(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(it,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ob(t),t.isCheckStableRunning=!0,Mb(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ob(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function PW(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return tk(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),nk(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return tk(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),nk(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Ob(t),Mb(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ie.isInAngularZone())throw new k(909,!1)}static assertNotInAngularZone(){if(Ie.isInAngularZone())throw new k(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,MW,ek,ek);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const MW={};function Mb(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ob(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function tk(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function nk(t){t._nesting--,Mb(t)}class kW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new x,this.onMicrotaskEmpty=new x,this.onStable=new x,this.onError=new x}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const rk=new Z("",{providedIn:"root",factory:ik});function ik(){const t=H(Ie);let e=!0;return function fM(...t){const e=jl(t),n=function S6(t,e){return"number"==typeof Kv(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Yt(r[0]):Ic(n)(an(r,e)):Hr}(new Fe(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Fe(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(Yv()))}function _s(t){return t instanceof Function?t():t}let Rb=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}return t})();function vd(t){for(;t;){t[ge]|=64;const e=ld(t);if(g0(t)&&!e)return t;t=e}return null}const uk=new Z("",{providedIn:"root",factory:()=>!1});let Ig=null;function fk(t,e){return t[e]??mk()}function pk(t,e){const n=mk();n.producerNode?.length&&(t[e]=Ig,n.lView=t,Ig=gk())}const zW={...jM,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{vd(t.lView)},lView:null};function gk(){return Object.create(zW)}function mk(){return Ig??=gk(),Ig}const pe={};function V(t){_k(Me(),M(),Wn()+t,!1)}function _k(t,e,n,r){if(!r)if(3==(3&e[ge])){const s=t.preOrderCheckHooks;null!==s&&Bp(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Up(e,s,0,n)}Wo(n)}function v(t,e=Ee.Default){const n=M();return null===n?W(t,e):OO(Dn(),n,ue(t),e)}function Dg(t,e,n,r,i,s,o,a,c,u,l){const d=e.blueprint.slice();return d[Et]=i,d[ge]=140|r,(null!==u||t&&2048&t[ge])&&(d[ge]|=2048),aO(d),d[ft]=d[Sc]=t,d[Rt]=n,d[Tc]=o||t&&t[Tc],d[he]=a||t&&t[he],d[Ys]=c||t&&t[Ys]||null,d[kn]=s,d[Yl]=function K9(){return W9++}(),d[ds]=l,d[LM]=u,d[kt]=2==e.type?t[kt]:d,d}function nu(t,e,n,r,i){let s=t.data[e];if(null===s)s=function kb(t,e,n,r,i){const s=fO(),o=D0(),c=t.data[e]=function XW(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Oc()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(t,e,n,r,i),function Y7(){return ce.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function ed(){const t=ce.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Pi(s,!0),s}function bd(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function vk(t,e,n,r,i){const s=fk(e,Ql),o=Wn(),a=2&r;try{Wo(-1),a&&e.length>Te&&_k(t,e,Te,!1),ki(a?2:0,i);const u=a?s:null,l=_0(u);try{null!==u&&(u.dirty=!1),n(r,i)}finally{y0(u,l)}}finally{a&&null===e[Ql]&&pk(e,Ql),Wo(o),ki(a?3:1,i)}}function Pb(t,e,n){if(p0(e)){const r=qr(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{qr(r)}}}function Fb(t,e,n){hO()&&(function oK(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;zo(n)&&function fK(t,e,n){const r=ar(e,t),i=bk(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Cg(t,Dg(t,i,null,o,r,e,null,t[Tc].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||$p(n,e),Pn(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const c=t.data[a],u=Ko(e,t,a,n);Pn(u,e),null!==o&&pK(0,a-i,u,c,0,o),ui(c)&&(Tr(n.index,e)[Rt]=Ko(e,t,a,n))}}(t,e,n,ar(n,e)),64==(64&n.flags)&&Ek(t,e,n))}function Lb(t,e,n=ar){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function bk(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Vb(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Vb(t,e,n,r,i,s,o,a,c,u,l){const d=Te+r,h=d+i,f=function WW(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:pe);return n}(d,h),p="function"==typeof u?u():u;return f[J]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:l}}let wk=t=>null;function Ik(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?Dk(n,e,i,s):r.hasOwnProperty(i)&&Dk(n,e,r[i],s)}return n}function Dk(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Bb(t,e,n,r){if(hO()){const i=null===r?null:{"":-1},s=function cK(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(MM(e,o.selectors,!1))if(r||(r=[]),ui(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Ub(t,e,a.length)}else r.unshift(o),Ub(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&Ck(t,e,n,o,i,a),i&&function uK(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new k(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=zl(n.mergedAttrs,n.attrs)}function Ck(t,e,n,r,i,s){for(let u=0;u<r.length;u++)F0($p(n,e),t,r[u].type);!function dK(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let u=0;u<r.length;u++){const l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=bd(t,e,r.length,null);for(let u=0;u<r.length;u++){const l=r[u];n.mergedAttrs=zl(n.mergedAttrs,l.hostAttrs),hK(t,n,e,c,l),lK(c,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function eK(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let c=null,u=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;c=Ik(d.inputs,l,c,h?h.inputs:null),u=Ik(d.outputs,l,u,p);const g=null===c||null===o||NM(e)?null:gK(c,l,o);a.push(g)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}(t,n,s)}function Ek(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function J7(){return ce.lFrame.currentDirectiveIndex}();try{Wo(s);for(let a=r;a<i;a++){const c=t.data[a],u=e[a];E0(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&aK(c,u)}}finally{Wo(-1),E0(o)}}function aK(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ub(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function lK(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ui(e)&&(n[""]=t)}}function hK(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=qo(i.type)),o=new nd(s,ui(i),v);t.blueprint[r]=o,n[r]=o,function iK(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function sK(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,bd(t,n,i.hostVars,pe),i)}function Vi(t,e,n,r,i,s){const o=ar(t,e);!function jb(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?de(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[he],o,s,t.value,n,r,i)}function pK(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)Tk(r,n,o[a++],o[a++],o[a++])}function Tk(t,e,n,r,i){const s=qr(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{qr(s)}}function gK(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Sk(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function Ak(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];S0(n[r]),o.contentQueries(2,e[s],s)}}}function Cg(t,e){return t[Wl]?t[FM][ci]=e:t[Wl]=e,t[FM]=e,e}function $b(t,e,n){S0(0);const r=qr(null);try{e(t,n)}finally{qr(r)}}function xk(t){return t[Ec]||(t[Ec]=[])}function Nk(t){return t.cleanup||(t.cleanup=[])}function Ok(t,e){const n=t[Ys],r=n?n.get(ms,null):null;r&&r.handleError(e)}function Hb(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];Tk(t.data[o],e[o],r,a,i)}}function ys(t,e,n){const r=Fp(e,t);!function cR(t,e,n){t.setValue(e,n)}(t[he],r,n)}function mK(t,e){const n=Tr(e,t),r=n[J];!function _K(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Et];null!==i&&null===n[ds]&&(n[ds]=Db(i,n[Ys])),Gb(r,n,n[Rt])}function Gb(t,e,n){A0(e);try{const r=t.viewQuery;null!==r&&$b(1,r,n);const i=t.template;null!==i&&vk(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ak(t,e),t.staticViewQueries&&$b(2,t.viewQuery,n);const s=t.components;null!==s&&function yK(t,e){for(let n=0;n<e.length;n++)mK(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ge]&=-5,x0()}}let Rk=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function S7(t,e,n){const r=Object.create(A7);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>zM(r),run:()=>{if(r.dirty=!1,r.hasRun&&!qM(r))return;r.hasRun=!0;const o=_0(r);try{r.cleanupFn(),r.cleanupFn=eO,r.fn(i)}finally{y0(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,u=>{this.all.has(u)&&this.queue.set(u,s)},i);let a;this.all.add(o),o.notify();const c=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}return t})();function Eg(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Jv(i,a):2==s&&(r=Jv(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function wd(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(st(s)),zn(s)&&kk(s,r);const o=n.type;if(8&o)wd(t,e,n.child,r);else if(32&o){const a=K0(n,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=_R(e,n);if(Array.isArray(a))r.push(...a);else{const c=ld(e[kt]);wd(c[J],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function kk(t,e){for(let n=bn;n<t.length;n++){const r=t[n],i=r[J].firstChild;null!==i&&wd(r[J],r,i,e)}t[Ri]!==t[Et]&&e.push(t[Ri])}function Tg(t,e,n,r=!0){const i=e[Tc],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{Pk(t,e,t.template,n)}catch(c){throw r&&Ok(e,c),c}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function Pk(t,e,n,r){const i=e[ge];if(256!=(256&i)){e[Tc].effectManager?.flush(),A0(e);try{aO(e),function gO(t){return ce.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&vk(t,e,n,2,r);const o=3==(3&i);if(o){const u=t.preOrderCheckHooks;null!==u&&Bp(e,u,null)}else{const u=t.preOrderHooks;null!==u&&Up(e,u,0,null),M0(e,0)}if(function wK(t){for(let e=sR(t);null!==e;e=oR(e)){if(!e[VM])continue;const n=e[xc];for(let r=0;r<n.length;r++){V7(n[r])}}}(e),Fk(e,2),null!==t.contentQueries&&Ak(t,e),o){const u=t.contentCheckHooks;null!==u&&Bp(e,u)}else{const u=t.contentHooks;null!==u&&Up(e,u,1),M0(e,1)}!function qW(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=fk(e,Jl);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Wo(~s);else{const o=s,a=n[++i],c=n[++i];Q7(a,o),r.dirty=!1;const u=_0(r);try{c(2,e[o])}finally{y0(r,u)}}}}finally{null===e[Jl]&&pk(e,Jl),Wo(-1)}}(t,e);const a=t.components;null!==a&&Vk(e,a,0);const c=t.viewQuery;if(null!==c&&$b(2,c,r),o){const u=t.viewCheckHooks;null!==u&&Bp(e,u)}else{const u=t.viewHooks;null!==u&&Up(e,u,2),M0(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ge]&=-73,cO(e)}finally{x0()}}}function Fk(t,e){for(let n=sR(t);null!==n;n=oR(n))for(let r=bn;r<n.length;r++)Lk(n[r],e)}function IK(t,e,n){Lk(Tr(e,t),n)}function Lk(t,e){if(!function F7(t){return 128==(128&t[ge])}(t))return;const n=t[J],r=t[ge];if(80&r&&0===e||1024&r||2===e)Pk(n,t,n.template,t[Rt]);else if(t[ql]>0){Fk(t,1);const i=n.components;null!==i&&Vk(t,i,1)}}function Vk(t,e,n){for(let r=0;r<e.length;r++)IK(t,e[r],n)}class Id{get rootNodes(){const e=this._lView,n=e[J];return wd(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Rt]}set context(e){this._lView[Rt]=e}get destroyed(){return 256==(256&this._lView[ge])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[ft];if(zn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(ng(e,r),zp(n,r))}this._attachedToViewContainer=!1}Q0(this._lView[J],this._lView)}onDestroy(e){!function lO(t,e){if(256==(256&t[ge]))throw new k(911,!1);null===t[Qs]&&(t[Qs]=[]),t[Qs].push(e)}(this._lView,e)}markForCheck(){vd(this._cdRefInjectingView||this._lView)}detach(){this._lView[ge]&=-129}reattach(){this._lView[ge]|=128}detectChanges(){Tg(this._lView[J],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new k(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function cq(t,e){hd(t,e,e[he],2,null,null)}(this._lView[J],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new k(902,!1);this._appRef=e}}class DK extends Id{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Tg(e[J],e,e[Rt],!1)}checkNoChanges(){}get context(){return null}}class Bk extends vg{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ne(e);return new Dd(n,this.ngModule)}}function Uk(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class EK{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ap(r);const i=this.injector.get(e,Ab,r);return i!==Ab||n===Ab?i:this.parentInjector.get(e,n,r)}}class Dd extends qR{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=Uk(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Uk(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function c7(t){return t.map(a7).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof hr?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new EK(e,s):e,a=o.get(Tb,null);if(null===a)throw new k(407,!1);const d={rendererFactory:a,sanitizer:o.get(wW,null),effectManager:o.get(Rk,null),afterRenderEventManager:o.get(Rb,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function KW(t,e,n,r){const s=r.get(uk,!1)||n===oi.ShadowDom,o=t.selectRootElement(e,s);return function YW(t){wk(t)}(o),o}(h,r,this.componentDef.encapsulation,o):tg(h,f,function CK(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),b=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=Db(p,o,!0));const A=Vb(0,null,null,1,0,null,null,null,null,null,null),N=Dg(null,A,null,b,null,null,d,h,o,null,_);let F,Y;A0(N);try{const se=this.componentDef;let me,et=null;se.findHostDirectiveDefs?(me=[],et=new Map,se.findHostDirectiveDefs(se,me,et),me.push(se)):me=[se];const Ct=function SK(t,e){const n=t[J],r=Te;return t[r]=e,nu(n,r,2,"#host",null)}(N,p),yn=function AK(t,e,n,r,i,s,o){const a=i[J];!function xK(t,e,n,r){for(const i of t)e.mergedAttrs=zl(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Eg(e,e.mergedAttrs,!0),null!==n&&wR(r,n,e))}(r,t,e,o);let c=null;null!==e&&(c=Db(e,i[Ys]));const u=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=Dg(i,bk(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&Ub(a,t,r.length-1),Cg(i,d),i[t.index]=d}(Ct,p,se,me,N,d,h);Y=oO(A,Te),p&&function MK(t,e,n,r){if(r)h0(t,n,["ng-version",Sb.full]);else{const{attrs:i,classes:s}=function u7(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!ai(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&h0(t,n,i),s&&s.length>0&&bR(t,n,s.join(" "))}}(h,se,p,r),void 0!==n&&function OK(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(Y,this.ngContentSelectors,n),F=function NK(t,e,n,r,i,s){const o=Dn(),a=i[J],c=ar(o,i);Ck(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Pn(Ko(i,a,o.directiveStart+l,o),i);Ek(a,i,o),c&&Pn(c,i);const u=Ko(i,a,o.directiveStart+o.componentOffset,o);if(t[Rt]=i[Rt]=u,null!==s)for(const l of s)l(u,e);return Pb(a,o,t),u}(yn,se,me,et,N,[RK]),Gb(A,N,null)}finally{x0()}return new TK(this.componentType,F,Jc(Y,N),N,Y)}}class TK extends gW{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new DK(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;Hb(s[J],s,i,e,n),this.previousInputValues.set(e,n),vd(Tr(this._tNode.index,s))}}get injector(){return new Kn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function RK(){const t=Dn();Vp(M()[J],t)}function je(t){let e=function jk(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(ui(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new k(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=Sg(t.inputs),o.inputTransforms=Sg(t.inputTransforms),o.declaredInputs=Sg(t.declaredInputs),o.outputs=Sg(t.outputs);const a=i.hostBindings;a&&LK(t,a);const c=i.viewQuery,u=i.contentQueries;if(c&&PK(t,c),u&&FK(t,u),Ip(t.inputs,i.inputs),Ip(t.declaredInputs,i.declaredInputs),Ip(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Ip(o.inputTransforms,i.inputTransforms)),ui(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===je&&(n=!1)}}e=Object.getPrototypeOf(e)}!function kK(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=zl(i.hostAttrs,n=zl(n,i.hostAttrs))}}(r)}function Sg(t){return t===Mi?{}:t===Ve?[]:t}function PK(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function FK(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function LK(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function zk(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function Ag(t){return!!function zb(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Fn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function xg(t,e,n,r,i){const s=function Xo(t,e,n,r){const i=Fn(t,e,n);return Fn(t,e+1,r)||i}(t,e,n,r);return Fn(t,e+2,i)||s}function ze(t,e,n,r){const i=M();return Fn(i,Rc(),e)&&(Me(),Vi(vt(),i,t,e,n,r)),ze}function ou(t,e,n,r,i,s,o,a){const u=xg(t,function hs(){return ce.lFrame.bindingIndex}(),n,i,o);return fs(3),u?e+de(n)+r+de(i)+s+de(o)+a:pe}function j(t,e,n,r,i,s,o,a){const c=M(),u=Me(),l=t+Te,d=u.firstCreatePass?function aY(t,e,n,r,i,s,o,a,c){const u=e.consts,l=nu(e,t,4,o||null,Zs(u,a));Bb(e,n,l,Zs(u,c)),Vp(e,l);const d=l.tView=Vb(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,n,r,i,s,o):u.data[l];Pi(d,!1);const h=iP(u,c,d,t);Lp()&&ig(u,c,h,d),Pn(h,c),Cg(c,c[l]=Sk(h,c,h,d)),Rp(d)&&Fb(u,c,d),null!=o&&Lb(c,d,a)}let iP=function sP(t,e,n,r){return Xs(!0),e[he].createComment("")};function L(t,e,n){const r=M();return Fn(r,Rc(),e)&&function Nr(t,e,n,r,i,s,o,a){const c=ar(e,n);let l,u=e.inputs;!a&&null!=u&&(l=u[r])?(Hb(t,n,l,r,i),zo(e)&&function nK(t,e){const n=Tr(e,t);16&n[ge]||(n[ge]|=64)}(n,e.index)):3&e.type&&(r=function tK(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}(Me(),vt(),r,t,e,r[he],n,!1),L}function Jb(t,e,n,r,i){const o=i?"class":"style";Hb(t,n,e.inputs[o],o,r)}function C(t,e,n,r){const i=M(),s=Me(),o=Te+t,a=i[he],c=s.firstCreatePass?function dY(t,e,n,r,i,s){const o=e.consts,c=nu(e,t,2,r,Zs(o,i));return Bb(e,n,c,Zs(o,s)),null!==c.attrs&&Eg(c,c.attrs,!1),null!==c.mergedAttrs&&Eg(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,n,r):s.data[o],u=oP(s,i,c,a,e,t);i[o]=u;const l=Rp(c);return Pi(c,!0),wR(a,u,c),32!=(32&c.flags)&&Lp()&&ig(s,i,u,c),0===function U7(){return ce.lFrame.elementDepthCount}()&&Pn(u,i),function j7(){ce.lFrame.elementDepthCount++}(),l&&(Fb(s,i,c),Pb(s,c,i)),null!==r&&Lb(i,c),C}function T(){let t=Dn();D0()?C0():(t=t.parent,Pi(t,!1));const e=t;(function H7(t){return ce.skipHydrationRootTNode===t})(e)&&function W7(){ce.skipHydrationRootTNode=null}(),function $7(){ce.lFrame.elementDepthCount--}();const n=Me();return n.firstCreatePass&&(Vp(n,t),p0(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function o9(t){return 0!=(8&t.flags)}(e)&&Jb(n,e,M(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function a9(t){return 0!=(16&t.flags)}(e)&&Jb(n,e,M(),e.stylesWithoutHost,!1),T}function X(t,e,n,r){return C(t,e,n,r),T(),X}let oP=(t,e,n,r,i,s)=>(Xs(!0),tg(r,i,function DO(){return ce.lFrame.currentNamespace}()));function Mr(){return M()}function xd(t){return!!t&&"function"==typeof t.then}function uP(t){return!!t&&"function"==typeof t.subscribe}function _e(t,e,n,r){const i=M(),s=Me(),o=Dn();return function dP(t,e,n,r,i,s,o){const a=Rp(r),u=t.firstCreatePass&&Nk(t),l=e[Rt],d=xk(e);let h=!0;if(3&r.type||o){const g=ar(r,e),m=o?o(g):g,b=d.length,_=o?N=>o(st(N[r.index])):r.index;let A=null;if(!o&&a&&(A=function _Y(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Ec],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==A)(A.__ngLastListenerFn__||A).__ngNextListenerFn__=s,A.__ngLastListenerFn__=s,h=!1;else{s=fP(r,e,l,s,!1);const N=n.listen(m,i,s);d.push(s,N),u&&u.push(i,_,b,b+1)}}else s=fP(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const F=e[p[m]][p[m+1]].subscribe(s),Y=d.length;d.push(s,F),u&&u.push(i,r.index,Y,-(Y+1))}}}(s,i,i[he],o,t,e,r),_e}function hP(t,e,n,r){try{return ki(6,e,n),!1!==n(r)}catch(i){return Ok(t,i),!1}finally{ki(7,e,n)}}function fP(t,e,n,r,i){return function s(o){if(o===Function)return r;vd(t.componentOffset>-1?Tr(t.index,e):e);let c=hP(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=hP(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&!1===c&&o.preventDefault(),c}}function ee(t=1){return function X7(t){return(ce.lFrame.contextLView=function e9(t,e){for(;t>0;)e=e[Sc],t--;return e}(t,ce.lFrame.contextLView))[Rt]}(t)}function yY(t,e){let n=null;const r=function r7(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?MM(t,s,!0):o7(r,s))return i}else n=i}return n}function kg(t,e){return t<<17|e<<2}function to(t){return t>>17&32767}function tw(t){return 2|t}function ea(t){return(131068&t)>>2}function nw(t,e){return-131069&t|e<<2}function rw(t){return 1|t}function CP(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?to(s):ea(s),c=!1;for(;0!==a&&(!1===c||o);){const l=t[a+1];CY(t[a],e)&&(c=!0,t[a+1]=r?rw(l):tw(l)),a=r?to(l):ea(l)}c&&(t[n+1]=r?tw(s):rw(s))}function CY(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&jc(t,e)>=0}const Xt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function EP(t){return t.substring(Xt.key,Xt.keyEnd)}function TP(t,e){const n=Xt.textEnd;return n===e?-1:(e=Xt.keyEnd=function AY(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Xt.key=e,n),hu(t,e,n))}function hu(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Be(t,e){return function li(t,e,n,r){const i=M(),s=Me(),o=fs(2);s.firstUpdatePass&&RP(s,t,o,r),e!==pe&&Fn(i,o,e)&&PP(s,s.data[Wn()],i,i[he],t,i[o+1]=function BY(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Jt(Ar(t)))),t}(e,n),r,o)}(t,e,null,!0),Be}function ta(t){!function di(t,e,n,r){const i=Me(),s=fs(2);i.firstUpdatePass&&RP(i,null,s,r);const o=M();if(n!==pe&&Fn(o,s,n)){const a=i.data[Wn()];if(LP(a,r)&&!OP(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(n=Jv(c,n||"")),Jb(i,a,o,n,r)}else!function VY(t,e,n,r,i,s,o,a){i===pe&&(i=Ve);let c=0,u=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==l||null!==d;){const h=c<i.length?i[c+1]:void 0,f=u<s.length?s[u+1]:void 0;let g,p=null;l===d?(c+=2,u+=2,h!==f&&(p=d,g=f)):null===d||null!==l&&l<d?(c+=2,p=l):(u+=2,p=d,g=f),null!==p&&PP(t,e,n,r,p,g,o,a),l=c<i.length?i[c]:null,d=u<s.length?s[u]:null}}(i,a,o,o[he],o[s+1],o[s+1]=function FY(t,e,n){if(null==n||""===n)return Ve;const r=[],i=Ar(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}(LY,$i,t,!0)}function $i(t,e){for(let n=function TY(t){return function AP(t){Xt.key=0,Xt.keyEnd=0,Xt.value=0,Xt.valueEnd=0,Xt.textEnd=t.length}(t),TP(t,hu(t,0,Xt.textEnd))}(e);n>=0;n=TP(e,n))Sr(t,EP(e),!0)}function OP(t,e){return e>=t.expandoStartIndex}function RP(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Wn()],o=OP(t,n);LP(s,r)&&null===e&&!o&&(e=!1),e=function OY(t,e,n,r){const i=function T0(t){const e=ce.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Nd(n=iw(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=iw(i,t,e,n,r),null===s){let c=function RY(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==ea(r))return t[to(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=iw(null,t,e,c[1],r),c=Nd(c,e.attrs,r),function kY(t,e,n,r){t[to(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else s=function PY(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Nd(r,t[s].hostAttrs,n);return Nd(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function IY(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=to(o),c=ea(o);t[r]=n;let l,u=!1;if(Array.isArray(n)?(l=n[1],(null===l||jc(n,l)>0)&&(u=!0)):l=n,i)if(0!==c){const h=to(t[a+1]);t[r+1]=kg(h,a),0!==h&&(t[h+1]=nw(t[h+1],r)),t[a+1]=function bY(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=kg(a,0),0!==a&&(t[a+1]=nw(t[a+1],r)),a=r;else t[r+1]=kg(c,0),0===a?a=r:t[c+1]=nw(t[c+1],r),c=r;u&&(t[r+1]=tw(t[r+1])),CP(t,l,r,!0),CP(t,l,r,!1),function DY(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&jc(s,e)>=0&&(n[r+1]=rw(n[r+1]))}(e,l,t,r,s),o=kg(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function iw(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Nd(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Nd(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Sr(t,o,!!n||e[++s]))}return void 0===t?null:t}function LY(t,e,n){const r=String(e);""!==r&&!r.includes(" ")&&Sr(t,r,n)}function PP(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,u=c[a+1],l=function wY(t){return 1==(1&t)}(u)?FP(c,e,n,i,ea(u),o):void 0;Pg(l)||(Pg(s)||function vY(t){return 2==(2&t)}(u)&&(s=FP(c,null,n,i,a,o)),function yq(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:eo.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=eo.Important),t.setStyle(n,r,i,s))}}(r,o,Fp(Wn(),n),i,s))}function FP(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=null===l;let h=n[i+1];h===pe&&(h=d?Ve:void 0);let f=d?B0(h,r):l===r?h:void 0;if(u&&!Pg(f)&&(f=B0(c,r)),Pg(f)&&(a=f,o))return a;const p=t[i+1];i=o?to(p):ea(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=B0(c,r))}return a}function Pg(t){return void 0!==t}function LP(t,e){return 0!=(t.flags&(e?8:16))}function U(t,e=""){const n=M(),r=Me(),i=t+Te,s=r.firstCreatePass?nu(r,i,1,e,null):r.data[i],o=VP(r,n,s,e,t);n[i]=o,Lp()&&ig(r,n,o,s),Pi(s,!1)}let VP=(t,e,n,r,i)=>(Xs(!0),function eg(t,e){return t.createText(e)}(e[he],r));function Qr(t){return no("",t,""),Qr}function no(t,e,n){const r=M(),i=function iu(t,e,n,r){return Fn(t,Rc(),n)?e+de(n)+r:pe}(r,t,e,n);return i!==pe&&ys(r,Wn(),i),no}function sw(t,e,n,r,i,s,o){const a=M(),c=ou(a,t,e,n,r,i,s,o);return c!==pe&&ys(a,Wn(),c),sw}const pu="en-US";let i2=pu;function cw(t,e,n,r,i){if(t=ue(t),Array.isArray(t))for(let s=0;s<t.length;s++)cw(t[s],e,n,r,i);else{const s=Me(),o=M(),a=Dn();let c=Zo(t)?t:ue(t.provide);const u=UR(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Zo(t)||!t.multi){const f=new nd(u,i,v),p=lw(c,e,i?l:l+h,d);-1===p?(F0($p(a,o),s,c),uw(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=lw(c,e,l+h,d),p=lw(c,e,l,l+h),m=p>=0&&n[p];if(i&&!m||!i&&!(f>=0&&n[f])){F0($p(a,o),s,c);const b=function sJ(t,e,n,r,i){const s=new nd(t,n,v);return s.multi=[],s.index=e,s.componentProviders=0,x2(s,i,r&&!n),s}(i?iJ:rJ,n.length,i,r,u);!i&&m&&(n[p].providerFactory=b),uw(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(b),o.push(b)}else uw(s,t,f>-1?f:p,x2(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function uw(t,e,n,r){const i=Zo(e),s=function Zq(t){return!!t.useClass}(e);if(i||s){const c=(s?ue(e.useClass):e).prototype.ngOnDestroy;if(c){const u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=u.indexOf(n);-1===l?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function x2(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function lw(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function rJ(t,e,n,r){return dw(this.multi,[])}function iJ(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ko(n,n[J],this.providerFactory.index,r);s=a.slice(0,o),dw(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],dw(i,s);return s}function dw(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function tt(t,e=[]){return n=>{n.providersResolver=(r,i)=>function nJ(t,e,n){const r=Me();if(r.firstCreatePass){const i=ui(t);cw(n,r.data,r.blueprint,i,!0),cw(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class ra{}class N2{}class hw extends ra{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Bk(this);const i=Er(e);this._bootstrapComponents=_s(i.bootstrap),this._r3Injector=ZR(e,n,[{provide:ra,useValue:this},{provide:vg,useValue:this.componentFactoryResolver},...r],Jt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class fw extends N2{constructor(e){super(),this.moduleType=e}create(e){return new hw(this.moduleType,e,[])}}class M2 extends ra{constructor(e){super(),this.componentFactoryResolver=new Bk(this),this.instance=null;const n=new Wc([...e.providers,{provide:ra,useValue:this},{provide:vg,useValue:this.componentFactoryResolver}],e.parent||hg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function pw(t,e,n=null){return new M2({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let cJ=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=FR(0,n.type),i=r.length>0?pw([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=G({token:t,providedIn:"environment",factory:()=>new t(W(hr))})}return t})();function Or(t){t.getStandaloneInjector=e=>e.get(cJ).getOrCreateStandaloneInjector(t)}function V2(t,e,n,r,i,s){const o=e+n;return Fn(t,o,i)?function Bi(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function Vd(t,e){const n=t[e];return n===pe?void 0:n}(t,o+1)}function G2(t,e,n){const r=t+Te,i=M(),s=function Mc(t,e){return t[e]}(i,r);return function Bd(t,e){return t[J].data[e].pure}(i,r)?V2(i,qn(),e,s.transform,n,s):s.transform(n)}function xJ(){return this._results[Symbol.iterator]()}class _w{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new x)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=_w.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=xJ)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function Wr(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function w9(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function MJ(t,e,n,r=!0){const i=e[J];if(function lq(t,e,n,r){const i=bn+r,s=n.length;r>0&&(n[i-1][ci]=e),r<s-bn?(e[ci]=n[i],VO(n,bn+r,e)):(n.push(e),e[ci]=null),e[ft]=n;const o=e[Kl];null!==o&&n!==o&&function dq(t,e){const n=t[xc];e[kt]!==e[ft][ft][kt]&&(t[VM]=!0),null===n?t[xc]=[e]:n.push(e)}(o,e);const a=e[Oi];null!==a&&a.insertView(t),e[ge]|=128}(i,e,t,n),r){const s=eb(n,t),o=e[he],a=rg(o,t[Ri]);null!==a&&function aq(t,e,n,r,i,s){r[Et]=i,r[kn]=e,hd(t,r,n,1,i,s)}(i,t[kn],o,e,a,s)}}let bt=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=kJ}return t})();const OJ=bt,RJ=class extends OJ{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function NJ(t,e,n,r){const i=e.tView,a=Dg(t,i,n,4096&t[ge]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Kl]=t[e.index];const u=t[Oi];return null!==u&&(a[Oi]=u.createEmbeddedView(i)),Gb(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Id(i)}};function kJ(){return Ug(Dn(),M())}function Ug(t,e){return 4&t.type?new RJ(e,t,Jc(t,e)):null}let Zr=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=UJ}return t})();function UJ(){return J2(Dn(),M())}const jJ=Zr,Y2=class extends jJ{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Jc(this._hostTNode,this._hostLView)}get injector(){return new Kn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Hp(this._hostTNode,this._hostLView);if(R0(e)){const n=id(e,this._hostLView),r=rd(e);return new Kn(n[J].data[r+8],n)}return new Kn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=Q2(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-bn}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function od(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=o?e:new Dd(Ne(e)),u=r||this.parentInjector;if(!s&&null==c.ngModule){const m=(o?u:this.parentInjector).get(hr,null);m&&(s=m)}Ne(c.componentType??{});const f=c.create(u,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function L7(t){return zn(t[ft])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const u=i[ft],l=new Y2(u,u[kn],u[ft]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return MJ(a,i,o,!r),e.attachToViewContainerRef(),VO(yw(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=Q2(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=ng(this._lContainer,n);r&&(zp(yw(this._lContainer),n),Q0(r[J],r))}detach(e){const n=this._adjustIndex(e,-1),r=ng(this._lContainer,n);return r&&null!=zp(yw(this._lContainer),n)?new Id(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Q2(t){return t[8]}function yw(t){return t[8]||(t[8]=[])}function J2(t,e){let n;const r=e[t.index];return zn(r)?n=r:(n=Sk(r,e,null,t),e[t.index]=n,Cg(e,n)),Z2(n,e,t,r),new Y2(n,t,e)}let Z2=function X2(t,e,n,r){if(t[Ri])return;let i;i=8&n.type?st(r):function $J(t,e){const n=t[he],r=n.createComment(""),i=ar(e,t);return Qo(n,rg(n,i),r,function gq(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Ri]=i};class vw{constructor(e){this.queryList=e,this.matches=null}clone(){return new vw(this.queryList)}setDirty(){this.queryList.setDirty()}}class bw{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new bw(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==iF(e,n).matches&&this.queries[n].setDirty()}}class eF{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class ww{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new ww(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Iw{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Iw(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,zJ(n,s)),this.matchTNodeWithReadOption(e,n,Gp(n,e,s,!1,!1))}else r===bt?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Gp(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Ue||i===Zr||i===bt&&4&n.type)this.addMatch(n.index,-2);else{const s=Gp(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function zJ(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function WJ(t,e,n,r){return-1===n?function qJ(t,e){return 11&t.type?Jc(t,e):4&t.type?Ug(t,e):null}(e,t):-2===n?function KJ(t,e,n){return n===Ue?Jc(e,t):n===bt?Ug(e,t):n===Zr?J2(e,t):void 0}(t,e,r):Ko(t,t[J],n,e)}function tF(t,e,n,r){const i=e[Oi].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){const u=o[c];a.push(u<0?null:WJ(e,s[u],o[c+1],n.metadata.read))}i.matches=a}return i.matches}function Dw(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=tF(t,e,i,n);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)r.push(o[a/2]);else{const u=s[a+1],l=e[-c];for(let d=bn;d<l.length;d++){const h=l[d];h[Kl]===h[ft]&&Dw(h[J],h,u,r)}if(null!==l[xc]){const d=l[xc];for(let h=0;h<d.length;h++){const f=d[h];Dw(f[J],f,u,r)}}}}}return r}function Ye(t){const e=M(),n=Me(),r=_O();S0(r+1);const i=iF(n,r);if(t.dirty&&function P7(t){return 4==(4&t[ge])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Dw(n,e,r,[]):tF(n,e,i,r);t.reset(s,vW),t.notifyOnChanges()}return!0}return!1}function ia(t,e,n){const r=Me();r.firstCreatePass&&(function rF(t,e,n){null===t.queries&&(t.queries=new ww),t.queries.track(new Iw(e,n))}(r,new eF(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function nF(t,e,n){const r=new _w(4==(4&n));(function ZW(t,e,n,r){const i=xk(e);i.push(n),t.firstCreatePass&&Nk(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[Oi]&&(e[Oi]=new bw),e[Oi].queries.push(new vw(r))}(r,M(),e)}function iF(t,e){return t.queries.getByIndex(e)}const xw=new Z("Application Initializer");let Nw=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=H(xw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(xd(s))n.push(s);else if(uP(s)){const o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),wF=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const fi=new Z("LocaleId",{providedIn:"root",factory:()=>H(fi,Ee.Optional|Ee.SkipSelf)||function _Z(){return typeof $localize<"u"&&$localize.locale||pu}()});let IF=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Gr(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class bZ{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let DF=(()=>{class t{compileModuleSync(n){return new fw(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=_s(Er(n).declarations).reduce((o,a)=>{const c=Ne(a);return c&&o.push(new Dd(c)),o},[]);return new bZ(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const SF=new Z(""),Gg=new Z("");let Pw,Rw=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Pw||(function $Z(t){Pw=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(W(Ie),W(kw),W(Gg))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),kw=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Pw?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),ro=null;const AF=new Z("AllowMultipleToken"),Fw=new Z("PlatformDestroyListeners"),Lw=new Z("appBootstrapListener");class NF{constructor(e,n){this.name=e,this.token=n}}function OF(t,e,n=[]){const r=`Platform: ${e}`,i=new Z(r);return(s=[])=>{let o=Vw();if(!o||o.injector.get(AF,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function zZ(t){if(ro&&!ro.get(AF,!1))throw new k(400,!1);(function xF(){!function I7(t){QM=t}(()=>{throw new k(600,!1)})})(),ro=t;const e=t.get(kF);(function MF(t){t.get(jR,null)?.forEach(n=>n())})(t)}(function RF(t=[],e){return Gt.create({name:e,providers:[{provide:hb,useValue:"platform"},{provide:Fw,useValue:new Set([()=>ro=null])},...t]})}(a,r))}return function WZ(t){const e=Vw();if(!e)throw new k(401,!1);return e}()}}function Vw(){return ro?.get(kF)??null}let kF=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function KZ(t="zone.js",e){return"noop"===t?new kW:"zone.js"===t?new Ie(e):t}(r?.ngZone,function PF(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function aJ(t,e,n){return new hw(t,e,n)}(n.moduleType,this.injector,function UF(t){return[{provide:Ie,useFactory:t},{provide:md,multi:!0,useFactory:()=>{const e=H(QZ,{optional:!0});return()=>e.initialize()}},{provide:BF,useFactory:YZ},{provide:rk,useFactory:ik}]}(()=>i)),o=s.injector.get(ms,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{o.handleError(c)}});s.onDestroy(()=>{zg(this._modules,s),a.unsubscribe()})}),function FF(t,e,n){try{const r=n();return xd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(Nw);return a.runInitializers(),a.donePromise.then(()=>(function s2(t){zr(t,"Expected localeId to be defined"),"string"==typeof t&&(i2=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(fi,pu)||pu),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=LF({},r);return function HZ(t,e,n){const r=new fw(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(io);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new k(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new k(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Fw,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(W(Gt))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function LF(t,e){return Array.isArray(e)?e.reduce(LF,t):{...t,...e}}let io=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=H(BF),this.zoneIsStable=H(rk),this.componentTypes=[],this.components=[],this.isStable=H(IF).hasPendingTasks.pipe(si(n=>n?oe(!1):this.zoneIsStable),function pM(t,e=ii){return t=t??k6,_t((n,r)=>{let i,s=!0;n.subscribe(rt(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),Yv()),this._injector=H(hr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof qR;if(!this._injector.get(Nw).done)throw!i&&function Cc(t){const e=Ne(t)||vn(t)||Gn(t);return null!==e&&e.standalone}(n),new k(405,!1);let o;o=i?n:this._injector.get(vg).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function GZ(t){return t.isBoundToModule}(o)?void 0:this._injector.get(ra),u=o.create(Gt.NULL,[],r||o.selector,a),l=u.location.nativeElement,d=u.injector.get(SF,null);return d?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),zg(this.components,u),d?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new k(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;zg(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Lw,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>zg(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new k(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function zg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const BF=new Z("",{providedIn:"root",factory:()=>H(ms).handleError.bind(void 0)});function YZ(){const t=H(Ie),e=H(ms);return n=>t.runOutsideAngular(()=>e.handleError(n))}let QZ=(()=>{class t{constructor(){this.zone=H(Ie),this.applicationRef=H(io)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let pi=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=ZZ}return t})();function ZZ(t){return function XZ(t,e,n){if(zo(t)&&!n){const r=Tr(t.index,e);return new Id(r,r)}return 47&t.type?new Id(e[kt],e):null}(Dn(),M(),16==(16&t))}class GF{constructor(){}supports(e){return Ag(e)}create(e){return new sX(e)}}const iX=(t,e)=>e;class sX{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||iX}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<qF(r,i,s)?n:r,a=qF(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<u&&(s[h]=f+1)}s[o.previousIndex]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Ag(e))throw new k(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function HK(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new oX(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new zF),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zF),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class oX{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class aX{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class zF{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new aX,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qF(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function KF(){return new Kg([new GF])}let Kg=(()=>{class t{static#e=this.\u0275prov=G({token:t,providedIn:"root",factory:KF});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||KF()),deps:[[t,new Wp,new lr]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new k(901,!1)}}return t})();const hX=OF(null,"core",[]);let fX=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(W(io))};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})();function yu(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function Gw(t,e){const n=Ne(t),r=e.elementInjector||hg();return new Dd(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}let zw=null;function so(){return zw}class SX{}const Ft=new Z("DocumentToken");let qw=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return H(xX)},providedIn:"platform"})}return t})();const AX=new Z("Location Initialized");let xX=(()=>{class t extends qw{constructor(){super(),this._doc=H(Ft),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return so().getBaseHref(this._doc)}onPopState(n){const r=so().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=so().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function Ww(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function iL(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function vs(t){return t&&"?"!==t[0]?"?"+t:t}let oa=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return H(oL)},providedIn:"root"})}return t})();const sL=new Z("appBaseHref");let oL=(()=>{class t extends oa{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??H(Ft).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Ww(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+vs(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+vs(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+vs(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(W(qw),W(sL,8))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),NX=(()=>{class t extends oa{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Ww(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+vs(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+vs(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(W(qw),W(sL,8))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),Kw=(()=>{class t{constructor(n){this._subject=new x,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function RX(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(iL(aL(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+vs(r))}normalize(n){return t.stripTrailingSlash(function OX(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,aL(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vs(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vs(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=vs;static#t=this.joinWithSlash=Ww;static#n=this.stripTrailingSlash=iL;static#r=this.\u0275fac=function(r){return new(r||t)(W(oa))};static#i=this.\u0275prov=G({token:t,factory:function(){return function MX(){return new Kw(W(oa))}()},providedIn:"root"})}return t})();function aL(t){return t.replace(/\/index.html$/,"")}class _ee{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mi=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new _ee(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),bL(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{bL(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(v(Zr),v(bt),v(Kg))};static#t=this.\u0275dir=B({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function bL(t,e){t.context.$implicit=e.item}let Is=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new yee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){wL("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){wL("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(v(Zr),v(bt))};static#t=this.\u0275dir=B({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class yee{constructor(){this.$implicit=null,this.ngIf=null}}function wL(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Jt(e)}'.`)}let wu=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})();const CL="browser";function EL(t){return"server"===t}let Yee=(()=>{class t{static#e=this.\u0275prov=G({token:t,providedIn:"root",factory:()=>new Qee(W(Ft),window)})}return t})();class Qee{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Jee(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class wte extends SX{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class h1 extends wte{static makeCurrent(){!function TX(t){zw||(zw=t)}(new h1)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Ite(){return qd=qd||document.querySelector("base"),qd?qd.getAttribute("href"):null}();return null==n?null:function Dte(t){cm=cm||document.createElement("a"),cm.setAttribute("href",t);const e=cm.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){qd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function pee(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let cm,qd=null,Ete=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();const f1=new Z("EventManagerPlugins");let NL=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new k(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(W(f1),W(Ie))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();class ML{constructor(e){this._doc=e}}const p1="ng-app-id";let OL=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=EL(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${p1}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(p1),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(p1,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(W(Ft),W(fg),W($R,8),W(gs))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();const g1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},m1=/%COMP%/g,xte=new Z("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function kL(t,e){return e.map(n=>n.replace(m1,t))}let PL=(()=>{class t{constructor(n,r,i,s,o,a,c,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=EL(a),this.defaultRenderer=new _1(n,o,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===oi.ShadowDom&&(r={...r,encapsulation:oi.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof LL?i.applyToHost(n):i instanceof y1&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case oi.Emulated:s=new LL(c,u,r,this.appId,l,o,a,d);break;case oi.ShadowDom:return new Rte(c,u,n,r,o,a,this.nonce,d);default:s=new y1(c,u,r,l,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(W(NL),W(OL),W(fg),W(xte),W(Ft),W(gs),W(Ie),W($R))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();class _1{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(g1[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(FL(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(FL(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new k(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=g1[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=g1[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(eo.DashCase|eo.Important)?e.style.setProperty(n,r,i&eo.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&eo.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=so().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function FL(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Rte extends _1{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=kL(i.id,i.styles);for(const l of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class y1 extends _1{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?kL(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class LL extends y1{constructor(e,n,r,i,s,o,a,c){const u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=function Nte(t){return"_ngcontent-%COMP%".replace(m1,t)}(u),this.hostAttr=function Mte(t){return"_nghost-%COMP%".replace(m1,t)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let kte=(()=>{class t extends ML{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(W(Ft))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();const VL=["alt","control","meta","shift"],Pte={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fte={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Lte=(()=>{class t extends ML{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>so().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),VL.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(n,r){let i=Pte[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),VL.forEach(o=>{o!==i&&(0,Fte[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(W(Ft))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();const UL=[{provide:gs,useValue:CL},{provide:jR,useValue:function Vte(){h1.makeCurrent()},multi:!0},{provide:Ft,useFactory:function Ute(){return function Dq(t){rb=t}(document),document},deps:[]}],jte=OF(hX,"browser",UL),$te=new Z(""),jL=[{provide:Gg,useClass:class Cte{addToWindow(e){it.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new k(5103,!1);return s},it.getAllAngularTestabilities=()=>e.getAllTestabilities(),it.getAllAngularRootElements=()=>e.getAllRootElements(),it.frameworkStabilizers||(it.frameworkStabilizers=[]),it.frameworkStabilizers.push(r=>{const i=it.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?so().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:SF,useClass:Rw,deps:[Ie,kw,Gg]},{provide:Rw,useClass:Rw,deps:[Ie,kw,Gg]}],$L=[{provide:hb,useValue:"root"},{provide:ms,useFactory:function Bte(){return new ms},deps:[]},{provide:f1,useClass:kte,multi:!0,deps:[Ft,Ie,gs]},{provide:f1,useClass:Lte,multi:!0,deps:[Ft]},PL,OL,NL,{provide:Tb,useExisting:PL},{provide:class Zee{},useClass:Ete,deps:[]},[]];let Hte=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:fg,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(W($te,12))};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({providers:[...$L,...jL],imports:[wu,fX]})}return t})(),HL=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(W(Ft))};static#t=this.\u0275prov=G({token:t,factory:function(r){let i=null;return i=r?new r:function zte(){return new HL(W(Ft))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;let qL=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(r){let i=null;return i=r?new(r||t):W(WL),i},providedIn:"root"})}return t})(),WL=(()=>{class t extends qL{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case Kr.NONE:return r;case Kr.HTML:return Li(r,"HTML")?Ar(r):MR(this._doc,String(r)).toString();case Kr.STYLE:return Li(r,"Style")?Ar(r):r;case Kr.SCRIPT:if(Li(r,"Script"))return Ar(r);throw new k(5200,!1);case Kr.URL:return Li(r,"URL")?Ar(r):cg(String(r));case Kr.RESOURCE_URL:if(Li(r,"ResourceURL"))return Ar(r);throw new k(5201,!1);default:throw new k(5202,!1)}}bypassSecurityTrustHtml(n){return function Nq(t){return new Cq(t)}(n)}bypassSecurityTrustStyle(n){return function Mq(t){return new Eq(t)}(n)}bypassSecurityTrustScript(n){return function Oq(t){return new Tq(t)}(n)}bypassSecurityTrustUrl(n){return function Rq(t){return new Sq(t)}(n)}bypassSecurityTrustResourceUrl(n){return function kq(t){return new Aq(t)}(n)}static#e=this.\u0275fac=function(r){return new(r||t)(W(Ft))};static#t=this.\u0275prov=G({token:t,factory:function(r){let i=null;return i=r?new r:function Yte(t){return new WL(t.get(Ft))}(W(Gt)),i},providedIn:"root"})}return t})();const{isArray:Jte}=Array,{getPrototypeOf:Zte,prototype:Xte,keys:ene}=Object;function YL(t){if(1===t.length){const e=t[0];if(Jte(e))return{args:e,keys:null};if(function tne(t){return t&&"object"==typeof t&&Zte(t)===Xte}(e)){const n=ene(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:nne}=Array;function b1(t){return xe(e=>function rne(t,e){return nne(e)?t(...e):t(e)}(t,e))}function QL(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function w1(...t){const e=jl(t),n=vp(t),{args:r,keys:i}=YL(t);if(0===r.length)return an([],e);const s=new Fe(function ine(t,e,n=ii){return r=>{JL(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)JL(e,()=>{const u=an(t[c],e);let l=!1;u.subscribe(rt(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>QL(i,o):ii));return n?s.pipe(b1(n)):s}function JL(t,e,n){t?cs(n,t,e):e()}const um=Gs(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Wd(...t){return function sne(){return Ic(1)}()(an(t,jl(t)))}function I1(t){return new Fe(e=>{Yt(t()).subscribe(e)})}function Kd(t,e){const n=be(t)?t:()=>t,r=i=>i.error(n());return new Fe(e?i=>e.schedule(r,0,i):r)}function D1(){return _t((t,e)=>{let n=null;t._refCount++;const r=rt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class ZL extends Fe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Bl(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Mt;const n=this.getSubject();e.add(this.source.subscribe(rt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Mt.EMPTY)}return e}refCount(){return D1()(this)}}function un(t){return t<=0?()=>Hr:_t((e,n)=>{let r=0;e.subscribe(rt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function ln(t,e){return _t((n,r)=>{let i=0;n.subscribe(rt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function lm(t){return _t((e,n)=>{let r=!1;e.subscribe(rt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function eV(t=one){return _t((e,n)=>{let r=!1;e.subscribe(rt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function one(){return new um}function aa(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ln((i,s)=>t(i,s,r)):ii,un(1),n?lm(e):eV(()=>new um))}function Yd(t,e){return be(e)?Qt(t,e,1):Qt(t,1)}function en(t,e,n){const r=be(t)||e||n?{next:t,error:e,complete:n}:t;return r?_t((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(rt(s,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),s.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):ii}function ca(t){return _t((e,n)=>{let s,r=null,i=!1;r=e.subscribe(rt(n,void 0,void 0,o=>{s=Yt(t(o,ca(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function C1(t){return t<=0?()=>Hr:_t((e,n)=>{let r=[];e.subscribe(rt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function E1(t){return xe(()=>t)}function T1(t){return _t((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function pt(t){return _t((e,n)=>{Yt(t).subscribe(rt(n,()=>n.complete(),jo)),!n.closed&&e.subscribe(n)})}const ye="primary",Qd=Symbol("RouteTitle");class lne{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Iu(t){return new lne(t)}function dne(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Hi(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!tV(t[i],e[i]))return!1;return!0}function tV(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function nV(t){return t.length>0?t[t.length-1]:null}function ao(t){return function Qte(t){return!!t&&(t instanceof Fe||be(t.lift)&&be(t.subscribe))}(t)?t:xd(t)?an(Promise.resolve(t)):oe(t)}const fne={exact:function sV(t,e,n){if(!ua(t.segments,e.segments)||!dm(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!sV(t.children[r],e.children[r],n))return!1;return!0},subset:oV},rV={exact:function pne(t,e){return Hi(t,e)},subset:function gne(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>tV(t[n],e[n]))},ignored:()=>!0};function iV(t,e,n){return fne[n.paths](t.root,e.root,n.matrixParams)&&rV[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function oV(t,e,n){return aV(t,e,e.segments,n)}function aV(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!ua(i,n)||e.hasChildren()||!dm(i,n,r))}if(t.segments.length===n.length){if(!ua(t.segments,n)||!dm(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!oV(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(ua(t.segments,i)&&dm(t.segments,i,r)&&t.children[ye])&&aV(t.children[ye],e,s,r)}}function dm(t,e,n){return e.every((r,i)=>rV[n](t[i].parameters,r.parameters))}class Du{constructor(e=new Je([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Iu(this.queryParams)),this._queryParamMap}toString(){return yne.serialize(this)}}class Je{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hm(this)}}class Jd{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Iu(this.parameters)),this._parameterMap}toString(){return lV(this)}}function ua(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Zd=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return new S1},providedIn:"root"})}return t})();class S1{parse(e){const n=new xne(e);return new Du(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Xd(e.root,!0)}`,r=function wne(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${fm(n)}=${fm(i)}`).join("&"):`${fm(n)}=${fm(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function vne(t){return encodeURI(t)}(e.fragment)}`:""}`}}const yne=new S1;function hm(t){return t.segments.map(e=>lV(e)).join("/")}function Xd(t,e){if(!t.hasChildren())return hm(t);if(e){const n=t.children[ye]?Xd(t.children[ye],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ye&&r.push(`${i}:${Xd(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function _ne(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ye&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ye&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ye?[Xd(t.children[ye],!1)]:[`${i}:${Xd(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ye]?`${hm(t)}/${n[0]}`:`${hm(t)}/(${n.join("//")})`}}function cV(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fm(t){return cV(t).replace(/%3B/gi,";")}function A1(t){return cV(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pm(t){return decodeURIComponent(t)}function uV(t){return pm(t.replace(/\+/g,"%20"))}function lV(t){return`${A1(t.path)}${function bne(t){return Object.keys(t).map(e=>`;${A1(e)}=${A1(t[e])}`).join("")}(t.parameters)}`}const Ine=/^[^\/()?;#]+/;function x1(t){const e=t.match(Ine);return e?e[0]:""}const Dne=/^[^\/()?;=#]+/,Ene=/^[^=?&#]+/,Sne=/^[^&#]+/;class xne{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Je([],{}):new Je([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ye]=new Je(e,n)),r}parseSegment(){const e=x1(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new k(4009,!1);return this.capture(e),new Jd(pm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Cne(t){const e=t.match(Dne);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=x1(this.remaining);i&&(r=i,this.capture(r))}e[pm(n)]=pm(r)}parseQueryParam(e){const n=function Tne(t){const e=t.match(Ene);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function Ane(t){const e=t.match(Sne);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=uV(n),s=uV(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=x1(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new k(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ye);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ye]:new Je([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new k(4011,!1)}}function dV(t){return t.segments.length>0?new Je([],{[ye]:t}):t}function hV(t){const e={};for(const r of Object.keys(t.children)){const s=hV(t.children[r]);if(r===ye&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Nne(t){if(1===t.numberOfChildren&&t.children[ye]){const e=t.children[ye];return new Je(t.segments.concat(e.segments),e.children)}return t}(new Je(t.segments,e))}function la(t){return t instanceof Du}function fV(t){let e;const i=dV(function n(s){const o={};for(const c of s.children){const u=n(c);o[c.outlet]=u}const a=new Je(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function pV(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return N1(i,i,i,n,r);const s=function One(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new mV(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new mV(n,e,r)}(e);if(s.toRoot())return N1(i,i,new Je([],{}),n,r);const o=function Rne(t,e,n){if(t.isAbsolute)return new mm(e,!0,0);if(!n)return new mm(e,!1,NaN);if(null===n.parent)return new mm(n,!0,0);const r=gm(t.commands[0])?0:1;return function kne(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new k(4005,!1);i=r.segments.length}return new mm(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?th(o.segmentGroup,o.index,s.commands):_V(o.segmentGroup,o.index,s.commands);return N1(i,o.segmentGroup,a,n,r)}function gm(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function eh(t){return"object"==typeof t&&null!=t&&t.outlets}function N1(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=t===e?n:gV(t,e,n);const a=dV(hV(o));return new Du(a,s,i)}function gV(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:gV(s,e,n)}),new Je(t.segments,r)}class mV{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&gm(r[0]))throw new k(4003,!1);const i=r.find(eh);if(i&&i!==nV(r))throw new k(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class mm{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function _V(t,e,n){if(t||(t=new Je([],{})),0===t.segments.length&&t.hasChildren())return th(t,e,n);const r=function Fne(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(eh(a))break;const c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!vV(c,u,o))return s;r+=2}else{if(!vV(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Je(t.segments.slice(0,r.pathIndex),{});return s.children[ye]=new Je(t.segments.slice(r.pathIndex),t.children),th(s,0,i)}return r.match&&0===i.length?new Je(t.segments,{}):r.match&&!t.hasChildren()?M1(t,e,n):r.match?th(t,0,i):M1(t,e,n)}function th(t,e,n){if(0===n.length)return new Je(t.segments,{});{const r=function Pne(t){return eh(t[0])?t[0].outlets:{[ye]:t}}(n),i={};if(Object.keys(r).some(s=>s!==ye)&&t.children[ye]&&1===t.numberOfChildren&&0===t.children[ye].segments.length){const s=th(t.children[ye],e,n);return new Je(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=_V(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Je(t.segments,i)}}function M1(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(eh(s)){const c=Lne(s.outlets);return new Je(r,c)}if(0===i&&gm(n[0])){r.push(new Jd(t.segments[e].path,yV(n[0]))),i++;continue}const o=eh(s)?s.outlets[ye]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&gm(a)?(r.push(new Jd(o,yV(a))),i+=2):(r.push(new Jd(o,{})),i++)}return new Je(r,{})}function Lne(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=M1(new Je([],{}),0,r))}),e}function yV(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function vV(t,e,n){return t==n.path&&Hi(e,n.parameters)}const nh="imperative";class Gi{constructor(e,n){this.id=e,this.url=n}}class _m extends Gi{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class co extends Gi{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rh extends Gi{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Cu extends Gi{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class ym extends Gi{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class bV extends Gi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vne extends Gi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bne extends Gi{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Une extends Gi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jne extends Gi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $ne{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Hne{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Gne{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zne{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qne{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wne{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wV{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class O1{}class R1{constructor(e){this.url=e}}class Kne{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ih,this.attachRef=null}}let ih=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Kne,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class IV{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=k1(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=k1(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=P1(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return P1(e,this._root).map(n=>n.value)}}function k1(t,e){if(t===e.value)return e;for(const n of e.children){const r=k1(t,n);if(r)return r}return null}function P1(t,e){if(t===e.value)return[e];for(const n of e.children){const r=P1(t,n);if(r.length)return r.unshift(e),r}return[]}class Ds{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Eu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class DV extends IV{constructor(e,n){super(e),this.snapshot=n,F1(this,e)}toString(){return this.snapshot.toString()}}function CV(t,e){const n=function Yne(t,e){const o=new vm([],{},{},"",{},ye,e,null,{});return new TV("",new Ds(o,[]))}(0,e),r=new Gr([new Jd("",{})]),i=new Gr({}),s=new Gr({}),o=new Gr({}),a=new Gr(""),c=new da(r,i,o,a,s,ye,e,n.root);return c.snapshot=n.root,new DV(new Ds(c,[]),n)}class da{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(xe(u=>u[Qd]))??oe(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(xe(e=>Iu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(xe(e=>Iu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function EV(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Qne(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class vm{get title(){return this.data?.[Qd]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Iu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Iu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class TV extends IV{constructor(e,n){super(n),this.url=e,F1(this,n)}toString(){return SV(this._root)}}function F1(t,e){e.value._routerState=t,e.children.forEach(n=>F1(t,n))}function SV(t){const e=t.children.length>0?` { ${t.children.map(SV).join(", ")} } `:"";return`${t.value}${e}`}function L1(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Hi(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Hi(e.params,n.params)||t.paramsSubject.next(n.params),function hne(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Hi(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Hi(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function V1(t,e){const n=Hi(t.params,e.params)&&function mne(t,e){return ua(t,e)&&t.every((n,r)=>Hi(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||V1(t.parent,e.parent))}let B1=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ye,this.activateEvents=new x,this.deactivateEvents=new x,this.attachEvents=new x,this.detachEvents=new x,this.parentContexts=H(ih),this.location=H(Zr),this.changeDetector=H(pi),this.environmentInjector=H(hr),this.inputBinder=H(bm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new k(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new k(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new k(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new k(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Jne(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=B({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[In]})}return t})();class Jne{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===da?this.route:e===ih?this.childContexts:this.parent.get(e,n)}}const bm=new Z("");let AV=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=w1([r.queryParams,r.params,r.data]).pipe(si(([s,o,a],c)=>(a={...s,...o,...a},0===c?oe(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function EX(t){const e=Ne(t);if(!e)return null;const n=new Dd(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();function sh(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Xne(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return sh(t,r,i);return sh(t,r)})}(t,e,n);return new Ds(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>sh(t,a)),o}}const r=function ere(t){return new da(new Gr(t.url),new Gr(t.params),new Gr(t.queryParams),new Gr(t.fragment),new Gr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>sh(t,s));return new Ds(r,i)}}const U1="ngNavigationCancelingError";function xV(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=la(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=NV(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function NV(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[U1]=!0,r.cancellationCode=e,n&&(r.url=n),r}function MV(t){return t&&t[U1]}let OV=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=yt({type:t,selectors:[["ng-component"]],standalone:!0,features:[Or],decls:1,vars:0,template:function(r,i){1&r&&X(0,"router-outlet")},dependencies:[B1],encapsulation:2})}return t})();function j1(t){const e=t.children&&t.children.map(j1),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ye&&(n.component=OV),n}function yi(t){return t.outlet||ye}function oh(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class cre{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),L1(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Eu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Eu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Eu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Eu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Wne(s.value.snapshot))}),e.children.length&&this.forwardEvent(new zne(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(L1(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),L1(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=oh(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class RV{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class wm{constructor(e,n){this.component=e,this.route=n}}function ure(t,e,n){const r=t._root;return ah(r,e?e._root:null,n,[r.value])}function Tu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function j6(t){return null!==Cp(t)}(t)?e.get(t):t:r}function ah(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Eu(e);return t.children.forEach(o=>{(function dre(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function hre(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ua(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ua(t.url,e.url)||!Hi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!V1(t,e)||!Hi(t.queryParams,e.queryParams);default:return!V1(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new RV(r)):(s.data=o.data,s._resolvedData=o._resolvedData),ah(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new wm(a.outlet.component,o))}else o&&ch(e,a,i),i.canActivateChecks.push(new RV(r)),ah(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ch(a,n.getContext(o),i)),i}function ch(t,e,n){const r=Eu(t),i=t.value;Object.entries(r).forEach(([s,o])=>{ch(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new wm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function uh(t){return"function"==typeof t}function kV(t){return t instanceof um||"EmptyError"===t?.name}const Im=Symbol("INITIAL_VALUE");function Su(){return si(t=>w1(t.map(e=>e.pipe(un(1),function XL(...t){const e=jl(t);return _t((n,r)=>{(e?Wd(t,n,e):Wd(t,n)).subscribe(r)})}(Im)))).pipe(xe(e=>{for(const n of e)if(!0!==n){if(n===Im)return Im;if(!1===n||n instanceof Du)return n}return!0}),ln(e=>e!==Im),un(1)))}function PV(t){return function dp(...t){return hp(t)}(en(e=>{if(la(e))throw xV(0,e)}),xe(e=>!0===e))}class Dm{constructor(e){this.segmentGroup=e||null}}class FV{constructor(e){this.urlTree=e}}function Au(t){return Kd(new Dm(t))}function LV(t){return Kd(new FV(t))}class Ore{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new k(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return oe(r);if(i.numberOfChildren>1||!i.children[ye])return Kd(new k(4e3,!1));i=i.children[ye]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Du(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Je(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new k(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const $1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Rre(t,e,n,r,i){const s=H1(t,e,n);return s.matched?(r=function nre(t,e){return t.providers&&!t._injector&&(t._injector=pw(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function xre(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?oe(i.map(o=>{const a=Tu(o,t);return ao(function yre(t){return t&&uh(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Su(),PV()):oe(!0)}(r,e,n).pipe(xe(o=>!0===o?s:{...$1}))):oe(s)}function H1(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...$1}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||dne)(n,t,e);if(!i)return{...$1};const s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function VV(t,e,n,r){return n.length>0&&function Fre(t,e,n){return n.some(r=>Cm(t,e,r)&&yi(r)!==ye)}(t,n,r)?{segmentGroup:new Je(e,Pre(r,new Je(n,t.children))),slicedSegments:[]}:0===n.length&&function Lre(t,e,n){return n.some(r=>Cm(t,e,r))}(t,n,r)?{segmentGroup:new Je(t.segments,kre(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Je(t.segments,t.children),slicedSegments:n}}function kre(t,e,n,r,i){const s={};for(const o of r)if(Cm(t,n,o)&&!i[yi(o)]){const a=new Je([],{});s[yi(o)]=a}return{...i,...s}}function Pre(t,e){const n={};n[ye]=e;for(const r of t)if(""===r.path&&yi(r)!==ye){const i=new Je([],{});n[yi(r)]=i}return n}function Cm(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class jre{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Ore(this.urlSerializer,this.urlTree)}noMatchError(e){return new k(4002,!1)}recognize(){const e=VV(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ye).pipe(ca(n=>{if(n instanceof FV)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Dm?this.noMatchError(n):n}),xe(n=>{const r=new vm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ye,this.rootComponentType,null,{}),i=new Ds(r,n),s=new TV("",i),o=function Mne(t,e,n=null,r=null){return pV(fV(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ye).pipe(ca(r=>{throw r instanceof Dm?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=EV(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return an(i).pipe(Yd(s=>{const o=r.children[s],a=function ore(t,e){const n=t.filter(r=>yi(r)===e);return n.push(...t.filter(r=>yi(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function cne(t,e){return _t(function ane(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(rt(o,l=>{const d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),lm(null),function une(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ln((i,s)=>t(i,s,r)):ii,C1(1),n?lm(e):eV(()=>new um))}(),Qt(s=>{if(null===s)return Au(r);const o=BV(s);return function $re(t){t.sort((e,n)=>e.value.outlet===ye?-1:n.value.outlet===ye?1:e.value.outlet.localeCompare(n.value.outlet))}(o),oe(o)}))}processSegment(e,n,r,i,s,o){return an(n).pipe(Yd(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(ca(c=>{if(c instanceof Dm)return oe(null);throw c}))),aa(a=>!!a),ca(a=>{if(kV(a))return function Bre(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?oe([]):Au(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function Vre(t,e,n,r){return!!(yi(t)===r||r!==ye&&Cm(e,n,t))&&("**"===t.path||H1(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Au(i):Au(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?LV(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Qt(o=>{const a=new Je(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:l}=H1(n,i,s);if(!a)return Au(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return i.redirectTo.startsWith("/")?LV(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Qt(h=>this.processSegment(e,r,n,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const c=i.length>0?nV(i).parameters:{};a=oe({snapshot:new vm(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,UV(r),yi(r),r.component??r._loadedComponent??null,r,jV(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=Rre(n,r,i,e).pipe(xe(({matched:c,consumedSegments:u,remainingSegments:l,parameters:d})=>c?{snapshot:new vm(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,UV(r),yi(r),r.component??r._loadedComponent??null,r,jV(r)),consumedSegments:u,remainingSegments:l}:null));return a.pipe(si(c=>null===c?Au(n):this.getChildConfig(e=r._injector??e,r,i).pipe(si(({routes:u})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=c,{segmentGroup:p,slicedSegments:g}=VV(n,h,f,u);if(0===g.length&&p.hasChildren())return this.processChildren(l,u,p).pipe(xe(b=>null===b?null:[new Ds(d,b)]));if(0===u.length&&0===g.length)return oe([new Ds(d,[])]);const m=yi(r)===s;return this.processSegment(l,u,p,g,m?ye:s,!0).pipe(xe(b=>[new Ds(d,b)]))}))))}getChildConfig(e,n,r){return n.children?oe({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?oe({routes:n._loadedRoutes,injector:n._loadedInjector}):function Are(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?oe(!0):oe(i.map(o=>{const a=Tu(o,t);return ao(function pre(t){return t&&uh(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Su(),PV())}(e,n,r).pipe(Qt(i=>i?this.configLoader.loadChildren(e,n).pipe(en(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function Mre(t){return Kd(NV(!1,3))}())):oe({routes:[],injector:e})}}function Hre(t){const e=t.value.routeConfig;return e&&""===e.path}function BV(t){const e=[],n=new Set;for(const r of t){if(!Hre(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=BV(r.children);e.push(new Ds(r.value,i))}return e.filter(r=>!n.has(r))}function UV(t){return t.data||{}}function jV(t){return t.resolve||{}}function $V(t){return"string"==typeof t.title||null===t.title}function G1(t){return si(e=>{const n=t(e);return n?an(n).pipe(xe(()=>e)):oe(e)})}const xu=new Z("ROUTES");let z1=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=H(DF)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return oe(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=ao(n.loadComponent()).pipe(xe(HV),en(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),T1(()=>{this.componentLoaders.delete(n)})),i=new ZL(r,()=>new Le).pipe(D1());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return oe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function Qre(t,e,n,r){return ao(t.loadChildren()).pipe(xe(HV),Qt(i=>i instanceof N2||Array.isArray(i)?oe(i):an(e.compileModuleAsync(i))),xe(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(xu,[],{optional:!0,self:!0}).flat()),{routes:o.map(j1),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(T1(()=>{this.childrenLoaders.delete(r)})),o=new ZL(s,()=>new Le).pipe(D1());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function HV(t){return function Jre(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Em=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Le,this.transitionAbortSubject=new Le,this.configLoader=H(z1),this.environmentInjector=H(hr),this.urlSerializer=H(Zd),this.rootContexts=H(ih),this.inputBindingEnabled=null!==H(bm,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>oe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Hne(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new $ne(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new Gr({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:nh,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ln(s=>0!==s.id),xe(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),si(s=>{this.currentTransition=s;let o=!1,a=!1;return oe(s).pipe(en(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),si(c=>{const u=c.currentBrowserUrl.toString(),l=!n.navigated||c.extractedUrl.toString()!==u||u!==c.currentUrlTree.toString();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new Cu(c.id,this.urlSerializer.serialize(c.rawUrl),h,0)),c.resolve(null),Hr}if(n.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return oe(c).pipe(si(h=>{const f=this.transitions?.getValue();return this.events.next(new _m(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Hr:Promise.resolve(h)}),function Gre(t,e,n,r,i,s){return Qt(o=>function Ure(t,e,n,r,i,s,o="emptyOnly"){return new jre(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(xe(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),en(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new bV(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=c,b=new _m(h,this.urlSerializer.serialize(f),p,g);this.events.next(b);const _=CV(0,this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:_,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},oe(s)}{const h="";return this.events.next(new Cu(c.id,this.urlSerializer.serialize(c.extractedUrl),h,1)),c.resolve(null),Hr}}),en(c=>{const u=new Vne(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),xe(c=>(this.currentTransition=s={...c,guards:ure(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function bre(t,e){return Qt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?oe({...n,guardsResult:!0}):function wre(t,e,n,r){return an(t).pipe(Qt(i=>function Sre(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?oe(s.map(a=>{const c=oh(e)??i,u=Tu(a,c);return ao(function _re(t){return t&&uh(t.canDeactivate)}(u)?u.canDeactivate(t,e,n,r):c.runInContext(()=>u(t,e,n,r))).pipe(aa())})).pipe(Su()):oe(!0)}(i.component,i.route,n,e,r)),aa(i=>!0!==i,!0))}(o,r,i,t).pipe(Qt(a=>a&&function fre(t){return"boolean"==typeof t}(a)?function Ire(t,e,n,r){return an(e).pipe(Yd(i=>Wd(function Cre(t,e){return null!==t&&e&&e(new Gne(t)),oe(!0)}(i.route.parent,r),function Dre(t,e){return null!==t&&e&&e(new qne(t)),oe(!0)}(i.route,r),function Tre(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function lre(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>I1(()=>oe(o.guards.map(c=>{const u=oh(o.node)??n,l=Tu(c,u);return ao(function mre(t){return t&&uh(t.canActivateChild)}(l)?l.canActivateChild(r,t):u.runInContext(()=>l(r,t))).pipe(aa())})).pipe(Su())));return oe(s).pipe(Su())}(t,i.path,n),function Ere(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return oe(!0);const i=r.map(s=>I1(()=>{const o=oh(e)??n,a=Tu(s,o);return ao(function gre(t){return t&&uh(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(aa())}));return oe(i).pipe(Su())}(t,i.route,n))),aa(i=>!0!==i,!0))}(r,s,t,e):oe(a)),xe(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),en(c=>{if(s.guardsResult=c.guardsResult,la(c.guardsResult))throw xV(0,c.guardsResult);const u=new Bne(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),ln(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),G1(c=>{if(c.guards.canActivateChecks.length)return oe(c).pipe(en(u=>{const l=new Une(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),si(u=>{let l=!1;return oe(u).pipe(function zre(t,e){return Qt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return oe(n);let s=0;return an(i).pipe(Yd(o=>function qre(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!$V(i)&&(s[Qd]=i.title),function Wre(t,e,n,r){const i=function Kre(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return oe({});const s={};return an(i).pipe(Qt(o=>function Yre(t,e,n,r){const i=oh(e)??r,s=Tu(t,i);return ao(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(aa(),en(a=>{s[o]=a}))),C1(1),E1(s),ca(o=>kV(o)?Hr:Kd(o)))}(s,t,e,r).pipe(xe(o=>(t._resolvedData=o,t.data=EV(t,n).resolve,i&&$V(i)&&(t.data[Qd]=i.title),null)))}(o.route,r,t,e)),en(()=>s++),C1(1),Qt(o=>s===i.length?oe(n):Hr))})}(n.paramsInheritanceStrategy,this.environmentInjector),en({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(u,"",2)}}))}),en(u=>{const l=new jne(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}))}),G1(c=>{const u=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(en(h=>{l.component=h}),xe(()=>{})));for(const h of l.children)d.push(...u(h));return d};return w1(u(c.targetSnapshot.root)).pipe(lm(),un(1))}),G1(()=>this.afterPreactivation()),xe(c=>{const u=function Zne(t,e,n){const r=sh(t,e._root,n?n._root:void 0);return new DV(r,e)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:u},s}),en(()=>{this.events.next(new O1)}),((t,e,n,r)=>xe(i=>(new cre(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),un(1),en({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new co(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),n.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),pt(this.transitionAbortSubject.pipe(en(c=>{throw c}))),T1(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),ca(c=>{if(a=!0,MV(c))this.events.next(new rh(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function tre(t){return MV(t)&&la(t.url)}(c)?this.events.next(new R1(c.url)):s.resolve(!1);else{this.events.next(new ym(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(c))}catch(u){s.reject(u)}}return Hr}))}))}cancelNavigationTransition(n,r,i){const s=new rh(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function GV(t){return t!==nh}let zV=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ye);return r}getResolvedTitleForRoute(n){return n.data[Qd]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return H(Zre)},providedIn:"root"})}return t})(),Zre=(()=>{class t extends zV{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(W(HL))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Xre=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return H(tie)},providedIn:"root"})}return t})();class eie{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let tie=(()=>{class t extends eie{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Pt(t)))(i||t)}}();static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Tm=new Z("",{providedIn:"root",factory:()=>({})});let nie=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return H(rie)},providedIn:"root"})}return t})(),rie=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var lh=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(lh||{});function qV(t,e){t.events.pipe(ln(n=>n instanceof co||n instanceof rh||n instanceof ym||n instanceof Cu),xe(n=>n instanceof co||n instanceof Cu?lh.COMPLETE:n instanceof rh&&(0===n.code||1===n.code)?lh.REDIRECTING:lh.FAILED),ln(n=>n!==lh.REDIRECTING),un(1)).subscribe(()=>{e()})}function iie(t){throw t}function sie(t,e,n){return e.parse("/")}const oie={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aie={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let gr=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=H(wF),this.isNgZoneEnabled=!1,this._events=new Le,this.options=H(Tm,{optional:!0})||{},this.pendingTasks=H(IF),this.errorHandler=this.options.errorHandler||iie,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||sie,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=H(nie),this.routeReuseStrategy=H(Xre),this.titleStrategy=H(zV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=H(xu,{optional:!0})?.flat()??[],this.navigationTransitions=H(Em),this.urlSerializer=H(Zd),this.location=H(Kw),this.componentInputBindingEnabled=!!H(bm,{optional:!0}),this.eventsSubscription=new Mt,this.isNgZoneEnabled=H(Ie)instanceof Ie&&Ie.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Du,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=CV(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(WV(r)&&this._events.next(r));if(r instanceof _m)GV(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Cu)this.rawUrlTree=i.rawUrl;else if(r instanceof bV){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof O1)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof rh)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof R1){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||GV(i.source)};this.scheduleNavigation(s,nh,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof ym&&this.restoreHistory(i,!0),r instanceof co&&(this.navigated=!0),WV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),nh,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(j1),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=fV(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return pV(d,n,l,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=la(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,nh,null,r)}navigate(n,r={skipLocationChange:!1}){return function cie(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new k(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...oie}:!1===r?{...aie}:r,la(n))return iV(this.currentUrlTree,n,i);const s=this.parseUrl(n);return iV(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,u;o?(a=o.resolve,c=o.reject,u=o.promise):u=new Promise((d,h)=>{a=d,c=h});const l=this.pendingTasks.add();return qV(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function WV(t){return!(t instanceof O1||t instanceof R1)}let Nu=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Le,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof co&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function OR(t,e,n){return function Yq(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?cb:pd}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(v(gr),v(da),function Yo(t){return function d9(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(TM(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Dn(),t)}("tabindex"),v(xr),v(Ue),v(oa))};static#t=this.\u0275dir=B({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&_e("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&ze("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",yu],skipLocationChange:["skipLocationChange","skipLocationChange",yu],replaceUrl:["replaceUrl","replaceUrl",yu],routerLink:"routerLink"},standalone:!0,features:[zk,In]})}return t})();class KV{}let die=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ln(n=>n instanceof co),Yd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=pw(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return an(i).pipe(Ic())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):oe(null);const s=i.pipe(Qt(o=>null===o?oe(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?an([s,this.loader.loadComponent(r)]).pipe(Ic()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(W(gr),W(DF),W(hr),W(KV),W(z1))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const q1=new Z("");let YV=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof _m?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof co?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Cu&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof wV&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new wV(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function yk(){throw new Error("invalid")}()};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();function Cs(t,e){return{\u0275kind:t,\u0275providers:e}}function JV(){const t=H(Gt);return e=>{const n=t.get(io);if(e!==n.components[0])return;const r=t.get(gr),i=t.get(ZV);1===t.get(W1)&&r.initialNavigation(),t.get(XV,null,Ee.Optional)?.setUpPreloading(),t.get(q1,null,Ee.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const ZV=new Z("",{factory:()=>new Le}),W1=new Z("",{providedIn:"root",factory:()=>1}),XV=new Z("");function gie(t){return Cs(0,[{provide:XV,useExisting:die},{provide:KV,useExisting:t}])}const eB=new Z("ROUTER_FORROOT_GUARD"),_ie=[Kw,{provide:Zd,useClass:S1},gr,ih,{provide:da,useFactory:function QV(t){return t.routerState.root},deps:[gr]},z1,[]];function yie(){return new NF("Router",gr)}let dh=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[_ie,[],{provide:xu,multi:!0,useValue:n},{provide:eB,useFactory:Iie,deps:[[gr,new lr,new Wp]]},{provide:Tm,useValue:r||{}},r?.useHash?{provide:oa,useClass:NX}:{provide:oa,useClass:oL},{provide:q1,useFactory:()=>{const t=H(Yee),e=H(Ie),n=H(Tm),r=H(Em),i=H(Zd);return n.scrollOffset&&t.setOffset(n.scrollOffset),new YV(i,r,t,e,n)}},r?.preloadingStrategy?gie(r.preloadingStrategy).\u0275providers:[],{provide:NF,multi:!0,useFactory:yie},r?.initialNavigation?Die(r):[],r?.bindToComponentInputs?Cs(8,[AV,{provide:bm,useExisting:AV}]).\u0275providers:[],[{provide:tB,useFactory:JV},{provide:Lw,multi:!0,useExisting:tB}]]}}static forChild(n){return{ngModule:t,providers:[{provide:xu,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(W(eB,8))};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})();function Iie(t){return"guarded"}function Die(t){return["disabled"===t.initialNavigation?Cs(3,[{provide:xw,multi:!0,useFactory:()=>{const e=H(gr);return()=>{e.setUpLocationChangeListener()}}},{provide:W1,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Cs(2,[{provide:W1,useValue:0},{provide:xw,multi:!0,deps:[Gt],useFactory:e=>{const n=e.get(AX,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(gr),s=e.get(ZV);qV(i,()=>{r(!0)}),e.get(Em).afterPreactivation=()=>(r(!0),s.closed?oe(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const tB=new Z("");let Eie=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=yt({type:t,selectors:[["app-register"]],decls:3,vars:0,consts:[[1,"main-short"]],template:function(r,i){1&r&&(C(0,"main",0)(1,"h1"),U(2,"register"),T()())}})}return t})(),Tie=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=yt({type:t,selectors:[["app-login"]],decls:3,vars:0,consts:[[1,"main-short"]],template:function(r,i){1&r&&(C(0,"main",0)(1,"h1"),U(2,"login"),T()())}})}return t})(),Sie=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=yt({type:t,selectors:[["app-carousel"]],decls:24,vars:0,consts:[["id","carouselExampleAutoplaying","data-bs-ride","carousel",1,"carousel","slide"],[1,"overlay"],[1,"info"],[1,"title"],[1,"subtitle"],["routerLink","/recipes-list",1,"infoBtn"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://www.aveeno.com/sites/aveeno_us_2/files/healingherbswithmortaran_687349.jpg","alt","...",1,"carousel-img","d-block","w-100"],[1,"carousel-item"],["src","https://imgix-prod.sgs.com/-/media/sgscorp/images/connectivity-and-products/aromatics-pexels.cdn.en-MU.1.jpg","alt","...",1,"carousel-img","d-block","w-100"],["src","https://images.pexels.com/photos/1793035/pexels-photo-1793035.jpeg","alt","...",1,"carousel-img","d-block","w-100"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(r,i){1&r&&(C(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),U(4,"Welcome to our Healing Herbal Recipe Community!"),T(),C(5,"div",4),U(6," Explore a wealth of new herbal recipes designed for healing right here. Upon registration, you'll gain access to not only adding your favorite healing recipes but also rating and commenting on the ones that resonate with you. Join us in nurturing wellness through the power of herbal remedies! "),T(),C(7,"a",5),U(8,"READ MORE"),T()()(),C(9,"div",6)(10,"div",7),X(11,"img",8),T(),C(12,"div",9),X(13,"img",10),T(),C(14,"div",9),X(15,"img",11),T()(),C(16,"button",12),X(17,"span",13),C(18,"span",14),U(19,"Previous"),T()(),C(20,"button",15),X(21,"span",16),C(22,"span",14),U(23,"Next"),T()()())},dependencies:[Nu],styles:[".carousel[_ngcontent-%COMP%]{max-height:92vh;overflow:hidden}.carousel-img[_ngcontent-%COMP%]{height:100vh;object-fit:cover}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{z-index:9}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0 50% 0 0;background-color:#a7575e99;z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:47%;right:10%;top:40%;transform:translate(2%,-27%);color:var(--mainWhiteColor)}.title[_ngcontent-%COMP%]{font-size:32px;padding-bottom:20px;font-weight:900;line-height:35px;color:var(--backgroundColor)}.subtitle[_ngcontent-%COMP%]{font-style:italic;color:var(--backgroundColor)}.infoBtn[_ngcontent-%COMP%]{background-color:var(--backgroundColor);color:var(--textColor);padding:13px 35px;font-size:14px;margin-top:40px;display:inline-block;font-weight:700;font-family:Roboto,sans-serif;border:1px solid transparent}.infoBtn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:transparent;border:1px solid var(--backgroundColor);color:var(--mainWhiteColor)}@media (max-width: 460px){.overlay[_ngcontent-%COMP%]{display:none}}@media (min-width: 461px) and (max-width: 767px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#a7575e99;z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.infoBtn[_ngcontent-%COMP%]{margin-top:10px}.title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900}}@media (min-width: 768px) and (max-width: 1023px){.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor)}}"]})}return t})();function nB(t,e,n,r,i,s,o){try{var a=t[s](o),c=a.value}catch(u){return void n(u)}a.done?e(c):Promise.resolve(c).then(r,i)}function y(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(c){nB(s,r,i,o,a,"next",c)}function a(c){nB(s,r,i,o,a,"throw",c)}o(void 0)})}}const rB=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Y1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;c||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rB(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==u||null==d)throw new Mie;r.push(s<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Mie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Sm=function(t){return function(t){const e=rB(t);return Y1.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Am=function(t){try{return Y1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},xm=()=>{try{return function kie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Am(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},sB=()=>{var t;return null===(t=xm())||void 0===t?void 0:t.config};class Nm{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function kr(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Q1(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function ha(){try{return"object"==typeof indexedDB}catch{return!1}}function hh(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function J1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class vi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zi.prototype.create)}}class zi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function qie(t,e){return t.replace(Wie,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new vi(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Wie=/\{\$([^}]+)}/g;function Z1(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(aB(s)&&aB(o)){if(!Z1(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function aB(t){return null!==t&&"object"==typeof t}function cB(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Yie{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Qie(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=X1),void 0===i.error&&(i.error=X1),void 0===i.complete&&(i.complete=X1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function X1(){}const Jie=1e3,Zie=2,Xie=144e5,ese=.5;function tI(t,e=Jie,n=Zie){const r=e*Math.pow(n,t),i=Math.round(ese*r*(Math.random()-.5)*2);return Math.min(Xie,r+i)}function bi(t){return t&&t._delegate?t._delegate:t}class Ln{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const fa="[DEFAULT]";class nse{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Nm;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function ise(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=fa){return this.instances.has(e)}getOptions(e=fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===fa?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=fa){return this.component?this.component.multipleInstances?e:fa:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class sse{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nse(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const nI=[];var Pe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Pe||{});const uB={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},ose=Pe.INFO,ase={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},cse=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=ase[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class pa{constructor(e){this.name=e,this._logLevel=ose,this._logHandler=cse,this._userLogHandler=null,nI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?uB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const use=(t,e)=>e.some(n=>t instanceof n);let lB,dB;const hB=new WeakMap,rI=new WeakMap,fB=new WeakMap,iI=new WeakMap,sI=new WeakMap;let oI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return rI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||fB.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return uo(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function mse(t){return"function"==typeof t?function gse(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function dse(){return dB||(dB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(aI(this),e),uo(hB.get(this))}:function(...e){return uo(t.apply(aI(this),e))}:function(e,...n){const r=t.call(aI(this),e,...n);return fB.set(r,e.sort?e.sort():[e]),uo(r)}}(t):(t instanceof IDBTransaction&&function fse(t){if(rI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});rI.set(t,e)}(t),use(t,function lse(){return lB||(lB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,oI):t)}function uo(t){if(t instanceof IDBRequest)return function hse(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(uo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&hB.set(n,t)}).catch(()=>{}),sI.set(e,t),e}(t);if(iI.has(t))return iI.get(t);const e=mse(t);return e!==t&&(iI.set(t,e),sI.set(e,t)),e}const aI=t=>sI.get(t);function pB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=uo(o);return r&&o.addEventListener("upgradeneeded",c=>{r(uo(o.result),c.oldVersion,c.newVersion,uo(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const _se=["get","getKey","getAll","getAllKeys","count"],yse=["put","add","delete","clear"],cI=new Map;function gB(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(cI.get(e))return cI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=yse.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!_se.includes(n))return;const s=function(){var o=y(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return o.apply(this,arguments)}}();return cI.set(e,s),s}!function pse(t){oI=t(oI)}(t=>({...t,get:(e,n,r)=>gB(e,n)||t.get(e,n,r),has:(e,n)=>!!gB(e,n)||t.has(e,n)}));class vse{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function bse(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const uI="@firebase/app",ga=new pa("@firebase/app"),Om="[DEFAULT]",qse={[uI]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ma=new Map,Rm=new Map;function Wse(t,e){try{t.container.addComponent(e)}catch(n){ga.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jn(t){const e=t.name;if(Rm.has(e))return ga.debug(`There were multiple attempts to register component ${e}.`),!1;Rm.set(e,t);for(const n of ma.values())Wse(n,t);return!0}function km(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Es=new zi("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Yse{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}const fh="9.23.0";function _B(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Om,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Es.create("bad-app-name",{appName:String(i)});if(n||(n=sB()),!n)throw Es.create("no-options");const s=ma.get(i);if(s){if(Z1(n,s.options)&&Z1(r,s.config))return s;throw Es.create("duplicate-app",{appName:i})}const o=new sse(i);for(const c of Rm.values())o.addComponent(c);const a=new Yse(n,r,o);return ma.set(i,a),a}function yB(t=Om){const e=ma.get(t);if(!e&&t===Om&&sB())return _B();if(!e)throw Es.create("no-app",{appName:t});return e}function vB(){return Array.from(ma.values())}function Vt(t,e,n){var r;let i=null!==(r=qse[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ga.warn(a.join(" "))}Jn(new Ln(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Qse="firebase-heartbeat-database",Jse=1,ph="firebase-heartbeat-store";let dI=null;function bB(){return dI||(dI=pB(Qse,Jse,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ph)}}).catch(t=>{throw Es.create("idb-open",{originalErrorMessage:t.message})})),dI}function hI(){return(hI=y(function*(t){try{return yield(yield bB()).transaction(ph).objectStore(ph).get(IB(t))}catch(e){if(e instanceof vi)ga.warn(e.message);else{const n=Es.create("idb-get",{originalErrorMessage:e?.message});ga.warn(n.message)}}})).apply(this,arguments)}function wB(t,e){return fI.apply(this,arguments)}function fI(){return(fI=y(function*(t,e){try{const r=(yield bB()).transaction(ph,"readwrite");yield r.objectStore(ph).put(e,IB(t)),yield r.done}catch(n){if(n instanceof vi)ga.warn(n.message);else{const r=Es.create("idb-set",{originalErrorMessage:n?.message});ga.warn(r.message)}}})).apply(this,arguments)}function IB(t){return`${t.name}!${t.options.appId}`}class toe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new roe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return y(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=DB();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return y(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=DB(),{heartbeatsToSend:r,unsentEntries:i}=function noe(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),CB(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),CB(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Sm(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function DB(){return(new Date).toISOString().substring(0,10)}class roe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(function*(){return!!ha()&&hh().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return y(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Zse(t){return hI.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return wB(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return wB(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function CB(t){return Sm(JSON.stringify({version:2,heartbeats:t})).length}!function ioe(t){Jn(new Ln("platform-logger",e=>new vse(e),"PRIVATE")),Jn(new Ln("heartbeat",e=>new toe(e),"PRIVATE")),Vt(uI,"0.9.13",t),Vt(uI,"0.9.13","esm2017"),Vt("fire-js","")}(""),Vt("firebase","9.23.0","app");const aoe=(t,e)=>e.some(n=>t instanceof n);let EB,TB;const SB=new WeakMap,pI=new WeakMap,AB=new WeakMap,gI=new WeakMap,mI=new WeakMap;let _I={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return pI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||AB.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return lo(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function poe(t){return"function"==typeof t?function foe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function uoe(){return TB||(TB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(yI(this),e),lo(SB.get(this))}:function(...e){return lo(t.apply(yI(this),e))}:function(e,...n){const r=t.call(yI(this),e,...n);return AB.set(r,e.sort?e.sort():[e]),lo(r)}}(t):(t instanceof IDBTransaction&&function doe(t){if(pI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});pI.set(t,e)}(t),aoe(t,function coe(){return EB||(EB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,_I):t)}function lo(t){if(t instanceof IDBRequest)return function loe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(lo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&SB.set(n,t)}).catch(()=>{}),mI.set(e,t),e}(t);if(gI.has(t))return gI.get(t);const e=poe(t);return e!==t&&(gI.set(t,e),mI.set(e,t)),e}const yI=t=>mI.get(t),moe=["get","getKey","getAll","getAllKeys","count"],_oe=["put","add","delete","clear"],vI=new Map;function xB(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(vI.get(e))return vI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=_oe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!moe.includes(n))return;const s=function(){var o=y(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return o.apply(this,arguments)}}();return vI.set(e,s),s}!function hoe(t){_I=t(_I)}(t=>({...t,get:(e,n,r)=>xB(e,n)||t.get(e,n,r),has:(e,n)=>!!xB(e,n)||t.has(e,n)}));const NB="@firebase/installations",bI="0.6.4",MB=1e4,OB=`w:${bI}`,RB="FIS_v2",yoe="https://firebaseinstallations.googleapis.com/v1",voe=36e5,Ts=new zi("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function kB(t){return t instanceof vi&&t.code.includes("request-failed")}function wI({projectId:t}){return`${yoe}/projects/${t}/installations`}function PB(t){return{token:t.token,requestStatus:2,expiresIn:Doe(t.expiresIn),creationTime:Date.now()}}function II(t,e){return DI.apply(this,arguments)}function DI(){return(DI=y(function*(t,e){const r=(yield e.json()).error;return Ts.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function FB({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function CI(t){return EI.apply(this,arguments)}function EI(){return(EI=y(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function Doe(t){return Number(t.replace("s","000"))}function TI(){return(TI=y(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=wI(t),i=FB(t),s=e.getImmediate({optional:!0});if(s){const u=yield s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:RB,appId:t.appId,sdkVersion:OB})},c=yield CI(()=>fetch(r,a));if(c.ok){const u=yield c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:PB(u.authToken)}}throw yield II("Create Installation",c)})).apply(this,arguments)}function VB(t){return new Promise(e=>{setTimeout(e,t)})}const Soe=/^[cdef][\w-]{21}$/,SI="";function Aoe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function xoe(t){return function Toe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Soe.test(n)?n:SI}catch{return SI}}function Mu(t){return`${t.appName}!${t.appId}`}const Ou=new Map;function BB(t,e){const n=Mu(t);UB(n,e),function Ooe(t,e){const n=function jB(){return!_a&&"BroadcastChannel"in self&&(_a=new BroadcastChannel("[Firebase] FID Change"),_a.onmessage=t=>{UB(t.data.key,t.data.fid)}),_a}();n&&n.postMessage({key:t,fid:e}),function $B(){0===Ou.size&&_a&&(_a.close(),_a=null)}()}(n,e)}function UB(t,e){const n=Ou.get(t);if(n)for(const r of n)r(e)}let _a=null;const Roe="firebase-installations-database",koe=1,ya="firebase-installations-store";let AI=null;function xI(){return AI||(AI=function goe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=lo(o);return r&&o.addEventListener("upgradeneeded",c=>{r(lo(o.result),c.oldVersion,c.newVersion,lo(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Roe,koe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ya)}})),AI}function Pm(t,e){return NI.apply(this,arguments)}function NI(){return(NI=y(function*(t,e){const n=Mu(t),i=(yield xI()).transaction(ya,"readwrite"),s=i.objectStore(ya),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&BB(t,e.fid),e})).apply(this,arguments)}function MI(t){return OI.apply(this,arguments)}function OI(){return(OI=y(function*(t){const e=Mu(t),r=(yield xI()).transaction(ya,"readwrite");yield r.objectStore(ya).delete(e),yield r.done})).apply(this,arguments)}function gh(t,e){return RI.apply(this,arguments)}function RI(){return(RI=y(function*(t,e){const n=Mu(t),i=(yield xI()).transaction(ya,"readwrite"),s=i.objectStore(ya),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&BB(t,a.fid),a})).apply(this,arguments)}function kI(t){return PI.apply(this,arguments)}function PI(){return PI=y(function*(t){let e;const n=yield gh(t.appConfig,r=>{const i=function Poe(t){return GB(t||{fid:Aoe(),registrationStatus:0})}(r),s=function Foe(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ts.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Loe(t,e){return FI.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Voe(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===SI?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),PI.apply(this,arguments)}function FI(){return FI=y(function*(t,e){try{const n=yield function Eoe(t,e){return TI.apply(this,arguments)}(t,e);return Pm(t.appConfig,n)}catch(n){throw kB(n)&&409===n.customData.serverCode?yield MI(t.appConfig):yield Pm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),FI.apply(this,arguments)}function Voe(t){return LI.apply(this,arguments)}function LI(){return(LI=y(function*(t){let e=yield HB(t.appConfig);for(;1===e.registrationStatus;)yield VB(100),e=yield HB(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield kI(t);return r||n}return e})).apply(this,arguments)}function HB(t){return gh(t,e=>{if(!e)throw Ts.create("installation-not-found");return GB(e)})}function GB(t){return function Boe(t){return 1===t.registrationStatus&&t.registrationTime+MB<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function VI(){return(VI=y(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function joe(t,{fid:e}){return`${wI(t)}/${e}/authTokens:generate`}(t,n),i=function LB(t,{refreshToken:e}){const n=FB(t);return n.append("Authorization",function Coe(t){return`${RB} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const u=yield s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:OB,appId:t.appId}})},c=yield CI(()=>fetch(r,a));if(c.ok)return PB(yield c.json());throw yield II("Generate Auth Token",c)})).apply(this,arguments)}function BI(t){return UI.apply(this,arguments)}function UI(){return UI=y(function*(t,e=!1){let n;const r=yield gh(t.appConfig,s=>{if(!qB(s))throw Ts.create("not-registered");const o=s.authToken;if(!e&&function Goe(t){return 2===t.requestStatus&&!function zoe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+voe}(t)}(o))return s;if(1===o.requestStatus)return n=function $oe(t,e){return jI.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Ts.create("app-offline");const a=function qoe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Hoe(t,e){return $I.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),UI.apply(this,arguments)}function jI(){return(jI=y(function*(t,e){let n=yield zB(t.appConfig);for(;1===n.authToken.requestStatus;)yield VB(100),n=yield zB(t.appConfig);const r=n.authToken;return 0===r.requestStatus?BI(t,e):r})).apply(this,arguments)}function zB(t){return gh(t,e=>{if(!qB(e))throw Ts.create("not-registered");return function Woe(t){return 1===t.requestStatus&&t.requestTime+MB<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function $I(){return $I=y(function*(t,e){try{const n=yield function Uoe(t,e){return VI.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Pm(t.appConfig,r),n}catch(n){if(!kB(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Pm(t.appConfig,r)}else yield MI(t.appConfig);throw n}}),$I.apply(this,arguments)}function qB(t){return void 0!==t&&2===t.registrationStatus}function HI(){return(HI=y(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield kI(e);return r?r.catch(console.error):BI(e).catch(console.error),n.fid})).apply(this,arguments)}function GI(){return GI=y(function*(t,e=!1){const n=t;return yield function Qoe(t){return zI.apply(this,arguments)}(n),(yield BI(n,e)).token}),GI.apply(this,arguments)}function zI(){return(zI=y(function*(t){const{registrationPromise:e}=yield kI(t);e&&(yield e)})).apply(this,arguments)}function KI(t){return Ts.create("missing-app-config-values",{valueName:t})}const WB="installations",tae=t=>{const e=t.getProvider("app").getImmediate(),n=function Xoe(t){if(!t||!t.options)throw KI("App Configuration");if(!t.name)throw KI("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw KI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:km(e,"heartbeat"),_delete:()=>Promise.resolve()}},nae=t=>{const n=km(t.getProvider("app").getImmediate(),WB).getImmediate();return{getId:()=>function Koe(t){return HI.apply(this,arguments)}(n),getToken:i=>function Yoe(t){return GI.apply(this,arguments)}(n,i)}};(function rae(){Jn(new Ln(WB,tae,"PUBLIC")),Jn(new Ln("installations-internal",nae,"PRIVATE"))})(),Vt(NB,bI),Vt(NB,bI,"esm2017");const YI="@firebase/remote-config",mr=new zi("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class pae{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function gae(t=navigator){return t.languages&&t.languages[0]||t.language}class mae{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:gae()},u={method:"POST",headers:a,body:JSON.stringify(c)},l=fetch(o,u),d=new Promise((b,_)=>{e.signal.addEventListener(()=>{const A=new Error("The operation was aborted.");A.name="AbortError",_(A)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(b){let _="fetch-client-network";throw"AbortError"===b?.name&&(_="fetch-timeout"),mr.create(_,{originalErrorMessage:b?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let b;try{b=yield h.json()}catch(_){throw mr.create("fetch-client-parse",{originalErrorMessage:_?.message})}g=b.entries,m=b.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw mr.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class vae{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return y(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return y(function*(){yield function _ae(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(mr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function yae(t){if(!(t instanceof vi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+tI(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class Iae{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Lm(t,e){const n=t.target.error||void 0;return mr.create(e,{originalErrorMessage:n&&n?.message})}const va="app_namespace_store";class Tae{constructor(e,n,r,i=function Eae(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Lm(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(va,{keyPath:"compositeKey"})}}catch(n){e(mr.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([va],"readonly").objectStore(va),c=n.createCompositeKey(e);try{const u=a.get(c);u.onerror=l=>{s(Lm(l,"storage-get"))},u.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(u){s(mr.create("storage-get",{originalErrorMessage:u?.message}))}})})()}set(e,n){var r=this;return y(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const c=i.transaction([va],"readwrite").objectStore(va),u=r.createCompositeKey(e);try{const l=c.put({compositeKey:u,value:n});l.onerror=d=>{o(Lm(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(mr.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([va],"readwrite").objectStore(va),c=n.createCompositeKey(e);try{const u=a.delete(c);u.onerror=l=>{s(Lm(l,"storage-delete"))},u.onsuccess=()=>{i()}}catch(u){s(mr.create("storage-delete",{originalErrorMessage:u?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Sae{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return y(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function xae(){return eD.apply(this,arguments)}function eD(){return(eD=y(function*(){if(!ha())return!1;try{return yield hh()}catch{return!1}})).apply(this,arguments)}!function Aae(){Jn(new Ln("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw mr.create("registration-window");if(!ha())throw mr.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw mr.create("registration-project-id");if(!o)throw mr.create("registration-api-key");if(!a)throw mr.create("registration-app-id");const c=new Tae(a,r.name,n=n||"firebase"),u=new Sae(c),l=new pa(YI);l.logLevel=Pe.ERROR;const d=new mae(i,fh,n,s,o,a),h=new vae(d,c),f=new pae(h,c,u,l),p=new Iae(r,f,u,c,l);return function dae(t){const e=bi(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Vt(YI,"0.4.4"),Vt(YI,"0.4.4","esm2017")}();const Nae=(t,e)=>e.some(n=>t instanceof n);let JB,ZB;const XB=new WeakMap,tD=new WeakMap,eU=new WeakMap,nD=new WeakMap,rD=new WeakMap;let iD={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return tD.get(t);if("objectStoreNames"===e)return t.objectStoreNames||eU.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ss(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Lae(t){return"function"==typeof t?function Fae(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Oae(){return ZB||(ZB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(sD(this),e),Ss(XB.get(this))}:function(...e){return Ss(t.apply(sD(this),e))}:function(e,...n){const r=t.call(sD(this),e,...n);return eU.set(r,e.sort?e.sort():[e]),Ss(r)}}(t):(t instanceof IDBTransaction&&function kae(t){if(tD.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});tD.set(t,e)}(t),Nae(t,function Mae(){return JB||(JB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,iD):t)}function Ss(t){if(t instanceof IDBRequest)return function Rae(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ss(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&XB.set(n,t)}).catch(()=>{}),rD.set(e,t),e}(t);if(nD.has(t))return nD.get(t);const e=Lae(t);return e!==t&&(nD.set(t,e),rD.set(e,t)),e}const sD=t=>rD.get(t);function tU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ss(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ss(o.result),c.oldVersion,c.newVersion,Ss(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function oD(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Ss(n).then(()=>{})}const Vae=["get","getKey","getAll","getAllKeys","count"],Bae=["put","add","delete","clear"],aD=new Map;function nU(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(aD.get(e))return aD.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Bae.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Vae.includes(n))return;const s=function(){var o=y(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return o.apply(this,arguments)}}();return aD.set(e,s),s}!function Pae(t){iD=t(iD)}(t=>({...t,get:(e,n,r)=>nU(e,n)||t.get(e,n,r),has:(e,n)=>!!nU(e,n)||t.has(e,n)}));const Uae="/firebase-messaging-sw.js",jae="/firebase-cloud-messaging-push-scope",rU="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$ae="https://fcmregistrations.googleapis.com/v1",iU="google.c.a.c_id",Hae="google.c.a.c_l",Gae="google.c.a.ts";var Vm=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Vm||{});function As(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Wae(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const cD="fcm_token_details_db",Kae=5,sU="fcm_token_object_Store";function uD(){return uD=y(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(cD))return null;let e=null;return(yield tU(cD,Kae,{upgrade:(r=y(function*(i,s,o,a){var c;if(s<2||!i.objectStoreNames.contains(sU))return;const u=a.objectStore(sU),l=yield u.index("fcmSenderId").get(t);if(yield u.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:As(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:As(d.auth),p256dh:As(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:As(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:As(d.auth),p256dh:As(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:As(d.vapidKey)}}}}),function(s,o,a,c){return r.apply(this,arguments)})})).close(),yield oD(cD),yield oD("fcm_vapid_details_db"),yield oD("undefined"),function Qae(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),uD.apply(this,arguments)}const Jae="firebase-messaging-database",Zae=1,ba="firebase-messaging-store";let lD=null;function dD(){return lD||(lD=tU(Jae,Zae,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ba)}})),lD}function oU(t){return hD.apply(this,arguments)}function hD(){return hD=y(function*(t){const e=mD(t),r=yield(yield dD()).transaction(ba).objectStore(ba).get(e);if(r)return r;{const i=yield function Yae(t){return uD.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield fD(t,i),i}}),hD.apply(this,arguments)}function fD(t,e){return pD.apply(this,arguments)}function pD(){return(pD=y(function*(t,e){const n=mD(t),i=(yield dD()).transaction(ba,"readwrite");return yield i.objectStore(ba).put(e,n),yield i.done,e})).apply(this,arguments)}function gD(){return(gD=y(function*(t){const e=mD(t),r=(yield dD()).transaction(ba,"readwrite");yield r.objectStore(ba).delete(e),yield r.done})).apply(this,arguments)}function mD({appConfig:t}){return t.appId}const Cn=new zi("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function tce(t,e){return _D.apply(this,arguments)}function _D(){return(_D=y(function*(t,e){const n=yield wD(t),r=cU(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(bD(t.appConfig),i)).json()}catch(o){throw Cn.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Cn.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Cn.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function yD(){return(yD=y(function*(t,e){const n=yield wD(t),r=cU(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${bD(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Cn.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Cn.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Cn.create("token-update-no-token");return s.token})).apply(this,arguments)}function aU(t,e){return vD.apply(this,arguments)}function vD(){return(vD=y(function*(t,e){const r={method:"DELETE",headers:yield wD(t)};try{const s=yield(yield fetch(`${bD(t.appConfig)}/${e}`,r)).json();if(s.error)throw Cn.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Cn.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function bD({projectId:t}){return`${$ae}/projects/${t}/registrations`}function wD(t){return ID.apply(this,arguments)}function ID(){return(ID=y(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function cU({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==rU&&(i.web.applicationPubKey=r),i}const rce=6048e5;function DD(){return DD=y(function*(t){const e=yield function oce(t,e){return SD.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:As(e.getKey("auth")),p256dh:As(e.getKey("p256dh"))},r=yield oU(t.firebaseDependencies);if(r){if(function ace(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+rce?function sce(t,e){return ED.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield aU(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return lU(t.firebaseDependencies,n)}return lU(t.firebaseDependencies,n)}),DD.apply(this,arguments)}function CD(){return CD=y(function*(t){const e=yield oU(t.firebaseDependencies);e&&(yield aU(t.firebaseDependencies,e.token),yield function Xae(t){return gD.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),CD.apply(this,arguments)}function ED(){return ED=y(function*(t,e){try{const n=yield function nce(t,e){return yD.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield fD(t.firebaseDependencies,r),n}catch(n){throw yield function uU(t){return CD.apply(this,arguments)}(t),n}}),ED.apply(this,arguments)}function lU(t,e){return TD.apply(this,arguments)}function TD(){return(TD=y(function*(t,e){const r={token:yield tce(t,e),createTime:Date.now(),subscriptionOptions:e};return yield fD(t,r),r.token})).apply(this,arguments)}function SD(){return(SD=y(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Wae(e)})})).apply(this,arguments)}function dU(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function cce(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function uce(t,e){e.data&&(t.data=e.data)}(e,t),function lce(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const c=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}(e,t),e}function hU(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function AD(t){return Cn.create("missing-app-config-values",{valueName:t})}hU("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),hU("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class fce{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function hce(t){if(!t||!t.options)throw AD("App Configuration Object");if(!t.name)throw AD("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw AD(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function xD(){return(xD=y(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Uae,{scope:jae}),t.swRegistration.update().catch(()=>{})}catch(e){throw Cn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function ND(){return(ND=y(function*(t,e){if(!e&&!t.swRegistration&&(yield function fU(t){return xD.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Cn.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function MD(){return(MD=y(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=rU)})).apply(this,arguments)}function OD(){return OD=y(function*(t,e){if(!navigator)throw Cn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Cn.create("permission-blocked");return yield function gce(t,e){return MD.apply(this,arguments)}(t,e?.vapidKey),yield function pce(t,e){return ND.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function ice(t){return DD.apply(this,arguments)}(t)}),OD.apply(this,arguments)}function RD(){return(RD=y(function*(t,e,n){const r=function _ce(t){switch(t){case Vm.NOTIFICATION_CLICKED:return"notification_open";case Vm.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[iU],message_name:n[Hae],message_time:n[Gae],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function kD(){return kD=y(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Vm.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(dU(n)):t.onMessageHandler.next(dU(n)));const r=n.data;(function dce(t){return"object"==typeof t&&!!t&&iU in t})(r)&&"1"===r["google.c.a.e"]&&(yield function mce(t,e,n){return RD.apply(this,arguments)}(t,n.messageType,r))}),kD.apply(this,arguments)}const gU="@firebase/messaging",vce=t=>{const e=new fce(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function yce(t,e){return kD.apply(this,arguments)}(e,n)),e},bce=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function pU(t,e){return OD.apply(this,arguments)}(e,r)}};function _U(){return PD.apply(this,arguments)}function PD(){return(PD=y(function*(){try{yield hh()}catch{return!1}return typeof window<"u"&&ha()&&J1()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function wce(){Jn(new Ln("messaging",vce,"PUBLIC")),Jn(new Ln("messaging-internal",bce,"PRIVATE")),Vt(gU,"0.12.4"),Vt(gU,"0.12.4","esm2017")}();const Bm="analytics",Cce="firebase_id",Ece="origin",Tce=6e4,Sce="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",VD="https://www.googletagmanager.com/gtag/js",dn=new pa("@firebase/analytics"),Zn=new zi("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function xce(t){if(!t.startsWith(VD)){const e=Zn.create("invalid-gtag-resource",{gtagURL:t});return dn.warn(e.message),""}return t}function yU(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function BD(){return(BD=y(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const c=(yield yU(n)).find(u=>u.measurementId===i);c&&(yield e[c.appId])}}catch(a){dn.error(a)}t("config",i,s)})).apply(this,arguments)}function UD(){return(UD=y(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield yU(n);for(const c of o){const u=a.find(d=>d.measurementId===c),l=u&&e[u.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){dn.error(s)}})).apply(this,arguments)}const Vce=30,vU=new class Uce{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function jce(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function jD(){return(jD=y(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:jce(r)},s=Sce.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const c=yield o.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw Zn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function $D(){return($D=y(function*(t,e=vU,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Zn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Zn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new qce;return setTimeout(y(function*(){a.abort()}),void 0!==n?n:Tce),bU({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function bU(t,e,n){return HD.apply(this,arguments)}function HD(){return HD=y(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=vU){var s;const{appId:o,measurementId:a}=t;try{yield function Gce(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Zn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw c}try{const c=yield function $ce(t){return jD.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),c}catch(c){const u=c;if(!function zce(t){if(!(t instanceof vi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u)){if(i.deleteThrottleMetadata(o),a)return dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw c}const l=503===Number(null===(s=u?.customData)||void 0===s?void 0:s.httpStatus)?tI(n,i.intervalMillis,Vce):tI(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),dn.debug(`Calling attemptFetch again in ${l} millis`),bU(t,d,r,i)}}),HD.apply(this,arguments)}class qce{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let GD,JD;function zD(){return(zD=y(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function ZD(){return(ZD=y(function*(){if(!ha())return dn.warn(Zn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield hh()}catch(t){return dn.warn(Zn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function XD(){return XD=y(function*(t,e,n,r,i,s,o){var a;const c=function Hce(t){return $D.apply(this,arguments)}(t);c.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&dn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>dn.error(f)),e.push(c);const u=function Xce(){return ZD.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([c,u]);(function Lce(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(VD)&&n.src.includes(t))return n;return null})(s)||function Mce(t,e){const n=function Nce(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:xce}),r=document.createElement("script"),i=`${VD}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),JD&&(i("consent","default",JD),function wU(t){JD=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[Ece]="firebase",h.update=!0,null!=d&&(h[Cce]=d),i("config",l.measurementId,h),GD&&(i("set",GD),function IU(t){GD=t}(void 0)),l.measurementId}),XD.apply(this,arguments)}class tue{constructor(e){this.app=e}_delete(){return delete qi[this.app.options.appId],Promise.resolve()}}let qi={},DU=[];const CU={};let TU,Wi,Um="dataLayer",eC=!1;function rue(t,e,n){!function nue(){const t=[];if(Q1()&&t.push("This is a browser extension environment."),J1()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Zn.create("invalid-analytics-context",{errorInfo:e});dn.warn(n.message)}}();const r=t.options.appId;if(!r)throw Zn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Zn.create("no-api-key");dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=qi[r])throw Zn.create("already-exists",{id:r});if(!eC){!function Oce(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Um);const{wrappedGtag:s,gtagCore:o}=function Fce(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Pce(t,e,n,r){function s(){return s=y(function*(o,...a){try{if("event"===o){const[c,u]=a;yield function kce(t,e,n,r,i){return UD.apply(this,arguments)}(t,e,n,c,u)}else if("config"===o){const[c,u]=a;yield function Rce(t,e,n,r,i,s){return BD.apply(this,arguments)}(t,e,n,r,c,u)}else if("consent"===o){const[c]=a;t("consent","update",c)}else if("get"===o){const[c,u,l]=a;t("get",c,u,l)}else if("set"===o){const[c]=a;t("set",c)}else t(o,...a)}catch(c){dn.error(c)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(qi,DU,CU,Um,"gtag");Wi=s,TU=o,eC=!0}return qi[r]=function eue(t,e,n,r,i,s,o){return XD.apply(this,arguments)}(t,DU,CU,e,TU,Um,n),new tue(t)}function sue(){return tC.apply(this,arguments)}function tC(){return(tC=y(function*(){if(Q1()||!J1()||!ha())return!1;try{return yield hh()}catch{return!1}})).apply(this,arguments)}const SU="@firebase/analytics";!function aue(){Jn(new Ln(Bm,(e,{options:n})=>rue(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Jn(new Ln("analytics-internal",function t(e){try{const n=e.getProvider(Bm).getImmediate();return{logEvent:(r,i,s)=>function oue(t,e,n,r){t=bi(t),function Wce(t,e,n,r,i){return zD.apply(this,arguments)}(Wi,qi[t.app.options.appId],e,n,r).catch(i=>dn.error(i))}(n,r,i,s)}}catch(n){throw Zn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Vt(SU,"0.10.0"),Vt(SU,"0.10.0","esm2017")}();class cue extends Mt{constructor(e,n){super()}schedule(e,n=0){return this}}const jm={setInterval(t,e,...n){const{delegate:r}=jm;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=jm;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class xU extends cue{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return jm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&jm.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,zs(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const rC={now:()=>(rC.delegate||Date).now(),delegate:void 0};class mh{constructor(e,n=mh.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}mh.now=rC.now;class NU extends mh{constructor(e,n=mh.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const due=new class lue extends NU{}(class uue extends xU{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),iC=new NU(xU),hue=iC,sC=new Zc("7.6.1"),oC="__angularfire_symbol__analyticsIsSupportedValue",aC="__angularfire_symbol__analyticsIsSupported",cC="__angularfire_symbol__remoteConfigIsSupportedValue",uC="__angularfire_symbol__remoteConfigIsSupported",lC="__angularfire_symbol__messagingIsSupportedValue",dC="__angularfire_symbol__messagingIsSupported";globalThis[aC]||(globalThis[aC]=sue().then(t=>globalThis[oC]=t).catch(()=>globalThis[oC]=!1)),globalThis[dC]||(globalThis[dC]=_U().then(t=>globalThis[lC]=t).catch(()=>globalThis[lC]=!1)),globalThis[uC]||(globalThis[uC]=xae().then(t=>globalThis[cC]=t).catch(()=>globalThis[cC]=!1));const pC=(t,e)=>{const n=e?[e]:vB(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Ru(){}class MU{constructor(e,n=due){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class fue{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ru,{},Ru,Ru)),n.pipe(en({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let OU=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new MU(Zone.current)),this.insideAngular=n.run(()=>new MU(Zone.current,iC)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(W(Ie))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function wa(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Ia(t){return wa().ngZone.run(()=>t())}function gue(t){return wa(),function mue(t){return function(n){return(n=n.lift(new fue(t.ngZone))).pipe(wp(t.outsideAngular),bp(t.insideAngular))}}(wa())(t)}const _ue=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ia(()=>t.apply(void 0,r))},Da=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Ia(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ru,{},Ru,Ru)))),r[s]=_ue(r[s],n));const i=function pue(t){return wa().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Fe){const s=wa();return i.pipe(wp(s.outsideAngular),bp(s.insideAngular))}return Ia(()=>i)}return i instanceof Fe?i.pipe(gue):i instanceof Promise?Ia(()=>new Promise((s,o)=>i.then(a=>Ia(()=>s(a)),a=>Ia(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Ia(()=>i)};class ku{constructor(e){return e}}class RU{constructor(){return vB()}}const gC=new Z("angularfire2._apps"),vue={provide:ku,useFactory:function yue(t){return t&&1===t.length?t[0]:new ku(yB())},deps:[[new lr,gC]]},bue={provide:RU,deps:[[new lr,gC]]};function wue(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ku(r)}}let Iue=(()=>{class t{constructor(n){Vt("angularfire",sC.full,"core"),Vt("angularfire",sC.full,"app"),Vt("angular",Sb.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(W(gs))},t.\u0275mod=Ce({type:t}),t.\u0275inj=we({providers:[vue,bue]}),t})();function Due(t,...e){return{ngModule:Iue,providers:[{provide:gC,useFactory:wue(t),multi:!0,deps:[Ie,Gt,OU,...e]}]}}const Cue=Da(_B,!0);const Eue=function kU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},PU=new zi("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),$m=new pa("@firebase/auth");function Hm(t,...e){$m.logLevel<=Pe.ERROR&&$m.error(`Auth (${fh}): ${t}`,...e)}function _r(t,...e){throw mC(t,...e)}function Ki(t,...e){return mC(t,...e)}function mC(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return PU.create(t,...e)}function $(t,e,...n){if(!t)throw mC(e,...n)}function Yi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hm(e),new Error(e)}function ho(t,e){t||Yi(e)}function LU(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class yh{constructor(e,n){this.shortDelay=e,this.longDelay=n,ho(n>e,"Short delay should be less than long delay!"),this.isMobile=function $ie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kr())}()||function Gie(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Sue(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function _C(){return"http:"===LU()||"https:"===LU()}()||Q1()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class VU{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Nue=new yh(3e4,6e4);function St(t,e,n,r){return vC.apply(this,arguments)}function vC(){return(vC=y(function*(t,e,n,r,i={}){return BU(t,i,y(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=cB(Object.assign({key:t.config.apiKey},o)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),VU.fetch()(UU(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function BU(t,e,n){return bC.apply(this,arguments)}function bC(){return(bC=y(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},xue),e);try{const i=new Mue(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw vh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw vh(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw vh(t,"email-already-in-use",o);if("USER_DISABLED"===c)throw vh(t,"user-disabled",o);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw function FU(t,e,n){const r=Object.assign(Object.assign({},Eue()),{[e]:n});return new zi("auth","Firebase",r).create(e,{appName:t.name})}(t,l,u);_r(t,l)}}catch(i){if(i instanceof vi)throw i;_r(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function UU(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function yC(t,e){ho(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class Mue{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ki(this.auth,"network-request-failed")),Nue.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ki(t,e,r);return i.customData._tokenResponse=n,i}function IC(){return(IC=y(function*(t,e){return St(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function CC(){return(CC=y(function*(t,e){return St(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function bh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function EC(){return(EC=y(function*(t,e=!1){const n=bi(t),r=yield n.getIdToken(e),i=Gm(r);$(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:bh(TC(i.auth_time)),issuedAtTime:bh(TC(i.iat)),expirationTime:bh(TC(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function TC(t){return 1e3*Number(t)}function Gm(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Hm("JWT malformed, contained fewer than 3 sections"),null;try{const i=Am(n);return i?JSON.parse(i):(Hm("Failed to decode base64 JWT payload"),null)}catch(i){return Hm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ns(t,e){return SC.apply(this,arguments)}function SC(){return(SC=y(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof vi&&function Lue({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Vue{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield n.iteration()}),r)}iteration(){var e=this;return y(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class jU{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bh(this.lastLoginAt),this.creationTime=bh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function wh(t){return AC.apply(this,arguments)}function AC(){return AC=y(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Ns(t,function kue(t,e){return CC.apply(this,arguments)}(n,{idToken:r}));$(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function jue(t){return t.map(e=>{var{providerId:n}=e,r=_p(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Uue(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new jU(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),AC.apply(this,arguments)}function xC(){return(xC=y(function*(t){const e=bi(t);yield wh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function NC(){return(NC=y(function*(t,e){const n=yield BU(t,{},y(function*(){const r=cB({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=UU(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",VU.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Ih{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$(e.idToken,"internal-error"),$(typeof e.idToken<"u","internal-error"),$(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Fue(t){const e=Gm(t);return $(e,"internal-error"),$(typeof e.exp<"u","internal-error"),$(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return y(function*(){return $(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return y(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function $ue(t,e){return NC.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ih;return r&&($("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&($("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&($("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ih,this.toJSON())}_performRefresh(){return Yi("not implemented")}}function fo(t,e){$("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Ca{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=_p(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vue(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new jU(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return y(function*(){const r=yield Ns(n,n.stsTokenManager.getToken(n.auth,e));return $(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Pue(t){return EC.apply(this,arguments)}(this,e)}reload(){return function Bue(t){return xC.apply(this,arguments)}(this)}_assign(e){this!==e&&($(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ca(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return y(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield wh(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return y(function*(){const n=yield e.getIdToken();return yield Ns(e,function Oue(t,e){return IC.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,b=null!==(u=n.createdAt)&&void 0!==u?u:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:A,emailVerified:N,isAnonymous:F,providerData:Y,stsTokenManager:se}=n;$(A&&se,e,"internal-error");const me=Ih.fromJSON(this.name,se);$("string"==typeof A,e,"internal-error"),fo(d,e.name),fo(h,e.name),$("boolean"==typeof N,e,"internal-error"),$("boolean"==typeof F,e,"internal-error"),fo(f,e.name),fo(p,e.name),fo(g,e.name),fo(m,e.name),fo(b,e.name),fo(_,e.name);const et=new Ca({uid:A,auth:e,email:h,emailVerified:N,displayName:d,isAnonymous:F,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:me,createdAt:b,lastLoginAt:_});return Y&&Array.isArray(Y)&&(et.providerData=Y.map(Ct=>Object.assign({},Ct))),m&&(et._redirectEventId=m),et}static _fromIdTokenResponse(e,n,r=!1){return y(function*(){const i=new Ih;i.updateFromServerResponse(n);const s=new Ca({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield wh(s),s})()}}const $U=new Map;function Ms(t){ho(t instanceof Function,"Expected a class definition");let e=$U.get(t);return e?(ho(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$U.set(t,e),e)}const HU=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(n,r){var i=this;return y(function*(){i.storage[n]=r})()}_get(n){var r=this;return y(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return y(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function zm(t,e,n){return`firebase:${t}:${e}:${n}`}class Fu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=zm(this.userKey,i.apiKey,s),this.fullPersistenceKey=zm("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Ca._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return y(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return y(function*(){if(!n.length)return new Fu(Ms(HU),e,r);const i=(yield Promise.all(n.map(function(){var u=y(function*(l){if(yield l._isAvailable())return l});return function(l){return u.apply(this,arguments)}}()))).filter(u=>u);let s=i[0]||Ms(HU);const o=zm(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const l=yield u._get(o);if(l){const d=Ca._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var u=y(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return u.apply(this,arguments)}}())),new Fu(s,e,r)):new Fu(s,e,r)})()}}function GU(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function WU(t=kr()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function zU(t=kr()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function YU(t=kr()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function QU(t=kr()){return/webos/i.test(t)}(e))return"Webos";if(function MC(t=kr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function qU(t=kr()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function KU(t=kr()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function JU(t,e=[]){let n;switch(t){case"Browser":n=GU(kr());break;case"Worker":n=`${GU(kr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fh}/${r}`}function ZU(t,e){return RC.apply(this,arguments)}function RC(){return(RC=y(function*(t,e){return St(t,"GET","/v2/recaptchaConfig",function It(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}function ej(t){return void 0!==t&&void 0!==t.enterprise}class tj{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class rj{constructor(e){this.type="recaptcha-enterprise",this.auth=hn(e)}verify(e="verify",n=!1){var r=this;return y(function*(){function s(){return s=y(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=y(function*(u,l){ZU(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new tj(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,u(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(u,l){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,u){const l=window.grecaptcha;ej(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(u=>{if(!n&&ej(window.grecaptcha))o(u,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));(function kC(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ki("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function que(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+u).then(()=>{o(u,a,c)}).catch(l=>{c(l)})}}).catch(u=>{c(u)})})})()}}class Que{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return y(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Jue{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ij(this),this.idTokenSubscription=new ij(this),this.beforeStateQueue=new Que(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Ms(n)),this._initializationPromise=this.queue(y(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Fu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return y(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,u=yield n.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(s=u.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return $(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return y(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return y(function*(){try{yield wh(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Aue(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return y(function*(){const r=e?bi(e):null;return r&&$(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return y(function*(){if(!r._deleted)return e&&$(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(y(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(y(function*(){yield n.assertedPersistence.setPersistence(Ms(e))}))}initializeRecaptchaConfig(){var e=this;return y(function*(){const n=yield ZU(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new tj(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new rj(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return y(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return y(function*(){if(!n.redirectPersistenceManager){const r=e&&Ms(e)||n._popupRedirectResolver;$(r,n,"argument-error"),n.redirectPersistenceManager=yield Fu.create(n,[Ms(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return y(function*(){var r,i;return n._isInitialized&&(yield n.queue(y(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return y(function*(){if(e===n.currentUser)return n.queue(y(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return $(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return y(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return y(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return y(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Tue(t,...e){$m.logLevel<=Pe.WARN&&$m.warn(`Auth (${fh}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function hn(t){return bi(t)}class ij{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Kie(t,e){const n=new Yie(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function nj(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new yh(3e4,6e4),new yh(2e3,1e4),new yh(3e4,6e4),new yh(5e3,15e3),encodeURIComponent("fac");var Rj="@firebase/auth";class Hde{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return y(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}xm(),function zde(t){Jn(new Ln("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;$(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JU(t)},u=new Jue(r,i,s,c);return function Xue(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ms);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Jn(new Ln("auth-internal",e=>{const n=hn(e.getProvider("auth").getImmediate());return new Hde(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vt(Rj,"0.23.2",function Gde(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Vt(Rj,"0.23.2","esm2017")}("Browser");class Lj{constructor(){return pC("auth")}}const IT=new Map,Vj={activated:!1,tokenObservers:[]},Zde={initialized:!1,enabled:!1};function At(t){return IT.get(t)||Object.assign({},Vj)}function i_(){return Zde}const DT="https://content-firebaseappcheck.googleapis.com/v1",nhe="exchangeDebugToken",Bj={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ihe{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return y(function*(){n.stop();try{n.pending=new Nm,yield function she(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Nm,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const En=new zi("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function CT(t){if(!At(t).activated)throw En.create("use-before-activation",{appName:t.name})}function a_(t,e){return TT.apply(this,arguments)}function TT(){return TT=y(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw En.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw En.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw En.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw En.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=1e3*Number(c[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+u,issuedAtTimeMillis:l}}),TT.apply(this,arguments)}function Uj(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${DT}/projects/${n}/apps/${r}:${nhe}?key=${i}`,body:{debug_token:e}}}const uhe="firebase-app-check-database",lhe=1,Sh="firebase-app-check-store";let c_=null;function ST(){return ST=y(function*(t,e){const r=(yield function $j(){return c_||(c_=new Promise((t,e)=>{try{const n=indexedDB.open(uhe,lhe);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(En.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Sh,{keyPath:"compositeKey"})}}catch(n){e(En.create("storage-open",{originalErrorMessage:n?.message}))}}),c_)}()).transaction(Sh,"readwrite"),s=r.objectStore(Sh).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var u;a(En.create("storage-set",{originalErrorMessage:null===(u=c.target.error)||void 0===u?void 0:u.message}))}})}),ST.apply(this,arguments)}const Ah=new pa("@firebase/app-check");function NT(t,e){return ha()?function hhe(t,e){return function Hj(t,e){return ST.apply(this,arguments)}(function zj(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Ah.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function OT(){return i_().enabled}function RT(){return kT.apply(this,arguments)}function kT(){return kT=y(function*(){const t=i_();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),kT.apply(this,arguments)}const yhe={error:"UNKNOWN_ERROR"};function vhe(t){return Y1.encodeString(JSON.stringify(t),!1)}function u_(t){return PT.apply(this,arguments)}function PT(){return PT=y(function*(t,e=!1){const n=t.app;CT(n);const r=At(n);let s,i=r.token;if(i&&!Vu(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Vu(c)?i=c:yield NT(n,void 0))}if(!e&&i&&Vu(i))return{token:i.token};let a,o=!1;if(OT()){r.exchangeTokenPromise||(r.exchangeTokenPromise=a_(Uj(n,yield RT()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const c=yield r.exchangeTokenPromise;return yield NT(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield At(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?Ah.warn(c.message):Ah.error(c),s=c}return i?s?a=Vu(i)?{token:i.token,internalError:s}:Yj(s):(a={token:i.token},r.token=i,yield NT(n,i)):a=Yj(s),o&&function Kj(t,e){const n=At(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),PT.apply(this,arguments)}function FT(){return FT=y(function*(t){const e=t.app;CT(e);const{provider:n}=At(e);if(OT()){const r=yield RT(),{token:i}=yield a_(Uj(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),FT.apply(this,arguments)}function VT(t,e){const n=At(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Wj(t){const{app:e}=t,n=At(e);let r=n.tokenRefresher;r||(r=function bhe(t){const{app:e}=t;return new ihe(y(function*(){let r;if(r=At(e).token?yield u_(t,!0):yield u_(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=At(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Bj.RETRIAL_MIN_WAIT,Bj.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Vu(t){return t.expireTimeMillis-Date.now()>0}function Yj(t){return{token:vhe(yhe),error:t}}class whe{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=At(this.app);for(const n of e)VT(this.app,n.next);return Promise.resolve()}}const r$="app-check-internal";!function Phe(){Jn(new Ln("app-check",t=>function Ihe(t,e){return new whe(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(r$).initialize()})),Jn(new Ln(r$,t=>function Dhe(t){return{getToken:e=>u_(t,e),getLimitedUseToken:()=>function qj(t){return FT.apply(this,arguments)}(t),addTokenListener:e=>function LT(t,e,n,r){const{app:i}=t,s=At(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Vu(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),Wj(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Wj(t))}(t,"INTERNAL",e),removeTokenListener:e=>VT(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Vt("@firebase/app-check","0.8.0")}();class s${constructor(){return pC("app-check")}}typeof window<"u"&&window;var Q,Uhe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wi={},HT=HT||{},fe=Uhe||self;function d_(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function xh(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var GT="closure_uid_"+(1e9*Math.random()>>>0),$he=0;function Hhe(t,e,n){return t.call.apply(t.bind,arguments)}function Ghe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Vn(t,e,n){return(Vn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Hhe:Ghe).apply(null,arguments)}function h_(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function fn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function go(){this.s=this.s,this.o=this.o}go.prototype.s=!1,go.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function jhe(t){Object.prototype.hasOwnProperty.call(t,GT)&&t[GT]||(t[GT]=++$he)}(this)},go.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const o$=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function zT(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function a$(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(d_(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Bn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Bn.prototype.h=function(){this.defaultPrevented=!0};var qhe=function(){if(!fe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{fe.addEventListener("test",()=>{},e),fe.removeEventListener("test",()=>{},e)}catch{}return t}();function Nh(t){return/^[\s\xa0]*$/.test(t)}function f_(){var t=fe.navigator;return t&&(t=t.userAgent)?t:""}function Qi(t){return-1!=f_().indexOf(t)}function qT(t){return qT[" "](t),t}qT[" "]=function(){};var KT,Khe=Qi("Opera"),Bu=Qi("Trident")||Qi("MSIE"),c$=Qi("Edge"),WT=c$||Bu,u$=Qi("Gecko")&&!(-1!=f_().toLowerCase().indexOf("webkit")&&!Qi("Edge"))&&!(Qi("Trident")||Qi("MSIE"))&&!Qi("Edge"),Yhe=-1!=f_().toLowerCase().indexOf("webkit")&&!Qi("Edge");function l$(){var t=fe.document;return t?t.documentMode:void 0}e:{var YT="",QT=function(){var t=f_();return u$?/rv:([^\);]+)(\)|;)/.exec(t):c$?/Edge\/([\d\.]+)/.exec(t):Bu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Yhe?/WebKit\/(\S+)/.exec(t):Khe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(QT&&(YT=QT?QT[1]:""),Bu){var JT=l$();if(null!=JT&&JT>parseFloat(YT)){KT=String(JT);break e}}KT=YT}var Qhe=fe.document&&Bu&&(l$()||parseInt(KT,10))||void 0;function Mh(t,e){if(Bn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(u$){e:{try{qT(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Jhe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Mh.$.h.call(this)}}fn(Mh,Bn);var Jhe={2:"touch",3:"pen",4:"mouse"};Mh.prototype.h=function(){Mh.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Oh="closure_listenable_"+(1e6*Math.random()|0),Zhe=0;function Xhe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Zhe,this.fa=this.ia=!1}function p_(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function XT(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function h$(t){const e={};for(const n in t)e[n]=t[n];return e}const f$="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function p$(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<f$.length;s++)n=f$[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function g_(t){this.src=t,this.g={},this.h=0}function eS(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=o$(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(p_(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function tS(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}g_.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=tS(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Xhe(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var nS="closure_lm_"+(1e6*Math.random()|0),rS={};function g$(t,e,n,r,i){if(r&&r.once)return _$(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)g$(t,e[s],n,r,i);return null}return n=aS(n),t&&t[Oh]?t.O(e,n,xh(r)?!!r.capture:!!r,i):m$(t,e,n,!1,r,i)}function m$(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=xh(i)?!!i.capture:!!i,a=sS(t);if(a||(t[nS]=a=new g_(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function tfe(){const e=nfe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)qhe||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(v$(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function _$(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)_$(t,e[s],n,r,i);return null}return n=aS(n),t&&t[Oh]?t.P(e,n,xh(r)?!!r.capture:!!r,i):m$(t,e,n,!0,r,i)}function y$(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)y$(t,e[s],n,r,i);else r=xh(r)?!!r.capture:!!r,n=aS(n),t&&t[Oh]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=tS(s=t.g[e],n,r,i))&&(p_(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=sS(t))&&(e=t.g[e.toString()],t=-1,e&&(t=tS(e,n,r,i)),(n=-1<t?e[t]:null)&&iS(n))}function iS(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Oh])eS(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(v$(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=sS(e))?(eS(n,t),0==n.h&&(n.src=null,e[nS]=null)):p_(t)}}}function v$(t){return t in rS?rS[t]:rS[t]="on"+t}function nfe(t,e){if(t.fa)t=!0;else{e=new Mh(e,this);var n=t.listener,r=t.la||t.src;t.ia&&iS(t),t=n.call(r,e)}return t}function sS(t){return(t=t[nS])instanceof g_?t:null}var oS="__closure_events_fn_"+(1e9*Math.random()>>>0);function aS(t){return"function"==typeof t?t:(t[oS]||(t[oS]=function(e){return t.handleEvent(e)}),t[oS])}function pn(){go.call(this),this.i=new g_(this),this.S=this,this.J=null}function Tn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Bn(e,t);else if(e instanceof Bn)e.target=e.target||t;else{var i=e;p$(e=new Bn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=m_(o,r,!0,e)&&i}if(i=m_(o=e.g=t,r,!0,e)&&i,i=m_(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=m_(o=e.g=n[s],r,!1,e)&&i}function m_(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&eS(t.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}fn(pn,go),pn.prototype[Oh]=!0,pn.prototype.removeEventListener=function(t,e,n,r){y$(this,t,e,n,r)},pn.prototype.N=function(){if(pn.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)p_(n[r]);delete t.g[e],t.h--}}this.J=null},pn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},pn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var cS=fe.JSON.stringify;function ife(){var t=uS;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var b$=new class rfe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ofe,t=>t.reset());class ofe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function afe(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function cfe(t){fe.setTimeout(()=>{throw t},0)}let Rh,kh=!1,uS=new class sfe{constructor(){this.h=this.g=null}add(e,n){const r=b$.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},w$=()=>{const t=fe.Promise.resolve(void 0);Rh=()=>{t.then(ufe)}};var ufe=()=>{for(var t;t=ife();){try{t.h.call(t.g)}catch(n){cfe(n)}var e=b$;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}kh=!1};function __(t,e){pn.call(this),this.h=t||1,this.g=e||fe,this.j=Vn(this.qb,this),this.l=Date.now()}function lS(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function dS(t,e,n){if("function"==typeof t)n&&(t=Vn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Vn(t.handleEvent,t)}return 2147483647<Number(e)?-1:fe.setTimeout(t,e||0)}function I$(t){t.g=dS(()=>{t.g=null,t.i&&(t.i=!1,I$(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}fn(__,pn),(Q=__.prototype).ga=!1,Q.T=null,Q.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Tn(this,"tick"),this.ga&&(lS(this),this.start()))}},Q.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Q.N=function(){__.$.N.call(this),lS(this),delete this.g};class lfe extends go{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:I$(this)}N(){super.N(),this.g&&(fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ph(t){go.call(this),this.h=t,this.g={}}fn(Ph,go);var D$=[];function C$(t,e,n,r){Array.isArray(n)||(n&&(D$[0]=n.toString()),n=D$);for(var i=0;i<n.length;i++){var s=g$(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function E$(t){XT(t.g,function(e,n){this.g.hasOwnProperty(n)&&iS(e)},t),t.g={}}function y_(){this.g=!0}function Uu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function pfe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return cS(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Ph.prototype.N=function(){Ph.$.N.call(this),E$(this)},Ph.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},y_.prototype.Ea=function(){this.g=!1},y_.prototype.info=function(){};var Aa={},T$=null;function v_(){return T$=T$||new pn}function S$(t){Bn.call(this,Aa.Ta,t)}function Fh(t){const e=v_();Tn(e,new S$(e))}function A$(t,e){Bn.call(this,Aa.STAT_EVENT,t),this.stat=e}function Xn(t){const e=v_();Tn(e,new A$(e,t))}function x$(t,e){Bn.call(this,Aa.Ua,t),this.size=e}function Lh(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return fe.setTimeout(function(){t()},e)}Aa.Ta="serverreachability",fn(S$,Bn),Aa.STAT_EVENT="statevent",fn(A$,Bn),Aa.Ua="timingevent",fn(x$,Bn);var b_={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},N$={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function hS(){}function O$(){}hS.prototype.h=null;var gS,Vh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function fS(){Bn.call(this,"d")}function pS(){Bn.call(this,"c")}function w_(){}function Bh(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ph(this),this.P=gfe,this.V=new __(t=WT?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new R$}function R$(){this.i=null,this.g="",this.h=!1}fn(fS,Bn),fn(pS,Bn),fn(w_,hS),w_.prototype.g=function(){return new XMLHttpRequest},w_.prototype.i=function(){return{}},gS=new w_;var gfe=45e3,mS={},I_={};function _S(t,e,n){t.L=1,t.v=T_(Rs(e)),t.s=n,t.S=!0,k$(t,null)}function k$(t,e){t.G=Date.now(),Uh(t),t.A=Rs(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),G$(n.i,"t",r),t.C=0,n=t.l.J,t.h=new R$,t.g=pH(t.l,n?e:null,!t.s),0<t.O&&(t.M=new lfe(Vn(t.Pa,t,t.g),t.O)),C$(t.U,t.g,"readystatechange",t.nb),e=t.I?h$(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Fh(),function dfe(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function P$(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function F$(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=mfe(t,n),i==I_){4==e&&(t.o=4,Xn(14),r=!1),Uu(t.j,t.m,null,"[Incomplete Response]");break}if(i==mS){t.o=4,Xn(15),Uu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Uu(t.j,t.m,i,null),yS(t,i)}P$(t)&&i!=I_&&i!=mS&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Xn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ES(e),e.M=!0,Xn(11))):(Uu(t.j,t.m,n,"[Invalid Chunked Response]"),xa(t),jh(t))}function mfe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?I_:(n=Number(e.substring(n,r)),isNaN(n)?mS:(r+=1)+n>e.length?I_:(e=e.slice(r,r+n),t.C=r+n,e))}function Uh(t){t.Y=Date.now()+t.P,L$(t,t.P)}function L$(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Lh(Vn(t.lb,t),e)}function D_(t){t.B&&(fe.clearTimeout(t.B),t.B=null)}function jh(t){0==t.l.H||t.J||lH(t.l,t)}function xa(t){D_(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,lS(t.V),E$(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function yS(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||vS(n.i,t)))if(!t.K&&vS(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;O_(n),N_(n)}CS(n),Xn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Lh(Vn(n.ib,n),6e3));if(1>=W$(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ma(n,11)}else if((t.K||n.g==t)&&O_(n),!Nh(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const l=u[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=u[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(bS(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,ut(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=fH(r,r.J?r.pa:null,r.Y),o.K){K$(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(D_(a),Uh(a)),r.g=o}else cH(r);0<n.j.length&&M_(n)}else"stop"!=u[0]&&"close"!=u[0]||Ma(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Ma(n,7):DS(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}Fh()}catch{}}function V$(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d_(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function yfe(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(d_(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function _fe(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(d_(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(Q=Bh.prototype).setTimeout=function(t){this.P=t},Q.nb=function(t){t=t.target;const e=this.M;e&&3==Ji(t)?e.l():this.Pa(t)},Q.Pa=function(t){try{if(t==this.g)e:{const l=Ji(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||WT||this.g&&(this.h.h||this.g.ja()||nH(this.g)))){this.J||4!=l||7==e||Fh(),D_(this);var n=this.g.da();this.ca=n;t:if(P$(this)){var r=nH(this.g);t="";var i=r.length,s=4==Ji(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){xa(this),jh(this);var o="";break t}this.h.i=new fe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function hfe(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nh(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,Xn(12),xa(this),jh(this);break e}Uu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yS(this,n)}this.S?(F$(this,l,o),WT&&this.i&&3==l&&(C$(this.U,this.V,"tick",this.mb),this.V.start())):(Uu(this.j,this.m,o,null),yS(this,o)),4==l&&xa(this),this.i&&!this.J&&(4==l?lH(this.l,this):(this.i=!1,Uh(this)))}else(function Ffe(t){const e={};t=(t.g&&2<=Ji(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Nh(t[r]))continue;var n=afe(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function efe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Xn(12)):(this.o=0,Xn(13)),xa(this),jh(this)}}}catch{}},Q.mb=function(){if(this.g){var t=Ji(this.g),e=this.g.ja();this.C<e.length&&(D_(this),F$(this,t,e),this.i&&4!=t&&Uh(this))}},Q.cancel=function(){this.J=!0,xa(this)},Q.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function ffe(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Fh(),Xn(17)),xa(this),this.o=2,jh(this)):L$(this,this.Y-t)};var B$=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Na(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Na){this.h=t.h,C_(this,t.j),this.s=t.s,this.g=t.g,E_(this,t.m),this.l=t.l;var e=t.i,n=new Gh;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),U$(this,n),this.o=t.o}else t&&(e=String(t).match(B$))?(this.h=!1,C_(this,e[1]||"",!0),this.s=$h(e[2]||""),this.g=$h(e[3]||"",!0),E_(this,e[4]),this.l=$h(e[5]||"",!0),U$(this,e[6]||"",!0),this.o=$h(e[7]||"")):(this.h=!1,this.i=new Gh(null,this.h))}function Rs(t){return new Na(t)}function C_(t,e,n){t.j=n?$h(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function E_(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function U$(t,e,n){e instanceof Gh?(t.i=e,function Efe(t,e){e&&!t.j&&(mo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&($$(this,r),G$(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Hh(e,Dfe)),t.i=new Gh(e,t.h))}function ut(t,e,n){t.i.set(e,n)}function T_(t){return ut(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function $h(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Hh(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,bfe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function bfe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Na.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Hh(e,j$,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Hh(e,j$,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Hh(n,"/"==n.charAt(0)?Ife:wfe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Hh(n,Cfe)),t.join("")};var j$=/[#\/\?@]/g,wfe=/[#\?:]/g,Ife=/[#\?]/g,Dfe=/[#\?@]/g,Cfe=/#/g;function Gh(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function mo(t){t.g||(t.g=new Map,t.h=0,t.i&&function vfe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function $$(t,e){mo(t),e=ju(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function H$(t,e){return mo(t),e=ju(t,e),t.g.has(e)}function G$(t,e,n){$$(t,e),0<n.length&&(t.i=null,t.g.set(ju(t,e),zT(n)),t.h+=n.length)}function ju(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function z$(t){this.l=t||Sfe,t=fe.PerformanceNavigationTiming?0<(t=fe.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(fe.g&&fe.g.Ka&&fe.g.Ka()&&fe.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Q=Gh.prototype).add=function(t,e){mo(this),this.i=null,t=ju(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Q.forEach=function(t,e){mo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},Q.ta=function(){mo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},Q.Z=function(t){mo(this);let e=[];if("string"==typeof t)H$(this,t)&&(e=e.concat(this.g.get(ju(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},Q.set=function(t,e){return mo(this),this.i=null,H$(this,t=ju(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Q.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},Q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Sfe=10;function q$(t){return!!t.h||!!t.g&&t.g.size>=t.j}function W$(t){return t.h?1:t.g?t.g.size:0}function vS(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function bS(t,e){t.g?t.g.add(e):t.h=e}function K$(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Y$(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return zT(t.i)}z$.prototype.cancel=function(){if(this.i=Y$(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Afe=class{stringify(t){return fe.JSON.stringify(t,void 0)}parse(t){return fe.JSON.parse(t,void 0)}};function xfe(){this.g=new Afe}function Nfe(t,e,n){const r=n||"";try{V$(t,function(i,s){let o=i;xh(i)&&(o=cS(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function S_(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function zh(t){this.l=t.fc||null,this.j=t.ob||!1}function A_(t,e){pn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=wS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fn(zh,hS),zh.prototype.g=function(){return new A_(this.l,this.j)},zh.prototype.i=function(t){return function(){return t}}({}),fn(A_,pn);var wS=0;function Q$(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function qh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Wh(t)}function Wh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Q=A_.prototype).open=function(t,e){if(this.readyState!=wS)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Wh(this)},Q.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||fe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qh(this)),this.readyState=wS},Q.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Wh(this)),this.g&&(this.readyState=3,Wh(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof fe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Q$(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},Q.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?qh(this):Wh(this),3==this.readyState&&Q$(this)}},Q.Za=function(t){this.g&&(this.response=this.responseText=t,qh(this))},Q.Ya=function(t){this.g&&(this.response=t,qh(this))},Q.ka=function(){this.g&&qh(this)},Q.setRequestHeader=function(t,e){this.v.append(t,e)},Q.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Q.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(A_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Ofe=fe.JSON.parse;function xt(t){pn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=J$,this.L=this.M=!1}fn(xt,pn);var J$="",Rfe=/^https?$/i,kfe=["POST","PUT"];function Z$(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,X$(t),x_(t)}function X$(t){t.F||(t.F=!0,Tn(t,"complete"),Tn(t,"error"))}function eH(t){if(t.h&&typeof HT<"u"&&(!t.C[1]||4!=Ji(t)||2!=t.da()))if(t.v&&4==Ji(t))dS(t.La,0,t);else if(Tn(t,"readystatechange"),4==Ji(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(B$)[1]||null;!i&&fe.self&&fe.self.location&&(i=fe.self.location.protocol.slice(0,-1)),r=!Rfe.test(i?i.toLowerCase():"")}n=r}if(n)Tn(t,"complete"),Tn(t,"success");else{t.m=6;try{var s=2<Ji(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",X$(t)}}finally{x_(t)}}}function x_(t,e){if(t.g){tH(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Tn(t,"ready");try{n.onreadystatechange=r}catch{}}}function tH(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(fe.clearTimeout(t.A),t.A=null)}function Ji(t){return t.g?t.g.readyState:0}function nH(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case J$:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function rH(t){let e="";return XT(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function IS(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=rH(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ut(t,e,n))}function Kh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function iH(t){this.Ga=0,this.j=[],this.l=new y_,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Kh("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Kh("baseRetryDelayMs",5e3,t),this.hb=Kh("retryDelaySeedMs",1e4,t),this.eb=Kh("forwardChannelMaxRetries",2,t),this.xa=Kh("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new z$(t&&t.concurrentRequestLimit),this.Ja=new xfe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function DS(t){if(sH(t),3==t.H){var e=t.W++,n=Rs(t.I);if(ut(n,"SID",t.K),ut(n,"RID",e),ut(n,"TYPE","terminate"),Yh(t,n),(e=new Bh(t,t.l,e)).L=2,e.v=T_(Rs(n)),n=!1,fe.navigator&&fe.navigator.sendBeacon)try{n=fe.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&fe.Image&&((new Image).src=e.v,n=!0),n||(e.g=pH(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Uh(e)}hH(t)}function N_(t){t.g&&(ES(t),t.g.cancel(),t.g=null)}function sH(t){N_(t),t.u&&(fe.clearTimeout(t.u),t.u=null),O_(t),t.i.cancel(),t.m&&("number"==typeof t.m&&fe.clearTimeout(t.m),t.m=null)}function M_(t){if(!q$(t.i)&&!t.m){t.m=!0;var e=t.Na;Rh||w$(),kh||(Rh(),kh=!0),uS.add(e,t),t.C=0}}function oH(t,e){var n;n=e?e.m:t.W++;const r=Rs(t.I);ut(r,"SID",t.K),ut(r,"RID",n),ut(r,"AID",t.V),Yh(t,r),t.o&&t.s&&IS(r,t.o,t.s),n=new Bh(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=aH(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),bS(t.i,n),_S(n,r,e)}function Yh(t,e){t.na&&XT(t.na,function(n,r){ut(e,r,n)}),t.h&&V$({},function(n,r){ut(e,r,n)})}function aH(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Vn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g;const l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{Nfe(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function cH(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Rh||w$(),kh||(Rh(),kh=!0),uS.add(e,t),t.A=0}}function CS(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Lh(Vn(t.Ma,t),dH(t,t.A)),t.A++,0))}function ES(t){null!=t.B&&(fe.clearTimeout(t.B),t.B=null)}function uH(t){t.g=new Bh(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Rs(t.wa);ut(e,"RID","rpc"),ut(e,"SID",t.K),ut(e,"AID",t.V),ut(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ut(e,"TO",t.qa),ut(e,"TYPE","xmlhttp"),Yh(t,e),t.o&&t.s&&IS(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=T_(Rs(e)),n.s=null,n.S=!0,k$(n,t)}function O_(t){null!=t.v&&(fe.clearTimeout(t.v),t.v=null)}function lH(t,e){var n=null;if(t.g==e){O_(t),ES(t),t.g=null;var r=2}else{if(!vS(t.i,e))return;n=e.F,K$(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Tn(r=v_(),new x$(r,n)),M_(t)}else cH(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Lfe(t,e){return!(W$(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Lh(Vn(t.Na,t,e),dH(t,t.C)),t.C++,0)))}(t,e)||2==r&&CS(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ma(t,5);break;case 4:Ma(t,10);break;case 3:Ma(t,6);break;default:Ma(t,2)}}function dH(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ma(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Vn(t.pb,t);n||(n=new Na("//www.google.com/images/cleardot.gif"),fe.location&&"http"==fe.location.protocol||C_(n,"https"),T_(n)),function Mfe(t,e){const n=new y_;if(fe.Image){const r=new Image;r.onload=h_(S_,n,r,"TestLoadImage: loaded",!0,e),r.onerror=h_(S_,n,r,"TestLoadImage: error",!1,e),r.onabort=h_(S_,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=h_(S_,n,r,"TestLoadImage: timeout",!1,e),fe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Xn(2);t.H=0,t.h&&t.h.za(e),hH(t),sH(t)}function hH(t){if(t.H=0,t.ma=[],t.h){const e=Y$(t.i);(0!=e.length||0!=t.j.length)&&(a$(t.ma,e),a$(t.ma,t.j),t.i.i.length=0,zT(t.j),t.j.length=0),t.h.ya()}}function fH(t,e,n){var r=n instanceof Na?Rs(n):new Na(n);if(""!=r.g)e&&(r.g=e+"."+r.g),E_(r,r.m);else{var i=fe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Na(null);r&&C_(s,r),e&&(s.g=e),i&&E_(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&ut(r,n,e),ut(r,"VER",t.ra),Yh(t,r),r}function pH(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new xt(n&&t.Ha&&!t.va?new zh({ob:!0}):t.va)).Oa(t.J),e}function gH(){}function R_(){if(Bu&&!(10<=Number(Qhe)))throw Error("Environmental error: no available transport.")}function Pr(t,e){pn.call(this),this.g=new iH(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Nh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Nh(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new $u(this)}function mH(t){fS.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function _H(){pS.call(this),this.status=1}function $u(t){this.g=t}function Ii(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function TS(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Ze(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(Q=xt.prototype).Oa=function(t){this.M=t},Q.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():gS.g(),this.C=function M$(t){return t.h||(t.h=t.i())}(this.u?this.u:gS),this.g.onreadystatechange=Vn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void Z$(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=fe.FormData&&t instanceof fe.FormData,!(0<=o$(kfe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{tH(this),0<this.B&&((this.L=function Pfe(t){return Bu&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vn(this.ua,this)):this.A=dS(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Z$(this,s)}},Q.ua=function(){typeof HT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tn(this,"timeout"),this.abort(8))},Q.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Tn(this,"complete"),Tn(this,"abort"),x_(this))},Q.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),x_(this,!0)),xt.$.N.call(this)},Q.La=function(){this.s||(this.G||this.v||this.l?eH(this):this.kb())},Q.kb=function(){eH(this)},Q.isActive=function(){return!!this.g},Q.da=function(){try{return 2<Ji(this)?this.g.status:-1}catch{return-1}},Q.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Q.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ofe(e)}},Q.Ia=function(){return this.m},Q.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Q=iH.prototype).ra=8,Q.H=1,Q.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Bh(this,this.l,t);let s=this.s;if(this.U&&(s?(s=h$(s),p$(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=aH(this,i,e),ut(n=Rs(this.I),"RID",t),ut(n,"CVER",22),this.F&&ut(n,"X-HTTP-Session-Id",this.F),Yh(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(rH(s)))+"&"+e:this.o&&IS(n,this.o,s)),bS(this.i,i),this.bb&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",e),ut(n,"SID","null"),i.aa=!0,_S(i,n,null)):_S(i,n,e),this.H=2}}else 3==this.H&&(t?oH(this,t):0==this.j.length||q$(this.i)||oH(this))},Q.Ma=function(){if(this.u=null,uH(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Lh(Vn(this.jb,this),t)}},Q.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Xn(10),N_(this),uH(this))},Q.ib=function(){null!=this.v&&(this.v=null,N_(this),CS(this),Xn(19))},Q.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Xn(2)):(this.l.info("Failed to ping google.com"),Xn(1))},Q.isActive=function(){return!!this.h&&this.h.isActive(this)},(Q=gH.prototype).Ba=function(){},Q.Aa=function(){},Q.za=function(){},Q.ya=function(){},Q.isActive=function(){return!0},Q.Va=function(){},R_.prototype.g=function(t,e){return new Pr(t,e)},fn(Pr,pn),Pr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Xn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=fH(t,null,t.Y),M_(t)},Pr.prototype.close=function(){DS(this.g)},Pr.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=cS(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&M_(e)},Pr.prototype.N=function(){this.g.h=null,delete this.j,DS(this.g),delete this.g,Pr.$.N.call(this)},fn(mH,fS),fn(_H,pS),fn($u,gH),$u.prototype.Ba=function(){Tn(this.g,"a")},$u.prototype.Aa=function(t){Tn(this.g,new mH(t))},$u.prototype.za=function(t){Tn(this.g,new _H)},$u.prototype.ya=function(){Tn(this.g,"b")},fn(Ii,function Vfe(){this.blockSize=-1}),Ii.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ii.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)TS(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){TS(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){TS(this,r),i=0;break}}this.h=i,this.i+=e},Ii.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Bfe={};function SS(t){return-128<=t&&128>t?function Whe(t,e){var n=Bfe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Ze([0|e],0>e?-1:0)}):new Ze([0|t],0>t?-1:0)}function Zi(t){if(isNaN(t)||!isFinite(t))return Hu;if(0>t)return Sn(Zi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=AS;return new Ze(e,0)}var AS=4294967296,Hu=SS(0),xS=SS(1),vH=SS(16777216);function ks(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function ni(t){return-1==t.h}function Sn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ze(n,~t.h).add(xS)}function k_(t,e){return t.add(Sn(e))}function P_(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Qh(t,e){this.g=t,this.h=e}function F_(t,e){if(ks(e))throw Error("division by zero");if(ks(t))return new Qh(Hu,Hu);if(ni(t))return e=F_(Sn(t),e),new Qh(Sn(e.g),Sn(e.h));if(ni(e))return e=F_(t,Sn(e)),new Qh(Sn(e.g),e.h);if(30<t.g.length){if(ni(t)||ni(e))throw Error("slowDivide_ only works with positive integers.");for(var n=xS,r=e;0>=r.X(t);)n=bH(n),r=bH(r);var i=Gu(n,1),s=Gu(r,1);for(r=Gu(r,2),n=Gu(n,2);!ks(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Gu(r,1),n=Gu(n,1)}return e=k_(t,i.R(e)),new Qh(i,e)}for(i=Hu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Zi(n)).R(e);ni(o)||0<o.X(t);)o=(s=Zi(n-=r)).R(e);ks(s)&&(s=xS),i=i.add(s),t=k_(t,o)}return new Qh(i,t)}function bH(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ze(n,t.h)}function Gu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ze(i,t.h)}(Q=Ze.prototype).ea=function(){if(ni(this))return-Sn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:AS+r)*e,e*=AS}return t},Q.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(ks(this))return"0";if(ni(this))return"-"+Sn(this).toString(t);for(var e=Zi(Math.pow(t,6)),n=this,r="";;){var i=F_(n,e).g,s=((0<(n=k_(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(ks(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Q.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},Q.X=function(t){return ni(t=k_(this,t))?-1:ks(t)?0:1},Q.abs=function(){return ni(this)?Sn(this):this},Q.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Ze(n,-2147483648&n[n.length-1]?-1:0)},Q.R=function(t){if(ks(this)||ks(t))return Hu;if(ni(this))return ni(t)?Sn(this).R(Sn(t)):Sn(Sn(this).R(t));if(ni(t))return Sn(this.R(Sn(t)));if(0>this.X(vH)&&0>t.X(vH))return Zi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=o*c,P_(n,2*r+2*i),n[2*r+2*i+1]+=s*c,P_(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,P_(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,P_(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ze(n,0)},Q.gb=function(t){return F_(this,t).h},Q.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ze(n,this.h&t.h)},Q.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ze(n,this.h|t.h)},Q.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ze(n,this.h^t.h)},R_.prototype.createWebChannel=R_.prototype.g,Pr.prototype.send=Pr.prototype.u,Pr.prototype.open=Pr.prototype.m,Pr.prototype.close=Pr.prototype.close,b_.NO_ERROR=0,b_.TIMEOUT=8,b_.HTTP_ERROR=6,N$.COMPLETE="complete",O$.EventType=Vh,Vh.OPEN="a",Vh.CLOSE="b",Vh.ERROR="c",Vh.MESSAGE="d",pn.prototype.listen=pn.prototype.O,xt.prototype.listenOnce=xt.prototype.P,xt.prototype.getLastError=xt.prototype.Sa,xt.prototype.getLastErrorCode=xt.prototype.Ia,xt.prototype.getStatus=xt.prototype.da,xt.prototype.getResponseJson=xt.prototype.Wa,xt.prototype.getResponseText=xt.prototype.ja,xt.prototype.send=xt.prototype.ha,xt.prototype.setWithCredentials=xt.prototype.Oa,Ii.prototype.digest=Ii.prototype.l,Ii.prototype.reset=Ii.prototype.reset,Ii.prototype.update=Ii.prototype.j,Ze.prototype.add=Ze.prototype.add,Ze.prototype.multiply=Ze.prototype.R,Ze.prototype.modulo=Ze.prototype.gb,Ze.prototype.compare=Ze.prototype.X,Ze.prototype.toNumber=Ze.prototype.ea,Ze.prototype.toString=Ze.prototype.toString,Ze.prototype.getBits=Ze.prototype.D,Ze.fromNumber=Zi,Ze.fromString=function yH(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Sn(yH(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Zi(Math.pow(e,8)),r=Hu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Zi(Math.pow(e,s)),r=r.R(s).add(Zi(o))):r=(r=r.R(n)).add(Zi(o))}return r};var Ufe=wi.createWebChannelTransport=function(){return new R_},jfe=wi.getStatEventTarget=function(){return v_()},NS=wi.ErrorCode=b_,$fe=wi.EventType=N$,Hfe=wi.Event=Aa,wH=wi.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Gfe=wi.FetchXmlHttpFactory=zh,L_=wi.WebChannel=O$,zfe=wi.XhrIo=xt,qfe=wi.Md5=Ii,zu=wi.Integer=Ze;const IH="@firebase/firestore";class gn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");let qu="9.23.0";const _o=new pa("@firebase/firestore");function MS(){return _o.logLevel}function P(t,...e){if(_o.logLevel<=Pe.DEBUG){const n=e.map(OS);_o.debug(`Firestore (${qu}): ${t}`,...n)}}function Bt(t,...e){if(_o.logLevel<=Pe.ERROR){const n=e.map(OS);_o.error(`Firestore (${qu}): ${t}`,...n)}}function Di(t,...e){if(_o.logLevel<=Pe.WARN){const n=e.map(OS);_o.warn(`Firestore (${qu}): ${t}`,...n)}}function OS(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function te(t="Unexpected state"){const e=`FIRESTORE (${qu}) INTERNAL ASSERTION FAILED: `+t;throw Bt(e),new Error(e)}function re(t,e){t||te()}function K(t,e){return t}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class R extends vi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class DH{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Wfe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gn.UNAUTHENTICATED))}shutdown(){}}class Kfe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Yfe{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let o=new tn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new tn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=o;e.enqueueRetryable(y(function*(){yield u.promise,yield s(r.currentUser)}))},c=u=>{P("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(P("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new tn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(P("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(re("string"==typeof r.accessToken),new DH(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return re(null===e||"string"==typeof e),new gn(e)}}class Qfe{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Jfe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Qfe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CH{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zfe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&P("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,P("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{P("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):P("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(re("string"==typeof n.token),this.T=n.token,new CH(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Xfe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class EH{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Xfe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function le(t,e){return t<e?-1:t>e?1:0}function Wu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Dt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new R(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new R(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new R(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new R(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Dt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ie(e)}static min(){return new ie(new Dt(0,0))}static max(){return new ie(new Dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Jh{constructor(e,n,r){void 0===n?n=0:n>e.length&&te(),void 0===r?r=e.length-n:r>e.length-n&&te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Jh.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Oe extends Jh{construct(e,n,r){return new Oe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new R(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const epe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends Jh{construct(e,n,r){return new Ut(e,n,r)}static isValidIdentifier(e){return epe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ut(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new R(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new R(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new R(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new R(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(n)}static emptyPath(){return new Ut([])}}class q{constructor(e){this.path=e}static fromPath(e){return new q(Oe.fromString(e))}static fromName(e){return new q(Oe.fromString(e).popFirst(5))}static empty(){return new q(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Oe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new q(new Oe(e.slice()))}}function AH(t){return new Fr(t.readTime,t.key,-1)}class Fr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fr(ie.min(),q.empty(),-1)}static max(){return new Fr(ie.max(),q.empty(),-1)}}function kS(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=q.comparator(t.documentKey,e.documentKey),0!==n?n:le(t.largestBatchId,e.largestBatchId))}const xH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rpe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function yo(t){return PS.apply(this,arguments)}function PS(){return PS=y(function*(t){if(t.code!==E.FAILED_PRECONDITION||t.message!==xH)throw t;P("LocalStore","Unexpectedly lost primary lease")}),PS.apply(this,arguments)}class D{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new D((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof D?n:D.resolve(n)}catch(n){return D.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):D.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):D.reject(n)}static resolve(e){return new D((n,r)=>{n(e)})}static reject(e){return new D((n,r)=>{r(e)})}static waitFor(e){return new D((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=D.resolve(!1);for(const r of e)n=n.next(i=>i?D.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new D((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new D((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function vo(t){return"IndexedDbTransactionError"===t.name}let Lr=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function ef(t){return null==t}function tf(t){return 0===t&&1/t==-1/0}function VH(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BH(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class ct{constructor(e,n){this.comparator=e,this.root=n||An.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,An.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,An.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $_(this.root,e,this.comparator,!1)}getReverseIterator(){return new $_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $_(this.root,e,this.comparator,!0)}}class $_{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class An{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??An.RED,this.left=i??An.EMPTY,this.right=s??An.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new An(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return An.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return An.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,An.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,An.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();const e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}}An.EMPTY=null,An.RED=!0,An.BLACK=!1,An.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(t,e,n,r,i){return this}insert(t,e,n){return new An(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class lt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new UH(this.data.getIterator())}getIteratorFrom(e){return new UH(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new lt(this.comparator);return n.data=e,n}}class UH{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class yr{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new yr([])}unionWith(e){let n=new lt(Ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new yr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class jH extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new jH("Invalid base64 string: "+i):i}}(e);return new nn(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const Tpe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wo(t){if(re(!!t),"string"==typeof t){let e=0;const n=Tpe.exec(t);if(re(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nt(t.seconds),nanos:Nt(t.nanos)}}function Nt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ps(t){return"string"==typeof t?nn.fromBase64String(t):nn.fromUint8Array(t)}function H_(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function G_(t){const e=t.mapValue.fields.__previous_value__;return H_(e)?G_(e):e}function nf(t){const e=wo(t.mapValue.fields.__local_write_time__.timestampValue);return new Dt(e.seconds,e.nanos)}class Spe{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class ka{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ka("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ka&&e.projectId===this.projectId&&e.database===this.database}}const Io={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Do(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?H_(t)?4:zH(t)?9007199254740991:10:te()}function es(t,e){if(t===e)return!0;const n=Do(t);if(n!==Do(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nf(t).isEqual(nf(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=wo(r.timestampValue),o=wo(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Ps(t.bytesValue).isEqual(Ps(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Nt(r.geoPointValue.latitude)===Nt(i.geoPointValue.latitude)&&Nt(r.geoPointValue.longitude)===Nt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Nt(r.integerValue)===Nt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Nt(r.doubleValue),o=Nt(i.doubleValue);return s===o?tf(s)===tf(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Wu(t.arrayValue.values||[],e.arrayValue.values||[],es);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(VH(s)!==VH(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!es(s[a],o[a])))return!1;return!0}(t,e);default:return te()}var i}function rf(t,e){return void 0!==(t.values||[]).find(n=>es(n,e))}function Co(t,e){if(t===e)return 0;const n=Do(t),r=Do(e);if(n!==r)return le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Nt(i.integerValue||i.doubleValue),a=Nt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return $H(t.timestampValue,e.timestampValue);case 4:return $H(nf(t),nf(e));case 5:return le(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Ps(i),a=Ps(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let c=0;c<o.length&&c<a.length;c++){const u=le(o[c],a[c]);if(0!==u)return u}return le(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=le(Nt(i.latitude),Nt(s.latitude));return 0!==o?o:le(Nt(i.longitude),Nt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let c=0;c<o.length&&c<a.length;++c){const u=Co(o[c],a[c]);if(u)return u}return le(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Io.mapValue&&s===Io.mapValue)return 0;if(i===Io.mapValue)return 1;if(s===Io.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),c=s.fields||{},u=Object.keys(c);a.sort(),u.sort();for(let l=0;l<a.length&&l<u.length;++l){const d=le(a[l],u[l]);if(0!==d)return d;const h=Co(o[a[l]],c[u[l]]);if(0!==h)return h}return le(a.length,u.length)}(t.mapValue,e.mapValue);default:throw te()}}function $H(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return le(t,e);const n=wo(t),r=wo(e),i=le(n.seconds,r.seconds);return 0!==i?i:le(n.nanos,r.nanos)}function Yu(t){return VS(t)}function VS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=wo(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ps(t.bytesValue).toBase64():"referenceValue"in t?q.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=VS(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${VS(r.fields[a])}`;return s+"}"}(t.mapValue):te();var e}function BS(t){return!!t&&"integerValue"in t}function sf(t){return!!t&&"arrayValue"in t}function HH(t){return!!t&&"nullValue"in t}function GH(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function W_(t){return!!t&&"mapValue"in t}function af(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return bo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=af(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=af(t.arrayValue.values[n]);return e}return Object.assign({},t)}function zH(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!W_(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=af(n)}setAll(e){let n=Ut.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=af(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());W_(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return es(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];W_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){bo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new xn(af(this.value))}}function KH(t){const e=[];return bo(t.fields,(n,r)=>{const i=new Ut([n]);if(W_(r)){const s=KH(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new yr(e)}class dt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new dt(e,0,ie.min(),ie.min(),ie.min(),xn.empty(),0)}static newFoundDocument(e,n,r,i){return new dt(e,1,n,ie.min(),r,i,0)}static newNoDocument(e,n){return new dt(e,2,n,ie.min(),ie.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new dt(e,3,n,ie.min(),ie.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Eo{constructor(e,n){this.position=e,this.inclusive=n}}function YH(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?q.comparator(q.fromName(o.referenceValue),n.key):Co(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function QH(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!es(t.position[n],e.position[n]))return!1;return!0}class Qu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Npe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class JH{}class Se extends JH{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Mpe(e,n,r):"array-contains"===n?new kpe(e,r):"in"===n?new rG(e,r):"not-in"===n?new Ppe(e,r):"array-contains-any"===n?new Fpe(e,r):new Se(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Ope(e,r):new Rpe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Co(n,this.value)):null!==n&&Do(this.value)===Do(n)&&this.matchesComparison(Co(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Xe extends JH{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Xe(e,n)}matches(e){return Ju(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Ju(t){return"and"===t.op}function jS(t){return function ZH(t){for(const e of t.filters)if(e instanceof Xe)return!1;return!0}(t)&&Ju(t)}function $S(t){if(t instanceof Se)return t.field.canonicalString()+t.op.toString()+Yu(t.value);if(jS(t))return t.filters.map(e=>$S(e)).join(",");{const e=t.filters.map(n=>$S(n)).join(",");return`${t.op}(${e})`}}function XH(t,e){return t instanceof Se?(n=t,(r=e)instanceof Se&&n.op===r.op&&n.field.isEqual(r.field)&&es(n.value,r.value)):t instanceof Xe?function(n,r){return r instanceof Xe&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&XH(s,r.filters[o]),!0)}(t,e):void te();var n,r}function tG(t){return t instanceof Se?function(e){return`${e.field.canonicalString()} ${e.op} ${Yu(e.value)}`}(t):t instanceof Xe?function(e){return e.op.toString()+" {"+e.getFilters().map(tG).join(" ,")+"}"}(t):"Filter"}class Mpe extends Se{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){const n=q.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ope extends Se{constructor(e,n){super(e,"in",n),this.keys=nG(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Rpe extends Se{constructor(e,n){super(e,"not-in",n),this.keys=nG(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function nG(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}class kpe extends Se{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sf(n)&&rf(n.arrayValue,this.value)}}class rG extends Se{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&rf(this.value.arrayValue,n)}}class Ppe extends Se{constructor(e,n){super(e,"not-in",n)}matches(e){if(rf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!rf(this.value.arrayValue,n)}}class Fpe extends Se{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>rf(this.value.arrayValue,r))}}class Lpe{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function HS(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Lpe(t,e,n,r,i,s,o)}function Fa(t){const e=K(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$S(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),ef(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Yu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Yu(r)).join(",")),e.dt=n}return e.dt}function cf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Npe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!XH(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!QH(t.startAt,e.startAt)&&QH(t.endAt,e.endAt)}function K_(t){return q.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Fs{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.wt=null,this._t=null}}function Zu(t){return new Fs(t)}function aG(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function La(t){const e=K(t);if(null===e.wt){e.wt=[];const n=function Q_(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function GS(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Qu(n)),e.wt.push(new Qu(Ut.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Qu(Ut.keyField(),s))}}}return e.wt}function er(t){const e=K(t);if(!e._t)if("F"===e.limitType)e._t=HS(e.path,e.collectionGroup,La(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of La(e))n.push(new Qu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Eo(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Eo(e.startAt.position,e.startAt.inclusive):null;e._t=HS(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function J_(t,e,n){return new Fs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function uf(t,e){return cf(er(t),er(e))&&t.limitType===e.limitType}function cG(t){return`${Fa(er(t))}|lt:${t.limitType}`}function WS(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>tG(r)).join(", ")}]`),ef(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Yu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Yu(r)).join(",")),`Target(${n})`}(er(t))}; limitType=${t.limitType})`}function lf(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):q.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of La(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=YH(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,La(n),r)||n.endAt&&!function(i,s,o){const a=YH(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,La(n),r)));var n,r}function lG(t){return(e,n)=>{let r=!1;for(const i of La(t)){const s=Vpe(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Vpe(t,e,n){const r=t.field.isKeyField()?q.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),c=o.data.field(i);return null!==a&&null!==c?Co(a,c):te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te()}}class Ls{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return BH(this.inner)}size(){return this.innerSize}}const Bpe=new ct(q.comparator);function vr(){return Bpe}const dG=new ct(q.comparator);function df(...t){let e=dG;for(const n of t)e=e.insert(n.key,n);return e}function hG(t){let e=dG;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ts(){return hf()}function fG(){return hf()}function hf(){return new Ls(t=>t.toString(),(t,e)=>t.isEqual(e))}const Upe=new ct(q.comparator),jpe=new lt(q.comparator);function ve(...t){let e=jpe;for(const n of t)e=e.add(n);return e}const $pe=new lt(le);function pG(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tf(e)?"-0":e}}function gG(t){return{integerValue:""+t}}function mG(t,e){return function MH(t){return"number"==typeof t&&Number.isInteger(t)&&!tf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?gG(e):pG(t,e)}class Z_{constructor(){this._=void 0}}function Hpe(t,e,n){return t instanceof Xu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&H_(i)&&(i=G_(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Va?yG(t,e):t instanceof Ba?vG(t,e):function(r,i){const s=_G(r,i),o=bG(s)+bG(r.gt);return BS(s)&&BS(r.gt)?gG(o):pG(r.serializer,o)}(t,e)}function Gpe(t,e,n){return t instanceof Va?yG(t,e):t instanceof Ba?vG(t,e):n}function _G(t,e){return t instanceof el?BS(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Xu extends Z_{}class Va extends Z_{constructor(e){super(),this.elements=e}}function yG(t,e){const n=wG(e);for(const r of t.elements)n.some(i=>es(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ba extends Z_{constructor(e){super(),this.elements=e}}function vG(t,e){let n=wG(e);for(const r of t.elements)n=n.filter(i=>!es(i,r));return{arrayValue:{values:n}}}class el extends Z_{constructor(e,n){super(),this.serializer=e,this.gt=n}}function bG(t){return Nt(t.integerValue||t.doubleValue)}function wG(t){return sf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class qpe{constructor(e,n){this.version=e,this.transformResults=n}}class gt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gt}static exists(e){return new gt(void 0,e)}static updateTime(e){return new gt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function X_(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class ey{}function IG(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new nl(t.key,gt.none()):new tl(t.key,t.data,gt.none());{const n=t.data,r=xn.empty();let i=new lt(Ut.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Vs(t.key,r,new yr(i.toArray()),gt.none())}}function Wpe(t,e,n){t instanceof tl?function(r,i,s){const o=r.value.clone(),a=EG(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Vs?function(r,i,s){if(!X_(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=EG(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(CG(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function pf(t,e,n,r){return t instanceof tl?function(i,s,o,a){if(!X_(i.precondition,s))return o;const c=i.value.clone(),u=TG(i.fieldTransforms,a,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vs?function(i,s,o,a){if(!X_(i.precondition,s))return o;const c=TG(i.fieldTransforms,a,s),u=s.data;return u.setAll(CG(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,X_(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Kpe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=_G(r.transform,i||null);null!=s&&(null===n&&(n=xn.empty()),n.set(r.field,s))}return n||null}function DG(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Wu(n,r,(i,s)=>function zpe(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Va&&r instanceof Va||n instanceof Ba&&r instanceof Ba?Wu(n.elements,r.elements,es):n instanceof el&&r instanceof el?es(n.gt,r.gt):n instanceof Xu&&r instanceof Xu);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class tl extends ey{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vs extends ey{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function CG(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function EG(t,e,n){const r=new Map;re(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Gpe(o,a,n[i]))}return r}function TG(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Hpe(s,o,e))}return r}class nl extends ey{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YS extends ey{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class QS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Wpe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=pf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=pf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fG();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=IG(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&Wu(this.mutations,e.mutations,(n,r)=>DG(n,r))&&Wu(this.baseMutations,e.baseMutations,(n,r)=>DG(n,r))}}class JS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){re(e.mutations.length===r.length);let i=Upe;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new JS(e,n,r,i)}}class ZS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Qpe{constructor(e,n){this.count=e,this.unchangedNames=n}}var Wt,Re;function AG(t){if(void 0===t)return Bt("GRPC error has no .code"),E.UNKNOWN;switch(t){case Wt.OK:return E.OK;case Wt.CANCELLED:return E.CANCELLED;case Wt.UNKNOWN:return E.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return E.INTERNAL;case Wt.UNAVAILABLE:return E.UNAVAILABLE;case Wt.UNAUTHENTICATED:return E.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case Wt.NOT_FOUND:return E.NOT_FOUND;case Wt.ALREADY_EXISTS:return E.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return E.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case Wt.ABORTED:return E.ABORTED;case Wt.OUT_OF_RANGE:return E.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return E.UNIMPLEMENTED;case Wt.DATA_LOSS:return E.DATA_LOSS;default:return te()}}(Re=Wt||(Wt={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";class XS{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ty}static getOrCreateInstance(){return null===ty&&(ty=new XS),ty}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let ty=null;const Jpe=new zu([4294967295,4294967295],0);function NG(t){const e=function xG(){return new TextEncoder}().encode(t),n=new qfe;return n.update(e),new Uint8Array(n.digest())}function MG(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new zu([n,r],0),new zu([i,s],0)]}class eA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gf(`Invalid padding: ${n}`);if(r<0)throw new gf(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new gf(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new gf(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=zu.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(zu.fromNumber(r)));return 1===i.compare(Jpe)&&(i=new zu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=NG(e),[r,i]=MG(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new eA(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=NG(e),[r,i]=MG(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class gf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,_f.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new mf(ie.min(),i,new ct(le),vr(),ve())}}class _f{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _f(r,n,ve(),ve(),ve())}}class ny{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class OG{constructor(e,n){this.targetId=e,this.Vt=n}}class RG{constructor(e,n,r=nn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class kG{constructor(){this.St=0,this.Dt=FG(),this.Ct=nn.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ve(),n=ve(),r=ve();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:te()}}),new _f(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=FG()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Zpe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=vr(),this.zt=PG(),this.Wt=new ct(le)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(K_(o))if(0===i){const a=new q(o.path);this.Yt(r,a,dt.newNoDocument(a,ie.min()))}else re(1===i);else{const a=this.ie(r);if(a!==i){const c=this.re(e,a);0!==c&&(this.ee(r),this.Wt=this.Wt.insert(r,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=XS.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(u,l,d){var h,f,p,g,m,b;const _={localCacheCount:l,existenceFilterCount:d.count},A=d.unchangedNames;return A&&(_.bloomFilter={applied:0===u,hashCount:null!==(h=A?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=A?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(b=null===(m=A?.bits)||void 0===m?void 0:m.padding)&&void 0!==b?b:0}),_}(c,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let c,u;try{c=Ps(s).toUint8Array()}catch(l){if(l instanceof jH)return Di("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{u=new eA(c,o,a)}catch(l){return Di(l instanceof gf?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===u.It?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&K_(a.target)){const c=new q(a.target.path);null!==this.jt.get(c)||this.ae(o,c)||this.Yt(o,c,dt.newNoDocument(c,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=ve();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.se(c);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new mf(e,n,this.Wt,this.jt,r);return this.jt=vr(),this.zt=PG(),this.Wt=new ct(le),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new kG,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new lt(le),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||P("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new kG),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function PG(){return new ct(q.comparator)}function FG(){return new ct(q.comparator)}const Xpe={asc:"ASCENDING",desc:"DESCENDING"},ege={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tge={and:"AND",or:"OR"};class nge{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tA(t,e){return t.useProto3Json||ef(e)?e:{value:e}}function rl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LG(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rge(t,e){return rl(t,e.toTimestamp())}function jt(t){return re(!!t),ie.fromTimestamp(function(e){const n=wo(e);return new Dt(n.seconds,n.nanos)}(t))}function nA(t,e){return(n=t,new Oe(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function VG(t){const e=Oe.fromString(t);return re(WG(e)),e}function yf(t,e){return nA(t.databaseId,e.path)}function ns(t,e){const n=VG(e);if(n.get(1)!==t.databaseId.projectId)throw new R(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new R(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(UG(n))}function rA(t,e){return nA(t.databaseId,e)}function vf(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UG(t){return re(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function jG(t,e,n){return{name:yf(t,e),fields:n.value.mapValue.fields}}function HG(t,e){return{documents:[rA(t,e.path)]}}function sA(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=rA(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=rA(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return qG(Xe.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(u=>{return{field:To((l=u).field),direction:cge(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=tA(t,e.limit);var a,c;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),n}function GG(t){let e=function BG(t){const e=VG(t);return 4===e.length?Oe.emptyPath():UG(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){re(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=zG(l);return d instanceof Xe&&jS(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Qu(il((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,ef(d)?null:d}(n.limit));let c=null;var l;n.startAt&&(c=new Eo((l=n.startAt).values||[],!!l.before));let u=null;return n.endAt&&(u=function(l){return new Eo(l.values||[],!l.before)}(n.endAt)),function oG(t,e,n,r,i,s,o,a){return new Fs(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",c,u)}function zG(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=il(e.unaryFilter.field);return Se.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=il(e.unaryFilter.field);return Se.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=il(e.unaryFilter.field);return Se.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=il(e.unaryFilter.field);return Se.create(s,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(t):void 0!==t.fieldFilter?function(e){return Se.create(il(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return Xe.create(e.compositeFilter.filters.map(n=>zG(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return te()}}(e.compositeFilter.op))}(t):te()}function cge(t){return Xpe[t]}function uge(t){return ege[t]}function lge(t){return tge[t]}function To(t){return{fieldPath:t.canonicalString()}}function il(t){return Ut.fromServerFormat(t.fieldPath)}function qG(t){return t instanceof Se?function(e){if("=="===e.op){if(GH(e.value))return{unaryFilter:{field:To(e.field),op:"IS_NAN"}};if(HH(e.value))return{unaryFilter:{field:To(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(GH(e.value))return{unaryFilter:{field:To(e.field),op:"IS_NOT_NAN"}};if(HH(e.value))return{unaryFilter:{field:To(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(e.field),op:uge(e.op),value:e.value}}}(t):t instanceof Xe?function(e){const n=e.getFilters().map(r=>qG(r));return 1===n.length?n[0]:{compositeFilter:{op:lge(e.op),filters:n}}}(t):te()}function dge(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WG(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Bs{constructor(e,n,r,i,s=ie.min(),o=ie.min(),a=nn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class KG{constructor(e){this.fe=e}}function oA(t){const e=GG({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?J_(e,e.limit,"L"):e}class Ha{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Nt(e.integerValue));else if("doubleValue"in e){const r=Nt(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),tf(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Ps(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?zH(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):te()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),q.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Ha.Ve=new Ha;class bge{constructor(){this.rn=new hA}addToCollectionParentIndex(e,n){return this.rn.add(n),D.resolve()}getCollectionParents(e,n){return D.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return D.resolve()}deleteFieldIndex(e,n){return D.resolve()}getDocumentsMatchingTarget(e,n){return D.resolve(null)}getIndexType(e,n){return D.resolve(0)}getFieldIndexes(e,n){return D.resolve([])}getNextCollectionGroupToUpdate(e){return D.resolve(null)}getMinOffset(e,n){return D.resolve(Fr.min())}getMinOffsetFromCollectionGroup(e,n){return D.resolve(Fr.min())}updateCollectionGroup(e,n,r){return D.resolve()}updateIndexEntries(e,n){return D.resolve()}}class hA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new lt(Oe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(Oe.comparator)).toArray()}}new Uint8Array(0);class jn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new jn(e,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(41943040,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);class za{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new za(0)}static Mn(){return new za(-1)}}class Tge{constructor(){this.changes=new Ls(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?D.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xge{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class b3{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&pf(r.mutation,i,yr.empty(),Dt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){const i=ts();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=df();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ts();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=vr();const o=hf(),a=hf();return n.forEach((c,u)=>{const l=r.get(u.key);i.has(u.key)&&(void 0===l||l.mutation instanceof Vs)?s=s.insert(u.key,u):void 0!==l?(o.set(u.key,l.mutation.getFieldMask()),pf(l.mutation,u,l.mutation.getFieldMask(),Dt.now())):o.set(u.key,yr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new xge(l,null!==(d=o.get(u))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=hf();let i=new ct((o,a)=>o-a),s=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(null===u)return;let l=r.get(c)||yr.empty();l=a.applyToLocalView(u,l),r.set(c,l);const d=(i.get(a.batchId)||ve()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,l=c.value,d=fG();l.forEach(h=>{if(!s.has(h)){const f=IG(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return D.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return q.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function zS(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):D.resolve(ts());let a=-1,c=s;return o.next(u=>D.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?D.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,ve())).next(l=>({batchId:a,changes:hG(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=df();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=df();return this.indexManager.getCollectionParents(e,i).next(o=>D.forEach(o,a=>{const c=(u=n,l=a.child(i),new Fs(l,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt));var u,l;return this.getDocumentsMatchingCollectionQuery(e,c,r).next(u=>{u.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,c)=>{const u=c.getKey();null===s.get(u)&&(s=s.insert(u,dt.newInvalidDocument(u)))});let o=df();return s.forEach((a,c)=>{const u=i.get(a);void 0!==u&&pf(u.mutation,c,yr.empty(),Dt.now()),lf(n,c)&&(o=o.insert(a,c))}),o})}}class Nge{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return D.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:jt(r.createTime)}),D.resolve()}getNamedQuery(e,n){return D.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:oA(r.bundledQuery),readTime:jt(r.readTime)}),D.resolve();var r}}class Mge{constructor(){this.overlays=new ct(q.comparator),this.ls=new Map}getOverlay(e,n){return D.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ts();return D.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),D.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),D.resolve()}getOverlaysForCollection(e,n,r){const i=ts(),s=n.length+1,o=new q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return D.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ct((u,l)=>u-l);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);null===l&&(l=ts(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}const a=ts(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return D.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ZS(n,r));let s=this.ls.get(n);void 0===s&&(s=ve(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class fA{constructor(){this.fs=new lt(_n.ds),this.ws=new lt(_n._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new _n(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new _n(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new q(new Oe([])),r=new _n(n,e),i=new _n(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new q(new Oe([])),r=new _n(n,e),i=new _n(n,e+1);let s=ve();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new _n(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class _n{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return q.comparator(e.key,n.key)||le(e.As,n.As)}static _s(e,n){return le(e.As,n.As)||q.comparator(e.key,n.key)}}class Oge{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new lt(_n.ds)}checkEmpty(e){return D.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new QS(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new _n(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return D.resolve(o)}lookupMutationBatch(e,n){return D.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return D.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return D.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return D.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _n(n,0),i=new _n(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),D.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lt(le);return n.forEach(i=>{const s=new _n(i,0),o=new _n(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),D.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;q.isDocumentKey(s)||(s=s.child(""));const o=new _n(new q(s),0);let a=new lt(le);return this.Rs.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.As)),!0)},o),D.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){re(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return D.forEach(n.mutations,i=>{const s=new _n(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new _n(n,0),i=this.Rs.firstAfterOrEqual(r);return D.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return D.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Rge{constructor(e){this.Ds=e,this.docs=new ct(q.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return D.resolve(r?r.document.mutableCopy():dt.newInvalidDocument(n))}getEntries(e,n){let r=vr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():dt.newInvalidDocument(i))}),D.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=vr();const o=n.path,a=new q(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||kS(AH(l),r)<=0||(i.has(l.key)||lf(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return D.resolve(s)}getAllFromCollectionGroup(e,n,r,i){te()}Cs(e,n){return D.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new kge(this)}getSize(e){return D.resolve(this.size)}}class kge extends Tge{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),D.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Pge{constructor(e){this.persistence=e,this.xs=new Ls(n=>Fa(n),cf),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.Ns=0,this.ks=new fA,this.targetCount=0,this.Ms=za.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),D.resolve()}getLastRemoteSnapshotVersion(e){return D.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return D.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),D.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),D.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new za(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,D.resolve()}updateTargetData(e,n){return this.Fn(n),D.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,D.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),D.waitFor(s).next(()=>i)}getTargetCount(e){return D.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return D.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),D.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),D.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),D.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return D.resolve(r)}containsKey(e,n){return D.resolve(this.ks.containsKey(n))}}class pA{constructor(e,n){this.$s={},this.overlays={},this.Os=new Lr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Pge(this),this.indexManager=new bge,this.remoteDocumentCache=new Rge(r=>this.referenceDelegate.Ls(r)),this.serializer=new KG(n),this.qs=new Nge(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Mge,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new Oge(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){P("MemoryPersistence","Starting transaction:",e);const i=new Fge(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return D.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class Fge extends rpe{constructor(e){super(),this.currentSequenceNumber=e}}class dy{constructor(e){this.persistence=e,this.Qs=new fA,this.js=null}static zs(e){return new dy(e)}get Ws(){if(this.js)return this.js;throw te()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),D.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),D.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),D.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return D.forEach(this.Ws,r=>{const i=q.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,ie.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return D.or([()=>D.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class yA{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=ve(),i=ve();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new yA(e,n.fromCache,r,i)}}class I3{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(aG(n))return D.resolve(null);let r=er(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=J_(n,null,"F"),r=er(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ve(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ji(n,a);return this.zi(n,u,o,c.readTime)?this.Ki(e,J_(n,null,"F")):this.Wi(e,u,n,c)}))})))}Gi(e,n,r,i){return aG(n)||i.isEqual(ie.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(MS()<=Pe.DEBUG&&P("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),WS(n)),this.Wi(e,o,n,function SH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(1e9===r?new Dt(n+1,0):new Dt(n,r));return new Fr(i,q.empty(),e)}(i,-1)))})}ji(e,n){let r=new lt(lG(e));return n.forEach((i,s)=>{lf(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return MS()<=Pe.DEBUG&&P("QueryEngine","Using full collection scan to execute query:",WS(n)),this.Ui.getDocumentsMatchingQuery(e,n,Fr.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Vge{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new ct(le),this.Yi=new Ls(s=>Fa(s),cf),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new b3(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function C3(t,e){return vA.apply(this,arguments)}function vA(){return vA=y(function*(t,e){const n=K(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=ve();for(const u of i){o.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}for(const u of s){a.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}),vA.apply(this,arguments)}function E3(t){const e=K(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function jge(t,e){const n=K(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function cl(t,e,n){return bA.apply(this,arguments)}function bA(){return bA=y(function*(t,e,n){const r=K(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!vo(o))throw o;P("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),bA.apply(this,arguments)}function py(t,e,n){const r=K(t);let i=ie.min(),s=ve();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,c,u){const l=K(a),d=l.Yi.get(u);return void 0!==d?D.resolve(l.Ji.get(d)):l.Bs.getTargetData(c,u)}(r,o,er(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:ie.min(),n?s:ve())).next(a=>(function x3(t,e,n){let r=t.Xi.get(e)||ie.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function uG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class EA{constructor(){this.activeTargetIds=function KS(){return $pe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class O3{constructor(){this.Hr=new EA,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new EA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Gge{Yr(e){}shutdown(){}}class R3{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){P("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){P("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let _y=null;function SA(){return null===_y?_y=268435456+Math.round(2147483648*Math.random()):_y++,"0x"+_y.toString(16)}const zge={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qge{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const $n="WebChannelConnection";class Wge extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=SA(),a=this.To(e,n);P("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const c={};return this.Eo(c,i,s),this.Ao(e,a,c,r).then(u=>(P("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw Di("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+qu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${zge[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=SA();return new Promise((o,a)=>{const c=new zfe;c.setWithCredentials(!0),c.listenOnce($fe.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case NS.NO_ERROR:const l=c.getResponseJson();P($n,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case NS.TIMEOUT:P($n,`RPC '${e}' ${s} timed out`),a(new R(E.DEADLINE_EXCEEDED,"Request time out"));break;case NS.HTTP_ERROR:const d=c.getStatus();if(P($n,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(m)>=0?m:E.UNKNOWN}(f.status);a(new R(p,f.message))}else a(new R(E.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new R(E.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{P($n,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);P($n,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=SA(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Ufe(),a=jfe(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new Gfe({})),this.Eo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const l=s.join("");P($n,`Creating RPC '${e}' stream ${i}: ${l}`,c);const d=o.createWebChannel(l,c);let h=!1,f=!1;const p=new qge({ro:m=>{f?P($n,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(P($n,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),P($n,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},oo:()=>d.close()}),g=(m,b,_)=>{m.listen(b,A=>{try{_(A)}catch(N){setTimeout(()=>{throw N},0)}})};return g(d,L_.EventType.OPEN,()=>{f||P($n,`RPC '${e}' stream ${i} transport opened.`)}),g(d,L_.EventType.CLOSE,()=>{f||(f=!0,P($n,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,L_.EventType.ERROR,m=>{f||(f=!0,Di($n,`RPC '${e}' stream ${i} transport errored:`,m),p.wo(new R(E.UNAVAILABLE,"The operation could not be completed")))}),g(d,L_.EventType.MESSAGE,m=>{var b;if(!f){const _=m.data[0];re(!!_);const N=_.error||(null===(b=_[0])||void 0===b?void 0:b.error);if(N){P($n,`RPC '${e}' stream ${i} received error:`,N);const F=N.status;let Y=function(me){const et=Wt[me];if(void 0!==et)return AG(et)}(F),se=N.message;void 0===Y&&(Y=E.INTERNAL,se="Unknown error status: "+F+" with message "+N.message),f=!0,p.wo(new R(Y,se)),d.close()}else P($n,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),g(a,Hfe.STAT_EVENT,m=>{m.stat===wH.PROXY?P($n,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===wH.NOPROXY&&P($n,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function yy(){return typeof document<"u"?document:null}function xf(t){return new nge(t,!0)}class AA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&P("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class P3{constructor(e,n,r,i,s,o,a,c){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new AA(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return y(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return y(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return y(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===E.RESOURCE_EXHAUSTED?(Bt(n.toString()),Bt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===E.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new R(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(y(function*(){e.state=0,e.start()}))}tu(e){return P("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(P("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Kge extends P3{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function sge(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:te(),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(re(void 0===u||"string"==typeof u),nn.fromBase64String(u||"")):(re(void 0===u||u instanceof Uint8Array),nn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=void 0===c.code?E.UNKNOWN:AG(c.code);return new R(u,c.message||"")}(o);n=new RG(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ns(t,r.document.name),s=jt(r.document.updateTime),o=r.document.createTime?jt(r.document.createTime):ie.min(),a=new xn({mapValue:{fields:r.document.fields}}),c=dt.newFoundDocument(i,s,o,a);n=new ny(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=ns(t,r.document),s=r.readTime?jt(r.readTime):ie.min(),o=dt.newNoDocument(i,s);n=new ny([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=ns(t,r.document);n=new ny([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return te();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Qpe(i,s);n=new OG(r.targetId,o)}}var c;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return ie.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ie.min():s.readTime?jt(s.readTime):ie.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=vf(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=K_(a)?{documents:HG(i,a)}:{query:sA(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=LG(i,s.resumeToken);const c=tA(i,s.expectedCount);null!==c&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(ie.min())>0){o.readTime=rl(i,s.snapshotVersion.toTimestamp());const c=tA(i,s.expectedCount);null!==c&&(o.expectedCount=c)}return o}(this.serializer,e);const r=function age(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=vf(this.serializer),n.removeTarget=e,this.Wo(n)}}class Yge extends P3{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function oge(t,e){return t&&t.length>0?(re(void 0!==e),t.map(n=>function(r,i){let s=jt(r.updateTime?r.updateTime:i);return s.isEqual(ie.min())&&(s=jt(i)),new qpe(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=jt(e.commitTime);return this.listener.cu(r,n)}return re(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=vf(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function bf(t,e){let n;if(e instanceof tl)n={update:jG(t,e.key,e.value)};else if(e instanceof nl)n={delete:yf(t,e.key)};else if(e instanceof Vs)n={update:jG(t,e.key,e.data),updateMask:dge(e.fieldMask)};else{if(!(e instanceof YS))return te();n={verify:yf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Xu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Va)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ba)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof el)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw te()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:rge(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:te()),n;var i}(this.serializer,r))};this.Wo(n)}}class Qge extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new R(E.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new R(E.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new R(E.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Zge{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Bt(n),this.mu=!1):P("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Xge{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(y(function*(){var c;No(o)&&(P("RemoteStore","Restarting streams for network reachability change."),yield(c=y(function*(u){const l=K(u);l.vu.add(4),yield ul(l),l.bu.set("Unknown"),l.vu.delete(4),yield Nf(l)}),function(u){return c.apply(this,arguments)})(o))}))}),this.bu=new Zge(r,i)}}function Nf(t){return NA.apply(this,arguments)}function NA(){return NA=y(function*(t){if(No(t))for(const e of t.Ru)yield e(!0)}),NA.apply(this,arguments)}function ul(t){return MA.apply(this,arguments)}function MA(){return MA=y(function*(t){for(const e of t.Ru)yield e(!1)}),MA.apply(this,arguments)}function vy(t,e){const n=K(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),kA(n)?RA(n):dl(n).Ko()&&OA(n,e))}function Mf(t,e){const n=K(t),r=dl(n);n.Au.delete(e),r.Ko()&&F3(n,e),0===n.Au.size&&(r.Ko()?r.jo():No(n)&&n.bu.set("Unknown"))}function OA(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}dl(t).su(e)}function F3(t,e){t.Vu.qt(e),dl(t).iu(e)}function RA(t){t.Vu=new Zpe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),dl(t).start(),t.bu.gu()}function kA(t){return No(t)&&!dl(t).Uo()&&t.Au.size>0}function No(t){return 0===K(t).vu.size}function L3(t){t.Vu=void 0}function eme(t){return PA.apply(this,arguments)}function PA(){return PA=y(function*(t){t.Au.forEach((e,n)=>{OA(t,e)})}),PA.apply(this,arguments)}function tme(t,e){return FA.apply(this,arguments)}function FA(){return FA=y(function*(t,e){L3(t),kA(t)?(t.bu.Iu(e),RA(t)):t.bu.set("Unknown")}),FA.apply(this,arguments)}function nme(t,e,n){return LA.apply(this,arguments)}function LA(){return LA=y(function*(t,e,n){if(t.bu.set("Online"),e instanceof RG&&2===e.state&&e.cause)try{yield(r=y(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){P("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield by(t,r)}else if(e instanceof ny?t.Vu.Ht(e):e instanceof OG?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ie.min()))try{const r=yield E3(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(c);u&&i.Au.set(c,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,c)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(nn.EMPTY_BYTE_STRING,u.snapshotVersion)),F3(i,a);const l=new Bs(u.target,a,c,u.sequenceNumber);OA(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){P("RemoteStore","Failed to raise snapshot:",r),yield by(t,r)}var r}),LA.apply(this,arguments)}function by(t,e,n){return VA.apply(this,arguments)}function VA(){return VA=y(function*(t,e,n){if(!vo(e))throw e;t.vu.add(1),yield ul(t),t.bu.set("Offline"),n||(n=()=>E3(t.localStore)),t.asyncQueue.enqueueRetryable(y(function*(){P("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Nf(t)}))}),VA.apply(this,arguments)}function V3(t,e){return e().catch(n=>by(t,n,e))}function ll(t){return BA.apply(this,arguments)}function BA(){return BA=y(function*(t){const e=K(t),n=Mo(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;rme(e);)try{const i=yield jge(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,ime(e,i)}catch(i){yield by(e,i)}B3(e)&&U3(e)}),BA.apply(this,arguments)}function rme(t){return No(t)&&t.Eu.length<10}function ime(t,e){t.Eu.push(e);const n=Mo(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function B3(t){return No(t)&&!Mo(t).Uo()&&t.Eu.length>0}function U3(t){Mo(t).start()}function sme(t){return UA.apply(this,arguments)}function UA(){return UA=y(function*(t){Mo(t).hu()}),UA.apply(this,arguments)}function ome(t){return jA.apply(this,arguments)}function jA(){return jA=y(function*(t){const e=Mo(t);for(const n of t.Eu)e.uu(n.mutations)}),jA.apply(this,arguments)}function ame(t,e,n){return $A.apply(this,arguments)}function $A(){return $A=y(function*(t,e,n){const r=t.Eu.shift(),i=JS.from(r,e,n);yield V3(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield ll(t)}),$A.apply(this,arguments)}function cme(t,e){return HA.apply(this,arguments)}function HA(){return HA=y(function*(t,e){var n;e&&Mo(t).ou&&(yield(n=y(function*(r,i){if(function SG(t){switch(t){default:return te();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}(s=i.code)&&s!==E.ABORTED){const o=r.Eu.shift();Mo(r).Qo(),yield V3(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield ll(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),B3(t)&&U3(t)}),HA.apply(this,arguments)}function j3(t,e){return GA.apply(this,arguments)}function GA(){return GA=y(function*(t,e){const n=K(t);n.asyncQueue.verifyOperationInProgress(),P("RemoteStore","RemoteStore received new credentials");const r=No(n);n.vu.add(3),yield ul(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Nf(n)}),GA.apply(this,arguments)}function qA(){return qA=y(function*(t,e){const n=K(t);e?(n.vu.delete(2),yield Nf(n)):e||(n.vu.add(2),yield ul(n),n.bu.set("Unknown"))}),qA.apply(this,arguments)}function dl(t){return t.Su||(t.Su=function(e,n,r){const i=K(e);return i.fu(),new Kge(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:eme.bind(null,t),ao:tme.bind(null,t),nu:nme.bind(null,t)}),t.Ru.push(function(){var e=y(function*(n){n?(t.Su.Qo(),kA(t)?RA(t):t.bu.set("Unknown")):(yield t.Su.stop(),L3(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Mo(t){return t.Du||(t.Du=function(e,n,r){const i=K(e);return i.fu(),new Yge(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:sme.bind(null,t),ao:cme.bind(null,t),au:ome.bind(null,t),cu:ame.bind(null,t)}),t.Ru.push(function(){var e=y(function*(n){n?(t.Du.Qo(),yield ll(t)):(yield t.Du.stop(),t.Eu.length>0&&(P("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class WA{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new tn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new WA(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new R(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hl(t,e){if(Bt("AsyncQueue",`${e}: ${t}`),vo(t))return new R(E.UNAVAILABLE,`${e}: ${t}`);throw t}class fl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=df(),this.sortedSet=new ct(this.comparator)}static emptySet(e){return new fl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new fl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class $3{constructor(){this.Cu=new ct(q.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):te():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class pl{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new pl(e,n,fl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class ume{constructor(){this.Nu=void 0,this.listeners=[]}}class lme{constructor(){this.queries=new Ls(e=>cG(e),uf),this.onlineState="Unknown",this.ku=new Set}}function KA(t,e){return YA.apply(this,arguments)}function YA(){return YA=y(function*(t,e){const n=K(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new ume),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=hl(o,`Initialization of query '${WS(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&ZA(n)}),YA.apply(this,arguments)}function QA(t,e){return JA.apply(this,arguments)}function JA(){return JA=y(function*(t,e){const n=K(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),JA.apply(this,arguments)}function dme(t,e){const n=K(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&ZA(n)}function hme(t,e,n){const r=K(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function ZA(t){t.ku.forEach(e=>{e.next()})}class XA{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new pl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class z3{constructor(e){this.key=e}}class q3{constructor(e){this.key=e}}class W3{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ve(),this.mutatedKeys=ve(),this.tc=lG(e),this.ec=new fl(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new $3,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=lf(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.rc(h,f)||(r.track({type:2,doc:f}),m=!0,(c&&this.tc(f,c)>0||u&&this.tc(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(c||u)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((u,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return f(d)-f(h)}(u.type,l.type)||this.tc(u.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,0!==s.length||c?{snapshot:new pl(this.query,e.ec,i,s,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new $3,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ve(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new q3(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new z3(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ve();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return pl.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class gme{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class mme{constructor(e){this.key=e,this.fc=!1}}class _me{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Ls(a=>cG(a),uf),this._c=new Map,this.mc=new Set,this.gc=new ct(q.comparator),this.yc=new Map,this.Ic=new fA,this.Tc={},this.Ec=new Map,this.Ac=za.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function yme(t,e){return ex.apply(this,arguments)}function ex(){return ex=y(function*(t,e){const n=function Dx(t){const e=K(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=K3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sme.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wme.bind(null,e),e.dc.nu=dme.bind(null,e.eventManager),e.dc.Pc=hme.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function al(t,e){const n=K(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,D.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Bs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,er(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function tx(t,e,n,r,i){return nx.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&vy(n.remoteStore,o)}return i}),ex.apply(this,arguments)}function nx(){return nx=y(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=y(function*(g,m,b,_){let A=m.view.sc(b);A.zi&&(A=yield py(g.localStore,m.query,!1).then(({documents:Y})=>m.view.sc(Y,A)));const N=_&&_.targetChanges.get(m.targetId),F=m.view.applyChanges(A,g.isPrimaryClient,N);return hx(g,m.targetId,F.cc),F.snapshot}),function(g,m,b,_){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield py(t.localStore,e,!0),o=new W3(e,s.ir),a=o.sc(s.documents),c=_f.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),u=o.applyChanges(a,t.isPrimaryClient,c);hx(t,n,u.cc);const l=new gme(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}),nx.apply(this,arguments)}function vme(t,e){return rx.apply(this,arguments)}function rx(){return rx=y(function*(t,e){const n=K(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!uf(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield cl(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Mf(n.remoteStore,r.targetId),gl(n,r.targetId)}).catch(yo))):(gl(n,r.targetId),yield cl(n.localStore,r.targetId,!0))}),rx.apply(this,arguments)}function ix(){return ix=y(function*(t,e,n){const r=function Cx(t){const e=K(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ime.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dme.bind(null,e),e}(t);try{const i=yield function(s,o){const a=K(s),c=Dt.now(),u=o.reduce((h,f)=>h.add(f.key),ve());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=vr(),p=ve();return a.Zi.getEntries(h,u).next(g=>{f=g,f.forEach((m,b)=>{b.isValidDocument()||(p=p.add(m))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{l=g;const m=[];for(const b of o){const _=Kpe(b,l.get(b.key).overlayedDocument);null!=_&&m.push(new Vs(b.key,_,KH(_.value.mapValue),gt.exists(!0)))}return a.mutationQueue.addMutationBatch(h,c,m,o)}).next(g=>{d=g;const m=g.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,m)})}).then(()=>({batchId:d.batchId,changes:hG(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let c=s.Tc[s.currentUser.toKey()];c||(c=new ct(le)),c=c.insert(o,a),s.Tc[s.currentUser.toKey()]=c}(r,i.batchId,n),yield Us(r,i.changes),yield ll(r.remoteStore)}catch(i){const s=hl(i,"Failed to persist write");n.reject(s)}}),ix.apply(this,arguments)}function K3(t,e){return sx.apply(this,arguments)}function sx(){return sx=y(function*(t,e){const n=K(t);try{const r=yield function Uge(t,e){const n=K(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;null!==e.targetMismatches.get(d)?f=f.withResumeToken(nn.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,m=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let c=vr(),u=ve();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function T3(t,e,n){let r=ve(),i=ve();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=vr();return n.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ie.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||0===c.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):P("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{c=l.nr,u=l.sr})),!r.isEqual(ie.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return D.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?re(o.fc):i.removedDocuments.size>0&&(re(o.fc),o.fc=!1))}),yield Us(n,r,e)}catch(r){yield yo(r)}}),sx.apply(this,arguments)}function Y3(t,e,n){const r=K(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=K(s);a.onlineState=o;let c=!1;a.queries.forEach((u,l)=>{for(const d of l.listeners)d.Mu(o)&&(c=!0)}),c&&ZA(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function wme(t,e,n){return ox.apply(this,arguments)}function ox(){return ox=y(function*(t,e,n){const r=K(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new ct(q.comparator);o=o.insert(s,dt.newNoDocument(s,ie.min()));const a=ve().add(s),c=new mf(ie.min(),new Map,new ct(le),o,a);yield K3(r,c),r.gc=r.gc.remove(s),r.yc.delete(e),fx(r)}else yield cl(r.localStore,e,!1).then(()=>gl(r,e,n)).catch(yo)}),ox.apply(this,arguments)}function Ime(t,e){return ax.apply(this,arguments)}function ax(){return ax=y(function*(t,e){const n=K(t),r=e.batch.batchId;try{const i=yield function Bge(t,e){const n=K(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,c,u){const l=c.batch,d=l.keys();let h=D.resolve();return d.forEach(f=>{h=h.next(()=>u.getEntry(a,f)).next(p=>{const g=c.docVersions.get(f);re(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,c),p.isValidDocument()&&(p.setReadTime(c.commitVersion),u.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ve();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(a=a.add(o.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);dx(n,r,null),lx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Us(n,i)}catch(i){yield yo(i)}}),ax.apply(this,arguments)}function Dme(t,e,n){return cx.apply(this,arguments)}function cx(){return cx=y(function*(t,e,n){const r=K(t);try{const i=yield function(s,o){const a=K(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return a.mutationQueue.lookupMutationBatch(c,o).next(l=>(re(null!==l),u=l.keys(),a.mutationQueue.removeMutationBatch(c,l))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>a.localDocuments.getDocuments(c,u))})}(r.localStore,e);dx(r,e,n),lx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Us(r,i)}catch(i){yield yo(i)}}),cx.apply(this,arguments)}function lx(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function dx(t,e,n){const r=K(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function gl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||Q3(t,r)})}function Q3(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Mf(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),fx(t))}function hx(t,e,n){for(const r of n)r instanceof z3?(t.Ic.addReference(r.key,e),Eme(t,r)):r instanceof q3?(P("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||Q3(t,r.key)):te()}function Eme(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(P("SyncEngine","New document in limbo: "+n),t.mc.add(r),fx(t))}function fx(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new q(Oe.fromString(e)),r=t.Ac.next();t.yc.set(r,new mme(n)),t.gc=t.gc.insert(n,r),vy(t.remoteStore,new Bs(er(Zu(n.path)),r,"TargetPurposeLimboResolution",Lr.ct))}}function Us(t,e,n){return px.apply(this,arguments)}function px(){return px=y(function*(t,e,n){const r=K(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,c)=>{o.push(r.Rc(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);const l=yA.Li(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=y(function*(c,u){const l=K(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>D.forEach(u,h=>D.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>D.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!vo(d))throw d;P("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,g)}}}),function(c,u){return a.apply(this,arguments)})(r.localStore,s))}),px.apply(this,arguments)}function Tme(t,e){return gx.apply(this,arguments)}function gx(){return gx=y(function*(t,e){const n=K(t);if(!n.currentUser.isEqual(e)){P("SyncEngine","User change. New user:",e.toKey());const r=yield C3(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new R(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Us(n,r.er)}var i}),gx.apply(this,arguments)}function Sme(t,e){const n=K(t),r=n.yc.get(e);if(r&&r.fc)return ve().add(r.key);{let i=ve();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class wy{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return y(function*(){n.serializer=xf(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function D3(t,e,n,r){return new Vge(t,e,n,r)}(this.persistence,new I3,e.initialUser,this.serializer)}createPersistence(e){return new pA(dy.zs,this.serializer)}createSharedClientState(e){return new O3}terminate(){var e=this;return y(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ml{initialize(e,n){var r=this;return y(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Y3(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Tme.bind(null,r.syncEngine),yield function zA(t,e){return qA.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new lme}createDatastore(e){const n=xf(e.databaseInfo.databaseId),r=new Wge(e.databaseInfo);return new Qge(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>Y3(this.syncEngine,a,0),o=R3.D()?new R3:new Gge,new Xge(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,c,u){const l=new _me(r,i,s,o,a,c);return u&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=y(function*(n){const r=K(n);P("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield ul(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class Iy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Bt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Ume{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gn.UNAUTHENTICATED,this.clientId=EH.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=y(function*(a){P("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(P("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return y(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new R(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new tn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(y(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=hl(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Dy(t,e){return Ex.apply(this,arguments)}function Ex(){return Ex=y(function*(t,e){t.asyncQueue.verifyOperationInProgress(),P("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=y(function*(s){r.isEqual(s)||(yield C3(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),Ex.apply(this,arguments)}function Tx(t,e){return Sx.apply(this,arguments)}function Sx(){return Sx=y(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function Ax(t){return xx.apply(this,arguments)}(t);P("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>j3(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>j3(e.remoteStore,s)),t._onlineComponents=e}),Sx.apply(this,arguments)}function xx(){return xx=y(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){P("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Dy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function n4(t){return"FirebaseError"===t.name?t.code===E.FAILED_PRECONDITION||t.code===E.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Di("Error using user provided cache. Falling back to memory cache: "+n),yield Dy(t,new wy)}}else P("FirestoreClient","Using default OfflineComponentProvider"),yield Dy(t,new wy);return t._offlineComponents}),xx.apply(this,arguments)}function Cy(t){return Nx.apply(this,arguments)}function Nx(){return Nx=y(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(P("FirestoreClient","Using user provided OnlineComponentProvider"),yield Tx(t,t._uninitializedComponentsProvider._online)):(P("FirestoreClient","Using default OnlineComponentProvider"),yield Tx(t,new ml))),t._onlineComponents}),Nx.apply(this,arguments)}function _l(t){return Ox.apply(this,arguments)}function Ox(){return Ox=y(function*(t){const e=yield Cy(t),n=e.eventManager;return n.onListen=yme.bind(null,e.syncEngine),n.onUnlisten=vme.bind(null,e.syncEngine),n}),Ox.apply(this,arguments)}function c4(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const u4=new Map;function Rx(t,e,n){if(!n)throw new R(E.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function l4(t){if(!q.isDocumentKey(t))throw new R(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function d4(t){if(q.isDocumentKey(t))throw new R(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ty(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":te()}function Ae(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new R(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ty(t);throw new R(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class f4{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new R(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new R(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Yme(t,e,n,r){if(!0===e&&!0===r)throw new R(E.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=c4(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new R(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new R(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new R(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Of{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f4({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new R(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new R(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f4(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Wfe;switch(n.type){case"firstParty":return new Jfe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new R(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=u4.get(e);n&&(P("ComponentProvider","Removing Datastore"),u4.delete(e),n.terminate())}(this),Promise.resolve()}}class $t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $t(this.firestore,e,this._key)}}class Nn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Nn(this.firestore,e,this._query)}}class rs extends Nn{constructor(e,n,r){super(e,n,Zu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new q(e))}withConverter(e){return new rs(this.firestore,e,this._path)}}function Jme(t,e,...n){if(t=bi(t),Rx("collection","path",e),t instanceof Of){const r=Oe.fromString(e,...n);return d4(r),new rs(t,null,r)}{if(!(t instanceof $t||t instanceof rs))throw new R(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return d4(r),new rs(t.firestore,null,r)}}function p4(t,e,...n){if(t=bi(t),1===arguments.length&&(e=EH.A()),Rx("doc","path",e),t instanceof Of){const r=Oe.fromString(e,...n);return l4(r),new $t(t,null,new q(r))}{if(!(t instanceof $t||t instanceof rs))throw new R(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return l4(r),new $t(t.firestore,t instanceof rs?t.converter:null,new q(r))}}class Zme{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new AA(this,"async_queue_retry"),this.Xc=()=>{const n=yy();n&&P("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=yy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=yy();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new tn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return y(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!vo(n))throw n;P("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Bt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=WA.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&te()}verifyOperationInProgress(){}sa(){var e=this;return y(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class ht extends Of{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Zme,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||m4(this),this._firestoreClient.terminate()}}function e_e(t,e){const r="string"==typeof t?t:e||"(default)",i=km("object"==typeof t?t:yB(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=xm())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function Qme(t,e,n,r={}){var i;const s=(t=Ae(t,Of))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Di("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=gn.MOCK_USER;else{a=function jie(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Sm(JSON.stringify({alg:"none",type:"JWT"})),Sm(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new R(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new gn(u)}t._authCredentials=new Kfe(new DH(a,c))}}(i,...s)}return i}function Kt(t){return t._firestoreClient||m4(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function m4(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Spe(t._databaseId,a,t._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,c4(u.experimentalLongPollingOptions),u.useFetchStreams));var a,u;t._firestoreClient=new Ume(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Wa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wa(nn.fromBase64String(e))}catch(n){throw new R(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wa(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class yl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new R(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class v4{constructor(e){this._methodName=e}}class Px{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new R(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new R(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}}const n_e=/^__.*__$/;class r_e{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new tl(e,this.data,n,this.fieldTransforms)}}function w4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}class Sy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Sy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return xy(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(w4(this.ca)&&n_e.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class i_e{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xf(e)}ya(e,n,r,i=!1){return new Sy({ca:e,methodName:n,ga:r,path:Ut.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vl(t){const e=t._freezeSettings(),n=xf(t._databaseId);return new i_e(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Fx(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);Vx("Data must be an object, but it was:",o,r);const a=T4(r,o);let c,u;if(s.merge)c=new yr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Pf(e,d,n);if(!o.contains(h))throw new R(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);A4(l,h)||l.push(h)}c=new yr(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new r_e(new xn(a),c,u)}function Ka(t,e){if(S4(t=bi(t)))return Vx("Unsupported field value:",e,t),T4(t,e);if(t instanceof v4)return function(n,r){if(!w4(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Ka(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=bi(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return mG(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Dt.fromDate(n);return{timestampValue:rl(r.serializer,i)}}if(n instanceof Dt){const i=new Dt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:rl(r.serializer,i)}}if(n instanceof Px)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Wa)return{bytesValue:LG(r.serializer,n._byteString)};if(n instanceof $t){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:nA(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Ty(n)}`)}(t,e)}function T4(t,e){const n={};return BH(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bo(t,(r,i)=>{const s=Ka(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function S4(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Dt||t instanceof Px||t instanceof Wa||t instanceof $t||t instanceof v4)}function Vx(t,e,n){if(!S4(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Ty(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Pf(t,e,n){if((e=bi(e))instanceof yl)return e._internalPath;if("string"==typeof e)return Ay(t,e);throw xy("Field path arguments must be of type string or ",t,!1,void 0,n)}const c_e=new RegExp("[~\\*/\\[\\]]");function Ay(t,e,n){if(e.search(c_e)>=0)throw xy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yl(...e.split("."))._internalPath}catch{throw xy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xy(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new R(E.INVALID_ARGUMENT,a+t+c)}function A4(t,e){return t.some(n=>n.isEqual(e))}class Bx{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new u_e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ny("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class u_e extends Bx{data(){return super.data()}}function Ny(t,e){return"string"==typeof e?Ay(t,e):e instanceof yl?e._internalPath:e._delegate._internalPath}class d_e{convertValue(e,n="none"){switch(Do(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return bo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Px(Nt(e.latitude),Nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=G_(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nf(e));default:return null}}convertTimestamp(e){const n=wo(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Oe.fromString(e);re(WG(r));const i=new ka(r.get(1),r.get(3)),s=new q(r.popFirst(5));return i.isEqual(n)||Bt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Ya{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wl extends Bx{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ky(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ny("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ky extends wl{data(e={}){return super.data(e)}}class Il{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ya(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ky(this._firestore,this._userDataWriter,r.key,r,new Ya(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new R(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new ky(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ya(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new ky(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ya(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return 0!==o.type&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:f_e(o.type),doc:a,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function f_e(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te()}}function p_e(t){t=Ae(t,$t);const e=Ae(t.firestore,ht);return function o4(t,e,n={}){const r=new tn;return t.asyncQueue.enqueueAndForget(y(function*(){return function(i,s,o,a,c){const u=new Iy({next:d=>{s.enqueueAndForget(()=>QA(i,l));const h=d.docs.has(o);!h&&d.fromCache?c.reject(new R(E.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?c.reject(new R(E.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),l=new XA(Zu(o.path),u,{includeMetadataChanges:!0,Ku:!0});return KA(i,l)}(yield _l(t),t.asyncQueue,e,n,r)})),r.promise}(Kt(e),t._key).then(n=>function $x(t,e,n){const r=n.docs.get(e._key),i=new Oo(t);return new wl(t,i,e._key,r,new Ya(n.hasPendingWrites,n.fromCache),e.converter)}(e,t,n))}class Oo extends d_e{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,n)}}function g_e(t){t=Ae(t,Nn);const e=Ae(t.firestore,ht),n=Kt(e),r=new Oo(e);return function x4(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new R(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),function a4(t,e,n={}){const r=new tn;return t.asyncQueue.enqueueAndForget(y(function*(){return function(i,s,o,a,c){const u=new Iy({next:d=>{s.enqueueAndForget(()=>QA(i,l)),d.fromCache&&"server"===a.source?c.reject(new R(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),l=new XA(o,u,{includeMetadataChanges:!0,Ku:!0});return KA(i,l)}(yield _l(t),t.asyncQueue,e,n,r)})),r.promise}(n,t._query).then(i=>new Il(e,r,t,i))}function m_e(t,e){const n=Ae(t.firestore,ht),r=p4(t),i=function jx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return function Lf(t,e){return function(n,r){const i=new tn;return n.asyncQueue.enqueueAndForget(y(function*(){return function bme(t,e,n){return ix.apply(this,arguments)}(yield function Mx(t){return Cy(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(Kt(t),e)}(n,[Fx(vl(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,gt.exists(!1))]).then(()=>r)}!function(t,e=!0){qu=fh,Jn(new Ln("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new ht(new Yfe(n.getProvider("auth-internal")),new Zfe(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new R(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ka(a.options.projectId,c)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Vt(IH,"3.13.0",t),Vt(IH,"3.13.0","esm2017")}();class Qa{constructor(e){return e}}const L4="firestore",Hx=new Z("angularfire2.firestore-instances");function N_e(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Qa(r)}}const M_e={provide:class A_e{constructor(){return pC(L4)}},deps:[[new lr,Hx]]},O_e={provide:Qa,useFactory:function x_e(t,e){const n=function fC(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(L4,t,e);return n&&new Qa(n)},deps:[[new lr,Hx],ku]};let R_e=(()=>{class t{constructor(){Vt("angularfire",sC.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ce({type:t}),t.\u0275inj=we({providers:[O_e,M_e]}),t})();function k_e(t,...e){return{ngModule:R_e,providers:[{provide:Hx,useFactory:N_e(t),multi:!0,deps:[Ie,Gt,OU,RU,[new lr,Lj],[new lr,s$],...e]}]}}const P_e=Da(m_e,!0),V4=Da(Jme,!0),F_e=Da(p4,!0),L_e=Da(p_e,!0),V_e=Da(g_e,!0),B_e=Da(e_e,!0);let U_e=(()=>{class t{constructor(n){this.firestore=n}getRecipes(){const r=V4(this.firestore,"Recipe");return new Fe(i=>{V_e(r).then(s=>{const o=[];s.forEach(a=>{const u={...a.data(),id:a.id};o.push(u)}),i.next(o),i.complete()}).catch(s=>{i.error(s)})})}static#e=this.\u0275fac=function(r){return new(r||t)(W(Qa))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const j_e=function(t){return["/recipe/",t]};function $_e(t,e){if(1&t&&(C(0,"ul",6)(1,"li",7)(2,"a",8)(3,"div",9)(4,"div",10),X(5,"img",11),T(),C(6,"h3",12),U(7),T()()()()()),2&t){const n=e.$implicit;V(2),L("routerLink",function gu(t,e,n,r){return V2(M(),qn(),t,e,n,r)}(3,j_e,n.id)),V(3),L("src",n.image_recipe[0].image_recipe,pd),V(2),Qr(n.title)}}let H_e=(()=>{class t{constructor(n){this.recipeService=n,this.recipes=[]}ngOnInit(){this.getRecipes()}getRecipes(){this.recipeService.getRecipes().subscribe({next:n=>{this.recipes=n.sort((r,i)=>r.title.localeCompare(i.title))},error:n=>{console.error("Error fetching recipes:",n)}})}static#e=this.\u0275fac=function(r){return new(r||t)(v(U_e))};static#t=this.\u0275cmp=yt({type:t,selectors:[["app-recipes-list"]],decls:7,vars:1,consts:[[1,"main-long"],[1,"mainLong"],[1,"recipes-list"],[1,"title"],[1,"wrapper"],["class","cards",4,"ngFor","ngForOf"],[1,"cards"],[1,"card-item"],[3,"routerLink"],["tabindex","0",1,"card"],[1,"card-image"],["alt","recipe.title",3,"src"],[1,"card-title"]],template:function(r,i){1&r&&(C(0,"main",0)(1,"div",1)(2,"section",2)(3,"h2",3),U(4,"Recipes list"),T(),C(5,"section",4),j(6,$_e,8,5,"ul",5),T()()()()),2&r&&(V(6),L("ngForOf",i.recipes))},dependencies:[mi,Nu],styles:[".recipe-list[_ngcontent-%COMP%]{width:1024px;margin:0 auto 50px;max-width:1200px}.wrapper[_ngcontent-%COMP%]{place-self:center;margin:0 auto 50px 0;display:grid;grid-template-columns:repeat(5,1fr);gap:30px}.cards[_ngcontent-%COMP%]{display:grid;flex-wrap:wrap;list-style:none;margin:0;padding:0;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.card-item[_ngcontent-%COMP%]{display:flex;background-color:var(--backgroundColor)}.card[_ngcontent-%COMP%]{position:relative;overflow:hidden;border-radius:5px 25px 5px 50px;transition:transform .1s linear,box-shadow .2s}img[_ngcontent-%COMP%]{max-width:100%;height:auto}a[_ngcontent-%COMP%]{text-decoration:none;color:var(--mainBlackColor)}.card-title[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:90%;height:auto;color:var(--textColor);padding:.5rem;border-radius:5px 0 0 5px;transform:rotate(-3.3deg);transform-origin:left top;overflow:hidden;z-index:1;background-color:var(--mainWhiteColor);animation:0s 0s _ngcontent-%COMP%_fly-in 0 reverse both;font-family:var(--titleFont)}@media (min-width: 535px){.card-title[_ngcontent-%COMP%]{animation:.5s .25s fly-out 1 both}}.card[_ngcontent-%COMP%]:focus   .card-title[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]:hover   .card-title[_ngcontent-%COMP%]{animation:.5s ease-in 0s _ngcontent-%COMP%_fly-in 1 both}.card[_ngcontent-%COMP%]:focus, .card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 10px 5px -5px #0003}@keyframes _ngcontent-%COMP%_fly-in{0%{top:0;right:0;font-size:1.325rem}25%{top:0;right:-200%;font-size:1.325rem}26%{font-size:2rem}to{top:2rem;right:0;font-size:2rem}}@media (max-width: 460px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;display:flex;flex-direction:column;width:80%}}@media (min-width: 461px) and (max-width: 767px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;padding:0 50px;width:100%;display:flex;flex-direction:column}}@media (min-width: 768px) and (max-width: 1023px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;padding:0 50px;width:100%;grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;padding:0 50px;grid-template-columns:repeat(3,1fr)}}"]})}return t})(),B4=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(v(xr),v(Ue))};static#t=this.\u0275dir=B({type:t})}return t})(),Ja=(()=>{class t extends B4{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Pt(t)))(i||t)}}();static#t=this.\u0275dir=B({type:t,features:[je]})}return t})();const Vr=new Z("NgValueAccessor"),q_e={provide:Vr,useExisting:De(()=>Fy),multi:!0},K_e=new Z("CompositionEventMode");let Fy=(()=>{class t extends B4{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function W_e(){const t=so()?so().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(v(xr),v(Ue),v(K_e,8))};static#t=this.\u0275dir=B({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&_e("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[tt([q_e]),je]})}return t})();function Ro(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function j4(t){return null!=t&&"number"==typeof t.length}const Mn=new Z("NgValidators"),ko=new Z("NgAsyncValidators"),Y_e=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class js{static min(e){return function $4(t){return e=>{if(Ro(e.value)||Ro(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function H4(t){return e=>{if(Ro(e.value)||Ro(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function G4(t){return Ro(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function z4(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function q4(t){return Ro(t.value)||Y_e.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function W4(t){return e=>Ro(e.value)||!j4(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function K4(t){return e=>j4(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Y4(t){if(!t)return Ly;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Ro(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return tz(e)}static composeAsync(e){return nz(e)}}function Ly(t){return null}function Q4(t){return null!=t}function J4(t){return xd(t)?an(t):t}function Z4(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function X4(t,e){return e.map(n=>n(t))}function ez(t){return t.map(e=>function Q_e(t){return!t.validate}(e)?e:n=>e.validate(n))}function tz(t){if(!t)return null;const e=t.filter(Q4);return 0==e.length?null:function(n){return Z4(X4(n,e))}}function Gx(t){return null!=t?tz(ez(t)):null}function nz(t){if(!t)return null;const e=t.filter(Q4);return 0==e.length?null:function(n){return function G_e(...t){const e=vp(t),{args:n,keys:r}=YL(t),i=new Fe(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let c=o,u=o;for(let l=0;l<o;l++){let d=!1;Yt(n[l]).subscribe(rt(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?QL(r,a):a),s.complete())}))}});return e?i.pipe(b1(e)):i}(X4(n,e).map(J4)).pipe(xe(Z4))}}function zx(t){return null!=t?nz(ez(t)):null}function rz(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function iz(t){return t._rawValidators}function sz(t){return t._rawAsyncValidators}function qx(t){return t?Array.isArray(t)?t:[t]:[]}function Vy(t,e){return Array.isArray(t)?t.includes(e):t===e}function oz(t,e){const n=qx(e);return qx(t).forEach(i=>{Vy(n,i)||n.push(i)}),n}function az(t,e){return qx(e).filter(n=>!Vy(t,n))}class cz{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Gx(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class tr extends cz{get formDirective(){return null}get path(){return null}}class Po extends cz{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class uz{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let lz=(()=>{class t extends uz{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(v(Po,2))};static#t=this.\u0275dir=B({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Be("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[je]})}return t})(),dz=(()=>{class t extends uz{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(v(tr,10))};static#t=this.\u0275dir=B({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Be("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[je]})}return t})();const Vf="VALID",Uy="INVALID",Dl="PENDING",Bf="DISABLED";function Yx(t){return(jy(t)?t.validators:t)||null}function Qx(t,e){return(jy(e)?e.asyncValidators:t)||null}function jy(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function fz(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new k(1e3,"");if(!r[n])throw new k(1001,"")}function pz(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new k(1002,"")})}class $y{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Vf}get invalid(){return this.status===Uy}get pending(){return this.status==Dl}get disabled(){return this.status===Bf}get enabled(){return this.status!==Bf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(oz(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(oz(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(az(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(az(e,this._rawAsyncValidators))}hasValidator(e){return Vy(this._rawValidators,e)}hasAsyncValidator(e){return Vy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Dl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Bf,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Vf,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vf||this.status===Dl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bf:Vf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Dl,this._hasOwnPendingAsyncValidator=!0;const n=J4(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new x,this.statusChanges=new x}_calculateStatus(){return this._allControlsDisabled()?Bf:this.errors?Uy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Dl)?Dl:this._anyControlsHaveStatus(Uy)?Uy:Vf}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){jy(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function eye(t){return Array.isArray(t)?Gx(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function tye(t){return Array.isArray(t)?zx(t):t||null}(this._rawAsyncValidators)}}class Uf extends $y{constructor(e,n,r){super(Yx(n),Qx(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){pz(this,0,e),Object.keys(e).forEach(r=>{fz(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class gz extends Uf{}const Za=new Z("CallSetDisabledState",{providedIn:"root",factory:()=>jf}),jf="always";function Hy(t,e){return[...e.path,t]}function $f(t,e,n=jf){Jx(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function rye(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&mz(t,e)})}(t,e),function sye(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function iye(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&mz(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function nye(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Gy(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),qy(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function zy(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Jx(t,e){const n=iz(t);null!==e.validator?t.setValidators(rz(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=sz(t);null!==e.asyncValidator?t.setAsyncValidators(rz(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();zy(e._rawValidators,i),zy(e._rawAsyncValidators,i)}function qy(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=iz(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=sz(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return zy(e._rawValidators,r),zy(e._rawAsyncValidators,r),n}function mz(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function vz(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function bz(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Gf=class extends $y{constructor(e=null,n,r){super(Yx(n),Qx(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jy(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=bz(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){vz(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){vz(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){bz(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let wz=(()=>{class t extends tr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Hy(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Pt(t)))(i||t)}}();static#t=this.\u0275dir=B({type:t,features:[je]})}return t})(),Ez=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=B({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})();const pye={provide:Vr,useExisting:De(()=>nN),multi:!0};let nN=(()=>{class t extends Ja{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Pt(t)))(i||t)}}();static#t=this.\u0275dir=B({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&_e("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[tt([pye]),je]})}return t})(),Tz=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})();const rN=new Z("NgModelWithFormControlWarning"),vye={provide:tr,useExisting:De(()=>Wy)};let Wy=(()=>{class t extends tr{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new x,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qy(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return $f(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Gy(n.control||null,n,!1),function uye(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function yz(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Gy(r||null,n),(t=>t instanceof Gf)(i)&&($f(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function _z(t,e){Jx(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function oye(t,e){return qy(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Jx(this.form,this),this._oldForm&&qy(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(v(Mn,10),v(ko,10),v(Za,8))};static#t=this.\u0275dir=B({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&_e("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[tt([vye]),je,In]})}return t})();const bye={provide:tr,useExisting:De(()=>Ky)};let Ky=(()=>{class t extends wz{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){Nz(this._parent)}static#e=this.\u0275fac=function(r){return new(r||t)(v(tr,13),v(Mn,10),v(ko,10))};static#t=this.\u0275dir=B({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[tt([bye]),je]})}return t})();const wye={provide:tr,useExisting:De(()=>Yy)};let Yy=(()=>{class t extends tr{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Hy(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Nz(this._parent)}static#e=this.\u0275fac=function(r){return new(r||t)(v(tr,13),v(Mn,10),v(ko,10))};static#t=this.\u0275dir=B({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[tt([wye]),je]})}return t})();function Nz(t){return!(t instanceof Ky||t instanceof Wy||t instanceof Yy)}const Iye={provide:Po,useExisting:De(()=>iN)};let iN=(()=>{class t extends Po{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new x,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function eN(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Fy?n=s:function cye(t){return Object.getPrototypeOf(t.constructor)===Ja}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function Xx(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return Hy(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||t)(v(tr,13),v(Mn,10),v(ko,10),v(Vr,10),v(rN,8))};static#n=this.\u0275dir=B({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[tt([Iye]),je,In]})}return t})();const Dye={provide:Vr,useExisting:De(()=>Qy),multi:!0};function Mz(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Qy=(()=>{class t extends Ja{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=Mz(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function Cye(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Pt(t)))(i||t)}}();static#t=this.\u0275dir=B({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&_e("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[tt([Dye]),je]})}return t})(),Oz=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(Mz(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(v(Ue),v(xr),v(Qy,9))};static#t=this.\u0275dir=B({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})();const Eye={provide:Vr,useExisting:De(()=>sN),multi:!0};function Rz(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let sN=(()=>{class t extends Ja{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const u=this._getOptionValue(o[a].value);i.push(u)}}else{const o=r.options;for(let a=0;a<o.length;a++){const c=o[a];if(c.selected){const u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function Tye(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Pt(t)))(i||t)}}();static#t=this.\u0275dir=B({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&_e("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[tt([Eye]),je]})}return t})(),kz=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(Rz(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(Rz(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(v(Ue),v(xr),v(sN,9))};static#t=this.\u0275dir=B({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})(),Gz=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({imports:[Tz]})}return t})();class zz extends $y{constructor(e,n,r){super(Yx(n),Qx(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){pz(this,0,e),e.forEach((r,i)=>{fz(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function qz(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let Pye=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let s={};return qz(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Uf(i,s)}record(n,r=null){const i=this._reduceControls(n);return new gz(i,r)}control(n,r,i){let s={};return this.useNonNullable?(qz(r)?s=r:(s.validators=r,s.asyncValidators=i),new Gf(n,{...s,nonNullable:!0})):new Gf(n,r,i)}array(n,r,i){const s=n.map(o=>this._createControl(o));return new zz(s,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof Gf||n instanceof $y?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Fye=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Za,useValue:n.callSetDisabledState??jf}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({imports:[Gz]})}return t})(),Lye=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:rN,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Za,useValue:n.callSetDisabledState??jf}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({imports:[Gz]})}return t})();const Wz=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Kz={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;c||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Wz(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==u||null==d)throw new jye;r.push(s<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jy=function(t){return function(t){const e=Wz(t);return Kz.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Zy=()=>{try{return function Gye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&function(t){try{return Kz.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}};class Qz{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}class zf extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,zf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jz.prototype.create)}}class Jz{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function eve(t,e){return t.replace(tve,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new zf(i,`${this.serviceName}: ${o} (${i}).`,r)}}const tve=/\{\$([^}]+)}/g;function uN(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Xz(s)&&Xz(o)){if(!uN(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Xz(t){return null!==t&&"object"==typeof t}class tv{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ec="[DEFAULT]";class uve{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Qz;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function dve(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ec})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ec){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ec){return this.instances.has(e)}getOptions(e=ec){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lve(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ec){return this.component?this.component.multipleInstances?e:ec:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function lve(t){return t===ec?void 0:t}class hve{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uve(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}class fve{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function pve(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const hN="@firebase/app",tc=new pa("@firebase/app"),Bve={[hN]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},nc=new Map,rv=new Map;function Uve(t,e){try{t.container.addComponent(e)}catch(n){tc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fN(t){const e=t.name;if(rv.has(e))return tc.debug(`There were multiple attempts to register component ${e}.`),!1;rv.set(e,t);for(const n of nc.values())Uve(n,t);return!0}const $s=new Jz("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Hve{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new tv("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $s.create("app-deleted",{appName:this._name})}}function iv(t,e,n){var r;let i=null!==(r=Bve[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void tc.warn(a.join(" "))}fN(new tv(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Gve="firebase-heartbeat-database",zve=1,qf="firebase-heartbeat-store";let gN=null;function n5(){return gN||(gN=pB(Gve,zve,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(qf)}catch(n){console.warn(n)}}}).catch(t=>{throw $s.create("idb-open",{originalErrorMessage:t.message})})),gN}function mN(){return mN=y(function*(t){try{const n=(yield n5()).transaction(qf),r=yield n.objectStore(qf).get(i5(t));return yield n.done,r}catch(e){if(e instanceof zf)tc.warn(e.message);else{const n=$s.create("idb-get",{originalErrorMessage:e?.message});tc.warn(n.message)}}}),mN.apply(this,arguments)}function r5(t,e){return _N.apply(this,arguments)}function _N(){return _N=y(function*(t,e){try{const r=(yield n5()).transaction(qf,"readwrite");yield r.objectStore(qf).put(e,i5(t)),yield r.done}catch(n){if(n instanceof zf)tc.warn(n.message);else{const r=$s.create("idb-set",{originalErrorMessage:n?.message});tc.warn(r.message)}}}),_N.apply(this,arguments)}function i5(t){return`${t.name}!${t.options.appId}`}class Yve{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Jve(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return y(function*(){var n,r;const s=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=s5();if((null!=(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==o&&!e._heartbeatsCache.heartbeats.some(a=>a.date===o))return e._heartbeatsCache.heartbeats.push({date:o,agent:s}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return y(function*(){var n;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=s5(),{heartbeatsToSend:i,unsentEntries:s}=function Qve(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),o5(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),o5(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=Jy(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(e._heartbeatsCache.heartbeats=s,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function s5(){return(new Date).toISOString().substring(0,10)}class Jve{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(function*(){return!!function Jye(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function Zye(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return y(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function qve(t){return mN.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return r5(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return r5(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function o5(t){return Jy(JSON.stringify({version:2,heartbeats:t})).length}!function Zve(t){fN(new tv("platform-logger",e=>new fve(e),"PRIVATE")),fN(new tv("heartbeat",e=>new Yve(e),"PRIVATE")),iv(hN,"0.9.28",t),iv(hN,"0.9.28","esm2017"),iv("fire-js","")}(""),iv("firebase","10.8.1","app");const sv_firebaseConfig={apiKey:"AIzaSyCVbXDjBGUwaOrn1CZYGIwce1dYPKpR7PA",authDomain:"the-natural-way.firebaseapp.com",projectId:"the-natural-way",storageBucket:"the-natural-way.appspot.com",messagingSenderId:"778711637280",appId:"1:778711637280:web:30b52ea2a4e159578fcb45"},sv_cloudinaryConfig_cloudName="dsla98vyk",sv_cloudinaryConfig_uploadPreset="the_natural_way";!function t5(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw $s.create("bad-app-name",{appName:String(i)});if(n||(n=(()=>{var t;return null===(t=Zy())||void 0===t?void 0:t.config})()),!n)throw $s.create("no-options");const s=nc.get(i);if(s){if(uN(n,s.options)&&uN(r,s.config))return s;throw $s.create("duplicate-app",{appName:i})}const o=new hve(i);for(const c of rv.values())o.addComponent(c);const a=new Hve(n,r,o);return nc.set(i,a),a}(sv_firebaseConfig);let t0e=(()=>{class t{constructor(){this.cloudName=sv_cloudinaryConfig_cloudName,this.uploadPreset=sv_cloudinaryConfig_uploadPreset,this.imageUploaded=new x}ngOnInit(){this.myWidget=cloudinary.createUploadWidget({cloudName:this.cloudName,uploadPreset:this.uploadPreset,maxImageWidth:500},(n,r)=>{!n&&r&&"success"===r.event&&(console.log("Done! Here is the image info: ",r.info),this.onImagesUploaded(r.info.secure_url))})}onImagesUploaded(n){this.imageUploaded.emit(n)}openWidget(){this.myWidget.open()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=yt({type:t,selectors:[["app-image-upload"]],outputs:{imageUploaded:"imageUploaded"},decls:4,vars:0,consts:[["id","upload_widget",1,"button-img",3,"click"],[1,"fa-solid","fa-plus","fa-beat-fade"]],template:function(r,i){1&r&&(C(0,"div")(1,"button",0),_e("click",function(){return i.openWidget()}),X(2,"i",1),U(3," Add images "),T()())}})}return t})();function n0e(t,e){1&t&&(C(0,"div",27),U(1," Please fill in the title! "),T())}function r0e(t,e){if(1&t&&(C(0,"div"),j(1,n0e,2,0,"div",26),T()),2&t){const n=ee();let r;V(1),L("ngIf",null==(r=n.recipeForm.get("title"))||null==r.errors?null:r.errors.required)}}function i0e(t,e){1&t&&(C(0,"div",27),U(1," Please fill in a subtitle! "),T())}function s0e(t,e){if(1&t&&(C(0,"div"),j(1,i0e,2,0,"div",26),T()),2&t){const n=ee();let r;V(1),L("ngIf",null==(r=n.recipeForm.get("subtitle"))||null==r.errors?null:r.errors.required)}}function o0e(t,e){1&t&&(C(0,"div",27),U(1," Please fill in the method of preparation! "),T())}function a0e(t,e){if(1&t&&(C(0,"div"),j(1,o0e,2,0,"div",26),T()),2&t){const n=ee();let r;V(1),L("ngIf",null==(r=n.recipeForm.get("description"))||null==r.errors?null:r.errors.required)}}function c0e(t,e){if(1&t&&X(0,"img",33),2&t){const n=ee().index;let i;L("src",null==(i=ee().image_recipe.controls[n].get("image_recipe"))?null:i.value,pd)}}function u0e(t,e){if(1&t){const n=Mr();C(0,"div",28)(1,"p",10),U(2,"Added image"),T(),X(3,"input",29),j(4,c0e,1,1,"img",30),X(5,"br"),C(6,"button",31),_e("click",function(){const s=cr(n).index;return ur(ee().removeImage(s))}),X(7,"i",32),U(8,"\xa0 Remove added image "),T(),X(9,"br"),T()}if(2&t){const n=e.index,r=ee();let i;L("formGroupName",n),V(4),L("ngIf",null==(i=r.image_recipe.controls[n].get("image_recipe"))?null:i.value)}}function l0e(t,e){if(1&t){const n=Mr();C(0,"div",28)(1,"p",10),U(2,"Paste the video link here"),T(),X(3,"input",34),C(4,"button",31),_e("click",function(){const s=cr(n).index;return ur(ee().removeVideo(s))}),X(5,"i",32),U(6,"\xa0 Remove the video link "),T()()}2&t&&L("formGroupName",e.index)}function d0e(t,e){1&t&&(C(0,"div",27),U(1," Please enter an ingredient name! "),T())}function h0e(t,e){if(1&t&&(C(0,"div"),j(1,d0e,2,0,"div",26),T()),2&t){const n=ee().index,r=ee();let i;V(1),L("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".name"))||null==i.errors?null:i.errors.required)}}function f0e(t,e){1&t&&(C(0,"div",27),U(1," Please fill in the quantity of the ingredient! "),T())}function p0e(t,e){if(1&t&&(C(0,"div"),j(1,f0e,2,0,"div",26),T()),2&t){const n=ee().index,r=ee();let i;V(1),L("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".amount"))||null==i.errors?null:i.errors.required)}}function g0e(t,e){1&t&&(C(0,"div",27),U(1," Please select a unit of measurement! "),T())}function m0e(t,e){if(1&t&&(C(0,"div"),j(1,g0e,2,0,"div",26),T()),2&t){const n=ee().index,r=ee();let i;V(1),L("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".unit"))||null==i.errors?null:i.errors.required)}}function _0e(t,e){if(1&t){const n=Mr();C(0,"div",28)(1,"div",35)(2,"div",36),X(3,"hr"),C(4,"p"),U(5,"\xa0\xa0Ingredient\xa0\xa0"),T(),X(6,"hr"),T(),C(7,"label",37),U(8,"Name (required):"),T(),X(9,"input",38),j(10,h0e,2,1,"div",5),C(11,"label",39),U(12,"Quantity (required):"),T(),X(13,"input",40),j(14,p0e,2,1,"div",5),C(15,"label",41),U(16,"Unit of measurement (required):"),T(),C(17,"p",10),U(18,"In which we measure the ingredient"),T(),C(19,"select",42)(20,"option",43),U(21,"Tea spoon"),T(),C(22,"option",44),U(23,"Tablespoon"),T(),C(24,"option",45),U(25,"Tea cup"),T(),C(26,"option",46),U(27,"Coffee cup"),T(),C(28,"option",47),U(29,"Gram"),T(),C(30,"option",48),U(31,"Kilogram"),T(),C(32,"option",49),U(33,"Milliliter"),T(),C(34,"option",50),U(35,"Liter"),T()(),j(36,m0e,2,1,"div",5),C(37,"label",51),U(38,"Order index:"),T(),C(39,"p",10),U(40," The order in which the ingredients appear in the recipe "),T(),X(41,"input",52),C(42,"button",31),_e("click",function(){const s=cr(n).index;return ur(ee().removeIngredient(s))}),X(43,"i",32),U(44,"\xa0Remove the ingredient "),T()()()}if(2&t){const n=e.index,r=ee();let i,s,o;L("formGroupName",n),V(10),L("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".name"))?null:i.touched),V(4),L("ngIf",null==(s=r.recipeForm.get("ingredients."+n+".amount"))?null:s.touched),V(22),L("ngIf",null==(o=r.recipeForm.get("ingredients."+n+".unit"))?null:o.touched)}}let y0e=(()=>{class t{constructor(n,r,i){this.fb=r,this.router=i,this.editorConfig={},this.currentOrderIndex=1,this.firestore=n,this.recipeForm=this.fb.group({is_active:[!1],title:["",[js.required]],subtitle:["",[js.required]],description:["",[js.required]],summary:[""],like:[0],author:[""],image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([this.fb.group({name:["",[js.required]],amount:[null,[js.required]],unit:["",[js.required]],order_index:[0]})])})}ngOnInit(){this.editorConfig={content_style:"body { background-color: #f6f4f9; }",content_css:"default",base_url:"/tinymce",suffix:".min",menubar:!1,height:300,toolbar:"undo redo | formatselect | bold italic backcolor |           alignleft aligncenter alignright alignjustify |           bullist numlist outdent indent | removeformat "}}addImageToForm(n){this.recipeForm.get("image_recipe").push(this.fb.group({image_recipe:n}))}removeImage(n){this.recipeForm.get("image_recipe").removeAt(n)}addVideo(){this.recipeForm.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(n){this.recipeForm.get("video_recipe").removeAt(n)}addPreparation(){this.recipeForm.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(n){this.recipeForm.get("preparation_method").removeAt(n)}addIngredient(){this.recipeForm.get("ingredients").push(this.fb.group({name:["",[js.required]],amount:[null,[js.required]],unit:["",[js.required]],order_index:this.currentOrderIndex})),this.currentOrderIndex++,console.log(this.currentOrderIndex)}removeIngredient(n){this.recipeForm.get("ingredients").removeAt(n)}get ingredients(){return this.recipeForm.get("ingredients")}get image_recipe(){return this.recipeForm.get("image_recipe")}get video_recipe(){return this.recipeForm.get("video_recipe")}get preparation_method(){return this.recipeForm.get("preparation_method")}onSubmit(){this.recipeForm.invalid?alert("The form is not valid. Please fill in all required fields."):(this.addRecipe(this.recipeForm.value),this.recipeForm.reset())}addRecipe(n){P_e(V4(this.firestore,"Recipe"),n).then(i=>{console.log("Document written with ID: ",i.id),this.router.navigate(["/recipe",i.id])}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||t)(v(Qa),v(Pye),v(gr))};static#t=this.\u0275cmp=yt({type:t,selectors:[["app-recipe-create"]],decls:56,vars:7,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title"],[3,"formGroup"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["type","text","id","subtitle","formControlName","subtitle"],["for","description"],["name","text","id","description","formControlName","description","cols","30","rows","5"],["for","summary"],[1,"hint"],["type","text","id","summary","formControlName","summary"],[3,"imageUploaded"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["type","button",1,"button-img",3,"click"],[1,"fa-solid","fa-plus","fa-beat-fade"],["formArrayName","ingredients",1,"ingredients"],["type","button",1,"button",2,"width","100%",3,"click"],["href","javascript:history.back()",1,"back-button"],[1,"button-box"],[1,"button-elem"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],["viewBox","0 0 46 40"],["class","errors",4,"ngIf"],[1,"errors"],[3,"formGroupName"],["type","text","id","image_recipe","formControlName","image_recipe"],["alt","Image Preview","class","image-preview",3,"src",4,"ngIf"],["type","button",1,"removeIngredient",3,"click"],[1,"fa-solid","fa-trash","fa-shake"],["alt","Image Preview",1,"image-preview",3,"src"],["type","text","id","video_recipe","formControlName","video_recipe"],[1,"ingredient"],[1,"divider"],["for","name"],["type","text","id","name","formControlName","name"],["for","amount"],["type","number","id","amount","formControlName","amount"],["for","unit"],["id","ingredient_unit","formControlName","unit"],["value","ts."],["value","tbs."],["value","tc."],["value","cc."],["value","gr."],["value","kg."],["value","ml."],["value","l."],["for","order_index"],["type","number","id","ingredient_order_index","formControlName","order_index"]],template:function(r,i){if(1&r&&(C(0,"div",0)(1,"div",1)(2,"h1",2),U(3,"Add a recipe"),T(),C(4,"form",3)(5,"label"),U(6," Title (required): "),X(7,"input",4),T(),j(8,r0e,2,1,"div",5),C(9,"label"),U(10," Subtitle (required): "),X(11,"input",6),T(),j(12,s0e,2,1,"div",5),C(13,"div")(14,"label",7),U(15,"Method of preparation (required):"),T(),X(16,"textarea",8),T(),j(17,a0e,2,1,"div",5),C(18,"div")(19,"label",9),U(20,"Summary:"),T(),C(21,"p",10),U(22,"Recipe summary"),T(),X(23,"input",11),T(),C(24,"div"),X(25,"br"),C(26,"app-image-upload",12),_e("imageUploaded",function(o){return i.addImageToForm(o)}),T(),C(27,"div",13),j(28,u0e,10,2,"div",14),T(),C(29,"div",15),j(30,l0e,7,1,"div",14),C(31,"button",16),_e("click",function(){return i.addVideo()}),X(32,"i",17),U(33," Add a link to a recipe "),T()()(),C(34,"div",18),j(35,_0e,45,4,"div",14),T(),X(36,"br")(37,"hr")(38,"br"),C(39,"button",16),_e("click",function(){return i.addIngredient()}),X(40,"i",17),U(41," Add one more ingredient "),T(),X(42,"br"),C(43,"button",19),_e("click",function(){return i.onSubmit()}),U(44," Add a recipe "),T(),X(45,"br")(46,"hr"),U(47," Go Back "),C(48,"a",20)(49,"div",21)(50,"span",22),td(),C(51,"svg",23),X(52,"path",24),T()(),N0(),C(53,"span",22),td(),C(54,"svg",25),X(55,"path",24),T()()()()()()()),2&r){let s,o,a;V(4),L("formGroup",i.recipeForm),V(4),L("ngIf",null==(s=i.recipeForm.get("title"))?null:s.touched),V(4),L("ngIf",null==(o=i.recipeForm.get("subtitle"))?null:o.touched),V(5),L("ngIf",null==(a=i.recipeForm.get("description"))?null:a.touched),V(11),L("ngForOf",i.image_recipe.controls),V(2),L("ngForOf",i.video_recipe.controls),V(5),L("ngForOf",i.ingredients.controls)}},dependencies:[mi,Is,Ez,Oz,kz,Fy,nN,Qy,lz,dz,Wy,iN,Ky,Yy,t0e],styles:[".tiny[_ngcontent-%COMP%]{margin:20px 0}.removeIngredient[_ngcontent-%COMP%]{all:unset;color:red;cursor:pointer;margin-top:20px;text-align:right}.removeIngredient[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.addIngredient[_ngcontent-%COMP%]{all:unset;color:green;cursor:pointer;margin:0 0 20px 30px}.addIngredient[_ngcontent-%COMP%]:hover{background-color:unset;color:var(--mainRedColor);box-shadow:unset}"]})}return t})(),v0e=(()=>{class t{constructor(n){this.firestore=n}getRecipeById(n){var r=this;return y(function*(){const i=F_e(r.firestore,"Recipe",n),s=yield L_e(i);return s.exists()?s.data():null})()}static#e=this.\u0275fac=function(r){return new(r||t)(W(Qa))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),b0e=(()=>{class t{constructor(n){this.sanitizer=n}transform(n){let r;if(n.startsWith("https://m."))r=new URLSearchParams(n.split("?")[1]).get("v")||"";else{const s=n.split("/");r=s[s.length-1]}return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+r)}static#e=this.\u0275fac=function(r){return new(r||t)(v(qL,16))};static#t=this.\u0275pipe=Hn({name:"safeUrl",type:t,pure:!0})}return t})();function w0e(t,e){if(1&t&&(C(0,"div",19),U(1),T()),2&t){const n=ee();V(1),no(" ",null==n.recipe?null:n.recipe.summary," ")}}function I0e(t,e){1&t&&(C(0,"div"),X(1,"br"),T())}function D0e(t,e){if(1&t&&(C(0,"li"),X(1,"img",22),T()),2&t){const n=e.$implicit;V(1),L("src",n.image_recipe,pd)}}function C0e(t,e){if(1&t&&(C(0,"ul",20),j(1,D0e,2,1,"li",21),T()),2&t){const n=ee();V(1),L("ngForOf",null==n.recipe?null:n.recipe.image_recipe)}}function E0e(t,e){1&t&&(C(0,"div",8),X(1,"hr"),C(2,"p"),U(3,"\xa0\xa0Ingredients\xa0\xa0"),T(),X(4,"hr"),T())}function T0e(t,e){if(1&t&&(C(0,"li"),U(1),T()),2&t){const n=ee().$implicit;V(1),sw(" ",n.name," - ",n.amount," ",n.unit," ")}}function S0e(t,e){if(1&t&&(C(0,"ul",23),j(1,T0e,2,3,"li",5),T()),2&t){const n=ee();V(1),L("ngIf",null==n.recipe?null:n.recipe.ingredients)}}function A0e(t,e){if(1&t&&(C(0,"li"),X(1,"iframe",25),function H2(t,e){const n=Me();let r;const i=t+Te;n.firstCreatePass?(r=function CJ(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=qo(r.type)),a=sr(v);try{const c=jp(!1),u=s();return jp(c),function lY(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,M(),i,u),u}finally{sr(a)}}(2,"safeUrl"),T()),2&t){const n=e.$implicit;V(1),L("src",G2(2,1,n.video_recipe),cb)}}function x0e(t,e){if(1&t&&(C(0,"div",24)(1,"div",8),X(2,"hr"),C(3,"p"),U(4,"\xa0\xa0Video\xa0\xa0"),T(),X(5,"hr"),T(),X(6,"br"),C(7,"ul"),j(8,A0e,3,3,"li",21),T()()),2&t){const n=ee();V(8),L("ngForOf",null==n.recipe?null:n.recipe.video_recipe)}}const N0e=[{path:"",pathMatch:"full",component:Sie},{path:"register",component:Eie},{path:"login",component:Tie},{path:"recipes-list",component:H_e},{path:"recipe-create",component:y0e},{path:"recipe/:id",component:(()=>{class t{constructor(n,r,i,s){var o=this;this.route=n,this.recipeService=r,this.firestore=i,this.router=s,this.recipe=null,this.recipeId="",this.route.paramMap.subscribe(function(){var a=y(function*(c){const u=c.get("id");if(o.recipeId=u,u)try{o.recipe=yield o.recipeService.getRecipeById(u),o.recipe||console.error("Recipe not found.")}catch(l){console.error("An error occurred while retrieving the recipe:",l)}else console.error("Recipe ID not provided.")});return function(c){return a.apply(this,arguments)}}())}navigateToRecipeEdit(){this.router.navigate(["/recipe-edit",this.recipeId])}navigateToCommentEdit(n){this.router.navigate(["/comment-edit",n])}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||t)(v(da),v(v0e),v(Qa),v(gr))};static#t=this.\u0275cmp=yt({type:t,selectors:[["app-recipe"]],decls:33,vars:9,consts:[[1,"mainLong"],[1,"recipe-container"],[1,"recipe-title"],[1,"recipe-subtitle"],["class","recipe-summary",4,"ngIf"],[4,"ngIf"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],[1,"divider"],[1,"recipe-description-text","description"],["class","divider",4,"ngIf"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-videos",4,"ngIf"],["href","javascript:history.back()",1,"back-button"],[1,"button-box"],[1,"button-elem"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],["viewBox","0 0 46 40"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","Image of a recipe",3,"src"],[1,"recipe-ingredients"],[1,"recipe-videos"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"]],template:function(r,i){1&r&&(C(0,"div",0)(1,"div",1)(2,"h1",2),U(3),T(),C(4,"h3",3),U(5),T(),j(6,w0e,2,1,"div",4),j(7,I0e,2,0,"div",5),C(8,"div",6),j(9,C0e,2,1,"ul",7),C(10,"div",8),X(11,"hr"),C(12,"p"),U(13,"\xa0\xa0Preparation\xa0\xa0"),T(),X(14,"hr"),T(),X(15,"br"),C(16,"p",9),U(17),T(),X(18,"br"),j(19,E0e,5,0,"div",10),X(20,"br"),j(21,S0e,2,1,"ul",11),j(22,x0e,9,1,"div",12),X(23,"hr"),U(24," Go Back "),C(25,"a",13)(26,"div",14)(27,"span",15),td(),C(28,"svg",16),X(29,"path",17),T()(),N0(),C(30,"span",15),td(),C(31,"svg",18),X(32,"path",17),T()()()()()()()),2&r&&(V(3),Qr(null==i.recipe?null:i.recipe.title),V(2),Qr(null==i.recipe?null:i.recipe.subtitle),V(1),L("ngIf",null==i.recipe?null:i.recipe.summary),V(1),L("ngIf",!(null!=i.recipe&&i.recipe.summary)),V(2),L("ngIf",(null==i.recipe?null:i.recipe.image_recipe)&&(null==i.recipe||null==i.recipe.image_recipe?null:i.recipe.image_recipe.length)>0),V(8),no(" ",null==i.recipe?null:i.recipe.description," "),V(2),L("ngIf",null==i.recipe?null:i.recipe.ingredients),V(2),L("ngForOf",null==i.recipe?null:i.recipe.ingredients),V(1),L("ngIf",(null==i.recipe?null:i.recipe.video_recipe)&&(null==i.recipe||null==i.recipe.video_recipe?null:i.recipe.video_recipe.length)>0))},dependencies:[mi,Is,b0e],styles:[".recipe-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.recipe-title[_ngcontent-%COMP%]{font-size:26px;text-align:center;font-family:var(--titleFont)}.recipe-subtitle[_ngcontent-%COMP%], .recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic;white-space:pre-wrap}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.btn[_ngcontent-%COMP%]   .fa-solid[_ngcontent-%COMP%]{color:var(--mainWhiteColor)}"]})}return t})()}];let M0e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({imports:[dh.forRoot(N0e,{useHash:!0}),dh]})}return t})(),O0e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=yt({type:t,selectors:[["app-footer"]],decls:22,vars:0,consts:[[1,"footer"],[1,"footer-links"],["href","/about"],["href","/contact"],["href","/terms"],["href","/privacy"],[1,"social-icons"],["href","https://www.facebook.com"],[1,"fa-brands","fa-facebook","fa-flip"],["href","https://www.twitter.com"],[1,"fa-brands","fa-x-twitter","fa-flip"],["href","https://www.instagram.com"],[1,"fa-brands","fa-instagram","fa-flip"],[1,"copyright"]],template:function(r,i){1&r&&(C(0,"footer",0)(1,"div",1)(2,"a",2),U(3,"About Us"),T(),U(4," | "),C(5,"a",3),U(6,"Contact Us"),T(),U(7," | "),C(8,"a",4),U(9,"Terms of Service"),T(),U(10," | "),C(11,"a",5),U(12,"Privacy Policy"),T()(),C(13,"div",6)(14,"a",7),X(15,"i",8),T(),C(16,"a",9),X(17,"i",10),T(),C(18,"a",11),X(19,"i",12),T()(),C(20,"div",13),U(21," \xa9 2024 The Natural Way. All Rights Reserved. "),T()())},styles:[".footer[_ngcontent-%COMP%]{background-color:var(--backgroundColor);height:8vh;color:#40513b;text-align:center}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#40513b;text-decoration:none}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:10px}.social-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}"]})}return t})(),R0e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=yt({type:t,selectors:[["app-header"]],decls:46,vars:0,consts:[[1,"navbar","navbar-dark","navbar-expand-lg"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","button"],[1,"navbar-toggler-icon"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","my-2","my-lg-0","navbar-nav-scroll",2,"--bs-scroll-height","350px"],[1,"nav-item","dropdown"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-btn","nav-link","dropdown-toggle","button"],[1,"dropdown-menu"],["href","#","routerLink","/recipes-list",1,"dropdown-item"],["routerLink","/recipe-create",1,"dropdown-item"],[1,"dropdown-divider"],["href","#",1,"dropdown-item"],[1,"fa-solid","fa-user"],["routerLink","/register",1,"dropdown-item"],["routerLink","/login",1,"dropdown-item"],[1,"fa-solid","fa-magnifying-glass"],[1,"dropdown-menu","search"],["role","search",1,"d-flex","w-100"],["type","search","aria-label","Search",1,"form-control","me-2"],["type","submit",1,"search","button"]],template:function(r,i){1&r&&(C(0,"nav",0)(1,"div",1)(2,"a",2),U(3," The Natural Way"),T(),C(4,"button",3),X(5,"span",4),T(),C(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),U(10," Recipes "),T(),C(11,"ul",9)(12,"li")(13,"a",10),U(14,"Recipes list"),T()(),C(15,"li")(16,"a",11),U(17,"Recipe create"),T()(),C(18,"li"),X(19,"hr",12),T(),C(20,"li")(21,"a",13),U(22,"Something else here"),T()()()(),C(23,"li",7)(24,"a",8),X(25,"i",14),T(),C(26,"ul",9)(27,"li")(28,"a",15),U(29,"Register"),T()(),C(30,"li")(31,"a",16),U(32,"Login"),T()(),C(33,"li"),X(34,"hr",12),T(),C(35,"li")(36,"a",13),U(37,"Something else here"),T()()()(),C(38,"li",7)(39,"a",8),X(40,"i",17),T(),C(41,"ul",18)(42,"form",19),X(43,"input",20),C(44,"button",21),U(45,"Search"),T()()()()()()()())},dependencies:[Nu],styles:["nav.navbar[_ngcontent-%COMP%]{min-height:8vh;background-color:var(--backgroundColor)}.container-fluid[_ngcontent-%COMP%]{max-width:1024px;color:var(--textColor)}a.navbar-brand[_ngcontent-%COMP%]{font-family:Dancing Script,cursive;font-weight:900;font-size:32px;color:var(--textColor)}button.navbar-toggler[_ngcontent-%COMP%]{background-color:var(--textColor);border:1px solid var(--backgroundColor)}.navbar-toggler[_ngcontent-%COMP%]   span.navbar-toggler-icon[_ngcontent-%COMP%]{color:var(--backgroundColor);background-color:var(--textColor)}button.navbar-toggler[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem var(--textColor)}ul.navbar-nav[_ngcontent-%COMP%]{position:relative;z-index:100;display:flex;gap:15px;border:1px solid var(--backgroundColor);width:100%;justify-content:flex-end}a.nav-btn.nav-link.dropdown-toggle.button[_ngcontent-%COMP%]{min-width:150px}ul.navbar-nav[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:unset}a.dropdown-item[_ngcontent-%COMP%]{color:var(--textColor)}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:focus{background-color:var(--textColor);color:var(--backgroundColor)}form.d-flex[_ngcontent-%COMP%]{padding:0 auto}.form-control[_ngcontent-%COMP%]{border:1px solid var(--textColor);border-radius:8px;background-color:var(--backgroundColor)}.form-control[_ngcontent-%COMP%]:focus{border:1px solid var(--textColor);box-shadow:unset;outline:unset;background-color:#f6f4f9;border-color:var(--textColor)}@media (max-width: 460px){.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{background-color:var(--backgroundColor);padding:20px;border-radius:8px}}@media (min-width: 461px) and (max-width: 767px){.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{background-color:var(--backgroundColor);padding:20px;border-radius:8px}}@media (min-width: 768px) and (max-width: 1023px){.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{background-color:var(--backgroundColor);padding:20px;border-radius:8px}}@media (min-width: 1024px) and (max-width: 1440px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:500px;padding:10px;margin-top:30px}}@media (min-width: 1441px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:500px;padding:10px;margin-top:30px}}"]})}return t})(),k0e=(()=>{class t{constructor(){this.title="The-Natural-Way"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=yt({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(r,i){1&r&&X(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[B1,O0e,R0e],styles:[".logo-svg[_ngcontent-%COMP%]{background-color:var(--mainGreenColor);min-height:80vh}"]})}return t})(),P0e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({imports:[wu,dh]})}return t})();const F0e=["addListener","removeListener"],L0e=["addEventListener","removeEventListener"],V0e=["on","off"];function rn(t,e,n,r){if(be(n)&&(r=n,n=void 0),r)return rn(t,e,n).pipe(b1(r));const[i,s]=function j0e(t){return be(t.addEventListener)&&be(t.removeEventListener)}(t)?L0e.map(o=>a=>t[o](e,a,n)):function B0e(t){return be(t.addListener)&&be(t.removeListener)}(t)?F0e.map(a5(t,e)):function U0e(t){return be(t.on)&&be(t.off)}(t)?V0e.map(a5(t,e)):[];if(!i&&Wv(t))return Qt(o=>rn(o,e,n))(Yt(t));if(!i)throw new TypeError("Invalid event target");return new Fe(o=>{const a=(...c)=>o.next(1<c.length?c:c[0]);return i(a),()=>s(a)})}function a5(t,e){return n=>r=>t[n](e,r)}class $0e extends Le{constructor(e=1/0,n=1/0,r=rC){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=n.now();let a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}}function G0e(t,e){}const ov=()=>{const t=typeof window<"u"?window:void 0;return t&&t.tinymce?t.tinymce:null};let z0e=(()=>{class t{constructor(){this.onBeforePaste=new x,this.onBlur=new x,this.onClick=new x,this.onContextMenu=new x,this.onCopy=new x,this.onCut=new x,this.onDblclick=new x,this.onDrag=new x,this.onDragDrop=new x,this.onDragEnd=new x,this.onDragGesture=new x,this.onDragOver=new x,this.onDrop=new x,this.onFocus=new x,this.onFocusIn=new x,this.onFocusOut=new x,this.onKeyDown=new x,this.onKeyPress=new x,this.onKeyUp=new x,this.onMouseDown=new x,this.onMouseEnter=new x,this.onMouseLeave=new x,this.onMouseMove=new x,this.onMouseOut=new x,this.onMouseOver=new x,this.onMouseUp=new x,this.onPaste=new x,this.onSelectionChange=new x,this.onActivate=new x,this.onAddUndo=new x,this.onBeforeAddUndo=new x,this.onBeforeExecCommand=new x,this.onBeforeGetContent=new x,this.onBeforeRenderUI=new x,this.onBeforeSetContent=new x,this.onChange=new x,this.onClearUndos=new x,this.onDeactivate=new x,this.onDirty=new x,this.onExecCommand=new x,this.onGetContent=new x,this.onHide=new x,this.onInit=new x,this.onInitNgModel=new x,this.onLoadContent=new x,this.onNodeChange=new x,this.onPostProcess=new x,this.onPostRender=new x,this.onPreInit=new x,this.onPreProcess=new x,this.onProgressState=new x,this.onRedo=new x,this.onRemove=new x,this.onReset=new x,this.onResizeEditor=new x,this.onSaveContent=new x,this.onSetAttrib=new x,this.onObjectResizeStart=new x,this.onObjectResized=new x,this.onObjectSelected=new x,this.onSetContent=new x,this.onShow=new x,this.onSubmit=new x,this.onUndo=new x,this.onVisualAid=new x}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=B({type:t,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),t})();const c5=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],av=(t,e,n)=>rn(t,e).pipe(pt(n)),u5=(t,e)=>"string"==typeof t?t.split(",").map(n=>n.trim()):Array.isArray(t)?t:e;let l5=0;const d5=t=>typeof t<"u"&&"textarea"===t.tagName.toLowerCase(),h5=t=>typeof t>"u"||""===t?[]:Array.isArray(t)?t:t.split(" "),Y0e=(t,e)=>h5(t).concat(h5(e)),Q0e=()=>{},f5=t=>null==t,J0e=(()=>{let t={script$:null};return{load:(r,i)=>t.script$||(t.script$=I1(()=>{const s=r.createElement("script");return s.referrerPolicy="origin",s.type="application/javascript",s.src=i,r.head.appendChild(s),rn(s,"load").pipe(un(1),E1(void 0))}).pipe(function H0e(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=t??1/0,Yv({connector:()=>new $0e(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}({bufferSize:1,refCount:!0}))),reinitialize:()=>{t={script$:null}}}})(),g5=new Z("TINYMCE_SCRIPT_SRC"),Z0e={provide:Vr,useExisting:De(()=>m5),multi:!0};let m5=(()=>{class t extends z0e{constructor(n,r,i,s){super(),this.platformId=i,this.tinymceScriptSrc=s,this.cloudChannel="6",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=Q0e,this.destroy$=new Le,this.initialise=()=>{const o={...this.init,selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,plugins:Y0e(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:a=>{this._editor=a,av(a,"init",this.destroy$).subscribe(()=>{this.initEditor(a)}),((t,e,n)=>{(t=>{const e=u5(t.ignoreEvents,[]);return u5(t.allowedEvents,c5).filter(r=>c5.includes(r)&&!e.includes(r))})(t).forEach(i=>{const s=t[i];av(e,i.substring(2),n).subscribe(o=>{s.observers.length>0&&t.ngZone.run(()=>s.emit({event:o,editor:e}))})})})(this,a,this.destroy$),this.init&&"function"==typeof this.init.setup&&this.init.setup(a)}};d5(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{ov().init(o)})},this._elementRef=n,this.ngZone=r}set disabled(n){this._disabled=n,this._editor&&this._editor.initialized&&("function"==typeof this._editor.mode?.set?this._editor.mode.set(n?"readonly":"design"):this._editor.setMode(n?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(n){this._editor&&this._editor.initialized?this._editor.setContent(f5(n)?"":n):this.initialValue=null===n?void 0:n}registerOnChange(n){this.onChangeCallback=n}registerOnTouched(n){this.onTouchedCallback=n}setDisabledState(n){this.disabled=n}ngAfterViewInit(){(function Kee(t){return t===CL})(this.platformId)&&(this.id=this.id||(t=>{const n=(new Date).getTime(),r=Math.floor(1e9*Math.random());return l5++,"tiny-angular_"+r+l5+String(n)})(),this.inline=void 0!==this.inline?!1!==this.inline:!!this.init?.inline,this.createElement(),null!==ov()?this.initialise():this._element&&this._element.ownerDocument&&J0e.load(this._element.ownerDocument,this.getScriptSrc()).pipe(pt(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),null!==ov()&&ov().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,d5(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}getScriptSrc(){return f5(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(n){av(n,"blur",this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.onTouchedCallback())}),av(n,this.modelEvents,this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.emitOnChange(n))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{n.setContent(this.initialValue),n.getContent()!==this.initialValue&&this.emitOnChange(n),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(n)})}emitOnChange(n){this.onChangeCallback&&this.onChangeCallback(n.getContent({format:this.outputFormat}))}}return t.\u0275fac=function(n){return new(n||t)(v(Ue),v(Ie),v(gs),v(g5,8))},t.\u0275cmp=yt({type:t,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[tt([Z0e]),je,Or],decls:1,vars:0,template:function(n,r){1&n&&j(0,G0e,0,0,"ng-template")},dependencies:[wu,Fye],styles:["[_nghost-%COMP%]{display:block}"]}),t})(),yN=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ce({type:t}),t.\u0275inj=we({imports:[m5]}),t})(),_5=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({imports:[wu,yN,dh]})}return t})(),X0e=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ce({type:t}),t.\u0275inj=we({imports:[[]]}),t})();const{isArray:tbe}=Array;function v5(t){return 1===t.length&&tbe(t[0])?t[0]:t}function vN(...t){const e=vp(t),n=v5(t);return n.length?new Fe(r=>{let i=n.map(()=>[]),s=n.map(()=>!1);r.add(()=>{i=s=null});for(let o=0;!r.closed&&o<n.length;o++)Yt(n[o]).subscribe(rt(r,a=>{if(i[o].push(a),i.every(c=>c.length)){const c=i.map(u=>u.shift());r.next(e?e(...c):c),i.some((u,l)=>!u.length&&s[l])&&r.complete()}},()=>{s[o]=!0,!i[o].length&&r.complete()}));return()=>{i=s=null}}):Hr}function bN(...t){const e=vp(t);return _t((n,r)=>{const i=t.length,s=new Array(i);let o=t.map(()=>!1),a=!1;for(let c=0;c<i;c++)Yt(t[c]).subscribe(rt(r,u=>{s[c]=u,!a&&!o[c]&&(o[c]=!0,(a=o.every(ii))&&(o=null))},jo));n.subscribe(rt(r,c=>{if(a){const u=[c,...s];r.next(e?e(...u):u)}}))})}Math,Math,Math;const Rwe=["*"],u1e=["dialog"];function sc(t){return"string"==typeof t}function oc(t){return null!=t}function xl(t){return(t||document.body).getBoundingClientRect()}const Z5={animation:!0,transitionTimerDelayMs:5},tIe=()=>{},{transitionTimerDelayMs:nIe}=Z5,ep=new Map,Ir=(t,e,n,r)=>{let i=r.context||{};const s=ep.get(e);if(s)switch(r.runningTransition){case"continue":return Hr;case"stop":t.run(()=>s.transition$.complete()),i=Object.assign(s.context,i),ep.delete(e)}const o=n(e,r.animation,i)||tIe;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>o()),oe(void 0).pipe(function X1e(t){return e=>new Fe(n=>e.subscribe({next:o=>t.run(()=>n.next(o)),error:o=>t.run(()=>n.error(o)),complete:()=>t.run(()=>n.complete())}))}(t));const a=new Le,c=new Le,u=a.pipe(function rbe(...t){return e=>Wd(e,oe(...t))}(!0));ep.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:i});const l=function eIe(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const d=rn(e,"transitionend").pipe(pt(u),ln(({target:f})=>f===e));(function b5(...t){return 1===(t=v5(t)).length?Yt(t[0]):new Fe(function nbe(t){return e=>{let n=[];for(let r=0;n&&!e.closed&&r<t.length;r++)n.push(Yt(t[r]).subscribe(rt(e,i=>{if(n){for(let s=0;s<n.length;s++)s!==r&&n[s].unsubscribe();n=null}e.next(i)})))}}(t))})(function y5(t=0,e,n=hue){let r=-1;return null!=e&&(dM(e)?n=e:r=e),new Fe(i=>{let s=function ebe(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(l+nIe).pipe(pt(u)),d,c).pipe(pt(u)).subscribe(()=>{ep.delete(e),t.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let gv=(()=>{class t{constructor(){this.animation=Z5.animation}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),a8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),c8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),d8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),h8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})();var nt=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}(nt||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const v8=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function b8(t){const e=Array.from(t.querySelectorAll(v8)).filter(n=>-1!==n.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let R8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),F8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})();class dc{constructor(e,n,r){this.nodes=e,this.viewRef=n,this.componentRef=r}}let tDe=(()=>{class t{constructor(n,r){this._el=n,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(un(1)).subscribe(()=>{Ir(this._zone,this._el.nativeElement,(n,r)=>{r&&xl(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ir(this._zone,this._el.nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(r){return new(r||t)(v(Ue),v(Ie))};static#t=this.\u0275cmp=yt({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,i){2&r&&(ta("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),Be("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Or],decls:0,vars:0,template:function(r,i){},encapsulation:2})}return t})();class L8{update(e){}close(e){}dismiss(e){}}const nDe=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],rDe=["animation","backdropClass"];class iDe{_applyWindowOptions(e,n){nDe.forEach(r=>{oc(n[r])&&(e[r]=n[r])})}_applyBackdropOptions(e,n){rDe.forEach(r=>{oc(n[r])&&(e[r]=n[r])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(pt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(pt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,n,r,i){this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Le,this._dismissed=new Le,this._hidden=new Le,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const n=this._beforeDismiss();!function Y5(t){return t&&t.then}(n)?!1!==n&&this._dismiss(e):n.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():oe(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),vN(e,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var KN=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(KN||{});let sDe=(()=>{class t{constructor(n,r,i){this._document=n,this._elRef=r,this._zone=i,this._closed$=new Le,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new x,this.shown=new Le,this.hidden=new Le}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":sc(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(un(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:n}=this._elRef,r={animation:this.animation,runningTransition:"stop"},o=vN(Ir(this._zone,n,()=>n.classList.remove("show"),r),Ir(this._zone,this._dialogEl.nativeElement,()=>{},r));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const n={animation:this.animation,runningTransition:"continue"};vN(Ir(this._zone,this._elRef.nativeElement,(s,o)=>{o&&xl(s),s.classList.add("show")},n),Ir(this._zone,this._dialogEl.nativeElement,()=>{},n)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{rn(n,"keydown").pipe(pt(this._closed$),ln(i=>i.which===nt.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(KN.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;rn(this._dialogEl.nativeElement,"mousedown").pipe(pt(this._closed$),en(()=>r=!1),si(()=>rn(n,"mouseup").pipe(pt(this._closed$),un(1))),ln(({target:i})=>n===i)).subscribe(()=>{r=!0}),rn(n,"click").pipe(pt(this._closed$)).subscribe(({target:i})=>{n===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(KN.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){const r=n.querySelector("[ngbAutofocus]"),i=b8(n)[0];(r||i||n).focus()}}_restoreFocus(){const n=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&n.contains(r)?r:n,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ir(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(r){return new(r||t)(v(Ft),v(Ue),v(Ie))};static#t=this.\u0275cmp=yt({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(r,i){if(1&r&&ia(u1e,7),2&r){let s;Ye(s=function Qe(){return function YJ(t,e){return t[Oi].queries[e].queryList}(M(),_O())}())&&(i._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,i){2&r&&(ze("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),ta("modal d-block"+(i.windowClass?" "+i.windowClass:"")),Be("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Or],ngContentSelectors:Rwe,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(r,i){1&r&&(function pP(t){const e=M()[kt][kn];if(!e.projection){const r=e.projection=ad(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=t?yY(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),C(0,"div",0,1)(2,"div",2),function gP(t,e=0,n){const r=M(),i=Me(),s=nu(i,Te+t,16,null,n||null);null===s.projection&&(s.projection=e),C0(),(!r[ds]||Oc())&&32!=(32&s.flags)&&function mq(t,e,n){vR(e[he],0,e,n,Z0(t,n,e),fR(n.parent||e[kn],n,e))}(i,r,s)}(3),T()()),2&r&&ta("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return t})(),oDe=(()=>{class t{constructor(n){this._document=n}hide(){const n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:s,paddingRight:o}=i;if(n>0){const a=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${a+n}px`}return i.overflow="hidden",()=>{n>0&&(i.paddingRight=o),i.overflow=s}}static#e=this.\u0275fac=function(r){return new(r||t)(W(Ft))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),aDe=(()=>{class t{constructor(n,r,i,s,o,a,c){this._applicationRef=n,this._injector=r,this._environmentInjector=i,this._document=s,this._scrollBar=o,this._rendererFactory=a,this._ngZone=c,this._activeWindowCmptHasChanged=new Le,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new x,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const u=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{t.runOutsideAngular(()=>{const i=rn(e,"focusin").pipe(pt(n),xe(s=>s.target));rn(e,"keydown").pipe(pt(n),ln(s=>s.which===nt.Tab),bN(i)).subscribe(([s,o])=>{const[a,c]=b8(e);(o===a||o===e)&&s.shiftKey&&(c.focus(),s.preventDefault()),o===c&&!s.shiftKey&&(a.focus(),s.preventDefault())}),r&&rn(e,"click").pipe(pt(n),bN(i),xe(s=>s[1])).subscribe(s=>s.focus())})})(this._ngZone,u.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(u.location.nativeElement)}})}_restoreScrollBar(){const n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,r,i){const s=i.container instanceof HTMLElement?i.container:oc(i.container)?this._document.querySelector(i.container):this._document.body,o=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new L8,c=(n=i.injector||n).get(hr,null)||this._environmentInjector,u=this._getContentRef(n,c,r,a,i);let l=!1!==i.backdrop?this._attachBackdrop(s):void 0,d=this._attachWindowComponent(s,u.nodes),h=new iDe(d,u,l,i.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(d),h.hidden.pipe(un(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=f=>{h.close(f)},a.dismiss=f=>{h.dismiss(f)},a.update=f=>{h.update(f)},h.update(i),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),l&&l.instance&&l.changeDetectorRef.detectChanges(),d.changeDetectorRef.detectChanges(),h}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(r=>r.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let r=Gw(tDe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),n.appendChild(r.location.nativeElement),r}_attachWindowComponent(n,r){let i=Gw(sDe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),n.appendChild(i.location.nativeElement),i}_getContentRef(n,r,i,s,o){return i?i instanceof bt?this._createFromTemplateRef(i,s):sc(i)?this._createFromString(i):this._createFromComponent(n,r,i,s,o):new dc([])}_createFromTemplateRef(n,r){const s=n.createEmbeddedView({$implicit:r,close(o){r.close(o)},dismiss(o){r.dismiss(o)}});return this._applicationRef.attachView(s),new dc([s.rootNodes],s)}_createFromString(n){const r=this._document.createTextNode(`${n}`);return new dc([[r]])}_createFromComponent(n,r,i,s,o){const c=Gw(i,{environmentInjector:r,elementInjector:Gt.create({providers:[{provide:L8,useValue:s}],parent:n})}),u=c.location.nativeElement;return o.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new dc([[u]],c.hostView,c)}_setAriaHidden(n){const r=n.parentElement;r&&n!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==n&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,r)=>{n?r.setAttribute("aria-hidden",n):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){const r=()=>{const i=this._modalRefs.indexOf(n);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(r,r)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{const r=this._windowCmpts.indexOf(n);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(r){return new(r||t)(W(io),W(Gt),W(hr),W(Ft),W(oDe),W(Tb),W(Ie))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),cDe=(()=>{class t{constructor(n){this._ngbConfig=n,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}static#e=this.\u0275fac=function(r){return new(r||t)(W(gv))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),uDe=(()=>{class t{constructor(n,r,i){this._injector=n,this._modalStack=r,this._config=i}open(n,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,n,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(r){return new(r||t)(W(Gt),W(aDe),W(cDe))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),V8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({providers:[uDe]})}return t})(),j8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),Y8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),Q8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),J8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),Z8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),X8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),e6=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),t6=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),n6=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})();new Z("live announcer delay",{providedIn:"root",factory:function CDe(){return 100}});let r6=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),i6=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})();const TDe=[a8,c8,d8,h8,R8,F8,V8,j8,i6,Y8,Q8,J8,Z8,X8,e6,t6,n6,r6];let SDe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({imports:[TDe,a8,c8,d8,h8,R8,F8,V8,j8,i6,Y8,Q8,J8,Z8,X8,e6,t6,n6,r6]})}return t})(),ADe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({imports:[wu,Lye,_5,yN,dh]})}return t})(),xDe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({imports:[wu]})}return t})(),NDe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t,bootstrap:[k0e]});static#n=this.\u0275inj=we({providers:[{provide:g5,useValue:"tinymce/tinymce.min.js"}],imports:[Hte,M0e,P0e,_5,ADe,xDe,Due(()=>Cue(sv_firebaseConfig)),k_e(()=>B_e()),X0e,SDe,yN]})}return t})();jte().bootstrapModule(NDe).catch(t=>console.error(t))},614:()=>{const be=":";const yp=function(I,...w){if(yp.translate){const O=yp.translate(I,w);I=O[0],w=O[1]}let S=Hv(I[0],I.raw[0]);for(let O=1;O<I.length;O++)S+=w[O-1]+Hv(I[O],I.raw[O]);return S},tM=":";function Hv(I,w){return w.charAt(0)===tM?I.substring(function Bl(I,w){for(let S=1,O=1;S<I.length;S++,O++)if("\\"===w[O])O++;else if(I[S]===be)return S;throw new Error(`Unterminated $localize metadata block in "${w}".`)}(I,w)+1):I}globalThis.$localize=yp}},be=>{var Gs=zs=>be(be.s=zs);Gs(614),Gs(199)}]);