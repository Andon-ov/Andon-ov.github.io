"use strict";(self.webpackChunkThe_Natural_Way=self.webpackChunkThe_Natural_Way||[]).push([[179],{886:()=>{function Ie(t){return"function"==typeof t}function gs(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const _a=gs(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ms(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Ut{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ie(r))try{r()}catch(o){e=o instanceof _a?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{ya(o)}catch(s){e=e??[],s instanceof _a?e=[...e,...s.errors]:e.push(s)}}if(e)throw new _a(e)}}add(e){var n;if(e&&e!==this)if(this.closed)ya(e);else{if(e instanceof Ut){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ms(n,e)}remove(e){const{_finalizers:n}=this;n&&ms(n,e),e instanceof Ut&&e._removeParent(this)}}Ut.EMPTY=(()=>{const t=new Ut;return t.closed=!0,t})();const Cd=Ut.EMPTY;function vg(t){return t instanceof Ut||t&&"closed"in t&&Ie(t.remove)&&Ie(t.add)&&Ie(t.unsubscribe)}function ya(t){Ie(t)?t():t.unsubscribe()}const _s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Xc={setTimeout(t,e,...n){const{delegate:r}=Xc;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Xc;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function lb(t){Xc.setTimeout(()=>{const{onUnhandledError:e}=_s;if(!e)throw t;e(t)})}function va(){}const db=Td("C",void 0,void 0);function Td(t,e,n){return{kind:t,value:e,error:n}}let Do=null;function qi(t){if(_s.useDeprecatedSynchronousErrorHandling){const e=!Do;if(e&&(Do={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Do;if(Do=null,n)throw r}}else t()}class eu extends Ut{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,vg(e)&&e.add(this)):this.destination=Dd}static create(e,n,r){return new So(e,n,r)}next(e){this.isStopped?Ed(function fb(t){return Td("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ed(function hb(t){return Td("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ed(db,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const bg=Function.prototype.bind;function tu(t,e){return bg.call(t,e)}class wg{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){$r(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){$r(r)}else $r(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){$r(n)}}}class So extends eu{constructor(e,n,r){let i;if(super(),Ie(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&_s.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&tu(e.next,o),error:e.error&&tu(e.error,o),complete:e.complete&&tu(e.complete,o)}):i=e}this.destination=new wg(i)}}function $r(t){_s.useDeprecatedSynchronousErrorHandling?function pb(t){_s.useDeprecatedSynchronousErrorHandling&&Do&&(Do.errorThrown=!0,Do.error=t)}(t):lb(t)}function Ed(t,e){const{onStoppedNotification:n}=_s;n&&Xc.setTimeout(()=>n(t,e))}const Dd={closed:!0,next:va,error:function Ig(t){throw t},complete:va},Sd="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ii(t){return t}function Tg(t){return 0===t.length?Ii:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let je=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function mb(t){return t&&t instanceof eu||function gb(t){return t&&Ie(t.next)&&Ie(t.error)&&Ie(t.complete)}(t)&&vg(t)}(n)?n:new So(n,r,i);return qi(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Eg(r))((i,o)=>{const s=new So({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Sd](){return this}pipe(...n){return Tg(n)(this)}toPromise(n){return new(n=Eg(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Eg(t){var e;return null!==(e=t??_s.Promise)&&void 0!==e?e:Promise}const _b=gs(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Fe=(()=>{class t extends je{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Dg(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new _b}next(n){qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Cd:(this.currentObservers=null,o.push(n),new Ut(()=>{this.currentObservers=null,ms(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new je;return n.source=this,n}}return t.create=(e,n)=>new Dg(e,n),t})();class Dg extends Fe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Cd}}function xd(t){return Ie(t?.lift)}function St(t){return e=>{if(xd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ut(t,e,n,r,i){return new yb(t,e,n,r,i)}class yb extends eu{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Oe(t,e){return St((n,r)=>{let i=0;n.subscribe(ut(r,o=>{r.next(t.call(e,o,i++))}))})}function ru(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function vr(t){return this instanceof vr?(this.v=t,this):new vr(t)}function br(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function jt(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}(a,c,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Tb=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function jk(t){return Ie(t?.then)}function $k(t){return Ie(t[Sd])}function Hk(t){return Symbol.asyncIterator&&Ie(t?.[Symbol.asyncIterator])}function Gk(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const zk=function uK(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function qk(t){return Ie(t?.[zk])}function Wk(t){return function ba(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(_,y){o.push([h,f,_,y])>1||a(h,f)})})}function a(h,f){try{!function c(h){h.value instanceof vr?Promise.resolve(h.value.v).then(u,l):d(o[0][2],h)}(r[h](f))}catch(_){d(o[0][3],_)}}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield vr(n.read());if(i)return yield vr(void 0);yield yield vr(r)}}finally{n.releaseLock()}})}function Kk(t){return Ie(t?.getReader)}function an(t){if(t instanceof je)return t;if(null!=t){if($k(t))return function lK(t){return new je(e=>{const n=t[Sd]();if(Ie(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Tb(t))return function dK(t){return new je(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(jk(t))return function hK(t){return new je(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,lb)})}(t);if(Hk(t))return Yk(t);if(qk(t))return function fK(t){return new je(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Kk(t))return function pK(t){return Yk(Wk(t))}(t)}throw Gk(t)}function Yk(t){return new je(e=>{(function gK(t,e){var n,r,i,o;return function R(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=br(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function xo(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function cn(t,e,n=1/0){return Ie(e)?cn((r,i)=>Oe((o,s)=>e(r,o,i,s))(an(t(r,i))),n):("number"==typeof e&&(n=e),St((r,i)=>function mK(t,e,n,r,i,o,s,a){const c=[];let u=0,l=0,d=!1;const h=()=>{d&&!c.length&&!u&&e.complete()},f=y=>u<r?_(y):c.push(y),_=y=>{o&&e.next(y),u++;let v=!1;an(n(y,l++)).subscribe(ut(e,T=>{i?.(T),o?f(T):e.next(T)},()=>{v=!0},void 0,()=>{if(v)try{for(u--;c.length&&u<r;){const T=c.shift();s?xo(e,s,()=>_(T)):_(T)}h()}catch(T){e.error(T)}}))};return t.subscribe(ut(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function ou(t=1/0){return cn(Ii,t)}const ai=new je(t=>t.complete());function Qk(t){return t&&Ie(t.schedule)}function Eb(t){return t[t.length-1]}function Ng(t){return Ie(Eb(t))?t.pop():void 0}function Nd(t){return Qk(Eb(t))?t.pop():void 0}function Og(t,e=0){return St((n,r)=>{n.subscribe(ut(r,i=>xo(r,t,()=>r.next(i),e),()=>xo(r,t,()=>r.complete(),e),i=>xo(r,t,()=>r.error(i),e)))})}function Mg(t,e=0){return St((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Jk(t,e){if(!t)throw new Error("Iterable cannot be null");return new je(n=>{xo(n,e,()=>{const r=t[Symbol.asyncIterator]();xo(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function vn(t,e){return e?function TK(t,e){if(null!=t){if($k(t))return function vK(t,e){return an(t).pipe(Mg(e),Og(e))}(t,e);if(Tb(t))return function wK(t,e){return new je(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(jk(t))return function bK(t,e){return an(t).pipe(Mg(e),Og(e))}(t,e);if(Hk(t))return Jk(t,e);if(qk(t))return function IK(t,e){return new je(n=>{let r;return xo(n,e,()=>{r=t[zk](),xo(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Ie(r?.return)&&r.return()})}(t,e);if(Kk(t))return function CK(t,e){return Jk(Wk(t),e)}(t,e)}throw Gk(t)}(t,e):an(t)}class wr extends Fe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function ce(...t){return vn(t,Nd(t))}function Db(t={}){const{connector:e=(()=>new Fe),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,u=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=c=void 0,l=d=!1},_=()=>{const y=s;f(),y?.unsubscribe()};return St((y,v)=>{u++,!d&&!l&&h();const T=c=c??e();v.add(()=>{u--,0===u&&!d&&!l&&(a=Sb(_,i))}),T.subscribe(v),!s&&u>0&&(s=new So({next:w=>T.next(w),error:w=>{d=!0,h(),a=Sb(f,n,w),T.error(w)},complete:()=>{l=!0,h(),a=Sb(f,r),T.complete()}}),an(y).subscribe(s))})(o)}}function Sb(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new So({next:()=>{r.unsubscribe(),t()}});return an(e(...n)).subscribe(r)}function Ci(t,e){return St((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(ut(r,c=>{i?.unsubscribe();let u=0;const l=o++;an(t(c,l)).subscribe(i=ut(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function EK(t,e){return t===e}function et(t){for(let e in t)if(t[e]===et)return e;throw Error("Could not find renamed property on target object.")}function Rg(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function un(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(un).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function xb(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const DK=et({__forward_ref__:et});function Ee(t){return t.__forward_ref__=Ee,t.toString=function(){return un(this())},t}function de(t){return Ab(t)?t():t}function Ab(t){return"function"==typeof t&&t.hasOwnProperty(DK)&&t.__forward_ref__===Ee}function Nb(t){return t&&!!t.\u0275providers}const eP="https://g.co/ng/security#xss";class U extends Error{constructor(e,n){super(function kg(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function fe(t){return"string"==typeof t?t:null==t?"":String(t)}function Ob(t,e){throw new U(-201,!1)}function ci(t,e){null==t&&function ue(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function we(t){return{providers:t.providers||[],imports:t.imports||[]}}function Pg(t){return tP(t,Lg)||tP(t,nP)}function tP(t,e){return t.hasOwnProperty(e)?t[e]:null}function Fg(t){return t&&(t.hasOwnProperty(Mb)||t.hasOwnProperty(kK))?t[Mb]:null}const Lg=et({\u0275prov:et}),Mb=et({\u0275inj:et}),nP=et({ngInjectableDef:et}),kK=et({ngInjectorDef:et});var De=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(De||{});let Rb;function Ir(t){const e=Rb;return Rb=t,e}function iP(t,e,n){const r=Pg(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&De.Optional?null:void 0!==e?e:void Ob(un(t))}const lt=globalThis;class te{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Od={},Vb="__NG_DI_FLAG__",Vg="ngTempTokenPath",LK=/\n/gm,sP="__source";let su;function vs(t){const e=su;return su=t,e}function UK(t,e=De.Default){if(void 0===su)throw new U(-203,!1);return null===su?iP(t,void 0,e):su.get(t,e&De.Optional?null:void 0,e)}function q(t,e=De.Default){return(function rP(){return Rb}()||UK)(de(t),e)}function K(t,e=De.Default){return q(t,Bg(e))}function Bg(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Bb(t){const e=[];for(let n=0;n<t.length;n++){const r=de(t[n]);if(Array.isArray(r)){if(0===r.length)throw new U(900,!1);let i,o=De.Default;for(let s=0;s<r.length;s++){const a=r[s],c=jK(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push(q(i,o))}else e.push(q(r))}return e}function Md(t,e){return t[Vb]=e,t.prototype[Vb]=e,t}function jK(t){return t[Vb]}function Ao(t){return{toString:t}.toString()}var Ug=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ug||{}),Ti=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ti||{});const Wi={},$e=[],jg=et({\u0275cmp:et}),Ub=et({\u0275dir:et}),jb=et({\u0275pipe:et}),cP=et({\u0275mod:et}),No=et({\u0275fac:et}),Rd=et({__NG_ELEMENT_ID__:et}),uP=et({__NG_ENV_ID__:et});function lP(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function $b(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];hP(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function dP(t){return 3===t||4===t||6===t}function hP(t){return 64===t.charCodeAt(0)}function kd(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||fP(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function fP(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const pP="ng-template";function GK(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==lP(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function gP(t){return 4===t.type&&t.value!==pP}function zK(t,e,n){return e===(4!==t.type||n?t.value:pP)}function qK(t,e,n){let r=4;const i=t.attrs||[],o=function YK(t){for(let e=0;e<t.length;e++)if(dP(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!zK(t,c,n)||""===c&&1===e.length){if(Ei(r))return!1;s=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!GK(t.attrs,u,n)){if(Ei(r))return!1;s=!0}continue}const d=WK(8&r?"class":c,i,gP(t),n);if(-1===d){if(Ei(r))return!1;s=!0;continue}if(""!==u){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==lP(f,u,0)||2&r&&u!==h){if(Ei(r))return!1;s=!0}}}}else{if(!s&&!Ei(r)&&!Ei(c))return!1;if(s&&Ei(c))continue;s=!1,r=c|1&r}}return Ei(r)||s}function Ei(t){return 0==(1&t)}function WK(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function QK(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function mP(t,e,n=!1){for(let r=0;r<e.length;r++)if(qK(t,e[r],n))return!0;return!1}function JK(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function _P(t,e){return t?":not("+e.trim()+")":e}function ZK(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Ei(s)&&(e+=_P(o,i),i=""),r=s,o=o||!Ei(r);n++}return""!==i&&(e+=_P(o,i)),e}function Le(t){return Ao(()=>{const e=vP(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ug.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ti.Emulated,styles:t.styles||$e,_:null,schemas:t.schemas||null,tView:null,id:""};bP(n);const r=t.dependencies;return n.directiveDefs=$g(r,!1),n.pipeDefs=$g(r,!0),n.id=function sY(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function nY(t){return Me(t)||Mn(t)}function rY(t){return null!==t}function Ce(t){return Ao(()=>({type:t.type,bootstrap:t.bootstrap||$e,declarations:t.declarations||$e,imports:t.imports||$e,exports:t.exports||$e,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function yP(t,e){if(null==t)return Wi;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function H(t){return Ao(()=>{const e=vP(t);return bP(e),e})}function Wn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Me(t){return t[jg]||null}function Mn(t){return t[Ub]||null}function ir(t){return t[jb]||null}function Gr(t,e){const n=t[cP]||null;if(!n&&!0===e)throw new Error(`Type ${un(t)} does not have '\u0275mod' property.`);return n}function vP(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Wi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||$e,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:yP(t.inputs,e),outputs:yP(t.outputs)}}function bP(t){t.features?.forEach(e=>e(t))}function $g(t,e){if(!t)return null;const n=e?ir:nY;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(rY)}const Rt=0,ee=1,ye=2,Ct=3,Di=4,Pd=5,Kn=6,cu=7,$t=8,bs=9,uu=10,pe=11,Fd=12,wP=13,lu=14,Ht=15,Ld=16,du=17,Ki=18,Vd=19,IP=20,ws=21,Oo=22,Bd=23,Ud=24,Se=25,Hb=1,CP=2,Yi=7,hu=9,Rn=11;function Cr(t){return Array.isArray(t)&&"object"==typeof t[Hb]}function or(t){return Array.isArray(t)&&!0===t[Hb]}function Gb(t){return 0!=(4&t.flags)}function Ca(t){return t.componentOffset>-1}function Gg(t){return 1==(1&t.flags)}function Si(t){return!!t.template}function zb(t){return 0!=(512&t[ye])}function Ta(t,e){return t.hasOwnProperty(No)?t[No]:null}let kn=null,zg=!1;function ui(t){const e=kn;return kn=t,e}const DP={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function xP(t){if(!$d(t)||t.dirty){if(!t.producerMustRecompute(t)&&!OP(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function NP(t){t.dirty=!0,function AP(t){if(void 0===t.liveConsumerNode)return;const e=zg;zg=!0;try{for(const n of t.liveConsumerNode)n.dirty||NP(n)}finally{zg=e}}(t),t.consumerMarkedDirty?.(t)}function Wb(t){return t&&(t.nextProducerIndex=0),ui(t)}function Kb(t,e){if(ui(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if($d(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)qg(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function OP(t){fu(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(xP(n),r!==n.version))return!0}return!1}function MP(t){if(fu(t),$d(t))for(let e=0;e<t.producerNode.length;e++)qg(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function qg(t,e){if(function kP(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),fu(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)qg(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];fu(i),i.producerIndexOfThis[r]=e}}function $d(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function fu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let PP=null;const BP=()=>{},vY=(()=>({...DP,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:BP}))();class bY{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Pn(){return UP}function UP(t){return t.type.prototype.ngOnChanges&&(t.setInput=IY),wY}function wY(){const t=$P(this),e=t?.current;if(e){const n=t.previous;if(n===Wi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function IY(t,e,n,r){const i=this.declaredInputs[n],o=$P(t)||function CY(t,e){return t[jP]=e}(t,{previous:Wi,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new bY(c&&c.currentValue,e,a===Wi),t[r]=e}Pn.ngInherit=!0;const jP="__ngSimpleChanges__";function $P(t){return t[jP]||null}const Qi=function(t,e,n){},HP="svg";function dt(t){for(;Array.isArray(t);)t=t[Rt];return t}function Wg(t,e){return dt(e[t])}function Tr(t,e){return dt(e[t.index])}function zP(t,e){return t.data[e]}function pu(t,e){return t[e]}function zr(t,e){const n=e[t];return Cr(n)?n:n[Rt]}function Cs(t,e){return null==e?null:t[e]}function qP(t){t[du]=0}function AY(t){1024&t[ye]||(t[ye]|=1024,KP(t,1))}function WP(t){1024&t[ye]&&(t[ye]&=-1025,KP(t,-1))}function KP(t,e){let n=t[Ct];if(null===n)return;n[Pd]+=e;let r=n;for(n=n[Ct];null!==n&&(1===e&&1===r[Pd]||-1===e&&0===r[Pd]);)n[Pd]+=e,r=n,n=n[Ct]}const le={lFrame:o2(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function JP(){return le.bindingsEnabled}function gu(){return null!==le.skipHydrationRootTNode}function L(){return le.lFrame.lView}function Re(){return le.lFrame.tView}function Ye(t){return le.lFrame.contextLView=t,t[$t]}function Qe(t){return le.lFrame.contextLView=null,t}function Fn(){let t=ZP();for(;null!==t&&64===t.type;)t=t.parent;return t}function ZP(){return le.lFrame.currentTNode}function Ji(t,e){const n=le.lFrame;n.currentTNode=t,n.isParent=e}function Xb(){return le.lFrame.isParent}function e1(){le.lFrame.isParent=!1}function sr(){const t=le.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function mu(){return le.lFrame.bindingIndex++}function Ro(t){const e=le.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function jY(t,e){const n=le.lFrame;n.bindingIndex=n.bindingRootIndex=t,t1(e)}function t1(t){le.lFrame.currentDirectiveIndex=t}function n2(){return le.lFrame.currentQueryIndex}function r1(t){le.lFrame.currentQueryIndex=t}function HY(t){const e=t[ee];return 2===e.type?e.declTNode:1===e.type?t[Kn]:null}function r2(t,e,n){if(n&De.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&De.Host||(i=HY(o),null===i||(o=o[lu],10&i.type))););if(null===i)return!1;e=i,t=o}const r=le.lFrame=i2();return r.currentTNode=e,r.lView=t,!0}function i1(t){const e=i2(),n=t[ee];le.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function i2(){const t=le.lFrame,e=null===t?null:t.child;return null===e?o2(t):e}function o2(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function s2(){const t=le.lFrame;return le.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const a2=s2;function o1(){const t=s2();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ar(){return le.lFrame.selectedIndex}function Ea(t){le.lFrame.selectedIndex=t}function xt(){const t=le.lFrame;return zP(t.tView,t.selectedIndex)}function ko(){le.lFrame.currentNamespace=HP}function _u(){!function WY(){le.lFrame.currentNamespace=null}()}let u2=!0;function Kg(){return u2}function Ts(t){u2=t}function Yg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Qg(t,e,n){l2(t,e,3,n)}function Jg(t,e,n,r){(3&t[ye])===n&&l2(t,e,n,r)}function s1(t,e){let n=t[ye];(3&n)===e&&(n&=8191,n+=1,t[ye]=n)}function l2(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&t[du]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[du]+=65536),(a<o||-1==o)&&(YY(t,n,e,c),t[du]=(4294901760&t[du])+c+2),c++}function d2(t,e){Qi(4,t,e);const n=ui(null);try{e.call(t)}finally{ui(n),Qi(5,t,e)}}function YY(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[ye]>>13<t[du]>>16&&(3&t[ye])===e&&(t[ye]+=8192,d2(a,o)):d2(a,o)}const yu=-1;class Gd{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function c1(t){return t!==yu}function zd(t){return 32767&t}function qd(t,e){let n=function XY(t){return t>>16}(t),r=e;for(;n>0;)r=r[lu],n--;return r}let u1=!0;function Zg(t){const e=u1;return u1=t,e}const h2=255,f2=5;let eQ=0;const Zi={};function Xg(t,e){const n=p2(t,e);if(-1!==n)return n;const r=e[ee];r.firstCreatePass&&(t.injectorIndex=e.length,l1(r.data,t),l1(e,null),l1(r.blueprint,null));const i=em(t,e),o=t.injectorIndex;if(c1(i)){const s=zd(i),a=qd(i,e),c=a[ee].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function l1(t,e){t.push(0,0,0,0,0,0,0,0,e)}function p2(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function em(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=w2(i),null===r)return yu;if(n++,i=i[lu],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return yu}function d1(t,e,n){!function tQ(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Rd)&&(r=n[Rd]),null==r&&(r=n[Rd]=eQ++);const i=r&h2;e.data[t+(i>>f2)]|=1<<i}(t,e,n)}function g2(t,e,n){if(n&De.Optional||void 0!==t)return t;Ob()}function m2(t,e,n,r){if(n&De.Optional&&void 0===r&&(r=null),!(n&(De.Self|De.Host))){const i=t[bs],o=Ir(void 0);try{return i?i.get(e,r,n&De.Optional):iP(e,r,n&De.Optional)}finally{Ir(o)}}return g2(r,0,n)}function _2(t,e,n,r=De.Default,i){if(null!==t){if(2048&e[ye]&&!(r&De.Self)){const s=function aQ(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[ye]&&!(512&s[ye]);){const a=y2(o,s,n,r|De.Self,Zi);if(a!==Zi)return a;let c=o.parent;if(!c){const u=s[IP];if(u){const l=u.get(n,Zi,r);if(l!==Zi)return l}c=w2(s),s=s[lu]}o=c}return i}(t,e,n,r,Zi);if(s!==Zi)return s}const o=y2(t,e,n,r,Zi);if(o!==Zi)return o}return m2(e,n,r,i)}function y2(t,e,n,r,i){const o=function iQ(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Rd)?t[Rd]:void 0;return"number"==typeof e?e>=0?e&h2:sQ:e}(n);if("function"==typeof o){if(!r2(e,t,r))return r&De.Host?g2(i,0,r):m2(e,n,r,i);try{let s;if(s=o(r),null!=s||r&De.Optional)return s;Ob()}finally{a2()}}else if("number"==typeof o){let s=null,a=p2(t,e),c=yu,u=r&De.Host?e[Ht][Kn]:null;for((-1===a||r&De.SkipSelf)&&(c=-1===a?em(t,e):e[a+8],c!==yu&&b2(r,!1)?(s=e[ee],a=zd(c),e=qd(c,e)):a=-1);-1!==a;){const l=e[ee];if(v2(o,a,l.data)){const d=rQ(a,e,n,s,r,u);if(d!==Zi)return d}c=e[a+8],c!==yu&&b2(r,e[ee].data[a+8]===u)&&v2(o,a,e)?(s=l,a=zd(c),e=qd(c,e)):a=-1}}return i}function rQ(t,e,n,r,i,o){const s=e[ee],a=s.data[t+8],l=tm(a,s,n,null==r?Ca(a)&&u1:r!=s&&0!=(3&a.type),i&De.Host&&o===a);return null!==l?Da(e,s,l,a):Zi}function tm(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,l=o>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const _=s[f];if(f<c&&n===_||f>=c&&_.type===n)return f}if(i){const f=s[c];if(f&&Si(f)&&f.type===n)return c}return null}function Da(t,e,n,r){let i=t[n];const o=e.data;if(function QY(t){return t instanceof Gd}(i)){const s=i;s.resolving&&function SK(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new U(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ke(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():fe(t)}(o[n]));const a=Zg(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Ir(s.injectImpl):null;r2(t,r,De.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function KY(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=UP(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==u&&Ir(u),Zg(a),s.resolving=!1,a2()}}return i}function v2(t,e,n){return!!(n[e+(t>>f2)]&1<<t)}function b2(t,e){return!(t&De.Self||t&De.Host&&e)}class cr{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return _2(this._tNode,this._lView,e,Bg(r),n)}}function sQ(){return new cr(Fn(),L())}function Gt(t){return Ao(()=>{const e=t.prototype.constructor,n=e[No]||h1(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[No]||h1(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function h1(t){return Ab(t)?()=>{const e=h1(de(t));return e&&e()}:Ta(t)}function w2(t){const e=t[ee],n=e.type;return 2===n?e.declTNode:1===n?t[Kn]:null}const bu="__parameters__";function Iu(t,e,n){return Ao(()=>{const r=function f1(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,u,l){const d=c.hasOwnProperty(bu)?c[bu]:Object.defineProperty(c,bu,{value:[]})[bu];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Tu(t,e){t.forEach(n=>Array.isArray(n)?Tu(n,e):e(n))}function C2(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function nm(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Yd(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function qr(t,e,n){let r=Eu(t,e);return r>=0?t[1|r]=n:(r=~r,function pQ(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function p1(t,e){const n=Eu(t,e);if(n>=0)return t[1|n]}function Eu(t,e){return function T2(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const Er=Md(Iu("Optional"),8),im=Md(Iu("SkipSelf"),4);function um(t){return 128==(128&t.flags)}var Es=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Es||{});const PQ=/^>|^->|<!--|-->|--!>|<!-$/g,FQ=/(<|>)/g,LQ="\u200b$1\u200b";const v1=new Map;let VQ=0;const w1="__ngContext__";function Yn(t,e){Cr(e)?(t[w1]=e[Vd],function UQ(t){v1.set(t[Vd],t)}(e)):t[w1]=e}let I1;function C1(t,e){return I1(t,e)}function Zd(t){const e=t[Ct];return or(e)?e[Ct]:e}function G2(t){return q2(t[Fd])}function z2(t){return q2(t[Di])}function q2(t){for(;null!==t&&!or(t);)t=t[Di];return t}function xu(t,e,n,r,i){if(null!=r){let o,s=!1;or(r)?o=r:Cr(r)&&(s=!0,r=r[Rt]);const a=dt(r);0===t&&null!==n?null==i?Q2(e,n,a):xa(e,n,a,i||null,!0):1===t&&null!==n?xa(e,n,a,i||null,!0):2===t?function mm(t,e,n){const r=pm(t,e);r&&function oJ(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function cJ(t,e,n,r,i){const o=n[Yi];o!==dt(n)&&xu(e,t,r,o,i);for(let a=Rn;a<n.length;a++){const c=n[a];eh(c[ee],c,t,e,r,o)}}(e,t,o,n,i)}}function T1(t,e){return t.createComment(function F2(t){return t.replace(PQ,e=>e.replace(FQ,LQ))}(e))}function hm(t,e,n){return t.createElement(e,n)}function K2(t,e){const n=t[hu],r=n.indexOf(e);WP(e),n.splice(r,1)}function fm(t,e){if(t.length<=Rn)return;const n=Rn+e,r=t[n];if(r){const i=r[Ld];null!==i&&i!==t&&K2(i,r),e>0&&(t[n-1][Di]=r[Di]);const o=nm(t,Rn+e);!function JQ(t,e){eh(t,e,e[pe],2,null,null),e[Rt]=null,e[Kn]=null}(r[ee],r);const s=o[Ki];null!==s&&s.detachView(o[ee]),r[Ct]=null,r[Di]=null,r[ye]&=-129}return r}function E1(t,e){if(!(256&e[ye])){const n=e[pe];e[Bd]&&MP(e[Bd]),e[Ud]&&MP(e[Ud]),n.destroyNode&&eh(t,e,n,3,null,null),function eJ(t){let e=t[Fd];if(!e)return D1(t[ee],t);for(;e;){let n=null;if(Cr(e))n=e[Fd];else{const r=e[Rn];r&&(n=r)}if(!n){for(;e&&!e[Di]&&e!==t;)Cr(e)&&D1(e[ee],e),e=e[Ct];null===e&&(e=t),Cr(e)&&D1(e[ee],e),n=e&&e[Di]}e=n}}(e)}}function D1(t,e){if(!(256&e[ye])){e[ye]&=-129,e[ye]|=256,function iJ(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Gd)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];Qi(4,a,c);try{c.call(a)}finally{Qi(5,a,c)}}else{Qi(4,i,o);try{o.call(i)}finally{Qi(5,i,o)}}}}}(t,e),function rJ(t,e){const n=t.cleanup,r=e[cu];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[cu]=null);const i=e[ws];if(null!==i){e[ws]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[ee].type&&e[pe].destroy();const n=e[Ld];if(null!==n&&or(e[Ct])){n!==e[Ct]&&K2(n,e);const r=e[Ki];null!==r&&r.detachView(t)}!function jQ(t){v1.delete(t[Vd])}(e)}}function S1(t,e,n){return function Y2(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Rt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===Ti.None||o===Ti.Emulated)return null}return Tr(r,n)}}(t,e.parent,n)}function xa(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Q2(t,e,n){t.appendChild(e,n)}function J2(t,e,n,r,i){null!==r?xa(t,e,n,r,i):Q2(t,e,n)}function pm(t,e){return t.parentNode(e)}function Z2(t,e,n){return eF(t,e,n)}let x1,_m,M1,ym,eF=function X2(t,e,n){return 40&t.type?Tr(t,n):null};function gm(t,e,n,r){const i=S1(t,r,e),o=e[pe],a=Z2(r.parent||e[Kn],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)J2(o,i,n[c],a,!1);else J2(o,i,n,a,!1);void 0!==x1&&x1(o,r,e,n,i)}function Xd(t,e){if(null!==e){const n=e.type;if(3&n)return Tr(e,t);if(4&n)return A1(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Xd(t,r);{const i=t[e.index];return or(i)?A1(-1,i):dt(i)}}if(32&n)return C1(e,t)()||dt(t[e.index]);{const r=nF(t,e);return null!==r?Array.isArray(r)?r[0]:Xd(Zd(t[Ht]),r):Xd(t,e.next)}}return null}function nF(t,e){return null!==e?t[Ht][Kn].projection[e.projection]:null}function A1(t,e){const n=Rn+t+1;if(n<e.length){const r=e[n],i=r[ee].firstChild;if(null!==i)return Xd(r,i)}return e[Yi]}function N1(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===e&&(a&&Yn(dt(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)N1(t,e,n.child,r,i,o,!1),xu(e,t,i,a,o);else if(32&c){const u=C1(n,r);let l;for(;l=u();)xu(e,t,i,l,o);xu(e,t,i,a,o)}else 16&c?iF(t,e,r,n,i,o):xu(e,t,i,a,o);n=s?n.projectionNext:n.next}}function eh(t,e,n,r,i,o){N1(n,r,t.firstChild,e,i,o,!1)}function iF(t,e,n,r,i,o){const s=n[Ht],c=s[Kn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)xu(e,t,i,c[u],o);else{let u=c;const l=s[Ct];um(r)&&(u.flags|=128),N1(t,e,u,l,i,o,!0)}}function oF(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function sF(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&$b(t,e,r),null!==i&&oF(t,e,i),null!==o&&function lJ(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function Au(t){return function O1(){if(void 0===_m&&(_m=null,lt.trustedTypes))try{_m=lt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return _m}()?.createHTML(t)||t}function uF(t){return function R1(){if(void 0===ym&&(ym=null,lt.trustedTypes))try{ym=lt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ym}()?.createScriptURL(t)||t}class Aa{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${eP})`}}class gJ extends Aa{getTypeName(){return"HTML"}}class mJ extends Aa{getTypeName(){return"Style"}}class _J extends Aa{getTypeName(){return"Script"}}class yJ extends Aa{getTypeName(){return"URL"}}class vJ extends Aa{getTypeName(){return"ResourceURL"}}function Wr(t){return t instanceof Aa?t.changingThisBreaksApplicationSecurity:t}function Xi(t,e){const n=function bJ(t){return t instanceof Aa&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${eP})`)}return n===e}class DJ{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(Au(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class SJ{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=Au(e),n}}const AJ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function vm(t){return(t=String(t)).match(AJ)?t:"unsafe:"+t}function Po(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function th(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const dF=Po("area,br,col,hr,img,wbr"),hF=Po("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fF=Po("rp,rt"),k1=th(dF,th(hF,Po("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),th(fF,Po("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),th(fF,hF)),P1=Po("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),pF=th(P1,Po("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Po("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),NJ=Po("script,style,template");class OJ{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!k1.hasOwnProperty(n))return this.sanitizedSomething=!0,!NJ.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!pF.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;P1[a]&&(c=vm(c)),this.buf.push(" ",s,'="',gF(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();k1.hasOwnProperty(n)&&!dF.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(gF(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const MJ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,RJ=/([^\#-~ |!])/g;function gF(t){return t.replace(/&/g,"&amp;").replace(MJ,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(RJ,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let bm;function mF(t,e){let n=null;try{bm=bm||function lF(t){const e=new SJ(t);return function xJ(){try{return!!(new window.DOMParser).parseFromString(Au(""),"text/html")}catch{return!1}}()?new DJ(e):e}(t);let r=e?String(e):"";n=bm.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=bm.getInertBodyElement(r)}while(r!==o);return Au((new OJ).sanitizeChildren(F1(n)||n))}finally{if(n){const r=F1(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function F1(t){return"content"in t&&function kJ(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var di=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(di||{});function Ds(t){const e=nh();return e?e.sanitize(di.URL,t)||"":Xi(t,"URL")?Wr(t):vm(fe(t))}function wm(t){const e=nh();if(e)return uF(e.sanitize(di.RESOURCE_URL,t)||"");if(Xi(t,"ResourceURL"))return uF(Wr(t));throw new U(904,!1)}function nh(){const t=L();return t&&t[uu].sanitizer}const rh=new te("ENVIRONMENT_INITIALIZER"),yF=new te("INJECTOR",-1),vF=new te("INJECTOR_DEF_TYPES");class L1{get(e,n=Od){if(n===Od){const r=new Error(`NullInjectorError: No provider for ${un(e)}!`);throw r.name="NullInjectorError",r}return n}}function jJ(...t){return{\u0275providers:wF(0,t),\u0275fromNgModule:!0}}function wF(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Tu(e,s=>{const a=s;Im(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&IF(i,o),n}function IF(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];V1(i,o=>{e(o,r)})}}function Im(t,e,n,r){if(!(t=de(t)))return!1;let i=null,o=Fg(t);const s=!o&&Me(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const c=t.ngModule;if(o=Fg(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of c)Im(u,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{Tu(o.imports,l=>{Im(l,e,n,r)&&(u||=[],u.push(l))})}finally{}void 0!==u&&IF(u,e)}if(!a){const u=Ta(i)||(()=>new i);e({provide:i,useFactory:u,deps:$e},i),e({provide:vF,useValue:i,multi:!0},i),e({provide:rh,useValue:()=>q(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const u=t;V1(c,l=>{e(l,u)})}}}return i!==t&&void 0!==t.providers}function V1(t,e){for(let n of t)Nb(n)&&(n=n.\u0275providers),Array.isArray(n)?V1(n,e):e(n)}const $J=et({provide:String,useValue:et});function B1(t){return null!==t&&"object"==typeof t&&$J in t}function Na(t){return"function"==typeof t}const U1=new te("Set Injector scope."),Cm={},GJ={};let j1;function Tm(){return void 0===j1&&(j1=new L1),j1}class Sr{}class Ou extends Sr{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,H1(e,s=>this.processProvider(s)),this.records.set(yF,Mu(void 0,this)),i.has("environment")&&this.records.set(Sr,Mu(void 0,this));const o=this.records.get(U1);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(vF.multi,$e,De.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=vs(this),r=Ir(void 0);try{return e()}finally{vs(n),Ir(r)}}get(e,n=Od,r=De.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(uP))return e[uP](this);r=Bg(r);const o=vs(this),s=Ir(void 0);try{if(!(r&De.SkipSelf)){let c=this.records.get(e);if(void 0===c){const u=function YJ(t){return"function"==typeof t||"object"==typeof t&&t instanceof te}(e)&&Pg(e);c=u&&this.injectableDefInScope(u)?Mu($1(e),Cm):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&De.Self?Tm():this.parent).get(e,n=r&De.Optional&&n===Od?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Vg]=a[Vg]||[]).unshift(un(e)),o)throw a;return function $K(t,e,n,r){const i=t[Vg];throw e[sP]&&i.unshift(e[sP]),t.message=function HK(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=un(e);if(Array.isArray(e))i=e.map(un).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):un(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(LK,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Vg]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Ir(s),vs(o)}}resolveInjectorInitializers(){const e=vs(this),n=Ir(void 0);try{const i=this.get(rh.multi,$e,De.Self);for(const o of i)o()}finally{vs(e),Ir(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(un(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new U(205,!1)}processProvider(e){let n=Na(e=de(e))?e:de(e&&e.provide);const r=function qJ(t){return B1(t)?Mu(void 0,t.useValue):Mu(EF(t),Cm)}(e);if(Na(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Mu(void 0,Cm,!0),i.factory=()=>Bb(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Cm&&(n.value=GJ,n.value=n.factory()),"object"==typeof n.value&&n.value&&function KJ(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=de(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function $1(t){const e=Pg(t),n=null!==e?e.factory:Ta(t);if(null!==n)return n;if(t instanceof te)throw new U(204,!1);if(t instanceof Function)return function zJ(t){const e=t.length;if(e>0)throw Yd(e,"?"),new U(204,!1);const n=function RK(t){return t&&(t[Lg]||t[nP])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new U(204,!1)}function EF(t,e,n){let r;if(Na(t)){const i=de(t);return Ta(i)||$1(i)}if(B1(t))r=()=>de(t.useValue);else if(function TF(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Bb(t.deps||[]));else if(function CF(t){return!(!t||!t.useExisting)}(t))r=()=>q(de(t.useExisting));else{const i=de(t&&(t.useClass||t.provide));if(!function WJ(t){return!!t.deps}(t))return Ta(i)||$1(i);r=()=>new i(...Bb(t.deps))}return r}function Mu(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function H1(t,e){for(const n of t)Array.isArray(n)?H1(n,e):n&&Nb(n)?H1(n.\u0275providers,e):e(n)}const Em=new te("AppId",{providedIn:"root",factory:()=>QJ}),QJ="ng",DF=new te("Platform Initializer"),Fo=new te("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),SF=new te("CSP nonce",{providedIn:"root",factory:()=>function Nu(){if(void 0!==M1)return M1;if(typeof document<"u")return document;throw new U(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let xF=(t,e,n)=>null;function J1(t,e,n=!1){return xF(t,e,n)}class sZ{}class OF{}class cZ{resolveComponentFactory(e){throw function aZ(t){const e=Error(`No component factory found for ${un(t)}.`);return e.ngComponent=t,e}(e)}}let Om=(()=>{class t{static#e=this.NULL=new cZ}return t})();function uZ(){return Pu(Fn(),L())}function Pu(t,e){return new He(Tr(t,e))}let He=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=uZ}return t})();function lZ(t){return t instanceof He?t.nativeElement:t}class ew{}let xr=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function dZ(){const t=L(),n=zr(Fn().index,t);return(Cr(n)?n:t)[pe]}()}return t})(),hZ=(()=>{class t{static#e=this.\u0275prov=z({token:t,providedIn:"root",factory:()=>null})}return t})();class Fu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const tw=new Fu("16.2.12"),nw={};function FF(t,e=null,n=null,r){const i=LF(t,e,n,r);return i.resolveInjectorInitializers(),i}function LF(t,e=null,n=null,r,i=new Set){const o=[n||$e,jJ(t)];return r=r||("object"==typeof t?void 0:un(t)),new Ou(o,e||Tm(),r||null,i)}let en=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Od;static#t=this.NULL=new L1;static create(n,r){if(Array.isArray(n))return FF({name:""},r,n,"");{const i=n.name??"";return FF({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=z({token:t,providedIn:"any",factory:()=>q(yF)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function rw(t){return t.ngOriginalError}class Lo{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&rw(e);for(;n&&rw(n);)n=rw(n);return n||null}}function iw(t){return e=>{setTimeout(t,void 0,e)}}const P=class bZ extends Fe{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=iw(o),i&&(i=iw(i)),s&&(s=iw(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ut&&e.add(a),a}};function BF(...t){}class Te{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new P(!1),this.onMicrotaskEmpty=new P(!1),this.onStable=new P(!1),this.onError=new P(!1),typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function wZ(){const t="function"==typeof lt.requestAnimationFrame;let e=lt[t?"requestAnimationFrame":"setTimeout"],n=lt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function TZ(t){const e=()=>{!function CZ(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(lt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,sw(t),t.isCheckStableRunning=!0,ow(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),sw(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function DZ(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return UF(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),jF(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return UF(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),jF(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,sw(t),ow(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Te.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(Te.isInAngularZone())throw new U(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,IZ,BF,BF);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const IZ={};function ow(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function sw(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function UF(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function jF(t){t._nesting--,ow(t)}class EZ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new P,this.onMicrotaskEmpty=new P,this.onStable=new P,this.onError=new P}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const $F=new te("",{providedIn:"root",factory:HF});function HF(){const t=K(Te);let e=!0;return function Zk(...t){const e=Nd(t),n=function yK(t,e){return"number"==typeof Eb(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?an(r[0]):ou(n)(vn(r,e)):ai}(new je(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new je(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{Te.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Db()))}function GF(t){return t.ownerDocument.defaultView}function Vo(t){return t instanceof Function?t():t}let aw=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}return t})();function sh(t){for(;t;){t[ye]|=64;const e=Zd(t);if(zb(t)&&!e)return t;t=e}return null}const YF=new te("",{providedIn:"root",factory:()=>!1});let km=null;function XF(t,e){return t[e]??nL()}function eL(t,e){const n=nL();n.producerNode?.length&&(t[e]=km,n.lView=t,km=tL())}const PZ={...DP,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{sh(t.lView)},lView:null};function tL(){return Object.create(PZ)}function nL(){return km??=tL(),km}const _e={};function C(t){rL(Re(),L(),ar()+t,!1)}function rL(t,e,n,r){if(!r)if(3==(3&e[ye])){const o=t.preOrderCheckHooks;null!==o&&Qg(e,o,n)}else{const o=t.preOrderHooks;null!==o&&Jg(e,o,0,n)}Ea(n)}function b(t,e=De.Default){const n=L();return null===n?q(t,e):_2(Fn(),n,de(t),e)}function Pm(t,e,n,r,i,o,s,a,c,u,l){const d=e.blueprint.slice();return d[Rt]=i,d[ye]=140|r,(null!==u||t&&2048&t[ye])&&(d[ye]|=2048),qP(d),d[Ct]=d[lu]=t,d[$t]=n,d[uu]=s||t&&t[uu],d[pe]=a||t&&t[pe],d[bs]=c||t&&t[bs]||null,d[Kn]=o,d[Vd]=function BQ(){return VQ++}(),d[Oo]=l,d[IP]=u,d[Ht]=2==e.type?t[Ht]:d,d}function Uu(t,e,n,r,i){let o=t.data[e];if(null===o)o=function cw(t,e,n,r,i){const o=ZP(),s=Xb(),c=t.data[e]=function HZ(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return gu()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(t,e,n,r,i),function UY(){return le.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Hd(){const t=le.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Ji(o,!0),o}function ah(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function oL(t,e,n,r,i){const o=XF(e,Bd),s=ar(),a=2&r;try{Ea(-1),a&&e.length>Se&&rL(t,e,Se,!1),Qi(a?2:0,i);const u=a?o:null,l=Wb(u);try{null!==u&&(u.dirty=!1),n(r,i)}finally{Kb(u,l)}}finally{a&&null===e[Bd]&&eL(e,Bd),Ea(s),Qi(a?3:1,i)}}function uw(t,e,n){if(Gb(e)){const r=ui(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{ui(r)}}}function lw(t,e,n){JP()&&(function QZ(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;Ca(n)&&function rX(t,e,n){const r=Tr(e,t),i=sL(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=Fm(t,Pm(t,i,null,s,r,e,null,t[uu].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Xg(n,e),Yn(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const c=t.data[a],u=Da(e,t,a,n);Yn(u,e),null!==s&&iX(0,a-i,u,c,0,s),Si(c)&&(zr(n.index,e)[$t]=Da(e,t,a,n))}}(t,e,n,Tr(n,e)),64==(64&n.flags)&&dL(t,e,n))}function dw(t,e,n=Tr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function sL(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=hw(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function hw(t,e,n,r,i,o,s,a,c,u,l){const d=Se+r,h=d+i,f=function LZ(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:_e);return n}(d,h),_="function"==typeof u?u():u;return f[ee]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:_,incompleteFirstPass:!1,ssrId:l}}let aL=t=>null;function cL(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?uL(n,e,i,o):r.hasOwnProperty(i)&&uL(n,e,r[i],o)}return n}function uL(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Kr(t,e,n,r,i,o,s,a){const c=Tr(e,n);let l,u=e.inputs;!a&&null!=u&&(l=u[r])?(_w(t,n,l,r,i),Ca(e)&&function qZ(t,e){const n=zr(e,t);16&n[ye]||(n[ye]|=64)}(n,e.index)):3&e.type&&(r=function zZ(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(c,r,i))}function fw(t,e,n,r){if(JP()){const i=null===r?null:{"":-1},o=function ZZ(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(mP(e,s.selectors,!1))if(r||(r=[]),Si(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),pw(t,e,a.length)}else r.unshift(s),pw(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&lL(t,e,n,s,i,a),i&&function XZ(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new U(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=kd(n.mergedAttrs,n.attrs)}function lL(t,e,n,r,i,o){for(let u=0;u<r.length;u++)d1(Xg(n,e),t,r[u].type);!function tX(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let u=0;u<r.length;u++){const l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=ah(t,e,r.length,null);for(let u=0;u<r.length;u++){const l=r[u];n.mergedAttrs=kd(n.mergedAttrs,l.hostAttrs),nX(t,n,e,c,l),eX(c,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function GZ(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let c=null,u=null;for(let l=e.directiveStart;l<i;l++){const d=o[l],h=n?n.get(d):null,_=h?h.outputs:null;c=cL(d.inputs,l,c,h?h.inputs:null),u=cL(d.outputs,l,u,_);const y=null===c||null===s||gP(e)?null:oX(c,l,s);a.push(y)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}(t,n,o)}function dL(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function $Y(){return le.lFrame.currentDirectiveIndex}();try{Ea(o);for(let a=r;a<i;a++){const c=t.data[a],u=e[a];t1(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&JZ(c,u)}}finally{Ea(-1),t1(s)}}function JZ(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function pw(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function eX(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Si(e)&&(n[""]=t)}}function nX(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Ta(i.type)),s=new Gd(o,Si(i),b);t.blueprint[r]=s,n[r]=s,function KZ(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function YZ(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,ah(t,n,i.hostVars,_e),i)}function eo(t,e,n,r,i,o){const s=Tr(t,e);!function gw(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?fe(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[pe],s,o,t.value,n,r,i)}function iX(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)hL(r,n,s[a++],s[a++],s[a++])}function hL(t,e,n,r,i){const o=ui(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{ui(o)}}function oX(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function fL(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function pL(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];r1(n[r]),s.contentQueries(2,e[o],o)}}}function Fm(t,e){return t[Fd]?t[wP][Di]=e:t[Fd]=e,t[wP]=e,e}function mw(t,e,n){r1(0);const r=ui(null);try{e(t,n)}finally{ui(r)}}function gL(t){return t[cu]||(t[cu]=[])}function mL(t){return t.cleanup||(t.cleanup=[])}function yL(t,e){const n=t[bs],r=n?n.get(Lo,null):null;r&&r.handleError(e)}function _w(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];hL(t.data[s],e[s],r,a,i)}}function Bo(t,e,n){const r=Wg(e,t);!function W2(t,e,n){t.setValue(e,n)}(t[pe],r,n)}function sX(t,e){const n=zr(e,t),r=n[ee];!function aX(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Rt];null!==i&&null===n[Oo]&&(n[Oo]=J1(i,n[bs])),yw(r,n,n[$t])}function yw(t,e,n){i1(e);try{const r=t.viewQuery;null!==r&&mw(1,r,n);const i=t.template;null!==i&&oL(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&pL(t,e),t.staticViewQueries&&mw(2,t.viewQuery,n);const o=t.components;null!==o&&function cX(t,e){for(let n=0;n<e.length;n++)sX(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ye]&=-5,o1()}}let vL=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function yY(t,e,n){const r=Object.create(vY);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>NP(r),run:()=>{if(r.dirty=!1,r.hasRun&&!OP(r))return;r.hasRun=!0;const s=Wb(r);try{r.cleanupFn(),r.cleanupFn=BP,r.fn(i)}finally{Kb(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(n,u=>{this.all.has(u)&&this.queue.set(u,o)},i);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}return t})();function Lm(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=xb(i,a):2==o&&(r=xb(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function ch(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(dt(o)),or(o)&&bL(o,r);const s=n.type;if(8&s)ch(t,e,n.child,r);else if(32&s){const a=C1(n,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=nF(e,n);if(Array.isArray(a))r.push(...a);else{const c=Zd(e[Ht]);ch(c[ee],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function bL(t,e){for(let n=Rn;n<t.length;n++){const r=t[n],i=r[ee].firstChild;null!==i&&ch(r[ee],r,i,e)}t[Yi]!==t[Rt]&&e.push(t[Yi])}function Vm(t,e,n,r=!0){const i=e[uu],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{wL(t,e,t.template,n)}catch(c){throw r&&yL(e,c),c}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function wL(t,e,n,r){const i=e[ye];if(256!=(256&i)){e[uu].effectManager?.flush(),i1(e);try{qP(e),function e2(t){return le.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&oL(t,e,n,2,r);const s=3==(3&i);if(s){const u=t.preOrderCheckHooks;null!==u&&Qg(e,u,null)}else{const u=t.preOrderHooks;null!==u&&Jg(e,u,0,null),s1(e,0)}if(function dX(t){for(let e=G2(t);null!==e;e=z2(e)){if(!e[CP])continue;const n=e[hu];for(let r=0;r<n.length;r++){AY(n[r])}}}(e),IL(e,2),null!==t.contentQueries&&pL(t,e),s){const u=t.contentCheckHooks;null!==u&&Qg(e,u)}else{const u=t.contentHooks;null!==u&&Jg(e,u,1),s1(e,1)}!function FZ(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=XF(e,Ud);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)Ea(~o);else{const s=o,a=n[++i],c=n[++i];jY(a,s),r.dirty=!1;const u=Wb(r);try{c(2,e[s])}finally{Kb(r,u)}}}}finally{null===e[Ud]&&eL(e,Ud),Ea(-1)}}(t,e);const a=t.components;null!==a&&TL(e,a,0);const c=t.viewQuery;if(null!==c&&mw(2,c,r),s){const u=t.viewCheckHooks;null!==u&&Qg(e,u)}else{const u=t.viewHooks;null!==u&&Jg(e,u,2),s1(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ye]&=-73,WP(e)}finally{o1()}}}function IL(t,e){for(let n=G2(t);null!==n;n=z2(n))for(let r=Rn;r<n.length;r++)CL(n[r],e)}function hX(t,e,n){CL(zr(e,t),n)}function CL(t,e){if(!function SY(t){return 128==(128&t[ye])}(t))return;const n=t[ee],r=t[ye];if(80&r&&0===e||1024&r||2===e)wL(n,t,n.template,t[$t]);else if(t[Pd]>0){IL(t,1);const i=n.components;null!==i&&TL(t,i,1)}}function TL(t,e,n){for(let r=0;r<e.length;r++)hX(t,e[r],n)}class uh{get rootNodes(){const e=this._lView,n=e[ee];return ch(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[$t]}set context(e){this._lView[$t]=e}get destroyed(){return 256==(256&this._lView[ye])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ct];if(or(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(fm(e,r),nm(n,r))}this._attachedToViewContainer=!1}E1(this._lView[ee],this._lView)}onDestroy(e){!function YP(t,e){if(256==(256&t[ye]))throw new U(911,!1);null===t[ws]&&(t[ws]=[]),t[ws].push(e)}(this._lView,e)}markForCheck(){sh(this._cdRefInjectingView||this._lView)}detach(){this._lView[ye]&=-129}reattach(){this._lView[ye]|=128}detectChanges(){Vm(this._lView[ee],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function XQ(t,e){eh(t,e,e[pe],2,null,null)}(this._lView[ee],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e}}class fX extends uh{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Vm(e[ee],e,e[$t],!1)}checkNoChanges(){}get context(){return null}}class EL extends Om{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Me(e);return new lh(n,this.ngModule)}}function DL(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class gX{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Bg(r);const i=this.injector.get(e,nw,r);return i!==nw||n===nw?i:this.parentInjector.get(e,n,r)}}class lh extends OF{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=DL(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return DL(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function XK(t){return t.map(ZK).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof Sr?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new gX(e,o):e,a=s.get(ew,null);if(null===a)throw new U(407,!1);const d={rendererFactory:a,sanitizer:s.get(hZ,null),effectManager:s.get(vL,null),afterRenderEventManager:s.get(aw,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",_=r?function VZ(t,e,n,r){const o=r.get(YF,!1)||n===Ti.ShadowDom,s=t.selectRootElement(e,o);return function BZ(t){aL(t)}(s),s}(h,r,this.componentDef.encapsulation,s):hm(h,f,function pX(t){const e=t.toLowerCase();return"svg"===e?HP:"math"===e?"math":null}(f)),T=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let w=null;null!==_&&(w=J1(_,s,!0));const M=hw(0,null,null,1,0,null,null,null,null,null,null),F=Pm(null,M,null,T,null,null,d,h,s,null,w);let $,Y;i1(F);try{const ae=this.componentDef;let me,Ue=null;ae.findHostDirectiveDefs?(me=[],Ue=new Map,ae.findHostDirectiveDefs(ae,me,Ue),me.push(ae)):me=[ae];const It=function _X(t,e){const n=t[ee],r=Se;return t[r]=e,Uu(n,r,2,"#host",null)}(F,_),On=function yX(t,e,n,r,i,o,s){const a=i[ee];!function vX(t,e,n,r){for(const i of t)e.mergedAttrs=kd(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Lm(e,e.mergedAttrs,!0),null!==n&&sF(r,n,e))}(r,t,e,s);let c=null;null!==e&&(c=J1(e,i[bs]));const u=o.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=Pm(i,sL(n),null,l,i[t.index],t,o,u,null,null,c);return a.firstCreatePass&&pw(a,t,r.length-1),Fm(i,d),i[t.index]=d}(It,_,ae,me,F,d,h);Y=zP(M,Se),_&&function wX(t,e,n,r){if(r)$b(t,n,["ng-version",tw.full]);else{const{attrs:i,classes:o}=function eY(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Ei(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&$b(t,n,i),o&&o.length>0&&oF(t,n,o.join(" "))}}(h,ae,_,r),void 0!==n&&function IX(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(Y,this.ngContentSelectors,n),$=function bX(t,e,n,r,i,o){const s=Fn(),a=i[ee],c=Tr(s,i);lL(a,i,s,n,null,r);for(let l=0;l<n.length;l++)Yn(Da(i,a,s.directiveStart+l,s),i);dL(a,i,s),c&&Yn(c,i);const u=Da(i,a,s.directiveStart+s.componentOffset,s);if(t[$t]=i[$t]=u,null!==o)for(const l of o)l(u,e);return uw(a,s,t),u}(On,ae,me,Ue,F,[CX]),yw(M,F,null)}finally{o1()}return new mX(this.componentType,$,Pu(Y,F),F,Y)}}class mX extends sZ{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new fX(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;_w(o[ee],o,i,e,n),this.previousInputValues.set(e,n),sh(zr(this._tNode.index,o))}}get injector(){return new cr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function CX(){const t=Fn();Yg(L()[ee],t)}function ze(t){let e=function SL(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Si(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=Bm(t.inputs),s.inputTransforms=Bm(t.inputTransforms),s.declaredInputs=Bm(t.declaredInputs),s.outputs=Bm(t.outputs);const a=i.hostBindings;a&&SX(t,a);const c=i.viewQuery,u=i.contentQueries;if(c&&EX(t,c),u&&DX(t,u),Rg(t.inputs,i.inputs),Rg(t.declaredInputs,i.declaredInputs),Rg(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Rg(s.inputTransforms,i.inputTransforms)),Si(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===ze&&(n=!1)}}e=Object.getPrototypeOf(e)}!function TX(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=kd(i.hostAttrs,n=kd(n,i.hostAttrs))}}(r)}function Bm(t){return t===Wi?{}:t===$e?[]:t}function EX(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function DX(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function SX(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function OL(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function Um(t){return!!function vw(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function to(t,e,n){return t[e]=n}function Qn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Oa(t,e,n,r){const i=Qn(t,e,n);return Qn(t,e+1,r)||i}function Je(t,e,n,r){const i=L();return Qn(i,mu(),e)&&(Re(),eo(xt(),i,t,e,n,r)),Je}function $u(t,e,n,r){return Qn(t,mu(),n)?e+fe(n)+r:_e}function Gu(t,e,n,r,i,o,s,a){const u=function jm(t,e,n,r,i){const o=Oa(t,e,n,r);return Qn(t,e+2,i)||o}(t,function Mo(){return le.lFrame.bindingIndex}(),n,i,s);return Ro(3),u?e+fe(n)+r+fe(i)+o+fe(s)+a:_e}function A(t,e,n,r,i,o,s,a){const c=L(),u=Re(),l=t+Se,d=u.firstCreatePass?function JX(t,e,n,r,i,o,s,a,c){const u=e.consts,l=Uu(e,t,4,s||null,Cs(u,a));fw(e,n,l,Cs(u,c)),Yg(e,l);const d=l.tView=hw(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,n,r,i,o,s):u.data[l];Ji(d,!1);const h=GL(u,c,d,t);Kg()&&gm(u,c,h,d),Yn(h,c),Fm(c,c[l]=fL(h,c,h,d)),Gg(d)&&lw(u,c,d),null!=s&&dw(c,d,a)}let GL=function zL(t,e,n,r){return Ts(!0),e[pe].createComment("")};function Ar(t){return pu(function BY(){return le.lFrame.contextLView}(),Se+t)}function E(t,e,n){const r=L();return Qn(r,mu(),e)&&Kr(Re(),xt(),r,t,e,r[pe],n,!1),E}function Ew(t,e,n,r,i){const s=i?"class":"style";_w(t,n,e.inputs[s],s,r)}function g(t,e,n,r){const i=L(),o=Re(),s=Se+t,a=i[pe],c=o.firstCreatePass?function tee(t,e,n,r,i,o){const s=e.consts,c=Uu(e,t,2,r,Cs(s,i));return fw(e,n,c,Cs(s,o)),null!==c.attrs&&Lm(c,c.attrs,!1),null!==c.mergedAttrs&&Lm(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,e,n,r):o.data[s],u=qL(o,i,c,a,e,t);i[s]=u;const l=Gg(c);return Ji(c,!0),sF(a,u,c),32!=(32&c.flags)&&Kg()&&gm(o,i,u,c),0===function OY(){return le.lFrame.elementDepthCount}()&&Yn(u,i),function MY(){le.lFrame.elementDepthCount++}(),l&&(lw(o,i,c),uw(o,c,i)),null!==r&&dw(i,c),g}function m(){let t=Fn();Xb()?e1():(t=t.parent,Ji(t,!1));const e=t;(function kY(t){return le.skipHydrationRootTNode===t})(e)&&function VY(){le.skipHydrationRootTNode=null}(),function RY(){le.lFrame.elementDepthCount--}();const n=Re();return n.firstCreatePass&&(Yg(n,t),Gb(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function JY(t){return 0!=(8&t.flags)}(e)&&Ew(n,e,L(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function ZY(t){return 0!=(16&t.flags)}(e)&&Ew(n,e,L(),e.stylesWithoutHost,!1),m}function O(t,e,n,r){return g(t,e,n,r),m(),O}let qL=(t,e,n,r,i,o)=>(Ts(!0),hm(r,i,function c2(){return le.lFrame.currentNamespace}()));function zm(t,e,n){const r=L(),i=Re(),o=t+Se,s=i.firstCreatePass?function iee(t,e,n,r,i){const o=e.consts,s=Cs(o,r),a=Uu(e,t,8,"ng-container",s);return null!==s&&Lm(a,s,!0),fw(e,n,a,Cs(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Ji(s,!0);const a=KL(i,r,s,t);return r[o]=a,Kg()&&gm(i,r,a,s),Yn(a,r),Gg(s)&&(lw(i,r,s),uw(i,s,r)),null!=n&&dw(r,s),zm}function qm(){let t=Fn();const e=Re();return Xb()?e1():(t=t.parent,Ji(t,!1)),e.firstCreatePass&&(Yg(e,t),Gb(t)&&e.queries.elementEnd(t)),qm}let KL=(t,e,n,r)=>(Ts(!0),T1(e[pe],""));function tt(){return L()}function mh(t){return!!t&&"function"==typeof t.then}function YL(t){return!!t&&"function"==typeof t.subscribe}function ne(t,e,n,r){const i=L(),o=Re(),s=Fn();return function JL(t,e,n,r,i,o,s){const a=Gg(r),u=t.firstCreatePass&&mL(t),l=e[$t],d=gL(e);let h=!0;if(3&r.type||s){const y=Tr(r,e),v=s?s(y):y,T=d.length,w=s?F=>s(dt(F[r.index])):r.index;let M=null;if(!s&&a&&(M=function aee(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[cu],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==M)(M.__ngLastListenerFn__||M).__ngNextListenerFn__=o,M.__ngLastListenerFn__=o,h=!1;else{o=XL(r,e,l,o,!1);const F=n.listen(v,i,o);d.push(o,F),u&&u.push(i,w,T,T+1)}}else o=XL(r,e,l,o,!1);const f=r.outputs;let _;if(h&&null!==f&&(_=f[i])){const y=_.length;if(y)for(let v=0;v<y;v+=2){const $=e[_[v]][_[v+1]].subscribe(o),Y=d.length;d.push(o,$),u&&u.push(i,r.index,Y,-(Y+1))}}}(o,i,i[pe],s,t,e,r),ne}function ZL(t,e,n,r){try{return Qi(6,e,n),!1!==n(r)}catch(i){return yL(t,i),!1}finally{Qi(7,e,n)}}function XL(t,e,n,r,i){return function o(s){if(s===Function)return r;sh(t.componentOffset>-1?zr(t.index,e):e);let c=ZL(e,n,r,s),u=o.__ngNextListenerFn__;for(;u;)c=ZL(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function k(t=1){return function GY(t){return(le.lFrame.contextLView=function zY(t,e){for(;t>0;)e=e[lu],t--;return e}(t,le.lFrame.contextLView))[$t]}(t)}function cee(t,e){let n=null;const r=function KK(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?mP(t,o,!0):JK(r,o))return i}else n=i}return n}function _h(t,e,n){return yh(t,"",e,"",n),_h}function yh(t,e,n,r,i){const o=L(),s=$u(o,e,n,r);return s!==_e&&Kr(Re(),xt(),o,t,s,o[pe],i,!1),yh}function Wm(t,e){return t<<17|e<<2}function Ss(t){return t>>17&32767}function Dw(t){return 2|t}function Ma(t){return(131068&t)>>2}function Sw(t,e){return-131069&t|e<<2}function xw(t){return 1|t}function l3(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Ss(o):Ma(o),c=!1;for(;0!==a&&(!1===c||s);){const l=t[a+1];pee(t[a],e)&&(c=!0,t[a+1]=r?xw(l):Dw(l)),a=r?Ss(l):Ma(l)}c&&(t[n+1]=r?Dw(o):xw(o))}function pee(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Eu(t,e)>=0}const dn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function d3(t){return t.substring(dn.key,dn.keyEnd)}function h3(t,e){const n=dn.textEnd;return n===e?-1:(e=dn.keyEnd=function yee(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,dn.key=e,n),Qu(t,e,n))}function Qu(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Ge(t,e){return function xi(t,e,n,r){const i=L(),o=Re(),s=Ro(2);o.firstUpdatePass&&v3(o,t,s,r),e!==_e&&Qn(i,s,e)&&w3(o,o.data[ar()],i,i[pe],t,i[s+1]=function Aee(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=un(Wr(t)))),t}(e,n),r,s)}(t,e,null,!0),Ge}function Ra(t){!function Ai(t,e,n,r){const i=Re(),o=Ro(2);i.firstUpdatePass&&v3(i,null,o,r);const s=L();if(n!==_e&&Qn(s,o,n)){const a=i.data[ar()];if(C3(a,r)&&!y3(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(n=xb(c,n||"")),Ew(i,a,s,n,r)}else!function xee(t,e,n,r,i,o,s,a){i===_e&&(i=$e);let c=0,u=0,l=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==l||null!==d;){const h=c<i.length?i[c+1]:void 0,f=u<o.length?o[u+1]:void 0;let y,_=null;l===d?(c+=2,u+=2,h!==f&&(_=d,y=f)):null===d||null!==l&&l<d?(c+=2,_=l):(u+=2,_=d,y=f),null!==_&&w3(t,e,n,r,_,y,s,a),l=c<i.length?i[c]:null,d=u<o.length?o[u]:null}}(i,a,s,s[pe],s[o+1],s[o+1]=function Dee(t,e,n){if(null==n||""===n)return $e;const r=[],i=Wr(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}(See,ro,t,!0)}function ro(t,e){for(let n=function mee(t){return function p3(t){dn.key=0,dn.keyEnd=0,dn.value=0,dn.valueEnd=0,dn.textEnd=t.length}(t),h3(t,Qu(t,0,dn.textEnd))}(e);n>=0;n=h3(e,n))qr(t,d3(e),!0)}function y3(t,e){return e>=t.expandoStartIndex}function v3(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[ar()],s=y3(t,n);C3(o,r)&&null===e&&!s&&(e=!1),e=function Iee(t,e,n,r){const i=function n1(t){const e=le.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=vh(n=Aw(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Aw(i,t,e,n,r),null===o){let c=function Cee(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ma(r))return t[Ss(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=Aw(null,t,e,c[1],r),c=vh(c,e.attrs,r),function Tee(t,e,n,r){t[Ss(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else o=function Eee(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=vh(r,t[o].hostAttrs,n);return vh(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function hee(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ss(s),c=Ma(s);t[r]=n;let l,u=!1;if(Array.isArray(n)?(l=n[1],(null===l||Eu(n,l)>0)&&(u=!0)):l=n,i)if(0!==c){const h=Ss(t[a+1]);t[r+1]=Wm(h,a),0!==h&&(t[h+1]=Sw(t[h+1],r)),t[a+1]=function lee(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Wm(a,0),0!==a&&(t[a+1]=Sw(t[a+1],r)),a=r;else t[r+1]=Wm(c,0),0===a?a=r:t[c+1]=Sw(t[c+1],r),c=r;u&&(t[r+1]=Dw(t[r+1])),l3(t,l,r,!0),l3(t,l,r,!1),function fee(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Eu(o,e)>=0&&(n[r+1]=xw(n[r+1]))}(e,l,t,r,o),s=Wm(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function Aw(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=vh(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function vh(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),qr(t,s,!!n||e[++o]))}return void 0===t?null:t}function See(t,e,n){const r=String(e);""!==r&&!r.includes(" ")&&qr(t,r,n)}function w3(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const c=t.data,u=c[a+1],l=function dee(t){return 1==(1&t)}(u)?I3(c,e,n,i,Ma(u),s):void 0;Km(l)||(Km(o)||function uee(t){return 2==(2&t)}(u)&&(o=I3(c,null,n,i,a,s)),function uJ(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:Es.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Es.Important),t.setStyle(n,r,i,o))}}(r,s,Wg(ar(),n),i,o))}function I3(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=null===l;let h=n[i+1];h===_e&&(h=d?$e:void 0);let f=d?p1(h,r):l===r?h:void 0;if(u&&!Km(f)&&(f=p1(c,r)),Km(f)&&(a=f,s))return a;const _=t[i+1];i=s?Ss(_):Ma(_)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=p1(c,r))}return a}function Km(t){return void 0!==t}function C3(t,e){return 0!=(t.flags&(e?8:16))}function I(t,e=""){const n=L(),r=Re(),i=t+Se,o=r.firstCreatePass?Uu(r,i,1,e,null):r.data[i],s=T3(r,n,o,e,t);n[i]=s,Kg()&&gm(r,n,s,o),Ji(o,!1)}let T3=(t,e,n,r,i)=>(Ts(!0),function dm(t,e){return t.createText(e)}(e[pe],r));function ht(t){return Jn("",t,""),ht}function Jn(t,e,n){const r=L(),i=$u(r,t,e,n);return i!==_e&&Bo(r,ar(),i),Jn}function Nw(t,e,n,r,i,o,s){const a=L(),c=Gu(a,t,e,n,r,i,o,s);return c!==_e&&Bo(a,ar(),c),Nw}const ka=void 0;var Jee=["en",[["a","p"],["AM","PM"],ka],[["AM","PM"],ka,ka],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ka,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ka,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ka,"{1} 'at' {0}",ka],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Qee(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Ju={};function ur(t){const e=function Zee(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=H3(e);if(n)return n;const r=e.split("-")[0];if(n=H3(r),n)return n;if("en"===r)return Jee;throw new U(701,!1)}function H3(t){return t in Ju||(Ju[t]=lt.ng&&lt.ng.common&&lt.ng.common.locales&&lt.ng.common.locales[t]),Ju[t]}var ft=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ft||{});const Zu="en-US";let G3=Zu;function Rw(t,e,n,r,i){if(t=de(t),Array.isArray(t))for(let o=0;o<t.length;o++)Rw(t[o],e,n,r,i);else{const o=Re(),s=L(),a=Fn();let c=Na(t)?t:de(t.provide);const u=EF(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Na(t)||!t.multi){const f=new Gd(u,i,b),_=Pw(c,e,i?l:l+h,d);-1===_?(d1(Xg(a,s),o,c),kw(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[_]=f,s[_]=f)}else{const f=Pw(c,e,l+h,d),_=Pw(c,e,l,l+h),v=_>=0&&n[_];if(i&&!v||!i&&!(f>=0&&n[f])){d1(Xg(a,s),o,c);const T=function Yte(t,e,n,r,i){const o=new Gd(t,n,b);return o.multi=[],o.index=e,o.componentProviders=0,gV(o,i,r&&!n),o}(i?Kte:Wte,n.length,i,r,u);!i&&v&&(n[_].providerFactory=T),kw(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(T),s.push(T)}else kw(o,t,f>-1?f:_,gV(n[i?_:f],u,!i&&r));!i&&r&&v&&n[_].componentProviders++}}}function kw(t,e,n,r){const i=Na(e),o=function HJ(t){return!!t.useClass}(e);if(i||o){const c=(o?de(e.useClass):e).prototype.ngOnDestroy;if(c){const u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=u.indexOf(n);-1===l?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function gV(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Pw(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Wte(t,e,n,r){return Fw(this.multi,[])}function Kte(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Da(n,n[ee],this.providerFactory.index,r);o=a.slice(0,s),Fw(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Fw(i,o);return o}function Fw(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function at(t,e=[]){return n=>{n.providersResolver=(r,i)=>function qte(t,e,n){const r=Re();if(r.firstCreatePass){const i=Si(t);Rw(n,r.data,r.blueprint,i,!0),Rw(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Pa{}class mV{}class Lw extends Pa{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new EL(this);const i=Gr(e);this._bootstrapComponents=Vo(i.bootstrap),this._r3Injector=LF(e,n,[{provide:Pa,useValue:this},{provide:Om,useValue:this.componentFactoryResolver},...r],un(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Vw extends mV{constructor(e){super(),this.moduleType=e}create(e){return new Lw(this.moduleType,e,[])}}class _V extends Pa{constructor(e){super(),this.componentFactoryResolver=new EL(this),this.instance=null;const n=new Ou([...e.providers,{provide:Pa,useValue:this},{provide:Om,useValue:this.componentFactoryResolver}],e.parent||Tm(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Bw(t,e,n=null){return new _V({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let Zte=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=wF(0,n.type),i=r.length>0?Bw([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=z({token:t,providedIn:"environment",factory:()=>new t(q(Sr))})}return t})();function Yr(t){t.getStandaloneInjector=e=>e.get(Zte).getOrCreateStandaloneInjector(t)}function Fa(t,e,n,r){return TV(L(),sr(),t,e,n,r)}function Sh(t,e){const n=t[e];return n===_e?void 0:n}function TV(t,e,n,r,i,o){const s=e+n;return Qn(t,s,i)?to(t,s+1,o?r.call(o,i):r(i)):Sh(t,s+1)}function xs(t,e){const n=Re();let r;const i=t+Se;n.firstCreatePass?(r=function pne(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=Ta(r.type)),a=Ir(b);try{const c=Zg(!1),u=o();return Zg(c),function eee(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,L(),i,u),u}finally{Ir(a)}}function Xu(t,e,n){const r=t+Se,i=L(),o=pu(i,r);return xh(i,r)?TV(i,sr(),e,o.transform,n,o):o.transform(n)}function $w(t,e,n,r){const i=t+Se,o=L(),s=pu(o,i);return xh(o,i)?function EV(t,e,n,r,i,o,s){const a=e+n;return Oa(t,a,i,o)?to(t,a+2,s?r.call(s,i,o):r(i,o)):Sh(t,a+2)}(o,sr(),e,s.transform,n,r,s):s.transform(n,r)}function xh(t,e){return t[ee].data[e].pure}function yne(){return this._results[Symbol.iterator]()}class Hw{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new P)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Hw.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=yne)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function li(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function hQ(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function bne(t,e,n,r=!0){const i=e[ee];if(function tJ(t,e,n,r){const i=Rn+r,o=n.length;r>0&&(n[i-1][Di]=e),r<o-Rn?(e[Di]=n[i],C2(n,Rn+r,e)):(n.push(e),e[Di]=null),e[Ct]=n;const s=e[Ld];null!==s&&n!==s&&function nJ(t,e){const n=t[hu];e[Ht]!==e[Ct][Ct][Ht]&&(t[CP]=!0),null===n?t[hu]=[e]:n.push(e)}(s,e);const a=e[Ki];null!==a&&a.insertView(t),e[ye]|=128}(i,e,t,n),r){const o=A1(n,t),s=e[pe],a=pm(s,t[Yi]);null!==a&&function ZQ(t,e,n,r,i,o){r[Rt]=i,r[Kn]=e,eh(t,r,n,1,i,o)}(i,t[Kn],s,e,a,o)}}let At=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Cne}return t})();const wne=At,Ine=class extends wne{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function vne(t,e,n,r){const i=e.tView,a=Pm(t,i,n,4096&t[ye]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Ld]=t[e.index];const u=t[Ki];return null!==u&&(a[Ki]=u.createEmbeddedView(i)),yw(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new uh(i)}};function Cne(){return Xm(Fn(),L())}function Xm(t,e){return 4&t.type?new Ine(e,t,Pu(t,e)):null}let pi=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Ane}return t})();function Ane(){return PV(Fn(),L())}const Nne=pi,RV=class extends Nne{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Pu(this._hostTNode,this._hostLView)}get injector(){return new cr(this._hostTNode,this._hostLView)}get parentInjector(){const e=em(this._hostTNode,this._hostLView);if(c1(e)){const n=qd(e,this._hostLView),r=zd(e);return new cr(n[ee].data[r+8],n)}return new cr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=kV(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Rn}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function Kd(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const y=n||{};a=y.index,r=y.injector,i=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef}const c=s?e:new lh(Me(e)),u=r||this.parentInjector;if(!o&&null==c.ngModule){const v=(s?u:this.parentInjector).get(Sr,null);v&&(o=v)}Me(c.componentType??{});const f=c.create(u,i,null,o);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function xY(t){return or(t[Ct])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const u=i[Ct],l=new RV(u,u[Kn],u[Ct]);l.detach(l.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;return bne(a,i,s,!r),e.attachToViewContainerRef(),C2(Gw(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=kV(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=fm(this._lContainer,n);r&&(nm(Gw(this._lContainer),n),E1(r[ee],r))}detach(e){const n=this._adjustIndex(e,-1),r=fm(this._lContainer,n);return r&&null!=nm(Gw(this._lContainer),n)?new uh(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function kV(t){return t[8]}function Gw(t){return t[8]||(t[8]=[])}function PV(t,e){let n;const r=e[t.index];return or(r)?n=r:(n=fL(r,e,null,t),e[t.index]=n,Fm(e,n)),FV(n,e,t,r),new RV(n,t,e)}let FV=function LV(t,e,n,r){if(t[Yi])return;let i;i=8&n.type?dt(r):function One(t,e){const n=t[pe],r=n.createComment(""),i=Tr(e,t);return xa(n,pm(n,i),r,function sJ(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Yi]=i};class zw{constructor(e){this.queryList=e,this.matches=null}clone(){return new zw(this.queryList)}setDirty(){this.queryList.setDirty()}}class qw{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new qw(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==$V(e,n).matches&&this.queries[n].setDirty()}}class VV{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class Ww{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new Ww(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Kw{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Kw(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,n,kne(n,o)),this.matchTNodeWithReadOption(e,n,tm(n,e,o,!1,!1))}else r===At?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,tm(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===He||i===pi||i===At&&4&n.type)this.addMatch(n.index,-2);else{const o=tm(n,e,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function kne(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Fne(t,e,n,r){return-1===n?function Pne(t,e){return 11&t.type?Pu(t,e):4&t.type?Xm(t,e):null}(e,t):-2===n?function Lne(t,e,n){return n===He?Pu(e,t):n===At?Xm(e,t):n===pi?PV(e,t):void 0}(t,e,r):Da(t,t[ee],n,e)}function BV(t,e,n,r){const i=e[Ki].queries[r];if(null===i.matches){const o=t.data,s=n.matches,a=[];for(let c=0;c<s.length;c+=2){const u=s[c];a.push(u<0?null:Fne(e,o[u],s[c+1],n.metadata.read))}i.matches=a}return i.matches}function Yw(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=BV(t,e,i,n);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const u=o[a+1],l=e[-c];for(let d=Rn;d<l.length;d++){const h=l[d];h[Ld]===h[Ct]&&Yw(h[ee],h,u,r)}if(null!==l[hu]){const d=l[hu];for(let h=0;h<d.length;h++){const f=d[h];Yw(f[ee],f,u,r)}}}}}return r}function nt(t){const e=L(),n=Re(),r=n2();r1(r+1);const i=$V(n,r);if(t.dirty&&function DY(t){return 4==(4&t[ye])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Yw(n,e,r,[]):BV(n,e,i,r);t.reset(o,lZ),t.notifyOnChanges()}return!0}return!1}function La(t,e,n){const r=Re();r.firstCreatePass&&(function jV(t,e,n){null===t.queries&&(t.queries=new Ww),t.queries.track(new Kw(e,n))}(r,new VV(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function UV(t,e,n){const r=new Hw(4==(4&n));(function $Z(t,e,n,r){const i=gL(e);i.push(n),t.firstCreatePass&&mL(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[Ki]&&(e[Ki]=new qw),e[Ki].queries.push(new zw(r))}(r,L(),e)}function $V(t,e){return t.queries.getByIndex(e)}function Or(t,e){return Xm(t,e)}const tI=new te("Application Initializer");let nI=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=K(tI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(mh(o))n.push(o);else if(YL(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),oB=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Ni=new te("LocaleId",{providedIn:"root",factory:()=>K(Ni,De.Optional|De.SkipSelf)||function sre(){return typeof $localize<"u"&&$localize.locale||Zu}()});let sB=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new wr(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class ure{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let aB=(()=>{class t{compileModuleSync(n){return new Vw(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Vo(Gr(n).declarations).reduce((s,a)=>{const c=Me(a);return c&&s.push(new lh(c)),s},[]);return new ure(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const dB=new te(""),r_=new te("");let aI,oI=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,aI||(function Ore(t){aI=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(q(Te),q(sI),q(r_))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),sI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return aI?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),As=null;const hB=new te("AllowMultipleToken"),cI=new te("PlatformDestroyListeners"),uI=new te("appBootstrapListener");class pB{constructor(e,n){this.name=e,this.token=n}}function mB(t,e,n=[]){const r=`Platform: ${e}`,i=new te(r);return(o=[])=>{let s=lI();if(!s||s.injector.get(hB,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function kre(t){if(As&&!As.get(hB,!1))throw new U(400,!1);(function fB(){!function fY(t){PP=t}(()=>{throw new U(600,!1)})})(),As=t;const e=t.get(yB);(function gB(t){t.get(DF,null)?.forEach(n=>n())})(t)}(function _B(t=[],e){return en.create({name:e,providers:[{provide:U1,useValue:"platform"},{provide:cI,useValue:new Set([()=>As=null])},...t]})}(a,r))}return function Fre(t){const e=lI();if(!e)throw new U(401,!1);return e}()}}function lI(){return As?.get(yB)??null}let yB=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function Lre(t="zone.js",e){return"noop"===t?new EZ:"zone.js"===t?new Te(e):t}(r?.ngZone,function vB(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function Jte(t,e,n){return new Lw(t,e,n)}(n.moduleType,this.injector,function TB(t){return[{provide:Te,useFactory:t},{provide:rh,multi:!0,useFactory:()=>{const e=K(Bre,{optional:!0});return()=>e.initialize()}},{provide:CB,useFactory:Vre},{provide:$F,useFactory:HF}]}(()=>i)),s=o.injector.get(Lo,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{i_(this._modules,o),a.unsubscribe()})}),function bB(t,e,n){try{const r=n();return mh(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(nI);return a.runInitializers(),a.donePromise.then(()=>(function z3(t){ci(t,"Expected localeId to be defined"),"string"==typeof t&&(G3=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Ni,Zu)||Zu),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=wB({},r);return function Mre(t,e,n){const r=new Vw(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(Ns);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new U(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new U(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(cI,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(q(en))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function wB(t,e){return Array.isArray(e)?e.reduce(wB,t):{...t,...e}}let Ns=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=K(CB),this.zoneIsStable=K($F),this.componentTypes=[],this.components=[],this.isStable=K(sB).hasPendingTasks.pipe(Ci(n=>n?ce(!1):this.zoneIsStable),function Xk(t,e=Ii){return t=t??EK,St((n,r)=>{let i,o=!0;n.subscribe(ut(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}(),Db()),this._injector=K(Sr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof OF;if(!this._injector.get(nI).done)throw!i&&function au(t){const e=Me(t)||Mn(t)||ir(t);return null!==e&&e.standalone}(n),new U(405,!1);let s;s=i?n:this._injector.get(Om).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function Rre(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Pa),u=s.create(en.NULL,[],r||s.selector,a),l=u.location.nativeElement,d=u.injector.get(dB,null);return d?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),i_(this.components,u),d?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new U(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;i_(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(uI,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>i_(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new U(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function i_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const CB=new te("",{providedIn:"root",factory:()=>K(Lo).handleError.bind(void 0)});function Vre(){const t=K(Te),e=K(Lo);return n=>t.runOutsideAngular(()=>e.handleError(n))}let Bre=(()=>{class t{constructor(){this.zone=K(Te),this.applicationRef=K(Ns)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let Oi=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=jre}return t})();function jre(t){return function $re(t,e,n){if(Ca(t)&&!n){const r=zr(t.index,e);return new uh(r,r)}return 47&t.type?new uh(e[Ht],e):null}(Fn(),L(),16==(16&t))}class xB{constructor(){}supports(e){return Um(e)}create(e){return new Kre(e)}}const Wre=(t,e)=>e;class Kre{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Wre}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<NB(r,i,o)?n:r,a=NB(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){const f=h<o.length?o[h]:o[h]=0,_=f+h;l<=_&&_<u&&(o[h]=f+1)}o[s.previousIndex]=l-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Um(e))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function RX(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Yre(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new AB),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new AB),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Yre{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Qre{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class AB{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new Qre,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function NB(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function MB(){return new a_([new xB])}let a_=(()=>{class t{static#e=this.\u0275prov=z({token:t,providedIn:"root",factory:MB});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||MB()),deps:[[t,new im,new Er]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new U(901,!1)}}return t})();const tie=mB(null,"core",[]);let nie=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(q(Ns))};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})();function nl(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function mI(t,e){const n=Me(t),r=e.elementInjector||Tm();return new lh(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}let _I=null;function Os(){return _I}class mie{}const zt=new te("DocumentToken");let yI=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return K(yie)},providedIn:"platform"})}return t})();const _ie=new te("Location Initialized");let yie=(()=>{class t extends yI{constructor(){super(),this._doc=K(zt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Os().getBaseHref(this._doc)}onPopState(n){const r=Os().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Os().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function vI(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function $B(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Uo(t){return t&&"?"!==t[0]?"?"+t:t}let Ba=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return K(GB)},providedIn:"root"})}return t})();const HB=new te("appBaseHref");let GB=(()=>{class t extends Ba{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??K(zt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return vI(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Uo(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Uo(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Uo(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(q(yI),q(HB,8))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vie=(()=>{class t extends Ba{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=vI(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Uo(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Uo(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(q(yI),q(HB,8))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),bI=(()=>{class t{constructor(n){this._subject=new P,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function Iie(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}($B(zB(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Uo(r))}normalize(n){return t.stripTrailingSlash(function wie(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,zB(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Uo(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Uo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Uo;static#t=this.joinWithSlash=vI;static#n=this.stripTrailingSlash=$B;static#r=this.\u0275fac=function(r){return new(r||t)(q(Ba))};static#i=this.\u0275prov=z({token:t,factory:function(){return function bie(){return new bI(q(Ba))}()},providedIn:"root"})}return t})();function zB(t){return t.replace(/\/index.html$/,"")}var bn=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(bn||{}),Ve=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Ve||{}),Qr=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Qr||{}),qt=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(qt||{});function l_(t,e){return mi(ur(t)[ft.DateFormat],e)}function d_(t,e){return mi(ur(t)[ft.TimeFormat],e)}function h_(t,e){return mi(ur(t)[ft.DateTimeFormat],e)}function gi(t,e){const n=ur(t),r=n[ft.NumberSymbols][e];if(typeof r>"u"){if(e===qt.CurrencyDecimal)return n[ft.NumberSymbols][qt.Decimal];if(e===qt.CurrencyGroup)return n[ft.NumberSymbols][qt.Group]}return r}function KB(t){if(!t[ft.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[ft.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function mi(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function CI(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const kie=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Mh={},Pie=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var jo=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(jo||{}),qe=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(qe||{}),We=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(We||{});function YB(t,e,n,r){let i=function Gie(t){if(ZB(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[i,o=1,s=1]=t.split("-").map(a=>+a);return f_(i,o-1,s)}const n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(kie))return function zie(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,c,u),e}(r)}const e=new Date(t);if(!ZB(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=$o(n,e)||e;let a,s=[];for(;e;){if(a=Pie.exec(e),!a){s.push(e);break}{s=s.concat(a.slice(1));const l=s.pop();if(!l)break;e=l}}let c=i.getTimezoneOffset();r&&(c=JB(r,c),i=function Hie(t,e,n){const r=n?-1:1,i=t.getTimezoneOffset();return function $ie(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,r*(JB(e,i)-i))}(i,r,!0));let u="";return s.forEach(l=>{const d=function jie(t){if(EI[t])return EI[t];let e;switch(t){case"G":case"GG":case"GGG":e=pt(We.Eras,Ve.Abbreviated);break;case"GGGG":e=pt(We.Eras,Ve.Wide);break;case"GGGGG":e=pt(We.Eras,Ve.Narrow);break;case"y":e=tn(qe.FullYear,1,0,!1,!0);break;case"yy":e=tn(qe.FullYear,2,0,!0,!0);break;case"yyy":e=tn(qe.FullYear,3,0,!1,!0);break;case"yyyy":e=tn(qe.FullYear,4,0,!1,!0);break;case"Y":e=__(1);break;case"YY":e=__(2,!0);break;case"YYY":e=__(3);break;case"YYYY":e=__(4);break;case"M":case"L":e=tn(qe.Month,1,1);break;case"MM":case"LL":e=tn(qe.Month,2,1);break;case"MMM":e=pt(We.Months,Ve.Abbreviated);break;case"MMMM":e=pt(We.Months,Ve.Wide);break;case"MMMMM":e=pt(We.Months,Ve.Narrow);break;case"LLL":e=pt(We.Months,Ve.Abbreviated,bn.Standalone);break;case"LLLL":e=pt(We.Months,Ve.Wide,bn.Standalone);break;case"LLLLL":e=pt(We.Months,Ve.Narrow,bn.Standalone);break;case"w":e=TI(1);break;case"ww":e=TI(2);break;case"W":e=TI(1,!0);break;case"d":e=tn(qe.Date,1);break;case"dd":e=tn(qe.Date,2);break;case"c":case"cc":e=tn(qe.Day,1);break;case"ccc":e=pt(We.Days,Ve.Abbreviated,bn.Standalone);break;case"cccc":e=pt(We.Days,Ve.Wide,bn.Standalone);break;case"ccccc":e=pt(We.Days,Ve.Narrow,bn.Standalone);break;case"cccccc":e=pt(We.Days,Ve.Short,bn.Standalone);break;case"E":case"EE":case"EEE":e=pt(We.Days,Ve.Abbreviated);break;case"EEEE":e=pt(We.Days,Ve.Wide);break;case"EEEEE":e=pt(We.Days,Ve.Narrow);break;case"EEEEEE":e=pt(We.Days,Ve.Short);break;case"a":case"aa":case"aaa":e=pt(We.DayPeriods,Ve.Abbreviated);break;case"aaaa":e=pt(We.DayPeriods,Ve.Wide);break;case"aaaaa":e=pt(We.DayPeriods,Ve.Narrow);break;case"b":case"bb":case"bbb":e=pt(We.DayPeriods,Ve.Abbreviated,bn.Standalone,!0);break;case"bbbb":e=pt(We.DayPeriods,Ve.Wide,bn.Standalone,!0);break;case"bbbbb":e=pt(We.DayPeriods,Ve.Narrow,bn.Standalone,!0);break;case"B":case"BB":case"BBB":e=pt(We.DayPeriods,Ve.Abbreviated,bn.Format,!0);break;case"BBBB":e=pt(We.DayPeriods,Ve.Wide,bn.Format,!0);break;case"BBBBB":e=pt(We.DayPeriods,Ve.Narrow,bn.Format,!0);break;case"h":e=tn(qe.Hours,1,-12);break;case"hh":e=tn(qe.Hours,2,-12);break;case"H":e=tn(qe.Hours,1);break;case"HH":e=tn(qe.Hours,2);break;case"m":e=tn(qe.Minutes,1);break;case"mm":e=tn(qe.Minutes,2);break;case"s":e=tn(qe.Seconds,1);break;case"ss":e=tn(qe.Seconds,2);break;case"S":e=tn(qe.FractionalSeconds,1);break;case"SS":e=tn(qe.FractionalSeconds,2);break;case"SSS":e=tn(qe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=g_(jo.Short);break;case"ZZZZZ":e=g_(jo.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=g_(jo.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=g_(jo.Long);break;default:return null}return EI[t]=e,e}(l);u+=d?d(i,n,c):"''"===l?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function f_(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function $o(t,e){const n=function Tie(t){return ur(t)[ft.LocaleId]}(t);if(Mh[n]=Mh[n]||{},Mh[n][e])return Mh[n][e];let r="";switch(e){case"shortDate":r=l_(t,Qr.Short);break;case"mediumDate":r=l_(t,Qr.Medium);break;case"longDate":r=l_(t,Qr.Long);break;case"fullDate":r=l_(t,Qr.Full);break;case"shortTime":r=d_(t,Qr.Short);break;case"mediumTime":r=d_(t,Qr.Medium);break;case"longTime":r=d_(t,Qr.Long);break;case"fullTime":r=d_(t,Qr.Full);break;case"short":const i=$o(t,"shortTime"),o=$o(t,"shortDate");r=p_(h_(t,Qr.Short),[i,o]);break;case"medium":const s=$o(t,"mediumTime"),a=$o(t,"mediumDate");r=p_(h_(t,Qr.Medium),[s,a]);break;case"long":const c=$o(t,"longTime"),u=$o(t,"longDate");r=p_(h_(t,Qr.Long),[c,u]);break;case"full":const l=$o(t,"fullTime"),d=$o(t,"fullDate");r=p_(h_(t,Qr.Full),[l,d])}return r&&(Mh[n][e]=r),r}function p_(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return null!=e&&r in e?e[r]:n})),t}function Mi(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function tn(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function Lie(t,e){switch(t){case qe.FullYear:return e.getFullYear();case qe.Month:return e.getMonth();case qe.Date:return e.getDate();case qe.Hours:return e.getHours();case qe.Minutes:return e.getMinutes();case qe.Seconds:return e.getSeconds();case qe.FractionalSeconds:return e.getMilliseconds();case qe.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===qe.Hours)0===a&&-12===n&&(a=12);else if(t===qe.FractionalSeconds)return function Fie(t,e){return Mi(t,3).substring(0,e)}(a,e);const c=gi(s,qt.MinusSign);return Mi(a,e,c,r,i)}}function pt(t,e,n=bn.Format,r=!1){return function(i,o){return function Vie(t,e,n,r,i,o){switch(n){case We.Months:return function wI(t,e,n){const r=ur(t),o=mi([r[ft.MonthsFormat],r[ft.MonthsStandalone]],e);return mi(o,n)}(e,i,r)[t.getMonth()];case We.Days:return function WB(t,e,n){const r=ur(t),o=mi([r[ft.DaysFormat],r[ft.DaysStandalone]],e);return mi(o,n)}(e,i,r)[t.getDay()];case We.DayPeriods:const s=t.getHours(),a=t.getMinutes();if(o){const u=function Aie(t){const e=ur(t);return KB(e),(e[ft.ExtraData][2]||[]).map(r=>"string"==typeof r?CI(r):[CI(r[0]),CI(r[1])])}(e),l=function Nie(t,e,n){const r=ur(t);KB(r);const o=mi([r[ft.ExtraData][0],r[ft.ExtraData][1]],e)||[];return mi(o,n)||[]}(e,i,r),d=u.findIndex(h=>{if(Array.isArray(h)){const[f,_]=h,y=s>=f.hours&&a>=f.minutes,v=s<_.hours||s===_.hours&&a<_.minutes;if(f.hours<_.hours){if(y&&v)return!0}else if(y||v)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(-1!==d)return l[d]}return function Eie(t,e,n){const r=ur(t),o=mi([r[ft.DayPeriodsFormat],r[ft.DayPeriodsStandalone]],e);return mi(o,n)}(e,i,r)[s<12?0:1];case We.Eras:return function Die(t,e){return mi(ur(t)[ft.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,o,t,e,n,r)}}function g_(t){return function(e,n,r){const i=-1*r,o=gi(n,qt.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case jo.Short:return(i>=0?"+":"")+Mi(s,2,o)+Mi(Math.abs(i%60),2,o);case jo.ShortGMT:return"GMT"+(i>=0?"+":"")+Mi(s,1,o);case jo.Long:return"GMT"+(i>=0?"+":"")+Mi(s,2,o)+":"+Mi(Math.abs(i%60),2,o);case jo.Extended:return 0===r?"Z":(i>=0?"+":"")+Mi(s,2,o)+":"+Mi(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}const Bie=0,m_=4;function QB(t){return f_(t.getFullYear(),t.getMonth(),t.getDate()+(m_-t.getDay()))}function TI(t,e=!1){return function(n,r){let i;if(e){const o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{const o=QB(n),s=function Uie(t){const e=f_(t,Bie,1).getDay();return f_(t,0,1+(e<=m_?m_:m_+7)-e)}(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Mi(i,t,gi(r,qt.MinusSign))}}function __(t,e=!1){return function(n,r){return Mi(QB(n).getFullYear(),t,gi(r,qt.MinusSign),e)}}const EI={};function JB(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function ZB(t){return t instanceof Date&&!isNaN(t.valueOf())}class soe{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let dr=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new soe(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),i4(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{i4(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(b(pi),b(At),b(a_))};static#t=this.\u0275dir=H({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function i4(t,e){t.context.$implicit=e.item}let hn=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new aoe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){o4("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){o4("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(b(pi),b(At))};static#t=this.\u0275dir=H({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class aoe{constructor(){this.$implicit=null,this.ngIf=null}}function o4(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${un(e)}'.`)}const Ioe=new te("DATE_PIPE_DEFAULT_TIMEZONE"),Coe=new te("DATE_PIPE_DEFAULT_OPTIONS");let kI=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(null==n||""===n||n!=n)return null;try{return YB(n,r??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw function Ri(t,e){return new U(2100,!1)}()}}static#e=this.\u0275fac=function(r){return new(r||t)(b(Ni,16),b(Ioe,24),b(Coe,24))};static#t=this.\u0275pipe=Wn({name:"date",type:t,pure:!0,standalone:!0})}return t})(),a4=(()=>{class t{transform(n){return JSON.stringify(n,null,2)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275pipe=Wn({name:"json",type:t,pure:!1,standalone:!0})}return t})(),Ua=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})();const u4="browser";function l4(t){return"server"===t}let Foe=(()=>{class t{static#e=this.\u0275prov=z({token:t,providedIn:"root",factory:()=>new Loe(q(zt),window)})}return t})();class Loe{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Voe(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class cse extends mie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class BI extends cse{static makeCurrent(){!function gie(t){_I||(_I=t)}(new BI)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function use(){return Ph=Ph||document.querySelector("base"),Ph?Ph.getAttribute("href"):null}();return null==n?null:function lse(t){w_=w_||document.createElement("a"),w_.setAttribute("href",t);const e=w_.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ph=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function roe(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let w_,Ph=null,hse=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();const UI=new te("EventManagerPlugins");let g4=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new U(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(q(UI),q(Te))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();class m4{constructor(e){this._doc=e}}const jI="ng-app-id";let _4=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=l4(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${jI}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(jI),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(jI,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(q(zt),q(Em),q(SF,8),q(Fo))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();const $I={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},HI=/%COMP%/g,mse=new te("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function v4(t,e){return e.map(n=>n.replace(HI,t))}let b4=(()=>{class t{constructor(n,r,i,o,s,a,c,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=l4(a),this.defaultRenderer=new GI(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ti.ShadowDom&&(r={...r,encapsulation:Ti.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof I4?i.applyToHost(n):i instanceof zI&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Ti.Emulated:o=new I4(c,u,r,this.appId,l,s,a,d);break;case Ti.ShadowDom:return new bse(c,u,n,r,s,a,this.nonce,d);default:o=new zI(c,u,r,l,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(q(g4),q(_4),q(Em),q(mse),q(zt),q(Fo),q(Te),q(SF))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();class GI{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS($I[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(w4(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(w4(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=$I[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=$I[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Es.DashCase|Es.Important)?e.style.setProperty(n,r,i&Es.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Es.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Os().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function w4(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class bse extends GI{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=v4(i.id,i.styles);for(const l of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class zI extends GI{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?v4(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class I4 extends zI{constructor(e,n,r,i,o,s,a,c){const u=i+"-"+r.id;super(e,n,r,o,s,a,c,u),this.contentAttr=function _se(t){return"_ngcontent-%COMP%".replace(HI,t)}(u),this.hostAttr=function yse(t){return"_nghost-%COMP%".replace(HI,t)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let wse=(()=>{class t extends m4{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(q(zt))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();const C4=["alt","control","meta","shift"],Ise={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Cse={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Tse=(()=>{class t extends m4{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Os().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),C4.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=Ise[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),C4.forEach(s=>{s!==i&&(0,Cse[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(q(zt))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();const E4=[{provide:Fo,useValue:u4},{provide:DF,useValue:function Ese(){BI.makeCurrent()},multi:!0},{provide:zt,useFactory:function Sse(){return function pJ(t){M1=t}(document),document},deps:[]}],xse=mB(tie,"browser",E4),Ase=new te(""),D4=[{provide:r_,useClass:class dse{addToWindow(e){lt.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new U(5103,!1);return o},lt.getAllAngularTestabilities=()=>e.getAllTestabilities(),lt.getAllAngularRootElements=()=>e.getAllRootElements(),lt.frameworkStabilizers||(lt.frameworkStabilizers=[]),lt.frameworkStabilizers.push(r=>{const i=lt.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Os().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:dB,useClass:oI,deps:[Te,sI,r_]},{provide:oI,useClass:oI,deps:[Te,sI,r_]}],S4=[{provide:U1,useValue:"root"},{provide:Lo,useFactory:function Dse(){return new Lo},deps:[]},{provide:UI,useClass:wse,multi:!0,deps:[zt,Te,Fo]},{provide:UI,useClass:Tse,multi:!0,deps:[zt]},b4,_4,g4,{provide:ew,useExisting:b4},{provide:class Boe{},useClass:hse,deps:[]},[]];let Nse=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Em,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(q(Ase,12))};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({providers:[...S4,...D4],imports:[Ua,nie]})}return t})(),x4=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(q(zt))};static#t=this.\u0275prov=z({token:t,factory:function(r){let i=null;return i=r?new r:function Mse(){return new x4(q(zt))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;let O4=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(r){let i=null;return i=r?new(r||t):q(M4),i},providedIn:"root"})}return t})(),M4=(()=>{class t extends O4{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case di.NONE:return r;case di.HTML:return Xi(r,"HTML")?Wr(r):mF(this._doc,String(r)).toString();case di.STYLE:return Xi(r,"Style")?Wr(r):r;case di.SCRIPT:if(Xi(r,"Script"))return Wr(r);throw new U(5200,!1);case di.URL:return Xi(r,"URL")?Wr(r):vm(String(r));case di.RESOURCE_URL:if(Xi(r,"ResourceURL"))return Wr(r);throw new U(5201,!1);default:throw new U(5202,!1)}}bypassSecurityTrustHtml(n){return function wJ(t){return new gJ(t)}(n)}bypassSecurityTrustStyle(n){return function IJ(t){return new mJ(t)}(n)}bypassSecurityTrustScript(n){return function CJ(t){return new _J(t)}(n)}bypassSecurityTrustUrl(n){return function TJ(t){return new yJ(t)}(n)}bypassSecurityTrustResourceUrl(n){return function EJ(t){return new vJ(t)}(n)}static#e=this.\u0275fac=function(r){return new(r||t)(q(zt))};static#t=this.\u0275prov=z({token:t,factory:function(r){let i=null;return i=r?new r:function Fse(t){return new M4(t.get(zt))}(q(en)),i},providedIn:"root"})}return t})();const{isArray:Vse}=Array,{getPrototypeOf:Bse,prototype:Use,keys:jse}=Object;function k4(t){if(1===t.length){const e=t[0];if(Vse(e))return{args:e,keys:null};if(function $se(t){return t&&"object"==typeof t&&Bse(t)===Use}(e)){const n=jse(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:Hse}=Array;function WI(t){return Oe(e=>function Gse(t,e){return Hse(e)?t(...e):t(e)}(t,e))}function P4(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function KI(...t){const e=Nd(t),n=Ng(t),{args:r,keys:i}=k4(t);if(0===r.length)return vn([],e);const o=new je(function zse(t,e,n=Ii){return r=>{F4(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)F4(e,()=>{const u=vn(t[c],e);let l=!1;u.subscribe(ut(r,d=>{o[c]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>P4(i,s):Ii));return n?o.pipe(WI(n)):o}function F4(t,e,n){t?xo(n,t,e):e()}const I_=gs(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Fh(...t){return function qse(){return ou(1)}()(vn(t,Nd(t)))}function YI(t){return new je(e=>{an(t()).subscribe(e)})}function Lh(t,e){const n=Ie(t)?t:()=>t,r=i=>i.error(n());return new je(e?i=>e.schedule(r,0,i):r)}function QI(){return St((t,e)=>{let n=null;t._refCount++;const r=ut(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class L4 extends je{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,xd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ut;const n=this.getSubject();e.add(this.source.subscribe(ut(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ut.EMPTY)}return e}refCount(){return QI()(this)}}function wn(t){return t<=0?()=>ai:St((e,n)=>{let r=0;e.subscribe(ut(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function In(t,e){return St((n,r)=>{let i=0;n.subscribe(ut(r,o=>t.call(e,o,i++)&&r.next(o)))})}function C_(t){return St((e,n)=>{let r=!1;e.subscribe(ut(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function B4(t=Wse){return St((e,n)=>{let r=!1;e.subscribe(ut(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Wse(){return new I_}function ja(t,e){const n=arguments.length>=2;return r=>r.pipe(t?In((i,o)=>t(i,o,r)):Ii,wn(1),n?C_(e):B4(()=>new I_))}function Vh(t,e){return Ie(e)?cn(t,e,1):cn(t,1)}function fn(t,e,n){const r=Ie(t)||e||n?{next:t,error:e,complete:n}:t;return r?St((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(ut(o,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),o.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):Ii}function $a(t){return St((e,n)=>{let o,r=null,i=!1;r=e.subscribe(ut(n,void 0,void 0,s=>{o=an(t(s,$a(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function JI(t){return t<=0?()=>ai:St((e,n)=>{let r=[];e.subscribe(ut(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ZI(t){return Oe(()=>t)}function XI(t){return St((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Tt(t){return St((e,n)=>{an(t).subscribe(ut(n,()=>n.complete(),va)),!n.closed&&e.subscribe(n)})}const ve="primary",Bh=Symbol("RouteTitle");class Jse{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ol(t){return new Jse(t)}function Zse(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function io(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!U4(t[i],e[i]))return!1;return!0}function U4(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function j4(t){return t.length>0?t[t.length-1]:null}function Rs(t){return function Lse(t){return!!t&&(t instanceof je||Ie(t.lift)&&Ie(t.subscribe))}(t)?t:mh(t)?vn(Promise.resolve(t)):ce(t)}const eae={exact:function G4(t,e,n){if(!Ha(t.segments,e.segments)||!T_(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!G4(t.children[r],e.children[r],n))return!1;return!0},subset:z4},$4={exact:function tae(t,e){return io(t,e)},subset:function nae(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>U4(t[n],e[n]))},ignored:()=>!0};function H4(t,e,n){return eae[n.paths](t.root,e.root,n.matrixParams)&&$4[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function z4(t,e,n){return q4(t,e,e.segments,n)}function q4(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Ha(i,n)||e.hasChildren()||!T_(i,n,r))}if(t.segments.length===n.length){if(!Ha(t.segments,n)||!T_(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!z4(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Ha(t.segments,i)&&T_(t.segments,i,r)&&t.children[ve])&&q4(t.children[ve],e,o,r)}}function T_(t,e,n){return e.every((r,i)=>$4[n](t[i].parameters,r.parameters))}class sl{constructor(e=new it([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ol(this.queryParams)),this._queryParamMap}toString(){return oae.serialize(this)}}class it{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return E_(this)}}class Uh{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ol(this.parameters)),this._parameterMap}toString(){return Y4(this)}}function Ha(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let jh=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return new eC},providedIn:"root"})}return t})();class eC{parse(e){const n=new mae(e);return new sl(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${$h(e.root,!0)}`,r=function cae(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${D_(n)}=${D_(i)}`).join("&"):`${D_(n)}=${D_(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function sae(t){return encodeURI(t)}(e.fragment)}`:""}`}}const oae=new eC;function E_(t){return t.segments.map(e=>Y4(e)).join("/")}function $h(t,e){if(!t.hasChildren())return E_(t);if(e){const n=t.children[ve]?$h(t.children[ve],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ve&&r.push(`${i}:${$h(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function iae(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ve&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ve&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ve?[$h(t.children[ve],!1)]:[`${i}:${$h(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ve]?`${E_(t)}/${n[0]}`:`${E_(t)}/(${n.join("//")})`}}function W4(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function D_(t){return W4(t).replace(/%3B/gi,";")}function tC(t){return W4(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function S_(t){return decodeURIComponent(t)}function K4(t){return S_(t.replace(/\+/g,"%20"))}function Y4(t){return`${tC(t.path)}${function aae(t){return Object.keys(t).map(e=>`;${tC(e)}=${tC(t[e])}`).join("")}(t.parameters)}`}const uae=/^[^\/()?;#]+/;function nC(t){const e=t.match(uae);return e?e[0]:""}const lae=/^[^\/()?;=#]+/,hae=/^[^=?&#]+/,pae=/^[^&#]+/;class mae{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new it([],{}):new it([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ve]=new it(e,n)),r}parseSegment(){const e=nC(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new Uh(S_(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function dae(t){const e=t.match(lae);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=nC(this.remaining);i&&(r=i,this.capture(r))}e[S_(n)]=S_(r)}parseQueryParam(e){const n=function fae(t){const e=t.match(hae);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function gae(t){const e=t.match(pae);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=K4(n),o=K4(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=nC(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new U(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ve);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[ve]:new it([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}}function Q4(t){return t.segments.length>0?new it([],{[ve]:t}):t}function J4(t){const e={};for(const r of Object.keys(t.children)){const o=J4(t.children[r]);if(r===ve&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function _ae(t){if(1===t.numberOfChildren&&t.children[ve]){const e=t.children[ve];return new it(t.segments.concat(e.segments),e.children)}return t}(new it(t.segments,e))}function Ga(t){return t instanceof sl}function Z4(t){let e;const i=Q4(function n(o){const s={};for(const c of o.children){const u=n(c);s[c.outlet]=u}const a=new it(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function X4(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return rC(i,i,i,n,r);const o=function vae(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new tU(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new tU(n,e,r)}(e);if(o.toRoot())return rC(i,i,new it([],{}),n,r);const s=function bae(t,e,n){if(t.isAbsolute)return new A_(e,!0,0);if(!n)return new A_(e,!1,NaN);if(null===n.parent)return new A_(n,!0,0);const r=x_(t.commands[0])?0:1;return function wae(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new A_(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?Gh(s.segmentGroup,s.index,o.commands):nU(s.segmentGroup,s.index,o.commands);return rC(i,s.segmentGroup,a,n,r)}function x_(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Hh(t){return"object"==typeof t&&null!=t&&t.outlets}function rC(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),s=t===e?n:eU(t,e,n);const a=Q4(J4(s));return new sl(a,o,i)}function eU(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:eU(o,e,n)}),new it(t.segments,r)}class tU{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&x_(r[0]))throw new U(4003,!1);const i=r.find(Hh);if(i&&i!==j4(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class A_{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function nU(t,e,n){if(t||(t=new it([],{})),0===t.segments.length&&t.hasChildren())return Gh(t,e,n);const r=function Cae(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(Hh(a))break;const c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!iU(c,u,s))return o;r+=2}else{if(!iU(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new it(t.segments.slice(0,r.pathIndex),{});return o.children[ve]=new it(t.segments.slice(r.pathIndex),t.children),Gh(o,0,i)}return r.match&&0===i.length?new it(t.segments,{}):r.match&&!t.hasChildren()?iC(t,e,n):r.match?Gh(t,0,i):iC(t,e,n)}function Gh(t,e,n){if(0===n.length)return new it(t.segments,{});{const r=function Iae(t){return Hh(t[0])?t[0].outlets:{[ve]:t}}(n),i={};if(Object.keys(r).some(o=>o!==ve)&&t.children[ve]&&1===t.numberOfChildren&&0===t.children[ve].segments.length){const o=Gh(t.children[ve],e,n);return new it(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=nU(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new it(t.segments,i)}}function iC(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Hh(o)){const c=Tae(o.outlets);return new it(r,c)}if(0===i&&x_(n[0])){r.push(new Uh(t.segments[e].path,rU(n[0]))),i++;continue}const s=Hh(o)?o.outlets[ve]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&x_(a)?(r.push(new Uh(s,rU(a))),i+=2):(r.push(new Uh(s,{})),i++)}return new it(r,{})}function Tae(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=iC(new it([],{}),0,r))}),e}function rU(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function iU(t,e,n){return t==n.path&&io(e,n.parameters)}const zh="imperative";class oo{constructor(e,n){this.id=e,this.url=n}}class N_ extends oo{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ks extends oo{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class qh extends oo{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class al extends oo{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class O_ extends oo{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class oU extends oo{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Eae extends oo{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dae extends oo{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Sae extends oo{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xae extends oo{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Aae{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Nae{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Oae{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mae{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rae{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kae{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sU{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class oC{}class sC{constructor(e){this.url=e}}class Pae{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Wh,this.attachRef=null}}let Wh=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Pae,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class aU{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=aC(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=aC(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=cC(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return cC(e,this._root).map(n=>n.value)}}function aC(t,e){if(t===e.value)return e;for(const n of e.children){const r=aC(t,n);if(r)return r}return null}function cC(t,e){if(t===e.value)return[e];for(const n of e.children){const r=cC(t,n);if(r.length)return r.unshift(e),r}return[]}class Ho{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function cl(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class cU extends aU{constructor(e,n){super(e),this.snapshot=n,uC(this,e)}toString(){return this.snapshot.toString()}}function uU(t,e){const n=function Fae(t,e){const s=new M_([],{},{},"",{},ve,e,null,{});return new dU("",new Ho(s,[]))}(0,e),r=new wr([new Uh("",{})]),i=new wr({}),o=new wr({}),s=new wr({}),a=new wr(""),c=new ki(r,i,s,a,o,ve,e,n.root);return c.snapshot=n.root,new cU(new Ho(c,[]),n)}class ki{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Oe(u=>u[Bh]))??ce(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Oe(e=>ol(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Oe(e=>ol(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lU(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Lae(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class M_{get title(){return this.data?.[Bh]}constructor(e,n,r,i,o,s,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ol(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ol(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class dU extends aU{constructor(e,n){super(n),this.url=e,uC(this,n)}toString(){return hU(this._root)}}function uC(t,e){e.value._routerState=t,e.children.forEach(n=>uC(t,n))}function hU(t){const e=t.children.length>0?` { ${t.children.map(hU).join(", ")} } `:"";return`${t.value}${e}`}function lC(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,io(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),io(e.params,n.params)||t.paramsSubject.next(n.params),function Xse(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!io(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),io(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function dC(t,e){const n=io(t.params,e.params)&&function rae(t,e){return Ha(t,e)&&t.every((n,r)=>io(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||dC(t.parent,e.parent))}let R_=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ve,this.activateEvents=new P,this.deactivateEvents=new P,this.attachEvents=new P,this.detachEvents=new P,this.parentContexts=K(Wh),this.location=K(pi),this.changeDetector=K(Oi),this.environmentInjector=K(Sr),this.inputBinder=K(k_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Vae(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=H({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Pn]})}return t})();class Vae{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ki?this.route:e===Wh?this.childContexts:this.parent.get(e,n)}}const k_=new te("");let fU=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=KI([r.queryParams,r.params,r.data]).pipe(Ci(([o,s,a],c)=>(a={...o,...s,...a},0===c?ce(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function pie(t){const e=Me(t);if(!e)return null;const n=new lh(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();function Kh(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Uae(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Kh(t,r,i);return Kh(t,r)})}(t,e,n);return new Ho(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Kh(t,a)),s}}const r=function jae(t){return new ki(new wr(t.url),new wr(t.params),new wr(t.queryParams),new wr(t.fragment),new wr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>Kh(t,o));return new Ho(r,i)}}const hC="ngNavigationCancelingError";function pU(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Ga(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=gU(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function gU(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[hC]=!0,r.cancellationCode=e,n&&(r.url=n),r}function mU(t){return t&&t[hC]}let _U=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Le({type:t,selectors:[["ng-component"]],standalone:!0,features:[Yr],decls:1,vars:0,template:function(r,i){1&r&&O(0,"router-outlet")},dependencies:[R_],encapsulation:2})}return t})();function fC(t){const e=t.children&&t.children.map(fC),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ve&&(n.component=_U),n}function Pi(t){return t.outlet||ve}function Yh(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Yae{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),lC(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=cl(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=cl(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=cl(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=cl(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new kae(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Mae(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(lC(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),lC(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Yh(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class yU{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class P_{constructor(e,n){this.component=e,this.route=n}}function Qae(t,e,n){const r=t._root;return Qh(r,e?e._root:null,n,[r.value])}function ul(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function MK(t){return null!==Pg(t)}(t)?e.get(t):t:r}function Qh(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=cl(e);return t.children.forEach(s=>{(function Zae(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function Xae(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ha(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ha(t.url,e.url)||!io(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dC(t,e)||!io(t.queryParams,e.queryParams);default:return!dC(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new yU(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Qh(t,e,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new P_(a.outlet.component,s))}else s&&Jh(e,a,i),i.canActivateChecks.push(new yU(r)),Qh(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Jh(a,n.getContext(s),i)),i}function Jh(t,e,n){const r=cl(t),i=t.value;Object.entries(r).forEach(([o,s])=>{Jh(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new P_(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Zh(t){return"function"==typeof t}function vU(t){return t instanceof I_||"EmptyError"===t?.name}const F_=Symbol("INITIAL_VALUE");function ll(){return Ci(t=>KI(t.map(e=>e.pipe(wn(1),function V4(...t){const e=Nd(t);return St((n,r)=>{(e?Fh(t,n,e):Fh(t,n)).subscribe(r)})}(F_)))).pipe(Oe(e=>{for(const n of e)if(!0!==n){if(n===F_)return F_;if(!1===n||n instanceof sl)return n}return!0}),In(e=>e!==F_),wn(1)))}function bU(t){return function Cg(...t){return Tg(t)}(fn(e=>{if(Ga(e))throw pU(0,e)}),Oe(e=>!0===e))}class L_{constructor(e){this.segmentGroup=e||null}}class wU{constructor(e){this.urlTree=e}}function dl(t){return Lh(new L_(t))}function IU(t){return Lh(new wU(t))}class vce{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new U(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ce(r);if(i.numberOfChildren>1||!i.children[ve])return Lh(new U(4e3,!1));i=i.children[ve]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new sl(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new it(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const pC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bce(t,e,n,r,i){const o=gC(t,e,n);return o.matched?(r=function Hae(t,e){return t.providers&&!t._injector&&(t._injector=Bw(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function mce(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?ce(i.map(s=>{const a=ul(s,t);return Rs(function oce(t){return t&&Zh(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(ll(),bU()):ce(!0)}(r,e,n).pipe(Oe(s=>!0===s?o:{...pC}))):ce(o)}function gC(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...pC}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Zse)(n,t,e);if(!i)return{...pC};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function CU(t,e,n,r){return n.length>0&&function Cce(t,e,n){return n.some(r=>V_(t,e,r)&&Pi(r)!==ve)}(t,n,r)?{segmentGroup:new it(e,Ice(r,new it(n,t.children))),slicedSegments:[]}:0===n.length&&function Tce(t,e,n){return n.some(r=>V_(t,e,r))}(t,n,r)?{segmentGroup:new it(t.segments,wce(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new it(t.segments,t.children),slicedSegments:n}}function wce(t,e,n,r,i){const o={};for(const s of r)if(V_(t,n,s)&&!i[Pi(s)]){const a=new it([],{});o[Pi(s)]=a}return{...i,...o}}function Ice(t,e){const n={};n[ve]=e;for(const r of t)if(""===r.path&&Pi(r)!==ve){const i=new it([],{});n[Pi(r)]=i}return n}function V_(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class xce{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new vce(this.urlSerializer,this.urlTree)}noMatchError(e){return new U(4002,!1)}recognize(){const e=CU(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ve).pipe($a(n=>{if(n instanceof wU)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof L_?this.noMatchError(n):n}),Oe(n=>{const r=new M_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ve,this.rootComponentType,null,{}),i=new Ho(r,n),o=new dU("",i),s=function yae(t,e,n=null,r=null){return X4(Z4(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ve).pipe($a(r=>{throw r instanceof L_?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=lU(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return vn(i).pipe(Vh(o=>{const s=r.children[o],a=function Wae(t,e){const n=t.filter(r=>Pi(r)===e);return n.push(...t.filter(r=>Pi(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),function Yse(t,e){return St(function Kse(t,e,n,r,i){return(o,s)=>{let a=n,c=e,u=0;o.subscribe(ut(s,l=>{const d=u++;c=a?t(c,l,d):(a=!0,l),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(t,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),C_(null),function Qse(t,e){const n=arguments.length>=2;return r=>r.pipe(t?In((i,o)=>t(i,o,r)):Ii,JI(1),n?C_(e):B4(()=>new I_))}(),cn(o=>{if(null===o)return dl(r);const s=TU(o);return function Ace(t){t.sort((e,n)=>e.value.outlet===ve?-1:n.value.outlet===ve?1:e.value.outlet.localeCompare(n.value.outlet))}(s),ce(s)}))}processSegment(e,n,r,i,o,s){return vn(n).pipe(Vh(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe($a(c=>{if(c instanceof L_)return ce(null);throw c}))),ja(a=>!!a),$a(a=>{if(vU(a))return function Dce(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?ce([]):dl(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function Ece(t,e,n,r){return!!(Pi(t)===r||r!==ve&&V_(e,n,t))&&("**"===t.path||gC(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):dl(i):dl(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?IU(o):this.applyRedirects.lineralizeSegments(r,o).pipe(cn(s=>{const a=new it(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:l}=gC(n,i,o);if(!a)return dl(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return i.redirectTo.startsWith("/")?IU(d):this.applyRedirects.lineralizeSegments(i,d).pipe(cn(h=>this.processSegment(e,r,n,h.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?j4(i).parameters:{};a=ce({snapshot:new M_(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,EU(r),Pi(r),r.component??r._loadedComponent??null,r,DU(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=bce(n,r,i,e).pipe(Oe(({matched:c,consumedSegments:u,remainingSegments:l,parameters:d})=>c?{snapshot:new M_(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,EU(r),Pi(r),r.component??r._loadedComponent??null,r,DU(r)),consumedSegments:u,remainingSegments:l}:null));return a.pipe(Ci(c=>null===c?dl(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Ci(({routes:u})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=c,{segmentGroup:_,slicedSegments:y}=CU(n,h,f,u);if(0===y.length&&_.hasChildren())return this.processChildren(l,u,_).pipe(Oe(T=>null===T?null:[new Ho(d,T)]));if(0===u.length&&0===y.length)return ce([new Ho(d,[])]);const v=Pi(r)===o;return this.processSegment(l,u,_,y,v?ve:o,!0).pipe(Oe(T=>[new Ho(d,T)]))}))))}getChildConfig(e,n,r){return n.children?ce({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?ce({routes:n._loadedRoutes,injector:n._loadedInjector}):function gce(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?ce(!0):ce(i.map(s=>{const a=ul(s,t);return Rs(function tce(t){return t&&Zh(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(ll(),bU())}(e,n,r).pipe(cn(i=>i?this.configLoader.loadChildren(e,n).pipe(fn(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function yce(t){return Lh(gU(!1,3))}())):ce({routes:[],injector:e})}}function Nce(t){const e=t.value.routeConfig;return e&&""===e.path}function TU(t){const e=[],n=new Set;for(const r of t){if(!Nce(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=TU(r.children);e.push(new Ho(r.value,i))}return e.filter(r=>!n.has(r))}function EU(t){return t.data||{}}function DU(t){return t.resolve||{}}function SU(t){return"string"==typeof t.title||null===t.title}function mC(t){return Ci(e=>{const n=t(e);return n?vn(n).pipe(Oe(()=>e)):ce(e)})}const hl=new te("ROUTES");let _C=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=K(aB)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ce(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Rs(n.loadComponent()).pipe(Oe(xU),fn(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),XI(()=>{this.componentLoaders.delete(n)})),i=new L4(r,()=>new Fe).pipe(QI());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ce({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function Lce(t,e,n,r){return Rs(t.loadChildren()).pipe(Oe(xU),cn(i=>i instanceof mV||Array.isArray(i)?ce(i):vn(e.compileModuleAsync(i))),Oe(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(hl,[],{optional:!0,self:!0}).flat()),{routes:s.map(fC),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(XI(()=>{this.childrenLoaders.delete(r)})),s=new L4(o,()=>new Fe).pipe(QI());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function xU(t){return function Vce(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let B_=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Fe,this.transitionAbortSubject=new Fe,this.configLoader=K(_C),this.environmentInjector=K(Sr),this.urlSerializer=K(jh),this.rootContexts=K(Wh),this.inputBindingEnabled=null!==K(k_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ce(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Nae(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Aae(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new wr({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:zh,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(In(o=>0!==o.id),Oe(o=>({...o,extractedUrl:n.urlHandlingStrategy.extract(o.rawUrl)})),Ci(o=>{this.currentTransition=o;let s=!1,a=!1;return ce(o).pipe(fn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ci(c=>{const u=c.currentBrowserUrl.toString(),l=!n.navigated||c.extractedUrl.toString()!==u||u!==c.currentUrlTree.toString();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new al(c.id,this.urlSerializer.serialize(c.rawUrl),h,0)),c.resolve(null),ai}if(n.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ce(c).pipe(Ci(h=>{const f=this.transitions?.getValue();return this.events.next(new N_(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?ai:Promise.resolve(h)}),function Oce(t,e,n,r,i,o){return cn(s=>function Sce(t,e,n,r,i,o,s="emptyOnly"){return new xce(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(Oe(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),fn(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new oU(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:h,extractedUrl:f,source:_,restoredState:y,extras:v}=c,T=new N_(h,this.urlSerializer.serialize(f),_,y);this.events.next(T);const w=uU(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:w,urlAfterRedirects:f,extras:{...v,skipLocationChange:!1,replaceUrl:!1}},ce(o)}{const h="";return this.events.next(new al(c.id,this.urlSerializer.serialize(c.extractedUrl),h,1)),c.resolve(null),ai}}),fn(c=>{const u=new Eae(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Oe(c=>(this.currentTransition=o={...c,guards:Qae(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function ace(t,e){return cn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?ce({...n,guardsResult:!0}):function cce(t,e,n,r){return vn(t).pipe(cn(i=>function pce(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?ce(o.map(a=>{const c=Yh(e)??i,u=ul(a,c);return Rs(function ice(t){return t&&Zh(t.canDeactivate)}(u)?u.canDeactivate(t,e,n,r):c.runInContext(()=>u(t,e,n,r))).pipe(ja())})).pipe(ll()):ce(!0)}(i.component,i.route,n,e,r)),ja(i=>!0!==i,!0))}(s,r,i,t).pipe(cn(a=>a&&function ece(t){return"boolean"==typeof t}(a)?function uce(t,e,n,r){return vn(e).pipe(Vh(i=>Fh(function dce(t,e){return null!==t&&e&&e(new Oae(t)),ce(!0)}(i.route.parent,r),function lce(t,e){return null!==t&&e&&e(new Rae(t)),ce(!0)}(i.route,r),function fce(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Jae(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>YI(()=>ce(s.guards.map(c=>{const u=Yh(s.node)??n,l=ul(c,u);return Rs(function rce(t){return t&&Zh(t.canActivateChild)}(l)?l.canActivateChild(r,t):u.runInContext(()=>l(r,t))).pipe(ja())})).pipe(ll())));return ce(o).pipe(ll())}(t,i.path,n),function hce(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ce(!0);const i=r.map(o=>YI(()=>{const s=Yh(e)??n,a=ul(o,s);return Rs(function nce(t){return t&&Zh(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(ja())}));return ce(i).pipe(ll())}(t,i.route,n))),ja(i=>!0!==i,!0))}(r,o,t,e):ce(a)),Oe(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),fn(c=>{if(o.guardsResult=c.guardsResult,Ga(c.guardsResult))throw pU(0,c.guardsResult);const u=new Dae(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),In(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),mC(c=>{if(c.guards.canActivateChecks.length)return ce(c).pipe(fn(u=>{const l=new Sae(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),Ci(u=>{let l=!1;return ce(u).pipe(function Mce(t,e){return cn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ce(n);let o=0;return vn(i).pipe(Vh(s=>function Rce(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!SU(i)&&(o[Bh]=i.title),function kce(t,e,n,r){const i=function Pce(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return ce({});const o={};return vn(i).pipe(cn(s=>function Fce(t,e,n,r){const i=Yh(e)??r,o=ul(t,i);return Rs(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(ja(),fn(a=>{o[s]=a}))),JI(1),ZI(o),$a(s=>vU(s)?ai:Lh(s)))}(o,t,e,r).pipe(Oe(s=>(t._resolvedData=s,t.data=lU(t,n).resolve,i&&SU(i)&&(t.data[Bh]=i.title),null)))}(s.route,r,t,e)),fn(()=>o++),JI(1),cn(s=>o===i.length?ce(n):ai))})}(n.paramsInheritanceStrategy,this.environmentInjector),fn({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(u,"",2)}}))}),fn(u=>{const l=new xae(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}))}),mC(c=>{const u=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(fn(h=>{l.component=h}),Oe(()=>{})));for(const h of l.children)d.push(...u(h));return d};return KI(u(c.targetSnapshot.root)).pipe(C_(),wn(1))}),mC(()=>this.afterPreactivation()),Oe(c=>{const u=function Bae(t,e,n){const r=Kh(t,e._root,n?n._root:void 0);return new cU(r,e)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:u},o}),fn(()=>{this.events.next(new oC)}),((t,e,n,r)=>Oe(i=>(new Yae(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),wn(1),fn({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ks(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),n.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Tt(this.transitionAbortSubject.pipe(fn(c=>{throw c}))),XI(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),$a(c=>{if(a=!0,mU(c))this.events.next(new qh(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function $ae(t){return mU(t)&&Ga(t.url)}(c)?this.events.next(new sC(c.url)):o.resolve(!1);else{this.events.next(new O_(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(c))}catch(u){o.reject(u)}}return ai}))}))}cancelNavigationTransition(n,r,i){const o=new qh(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function AU(t){return t!==zh}let NU=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ve);return r}getResolvedTitleForRoute(n){return n.data[Bh]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return K(Bce)},providedIn:"root"})}return t})(),Bce=(()=>{class t extends NU{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(q(x4))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Uce=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return K($ce)},providedIn:"root"})}return t})();class jce{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let $ce=(()=>{class t extends jce{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Gt(t)))(i||t)}}();static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const U_=new te("",{providedIn:"root",factory:()=>({})});let Hce=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return K(Gce)},providedIn:"root"})}return t})(),Gce=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Xh=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Xh||{});function OU(t,e){t.events.pipe(In(n=>n instanceof ks||n instanceof qh||n instanceof O_||n instanceof al),Oe(n=>n instanceof ks||n instanceof al?Xh.COMPLETE:n instanceof qh&&(0===n.code||1===n.code)?Xh.REDIRECTING:Xh.FAILED),In(n=>n!==Xh.REDIRECTING),wn(1)).subscribe(()=>{e()})}function zce(t){throw t}function qce(t,e,n){return e.parse("/")}const Wce={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Kce={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Pt=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=K(oB),this.isNgZoneEnabled=!1,this._events=new Fe,this.options=K(U_,{optional:!0})||{},this.pendingTasks=K(sB),this.errorHandler=this.options.errorHandler||zce,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||qce,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=K(Hce),this.routeReuseStrategy=K(Uce),this.titleStrategy=K(NU),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=K(hl,{optional:!0})?.flat()??[],this.navigationTransitions=K(B_),this.urlSerializer=K(jh),this.location=K(bI),this.componentInputBindingEnabled=!!K(k_,{optional:!0}),this.eventsSubscription=new Ut,this.isNgZoneEnabled=K(Te)instanceof Te&&Te.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new sl,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=uU(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(MU(r)&&this._events.next(r));if(r instanceof N_)AU(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof al)this.rawUrlTree=i.rawUrl;else if(r instanceof oU){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof oC)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof qh)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof sC){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||AU(i.source)};this.scheduleNavigation(o,zh,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof O_&&this.restoreHistory(i,!0),r instanceof ks&&(this.navigated=!0),MU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),zh,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(fC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...o};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}null!==l&&(l=this.removeEmptyProps(l));try{d=Z4(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return X4(d,n,l,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Ga(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,zh,null,r)}navigate(n,r={skipLocationChange:!1}){return function Yce(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new U(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...Wce}:!1===r?{...Kce}:r,Ga(n))return H4(this.currentUrlTree,n,i);const o=this.parseUrl(n);return H4(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((d,h)=>{a=d,c=h});const l=this.pendingTasks.add();return OU(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function MU(t){return!(t instanceof oC||t instanceof sC)}let _i=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Fe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof ks&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function _F(t,e,n){return function UJ(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?wm:Ds}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(b(Pt),b(ki),function Sa(t){return function nQ(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(dP(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(Fn(),t)}("tabindex"),b(xr),b(He),b(Ba))};static#t=this.\u0275dir=H({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&ne("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Je("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",nl],skipLocationChange:["skipLocationChange","skipLocationChange",nl],replaceUrl:["replaceUrl","replaceUrl",nl],routerLink:"routerLink"},standalone:!0,features:[OL,Pn]})}return t})();class RU{}let Zce=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(In(n=>n instanceof ks),Vh(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Bw(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return vn(i).pipe(ou())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):ce(null);const o=i.pipe(cn(s=>null===s?ce(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?vn([o,this.loader.loadComponent(r)]).pipe(ou()):o})}static#e=this.\u0275fac=function(r){return new(r||t)(q(Pt),q(aB),q(Sr),q(RU),q(_C))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const yC=new te("");let kU=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof N_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ks?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof al&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof sU&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new sU(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function iL(){throw new Error("invalid")}()};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();function Go(t,e){return{\u0275kind:t,\u0275providers:e}}function FU(){const t=K(en);return e=>{const n=t.get(Ns);if(e!==n.components[0])return;const r=t.get(Pt),i=t.get(LU);1===t.get(vC)&&r.initialNavigation(),t.get(VU,null,De.Optional)?.setUpPreloading(),t.get(yC,null,De.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const LU=new te("",{factory:()=>new Fe}),vC=new te("",{providedIn:"root",factory:()=>1}),VU=new te("");function nue(t){return Go(0,[{provide:VU,useExisting:Zce},{provide:RU,useExisting:t}])}const BU=new te("ROUTER_FORROOT_GUARD"),iue=[bI,{provide:jh,useClass:eC},Pt,Wh,{provide:ki,useFactory:function PU(t){return t.routerState.root},deps:[Pt]},_C,[]];function oue(){return new pB("Router",Pt)}let fl=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[iue,[],{provide:hl,multi:!0,useValue:n},{provide:BU,useFactory:uue,deps:[[Pt,new Er,new im]]},{provide:U_,useValue:r||{}},r?.useHash?{provide:Ba,useClass:vie}:{provide:Ba,useClass:GB},{provide:yC,useFactory:()=>{const t=K(Foe),e=K(Te),n=K(U_),r=K(B_),i=K(jh);return n.scrollOffset&&t.setOffset(n.scrollOffset),new kU(i,r,t,e,n)}},r?.preloadingStrategy?nue(r.preloadingStrategy).\u0275providers:[],{provide:pB,multi:!0,useFactory:oue},r?.initialNavigation?lue(r):[],r?.bindToComponentInputs?Go(8,[fU,{provide:k_,useExisting:fU}]).\u0275providers:[],[{provide:UU,useFactory:FU},{provide:uI,multi:!0,useExisting:UU}]]}}static forChild(n){return{ngModule:t,providers:[{provide:hl,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(q(BU,8))};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})();function uue(t){return"guarded"}function lue(t){return["disabled"===t.initialNavigation?Go(3,[{provide:tI,multi:!0,useFactory:()=>{const e=K(Pt);return()=>{e.setUpLocationChangeListener()}}},{provide:vC,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Go(2,[{provide:vC,useValue:0},{provide:tI,multi:!0,deps:[en],useFactory:e=>{const n=e.get(_ie,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Pt),o=e.get(LU);OU(i,()=>{r(!0)}),e.get(B_).afterPreactivation=()=>(r(!0),o.closed?ce(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const UU=new te("");function jU(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(u){return void n(u)}a.done?e(c):Promise.resolve(c).then(r,i)}function p(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(c){jU(o,r,i,s,a,"next",c)}function a(c){jU(o,r,i,s,a,"throw",c)}s(void 0)})}}let $U=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(xr),b(He))};static#t=this.\u0275dir=H({type:t})}return t})(),za=(()=>{class t extends $U{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Gt(t)))(i||t)}}();static#t=this.\u0275dir=H({type:t,features:[ze]})}return t})();const Jr=new te("NgValueAccessor"),pue={provide:Jr,useExisting:Ee(()=>zo),multi:!0},mue=new te("CompositionEventMode");let zo=(()=>{class t extends $U{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function gue(){const t=Os()?Os().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(xr),b(He),b(mue,8))};static#t=this.\u0275dir=H({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&ne("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[at([pue]),ze]})}return t})();function Ps(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function GU(t){return null!=t&&"number"==typeof t.length}const Ln=new te("NgValidators"),Fs=new te("NgAsyncValidators"),_ue=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Be{static min(e){return function zU(t){return e=>{if(Ps(e.value)||Ps(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function qU(t){return e=>{if(Ps(e.value)||Ps(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function WU(t){return Ps(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function KU(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function YU(t){return Ps(t.value)||_ue.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function QU(t){return e=>Ps(e.value)||!GU(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function JU(t){return e=>GU(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function ZU(t){if(!t)return j_;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Ps(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return ij(e)}static composeAsync(e){return oj(e)}}function j_(t){return null}function XU(t){return null!=t}function ej(t){return mh(t)?vn(t):t}function tj(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function nj(t,e){return e.map(n=>n(t))}function rj(t){return t.map(e=>function yue(t){return!t.validate}(e)?e:n=>e.validate(n))}function ij(t){if(!t)return null;const e=t.filter(XU);return 0==e.length?null:function(n){return tj(nj(n,e))}}function bC(t){return null!=t?ij(rj(t)):null}function oj(t){if(!t)return null;const e=t.filter(XU);return 0==e.length?null:function(n){return function hue(...t){const e=Ng(t),{args:n,keys:r}=k4(t),i=new je(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let c=s,u=s;for(let l=0;l<s;l++){let d=!1;an(n[l]).subscribe(ut(o,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||o.next(r?P4(r,a):a),o.complete())}))}});return e?i.pipe(WI(e)):i}(nj(n,e).map(ej)).pipe(Oe(tj))}}function wC(t){return null!=t?oj(rj(t)):null}function sj(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function aj(t){return t._rawValidators}function cj(t){return t._rawAsyncValidators}function IC(t){return t?Array.isArray(t)?t:[t]:[]}function $_(t,e){return Array.isArray(t)?t.includes(e):t===e}function uj(t,e){const n=IC(e);return IC(t).forEach(i=>{$_(n,i)||n.push(i)}),n}function lj(t,e){return IC(e).filter(n=>!$_(t,n))}class dj{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=bC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=wC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class hr extends dj{get formDirective(){return null}get path(){return null}}class Ls extends dj{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class hj{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let qa=(()=>{class t extends hj{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(Ls,2))};static#t=this.\u0275dir=H({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Ge("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ze]})}return t})(),Wa=(()=>{class t extends hj{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(hr,10))};static#t=this.\u0275dir=H({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Ge("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[ze]})}return t})();const ef="VALID",G_="INVALID",pl="PENDING",tf="DISABLED";function EC(t){return(z_(t)?t.validators:t)||null}function DC(t,e){return(z_(e)?e.asyncValidators:t)||null}function z_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function pj(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new U(1e3,"");if(!r[n])throw new U(1001,"")}function gj(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new U(1002,"")})}class q_{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ef}get invalid(){return this.status===G_}get pending(){return this.status==pl}get disabled(){return this.status===tf}get enabled(){return this.status!==tf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(uj(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(uj(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(lj(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(lj(e,this._rawAsyncValidators))}hasValidator(e){return $_(this._rawValidators,e)}hasAsyncValidator(e){return $_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=pl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=tf,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=ef,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ef||this.status===pl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tf:ef}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=pl,this._hasOwnPendingAsyncValidator=!0;const n=ej(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new P,this.statusChanges=new P}_calculateStatus(){return this._allControlsDisabled()?tf:this.errors?G_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pl)?pl:this._anyControlsHaveStatus(G_)?G_:ef}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){z_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Iue(t){return Array.isArray(t)?bC(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Cue(t){return Array.isArray(t)?wC(t):t||null}(this._rawAsyncValidators)}}class nf extends q_{constructor(e,n,r){super(EC(n),DC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){gj(this,0,e),Object.keys(e).forEach(r=>{pj(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class mj extends nf{}const Ka=new te("CallSetDisabledState",{providedIn:"root",factory:()=>rf}),rf="always";function W_(t,e){return[...e.path,t]}function sf(t,e,n=rf){SC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Eue(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&_j(t,e)})}(t,e),function Sue(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Due(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&_j(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Tue(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function K_(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Q_(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Y_(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function SC(t,e){const n=aj(t);null!==e.validator?t.setValidators(sj(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=cj(t);null!==e.asyncValidator?t.setAsyncValidators(sj(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Y_(e._rawValidators,i),Y_(e._rawAsyncValidators,i)}function Q_(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=aj(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(null!==e.asyncValidator){const i=cj(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}const r=()=>{};return Y_(e._rawValidators,r),Y_(e._rawAsyncValidators,r),n}function _j(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function bj(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function wj(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const cf=class extends q_{constructor(e=null,n,r){super(EC(n),DC(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),z_(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=wj(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){bj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){bj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){wj(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Ij=(()=>{class t extends hr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return W_(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Gt(t)))(i||t)}}();static#t=this.\u0275dir=H({type:t,features:[ze]})}return t})(),Ya=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=H({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})();const Fue={provide:Jr,useExisting:Ee(()=>J_),multi:!0};let J_=(()=>{class t extends za{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Gt(t)))(i||t)}}();static#t=this.\u0275dir=H({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&ne("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[at([Fue]),ze]})}return t})(),Dj=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})();const MC=new te("NgModelWithFormControlWarning"),jue={provide:hr,useExisting:Ee(()=>qo)};let qo=(()=>{class t extends hr{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new P,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Q_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return sf(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){K_(n.control||null,n,!1),function Oue(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function vj(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(K_(r||null,n),(t=>t instanceof cf)(i)&&(sf(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function yj(t,e){SC(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function xue(t,e){return Q_(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){SC(this.form,this),this._oldForm&&Q_(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(b(Ln,10),b(Fs,10),b(Ka,8))};static#t=this.\u0275dir=H({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&ne("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[at([jue]),ze,Pn]})}return t})();const $ue={provide:hr,useExisting:Ee(()=>uf)};let uf=(()=>{class t extends Ij{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){Nj(this._parent)}static#e=this.\u0275fac=function(r){return new(r||t)(b(hr,13),b(Ln,10),b(Fs,10))};static#t=this.\u0275dir=H({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[at([$ue]),ze]})}return t})();const Hue={provide:hr,useExisting:Ee(()=>lf)};let lf=(()=>{class t extends hr{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return W_(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Nj(this._parent)}static#e=this.\u0275fac=function(r){return new(r||t)(b(hr,13),b(Ln,10),b(Fs,10))};static#t=this.\u0275dir=H({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[at([Hue]),ze]})}return t})();function Nj(t){return!(t instanceof uf||t instanceof qo||t instanceof lf)}const Gue={provide:Ls,useExisting:Ee(()=>Vs)};let Vs=(()=>{class t extends Ls{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new P,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function NC(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===zo?n=o:function Nue(t){return Object.getPrototypeOf(t.constructor)===za}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){this._added||this._setUpControl(),function AC(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return W_(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||t)(b(hr,13),b(Ln,10),b(Fs,10),b(Jr,10),b(MC,8))};static#n=this.\u0275dir=H({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[at([Gue]),ze,Pn]})}return t})();const zue={provide:Jr,useExisting:Ee(()=>df),multi:!0};function Oj(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let df=(()=>{class t extends za{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=Oj(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function que(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Gt(t)))(i||t)}}();static#t=this.\u0275dir=H({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&ne("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[at([zue]),ze]})}return t})(),RC=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(Oj(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(b(He),b(xr),b(df,9))};static#t=this.\u0275dir=H({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})();const Wue={provide:Jr,useExisting:Ee(()=>kC),multi:!0};function Mj(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let kC=(()=>{class t extends za{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const u=this._getOptionValue(s[a].value);i.push(u)}}else{const s=r.options;for(let a=0;a<s.length;a++){const c=s[a];if(c.selected){const u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function Kue(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Gt(t)))(i||t)}}();static#t=this.\u0275dir=H({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&ne("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[at([Wue]),ze]})}return t})(),PC=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(Mj(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(Mj(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(b(He),b(xr),b(kC,9))};static#t=this.\u0275dir=H({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})(),$j=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({imports:[Dj]})}return t})();class Hj extends q_{constructor(e,n,r){super(EC(n),DC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){gj(this,0,e),e.forEach((r,i)=>{pj(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Gj(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let gl=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let o={};return Gj(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new nf(i,o)}record(n,r=null){const i=this._reduceControls(n);return new mj(i,r)}control(n,r,i){let o={};return this.useNonNullable?(Gj(r)?o=r:(o.validators=r,o.asyncValidators=i),new cf(n,{...o,nonNullable:!0})):new cf(n,r,i)}array(n,r,i){const o=n.map(s=>this._createControl(s));return new Hj(o,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof cf||n instanceof q_?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Z_=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Ka,useValue:n.callSetDisabledState??rf}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({imports:[$j]})}return t})(),LC=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:MC,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Ka,useValue:n.callSetDisabledState??rf}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({imports:[$j]})}return t})();const zj=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},qj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;c||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==d)throw new sle;r.push(o<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sle extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const X_=function(t){return function(t){const e=zj(t);return qj.encodeByteArray(e,!0)}(t).replace(/\./g,"")},ey=function(t){try{return qj.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},ty=()=>{try{return function ule(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ey(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},Yj=()=>{var t;return null===(t=ty())||void 0===t?void 0:t.config},Qj=t=>{var e;return null===(e=ty())||void 0===e?void 0:e[`_${t}`]};class Jj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Cn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class Bs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hf.prototype.create)}}class hf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function wle(t,e){return t.replace(Ile,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Bs(i,`${this.serviceName}: ${s} (${i}).`,r)}}const Ile=/\{\$([^}]+)}/g;function ry(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Xj(o)&&Xj(s)){if(!ry(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Xj(t){return null!==t&&"object"==typeof t}function iy(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ff(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function pf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class Ele{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Dle(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=BC),void 0===i.error&&(i.error=BC),void 0===i.complete&&(i.complete=BC);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BC(){}function Us(t){return t&&t._delegate?t._delegate:t}class ml{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ja="[DEFAULT]";class Mle{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Jj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function kle(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ja})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return p(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ja){return this.instances.has(e)}getOptions(e=Ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Ja?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Ja){return this.component?this.component.multipleInstances?e:Ja:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ple{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Mle(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const jC=[];var Ae=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ae||{});const e5={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},Fle=Ae.INFO,Lle={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},Vle=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Lle[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class js{constructor(e){this.name=e,this._logLevel=Fle,this._logHandler=Vle,this._userLogHandler=null,jC.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?e5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const Ble=(t,e)=>e.some(n=>t instanceof n);let t5,n5;const r5=new WeakMap,$C=new WeakMap,i5=new WeakMap,HC=new WeakMap,GC=new WeakMap;let zC={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return $C.get(t);if("objectStoreNames"===e)return t.objectStoreNames||i5.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $s(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function qle(t){return"function"==typeof t?function zle(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function jle(){return n5||(n5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(qC(this),e),$s(r5.get(this))}:function(...e){return $s(t.apply(qC(this),e))}:function(e,...n){const r=t.call(qC(this),e,...n);return i5.set(r,e.sort?e.sort():[e]),$s(r)}}(t):(t instanceof IDBTransaction&&function Hle(t){if($C.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});$C.set(t,e)}(t),Ble(t,function Ule(){return t5||(t5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,zC):t)}function $s(t){if(t instanceof IDBRequest)return function $le(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n($s(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&r5.set(n,t)}).catch(()=>{}),GC.set(e,t),e}(t);if(HC.has(t))return HC.get(t);const e=qle(t);return e!==t&&(HC.set(t,e),GC.set(e,t)),e}const qC=t=>GC.get(t);function o5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=$s(s);return r&&s.addEventListener("upgradeneeded",c=>{r($s(s.result),c.oldVersion,c.newVersion,$s(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Wle=["get","getKey","getAll","getAllKeys","count"],Kle=["put","add","delete","clear"],WC=new Map;function s5(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(WC.get(e))return WC.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Kle.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Wle.includes(n))return;const o=function(){var s=p(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return s.apply(this,arguments)}}();return WC.set(e,o),o}!function Gle(t){zC=t(zC)}(t=>({...t,get:(e,n,r)=>s5(e,n)||t.get(e,n,r),has:(e,n)=>!!s5(e,n)||t.has(e,n)}));class Yle{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Qle(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const KC="@firebase/app",Za=new js("@firebase/app"),oy="[DEFAULT]",Ide={[KC]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xa=new Map,sy=new Map;function Cde(t,e){try{t.container.addComponent(e)}catch(n){Za.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gf(t){const e=t.name;if(sy.has(e))return Za.debug(`There were multiple attempts to register component ${e}.`),!1;sy.set(e,t);for(const n of Xa.values())Cde(n,t);return!0}function YC(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Wo=new hf("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ede{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ml("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wo.create("app-deleted",{appName:this._name})}}const mf="10.8.1";function c5(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:oy,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Wo.create("bad-app-name",{appName:String(i)});if(n||(n=Yj()),!n)throw Wo.create("no-options");const o=Xa.get(i);if(o){if(ry(n,o.options)&&ry(r,o.config))return o;throw Wo.create("duplicate-app",{appName:i})}const s=new Ple(i);for(const c of sy.values())s.addComponent(c);const a=new Ede(n,r,s);return Xa.set(i,a),a}function _l(t,e,n){var r;let i=null!==(r=Ide[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Za.warn(a.join(" "))}gf(new ml(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Sde="firebase-heartbeat-database",xde=1,_f="firebase-heartbeat-store";let JC=null;function u5(){return JC||(JC=o5(Sde,xde,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(_f)}catch(n){console.warn(n)}}}).catch(t=>{throw Wo.create("idb-open",{originalErrorMessage:t.message})})),JC}function ZC(){return(ZC=p(function*(t){try{const n=(yield u5()).transaction(_f),r=yield n.objectStore(_f).get(d5(t));return yield n.done,r}catch(e){if(e instanceof Bs)Za.warn(e.message);else{const n=Wo.create("idb-get",{originalErrorMessage:e?.message});Za.warn(n.message)}}})).apply(this,arguments)}function l5(t,e){return XC.apply(this,arguments)}function XC(){return(XC=p(function*(t,e){try{const r=(yield u5()).transaction(_f,"readwrite");yield r.objectStore(_f).put(e,d5(t)),yield r.done}catch(n){if(n instanceof Bs)Za.warn(n.message);else{const r=Wo.create("idb-set",{originalErrorMessage:n?.message});Za.warn(r.message)}}})).apply(this,arguments)}function d5(t){return`${t.name}!${t.options.appId}`}class Mde{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kde(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return p(function*(){var n,r;const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=h5();if((null!=(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==s&&!e._heartbeatsCache.heartbeats.some(a=>a.date===s))return e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return p(function*(){var n;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=h5(),{heartbeatsToSend:i,unsentEntries:o}=function Rde(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),f5(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),f5(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=X_(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function h5(){return(new Date).toISOString().substring(0,10)}class kde{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(function*(){return!!function yle(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function vle(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return p(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function Ade(t){return ZC.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var n=this;return p(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return l5(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return p(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return l5(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function f5(t){return X_(JSON.stringify({version:2,heartbeats:t})).length}!function Pde(t){gf(new ml("platform-logger",e=>new Yle(e),"PRIVATE")),gf(new ml("heartbeat",e=>new Mde(e),"PRIVATE")),_l(KC,"0.9.28",t),_l(KC,"0.9.28","esm2017"),_l("fire-js","")}("");const Fde=function p5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},g5=new hf("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ay=new js("@firebase/auth");function cy(t,...e){ay.logLevel<=Ae.ERROR&&ay.error(`Auth (${mf}): ${t}`,...e)}function Rr(t,...e){throw eT(t,...e)}function so(t,...e){return eT(t,...e)}function eT(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return g5.create(t,...e)}function G(t,e,...n){if(!t)throw eT(e,...n)}function ao(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cy(e),new Error(e)}function Hs(t,e){t||ao(e)}function yf(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function _5(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function Vde(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function tT(){return"http:"===_5()||"https:"===_5()}()||function gle(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class vf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hs(n>e,"Short delay should be less than long delay!"),this.isMobile=function fle(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}()||function mle(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return Vde()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function nT(t,e){Hs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class y5{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ao("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ao("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ao("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ude={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},jde=new vf(3e4,6e4);function mt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function _t(t,e,n,r){return rT.apply(this,arguments)}function rT(){return(rT=p(function*(t,e,n,r,i={}){return v5(t,i,p(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=iy(Object.assign({key:t.config.apiKey},s)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),y5.fetch()(b5(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function v5(t,e,n){return iT.apply(this,arguments)}function iT(){return(iT=p(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ude),e);try{const i=new Hde(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw bf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw bf(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw bf(t,"email-already-in-use",s);if("USER_DISABLED"===c)throw bf(t,"user-disabled",s);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw function m5(t,e,n){const r=Object.assign(Object.assign({},Fde()),{[e]:n});return new hf("auth","Firebase",r).create(e,{appName:t.name})}(t,l,u);Rr(t,l)}}catch(i){if(i instanceof Bs)throw i;Rr(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Ko(t,e,n,r){return oT.apply(this,arguments)}function oT(){return(oT=p(function*(t,e,n,r,i={}){const o=yield _t(t,e,n,r,i);return"mfaPendingCredential"in o&&Rr(t,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function b5(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?nT(t.config,i):`${t.config.apiScheme}://${i}`}function $de(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Hde{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(so(this.auth,"network-request-failed")),jde.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=so(t,e,r);return i.customData._tokenResponse=n,i}function I5(t){return void 0!==t&&void 0!==t.enterprise}class C5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $de(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function T5(t,e){return aT.apply(this,arguments)}function aT(){return(aT=p(function*(t,e){return _t(t,"GET","/v2/recaptchaConfig",mt(t,e))})).apply(this,arguments)}function cT(){return(cT=p(function*(t,e){return _t(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function lT(){return(lT=p(function*(t,e){return _t(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function wf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function dT(){return(dT=p(function*(t,e=!1){const n=Us(t),r=yield n.getIdToken(e),i=uy(r);G(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:wf(hT(i.auth_time)),issuedAtTime:wf(hT(i.iat)),expirationTime:wf(hT(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function hT(t){return 1e3*Number(t)}function uy(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return cy("JWT malformed, contained fewer than 3 sections"),null;try{const i=ey(n);return i?JSON.parse(i):(cy("Failed to decode base64 JWT payload"),null)}catch(i){return cy("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Yo(t,e){return fT.apply(this,arguments)}function fT(){return(fT=p(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Bs&&function Qde({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Jde{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(p(function*(){yield n.iteration()}),r)}iteration(){var e=this;return p(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class E5{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wf(this.lastLoginAt),this.creationTime=wf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function If(t){return pT.apply(this,arguments)}function pT(){return pT=p(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Yo(t,function Wde(t,e){return lT.apply(this,arguments)}(n,{idToken:r}));G(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function ehe(t){return t.map(e=>{var{providerId:n}=e,r=ru(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function Xde(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),l=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new E5(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),pT.apply(this,arguments)}function gT(){return(gT=p(function*(t){const e=Us(t);yield If(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function mT(){return(mT=p(function*(t,e){const n=yield v5(t,{},p(function*(){const r=iy({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=b5(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",y5.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}function _T(){return(_T=p(function*(t,e){return _t(t,"POST","/v2/accounts:revokeToken",mt(t,e))})).apply(this,arguments)}class Cf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Yde(t){const e=uy(t);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return p(function*(){return G(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return p(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function the(t,e){return mT.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Cf;return r&&(G("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(G("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(G("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cf,this.toJSON())}_performRefresh(){return ao("not implemented")}}function Gs(t,e){G("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class ec{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=ru(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jde(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new E5(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return p(function*(){const r=yield Yo(n,n.stsTokenManager.getToken(n.auth,e));return G(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Kde(t){return dT.apply(this,arguments)}(this,e)}reload(){return function Zde(t){return gT.apply(this,arguments)}(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ec(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return p(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield If(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return p(function*(){const n=yield e.getIdToken();return yield Yo(e,function zde(t,e){return cT.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,u,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,_=null!==(s=n.photoURL)&&void 0!==s?s:void 0,y=null!==(a=n.tenantId)&&void 0!==a?a:void 0,v=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,T=null!==(u=n.createdAt)&&void 0!==u?u:void 0,w=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:M,emailVerified:F,isAnonymous:$,providerData:Y,stsTokenManager:ae}=n;G(M&&ae,e,"internal-error");const me=Cf.fromJSON(this.name,ae);G("string"==typeof M,e,"internal-error"),Gs(d,e.name),Gs(h,e.name),G("boolean"==typeof F,e,"internal-error"),G("boolean"==typeof $,e,"internal-error"),Gs(f,e.name),Gs(_,e.name),Gs(y,e.name),Gs(v,e.name),Gs(T,e.name),Gs(w,e.name);const Ue=new ec({uid:M,auth:e,email:h,emailVerified:F,displayName:d,isAnonymous:$,photoURL:_,phoneNumber:f,tenantId:y,stsTokenManager:me,createdAt:T,lastLoginAt:w});return Y&&Array.isArray(Y)&&(Ue.providerData=Y.map(It=>Object.assign({},It))),v&&(Ue._redirectEventId=v),Ue}static _fromIdTokenResponse(e,n,r=!1){return p(function*(){const i=new Cf;i.updateFromServerResponse(n);const o=new ec({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield If(o),o})()}}const D5=new Map;function Qo(t){Hs(t instanceof Function,"Expected a class definition");let e=D5.get(t);return e?(Hs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,D5.set(t,e),e)}const S5=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(function*(){return!0})()}_set(n,r){var i=this;return p(function*(){i.storage[n]=r})()}_get(n){var r=this;return p(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return p(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function ly(t,e,n){return`firebase:${t}:${e}:${n}`}class vl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=ly(this.userKey,i.apiKey,o),this.fullPersistenceKey=ly("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return p(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?ec._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return p(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(function*(){if(!n.length)return new vl(Qo(S5),e,r);const i=(yield Promise.all(n.map(function(){var u=p(function*(l){if(yield l._isAvailable())return l});return function(l){return u.apply(this,arguments)}}()))).filter(u=>u);let o=i[0]||Qo(S5);const s=ly(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const l=yield u._get(s);if(l){const d=ec._fromJSON(e,l);u!==o&&(a=d),o=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var u=p(function*(l){if(l!==o)try{yield l._remove(s)}catch{}});return function(l){return u.apply(this,arguments)}}())),new vl(o,e,r)):new vl(o,e,r)})()}}function x5(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(O5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(A5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(R5(e))return"Blackberry";if(k5(e))return"Webos";if(yT(e))return"Safari";if((e.includes("chrome/")||N5(e))&&!e.includes("edge/"))return"Chrome";if(M5(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function A5(t=Cn()){return/firefox\//i.test(t)}function yT(t=Cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function N5(t=Cn()){return/crios\//i.test(t)}function O5(t=Cn()){return/iemobile/i.test(t)}function M5(t=Cn()){return/android/i.test(t)}function R5(t=Cn()){return/blackberry/i.test(t)}function k5(t=Cn()){return/webos/i.test(t)}function dy(t=Cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function P5(t=Cn()){return dy(t)||M5(t)||k5(t)||R5(t)||/windows phone/i.test(t)||O5(t)}function F5(t,e=[]){let n;switch(t){case"Browser":n=x5(Cn());break;case"Worker":n=`${x5(Cn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mf}/${r}`}class she{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return p(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function vT(){return(vT=p(function*(t,e={}){return _t(t,"GET","/v2/passwordPolicy",mt(t,e))})).apply(this,arguments)}class uhe{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(n=c.meetsMinPasswordLength)||void 0===n||n),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(o=c.containsUppercaseLetter)||void 0===o||o),c.isValid&&(c.isValid=null===(s=c.containsNumericCharacter)||void 0===s||s),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class lhe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new L5(this),this.idTokenSubscription=new L5(this),this.beforeStateQueue=new she(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=g5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Qo(n)),this._initializationPromise=this.queue(p(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield vl.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return p(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return p(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,u=yield n.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(o=u.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return G(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return p(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return p(function*(){try{yield If(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Bde(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return p(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return p(function*(){const r=e?Us(e):null;return r&&G(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return p(function*(){if(!r._deleted)return e&&G(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(p(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return p(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(p(function*(){yield n.assertedPersistence.setPersistence(Qo(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return p(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return p(function*(){const n=yield function ahe(t){return vT.apply(this,arguments)}(e),r=new uhe(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new hf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){var n=this;return p(function*(){if(n.currentUser){const r=yield n.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=n.tenantId&&(i.tenantId=n.tenantId),yield function nhe(t,e){return _T.apply(this,arguments)}(n,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return p(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return p(function*(){if(!n.redirectPersistenceManager){const r=e&&Qo(e)||n._popupRedirectResolver;G(r,n,"argument-error"),n.redirectPersistenceManager=yield vl.create(n,[Qo(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return p(function*(){var r,i;return n._isInitialized&&(yield n.queue(p(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return p(function*(){if(e===n.currentUser)return n.queue(p(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof n){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}{const c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){var n=this;return p(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=F5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return p(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return p(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Lde(t,...e){ay.logLevel<=Ae.WARN&&ay.warn(`Auth (${mf}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Wt(t){return Us(t)}class L5{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Tle(t,e){const n=new Ele(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Tf={loadJS:()=>p(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bT(t){return Tf.loadJS(t)}function V5(t){return`__${t}${Math.floor(1e6*Math.random())}`}class B5{constructor(e){this.type="recaptcha-enterprise",this.auth=Wt(e)}verify(e="verify",n=!1){var r=this;return p(function*(){function o(){return o=p(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=p(function*(u,l){T5(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new C5(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,u(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(u,l){return c.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,c,u){const l=window.grecaptcha;I5(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(u=>{if(!n&&I5(window.grecaptcha))s(u,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));let l=function fhe(){return Tf.recaptchaEnterpriseScript}();0!==l.length&&(l+=u),bT(l).then(()=>{s(u,a,c)}).catch(d=>{c(d)})}}).catch(u=>{c(u)})})})()}}function U5(t,e,n){return wT.apply(this,arguments)}function wT(){return(wT=p(function*(t,e,n,r=!1){const i=new B5(t);let o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}const s=Object.assign({},e);return Object.assign(s,r?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}function Ef(t,e,n,r){return IT.apply(this,arguments)}function IT(){return IT=p(function*(t,e,n,r){var i;if(null!==(i=t._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=yield U5(t,e,n,"getOobCode"===n);return r(t,o)}return r(t,e).catch(function(){var o=p(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield U5(t,e,n,"getOobCode"===n);return r(t,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}())}),IT.apply(this,arguments)}function j5(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $5(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class H5{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ao("not implemented")}_getIdTokenResponse(e){return ao("not implemented")}_linkToIdToken(e,n){return ao("not implemented")}_getReauthenticationResolver(e){return ao("not implemented")}}function The(t,e){return DT.apply(this,arguments)}function DT(){return(DT=p(function*(t,e){return _t(t,"POST","/v1/accounts:signUp",e)})).apply(this,arguments)}function Dhe(t,e){return xT.apply(this,arguments)}function xT(){return(xT=p(function*(t,e){return Ko(t,"POST","/v1/accounts:signInWithPassword",mt(t,e))})).apply(this,arguments)}function AT(){return(AT=p(function*(t,e){return _t(t,"POST","/v1/accounts:sendOobCode",mt(t,e))})).apply(this,arguments)}function xhe(t,e){return OT.apply(this,arguments)}function OT(){return(OT=p(function*(t,e){return function hy(t,e){return AT.apply(this,arguments)}(t,e)})).apply(this,arguments)}function kT(){return(kT=p(function*(t,e){return Ko(t,"POST","/v1/accounts:signInWithEmailLink",mt(t,e))})).apply(this,arguments)}function PT(){return(PT=p(function*(t,e){return Ko(t,"POST","/v1/accounts:signInWithEmailLink",mt(t,e))})).apply(this,arguments)}class Df extends H5{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Df(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Df(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return p(function*(){switch(n.signInMethod){case"password":return Ef(e,{returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Dhe);case"emailLink":return function Ohe(t,e){return kT.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Rr(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return p(function*(){switch(r.signInMethod){case"password":return Ef(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",The);case"emailLink":return function Mhe(t,e){return PT.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Rr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Jo(t,e){return FT.apply(this,arguments)}function FT(){return(FT=p(function*(t,e){return Ko(t,"POST","/v1/accounts:signInWithIdp",mt(t,e))})).apply(this,arguments)}class Af{constructor(e){var n,r,i,o,s,a;const c=ff(pf(e)),u=null!==(n=c.apiKey)&&void 0!==n?n:null,l=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function Bhe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);G(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function Uhe(t){const e=ff(pf(t)).link,n=e?ff(pf(e)).deep_link_id:null,r=ff(pf(t)).deep_link_id;return(r?ff(pf(r)).link:null)||r||n||e||t}(e);try{return new Af(n)}catch{return null}}}let z5=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Df._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Af.parseLink(r);return G(i,"argument-error"),Df._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class zs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class jhe extends zs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function q5(t,e){return $T.apply(this,arguments)}function $T(){return($T=p(function*(t,e){return Ko(t,"POST","/v1/accounts:signUp",mt(t,e))})).apply(this,arguments)}class yi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return p(function*(){const o=yield ec._fromIdTokenResponse(e,r,i),s=W5(r);return new yi({user:o,providerId:s,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return p(function*(){yield e._updateTokensIfNecessary(r,!0);const i=W5(r);return new yi({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function W5(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class py extends Bs{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,py.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new py(e,n,r,i)}}function K5(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?py._fromErrorAndOperation(t,o,e,r):o})}function qT(){return(qT=p(function*(t,e,n=!1){const r=yield Yo(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return yi._forOperation(t,"link",r)})).apply(this,arguments)}function KT(){return(KT=p(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=yield Yo(t,K5(r,i,e,t),n);G(o.idToken,r,"internal-error");const s=uy(o.idToken);G(s,r,"internal-error");const{sub:a}=s;return G(t.uid===a,r,"user-mismatch"),yi._forOperation(t,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&Rr(r,"user-mismatch"),o}})).apply(this,arguments)}function J5(t,e){return YT.apply(this,arguments)}function YT(){return(YT=p(function*(t,e,n=!1){const r="signIn",i=yield K5(t,r,e),o=yield yi._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})).apply(this,arguments)}function QT(t,e){return JT.apply(this,arguments)}function JT(){return(JT=p(function*(t,e){return J5(Wt(t),e)})).apply(this,arguments)}function oE(t){return sE.apply(this,arguments)}function sE(){return(sE=p(function*(t){const e=Wt(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function aE(){return(aE=p(function*(t,e,n){const r=Wt(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&function my(t,e,n){var r;G((null===(r=n.url)||void 0===r?void 0:r.length)>0,t,"invalid-continue-uri"),G(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(G(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(G(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}(r,i,n),yield Ef(r,i,"getOobCode",xhe)})).apply(this,arguments)}function hE(){return(hE=p(function*(t,e,n){const r=Wt(t),s=yield Ef(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",q5).catch(c=>{throw"auth/password-does-not-meet-requirements"===c.code&&oE(t),c}),a=yield yi._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})).apply(this,arguments)}const _y="__sak";class X5{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_y,"1"),this.storage.removeItem(_y),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const pfe=(()=>{class t extends X5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function dfe(){const t=Cn();return yT(t)||dy(t)}()&&function ohe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=P5(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function ihe(){return function _le(){const t=Cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===n.newValue||n.newValue===n.oldValue?o():setTimeout(o,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,o=this;return p(function*(){yield i().call(o,n,r),o.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return p(function*(){const o=yield r().call(i,n);return i.localCache[n]=JSON.stringify(o),o})()}_remove(n){var r=()=>super._remove,i=this;return p(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),e$=(()=>{class t extends X5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let mfe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return p(function*(){const i=n,{eventId:o,eventType:s,data:a}=i.data,c=r.handlersMap[s];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const u=Array.from(c).map(function(){var d=p(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function gfe(t){return Promise.all(t.map(function(){var e=p(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(u);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function xE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class _fe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return p(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((c,u)=>{const l=xE("",20);o.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(f.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function nn(){return window}function AE(){return typeof nn().WorkerGlobalScope<"u"&&"function"==typeof nn().importScripts}function NE(){return(NE=p(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const t$="firebaseLocalStorageDb",yy="firebaseLocalStorage",n$="fbase_key";class Of{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vy(t,e){return t.transaction([yy],e?"readwrite":"readonly").objectStore(yy)}function OE(){const t=indexedDB.open(t$,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yy,{keyPath:n$})}catch(i){n(i)}}),t.addEventListener("success",p(function*(){const r=t.result;r.objectStoreNames.contains(yy)?e(r):(r.close(),yield function Cfe(){const t=indexedDB.deleteDatabase(t$);return new Of(t).toPromise()}(),e(yield OE()))}))})}function r$(t,e,n){return ME.apply(this,arguments)}function ME(){return(ME=p(function*(t,e,n){const r=vy(t,!0).put({[n$]:e,value:n});return new Of(r).toPromise()})).apply(this,arguments)}function RE(){return(RE=p(function*(t,e){const n=vy(t,!1).get(e),r=yield new Of(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function i$(t,e){const n=vy(t,!0).delete(e);return new Of(n).toPromise()}const Sfe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return p(function*(){return n.db||(n.db=yield OE()),n.db})()}_withRetries(n){var r=this;return p(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield n(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return p(function*(){return AE()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return p(function*(){n.receiver=mfe._getInstance(function wfe(){return AE()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=p(function*(i,o){return{keyProcessed:(yield n._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=p(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return p(function*(){var r,i;if(n.activeServiceWorker=yield function vfe(){return NE.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new _fe(n.activeServiceWorker);const o=yield n.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return p(function*(){if(r.sender&&r.activeServiceWorker&&function bfe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return p(function*(){try{if(!indexedDB)return!1;const n=yield OE();return yield r$(n,_y,"1"),yield i$(n,_y),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return p(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return p(function*(){return i._withPendingWrite(p(function*(){return yield i._withRetries(o=>r$(o,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return p(function*(){const i=yield r._withRetries(o=>function Tfe(t,e){return RE.apply(this,arguments)}(o,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return p(function*(){return r._withPendingWrite(p(function*(){return yield r._withRetries(i=>i$(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return p(function*(){const r=yield n._withRetries(s=>{const a=vy(s,!1).getAll();return new Of(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],o=new Set;if(0!==r.length)for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(n.localCache[s])!==JSON.stringify(a)&&(n.notifyListeners(s,a),i.push(s));for(const s of Object.keys(n.localCache))n.localCache[s]&&!o.has(s)&&(n.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(p(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();V5("rcb"),new vf(3e4,6e4);class $E extends H5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Jo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $fe(t){return J5(t.auth,new $E(t),t.bypassAuthState)}function Hfe(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),function Q5(t,e){return KT.apply(this,arguments)}(n,new $E(t),t.bypassAuthState)}function Gfe(t){return HE.apply(this,arguments)}function HE(){return(HE=p(function*(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),function zT(t,e){return qT.apply(this,arguments)}(n,new $E(t),t.bypassAuthState)})).apply(this,arguments)}class zfe{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=p(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return p(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:c}=e;if(a)return void n.reject(a);const u={auth:n.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(u))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $fe;case"linkViaPopup":case"linkViaRedirect":return Gfe;case"reauthViaPopup":case"reauthViaRedirect":return Hfe;default:Rr(this.auth,"internal-error")}}resolve(e){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new vf(2e3,1e4);const qfe="pendingRedirect",Mf=new Map;class Wfe extends zfe{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return p(function*(){let r=Mf.get(n.auth._key());if(!r){try{const o=(yield function Kfe(t,e){return KE.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}Mf.set(n.auth._key(),r)}return n.bypassAuthState||Mf.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return p(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return p(function*(){})()}cleanUp(){}}function KE(){return(KE=p(function*(t,e){const n=function a$(t){return ly(qfe,t.config.apiKey,t.name)}(e),r=function s$(t){return Qo(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Yfe(t,e){Mf.set(t._key(),e)}function c$(t,e){return tD.apply(this,arguments)}function tD(){return(tD=p(function*(t,e,n=!1){const r=Wt(t),i=function nc(t,e){return e?Qo(e):(G(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),s=yield new Wfe(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class epe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function tpe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return d$(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!d$(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(so(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(l$(e))}saveEventToCache(e){this.cachedEventUids.add(l$(e)),this.lastProcessedEventTime=Date.now()}}function l$(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function d$({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function rD(){return(rD=p(function*(t,e={}){return _t(t,"GET","/v1/projects",e)})).apply(this,arguments)}const rpe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ipe=/^https?/;function iD(){return iD=p(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function npe(t){return rD.apply(this,arguments)}(t);for(const n of e)try{if(spe(n))return}catch{}Rr(t,"unauthorized-domain")}),iD.apply(this,arguments)}function spe(t){const e=yf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return""===s.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!ipe.test(n))return!1;if(rpe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ape=new vf(3e4,6e4);function h$(){const t=nn().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let wy=null;const lpe=new vf(5e3,15e3),dpe="__/auth/iframe",hpe="emulator/auth/iframe",fpe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ppe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gpe(t){const e=t.config;G(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?nT(e,hpe):`https://${t.config.authDomain}/${dpe}`,r={apiKey:e.apiKey,appName:t.name,v:mf},i=ppe.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${iy(r).slice(1)}`}function oD(){return oD=p(function*(t){const e=yield function upe(t){return wy=wy||function cpe(t){return new Promise((e,n)=>{var r,i,o;function s(){h$(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{h$(),n(so(t,"network-request-failed"))},timeout:ape.get()})}if(null!==(i=null===(r=nn().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=nn().gapi)||void 0===o||!o.load){const a=V5("iframefcb");return nn()[a]=()=>{gapi.load?s():n(so(t,"network-request-failed"))},bT(`${function phe(){return Tf.gapiScript}()}?onload=${a}`).catch(c=>n(c))}s()}}).catch(e=>{throw wy=null,e})}(t),wy}(t),n=nn().gapi;return G(n,t,"internal-error"),e.open({where:document.body,url:gpe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fpe,dontclear:!0},r=>new Promise(function(){var i=p(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=so(t,"network-request-failed"),c=nn().setTimeout(()=>{s(a)},lpe.get());function u(){nn().clearTimeout(c),o(r)}r.ping(u).then(u,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),oD.apply(this,arguments)}const _pe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class f${constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Tpe="__/auth/handler",Epe="emulator/auth/handler",Dpe=encodeURIComponent("fac");function p$(t,e,n,r,i,o){return sD.apply(this,arguments)}function sD(){return(sD=p(function*(t,e,n,r,i,o){G(t.config.authDomain,t,"auth-domain-config-required"),G(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:mf,eventId:i};if(e instanceof zs){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",function Cle(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(o||{}))s[l]=d}if(e instanceof jhe){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(s.scopes=l.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const c=yield t._getAppCheckToken(),u=c?`#${Dpe}=${encodeURIComponent(c)}`:"";return`${function Spe({config:t}){return t.emulator?nT(t,Epe):`https://${t.authDomain}/${Tpe}`}(t)}?${iy(a).slice(1)}${u}`})).apply(this,arguments)}const aD="webStorageSupport",Ape=class xpe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e$,this._completeRedirectFn=c$,this._overrideRedirectResult=Yfe}_openPopup(e,n,r,i){var o=this;return p(function*(){var s;Hs(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield p$(e,n,r,yf(),i);return function Ipe(t,e,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},_pe),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Cn().toLowerCase();n&&(a=N5(u)?"_blank":n),A5(u)&&(e=e||"http://localhost",c.scrollbars="yes");const l=Object.entries(c).reduce((h,[f,_])=>`${h}${f}=${_},`,"");if(function rhe(t=Cn()){var e;return dy(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function Cpe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new f$(null);const d=window.open(e||"",a,l);G(d,t,"popup-blocked");try{d.focus()}catch{}return new f$(d)}(e,a,xE())})()}_openRedirect(e,n,r,i){var o=this;return p(function*(){return yield o._originValidation(e),function yfe(t){nn().location.href=t}(yield p$(e,n,r,yf(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Hs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return p(function*(){const r=yield function mpe(t){return oD.apply(this,arguments)}(e),i=new epe(e);return r.register("authEvent",o=>(G(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(aD,{type:aD},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[aD];void 0!==s&&n(!!s),Rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function ope(t){return iD.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return P5()||yT()||dy()}};var _$="@firebase/auth";class Npe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return p(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const kpe=Qj("authIdTokenMaxAge")||300;let v$=null;const Ppe=t=>function(){var e=p(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>kpe)return;const o=r?.token;v$!==o&&(v$=o,yield fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Cy(t=function Dde(t=oy){const e=Xa.get(t);if(!e&&t===oy&&Yj())return c5();if(!e)throw Wo.create("no-app",{appName:t});return e}()){const e=YC(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function yhe(t,e){const n=YC(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(ry(n.getOptions(),e??{}))return i;Rr(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Ape,persistence:[Sfe,pfe,e$]}),r=Qj("authTokenSyncURL");if(r){const o=Ppe(r);(function ofe(t,e,n){Us(t).beforeAuthStateChanged(e,n)})(n,o,()=>o(n.currentUser)),function ife(t,e,n,r){Us(t).onIdTokenChanged(e,n,r)}(n,s=>o(s))}const i=(t=>{var e,n;return null===(n=null===(e=ty())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})("auth");return i&&function bhe(t,e,n){const r=Wt(t);G(r._canInitEmulator,r,"emulator-config-failed"),G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,o=j5(e),{host:s,port:a}=function whe(t){const e=j5(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:$5(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:$5(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Ihe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}(function dhe(t){Tf=t})({loadJS:t=>new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=so("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function Fpe(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Mpe(t){gf(new ml("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;G(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F5(t)},u=new lhe(r,i,o,c);return function vhe(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Qo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gf(new ml("auth-internal",e=>{const n=Wt(e.getProvider("auth").getImmediate());return new Npe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_l(_$,"1.6.1",function Ope(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(t)),_l(_$,"1.6.1","esm2017")}("Browser");const b$=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},lD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;c||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(b$(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==d)throw new Upe;r.push(o<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Upe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ty=function(t){return function(t){const e=b$(t);return lD.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Ey=function(t){try{return lD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Dy=()=>{try{return function Hpe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ey(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},I$=()=>{var t;return null===(t=Dy())||void 0===t?void 0:t.config};class Sy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Zr(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function dD(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function rc(){try{return"object"==typeof indexedDB}catch{return!1}}function Rf(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}function hD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Fi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,co.prototype.create)}}class co{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function tge(t,e){return t.replace(nge,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Fi(i,`${this.serviceName}: ${s} (${i}).`,r)}}const nge=/\{\$([^}]+)}/g;function fD(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(T$(o)&&T$(s)){if(!fD(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function T$(t){return null!==t&&"object"==typeof t}function E$(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class ige{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function oge(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=pD),void 0===i.error&&(i.error=pD),void 0===i.complete&&(i.complete=pD);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pD(){}const sge=1e3,age=2,cge=144e5,uge=.5;function mD(t,e=sge,n=age){const r=e*Math.pow(n,t),i=Math.round(uge*r*(Math.random()-.5)*2);return Math.min(cge,r+i)}function fr(t){return t&&t._delegate?t._delegate:t}class Zn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ic="[DEFAULT]";class dge{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Sy;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function fge(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ic})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ic){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return p(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ic){return this.instances.has(e)}getOptions(e=ic){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===ic?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=ic){return this.component?this.component.multipleInstances?e:ic:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pge{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dge(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}class gge{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function mge(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const _D="@firebase/app",oc=new js("@firebase/app"),Ay="[DEFAULT]",$ge={[_D]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},sc=new Map,Ny=new Map;function Hge(t,e){try{t.container.addComponent(e)}catch(n){oc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pr(t){const e=t.name;if(Ny.has(e))return oc.debug(`There were multiple attempts to register component ${e}.`),!1;Ny.set(e,t);for(const n of sc.values())Hge(n,t);return!0}function Oy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Zo=new co("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class zge{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zo.create("app-deleted",{appName:this._name})}}const kf="9.23.0";function S$(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Ay,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Zo.create("bad-app-name",{appName:String(i)});if(n||(n=I$()),!n)throw Zo.create("no-options");const o=sc.get(i);if(o){if(fD(n,o.options)&&fD(r,o.config))return o;throw Zo.create("duplicate-app",{appName:i})}const s=new pge(i);for(const c of Ny.values())s.addComponent(c);const a=new zge(n,r,s);return sc.set(i,a),a}function x$(t=Ay){const e=sc.get(t);if(!e&&t===Ay&&I$())return S$();if(!e)throw Zo.create("no-app",{appName:t});return e}function A$(){return Array.from(sc.values())}function Kt(t,e,n){var r;let i=null!==(r=$ge[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void oc.warn(a.join(" "))}pr(new Zn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const qge="firebase-heartbeat-database",Wge=1,Pf="firebase-heartbeat-store";let vD=null;function N$(){return vD||(vD=o5(qge,Wge,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Pf)}}).catch(t=>{throw Zo.create("idb-open",{originalErrorMessage:t.message})})),vD}function bD(){return(bD=p(function*(t){try{return yield(yield N$()).transaction(Pf).objectStore(Pf).get(M$(t))}catch(e){if(e instanceof Fi)oc.warn(e.message);else{const n=Zo.create("idb-get",{originalErrorMessage:e?.message});oc.warn(n.message)}}})).apply(this,arguments)}function O$(t,e){return wD.apply(this,arguments)}function wD(){return(wD=p(function*(t,e){try{const r=(yield N$()).transaction(Pf,"readwrite");yield r.objectStore(Pf).put(e,M$(t)),yield r.done}catch(n){if(n instanceof Fi)oc.warn(n.message);else{const r=Zo.create("idb-set",{originalErrorMessage:n?.message});oc.warn(r.message)}}})).apply(this,arguments)}function M$(t){return`${t.name}!${t.options.appId}`}class Jge{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Xge(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return p(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=R$();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(o=>o.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return p(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=R$(),{heartbeatsToSend:r,unsentEntries:i}=function Zge(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),k$(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),k$(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=Ty(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function R$(){return(new Date).toISOString().substring(0,10)}class Xge{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(function*(){return!!rc()&&Rf().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return p(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Kge(t){return bD.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return p(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return O$(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return p(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return O$(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function k$(t){return Ty(JSON.stringify({version:2,heartbeats:t})).length}!function eme(t){pr(new Zn("platform-logger",e=>new gge(e),"PRIVATE")),pr(new Zn("heartbeat",e=>new Jge(e),"PRIVATE")),Kt(_D,"0.9.13",t),Kt(_D,"0.9.13","esm2017"),Kt("fire-js","")}(""),Kt("firebase","9.23.0","app");const rme=(t,e)=>e.some(n=>t instanceof n);let P$,F$;const L$=new WeakMap,ID=new WeakMap,V$=new WeakMap,CD=new WeakMap,TD=new WeakMap;let ED={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return ID.get(t);if("objectStoreNames"===e)return t.objectStoreNames||V$.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function lme(t){return"function"==typeof t?function ume(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ome(){return F$||(F$=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(DD(this),e),qs(L$.get(this))}:function(...e){return qs(t.apply(DD(this),e))}:function(e,...n){const r=t.call(DD(this),e,...n);return V$.set(r,e.sort?e.sort():[e]),qs(r)}}(t):(t instanceof IDBTransaction&&function ame(t){if(ID.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});ID.set(t,e)}(t),rme(t,function ime(){return P$||(P$=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,ED):t)}function qs(t){if(t instanceof IDBRequest)return function sme(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(qs(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&L$.set(n,t)}).catch(()=>{}),TD.set(e,t),e}(t);if(CD.has(t))return CD.get(t);const e=lme(t);return e!==t&&(CD.set(t,e),TD.set(e,t)),e}const DD=t=>TD.get(t),hme=["get","getKey","getAll","getAllKeys","count"],fme=["put","add","delete","clear"],SD=new Map;function B$(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(SD.get(e))return SD.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=fme.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!hme.includes(n))return;const o=function(){var s=p(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return s.apply(this,arguments)}}();return SD.set(e,o),o}!function cme(t){ED=t(ED)}(t=>({...t,get:(e,n,r)=>B$(e,n)||t.get(e,n,r),has:(e,n)=>!!B$(e,n)||t.has(e,n)}));const U$="@firebase/installations",xD="0.6.4",j$=1e4,$$=`w:${xD}`,H$="FIS_v2",pme="https://firebaseinstallations.googleapis.com/v1",gme=36e5,Xo=new co("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function G$(t){return t instanceof Fi&&t.code.includes("request-failed")}function AD({projectId:t}){return`${pme}/projects/${t}/installations`}function z$(t){return{token:t.token,requestStatus:2,expiresIn:vme(t.expiresIn),creationTime:Date.now()}}function ND(t,e){return OD.apply(this,arguments)}function OD(){return(OD=p(function*(t,e){const r=(yield e.json()).error;return Xo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function q$({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function MD(t){return RD.apply(this,arguments)}function RD(){return(RD=p(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function vme(t){return Number(t.replace("s","000"))}function kD(){return(kD=p(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=AD(t),i=q$(t),o=e.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:H$,appId:t.appId,sdkVersion:$$})},c=yield MD(()=>fetch(r,a));if(c.ok){const u=yield c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:z$(u.authToken)}}throw yield ND("Create Installation",c)})).apply(this,arguments)}function K$(t){return new Promise(e=>{setTimeout(e,t)})}const Cme=/^[cdef][\w-]{21}$/,PD="";function Tme(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Eme(t){return function Ime(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Cme.test(n)?n:PD}catch{return PD}}function bl(t){return`${t.appName}!${t.appId}`}const wl=new Map;function Y$(t,e){const n=bl(t);Q$(n,e),function xme(t,e){const n=function J$(){return!ac&&"BroadcastChannel"in self&&(ac=new BroadcastChannel("[Firebase] FID Change"),ac.onmessage=t=>{Q$(t.data.key,t.data.fid)}),ac}();n&&n.postMessage({key:t,fid:e}),function Z$(){0===wl.size&&ac&&(ac.close(),ac=null)}()}(n,e)}function Q$(t,e){const n=wl.get(t);if(n)for(const r of n)r(e)}let ac=null;const Ame="firebase-installations-database",Nme=1,cc="firebase-installations-store";let FD=null;function LD(){return FD||(FD=function dme(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=qs(s);return r&&s.addEventListener("upgradeneeded",c=>{r(qs(s.result),c.oldVersion,c.newVersion,qs(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Ame,Nme,{upgrade:(t,e)=>{0===e&&t.createObjectStore(cc)}})),FD}function My(t,e){return VD.apply(this,arguments)}function VD(){return(VD=p(function*(t,e){const n=bl(t),i=(yield LD()).transaction(cc,"readwrite"),o=i.objectStore(cc),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&Y$(t,e.fid),e})).apply(this,arguments)}function BD(t){return UD.apply(this,arguments)}function UD(){return(UD=p(function*(t){const e=bl(t),r=(yield LD()).transaction(cc,"readwrite");yield r.objectStore(cc).delete(e),yield r.done})).apply(this,arguments)}function Ff(t,e){return jD.apply(this,arguments)}function jD(){return(jD=p(function*(t,e){const n=bl(t),i=(yield LD()).transaction(cc,"readwrite"),o=i.objectStore(cc),s=yield o.get(n),a=e(s);return void 0===a?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&Y$(t,a.fid),a})).apply(this,arguments)}function $D(t){return HD.apply(this,arguments)}function HD(){return HD=p(function*(t){let e;const n=yield Ff(t.appConfig,r=>{const i=function Ome(t){return eH(t||{fid:Tme(),registrationStatus:0})}(r),o=function Mme(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Xo.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Rme(t,e){return GD.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:kme(t)}:{installationEntry:e}}(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===PD?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),HD.apply(this,arguments)}function GD(){return GD=p(function*(t,e){try{const n=yield function wme(t,e){return kD.apply(this,arguments)}(t,e);return My(t.appConfig,n)}catch(n){throw G$(n)&&409===n.customData.serverCode?yield BD(t.appConfig):yield My(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),GD.apply(this,arguments)}function kme(t){return zD.apply(this,arguments)}function zD(){return(zD=p(function*(t){let e=yield X$(t.appConfig);for(;1===e.registrationStatus;)yield K$(100),e=yield X$(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield $D(t);return r||n}return e})).apply(this,arguments)}function X$(t){return Ff(t,e=>{if(!e)throw Xo.create("installation-not-found");return eH(e)})}function eH(t){return function Pme(t){return 1===t.registrationStatus&&t.registrationTime+j$<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function qD(){return(qD=p(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Lme(t,{fid:e}){return`${AD(t)}/${e}/authTokens:generate`}(t,n),i=function W$(t,{refreshToken:e}){const n=q$(t);return n.append("Authorization",function bme(t){return`${H$} ${t}`}(e)),n}(t,n),o=e.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:$$,appId:t.appId}})},c=yield MD(()=>fetch(r,a));if(c.ok)return z$(yield c.json());throw yield ND("Generate Auth Token",c)})).apply(this,arguments)}function WD(t){return KD.apply(this,arguments)}function KD(){return KD=p(function*(t,e=!1){let n;const r=yield Ff(t.appConfig,o=>{if(!nH(o))throw Xo.create("not-registered");const s=o.authToken;if(!e&&function Ume(t){return 2===t.requestStatus&&!function jme(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+gme}(t)}(s))return o;if(1===s.requestStatus)return n=function Vme(t,e){return YD.apply(this,arguments)}(t,e),o;{if(!navigator.onLine)throw Xo.create("app-offline");const a=function $me(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(o);return n=function Bme(t,e){return QD.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),KD.apply(this,arguments)}function YD(){return(YD=p(function*(t,e){let n=yield tH(t.appConfig);for(;1===n.authToken.requestStatus;)yield K$(100),n=yield tH(t.appConfig);const r=n.authToken;return 0===r.requestStatus?WD(t,e):r})).apply(this,arguments)}function tH(t){return Ff(t,e=>{if(!nH(e))throw Xo.create("not-registered");return function Hme(t){return 1===t.requestStatus&&t.requestTime+j$<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function QD(){return QD=p(function*(t,e){try{const n=yield function Fme(t,e){return qD.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield My(t.appConfig,r),n}catch(n){if(!G$(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield My(t.appConfig,r)}else yield BD(t.appConfig);throw n}}),QD.apply(this,arguments)}function nH(t){return void 0!==t&&2===t.registrationStatus}function JD(){return(JD=p(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield $D(e);return r?r.catch(console.error):WD(e).catch(console.error),n.fid})).apply(this,arguments)}function ZD(){return ZD=p(function*(t,e=!1){const n=t;return yield function qme(t){return XD.apply(this,arguments)}(n),(yield WD(n,e)).token}),ZD.apply(this,arguments)}function XD(){return(XD=p(function*(t){const{registrationPromise:e}=yield $D(t);e&&(yield e)})).apply(this,arguments)}function nS(t){return Xo.create("missing-app-config-values",{valueName:t})}const rH="installations",Jme=t=>{const e=t.getProvider("app").getImmediate(),n=function Yme(t){if(!t||!t.options)throw nS("App Configuration");if(!t.name)throw nS("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw nS(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Oy(e,"heartbeat"),_delete:()=>Promise.resolve()}},Zme=t=>{const n=Oy(t.getProvider("app").getImmediate(),rH).getImmediate();return{getId:()=>function Gme(t){return JD.apply(this,arguments)}(n),getToken:i=>function zme(t){return ZD.apply(this,arguments)}(n,i)}};(function Xme(){pr(new Zn(rH,Jme,"PUBLIC")),pr(new Zn("installations-internal",Zme,"PRIVATE"))})(),Kt(U$,xD),Kt(U$,xD,"esm2017");const rS="@firebase/remote-config",kr=new co("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class l_e{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return p(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield n.client.fetch(e),s=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(n.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function d_e(t=navigator){return t.languages&&t.languages[0]||t.language}class h_e{constructor(e,n,r,i,o,s){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}fetch(e){var n=this;return p(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:d_e()},u={method:"POST",headers:a,body:JSON.stringify(c)},l=fetch(s,u),d=new Promise((T,w)=>{e.signal.addEventListener(()=>{const M=new Error("The operation was aborted.");M.name="AbortError",w(M)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(T){let w="fetch-client-network";throw"AbortError"===T?.name&&(w="fetch-timeout"),kr.create(w,{originalErrorMessage:T?.message})}let f=h.status;const _=h.headers.get("ETag")||void 0;let y,v;if(200===h.status){let T;try{T=yield h.json()}catch(w){throw kr.create("fetch-client-parse",{originalErrorMessage:w?.message})}y=T.entries,v=T.state}if("INSTANCE_STATE_UNSPECIFIED"===v?f=500:"NO_CHANGE"===v?f=304:("NO_TEMPLATE"===v||"EMPTY_CONFIG"===v)&&(y={}),304!==f&&200!==f)throw kr.create("fetch-status",{httpStatus:f});return{status:f,eTag:_,config:y}})()}}class g_e{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return p(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return p(function*(){yield function f_e(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(kr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const o=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function p_e(t){if(!(t instanceof Fi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const s={throttleEndTimeMillis:Date.now()+mD(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(s),i.attemptFetch(e,s)}})()}}class y_e{constructor(e,n,r,i,o){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ky(t,e){const n=t.target.error||void 0;return kr.create(e,{originalErrorMessage:n&&n?.message})}const uc="app_namespace_store";class I_e{constructor(e,n,r,i=function w_e(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(ky(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(uc,{keyPath:"compositeKey"})}}catch(n){e(kr.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return p(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([uc],"readonly").objectStore(uc),c=n.createCompositeKey(e);try{const u=a.get(c);u.onerror=l=>{o(ky(l,"storage-get"))},u.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(u){o(kr.create("storage-get",{originalErrorMessage:u?.message}))}})})()}set(e,n){var r=this;return p(function*(){const i=yield r.openDbPromise;return new Promise((o,s)=>{const c=i.transaction([uc],"readwrite").objectStore(uc),u=r.createCompositeKey(e);try{const l=c.put({compositeKey:u,value:n});l.onerror=d=>{s(ky(d,"storage-set"))},l.onsuccess=()=>{o()}}catch(l){s(kr.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return p(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([uc],"readwrite").objectStore(uc),c=n.createCompositeKey(e);try{const u=a.delete(c);u.onerror=l=>{o(ky(l,"storage-delete"))},u.onsuccess=()=>{i()}}catch(u){o(kr.create("storage-delete",{originalErrorMessage:u?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class C_e{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return p(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield n;o&&(e.lastFetchStatus=o);const s=yield r;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function E_e(){return cS.apply(this,arguments)}function cS(){return(cS=p(function*(){if(!rc())return!1;try{return yield Rf()}catch{return!1}})).apply(this,arguments)}!function T_e(){pr(new Zn("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw kr.create("registration-window");if(!rc())throw kr.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=r.options;if(!o)throw kr.create("registration-project-id");if(!s)throw kr.create("registration-api-key");if(!a)throw kr.create("registration-app-id");const c=new I_e(a,r.name,n=n||"firebase"),u=new C_e(c),l=new js(rS);l.logLevel=Ae.ERROR;const d=new h_e(i,kf,n,o,s,a),h=new g_e(d,c),f=new l_e(h,c,u,l),_=new y_e(r,f,u,c,l);return function a_e(t){const e=fr(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(_),_},"PUBLIC").setMultipleInstances(!0)),Kt(rS,"0.4.4"),Kt(rS,"0.4.4","esm2017")}();const D_e=(t,e)=>e.some(n=>t instanceof n);let aH,cH;const uH=new WeakMap,uS=new WeakMap,lH=new WeakMap,lS=new WeakMap,dS=new WeakMap;let hS={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return uS.get(t);if("objectStoreNames"===e)return t.objectStoreNames||lH.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function R_e(t){return"function"==typeof t?function M_e(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function x_e(){return cH||(cH=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(fS(this),e),es(uH.get(this))}:function(...e){return es(t.apply(fS(this),e))}:function(e,...n){const r=t.call(fS(this),e,...n);return lH.set(r,e.sort?e.sort():[e]),es(r)}}(t):(t instanceof IDBTransaction&&function N_e(t){if(uS.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});uS.set(t,e)}(t),D_e(t,function S_e(){return aH||(aH=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,hS):t)}function es(t){if(t instanceof IDBRequest)return function A_e(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(es(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&uH.set(n,t)}).catch(()=>{}),dS.set(e,t),e}(t);if(lS.has(t))return lS.get(t);const e=R_e(t);return e!==t&&(lS.set(t,e),dS.set(e,t)),e}const fS=t=>dS.get(t);function dH(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=es(s);return r&&s.addEventListener("upgradeneeded",c=>{r(es(s.result),c.oldVersion,c.newVersion,es(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function pS(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),es(n).then(()=>{})}const k_e=["get","getKey","getAll","getAllKeys","count"],P_e=["put","add","delete","clear"],gS=new Map;function hH(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(gS.get(e))return gS.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=P_e.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!k_e.includes(n))return;const o=function(){var s=p(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return s.apply(this,arguments)}}();return gS.set(e,o),o}!function O_e(t){hS=t(hS)}(t=>({...t,get:(e,n,r)=>hH(e,n)||t.get(e,n,r),has:(e,n)=>!!hH(e,n)||t.has(e,n)}));const F_e="/firebase-messaging-sw.js",L_e="/firebase-cloud-messaging-push-scope",fH="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",V_e="https://fcmregistrations.googleapis.com/v1",pH="google.c.a.c_id",B_e="google.c.a.c_l",U_e="google.c.a.ts";var Py=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Py||{});function ts(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function H_e(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const mS="fcm_token_details_db",G_e=5,gH="fcm_token_object_Store";function _S(){return _S=p(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(mS))return null;let e=null;return(yield dH(mS,G_e,{upgrade:(r=p(function*(i,o,s,a){var c;if(o<2||!i.objectStoreNames.contains(gH))return;const u=a.objectStore(gH),l=yield u.index("fcmSenderId").get(t);if(yield u.clear(),l)if(2===o){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ts(d.vapidKey)}}}else if(3===o){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ts(d.auth),p256dh:ts(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ts(d.vapidKey)}}}else if(4===o){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ts(d.auth),p256dh:ts(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ts(d.vapidKey)}}}}),function(o,s,a,c){return r.apply(this,arguments)})})).close(),yield pS(mS),yield pS("fcm_vapid_details_db"),yield pS("undefined"),function q_e(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),_S.apply(this,arguments)}const W_e="firebase-messaging-database",K_e=1,lc="firebase-messaging-store";let yS=null;function vS(){return yS||(yS=dH(W_e,K_e,{upgrade:(t,e)=>{0===e&&t.createObjectStore(lc)}})),yS}function mH(t){return bS.apply(this,arguments)}function bS(){return bS=p(function*(t){const e=TS(t),r=yield(yield vS()).transaction(lc).objectStore(lc).get(e);if(r)return r;{const i=yield function z_e(t){return _S.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield wS(t,i),i}}),bS.apply(this,arguments)}function wS(t,e){return IS.apply(this,arguments)}function IS(){return(IS=p(function*(t,e){const n=TS(t),i=(yield vS()).transaction(lc,"readwrite");return yield i.objectStore(lc).put(e,n),yield i.done,e})).apply(this,arguments)}function CS(){return(CS=p(function*(t){const e=TS(t),r=(yield vS()).transaction(lc,"readwrite");yield r.objectStore(lc).delete(e),yield r.done})).apply(this,arguments)}function TS({appConfig:t}){return t.appId}const Vn=new co("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function J_e(t,e){return ES.apply(this,arguments)}function ES(){return(ES=p(function*(t,e){const n=yield AS(t),r=yH(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(xS(t.appConfig),i)).json()}catch(s){throw Vn.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw Vn.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Vn.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function DS(){return(DS=p(function*(t,e){const n=yield AS(t),r=yH(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${xS(t.appConfig)}/${e.token}`,i)).json()}catch(s){throw Vn.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw Vn.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Vn.create("token-update-no-token");return o.token})).apply(this,arguments)}function _H(t,e){return SS.apply(this,arguments)}function SS(){return(SS=p(function*(t,e){const r={method:"DELETE",headers:yield AS(t)};try{const o=yield(yield fetch(`${xS(t.appConfig)}/${e}`,r)).json();if(o.error)throw Vn.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw Vn.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function xS({projectId:t}){return`${V_e}/projects/${t}/registrations`}function AS(t){return NS.apply(this,arguments)}function NS(){return(NS=p(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function yH({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==fH&&(i.web.applicationPubKey=r),i}const X_e=6048e5;function OS(){return OS=p(function*(t){const e=yield function nye(t,e){return PS.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:ts(e.getKey("auth")),p256dh:ts(e.getKey("p256dh"))},r=yield mH(t.firebaseDependencies);if(r){if(function rye(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+X_e?function tye(t,e){return RS.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield _H(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return bH(t.firebaseDependencies,n)}return bH(t.firebaseDependencies,n)}),OS.apply(this,arguments)}function MS(){return MS=p(function*(t){const e=yield mH(t.firebaseDependencies);e&&(yield _H(t.firebaseDependencies,e.token),yield function Y_e(t){return CS.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),MS.apply(this,arguments)}function RS(){return RS=p(function*(t,e){try{const n=yield function Z_e(t,e){return DS.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield wS(t.firebaseDependencies,r),n}catch(n){throw yield function vH(t){return MS.apply(this,arguments)}(t),n}}),RS.apply(this,arguments)}function bH(t,e){return kS.apply(this,arguments)}function kS(){return(kS=p(function*(t,e){const r={token:yield J_e(t,e),createTime:Date.now(),subscriptionOptions:e};return yield wS(t,r),r.token})).apply(this,arguments)}function PS(){return(PS=p(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:H_e(e)})})).apply(this,arguments)}function wH(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function iye(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const o=e.notification.icon;o&&(t.notification.icon=o)}(e,t),function oye(t,e){e.data&&(t.data=e.data)}(e,t),function sye(t,e){var n,r,i,o,s;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(t.fcmOptions.link=a);const c=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}(e,t),e}function IH(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function FS(t){return Vn.create("missing-app-config-values",{valueName:t})}IH("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),IH("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class uye{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function cye(t){if(!t||!t.options)throw FS("App Configuration Object");if(!t.name)throw FS("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw FS(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function LS(){return(LS=p(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(F_e,{scope:L_e}),t.swRegistration.update().catch(()=>{})}catch(e){throw Vn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function VS(){return(VS=p(function*(t,e){if(!e&&!t.swRegistration&&(yield function CH(t){return LS.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Vn.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function BS(){return(BS=p(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=fH)})).apply(this,arguments)}function US(){return US=p(function*(t,e){if(!navigator)throw Vn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Vn.create("permission-blocked");return yield function dye(t,e){return BS.apply(this,arguments)}(t,e?.vapidKey),yield function lye(t,e){return VS.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function eye(t){return OS.apply(this,arguments)}(t)}),US.apply(this,arguments)}function jS(){return(jS=p(function*(t,e,n){const r=function fye(t){switch(t){case Py.NOTIFICATION_CLICKED:return"notification_open";case Py.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[pH],message_name:n[B_e],message_time:n[U_e],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function $S(){return $S=p(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Py.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(wH(n)):t.onMessageHandler.next(wH(n)));const r=n.data;(function aye(t){return"object"==typeof t&&!!t&&pH in t})(r)&&"1"===r["google.c.a.e"]&&(yield function hye(t,e,n){return jS.apply(this,arguments)}(t,n.messageType,r))}),$S.apply(this,arguments)}const EH="@firebase/messaging",gye=t=>{const e=new uye(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function pye(t,e){return $S.apply(this,arguments)}(e,n)),e},mye=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function TH(t,e){return US.apply(this,arguments)}(e,r)}};function SH(){return HS.apply(this,arguments)}function HS(){return(HS=p(function*(){try{yield Rf()}catch{return!1}return typeof window<"u"&&rc()&&hD()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function _ye(){pr(new Zn("messaging",gye,"PUBLIC")),pr(new Zn("messaging-internal",mye,"PRIVATE")),Kt(EH,"0.12.4"),Kt(EH,"0.12.4","esm2017")}();const Fy="analytics",bye="firebase_id",wye="origin",Iye=6e4,Cye="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qS="https://www.googletagmanager.com/gtag/js",Tn=new js("@firebase/analytics"),gr=new co("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Eye(t){if(!t.startsWith(qS)){const e=gr.create("invalid-gtag-resource",{gtagURL:t});return Tn.warn(e.message),""}return t}function xH(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function WS(){return(WS=p(function*(t,e,n,r,i,o){const s=r[i];try{if(s)yield e[s];else{const c=(yield xH(n)).find(u=>u.measurementId===i);c&&(yield e[c.appId])}}catch(a){Tn.error(a)}t("config",i,o)})).apply(this,arguments)}function KS(){return(KS=p(function*(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield xH(n);for(const c of s){const u=a.find(d=>d.measurementId===c),l=u&&e[u.appId];if(!l){o=[];break}o.push(l)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){Tn.error(o)}})).apply(this,arguments)}const kye=30,AH=new class Fye{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Lye(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function YS(){return(YS=p(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Lye(r)},o=Cye.replace("{app-id}",n),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const c=yield s.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw gr.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function QS(){return(QS=p(function*(t,e=AH,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw gr.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw gr.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new $ye;return setTimeout(p(function*(){a.abort()}),void 0!==n?n:Iye),NH({appId:r,apiKey:i,measurementId:o},s,a,e)})).apply(this,arguments)}function NH(t,e,n){return JS.apply(this,arguments)}function JS(){return JS=p(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=AH){var o;const{appId:s,measurementId:a}=t;try{yield function Uye(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(gr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return Tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw c}try{const c=yield function Vye(t){return YS.apply(this,arguments)}(t);return i.deleteThrottleMetadata(s),c}catch(c){const u=c;if(!function jye(t){if(!(t instanceof Fi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u)){if(i.deleteThrottleMetadata(s),a)return Tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:s,measurementId:a};throw c}const l=503===Number(null===(o=u?.customData)||void 0===o?void 0:o.httpStatus)?mD(n,i.intervalMillis,kye):mD(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(s,d),Tn.debug(`Calling attemptFetch again in ${l} millis`),NH(t,d,r,i)}}),JS.apply(this,arguments)}class $ye{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let ZS,ox;function XS(){return(XS=p(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const o=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function sx(){return(sx=p(function*(){if(!rc())return Tn.warn(gr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Rf()}catch(t){return Tn.warn(gr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function ax(){return ax=p(function*(t,e,n,r,i,o,s){var a;const c=function Bye(t){return QS.apply(this,arguments)}(t);c.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Tn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Tn.error(f)),e.push(c);const u=function Yye(){return sx.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([c,u]);(function Rye(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(qS)&&n.src.includes(t))return n;return null})(o)||function Sye(t,e){const n=function Dye(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Eye}),r=document.createElement("script"),i=`${qS}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,l.measurementId),ox&&(i("consent","default",ox),function OH(t){ox=t}(void 0)),i("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h[wye]="firebase",h.update=!0,null!=d&&(h[bye]=d),i("config",l.measurementId,h),ZS&&(i("set",ZS),function MH(t){ZS=t}(void 0)),l.measurementId}),ax.apply(this,arguments)}class Jye{constructor(e){this.app=e}_delete(){return delete uo[this.app.options.appId],Promise.resolve()}}let uo={},RH=[];const kH={};let FH,lo,Ly="dataLayer",cx=!1;function Xye(t,e,n){!function Zye(){const t=[];if(dD()&&t.push("This is a browser extension environment."),hD()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=gr.create("invalid-analytics-context",{errorInfo:e});Tn.warn(n.message)}}();const r=t.options.appId;if(!r)throw gr.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw gr.create("no-api-key");Tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=uo[r])throw gr.create("already-exists",{id:r});if(!cx){!function xye(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Ly);const{wrappedGtag:o,gtagCore:s}=function Mye(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function Oye(t,e,n,r){function o(){return o=p(function*(s,...a){try{if("event"===s){const[c,u]=a;yield function Nye(t,e,n,r,i){return KS.apply(this,arguments)}(t,e,n,c,u)}else if("config"===s){const[c,u]=a;yield function Aye(t,e,n,r,i,o){return WS.apply(this,arguments)}(t,e,n,r,c,u)}else if("consent"===s){const[c]=a;t("consent","update",c)}else if("get"===s){const[c,u,l]=a;t("get",c,u,l)}else if("set"===s){const[c]=a;t("set",c)}else t(s,...a)}catch(c){Tn.error(c)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(uo,RH,kH,Ly,"gtag");lo=o,FH=s,cx=!0}return uo[r]=function Qye(t,e,n,r,i,o,s){return ax.apply(this,arguments)}(t,RH,kH,e,FH,Ly,n),new Jye(t)}function tve(){return ux.apply(this,arguments)}function ux(){return(ux=p(function*(){if(dD()||!hD()||!rc())return!1;try{return yield Rf()}catch{return!1}})).apply(this,arguments)}const LH="@firebase/analytics";!function rve(){pr(new Zn(Fy,(e,{options:n})=>Xye(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),pr(new Zn("analytics-internal",function t(e){try{const n=e.getProvider(Fy).getImmediate();return{logEvent:(r,i,o)=>function nve(t,e,n,r){t=fr(t),function Hye(t,e,n,r,i){return XS.apply(this,arguments)}(lo,uo[t.app.options.appId],e,n,r).catch(i=>Tn.error(i))}(n,r,i,o)}}catch(n){throw gr.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Kt(LH,"0.10.0"),Kt(LH,"0.10.0","esm2017")}();class ive extends Ut{constructor(e,n){super()}schedule(e,n=0){return this}}const Vy={setInterval(t,e,...n){const{delegate:r}=Vy;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Vy;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class BH extends ive{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Vy.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Vy.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ms(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const dx={now:()=>(dx.delegate||Date).now(),delegate:void 0};class Lf{constructor(e,n=Lf.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Lf.now=dx.now;class UH extends Lf{constructor(e,n=Lf.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const ave=new class sve extends UH{}(class ove extends BH{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),hx=new UH(BH),cve=hx,fx=new Fu("7.6.1"),px="__angularfire_symbol__analyticsIsSupportedValue",gx="__angularfire_symbol__analyticsIsSupported",mx="__angularfire_symbol__remoteConfigIsSupportedValue",_x="__angularfire_symbol__remoteConfigIsSupported",yx="__angularfire_symbol__messagingIsSupportedValue",vx="__angularfire_symbol__messagingIsSupported";globalThis[gx]||(globalThis[gx]=tve().then(t=>globalThis[px]=t).catch(()=>globalThis[px]=!1)),globalThis[vx]||(globalThis[vx]=SH().then(t=>globalThis[yx]=t).catch(()=>globalThis[yx]=!1)),globalThis[_x]||(globalThis[_x]=E_e().then(t=>globalThis[mx]=t).catch(()=>globalThis[mx]=!1));const Ix=(t,e)=>{const n=e?[e]:A$(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};function Il(){}class jH{constructor(e,n=ave){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class uve{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Il,{},Il,Il)),n.pipe(fn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let $H=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new jH(Zone.current)),this.insideAngular=n.run(()=>new jH(Zone.current,hx)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(q(Te))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function dc(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function hc(t){return dc().ngZone.run(()=>t())}function dve(t){return dc(),function hve(t){return function(n){return(n=n.lift(new uve(t.ngZone))).pipe(Mg(t.outsideAngular),Og(t.insideAngular))}}(dc())(t)}const fve=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),hc(()=>t.apply(void 0,r))},Pr=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||(n=hc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Il,{},Il,Il)))),r[o]=fve(r[o],n));const i=function lve(t){return dc().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof je){const o=dc();return i.pipe(Mg(o.outsideAngular),Og(o.insideAngular))}return hc(()=>i)}return i instanceof je?i.pipe(dve):i instanceof Promise?hc(()=>new Promise((o,s)=>i.then(a=>hc(()=>o(a)),a=>hc(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:hc(()=>i)};class Cl{constructor(e){return e}}class HH{constructor(){return A$()}}const Cx=new te("angularfire2._apps"),gve={provide:Cl,useFactory:function pve(t){return t&&1===t.length?t[0]:new Cl(x$())},deps:[[new Er,Cx]]},mve={provide:HH,deps:[[new Er,Cx]]};function _ve(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Cl(r)}}let yve=(()=>{class t{constructor(n){Kt("angularfire",fx.full,"core"),Kt("angularfire",fx.full,"app"),Kt("angular",tw.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(q(Fo))},t.\u0275mod=Ce({type:t}),t.\u0275inj=we({providers:[gve,mve]}),t})();function vve(t,...e){return{ngModule:yve,providers:[{provide:Cx,useFactory:_ve(t),multi:!0,deps:[Te,en,$H,...e]}]}}const bve=Pr(S$,!0);const wve=function GH(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},zH=new co("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),By=new js("@firebase/auth");function Uy(t,...e){By.logLevel<=Ae.ERROR&&By.error(`Auth (${kf}): ${t}`,...e)}function Fr(t,...e){throw Tx(t,...e)}function ho(t,...e){return Tx(t,...e)}function Tx(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return zH.create(t,...e)}function W(t,e,...n){if(!t)throw Tx(e,...n)}function fo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Uy(e),new Error(e)}function Ws(t,e){t||fo(e)}function WH(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Bf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ws(n>e,"Short delay should be less than long delay!"),this.isMobile=function Jpe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zr())}()||function Xpe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Cve(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Ex(){return"http:"===WH()||"https:"===WH()}()||dD()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class KH{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void fo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void fo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void fo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Eve={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Dve=new Bf(3e4,6e4);function Ft(t,e,n,r){return Sx.apply(this,arguments)}function Sx(){return(Sx=p(function*(t,e,n,r,i={}){return YH(t,i,p(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=E$(Object.assign({key:t.config.apiKey},s)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),KH.fetch()(QH(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function YH(t,e,n){return xx.apply(this,arguments)}function xx(){return(xx=p(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Eve),e);try{const i=new Sve(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Uf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Uf(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw Uf(t,"email-already-in-use",s);if("USER_DISABLED"===c)throw Uf(t,"user-disabled",s);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw function qH(t,e,n){const r=Object.assign(Object.assign({},wve()),{[e]:n});return new co("auth","Firebase",r).create(e,{appName:t.name})}(t,l,u);Fr(t,l)}}catch(i){if(i instanceof Fi)throw i;Fr(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function QH(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function Dx(t,e){Ws(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class Sve{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ho(this.auth,"network-request-failed")),Dve.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Uf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ho(t,e,r);return i.customData._tokenResponse=n,i}function Nx(){return(Nx=p(function*(t,e){return Ft(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Mx(){return(Mx=p(function*(t,e){return Ft(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function jf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Rx(){return(Rx=p(function*(t,e=!1){const n=fr(t),r=yield n.getIdToken(e),i=jy(r);W(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:jf(kx(i.auth_time)),issuedAtTime:jf(kx(i.iat)),expirationTime:jf(kx(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function kx(t){return 1e3*Number(t)}function jy(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Uy("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ey(n);return i?JSON.parse(i):(Uy("Failed to decode base64 JWT payload"),null)}catch(i){return Uy("Caught error parsing JWT payload as JSON",i?.toString()),null}}function rs(t,e){return Px.apply(this,arguments)}function Px(){return(Px=p(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Fi&&function Rve({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class kve{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(p(function*(){yield n.iteration()}),r)}iteration(){var e=this;return p(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class JH{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jf(this.lastLoginAt),this.creationTime=jf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function $f(t){return Fx.apply(this,arguments)}function Fx(){return Fx=p(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield rs(t,function Nve(t,e){return Mx.apply(this,arguments)}(n,{idToken:r}));W(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function Lve(t){return t.map(e=>{var{providerId:n}=e,r=ru(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function Fve(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),l=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new JH(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),Fx.apply(this,arguments)}function Lx(){return(Lx=p(function*(t){const e=fr(t);yield $f(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Vx(){return(Vx=p(function*(t,e){const n=yield YH(t,{},p(function*(){const r=E$({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=QH(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",KH.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Hf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Mve(t){const e=jy(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return p(function*(){return W(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return p(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function Vve(t,e){return Vx.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Hf;return r&&(W("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(W("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(W("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hf,this.toJSON())}_performRefresh(){return fo("not implemented")}}function Ks(t,e){W("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class fc{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=ru(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kve(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new JH(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return p(function*(){const r=yield rs(n,n.stsTokenManager.getToken(n.auth,e));return W(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Ove(t){return Rx.apply(this,arguments)}(this,e)}reload(){return function Pve(t){return Lx.apply(this,arguments)}(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return p(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield $f(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return p(function*(){const n=yield e.getIdToken();return yield rs(e,function xve(t,e){return Nx.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,u,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,_=null!==(s=n.photoURL)&&void 0!==s?s:void 0,y=null!==(a=n.tenantId)&&void 0!==a?a:void 0,v=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,T=null!==(u=n.createdAt)&&void 0!==u?u:void 0,w=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:M,emailVerified:F,isAnonymous:$,providerData:Y,stsTokenManager:ae}=n;W(M&&ae,e,"internal-error");const me=Hf.fromJSON(this.name,ae);W("string"==typeof M,e,"internal-error"),Ks(d,e.name),Ks(h,e.name),W("boolean"==typeof F,e,"internal-error"),W("boolean"==typeof $,e,"internal-error"),Ks(f,e.name),Ks(_,e.name),Ks(y,e.name),Ks(v,e.name),Ks(T,e.name),Ks(w,e.name);const Ue=new fc({uid:M,auth:e,email:h,emailVerified:F,displayName:d,isAnonymous:$,photoURL:_,phoneNumber:f,tenantId:y,stsTokenManager:me,createdAt:T,lastLoginAt:w});return Y&&Array.isArray(Y)&&(Ue.providerData=Y.map(It=>Object.assign({},It))),v&&(Ue._redirectEventId=v),Ue}static _fromIdTokenResponse(e,n,r=!1){return p(function*(){const i=new Hf;i.updateFromServerResponse(n);const o=new fc({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield $f(o),o})()}}const ZH=new Map;function is(t){Ws(t instanceof Function,"Expected a class definition");let e=ZH.get(t);return e?(Ws(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ZH.set(t,e),e)}const XH=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(function*(){return!0})()}_set(n,r){var i=this;return p(function*(){i.storage[n]=r})()}_get(n){var r=this;return p(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return p(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function $y(t,e,n){return`firebase:${t}:${e}:${n}`}class El{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=$y(this.userKey,i.apiKey,o),this.fullPersistenceKey=$y("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return p(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?fc._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return p(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(function*(){if(!n.length)return new El(is(XH),e,r);const i=(yield Promise.all(n.map(function(){var u=p(function*(l){if(yield l._isAvailable())return l});return function(l){return u.apply(this,arguments)}}()))).filter(u=>u);let o=i[0]||is(XH);const s=$y(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const l=yield u._get(s);if(l){const d=fc._fromJSON(e,l);u!==o&&(a=d),o=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var u=p(function*(l){if(l!==o)try{yield l._remove(s)}catch{}});return function(l){return u.apply(this,arguments)}}())),new El(o,e,r)):new El(o,e,r)})()}}function eG(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function rG(t=Zr()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function tG(t=Zr()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function oG(t=Zr()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function sG(t=Zr()){return/webos/i.test(t)}(e))return"Webos";if(function Bx(t=Zr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function nG(t=Zr()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function iG(t=Zr()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function aG(t,e=[]){let n;switch(t){case"Browser":n=eG(Zr());break;case"Worker":n=`${eG(Zr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${kf}/${r}`}function cG(t,e){return jx.apply(this,arguments)}function jx(){return(jx=p(function*(t,e){return Ft(t,"GET","/v2/recaptchaConfig",function Ot(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}function lG(t){return void 0!==t&&void 0!==t.enterprise}class dG{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class fG{constructor(e){this.type="recaptcha-enterprise",this.auth=En(e)}verify(e="verify",n=!1){var r=this;return p(function*(){function o(){return o=p(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=p(function*(u,l){cG(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new dG(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,u(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(u,l){return c.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,c,u){const l=window.grecaptcha;lG(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(u=>{if(!n&&lG(window.grecaptcha))s(u,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));(function $x(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=ho("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function $ve(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+u).then(()=>{s(u,a,c)}).catch(l=>{c(l)})}}).catch(u=>{c(u)})})})()}}class qve{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return p(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Wve{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pG(this),this.idTokenSubscription=new pG(this),this.beforeStateQueue=new qve(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zH,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=is(n)),this._initializationPromise=this.queue(p(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield El.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return p(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return p(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,u=yield n.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(o=u.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return W(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return p(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return p(function*(){try{yield $f(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Tve(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return p(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return p(function*(){const r=e?fr(e):null;return r&&W(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return p(function*(){if(!r._deleted)return e&&W(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(p(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return p(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(p(function*(){yield n.assertedPersistence.setPersistence(is(e))}))}initializeRecaptchaConfig(){var e=this;return p(function*(){const n=yield cG(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new dG(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new fG(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new co("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return p(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return p(function*(){if(!n.redirectPersistenceManager){const r=e&&is(e)||n._popupRedirectResolver;W(r,n,"argument-error"),n.redirectPersistenceManager=yield El.create(n,[is(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return p(function*(){var r,i;return n._isInitialized&&(yield n.queue(p(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return p(function*(){if(e===n.currentUser)return n.queue(p(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return W(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return p(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aG(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return p(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return p(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Ive(t,...e){By.logLevel<=Ae.WARN&&By.warn(`Auth (${kf}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function En(t){return fr(t)}class pG{constructor(e){this.auth=e,this.observer=null,this.addObserver=function rge(t,e){const n=new ige(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function hG(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new Bf(3e4,6e4),new Bf(2e3,1e4),new Bf(3e4,6e4),new Bf(5e3,15e3),encodeURIComponent("fac");var HG="@firebase/auth";class Bbe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return p(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Dy(),function jbe(t){pr(new Zn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;W(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aG(t)},u=new Wve(r,i,o,c);return function Yve(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(is);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),pr(new Zn("auth-internal",e=>{const n=En(e.getProvider("auth").getImmediate());return new Bbe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kt(HG,"0.23.2",function Ube(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Kt(HG,"0.23.2","esm2017")}("Browser");class WG{constructor(){return Ix("auth")}}const NN=new Map,KG={activated:!1,tokenObservers:[]},Kbe={initialized:!1,enabled:!1};function Lt(t){return NN.get(t)||Object.assign({},KG)}function tv(){return Kbe}const ON="https://content-firebaseappcheck.googleapis.com/v1",Zbe="exchangeDebugToken",YG={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class e1e{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return p(function*(){n.stop();try{n.pending=new Sy,yield function t1e(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Sy,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Bn=new co("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function MN(t){if(!Lt(t).activated)throw Bn.create("use-before-activation",{appName:t.name})}function iv(t,e){return kN.apply(this,arguments)}function kN(){return kN=p(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(t,o)}catch(d){throw Bn.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw Bn.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw Bn.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw Bn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=1e3*Number(c[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+u,issuedAtTimeMillis:l}}),kN.apply(this,arguments)}function QG(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${ON}/projects/${n}/apps/${r}:${Zbe}?key=${i}`,body:{debug_token:e}}}const o1e="firebase-app-check-database",s1e=1,Kf="firebase-app-check-store";let ov=null;function PN(){return PN=p(function*(t,e){const r=(yield function ZG(){return ov||(ov=new Promise((t,e)=>{try{const n=indexedDB.open(o1e,s1e);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Bn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Kf,{keyPath:"compositeKey"})}}catch(n){e(Bn.create("storage-open",{originalErrorMessage:n?.message}))}}),ov)}()).transaction(Kf,"readwrite"),o=r.objectStore(Kf).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(Bn.create("storage-set",{originalErrorMessage:null===(u=c.target.error)||void 0===u?void 0:u.message}))}})}),PN.apply(this,arguments)}const Yf=new js("@firebase/app-check");function VN(t,e){return rc()?function c1e(t,e){return function XG(t,e){return PN.apply(this,arguments)}(function t6(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Yf.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function UN(){return tv().enabled}function jN(){return $N.apply(this,arguments)}function $N(){return $N=p(function*(){const t=tv();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),$N.apply(this,arguments)}const p1e={error:"UNKNOWN_ERROR"};function g1e(t){return lD.encodeString(JSON.stringify(t),!1)}function sv(t){return HN.apply(this,arguments)}function HN(){return HN=p(function*(t,e=!1){const n=t.app;MN(n);const r=Lt(n);let o,i=r.token;if(i&&!Sl(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Sl(c)?i=c:yield VN(n,void 0))}if(!e&&i&&Sl(i))return{token:i.token};let a,s=!1;if(UN()){r.exchangeTokenPromise||(r.exchangeTokenPromise=iv(QG(n,yield jN()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const c=yield r.exchangeTokenPromise;return yield VN(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield Lt(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?Yf.warn(c.message):Yf.error(c),o=c}return i?o?a=Sl(i)?{token:i.token,internalError:o}:o6(o):(a={token:i.token},r.token=i,yield VN(n,i)):a=o6(o),s&&function i6(t,e){const n=Lt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),HN.apply(this,arguments)}function GN(){return GN=p(function*(t){const e=t.app;MN(e);const{provider:n}=Lt(e);if(UN()){const r=yield jN(),{token:i}=yield iv(QG(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),GN.apply(this,arguments)}function qN(t,e){const n=Lt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function r6(t){const{app:e}=t,n=Lt(e);let r=n.tokenRefresher;r||(r=function m1e(t){const{app:e}=t;return new e1e(p(function*(){let r;if(r=Lt(e).token?yield sv(t,!0):yield sv(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Lt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},YG.RETRIAL_MIN_WAIT,YG.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Sl(t){return t.expireTimeMillis-Date.now()>0}function o6(t){return{token:g1e(p1e),error:t}}class _1e{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Lt(this.app);for(const n of e)qN(this.app,n.next);return Promise.resolve()}}const f6="app-check-internal";!function O1e(){pr(new Zn("app-check",t=>function y1e(t,e){return new _1e(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(f6).initialize()})),pr(new Zn(f6,t=>function v1e(t){return{getToken:e=>sv(t,e),getLimitedUseToken:()=>function n6(t){return GN.apply(this,arguments)}(t),addTokenListener:e=>function zN(t,e,n,r){const{app:i}=t,o=Lt(i);if(o.tokenObservers=[...o.tokenObservers,{next:n,error:r,type:e}],o.token&&Sl(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),r6(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>r6(t))}(t,"INTERNAL",e),removeTokenListener:e=>qN(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Kt("@firebase/app-check","0.8.0")}();class g6{constructor(){return Ix("app-check")}}typeof window<"u"&&window;var X,F1e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Li={},JN=JN||{},ge=F1e||self;function cv(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Qf(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ZN="closure_uid_"+(1e9*Math.random()>>>0),V1e=0;function B1e(t,e,n){return t.call.apply(t.bind,arguments)}function U1e(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Xn(t,e,n){return(Xn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?B1e:U1e).apply(null,arguments)}function uv(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Dn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Qs(){this.s=this.s,this.o=this.o}Qs.prototype.s=!1,Qs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function L1e(t){Object.prototype.hasOwnProperty.call(t,ZN)&&t[ZN]||(t[ZN]=++V1e)}(this)},Qs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const m6=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function XN(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function _6(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(cv(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function er(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}er.prototype.h=function(){this.defaultPrevented=!0};var $1e=function(){if(!ge.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ge.addEventListener("test",()=>{},e),ge.removeEventListener("test",()=>{},e)}catch{}return t}();function Jf(t){return/^[\s\xa0]*$/.test(t)}function lv(){var t=ge.navigator;return t&&(t=t.userAgent)?t:""}function po(t){return-1!=lv().indexOf(t)}function eO(t){return eO[" "](t),t}eO[" "]=function(){};var nO,G1e=po("Opera"),xl=po("Trident")||po("MSIE"),y6=po("Edge"),tO=y6||xl,v6=po("Gecko")&&!(-1!=lv().toLowerCase().indexOf("webkit")&&!po("Edge"))&&!(po("Trident")||po("MSIE"))&&!po("Edge"),z1e=-1!=lv().toLowerCase().indexOf("webkit")&&!po("Edge");function b6(){var t=ge.document;return t?t.documentMode:void 0}e:{var rO="",iO=function(){var t=lv();return v6?/rv:([^\);]+)(\)|;)/.exec(t):y6?/Edge\/([\d\.]+)/.exec(t):xl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):z1e?/WebKit\/(\S+)/.exec(t):G1e?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(iO&&(rO=iO?iO[1]:""),xl){var oO=b6();if(null!=oO&&oO>parseFloat(rO)){nO=String(oO);break e}}nO=rO}var q1e=ge.document&&xl&&(b6()||parseInt(nO,10))||void 0;function Zf(t,e){if(er.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(v6){e:{try{eO(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:W1e[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Zf.$.h.call(this)}}Dn(Zf,er);var W1e={2:"touch",3:"pen",4:"mouse"};Zf.prototype.h=function(){Zf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Xf="closure_listenable_"+(1e6*Math.random()|0),K1e=0;function Y1e(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++K1e,this.fa=this.ia=!1}function dv(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function aO(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function I6(t){const e={};for(const n in t)e[n]=t[n];return e}const C6="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T6(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<C6.length;o++)n=C6[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function hv(t){this.src=t,this.g={},this.h=0}function cO(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=m6(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(dv(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function uO(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}hv.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=uO(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new Y1e(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var lO="closure_lm_"+(1e6*Math.random()|0),dO={};function E6(t,e,n,r,i){if(r&&r.once)return S6(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)E6(t,e[o],n,r,i);return null}return n=gO(n),t&&t[Xf]?t.O(e,n,Qf(r)?!!r.capture:!!r,i):D6(t,e,n,!1,r,i)}function D6(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Qf(i)?!!i.capture:!!i,a=fO(t);if(a||(t[lO]=a=new hv(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function J1e(){const e=Z1e;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)$1e||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(A6(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function S6(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)S6(t,e[o],n,r,i);return null}return n=gO(n),t&&t[Xf]?t.P(e,n,Qf(r)?!!r.capture:!!r,i):D6(t,e,n,!0,r,i)}function x6(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)x6(t,e[o],n,r,i);else r=Qf(r)?!!r.capture:!!r,n=gO(n),t&&t[Xf]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=uO(o=t.g[e],n,r,i))&&(dv(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=fO(t))&&(e=t.g[e.toString()],t=-1,e&&(t=uO(e,n,r,i)),(n=-1<t?e[t]:null)&&hO(n))}function hO(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Xf])cO(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(A6(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=fO(e))?(cO(n,t),0==n.h&&(n.src=null,e[lO]=null)):dv(t)}}}function A6(t){return t in dO?dO[t]:dO[t]="on"+t}function Z1e(t,e){if(t.fa)t=!0;else{e=new Zf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&hO(t),t=n.call(r,e)}return t}function fO(t){return(t=t[lO])instanceof hv?t:null}var pO="__closure_events_fn_"+(1e9*Math.random()>>>0);function gO(t){return"function"==typeof t?t:(t[pO]||(t[pO]=function(e){return t.handleEvent(e)}),t[pO])}function Sn(){Qs.call(this),this.i=new hv(this),this.S=this,this.J=null}function Un(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new er(e,t);else if(e instanceof er)e.target=e.target||t;else{var i=e;T6(e=new er(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=fv(s,r,!0,e)&&i}if(i=fv(s=e.g=t,r,!0,e)&&i,i=fv(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=fv(s=e.g=n[o],r,!1,e)&&i}function fv(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&cO(t.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Dn(Sn,Qs),Sn.prototype[Xf]=!0,Sn.prototype.removeEventListener=function(t,e,n,r){x6(this,t,e,n,r)},Sn.prototype.N=function(){if(Sn.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)dv(n[r]);delete t.g[e],t.h--}}this.J=null},Sn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Sn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var mO=ge.JSON.stringify;function ewe(){var t=_O;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var N6=new class X1e{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new nwe,t=>t.reset());class nwe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function rwe(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function iwe(t){ge.setTimeout(()=>{throw t},0)}let ep,tp=!1,_O=new class twe{constructor(){this.h=this.g=null}add(e,n){const r=N6.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},O6=()=>{const t=ge.Promise.resolve(void 0);ep=()=>{t.then(owe)}};var owe=()=>{for(var t;t=ewe();){try{t.h.call(t.g)}catch(n){iwe(n)}var e=N6;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}tp=!1};function pv(t,e){Sn.call(this),this.h=t||1,this.g=e||ge,this.j=Xn(this.qb,this),this.l=Date.now()}function yO(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function vO(t,e,n){if("function"==typeof t)n&&(t=Xn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Xn(t.handleEvent,t)}return 2147483647<Number(e)?-1:ge.setTimeout(t,e||0)}function M6(t){t.g=vO(()=>{t.g=null,t.i&&(t.i=!1,M6(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Dn(pv,Sn),(X=pv.prototype).ga=!1,X.T=null,X.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Un(this,"tick"),this.ga&&(yO(this),this.start()))}},X.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},X.N=function(){pv.$.N.call(this),yO(this),delete this.g};class swe extends Qs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:M6(this)}N(){super.N(),this.g&&(ge.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function np(t){Qs.call(this),this.h=t,this.g={}}Dn(np,Qs);var R6=[];function k6(t,e,n,r){Array.isArray(n)||(n&&(R6[0]=n.toString()),n=R6);for(var i=0;i<n.length;i++){var o=E6(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function P6(t){aO(t.g,function(e,n){this.g.hasOwnProperty(n)&&hO(e)},t),t.g={}}function gv(){this.g=!0}function Al(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function lwe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return mO(n)}catch{return e}}(t,n)+(r?" "+r:"")})}np.prototype.N=function(){np.$.N.call(this),P6(this)},np.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},gv.prototype.Ea=function(){this.g=!1},gv.prototype.info=function(){};var _c={},F6=null;function mv(){return F6=F6||new Sn}function L6(t){er.call(this,_c.Ta,t)}function rp(t){const e=mv();Un(e,new L6(e))}function V6(t,e){er.call(this,_c.STAT_EVENT,t),this.stat=e}function mr(t){const e=mv();Un(e,new V6(e,t))}function B6(t,e){er.call(this,_c.Ua,t),this.size=e}function ip(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ge.setTimeout(function(){t()},e)}_c.Ta="serverreachability",Dn(L6,er),_c.STAT_EVENT="statevent",Dn(V6,er),_c.Ua="timingevent",Dn(B6,er);var _v={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},U6={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function bO(){}function $6(){}bO.prototype.h=null;var CO,op={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function wO(){er.call(this,"d")}function IO(){er.call(this,"c")}function yv(){}function sp(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new np(this),this.P=dwe,this.V=new pv(t=tO?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new H6}function H6(){this.i=null,this.g="",this.h=!1}Dn(wO,er),Dn(IO,er),Dn(yv,bO),yv.prototype.g=function(){return new XMLHttpRequest},yv.prototype.i=function(){return{}},CO=new yv;var dwe=45e3,TO={},vv={};function EO(t,e,n){t.L=1,t.v=Cv(ss(e)),t.s=n,t.S=!0,G6(t,null)}function G6(t,e){t.G=Date.now(),ap(t),t.A=ss(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),e7(n.i,"t",r),t.C=0,n=t.l.J,t.h=new H6,t.g=T7(t.l,n?e:null,!t.s),0<t.O&&(t.M=new swe(Xn(t.Pa,t,t.g),t.O)),k6(t.U,t.g,"readystatechange",t.nb),e=t.I?I6(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),rp(),function awe(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");s=2<=d.length&&"type"==d[1]?s+(l+"=")+u+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.W,t.s)}function z6(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function q6(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=hwe(t,n),i==vv){4==e&&(t.o=4,mr(14),r=!1),Al(t.j,t.m,null,"[Incomplete Response]");break}if(i==TO){t.o=4,mr(15),Al(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Al(t.j,t.m,i,null),DO(t,i)}z6(t)&&i!=vv&&i!=TO&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,mr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),RO(e),e.M=!0,mr(11))):(Al(t.j,t.m,n,"[Invalid Chunked Response]"),yc(t),cp(t))}function hwe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?vv:(n=Number(e.substring(n,r)),isNaN(n)?TO:(r+=1)+n>e.length?vv:(e=e.slice(r,r+n),t.C=r+n,e))}function ap(t){t.Y=Date.now()+t.P,W6(t,t.P)}function W6(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ip(Xn(t.lb,t),e)}function bv(t){t.B&&(ge.clearTimeout(t.B),t.B=null)}function cp(t){0==t.l.H||t.J||b7(t.l,t)}function yc(t){bv(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,yO(t.V),P6(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function DO(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||SO(n.i,t)))if(!t.K&&SO(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Av(n),Sv(n)}MO(n),mr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ip(Xn(n.ib,n),6e3));if(1>=r7(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else bc(n,11)}else if((t.K||n.g==t)&&Av(n),!Jf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const l=u[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=u[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const _=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var o=r.i;o.g||-1==_.indexOf("spdy")&&-1==_.indexOf("quic")&&-1==_.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(xO(o,o.h),o.h=null))}if(r.F){const y=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,yt(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=C7(r,r.J?r.pa:null,r.Y),s.K){i7(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.B&&(bv(a),ap(a)),r.g=s}else y7(r);0<n.j.length&&xv(n)}else"stop"!=u[0]&&"close"!=u[0]||bc(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?bc(n,7):OO(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}rp()}catch{}}function K6(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(cv(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function pwe(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(cv(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function fwe(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(cv(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(X=sp.prototype).setTimeout=function(t){this.P=t},X.nb=function(t){t=t.target;const e=this.M;e&&3==go(t)?e.l():this.Pa(t)},X.Pa=function(t){try{if(t==this.g)e:{const l=go(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||tO||this.g&&(this.h.h||this.g.ja()||h7(this.g)))){this.J||4!=l||7==e||rp(),bv(this);var n=this.g.da();this.ca=n;t:if(z6(this)){var r=h7(this.g);t="";var i=r.length,o=4==go(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){yc(this),cp(this);var s="";break t}this.h.i=new ge.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function cwe(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jf(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,mr(12),yc(this),cp(this);break e}Al(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,DO(this,n)}this.S?(q6(this,l,s),tO&&this.i&&3==l&&(k6(this.U,this.V,"tick",this.mb),this.V.start())):(Al(this.j,this.m,s,null),DO(this,s)),4==l&&yc(this),this.i&&!this.J&&(4==l?b7(this.l,this):(this.i=!1,ap(this)))}else(function Mwe(t){const e={};t=(t.g&&2<=go(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Jf(t[r]))continue;var n=rwe(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function Q1e(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,mr(12)):(this.o=0,mr(13)),yc(this),cp(this)}}}catch{}},X.mb=function(){if(this.g){var t=go(this.g),e=this.g.ja();this.C<e.length&&(bv(this),q6(this,t,e),this.i&&4!=t&&ap(this))}},X.cancel=function(){this.J=!0,yc(this)},X.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function uwe(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(rp(),mr(17)),yc(this),this.o=2,cp(this)):W6(this,this.Y-t)};var Y6=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vc(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof vc){this.h=t.h,wv(this,t.j),this.s=t.s,this.g=t.g,Iv(this,t.m),this.l=t.l;var e=t.i,n=new dp;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Q6(this,n),this.o=t.o}else t&&(e=String(t).match(Y6))?(this.h=!1,wv(this,e[1]||"",!0),this.s=up(e[2]||""),this.g=up(e[3]||"",!0),Iv(this,e[4]),this.l=up(e[5]||"",!0),Q6(this,e[6]||"",!0),this.o=up(e[7]||"")):(this.h=!1,this.i=new dp(null,this.h))}function ss(t){return new vc(t)}function wv(t,e,n){t.j=n?up(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Iv(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Q6(t,e,n){e instanceof dp?(t.i=e,function wwe(t,e){e&&!t.j&&(Js(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Z6(this,r),e7(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=lp(e,vwe)),t.i=new dp(e,t.h))}function yt(t,e,n){t.i.set(e,n)}function Cv(t){return yt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function up(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function lp(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,mwe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function mwe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}vc.prototype.toString=function(){var t=[],e=this.j;e&&t.push(lp(e,J6,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(lp(e,J6,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(lp(n,"/"==n.charAt(0)?ywe:_we,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",lp(n,bwe)),t.join("")};var J6=/[#\/\?@]/g,_we=/[#\?:]/g,ywe=/[#\?]/g,vwe=/[#\?@]/g,bwe=/#/g;function dp(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Js(t){t.g||(t.g=new Map,t.h=0,t.i&&function gwe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Z6(t,e){Js(t),e=Nl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function X6(t,e){return Js(t),e=Nl(t,e),t.g.has(e)}function e7(t,e,n){Z6(t,e),0<n.length&&(t.i=null,t.g.set(Nl(t,e),XN(n)),t.h+=n.length)}function Nl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function t7(t){this.l=t||Cwe,t=ge.PerformanceNavigationTiming?0<(t=ge.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ge.g&&ge.g.Ka&&ge.g.Ka()&&ge.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(X=dp.prototype).add=function(t,e){Js(this),this.i=null,t=Nl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},X.forEach=function(t,e){Js(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},X.ta=function(){Js(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},X.Z=function(t){Js(this);let e=[];if("string"==typeof t)X6(this,t)&&(e=e.concat(this.g.get(Nl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},X.set=function(t,e){return Js(this),this.i=null,X6(this,t=Nl(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},X.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},X.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var Cwe=10;function n7(t){return!!t.h||!!t.g&&t.g.size>=t.j}function r7(t){return t.h?1:t.g?t.g.size:0}function SO(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function xO(t,e){t.g?t.g.add(e):t.h=e}function i7(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function o7(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return XN(t.i)}t7.prototype.cancel=function(){if(this.i=o7(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Twe=class{stringify(t){return ge.JSON.stringify(t,void 0)}parse(t){return ge.JSON.parse(t,void 0)}};function Ewe(){this.g=new Twe}function Dwe(t,e,n){const r=n||"";try{K6(t,function(i,o){let s=i;Qf(i)&&(s=mO(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Tv(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function hp(t){this.l=t.fc||null,this.j=t.ob||!1}function Ev(t,e){Sn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=AO,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Dn(hp,bO),hp.prototype.g=function(){return new Ev(this.l,this.j)},hp.prototype.i=function(t){return function(){return t}}({}),Dn(Ev,Sn);var AO=0;function s7(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function fp(t){t.readyState=4,t.l=null,t.j=null,t.A=null,pp(t)}function pp(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(X=Ev.prototype).open=function(t,e){if(this.readyState!=AO)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,pp(this)},X.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ge).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},X.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fp(this)),this.readyState=AO},X.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,pp(this)),this.g&&(this.readyState=3,pp(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ge.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;s7(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},X.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?fp(this):pp(this),3==this.readyState&&s7(this)}},X.Za=function(t){this.g&&(this.response=this.responseText=t,fp(this))},X.Ya=function(t){this.g&&(this.response=t,fp(this))},X.ka=function(){this.g&&fp(this)},X.setRequestHeader=function(t,e){this.v.append(t,e)},X.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},X.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Ev.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var xwe=ge.JSON.parse;function Vt(t){Sn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=a7,this.L=this.M=!1}Dn(Vt,Sn);var a7="",Awe=/^https?$/i,Nwe=["POST","PUT"];function c7(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,u7(t),Dv(t)}function u7(t){t.F||(t.F=!0,Un(t,"complete"),Un(t,"error"))}function l7(t){if(t.h&&typeof JN<"u"&&(!t.C[1]||4!=go(t)||2!=t.da()))if(t.v&&4==go(t))vO(t.La,0,t);else if(Un(t,"readystatechange"),4==go(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(Y6)[1]||null;!i&&ge.self&&ge.self.location&&(i=ge.self.location.protocol.slice(0,-1)),r=!Awe.test(i?i.toLowerCase():"")}n=r}if(n)Un(t,"complete"),Un(t,"success");else{t.m=6;try{var o=2<go(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",u7(t)}}finally{Dv(t)}}}function Dv(t,e){if(t.g){d7(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Un(t,"ready");try{n.onreadystatechange=r}catch{}}}function d7(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ge.clearTimeout(t.A),t.A=null)}function go(t){return t.g?t.g.readyState:0}function h7(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case a7:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function f7(t){let e="";return aO(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function NO(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=f7(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):yt(t,e,n))}function gp(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function p7(t){this.Ga=0,this.j=[],this.l=new gv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=gp("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=gp("baseRetryDelayMs",5e3,t),this.hb=gp("retryDelaySeedMs",1e4,t),this.eb=gp("forwardChannelMaxRetries",2,t),this.xa=gp("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new t7(t&&t.concurrentRequestLimit),this.Ja=new Ewe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function OO(t){if(g7(t),3==t.H){var e=t.W++,n=ss(t.I);if(yt(n,"SID",t.K),yt(n,"RID",e),yt(n,"TYPE","terminate"),mp(t,n),(e=new sp(t,t.l,e)).L=2,e.v=Cv(ss(n)),n=!1,ge.navigator&&ge.navigator.sendBeacon)try{n=ge.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ge.Image&&((new Image).src=e.v,n=!0),n||(e.g=T7(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ap(e)}I7(t)}function Sv(t){t.g&&(RO(t),t.g.cancel(),t.g=null)}function g7(t){Sv(t),t.u&&(ge.clearTimeout(t.u),t.u=null),Av(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ge.clearTimeout(t.m),t.m=null)}function xv(t){if(!n7(t.i)&&!t.m){t.m=!0;var e=t.Na;ep||O6(),tp||(ep(),tp=!0),_O.add(e,t),t.C=0}}function m7(t,e){var n;n=e?e.m:t.W++;const r=ss(t.I);yt(r,"SID",t.K),yt(r,"RID",n),yt(r,"AID",t.V),mp(t,r),t.o&&t.s&&NO(r,t.o,t.s),n=new sp(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=_7(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),xO(t.i,n),EO(n,r,e)}function mp(t,e){t.na&&aO(t.na,function(n,r){yt(e,r,n)}),t.h&&K6({},function(n,r){yt(e,r,n)})}function _7(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Xn(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let u=i[c].g;const l=i[c].map;if(u-=o,0>u)o=Math.max(0,i[c].g-100),a=!1;else try{Dwe(l,s,"req"+u+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function y7(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ep||O6(),tp||(ep(),tp=!0),_O.add(e,t),t.A=0}}function MO(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=ip(Xn(t.Ma,t),w7(t,t.A)),t.A++,0))}function RO(t){null!=t.B&&(ge.clearTimeout(t.B),t.B=null)}function v7(t){t.g=new sp(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=ss(t.wa);yt(e,"RID","rpc"),yt(e,"SID",t.K),yt(e,"AID",t.V),yt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&yt(e,"TO",t.qa),yt(e,"TYPE","xmlhttp"),mp(t,e),t.o&&t.s&&NO(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Cv(ss(e)),n.s=null,n.S=!0,G6(n,t)}function Av(t){null!=t.v&&(ge.clearTimeout(t.v),t.v=null)}function b7(t,e){var n=null;if(t.g==e){Av(t),RO(t),t.g=null;var r=2}else{if(!SO(t.i,e))return;n=e.F,i7(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Un(r=mv(),new B6(r,n)),xv(t)}else y7(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Rwe(t,e){return!(r7(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=ip(Xn(t.Na,t,e),w7(t,t.C)),t.C++,0)))}(t,e)||2==r&&MO(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:bc(t,5);break;case 4:bc(t,10);break;case 3:bc(t,6);break;default:bc(t,2)}}function w7(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function bc(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Xn(t.pb,t);n||(n=new vc("//www.google.com/images/cleardot.gif"),ge.location&&"http"==ge.location.protocol||wv(n,"https"),Cv(n)),function Swe(t,e){const n=new gv;if(ge.Image){const r=new Image;r.onload=uv(Tv,n,r,"TestLoadImage: loaded",!0,e),r.onerror=uv(Tv,n,r,"TestLoadImage: error",!1,e),r.onabort=uv(Tv,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=uv(Tv,n,r,"TestLoadImage: timeout",!1,e),ge.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else mr(2);t.H=0,t.h&&t.h.za(e),I7(t),g7(t)}function I7(t){if(t.H=0,t.ma=[],t.h){const e=o7(t.i);(0!=e.length||0!=t.j.length)&&(_6(t.ma,e),_6(t.ma,t.j),t.i.i.length=0,XN(t.j),t.j.length=0),t.h.ya()}}function C7(t,e,n){var r=n instanceof vc?ss(n):new vc(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Iv(r,r.m);else{var i=ge.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new vc(null);r&&wv(o,r),e&&(o.g=e),i&&Iv(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&yt(r,n,e),yt(r,"VER",t.ra),mp(t,r),r}function T7(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Vt(n&&t.Ha&&!t.va?new hp({ob:!0}):t.va)).Oa(t.J),e}function E7(){}function Nv(){if(xl&&!(10<=Number(q1e)))throw Error("Environmental error: no available transport.")}function Xr(t,e){Sn.call(this),this.g=new p7(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Jf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Jf(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Ol(this)}function D7(t){wO.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function S7(){IO.call(this),this.status=1}function Ol(t){this.g=t}function Vi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function kO(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function ot(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(X=Vt.prototype).Oa=function(t){this.M=t},X.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():CO.g(),this.C=function j6(t){return t.h||(t.h=t.i())}(this.u?this.u:CO),this.g.onreadystatechange=Xn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void c7(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=ge.FormData&&t instanceof ge.FormData,!(0<=m6(Nwe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{d7(this),0<this.B&&((this.L=function Owe(t){return xl&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xn(this.ua,this)):this.A=vO(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){c7(this,o)}},X.ua=function(){typeof JN<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Un(this,"timeout"),this.abort(8))},X.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Un(this,"complete"),Un(this,"abort"),Dv(this))},X.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dv(this,!0)),Vt.$.N.call(this)},X.La=function(){this.s||(this.G||this.v||this.l?l7(this):this.kb())},X.kb=function(){l7(this)},X.isActive=function(){return!!this.g},X.da=function(){try{return 2<go(this)?this.g.status:-1}catch{return-1}},X.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},X.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),xwe(e)}},X.Ia=function(){return this.m},X.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(X=p7.prototype).ra=8,X.H=1,X.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new sp(this,this.l,t);let o=this.s;if(this.U&&(o?(o=I6(o),T6(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=_7(this,i,e),yt(n=ss(this.I),"RID",t),yt(n,"CVER",22),this.F&&yt(n,"X-HTTP-Session-Id",this.F),mp(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(f7(o)))+"&"+e:this.o&&NO(n,this.o,o)),xO(this.i,i),this.bb&&yt(n,"TYPE","init"),this.P?(yt(n,"$req",e),yt(n,"SID","null"),i.aa=!0,EO(i,n,null)):EO(i,n,e),this.H=2}}else 3==this.H&&(t?m7(this,t):0==this.j.length||n7(this.i)||m7(this))},X.Ma=function(){if(this.u=null,v7(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ip(Xn(this.jb,this),t)}},X.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,mr(10),Sv(this),v7(this))},X.ib=function(){null!=this.v&&(this.v=null,Sv(this),MO(this),mr(19))},X.pb=function(t){t?(this.l.info("Successfully pinged google.com"),mr(2)):(this.l.info("Failed to ping google.com"),mr(1))},X.isActive=function(){return!!this.h&&this.h.isActive(this)},(X=E7.prototype).Ba=function(){},X.Aa=function(){},X.za=function(){},X.ya=function(){},X.isActive=function(){return!0},X.Va=function(){},Nv.prototype.g=function(t,e){return new Xr(t,e)},Dn(Xr,Sn),Xr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;mr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=C7(t,null,t.Y),xv(t)},Xr.prototype.close=function(){OO(this.g)},Xr.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=mO(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&xv(e)},Xr.prototype.N=function(){this.g.h=null,delete this.j,OO(this.g),delete this.g,Xr.$.N.call(this)},Dn(D7,wO),Dn(S7,IO),Dn(Ol,E7),Ol.prototype.Ba=function(){Un(this.g,"a")},Ol.prototype.Aa=function(t){Un(this.g,new D7(t))},Ol.prototype.za=function(t){Un(this.g,new S7)},Ol.prototype.ya=function(){Un(this.g,"b")},Dn(Vi,function kwe(){this.blockSize=-1}),Vi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Vi.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)kO(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){kO(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){kO(this,r),i=0;break}}this.h=i,this.i+=e},Vi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Pwe={};function PO(t){return-128<=t&&128>t?function H1e(t,e){var n=Pwe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new ot([0|e],0>e?-1:0)}):new ot([0|t],0>t?-1:0)}function mo(t){if(isNaN(t)||!isFinite(t))return Ml;if(0>t)return jn(mo(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=FO;return new ot(e,0)}var FO=4294967296,Ml=PO(0),LO=PO(1),A7=PO(16777216);function as(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function bi(t){return-1==t.h}function jn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ot(n,~t.h).add(LO)}function Ov(t,e){return t.add(jn(e))}function Mv(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function _p(t,e){this.g=t,this.h=e}function Rv(t,e){if(as(e))throw Error("division by zero");if(as(t))return new _p(Ml,Ml);if(bi(t))return e=Rv(jn(t),e),new _p(jn(e.g),jn(e.h));if(bi(e))return e=Rv(t,jn(e)),new _p(jn(e.g),e.h);if(30<t.g.length){if(bi(t)||bi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=LO,r=e;0>=r.X(t);)n=N7(n),r=N7(r);var i=Rl(n,1),o=Rl(r,1);for(r=Rl(r,2),n=Rl(n,2);!as(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Rl(r,1),n=Rl(n,1)}return e=Ov(t,i.R(e)),new _p(i,e)}for(i=Ml;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=mo(n)).R(e);bi(s)||0<s.X(t);)s=(o=mo(n-=r)).R(e);as(o)&&(o=LO),i=i.add(o),t=Ov(t,s)}return new _p(i,t)}function N7(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ot(n,t.h)}function Rl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new ot(i,t.h)}(X=ot.prototype).ea=function(){if(bi(this))return-jn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:FO+r)*e,e*=FO}return t},X.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(as(this))return"0";if(bi(this))return"-"+jn(this).toString(t);for(var e=mo(Math.pow(t,6)),n=this,r="";;){var i=Rv(n,e).g,o=((0<(n=Ov(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(as(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},X.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},X.X=function(t){return bi(t=Ov(this,t))?-1:as(t)?0:1},X.abs=function(){return bi(this)?jn(this):this},X.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new ot(n,-2147483648&n[n.length-1]?-1:0)},X.R=function(t){if(as(this)||as(t))return Ml;if(bi(this))return bi(t)?jn(this).R(jn(t)):jn(jn(this).R(t));if(bi(t))return jn(this.R(jn(t)));if(0>this.X(A7)&&0>t.X(A7))return mo(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=s*c,Mv(n,2*r+2*i),n[2*r+2*i+1]+=o*c,Mv(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Mv(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Mv(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ot(n,0)},X.gb=function(t){return Rv(this,t).h},X.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ot(n,this.h&t.h)},X.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ot(n,this.h|t.h)},X.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ot(n,this.h^t.h)},Nv.prototype.createWebChannel=Nv.prototype.g,Xr.prototype.send=Xr.prototype.u,Xr.prototype.open=Xr.prototype.m,Xr.prototype.close=Xr.prototype.close,_v.NO_ERROR=0,_v.TIMEOUT=8,_v.HTTP_ERROR=6,U6.COMPLETE="complete",$6.EventType=op,op.OPEN="a",op.CLOSE="b",op.ERROR="c",op.MESSAGE="d",Sn.prototype.listen=Sn.prototype.O,Vt.prototype.listenOnce=Vt.prototype.P,Vt.prototype.getLastError=Vt.prototype.Sa,Vt.prototype.getLastErrorCode=Vt.prototype.Ia,Vt.prototype.getStatus=Vt.prototype.da,Vt.prototype.getResponseJson=Vt.prototype.Wa,Vt.prototype.getResponseText=Vt.prototype.ja,Vt.prototype.send=Vt.prototype.ha,Vt.prototype.setWithCredentials=Vt.prototype.Oa,Vi.prototype.digest=Vi.prototype.l,Vi.prototype.reset=Vi.prototype.reset,Vi.prototype.update=Vi.prototype.j,ot.prototype.add=ot.prototype.add,ot.prototype.multiply=ot.prototype.R,ot.prototype.modulo=ot.prototype.gb,ot.prototype.compare=ot.prototype.X,ot.prototype.toNumber=ot.prototype.ea,ot.prototype.toString=ot.prototype.toString,ot.prototype.getBits=ot.prototype.D,ot.fromNumber=mo,ot.fromString=function x7(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return jn(x7(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=mo(Math.pow(e,8)),r=Ml,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=mo(Math.pow(e,o)),r=r.R(o).add(mo(s))):r=(r=r.R(n)).add(mo(s))}return r};var Fwe=Li.createWebChannelTransport=function(){return new Nv},Lwe=Li.getStatEventTarget=function(){return mv()},VO=Li.ErrorCode=_v,Vwe=Li.EventType=U6,Bwe=Li.Event=_c,O7=Li.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Uwe=Li.FetchXmlHttpFactory=hp,kv=Li.WebChannel=$6,jwe=Li.XhrIo=Vt,$we=Li.Md5=Vi,kl=Li.Integer=ot;const M7="@firebase/firestore";class xn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");let Pl="9.23.0";const Zs=new js("@firebase/firestore");function BO(){return Zs.logLevel}function j(t,...e){if(Zs.logLevel<=Ae.DEBUG){const n=e.map(UO);Zs.debug(`Firestore (${Pl}): ${t}`,...n)}}function Yt(t,...e){if(Zs.logLevel<=Ae.ERROR){const n=e.map(UO);Zs.error(`Firestore (${Pl}): ${t}`,...n)}}function Bi(t,...e){if(Zs.logLevel<=Ae.WARN){const n=e.map(UO);Zs.warn(`Firestore (${Pl}): ${t}`,...n)}}function UO(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function re(t="Unexpected state"){const e=`FIRESTORE (${Pl}) INTERNAL ASSERTION FAILED: `+t;throw Yt(e),new Error(e)}function oe(t,e){t||re()}function Z(t,e){return t}const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends Fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class R7{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Hwe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xn.UNAUTHENTICATED))}shutdown(){}}class Gwe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class zwe{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new pn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new pn,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(p(function*(){yield u.promise,yield o(r.currentUser)}))},c=u=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new pn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(oe("string"==typeof r.accessToken),new R7(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return oe(null===e||"string"==typeof e),new xn(e)}}class qwe{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Wwe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new qwe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(xn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class k7{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kwe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=o=>{null!=o.error&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,j("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(oe("string"==typeof n.token),this.T=n.token,new k7(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ywe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class P7{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Ywe(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function Fl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new B(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new se(e)}static min(){return new se(new Mt(0,0))}static max(){return new se(new Mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class yp{constructor(e,n,r){void 0===n?n=0:n>e.length&&re(),void 0===r?r=e.length-n:r>e.length-n&&re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===yp.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yp?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ke extends yp{construct(e,n,r){return new ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new B(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ke(n)}static emptyPath(){return new ke([])}}const Qwe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends yp{construct(e,n,r){return new Qt(e,n,r)}static isValidIdentifier(e){return Qwe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new B(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new B(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new B(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new B(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}class J{constructor(e){this.path=e}static fromPath(e){return new J(ke.fromString(e))}static fromName(e){return new J(ke.fromString(e).popFirst(5))}static empty(){return new J(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ke.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new ke(e.slice()))}}function V7(t){return new ei(t.readTime,t.key,-1)}class ei{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ei(se.min(),J.empty(),-1)}static max(){return new ei(se.max(),J.empty(),-1)}}function $O(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=J.comparator(t.documentKey,e.documentKey),0!==n?n:he(t.largestBatchId,e.largestBatchId))}const B7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xwe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Xs(t){return HO.apply(this,arguments)}function HO(){return HO=p(function*(t){if(t.code!==N.FAILED_PRECONDITION||t.message!==B7)throw t;j("LocalStore","Unexpectedly lost primary lease")}),HO.apply(this,arguments)}class x{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new x((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof x?n:x.resolve(n)}catch(n){return x.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):x.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):x.reject(n)}static resolve(e){return new x((n,r)=>{n(e)})}static reject(e){return new x((n,r)=>{r(e)})}static waitFor(e){return new x((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=x.resolve(!1);for(const r of e)n=n.next(i=>i?x.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new x((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const u=c;n(e[u]).next(l=>{s[u]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new x((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}function ea(t){return"IndexedDbTransactionError"===t.name}let ti=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function wp(t){return null==t}function Ip(t){return 0===t&&1/t==-1/0}function K7(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ta(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Y7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class gt{constructor(e,n){this.comparator=e,this.root=n||$n.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$n.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bv(this.root,e,this.comparator,!0)}}class Bv{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $n{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??$n.RED,this.left=i??$n.EMPTY,this.right=o??$n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new $n(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return $n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw re();const e=this.left.check();if(e!==this.right.check())throw re();return e+(this.isRed()?0:1)}}$n.EMPTY=null,$n.RED=!0,$n.BLACK=!1,$n.EMPTY=new class{constructor(){this.size=0}get key(){throw re()}get value(){throw re()}get color(){throw re()}get left(){throw re()}get right(){throw re()}copy(t,e,n,r,i){return this}insert(t,e,n){return new $n(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Q7(this.data.getIterator())}getIteratorFrom(e){return new Q7(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vt(this.comparator);return n.data=e,n}}class Q7{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Lr{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Lr([])}unionWith(e){let n=new vt(Qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Lr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class J7 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new J7("Invalid base64 string: "+i):i}}(e);return new gn(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new gn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const IIe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function na(t){if(oe(!!t),"string"==typeof t){let e=0;const n=IIe.exec(t);if(oe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Bt(t.seconds),nanos:Bt(t.nanos)}}function Bt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function cs(t){return"string"==typeof t?gn.fromBase64String(t):gn.fromUint8Array(t)}function Uv(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function jv(t){const e=t.mapValue.fields.__previous_value__;return Uv(e)?jv(e):e}function Cp(t){const e=na(t.mapValue.fields.__local_write_time__.timestampValue);return new Mt(e.seconds,e.nanos)}class CIe{constructor(e,n,r,i,o,s,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class Cc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Cc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Cc&&e.projectId===this.projectId&&e.database===this.database}}const ra={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ia(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Uv(t)?4:t8(t)?9007199254740991:10:re()}function yo(t,e){if(t===e)return!0;const n=ia(t);if(n!==ia(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cp(t).isEqual(Cp(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=na(r.timestampValue),s=na(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,cs(t.bytesValue).isEqual(cs(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Bt(r.geoPointValue.latitude)===Bt(i.geoPointValue.latitude)&&Bt(r.geoPointValue.longitude)===Bt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Bt(r.integerValue)===Bt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Bt(r.doubleValue),s=Bt(i.doubleValue);return o===s?Ip(o)===Ip(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return Fl(t.arrayValue.values||[],e.arrayValue.values||[],yo);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(K7(o)!==K7(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(void 0===s[a]||!yo(o[a],s[a])))return!1;return!0}(t,e);default:return re()}var i}function Tp(t,e){return void 0!==(t.values||[]).find(n=>yo(n,e))}function oa(t,e){if(t===e)return 0;const n=ia(t),r=ia(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(i,o){const s=Bt(i.integerValue||i.doubleValue),a=Bt(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return Z7(t.timestampValue,e.timestampValue);case 4:return Z7(Cp(t),Cp(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(i,o){const s=cs(i),a=cs(o);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let c=0;c<s.length&&c<a.length;c++){const u=he(s[c],a[c]);if(0!==u)return u}return he(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const s=he(Bt(i.latitude),Bt(o.latitude));return 0!==s?s:he(Bt(i.longitude),Bt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let c=0;c<s.length&&c<a.length;++c){const u=oa(s[c],a[c]);if(u)return u}return he(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===ra.mapValue&&o===ra.mapValue)return 0;if(i===ra.mapValue)return 1;if(o===ra.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),c=o.fields||{},u=Object.keys(c);a.sort(),u.sort();for(let l=0;l<a.length&&l<u.length;++l){const d=he(a[l],u[l]);if(0!==d)return d;const h=oa(s[a[l]],c[u[l]]);if(0!==h)return h}return he(a.length,u.length)}(t.mapValue,e.mapValue);default:throw re()}}function Z7(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return he(t,e);const n=na(t),r=na(e),i=he(n.seconds,r.seconds);return 0!==i?i:he(n.nanos,r.nanos)}function Vl(t){return qO(t)}function qO(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=na(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?cs(t.bytesValue).toBase64():"referenceValue"in t?J.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=qO(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${qO(r.fields[a])}`;return o+"}"}(t.mapValue):re();var e}function Tc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function WO(t){return!!t&&"integerValue"in t}function Ep(t){return!!t&&"arrayValue"in t}function X7(t){return!!t&&"nullValue"in t}function e8(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gv(t){return!!t&&"mapValue"in t}function Dp(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ta(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Dp(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Dp(t.arrayValue.values[n]);return e}return Object.assign({},t)}function t8(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dp(n)}setAll(e){let n=Qt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Dp(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Gv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Gv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ta(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Hn(Dp(this.value))}}function i8(t){const e=[];return ta(t.fields,(n,r)=>{const i=new Qt([n]);if(Gv(r)){const o=i8(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Lr(e)}class bt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new bt(e,0,se.min(),se.min(),se.min(),Hn.empty(),0)}static newFoundDocument(e,n,r,i){return new bt(e,1,n,se.min(),r,i,0)}static newNoDocument(e,n){return new bt(e,2,n,se.min(),se.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new bt(e,3,n,se.min(),se.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sa{constructor(e,n){this.position=e,this.inclusive=n}}function o8(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?J.comparator(J.fromName(s.referenceValue),n.key):oa(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function s8(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yo(t.position[n],e.position[n]))return!1;return!0}class Bl{constructor(e,n="asc"){this.field=e,this.dir=n}}function DIe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class a8{}class xe extends a8{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new SIe(e,n,r):"array-contains"===n?new NIe(e,r):"in"===n?new f8(e,r):"not-in"===n?new OIe(e,r):"array-contains-any"===n?new MIe(e,r):new xe(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new xIe(e,r):new AIe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(oa(n,this.value)):null!==n&&ia(this.value)===ia(n)&&this.matchesComparison(oa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class st extends a8{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new st(e,n)}matches(e){return Ul(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Ul(t){return"and"===t.op}function YO(t){return function c8(t){for(const e of t.filters)if(e instanceof st)return!1;return!0}(t)&&Ul(t)}function QO(t){if(t instanceof xe)return t.field.canonicalString()+t.op.toString()+Vl(t.value);if(YO(t))return t.filters.map(e=>QO(e)).join(",");{const e=t.filters.map(n=>QO(n)).join(",");return`${t.op}(${e})`}}function u8(t,e){return t instanceof xe?(n=t,(r=e)instanceof xe&&n.op===r.op&&n.field.isEqual(r.field)&&yo(n.value,r.value)):t instanceof st?function(n,r){return r instanceof st&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,o,s)=>i&&u8(o,r.filters[s]),!0)}(t,e):void re();var n,r}function d8(t){return t instanceof xe?function(e){return`${e.field.canonicalString()} ${e.op} ${Vl(e.value)}`}(t):t instanceof st?function(e){return e.op.toString()+" {"+e.getFilters().map(d8).join(" ,")+"}"}(t):"Filter"}class SIe extends xe{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class xIe extends xe{constructor(e,n){super(e,"in",n),this.keys=h8(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class AIe extends xe{constructor(e,n){super(e,"not-in",n),this.keys=h8(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function h8(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class NIe extends xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ep(n)&&Tp(n.arrayValue,this.value)}}class f8 extends xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Tp(this.value.arrayValue,n)}}class OIe extends xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Tp(this.value.arrayValue,n)}}class MIe extends xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ep(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Tp(this.value.arrayValue,r))}}class RIe{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function JO(t,e=null,n=[],r=[],i=null,o=null,s=null){return new RIe(t,e,n,r,i,o,s)}function Ec(t){const e=Z(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>QO(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),wp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vl(r)).join(",")),e.dt=n}return e.dt}function Sp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!DIe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!u8(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!s8(t.startAt,e.startAt)&&s8(t.endAt,e.endAt)}function zv(t){return J.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class us{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.wt=null,this._t=null}}function jl(t){return new us(t)}function _8(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function ZO(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Wv(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function XO(t){return null!==t.collectionGroup}function Dc(t){const e=Z(t);if(null===e.wt){e.wt=[];const n=Wv(e),r=ZO(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Bl(n)),e.wt.push(new Bl(Qt.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Bl(Qt.keyField(),o))}}}return e.wt}function _r(t){const e=Z(t);if(!e._t)if("F"===e.limitType)e._t=JO(e.path,e.collectionGroup,Dc(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of Dc(e))n.push(new Bl(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new sa(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new sa(e.startAt.position,e.startAt.inclusive):null;e._t=JO(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function eM(t,e){e.getFirstInequalityField(),Wv(t);const n=t.filters.concat([e]);return new us(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kv(t,e,n){return new us(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xp(t,e){return Sp(_r(t),_r(e))&&t.limitType===e.limitType}function y8(t){return`${Ec(_r(t))}|lt:${t.limitType}`}function tM(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>d8(r)).join(", ")}]`),wp(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vl(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vl(r)).join(",")),`Target(${n})`}(_r(t))}; limitType=${t.limitType})`}function Ap(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):J.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Dc(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,o,s){const a=o8(i,o,s);return i.inclusive?a<=0:a<0}(n.startAt,Dc(n),r)||n.endAt&&!function(i,o,s){const a=o8(i,o,s);return i.inclusive?a>=0:a>0}(n.endAt,Dc(n),r)));var n,r}function b8(t){return(e,n)=>{let r=!1;for(const i of Dc(t)){const o=kIe(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function kIe(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(i,o,s){const a=o.data.field(i),c=s.data.field(i);return null!==a&&null!==c?oa(a,c):re()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return re()}}class ls{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ta(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Y7(this.inner)}size(){return this.innerSize}}const PIe=new gt(J.comparator);function Vr(){return PIe}const w8=new gt(J.comparator);function Np(...t){let e=w8;for(const n of t)e=e.insert(n.key,n);return e}function I8(t){let e=w8;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function vo(){return Op()}function C8(){return Op()}function Op(){return new ls(t=>t.toString(),(t,e)=>t.isEqual(e))}const FIe=new gt(J.comparator),LIe=new vt(J.comparator);function be(...t){let e=LIe;for(const n of t)e=e.add(n);return e}const VIe=new vt(he);function T8(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ip(e)?"-0":e}}function E8(t){return{integerValue:""+t}}function D8(t,e){return function j7(t){return"number"==typeof t&&Number.isInteger(t)&&!Ip(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?E8(e):T8(t,e)}class Yv{constructor(){this._=void 0}}function BIe(t,e,n){return t instanceof $l?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Uv(i)&&(i=jv(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Sc?x8(t,e):t instanceof xc?A8(t,e):function(r,i){const o=S8(r,i),s=N8(o)+N8(r.gt);return WO(o)&&WO(r.gt)?E8(s):T8(r.serializer,s)}(t,e)}function UIe(t,e,n){return t instanceof Sc?x8(t,e):t instanceof xc?A8(t,e):n}function S8(t,e){return t instanceof Hl?WO(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class $l extends Yv{}class Sc extends Yv{constructor(e){super(),this.elements=e}}function x8(t,e){const n=O8(e);for(const r of t.elements)n.some(i=>yo(i,r))||n.push(r);return{arrayValue:{values:n}}}class xc extends Yv{constructor(e){super(),this.elements=e}}function A8(t,e){let n=O8(e);for(const r of t.elements)n=n.filter(i=>!yo(i,r));return{arrayValue:{values:n}}}class Hl extends Yv{constructor(e,n){super(),this.serializer=e,this.gt=n}}function N8(t){return Bt(t.integerValue||t.doubleValue)}function O8(t){return Ep(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Mp{constructor(e,n){this.field=e,this.transform=n}}class $Ie{constructor(e,n){this.version=e,this.transformResults=n}}class Et{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Et}static exists(e){return new Et(void 0,e)}static updateTime(e){return new Et(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qv(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Jv{}function M8(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new zl(t.key,Et.none()):new Gl(t.key,t.data,Et.none());{const n=t.data,r=Hn.empty();let i=new vt(Qt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new ds(t.key,r,new Lr(i.toArray()),Et.none())}}function HIe(t,e,n){t instanceof Gl?function(r,i,o){const s=r.value.clone(),a=P8(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof ds?function(r,i,o){if(!Qv(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=P8(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(k8(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Rp(t,e,n,r){return t instanceof Gl?function(i,o,s,a){if(!Qv(i.precondition,o))return s;const c=i.value.clone(),u=F8(i.fieldTransforms,a,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ds?function(i,o,s,a){if(!Qv(i.precondition,o))return s;const c=F8(i.fieldTransforms,a,o),u=o.data;return u.setAll(k8(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null===s?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(s=n,Qv(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function GIe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=S8(r.transform,i||null);null!=o&&(null===n&&(n=Hn.empty()),n.set(r.field,o))}return n||null}function R8(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Fl(n,r,(i,o)=>function jIe(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Sc&&r instanceof Sc||n instanceof xc&&r instanceof xc?Fl(n.elements,r.elements,yo):n instanceof Hl&&r instanceof Hl?yo(n.gt,r.gt):n instanceof $l&&r instanceof $l);var n,r}(i,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Gl extends Jv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ds extends Jv{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function k8(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function P8(t,e,n){const r=new Map;oe(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,UIe(s,a,n[i]))}return r}function F8(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,BIe(o,s,e))}return r}class zl extends Jv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rM extends Jv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class iM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&HIe(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Rp(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Rp(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=C8();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const c=M8(s,a);null!==c&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&Fl(this.mutations,e.mutations,(n,r)=>R8(n,r))&&Fl(this.baseMutations,e.baseMutations,(n,r)=>R8(n,r))}}class oM{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){oe(e.mutations.length===r.length);let i=FIe;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new oM(e,n,r,i)}}class sM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qIe{constructor(e,n){this.count=e,this.unchangedNames=n}}var on,Pe;function V8(t){if(void 0===t)return Yt("GRPC error has no .code"),N.UNKNOWN;switch(t){case on.OK:return N.OK;case on.CANCELLED:return N.CANCELLED;case on.UNKNOWN:return N.UNKNOWN;case on.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case on.INTERNAL:return N.INTERNAL;case on.UNAVAILABLE:return N.UNAVAILABLE;case on.UNAUTHENTICATED:return N.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case on.NOT_FOUND:return N.NOT_FOUND;case on.ALREADY_EXISTS:return N.ALREADY_EXISTS;case on.PERMISSION_DENIED:return N.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case on.ABORTED:return N.ABORTED;case on.OUT_OF_RANGE:return N.OUT_OF_RANGE;case on.UNIMPLEMENTED:return N.UNIMPLEMENTED;case on.DATA_LOSS:return N.DATA_LOSS;default:return re()}}(Pe=on||(on={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";class aM{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Zv}static getOrCreateInstance(){return null===Zv&&(Zv=new aM),Zv}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Zv=null;const WIe=new kl([4294967295,4294967295],0);function U8(t){const e=function B8(){return new TextEncoder}().encode(t),n=new $we;return n.update(e),new Uint8Array(n.digest())}function j8(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new kl([n,r],0),new kl([i,o],0)]}class cM{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new kp(`Invalid padding: ${n}`);if(r<0)throw new kp(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new kp(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new kp(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=kl.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(kl.fromNumber(r)));return 1===i.compare(WIe)&&(i=new kl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=U8(e),[r,i]=j8(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);if(!this.At(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new cM(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.It)return;const n=U8(e),[r,i]=j8(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);this.Rt(s)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class kp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Pp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Fp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Pp(se.min(),i,new gt(he),Vr(),be())}}class Fp{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Fp(r,n,be(),be(),be())}}class Xv{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class $8{constructor(e,n){this.targetId=e,this.Vt=n}}class H8{constructor(e,n,r=gn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class G8{constructor(){this.St=0,this.Dt=q8(),this.Ct=gn.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=be(),n=be(),r=be();return this.Dt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:re()}}),new Fp(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=q8()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class KIe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Vr(),this.zt=z8(),this.Wt=new gt(he)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,o=this.se(r);if(o){const s=o.target;if(zv(s))if(0===i){const a=new J(s.path);this.Yt(r,a,bt.newNoDocument(a,se.min()))}else oe(1===i);else{const a=this.ie(r);if(a!==i){const c=this.re(e,a);0!==c&&(this.ee(r),this.Wt=this.Wt.insert(r,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=aM.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(u,l,d){var h,f,_,y,v,T;const w={localCacheCount:l,existenceFilterCount:d.count},M=d.unchangedNames;return M&&(w.bloomFilter={applied:0===u,hashCount:null!==(h=M?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(y=null===(_=null===(f=M?.bits)||void 0===f?void 0:f.bitmap)||void 0===_?void 0:_.length)&&void 0!==y?y:0,padding:null!==(T=null===(v=M?.bits)||void 0===v?void 0:v.padding)&&void 0!==T?T:0}),w}(c,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=r;let c,u;try{c=cs(o).toUint8Array()}catch(l){if(l instanceof J7)return Bi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{u=new cM(c,s,a)}catch(l){return Bi(l instanceof kp?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===u.It?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;n.vt(a)||(this.Yt(e,o,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&zv(a.target)){const c=new J(a.target.path);null!==this.jt.get(c)||this.ae(s,c)||this.Yt(s,c,bt.newNoDocument(c,e))}o.Mt&&(n.set(s,o.Ot()),o.Ft())}});let r=be();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const u=this.se(c);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const i=new Pp(e,n,this.Wt,this.jt,r);return this.jt=Vr(),this.zt=z8(),this.Wt=new gt(he),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new G8,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new vt(he),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||j("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new G8),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function z8(){return new gt(J.comparator)}function q8(){return new gt(J.comparator)}const YIe={asc:"ASCENDING",desc:"DESCENDING"},QIe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JIe={and:"AND",or:"OR"};class ZIe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function uM(t,e){return t.useProto3Json||wp(e)?e:{value:e}}function ql(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function W8(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function XIe(t,e){return ql(t,e.toTimestamp())}function Jt(t){return oe(!!t),se.fromTimestamp(function(e){const n=na(e);return new Mt(n.seconds,n.nanos)}(t))}function lM(t,e){return(n=t,new ke(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function K8(t){const e=ke.fromString(t);return oe(rz(e)),e}function Lp(t,e){return lM(t.databaseId,e.path)}function bo(t,e){const n=K8(e);if(n.get(1)!==t.databaseId.projectId)throw new B(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(Q8(n))}function dM(t,e){return lM(t.databaseId,e)}function Vp(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Q8(t){return oe(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function J8(t,e,n){return{name:Lp(t,e),fields:n.value.mapValue.fields}}function X8(t,e){return{documents:[dM(t,e.path)]}}function fM(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=dM(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=dM(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return nz(st.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(0!==c.length)return c.map(u=>{return{field:aa((l=u).field),direction:iCe(l.dir)};var l})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=uM(t,e.limit);var a,c;return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),n}function ez(t){let e=function Y8(t){const e=K8(t);return 4===e.length?ke.emptyPath():Q8(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){oe(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=function(l){const d=tz(l);return d instanceof st&&YO(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(l=>{return new Bl(Wl((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,wp(d)?null:d}(n.limit));let c=null;var l;n.startAt&&(c=new sa((l=n.startAt).values||[],!!l.before));let u=null;return n.endAt&&(u=function(l){return new sa(l.values||[],!l.before)}(n.endAt)),function m8(t,e,n,r,i,o,s,a){return new us(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",c,u)}function tz(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Wl(e.unaryFilter.field);return xe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Wl(e.unaryFilter.field);return xe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Wl(e.unaryFilter.field);return xe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Wl(e.unaryFilter.field);return xe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return re()}}(t):void 0!==t.fieldFilter?function(e){return xe.create(Wl(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return re()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return st.create(e.compositeFilter.filters.map(n=>tz(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return re()}}(e.compositeFilter.op))}(t):re()}function iCe(t){return YIe[t]}function oCe(t){return QIe[t]}function sCe(t){return JIe[t]}function aa(t){return{fieldPath:t.canonicalString()}}function Wl(t){return Qt.fromServerFormat(t.fieldPath)}function nz(t){return t instanceof xe?function(e){if("=="===e.op){if(e8(e.value))return{unaryFilter:{field:aa(e.field),op:"IS_NAN"}};if(X7(e.value))return{unaryFilter:{field:aa(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(e8(e.value))return{unaryFilter:{field:aa(e.field),op:"IS_NOT_NAN"}};if(X7(e.value))return{unaryFilter:{field:aa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:aa(e.field),op:oCe(e.op),value:e.value}}}(t):t instanceof st?function(e){const n=e.getFilters().map(r=>nz(r));return 1===n.length?n[0]:{compositeFilter:{op:sCe(e.op),filters:n}}}(t):re()}function aCe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rz(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class hs{constructor(e,n,r,i,o=se.min(),s=se.min(),a=gn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class iz{constructor(e){this.fe=e}}function pM(t){const e=ez({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Kv(e,e.limit,"L"):e}class Mc{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Bt(e.integerValue));else if("doubleValue"in e){const r=Bt(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Ip(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(cs(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?t8(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):re()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),J.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Mc.Ve=new Mc;class mCe{constructor(){this.rn=new bM}addToCollectionParentIndex(e,n){return this.rn.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(ei.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(ei.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}}class bM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new vt(ke.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vt(ke.comparator)).toArray()}}new Uint8Array(0);class nr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new nr(e,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}nr.DEFAULT_COLLECTION_PERCENTILE=10,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nr.DEFAULT=new nr(41943040,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nr.DISABLED=new nr(-1,0,0);class kc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new kc(0)}static Mn(){return new kc(-1)}}class ICe{constructor(){this.changes=new ls(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ECe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Nz{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Rp(r.mutation,i,Lr.empty(),Mt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){const i=vo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Np();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=vo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Vr();const s=Op(),a=Op();return n.forEach((c,u)=>{const l=r.get(u.key);i.has(u.key)&&(void 0===l||l.mutation instanceof ds)?o=o.insert(u.key,u):void 0!==l?(s.set(u.key,l.mutation.getFieldMask()),Rp(l.mutation,u,l.mutation.getFieldMask(),Mt.now())):s.set(u.key,Lr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,l)=>s.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new ECe(l,null!==(d=s.get(u))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Op();let i=new gt((s,a)=>s-a),o=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(c=>{const u=n.get(c);if(null===u)return;let l=r.get(c)||Lr.empty();l=a.applyToLocalView(u,l),r.set(c,l);const d=(i.get(a.batchId)||be()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,l=c.value,d=C8();l.forEach(h=>{if(!o.has(h)){const f=M8(n.get(h),r.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return J.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):XO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):x.resolve(vo());let a=-1,c=o;return s.next(u=>x.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?x.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,be())).next(l=>({batchId:a,changes:I8(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=Np();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=Np();return this.indexManager.getCollectionParents(e,i).next(s=>x.forEach(s,a=>{const c=(u=n,l=a.child(i),new us(l,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt));var u,l;return this.getDocumentsMatchingCollectionQuery(e,c,r).next(u=>{u.forEach((l,d)=>{o=o.insert(l,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(o=>{i.forEach((a,c)=>{const u=c.getKey();null===o.get(u)&&(o=o.insert(u,bt.newInvalidDocument(u)))});let s=Np();return o.forEach((a,c)=>{const u=i.get(a);void 0!==u&&Rp(u.mutation,c,Lr.empty(),Mt.now()),Ap(n,c)&&(s=s.insert(a,c))}),s})}}class DCe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return x.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Jt(r.createTime)}),x.resolve()}getNamedQuery(e,n){return x.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:pM(r.bundledQuery),readTime:Jt(r.readTime)}),x.resolve();var r}}class SCe{constructor(){this.overlays=new gt(J.comparator),this.ls=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){const r=vo();return x.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.we(e,n,o)}),x.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){const i=vo(),o=n.length+1,s=new J(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new gt((u,l)=>u-l);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=o.get(u.largestBatchId);null===l&&(l=vo(),o=o.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}const a=vo(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return x.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new sM(n,r));let o=this.ls.get(n);void 0===o&&(o=be(),this.ls.set(n,o)),this.ls.set(n,o.add(r.key))}}class wM{constructor(){this.fs=new vt(Nn.ds),this.ws=new vt(Nn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Nn(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Nn(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new J(new ke([])),r=new Nn(n,e),i=new Nn(n,e+1),o=[];return this.ws.forEachInRange([r,i],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new J(new ke([])),r=new Nn(n,e),i=new Nn(n,e+1);let o=be();return this.ws.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Nn(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Nn{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return J.comparator(e.key,n.key)||he(e.As,n.As)}static _s(e,n){return he(e.As,n.As)||J.comparator(e.key,n.key)}}class xCe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new vt(Nn.ds)}checkEmpty(e){return x.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.vs;this.vs++;const s=new iM(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Rs=this.Rs.add(new Nn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,n){return x.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nn(n,0),i=new Nn(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],s=>{const a=this.Ps(s.As);o.push(a)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vt(he);return n.forEach(i=>{const o=new Nn(i,0),s=new Nn(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{r=r.add(a.As)})}),x.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;J.isDocumentKey(o)||(o=o.child(""));const s=new Nn(new J(o),0);let a=new vt(he);return this.Rs.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.As)),!0)},s),x.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){oe(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return x.forEach(n.mutations,i=>{const o=new Nn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Nn(n,0),i=this.Rs.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return x.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class ACe{constructor(e){this.Ds=e,this.docs=new gt(J.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():bt.newInvalidDocument(n))}getEntries(e,n){let r=Vr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():bt.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Vr();const s=n.path,a=new J(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:l}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||$O(V7(l),r)<=0||(i.has(l.key)||Ap(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,n,r,i){re()}Cs(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new NCe(this)}getSize(e){return x.resolve(this.size)}}class NCe extends ICe{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class OCe{constructor(e){this.persistence=e,this.xs=new ls(n=>Ec(n),Sp),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Ns=0,this.ks=new wM,this.targetCount=0,this.Ms=kc.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),x.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new kc(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Fn(n),x.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),x.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.ks.containsKey(n))}}class IM{constructor(e,n){this.$s={},this.overlays={},this.Os=new ti(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new OCe(this),this.indexManager=new mCe,this.remoteDocumentCache=new ACe(r=>this.referenceDelegate.Ls(r)),this.serializer=new iz(n),this.qs=new DCe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new SCe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new xCe(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);const i=new MCe(this.Os.next());return this.referenceDelegate.Us(),r(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(e,n){return x.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class MCe extends Xwe{constructor(e){super(),this.currentSequenceNumber=e}}class u0{constructor(e){this.persistence=e,this.Qs=new wM,this.js=null}static zs(e){return new u0(e)}get Ws(){if(this.js)return this.js;throw re()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),x.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Ws,r=>{const i=J.fromPath(r);return this.Hs(e,i).next(o=>{o||n.removeEntry(i,se.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return x.or([()=>x.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class DM{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=be(),i=be();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new DM(e,n.fromCache,r,i)}}class Mz{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(o=>o||this.Gi(e,n,i,r)).next(o=>o||this.Qi(e,n))}Ki(e,n){if(_8(n))return x.resolve(null);let r=_r(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Kv(n,null,"F"),r=_r(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=be(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ji(n,a);return this.zi(n,u,s,c.readTime)?this.Ki(e,Kv(n,null,"F")):this.Wi(e,u,n,c)}))})))}Gi(e,n,r,i){return _8(n)||i.isEqual(se.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(o=>{const s=this.ji(n,o);return this.zi(n,s,r,i)?this.Qi(e,n):(BO()<=Ae.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tM(n)),this.Wi(e,s,n,function L7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=se.fromTimestamp(1e9===r?new Mt(n+1,0):new Mt(n,r));return new ei(i,J.empty(),e)}(i,-1)))})}ji(e,n){let r=new vt(b8(e));return n.forEach((i,o)=>{Ap(e,o)&&(r=r.add(o))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(e,n){return BO()<=Ae.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",tM(n)),this.Ui.getDocumentsMatchingQuery(e,n,ei.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class kCe{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new gt(he),this.Yi=new ls(o=>Ec(o),Sp),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Nz(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function kz(t,e){return SM.apply(this,arguments)}function SM(){return SM=p(function*(t,e){const n=Z(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let c=be();for(const u of i){s.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}for(const u of o){a.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({er:u,removedBatchIds:s,addedBatchIds:a}))})})}),SM.apply(this,arguments)}function Pz(t){const e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function LCe(t,e){const n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Jl(t,e,n){return xM.apply(this,arguments)}function xM(){return xM=p(function*(t,e,n){const r=Z(t),i=r.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!ea(s))throw s;j("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),xM.apply(this,arguments)}function h0(t,e,n){const r=Z(t);let i=se.min(),o=be();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,c,u){const l=Z(a),d=l.Yi.get(u);return void 0!==d?x.resolve(l.Ji.get(d)):l.Bs.getTargetData(c,u)}(r,s,_r(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,e,n?i:se.min(),n?o:be())).next(a=>(function Bz(t,e,n){let r=t.Xi.get(e)||se.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Xi.set(e,r)}(r,function v8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:o})))}class RM{constructor(){this.activeTargetIds=function nM(){return VIe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $z{constructor(){this.Hr=new RM,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new RM,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class UCe{Yr(e){}shutdown(){}}class Hz{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let g0=null;function PM(){return null===g0?g0=268435456+Math.round(2147483648*Math.random()):g0++,"0x"+g0.toString(16)}const jCe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $Ce{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const rr="WebChannelConnection";class HCe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,o){const s=PM(),a=this.To(e,n);j("RestConnection",`Sending RPC '${e}' ${s}:`,a,r);const c={};return this.Eo(c,i,o),this.Ao(e,a,c,r).then(u=>(j("RestConnection",`Received RPC '${e}' ${s}: `,u),u),u=>{throw Bi("RestConnection",`RPC '${e}' ${s} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,o,s){return this.Io(e,n,r,i,o)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Pl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}To(e,n){return`${this.mo}/v1/${n}:${jCe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const o=PM();return new Promise((s,a)=>{const c=new jwe;c.setWithCredentials(!0),c.listenOnce(Vwe.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case VO.NO_ERROR:const l=c.getResponseJson();j(rr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case VO.TIMEOUT:j(rr,`RPC '${e}' ${o} timed out`),a(new B(N.DEADLINE_EXCEEDED,"Request time out"));break;case VO.HTTP_ERROR:const d=c.getStatus();if(j(rr,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const _=function(y){const v=y.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(v)>=0?v:N.UNKNOWN}(f.status);a(new B(_,f.message))}else a(new B(N.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new B(N.UNAVAILABLE,"Connection failed."));break;default:re()}}finally{j(rr,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);j(rr,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=PM(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Fwe(),a=Lwe(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new Uwe({})),this.Eo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const l=o.join("");j(rr,`Creating RPC '${e}' stream ${i}: ${l}`,c);const d=s.createWebChannel(l,c);let h=!1,f=!1;const _=new $Ce({ro:v=>{f?j(rr,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(j(rr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),j(rr,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},oo:()=>d.close()}),y=(v,T,w)=>{v.listen(T,M=>{try{w(M)}catch(F){setTimeout(()=>{throw F},0)}})};return y(d,kv.EventType.OPEN,()=>{f||j(rr,`RPC '${e}' stream ${i} transport opened.`)}),y(d,kv.EventType.CLOSE,()=>{f||(f=!0,j(rr,`RPC '${e}' stream ${i} transport closed`),_.wo())}),y(d,kv.EventType.ERROR,v=>{f||(f=!0,Bi(rr,`RPC '${e}' stream ${i} transport errored:`,v),_.wo(new B(N.UNAVAILABLE,"The operation could not be completed")))}),y(d,kv.EventType.MESSAGE,v=>{var T;if(!f){const w=v.data[0];oe(!!w);const F=w.error||(null===(T=w[0])||void 0===T?void 0:T.error);if(F){j(rr,`RPC '${e}' stream ${i} received error:`,F);const $=F.status;let Y=function(me){const Ue=on[me];if(void 0!==Ue)return V8(Ue)}($),ae=F.message;void 0===Y&&(Y=N.INTERNAL,ae="Unknown error status: "+$+" with message "+F.message),f=!0,_.wo(new B(Y,ae)),d.close()}else j(rr,`RPC '${e}' stream ${i} received:`,w),_._o(w)}}),y(a,Bwe.STAT_EVENT,v=>{v.stat===O7.PROXY?j(rr,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===O7.NOPROXY&&j(rr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.fo()},0),_}}function m0(){return typeof document<"u"?document:null}function Kp(t){return new ZIe(t,!0)}class FM{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class zz{constructor(e,n,r,i,o,s,a,c){this.ii=e,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new FM(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return p(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return p(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return p(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Yt(n.toString()),Yt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===N.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new B(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(p(function*(){e.state=0,e.start()}))}tu(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GCe extends zz{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function tCe(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:re(),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(oe(void 0===u||"string"==typeof u),gn.fromBase64String(u||"")):(oe(void 0===u||u instanceof Uint8Array),gn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=void 0===c.code?N.UNKNOWN:V8(c.code);return new B(u,c.message||"")}(s);n=new H8(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=bo(t,r.document.name),o=Jt(r.document.updateTime),s=r.document.createTime?Jt(r.document.createTime):se.min(),a=new Hn({mapValue:{fields:r.document.fields}}),c=bt.newFoundDocument(i,o,s,a);n=new Xv(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=bo(t,r.document),o=r.readTime?Jt(r.readTime):se.min(),s=bt.newNoDocument(i,o);n=new Xv([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=bo(t,r.document);n=new Xv([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return re();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new qIe(i,o);n=new $8(r.targetId,s)}}var c;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return se.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?se.min():o.readTime?Jt(o.readTime):se.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Vp(this.serializer),n.addTarget=function(i,o){let s;const a=o.target;if(s=zv(a)?{documents:X8(i,a)}:{query:fM(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=W8(i,o.resumeToken);const c=uM(i,o.expectedCount);null!==c&&(s.expectedCount=c)}else if(o.snapshotVersion.compareTo(se.min())>0){s.readTime=ql(i,o.snapshotVersion.toTimestamp());const c=uM(i,o.expectedCount);null!==c&&(s.expectedCount=c)}return s}(this.serializer,e);const r=function rCe(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Vp(this.serializer),n.removeTarget=e,this.Wo(n)}}class zCe extends zz{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function nCe(t,e){return t&&t.length>0?(oe(void 0!==e),t.map(n=>function(r,i){let o=Jt(r.updateTime?r.updateTime:i);return o.isEqual(se.min())&&(o=Jt(i)),new $Ie(o,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Jt(e.commitTime);return this.listener.cu(r,n)}return oe(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Vp(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Bp(t,e){let n;if(e instanceof Gl)n={update:J8(t,e.key,e.value)};else if(e instanceof zl)n={delete:Lp(t,e.key)};else if(e instanceof ds)n={update:J8(t,e.key,e.data),updateMask:aCe(e.fieldMask)};else{if(!(e instanceof rM))return re();n={verify:Lp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof $l)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Sc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof xc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Hl)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw re()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:XIe(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:re()),n;var i}(this.serializer,r))};this.Wo(n)}}class qCe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new B(N.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(e,n,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new B(N.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,n,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(N.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class KCe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Yt(n),this.mu=!1):j("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class YCe{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(a=>{r.enqueueAndForget(p(function*(){var c;da(s)&&(j("RemoteStore","Restarting streams for network reachability change."),yield(c=p(function*(u){const l=Z(u);l.vu.add(4),yield Zl(l),l.bu.set("Unknown"),l.vu.delete(4),yield Yp(l)}),function(u){return c.apply(this,arguments)})(s))}))}),this.bu=new KCe(r,i)}}function Yp(t){return VM.apply(this,arguments)}function VM(){return VM=p(function*(t){if(da(t))for(const e of t.Ru)yield e(!0)}),VM.apply(this,arguments)}function Zl(t){return BM.apply(this,arguments)}function BM(){return BM=p(function*(t){for(const e of t.Ru)yield e(!1)}),BM.apply(this,arguments)}function _0(t,e){const n=Z(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),$M(n)?jM(n):ed(n).Ko()&&UM(n,e))}function Qp(t,e){const n=Z(t),r=ed(n);n.Au.delete(e),r.Ko()&&qz(n,e),0===n.Au.size&&(r.Ko()?r.jo():da(n)&&n.bu.set("Unknown"))}function UM(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ed(t).su(e)}function qz(t,e){t.Vu.qt(e),ed(t).iu(e)}function jM(t){t.Vu=new KIe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),ed(t).start(),t.bu.gu()}function $M(t){return da(t)&&!ed(t).Uo()&&t.Au.size>0}function da(t){return 0===Z(t).vu.size}function Wz(t){t.Vu=void 0}function QCe(t){return HM.apply(this,arguments)}function HM(){return HM=p(function*(t){t.Au.forEach((e,n)=>{UM(t,e)})}),HM.apply(this,arguments)}function JCe(t,e){return GM.apply(this,arguments)}function GM(){return GM=p(function*(t,e){Wz(t),$M(t)?(t.bu.Iu(e),jM(t)):t.bu.set("Unknown")}),GM.apply(this,arguments)}function ZCe(t,e,n){return zM.apply(this,arguments)}function zM(){return zM=p(function*(t,e,n){if(t.bu.set("Online"),e instanceof H8&&2===e.state&&e.cause)try{yield(r=p(function*(i,o){const s=o.cause;for(const a of o.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,o){return r.apply(this,arguments)})(t,e)}catch(r){j("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield y0(t,r)}else if(e instanceof Xv?t.Vu.Ht(e):e instanceof $8?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(se.min()))try{const r=yield Pz(t.localStore);n.compareTo(r)>=0&&(yield function(i,o){const s=i.Vu.ce(o);return s.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(c);u&&i.Au.set(c,u.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,c)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(gn.EMPTY_BYTE_STRING,u.snapshotVersion)),qz(i,a);const l=new hs(u.target,a,c,u.sequenceNumber);UM(i,l)}),i.remoteSyncer.applyRemoteEvent(s)}(t,n))}catch(r){j("RemoteStore","Failed to raise snapshot:",r),yield y0(t,r)}var r}),zM.apply(this,arguments)}function y0(t,e,n){return qM.apply(this,arguments)}function qM(){return qM=p(function*(t,e,n){if(!ea(e))throw e;t.vu.add(1),yield Zl(t),t.bu.set("Offline"),n||(n=()=>Pz(t.localStore)),t.asyncQueue.enqueueRetryable(p(function*(){j("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Yp(t)}))}),qM.apply(this,arguments)}function Kz(t,e){return e().catch(n=>y0(t,n,e))}function Xl(t){return WM.apply(this,arguments)}function WM(){return WM=p(function*(t){const e=Z(t),n=ha(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;XCe(e);)try{const i=yield LCe(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,eTe(e,i)}catch(i){yield y0(e,i)}Yz(e)&&Qz(e)}),WM.apply(this,arguments)}function XCe(t){return da(t)&&t.Eu.length<10}function eTe(t,e){t.Eu.push(e);const n=ha(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Yz(t){return da(t)&&!ha(t).Uo()&&t.Eu.length>0}function Qz(t){ha(t).start()}function tTe(t){return KM.apply(this,arguments)}function KM(){return KM=p(function*(t){ha(t).hu()}),KM.apply(this,arguments)}function nTe(t){return YM.apply(this,arguments)}function YM(){return YM=p(function*(t){const e=ha(t);for(const n of t.Eu)e.uu(n.mutations)}),YM.apply(this,arguments)}function rTe(t,e,n){return QM.apply(this,arguments)}function QM(){return QM=p(function*(t,e,n){const r=t.Eu.shift(),i=oM.from(r,e,n);yield Kz(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Xl(t)}),QM.apply(this,arguments)}function iTe(t,e){return JM.apply(this,arguments)}function JM(){return JM=p(function*(t,e){var n;e&&ha(t).ou&&(yield(n=p(function*(r,i){if(function L8(t){switch(t){default:return re();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}(o=i.code)&&o!==N.ABORTED){const s=r.Eu.shift();ha(r).Qo(),yield Kz(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Xl(r)}var o}),function(r,i){return n.apply(this,arguments)})(t,e)),Yz(t)&&Qz(t)}),JM.apply(this,arguments)}function Jz(t,e){return ZM.apply(this,arguments)}function ZM(){return ZM=p(function*(t,e){const n=Z(t);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");const r=da(n);n.vu.add(3),yield Zl(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Yp(n)}),ZM.apply(this,arguments)}function eR(){return eR=p(function*(t,e){const n=Z(t);e?(n.vu.delete(2),yield Yp(n)):e||(n.vu.add(2),yield Zl(n),n.bu.set("Unknown"))}),eR.apply(this,arguments)}function ed(t){return t.Su||(t.Su=function(e,n,r){const i=Z(e);return i.fu(),new GCe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:QCe.bind(null,t),ao:JCe.bind(null,t),nu:ZCe.bind(null,t)}),t.Ru.push(function(){var e=p(function*(n){n?(t.Su.Qo(),$M(t)?jM(t):t.bu.set("Unknown")):(yield t.Su.stop(),Wz(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function ha(t){return t.Du||(t.Du=function(e,n,r){const i=Z(e);return i.fu(),new zCe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:tTe.bind(null,t),ao:iTe.bind(null,t),au:nTe.bind(null,t),cu:rTe.bind(null,t)}),t.Ru.push(function(){var e=p(function*(n){n?(t.Du.Qo(),yield Xl(t)):(yield t.Du.stop(),t.Eu.length>0&&(j("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class tR{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new tR(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new B(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function td(t,e){if(Yt("AsyncQueue",`${e}: ${t}`),ea(t))return new B(N.UNAVAILABLE,`${e}: ${t}`);throw t}class nd{constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=Np(),this.sortedSet=new gt(this.comparator)}static emptySet(e){return new nd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof nd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new nd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Zz{constructor(){this.Cu=new gt(J.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):re():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class rd{constructor(e,n,r,i,o,s,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new rd(e,n,nd.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class oTe{constructor(){this.Nu=void 0,this.listeners=[]}}class sTe{constructor(){this.queries=new ls(e=>y8(e),xp),this.onlineState="Unknown",this.ku=new Set}}function nR(t,e){return rR.apply(this,arguments)}function rR(){return rR=p(function*(t,e){const n=Z(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new oTe),i)try{o.Nu=yield n.onListen(r)}catch(s){const a=td(s,`Initialization of query '${tM(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Mu(n.onlineState),o.Nu&&e.$u(o.Nu)&&sR(n)}),rR.apply(this,arguments)}function iR(t,e){return oR.apply(this,arguments)}function oR(){return oR=p(function*(t,e){const n=Z(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),oR.apply(this,arguments)}function aTe(t,e){const n=Z(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.listeners)a.$u(i)&&(r=!0);s.Nu=i}}r&&sR(n)}function cTe(t,e,n){const r=Z(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function sR(t){t.ku.forEach(e=>{e.next()})}class aR{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new rd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=rd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class t9{constructor(e){this.key=e}}class n9{constructor(e){this.key=e}}class r9{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=be(),this.mutatedKeys=be(),this.tc=b8(e),this.ec=new nd(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Zz,i=n?n.ec:this.ec;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Ap(this.query,d)?d:null,_=!!h&&this.mutatedKeys.has(h.key),y=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;h&&f?h.data.isEqual(f.data)?_!==y&&(r.track({type:3,doc:f}),v=!0):this.rc(h,f)||(r.track({type:2,doc:f}),v=!0,(c&&this.tc(f,c)>0||u&&this.tc(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),v=!0):h&&!f&&(r.track({type:1,doc:h}),v=!0,(c||u)&&(a=!0)),v&&(f?(s=s.add(f),o=y?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const l="F"===this.query.limitType?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ec:s,ic:r,zi:a,mutatedKeys:o}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((u,l)=>function(d,h){const f=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re()}};return f(d)-f(h)}(u.type,l.type)||this.tc(u.doc,l.doc)),this.oc(r);const s=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,0!==o.length||c?{snapshot:new rd(this.query,e.ec,i,o,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Zz,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=be(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new n9(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new t9(r))}),n}hc(e){this.Yu=e.ir,this.Zu=be();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return rd.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class dTe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class hTe{constructor(e){this.key=e,this.fc=!1}}class fTe{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new ls(a=>y8(a),xp),this._c=new Map,this.mc=new Set,this.gc=new gt(J.comparator),this.yc=new Map,this.Ic=new wM,this.Tc={},this.Ec=new Map,this.Ac=kc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function pTe(t,e){return cR.apply(this,arguments)}function cR(){return cR=p(function*(t,e){const n=function OR(t){const e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=i9.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CTe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_Te.bind(null,e),e.dc.nu=aTe.bind(null,e.eventManager),e.dc.Pc=cTe.bind(null,e.eventManager),e}(t);let r,i;const o=n.wc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const s=yield function Ql(t,e){const n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):n.Bs.allocateTargetId(r).next(s=>(i=new hs(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,_r(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield function uR(t,e,n,r,i){return lR.apply(this,arguments)}(n,e,r,"current"===a,s.resumeToken),n.isPrimaryClient&&_0(n.remoteStore,s)}return i}),cR.apply(this,arguments)}function lR(){return lR=p(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(_=p(function*(y,v,T,w){let M=v.view.sc(T);M.zi&&(M=yield h0(y.localStore,v.query,!1).then(({documents:Y})=>v.view.sc(Y,M)));const F=w&&w.targetChanges.get(v.targetId),$=v.view.applyChanges(M,y.isPrimaryClient,F);return bR(y,v.targetId,$.cc),$.snapshot}),function(y,v,T,w){return _.apply(this,arguments)})(t,d,h,f);var _};const o=yield h0(t.localStore,e,!0),s=new r9(e,o.ir),a=s.sc(o.documents),c=Fp.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),u=s.applyChanges(a,t.isPrimaryClient,c);bR(t,n,u.cc);const l=new dTe(e,n,s);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}),lR.apply(this,arguments)}function gTe(t,e){return dR.apply(this,arguments)}function dR(){return dR=p(function*(t,e){const n=Z(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(o=>!xp(o,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Jl(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Qp(n.remoteStore,r.targetId),id(n,r.targetId)}).catch(Xs))):(id(n,r.targetId),yield Jl(n.localStore,r.targetId,!0))}),dR.apply(this,arguments)}function hR(){return hR=p(function*(t,e,n){const r=function MR(t){const e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yTe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vTe.bind(null,e),e}(t);try{const i=yield function(o,s){const a=Z(o),c=Mt.now(),u=s.reduce((h,f)=>h.add(f.key),be());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Vr(),_=be();return a.Zi.getEntries(h,u).next(y=>{f=y,f.forEach((v,T)=>{T.isValidDocument()||(_=_.add(v))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(y=>{l=y;const v=[];for(const T of s){const w=GIe(T,l.get(T.key).overlayedDocument);null!=w&&v.push(new ds(T.key,w,i8(w.value.mapValue),Et.exists(!0)))}return a.mutationQueue.addMutationBatch(h,c,v,s)}).next(y=>{d=y;const v=y.applyToLocalDocumentSet(l,_);return a.documentOverlayCache.saveOverlays(h,y.batchId,v)})}).then(()=>({batchId:d.batchId,changes:I8(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let c=o.Tc[o.currentUser.toKey()];c||(c=new gt(he)),c=c.insert(s,a),o.Tc[o.currentUser.toKey()]=c}(r,i.batchId,n),yield fs(r,i.changes),yield Xl(r.remoteStore)}catch(i){const o=td(i,"Failed to persist write");n.reject(o)}}),hR.apply(this,arguments)}function i9(t,e){return fR.apply(this,arguments)}function fR(){return fR=p(function*(t,e){const n=Z(t);try{const r=yield function FCe(t,e){const n=Z(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(o,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(o,l.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var _,y,v;null!==e.targetMismatches.get(d)?f=f.withResumeToken(gn.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),y=f,v=l,(0===(_=h).resumeToken.approximateByteSize()||y.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(o,f))});let c=Vr(),u=be();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(function Fz(t,e,n){let r=be(),i=be();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Vr();return n.forEach((a,c)=>{const u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(se.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||0===c.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):j("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{nr:s,sr:i}})}(o,s,e.documentUpdates).next(l=>{c=l.nr,u=l.sr})),!r.isEqual(se.min())){const l=n.Bs.getLastRemoteSnapshotVersion(o).next(d=>n.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return x.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.Ji=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.yc.get(o);s&&(oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.fc=!0:i.modifiedDocuments.size>0?oe(s.fc):i.removedDocuments.size>0&&(oe(s.fc),s.fc=!1))}),yield fs(n,r,e)}catch(r){yield Xs(r)}}),fR.apply(this,arguments)}function o9(t,e,n){const r=Z(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=Z(o);a.onlineState=s;let c=!1;a.queries.forEach((u,l)=>{for(const d of l.listeners)d.Mu(s)&&(c=!0)}),c&&sR(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function _Te(t,e,n){return pR.apply(this,arguments)}function pR(){return pR=p(function*(t,e,n){const r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),o=i&&i.key;if(o){let s=new gt(J.comparator);s=s.insert(o,bt.newNoDocument(o,se.min()));const a=be().add(o),c=new Pp(se.min(),new Map,new gt(he),s,a);yield i9(r,c),r.gc=r.gc.remove(o),r.yc.delete(e),wR(r)}else yield Jl(r.localStore,e,!1).then(()=>id(r,e,n)).catch(Xs)}),pR.apply(this,arguments)}function yTe(t,e){return gR.apply(this,arguments)}function gR(){return gR=p(function*(t,e){const n=Z(t),r=e.batch.batchId;try{const i=yield function PCe(t,e){const n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,c,u){const l=c.batch,d=l.keys();let h=x.resolve();return d.forEach(f=>{h=h.next(()=>u.getEntry(a,f)).next(_=>{const y=c.docVersions.get(f);oe(null!==y),_.version.compareTo(y)<0&&(l.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),u.addEntry(_)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,l))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=be();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(a=a.add(s.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);vR(n,r,null),yR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield fs(n,i)}catch(i){yield Xs(i)}}),gR.apply(this,arguments)}function vTe(t,e,n){return mR.apply(this,arguments)}function mR(){return mR=p(function*(t,e,n){const r=Z(t);try{const i=yield function(o,s){const a=Z(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return a.mutationQueue.lookupMutationBatch(c,s).next(l=>(oe(null!==l),u=l.keys(),a.mutationQueue.removeMutationBatch(c,l))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,u,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>a.localDocuments.getDocuments(c,u))})}(r.localStore,e);vR(r,e,n),yR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield fs(r,i)}catch(i){yield Xs(i)}}),mR.apply(this,arguments)}function yR(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function vR(t,e,n){const r=Z(t);let i=r.Tc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function id(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||s9(t,r)})}function s9(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Qp(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),wR(t))}function bR(t,e,n){for(const r of n)r instanceof t9?(t.Ic.addReference(r.key,e),wTe(t,r)):r instanceof n9?(j("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||s9(t,r.key)):re()}function wTe(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(j("SyncEngine","New document in limbo: "+n),t.mc.add(r),wR(t))}function wR(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new J(ke.fromString(e)),r=t.Ac.next();t.yc.set(r,new hTe(n)),t.gc=t.gc.insert(n,r),_0(t.remoteStore,new hs(_r(jl(n.path)),r,"TargetPurposeLimboResolution",ti.ct))}}function fs(t,e,n){return IR.apply(this,arguments)}function IR(){return IR=p(function*(t,e,n){const r=Z(t),i=[],o=[],s=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,c)=>{s.push(r.Rc(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);const l=DM.Li(c.targetId,u);o.push(l)}}))}),yield Promise.all(s),r.dc.nu(i),yield(a=p(function*(c,u){const l=Z(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>x.forEach(u,h=>x.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>x.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!ea(d))throw d;j("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),y=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,y)}}}),function(c,u){return a.apply(this,arguments)})(r.localStore,o))}),IR.apply(this,arguments)}function ITe(t,e){return CR.apply(this,arguments)}function CR(){return CR=p(function*(t,e){const n=Z(t);if(!n.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());const r=yield kz(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(s=>{s.forEach(a=>{a.reject(new B(N.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield fs(n,r.er)}var i}),CR.apply(this,arguments)}function CTe(t,e){const n=Z(t),r=n.yc.get(e);if(r&&r.fc)return be().add(r.key);{let i=be();const o=n._c.get(e);if(!o)return i;for(const s of o){const a=n.wc.get(s);i=i.unionWith(a.view.nc)}return i}}class v0{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return p(function*(){n.serializer=Kp(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function Rz(t,e,n,r){return new kCe(t,e,n,r)}(this.persistence,new Mz,e.initialUser,this.serializer)}createPersistence(e){return new IM(u0.zs,this.serializer)}createSharedClientState(e){return new $z}terminate(){var e=this;return p(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class od{initialize(e,n){var r=this;return p(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>o9(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=ITe.bind(null,r.syncEngine),yield function XM(t,e){return eR.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new sTe}createDatastore(e){const n=Kp(e.databaseInfo.databaseId),r=new HCe(e.databaseInfo);return new qCe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>o9(this.syncEngine,a,0),s=Hz.D()?new Hz:new UCe,new YCe(n,r,i,o,s);var n,r,i,o,s}createSyncEngine(e,n){return function(r,i,o,s,a,c,u){const l=new fTe(r,i,o,s,a,c);return u&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=p(function*(n){const r=Z(n);j("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Zl(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class b0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Yt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class FTe{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xn.UNAUTHENTICATED,this.clientId=P7.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=p(function*(a){j("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(j("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return p(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(p(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=td(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function w0(t,e){return RR.apply(this,arguments)}function RR(){return RR=p(function*(t,e){t.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=p(function*(o){r.isEqual(o)||(yield kz(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),RR.apply(this,arguments)}function kR(t,e){return PR.apply(this,arguments)}function PR(){return PR=p(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function FR(t){return LR.apply(this,arguments)}(t);j("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>Jz(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>Jz(e.remoteStore,o)),t._onlineComponents=e}),PR.apply(this,arguments)}function LR(){return LR=p(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{yield w0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function h9(t){return"FirebaseError"===t.name?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Bi("Error using user provided cache. Falling back to memory cache: "+n),yield w0(t,new v0)}}else j("FirestoreClient","Using default OfflineComponentProvider"),yield w0(t,new v0);return t._offlineComponents}),LR.apply(this,arguments)}function I0(t){return VR.apply(this,arguments)}function VR(){return VR=p(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),yield kR(t,t._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),yield kR(t,new od))),t._onlineComponents}),VR.apply(this,arguments)}function sd(t){return UR.apply(this,arguments)}function UR(){return UR=p(function*(t){const e=yield I0(t),n=e.eventManager;return n.onListen=pTe.bind(null,e.syncEngine),n.onUnlisten=gTe.bind(null,e.syncEngine),n}),UR.apply(this,arguments)}function y9(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const v9=new Map;function jR(t,e,n){if(!n)throw new B(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function b9(t){if(!J.isDocumentKey(t))throw new B(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function w9(t){if(J.isDocumentKey(t))throw new B(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function T0(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":re()}function Ne(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=T0(t);throw new B(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class C9{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new B(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new B(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function zTe(t,e,n,r){if(!0===e&&!0===r)throw new B(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=y9(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new B(N.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new B(N.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new B(N.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C9({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new B(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new B(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C9(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Hwe;switch(n.type){case"firstParty":return new Wwe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new B(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=v9.get(e);n&&(j("ComponentProvider","Removing Datastore"),v9.delete(e),n.terminate())}(this),Promise.resolve()}}class Zt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}}class Gn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gn(this.firestore,e,this._query)}}class wo extends Gn{constructor(e,n,r){super(e,n,jl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new J(e))}withConverter(e){return new wo(this.firestore,e,this._path)}}function WTe(t,e,...n){if(t=fr(t),jR("collection","path",e),t instanceof Jp){const r=ke.fromString(e,...n);return w9(r),new wo(t,null,r)}{if(!(t instanceof Zt||t instanceof wo))throw new B(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return w9(r),new wo(t.firestore,null,r)}}function T9(t,e,...n){if(t=fr(t),1===arguments.length&&(e=P7.A()),jR("doc","path",e),t instanceof Jp){const r=ke.fromString(e,...n);return b9(r),new Zt(t,null,new J(r))}{if(!(t instanceof Zt||t instanceof wo))throw new B(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return b9(r),new Zt(t.firestore,t instanceof wo?t.converter:null,new J(r))}}class KTe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new FM(this,"async_queue_retry"),this.Xc=()=>{const n=m0();n&&j("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=m0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=m0();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new pn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return p(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!ea(n))throw n;j("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Yt("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=tR.createAndSchedule(this,e,n,r,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&re()}verifyOperationInProgress(){}sa(){var e=this;return p(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class wt extends Jp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new KTe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||D9(this),this._firestoreClient.terminate()}}function QTe(t,e){const r="string"==typeof t?t:e||"(default)",i=Oy("object"==typeof t?t:x$(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=Dy())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");o&&function qTe(t,e,n,r={}){var i;const o=(t=Ne(t,Jp))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Bi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=xn.MOCK_USER;else{a=function Qpe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ty(JSON.stringify({alg:"none",type:"JWT"})),Ty(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new B(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new xn(u)}t._authCredentials=new Gwe(new R7(a,c))}}(i,...o)}return i}function sn(t){return t._firestoreClient||D9(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function D9(t){var e,n,r;const i=t._freezeSettings(),o=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new CIe(t._databaseId,a,t._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,y9(u.experimentalLongPollingOptions),u.useFetchStreams));var a,u;t._firestoreClient=new FTe(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Fc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fc(gn.fromBase64String(e))}catch(n){throw new B(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fc(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ad{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new B(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xp{constructor(e){this._methodName=e}}class HR{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}const ZTe=/^__.*__$/;class XTe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gl(e,this.data,n,this.fieldTransforms)}}class A9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ds(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function N9(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re()}}class E0{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new E0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return S0(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(N9(this.ca)&&ZTe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class eEe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kp(e)}ya(e,n,r,i=!1){return new E0({ca:e,methodName:n,ga:r,path:Qt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cd(t){const e=t._freezeSettings(),n=Kp(t._databaseId);return new eEe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function GR(t,e,n,r,i,o={}){const s=t.ya(o.merge||o.mergeFields?2:0,e,n,i);qR("Data must be an object, but it was:",s,r);const a=P9(r,s);let c,u;if(o.merge)c=new Lr(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const l=[];for(const d of o.mergeFields){const h=tg(e,d,n);if(!s.contains(h))throw new B(N.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);L9(l,h)||l.push(h)}c=new Lr(l),u=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=s.fieldTransforms;return new XTe(new Hn(a),c,u)}class eg extends Xp{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof eg}}function O9(t,e,n){return new E0({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class tEe extends Xp{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=O9(this,e,!0),r=this.pa.map(o=>Lc(o,n)),i=new Sc(r);return new Mp(e.path,i)}isEqual(e){return this===e}}class nEe extends Xp{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=O9(this,e,!0),r=this.pa.map(o=>Lc(o,n)),i=new xc(r);return new Mp(e.path,i)}isEqual(e){return this===e}}function Lc(t,e){if(F9(t=fr(t)))return qR("Unsupported field value:",e,t),P9(t,e);if(t instanceof Xp)return function(n,r){if(!N9(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const s of n){let a=Lc(s,r.wa(o));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=fr(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return D8(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Mt.fromDate(n);return{timestampValue:ql(r.serializer,i)}}if(n instanceof Mt){const i=new Mt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ql(r.serializer,i)}}if(n instanceof HR)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Fc)return{bytesValue:W8(r.serializer,n._byteString)};if(n instanceof Zt){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:lM(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${T0(n)}`)}(t,e)}function P9(t,e){const n={};return Y7(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ta(t,(r,i)=>{const o=Lc(i,e.ha(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function F9(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Mt||t instanceof HR||t instanceof Fc||t instanceof Zt||t instanceof Xp)}function qR(t,e,n){if(!F9(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=T0(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function tg(t,e,n){if((e=fr(e))instanceof ad)return e._internalPath;if("string"==typeof e)return D0(t,e);throw S0("Field path arguments must be of type string or ",t,!1,void 0,n)}const iEe=new RegExp("[~\\*/\\[\\]]");function D0(t,e,n){if(e.search(iEe)>=0)throw S0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ad(...e.split("."))._internalPath}catch{throw S0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function S0(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new B(N.INVALID_ARGUMENT,a+t+c)}function L9(t,e){return t.some(n=>n.isEqual(e))}class WR{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new oEe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(x0("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class oEe extends WR{data(){return super.data()}}function x0(t,e){return"string"==typeof e?D0(t,e):e instanceof ad?e._internalPath:e._delegate._internalPath}class KR{}class sEe extends KR{}function aEe(t,e,...n){let r=[];e instanceof KR&&r.push(e),r=r.concat(n),function(i){const o=i.filter(a=>a instanceof ud).length,s=i.filter(a=>a instanceof ng).length;if(o>1||o>0&&s>0)throw new B(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ng extends sEe{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ng(e,n,r)}_apply(e){const n=this._parse(e);return $9(e._query,n),new Gn(e.firestore,e.converter,eM(e._query,n))}_parse(e){const n=cd(e.firestore);return function(i,o,s,a,c,u,l){let d;if(c.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new B(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){j9(l,u);const h=[];for(const f of l)h.push(U9(a,i,f));d={arrayValue:{values:h}}}else d=U9(a,i,l)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||j9(l,u),d=function k9(t,e,n,r=!1){return Lc(n,t.ya(r?4:3,e))}(s,"where",l,"in"===u||"not-in"===u);return xe.create(c,u,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function cEe(t,e,n){const r=e,i=x0("where",t);return ng._create(i,r,n)}class ud extends KR{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ud(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:st.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let o=r;const s=i.getFlattenedFilters();for(const a of s)$9(o,a),o=eM(o,a)}(e._query,n),new Gn(e.firestore,e.converter,eM(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function U9(t,e,n){if("string"==typeof(n=fr(n))){if(""===n)throw new B(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XO(e)&&-1!==n.indexOf("/"))throw new B(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ke.fromString(n));if(!J.isDocumentKey(r))throw new B(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Tc(t,new J(r))}if(n instanceof Zt)return Tc(t,n._key);throw new B(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${T0(n)}.`)}function j9(t,e){if(!Array.isArray(t)||0===t.length)throw new B(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $9(t,e){if(e.isInequality()){const r=Wv(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new B(N.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=ZO(t);null!==o&&function H9(t,e,n){if(!n.isEqual(e))throw new B(N.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,i,o)}const n=function(r,i){for(const o of r)for(const s of o.getFlattenedFilters())if(i.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new B(N.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class uEe{convertValue(e,n="none"){switch(ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ta(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new HR(Bt(e.latitude),Bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=jv(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cp(e));default:return null}}convertTimestamp(e){const n=na(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ke.fromString(e);oe(rz(r));const i=new Cc(r.get(1),r.get(3)),o=new J(r.popFirst(5));return i.isEqual(n)||Yt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function QR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Vc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ld extends WR{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new M0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(x0("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class M0 extends ld{data(e={}){return super.data(e)}}class dd{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new M0(this._firestore,this._userDataWriter,r.key,r,new Vc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>({type:"added",doc:new M0(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Vc(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||3!==s.type).map(s=>{const a=new M0(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Vc(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return 0!==s.type&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),1!==s.type&&(o=o.add(s.doc),u=o.indexOf(s.doc.key)),{type:dEe(s.type),doc:a,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function dEe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re()}}function hEe(t){t=Ne(t,Zt);const e=Ne(t.firestore,wt);return function m9(t,e,n={}){const r=new pn;return t.asyncQueue.enqueueAndForget(p(function*(){return function(i,o,s,a,c){const u=new b0({next:d=>{o.enqueueAndForget(()=>iR(i,l));const h=d.docs.has(s);!h&&d.fromCache?c.reject(new B(N.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?c.reject(new B(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),l=new aR(jl(s.path),u,{includeMetadataChanges:!0,Ku:!0});return nR(i,l)}(yield sd(t),t.asyncQueue,e,n,r)})),r.promise}(sn(e),t._key).then(n=>function JR(t,e,n){const r=n.docs.get(e._key),i=new fa(t);return new ld(t,i,e._key,r,new Vc(n.hasPendingWrites,n.fromCache),e.converter)}(e,t,n))}class fa extends uEe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,n)}}function fEe(t){t=Ne(t,Gn);const e=Ne(t.firestore,wt),n=sn(e),r=new fa(e);return function V9(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new B(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),function _9(t,e,n={}){const r=new pn;return t.asyncQueue.enqueueAndForget(p(function*(){return function(i,o,s,a,c){const u=new b0({next:d=>{o.enqueueAndForget(()=>iR(i,l)),d.fromCache&&"server"===a.source?c.reject(new B(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),l=new aR(s,u,{includeMetadataChanges:!0,Ku:!0});return nR(i,l)}(yield sd(t),t.asyncQueue,e,n,r)})),r.promise}(n,t._query).then(i=>new dd(e,r,t,i))}function pEe(t,e,n){t=Ne(t,Zt);const r=Ne(t.firestore,wt),i=QR(t.converter,e,n);return rg(r,[GR(cd(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Et.none())])}function gEe(t,e,n,...r){t=Ne(t,Zt);const i=Ne(t.firestore,wt),o=cd(i);let s;return s="string"==typeof(e=fr(e))||e instanceof ad?function R9(t,e,n,r,i,o){const s=t.ya(1,e,n),a=[tg(e,r,n)],c=[i];if(o.length%2!=0)throw new B(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(tg(e,o[h])),c.push(o[h+1]);const u=[],l=Hn.empty();for(let h=a.length-1;h>=0;--h)if(!L9(u,a[h])){const f=a[h];let _=c[h];_=fr(_);const y=s.da(f);if(_ instanceof eg)u.push(f);else{const v=Lc(_,y);null!=v&&(u.push(f),l.set(f,v))}}const d=new Lr(u);return new A9(l,d,s.fieldTransforms)}(o,"updateDoc",t._key,e,n,r):function M9(t,e,n,r){const i=t.ya(1,e,n);qR("Data must be an object, but it was:",i,r);const o=[],s=Hn.empty();ta(r,(c,u)=>{const l=D0(e,c,n);u=fr(u);const d=i.da(l);if(u instanceof eg)o.push(l);else{const h=Lc(u,d);null!=h&&(o.push(l),s.set(l,h))}});const a=new Lr(o);return new A9(s,a,i.fieldTransforms)}(o,"updateDoc",t._key,e),rg(i,[s.toMutation(t._key,Et.exists(!0))])}function mEe(t){return rg(Ne(t.firestore,wt),[new zl(t._key,Et.none())])}function _Ee(t,e){const n=Ne(t.firestore,wt),r=T9(t),i=QR(t.converter,e);return rg(n,[GR(cd(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Et.exists(!1))]).then(()=>r)}function rg(t,e){return function(n,r){const i=new pn;return n.asyncQueue.enqueueAndForget(p(function*(){return function mTe(t,e,n){return hR.apply(this,arguments)}(yield function BR(t){return I0(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(sn(t),e)}function AEe(...t){return new tEe("arrayUnion",t)}function NEe(...t){return new nEe("arrayRemove",t)}!function(t,e=!0){Pl=kf,pr(new Zn("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),s=new wt(new zwe(n.getProvider("auth-internal")),new Kwe(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new B(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cc(a.options.projectId,c)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),Kt(M7,"3.13.0",t),Kt(M7,"3.13.0","esm2017")}();class ni{constructor(e){return e}}const q9="firestore",ZR=new te("angularfire2.firestore-instances");function REe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ni(r)}}const kEe={provide:class OEe{constructor(){return Ix(q9)}},deps:[[new Er,ZR]]},PEe={provide:ni,useFactory:function MEe(t,e){const n=function wx(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(q9,t,e);return n&&new ni(n)},deps:[[new Er,ZR],Cl]};let FEe=(()=>{class t{constructor(){Kt("angularfire",fx.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ce({type:t}),t.\u0275inj=we({providers:[PEe,kEe]}),t})();function LEe(t,...e){return{ngModule:FEe,providers:[{provide:ZR,useFactory:REe(t),multi:!0,deps:[Te,en,$H,HH,[new Er,WG],[new Er,g6],...e]}]}}const W9=Pr(_Ee,!0),VEe=Pr(NEe,!0),BEe=Pr(AEe,!0),hd=Pr(WTe,!0),K9=Pr(mEe,!0),Io=Pr(T9,!0),XR=Pr(hEe,!0),k0=Pr(fEe,!0),UEe=Pr(QTe,!0),ek=Pr(aEe,!0),jEe=Pr(pEe,!0),ig=Pr(gEe,!0),tk=Pr(cEe,!0);let Co=(()=>{class t{constructor(n,r){this.firestore=n,this.router=r,this.userDataSubject=new wr(null),this.userData$=this.userDataSubject.asObservable();const i=localStorage.getItem("user");if(i){const o=JSON.parse(i);this.userDataSubject.next(o)}}registerUser(n,r,i){var o=this;return p(function*(){try{const s=yield o.createUserWithEmailAndPassword(n,r),a=s.user.uid;yield o.addAdditionalAuthData(a,i),yield o.saveUserData(s.user,i),o.router.navigate(["recipes-list"])}catch(s){o.handleError(s)}})()}loginUser(n,r){var i=this;return p(function*(){try{const o=yield i.signInWithEmailAndPassword(n,r),s=o.user.uid,a=yield i.getAdditionalAuthDataById(s);yield i.saveUserData(o.user,a),i.router.navigate(["recipes-list"])}catch(o){i.handleError(o)}})()}logoutUser(){var n=this;return p(function*(){try{yield n.signOutAuth(),yield n.clearUserData(),n.router.navigate(["login"])}catch(r){n.handleError(r)}})()}forgotPassword(n){var r=this;return p(function*(){try{yield r.sendPasswordResetEmail(n),window.alert("Password reset email sent, check your inbox."),r.router.navigate(["login"])}catch(i){r.handleError(i),window.alert(i)}})()}sendPasswordResetEmail(n){return function Whe(t,e,n){return aE.apply(this,arguments)}(Cy(),n)}createUserWithEmailAndPassword(n,r){return function Yhe(t,e,n){return hE.apply(this,arguments)}(Cy(),n,r)}signInWithEmailAndPassword(n,r){return function Qhe(t,e,n){return QT(Us(t),z5.credential(e,n)).catch(function(){var r=p(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&oE(t),i});return function(i){return r.apply(this,arguments)}}())}(Cy(),n,r)}signOutAuth(){return function sfe(t){return Us(t).signOut()}(Cy())}addAdditionalAuthData(n,r){return jEe(Io(this.firestore,"Auth",n),r)}getAdditionalAuthDataById(n){var r=this;return p(function*(){const i=Io(r.firestore,"Auth",n),o=yield XR(i);return o.exists()?o.data():null})()}saveUserData(n,r){return new Promise((i,o)=>{if(n&&r){const s={...n,...r};localStorage.setItem("user",JSON.stringify(s)),this.userDataSubject.next(s),i()}else localStorage.setItem("user","null"),this.userDataSubject.next(null),o()})}clearUserData(){return new Promise((n,r)=>{localStorage.removeItem("user"),this.userDataSubject.next(null),n()})}handleError(n){if(n instanceof Error){const i=n.message;console.error(`Error (${n.name}): ${i}`),alert(i)}else console.error("Unknown error:",n),alert(n)}static#e=this.\u0275fac=function(r){return new(r||t)(q(ni),q(Pt))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $Ee(t,e){1&t&&(g(0,"div",21),I(1," Email is required! "),m())}function HEe(t,e){1&t&&(g(0,"div",21),I(1," Please enter a valid email address! "),m())}function GEe(t,e){if(1&t&&(g(0,"div"),A(1,$Ee,2,0,"div",20),A(2,HEe,2,0,"div",20),m()),2&t){const n=k();let r,i;C(1),E("ngIf",null==(r=n.registerForm.get("email"))||null==r.errors?null:r.errors.required),C(1),E("ngIf",null==(i=n.registerForm.get("email"))||null==i.errors?null:i.errors.email)}}function zEe(t,e){1&t&&(g(0,"div",21),I(1," Password is required! "),m())}function qEe(t,e){1&t&&(g(0,"div",21),I(1," Password must be at least 6 characters long! "),m())}function WEe(t,e){if(1&t&&(g(0,"div"),A(1,zEe,2,0,"div",20),A(2,qEe,2,0,"div",20),m()),2&t){const n=k();let r,i;C(1),E("ngIf",null==(r=n.registerForm.get("password"))||null==r.errors?null:r.errors.required),C(1),E("ngIf",null==(i=n.registerForm.get("password"))||null==i.errors?null:i.errors.minlength)}}function KEe(t,e){1&t&&(g(0,"div",21),I(1," Repeat password is required! "),m())}function YEe(t,e){1&t&&(g(0,"div",21),I(1," Repeat password must be at least 6 characters long! "),m())}function QEe(t,e){if(1&t&&(g(0,"div"),A(1,KEe,2,0,"div",20),A(2,YEe,2,0,"div",20),m()),2&t){const n=k();let r,i;C(1),E("ngIf",null==(r=n.registerForm.get("repeatPassword"))||null==r.errors?null:r.errors.required),C(1),E("ngIf",null==(i=n.registerForm.get("repeatPassword"))||null==i.errors?null:i.errors.minlength)}}function JEe(t,e){1&t&&(g(0,"div",21),I(1," First name is required! "),m())}function ZEe(t,e){if(1&t&&(g(0,"div"),A(1,JEe,2,0,"div",20),m()),2&t){const n=k();let r;C(1),E("ngIf",null==(r=n.registerForm.get("firstName"))||null==r.errors?null:r.errors.required)}}function XEe(t,e){1&t&&(g(0,"div",21),I(1," Last name is required! "),m())}function eDe(t,e){if(1&t&&(g(0,"div"),A(1,XEe,2,0,"div",20),m()),2&t){const n=k();let r;C(1),E("ngIf",null==(r=n.registerForm.get("lastName"))||null==r.errors?null:r.errors.required)}}let tDe=(()=>{class t{constructor(n,r,i){this.userService=n,this.fb=r,this.router=i,this.registerForm=this.fb.group({email:["",[Be.required,Be.email]],password:["",[Be.required,Be.minLength(6)]],repeatPassword:["",Be.required],firstName:["",Be.required],lastName:["",Be.required],isActive:[!0,Be.required],isAdmin:[!1,Be.required]})}submitRegisterForm(){var n=this;return p(function*(){if(n.registerForm.valid){const{email:r,password:i,repeatPassword:o,...s}=n.registerForm.value;if(i!==o)return void alert("Password do not match!");try{yield n.userService.registerUser(r,i,s)}catch(a){alert(a)}}})()}static#e=this.\u0275fac=function(r){return new(r||t)(b(Co),b(gl),b(Pt))};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-register"]],decls:33,vars:6,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[3,"formGroup","ngSubmit"],[1,"title-wrapper"],[1,"title-form"],["for","email"],["type","email","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","new-password"],["for","repeatPassword"],["type","password","id","repeatPassword","formControlName","repeatPassword","autocomplete","new-password"],["for","firstName"],["type","text","id","firstName","formControlName","firstName"],["for","lastName"],["type","text","id","lastName","formControlName","lastName"],["type","submit",1,"button",2,"width","100%","margin-top","20px"],["href","#","routerLink","/login"],[1,"hint"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(g(0,"div",0),O(1,"div",1),g(2,"div",2)(3,"form",3),ne("ngSubmit",function(){return i.submitRegisterForm()}),g(4,"div",4)(5,"h1",5),I(6,"Registration"),m()(),g(7,"label",6),I(8,"Email:"),m(),O(9,"input",7),A(10,GEe,3,2,"div",8),g(11,"label",9),I(12,"Password:"),m(),O(13,"input",10),A(14,WEe,3,2,"div",8),g(15,"label",11),I(16,"Repeat password:"),m(),O(17,"input",12),A(18,QEe,3,2,"div",8),g(19,"label",13),I(20,"First name:"),m(),O(21,"input",14),A(22,ZEe,2,1,"div",8),g(23,"label",15),I(24,"Last Name:"),m(),O(25,"input",16),A(26,eDe,2,1,"div",8),g(27,"button",17),I(28," Submit "),m(),O(29,"hr"),g(30,"a",18)(31,"div",19),I(32,"Already registered?"),m()()()()()),2&r){let o,s,a,c,u;C(3),E("formGroup",i.registerForm),C(7),E("ngIf",(null==(o=i.registerForm.get("email"))?null:o.invalid)&&(null==(o=i.registerForm.get("email"))?null:o.touched)),C(4),E("ngIf",(null==(s=i.registerForm.get("password"))?null:s.invalid)&&(null==(s=i.registerForm.get("password"))?null:s.touched)),C(4),E("ngIf",(null==(a=i.registerForm.get("repeatPassword"))?null:a.invalid)&&(null==(a=i.registerForm.get("repeatPassword"))?null:a.touched)),C(4),E("ngIf",(null==(c=i.registerForm.get("firstName"))?null:c.invalid)&&(null==(c=i.registerForm.get("firstName"))?null:c.touched)),C(4),E("ngIf",(null==(u=i.registerForm.get("lastName"))?null:u.invalid)&&(null==(u=i.registerForm.get("lastName"))?null:u.touched))}},dependencies:[hn,Ya,zo,qa,Wa,qo,Vs,_i],styles:[".checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--mainBackgroundColor);border:none}}"]})}return t})();function nDe(t,e){1&t&&(g(0,"div",16),I(1," Email is required! "),m())}function rDe(t,e){1&t&&(g(0,"div",16),I(1," Invalid email! "),m())}function iDe(t,e){if(1&t&&(g(0,"div"),A(1,nDe,2,0,"div",17),A(2,rDe,2,0,"div",17),m()),2&t){const n=k();let r,i;C(1),E("ngIf",null==(r=n.logInForm.get("email"))||null==r.errors?null:r.errors.required),C(1),E("ngIf",null==(i=n.logInForm.get("email"))||null==i.errors?null:i.errors.email)}}function oDe(t,e){1&t&&(g(0,"div",16),I(1," Password is required! "),m())}function sDe(t,e){1&t&&(g(0,"div",16),I(1," Password must be at least 6 characters long! "),m())}function aDe(t,e){if(1&t&&(g(0,"div"),A(1,oDe,2,0,"div",17),A(2,sDe,2,0,"div",17),m()),2&t){const n=k();let r,i;C(1),E("ngIf",null==(r=n.logInForm.get("password"))||null==r.errors?null:r.errors.required),C(1),E("ngIf",null==(i=n.logInForm.get("password"))||null==i.errors?null:i.errors.minlength)}}function cDe(t,e){if(1&t&&(g(0,"div"),I(1),m()),2&t){const n=k();C(1),ht(n.loginError)}}let uDe=(()=>{class t{constructor(n,r,i,o){this.userService=n,this.fb=r,this.route=i,this.router=o,this.loginError=null,this.returnUrl=null,this.logInForm=this.fb.group({email:["",[Be.required,Be.email]],password:["",[Be.required,Be.minLength(6)]]})}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}submitLogInForm(){var n=this;return p(function*(){if(n.logInForm.valid){const{email:r,password:i}=n.logInForm.value;try{yield n.userService.loginUser(r,i);const o=n.returnUrl||"/category";yield n.router.navigateByUrl(o)}catch(o){console.log(o)}}})()}static#e=this.\u0275fac=function(r){return new(r||t)(b(Co),b(gl),b(ki),b(Pt))};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-login"]],decls:30,vars:4,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[3,"formGroup","ngSubmit"],[1,"title-wrapper"],[1,"title-form"],[1,"formGroup"],["for","email"],["type","text","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","current-password"],["type","submit",1,"button",2,"width","100%"],["href","#","routerLink","/register"],[1,"hint"],["href","#","routerLink","/forgot-password"],[1,"errors"],["class","errors",4,"ngIf"]],template:function(r,i){if(1&r&&(g(0,"div",0),O(1,"div",1),g(2,"div",2)(3,"form",3),ne("ngSubmit",function(){return i.submitLogInForm()}),g(4,"div",4)(5,"h1",5),I(6,"Login"),m()(),g(7,"div",6)(8,"label",7),I(9,"Email"),m(),O(10,"input",8),A(11,iDe,3,2,"div",9),m(),g(12,"div",6)(13,"label",10),I(14,"Password"),m(),O(15,"input",11),A(16,aDe,3,2,"div",9),m(),O(17,"br"),g(18,"div",6)(19,"button",12),I(20,"Submit"),m()(),A(21,cDe,2,1,"div",9),O(22,"hr"),g(23,"div")(24,"a",13)(25,"div",14),I(26,"Don't have a Registration yet?"),m()(),g(27,"a",15)(28,"div",16),I(29,"Forgot your password?"),m()()()()()()),2&r){let o,s;C(3),E("formGroup",i.logInForm),C(8),E("ngIf",(null==(o=i.logInForm.get("email"))?null:o.invalid)&&(null==(o=i.logInForm.get("email"))?null:o.touched)),C(5),E("ngIf",(null==(s=i.logInForm.get("password"))?null:s.invalid)&&(null==(s=i.logInForm.get("password"))?null:s.touched)),C(5),E("ngIf",i.loginError)}},dependencies:[hn,Ya,zo,qa,Wa,qo,Vs,_i],styles:["form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--mainBackgroundColor);border:none}}"]})}return t})(),lDe=(()=>{class t{constructor(n){this.userService=n}static#e=this.\u0275fac=function(r){return new(r||t)(b(Co))};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-forgot-password"]],decls:21,vars:0,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper",2,"flex-direction","column"],[1,"title-form"],[1,"title-form",2,"justify-content","flex-end"],[1,"hint"],[1,"formGroup"],["type","email","placeholder","Email","required","",1,"formControl"],["passwordResetEmail",""],[1,"errors"],[1,"buttons"],["type","submit","value","\u0418\u0437\u043f\u0440\u0430\u0442\u0438 \u0438\u043c\u0435\u0439\u043b",1,"button",3,"click"],["href","#","routerLink","/login"]],template:function(r,i){if(1&r){const o=tt();g(0,"div",0),O(1,"div",1),g(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),I(6,"Forgotten"),m()(),g(7,"h1",6),I(8,"password"),m(),g(9,"p",7),I(10," Please enter your email address so we can send you a password reset email. "),m(),g(11,"div",8),O(12,"input",9,10),m(),g(14,"p",11),I(15," If you can't find the email, please check your spam folder! "),m(),g(16,"div",12)(17,"input",13),ne("click",function(){Ye(o);const a=Ar(13);return Qe(i.userService.forgotPassword(a.value))}),m(),g(18,"a",14)(19,"div",7),I(20,"Return to Login"),m()()()()()()}},dependencies:[_i],styles:[".form-wrapper[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.wrapper[_ngcontent-%COMP%]{padding:0 5%;max-width:600px;margin:0 auto}"]})}return t})(),dDe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-carousel"]],decls:24,vars:0,consts:[["id","carouselExampleAutoplaying","data-bs-ride","carousel",1,"carousel","slide"],[1,"overlay"],[1,"info"],[1,"carousel-title"],[1,"subtitle"],["routerLink","/recipes-list",1,"infoBtn"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://www.aveeno.com/sites/aveeno_us_2/files/healingherbswithmortaran_687349.jpg","alt","...",1,"carousel-img","d-block","w-100"],[1,"carousel-item"],["src","https://imgix-prod.sgs.com/-/media/sgscorp/images/connectivity-and-products/aromatics-pexels.cdn.en-MU.1.jpg","alt","...",1,"carousel-img","d-block","w-100"],["src","https://images.pexels.com/photos/1793035/pexels-photo-1793035.jpeg","alt","...",1,"carousel-img","d-block","w-100"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),I(4,"Welcome to our Healing Herbal Recipe Community!"),m(),g(5,"div",4),I(6," Explore a wealth of new herbal recipes designed for healing right here. Upon registration, you'll gain access to not only adding your favorite healing recipes but also rating and commenting on the ones that resonate with you. Join us in nurturing wellness through the power of herbal remedies! "),m(),g(7,"a",5),I(8,"READ MORE"),m()()(),g(9,"div",6)(10,"div",7),O(11,"img",8),m(),g(12,"div",9),O(13,"img",10),m(),g(14,"div",9),O(15,"img",11),m()(),g(16,"button",12),O(17,"span",13),g(18,"span",14),I(19,"Previous"),m()(),g(20,"button",15),O(21,"span",16),g(22,"span",14),I(23,"Next"),m()()())},dependencies:[_i],styles:[".carousel[_ngcontent-%COMP%]{max-height:92vh;overflow:hidden}.carousel-img[_ngcontent-%COMP%]{height:100vh;object-fit:cover}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{z-index:9}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0 50% 0 0;background-color:#a7575e99;z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:47%;right:10%;top:40%;transform:translate(2%,-27%);color:var(--mainWhiteColor);text-align:left}.carousel-title[_ngcontent-%COMP%]{font-size:32px;padding-bottom:20px;font-weight:900;line-height:35px;color:var(--backgroundColor);text-align:left;box-shadow:unset}.subtitle[_ngcontent-%COMP%]{font-style:italic;color:var(--backgroundColor)}.infoBtn[_ngcontent-%COMP%]{background-color:var(--backgroundColor);color:var(--textColor);padding:13px 35px;font-size:14px;margin-top:40px;display:inline-block;font-weight:700;font-family:Roboto,sans-serif;border:1px solid transparent}.infoBtn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:transparent;border:1px solid var(--backgroundColor);color:var(--mainWhiteColor)}@media (max-width: 460px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#a7575e99;z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.infoBtn[_ngcontent-%COMP%]{margin-top:10px}.carousel-title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900;text-align:center}}@media (min-width: 461px) and (max-width: 767px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#a7575e99;z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.infoBtn[_ngcontent-%COMP%]{margin-top:10px}.carousel-title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900}}@media (min-width: 768px) and (max-width: 1023px){.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor)}}"]})}return t})(),Y9=(()=>{class t{constructor(n,r){this.firestore=n,this.router=r}getRecipes(){const r=hd(this.firestore,"Recipe");return new je(i=>{k0(r).then(o=>{const s=[];o.forEach(a=>{const u={...a.data(),id:a.id};s.push(u)}),i.next(s),i.complete()}).catch(o=>{i.error(o)})})}getRecipeByUID(n){var r=this;return p(function*(){try{const i=hd(r.firestore,"Recipe"),o=ek(i,tk("uid","==",n)),s=yield k0(o),a=[];return s.forEach(c=>{const l={...c.data(),id:c.id};a.push(l)}),a}catch(i){return console.error("Error retrieving recipes:",i),[]}})()}static#e=this.\u0275fac=function(r){return new(r||t)(q(ni),q(Pt))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const hDe=function(t){return["/recipe",t]};function fDe(t,e){if(1&t&&(g(0,"div")(1,"a",7)(2,"div",8)(3,"div",9),O(4,"img",10),m(),g(5,"p",11),I(6),m()()()()),2&t){const n=e.$implicit;C(1),E("routerLink",Fa(4,hDe,n.id)),C(3),_h("alt",n.title),E("src",n.image_recipe[0].image_recipe,Ds),C(2),ht(n.title)}}let pDe=(()=>{class t{constructor(n){this.recipeService=n,this.recipes=[]}ngOnInit(){this.getRecipes()}getRecipes(){this.recipeService.getRecipes().subscribe({next:n=>{this.recipes=n.sort((r,i)=>r.title.localeCompare(i.title))},error:n=>{console.error("Error fetching recipes:",n)}})}static#e=this.\u0275fac=function(r){return new(r||t)(b(Y9))};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-recipes-list"]],decls:8,vars:1,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper-list"],[1,"title-wrapper"],[1,"title"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"]],template:function(r,i){1&r&&(g(0,"main",0),O(1,"div",1),g(2,"div",2)(3,"div",3)(4,"h1",4),I(5,"Recipes"),m()(),g(6,"div",5),A(7,fDe,7,6,"div",6),m()()()),2&r&&(C(7),E("ngForOf",i.recipes))},dependencies:[dr,_i],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:20px;margin-bottom:100px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-title[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);background:var(--mainRGBAColor);background:rgba(167,87,94,.8);color:var(--backgroundColor);font-size:18px;font-weight:900;padding:0 5px;margin:0;text-align:center;width:100%;text-transform:uppercase;top:80%;height:30%;font-family:var(--titleFont);line-height:20px;font-family:Caveat,cursive;display:flex;align-items:center;justify-content:center;transition:top 1s ease-in-out}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;top:0%;height:30%;color:var(--textColor);background:var(--backgroundColor);transition:1s ease-in-out;box-shadow:1px 5px 15px #a7575e}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:16px;height:30%}}@media (min-width: 461px) and (max-width: 767px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:18px;height:30%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:18px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:18px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return t})();_l("firebase","10.8.1","app");const P0_firebaseConfig={apiKey:"AIzaSyCVbXDjBGUwaOrn1CZYGIwce1dYPKpR7PA",authDomain:"the-natural-way.firebaseapp.com",projectId:"the-natural-way",storageBucket:"the-natural-way.appspot.com",messagingSenderId:"778711637280",appId:"1:778711637280:web:30b52ea2a4e159578fcb45"},P0_cloudinaryConfig_cloudName="dsla98vyk",P0_cloudinaryConfig_uploadPreset="the_natural_way";c5(P0_firebaseConfig);let Q9=(()=>{class t{constructor(){this.cloudName=P0_cloudinaryConfig_cloudName,this.uploadPreset=P0_cloudinaryConfig_uploadPreset,this.imageUploaded=new P}ngOnInit(){this.myWidget=cloudinary.createUploadWidget({cloudName:this.cloudName,uploadPreset:this.uploadPreset,maxImageWidth:500},(n,r)=>{!n&&r&&"success"===r.event&&(console.log("Done! Here is the image info: ",r.info),this.onImagesUploaded(r.info.secure_url))})}onImagesUploaded(n){this.imageUploaded.emit(n)}openWidget(){this.myWidget.open()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-image-upload"]],outputs:{imageUploaded:"imageUploaded"},decls:4,vars:0,consts:[["id","upload_widget",1,"button-img",3,"click"],[1,"fa-solid","fa-plus","fa-beat-fade"]],template:function(r,i){1&r&&(g(0,"div")(1,"button",0),ne("click",function(){return i.openWidget()}),O(2,"i",1),I(3," Add images (optional) "),m()())}})}return t})();function _De(t,e){1&t&&(g(0,"div",24),I(1," Please fill in the title! "),m())}function yDe(t,e){if(1&t&&(g(0,"div"),A(1,_De,2,0,"div",23),m()),2&t){const n=k();let r;C(1),E("ngIf",null==(r=n.recipeForm.get("title"))||null==r.errors?null:r.errors.required)}}function vDe(t,e){1&t&&(g(0,"div",24),I(1," Please fill in a subtitle! "),m())}function bDe(t,e){if(1&t&&(g(0,"div"),A(1,vDe,2,0,"div",23),m()),2&t){const n=k();let r;C(1),E("ngIf",null==(r=n.recipeForm.get("subtitle"))||null==r.errors?null:r.errors.required)}}function wDe(t,e){1&t&&(g(0,"div",24),I(1," Please fill in the method of preparation! "),m())}function IDe(t,e){if(1&t&&(g(0,"div"),A(1,wDe,2,0,"div",23),m()),2&t){const n=k();let r;C(1),E("ngIf",null==(r=n.recipeForm.get("description"))||null==r.errors?null:r.errors.required)}}function CDe(t,e){if(1&t){const n=tt();g(0,"app-image-upload",25),ne("imageUploaded",function(i){return Ye(n),Qe(k().addImageToForm(i))}),m()}}function TDe(t,e){if(1&t&&O(0,"img",33),2&t){const n=k().index;let i;E("src",null==(i=k().image_recipe.controls[n].get("image_recipe"))?null:i.value,Ds)}}function EDe(t,e){if(1&t){const n=tt();g(0,"div",26)(1,"label",12),I(2,"Images:"),m(),g(3,"p",27),I(4,"Added image"),m(),g(5,"div",28),O(6,"input",29),g(7,"button",30),ne("click",function(){const o=Ye(n).index;return Qe(k().removeImage(o))}),O(8,"i",31),m()(),A(9,TDe,1,1,"img",32),O(10,"br")(11,"br"),m()}if(2&t){const n=e.index,r=k();let i;E("formGroupName",n),C(9),E("ngIf",null==(i=r.image_recipe.controls[n].get("image_recipe"))?null:i.value)}}function DDe(t,e){if(1&t){const n=tt();g(0,"div",26)(1,"label",12),I(2,"Video:"),m(),g(3,"p",27),I(4,"Add youtube video link here"),m(),g(5,"div",28),O(6,"input",34),g(7,"button",30),ne("click",function(){const o=Ye(n).index;return Qe(k().removeVideo(o))}),O(8,"i",31),m()()()}2&t&&E("formGroupName",e.index)}function SDe(t,e){1&t&&(g(0,"div",24),I(1," Please enter an ingredient name! "),m())}function xDe(t,e){if(1&t&&(g(0,"div"),A(1,SDe,2,0,"div",23),m()),2&t){const n=k().index,r=k();let i;C(1),E("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".name"))||null==i.errors?null:i.errors.required)}}function ADe(t,e){1&t&&(g(0,"div",24),I(1," Please fill in the quantity of the ingredient! "),m())}function NDe(t,e){if(1&t&&(g(0,"div"),A(1,ADe,2,0,"div",23),m()),2&t){const n=k().index,r=k();let i;C(1),E("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".amount"))||null==i.errors?null:i.errors.required)}}function ODe(t,e){1&t&&(g(0,"div",24),I(1," Please select a unit of measurement! "),m())}function MDe(t,e){if(1&t&&(g(0,"div"),A(1,ODe,2,0,"div",23),m()),2&t){const n=k().index,r=k();let i;C(1),E("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".unit"))||null==i.errors?null:i.errors.required)}}function RDe(t,e){if(1&t){const n=tt();g(0,"div",26)(1,"div",35)(2,"div",36),O(3,"hr"),g(4,"p"),I(5),m(),O(6,"hr"),m(),g(7,"button",37),ne("click",function(){const o=Ye(n).index;return Qe(k().removeIngredient(o))}),O(8,"i",31),m(),g(9,"label",38),I(10,"Name"),m(),O(11,"input",39),A(12,xDe,2,1,"div",8),g(13,"div",40)(14,"div",41)(15,"label",42),I(16,"Quantity"),m(),O(17,"input",43),m(),g(18,"div",44)(19,"label",45),I(20,"Unit\xa0*"),m(),g(21,"select",46)(22,"option",47),I(23,"Please Choose..."),m(),g(24,"option",48),I(25,"Tea spoon"),m(),g(26,"option",49),I(27,"Tablespoon"),m(),g(28,"option",50),I(29,"Tea cup"),m(),g(30,"option",51),I(31,"Coffee cup"),m(),g(32,"option",52),I(33,"Gram"),m(),g(34,"option",53),I(35,"Kilogram"),m(),g(36,"option",54),I(37,"Milliliter"),m(),g(38,"option",55),I(39,"Liter"),m(),g(40,"option",56),I(41,"Pieces"),m()()(),g(42,"div",57)(43,"label",58),I(44,"Order\xa0**"),m(),O(45,"input",59),m()(),g(46,"p",27),I(47,"* In which we measure the ingredient"),m(),g(48,"p",27),I(49," ** The order in which the ingredients appear in the recipe "),m(),A(50,NDe,2,1,"div",8),A(51,MDe,2,1,"div",8),m()()}if(2&t){const n=e.index,r=k();let i,o,s;E("formGroupName",n),C(5),Jn("\xa0\xa0Ingredient\xa0",n+1,"\xa0"),C(7),E("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".name"))?null:i.touched),C(38),E("ngIf",null==(o=r.recipeForm.get("ingredients."+n+".amount"))?null:o.touched),C(1),E("ngIf",null==(s=r.recipeForm.get("ingredients."+n+".unit"))?null:s.touched)}}let kDe=(()=>{class t{constructor(n,r,i,o,s,a){this.fb=r,this.router=i,this.userService=o,this.el=s,this.renderer=a,this.editorConfig={},this.fullName="",this.userData=null,this.currentOrderIndex=1,this.firestore=n,this.recipeForm=this.fb.group({is_active:[!1],title:["",[Be.required]],subtitle:["",[Be.required]],description:["",[Be.required]],summary:[""],author:[""],uid:[""],image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),likes:this.fb.array([]),ingredients:this.fb.array([this.fb.group({name:["",[Be.required]],amount:[null,[Be.required]],unit:["",[Be.required]],order_index:[0]})])}),this.userService.userData$.subscribe({next:c=>{c?this.userData=c:console.log(`Cant found user with this UID ${c.uid}`)},error:c=>{console.log(c)}})}ngOnInit(){this.editorConfig={content_style:"body { background-color: #f6f4f9; }",content_css:"default",base_url:"/tinymce",suffix:".min",menubar:!1,height:300,toolbar:"undo redo | formatselect | bold italic backcolor |           alignleft aligncenter alignright alignjustify |           bullist numlist outdent indent | removeformat "}}addImageToForm(n){this.recipeForm.get("image_recipe").push(this.fb.group({image_recipe:n}))}removeImage(n){this.recipeForm.get("image_recipe").removeAt(n)}addVideo(){this.recipeForm.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(n){this.recipeForm.get("video_recipe").removeAt(n)}addPreparation(){this.recipeForm.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(n){this.recipeForm.get("preparation_method").removeAt(n)}addIngredient(){this.recipeForm.get("ingredients").push(this.fb.group({name:["",[Be.required]],amount:[null,[Be.required]],unit:["",[Be.required]],order_index:this.currentOrderIndex})),this.currentOrderIndex++,console.log(this.currentOrderIndex)}removeIngredient(n){this.recipeForm.get("ingredients").removeAt(n)}get ingredients(){return this.recipeForm.get("ingredients")}get image_recipe(){return this.recipeForm.get("image_recipe")}get video_recipe(){return this.recipeForm.get("video_recipe")}get preparation_method(){return this.recipeForm.get("preparation_method")}onSubmit(){this.recipeForm.invalid?alert("The form is not valid. Please fill in all required fields."):(console.log(this.image_recipe),0===this.image_recipe.length&&this.addImageToForm("https://res.cloudinary.com/dsla98vyk/image/upload/v1710856403/no_image_u8yfwc.png"),this.recipeForm.patchValue({author:this.userData.firstName+" "+this.userData.lastName}),this.recipeForm.patchValue({uid:this.userData.uid}),this.addRecipe(this.recipeForm.value),this.recipeForm.reset())}addRecipe(n){W9(hd(this.firestore,"Recipe"),n).then(i=>{console.log("Document written with ID: ",i.id),this.router.navigate(["/recipe",i.id])}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||t)(b(ni),b(gl),b(Pt),b(Co),b(He),b(xr))};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-recipe-create"]],decls:45,vars:11,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[3,"formGroup"],[1,"title-wrapper"],[1,"title","add-recipe"],[1,"subtitle"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["type","text","id","subtitle","formControlName","subtitle"],["for","description"],["placeholder","Explain how to make your recipe ...","name","text","id","description","formControlName","description","cols","30","rows","5"],["for","summary"],["placeholder","Add any helpful tips about ingredient substitutions or storage here.","type","text","id","summary","formControlName","summary"],[1,"img-video"],[3,"imageUploaded",4,"ngIf"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["type","button",1,"button-img",3,"click"],[1,"fa-solid","fa-plus","fa-beat-fade"],["formArrayName","ingredients",1,"ingredients"],["type","button",1,"button",2,"width","100%",3,"click"],["class","errors",4,"ngIf"],[1,"errors"],[3,"imageUploaded"],[3,"formGroupName"],[1,"hint"],[1,"input-flex"],["type","text","id","image_recipe","formControlName","image_recipe"],["type","button",1,"removeInput",3,"click"],[1,"fa-solid","fa-xmark","fa-beat-fade"],["alt","Image Preview","class","image-preview",3,"src",4,"ngIf"],["alt","Image Preview",1,"image-preview",3,"src"],["type","text","id","video_recipe","formControlName","video_recipe","placeholder","Paste the video link here"],[1,"ingredient"],[1,"divider"],["type","button",1,"removeIngredient",3,"click"],["for","name"],["type","text","id","name","formControlName","name"],[1,"quantity-unit-index-wrapper"],[1,"quantity"],["for","amount"],["type","number","id","amount","formControlName","amount"],[1,"unit"],["for","ingredient_unit"],["id","ingredient_unit","formControlName","unit"],["value","","disabled","","selected","","hidden",""],["value","ts."],["value","tbs."],["value","tc."],["value","cc."],["value","gr."],["value","kg."],["value","ml."],["value","l."],["value","pieces"],[1,"order-index"],["for","ingredient_order_index"],["type","number","id","ingredient_order_index","formControlName","order_index"]],template:function(r,i){if(1&r&&(g(0,"div",0),O(1,"div",1),g(2,"div",2)(3,"form",3)(4,"div",4)(5,"h1",5),I(6,"Add a Recipe"),m()(),g(7,"h4",6),I(8," Uploading personal recipes is easy! Add yours to your favorites, share with friends, family, or the our community. "),m(),g(9,"label"),I(10,"Recipe Title "),m(),O(11,"input",7),A(12,yDe,2,1,"div",8),g(13,"label"),I(14,"Subtitle"),m(),O(15,"input",9),A(16,bDe,2,1,"div",8),g(17,"div")(18,"label",10),I(19,"Method of preparation"),m(),O(20,"textarea",11),m(),A(21,IDe,2,1,"div",8),g(22,"div")(23,"label",12),I(24,"Summary (optional)"),m(),O(25,"input",13),m(),g(26,"div",14),O(27,"br"),A(28,CDe,1,0,"app-image-upload",15),g(29,"div",16),A(30,EDe,12,2,"div",17),m(),g(31,"div",18),A(32,DDe,9,1,"div",17),g(33,"button",19),ne("click",function(){return i.addVideo()}),O(34,"i",20),I(35," Add a video link (optional) "),m()()(),g(36,"div",21),A(37,RDe,52,5,"div",17),m(),g(38,"button",19),ne("click",function(){return i.addIngredient()}),O(39,"i",20),I(40," Add one more ingredient "),m(),g(41,"button",22),ne("click",function(){return i.onSubmit()}),I(42," Submit Recipe "),m(),I(43),xs(44,"json"),m()()()),2&r){let o,s,a;C(3),E("formGroup",i.recipeForm),C(9),E("ngIf",null==(o=i.recipeForm.get("title"))?null:o.touched),C(4),E("ngIf",null==(s=i.recipeForm.get("subtitle"))?null:s.touched),C(5),E("ngIf",null==(a=i.recipeForm.get("description"))?null:a.touched),C(7),E("ngIf",0==i.image_recipe.length),C(2),E("ngForOf",i.image_recipe.controls),C(2),E("ngForOf",i.video_recipe.controls),C(5),E("ngForOf",i.ingredients.controls),C(6),Jn(" ",Xu(44,9,i.recipeForm.value)," ")}},dependencies:[dr,hn,Ya,RC,PC,zo,J_,df,qa,Wa,qo,Vs,uf,lf,Q9,a4],styles:['form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}.title-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding-bottom:10px}.add-recipe[_ngcontent-%COMP%]:before{background:linear-gradient(to bottom,transparent 35%,var(--textColor) 35%,var(--textColor) 65%,transparent 65%),linear-gradient(to right,transparent 35%,var(--textColor) 35%,var(--textColor) 65%,transparent 65%);content:"";width:25px;height:25px;align-content:center;flex-wrap:nowrap;flex-direction:row}.add-recipe[_ngcontent-%COMP%]{display:flex;box-shadow:inset 0 -24px 0 0 var(--mainYellowColor);padding-bottom:10px;font-weight:900;color:var(--mainBlackColor)}.subtitle[_ngcontent-%COMP%]{font: 400 16px/24px Source Sans Pro,sans-serif;letter-spacing:0;color:var(--mainBlackColor)}label[_ngcontent-%COMP%]{color:var(--mainBlackColor);font-weight:700}textarea[_ngcontent-%COMP%]::placeholder, input[_ngcontent-%COMP%]::placeholder{font-weight:700;font-style:italic;opacity:.5;color:var(--textColor)}.input-flex[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:unset}.input-flex[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:baseline;margin-bottom:20px}.ingredient[_ngcontent-%COMP%]{background-color:var(--aliceBlueColor);box-shadow:0 1px 3px #0000004d;padding:20px;margin-bottom:30px;position:relative}.removeIngredient[_ngcontent-%COMP%]{all:unset;color:red;cursor:pointer;margin-top:20px;text-align:right}.removeIngredient[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.removeIngredient[_ngcontent-%COMP%]{position:absolute;top:-5px;right:16px}.removeInput[_ngcontent-%COMP%]{all:unset;color:red;cursor:pointer;text-align:right}.removeInput[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.fa-xmark[_ngcontent-%COMP%]{color:var(--textColor);border-radius:50%;border:2px solid var(--textColor);padding:4px 6px}.fa-xmark[_ngcontent-%COMP%]:hover{background-color:var(--textColor);color:var(--backgroundColor);border-color:var(--backgroundColor);transition:1s ease-in-out}.quantity-unit-index-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;margin:20px 0;text-align:center;align-items:flex-end;gap:10px}.quantity[_ngcontent-%COMP%]{flex-basis:150px}.order-index[_ngcontent-%COMP%]{flex-basis:50px}.unit[_ngcontent-%COMP%]{flex-grow:5}.unit[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:var(--textColor);font-style:italic;font-size:14px;outline:none;height:45px}']})}return t})(),nk=(()=>{class t{constructor(n){this.firestore=n}getRecipeById(n){var r=this;return p(function*(){const i=Io(r.firestore,"Recipe",n),o=yield XR(i);return o.exists()?o.data():null})()}updateRecipeLikes(n,r,i){var o=this;return p(function*(){const a=Io(o.firestore,"Recipe",n);try{i?(console.log("remove"),yield ig(a,{likes:VEe(r)})):(console.log("add"),yield ig(a,{likes:BEe(r)})),console.log("Recipe likes updated successfully")}catch(c){console.error("Error updating recipe likes: ",c)}})()}deleteRecipe(n){var r=this;return p(function*(){try{const o=Io(r.firestore,"Recipe",n);yield K9(o),console.log("Recipe deleted successfully:",n)}catch(i){console.error("Error deleting recipe:",i)}})()}static#e=this.\u0275fac=function(r){return new(r||t)(q(ni))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),F0=(()=>{class t{constructor(n){this.firestore=n,this.commentAddedSubject=new Fe}getCommentsForRecipe(n){var r=this;return p(function*(){try{const i=hd(r.firestore,"Comments"),o=ek(i,tk("recipeId","==",n)),s=yield k0(o),a=[];return s.forEach(c=>{const u=c.data();a.push({create_time:u.create_time,name:u.name,recipeId:u.recipeId,text:u.text,uid:u.uid,id:c.id})}),a.sort((c,u)=>{const l=c.create_time.toDate();return u.create_time.toDate()-l}),a}catch(i){return console.error("Error retrieving comments:",i),[]}})()}getCommentsForUser(n){var r=this;return p(function*(){try{const i=hd(r.firestore,"Comments"),o=ek(i,tk("uid","==",n)),s=yield k0(o),a=[];return s.forEach(c=>{const u=c.data();a.push({create_time:u.create_time,name:u.name,recipeId:u.recipeId,text:u.text,uid:u.uid,id:c.id})}),a.sort((c,u)=>{const l=c.create_time.toDate();return u.create_time.toDate()-l}),a}catch(i){return console.error("Error retrieving comments:",i),[]}})()}addComment(n){var r=this;return p(function*(){try{const i="Comments",o=yield W9(hd(r.firestore,i),n);return r.commentAddedSubject.next(),o.id}catch(i){return console.error("Error adding comment:",i),null}})()}deleteComment(n){var r=this;return p(function*(){try{const o=Io(r.firestore,"Comments",n);yield K9(o),console.log("Comment deleted successfully:",n)}catch(i){console.error("Error deleting comment:",i)}})()}getCommentById(n){var r=this;return p(function*(){const i=Io(r.firestore,"Comments",n),o=yield XR(i);if(o.exists()){const s=o.data();return console.log(s.recipeId),o.data()}return null})()}editComment(n,r){var i=this;return p(function*(){try{const s=Io(i.firestore,"Comments",n);yield ig(s,r),console.log("Comment edited successfully:",n)}catch(o){console.error("Error editing comment:",o)}})()}getCommentAddedObservable(){return this.commentAddedSubject.asObservable()}static#e=this.\u0275fac=function(r){return new(r||t)(q(ni))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function PDe(t,e){1&t&&(g(0,"div",9),I(1," Please write your comment here! "),m())}function FDe(t,e){if(1&t&&(g(0,"div"),A(1,PDe,2,0,"div",8),m()),2&t){const n=k();let r;C(1),E("ngIf",null==(r=n.commentForm.get("text"))||null==r.errors?null:r.errors.required)}}let LDe=(()=>{class t{constructor(n,r,i,o){this.fb=n,this.commentService=i,this.userService=o,this.timestamp=new Date,this.fullName="",this.userData=null,this.firestore=r}ngOnInit(){this.commentForm=this.fb.group({name:[""],text:["",Be.required],recipeId:[this.recipeId],create_time:[this.timestamp],uid:[""]}),this.userService.userData$.subscribe({next:n=>{n?(this.userData=n,this.fullName=this.userData.firstName+" "+this.userData.lastName):this.fullName="Anonymous"},error:n=>{console.log(n)}})}onSubmit(){var n=this;return p(function*(){if(n.timestamp=new Date,n.commentForm.valid){n.commentForm.patchValue({name:n.fullName}),n.commentForm.patchValue({recipeId:n.recipeId}),n.commentForm.patchValue({create_time:n.timestamp}),n.commentForm.patchValue({uid:n.userData.uid});try{(yield n.commentService.addComment(n.commentForm.value))?(alert("You have successfully added your comment"),n.commentForm.reset()):console.error("Error adding comment.")}catch(r){console.error("An error occurred while submitting the comment:",r)}}})()}static#e=this.\u0275fac=function(r){return new(r||t)(b(gl),b(ni),b(F0),b(Co))};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-comment-form"]],inputs:{recipeId:"recipeId"},decls:15,vars:2,consts:[[1,"commentWrapper"],["id","commentForm",3,"formGroup","ngSubmit"],[1,"divider"],[1,"form-group"],["for","text"],["placeholder","Please write your comment here!","id","text","formControlName","text","rows","5","cols","30",1,"form-control"],[4,"ngIf"],["type","submit",1,"button",2,"width","100%"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(g(0,"div",0)(1,"form",1),ne("ngSubmit",function(){return i.onSubmit()}),g(2,"div",2),O(3,"hr"),g(4,"p"),I(5,"\xa0\xa0Comment\xa0\xa0"),m(),O(6,"hr"),m(),g(7,"div",3)(8,"label",4),I(9,"Comment (required)"),m(),O(10,"textarea",5),m(),A(11,FDe,2,1,"div",6),O(12,"br"),g(13,"button",7),I(14,"Submit"),m()()()),2&r){let o;C(1),E("formGroup",i.commentForm),C(10),E("ngIf",null==(o=i.commentForm.get("text"))?null:o.touched)}},dependencies:[hn,Ya,zo,qa,Wa,qo,Vs],styles:["form#commentForm[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:100%;border:unset}"]})}return t})(),J9=(()=>{class t{constructor(n){this.sanitizer=n}transform(n){let r;if(n.startsWith("https://m."))r=new URLSearchParams(n.split("?")[1]).get("v")||"";else{const o=n.split("/");r=o[o.length-1]}return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+r)}static#e=this.\u0275fac=function(r){return new(r||t)(b(O4,16))};static#t=this.\u0275pipe=Wn({name:"safeUrl",type:t,pure:!0})}return t})();function VDe(t,e){if(1&t&&(g(0,"div",19),I(1),m()),2&t){const n=k();C(1),Jn(" ",null==n.recipe?null:n.recipe.summary," ")}}function BDe(t,e){1&t&&(g(0,"div"),O(1,"br"),m())}function UDe(t,e){if(1&t&&(g(0,"li"),O(1,"img",22),m()),2&t){const n=e.$implicit;C(1),E("src",n.image_recipe,Ds)}}function jDe(t,e){if(1&t&&(g(0,"ul",20),A(1,UDe,2,1,"li",21),m()),2&t){const n=k();C(1),E("ngForOf",null==n.recipe?null:n.recipe.image_recipe)}}function $De(t,e){1&t&&(zm(0),O(1,"i",26),qm())}function HDe(t,e){1&t&&O(0,"i",27)}function GDe(t,e){if(1&t){const n=tt();g(0,"button",23),ne("click",function(){return Ye(n),Qe(k().updateRecipeLikes())}),A(1,$De,2,0,"ng-container",24),A(2,HDe,1,0,"ng-template",null,25,Or),m()}if(2&t){const n=Ar(3),r=k();C(1),E("ngIf",r.recipe&&r.recipe.likes&&r.recipe.likes.includes(null==r.userData?null:r.userData.uid))("ngIfElse",n)}}function zDe(t,e){if(1&t&&(g(0,"div")(1,"span"),I(2),m()()),2&t){const n=k();C(2),Jn("Like: ",null==n.recipe||null==n.recipe.likes?null:n.recipe.likes.length,"")}}function qDe(t,e){1&t&&(g(0,"div",12),O(1,"hr"),g(2,"p"),I(3,"\xa0\xa0Ingredients\xa0\xa0"),m(),O(4,"hr"),m())}function WDe(t,e){if(1&t&&(g(0,"li"),I(1),m()),2&t){const n=k().$implicit;C(1),Nw(" ",n.name," - ",n.amount," ",n.unit," ")}}function KDe(t,e){if(1&t&&(g(0,"ul",28),A(1,WDe,2,3,"li",8),m()),2&t){const n=k();C(1),E("ngIf",null==n.recipe?null:n.recipe.ingredients)}}function YDe(t,e){if(1&t&&(g(0,"li"),O(1,"iframe",30),xs(2,"safeUrl"),m()),2&t){const n=e.$implicit;C(1),E("src",Xu(2,1,n.video_recipe),wm)}}function QDe(t,e){if(1&t&&(g(0,"div",29)(1,"div",12),O(2,"hr"),g(3,"p"),I(4,"\xa0\xa0Video\xa0\xa0"),m(),O(5,"hr"),m(),O(6,"br"),g(7,"ul"),A(8,YDe,3,3,"li",21),m()()),2&t){const n=k();C(8),E("ngForOf",null==n.recipe?null:n.recipe.video_recipe)}}function JDe(t,e){1&t&&(g(0,"div",12),O(1,"hr"),g(2,"p"),I(3,"\xa0\xa0Buttons\xa0\xa0"),m(),O(4,"hr"),m())}function ZDe(t,e){if(1&t){const n=tt();g(0,"button",33),ne("click",function(){return Ye(n),Qe(k(2).toggleCommentForm())}),I(1," Would you like to comment? "),m()}}function XDe(t,e){if(1&t){const n=tt();g(0,"button",33),ne("click",function(){return Ye(n),Qe(k(2).toggleCommentForm())}),I(1," Hide comment form "),m()}}function eSe(t,e){if(1&t){const n=tt();g(0,"button",33),ne("click",function(){return Ye(n),Qe(k(2).navigateToRecipeEdit())}),I(1," Edit Recipe "),m()}}function tSe(t,e){if(1&t){const n=tt();g(0,"button",33),ne("click",function(){return Ye(n),Qe(k(2).navigateToRecipeDelete())}),I(1," Delete Recipe "),m()}}function nSe(t,e){if(1&t&&(g(0,"div",31),A(1,ZDe,2,0,"button",32),A(2,XDe,2,0,"button",32),A(3,eSe,2,0,"button",32),A(4,tSe,2,0,"button",32),m()),2&t){const n=k();C(1),E("ngIf",!n.showCommentForm),C(1),E("ngIf",n.showCommentForm),C(1),E("ngIf",n.userData.uid==(null==n.recipe?null:n.recipe.uid)),C(1),E("ngIf",n.userData.uid==(null==n.recipe?null:n.recipe.uid))}}function rSe(t,e){if(1&t&&(g(0,"div"),O(1,"app-comment-form",34),m()),2&t){const n=k();C(1),E("recipeId",n.recipeId)}}function iSe(t,e){1&t&&(g(0,"div",12),O(1,"hr"),g(2,"p"),I(3,"\xa0\xa0Comments\xa0\xa0"),m(),O(4,"hr"),m())}function oSe(t,e){if(1&t){const n=tt();g(0,"span",39),ne("click",function(){Ye(n);const i=k().$implicit;return Qe(k(2).deleteComment(i.id))}),O(1,"i",40),m()}}function sSe(t,e){if(1&t){const n=tt();g(0,"span",39),ne("click",function(){Ye(n);const i=k().$implicit;return Qe(k(2).navigateToCommentEdit(i.id))}),O(1,"i",41),m()}}function aSe(t,e){if(1&t&&(g(0,"ul")(1,"li"),I(2),m(),g(3,"li"),I(4),m(),g(5,"li",36)(6,"p"),I(7),xs(8,"date"),m(),g(9,"div",37),A(10,oSe,2,0,"span",38),A(11,sSe,2,0,"span",38),m()()()),2&t){const n=e.$implicit,r=k(2);C(2),ht(n.name),C(2),ht(n.text),C(3),Jn(" ",$w(8,5,n.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," "),C(3),E("ngIf",r.userData&&n.uid==r.userData.uid),C(1),E("ngIf",r.userData&&n.uid==r.userData.uid)}}function cSe(t,e){if(1&t&&(g(0,"section",35),A(1,aSe,12,8,"ul",21),m()),2&t){const n=k();C(1),E("ngForOf",n.comments)}}let uSe=(()=>{class t{constructor(n,r,i,o,s,a){var c=this;this.route=n,this.recipeService=r,this.commentService=i,this.userService=o,this.firestore=s,this.router=a,this.recipe=null,this.recipeId="",this.comments=[],this.showCommentForm=!1,this.route.paramMap.subscribe(function(){var u=p(function*(l){const d=l.get("id");c.recipeId=d});return function(l){return u.apply(this,arguments)}}()),i.getCommentAddedObservable().subscribe(()=>{console.log("Comment successfully added."),this.loadCommentsForRecipe()})}loadRecipeData(){var n=this;return p(function*(){if(n.recipeId)try{n.recipe=yield n.recipeService.getRecipeById(n.recipeId),n.comments=yield n.commentService.getCommentsForRecipe(n.recipeId),console.log("Recipe data loaded successfully.")}catch(r){console.error("An error occurred while loading recipe data:",r)}})()}navigateToRecipeEdit(){this.router.navigate(["/dashboard/recipe-edit",this.recipeId])}navigateToRecipeDelete(){this.router.navigate(["/dashboard/recipe-delete",this.recipeId])}ngOnInit(){this.loadRecipeData(),this.userService.userData$.subscribe(n=>{this.userData=n})}toggleCommentForm(){this.showCommentForm=!this.showCommentForm}navigateToCommentEdit(n){this.router.navigate(["/comment-edit",n])}deleteComment(n){this.commentService.deleteComment(n),this.loadCommentsForRecipe()}updateRecipeLikes(){var n=this;return p(function*(){if(!n.recipe)return void console.error("Recipe data is missing.");if(!n.userData.uid)return void console.error("User is not logged in.");let r=n.recipe.likes.includes(n.userData.uid);console.log(`alreadyLiked ${r}`),console.log(`likes len ${n.recipe.likes.length}`),yield n.recipeService.updateRecipeLikes(n.recipeId,n.userData.uid,r),yield n.loadRecipeData()})()}loadCommentsForRecipe(){var n=this;return p(function*(){n.recipeId&&(n.comments=yield n.commentService.getCommentsForRecipe(n.recipeId))})()}static#e=this.\u0275fac=function(r){return new(r||t)(b(ki),b(nk),b(F0),b(Co),b(ni),b(Pt))};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-recipe"]],decls:34,vars:16,consts:[[1,"mainLong"],[1,"headerImage"],[1,"wrapper-list"],[1,"recipe-container"],[1,"title-wrapper"],[1,"title"],[1,"recipe-subtitle"],["class","recipe-summary",4,"ngIf"],[4,"ngIf"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],["class","button",3,"click",4,"ngIf"],[1,"divider"],[1,"recipe-description-text","description"],["class","divider",4,"ngIf"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-videos",4,"ngIf"],["class","buttons",4,"ngIf"],["class","comments",4,"ngIf"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","Image of a recipe",3,"src"],[1,"button",3,"click"],[4,"ngIf","ngIfElse"],["notLiked",""],[1,"fa-solid","fa-heart","fa-beat-fade"],[1,"fa-regular","fa-heart","fa-beat-fade"],[1,"recipe-ingredients"],[1,"recipe-videos"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"],[1,"buttons"],["class","button-img",3,"click",4,"ngIf"],[1,"button-img",3,"click"],[3,"recipeId"],[1,"comments"],[1,"comments-last"],[1,"commentBtnWrapper"],[3,"click",4,"ngIf"],[3,"click"],[1,"fa-solid","fa-trash","fa-shake"],[1,"fa-regular","fa-pen-to-square","fa-flip"]],template:function(r,i){1&r&&(g(0,"div",0),O(1,"div",1),g(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),I(6),m()(),g(7,"h3",6),I(8),m(),A(9,VDe,2,1,"div",7),A(10,BDe,2,0,"div",8),g(11,"div",9),A(12,jDe,2,1,"ul",10),A(13,GDe,4,2,"button",11),A(14,zDe,3,1,"div",8),g(15,"div",12),O(16,"hr"),g(17,"p"),I(18,"\xa0\xa0Preparation\xa0\xa0"),m(),O(19,"hr"),m(),O(20,"br"),g(21,"p",13),I(22),m(),O(23,"br"),A(24,qDe,5,0,"div",14),O(25,"br"),A(26,KDe,2,1,"ul",15),A(27,QDe,9,1,"div",16),A(28,JDe,5,0,"div",14),O(29,"br"),A(30,nSe,5,4,"div",17),A(31,rSe,2,1,"div",8),A(32,iSe,5,0,"div",14),A(33,cSe,2,1,"section",18),m()()()()),2&r&&(C(6),ht(null==i.recipe?null:i.recipe.title),C(2),ht(null==i.recipe?null:i.recipe.subtitle),C(1),E("ngIf",null==i.recipe?null:i.recipe.summary),C(1),E("ngIf",!(null!=i.recipe&&i.recipe.summary)),C(2),E("ngIf",(null==i.recipe?null:i.recipe.image_recipe)&&(null==i.recipe||null==i.recipe.image_recipe?null:i.recipe.image_recipe.length)>0),C(1),E("ngIf",i.userData),C(1),E("ngIf",(null==i.recipe||null==i.recipe.likes?null:i.recipe.likes.length)>0),C(8),Jn(" ",null==i.recipe?null:i.recipe.description," "),C(2),E("ngIf",null==i.recipe?null:i.recipe.ingredients),C(2),E("ngForOf",null==i.recipe?null:i.recipe.ingredients),C(1),E("ngIf",(null==i.recipe?null:i.recipe.video_recipe)&&(null==i.recipe||null==i.recipe.video_recipe?null:i.recipe.video_recipe.length)>0),C(1),E("ngIf",i.userData),C(2),E("ngIf",i.userData),C(1),E("ngIf",i.showCommentForm),C(1),E("ngIf",i.comments.length>0),C(1),E("ngIf",i.comments.length>0))},dependencies:[dr,hn,LDe,kI,J9],styles:[".recipe-container[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:800px;margin:-50px auto 50px;padding:32px;box-shadow:0 1px 3px #0000004d}.title[_ngcontent-%COMP%]{font-size:28px;box-shadow:unset;color:var(--textColor);background:#e8e8e8;text-shadow:-1px -1px 1px rgba(255,255,255,.1),1px 1px 1px rgba(0,0,0,.5)}.recipe-subtitle[_ngcontent-%COMP%]{font-size:14px;margin-top:-10px;color:var(--mainGreyColor);font-style:italic;white-space:pre-wrap}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic;white-space:pre-wrap}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}ul.recipe-image[_ngcontent-%COMP%]{padding-left:unset}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.buttons[_ngcontent-%COMP%]{padding:0 32px;display:flex;justify-content:space-between}.comments[_ngcontent-%COMP%]{border:1px solid var(--borderColor);margin:30px 0;padding:20px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:10px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:5px}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--mainGreyColor)}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--backgroundColor);padding-left:5px;border-radius:5px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--mainMagnoliaColor);font-style:italic;border-radius:5px}.commentBtnWrapper[_ngcontent-%COMP%]{display:flex;gap:10px}.comments-last[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.fa-solid.fa-trash.fa-shake[_ngcontent-%COMP%], .fa-regular.fa-pen-to-square.fa-flip[_ngcontent-%COMP%]{cursor:pointer;color:var(----mainRGBAColor);background-color:var(--backgroundColor);padding:8px 10px;border:3px solid var(--mainRGBAColor);border-radius:50%;transition:1s ease-in-out}.fa-solid.fa-trash.fa-shake[_ngcontent-%COMP%]:hover, .fa-regular.fa-pen-to-square.fa-flip[_ngcontent-%COMP%]:hover{color:var(--backgroundColor);background-color:var(--mainRGBAColor);padding:8px 10px;border:3px solid var(--mainRGBAColor);border-radius:50%}"]})}return t})(),lSe=(()=>{class t{transform(n){return new Date(parseInt(n,10)).toLocaleString()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275pipe=Wn({name:"timestampFormat",type:t,pure:!0})}return t})(),dSe=(()=>{class t{constructor(n){this.userService=n}ngOnInit(){this.userService.userData$.subscribe(n=>{this.user=n})}static#e=this.\u0275fac=function(r){return new(r||t)(b(Co))};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-user-info"]],decls:35,vars:9,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],[1,"user-details"],[1,"detail"]],template:function(r,i){1&r&&(g(0,"div",0),O(1,"div",1),g(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),I(6,"Info"),m()(),g(7,"div",6)(8,"div",7)(9,"span"),I(10,"Email:"),m(),g(11,"span"),I(12),m()(),g(13,"div",7)(14,"span"),I(15,"First name:"),m(),g(16,"span"),I(17),m()(),g(18,"div",7)(19,"span"),I(20,"Last name:"),m(),g(21,"span"),I(22),m()(),g(23,"div",7)(24,"span"),I(25,"Created at:"),m(),g(26,"span"),I(27),xs(28,"timestampFormat"),m()(),g(29,"div",7)(30,"span"),I(31,"Last login:"),m(),g(32,"span"),I(33),xs(34,"timestampFormat"),m()()()()()()),2&r&&(C(12),ht(i.user.email),C(5),ht(i.user.firstName),C(5),ht(i.user.lastName),C(5),ht(Xu(28,5,i.user.metadata.createdAt)),C(6),ht(Xu(34,7,i.user.metadata.lastLoginAt)))},dependencies:[lSe],styles:[".wrapper[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}.form-wrapper[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}.nav-link[_ngcontent-%COMP%]{background-color:var(--textColor);border:1px solid var(--mainBlackColor)}.user-details[_ngcontent-%COMP%]{color:var(--textColor);display:flex;flex-direction:column;align-items:center;padding:20px;border:1px solid var(--borderColor);border-radius:8px}.detail[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;margin-bottom:10px}.detail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){margin-left:10px}.wrapper[_ngcontent-%COMP%]{padding:0 5%}"]})}return t})();function hSe(t,e){1&t&&(g(0,"div")(1,"main",2),O(2,"div",3),g(3,"div",4)(4,"div",5)(5,"div",6)(6,"h1",7),I(7,"You have no recipes!"),m()(),g(8,"button",8),I(9," Add your first recipe! "),m()()()()())}const fSe=function(t){return["/recipe",t]};function pSe(t,e){if(1&t&&(g(0,"div")(1,"a",14)(2,"div",15)(3,"div",16),O(4,"img",17),m(),g(5,"p",18),I(6),m()()()()),2&t){const n=e.$implicit;C(1),E("routerLink",Fa(4,fSe,n.id)),C(3),_h("alt",n.title),E("src",n.image_recipe[0].image_recipe,Ds),C(2),ht(n.title)}}function gSe(t,e){if(1&t&&(g(0,"main",9),O(1,"div",3),g(2,"div",10)(3,"div",6)(4,"h1",11),I(5),m()(),g(6,"div",12),A(7,pSe,7,6,"div",13),m()()()),2&t){const n=k();C(5),Jn(" Recipes by ",n.userData.firstName+" "+n.userData.lastName," "),C(2),E("ngForOf",n.recipes)}}let mSe=(()=>{class t{constructor(n,r,i){this.userService=n,this.firestore=r,this.recipeService=i,this.userData=null,this.recipes=[],this.emptyRecipes=!0}ngOnInit(){this.userService.userData$.subscribe({next:n=>{n?(this.userData=n,console.log(n.uid),this.loadRecipesByUID(n.uid),console.log(this.emptyRecipes)):console.log(`Cant found user with this UID ${n.uid}`)},error:n=>{console.log(n)}})}loadRecipesByUID(n){var r=this;return p(function*(){try{const i=yield r.recipeService.getRecipeByUID(n);console.log(i),r.recipes=i,i&&(r.emptyRecipes=!1)}catch(i){console.error("Error fetching recipes:",i)}})()}static#e=this.\u0275fac=function(r){return new(r||t)(b(Co),b(ni),b(Y9))};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-user-recipes"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["recipesList",""],[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[2,"max-width","600px","margin","-50px auto 50px auto","padding","32px","background-color","var(--backgroundColor)","border-radius","unset","box-shadow","0 1px 3px 0 rgba(0, 0, 0, 0.3)","display","flex","flex-direction","column","align-items","center"],[1,"title-wrapper"],[1,"title-form"],["routerLink","/dashboard/recipe-create",1,"button",2,"margin-top","50px"],[1,"main-long"],[1,"wrapper-list"],[1,"title"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"]],template:function(r,i){if(1&r&&(A(0,hSe,10,0,"div",0),A(1,gSe,8,2,"ng-template",null,1,Or)),2&r){const o=Ar(2);E("ngIf",0===i.recipes.length)("ngIfElse",o)}},dependencies:[dr,hn,_i],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:20px;margin-bottom:100px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-title[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);background:var(--mainRGBAColor);background:rgba(167,87,94,.8);color:var(--backgroundColor);font-size:18px;font-weight:900;padding:0 5px;margin:0;text-align:center;width:100%;text-transform:uppercase;top:80%;height:30%;font-family:var(--titleFont);line-height:20px;font-family:Caveat,cursive;display:flex;align-items:center;justify-content:center;transition:top 1s ease-in-out}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;top:0%;height:30%;color:var(--textColor);background:var(--backgroundColor);transition:1s ease-in-out;box-shadow:1px 5px 15px #a7575e}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 4% 0 2%;row-gap:30px}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:16px;height:30%}}@media (min-width: 461px) and (max-width: 767px){.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 80px 0 2%;row-gap:30px}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:18px;height:30%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);padding:0 10% 0 1%;column-gap:10px;row-gap:30px}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:18px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);padding:0 10% 0 1%;column-gap:10px;row-gap:30px}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:18px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return t})(),_Se=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-dashboard"]],decls:17,vars:0,consts:[[1,"nav","nav-tabs"],[1,"nav-item"],["aria-current","page","routerLink","/dashboard/user-recipes","href","#",1,"nav-link"],["aria-current","page","routerLink","/dashboard/recipe-create","href","#",1,"nav-link"],["aria-current","page","routerLink","/dashboard/user-info","href","#",1,"nav-link"],["aria-current","page","routerLink","/dashboard/user-comments","href","#",1,"nav-link"]],template:function(r,i){1&r&&(g(0,"ul",0)(1,"li",1)(2,"a",2),I(3,"My recipes"),m()(),g(4,"li",1)(5,"a",3),I(6,"Create recipe"),m()(),g(7,"li",1)(8,"a",4),I(9,"Favorite recipes"),m()(),g(10,"li",1)(11,"a",5),I(12,"My comments"),m()(),g(13,"li",1)(14,"a",4),I(15,"Profile"),m()()(),O(16,"router-outlet"))},dependencies:[R_,_i]})}return t})();function ySe(t,e){1&t&&(g(0,"div",31),I(1," Please fill in the title! "),m())}function vSe(t,e){if(1&t&&(g(0,"div"),A(1,ySe,2,0,"div",30),m()),2&t){const n=k();let r;C(1),E("ngIf",null==(r=n.recipeEdit.get("title"))||null==r.errors?null:r.errors.required)}}function bSe(t,e){1&t&&(g(0,"div",31),I(1," Please fill in a subtitle! "),m())}function wSe(t,e){if(1&t&&(g(0,"div"),A(1,bSe,2,0,"div",30),m()),2&t){const n=k();let r;C(1),E("ngIf",null==(r=n.recipeEdit.get("subtitle"))||null==r.errors?null:r.errors.required)}}function ISe(t,e){1&t&&(g(0,"div",31),I(1," Please fill in the method of preparation! "),m())}function CSe(t,e){if(1&t&&(g(0,"div"),A(1,ISe,2,0,"div",30),m()),2&t){const n=k();let r;C(1),E("ngIf",null==(r=n.recipeEdit.get("description"))||null==r.errors?null:r.errors.required)}}function TSe(t,e){if(1&t&&O(0,"img",38),2&t){const n=k().index;let i;E("src",null==(i=k().image_recipe.controls[n].get("image_recipe"))?null:i.value,Ds)}}function ESe(t,e){if(1&t){const n=tt();g(0,"div",32)(1,"p",13),I(2,"Added image"),m(),g(3,"label",33),I(4,"\u0421\u043d\u0438\u043c\u043a\u0430"),m(),O(5,"input",34),A(6,TSe,1,1,"img",35),g(7,"button",36),ne("click",function(){const o=Ye(n).index;return Qe(k().removeImage(o))}),O(8,"i",37),I(9,"\xa0Remove added image "),m()()}if(2&t){const n=e.index,r=k();let i;E("formGroupName",n),C(3),E("for","image_recipe"+n),C(2),E("id","image_recipe"+n),C(1),E("ngIf",null==(i=r.image_recipe.controls[n].get("image_recipe"))?null:i.value)}}function DSe(t,e){if(1&t&&(g(0,"div"),O(1,"iframe",40),xs(2,"safeUrl"),m()),2&t){const n=k().index,r=k();let i;C(1),E("src",Xu(2,1,null==(i=r.video_recipe.controls[n].get("video_recipe"))?null:i.value),wm)}}function SSe(t,e){if(1&t){const n=tt();g(0,"div",32)(1,"label",33),I(2,"Video"),m(),O(3,"input",39),A(4,DSe,3,3,"div",8),g(5,"button",36),ne("click",function(){const o=Ye(n).index;return Qe(k().removeVideo(o))}),O(6,"i",37),I(7,"\xa0Remove the video link "),m()()}if(2&t){const n=e.index,r=k();let i;E("formGroupName",n),C(1),E("for","video_recipe"+n),C(2),E("id","video_recipe"+n),C(1),E("ngIf",null==(i=r.video_recipe.controls[n].get("video_recipe"))?null:i.value)}}function xSe(t,e){1&t&&(g(0,"div",31),I(1," Please enter an ingredient name! "),m())}function ASe(t,e){if(1&t&&(g(0,"div"),A(1,xSe,2,0,"div",30),m()),2&t){const n=k().index,r=k();let i;C(1),E("ngIf",null==(i=r.recipeEdit.get("ingredients."+n+".name"))||null==i.errors?null:i.errors.required)}}function NSe(t,e){1&t&&(g(0,"div",31),I(1," Please fill in the quantity of the ingredient! "),m())}function OSe(t,e){if(1&t&&(g(0,"div"),A(1,NSe,2,0,"div",30),m()),2&t){const n=k().index,r=k();let i;C(1),E("ngIf",null==(i=r.recipeEdit.get("ingredients."+n+".amount"))||null==i.errors?null:i.errors.required)}}function MSe(t,e){1&t&&(g(0,"div",31),I(1," Please select a unit of measurement! "),m())}function RSe(t,e){if(1&t&&(g(0,"div"),A(1,MSe,2,0,"div",30),m()),2&t){const n=k().index,r=k();let i;C(1),E("ngIf",null==(i=r.recipeEdit.get("ingredients."+n+".unit"))||null==i.errors?null:i.errors.required)}}function kSe(t,e){if(1&t){const n=tt();g(0,"div",32)(1,"div",41)(2,"div",42),O(3,"hr"),g(4,"p"),I(5,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0430\xa0\xa0"),m(),O(6,"hr"),m(),g(7,"label",33),I(8,"Name (required):"),m(),O(9,"input",43),A(10,ASe,2,1,"div",8),g(11,"label",33),I(12,"Quantity (required):"),m(),O(13,"input",44),A(14,OSe,2,1,"div",8),g(15,"label",33),I(16,"Unit of measurement (required):"),m(),g(17,"p",13),I(18,"In which we measure the ingredient"),m(),g(19,"select",45)(20,"option",46),I(21,"Tea spoon"),m(),g(22,"option",47),I(23,"Tablespoon"),m(),g(24,"option",48),I(25,"Tea cup"),m(),g(26,"option",49),I(27,"Coffee cup"),m(),g(28,"option",50),I(29,"Gram"),m(),g(30,"option",51),I(31,"Kilogram"),m(),g(32,"option",52),I(33,"Milliliter"),m(),g(34,"option",53),I(35,"Liter"),m(),g(36,"option",54),I(37,"Pieces"),m()(),A(38,RSe,2,1,"div",8),g(39,"label",33),I(40,"Order index:"),m(),g(41,"p",13),I(42," The order in which the ingredients appear in the recipe "),m(),O(43,"input",55)(44,"hr"),g(45,"button",36),ne("click",function(){const o=Ye(n).index;return Qe(k().removeIngredient(o))}),O(46,"i",37),I(47,"\xa0Remove the ingredient "),m()()()}if(2&t){const n=e.index,r=k();let i,o,s;E("formGroupName",n),C(7),E("for","name"+n),C(2),E("id","name"+n),C(1),E("ngIf",null==(i=r.recipeEdit.get("ingredients."+n+".name"))?null:i.touched),C(1),E("for","amount"+n),C(2),E("id","amount"+n),C(1),E("ngIf",null==(o=r.recipeEdit.get("ingredients."+n+".amount"))?null:o.touched),C(1),E("for","unit"+n),C(4),E("id","unit"+n),C(19),E("ngIf",null==(s=r.recipeEdit.get("ingredients."+n+".unit"))?null:s.touched),C(1),E("for","order_index"+n),C(4),E("id","order_index"+n)}}let PSe=(()=>{class t{constructor(n,r,i,o,s){this.route=n,this.router=r,this.fb=i,this.recipeService=o,this.recipe=null,this.recipeId="",this.firestore=s}initializeForm(){this.recipeEdit=this.fb.group({is_active:[!1],title:["",[Be.required]],subtitle:["",[Be.required]],description:["",[Be.required]],summary:[""],author:[""],uid:[""],likes:this.fb.array([]),image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([])})}loadData(){var n=this;return p(function*(){n.route.paramMap.subscribe(function(){var r=p(function*(i){const o=i.get("id");if(n.recipeId=o,o)try{n.recipe=yield n.recipeService.getRecipeById(o),n.patchFormWithRecipeData()}catch(s){throw console.error("An error occurred while retrieving the recipe:",s),s}else console.error("Recipe ID not provided.")});return function(i){return r.apply(this,arguments)}}())})()}patchFormWithRecipeData(){if(this.recipe&&this.recipeEdit){const n=this.recipeEdit.get("ingredients"),r=this.recipeEdit.get("image_recipe"),i=this.recipeEdit.get("video_recipe"),o=this.recipeEdit.get("preparation_method");n.clear(),r.clear(),i.clear(),o.clear(),this.recipe.ingredients.forEach(s=>{n.push(this.fb.group({name:[s.name,[Be.required]],amount:[s.amount,[Be.required]],unit:[s.unit,[Be.required]],order_index:[s.order_index]}))}),this.recipe.image_recipe&&this.recipe.image_recipe.length>0&&this.recipe.image_recipe.forEach(s=>{r.push(this.fb.group({image_recipe:[s.image_recipe]}))}),this.recipe.video_recipe&&this.recipe.video_recipe.length>0&&this.recipe.video_recipe.forEach(s=>{i.push(this.fb.group({video_recipe:[s.video_recipe]}))}),this.recipe.preparation_method&&this.recipe.preparation_method.length>0&&this.recipe.preparation_method.forEach(s=>{o.push(this.fb.group({preparation_method:[s.preparation_method]}))}),this.recipeEdit.patchValue({title:this.recipe.title,summary:this.recipe.summary,description:this.recipe.description,is_active:this.recipe.is_active,subtitle:this.recipe.subtitle,likes:this.recipe.likes,author:this.recipe.author,uid:this.recipe.uid})}}ngOnInit(){var n=this;return p(function*(){n.initializeForm(),yield n.loadData()})()}addImageToForm(n){this.recipeEdit.get("image_recipe").push(this.fb.group({image_recipe:n}))}removeImage(n){this.recipeEdit.get("image_recipe").removeAt(n)}addVideo(){this.recipeEdit.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(n){this.recipeEdit.get("video_recipe").removeAt(n)}addPreparation(){this.recipeEdit.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(n){this.recipeEdit.get("preparation_method").removeAt(n)}addIngredient(){this.recipeEdit.get("ingredients").push(this.fb.group({name:["",[Be.required]],amount:["",[Be.required]],unit:["",[Be.required]],order_index:[0]}))}removeIngredient(n){this.recipeEdit.get("ingredients").removeAt(n)}get ingredients(){return this.recipeEdit.get("ingredients")}get image_recipe(){return this.recipeEdit.get("image_recipe")}get video_recipe(){return this.recipeEdit.get("video_recipe")}get preparation_method(){return this.recipeEdit.get("preparation_method")}onSubmit(){this.recipeEdit.invalid?alert("The form is not valid. Please fill in all required fields."):(this.addRecipe(this.recipeEdit.value),this.recipeEdit.reset())}addRecipe(n){const i=Io(this.firestore,"Recipe",this.recipeId);ig(i,n),this.router.navigate(["/recipe",this.recipeId])}static#e=this.\u0275fac=function(r){return new(r||t)(b(ki),b(Pt),b(gl),b(nk),b(ni))};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-recipe-edit"]],decls:53,vars:7,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[3,"formGroup"],[1,"title-wrapper"],[1,"title-form"],["for","title"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["type","text","id","subtitle","formControlName","subtitle"],["for","description"],["name","text","id","description","formControlName","description","cols","30","rows","10"],["for","summary"],[1,"hint"],["type","text","id","summary","formControlName","summary"],[3,"imageUploaded"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["type","button",1,"button-img",3,"click"],["formArrayName","ingredients"],["type","button-img",1,"addIngredient",3,"click"],[1,"fa-solid","fa-plus","fa-beat-fade"],["type","button",1,"button",2,"width","100%",3,"click"],["href","javascript:history.back()",1,"back-button"],[1,"button-box"],[1,"button-elem"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],["viewBox","0 0 46 40"],["class","errors",4,"ngIf"],[1,"errors"],[3,"formGroupName"],[3,"for"],["type","text","formControlName","image_recipe",3,"id"],["alt","Image Preview","class","image-preview",3,"src",4,"ngIf"],["type","button",1,"removeIngredient",3,"click"],[1,"fa-solid","fa-trash","fa-shake"],["alt","Image Preview",1,"image-preview",3,"src"],["type","text","formControlName","video_recipe",3,"id"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"],[1,"ingredient"],[1,"divider"],["type","text","formControlName","name",3,"id"],["type","number","formControlName","amount",3,"id"],["formControlName","unit",3,"id"],["value","ts."],["value","tbs."],["value","tc."],["value","cc."],["value","gr."],["value","kg."],["value","ml."],["value","l."],["value","pieces"],["type","number","formControlName","order_index",3,"id"]],template:function(r,i){if(1&r&&(g(0,"div",0),O(1,"div",1),g(2,"div",2)(3,"form",3)(4,"div",4)(5,"h1",5),I(6,"Edit a Recipe"),m()(),g(7,"label",6),I(8," Title (required): "),m(),O(9,"input",7),A(10,vSe,2,1,"div",8),g(11,"label"),I(12," Subtitle (required): "),O(13,"input",9),m(),A(14,wSe,2,1,"div",8),g(15,"div")(16,"label",10),I(17,"Method of preparation (required):"),m(),O(18,"textarea",11),m(),A(19,CSe,2,1,"div",8),g(20,"div")(21,"label",12),I(22,"Summary:"),m(),g(23,"p",13),I(24,"Recipe summary"),m(),O(25,"input",14),m(),g(26,"div"),O(27,"br"),g(28,"app-image-upload",15),ne("imageUploaded",function(s){return i.addImageToForm(s)}),m(),g(29,"div",16),A(30,ESe,10,4,"div",17),m(),g(31,"div",18),A(32,SSe,8,4,"div",17),g(33,"button",19),ne("click",function(){return i.addVideo()}),I(34," Add a video link to a recipe "),m()()(),g(35,"div",20),A(36,kSe,48,12,"div",17),m(),O(37,"br"),g(38,"button",21),ne("click",function(){return i.addIngredient()}),O(39,"i",22),I(40," Add one more ingredient "),m(),g(41,"button",23),ne("click",function(){return i.onSubmit()}),I(42,"Save the changes"),m(),O(43,"hr"),I(44," Go Back "),g(45,"a",24)(46,"div",25)(47,"span",26),ko(),g(48,"svg",27),O(49,"path",28),m()(),_u(),g(50,"span",26),ko(),g(51,"svg",29),O(52,"path",28),m()()()()()()()),2&r){let o,s,a;C(3),E("formGroup",i.recipeEdit),C(7),E("ngIf",null==(o=i.recipeEdit.get("title"))?null:o.touched),C(4),E("ngIf",null==(s=i.recipeEdit.get("subtitle"))?null:s.touched),C(5),E("ngIf",null==(a=i.recipeEdit.get("description"))?null:a.touched),C(11),E("ngForOf",i.image_recipe.controls),C(2),E("ngForOf",i.video_recipe.controls),C(4),E("ngForOf",i.ingredients.controls)}},dependencies:[dr,hn,Ya,RC,PC,zo,J_,df,qa,Wa,qo,Vs,uf,lf,Q9,J9],styles:[".tiny[_ngcontent-%COMP%]{margin:20px 0}.addIngredient[_ngcontent-%COMP%]{all:unset;color:var(--mainGreenColor);cursor:pointer;margin:0 0 20px 30px}.addIngredient[_ngcontent-%COMP%]:hover{background-color:unset;color:var(--mainRedColor);box-shadow:unset}form[_ngcontent-%COMP%]{max-width:600px;margin:0 auto 50px;padding:20px;background-color:var(--backgroundColor);border-radius:10px}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--mainBackgroundColor);border:none}}"]})}return t})();function FSe(t,e){1&t&&(g(0,"div",12),I(1," Please write a comment! "),m())}function LSe(t,e){if(1&t&&(g(0,"div"),A(1,FSe,2,0,"div",11),m()),2&t){const n=k();let r;C(1),E("ngIf",null==(r=n.commentFormEdit.get("text"))||null==r.errors?null:r.errors.required)}}let VSe=(()=>{class t{constructor(n,r,i,o,s){this.route=n,this.commentService=r,this.fb=i,this.router=o,this.comment=null,this.commentId="",this.firestore=s}ngOnInit(){var n=this;return p(function*(){n.initializeForm(),yield n.loadData()})()}loadData(){var n=this;return p(function*(){n.route.paramMap.subscribe(function(){var r=p(function*(i){const o=i.get("id");if(n.commentId=o,o)try{n.comment=yield n.commentService.getCommentById(o),n.patchFormWithCommentData()}catch(s){throw console.error("An error occurred while retrieving the comment:",s),s}else console.error("Comment ID not provided.")});return function(i){return r.apply(this,arguments)}}())})()}initializeForm(){this.commentFormEdit=this.fb.group({name:[""],text:["",Be.required],recipeId:[""],create_time:[""],uid:[""]})}patchFormWithCommentData(){this.commentFormEdit.patchValue({name:this.comment?.name,text:this.comment?.text,recipeId:this.comment?.recipeId,create_time:this.comment?.create_time,uid:this.comment?.uid,id:this.comment?.id})}onSubmit(){this.commentFormEdit.valid?(this.editComment(this.commentFormEdit.value),this.commentFormEdit.reset()):console.log("form invalid")}editComment(n){const i=Io(this.firestore,"Comments",this.commentId);ig(i,n),this.router.navigate(["/recipe",this.comment?.recipeId])}static#e=this.\u0275fac=function(r){return new(r||t)(b(ki),b(F0),b(gl),b(Pt),b(ni))};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-comment-form-edit"]],decls:14,vars:2,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"title-wrapper"],[1,"title-form"],["id","commentFormEdit",3,"formGroup","ngSubmit"],[1,"form-group"],["for","text"],["cols","30","rows","5","id","text","formControlName","text",1,"form-control"],[4,"ngIf"],["type","submit",1,"button"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(g(0,"div",0),O(1,"div",1),g(2,"div",2)(3,"div",3)(4,"h1",4),I(5,"Edit the Comment"),m()(),g(6,"form",5),ne("ngSubmit",function(){return i.onSubmit()}),g(7,"div",6)(8,"label",7),I(9,"Comment (required)"),m(),O(10,"textarea",8),m(),A(11,LSe,2,1,"div",9),g(12,"button",10),I(13,"Edit the Comment"),m()()()()),2&r){let o;C(6),E("formGroup",i.commentFormEdit),C(5),E("ngIf",null==(o=i.commentFormEdit.get("text"))?null:o.touched)}},dependencies:[hn,Ya,zo,qa,Wa,qo,Vs],styles:[".wrapper[_ngcontent-%COMP%]{padding:unset;position:absolute;top:37%;left:50%;transform:translate(-50%,-50%);box-shadow:0 1px 3px #0000004d;padding:32px;background-color:var(--backgroundColor)}#commentFormEdit[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:30px}"]})}return t})();function BSe(t,e){1&t&&(g(0,"div")(1,"main",2),O(2,"div",3),g(3,"div",4)(4,"div",5)(5,"div",6)(6,"h1",7),I(7,"You have no comments!"),m()(),g(8,"button",8),I(9," Add your first comments! "),m()()()()())}function USe(t,e){if(1&t){const n=tt();g(0,"span",18),ne("click",function(){Ye(n);const i=k().$implicit;return Qe(k(2).deleteComment(i.id))}),O(1,"i",19),m()}}function jSe(t,e){if(1&t){const n=tt();g(0,"span",18),ne("click",function(){Ye(n);const i=k().$implicit;return Qe(k(2).navigateToCommentEdit(i.id))}),O(1,"i",20),m()}}function $Se(t,e){if(1&t&&(g(0,"ul")(1,"a",14),I(2,"see recipe"),m(),g(3,"li"),I(4),m(),g(5,"li"),I(6),m(),g(7,"li",15)(8,"p"),I(9),xs(10,"date"),m(),g(11,"div",16),A(12,USe,2,0,"span",17),A(13,jSe,2,0,"span",17),m()()()),2&t){const n=e.$implicit,r=k(2);C(1),yh("routerLink","/recipe/",n.recipeId,""),C(3),ht(n.name),C(2),ht(n.text),C(3),Jn(" ",$w(10,6,n.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," "),C(3),E("ngIf",n.uid==r.userData.uid),C(1),E("ngIf",n.uid==r.userData.uid)}}function HSe(t,e){if(1&t&&(g(0,"main",9),O(1,"div",3),g(2,"div",10)(3,"div",6)(4,"h1",11),I(5),m()(),g(6,"div",12),A(7,$Se,14,9,"ul",13),m()()()),2&t){const n=k();C(5),Jn(" Comments by ",n.userData.firstName+" "+n.userData.lastName," "),C(2),E("ngForOf",n.comments)}}let GSe=(()=>{class t{constructor(n,r,i){this.commentService=n,this.userService=r,this.router=i,this.comments=[],this.userService.userData$.subscribe(o=>{this.userData=o})}ngOnInit(){this.loadData()}loadData(){var n=this;return p(function*(){if(n.userData)try{n.comments=yield n.commentService.getCommentsForUser(n.userData.uid),console.log("Recipe data loaded successfully.")}catch(r){console.error("An error occurred while loading recipe data:",r)}})()}navigateToCommentEdit(n){this.router.navigate(["/comment-edit",n])}deleteComment(n){this.commentService.deleteComment(n),this.loadData()}static#e=this.\u0275fac=function(r){return new(r||t)(b(F0),b(Co),b(Pt))};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-user-comments"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["commentsList",""],[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[2,"max-width","600px","margin","-50px auto 50px auto","padding","32px","background-color","var(--backgroundColor)","border-radius","unset","box-shadow","0 1px 3px 0 rgba(0, 0, 0, 0.3)","display","flex","flex-direction","column","align-items","center"],[1,"title-wrapper"],[1,"title-form"],["routerLink","/recipes-list",1,"button",2,"margin-top","50px"],[1,"main-long"],[1,"wrapper-list",2,"max-width","600px","margin","-50px auto 50px auto","padding","32px","background-color","var(--backgroundColor)","border-radius","unset","box-shadow","0 1px 3px 0 rgba(0, 0, 0, 0.3)","display","flex","flex-direction","column","align-items","center"],[1,"title"],[1,"comments"],[4,"ngFor","ngForOf"],["href","",3,"routerLink"],[1,"comments-last"],[1,"commentBtnWrapper"],[3,"click",4,"ngIf"],[3,"click"],[1,"fa-solid","fa-trash","fa-shake"],[1,"fa-regular","fa-pen-to-square","fa-flip"]],template:function(r,i){if(1&r&&(A(0,BSe,10,0,"div",0),A(1,HSe,8,2,"ng-template",null,1,Or)),2&r){const o=Ar(2);E("ngIf",0==i.comments.length)("ngIfElse",o)}},dependencies:[dr,hn,_i,kI],styles:[".comments[_ngcontent-%COMP%]{border:1px solid var(--borderColor);margin:30px 0;padding:20px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:10px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:5px}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--mainGreyColor)}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--backgroundColor);padding-left:5px;border-radius:5px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--mainMagnoliaColor);font-style:italic;border-radius:5px}.commentBtnWrapper[_ngcontent-%COMP%]{display:flex;gap:10px}.comments-last[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.fa-solid.fa-trash.fa-shake[_ngcontent-%COMP%], .fa-regular.fa-pen-to-square.fa-flip[_ngcontent-%COMP%]{cursor:pointer;color:var(----mainRGBAColor);background-color:var(--backgroundColor);padding:8px 10px;border:3px solid var(--mainRGBAColor);border-radius:50%;transition:1s ease-in-out}.fa-solid.fa-trash.fa-shake[_ngcontent-%COMP%]:hover, .fa-regular.fa-pen-to-square.fa-flip[_ngcontent-%COMP%]:hover{color:var(--backgroundColor);background-color:var(--mainRGBAColor);padding:8px 10px;border:3px solid var(--mainRGBAColor);border-radius:50%}"]})}return t})();function zSe(t,e){if(1&t&&(g(0,"div",22),I(1),m()),2&t){const n=k();C(1),Jn(" ",null==n.recipe?null:n.recipe.summary," ")}}function qSe(t,e){1&t&&(g(0,"div"),O(1,"br"),m())}function WSe(t,e){if(1&t&&(g(0,"li"),O(1,"img",25),m()),2&t){const n=e.$implicit;C(1),E("src",n.image_recipe,Ds)}}function KSe(t,e){if(1&t&&(g(0,"ul",23),A(1,WSe,2,1,"li",24),m()),2&t){const n=k();C(1),E("ngForOf",null==n.recipe?null:n.recipe.image_recipe)}}const YSe=[{path:"",pathMatch:"full",component:dDe},{path:"register",component:tDe},{path:"login",component:uDe},{path:"forgot-password",component:lDe},{path:"dashboard",component:_Se,children:[{path:"user-recipes",component:mSe},{path:"recipe-create",component:kDe},{path:"recipe-edit/:id",component:PSe},{path:"recipe-delete/:id",component:(()=>{class t{constructor(n,r,i){var o=this;this.recipeService=n,this.route=r,this.router=i,this.recipeId="",this.recipe=null,this.route.paramMap.subscribe(function(){var s=p(function*(a){const c=a.get("id");o.recipeId=c,o.recipe=yield o.recipeService.getRecipeById(o.recipeId)});return function(a){return s.apply(this,arguments)}}())}deleteRecipe(){this.recipeService.deleteRecipe(this.recipeId),this.router.navigate(["/recipes-list"])}static#e=this.\u0275fac=function(r){return new(r||t)(b(nk),b(ki),b(Pt))};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-recipe-delete"]],decls:34,vars:5,consts:[[1,"mainLong"],[1,"headerImage"],[1,"wrapper-list"],[1,"recipe-container"],[1,"title-wrapper"],[1,"title"],[1,"recipe-subtitle"],["class","recipe-summary",4,"ngIf"],[4,"ngIf"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],[1,"divider"],[2,"text-align","center","font-style","italic"],[1,"buttons"],[1,"button",2,"margin-bottom","10px",3,"click"],[1,"back"],["href","javascript:history.back()",1,"back-button"],[1,"button-box"],[1,"button-elem"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],["viewBox","0 0 46 40"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","Image of a recipe",3,"src"]],template:function(r,i){1&r&&(g(0,"div",0),O(1,"div",1),g(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),I(6),m()(),g(7,"h3",6),I(8),m(),A(9,zSe,2,1,"div",7),A(10,qSe,2,0,"div",8),g(11,"div",9),A(12,KSe,2,1,"ul",10),g(13,"div",11),O(14,"hr"),g(15,"p"),I(16,"\xa0\xa0Delete\xa0\xa0"),m(),O(17,"hr"),m(),O(18,"br"),g(19,"h3",12),I(20," Do you rely want to delete this recipe? "),m(),g(21,"div",13)(22,"button",14),ne("click",function(){return i.deleteRecipe()}),I(23," YES "),m(),g(24,"div",15),I(25," Go Back "),g(26,"a",16)(27,"div",17)(28,"span",18),ko(),g(29,"svg",19),O(30,"path",20),m()(),_u(),g(31,"span",18),ko(),g(32,"svg",21),O(33,"path",20),m()()()()()()()()()()),2&r&&(C(6),ht(null==i.recipe?null:i.recipe.title),C(2),ht(null==i.recipe?null:i.recipe.subtitle),C(1),E("ngIf",null==i.recipe?null:i.recipe.summary),C(1),E("ngIf",!(null!=i.recipe&&i.recipe.summary)),C(2),E("ngIf",(null==i.recipe?null:i.recipe.image_recipe)&&(null==i.recipe||null==i.recipe.image_recipe?null:i.recipe.image_recipe.length)>0))},dependencies:[dr,hn],styles:[".form-wrapper[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;align-items:flex-end;justify-content:space-between}.recipe-container[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:800px;margin:-50px auto 50px;padding:32px;box-shadow:0 1px 3px #0000004d}.title[_ngcontent-%COMP%]{font-size:28px;box-shadow:unset;color:var(--textColor);background:#e8e8e8;text-shadow:-1px -1px 1px rgba(255,255,255,.1),1px 1px 1px rgba(0,0,0,.5)}.recipe-subtitle[_ngcontent-%COMP%]{font-size:14px;margin-top:-10px;color:var(--mainGreyColor);font-style:italic;white-space:pre-wrap}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic;white-space:pre-wrap}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}ul.recipe-image[_ngcontent-%COMP%]{padding-left:unset}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}"]})}return t})()},{path:"user-info",component:dSe},{path:"user-comments",component:GSe}]},{path:"recipes-list",component:pDe},{path:"recipe/:id",component:uSe},{path:"comment-edit/:id",component:VSe}];let QSe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({imports:[fl.forRoot(YSe,{useHash:!0}),fl]})}return t})(),JSe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-footer"]],decls:25,vars:0,consts:[[1,"footer"],[1,"footer-links"],["href","/about"],["href","/contact"],["href","/terms"],["href","/privacy"],[1,"social-icons"],["href","https://www.facebook.com"],[1,"fa-brands","fa-facebook","fa-flip"],["href","https://www.twitter.com"],[1,"fa-brands","fa-x-twitter","fa-flip"],["href","https://www.instagram.com"],[1,"fa-brands","fa-instagram","fa-flip"],[1,"copyright"],[1,"projectInfo"]],template:function(r,i){1&r&&(g(0,"footer",0)(1,"div",1)(2,"a",2),I(3,"About Us"),m(),I(4," | "),g(5,"a",3),I(6,"Contact Us"),m(),I(7," | "),g(8,"a",4),I(9,"Terms of Service"),m(),I(10," | "),g(11,"a",5),I(12,"Privacy Policy"),m()(),g(13,"div",6)(14,"a",7),O(15,"i",8),m(),g(16,"a",9),O(17,"i",10),m(),g(18,"a",11),O(19,"i",12),m()(),g(20,"div",13)(21,"div",14),I(22," This project was developed to meet the requirements of the Angular Project Assignment within the 'Angular - February 2024' course at SoftUni. "),m(),g(23,"span"),I(24," \xa9 2024 The Natural Way. All Rights Reserved. "),m()()())},styles:[".footer[_ngcontent-%COMP%]{background-color:var(--aliceBlueColor);padding:20px;color:#333;font-size:14px;text-align:center}.footer-links[_ngcontent-%COMP%]{padding:20px 0}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none;margin:0 10px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--mainBlackColor)}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none;margin:0 10px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#3b5998}.copyright[_ngcontent-%COMP%]{margin-top:20px;font-size:12px;color:#999}.projectInfo[_ngcontent-%COMP%]{margin-bottom:10px}"]})}return t})();function ZSe(t,e){1&t&&(g(0,"li",15)(1,"a",16),O(2,"i",27),m(),g(3,"ul",17)(4,"li")(5,"a",28),I(6,"Register"),m()(),g(7,"li")(8,"a",29),I(9,"Login"),m()(),g(10,"li"),O(11,"hr",19),m(),g(12,"li")(13,"a",20),I(14,"Something else here"),m()()()())}function XSe(t,e){if(1&t){const n=tt();g(0,"li",15)(1,"a",16)(2,"span"),I(3),m()(),g(4,"ul",17)(5,"li")(6,"a",30),I(7,"My recipes"),m()(),g(8,"li")(9,"a",31),I(10,"Create recipe"),m()(),g(11,"li")(12,"a",20),I(13,"Favorite recipes"),m()(),g(14,"li")(15,"a",32),I(16,"My comments"),m()(),g(17,"li")(18,"a",33),I(19,"Profile"),m()(),g(20,"li")(21,"a",34),ne("click",function(){return Ye(n),Qe(k().logout())}),I(22,"Logout"),m()()()()}if(2&t){const n=k();C(3),ht(n.getUserDisplayName())}}let exe=(()=>{class t{constructor(n){this.userService=n,this.isMenuOpen=!1,this.userData=null,this.userDataSubject=new wr(null),this.userDataSubscription=this.userDataSubject.subscribe(r=>{this.userData=r,console.log(this.userData)})}ngOnInit(){this.userService.userData$.subscribe({next:n=>{n?(this.userDataSubject.next(n),console.log("You have a user:",n)):(this.userDataSubject.next(null),console.log("You have no user."))},error:n=>{console.log(n)}})}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}closeMenu(){this.isMenuOpen=!1}logout(){this.userService.logoutUser()}getUserDisplayName(){return this.userData?this.userData.lastName:"Anonymous"}static#e=this.\u0275fac=function(r){return new(r||t)(b(Co))};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-header"]],decls:50,vars:2,consts:[[1,"navbar","navbar-dark","navbar-expand-lg"],[1,"container-fluid"],[1,"header-wrapper",2,"display","flex","gap","20px","align-items","center"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","button","hamburger"],["viewBox","0 0 200.92045542674032 200.92045542674032","height","50","width","50"],["d","M0 100.46c0-55.483 44.978-100.46 100.46-100.46 55.483 0 100.46 44.978 100.46 100.46 0 55.483-44.978 100.46-100.46 100.46-55.483 0-100.46-44.978-100.46-100.46zM100.46 193.437c51.35 0 92.977-41.627 92.977-92.977 0-51.35-41.627-92.977-92.977-92.977-51.35 0-92.977 41.627-92.977 92.977 0 51.35 41.627 92.977 92.977 92.977z","data-fill-palette-color","accent","fill","#a7575e","stroke","transparent"],["rx","99.45562543623646","ry","99.45562543623646","cx","100.46022771337016","cy","100.46022771337016","fill","#a7575e","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,43.57436241056036,43.35758026693677)"],["viewBox","0 0 113.7717306056196 114.20529489286677","height","114.20529489286677","width","113.7717306056196"],["xmlns","http://www.w3.org/2000/svg","data-name","Layer 1","viewBox","1.190000057220459 1.002901315689087 97.62506866455078 97.99710083007812","x","0","y","0","height","114.20529489286677","width","113.7717306056196","data-fill-palette-color","quaternary","id","b-0",1,"icon-b-0"],["d","M79.28 26.63a0.3 0.3 0 0 0 0-0.07 0.28 0.28 0 0 0-0.48-0.19l-7 7a20.24 20.24 0 0 0-6 13v1.87a37.5 37.5 0 0 1 1.67 5.15H54.79a32.9 32.9 0 0 0-5.43-15.13 26.9 26.9 0 0 1-7.74 5.77 22.2 22.2 0 0 1-6.34 2.06c-9.9 1.51-22.3-5-28.35-41.61a1.86 1.86 0 0 1 1.55-2.05c47.44-6.69 50.2 11.7 47.85 22.85a51.5 51.5 0 0 0-19.69-6.14h-0.11a0.43 0.43 0 0 0-0.18 0.76l11.58 8.5 5.84 4.31a37.3 37.3 0 0 1 6.08 5.85 24.8 24.8 0 0 1 5-6.15 17.7 17.7 0 0 1-2.54-5 14.8 14.8 0 0 1-0.65-4.41c0-6.65 5.53-14.14 30.18-14.44a1.23 1.23 0 0 1 1.24 1.23c-0.38 31.82-12.74 31.78-19.82 29.12a34.2 34.2 0 0 0 6.02-12.28M28.65 93h34.63a16.16 16.16 0 0 0 12.18-5.54l21.68-24.79a6.79 6.79 0 0 0-0.79-9.7 6.55 6.55 0 0 0-4.2-1.49 7.24 7.24 0 0 0-5.38 2.43l-10.2 11.35v0.16a11.85 11.85 0 0 1-11.89 11.26H52.21a2.54 2.54 0 1 1 0-5.08h12.47a6.72 6.72 0 0 0 6.81-6.34A6.54 6.54 0 0 0 65 58.52H44.19l-3.37-1.18a23.42 23.42 0 0 0-24.26 5.49L1.19 78.1 22.64 99Z","fill","#e5e5e5","data-fill-palette-color","quaternary"],["href","#",1,"navbar-brand"],["viewBox","0 0 200.92045542674032 200.92045542674032","height","50","width","50",1,"svg-logo"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","my-2","my-lg-0","navbar-nav-scroll",2,"--bs-scroll-height","350px"],[1,"nav-item","dropdown"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-btn","nav-link","dropdown-toggle","button"],[1,"dropdown-menu"],["href","#","routerLink","/recipes-list",1,"dropdown-item"],[1,"dropdown-divider"],["href","#",1,"dropdown-item"],["class","nav-item dropdown",4,"ngIf"],[1,"fa-solid","fa-magnifying-glass"],[1,"dropdown-menu","search"],["role","search",1,"d-flex","w-100"],["type","search","aria-label","Search",1,"form-control","me-2"],["type","submit",1,"search","button"],[1,"fa-solid","fa-user"],["routerLink","/register",1,"dropdown-item"],["routerLink","/login",1,"dropdown-item"],["routerLink","/dashboard/user-recipes","href","#",1,"dropdown-item"],["routerLink","/dashboard/recipe-create",1,"dropdown-item"],["routerLink","/dashboard/user-comments","href","#",1,"dropdown-item"],["routerLink","/dashboard/user-info",1,"dropdown-item"],[1,"dropdown-item",3,"click"]],template:function(r,i){1&r&&(g(0,"nav",0)(1,"div",1)(2,"div",2)(3,"button",3)(4,"span"),ko(),g(5,"svg",4)(6,"g"),O(7,"path",5)(8,"ellipse",6),m(),g(9,"g",7)(10,"svg",8)(11,"g")(12,"svg",9),O(13,"path",10),m()()()()()()(),_u(),g(14,"a",11),ko(),g(15,"svg",12)(16,"g"),O(17,"path",5)(18,"ellipse",6),m(),g(19,"g",7)(20,"svg",8)(21,"g")(22,"svg",9),O(23,"path",10),m()()()()(),_u(),g(24,"span"),I(25," The Natural Way "),m()()(),g(26,"div",13)(27,"ul",14)(28,"li",15)(29,"a",16),I(30," Recipes "),m(),g(31,"ul",17)(32,"li")(33,"a",18),I(34,"Recipes list"),m()(),g(35,"li"),O(36,"hr",19),m(),g(37,"li")(38,"a",20),I(39,"Something else here"),m()()()(),A(40,ZSe,15,0,"li",21),A(41,XSe,23,1,"li",21),g(42,"li",15)(43,"a",16),O(44,"i",22),m(),g(45,"ul",23)(46,"form",24),O(47,"input",25),g(48,"button",26),I(49,"Search"),m()()()()()()()()),2&r&&(C(40),E("ngIf",!i.userData),C(1),E("ngIf",i.userData))},dependencies:[hn,_i],styles:["nav.navbar[_ngcontent-%COMP%]{min-height:8vh;background-color:var(--aliceBlueColor);box-shadow:1px 5px 15px #a7575e}.container-fluid[_ngcontent-%COMP%]{max-width:1024px;color:var(--textColor)}a.navbar-brand[_ngcontent-%COMP%]{display:flex;gap:10px;font-family:Caveat,cursive;font-weight:400;font-size:32px;color:var(--textColor)}button.navbar-toggler[_ngcontent-%COMP%]{background-color:var(--textColor);border:1px solid var(--backgroundColor)}.navbar-toggler[_ngcontent-%COMP%]   span.navbar-toggler-icon[_ngcontent-%COMP%]{color:var(--backgroundColor);background-color:var(--textColor)}button.navbar-toggler[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem var(--textColor)}ul.navbar-nav[_ngcontent-%COMP%]{position:relative;z-index:100;display:flex;gap:18px;width:100%;justify-content:flex-end}a.nav-btn.nav-link.dropdown-toggle.button[_ngcontent-%COMP%]{min-width:150px}ul.navbar-nav[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:1px solid var(--textColor);margin-top:18px}a.dropdown-item[_ngcontent-%COMP%]{color:var(--textColor)}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:focus{background-color:var(--textColor);color:var(--backgroundColor)}form.d-flex[_ngcontent-%COMP%]{padding:0 auto}.form-control[_ngcontent-%COMP%]{border:1px solid var(--textColor);border-radius:8px;background-color:var(--backgroundColor)}.form-control[_ngcontent-%COMP%]:focus{border:1px solid var(--textColor);box-shadow:unset;outline:unset;background-color:#f6f4f9;border-color:var(--textColor)}@media (max-width: 460px){.svg-logo[_ngcontent-%COMP%]{display:none}.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{background-color:var(--backgroundColor);padding:20px;border-radius:8px}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{border:unset;width:100%}form.d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:15px}}@media (min-width: 461px) and (max-width: 767px){.svg-logo[_ngcontent-%COMP%]{display:none}.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{background-color:var(--backgroundColor);padding:20px;border-radius:8px}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{border:unset;width:100%}.dropdown-menu.search.show[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{max-width:unset}}@media (min-width: 768px) and (max-width: 1023px){.svg-logo[_ngcontent-%COMP%]{display:none}.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{padding:20px;border-radius:8px}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{border:unset}.dropdown-menu.search.show[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{max-width:unset}}@media (min-width: 1024px) and (max-width: 1440px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:1000px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}.container-fluid[_ngcontent-%COMP%]{padding:unset;max-width:1200px;padding:0 1%;color:var(--textColor)}}@media (min-width: 1441px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:1000px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}.container-fluid[_ngcontent-%COMP%]{padding:unset;max-width:1200px;color:var(--textColor)}}"]})}return t})();function txe(t,e){if(1&t){const n=tt();g(0,"div",1)(1,"button",2),ne("click",function(){return Ye(n),Qe(k().scrollToTop())}),O(2,"i",3),m(),g(3,"a",4)(4,"div",5)(5,"span",6),ko(),g(6,"svg",7),O(7,"path",8),m()(),_u(),g(8,"span",6),ko(),g(9,"svg",9),O(10,"path",8),m()()()()()}}let nxe=(()=>{class t{constructor(){this.showScrollButton=!1}onWindowScroll(){this.showScrollButton=window.pageYOffset>300}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-scroll-to-top"]],hostBindings:function(r,i){1&r&&ne("scroll",function(){return i.onWindowScroll()},0,GF)},decls:1,vars:1,consts:[["class","buttons",4,"ngIf"],[1,"buttons"],[1,"to-top",3,"click"],[1,"fa-solid","fa-chevron-up","fa-beat-fade"],["href","javascript:history.back()",1,"back-button"],[1,"button-box"],[1,"button-elem"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],["viewBox","0 0 46 40"]],template:function(r,i){1&r&&A(0,txe,11,0,"div",0),2&r&&E("ngIf",i.showScrollButton)},dependencies:[hn],styles:[".buttons[_ngcontent-%COMP%]{display:flex;gap:10px;position:fixed;bottom:120px;right:10px;flex-direction:column;align-items:center}.to-top[_ngcontent-%COMP%]{background-color:var(--mainRGBAColor);color:var(--backgroundColor);border:3px solid var(--backgroundColor);border-radius:50%;width:60px;height:60px;font-size:16px;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{color:var(--textColor);background-color:var(--backgroundColor);box-shadow:0 0 15px #a7575e}button[_ngcontent-%COMP%]:focus{outline:none}button.ng-hidden[_ngcontent-%COMP%]{display:none}"]})}return t})(),rxe=(()=>{class t{constructor(){this.title="The-Natural-Way"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-root"]],decls:4,vars:0,template:function(r,i){1&r&&O(0,"app-header")(1,"app-scroll-to-top")(2,"router-outlet")(3,"app-footer")},dependencies:[R_,JSe,exe,nxe],styles:[".logo-svg[_ngcontent-%COMP%]{background-color:var(--mainGreenColor);min-height:80vh}"]})}return t})(),ixe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({imports:[Ua,fl]})}return t})();const oxe=["addListener","removeListener"],sxe=["addEventListener","removeEventListener"],axe=["on","off"];function mn(t,e,n,r){if(Ie(n)&&(r=n,n=void 0),r)return mn(t,e,n).pipe(WI(r));const[i,o]=function lxe(t){return Ie(t.addEventListener)&&Ie(t.removeEventListener)}(t)?sxe.map(s=>a=>t[s](e,a,n)):function cxe(t){return Ie(t.addListener)&&Ie(t.removeListener)}(t)?oxe.map(Z9(t,e)):function uxe(t){return Ie(t.on)&&Ie(t.off)}(t)?axe.map(Z9(t,e)):[];if(!i&&Tb(t))return cn(s=>mn(s,e,n))(an(t));if(!i)throw new TypeError("Invalid event target");return new je(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function Z9(t,e){return n=>r=>t[n](e,r)}class dxe extends Fe{constructor(e=1/0,n=1/0,r=dx){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=n.now();let a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}}function fxe(t,e){}const L0=()=>{const t=typeof window<"u"?window:void 0;return t&&t.tinymce?t.tinymce:null};let pxe=(()=>{class t{constructor(){this.onBeforePaste=new P,this.onBlur=new P,this.onClick=new P,this.onContextMenu=new P,this.onCopy=new P,this.onCut=new P,this.onDblclick=new P,this.onDrag=new P,this.onDragDrop=new P,this.onDragEnd=new P,this.onDragGesture=new P,this.onDragOver=new P,this.onDrop=new P,this.onFocus=new P,this.onFocusIn=new P,this.onFocusOut=new P,this.onKeyDown=new P,this.onKeyPress=new P,this.onKeyUp=new P,this.onMouseDown=new P,this.onMouseEnter=new P,this.onMouseLeave=new P,this.onMouseMove=new P,this.onMouseOut=new P,this.onMouseOver=new P,this.onMouseUp=new P,this.onPaste=new P,this.onSelectionChange=new P,this.onActivate=new P,this.onAddUndo=new P,this.onBeforeAddUndo=new P,this.onBeforeExecCommand=new P,this.onBeforeGetContent=new P,this.onBeforeRenderUI=new P,this.onBeforeSetContent=new P,this.onChange=new P,this.onClearUndos=new P,this.onDeactivate=new P,this.onDirty=new P,this.onExecCommand=new P,this.onGetContent=new P,this.onHide=new P,this.onInit=new P,this.onInitNgModel=new P,this.onLoadContent=new P,this.onNodeChange=new P,this.onPostProcess=new P,this.onPostRender=new P,this.onPreInit=new P,this.onPreProcess=new P,this.onProgressState=new P,this.onRedo=new P,this.onRemove=new P,this.onReset=new P,this.onResizeEditor=new P,this.onSaveContent=new P,this.onSetAttrib=new P,this.onObjectResizeStart=new P,this.onObjectResized=new P,this.onObjectSelected=new P,this.onSetContent=new P,this.onShow=new P,this.onSubmit=new P,this.onUndo=new P,this.onVisualAid=new P}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=H({type:t,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),t})();const X9=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],V0=(t,e,n)=>mn(t,e).pipe(Tt(n)),eq=(t,e)=>"string"==typeof t?t.split(",").map(n=>n.trim()):Array.isArray(t)?t:e;let tq=0;const nq=t=>typeof t<"u"&&"textarea"===t.tagName.toLowerCase(),rq=t=>typeof t>"u"||""===t?[]:Array.isArray(t)?t:t.split(" "),yxe=(t,e)=>rq(t).concat(rq(e)),vxe=()=>{},iq=t=>null==t,bxe=(()=>{let t={script$:null};return{load:(r,i)=>t.script$||(t.script$=YI(()=>{const o=r.createElement("script");return o.referrerPolicy="origin",o.type="application/javascript",o.src=i,r.head.appendChild(o),mn(o,"load").pipe(wn(1),ZI(void 0))}).pipe(function hxe(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=t??1/0,Db({connector:()=>new dxe(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}({bufferSize:1,refCount:!0}))),reinitialize:()=>{t={script$:null}}}})(),sq=new te("TINYMCE_SCRIPT_SRC"),wxe={provide:Jr,useExisting:Ee(()=>aq),multi:!0};let aq=(()=>{class t extends pxe{constructor(n,r,i,o){super(),this.platformId=i,this.tinymceScriptSrc=o,this.cloudChannel="6",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=vxe,this.destroy$=new Fe,this.initialise=()=>{const s={...this.init,selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,plugins:yxe(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:a=>{this._editor=a,V0(a,"init",this.destroy$).subscribe(()=>{this.initEditor(a)}),((t,e,n)=>{(t=>{const e=eq(t.ignoreEvents,[]);return eq(t.allowedEvents,X9).filter(r=>X9.includes(r)&&!e.includes(r))})(t).forEach(i=>{const o=t[i];V0(e,i.substring(2),n).subscribe(s=>{o.observers.length>0&&t.ngZone.run(()=>o.emit({event:s,editor:e}))})})})(this,a,this.destroy$),this.init&&"function"==typeof this.init.setup&&this.init.setup(a)}};nq(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{L0().init(s)})},this._elementRef=n,this.ngZone=r}set disabled(n){this._disabled=n,this._editor&&this._editor.initialized&&("function"==typeof this._editor.mode?.set?this._editor.mode.set(n?"readonly":"design"):this._editor.setMode(n?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(n){this._editor&&this._editor.initialized?this._editor.setContent(iq(n)?"":n):this.initialValue=null===n?void 0:n}registerOnChange(n){this.onChangeCallback=n}registerOnTouched(n){this.onTouchedCallback=n}setDisabledState(n){this.disabled=n}ngAfterViewInit(){(function Poe(t){return t===u4})(this.platformId)&&(this.id=this.id||(t=>{const n=(new Date).getTime(),r=Math.floor(1e9*Math.random());return tq++,"tiny-angular_"+r+tq+String(n)})(),this.inline=void 0!==this.inline?!1!==this.inline:!!this.init?.inline,this.createElement(),null!==L0()?this.initialise():this._element&&this._element.ownerDocument&&bxe.load(this._element.ownerDocument,this.getScriptSrc()).pipe(Tt(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),null!==L0()&&L0().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,nq(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}getScriptSrc(){return iq(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(n){V0(n,"blur",this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.onTouchedCallback())}),V0(n,this.modelEvents,this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.emitOnChange(n))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{n.setContent(this.initialValue),n.getContent()!==this.initialValue&&this.emitOnChange(n),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(n)})}emitOnChange(n){this.onChangeCallback&&this.onChangeCallback(n.getContent({format:this.outputFormat}))}}return t.\u0275fac=function(n){return new(n||t)(b(He),b(Te),b(Fo),b(sq,8))},t.\u0275cmp=Le({type:t,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[at([wxe]),ze,Yr],decls:1,vars:0,template:function(n,r){1&n&&A(0,fxe,0,0,"ng-template")},dependencies:[Ua,Z_],styles:["[_nghost-%COMP%]{display:block}"]}),t})(),rk=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ce({type:t}),t.\u0275inj=we({imports:[aq]}),t})(),cq=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({imports:[Ua,rk,fl]})}return t})(),Ixe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ce({type:t}),t.\u0275inj=we({imports:[[]]}),t})();const{isArray:Txe}=Array;function lq(t){return 1===t.length&&Txe(t[0])?t[0]:t}function ik(...t){const e=Ng(t),n=lq(t);return n.length?new je(r=>{let i=n.map(()=>[]),o=n.map(()=>!1);r.add(()=>{i=o=null});for(let s=0;!r.closed&&s<n.length;s++)an(n[s]).subscribe(ut(r,a=>{if(i[s].push(a),i.every(c=>c.length)){const c=i.map(u=>u.shift());r.next(e?e(...c):c),i.some((u,l)=>!u.length&&o[l])&&r.complete()}},()=>{o[s]=!0,!i[s].length&&r.complete()}));return()=>{i=o=null}}):ai}function ok(...t){const e=Ng(t);return St((n,r)=>{const i=t.length,o=new Array(i);let s=t.map(()=>!1),a=!1;for(let c=0;c<i;c++)an(t[c]).subscribe(ut(r,u=>{o[c]=u,!a&&!s[c]&&(s[c]=!0,(a=s.every(Ii))&&(s=null))},va));n.subscribe(ut(r,c=>{if(a){const u=[c,...o];r.next(e?e(...u):u)}}))})}Math,Math,Math;const nNe=["*"],MNe=["dialog"];function jc(t){return"string"==typeof t}function $c(t){return null!=t}function yd(t){return(t||document.body).getBoundingClientRect()}const Hq={animation:!0,transitionTimerDelayMs:5},TOe=()=>{},{transitionTimerDelayMs:EOe}=Hq,hg=new Map,jr=(t,e,n,r)=>{let i=r.context||{};const o=hg.get(e);if(o)switch(r.runningTransition){case"continue":return ai;case"stop":t.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),hg.delete(e)}const s=n(e,r.animation,i)||TOe;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>s()),ce(void 0).pipe(function IOe(t){return e=>new je(n=>e.subscribe({next:s=>t.run(()=>n.next(s)),error:s=>t.run(()=>n.error(s)),complete:()=>t.run(()=>n.complete())}))}(t));const a=new Fe,c=new Fe,u=a.pipe(function Dxe(...t){return e=>Fh(e,ce(...t))}(!0));hg.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:i});const l=function COe(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const d=mn(e,"transitionend").pipe(Tt(u),In(({target:f})=>f===e));(function dq(...t){return 1===(t=lq(t)).length?an(t[0]):new je(function Exe(t){return e=>{let n=[];for(let r=0;n&&!e.closed&&r<t.length;r++)n.push(an(t[r]).subscribe(ut(e,i=>{if(n){for(let o=0;o<n.length;o++)o!==r&&n[o].unsubscribe();n=null}e.next(i)})))}}(t))})(function uq(t=0,e,n=cve){let r=-1;return null!=e&&(Qk(e)?n=e:r=e),new je(i=>{let o=function Cxe(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(l+EOe).pipe(Tt(u)),d,c).pipe(Tt(u)).subscribe(()=>{hg.delete(e),t.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let q0=(()=>{class t{constructor(){this.animation=Hq.animation}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Zq=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),Xq=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),nW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),rW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})();var ct=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}(ct||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const lW=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function dW(t){const e=Array.from(t.querySelectorAll(lW)).filter(n=>-1!==n.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let TW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),SW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})();class Wc{constructor(e,n,r){this.nodes=e,this.viewRef=n,this.componentRef=r}}let TMe=(()=>{class t{constructor(n,r){this._el=n,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(wn(1)).subscribe(()=>{jr(this._zone,this._el.nativeElement,(n,r)=>{r&&yd(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return jr(this._zone,this._el.nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(r){return new(r||t)(b(He),b(Te))};static#t=this.\u0275cmp=Le({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,i){2&r&&(Ra("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),Ge("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Yr],decls:0,vars:0,template:function(r,i){},encapsulation:2})}return t})();class xW{update(e){}close(e){}dismiss(e){}}const EMe=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],DMe=["animation","backdropClass"];class SMe{_applyWindowOptions(e,n){EMe.forEach(r=>{$c(n[r])&&(e[r]=n[r])})}_applyBackdropOptions(e,n){DMe.forEach(r=>{$c(n[r])&&(e[r]=n[r])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Tt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Tt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,n,r,i){this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Fe,this._dismissed=new Fe,this._hidden=new Fe,e.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const n=this._beforeDismiss();!function Uq(t){return t&&t.then}(n)?!1!==n&&this._dismiss(e):n.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ce(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),ik(e,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Rk=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(Rk||{});let xMe=(()=>{class t{constructor(n,r,i){this._document=n,this._elRef=r,this._zone=i,this._closed$=new Fe,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new P,this.shown=new Fe,this.hidden=new Fe}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":jc(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(wn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:n}=this._elRef,r={animation:this.animation,runningTransition:"stop"},s=ik(jr(this._zone,n,()=>n.classList.remove("show"),r),jr(this._zone,this._dialogEl.nativeElement,()=>{},r));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const n={animation:this.animation,runningTransition:"continue"};ik(jr(this._zone,this._elRef.nativeElement,(o,s)=>{s&&yd(o),o.classList.add("show")},n),jr(this._zone,this._dialogEl.nativeElement,()=>{},n)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{mn(n,"keydown").pipe(Tt(this._closed$),In(i=>i.which===ct.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(Rk.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;mn(this._dialogEl.nativeElement,"mousedown").pipe(Tt(this._closed$),fn(()=>r=!1),Ci(()=>mn(n,"mouseup").pipe(Tt(this._closed$),wn(1))),In(({target:i})=>n===i)).subscribe(()=>{r=!0}),mn(n,"click").pipe(Tt(this._closed$)).subscribe(({target:i})=>{n===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(Rk.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){const r=n.querySelector("[ngbAutofocus]"),i=dW(n)[0];(r||i||n).focus()}}_restoreFocus(){const n=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&n.contains(r)?r:n,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&jr(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(r){return new(r||t)(b(zt),b(He),b(Te))};static#t=this.\u0275cmp=Le({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(r,i){if(1&r&&La(MNe,7),2&r){let o;nt(o=function rt(){return function Vne(t,e){return t[Ki].queries[e].queryList}(L(),n2())}())&&(i._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,i){2&r&&(Je("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),Ra("modal d-block"+(i.windowClass?" "+i.windowClass:"")),Ge("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Yr],ngContentSelectors:nNe,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(r,i){1&r&&(function e3(t){const e=L()[Ht][Kn];if(!e.projection){const r=e.projection=Yd(t?t.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=t?cee(o,t):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}(),g(0,"div",0,1)(2,"div",2),function t3(t,e=0,n){const r=L(),i=Re(),o=Uu(i,Se+t,16,null,n||null);null===o.projection&&(o.projection=e),e1(),(!r[Oo]||gu())&&32!=(32&o.flags)&&function aJ(t,e,n){iF(e[pe],0,e,n,S1(t,n,e),Z2(n.parent||e[Kn],n,e))}(i,r,o)}(3),m()()),2&r&&Ra("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return t})(),AMe=(()=>{class t{constructor(n){this._document=n}hide(){const n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:o,paddingRight:s}=i;if(n>0){const a=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${a+n}px`}return i.overflow="hidden",()=>{n>0&&(i.paddingRight=s),i.overflow=o}}static#e=this.\u0275fac=function(r){return new(r||t)(q(zt))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),NMe=(()=>{class t{constructor(n,r,i,o,s,a,c){this._applicationRef=n,this._injector=r,this._environmentInjector=i,this._document=o,this._scrollBar=s,this._rendererFactory=a,this._ngZone=c,this._activeWindowCmptHasChanged=new Fe,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new P,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const u=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{t.runOutsideAngular(()=>{const i=mn(e,"focusin").pipe(Tt(n),Oe(o=>o.target));mn(e,"keydown").pipe(Tt(n),In(o=>o.which===ct.Tab),ok(i)).subscribe(([o,s])=>{const[a,c]=dW(e);(s===a||s===e)&&o.shiftKey&&(c.focus(),o.preventDefault()),s===c&&!o.shiftKey&&(a.focus(),o.preventDefault())}),r&&mn(e,"click").pipe(Tt(n),ok(i),Oe(o=>o[1])).subscribe(o=>o.focus())})})(this._ngZone,u.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(u.location.nativeElement)}})}_restoreScrollBar(){const n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,r,i){const o=i.container instanceof HTMLElement?i.container:$c(i.container)?this._document.querySelector(i.container):this._document.body,s=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new xW,c=(n=i.injector||n).get(Sr,null)||this._environmentInjector,u=this._getContentRef(n,c,r,a,i);let l=!1!==i.backdrop?this._attachBackdrop(o):void 0,d=this._attachWindowComponent(o,u.nodes),h=new SMe(d,u,l,i.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(d),h.hidden.pipe(wn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=f=>{h.close(f)},a.dismiss=f=>{h.dismiss(f)},a.update=f=>{h.update(f)},h.update(i),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),l&&l.instance&&l.changeDetectorRef.detectChanges(),d.changeDetectorRef.detectChanges(),h}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(r=>r.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let r=mI(TMe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),n.appendChild(r.location.nativeElement),r}_attachWindowComponent(n,r){let i=mI(xMe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),n.appendChild(i.location.nativeElement),i}_getContentRef(n,r,i,o,s){return i?i instanceof At?this._createFromTemplateRef(i,o):jc(i)?this._createFromString(i):this._createFromComponent(n,r,i,o,s):new Wc([])}_createFromTemplateRef(n,r){const o=n.createEmbeddedView({$implicit:r,close(s){r.close(s)},dismiss(s){r.dismiss(s)}});return this._applicationRef.attachView(o),new Wc([o.rootNodes],o)}_createFromString(n){const r=this._document.createTextNode(`${n}`);return new Wc([[r]])}_createFromComponent(n,r,i,o,s){const c=mI(i,{environmentInjector:r,elementInjector:en.create({providers:[{provide:xW,useValue:o}],parent:n})}),u=c.location.nativeElement;return s.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new Wc([[u]],c.hostView,c)}_setAriaHidden(n){const r=n.parentElement;r&&n!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==n&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,r)=>{n?r.setAttribute("aria-hidden",n):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){const r=()=>{const i=this._modalRefs.indexOf(n);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(r,r)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{const r=this._windowCmpts.indexOf(n);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(r){return new(r||t)(q(Ns),q(en),q(Sr),q(zt),q(AMe),q(ew),q(Te))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),OMe=(()=>{class t{constructor(n){this._ngbConfig=n,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}static#e=this.\u0275fac=function(r){return new(r||t)(q(q0))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),MMe=(()=>{class t{constructor(n,r,i){this._injector=n,this._modalStack=r,this._config=i}open(n,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,n,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(r){return new(r||t)(q(en),q(NMe),q(OMe))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),AW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({providers:[MMe]})}return t})(),MW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),UW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),jW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),$W=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),HW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),GW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),zW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),qW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),WW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})();new te("live announcer delay",{providedIn:"root",factory:function WMe(){return 100}});let KW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),YW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})();const YMe=[Zq,Xq,nW,rW,TW,SW,AW,MW,YW,UW,jW,$W,HW,GW,zW,qW,WW,KW];let QMe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({imports:[YMe,Zq,Xq,nW,rW,TW,SW,AW,MW,YW,UW,jW,$W,HW,GW,zW,qW,WW,KW]})}return t})(),JMe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({imports:[Ua,LC,Z_]})}return t})(),ZMe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({imports:[Ua,LC,Z_,cq,rk,fl,JMe]})}return t})(),XMe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({imports:[Ua,Z_,LC,fl]})}return t})(),eRe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t,bootstrap:[rxe]});static#n=this.\u0275inj=we({providers:[{provide:sq,useValue:"tinymce/tinymce.min.js"}],imports:[Nse,QSe,ixe,cq,ZMe,XMe,vve(()=>bve(P0_firebaseConfig)),LEe(()=>UEe()),Ixe,QMe,rk]})}return t})();xse().bootstrapModule(eRe).catch(t=>console.error(t))},614:()=>{const Ie=":";const Ag=function(S,...D){if(Ag.translate){const V=Ag.translate(S,D);S=V[0],D=V[1]}let R=bb(S[0],S.raw[0]);for(let V=1;V<S.length;V++)R+=D[V-1]+bb(S[V],S.raw[V]);return R},Uk=":";function bb(S,D){return D.charAt(0)===Uk?S.substring(function xd(S,D){for(let R=1,V=1;R<S.length;R++,V++)if("\\"===D[V])V++;else if(S[R]===Ie)return R;throw new Error(`Unterminated $localize metadata block in "${D}".`)}(S,D)+1):S}globalThis.$localize=Ag}},Ie=>{var gs=ms=>Ie(Ie.s=ms);gs(614),gs(886)}]);