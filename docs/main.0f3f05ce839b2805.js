"use strict";(self.webpackChunkThe_Natural_Way=self.webpackChunkThe_Natural_Way||[]).push([[179],{891:()=>{function Ie(t){return"function"==typeof t}function ps(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const pa=ps(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function gs(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Bt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ie(r))try{r()}catch(o){e=o instanceof pa?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{ga(o)}catch(s){e=e??[],s instanceof pa?e=[...e,...s.errors]:e.push(s)}}if(e)throw new pa(e)}}add(e){var n;if(e&&e!==this)if(this.closed)ga(e);else{if(e instanceof Bt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&gs(n,e)}remove(e){const{_finalizers:n}=this;n&&gs(n,e),e instanceof Bt&&e._removeParent(this)}}Bt.EMPTY=(()=>{const t=new Bt;return t.closed=!0,t})();const bd=Bt.EMPTY;function _g(t){return t instanceof Bt||t&&"closed"in t&&Ie(t.remove)&&Ie(t.add)&&Ie(t.unsubscribe)}function ga(t){Ie(t)?t():t.unsubscribe()}const ms={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Jc={setTimeout(t,e,...n){const{delegate:r}=Jc;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Jc;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function cb(t){Jc.setTimeout(()=>{const{onUnhandledError:e}=ms;if(!e)throw t;e(t)})}function ma(){}const ub=wd("C",void 0,void 0);function wd(t,e,n){return{kind:t,value:e,error:n}}let Co=null;function zi(t){if(ms.useDeprecatedSynchronousErrorHandling){const e=!Co;if(e&&(Co={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Co;if(Co=null,n)throw r}}else t()}class Zc extends Bt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,_g(e)&&e.add(this)):this.destination=Td}static create(e,n,r){return new Do(e,n,r)}next(e){this.isStopped?Id(function db(t){return wd("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Id(function lb(t){return wd("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Id(ub,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const yg=Function.prototype.bind;function Xc(t,e){return yg.call(t,e)}class vg{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Vr(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Vr(r)}else Vr(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Vr(n)}}}class Do extends Zc{constructor(e,n,r){let i;if(super(),Ie(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&ms.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Xc(e.next,o),error:e.error&&Xc(e.error,o),complete:e.complete&&Xc(e.complete,o)}):i=e}this.destination=new vg(i)}}function Vr(t){ms.useDeprecatedSynchronousErrorHandling?function hb(t){ms.useDeprecatedSynchronousErrorHandling&&Co&&(Co.errorThrown=!0,Co.error=t)}(t):cb(t)}function Id(t,e){const{onStoppedNotification:n}=ms;n&&Jc.setTimeout(()=>n(t,e))}const Td={closed:!0,next:ma,error:function bg(t){throw t},complete:ma},Ed="function"==typeof Symbol&&Symbol.observable||"@@observable";function wi(t){return t}function Ig(t){return 0===t.length?wi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Ue=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function pb(t){return t&&t instanceof Zc||function fb(t){return t&&Ie(t.next)&&Ie(t.error)&&Ie(t.complete)}(t)&&_g(t)}(n)?n:new Do(n,r,i);return zi(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Tg(r))((i,o)=>{const s=new Do({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Ed](){return this}pipe(...n){return Ig(n)(this)}toPromise(n){return new(n=Tg(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Tg(t){var e;return null!==(e=t??ms.Promise)&&void 0!==e?e:Promise}const gb=ps(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Fe=(()=>{class t extends Ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Eg(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new gb}next(n){zi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){zi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){zi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?bd:(this.currentObservers=null,o.push(n),new Bt(()=>{this.currentObservers=null,gs(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Ue;return n.source=this,n}}return t.create=(e,n)=>new Eg(e,n),t})();class Eg extends Fe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:bd}}function Cd(t){return Ie(t?.lift)}function Dt(t){return e=>{if(Cd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function st(t,e,n,r,i){return new mb(t,e,n,r,i)}class mb extends Zc{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function xe(t,e){return Dt((n,r)=>{let i=0;n.subscribe(st(r,o=>{r.next(t.call(e,o,i++))}))})}function tu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function _r(t){return this instanceof _r?(this.v=t,this):new _r(t)}function yr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Ut(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}(a,c,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Ib=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Fk(t){return Ie(t?.then)}function Lk(t){return Ie(t[Ed])}function Vk(t){return Symbol.asyncIterator&&Ie(t?.[Symbol.asyncIterator])}function Bk(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Uk=function aK(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function jk(t){return Ie(t?.[Uk])}function $k(t){return function _a(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(g,y){o.push([h,f,g,y])>1||a(h,f)})})}function a(h,f){try{!function c(h){h.value instanceof _r?Promise.resolve(h.value.v).then(u,l):d(o[0][2],h)}(r[h](f))}catch(g){d(o[0][3],g)}}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield _r(n.read());if(i)return yield _r(void 0);yield yield _r(r)}}finally{n.releaseLock()}})}function Hk(t){return Ie(t?.getReader)}function an(t){if(t instanceof Ue)return t;if(null!=t){if(Lk(t))return function cK(t){return new Ue(e=>{const n=t[Ed]();if(Ie(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Ib(t))return function uK(t){return new Ue(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Fk(t))return function lK(t){return new Ue(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,cb)})}(t);if(Vk(t))return Gk(t);if(jk(t))return function dK(t){return new Ue(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Hk(t))return function hK(t){return Gk($k(t))}(t)}throw Bk(t)}function Gk(t){return new Ue(e=>{(function fK(t,e){var n,r,i,o;return function M(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=yr(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function So(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function cn(t,e,n=1/0){return Ie(e)?cn((r,i)=>xe((o,s)=>e(r,o,i,s))(an(t(r,i))),n):("number"==typeof e&&(n=e),Dt((r,i)=>function pK(t,e,n,r,i,o,s,a){const c=[];let u=0,l=0,d=!1;const h=()=>{d&&!c.length&&!u&&e.complete()},f=y=>u<r?g(y):c.push(y),g=y=>{o&&e.next(y),u++;let v=!1;an(n(y,l++)).subscribe(st(e,T=>{i?.(T),o?f(T):e.next(T)},()=>{v=!0},void 0,()=>{if(v)try{for(u--;c.length&&u<r;){const T=c.shift();s?So(e,s,()=>g(T)):g(T)}h()}catch(T){e.error(T)}}))};return t.subscribe(st(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function ru(t=1/0){return cn(wi,t)}const si=new Ue(t=>t.complete());function zk(t){return t&&Ie(t.schedule)}function Tb(t){return t[t.length-1]}function Ag(t){return Ie(Tb(t))?t.pop():void 0}function Sd(t){return zk(Tb(t))?t.pop():void 0}function xg(t,e=0){return Dt((n,r)=>{n.subscribe(st(r,i=>So(r,t,()=>r.next(i),e),()=>So(r,t,()=>r.complete(),e),i=>So(r,t,()=>r.error(i),e)))})}function Ng(t,e=0){return Dt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function qk(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ue(n=>{So(n,e,()=>{const r=t[Symbol.asyncIterator]();So(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function yn(t,e){return e?function IK(t,e){if(null!=t){if(Lk(t))return function _K(t,e){return an(t).pipe(Ng(e),xg(e))}(t,e);if(Ib(t))return function vK(t,e){return new Ue(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Fk(t))return function yK(t,e){return an(t).pipe(Ng(e),xg(e))}(t,e);if(Vk(t))return qk(t,e);if(jk(t))return function bK(t,e){return new Ue(n=>{let r;return So(n,e,()=>{r=t[Uk](),So(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Ie(r?.return)&&r.return()})}(t,e);if(Hk(t))return function wK(t,e){return qk($k(t),e)}(t,e)}throw Bk(t)}(t,e):an(t)}class vr extends Fe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function ce(...t){return yn(t,Sd(t))}function Eb(t={}){const{connector:e=(()=>new Fe),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,u=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=c=void 0,l=d=!1},g=()=>{const y=s;f(),y?.unsubscribe()};return Dt((y,v)=>{u++,!d&&!l&&h();const T=c=c??e();v.add(()=>{u--,0===u&&!d&&!l&&(a=Cb(g,i))}),T.subscribe(v),!s&&u>0&&(s=new Do({next:w=>T.next(w),error:w=>{d=!0,h(),a=Cb(f,n,w),T.error(w)},complete:()=>{l=!0,h(),a=Cb(f,r),T.complete()}}),an(y).subscribe(s))})(o)}}function Cb(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Do({next:()=>{r.unsubscribe(),t()}});return an(e(...n)).subscribe(r)}function ai(t,e){return Dt((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(st(r,c=>{i?.unsubscribe();let u=0;const l=o++;an(t(c,l)).subscribe(i=st(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function TK(t,e){return t===e}function Ze(t){for(let e in t)if(t[e]===Ze)return e;throw Error("Could not find renamed property on target object.")}function Og(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function un(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(un).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Db(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const EK=Ze({__forward_ref__:Ze});function Ce(t){return t.__forward_ref__=Ce,t.toString=function(){return un(this())},t}function de(t){return Sb(t)?t():t}function Sb(t){return"function"==typeof t&&t.hasOwnProperty(EK)&&t.__forward_ref__===Ce}function Ab(t){return t&&!!t.\u0275providers}const Yk="https://g.co/ng/security#xss";class U extends Error{constructor(e,n){super(function Mg(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function fe(t){return"string"==typeof t?t:null==t?"":String(t)}function xb(t,e){throw new U(-201,!1)}function ci(t,e){null==t&&function ue(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function we(t){return{providers:t.providers||[],imports:t.imports||[]}}function Rg(t){return Qk(t,Pg)||Qk(t,Jk)}function Qk(t,e){return t.hasOwnProperty(e)?t[e]:null}function kg(t){return t&&(t.hasOwnProperty(Nb)||t.hasOwnProperty(MK))?t[Nb]:null}const Pg=Ze({\u0275prov:Ze}),Nb=Ze({\u0275inj:Ze}),Jk=Ze({ngInjectableDef:Ze}),MK=Ze({ngInjectorDef:Ze});var De=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(De||{});let Ob;function br(t){const e=Ob;return Ob=t,e}function Xk(t,e,n){const r=Rg(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&De.Optional?null:void 0!==e?e:void xb(un(t))}const at=globalThis;class te{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ad={},Fb="__NG_DI_FLAG__",Fg="ngTempTokenPath",PK=/\n/gm,tP="__source";let iu;function ys(t){const e=iu;return iu=t,e}function VK(t,e=De.Default){if(void 0===iu)throw new U(-203,!1);return null===iu?Xk(t,void 0,e):iu.get(t,e&De.Optional?null:void 0,e)}function W(t,e=De.Default){return(function Zk(){return Ob}()||VK)(de(t),e)}function G(t,e=De.Default){return W(t,Lg(e))}function Lg(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Lb(t){const e=[];for(let n=0;n<t.length;n++){const r=de(t[n]);if(Array.isArray(r)){if(0===r.length)throw new U(900,!1);let i,o=De.Default;for(let s=0;s<r.length;s++){const a=r[s],c=BK(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push(W(i,o))}else e.push(W(r))}return e}function xd(t,e){return t[Fb]=e,t.prototype[Fb]=e,t}function BK(t){return t[Fb]}function Ao(t){return{toString:t}.toString()}var Vg=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Vg||{}),Ii=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ii||{});const qi={},je=[],Bg=Ze({\u0275cmp:Ze}),Vb=Ze({\u0275dir:Ze}),Bb=Ze({\u0275pipe:Ze}),rP=Ze({\u0275mod:Ze}),xo=Ze({\u0275fac:Ze}),Nd=Ze({__NG_ELEMENT_ID__:Ze}),iP=Ze({__NG_ENV_ID__:Ze});function oP(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Ub(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];aP(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function sP(t){return 3===t||4===t||6===t}function aP(t){return 64===t.charCodeAt(0)}function Od(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||cP(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function cP(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const uP="ng-template";function $K(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==oP(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function lP(t){return 4===t.type&&t.value!==uP}function HK(t,e,n){return e===(4!==t.type||n?t.value:uP)}function GK(t,e,n){let r=4;const i=t.attrs||[],o=function WK(t){for(let e=0;e<t.length;e++)if(sP(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!HK(t,c,n)||""===c&&1===e.length){if(Ti(r))return!1;s=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!$K(t.attrs,u,n)){if(Ti(r))return!1;s=!0}continue}const d=zK(8&r?"class":c,i,lP(t),n);if(-1===d){if(Ti(r))return!1;s=!0;continue}if(""!==u){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==oP(f,u,0)||2&r&&u!==h){if(Ti(r))return!1;s=!0}}}}else{if(!s&&!Ti(r)&&!Ti(c))return!1;if(s&&Ti(c))continue;s=!1,r=c|1&r}}return Ti(r)||s}function Ti(t){return 0==(1&t)}function zK(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function KK(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function dP(t,e,n=!1){for(let r=0;r<e.length;r++)if(GK(t,e[r],n))return!0;return!1}function YK(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function hP(t,e){return t?":not("+e.trim()+")":e}function QK(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Ti(s)&&(e+=hP(o,i),i=""),r=s,o=o||!Ti(r);n++}return""!==i&&(e+=hP(o,i)),e}function Ge(t){return Ao(()=>{const e=pP(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Vg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ii.Emulated,styles:t.styles||je,_:null,schemas:t.schemas||null,tView:null,id:""};gP(n);const r=t.dependencies;return n.directiveDefs=Ug(r,!1),n.pipeDefs=Ug(r,!0),n.id=function iY(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function eY(t){return Me(t)||On(t)}function tY(t){return null!==t}function Te(t){return Ao(()=>({type:t.type,bootstrap:t.bootstrap||je,declarations:t.declarations||je,imports:t.imports||je,exports:t.exports||je,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function fP(t,e){if(null==t)return qi;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function H(t){return Ao(()=>{const e=pP(t);return gP(e),e})}function Wn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Me(t){return t[Bg]||null}function On(t){return t[Vb]||null}function rr(t){return t[Bb]||null}function Ur(t,e){const n=t[rP]||null;if(!n&&!0===e)throw new Error(`Type ${un(t)} does not have '\u0275mod' property.`);return n}function pP(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||qi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||je,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:fP(t.inputs,e),outputs:fP(t.outputs)}}function gP(t){t.features?.forEach(e=>e(t))}function Ug(t,e){if(!t)return null;const n=e?rr:eY;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(tY)}const Rt=0,ee=1,ye=2,wt=3,Ei=4,Md=5,Kn=6,su=7,jt=8,vs=9,au=10,pe=11,Rd=12,mP=13,cu=14,$t=15,kd=16,uu=17,Wi=18,Pd=19,_P=20,bs=21,No=22,Fd=23,Ld=24,Se=25,jb=1,yP=2,Ki=7,lu=9,Mn=11;function wr(t){return Array.isArray(t)&&"object"==typeof t[jb]}function ir(t){return Array.isArray(t)&&!0===t[jb]}function $b(t){return 0!=(4&t.flags)}function ba(t){return t.componentOffset>-1}function $g(t){return 1==(1&t.flags)}function Ci(t){return!!t.template}function Hb(t){return 0!=(512&t[ye])}function wa(t,e){return t.hasOwnProperty(xo)?t[xo]:null}let Rn=null,Hg=!1;function ui(t){const e=Rn;return Rn=t,e}const wP={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function TP(t){if(!Bd(t)||t.dirty){if(!t.producerMustRecompute(t)&&!DP(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function CP(t){t.dirty=!0,function EP(t){if(void 0===t.liveConsumerNode)return;const e=Hg;Hg=!0;try{for(const n of t.liveConsumerNode)n.dirty||CP(n)}finally{Hg=e}}(t),t.consumerMarkedDirty?.(t)}function zb(t){return t&&(t.nextProducerIndex=0),ui(t)}function qb(t,e){if(ui(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Bd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Gg(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function DP(t){du(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(TP(n),r!==n.version))return!0}return!1}function SP(t){if(du(t),Bd(t))for(let e=0;e<t.producerNode.length;e++)Gg(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Gg(t,e){if(function xP(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),du(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Gg(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];du(i),i.producerIndexOfThis[r]=e}}function Bd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function du(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let NP=null;const kP=()=>{},_Y=(()=>({...wP,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:kP}))();class yY{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function kn(){return PP}function PP(t){return t.type.prototype.ngOnChanges&&(t.setInput=bY),vY}function vY(){const t=LP(this),e=t?.current;if(e){const n=t.previous;if(n===qi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function bY(t,e,n,r){const i=this.declaredInputs[n],o=LP(t)||function wY(t,e){return t[FP]=e}(t,{previous:qi,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new yY(c&&c.currentValue,e,a===qi),t[r]=e}kn.ngInherit=!0;const FP="__ngSimpleChanges__";function LP(t){return t[FP]||null}const Yi=function(t,e,n){};function ct(t){for(;Array.isArray(t);)t=t[Rt];return t}function zg(t,e){return ct(e[t])}function Ir(t,e){return ct(e[t.index])}function UP(t,e){return t.data[e]}function hu(t,e){return t[e]}function jr(t,e){const n=e[t];return wr(n)?n:n[Rt]}function Is(t,e){return null==e?null:t[e]}function jP(t){t[uu]=0}function SY(t){1024&t[ye]||(t[ye]|=1024,HP(t,1))}function $P(t){1024&t[ye]&&(t[ye]&=-1025,HP(t,-1))}function HP(t,e){let n=t[wt];if(null===n)return;n[Md]+=e;let r=n;for(n=n[wt];null!==n&&(1===e&&1===r[Md]||-1===e&&0===r[Md]);)n[Md]+=e,r=n,n=n[wt]}const le={lFrame:e2(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function qP(){return le.bindingsEnabled}function fu(){return null!==le.skipHydrationRootTNode}function L(){return le.lFrame.lView}function Re(){return le.lFrame.tView}function ht(t){return le.lFrame.contextLView=t,t[jt]}function ft(t){return le.lFrame.contextLView=null,t}function Pn(){let t=WP();for(;null!==t&&64===t.type;)t=t.parent;return t}function WP(){return le.lFrame.currentTNode}function Qi(t,e){const n=le.lFrame;n.currentTNode=t,n.isParent=e}function Jb(){return le.lFrame.isParent}function Zb(){le.lFrame.isParent=!1}function or(){const t=le.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function pu(){return le.lFrame.bindingIndex++}function Mo(t){const e=le.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function BY(t,e){const n=le.lFrame;n.bindingIndex=n.bindingRootIndex=t,Xb(e)}function Xb(t){le.lFrame.currentDirectiveIndex=t}function JP(){return le.lFrame.currentQueryIndex}function t1(t){le.lFrame.currentQueryIndex=t}function jY(t){const e=t[ee];return 2===e.type?e.declTNode:1===e.type?t[Kn]:null}function ZP(t,e,n){if(n&De.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&De.Host||(i=jY(o),null===i||(o=o[cu],10&i.type))););if(null===i)return!1;e=i,t=o}const r=le.lFrame=XP();return r.currentTNode=e,r.lView=t,!0}function n1(t){const e=XP(),n=t[ee];le.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function XP(){const t=le.lFrame,e=null===t?null:t.child;return null===e?e2(t):e}function e2(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function t2(){const t=le.lFrame;return le.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const n2=t2;function r1(){const t=t2();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function sr(){return le.lFrame.selectedIndex}function Ia(t){le.lFrame.selectedIndex=t}function St(){const t=le.lFrame;return UP(t.tView,t.selectedIndex)}function gu(){le.lFrame.currentNamespace="svg"}function qg(){!function zY(){le.lFrame.currentNamespace=null}()}let i2=!0;function Wg(){return i2}function Ts(t){i2=t}function Kg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Yg(t,e,n){o2(t,e,3,n)}function Qg(t,e,n,r){(3&t[ye])===n&&o2(t,e,n,r)}function i1(t,e){let n=t[ye];(3&n)===e&&(n&=8191,n+=1,t[ye]=n)}function o2(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&t[uu]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[uu]+=65536),(a<o||-1==o)&&(WY(t,n,e,c),t[uu]=(4294901760&t[uu])+c+2),c++}function s2(t,e){Yi(4,t,e);const n=ui(null);try{e.call(t)}finally{ui(n),Yi(5,t,e)}}function WY(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[ye]>>13<t[uu]>>16&&(3&t[ye])===e&&(t[ye]+=8192,s2(a,o)):s2(a,o)}const mu=-1;class jd{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function s1(t){return t!==mu}function $d(t){return 32767&t}function Hd(t,e){let n=function JY(t){return t>>16}(t),r=e;for(;n>0;)r=r[cu],n--;return r}let a1=!0;function Jg(t){const e=a1;return a1=t,e}const a2=255,c2=5;let ZY=0;const Ji={};function Zg(t,e){const n=u2(t,e);if(-1!==n)return n;const r=e[ee];r.firstCreatePass&&(t.injectorIndex=e.length,c1(r.data,t),c1(e,null),c1(r.blueprint,null));const i=Xg(t,e),o=t.injectorIndex;if(s1(i)){const s=$d(i),a=Hd(i,e),c=a[ee].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function c1(t,e){t.push(0,0,0,0,0,0,0,0,e)}function u2(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Xg(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=m2(i),null===r)return mu;if(n++,i=i[cu],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return mu}function u1(t,e,n){!function XY(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Nd)&&(r=n[Nd]),null==r&&(r=n[Nd]=ZY++);const i=r&a2;e.data[t+(i>>c2)]|=1<<i}(t,e,n)}function l2(t,e,n){if(n&De.Optional||void 0!==t)return t;xb()}function d2(t,e,n,r){if(n&De.Optional&&void 0===r&&(r=null),!(n&(De.Self|De.Host))){const i=t[vs],o=br(void 0);try{return i?i.get(e,r,n&De.Optional):Xk(e,r,n&De.Optional)}finally{br(o)}}return l2(r,0,n)}function h2(t,e,n,r=De.Default,i){if(null!==t){if(2048&e[ye]&&!(r&De.Self)){const s=function oQ(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[ye]&&!(512&s[ye]);){const a=f2(o,s,n,r|De.Self,Ji);if(a!==Ji)return a;let c=o.parent;if(!c){const u=s[_P];if(u){const l=u.get(n,Ji,r);if(l!==Ji)return l}c=m2(s),s=s[cu]}o=c}return i}(t,e,n,r,Ji);if(s!==Ji)return s}const o=f2(t,e,n,r,Ji);if(o!==Ji)return o}return d2(e,n,r,i)}function f2(t,e,n,r,i){const o=function nQ(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Nd)?t[Nd]:void 0;return"number"==typeof e?e>=0?e&a2:iQ:e}(n);if("function"==typeof o){if(!ZP(e,t,r))return r&De.Host?l2(i,0,r):d2(e,n,r,i);try{let s;if(s=o(r),null!=s||r&De.Optional)return s;xb()}finally{n2()}}else if("number"==typeof o){let s=null,a=u2(t,e),c=mu,u=r&De.Host?e[$t][Kn]:null;for((-1===a||r&De.SkipSelf)&&(c=-1===a?Xg(t,e):e[a+8],c!==mu&&g2(r,!1)?(s=e[ee],a=$d(c),e=Hd(c,e)):a=-1);-1!==a;){const l=e[ee];if(p2(o,a,l.data)){const d=tQ(a,e,n,s,r,u);if(d!==Ji)return d}c=e[a+8],c!==mu&&g2(r,e[ee].data[a+8]===u)&&p2(o,a,e)?(s=l,a=$d(c),e=Hd(c,e)):a=-1}}return i}function tQ(t,e,n,r,i,o){const s=e[ee],a=s.data[t+8],l=em(a,s,n,null==r?ba(a)&&a1:r!=s&&0!=(3&a.type),i&De.Host&&o===a);return null!==l?Ta(e,s,l,a):Ji}function em(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,l=o>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const g=s[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(i){const f=s[c];if(f&&Ci(f)&&f.type===n)return c}return null}function Ta(t,e,n,r){let i=t[n];const o=e.data;if(function KY(t){return t instanceof jd}(i)){const s=i;s.resolving&&function CK(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new U(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ke(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():fe(t)}(o[n]));const a=Jg(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?br(s.injectImpl):null;ZP(t,r,De.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function qY(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=PP(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==u&&br(u),Jg(a),s.resolving=!1,n2()}}return i}function p2(t,e,n){return!!(n[e+(t>>c2)]&1<<t)}function g2(t,e){return!(t&De.Self||t&De.Host&&e)}class ar{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return h2(this._tNode,this._lView,e,Lg(r),n)}}function iQ(){return new ar(Pn(),L())}function Ht(t){return Ao(()=>{const e=t.prototype.constructor,n=e[xo]||l1(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[xo]||l1(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function l1(t){return Sb(t)?()=>{const e=l1(de(t));return e&&e()}:wa(t)}function m2(t){const e=t[ee],n=e.type;return 2===n?e.declTNode:1===n?t[Kn]:null}const yu="__parameters__";function bu(t,e,n){return Ao(()=>{const r=function d1(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,u,l){const d=c.hasOwnProperty(yu)?c[yu]:Object.defineProperty(c,yu,{value:[]})[yu];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Iu(t,e){t.forEach(n=>Array.isArray(n)?Iu(n,e):e(n))}function y2(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function tm(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function qd(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function $r(t,e,n){let r=Tu(t,e);return r>=0?t[1|r]=n:(r=~r,function hQ(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function h1(t,e){const n=Tu(t,e);if(n>=0)return t[1|n]}function Tu(t,e){return function v2(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const Tr=xd(bu("Optional"),8),rm=xd(bu("SkipSelf"),4);function cm(t){return 128==(128&t.flags)}var Es=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Es||{});const RQ=/^>|^->|<!--|-->|--!>|<!-$/g,kQ=/(<|>)/g,PQ="\u200b$1\u200b";const _1=new Map;let FQ=0;const v1="__ngContext__";function Yn(t,e){wr(e)?(t[v1]=e[Pd],function VQ(t){_1.set(t[Pd],t)}(e)):t[v1]=e}let b1;function w1(t,e){return b1(t,e)}function Yd(t){const e=t[wt];return ir(e)?e[wt]:e}function B2(t){return j2(t[Rd])}function U2(t){return j2(t[Ei])}function j2(t){for(;null!==t&&!ir(t);)t=t[Ei];return t}function Du(t,e,n,r,i){if(null!=r){let o,s=!1;ir(r)?o=r:wr(r)&&(s=!0,r=r[Rt]);const a=ct(r);0===t&&null!==n?null==i?z2(e,n,a):Ca(e,n,a,i||null,!0):1===t&&null!==n?Ca(e,n,a,i||null,!0):2===t?function gm(t,e,n){const r=fm(t,e);r&&function rJ(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function sJ(t,e,n,r,i){const o=n[Ki];o!==ct(n)&&Du(e,t,r,o,i);for(let a=Mn;a<n.length;a++){const c=n[a];Jd(c[ee],c,t,e,r,o)}}(e,t,o,n,i)}}function I1(t,e){return t.createComment(function O2(t){return t.replace(RQ,e=>e.replace(kQ,PQ))}(e))}function dm(t,e,n){return t.createElement(e,n)}function H2(t,e){const n=t[lu],r=n.indexOf(e);$P(e),n.splice(r,1)}function hm(t,e){if(t.length<=Mn)return;const n=Mn+e,r=t[n];if(r){const i=r[kd];null!==i&&i!==t&&H2(i,r),e>0&&(t[n-1][Ei]=r[Ei]);const o=tm(t,Mn+e);!function YQ(t,e){Jd(t,e,e[pe],2,null,null),e[Rt]=null,e[Kn]=null}(r[ee],r);const s=o[Wi];null!==s&&s.detachView(o[ee]),r[wt]=null,r[Ei]=null,r[ye]&=-129}return r}function T1(t,e){if(!(256&e[ye])){const n=e[pe];e[Fd]&&SP(e[Fd]),e[Ld]&&SP(e[Ld]),n.destroyNode&&Jd(t,e,n,3,null,null),function ZQ(t){let e=t[Rd];if(!e)return E1(t[ee],t);for(;e;){let n=null;if(wr(e))n=e[Rd];else{const r=e[Mn];r&&(n=r)}if(!n){for(;e&&!e[Ei]&&e!==t;)wr(e)&&E1(e[ee],e),e=e[wt];null===e&&(e=t),wr(e)&&E1(e[ee],e),n=e&&e[Ei]}e=n}}(e)}}function E1(t,e){if(!(256&e[ye])){e[ye]&=-129,e[ye]|=256,function nJ(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof jd)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];Yi(4,a,c);try{c.call(a)}finally{Yi(5,a,c)}}else{Yi(4,i,o);try{o.call(i)}finally{Yi(5,i,o)}}}}}(t,e),function tJ(t,e){const n=t.cleanup,r=e[su];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[su]=null);const i=e[bs];if(null!==i){e[bs]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[ee].type&&e[pe].destroy();const n=e[kd];if(null!==n&&ir(e[wt])){n!==e[wt]&&H2(n,e);const r=e[Wi];null!==r&&r.detachView(t)}!function BQ(t){_1.delete(t[Pd])}(e)}}function C1(t,e,n){return function G2(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Rt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===Ii.None||o===Ii.Emulated)return null}return Ir(r,n)}}(t,e.parent,n)}function Ca(t,e,n,r,i){t.insertBefore(e,n,r,i)}function z2(t,e,n){t.appendChild(e,n)}function q2(t,e,n,r,i){null!==r?Ca(t,e,n,r,i):z2(t,e,n)}function fm(t,e){return t.parentNode(e)}function W2(t,e,n){return Y2(t,e,n)}let D1,mm,N1,_m,Y2=function K2(t,e,n){return 40&t.type?Ir(t,n):null};function pm(t,e,n,r){const i=C1(t,r,e),o=e[pe],a=W2(r.parent||e[Kn],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)q2(o,i,n[c],a,!1);else q2(o,i,n,a,!1);void 0!==D1&&D1(o,r,e,n,i)}function Qd(t,e){if(null!==e){const n=e.type;if(3&n)return Ir(e,t);if(4&n)return S1(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Qd(t,r);{const i=t[e.index];return ir(i)?S1(-1,i):ct(i)}}if(32&n)return w1(e,t)()||ct(t[e.index]);{const r=J2(t,e);return null!==r?Array.isArray(r)?r[0]:Qd(Yd(t[$t]),r):Qd(t,e.next)}}return null}function J2(t,e){return null!==e?t[$t][Kn].projection[e.projection]:null}function S1(t,e){const n=Mn+t+1;if(n<e.length){const r=e[n],i=r[ee].firstChild;if(null!==i)return Qd(r,i)}return e[Ki]}function A1(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===e&&(a&&Yn(ct(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)A1(t,e,n.child,r,i,o,!1),Du(e,t,i,a,o);else if(32&c){const u=w1(n,r);let l;for(;l=u();)Du(e,t,i,l,o);Du(e,t,i,a,o)}else 16&c?X2(t,e,r,n,i,o):Du(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Jd(t,e,n,r,i,o){A1(n,r,t.firstChild,e,i,o,!1)}function X2(t,e,n,r,i,o){const s=n[$t],c=s[Kn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)Du(e,t,i,c[u],o);else{let u=c;const l=s[wt];cm(r)&&(u.flags|=128),A1(t,e,u,l,i,o,!0)}}function eF(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function tF(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Ub(t,e,r),null!==i&&eF(t,e,i),null!==o&&function cJ(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function Su(t){return function x1(){if(void 0===mm&&(mm=null,at.trustedTypes))try{mm=at.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return mm}()?.createHTML(t)||t}function iF(t){return function O1(){if(void 0===_m&&(_m=null,at.trustedTypes))try{_m=at.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return _m}()?.createScriptURL(t)||t}class Da{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Yk})`}}class fJ extends Da{getTypeName(){return"HTML"}}class pJ extends Da{getTypeName(){return"Style"}}class gJ extends Da{getTypeName(){return"Script"}}class mJ extends Da{getTypeName(){return"URL"}}class _J extends Da{getTypeName(){return"ResourceURL"}}function Hr(t){return t instanceof Da?t.changingThisBreaksApplicationSecurity:t}function Zi(t,e){const n=function yJ(t){return t instanceof Da&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Yk})`)}return n===e}class EJ{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(Su(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class CJ{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=Su(e),n}}const SJ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ym(t){return(t=String(t)).match(SJ)?t:"unsafe:"+t}function Ro(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Zd(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const sF=Ro("area,br,col,hr,img,wbr"),aF=Ro("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cF=Ro("rp,rt"),M1=Zd(sF,Zd(aF,Ro("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zd(cF,Ro("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zd(cF,aF)),R1=Ro("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),uF=Zd(R1,Ro("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ro("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),AJ=Ro("script,style,template");class xJ{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!M1.hasOwnProperty(n))return this.sanitizedSomething=!0,!AJ.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!uF.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;R1[a]&&(c=ym(c)),this.buf.push(" ",s,'="',lF(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();M1.hasOwnProperty(n)&&!sF.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(lF(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const NJ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,OJ=/([^\#-~ |!])/g;function lF(t){return t.replace(/&/g,"&amp;").replace(NJ,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(OJ,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let vm;function dF(t,e){let n=null;try{vm=vm||function oF(t){const e=new CJ(t);return function DJ(){try{return!!(new window.DOMParser).parseFromString(Su(""),"text/html")}catch{return!1}}()?new EJ(e):e}(t);let r=e?String(e):"";n=vm.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=vm.getInertBodyElement(r)}while(r!==o);return Su((new xJ).sanitizeChildren(k1(n)||n))}finally{if(n){const r=k1(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function k1(t){return"content"in t&&function MJ(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var di=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(di||{});function Sa(t){const e=Xd();return e?e.sanitize(di.URL,t)||"":Zi(t,"URL")?Hr(t):ym(fe(t))}function bm(t){const e=Xd();if(e)return iF(e.sanitize(di.RESOURCE_URL,t)||"");if(Zi(t,"ResourceURL"))return iF(Hr(t));throw new U(904,!1)}function Xd(){const t=L();return t&&t[au].sanitizer}const eh=new te("ENVIRONMENT_INITIALIZER"),fF=new te("INJECTOR",-1),pF=new te("INJECTOR_DEF_TYPES");class P1{get(e,n=Ad){if(n===Ad){const r=new Error(`NullInjectorError: No provider for ${un(e)}!`);throw r.name="NullInjectorError",r}return n}}function BJ(...t){return{\u0275providers:mF(0,t),\u0275fromNgModule:!0}}function mF(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Iu(e,s=>{const a=s;wm(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&_F(i,o),n}function _F(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];F1(i,o=>{e(o,r)})}}function wm(t,e,n,r){if(!(t=de(t)))return!1;let i=null,o=kg(t);const s=!o&&Me(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const c=t.ngModule;if(o=kg(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of c)wm(u,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{Iu(o.imports,l=>{wm(l,e,n,r)&&(u||=[],u.push(l))})}finally{}void 0!==u&&_F(u,e)}if(!a){const u=wa(i)||(()=>new i);e({provide:i,useFactory:u,deps:je},i),e({provide:pF,useValue:i,multi:!0},i),e({provide:eh,useValue:()=>W(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const u=t;F1(c,l=>{e(l,u)})}}}return i!==t&&void 0!==t.providers}function F1(t,e){for(let n of t)Ab(n)&&(n=n.\u0275providers),Array.isArray(n)?F1(n,e):e(n)}const UJ=Ze({provide:String,useValue:Ze});function L1(t){return null!==t&&"object"==typeof t&&UJ in t}function Aa(t){return"function"==typeof t}const V1=new te("Set Injector scope."),Im={},$J={};let B1;function Tm(){return void 0===B1&&(B1=new P1),B1}class Cr{}class xu extends Cr{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,j1(e,s=>this.processProvider(s)),this.records.set(fF,Nu(void 0,this)),i.has("environment")&&this.records.set(Cr,Nu(void 0,this));const o=this.records.get(V1);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(pF.multi,je,De.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=ys(this),r=br(void 0);try{return e()}finally{ys(n),br(r)}}get(e,n=Ad,r=De.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(iP))return e[iP](this);r=Lg(r);const o=ys(this),s=br(void 0);try{if(!(r&De.SkipSelf)){let c=this.records.get(e);if(void 0===c){const u=function WJ(t){return"function"==typeof t||"object"==typeof t&&t instanceof te}(e)&&Rg(e);c=u&&this.injectableDefInScope(u)?Nu(U1(e),Im):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&De.Self?Tm():this.parent).get(e,n=r&De.Optional&&n===Ad?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Fg]=a[Fg]||[]).unshift(un(e)),o)throw a;return function UK(t,e,n,r){const i=t[Fg];throw e[tP]&&i.unshift(e[tP]),t.message=function jK(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=un(e);if(Array.isArray(e))i=e.map(un).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):un(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(PK,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Fg]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{br(s),ys(o)}}resolveInjectorInitializers(){const e=ys(this),n=br(void 0);try{const i=this.get(eh.multi,je,De.Self);for(const o of i)o()}finally{ys(e),br(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(un(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new U(205,!1)}processProvider(e){let n=Aa(e=de(e))?e:de(e&&e.provide);const r=function GJ(t){return L1(t)?Nu(void 0,t.useValue):Nu(bF(t),Im)}(e);if(Aa(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Nu(void 0,Im,!0),i.factory=()=>Lb(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Im&&(n.value=$J,n.value=n.factory()),"object"==typeof n.value&&n.value&&function qJ(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=de(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function U1(t){const e=Rg(t),n=null!==e?e.factory:wa(t);if(null!==n)return n;if(t instanceof te)throw new U(204,!1);if(t instanceof Function)return function HJ(t){const e=t.length;if(e>0)throw qd(e,"?"),new U(204,!1);const n=function OK(t){return t&&(t[Pg]||t[Jk])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new U(204,!1)}function bF(t,e,n){let r;if(Aa(t)){const i=de(t);return wa(i)||U1(i)}if(L1(t))r=()=>de(t.useValue);else if(function vF(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Lb(t.deps||[]));else if(function yF(t){return!(!t||!t.useExisting)}(t))r=()=>W(de(t.useExisting));else{const i=de(t&&(t.useClass||t.provide));if(!function zJ(t){return!!t.deps}(t))return wa(i)||U1(i);r=()=>new i(...Lb(t.deps))}return r}function Nu(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function j1(t,e){for(const n of t)Array.isArray(n)?j1(n,e):n&&Ab(n)?j1(n.\u0275providers,e):e(n)}const Em=new te("AppId",{providedIn:"root",factory:()=>KJ}),KJ="ng",wF=new te("Platform Initializer"),ko=new te("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),IF=new te("CSP nonce",{providedIn:"root",factory:()=>function Au(){if(void 0!==N1)return N1;if(typeof document<"u")return document;throw new U(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let TF=(t,e,n)=>null;function Y1(t,e,n=!1){return TF(t,e,n)}class iZ{}class DF{}class sZ{resolveComponentFactory(e){throw function oZ(t){const e=Error(`No component factory found for ${un(t)}.`);return e.ngComponent=t,e}(e)}}let Nm=(()=>{class t{static#e=this.NULL=new sZ}return t})();function aZ(){return Ru(Pn(),L())}function Ru(t,e){return new $e(Ir(t,e))}let $e=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=aZ}return t})();function cZ(t){return t instanceof $e?t.nativeElement:t}class Z1{}let Dr=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function uZ(){const t=L(),n=jr(Pn().index,t);return(wr(n)?n:t)[pe]}()}return t})(),lZ=(()=>{class t{static#e=this.\u0275prov=q({token:t,providedIn:"root",factory:()=>null})}return t})();class ku{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const X1=new ku("16.2.12"),ew={};function OF(t,e=null,n=null,r){const i=MF(t,e,n,r);return i.resolveInjectorInitializers(),i}function MF(t,e=null,n=null,r,i=new Set){const o=[n||je,BJ(t)];return r=r||("object"==typeof t?void 0:un(t)),new xu(o,e||Tm(),r||null,i)}let en=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Ad;static#t=this.NULL=new P1;static create(n,r){if(Array.isArray(n))return OF({name:""},r,n,"");{const i=n.name??"";return OF({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=q({token:t,providedIn:"any",factory:()=>W(fF)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function tw(t){return t.ngOriginalError}class Po{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&tw(e);for(;n&&tw(n);)n=tw(n);return n||null}}function nw(t){return e=>{setTimeout(t,void 0,e)}}const R=class yZ extends Fe{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=nw(o),i&&(i=nw(i)),s&&(s=nw(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Bt&&e.add(a),a}};function kF(...t){}class Ee{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new R(!1),this.onMicrotaskEmpty=new R(!1),this.onStable=new R(!1),this.onError=new R(!1),typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function vZ(){const t="function"==typeof at.requestAnimationFrame;let e=at[t?"requestAnimationFrame":"setTimeout"],n=at[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function IZ(t){const e=()=>{!function wZ(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(at,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,iw(t),t.isCheckStableRunning=!0,rw(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),iw(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function EZ(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return PF(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),FF(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return PF(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),FF(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,iw(t),rw(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ee.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(Ee.isInAngularZone())throw new U(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,bZ,kF,kF);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const bZ={};function rw(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function iw(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function PF(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function FF(t){t._nesting--,rw(t)}class TZ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new R,this.onMicrotaskEmpty=new R,this.onStable=new R,this.onError=new R}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const LF=new te("",{providedIn:"root",factory:VF});function VF(){const t=G(Ee);let e=!0;return function Wk(...t){const e=Sd(t),n=function mK(t,e){return"number"==typeof Tb(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?an(r[0]):ru(n)(yn(r,e)):si}(new Ue(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Ue(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Eb()))}function BF(t){return t.ownerDocument.defaultView}function Fo(t){return t instanceof Function?t():t}let ow=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}return t})();function rh(t){for(;t;){t[ye]|=64;const e=Yd(t);if(Hb(t)&&!e)return t;t=e}return null}const GF=new te("",{providedIn:"root",factory:()=>!1});let Rm=null;function KF(t,e){return t[e]??JF()}function YF(t,e){const n=JF();n.producerNode?.length&&(t[e]=Rm,n.lView=t,Rm=QF())}const RZ={...wP,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{rh(t.lView)},lView:null};function QF(){return Object.create(RZ)}function JF(){return Rm??=QF(),Rm}const _e={};function E(t){ZF(Re(),L(),sr()+t,!1)}function ZF(t,e,n,r){if(!r)if(3==(3&e[ye])){const o=t.preOrderCheckHooks;null!==o&&Yg(e,o,n)}else{const o=t.preOrderHooks;null!==o&&Qg(e,o,0,n)}Ia(n)}function b(t,e=De.Default){const n=L();return null===n?W(t,e):h2(Pn(),n,de(t),e)}function km(t,e,n,r,i,o,s,a,c,u,l){const d=e.blueprint.slice();return d[Rt]=i,d[ye]=140|r,(null!==u||t&&2048&t[ye])&&(d[ye]|=2048),jP(d),d[wt]=d[cu]=t,d[jt]=n,d[au]=s||t&&t[au],d[pe]=a||t&&t[pe],d[vs]=c||t&&t[vs]||null,d[Kn]=o,d[Pd]=function LQ(){return FQ++}(),d[No]=l,d[_P]=u,d[$t]=2==e.type?t[$t]:d,d}function Vu(t,e,n,r,i){let o=t.data[e];if(null===o)o=function sw(t,e,n,r,i){const o=WP(),s=Jb(),c=t.data[e]=function jZ(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return fu()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(t,e,n,r,i),function VY(){return le.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Ud(){const t=le.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Qi(o,!0),o}function ih(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function eL(t,e,n,r,i){const o=KF(e,Fd),s=sr(),a=2&r;try{Ia(-1),a&&e.length>Se&&ZF(t,e,Se,!1),Yi(a?2:0,i);const u=a?o:null,l=zb(u);try{null!==u&&(u.dirty=!1),n(r,i)}finally{qb(u,l)}}finally{a&&null===e[Fd]&&YF(e,Fd),Ia(s),Yi(a?3:1,i)}}function aw(t,e,n){if($b(e)){const r=ui(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{ui(r)}}}function cw(t,e,n){qP()&&(function KZ(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;ba(n)&&function tX(t,e,n){const r=Ir(e,t),i=tL(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=Pm(t,km(t,i,null,s,r,e,null,t[au].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Zg(n,e),Yn(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const c=t.data[a],u=Ta(e,t,a,n);Yn(u,e),null!==s&&nX(0,a-i,u,c,0,s),Ci(c)&&(jr(n.index,e)[jt]=Ta(e,t,a,n))}}(t,e,n,Ir(n,e)),64==(64&n.flags)&&sL(t,e,n))}function uw(t,e,n=Ir){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function tL(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=lw(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function lw(t,e,n,r,i,o,s,a,c,u,l){const d=Se+r,h=d+i,f=function PZ(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:_e);return n}(d,h),g="function"==typeof u?u():u;return f[ee]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}let nL=t=>null;function rL(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?iL(n,e,i,o):r.hasOwnProperty(i)&&iL(n,e,r[i],o)}return n}function iL(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Gr(t,e,n,r,i,o,s,a){const c=Ir(e,n);let l,u=e.inputs;!a&&null!=u&&(l=u[r])?(gw(t,n,l,r,i),ba(e)&&function GZ(t,e){const n=jr(e,t);16&n[ye]||(n[ye]|=64)}(n,e.index)):3&e.type&&(r=function HZ(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(c,r,i))}function dw(t,e,n,r){if(qP()){const i=null===r?null:{"":-1},o=function QZ(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(dP(e,s.selectors,!1))if(r||(r=[]),Ci(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),hw(t,e,a.length)}else r.unshift(s),hw(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&oL(t,e,n,s,i,a),i&&function JZ(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new U(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=Od(n.mergedAttrs,n.attrs)}function oL(t,e,n,r,i,o){for(let u=0;u<r.length;u++)u1(Zg(n,e),t,r[u].type);!function XZ(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let u=0;u<r.length;u++){const l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=ih(t,e,r.length,null);for(let u=0;u<r.length;u++){const l=r[u];n.mergedAttrs=Od(n.mergedAttrs,l.hostAttrs),eX(t,n,e,c,l),ZZ(c,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function $Z(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let c=null,u=null;for(let l=e.directiveStart;l<i;l++){const d=o[l],h=n?n.get(d):null,g=h?h.outputs:null;c=rL(d.inputs,l,c,h?h.inputs:null),u=rL(d.outputs,l,u,g);const y=null===c||null===s||lP(e)?null:rX(c,l,s);a.push(y)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}(t,n,o)}function sL(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function UY(){return le.lFrame.currentDirectiveIndex}();try{Ia(o);for(let a=r;a<i;a++){const c=t.data[a],u=e[a];Xb(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&YZ(c,u)}}finally{Ia(-1),Xb(s)}}function YZ(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function hw(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function ZZ(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ci(e)&&(n[""]=t)}}function eX(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=wa(i.type)),s=new jd(o,Ci(i),b);t.blueprint[r]=s,n[r]=s,function qZ(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function WZ(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,ih(t,n,i.hostVars,_e),i)}function Xi(t,e,n,r,i,o){const s=Ir(t,e);!function fw(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?fe(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[pe],s,o,t.value,n,r,i)}function nX(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)aL(r,n,s[a++],s[a++],s[a++])}function aL(t,e,n,r,i){const o=ui(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{ui(o)}}function rX(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function cL(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function uL(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];t1(n[r]),s.contentQueries(2,e[o],o)}}}function Pm(t,e){return t[Rd]?t[mP][Ei]=e:t[Rd]=e,t[mP]=e,e}function pw(t,e,n){t1(0);const r=ui(null);try{e(t,n)}finally{ui(r)}}function lL(t){return t[su]||(t[su]=[])}function dL(t){return t.cleanup||(t.cleanup=[])}function fL(t,e){const n=t[vs],r=n?n.get(Po,null):null;r&&r.handleError(e)}function gw(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];aL(t.data[s],e[s],r,a,i)}}function Lo(t,e,n){const r=zg(e,t);!function $2(t,e,n){t.setValue(e,n)}(t[pe],r,n)}function iX(t,e){const n=jr(e,t),r=n[ee];!function oX(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Rt];null!==i&&null===n[No]&&(n[No]=Y1(i,n[vs])),mw(r,n,n[jt])}function mw(t,e,n){n1(e);try{const r=t.viewQuery;null!==r&&pw(1,r,n);const i=t.template;null!==i&&eL(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&uL(t,e),t.staticViewQueries&&pw(2,t.viewQuery,n);const o=t.components;null!==o&&function sX(t,e){for(let n=0;n<e.length;n++)iX(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ye]&=-5,r1()}}let pL=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function mY(t,e,n){const r=Object.create(_Y);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>CP(r),run:()=>{if(r.dirty=!1,r.hasRun&&!DP(r))return;r.hasRun=!0;const s=zb(r);try{r.cleanupFn(),r.cleanupFn=kP,r.fn(i)}finally{qb(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(n,u=>{this.all.has(u)&&this.queue.set(u,o)},i);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}return t})();function Fm(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Db(i,a):2==o&&(r=Db(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function oh(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(ct(o)),ir(o)&&gL(o,r);const s=n.type;if(8&s)oh(t,e,n.child,r);else if(32&s){const a=w1(n,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=J2(e,n);if(Array.isArray(a))r.push(...a);else{const c=Yd(e[$t]);oh(c[ee],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function gL(t,e){for(let n=Mn;n<t.length;n++){const r=t[n],i=r[ee].firstChild;null!==i&&oh(r[ee],r,i,e)}t[Ki]!==t[Rt]&&e.push(t[Ki])}function Lm(t,e,n,r=!0){const i=e[au],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{mL(t,e,t.template,n)}catch(c){throw r&&fL(e,c),c}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function mL(t,e,n,r){const i=e[ye];if(256!=(256&i)){e[au].effectManager?.flush(),n1(e);try{jP(e),function YP(t){return le.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&eL(t,e,n,2,r);const s=3==(3&i);if(s){const u=t.preOrderCheckHooks;null!==u&&Yg(e,u,null)}else{const u=t.preOrderHooks;null!==u&&Qg(e,u,0,null),i1(e,0)}if(function uX(t){for(let e=B2(t);null!==e;e=U2(e)){if(!e[yP])continue;const n=e[lu];for(let r=0;r<n.length;r++){SY(n[r])}}}(e),_L(e,2),null!==t.contentQueries&&uL(t,e),s){const u=t.contentCheckHooks;null!==u&&Yg(e,u)}else{const u=t.contentHooks;null!==u&&Qg(e,u,1),i1(e,1)}!function kZ(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=KF(e,Ld);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)Ia(~o);else{const s=o,a=n[++i],c=n[++i];BY(a,s),r.dirty=!1;const u=zb(r);try{c(2,e[s])}finally{qb(r,u)}}}}finally{null===e[Ld]&&YF(e,Ld),Ia(-1)}}(t,e);const a=t.components;null!==a&&vL(e,a,0);const c=t.viewQuery;if(null!==c&&pw(2,c,r),s){const u=t.viewCheckHooks;null!==u&&Yg(e,u)}else{const u=t.viewHooks;null!==u&&Qg(e,u,2),i1(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ye]&=-73,$P(e)}finally{r1()}}}function _L(t,e){for(let n=B2(t);null!==n;n=U2(n))for(let r=Mn;r<n.length;r++)yL(n[r],e)}function lX(t,e,n){yL(jr(e,t),n)}function yL(t,e){if(!function CY(t){return 128==(128&t[ye])}(t))return;const n=t[ee],r=t[ye];if(80&r&&0===e||1024&r||2===e)mL(n,t,n.template,t[jt]);else if(t[Md]>0){_L(t,1);const i=n.components;null!==i&&vL(t,i,1)}}function vL(t,e,n){for(let r=0;r<e.length;r++)lX(t,e[r],n)}class sh{get rootNodes(){const e=this._lView,n=e[ee];return oh(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[jt]}set context(e){this._lView[jt]=e}get destroyed(){return 256==(256&this._lView[ye])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[wt];if(ir(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(hm(e,r),tm(n,r))}this._attachedToViewContainer=!1}T1(this._lView[ee],this._lView)}onDestroy(e){!function GP(t,e){if(256==(256&t[ye]))throw new U(911,!1);null===t[bs]&&(t[bs]=[]),t[bs].push(e)}(this._lView,e)}markForCheck(){rh(this._cdRefInjectingView||this._lView)}detach(){this._lView[ye]&=-129}reattach(){this._lView[ye]|=128}detectChanges(){Lm(this._lView[ee],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function JQ(t,e){Jd(t,e,e[pe],2,null,null)}(this._lView[ee],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e}}class dX extends sh{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Lm(e[ee],e,e[jt],!1)}checkNoChanges(){}get context(){return null}}class bL extends Nm{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Me(e);return new ah(n,this.ngModule)}}function wL(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class fX{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Lg(r);const i=this.injector.get(e,ew,r);return i!==ew||n===ew?i:this.parentInjector.get(e,n,r)}}class ah extends DF{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=wL(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return wL(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function JK(t){return t.map(QK).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof Cr?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new fX(e,o):e,a=s.get(Z1,null);if(null===a)throw new U(407,!1);const d={rendererFactory:a,sanitizer:s.get(lZ,null),effectManager:s.get(pL,null),afterRenderEventManager:s.get(ow,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",g=r?function FZ(t,e,n,r){const o=r.get(GF,!1)||n===Ii.ShadowDom,s=t.selectRootElement(e,o);return function LZ(t){nL(t)}(s),s}(h,r,this.componentDef.encapsulation,s):dm(h,f,function hX(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),T=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let w=null;null!==g&&(w=Y1(g,s,!0));const O=lw(0,null,null,1,0,null,null,null,null,null,null),P=km(null,O,null,T,null,null,d,h,s,null,w);let $,Y;n1(P);try{const ae=this.componentDef;let me,Be=null;ae.findHostDirectiveDefs?(me=[],Be=new Map,ae.findHostDirectiveDefs(ae,me,Be),me.push(ae)):me=[ae];const bt=function gX(t,e){const n=t[ee],r=Se;return t[r]=e,Vu(n,r,2,"#host",null)}(P,g),Nn=function mX(t,e,n,r,i,o,s){const a=i[ee];!function _X(t,e,n,r){for(const i of t)e.mergedAttrs=Od(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Fm(e,e.mergedAttrs,!0),null!==n&&tF(r,n,e))}(r,t,e,s);let c=null;null!==e&&(c=Y1(e,i[vs]));const u=o.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=km(i,tL(n),null,l,i[t.index],t,o,u,null,null,c);return a.firstCreatePass&&hw(a,t,r.length-1),Pm(i,d),i[t.index]=d}(bt,g,ae,me,P,d,h);Y=UP(O,Se),g&&function vX(t,e,n,r){if(r)Ub(t,n,["ng-version",X1.full]);else{const{attrs:i,classes:o}=function ZK(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Ti(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Ub(t,n,i),o&&o.length>0&&eF(t,n,o.join(" "))}}(h,ae,g,r),void 0!==n&&function bX(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(Y,this.ngContentSelectors,n),$=function yX(t,e,n,r,i,o){const s=Pn(),a=i[ee],c=Ir(s,i);oL(a,i,s,n,null,r);for(let l=0;l<n.length;l++)Yn(Ta(i,a,s.directiveStart+l,s),i);sL(a,i,s),c&&Yn(c,i);const u=Ta(i,a,s.directiveStart+s.componentOffset,s);if(t[jt]=i[jt]=u,null!==o)for(const l of o)l(u,e);return aw(a,s,t),u}(Nn,ae,me,Be,P,[wX]),mw(O,P,null)}finally{r1()}return new pX(this.componentType,$,Ru(Y,P),P,Y)}}class pX extends iZ{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new dX(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;gw(o[ee],o,i,e,n),this.previousInputValues.set(e,n),rh(jr(this._tNode.index,o))}}get injector(){return new ar(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function wX(){const t=Pn();Kg(L()[ee],t)}function ze(t){let e=function IL(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Ci(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=Vm(t.inputs),s.inputTransforms=Vm(t.inputTransforms),s.declaredInputs=Vm(t.declaredInputs),s.outputs=Vm(t.outputs);const a=i.hostBindings;a&&CX(t,a);const c=i.viewQuery,u=i.contentQueries;if(c&&TX(t,c),u&&EX(t,u),Og(t.inputs,i.inputs),Og(t.declaredInputs,i.declaredInputs),Og(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Og(s.inputTransforms,i.inputTransforms)),Ci(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===ze&&(n=!1)}}e=Object.getPrototypeOf(e)}!function IX(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Od(i.hostAttrs,n=Od(n,i.hostAttrs))}}(r)}function Vm(t){return t===qi?{}:t===je?[]:t}function TX(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function EX(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function CX(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function DL(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function Bm(t){return!!function _w(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function eo(t,e,n){return t[e]=n}function Qn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function xa(t,e,n,r){const i=Qn(t,e,n);return Qn(t,e+1,r)||i}function Ye(t,e,n,r){const i=L();return Qn(i,pu(),e)&&(Re(),Xi(St(),i,t,e,n,r)),Ye}function Uu(t,e,n,r){return Qn(t,pu(),n)?e+fe(n)+r:_e}function $u(t,e,n,r,i,o,s,a){const u=function Um(t,e,n,r,i){const o=xa(t,e,n,r);return Qn(t,e+2,i)||o}(t,function Oo(){return le.lFrame.bindingIndex}(),n,i,s);return Mo(3),u?e+fe(n)+r+fe(i)+o+fe(s)+a:_e}function N(t,e,n,r,i,o,s,a){const c=L(),u=Re(),l=t+Se,d=u.firstCreatePass?function YX(t,e,n,r,i,o,s,a,c){const u=e.consts,l=Vu(e,t,4,s||null,Is(u,a));dw(e,n,l,Is(u,c)),Kg(e,l);const d=l.tView=lw(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,n,r,i,o,s):u.data[l];Qi(d,!1);const h=BL(u,c,d,t);Wg()&&pm(u,c,h,d),Yn(h,c),Pm(c,c[l]=cL(h,c,h,d)),$g(d)&&cw(u,c,d),null!=s&&uw(c,d,a)}let BL=function UL(t,e,n,r){return Ts(!0),e[pe].createComment("")};function zr(t){return hu(function LY(){return le.lFrame.contextLView}(),Se+t)}function C(t,e,n){const r=L();return Qn(r,pu(),e)&&Gr(Re(),St(),r,t,e,r[pe],n,!1),C}function Tw(t,e,n,r,i){const s=i?"class":"style";gw(t,n,e.inputs[s],s,r)}function m(t,e,n,r){const i=L(),o=Re(),s=Se+t,a=i[pe],c=o.firstCreatePass?function XX(t,e,n,r,i,o){const s=e.consts,c=Vu(e,t,2,r,Is(s,i));return dw(e,n,c,Is(s,o)),null!==c.attrs&&Fm(c,c.attrs,!1),null!==c.mergedAttrs&&Fm(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,e,n,r):o.data[s],u=jL(o,i,c,a,e,t);i[s]=u;const l=$g(c);return Qi(c,!0),tF(a,u,c),32!=(32&c.flags)&&Wg()&&pm(o,i,u,c),0===function xY(){return le.lFrame.elementDepthCount}()&&Yn(u,i),function NY(){le.lFrame.elementDepthCount++}(),l&&(cw(o,i,c),aw(o,c,i)),null!==r&&uw(i,c),m}function _(){let t=Pn();Jb()?Zb():(t=t.parent,Qi(t,!1));const e=t;(function MY(t){return le.skipHydrationRootTNode===t})(e)&&function FY(){le.skipHydrationRootTNode=null}(),function OY(){le.lFrame.elementDepthCount--}();const n=Re();return n.firstCreatePass&&(Kg(n,t),$b(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function YY(t){return 0!=(8&t.flags)}(e)&&Tw(n,e,L(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function QY(t){return 0!=(16&t.flags)}(e)&&Tw(n,e,L(),e.stylesWithoutHost,!1),_}function k(t,e,n,r){return m(t,e,n,r),_(),k}let jL=(t,e,n,r,i,o)=>(Ts(!0),dm(r,i,function r2(){return le.lFrame.currentNamespace}()));function Gm(t,e,n){const r=L(),i=Re(),o=t+Se,s=i.firstCreatePass?function nee(t,e,n,r,i){const o=e.consts,s=Is(o,r),a=Vu(e,t,8,"ng-container",s);return null!==s&&Fm(a,s,!0),dw(e,n,a,Is(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Qi(s,!0);const a=HL(i,r,s,t);return r[o]=a,Wg()&&pm(i,r,a,s),Yn(a,r),$g(s)&&(cw(i,r,s),aw(i,s,r)),null!=n&&uw(r,s),Gm}function zm(){let t=Pn();const e=Re();return Jb()?Zb():(t=t.parent,Qi(t,!1)),e.firstCreatePass&&(Kg(e,t),$b(t)&&e.queries.elementEnd(t)),zm}let HL=(t,e,n,r)=>(Ts(!0),I1(e[pe],""));function It(){return L()}function fh(t){return!!t&&"function"==typeof t.then}function GL(t){return!!t&&"function"==typeof t.subscribe}function ie(t,e,n,r){const i=L(),o=Re(),s=Pn();return function qL(t,e,n,r,i,o,s){const a=$g(r),u=t.firstCreatePass&&dL(t),l=e[jt],d=lL(e);let h=!0;if(3&r.type||s){const y=Ir(r,e),v=s?s(y):y,T=d.length,w=s?P=>s(ct(P[r.index])):r.index;let O=null;if(!s&&a&&(O=function oee(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[su],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==O)(O.__ngLastListenerFn__||O).__ngNextListenerFn__=o,O.__ngLastListenerFn__=o,h=!1;else{o=KL(r,e,l,o,!1);const P=n.listen(v,i,o);d.push(o,P),u&&u.push(i,w,T,T+1)}}else o=KL(r,e,l,o,!1);const f=r.outputs;let g;if(h&&null!==f&&(g=f[i])){const y=g.length;if(y)for(let v=0;v<y;v+=2){const $=e[g[v]][g[v+1]].subscribe(o),Y=d.length;d.push(o,$),u&&u.push(i,r.index,Y,-(Y+1))}}}(o,i,i[pe],s,t,e,r),ie}function WL(t,e,n,r){try{return Yi(6,e,n),!1!==n(r)}catch(i){return fL(t,i),!1}finally{Yi(7,e,n)}}function KL(t,e,n,r,i){return function o(s){if(s===Function)return r;rh(t.componentOffset>-1?jr(t.index,e):e);let c=WL(e,n,r,s),u=o.__ngNextListenerFn__;for(;u;)c=WL(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function F(t=1){return function $Y(t){return(le.lFrame.contextLView=function HY(t,e){for(;t>0;)e=e[cu],t--;return e}(t,le.lFrame.contextLView))[jt]}(t)}function see(t,e){let n=null;const r=function qK(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?dP(t,o,!0):YK(r,o))return i}else n=i}return n}function ph(t,e,n){return qm(t,"",e,"",n),ph}function qm(t,e,n,r,i){const o=L(),s=Uu(o,e,n,r);return s!==_e&&Gr(Re(),St(),o,t,s,o[pe],i,!1),qm}function Wm(t,e){return t<<17|e<<2}function Cs(t){return t>>17&32767}function Ew(t){return 2|t}function Na(t){return(131068&t)>>2}function Cw(t,e){return-131069&t|e<<2}function Dw(t){return 1|t}function o3(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Cs(o):Na(o),c=!1;for(;0!==a&&(!1===c||s);){const l=t[a+1];hee(t[a],e)&&(c=!0,t[a+1]=r?Dw(l):Ew(l)),a=r?Cs(l):Na(l)}c&&(t[n+1]=r?Ew(o):Dw(o))}function hee(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Tu(t,e)>=0}const dn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function s3(t){return t.substring(dn.key,dn.keyEnd)}function a3(t,e){const n=dn.textEnd;return n===e?-1:(e=dn.keyEnd=function mee(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,dn.key=e,n),Ku(t,e,n))}function Ku(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function He(t,e){return function Di(t,e,n,r){const i=L(),o=Re(),s=Mo(2);o.firstUpdatePass&&p3(o,t,s,r),e!==_e&&Qn(i,s,e)&&m3(o,o.data[sr()],i,i[pe],t,i[s+1]=function See(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=un(Hr(t)))),t}(e,n),r,s)}(t,e,null,!0),He}function Oa(t){!function Si(t,e,n,r){const i=Re(),o=Mo(2);i.firstUpdatePass&&p3(i,null,o,r);const s=L();if(n!==_e&&Qn(s,o,n)){const a=i.data[sr()];if(y3(a,r)&&!f3(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(n=Db(c,n||"")),Tw(i,a,s,n,r)}else!function Dee(t,e,n,r,i,o,s,a){i===_e&&(i=je);let c=0,u=0,l=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==l||null!==d;){const h=c<i.length?i[c+1]:void 0,f=u<o.length?o[u+1]:void 0;let y,g=null;l===d?(c+=2,u+=2,h!==f&&(g=d,y=f)):null===d||null!==l&&l<d?(c+=2,g=l):(u+=2,g=d,y=f),null!==g&&m3(t,e,n,r,g,y,s,a),l=c<i.length?i[c]:null,d=u<o.length?o[u]:null}}(i,a,s,s[pe],s[o+1],s[o+1]=function Eee(t,e,n){if(null==n||""===n)return je;const r=[],i=Hr(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}(Cee,no,t,!0)}function no(t,e){for(let n=function pee(t){return function u3(t){dn.key=0,dn.keyEnd=0,dn.value=0,dn.valueEnd=0,dn.textEnd=t.length}(t),a3(t,Ku(t,0,dn.textEnd))}(e);n>=0;n=a3(e,n))$r(t,s3(e),!0)}function f3(t,e){return e>=t.expandoStartIndex}function p3(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[sr()],s=f3(t,n);y3(o,r)&&null===e&&!s&&(e=!1),e=function bee(t,e,n,r){const i=function e1(t){const e=le.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=gh(n=Sw(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Sw(i,t,e,n,r),null===o){let c=function wee(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Na(r))return t[Cs(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=Sw(null,t,e,c[1],r),c=gh(c,e.attrs,r),function Iee(t,e,n,r){t[Cs(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else o=function Tee(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=gh(r,t[o].hostAttrs,n);return gh(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function lee(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Cs(s),c=Na(s);t[r]=n;let l,u=!1;if(Array.isArray(n)?(l=n[1],(null===l||Tu(n,l)>0)&&(u=!0)):l=n,i)if(0!==c){const h=Cs(t[a+1]);t[r+1]=Wm(h,a),0!==h&&(t[h+1]=Cw(t[h+1],r)),t[a+1]=function cee(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Wm(a,0),0!==a&&(t[a+1]=Cw(t[a+1],r)),a=r;else t[r+1]=Wm(c,0),0===a?a=r:t[c+1]=Cw(t[c+1],r),c=r;u&&(t[r+1]=Ew(t[r+1])),o3(t,l,r,!0),o3(t,l,r,!1),function dee(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Tu(o,e)>=0&&(n[r+1]=Dw(n[r+1]))}(e,l,t,r,o),s=Wm(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function Sw(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=gh(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function gh(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),$r(t,s,!!n||e[++o]))}return void 0===t?null:t}function Cee(t,e,n){const r=String(e);""!==r&&!r.includes(" ")&&$r(t,r,n)}function m3(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const c=t.data,u=c[a+1],l=function uee(t){return 1==(1&t)}(u)?_3(c,e,n,i,Na(u),s):void 0;Km(l)||(Km(o)||function aee(t){return 2==(2&t)}(u)&&(o=_3(c,null,n,i,a,s)),function aJ(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:Es.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Es.Important),t.setStyle(n,r,i,o))}}(r,s,zg(sr(),n),i,o))}function _3(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=null===l;let h=n[i+1];h===_e&&(h=d?je:void 0);let f=d?h1(h,r):l===r?h:void 0;if(u&&!Km(f)&&(f=h1(c,r)),Km(f)&&(a=f,s))return a;const g=t[i+1];i=s?Cs(g):Na(g)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=h1(c,r))}return a}function Km(t){return void 0!==t}function y3(t,e){return 0!=(t.flags&(e?8:16))}function I(t,e=""){const n=L(),r=Re(),i=t+Se,o=r.firstCreatePass?Vu(r,i,1,e,null):r.data[i],s=v3(r,n,o,e,t);n[i]=s,Wg()&&pm(r,n,s,o),Qi(o,!1)}let v3=(t,e,n,r,i)=>(Ts(!0),function lm(t,e){return t.createText(e)}(e[pe],r));function At(t){return Ai("",t,""),At}function Ai(t,e,n){const r=L(),i=Uu(r,t,e,n);return i!==_e&&Lo(r,sr(),i),Ai}function Aw(t,e,n,r,i,o,s){const a=L(),c=$u(a,t,e,n,r,i,o,s);return c!==_e&&Lo(a,sr(),c),Aw}const Ma=void 0;var Yee=["en",[["a","p"],["AM","PM"],Ma],[["AM","PM"],Ma,Ma],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ma,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ma,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ma,"{1} 'at' {0}",Ma],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Kee(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Yu={};function cr(t){const e=function Qee(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=V3(e);if(n)return n;const r=e.split("-")[0];if(n=V3(r),n)return n;if("en"===r)return Yee;throw new U(701,!1)}function V3(t){return t in Yu||(Yu[t]=at.ng&&at.ng.common&&at.ng.common.locales&&at.ng.common.locales[t]),Yu[t]}var ut=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ut||{});const Qu="en-US";let B3=Qu;function Ow(t,e,n,r,i){if(t=de(t),Array.isArray(t))for(let o=0;o<t.length;o++)Ow(t[o],e,n,r,i);else{const o=Re(),s=L(),a=Pn();let c=Aa(t)?t:de(t.provide);const u=bF(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Aa(t)||!t.multi){const f=new jd(u,i,b),g=Rw(c,e,i?l:l+h,d);-1===g?(u1(Zg(a,s),o,c),Mw(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[g]=f,s[g]=f)}else{const f=Rw(c,e,l+h,d),g=Rw(c,e,l,l+h),v=g>=0&&n[g];if(i&&!v||!i&&!(f>=0&&n[f])){u1(Zg(a,s),o,c);const T=function Wte(t,e,n,r,i){const o=new jd(t,n,b);return o.multi=[],o.index=e,o.componentProviders=0,lV(o,i,r&&!n),o}(i?qte:zte,n.length,i,r,u);!i&&v&&(n[g].providerFactory=T),Mw(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(T),s.push(T)}else Mw(o,t,f>-1?f:g,lV(n[i?g:f],u,!i&&r));!i&&r&&v&&n[g].componentProviders++}}}function Mw(t,e,n,r){const i=Aa(e),o=function jJ(t){return!!t.useClass}(e);if(i||o){const c=(o?de(e.useClass):e).prototype.ngOnDestroy;if(c){const u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=u.indexOf(n);-1===l?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function lV(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Rw(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function zte(t,e,n,r){return kw(this.multi,[])}function qte(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ta(n,n[ee],this.providerFactory.index,r);o=a.slice(0,s),kw(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],kw(i,o);return o}function kw(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function it(t,e=[]){return n=>{n.providersResolver=(r,i)=>function Gte(t,e,n){const r=Re();if(r.firstCreatePass){const i=Ci(t);Ow(n,r.data,r.blueprint,i,!0),Ow(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Ra{}class dV{}class Pw extends Ra{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new bL(this);const i=Ur(e);this._bootstrapComponents=Fo(i.bootstrap),this._r3Injector=MF(e,n,[{provide:Ra,useValue:this},{provide:Nm,useValue:this.componentFactoryResolver},...r],un(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Fw extends dV{constructor(e){super(),this.moduleType=e}create(e){return new Pw(this.moduleType,e,[])}}class hV extends Ra{constructor(e){super(),this.componentFactoryResolver=new bL(this),this.instance=null;const n=new xu([...e.providers,{provide:Ra,useValue:this},{provide:Nm,useValue:this.componentFactoryResolver}],e.parent||Tm(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Lw(t,e,n=null){return new hV({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let Qte=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=mF(0,n.type),i=r.length>0?Lw([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=q({token:t,providedIn:"environment",factory:()=>new t(W(Cr))})}return t})();function qr(t){t.getStandaloneInjector=e=>e.get(Qte).getOrCreateStandaloneInjector(t)}function ka(t,e,n,r){return vV(L(),or(),t,e,n,r)}function Th(t,e){const n=t[e];return n===_e?void 0:n}function vV(t,e,n,r,i,o){const s=e+n;return Qn(t,s,i)?eo(t,s+1,o?r.call(o,i):r(i)):Th(t,s+1)}function Ju(t,e){const n=Re();let r;const i=t+Se;n.firstCreatePass?(r=function hne(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=wa(r.type)),a=br(b);try{const c=Jg(!1),u=o();return Jg(c),function ZX(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,L(),i,u),u}finally{br(a)}}function Eh(t,e,n){const r=t+Se,i=L(),o=hu(i,r);return Ch(i,r)?vV(i,or(),e,o.transform,n,o):o.transform(n)}function EV(t,e,n,r){const i=t+Se,o=L(),s=hu(o,i);return Ch(o,i)?function bV(t,e,n,r,i,o,s){const a=e+n;return xa(t,a,i,o)?eo(t,a+2,s?r.call(s,i,o):r(i,o)):Th(t,a+2)}(o,or(),e,s.transform,n,r,s):s.transform(n,r)}function Ch(t,e){return t[ee].data[e].pure}function mne(){return this._results[Symbol.iterator]()}class Uw{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new R)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Uw.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=mne)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function li(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function lQ(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function yne(t,e,n,r=!0){const i=e[ee];if(function XQ(t,e,n,r){const i=Mn+r,o=n.length;r>0&&(n[i-1][Ei]=e),r<o-Mn?(e[Ei]=n[i],y2(n,Mn+r,e)):(n.push(e),e[Ei]=null),e[wt]=n;const s=e[kd];null!==s&&n!==s&&function eJ(t,e){const n=t[lu];e[$t]!==e[wt][wt][$t]&&(t[yP]=!0),null===n?t[lu]=[e]:n.push(e)}(s,e);const a=e[Wi];null!==a&&a.insertView(t),e[ye]|=128}(i,e,t,n),r){const o=S1(n,t),s=e[pe],a=fm(s,t[Ki]);null!==a&&function QQ(t,e,n,r,i,o){r[Rt]=i,r[Kn]=e,Jd(t,r,n,1,i,o)}(i,t[Kn],s,e,a,o)}}let xt=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=wne}return t})();const vne=xt,bne=class extends vne{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function _ne(t,e,n,r){const i=e.tView,a=km(t,i,n,4096&t[ye]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[kd]=t[e.index];const u=t[Wi];return null!==u&&(a[Wi]=u.createEmbeddedView(i)),mw(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new sh(i)}};function wne(){return Xm(Pn(),L())}function Xm(t,e){return 4&t.type?new bne(e,t,Ru(t,e)):null}let pi=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Sne}return t})();function Sne(){return OV(Pn(),L())}const Ane=pi,xV=class extends Ane{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ru(this._hostTNode,this._hostLView)}get injector(){return new ar(this._hostTNode,this._hostLView)}get parentInjector(){const e=Xg(this._hostTNode,this._hostLView);if(s1(e)){const n=Hd(e,this._hostLView),r=$d(e);return new ar(n[ee].data[r+8],n)}return new ar(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=NV(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Mn}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function zd(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const y=n||{};a=y.index,r=y.injector,i=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef}const c=s?e:new ah(Me(e)),u=r||this.parentInjector;if(!o&&null==c.ngModule){const v=(s?u:this.parentInjector).get(Cr,null);v&&(o=v)}Me(c.componentType??{});const f=c.create(u,i,null,o);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function DY(t){return ir(t[wt])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const u=i[wt],l=new xV(u,u[Kn],u[wt]);l.detach(l.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;return yne(a,i,s,!r),e.attachToViewContainerRef(),y2(jw(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=NV(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=hm(this._lContainer,n);r&&(tm(jw(this._lContainer),n),T1(r[ee],r))}detach(e){const n=this._adjustIndex(e,-1),r=hm(this._lContainer,n);return r&&null!=tm(jw(this._lContainer),n)?new sh(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function NV(t){return t[8]}function jw(t){return t[8]||(t[8]=[])}function OV(t,e){let n;const r=e[t.index];return ir(r)?n=r:(n=cL(r,e,null,t),e[t.index]=n,Pm(e,n)),MV(n,e,t,r),new xV(n,t,e)}let MV=function RV(t,e,n,r){if(t[Ki])return;let i;i=8&n.type?ct(r):function xne(t,e){const n=t[pe],r=n.createComment(""),i=Ir(e,t);return Ca(n,fm(n,i),r,function iJ(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Ki]=i};class $w{constructor(e){this.queryList=e,this.matches=null}clone(){return new $w(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hw{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Hw(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==VV(e,n).matches&&this.queries[n].setDirty()}}class kV{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class Gw{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new Gw(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class zw{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new zw(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,n,Mne(n,o)),this.matchTNodeWithReadOption(e,n,em(n,e,o,!1,!1))}else r===xt?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,em(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===$e||i===pi||i===xt&&4&n.type)this.addMatch(n.index,-2);else{const o=em(n,e,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function Mne(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function kne(t,e,n,r){return-1===n?function Rne(t,e){return 11&t.type?Ru(t,e):4&t.type?Xm(t,e):null}(e,t):-2===n?function Pne(t,e,n){return n===$e?Ru(e,t):n===xt?Xm(e,t):n===pi?OV(e,t):void 0}(t,e,r):Ta(t,t[ee],n,e)}function PV(t,e,n,r){const i=e[Wi].queries[r];if(null===i.matches){const o=t.data,s=n.matches,a=[];for(let c=0;c<s.length;c+=2){const u=s[c];a.push(u<0?null:kne(e,o[u],s[c+1],n.metadata.read))}i.matches=a}return i.matches}function qw(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=PV(t,e,i,n);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const u=o[a+1],l=e[-c];for(let d=Mn;d<l.length;d++){const h=l[d];h[kd]===h[wt]&&qw(h[ee],h,u,r)}if(null!==l[lu]){const d=l[lu];for(let h=0;h<d.length;h++){const f=d[h];qw(f[ee],f,u,r)}}}}}return r}function Xe(t){const e=L(),n=Re(),r=JP();t1(r+1);const i=VV(n,r);if(t.dirty&&function EY(t){return 4==(4&t[ye])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?qw(n,e,r,[]):PV(n,e,i,r);t.reset(o,cZ),t.notifyOnChanges()}return!0}return!1}function Pa(t,e,n){const r=Re();r.firstCreatePass&&(function LV(t,e,n){null===t.queries&&(t.queries=new Gw),t.queries.track(new zw(e,n))}(r,new kV(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function FV(t,e,n){const r=new Uw(4==(4&n));(function UZ(t,e,n,r){const i=lL(e);i.push(n),t.firstCreatePass&&dL(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[Wi]&&(e[Wi]=new Hw),e[Wi].queries.push(new $w(r))}(r,L(),e)}function VV(t,e){return t.queries.getByIndex(e)}function Wr(t,e){return Xm(t,e)}const Zw=new te("Application Initializer");let Xw=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=G(Zw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(fh(o))n.push(o);else if(GL(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),tB=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const xi=new te("LocaleId",{providedIn:"root",factory:()=>G(xi,De.Optional|De.SkipSelf)||function ire(){return typeof $localize<"u"&&$localize.locale||Qu}()});let nB=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new vr(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class are{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let rB=(()=>{class t{compileModuleSync(n){return new Fw(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Fo(Ur(n).declarations).reduce((s,a)=>{const c=Me(a);return c&&s.push(new ah(c)),s},[]);return new are(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const aB=new te(""),r_=new te("");let iI,nI=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,iI||(function xre(t){iI=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(W(Ee),W(rI),W(r_))};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),rI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return iI?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Ds=null;const cB=new te("AllowMultipleToken"),oI=new te("PlatformDestroyListeners"),sI=new te("appBootstrapListener");class lB{constructor(e,n){this.name=e,this.token=n}}function hB(t,e,n=[]){const r=`Platform: ${e}`,i=new te(r);return(o=[])=>{let s=aI();if(!s||s.injector.get(cB,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function Mre(t){if(Ds&&!Ds.get(cB,!1))throw new U(400,!1);(function uB(){!function dY(t){NP=t}(()=>{throw new U(600,!1)})})(),Ds=t;const e=t.get(pB);(function dB(t){t.get(wF,null)?.forEach(n=>n())})(t)}(function fB(t=[],e){return en.create({name:e,providers:[{provide:V1,useValue:"platform"},{provide:oI,useValue:new Set([()=>Ds=null])},...t]})}(a,r))}return function kre(t){const e=aI();if(!e)throw new U(401,!1);return e}()}}function aI(){return Ds?.get(pB)??null}let pB=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function Pre(t="zone.js",e){return"noop"===t?new TZ:"zone.js"===t?new Ee(e):t}(r?.ngZone,function gB(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function Yte(t,e,n){return new Pw(t,e,n)}(n.moduleType,this.injector,function bB(t){return[{provide:Ee,useFactory:t},{provide:eh,multi:!0,useFactory:()=>{const e=G(Lre,{optional:!0});return()=>e.initialize()}},{provide:vB,useFactory:Fre},{provide:LF,useFactory:VF}]}(()=>i)),s=o.injector.get(Po,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{i_(this._modules,o),a.unsubscribe()})}),function mB(t,e,n){try{const r=n();return fh(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(Xw);return a.runInitializers(),a.donePromise.then(()=>(function U3(t){ci(t,"Expected localeId to be defined"),"string"==typeof t&&(B3=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(xi,Qu)||Qu),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=_B({},r);return function Nre(t,e,n){const r=new Fw(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(Ss);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new U(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new U(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(oI,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(W(en))};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function _B(t,e){return Array.isArray(e)?e.reduce(_B,t):{...t,...e}}let Ss=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=G(vB),this.zoneIsStable=G(LF),this.componentTypes=[],this.components=[],this.isStable=G(nB).hasPendingTasks.pipe(ai(n=>n?ce(!1):this.zoneIsStable),function Kk(t,e=wi){return t=t??TK,Dt((n,r)=>{let i,o=!0;n.subscribe(st(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}(),Eb()),this._injector=G(Cr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof DF;if(!this._injector.get(Xw).done)throw!i&&function ou(t){const e=Me(t)||On(t)||rr(t);return null!==e&&e.standalone}(n),new U(405,!1);let s;s=i?n:this._injector.get(Nm).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function Ore(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Ra),u=s.create(en.NULL,[],r||s.selector,a),l=u.location.nativeElement,d=u.injector.get(aB,null);return d?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),i_(this.components,u),d?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new U(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;i_(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(sI,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>i_(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new U(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function i_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const vB=new te("",{providedIn:"root",factory:()=>G(Po).handleError.bind(void 0)});function Fre(){const t=G(Ee),e=G(Po);return n=>t.runOutsideAngular(()=>e.handleError(n))}let Lre=(()=>{class t{constructor(){this.zone=G(Ee),this.applicationRef=G(Ss)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let Ni=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Bre}return t})();function Bre(t){return function Ure(t,e,n){if(ba(t)&&!n){const r=jr(t.index,e);return new sh(r,r)}return 47&t.type?new sh(e[$t],e):null}(Pn(),L(),16==(16&t))}class EB{constructor(){}supports(e){return Bm(e)}create(e){return new qre(e)}}const zre=(t,e)=>e;class qre{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||zre}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<DB(r,i,o)?n:r,a=DB(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){const f=h<o.length?o[h]:o[h]=0,g=f+h;l<=g&&g<u&&(o[h]=f+1)}o[s.previousIndex]=l-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Bm(e))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function OX(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Wre(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new CB),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new CB),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Wre{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Kre{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class CB{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new Kre,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function DB(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function AB(){return new a_([new EB])}let a_=(()=>{class t{static#e=this.\u0275prov=q({token:t,providedIn:"root",factory:AB});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||AB()),deps:[[t,new rm,new Tr]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new U(901,!1)}}return t})();const Xre=hB(null,"core",[]);let eie=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(W(Ss))};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})();function el(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function fI(t,e){const n=Me(t),r=e.elementInjector||Tm();return new ah(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}let pI=null;function As(){return pI}class pie{}const Gt=new te("DocumentToken");let gI=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:function(){return G(mie)},providedIn:"platform"})}return t})();const gie=new te("Location Initialized");let mie=(()=>{class t extends gI{constructor(){super(),this._doc=G(Gt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return As().getBaseHref(this._doc)}onPopState(n){const r=As().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=As().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function mI(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function VB(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Vo(t){return t&&"?"!==t[0]?"?"+t:t}let La=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:function(){return G(UB)},providedIn:"root"})}return t})();const BB=new te("appBaseHref");let UB=(()=>{class t extends La{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??G(Gt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return mI(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Vo(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Vo(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Vo(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(W(gI),W(BB,8))};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_ie=(()=>{class t extends La{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=mI(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Vo(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Vo(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(W(gI),W(BB,8))};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),_I=(()=>{class t{constructor(n){this._subject=new R,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function bie(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(VB(jB(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Vo(r))}normalize(n){return t.stripTrailingSlash(function vie(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,jB(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Vo(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Vo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Vo;static#t=this.joinWithSlash=mI;static#n=this.stripTrailingSlash=VB;static#r=this.\u0275fac=function(r){return new(r||t)(W(La))};static#i=this.\u0275prov=q({token:t,factory:function(){return function yie(){return new _I(W(La))}()},providedIn:"root"})}return t})();function jB(t){return t.replace(/\/index.html$/,"")}var vn=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(vn||{}),Le=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Le||{}),Kr=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Kr||{}),zt=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(zt||{});function l_(t,e){return mi(cr(t)[ut.DateFormat],e)}function d_(t,e){return mi(cr(t)[ut.TimeFormat],e)}function h_(t,e){return mi(cr(t)[ut.DateTimeFormat],e)}function gi(t,e){const n=cr(t),r=n[ut.NumberSymbols][e];if(typeof r>"u"){if(e===zt.CurrencyDecimal)return n[ut.NumberSymbols][zt.Decimal];if(e===zt.CurrencyGroup)return n[ut.NumberSymbols][zt.Group]}return r}function GB(t){if(!t[ut.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[ut.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function mi(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function bI(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const Mie=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,xh={},Rie=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Bo=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Bo||{}),qe=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(qe||{}),We=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(We||{});function zB(t,e,n,r){let i=function $ie(t){if(KB(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[i,o=1,s=1]=t.split("-").map(a=>+a);return f_(i,o-1,s)}const n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(Mie))return function Hie(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,c,u),e}(r)}const e=new Date(t);if(!KB(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=Uo(n,e)||e;let a,s=[];for(;e;){if(a=Rie.exec(e),!a){s.push(e);break}{s=s.concat(a.slice(1));const l=s.pop();if(!l)break;e=l}}let c=i.getTimezoneOffset();r&&(c=WB(r,c),i=function jie(t,e,n){const r=n?-1:1,i=t.getTimezoneOffset();return function Uie(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,r*(WB(e,i)-i))}(i,r,!0));let u="";return s.forEach(l=>{const d=function Bie(t){if(II[t])return II[t];let e;switch(t){case"G":case"GG":case"GGG":e=lt(We.Eras,Le.Abbreviated);break;case"GGGG":e=lt(We.Eras,Le.Wide);break;case"GGGGG":e=lt(We.Eras,Le.Narrow);break;case"y":e=tn(qe.FullYear,1,0,!1,!0);break;case"yy":e=tn(qe.FullYear,2,0,!0,!0);break;case"yyy":e=tn(qe.FullYear,3,0,!1,!0);break;case"yyyy":e=tn(qe.FullYear,4,0,!1,!0);break;case"Y":e=__(1);break;case"YY":e=__(2,!0);break;case"YYY":e=__(3);break;case"YYYY":e=__(4);break;case"M":case"L":e=tn(qe.Month,1,1);break;case"MM":case"LL":e=tn(qe.Month,2,1);break;case"MMM":e=lt(We.Months,Le.Abbreviated);break;case"MMMM":e=lt(We.Months,Le.Wide);break;case"MMMMM":e=lt(We.Months,Le.Narrow);break;case"LLL":e=lt(We.Months,Le.Abbreviated,vn.Standalone);break;case"LLLL":e=lt(We.Months,Le.Wide,vn.Standalone);break;case"LLLLL":e=lt(We.Months,Le.Narrow,vn.Standalone);break;case"w":e=wI(1);break;case"ww":e=wI(2);break;case"W":e=wI(1,!0);break;case"d":e=tn(qe.Date,1);break;case"dd":e=tn(qe.Date,2);break;case"c":case"cc":e=tn(qe.Day,1);break;case"ccc":e=lt(We.Days,Le.Abbreviated,vn.Standalone);break;case"cccc":e=lt(We.Days,Le.Wide,vn.Standalone);break;case"ccccc":e=lt(We.Days,Le.Narrow,vn.Standalone);break;case"cccccc":e=lt(We.Days,Le.Short,vn.Standalone);break;case"E":case"EE":case"EEE":e=lt(We.Days,Le.Abbreviated);break;case"EEEE":e=lt(We.Days,Le.Wide);break;case"EEEEE":e=lt(We.Days,Le.Narrow);break;case"EEEEEE":e=lt(We.Days,Le.Short);break;case"a":case"aa":case"aaa":e=lt(We.DayPeriods,Le.Abbreviated);break;case"aaaa":e=lt(We.DayPeriods,Le.Wide);break;case"aaaaa":e=lt(We.DayPeriods,Le.Narrow);break;case"b":case"bb":case"bbb":e=lt(We.DayPeriods,Le.Abbreviated,vn.Standalone,!0);break;case"bbbb":e=lt(We.DayPeriods,Le.Wide,vn.Standalone,!0);break;case"bbbbb":e=lt(We.DayPeriods,Le.Narrow,vn.Standalone,!0);break;case"B":case"BB":case"BBB":e=lt(We.DayPeriods,Le.Abbreviated,vn.Format,!0);break;case"BBBB":e=lt(We.DayPeriods,Le.Wide,vn.Format,!0);break;case"BBBBB":e=lt(We.DayPeriods,Le.Narrow,vn.Format,!0);break;case"h":e=tn(qe.Hours,1,-12);break;case"hh":e=tn(qe.Hours,2,-12);break;case"H":e=tn(qe.Hours,1);break;case"HH":e=tn(qe.Hours,2);break;case"m":e=tn(qe.Minutes,1);break;case"mm":e=tn(qe.Minutes,2);break;case"s":e=tn(qe.Seconds,1);break;case"ss":e=tn(qe.Seconds,2);break;case"S":e=tn(qe.FractionalSeconds,1);break;case"SS":e=tn(qe.FractionalSeconds,2);break;case"SSS":e=tn(qe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=g_(Bo.Short);break;case"ZZZZZ":e=g_(Bo.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=g_(Bo.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=g_(Bo.Long);break;default:return null}return II[t]=e,e}(l);u+=d?d(i,n,c):"''"===l?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function f_(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Uo(t,e){const n=function Iie(t){return cr(t)[ut.LocaleId]}(t);if(xh[n]=xh[n]||{},xh[n][e])return xh[n][e];let r="";switch(e){case"shortDate":r=l_(t,Kr.Short);break;case"mediumDate":r=l_(t,Kr.Medium);break;case"longDate":r=l_(t,Kr.Long);break;case"fullDate":r=l_(t,Kr.Full);break;case"shortTime":r=d_(t,Kr.Short);break;case"mediumTime":r=d_(t,Kr.Medium);break;case"longTime":r=d_(t,Kr.Long);break;case"fullTime":r=d_(t,Kr.Full);break;case"short":const i=Uo(t,"shortTime"),o=Uo(t,"shortDate");r=p_(h_(t,Kr.Short),[i,o]);break;case"medium":const s=Uo(t,"mediumTime"),a=Uo(t,"mediumDate");r=p_(h_(t,Kr.Medium),[s,a]);break;case"long":const c=Uo(t,"longTime"),u=Uo(t,"longDate");r=p_(h_(t,Kr.Long),[c,u]);break;case"full":const l=Uo(t,"fullTime"),d=Uo(t,"fullDate");r=p_(h_(t,Kr.Full),[l,d])}return r&&(xh[n][e]=r),r}function p_(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return null!=e&&r in e?e[r]:n})),t}function Oi(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function tn(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function Pie(t,e){switch(t){case qe.FullYear:return e.getFullYear();case qe.Month:return e.getMonth();case qe.Date:return e.getDate();case qe.Hours:return e.getHours();case qe.Minutes:return e.getMinutes();case qe.Seconds:return e.getSeconds();case qe.FractionalSeconds:return e.getMilliseconds();case qe.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===qe.Hours)0===a&&-12===n&&(a=12);else if(t===qe.FractionalSeconds)return function kie(t,e){return Oi(t,3).substring(0,e)}(a,e);const c=gi(s,zt.MinusSign);return Oi(a,e,c,r,i)}}function lt(t,e,n=vn.Format,r=!1){return function(i,o){return function Fie(t,e,n,r,i,o){switch(n){case We.Months:return function yI(t,e,n){const r=cr(t),o=mi([r[ut.MonthsFormat],r[ut.MonthsStandalone]],e);return mi(o,n)}(e,i,r)[t.getMonth()];case We.Days:return function HB(t,e,n){const r=cr(t),o=mi([r[ut.DaysFormat],r[ut.DaysStandalone]],e);return mi(o,n)}(e,i,r)[t.getDay()];case We.DayPeriods:const s=t.getHours(),a=t.getMinutes();if(o){const u=function Sie(t){const e=cr(t);return GB(e),(e[ut.ExtraData][2]||[]).map(r=>"string"==typeof r?bI(r):[bI(r[0]),bI(r[1])])}(e),l=function Aie(t,e,n){const r=cr(t);GB(r);const o=mi([r[ut.ExtraData][0],r[ut.ExtraData][1]],e)||[];return mi(o,n)||[]}(e,i,r),d=u.findIndex(h=>{if(Array.isArray(h)){const[f,g]=h,y=s>=f.hours&&a>=f.minutes,v=s<g.hours||s===g.hours&&a<g.minutes;if(f.hours<g.hours){if(y&&v)return!0}else if(y||v)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(-1!==d)return l[d]}return function Tie(t,e,n){const r=cr(t),o=mi([r[ut.DayPeriodsFormat],r[ut.DayPeriodsStandalone]],e);return mi(o,n)}(e,i,r)[s<12?0:1];case We.Eras:return function Eie(t,e){return mi(cr(t)[ut.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,o,t,e,n,r)}}function g_(t){return function(e,n,r){const i=-1*r,o=gi(n,zt.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Bo.Short:return(i>=0?"+":"")+Oi(s,2,o)+Oi(Math.abs(i%60),2,o);case Bo.ShortGMT:return"GMT"+(i>=0?"+":"")+Oi(s,1,o);case Bo.Long:return"GMT"+(i>=0?"+":"")+Oi(s,2,o)+":"+Oi(Math.abs(i%60),2,o);case Bo.Extended:return 0===r?"Z":(i>=0?"+":"")+Oi(s,2,o)+":"+Oi(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}const Lie=0,m_=4;function qB(t){return f_(t.getFullYear(),t.getMonth(),t.getDate()+(m_-t.getDay()))}function wI(t,e=!1){return function(n,r){let i;if(e){const o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{const o=qB(n),s=function Vie(t){const e=f_(t,Lie,1).getDay();return f_(t,0,1+(e<=m_?m_:m_+7)-e)}(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Oi(i,t,gi(r,zt.MinusSign))}}function __(t,e=!1){return function(n,r){return Oi(qB(n).getFullYear(),t,gi(r,zt.MinusSign),e)}}const II={};function WB(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function KB(t){return t instanceof Date&&!isNaN(t.valueOf())}class ioe{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Yr=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new ioe(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),eU(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{eU(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(b(pi),b(xt),b(a_))};static#t=this.\u0275dir=H({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function eU(t,e){t.context.$implicit=e.item}let Fn=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new ooe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){tU("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){tU("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(b(pi),b(xt))};static#t=this.\u0275dir=H({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class ooe{constructor(){this.$implicit=null,this.ngIf=null}}function tU(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${un(e)}'.`)}const boe=new te("DATE_PIPE_DEFAULT_TIMEZONE"),woe=new te("DATE_PIPE_DEFAULT_OPTIONS");let rU=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(null==n||""===n||n!=n)return null;try{return zB(n,r??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw function Mi(t,e){return new U(2100,!1)}()}}static#e=this.\u0275fac=function(r){return new(r||t)(b(xi,16),b(boe,24),b(woe,24))};static#t=this.\u0275pipe=Wn({name:"date",type:t,pure:!0,standalone:!0})}return t})(),Va=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})();const oU="browser";function sU(t){return"server"===t}let Poe=(()=>{class t{static#e=this.\u0275prov=q({token:t,providedIn:"root",factory:()=>new Foe(W(Gt),window)})}return t})();class Foe{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Loe(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class ase extends pie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class PI extends ase{static makeCurrent(){!function fie(t){pI||(pI=t)}(new PI)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function cse(){return Mh=Mh||document.querySelector("base"),Mh?Mh.getAttribute("href"):null}();return null==n?null:function use(t){w_=w_||document.createElement("a"),w_.setAttribute("href",t);const e=w_.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Mh=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function toe(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let w_,Mh=null,dse=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac})}return t})();const FI=new te("EventManagerPlugins");let dU=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new U(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(W(FI),W(Ee))};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac})}return t})();class hU{constructor(e){this._doc=e}}const LI="ng-app-id";let fU=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=sU(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${LI}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(LI),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(LI,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(W(Gt),W(Em),W(IF,8),W(ko))};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac})}return t})();const VI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},BI=/%COMP%/g,gse=new te("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function gU(t,e){return e.map(n=>n.replace(BI,t))}let mU=(()=>{class t{constructor(n,r,i,o,s,a,c,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=sU(a),this.defaultRenderer=new UI(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ii.ShadowDom&&(r={...r,encapsulation:Ii.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof yU?i.applyToHost(n):i instanceof jI&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Ii.Emulated:o=new yU(c,u,r,this.appId,l,s,a,d);break;case Ii.ShadowDom:return new vse(c,u,n,r,s,a,this.nonce,d);default:o=new jI(c,u,r,l,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(W(dU),W(fU),W(Em),W(gse),W(Gt),W(ko),W(Ee),W(IF))};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac})}return t})();class UI{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(VI[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(_U(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(_U(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=VI[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=VI[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Es.DashCase|Es.Important)?e.style.setProperty(n,r,i&Es.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Es.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=As().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function _U(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class vse extends UI{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=gU(i.id,i.styles);for(const l of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class jI extends UI{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?gU(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class yU extends jI{constructor(e,n,r,i,o,s,a,c){const u=i+"-"+r.id;super(e,n,r,o,s,a,c,u),this.contentAttr=function mse(t){return"_ngcontent-%COMP%".replace(BI,t)}(u),this.hostAttr=function _se(t){return"_nghost-%COMP%".replace(BI,t)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let bse=(()=>{class t extends hU{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(W(Gt))};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac})}return t})();const vU=["alt","control","meta","shift"],wse={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ise={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Tse=(()=>{class t extends hU{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>As().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),vU.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=wse[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),vU.forEach(s=>{s!==i&&(0,Ise[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(W(Gt))};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac})}return t})();const wU=[{provide:ko,useValue:oU},{provide:wF,useValue:function Ese(){PI.makeCurrent()},multi:!0},{provide:Gt,useFactory:function Dse(){return function hJ(t){N1=t}(document),document},deps:[]}],Sse=hB(Xre,"browser",wU),Ase=new te(""),IU=[{provide:r_,useClass:class lse{addToWindow(e){at.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new U(5103,!1);return o},at.getAllAngularTestabilities=()=>e.getAllTestabilities(),at.getAllAngularRootElements=()=>e.getAllRootElements(),at.frameworkStabilizers||(at.frameworkStabilizers=[]),at.frameworkStabilizers.push(r=>{const i=at.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?As().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:aB,useClass:nI,deps:[Ee,rI,r_]},{provide:nI,useClass:nI,deps:[Ee,rI,r_]}],TU=[{provide:V1,useValue:"root"},{provide:Po,useFactory:function Cse(){return new Po},deps:[]},{provide:FI,useClass:bse,multi:!0,deps:[Gt,Ee,ko]},{provide:FI,useClass:Tse,multi:!0,deps:[Gt]},mU,fU,dU,{provide:Z1,useExisting:mU},{provide:class Voe{},useClass:dse,deps:[]},[]];let xse=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Em,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(W(Ase,12))};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({providers:[...TU,...IU],imports:[Va,eie]})}return t})(),EU=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(W(Gt))};static#t=this.\u0275prov=q({token:t,factory:function(r){let i=null;return i=r?new r:function Ose(){return new EU(W(Gt))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;let SU=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:function(r){let i=null;return i=r?new(r||t):W(AU),i},providedIn:"root"})}return t})(),AU=(()=>{class t extends SU{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case di.NONE:return r;case di.HTML:return Zi(r,"HTML")?Hr(r):dF(this._doc,String(r)).toString();case di.STYLE:return Zi(r,"Style")?Hr(r):r;case di.SCRIPT:if(Zi(r,"Script"))return Hr(r);throw new U(5200,!1);case di.URL:return Zi(r,"URL")?Hr(r):ym(String(r));case di.RESOURCE_URL:if(Zi(r,"ResourceURL"))return Hr(r);throw new U(5201,!1);default:throw new U(5202,!1)}}bypassSecurityTrustHtml(n){return function vJ(t){return new fJ(t)}(n)}bypassSecurityTrustStyle(n){return function bJ(t){return new pJ(t)}(n)}bypassSecurityTrustScript(n){return function wJ(t){return new gJ(t)}(n)}bypassSecurityTrustUrl(n){return function IJ(t){return new mJ(t)}(n)}bypassSecurityTrustResourceUrl(n){return function TJ(t){return new _J(t)}(n)}static#e=this.\u0275fac=function(r){return new(r||t)(W(Gt))};static#t=this.\u0275prov=q({token:t,factory:function(r){let i=null;return i=r?new r:function Pse(t){return new AU(t.get(Gt))}(W(en)),i},providedIn:"root"})}return t})();const{isArray:Lse}=Array,{getPrototypeOf:Vse,prototype:Bse,keys:Use}=Object;function NU(t){if(1===t.length){const e=t[0];if(Lse(e))return{args:e,keys:null};if(function jse(t){return t&&"object"==typeof t&&Vse(t)===Bse}(e)){const n=Use(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:$se}=Array;function HI(t){return xe(e=>function Hse(t,e){return $se(e)?t(...e):t(e)}(t,e))}function OU(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function GI(...t){const e=Sd(t),n=Ag(t),{args:r,keys:i}=NU(t);if(0===r.length)return yn([],e);const o=new Ue(function Gse(t,e,n=wi){return r=>{MU(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)MU(e,()=>{const u=yn(t[c],e);let l=!1;u.subscribe(st(r,d=>{o[c]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>OU(i,s):wi));return n?o.pipe(HI(n)):o}function MU(t,e,n){t?So(n,t,e):e()}const I_=ps(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Rh(...t){return function zse(){return ru(1)}()(yn(t,Sd(t)))}function zI(t){return new Ue(e=>{an(t()).subscribe(e)})}function kh(t,e){const n=Ie(t)?t:()=>t,r=i=>i.error(n());return new Ue(e?i=>e.schedule(r,0,i):r)}function qI(){return Dt((t,e)=>{let n=null;t._refCount++;const r=st(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class RU extends Ue{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Cd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Bt;const n=this.getSubject();e.add(this.source.subscribe(st(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Bt.EMPTY)}return e}refCount(){return qI()(this)}}function bn(t){return t<=0?()=>si:Dt((e,n)=>{let r=0;e.subscribe(st(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function wn(t,e){return Dt((n,r)=>{let i=0;n.subscribe(st(r,o=>t.call(e,o,i++)&&r.next(o)))})}function T_(t){return Dt((e,n)=>{let r=!1;e.subscribe(st(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function PU(t=qse){return Dt((e,n)=>{let r=!1;e.subscribe(st(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function qse(){return new I_}function Ba(t,e){const n=arguments.length>=2;return r=>r.pipe(t?wn((i,o)=>t(i,o,r)):wi,bn(1),n?T_(e):PU(()=>new I_))}function Ph(t,e){return Ie(e)?cn(t,e,1):cn(t,1)}function hn(t,e,n){const r=Ie(t)||e||n?{next:t,error:e,complete:n}:t;return r?Dt((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(st(o,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),o.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):wi}function Ua(t){return Dt((e,n)=>{let o,r=null,i=!1;r=e.subscribe(st(n,void 0,void 0,s=>{o=an(t(s,Ua(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function WI(t){return t<=0?()=>si:Dt((e,n)=>{let r=[];e.subscribe(st(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function KI(t){return xe(()=>t)}function YI(t){return Dt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Tt(t){return Dt((e,n)=>{an(t).subscribe(st(n,()=>n.complete(),ma)),!n.closed&&e.subscribe(n)})}const ve="primary",Fh=Symbol("RouteTitle");class Qse{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function rl(t){return new Qse(t)}function Jse(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ro(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!FU(t[i],e[i]))return!1;return!0}function FU(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function LU(t){return t.length>0?t[t.length-1]:null}function Ns(t){return function Fse(t){return!!t&&(t instanceof Ue||Ie(t.lift)&&Ie(t.subscribe))}(t)?t:fh(t)?yn(Promise.resolve(t)):ce(t)}const Xse={exact:function UU(t,e,n){if(!ja(t.segments,e.segments)||!E_(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!UU(t.children[r],e.children[r],n))return!1;return!0},subset:jU},VU={exact:function eae(t,e){return ro(t,e)},subset:function tae(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>FU(t[n],e[n]))},ignored:()=>!0};function BU(t,e,n){return Xse[n.paths](t.root,e.root,n.matrixParams)&&VU[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function jU(t,e,n){return $U(t,e,e.segments,n)}function $U(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!ja(i,n)||e.hasChildren()||!E_(i,n,r))}if(t.segments.length===n.length){if(!ja(t.segments,n)||!E_(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!jU(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(ja(t.segments,i)&&E_(t.segments,i,r)&&t.children[ve])&&$U(t.children[ve],e,o,r)}}function E_(t,e,n){return e.every((r,i)=>VU[n](t[i].parameters,r.parameters))}class il{constructor(e=new tt([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rl(this.queryParams)),this._queryParamMap}toString(){return iae.serialize(this)}}class tt{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return C_(this)}}class Lh{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=rl(this.parameters)),this._parameterMap}toString(){return zU(this)}}function ja(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Vh=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:function(){return new QI},providedIn:"root"})}return t})();class QI{parse(e){const n=new gae(e);return new il(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Bh(e.root,!0)}`,r=function aae(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${D_(n)}=${D_(i)}`).join("&"):`${D_(n)}=${D_(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function oae(t){return encodeURI(t)}(e.fragment)}`:""}`}}const iae=new QI;function C_(t){return t.segments.map(e=>zU(e)).join("/")}function Bh(t,e){if(!t.hasChildren())return C_(t);if(e){const n=t.children[ve]?Bh(t.children[ve],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ve&&r.push(`${i}:${Bh(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function rae(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ve&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ve&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ve?[Bh(t.children[ve],!1)]:[`${i}:${Bh(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ve]?`${C_(t)}/${n[0]}`:`${C_(t)}/(${n.join("//")})`}}function HU(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function D_(t){return HU(t).replace(/%3B/gi,";")}function JI(t){return HU(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function S_(t){return decodeURIComponent(t)}function GU(t){return S_(t.replace(/\+/g,"%20"))}function zU(t){return`${JI(t.path)}${function sae(t){return Object.keys(t).map(e=>`;${JI(e)}=${JI(t[e])}`).join("")}(t.parameters)}`}const cae=/^[^\/()?;#]+/;function ZI(t){const e=t.match(cae);return e?e[0]:""}const uae=/^[^\/()?;=#]+/,dae=/^[^=?&#]+/,fae=/^[^&#]+/;class gae{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tt([],{}):new tt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ve]=new tt(e,n)),r}parseSegment(){const e=ZI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new Lh(S_(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function lae(t){const e=t.match(uae);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=ZI(this.remaining);i&&(r=i,this.capture(r))}e[S_(n)]=S_(r)}parseQueryParam(e){const n=function hae(t){const e=t.match(dae);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function pae(t){const e=t.match(fae);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=GU(n),o=GU(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ZI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new U(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ve);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[ve]:new tt([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}}function qU(t){return t.segments.length>0?new tt([],{[ve]:t}):t}function WU(t){const e={};for(const r of Object.keys(t.children)){const o=WU(t.children[r]);if(r===ve&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function mae(t){if(1===t.numberOfChildren&&t.children[ve]){const e=t.children[ve];return new tt(t.segments.concat(e.segments),e.children)}return t}(new tt(t.segments,e))}function $a(t){return t instanceof il}function KU(t){let e;const i=qU(function n(o){const s={};for(const c of o.children){const u=n(c);s[c.outlet]=u}const a=new tt(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function YU(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return XI(i,i,i,n,r);const o=function yae(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new JU(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new JU(n,e,r)}(e);if(o.toRoot())return XI(i,i,new tt([],{}),n,r);const s=function vae(t,e,n){if(t.isAbsolute)return new x_(e,!0,0);if(!n)return new x_(e,!1,NaN);if(null===n.parent)return new x_(n,!0,0);const r=A_(t.commands[0])?0:1;return function bae(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new x_(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?jh(s.segmentGroup,s.index,o.commands):ZU(s.segmentGroup,s.index,o.commands);return XI(i,s.segmentGroup,a,n,r)}function A_(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Uh(t){return"object"==typeof t&&null!=t&&t.outlets}function XI(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),s=t===e?n:QU(t,e,n);const a=qU(WU(s));return new il(a,o,i)}function QU(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:QU(o,e,n)}),new tt(t.segments,r)}class JU{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&A_(r[0]))throw new U(4003,!1);const i=r.find(Uh);if(i&&i!==LU(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class x_{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function ZU(t,e,n){if(t||(t=new tt([],{})),0===t.segments.length&&t.hasChildren())return jh(t,e,n);const r=function Iae(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(Uh(a))break;const c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!e4(c,u,s))return o;r+=2}else{if(!e4(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new tt(t.segments.slice(0,r.pathIndex),{});return o.children[ve]=new tt(t.segments.slice(r.pathIndex),t.children),jh(o,0,i)}return r.match&&0===i.length?new tt(t.segments,{}):r.match&&!t.hasChildren()?eT(t,e,n):r.match?jh(t,0,i):eT(t,e,n)}function jh(t,e,n){if(0===n.length)return new tt(t.segments,{});{const r=function wae(t){return Uh(t[0])?t[0].outlets:{[ve]:t}}(n),i={};if(Object.keys(r).some(o=>o!==ve)&&t.children[ve]&&1===t.numberOfChildren&&0===t.children[ve].segments.length){const o=jh(t.children[ve],e,n);return new tt(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=ZU(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new tt(t.segments,i)}}function eT(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Uh(o)){const c=Tae(o.outlets);return new tt(r,c)}if(0===i&&A_(n[0])){r.push(new Lh(t.segments[e].path,XU(n[0]))),i++;continue}const s=Uh(o)?o.outlets[ve]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&A_(a)?(r.push(new Lh(s,XU(a))),i+=2):(r.push(new Lh(s,{})),i++)}return new tt(r,{})}function Tae(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=eT(new tt([],{}),0,r))}),e}function XU(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function e4(t,e,n){return t==n.path&&ro(e,n.parameters)}const $h="imperative";class io{constructor(e,n){this.id=e,this.url=n}}class N_ extends io{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Os extends io{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Hh extends io{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ol extends io{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class O_ extends io{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class t4 extends io{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Eae extends io{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cae extends io{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Dae extends io{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sae extends io{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Aae{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xae{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Nae{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oae{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mae{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rae{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class n4{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class tT{}class nT{constructor(e){this.url=e}}class kae{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Gh,this.attachRef=null}}let Gh=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new kae,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class r4{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=rT(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=rT(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=iT(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return iT(e,this._root).map(n=>n.value)}}function rT(t,e){if(t===e.value)return e;for(const n of e.children){const r=rT(t,n);if(r)return r}return null}function iT(t,e){if(t===e.value)return[e];for(const n of e.children){const r=iT(t,n);if(r.length)return r.unshift(e),r}return[]}class jo{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function sl(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class i4 extends r4{constructor(e,n){super(e),this.snapshot=n,oT(this,e)}toString(){return this.snapshot.toString()}}function o4(t,e){const n=function Pae(t,e){const s=new M_([],{},{},"",{},ve,e,null,{});return new a4("",new jo(s,[]))}(0,e),r=new vr([new Lh("",{})]),i=new vr({}),o=new vr({}),s=new vr({}),a=new vr(""),c=new oo(r,i,s,a,o,ve,e,n.root);return c.snapshot=n.root,new i4(new jo(c,[]),n)}class oo{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(xe(u=>u[Fh]))??ce(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(xe(e=>rl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(xe(e=>rl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function s4(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Fae(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class M_{get title(){return this.data?.[Fh]}constructor(e,n,r,i,o,s,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=rl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class a4 extends r4{constructor(e,n){super(n),this.url=e,oT(this,n)}toString(){return c4(this._root)}}function oT(t,e){e.value._routerState=t,e.children.forEach(n=>oT(t,n))}function c4(t){const e=t.children.length>0?` { ${t.children.map(c4).join(", ")} } `:"";return`${t.value}${e}`}function sT(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ro(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ro(e.params,n.params)||t.paramsSubject.next(n.params),function Zse(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ro(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),ro(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function aT(t,e){const n=ro(t.params,e.params)&&function nae(t,e){return ja(t,e)&&t.every((n,r)=>ro(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||aT(t.parent,e.parent))}let R_=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ve,this.activateEvents=new R,this.deactivateEvents=new R,this.attachEvents=new R,this.detachEvents=new R,this.parentContexts=G(Gh),this.location=G(pi),this.changeDetector=G(Ni),this.environmentInjector=G(Cr),this.inputBinder=G(k_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Lae(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=H({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[kn]})}return t})();class Lae{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===oo?this.route:e===Gh?this.childContexts:this.parent.get(e,n)}}const k_=new te("");let u4=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=GI([r.queryParams,r.params,r.data]).pipe(ai(([o,s,a],c)=>(a={...o,...s,...a},0===c?ce(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function hie(t){const e=Me(t);if(!e)return null;const n=new ah(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac})}return t})();function zh(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Bae(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return zh(t,r,i);return zh(t,r)})}(t,e,n);return new jo(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>zh(t,a)),s}}const r=function Uae(t){return new oo(new vr(t.url),new vr(t.params),new vr(t.queryParams),new vr(t.fragment),new vr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>zh(t,o));return new jo(r,i)}}const cT="ngNavigationCancelingError";function l4(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=$a(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=d4(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function d4(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[cT]=!0,r.cancellationCode=e,n&&(r.url=n),r}function h4(t){return t&&t[cT]}let f4=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["ng-component"]],standalone:!0,features:[qr],decls:1,vars:0,template:function(r,i){1&r&&k(0,"router-outlet")},dependencies:[R_],encapsulation:2})}return t})();function uT(t){const e=t.children&&t.children.map(uT),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ve&&(n.component=f4),n}function Ri(t){return t.outlet||ve}function qh(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Kae{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),sT(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=sl(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=sl(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=sl(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=sl(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Rae(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Oae(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(sT(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),sT(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=qh(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class p4{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class P_{constructor(e,n){this.component=e,this.route=n}}function Yae(t,e,n){const r=t._root;return Wh(r,e?e._root:null,n,[r.value])}function al(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function NK(t){return null!==Rg(t)}(t)?e.get(t):t:r}function Wh(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=sl(e);return t.children.forEach(s=>{(function Jae(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function Zae(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ja(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ja(t.url,e.url)||!ro(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!aT(t,e)||!ro(t.queryParams,e.queryParams);default:return!aT(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new p4(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Wh(t,e,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new P_(a.outlet.component,s))}else s&&Kh(e,a,i),i.canActivateChecks.push(new p4(r)),Wh(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Kh(a,n.getContext(s),i)),i}function Kh(t,e,n){const r=sl(t),i=t.value;Object.entries(r).forEach(([o,s])=>{Kh(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new P_(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Yh(t){return"function"==typeof t}function g4(t){return t instanceof I_||"EmptyError"===t?.name}const F_=Symbol("INITIAL_VALUE");function cl(){return ai(t=>GI(t.map(e=>e.pipe(bn(1),function kU(...t){const e=Sd(t);return Dt((n,r)=>{(e?Rh(t,n,e):Rh(t,n)).subscribe(r)})}(F_)))).pipe(xe(e=>{for(const n of e)if(!0!==n){if(n===F_)return F_;if(!1===n||n instanceof il)return n}return!0}),wn(e=>e!==F_),bn(1)))}function m4(t){return function wg(...t){return Ig(t)}(hn(e=>{if($a(e))throw l4(0,e)}),xe(e=>!0===e))}class L_{constructor(e){this.segmentGroup=e||null}}class _4{constructor(e){this.urlTree=e}}function ul(t){return kh(new L_(t))}function y4(t){return kh(new _4(t))}class yce{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new U(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ce(r);if(i.numberOfChildren>1||!i.children[ve])return kh(new U(4e3,!1));i=i.children[ve]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new il(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new tt(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const lT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vce(t,e,n,r,i){const o=dT(t,e,n);return o.matched?(r=function $ae(t,e){return t.providers&&!t._injector&&(t._injector=Lw(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function gce(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?ce(i.map(s=>{const a=al(s,t);return Ns(function ice(t){return t&&Yh(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(cl(),m4()):ce(!0)}(r,e,n).pipe(xe(s=>!0===s?o:{...lT}))):ce(o)}function dT(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...lT}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Jse)(n,t,e);if(!i)return{...lT};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function v4(t,e,n,r){return n.length>0&&function Ice(t,e,n){return n.some(r=>V_(t,e,r)&&Ri(r)!==ve)}(t,n,r)?{segmentGroup:new tt(e,wce(r,new tt(n,t.children))),slicedSegments:[]}:0===n.length&&function Tce(t,e,n){return n.some(r=>V_(t,e,r))}(t,n,r)?{segmentGroup:new tt(t.segments,bce(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new tt(t.segments,t.children),slicedSegments:n}}function bce(t,e,n,r,i){const o={};for(const s of r)if(V_(t,n,s)&&!i[Ri(s)]){const a=new tt([],{});o[Ri(s)]=a}return{...i,...o}}function wce(t,e){const n={};n[ve]=e;for(const r of t)if(""===r.path&&Ri(r)!==ve){const i=new tt([],{});n[Ri(r)]=i}return n}function V_(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Sce{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new yce(this.urlSerializer,this.urlTree)}noMatchError(e){return new U(4002,!1)}recognize(){const e=v4(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ve).pipe(Ua(n=>{if(n instanceof _4)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof L_?this.noMatchError(n):n}),xe(n=>{const r=new M_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ve,this.rootComponentType,null,{}),i=new jo(r,n),o=new a4("",i),s=function _ae(t,e,n=null,r=null){return YU(KU(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ve).pipe(Ua(r=>{throw r instanceof L_?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=s4(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return yn(i).pipe(Ph(o=>{const s=r.children[o],a=function qae(t,e){const n=t.filter(r=>Ri(r)===e);return n.push(...t.filter(r=>Ri(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),function Kse(t,e){return Dt(function Wse(t,e,n,r,i){return(o,s)=>{let a=n,c=e,u=0;o.subscribe(st(s,l=>{const d=u++;c=a?t(c,l,d):(a=!0,l),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(t,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),T_(null),function Yse(t,e){const n=arguments.length>=2;return r=>r.pipe(t?wn((i,o)=>t(i,o,r)):wi,WI(1),n?T_(e):PU(()=>new I_))}(),cn(o=>{if(null===o)return ul(r);const s=b4(o);return function Ace(t){t.sort((e,n)=>e.value.outlet===ve?-1:n.value.outlet===ve?1:e.value.outlet.localeCompare(n.value.outlet))}(s),ce(s)}))}processSegment(e,n,r,i,o,s){return yn(n).pipe(Ph(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Ua(c=>{if(c instanceof L_)return ce(null);throw c}))),Ba(a=>!!a),Ua(a=>{if(g4(a))return function Cce(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?ce([]):ul(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function Ece(t,e,n,r){return!!(Ri(t)===r||r!==ve&&V_(e,n,t))&&("**"===t.path||dT(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):ul(i):ul(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?y4(o):this.applyRedirects.lineralizeSegments(r,o).pipe(cn(s=>{const a=new tt(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:l}=dT(n,i,o);if(!a)return ul(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return i.redirectTo.startsWith("/")?y4(d):this.applyRedirects.lineralizeSegments(i,d).pipe(cn(h=>this.processSegment(e,r,n,h.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?LU(i).parameters:{};a=ce({snapshot:new M_(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,w4(r),Ri(r),r.component??r._loadedComponent??null,r,I4(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=vce(n,r,i,e).pipe(xe(({matched:c,consumedSegments:u,remainingSegments:l,parameters:d})=>c?{snapshot:new M_(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,w4(r),Ri(r),r.component??r._loadedComponent??null,r,I4(r)),consumedSegments:u,remainingSegments:l}:null));return a.pipe(ai(c=>null===c?ul(n):this.getChildConfig(e=r._injector??e,r,i).pipe(ai(({routes:u})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=c,{segmentGroup:g,slicedSegments:y}=v4(n,h,f,u);if(0===y.length&&g.hasChildren())return this.processChildren(l,u,g).pipe(xe(T=>null===T?null:[new jo(d,T)]));if(0===u.length&&0===y.length)return ce([new jo(d,[])]);const v=Ri(r)===o;return this.processSegment(l,u,g,y,v?ve:o,!0).pipe(xe(T=>[new jo(d,T)]))}))))}getChildConfig(e,n,r){return n.children?ce({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?ce({routes:n._loadedRoutes,injector:n._loadedInjector}):function pce(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?ce(!0):ce(i.map(s=>{const a=al(s,t);return Ns(function ece(t){return t&&Yh(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(cl(),m4())}(e,n,r).pipe(cn(i=>i?this.configLoader.loadChildren(e,n).pipe(hn(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function _ce(t){return kh(d4(!1,3))}())):ce({routes:[],injector:e})}}function xce(t){const e=t.value.routeConfig;return e&&""===e.path}function b4(t){const e=[],n=new Set;for(const r of t){if(!xce(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=b4(r.children);e.push(new jo(r.value,i))}return e.filter(r=>!n.has(r))}function w4(t){return t.data||{}}function I4(t){return t.resolve||{}}function T4(t){return"string"==typeof t.title||null===t.title}function hT(t){return ai(e=>{const n=t(e);return n?yn(n).pipe(xe(()=>e)):ce(e)})}const ll=new te("ROUTES");let fT=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=G(rB)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ce(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Ns(n.loadComponent()).pipe(xe(E4),hn(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),YI(()=>{this.componentLoaders.delete(n)})),i=new RU(r,()=>new Fe).pipe(qI());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ce({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function Fce(t,e,n,r){return Ns(t.loadChildren()).pipe(xe(E4),cn(i=>i instanceof dV||Array.isArray(i)?ce(i):yn(e.compileModuleAsync(i))),xe(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(ll,[],{optional:!0,self:!0}).flat()),{routes:s.map(uT),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(YI(()=>{this.childrenLoaders.delete(r)})),s=new RU(o,()=>new Fe).pipe(qI());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function E4(t){return function Lce(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let B_=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Fe,this.transitionAbortSubject=new Fe,this.configLoader=G(fT),this.environmentInjector=G(Cr),this.urlSerializer=G(Vh),this.rootContexts=G(Gh),this.inputBindingEnabled=null!==G(k_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ce(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new xae(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Aae(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new vr({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:$h,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(wn(o=>0!==o.id),xe(o=>({...o,extractedUrl:n.urlHandlingStrategy.extract(o.rawUrl)})),ai(o=>{this.currentTransition=o;let s=!1,a=!1;return ce(o).pipe(hn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ai(c=>{const u=c.currentBrowserUrl.toString(),l=!n.navigated||c.extractedUrl.toString()!==u||u!==c.currentUrlTree.toString();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new ol(c.id,this.urlSerializer.serialize(c.rawUrl),h,0)),c.resolve(null),si}if(n.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ce(c).pipe(ai(h=>{const f=this.transitions?.getValue();return this.events.next(new N_(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?si:Promise.resolve(h)}),function Nce(t,e,n,r,i,o){return cn(s=>function Dce(t,e,n,r,i,o,s="emptyOnly"){return new Sce(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(xe(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),hn(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new t4(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:h,extractedUrl:f,source:g,restoredState:y,extras:v}=c,T=new N_(h,this.urlSerializer.serialize(f),g,y);this.events.next(T);const w=o4(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:w,urlAfterRedirects:f,extras:{...v,skipLocationChange:!1,replaceUrl:!1}},ce(o)}{const h="";return this.events.next(new ol(c.id,this.urlSerializer.serialize(c.extractedUrl),h,1)),c.resolve(null),si}}),hn(c=>{const u=new Eae(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),xe(c=>(this.currentTransition=o={...c,guards:Yae(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function sce(t,e){return cn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?ce({...n,guardsResult:!0}):function ace(t,e,n,r){return yn(t).pipe(cn(i=>function fce(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?ce(o.map(a=>{const c=qh(e)??i,u=al(a,c);return Ns(function rce(t){return t&&Yh(t.canDeactivate)}(u)?u.canDeactivate(t,e,n,r):c.runInContext(()=>u(t,e,n,r))).pipe(Ba())})).pipe(cl()):ce(!0)}(i.component,i.route,n,e,r)),Ba(i=>!0!==i,!0))}(s,r,i,t).pipe(cn(a=>a&&function Xae(t){return"boolean"==typeof t}(a)?function cce(t,e,n,r){return yn(e).pipe(Ph(i=>Rh(function lce(t,e){return null!==t&&e&&e(new Nae(t)),ce(!0)}(i.route.parent,r),function uce(t,e){return null!==t&&e&&e(new Mae(t)),ce(!0)}(i.route,r),function hce(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Qae(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>zI(()=>ce(s.guards.map(c=>{const u=qh(s.node)??n,l=al(c,u);return Ns(function nce(t){return t&&Yh(t.canActivateChild)}(l)?l.canActivateChild(r,t):u.runInContext(()=>l(r,t))).pipe(Ba())})).pipe(cl())));return ce(o).pipe(cl())}(t,i.path,n),function dce(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ce(!0);const i=r.map(o=>zI(()=>{const s=qh(e)??n,a=al(o,s);return Ns(function tce(t){return t&&Yh(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(Ba())}));return ce(i).pipe(cl())}(t,i.route,n))),Ba(i=>!0!==i,!0))}(r,o,t,e):ce(a)),xe(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),hn(c=>{if(o.guardsResult=c.guardsResult,$a(c.guardsResult))throw l4(0,c.guardsResult);const u=new Cae(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),wn(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),hT(c=>{if(c.guards.canActivateChecks.length)return ce(c).pipe(hn(u=>{const l=new Dae(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),ai(u=>{let l=!1;return ce(u).pipe(function Oce(t,e){return cn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ce(n);let o=0;return yn(i).pipe(Ph(s=>function Mce(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!T4(i)&&(o[Fh]=i.title),function Rce(t,e,n,r){const i=function kce(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return ce({});const o={};return yn(i).pipe(cn(s=>function Pce(t,e,n,r){const i=qh(e)??r,o=al(t,i);return Ns(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(Ba(),hn(a=>{o[s]=a}))),WI(1),KI(o),Ua(s=>g4(s)?si:kh(s)))}(o,t,e,r).pipe(xe(s=>(t._resolvedData=s,t.data=s4(t,n).resolve,i&&T4(i)&&(t.data[Fh]=i.title),null)))}(s.route,r,t,e)),hn(()=>o++),WI(1),cn(s=>o===i.length?ce(n):si))})}(n.paramsInheritanceStrategy,this.environmentInjector),hn({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(u,"",2)}}))}),hn(u=>{const l=new Sae(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}))}),hT(c=>{const u=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(hn(h=>{l.component=h}),xe(()=>{})));for(const h of l.children)d.push(...u(h));return d};return GI(u(c.targetSnapshot.root)).pipe(T_(),bn(1))}),hT(()=>this.afterPreactivation()),xe(c=>{const u=function Vae(t,e,n){const r=zh(t,e._root,n?n._root:void 0);return new i4(r,e)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:u},o}),hn(()=>{this.events.next(new tT)}),((t,e,n,r)=>xe(i=>(new Kae(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),bn(1),hn({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Os(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),n.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Tt(this.transitionAbortSubject.pipe(hn(c=>{throw c}))),YI(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Ua(c=>{if(a=!0,h4(c))this.events.next(new Hh(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function jae(t){return h4(t)&&$a(t.url)}(c)?this.events.next(new nT(c.url)):o.resolve(!1);else{this.events.next(new O_(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(c))}catch(u){o.reject(u)}}return si}))}))}cancelNavigationTransition(n,r,i){const o=new Hh(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function C4(t){return t!==$h}let D4=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ve);return r}getResolvedTitleForRoute(n){return n.data[Fh]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:function(){return G(Vce)},providedIn:"root"})}return t})(),Vce=(()=>{class t extends D4{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(W(EU))};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Bce=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:function(){return G(jce)},providedIn:"root"})}return t})();class Uce{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let jce=(()=>{class t extends Uce{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Ht(t)))(i||t)}}();static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const U_=new te("",{providedIn:"root",factory:()=>({})});let $ce=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:function(){return G(Hce)},providedIn:"root"})}return t})(),Hce=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Qh=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Qh||{});function S4(t,e){t.events.pipe(wn(n=>n instanceof Os||n instanceof Hh||n instanceof O_||n instanceof ol),xe(n=>n instanceof Os||n instanceof ol?Qh.COMPLETE:n instanceof Hh&&(0===n.code||1===n.code)?Qh.REDIRECTING:Qh.FAILED),wn(n=>n!==Qh.REDIRECTING),bn(1)).subscribe(()=>{e()})}function Gce(t){throw t}function zce(t,e,n){return e.parse("/")}const qce={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Wce={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qt=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=G(tB),this.isNgZoneEnabled=!1,this._events=new Fe,this.options=G(U_,{optional:!0})||{},this.pendingTasks=G(nB),this.errorHandler=this.options.errorHandler||Gce,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||zce,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=G($ce),this.routeReuseStrategy=G(Bce),this.titleStrategy=G(D4),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=G(ll,{optional:!0})?.flat()??[],this.navigationTransitions=G(B_),this.urlSerializer=G(Vh),this.location=G(_I),this.componentInputBindingEnabled=!!G(k_,{optional:!0}),this.eventsSubscription=new Bt,this.isNgZoneEnabled=G(Ee)instanceof Ee&&Ee.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new il,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=o4(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(A4(r)&&this._events.next(r));if(r instanceof N_)C4(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof ol)this.rawUrlTree=i.rawUrl;else if(r instanceof t4){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof tT)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Hh)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof nT){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||C4(i.source)};this.scheduleNavigation(o,$h,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof O_&&this.restoreHistory(i,!0),r instanceof Os&&(this.navigated=!0),A4(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),$h,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(uT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...o};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}null!==l&&(l=this.removeEmptyProps(l));try{d=KU(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return YU(d,n,l,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=$a(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,$h,null,r)}navigate(n,r={skipLocationChange:!1}){return function Kce(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new U(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...qce}:!1===r?{...Wce}:r,$a(n))return BU(this.currentUrlTree,n,i);const o=this.parseUrl(n);return BU(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((d,h)=>{a=d,c=h});const l=this.pendingTasks.add();return S4(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function A4(t){return!(t instanceof tT||t instanceof nT)}let ki=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Fe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof Os&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function hF(t,e,n){return function VJ(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?bm:Sa}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(b(qt),b(oo),function Ea(t){return function eQ(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(sP(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(Pn(),t)}("tabindex"),b(Dr),b($e),b(La))};static#t=this.\u0275dir=H({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&ie("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Ye("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",el],skipLocationChange:["skipLocationChange","skipLocationChange",el],replaceUrl:["replaceUrl","replaceUrl",el],routerLink:"routerLink"},standalone:!0,features:[DL,kn]})}return t})();class x4{}let Jce=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(wn(n=>n instanceof Os),Ph(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Lw(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return yn(i).pipe(ru())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):ce(null);const o=i.pipe(cn(s=>null===s?ce(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?yn([o,this.loader.loadComponent(r)]).pipe(ru()):o})}static#e=this.\u0275fac=function(r){return new(r||t)(W(qt),W(rB),W(Cr),W(x4),W(fT))};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const pT=new te("");let N4=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof N_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Os?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof ol&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof n4&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new n4(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function XF(){throw new Error("invalid")}()};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac})}return t})();function $o(t,e){return{\u0275kind:t,\u0275providers:e}}function M4(){const t=G(en);return e=>{const n=t.get(Ss);if(e!==n.components[0])return;const r=t.get(qt),i=t.get(R4);1===t.get(gT)&&r.initialNavigation(),t.get(k4,null,De.Optional)?.setUpPreloading(),t.get(pT,null,De.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const R4=new te("",{factory:()=>new Fe}),gT=new te("",{providedIn:"root",factory:()=>1}),k4=new te("");function tue(t){return $o(0,[{provide:k4,useExisting:Jce},{provide:x4,useExisting:t}])}const P4=new te("ROUTER_FORROOT_GUARD"),rue=[_I,{provide:Vh,useClass:QI},qt,Gh,{provide:oo,useFactory:function O4(t){return t.routerState.root},deps:[qt]},fT,[]];function iue(){return new lB("Router",qt)}let dl=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[rue,[],{provide:ll,multi:!0,useValue:n},{provide:P4,useFactory:cue,deps:[[qt,new Tr,new rm]]},{provide:U_,useValue:r||{}},r?.useHash?{provide:La,useClass:_ie}:{provide:La,useClass:UB},{provide:pT,useFactory:()=>{const t=G(Poe),e=G(Ee),n=G(U_),r=G(B_),i=G(Vh);return n.scrollOffset&&t.setOffset(n.scrollOffset),new N4(i,r,t,e,n)}},r?.preloadingStrategy?tue(r.preloadingStrategy).\u0275providers:[],{provide:lB,multi:!0,useFactory:iue},r?.initialNavigation?uue(r):[],r?.bindToComponentInputs?$o(8,[u4,{provide:k_,useExisting:u4}]).\u0275providers:[],[{provide:F4,useFactory:M4},{provide:sI,multi:!0,useExisting:F4}]]}}static forChild(n){return{ngModule:t,providers:[{provide:ll,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(W(P4,8))};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})();function cue(t){return"guarded"}function uue(t){return["disabled"===t.initialNavigation?$o(3,[{provide:Zw,multi:!0,useFactory:()=>{const e=G(qt);return()=>{e.setUpLocationChangeListener()}}},{provide:gT,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?$o(2,[{provide:gT,useValue:0},{provide:Zw,multi:!0,deps:[en],useFactory:e=>{const n=e.get(gie,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(qt),o=e.get(R4);S4(i,()=>{r(!0)}),e.get(B_).afterPreactivation=()=>(r(!0),o.closed?ce(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const F4=new te("");function L4(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(u){return void n(u)}a.done?e(c):Promise.resolve(c).then(r,i)}function p(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(c){L4(o,r,i,s,a,"next",c)}function a(c){L4(o,r,i,s,a,"throw",c)}s(void 0)})}}let V4=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(Dr),b($e))};static#t=this.\u0275dir=H({type:t})}return t})(),Ha=(()=>{class t extends V4{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Ht(t)))(i||t)}}();static#t=this.\u0275dir=H({type:t,features:[ze]})}return t})();const Qr=new te("NgValueAccessor"),fue={provide:Qr,useExisting:Ce(()=>Ho),multi:!0},gue=new te("CompositionEventMode");let Ho=(()=>{class t extends V4{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function pue(){const t=As()?As().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(Dr),b($e),b(gue,8))};static#t=this.\u0275dir=H({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&ie("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[it([fue]),ze]})}return t})();function Ms(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function U4(t){return null!=t&&"number"==typeof t.length}const Ln=new te("NgValidators"),Rs=new te("NgAsyncValidators"),mue=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ve{static min(e){return function j4(t){return e=>{if(Ms(e.value)||Ms(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function $4(t){return e=>{if(Ms(e.value)||Ms(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function H4(t){return Ms(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function G4(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function z4(t){return Ms(t.value)||mue.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function q4(t){return e=>Ms(e.value)||!U4(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function W4(t){return e=>U4(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function K4(t){if(!t)return j_;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Ms(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return ej(e)}static composeAsync(e){return tj(e)}}function j_(t){return null}function Y4(t){return null!=t}function Q4(t){return fh(t)?yn(t):t}function J4(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function Z4(t,e){return e.map(n=>n(t))}function X4(t){return t.map(e=>function _ue(t){return!t.validate}(e)?e:n=>e.validate(n))}function ej(t){if(!t)return null;const e=t.filter(Y4);return 0==e.length?null:function(n){return J4(Z4(n,e))}}function mT(t){return null!=t?ej(X4(t)):null}function tj(t){if(!t)return null;const e=t.filter(Y4);return 0==e.length?null:function(n){return function due(...t){const e=Ag(t),{args:n,keys:r}=NU(t),i=new Ue(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let c=s,u=s;for(let l=0;l<s;l++){let d=!1;an(n[l]).subscribe(st(o,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||o.next(r?OU(r,a):a),o.complete())}))}});return e?i.pipe(HI(e)):i}(Z4(n,e).map(Q4)).pipe(xe(J4))}}function _T(t){return null!=t?tj(X4(t)):null}function nj(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function rj(t){return t._rawValidators}function ij(t){return t._rawAsyncValidators}function yT(t){return t?Array.isArray(t)?t:[t]:[]}function $_(t,e){return Array.isArray(t)?t.includes(e):t===e}function oj(t,e){const n=yT(e);return yT(t).forEach(i=>{$_(n,i)||n.push(i)}),n}function sj(t,e){return yT(e).filter(n=>!$_(t,n))}class aj{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=mT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=_T(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class lr extends aj{get formDirective(){return null}get path(){return null}}class ks extends aj{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class cj{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ga=(()=>{class t extends cj{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(ks,2))};static#t=this.\u0275dir=H({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&He("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ze]})}return t})(),za=(()=>{class t extends cj{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(lr,10))};static#t=this.\u0275dir=H({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&He("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[ze]})}return t})();const Jh="VALID",G_="INVALID",hl="PENDING",Zh="DISABLED";function wT(t){return(z_(t)?t.validators:t)||null}function IT(t,e){return(z_(e)?e.asyncValidators:t)||null}function z_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function lj(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new U(1e3,"");if(!r[n])throw new U(1001,"")}function dj(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new U(1002,"")})}class q_{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Jh}get invalid(){return this.status===G_}get pending(){return this.status==hl}get disabled(){return this.status===Zh}get enabled(){return this.status!==Zh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(oj(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(oj(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(sj(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(sj(e,this._rawAsyncValidators))}hasValidator(e){return $_(this._rawValidators,e)}hasAsyncValidator(e){return $_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=hl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Zh,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Jh,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jh||this.status===hl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zh:Jh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=hl,this._hasOwnPendingAsyncValidator=!0;const n=Q4(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new R,this.statusChanges=new R}_calculateStatus(){return this._allControlsDisabled()?Zh:this.errors?G_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hl)?hl:this._anyControlsHaveStatus(G_)?G_:Jh}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){z_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function wue(t){return Array.isArray(t)?mT(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Iue(t){return Array.isArray(t)?_T(t):t||null}(this._rawAsyncValidators)}}class Xh extends q_{constructor(e,n,r){super(wT(n),IT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){dj(this,0,e),Object.keys(e).forEach(r=>{lj(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class hj extends Xh{}const qa=new te("CallSetDisabledState",{providedIn:"root",factory:()=>ef}),ef="always";function W_(t,e){return[...e.path,t]}function tf(t,e,n=ef){TT(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Eue(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&fj(t,e)})}(t,e),function Due(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Cue(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&fj(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Tue(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function K_(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Q_(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Y_(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function TT(t,e){const n=rj(t);null!==e.validator?t.setValidators(nj(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=ij(t);null!==e.asyncValidator?t.setAsyncValidators(nj(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Y_(e._rawValidators,i),Y_(e._rawAsyncValidators,i)}function Q_(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=rj(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(null!==e.asyncValidator){const i=ij(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}const r=()=>{};return Y_(e._rawValidators,r),Y_(e._rawAsyncValidators,r),n}function fj(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function mj(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function _j(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const rf=class extends q_{constructor(e=null,n,r){super(wT(n),IT(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),z_(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=_j(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){mj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){mj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){_j(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let yj=(()=>{class t extends lr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return W_(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Ht(t)))(i||t)}}();static#t=this.\u0275dir=H({type:t,features:[ze]})}return t})(),Wa=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=H({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})();const Pue={provide:Qr,useExisting:Ce(()=>J_),multi:!0};let J_=(()=>{class t extends Ha{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Ht(t)))(i||t)}}();static#t=this.\u0275dir=H({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&ie("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[it([Pue]),ze]})}return t})(),Ij=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})();const AT=new te("NgModelWithFormControlWarning"),Uue={provide:lr,useExisting:Ce(()=>Go)};let Go=(()=>{class t extends lr{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new R,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Q_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return tf(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){K_(n.control||null,n,!1),function Nue(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function gj(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(K_(r||null,n),(t=>t instanceof rf)(i)&&(tf(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function pj(t,e){TT(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function Sue(t,e){return Q_(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){TT(this.form,this),this._oldForm&&Q_(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(b(Ln,10),b(Rs,10),b(qa,8))};static#t=this.\u0275dir=H({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&ie("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[it([Uue]),ze,kn]})}return t})();const jue={provide:lr,useExisting:Ce(()=>sf)};let sf=(()=>{class t extends yj{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){Dj(this._parent)}static#e=this.\u0275fac=function(r){return new(r||t)(b(lr,13),b(Ln,10),b(Rs,10))};static#t=this.\u0275dir=H({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[it([jue]),ze]})}return t})();const $ue={provide:lr,useExisting:Ce(()=>af)};let af=(()=>{class t extends lr{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return W_(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Dj(this._parent)}static#e=this.\u0275fac=function(r){return new(r||t)(b(lr,13),b(Ln,10),b(Rs,10))};static#t=this.\u0275dir=H({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[it([$ue]),ze]})}return t})();function Dj(t){return!(t instanceof sf||t instanceof Go||t instanceof af)}const Hue={provide:ks,useExisting:Ce(()=>Ps)};let Ps=(()=>{class t extends ks{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new R,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function DT(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Ho?n=o:function xue(t){return Object.getPrototypeOf(t.constructor)===Ha}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){this._added||this._setUpControl(),function CT(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return W_(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||t)(b(lr,13),b(Ln,10),b(Rs,10),b(Qr,10),b(AT,8))};static#n=this.\u0275dir=H({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[it([Hue]),ze,kn]})}return t})();const Gue={provide:Qr,useExisting:Ce(()=>cf),multi:!0};function Sj(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let cf=(()=>{class t extends Ha{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=Sj(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function zue(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Ht(t)))(i||t)}}();static#t=this.\u0275dir=H({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&ie("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[it([Gue]),ze]})}return t})(),xT=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(Sj(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(b($e),b(Dr),b(cf,9))};static#t=this.\u0275dir=H({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})();const que={provide:Qr,useExisting:Ce(()=>NT),multi:!0};function Aj(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let NT=(()=>{class t extends Ha{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const u=this._getOptionValue(s[a].value);i.push(u)}}else{const s=r.options;for(let a=0;a<s.length;a++){const c=s[a];if(c.selected){const u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function Wue(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Ht(t)))(i||t)}}();static#t=this.\u0275dir=H({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&ie("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[it([que]),ze]})}return t})(),OT=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(Aj(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(Aj(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(b($e),b(Dr),b(NT,9))};static#t=this.\u0275dir=H({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})(),Vj=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({imports:[Ij]})}return t})();class Bj extends q_{constructor(e,n,r){super(wT(n),IT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){dj(this,0,e),e.forEach((r,i)=>{lj(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Uj(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let fl=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let o={};return Uj(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Xh(i,o)}record(n,r=null){const i=this._reduceControls(n);return new hj(i,r)}control(n,r,i){let o={};return this.useNonNullable?(Uj(r)?o=r:(o.validators=r,o.asyncValidators=i),new rf(n,{...o,nonNullable:!0})):new rf(n,r,i)}array(n,r,i){const o=n.map(s=>this._createControl(s));return new Bj(o,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof rf||n instanceof q_?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Z_=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:qa,useValue:n.callSetDisabledState??ef}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({imports:[Vj]})}return t})(),RT=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:AT,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:qa,useValue:n.callSetDisabledState??ef}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({imports:[Vj]})}return t})();const jj=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},$j={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;c||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==d)throw new ole;r.push(o<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ole extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const X_=function(t){return function(t){const e=jj(t);return $j.encodeByteArray(e,!0)}(t).replace(/\./g,"")},ey=function(t){try{return $j.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},ty=()=>{try{return function cle(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ey(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},zj=()=>{var t;return null===(t=ty())||void 0===t?void 0:t.config},qj=t=>{var e;return null===(e=ty())||void 0===e?void 0:e[`_${t}`]};class Wj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function In(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class Fs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uf.prototype.create)}}class uf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function ble(t,e){return t.replace(wle,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Fs(i,`${this.serviceName}: ${s} (${i}).`,r)}}const wle=/\{\$([^}]+)}/g;function ry(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Yj(o)&&Yj(s)){if(!ry(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Yj(t){return null!==t&&"object"==typeof t}function iy(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function lf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function df(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class Ele{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Cle(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=PT),void 0===i.error&&(i.error=PT),void 0===i.complete&&(i.complete=PT);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PT(){}function Ls(t){return t&&t._delegate?t._delegate:t}class pl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ya="[DEFAULT]";class Ole{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Wj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Rle(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ya})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return p(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ya){return this.instances.has(e)}getOptions(e=Ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Ya?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Ya){return this.component?this.component.multipleInstances?e:Ya:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class kle{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ole(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const LT=[];var Ne=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ne||{});const Qj={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},Ple=Ne.INFO,Fle={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},Lle=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Fle[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Vs{constructor(e){this.name=e,this._logLevel=Ple,this._logHandler=Lle,this._userLogHandler=null,LT.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Qj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const Vle=(t,e)=>e.some(n=>t instanceof n);let Jj,Zj;const Xj=new WeakMap,VT=new WeakMap,e5=new WeakMap,BT=new WeakMap,UT=new WeakMap;let jT={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return VT.get(t);if("objectStoreNames"===e)return t.objectStoreNames||e5.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function zle(t){return"function"==typeof t?function Gle(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ule(){return Zj||(Zj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply($T(this),e),Bs(Xj.get(this))}:function(...e){return Bs(t.apply($T(this),e))}:function(e,...n){const r=t.call($T(this),e,...n);return e5.set(r,e.sort?e.sort():[e]),Bs(r)}}(t):(t instanceof IDBTransaction&&function $le(t){if(VT.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});VT.set(t,e)}(t),Vle(t,function Ble(){return Jj||(Jj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,jT):t)}function Bs(t){if(t instanceof IDBRequest)return function jle(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Bs(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Xj.set(n,t)}).catch(()=>{}),UT.set(e,t),e}(t);if(BT.has(t))return BT.get(t);const e=zle(t);return e!==t&&(BT.set(t,e),UT.set(e,t)),e}const $T=t=>UT.get(t);function t5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Bs(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Bs(s.result),c.oldVersion,c.newVersion,Bs(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const qle=["get","getKey","getAll","getAllKeys","count"],Wle=["put","add","delete","clear"],HT=new Map;function n5(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(HT.get(e))return HT.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Wle.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!qle.includes(n))return;const o=function(){var s=p(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return s.apply(this,arguments)}}();return HT.set(e,o),o}!function Hle(t){jT=t(jT)}(t=>({...t,get:(e,n,r)=>n5(e,n)||t.get(e,n,r),has:(e,n)=>!!n5(e,n)||t.has(e,n)}));class Kle{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Yle(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const GT="@firebase/app",Qa=new Vs("@firebase/app"),oy="[DEFAULT]",wde={[GT]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ja=new Map,sy=new Map;function Ide(t,e){try{t.container.addComponent(e)}catch(n){Qa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hf(t){const e=t.name;if(sy.has(e))return Qa.debug(`There were multiple attempts to register component ${e}.`),!1;sy.set(e,t);for(const n of Ja.values())Ide(n,t);return!0}function zT(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const zo=new uf("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ede{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zo.create("app-deleted",{appName:this._name})}}const ff="10.8.1";function i5(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:oy,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw zo.create("bad-app-name",{appName:String(i)});if(n||(n=zj()),!n)throw zo.create("no-options");const o=Ja.get(i);if(o){if(ry(n,o.options)&&ry(r,o.config))return o;throw zo.create("duplicate-app",{appName:i})}const s=new kle(i);for(const c of sy.values())s.addComponent(c);const a=new Ede(n,r,s);return Ja.set(i,a),a}function gl(t,e,n){var r;let i=null!==(r=wde[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Qa.warn(a.join(" "))}hf(new pl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Dde="firebase-heartbeat-database",Sde=1,pf="firebase-heartbeat-store";let WT=null;function o5(){return WT||(WT=t5(Dde,Sde,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(pf)}catch(n){console.warn(n)}}}).catch(t=>{throw zo.create("idb-open",{originalErrorMessage:t.message})})),WT}function KT(){return(KT=p(function*(t){try{const n=(yield o5()).transaction(pf),r=yield n.objectStore(pf).get(a5(t));return yield n.done,r}catch(e){if(e instanceof Fs)Qa.warn(e.message);else{const n=zo.create("idb-get",{originalErrorMessage:e?.message});Qa.warn(n.message)}}})).apply(this,arguments)}function s5(t,e){return YT.apply(this,arguments)}function YT(){return(YT=p(function*(t,e){try{const r=(yield o5()).transaction(pf,"readwrite");yield r.objectStore(pf).put(e,a5(t)),yield r.done}catch(n){if(n instanceof Fs)Qa.warn(n.message);else{const r=zo.create("idb-set",{originalErrorMessage:n?.message});Qa.warn(r.message)}}})).apply(this,arguments)}function a5(t){return`${t.name}!${t.options.appId}`}class Ode{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Rde(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return p(function*(){var n,r;const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=c5();if((null!=(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==s&&!e._heartbeatsCache.heartbeats.some(a=>a.date===s))return e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return p(function*(){var n;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=c5(),{heartbeatsToSend:i,unsentEntries:o}=function Mde(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),u5(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),u5(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=X_(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function c5(){return(new Date).toISOString().substring(0,10)}class Rde{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(function*(){return!!function _le(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function yle(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return p(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function Ade(t){return KT.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var n=this;return p(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return s5(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return p(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return s5(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function u5(t){return X_(JSON.stringify({version:2,heartbeats:t})).length}!function kde(t){hf(new pl("platform-logger",e=>new Kle(e),"PRIVATE")),hf(new pl("heartbeat",e=>new Ode(e),"PRIVATE")),gl(GT,"0.9.28",t),gl(GT,"0.9.28","esm2017"),gl("fire-js","")}("");const Pde=function l5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},d5=new uf("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ay=new Vs("@firebase/auth");function cy(t,...e){ay.logLevel<=Ne.ERROR&&ay.error(`Auth (${ff}): ${t}`,...e)}function xr(t,...e){throw QT(t,...e)}function so(t,...e){return QT(t,...e)}function QT(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return d5.create(t,...e)}function z(t,e,...n){if(!t)throw QT(e,...n)}function ao(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cy(e),new Error(e)}function Us(t,e){t||ao(e)}function gf(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function f5(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function Lde(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function JT(){return"http:"===f5()||"https:"===f5()}()||function ple(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class mf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Us(n>e,"Short delay should be less than long delay!"),this.isMobile=function hle(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}()||function gle(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return Lde()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ZT(t,e){Us(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class p5{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ao("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ao("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ao("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Bde={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ude=new mf(3e4,6e4);function pt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function gt(t,e,n,r){return XT.apply(this,arguments)}function XT(){return(XT=p(function*(t,e,n,r,i={}){return g5(t,i,p(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=iy(Object.assign({key:t.config.apiKey},s)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),p5.fetch()(m5(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function g5(t,e,n){return eE.apply(this,arguments)}function eE(){return(eE=p(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Bde),e);try{const i=new $de(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw _f(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw _f(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw _f(t,"email-already-in-use",s);if("USER_DISABLED"===c)throw _f(t,"user-disabled",s);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw function h5(t,e,n){const r=Object.assign(Object.assign({},Pde()),{[e]:n});return new uf("auth","Firebase",r).create(e,{appName:t.name})}(t,l,u);xr(t,l)}}catch(i){if(i instanceof Fs)throw i;xr(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function qo(t,e,n,r){return tE.apply(this,arguments)}function tE(){return(tE=p(function*(t,e,n,r,i={}){const o=yield gt(t,e,n,r,i);return"mfaPendingCredential"in o&&xr(t,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function m5(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ZT(t.config,i):`${t.config.apiScheme}://${i}`}function jde(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $de{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(so(this.auth,"network-request-failed")),Ude.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _f(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=so(t,e,r);return i.customData._tokenResponse=n,i}function y5(t){return void 0!==t&&void 0!==t.enterprise}class v5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return jde(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function b5(t,e){return rE.apply(this,arguments)}function rE(){return(rE=p(function*(t,e){return gt(t,"GET","/v2/recaptchaConfig",pt(t,e))})).apply(this,arguments)}function iE(){return(iE=p(function*(t,e){return gt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function sE(){return(sE=p(function*(t,e){return gt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function yf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function aE(){return(aE=p(function*(t,e=!1){const n=Ls(t),r=yield n.getIdToken(e),i=uy(r);z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:yf(cE(i.auth_time)),issuedAtTime:yf(cE(i.iat)),expirationTime:yf(cE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function cE(t){return 1e3*Number(t)}function uy(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return cy("JWT malformed, contained fewer than 3 sections"),null;try{const i=ey(n);return i?JSON.parse(i):(cy("Failed to decode base64 JWT payload"),null)}catch(i){return cy("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Wo(t,e){return uE.apply(this,arguments)}function uE(){return(uE=p(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Fs&&function Yde({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Qde{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(p(function*(){yield n.iteration()}),r)}iteration(){var e=this;return p(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class w5{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yf(this.lastLoginAt),this.creationTime=yf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function vf(t){return lE.apply(this,arguments)}function lE(){return lE=p(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Wo(t,function qde(t,e){return sE.apply(this,arguments)}(n,{idToken:r}));z(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function Xde(t){return t.map(e=>{var{providerId:n}=e,r=tu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function Zde(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),l=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new w5(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),lE.apply(this,arguments)}function dE(){return(dE=p(function*(t){const e=Ls(t);yield vf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function hE(){return(hE=p(function*(t,e){const n=yield g5(t,{},p(function*(){const r=iy({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=m5(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",p5.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}function fE(){return(fE=p(function*(t,e){return gt(t,"POST","/v2/accounts:revokeToken",pt(t,e))})).apply(this,arguments)}class bf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){z(e.idToken,"internal-error"),z(typeof e.idToken<"u","internal-error"),z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Kde(t){const e=uy(t);return z(e,"internal-error"),z(typeof e.exp<"u","internal-error"),z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return p(function*(){return z(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return p(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function ehe(t,e){return hE.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new bf;return r&&(z("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(z("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(z("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bf,this.toJSON())}_performRefresh(){return ao("not implemented")}}function js(t,e){z("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Za{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=tu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qde(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new w5(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return p(function*(){const r=yield Wo(n,n.stsTokenManager.getToken(n.auth,e));return z(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Wde(t){return aE.apply(this,arguments)}(this,e)}reload(){return function Jde(t){return dE.apply(this,arguments)}(this)}_assign(e){this!==e&&(z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Za(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return p(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield vf(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return p(function*(){const n=yield e.getIdToken();return yield Wo(e,function Gde(t,e){return iE.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,u,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,g=null!==(s=n.photoURL)&&void 0!==s?s:void 0,y=null!==(a=n.tenantId)&&void 0!==a?a:void 0,v=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,T=null!==(u=n.createdAt)&&void 0!==u?u:void 0,w=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:O,emailVerified:P,isAnonymous:$,providerData:Y,stsTokenManager:ae}=n;z(O&&ae,e,"internal-error");const me=bf.fromJSON(this.name,ae);z("string"==typeof O,e,"internal-error"),js(d,e.name),js(h,e.name),z("boolean"==typeof P,e,"internal-error"),z("boolean"==typeof $,e,"internal-error"),js(f,e.name),js(g,e.name),js(y,e.name),js(v,e.name),js(T,e.name),js(w,e.name);const Be=new Za({uid:O,auth:e,email:h,emailVerified:P,displayName:d,isAnonymous:$,photoURL:g,phoneNumber:f,tenantId:y,stsTokenManager:me,createdAt:T,lastLoginAt:w});return Y&&Array.isArray(Y)&&(Be.providerData=Y.map(bt=>Object.assign({},bt))),v&&(Be._redirectEventId=v),Be}static _fromIdTokenResponse(e,n,r=!1){return p(function*(){const i=new bf;i.updateFromServerResponse(n);const o=new Za({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield vf(o),o})()}}const I5=new Map;function Ko(t){Us(t instanceof Function,"Expected a class definition");let e=I5.get(t);return e?(Us(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,I5.set(t,e),e)}const T5=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(function*(){return!0})()}_set(n,r){var i=this;return p(function*(){i.storage[n]=r})()}_get(n){var r=this;return p(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return p(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function ly(t,e,n){return`firebase:${t}:${e}:${n}`}class _l{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=ly(this.userKey,i.apiKey,o),this.fullPersistenceKey=ly("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return p(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Za._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return p(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(function*(){if(!n.length)return new _l(Ko(T5),e,r);const i=(yield Promise.all(n.map(function(){var u=p(function*(l){if(yield l._isAvailable())return l});return function(l){return u.apply(this,arguments)}}()))).filter(u=>u);let o=i[0]||Ko(T5);const s=ly(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const l=yield u._get(s);if(l){const d=Za._fromJSON(e,l);u!==o&&(a=d),o=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var u=p(function*(l){if(l!==o)try{yield l._remove(s)}catch{}});return function(l){return u.apply(this,arguments)}}())),new _l(o,e,r)):new _l(o,e,r)})()}}function E5(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(S5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(C5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(x5(e))return"Blackberry";if(N5(e))return"Webos";if(pE(e))return"Safari";if((e.includes("chrome/")||D5(e))&&!e.includes("edge/"))return"Chrome";if(A5(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function C5(t=In()){return/firefox\//i.test(t)}function pE(t=In()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function D5(t=In()){return/crios\//i.test(t)}function S5(t=In()){return/iemobile/i.test(t)}function A5(t=In()){return/android/i.test(t)}function x5(t=In()){return/blackberry/i.test(t)}function N5(t=In()){return/webos/i.test(t)}function dy(t=In()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function O5(t=In()){return dy(t)||A5(t)||N5(t)||x5(t)||/windows phone/i.test(t)||S5(t)}function M5(t,e=[]){let n;switch(t){case"Browser":n=E5(In());break;case"Worker":n=`${E5(In())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ff}/${r}`}class ohe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return p(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function gE(){return(gE=p(function*(t,e={}){return gt(t,"GET","/v2/passwordPolicy",pt(t,e))})).apply(this,arguments)}class che{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(n=c.meetsMinPasswordLength)||void 0===n||n),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(o=c.containsUppercaseLetter)||void 0===o||o),c.isValid&&(c.isValid=null===(s=c.containsNumericCharacter)||void 0===s||s),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class uhe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new R5(this),this.idTokenSubscription=new R5(this),this.beforeStateQueue=new ohe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Ko(n)),this._initializationPromise=this.queue(p(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield _l.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return p(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return p(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,u=yield n.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(o=u.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return z(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return p(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return p(function*(){try{yield vf(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Vde(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return p(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return p(function*(){const r=e?Ls(e):null;return r&&z(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return p(function*(){if(!r._deleted)return e&&z(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(p(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return p(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(p(function*(){yield n.assertedPersistence.setPersistence(Ko(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return p(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return p(function*(){const n=yield function she(t){return gE.apply(this,arguments)}(e),r=new che(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new uf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){var n=this;return p(function*(){if(n.currentUser){const r=yield n.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=n.tenantId&&(i.tenantId=n.tenantId),yield function the(t,e){return fE.apply(this,arguments)}(n,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return p(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return p(function*(){if(!n.redirectPersistenceManager){const r=e&&Ko(e)||n._popupRedirectResolver;z(r,n,"argument-error"),n.redirectPersistenceManager=yield _l.create(n,[Ko(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return p(function*(){var r,i;return n._isInitialized&&(yield n.queue(p(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return p(function*(){if(e===n.currentUser)return n.queue(p(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(z(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof n){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}{const c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){var n=this;return p(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=M5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return p(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return p(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Fde(t,...e){ay.logLevel<=Ne.WARN&&ay.warn(`Auth (${ff}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Wt(t){return Ls(t)}class R5{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Tle(t,e){const n=new Ele(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let wf={loadJS:()=>p(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mE(t){return wf.loadJS(t)}function k5(t){return`__${t}${Math.floor(1e6*Math.random())}`}class P5{constructor(e){this.type="recaptcha-enterprise",this.auth=Wt(e)}verify(e="verify",n=!1){var r=this;return p(function*(){function o(){return o=p(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=p(function*(u,l){b5(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new v5(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,u(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(u,l){return c.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,c,u){const l=window.grecaptcha;y5(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(u=>{if(!n&&y5(window.grecaptcha))s(u,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));let l=function hhe(){return wf.recaptchaEnterpriseScript}();0!==l.length&&(l+=u),mE(l).then(()=>{s(u,a,c)}).catch(d=>{c(d)})}}).catch(u=>{c(u)})})})()}}function F5(t,e,n){return _E.apply(this,arguments)}function _E(){return(_E=p(function*(t,e,n,r=!1){const i=new P5(t);let o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}const s=Object.assign({},e);return Object.assign(s,r?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}function If(t,e,n,r){return yE.apply(this,arguments)}function yE(){return yE=p(function*(t,e,n,r){var i;if(null!==(i=t._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=yield F5(t,e,n,"getOobCode"===n);return r(t,o)}return r(t,e).catch(function(){var o=p(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield F5(t,e,n,"getOobCode"===n);return r(t,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}())}),yE.apply(this,arguments)}function L5(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function V5(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class B5{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ao("not implemented")}_getIdTokenResponse(e){return ao("not implemented")}_linkToIdToken(e,n){return ao("not implemented")}_getReauthenticationResolver(e){return ao("not implemented")}}function The(t,e){return IE.apply(this,arguments)}function IE(){return(IE=p(function*(t,e){return gt(t,"POST","/v1/accounts:signUp",e)})).apply(this,arguments)}function Che(t,e){return EE.apply(this,arguments)}function EE(){return(EE=p(function*(t,e){return qo(t,"POST","/v1/accounts:signInWithPassword",pt(t,e))})).apply(this,arguments)}function CE(){return(CE=p(function*(t,e){return gt(t,"POST","/v1/accounts:sendOobCode",pt(t,e))})).apply(this,arguments)}function She(t,e){return SE.apply(this,arguments)}function SE(){return(SE=p(function*(t,e){return function hy(t,e){return CE.apply(this,arguments)}(t,e)})).apply(this,arguments)}function NE(){return(NE=p(function*(t,e){return qo(t,"POST","/v1/accounts:signInWithEmailLink",pt(t,e))})).apply(this,arguments)}function OE(){return(OE=p(function*(t,e){return qo(t,"POST","/v1/accounts:signInWithEmailLink",pt(t,e))})).apply(this,arguments)}class Tf extends B5{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Tf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Tf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return p(function*(){switch(n.signInMethod){case"password":return If(e,{returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Che);case"emailLink":return function Nhe(t,e){return NE.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:xr(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return p(function*(){switch(r.signInMethod){case"password":return If(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",The);case"emailLink":return function Ohe(t,e){return OE.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:xr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Yo(t,e){return ME.apply(this,arguments)}function ME(){return(ME=p(function*(t,e){return qo(t,"POST","/v1/accounts:signInWithIdp",pt(t,e))})).apply(this,arguments)}class Df{constructor(e){var n,r,i,o,s,a;const c=lf(df(e)),u=null!==(n=c.apiKey)&&void 0!==n?n:null,l=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function Vhe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);z(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function Bhe(t){const e=lf(df(t)).link,n=e?lf(df(e)).deep_link_id:null,r=lf(df(t)).deep_link_id;return(r?lf(df(r)).link:null)||r||n||e||t}(e);try{return new Df(n)}catch{return null}}}let j5=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Tf._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Df.parseLink(r);return z(i,"argument-error"),Tf._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class $s{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Uhe extends $s{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function $5(t,e){return VE.apply(this,arguments)}function VE(){return(VE=p(function*(t,e){return qo(t,"POST","/v1/accounts:signUp",pt(t,e))})).apply(this,arguments)}class _i{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return p(function*(){const o=yield Za._fromIdTokenResponse(e,r,i),s=H5(r);return new _i({user:o,providerId:s,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return p(function*(){yield e._updateTokensIfNecessary(r,!0);const i=H5(r);return new _i({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function H5(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class py extends Fs{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,py.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new py(e,n,r,i)}}function G5(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?py._fromErrorAndOperation(t,o,e,r):o})}function $E(){return($E=p(function*(t,e,n=!1){const r=yield Wo(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return _i._forOperation(t,"link",r)})).apply(this,arguments)}function GE(){return(GE=p(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=yield Wo(t,G5(r,i,e,t),n);z(o.idToken,r,"internal-error");const s=uy(o.idToken);z(s,r,"internal-error");const{sub:a}=s;return z(t.uid===a,r,"user-mismatch"),_i._forOperation(t,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&xr(r,"user-mismatch"),o}})).apply(this,arguments)}function W5(t,e){return zE.apply(this,arguments)}function zE(){return(zE=p(function*(t,e,n=!1){const r="signIn",i=yield G5(t,r,e),o=yield _i._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})).apply(this,arguments)}function qE(t,e){return WE.apply(this,arguments)}function WE(){return(WE=p(function*(t,e){return W5(Wt(t),e)})).apply(this,arguments)}function tC(t){return nC.apply(this,arguments)}function nC(){return(nC=p(function*(t){const e=Wt(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function rC(){return(rC=p(function*(t,e,n){const r=Wt(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&function my(t,e,n){var r;z((null===(r=n.url)||void 0===r?void 0:r.length)>0,t,"invalid-continue-uri"),z(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(z(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(z(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}(r,i,n),yield If(r,i,"getOobCode",She)})).apply(this,arguments)}function cC(){return(cC=p(function*(t,e,n){const r=Wt(t),s=yield If(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$5).catch(c=>{throw"auth/password-does-not-meet-requirements"===c.code&&tC(t),c}),a=yield _i._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})).apply(this,arguments)}const _y="__sak";class Y5{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_y,"1"),this.storage.removeItem(_y),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ffe=(()=>{class t extends Y5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function lfe(){const t=In();return pE(t)||dy(t)}()&&function ihe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=O5(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function rhe(){return function mle(){const t=In();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===n.newValue||n.newValue===n.oldValue?o():setTimeout(o,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,o=this;return p(function*(){yield i().call(o,n,r),o.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return p(function*(){const o=yield r().call(i,n);return i.localCache[n]=JSON.stringify(o),o})()}_remove(n){var r=()=>super._remove,i=this;return p(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),Q5=(()=>{class t extends Y5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let gfe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return p(function*(){const i=n,{eventId:o,eventType:s,data:a}=i.data,c=r.handlersMap[s];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const u=Array.from(c).map(function(){var d=p(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function pfe(t){return Promise.all(t.map(function(){var e=p(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(u);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function EC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class mfe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return p(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((c,u)=>{const l=EC("",20);o.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(f.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function nn(){return window}function CC(){return typeof nn().WorkerGlobalScope<"u"&&"function"==typeof nn().importScripts}function DC(){return(DC=p(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const J5="firebaseLocalStorageDb",yy="firebaseLocalStorage",Z5="fbase_key";class Af{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vy(t,e){return t.transaction([yy],e?"readwrite":"readonly").objectStore(yy)}function SC(){const t=indexedDB.open(J5,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yy,{keyPath:Z5})}catch(i){n(i)}}),t.addEventListener("success",p(function*(){const r=t.result;r.objectStoreNames.contains(yy)?e(r):(r.close(),yield function Ife(){const t=indexedDB.deleteDatabase(J5);return new Af(t).toPromise()}(),e(yield SC()))}))})}function X5(t,e,n){return AC.apply(this,arguments)}function AC(){return(AC=p(function*(t,e,n){const r=vy(t,!0).put({[Z5]:e,value:n});return new Af(r).toPromise()})).apply(this,arguments)}function xC(){return(xC=p(function*(t,e){const n=vy(t,!1).get(e),r=yield new Af(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function e$(t,e){const n=vy(t,!0).delete(e);return new Af(n).toPromise()}const Dfe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return p(function*(){return n.db||(n.db=yield SC()),n.db})()}_withRetries(n){var r=this;return p(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield n(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return p(function*(){return CC()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return p(function*(){n.receiver=gfe._getInstance(function bfe(){return CC()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=p(function*(i,o){return{keyProcessed:(yield n._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=p(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return p(function*(){var r,i;if(n.activeServiceWorker=yield function yfe(){return DC.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new mfe(n.activeServiceWorker);const o=yield n.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return p(function*(){if(r.sender&&r.activeServiceWorker&&function vfe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return p(function*(){try{if(!indexedDB)return!1;const n=yield SC();return yield X5(n,_y,"1"),yield e$(n,_y),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return p(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return p(function*(){return i._withPendingWrite(p(function*(){return yield i._withRetries(o=>X5(o,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return p(function*(){const i=yield r._withRetries(o=>function Tfe(t,e){return xC.apply(this,arguments)}(o,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return p(function*(){return r._withPendingWrite(p(function*(){return yield r._withRetries(i=>e$(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return p(function*(){const r=yield n._withRetries(s=>{const a=vy(s,!1).getAll();return new Af(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],o=new Set;if(0!==r.length)for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(n.localCache[s])!==JSON.stringify(a)&&(n.notifyListeners(s,a),i.push(s));for(const s of Object.keys(n.localCache))n.localCache[s]&&!o.has(s)&&(n.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(p(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();k5("rcb"),new mf(3e4,6e4);class VC extends B5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jfe(t){return W5(t.auth,new VC(t),t.bypassAuthState)}function $fe(t){const{auth:e,user:n}=t;return z(n,e,"internal-error"),function q5(t,e){return GE.apply(this,arguments)}(n,new VC(t),t.bypassAuthState)}function Hfe(t){return BC.apply(this,arguments)}function BC(){return(BC=p(function*(t){const{auth:e,user:n}=t;return z(n,e,"internal-error"),function jE(t,e){return $E.apply(this,arguments)}(n,new VC(t),t.bypassAuthState)})).apply(this,arguments)}class Gfe{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=p(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return p(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:c}=e;if(a)return void n.reject(a);const u={auth:n.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(u))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jfe;case"linkViaPopup":case"linkViaRedirect":return Hfe;case"reauthViaPopup":case"reauthViaRedirect":return $fe;default:xr(this.auth,"internal-error")}}resolve(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new mf(2e3,1e4);const zfe="pendingRedirect",xf=new Map;class qfe extends Gfe{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return p(function*(){let r=xf.get(n.auth._key());if(!r){try{const o=(yield function Wfe(t,e){return GC.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}xf.set(n.auth._key(),r)}return n.bypassAuthState||xf.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return p(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return p(function*(){})()}cleanUp(){}}function GC(){return(GC=p(function*(t,e){const n=function r$(t){return ly(zfe,t.config.apiKey,t.name)}(e),r=function n$(t){return Ko(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Kfe(t,e){xf.set(t._key(),e)}function i$(t,e){return JC.apply(this,arguments)}function JC(){return(JC=p(function*(t,e,n=!1){const r=Wt(t),i=function ec(t,e){return e?Ko(e):(z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),s=yield new qfe(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class Xfe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function epe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return a$(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!a$(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(so(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(s$(e))}saveEventToCache(e){this.cachedEventUids.add(s$(e)),this.lastProcessedEventTime=Date.now()}}function s$(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function a$({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function XC(){return(XC=p(function*(t,e={}){return gt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const npe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rpe=/^https?/;function eD(){return eD=p(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function tpe(t){return XC.apply(this,arguments)}(t);for(const n of e)try{if(ope(n))return}catch{}xr(t,"unauthorized-domain")}),eD.apply(this,arguments)}function ope(t){const e=gf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return""===s.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!rpe.test(n))return!1;if(npe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const spe=new mf(3e4,6e4);function c$(){const t=nn().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let wy=null;const upe=new mf(5e3,15e3),lpe="__/auth/iframe",dpe="emulator/auth/iframe",hpe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fpe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ppe(t){const e=t.config;z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ZT(e,dpe):`https://${t.config.authDomain}/${lpe}`,r={apiKey:e.apiKey,appName:t.name,v:ff},i=fpe.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${iy(r).slice(1)}`}function tD(){return tD=p(function*(t){const e=yield function cpe(t){return wy=wy||function ape(t){return new Promise((e,n)=>{var r,i,o;function s(){c$(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{c$(),n(so(t,"network-request-failed"))},timeout:spe.get()})}if(null!==(i=null===(r=nn().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=nn().gapi)||void 0===o||!o.load){const a=k5("iframefcb");return nn()[a]=()=>{gapi.load?s():n(so(t,"network-request-failed"))},mE(`${function fhe(){return wf.gapiScript}()}?onload=${a}`).catch(c=>n(c))}s()}}).catch(e=>{throw wy=null,e})}(t),wy}(t),n=nn().gapi;return z(n,t,"internal-error"),e.open({where:document.body,url:ppe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hpe,dontclear:!0},r=>new Promise(function(){var i=p(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=so(t,"network-request-failed"),c=nn().setTimeout(()=>{s(a)},upe.get());function u(){nn().clearTimeout(c),o(r)}r.ping(u).then(u,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),tD.apply(this,arguments)}const mpe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class u${constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Tpe="__/auth/handler",Epe="emulator/auth/handler",Cpe=encodeURIComponent("fac");function l$(t,e,n,r,i,o){return nD.apply(this,arguments)}function nD(){return(nD=p(function*(t,e,n,r,i,o){z(t.config.authDomain,t,"auth-domain-config-required"),z(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ff,eventId:i};if(e instanceof $s){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",function Ile(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(o||{}))s[l]=d}if(e instanceof Uhe){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(s.scopes=l.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const c=yield t._getAppCheckToken(),u=c?`#${Cpe}=${encodeURIComponent(c)}`:"";return`${function Dpe({config:t}){return t.emulator?ZT(t,Epe):`https://${t.authDomain}/${Tpe}`}(t)}?${iy(a).slice(1)}${u}`})).apply(this,arguments)}const rD="webStorageSupport",Ape=class Spe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Q5,this._completeRedirectFn=i$,this._overrideRedirectResult=Kfe}_openPopup(e,n,r,i){var o=this;return p(function*(){var s;Us(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield l$(e,n,r,gf(),i);return function wpe(t,e,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},mpe),{width:r.toString(),height:i.toString(),top:o,left:s}),u=In().toLowerCase();n&&(a=D5(u)?"_blank":n),C5(u)&&(e=e||"http://localhost",c.scrollbars="yes");const l=Object.entries(c).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(function nhe(t=In()){var e;return dy(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function Ipe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new u$(null);const d=window.open(e||"",a,l);z(d,t,"popup-blocked");try{d.focus()}catch{}return new u$(d)}(e,a,EC())})()}_openRedirect(e,n,r,i){var o=this;return p(function*(){return yield o._originValidation(e),function _fe(t){nn().location.href=t}(yield l$(e,n,r,gf(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Us(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return p(function*(){const r=yield function gpe(t){return tD.apply(this,arguments)}(e),i=new Xfe(e);return r.register("authEvent",o=>(z(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rD,{type:rD},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[rD];void 0!==s&&n(!!s),xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function ipe(t){return eD.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return O5()||pE()||dy()}};var f$="@firebase/auth";class xpe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return p(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Rpe=qj("authIdTokenMaxAge")||300;let g$=null;const kpe=t=>function(){var e=p(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Rpe)return;const o=r?.token;g$!==o&&(g$=o,yield fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Ty(t=function Cde(t=oy){const e=Ja.get(t);if(!e&&t===oy&&zj())return i5();if(!e)throw zo.create("no-app",{appName:t});return e}()){const e=zT(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function _he(t,e){const n=zT(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(ry(n.getOptions(),e??{}))return i;xr(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Ape,persistence:[Dfe,ffe,Q5]}),r=qj("authTokenSyncURL");if(r){const o=kpe(r);(function ife(t,e,n){Ls(t).beforeAuthStateChanged(e,n)})(n,o,()=>o(n.currentUser)),function rfe(t,e,n,r){Ls(t).onIdTokenChanged(e,n,r)}(n,s=>o(s))}const i=(t=>{var e,n;return null===(n=null===(e=ty())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})("auth");return i&&function vhe(t,e,n){const r=Wt(t);z(r._canInitEmulator,r,"emulator-config-failed"),z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,o=L5(e),{host:s,port:a}=function bhe(t){const e=L5(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:V5(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:V5(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function whe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}(function lhe(t){wf=t})({loadJS:t=>new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=so("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function Ppe(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Ope(t){hf(new pl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;z(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:M5(t)},u=new uhe(r,i,o,c);return function yhe(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ko);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hf(new pl("auth-internal",e=>{const n=Wt(e.getProvider("auth").getImmediate());return new xpe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gl(f$,"1.6.1",function Npe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(t)),gl(f$,"1.6.1","esm2017")}("Browser");const m$=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},sD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;c||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(m$(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==d)throw new Bpe;r.push(o<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Bpe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ey=function(t){return function(t){const e=m$(t);return sD.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Cy=function(t){try{return sD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Dy=()=>{try{return function $pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Cy(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},y$=()=>{var t;return null===(t=Dy())||void 0===t?void 0:t.config};class Sy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Jr(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function aD(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function tc(){try{return"object"==typeof indexedDB}catch{return!1}}function Nf(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}function cD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Pi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,co.prototype.create)}}class co{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function ege(t,e){return t.replace(tge,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Pi(i,`${this.serviceName}: ${s} (${i}).`,r)}}const tge=/\{\$([^}]+)}/g;function uD(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(b$(o)&&b$(s)){if(!uD(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function b$(t){return null!==t&&"object"==typeof t}function w$(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class rge{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function ige(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=lD),void 0===i.error&&(i.error=lD),void 0===i.complete&&(i.complete=lD);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lD(){}const oge=1e3,sge=2,age=144e5,cge=.5;function hD(t,e=oge,n=sge){const r=e*Math.pow(n,t),i=Math.round(cge*r*(Math.random()-.5)*2);return Math.min(age,r+i)}function dr(t){return t&&t._delegate?t._delegate:t}class Jn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const nc="[DEFAULT]";class lge{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Sy;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function hge(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:nc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=nc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return p(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=nc){return this.instances.has(e)}getOptions(e=nc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===nc?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=nc){return this.component?this.component.multipleInstances?e:nc:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fge{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lge(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}class pge{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function gge(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const fD="@firebase/app",rc=new Vs("@firebase/app"),xy="[DEFAULT]",jge={[fD]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ic=new Map,Ny=new Map;function $ge(t,e){try{t.container.addComponent(e)}catch(n){rc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hr(t){const e=t.name;if(Ny.has(e))return rc.debug(`There were multiple attempts to register component ${e}.`),!1;Ny.set(e,t);for(const n of ic.values())$ge(n,t);return!0}function Oy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Qo=new co("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Gge{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qo.create("app-deleted",{appName:this._name})}}const Of="9.23.0";function T$(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:xy,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Qo.create("bad-app-name",{appName:String(i)});if(n||(n=y$()),!n)throw Qo.create("no-options");const o=ic.get(i);if(o){if(uD(n,o.options)&&uD(r,o.config))return o;throw Qo.create("duplicate-app",{appName:i})}const s=new fge(i);for(const c of Ny.values())s.addComponent(c);const a=new Gge(n,r,s);return ic.set(i,a),a}function E$(t=xy){const e=ic.get(t);if(!e&&t===xy&&y$())return T$();if(!e)throw Qo.create("no-app",{appName:t});return e}function C$(){return Array.from(ic.values())}function Kt(t,e,n){var r;let i=null!==(r=jge[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void rc.warn(a.join(" "))}hr(new Jn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const zge="firebase-heartbeat-database",qge=1,Mf="firebase-heartbeat-store";let gD=null;function D$(){return gD||(gD=t5(zge,qge,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Mf)}}).catch(t=>{throw Qo.create("idb-open",{originalErrorMessage:t.message})})),gD}function mD(){return(mD=p(function*(t){try{return yield(yield D$()).transaction(Mf).objectStore(Mf).get(A$(t))}catch(e){if(e instanceof Pi)rc.warn(e.message);else{const n=Qo.create("idb-get",{originalErrorMessage:e?.message});rc.warn(n.message)}}})).apply(this,arguments)}function S$(t,e){return _D.apply(this,arguments)}function _D(){return(_D=p(function*(t,e){try{const r=(yield D$()).transaction(Mf,"readwrite");yield r.objectStore(Mf).put(e,A$(t)),yield r.done}catch(n){if(n instanceof Pi)rc.warn(n.message);else{const r=Qo.create("idb-set",{originalErrorMessage:n?.message});rc.warn(r.message)}}})).apply(this,arguments)}function A$(t){return`${t.name}!${t.options.appId}`}class Qge{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Zge(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return p(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=x$();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(o=>o.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return p(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=x$(),{heartbeatsToSend:r,unsentEntries:i}=function Jge(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),N$(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),N$(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=Ey(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function x$(){return(new Date).toISOString().substring(0,10)}class Zge{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(function*(){return!!tc()&&Nf().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return p(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Wge(t){return mD.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return p(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return S$(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return p(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return S$(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function N$(t){return Ey(JSON.stringify({version:2,heartbeats:t})).length}!function Xge(t){hr(new Jn("platform-logger",e=>new pge(e),"PRIVATE")),hr(new Jn("heartbeat",e=>new Qge(e),"PRIVATE")),Kt(fD,"0.9.13",t),Kt(fD,"0.9.13","esm2017"),Kt("fire-js","")}(""),Kt("firebase","9.23.0","app");const nme=(t,e)=>e.some(n=>t instanceof n);let O$,M$;const R$=new WeakMap,yD=new WeakMap,k$=new WeakMap,vD=new WeakMap,bD=new WeakMap;let wD={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return yD.get(t);if("objectStoreNames"===e)return t.objectStoreNames||k$.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function ume(t){return"function"==typeof t?function cme(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ime(){return M$||(M$=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(ID(this),e),Hs(R$.get(this))}:function(...e){return Hs(t.apply(ID(this),e))}:function(e,...n){const r=t.call(ID(this),e,...n);return k$.set(r,e.sort?e.sort():[e]),Hs(r)}}(t):(t instanceof IDBTransaction&&function sme(t){if(yD.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});yD.set(t,e)}(t),nme(t,function rme(){return O$||(O$=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,wD):t)}function Hs(t){if(t instanceof IDBRequest)return function ome(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Hs(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&R$.set(n,t)}).catch(()=>{}),bD.set(e,t),e}(t);if(vD.has(t))return vD.get(t);const e=ume(t);return e!==t&&(vD.set(t,e),bD.set(e,t)),e}const ID=t=>bD.get(t),dme=["get","getKey","getAll","getAllKeys","count"],hme=["put","add","delete","clear"],TD=new Map;function P$(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(TD.get(e))return TD.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hme.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!dme.includes(n))return;const o=function(){var s=p(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return s.apply(this,arguments)}}();return TD.set(e,o),o}!function ame(t){wD=t(wD)}(t=>({...t,get:(e,n,r)=>P$(e,n)||t.get(e,n,r),has:(e,n)=>!!P$(e,n)||t.has(e,n)}));const F$="@firebase/installations",ED="0.6.4",L$=1e4,V$=`w:${ED}`,B$="FIS_v2",fme="https://firebaseinstallations.googleapis.com/v1",pme=36e5,Jo=new co("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function U$(t){return t instanceof Pi&&t.code.includes("request-failed")}function CD({projectId:t}){return`${fme}/projects/${t}/installations`}function j$(t){return{token:t.token,requestStatus:2,expiresIn:yme(t.expiresIn),creationTime:Date.now()}}function DD(t,e){return SD.apply(this,arguments)}function SD(){return(SD=p(function*(t,e){const r=(yield e.json()).error;return Jo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function $$({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function AD(t){return xD.apply(this,arguments)}function xD(){return(xD=p(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function yme(t){return Number(t.replace("s","000"))}function ND(){return(ND=p(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=CD(t),i=$$(t),o=e.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:B$,appId:t.appId,sdkVersion:V$})},c=yield AD(()=>fetch(r,a));if(c.ok){const u=yield c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:j$(u.authToken)}}throw yield DD("Create Installation",c)})).apply(this,arguments)}function G$(t){return new Promise(e=>{setTimeout(e,t)})}const Ime=/^[cdef][\w-]{21}$/,OD="";function Tme(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Eme(t){return function wme(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Ime.test(n)?n:OD}catch{return OD}}function yl(t){return`${t.appName}!${t.appId}`}const vl=new Map;function z$(t,e){const n=yl(t);q$(n,e),function Sme(t,e){const n=function W$(){return!oc&&"BroadcastChannel"in self&&(oc=new BroadcastChannel("[Firebase] FID Change"),oc.onmessage=t=>{q$(t.data.key,t.data.fid)}),oc}();n&&n.postMessage({key:t,fid:e}),function K$(){0===vl.size&&oc&&(oc.close(),oc=null)}()}(n,e)}function q$(t,e){const n=vl.get(t);if(n)for(const r of n)r(e)}let oc=null;const Ame="firebase-installations-database",xme=1,sc="firebase-installations-store";let MD=null;function RD(){return MD||(MD=function lme(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Hs(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Hs(s.result),c.oldVersion,c.newVersion,Hs(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Ame,xme,{upgrade:(t,e)=>{0===e&&t.createObjectStore(sc)}})),MD}function My(t,e){return kD.apply(this,arguments)}function kD(){return(kD=p(function*(t,e){const n=yl(t),i=(yield RD()).transaction(sc,"readwrite"),o=i.objectStore(sc),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&z$(t,e.fid),e})).apply(this,arguments)}function PD(t){return FD.apply(this,arguments)}function FD(){return(FD=p(function*(t){const e=yl(t),r=(yield RD()).transaction(sc,"readwrite");yield r.objectStore(sc).delete(e),yield r.done})).apply(this,arguments)}function Rf(t,e){return LD.apply(this,arguments)}function LD(){return(LD=p(function*(t,e){const n=yl(t),i=(yield RD()).transaction(sc,"readwrite"),o=i.objectStore(sc),s=yield o.get(n),a=e(s);return void 0===a?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&z$(t,a.fid),a})).apply(this,arguments)}function VD(t){return BD.apply(this,arguments)}function BD(){return BD=p(function*(t){let e;const n=yield Rf(t.appConfig,r=>{const i=function Nme(t){return Q$(t||{fid:Tme(),registrationStatus:0})}(r),o=function Ome(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Jo.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Mme(t,e){return UD.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Rme(t)}:{installationEntry:e}}(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===OD?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),BD.apply(this,arguments)}function UD(){return UD=p(function*(t,e){try{const n=yield function bme(t,e){return ND.apply(this,arguments)}(t,e);return My(t.appConfig,n)}catch(n){throw U$(n)&&409===n.customData.serverCode?yield PD(t.appConfig):yield My(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),UD.apply(this,arguments)}function Rme(t){return jD.apply(this,arguments)}function jD(){return(jD=p(function*(t){let e=yield Y$(t.appConfig);for(;1===e.registrationStatus;)yield G$(100),e=yield Y$(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield VD(t);return r||n}return e})).apply(this,arguments)}function Y$(t){return Rf(t,e=>{if(!e)throw Jo.create("installation-not-found");return Q$(e)})}function Q$(t){return function kme(t){return 1===t.registrationStatus&&t.registrationTime+L$<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function $D(){return($D=p(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Fme(t,{fid:e}){return`${CD(t)}/${e}/authTokens:generate`}(t,n),i=function H$(t,{refreshToken:e}){const n=$$(t);return n.append("Authorization",function vme(t){return`${B$} ${t}`}(e)),n}(t,n),o=e.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:V$,appId:t.appId}})},c=yield AD(()=>fetch(r,a));if(c.ok)return j$(yield c.json());throw yield DD("Generate Auth Token",c)})).apply(this,arguments)}function HD(t){return GD.apply(this,arguments)}function GD(){return GD=p(function*(t,e=!1){let n;const r=yield Rf(t.appConfig,o=>{if(!Z$(o))throw Jo.create("not-registered");const s=o.authToken;if(!e&&function Bme(t){return 2===t.requestStatus&&!function Ume(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+pme}(t)}(s))return o;if(1===s.requestStatus)return n=function Lme(t,e){return zD.apply(this,arguments)}(t,e),o;{if(!navigator.onLine)throw Jo.create("app-offline");const a=function jme(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(o);return n=function Vme(t,e){return qD.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),GD.apply(this,arguments)}function zD(){return(zD=p(function*(t,e){let n=yield J$(t.appConfig);for(;1===n.authToken.requestStatus;)yield G$(100),n=yield J$(t.appConfig);const r=n.authToken;return 0===r.requestStatus?HD(t,e):r})).apply(this,arguments)}function J$(t){return Rf(t,e=>{if(!Z$(e))throw Jo.create("not-registered");return function $me(t){return 1===t.requestStatus&&t.requestTime+L$<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function qD(){return qD=p(function*(t,e){try{const n=yield function Pme(t,e){return $D.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield My(t.appConfig,r),n}catch(n){if(!U$(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield My(t.appConfig,r)}else yield PD(t.appConfig);throw n}}),qD.apply(this,arguments)}function Z$(t){return void 0!==t&&2===t.registrationStatus}function WD(){return(WD=p(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield VD(e);return r?r.catch(console.error):HD(e).catch(console.error),n.fid})).apply(this,arguments)}function KD(){return KD=p(function*(t,e=!1){const n=t;return yield function zme(t){return YD.apply(this,arguments)}(n),(yield HD(n,e)).token}),KD.apply(this,arguments)}function YD(){return(YD=p(function*(t){const{registrationPromise:e}=yield VD(t);e&&(yield e)})).apply(this,arguments)}function ZD(t){return Jo.create("missing-app-config-values",{valueName:t})}const X$="installations",Qme=t=>{const e=t.getProvider("app").getImmediate(),n=function Kme(t){if(!t||!t.options)throw ZD("App Configuration");if(!t.name)throw ZD("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw ZD(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Oy(e,"heartbeat"),_delete:()=>Promise.resolve()}},Jme=t=>{const n=Oy(t.getProvider("app").getImmediate(),X$).getImmediate();return{getId:()=>function Hme(t){return WD.apply(this,arguments)}(n),getToken:i=>function Gme(t){return KD.apply(this,arguments)}(n,i)}};(function Zme(){hr(new Jn(X$,Qme,"PUBLIC")),hr(new Jn("installations-internal",Jme,"PRIVATE"))})(),Kt(F$,ED),Kt(F$,ED,"esm2017");const XD="@firebase/remote-config",Nr=new co("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class u_e{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return p(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield n.client.fetch(e),s=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(n.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function l_e(t=navigator){return t.languages&&t.languages[0]||t.language}class d_e{constructor(e,n,r,i,o,s){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}fetch(e){var n=this;return p(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:l_e()},u={method:"POST",headers:a,body:JSON.stringify(c)},l=fetch(s,u),d=new Promise((T,w)=>{e.signal.addEventListener(()=>{const O=new Error("The operation was aborted.");O.name="AbortError",w(O)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(T){let w="fetch-client-network";throw"AbortError"===T?.name&&(w="fetch-timeout"),Nr.create(w,{originalErrorMessage:T?.message})}let f=h.status;const g=h.headers.get("ETag")||void 0;let y,v;if(200===h.status){let T;try{T=yield h.json()}catch(w){throw Nr.create("fetch-client-parse",{originalErrorMessage:w?.message})}y=T.entries,v=T.state}if("INSTANCE_STATE_UNSPECIFIED"===v?f=500:"NO_CHANGE"===v?f=304:("NO_TEMPLATE"===v||"EMPTY_CONFIG"===v)&&(y={}),304!==f&&200!==f)throw Nr.create("fetch-status",{httpStatus:f});return{status:f,eTag:g,config:y}})()}}class p_e{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return p(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return p(function*(){yield function h_e(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Nr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const o=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function f_e(t){if(!(t instanceof Pi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const s={throttleEndTimeMillis:Date.now()+hD(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(s),i.attemptFetch(e,s)}})()}}class __e{constructor(e,n,r,i,o){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ky(t,e){const n=t.target.error||void 0;return Nr.create(e,{originalErrorMessage:n&&n?.message})}const ac="app_namespace_store";class w_e{constructor(e,n,r,i=function b_e(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(ky(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ac,{keyPath:"compositeKey"})}}catch(n){e(Nr.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return p(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([ac],"readonly").objectStore(ac),c=n.createCompositeKey(e);try{const u=a.get(c);u.onerror=l=>{o(ky(l,"storage-get"))},u.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(u){o(Nr.create("storage-get",{originalErrorMessage:u?.message}))}})})()}set(e,n){var r=this;return p(function*(){const i=yield r.openDbPromise;return new Promise((o,s)=>{const c=i.transaction([ac],"readwrite").objectStore(ac),u=r.createCompositeKey(e);try{const l=c.put({compositeKey:u,value:n});l.onerror=d=>{s(ky(d,"storage-set"))},l.onsuccess=()=>{o()}}catch(l){s(Nr.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return p(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([ac],"readwrite").objectStore(ac),c=n.createCompositeKey(e);try{const u=a.delete(c);u.onerror=l=>{o(ky(l,"storage-delete"))},u.onsuccess=()=>{i()}}catch(u){o(Nr.create("storage-delete",{originalErrorMessage:u?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class I_e{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return p(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield n;o&&(e.lastFetchStatus=o);const s=yield r;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function E_e(){return iS.apply(this,arguments)}function iS(){return(iS=p(function*(){if(!tc())return!1;try{return yield Nf()}catch{return!1}})).apply(this,arguments)}!function T_e(){hr(new Jn("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Nr.create("registration-window");if(!tc())throw Nr.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=r.options;if(!o)throw Nr.create("registration-project-id");if(!s)throw Nr.create("registration-api-key");if(!a)throw Nr.create("registration-app-id");const c=new w_e(a,r.name,n=n||"firebase"),u=new I_e(c),l=new Vs(XD);l.logLevel=Ne.ERROR;const d=new d_e(i,Of,n,o,s,a),h=new p_e(d,c),f=new u_e(h,c,u,l),g=new __e(r,f,u,c,l);return function s_e(t){const e=dr(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(g),g},"PUBLIC").setMultipleInstances(!0)),Kt(XD,"0.4.4"),Kt(XD,"0.4.4","esm2017")}();const C_e=(t,e)=>e.some(n=>t instanceof n);let rH,iH;const oH=new WeakMap,oS=new WeakMap,sH=new WeakMap,sS=new WeakMap,aS=new WeakMap;let cS={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return oS.get(t);if("objectStoreNames"===e)return t.objectStoreNames||sH.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zo(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function M_e(t){return"function"==typeof t?function O_e(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function S_e(){return iH||(iH=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(uS(this),e),Zo(oH.get(this))}:function(...e){return Zo(t.apply(uS(this),e))}:function(e,...n){const r=t.call(uS(this),e,...n);return sH.set(r,e.sort?e.sort():[e]),Zo(r)}}(t):(t instanceof IDBTransaction&&function x_e(t){if(oS.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});oS.set(t,e)}(t),C_e(t,function D_e(){return rH||(rH=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,cS):t)}function Zo(t){if(t instanceof IDBRequest)return function A_e(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Zo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&oH.set(n,t)}).catch(()=>{}),aS.set(e,t),e}(t);if(sS.has(t))return sS.get(t);const e=M_e(t);return e!==t&&(sS.set(t,e),aS.set(e,t)),e}const uS=t=>aS.get(t);function aH(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Zo(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Zo(s.result),c.oldVersion,c.newVersion,Zo(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function lS(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Zo(n).then(()=>{})}const R_e=["get","getKey","getAll","getAllKeys","count"],k_e=["put","add","delete","clear"],dS=new Map;function cH(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(dS.get(e))return dS.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=k_e.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!R_e.includes(n))return;const o=function(){var s=p(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return s.apply(this,arguments)}}();return dS.set(e,o),o}!function N_e(t){cS=t(cS)}(t=>({...t,get:(e,n,r)=>cH(e,n)||t.get(e,n,r),has:(e,n)=>!!cH(e,n)||t.has(e,n)}));const P_e="/firebase-messaging-sw.js",F_e="/firebase-cloud-messaging-push-scope",uH="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",L_e="https://fcmregistrations.googleapis.com/v1",lH="google.c.a.c_id",V_e="google.c.a.c_l",B_e="google.c.a.ts";var Py=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Py||{});function Xo(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $_e(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const hS="fcm_token_details_db",H_e=5,dH="fcm_token_object_Store";function fS(){return fS=p(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(hS))return null;let e=null;return(yield aH(hS,H_e,{upgrade:(r=p(function*(i,o,s,a){var c;if(o<2||!i.objectStoreNames.contains(dH))return;const u=a.objectStore(dH),l=yield u.index("fcmSenderId").get(t);if(yield u.clear(),l)if(2===o){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Xo(d.vapidKey)}}}else if(3===o){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Xo(d.auth),p256dh:Xo(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Xo(d.vapidKey)}}}else if(4===o){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Xo(d.auth),p256dh:Xo(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Xo(d.vapidKey)}}}}),function(o,s,a,c){return r.apply(this,arguments)})})).close(),yield lS(hS),yield lS("fcm_vapid_details_db"),yield lS("undefined"),function z_e(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),fS.apply(this,arguments)}const q_e="firebase-messaging-database",W_e=1,cc="firebase-messaging-store";let pS=null;function gS(){return pS||(pS=aH(q_e,W_e,{upgrade:(t,e)=>{0===e&&t.createObjectStore(cc)}})),pS}function hH(t){return mS.apply(this,arguments)}function mS(){return mS=p(function*(t){const e=bS(t),r=yield(yield gS()).transaction(cc).objectStore(cc).get(e);if(r)return r;{const i=yield function G_e(t){return fS.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield _S(t,i),i}}),mS.apply(this,arguments)}function _S(t,e){return yS.apply(this,arguments)}function yS(){return(yS=p(function*(t,e){const n=bS(t),i=(yield gS()).transaction(cc,"readwrite");return yield i.objectStore(cc).put(e,n),yield i.done,e})).apply(this,arguments)}function vS(){return(vS=p(function*(t){const e=bS(t),r=(yield gS()).transaction(cc,"readwrite");yield r.objectStore(cc).delete(e),yield r.done})).apply(this,arguments)}function bS({appConfig:t}){return t.appId}const Vn=new co("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Q_e(t,e){return wS.apply(this,arguments)}function wS(){return(wS=p(function*(t,e){const n=yield CS(t),r=pH(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(ES(t.appConfig),i)).json()}catch(s){throw Vn.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw Vn.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Vn.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function IS(){return(IS=p(function*(t,e){const n=yield CS(t),r=pH(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${ES(t.appConfig)}/${e.token}`,i)).json()}catch(s){throw Vn.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw Vn.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Vn.create("token-update-no-token");return o.token})).apply(this,arguments)}function fH(t,e){return TS.apply(this,arguments)}function TS(){return(TS=p(function*(t,e){const r={method:"DELETE",headers:yield CS(t)};try{const o=yield(yield fetch(`${ES(t.appConfig)}/${e}`,r)).json();if(o.error)throw Vn.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw Vn.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function ES({projectId:t}){return`${L_e}/projects/${t}/registrations`}function CS(t){return DS.apply(this,arguments)}function DS(){return(DS=p(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function pH({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==uH&&(i.web.applicationPubKey=r),i}const Z_e=6048e5;function SS(){return SS=p(function*(t){const e=yield function tye(t,e){return OS.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Xo(e.getKey("auth")),p256dh:Xo(e.getKey("p256dh"))},r=yield hH(t.firebaseDependencies);if(r){if(function nye(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+Z_e?function eye(t,e){return xS.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield fH(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return mH(t.firebaseDependencies,n)}return mH(t.firebaseDependencies,n)}),SS.apply(this,arguments)}function AS(){return AS=p(function*(t){const e=yield hH(t.firebaseDependencies);e&&(yield fH(t.firebaseDependencies,e.token),yield function K_e(t){return vS.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),AS.apply(this,arguments)}function xS(){return xS=p(function*(t,e){try{const n=yield function J_e(t,e){return IS.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield _S(t.firebaseDependencies,r),n}catch(n){throw yield function gH(t){return AS.apply(this,arguments)}(t),n}}),xS.apply(this,arguments)}function mH(t,e){return NS.apply(this,arguments)}function NS(){return(NS=p(function*(t,e){const r={token:yield Q_e(t,e),createTime:Date.now(),subscriptionOptions:e};return yield _S(t,r),r.token})).apply(this,arguments)}function OS(){return(OS=p(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$_e(e)})})).apply(this,arguments)}function _H(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function rye(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const o=e.notification.icon;o&&(t.notification.icon=o)}(e,t),function iye(t,e){e.data&&(t.data=e.data)}(e,t),function oye(t,e){var n,r,i,o,s;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(t.fcmOptions.link=a);const c=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}(e,t),e}function yH(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function MS(t){return Vn.create("missing-app-config-values",{valueName:t})}yH("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),yH("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class cye{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function aye(t){if(!t||!t.options)throw MS("App Configuration Object");if(!t.name)throw MS("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw MS(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function RS(){return(RS=p(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(P_e,{scope:F_e}),t.swRegistration.update().catch(()=>{})}catch(e){throw Vn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function kS(){return(kS=p(function*(t,e){if(!e&&!t.swRegistration&&(yield function vH(t){return RS.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Vn.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function PS(){return(PS=p(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=uH)})).apply(this,arguments)}function FS(){return FS=p(function*(t,e){if(!navigator)throw Vn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Vn.create("permission-blocked");return yield function lye(t,e){return PS.apply(this,arguments)}(t,e?.vapidKey),yield function uye(t,e){return kS.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function X_e(t){return SS.apply(this,arguments)}(t)}),FS.apply(this,arguments)}function LS(){return(LS=p(function*(t,e,n){const r=function hye(t){switch(t){case Py.NOTIFICATION_CLICKED:return"notification_open";case Py.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[lH],message_name:n[V_e],message_time:n[B_e],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function VS(){return VS=p(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Py.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(_H(n)):t.onMessageHandler.next(_H(n)));const r=n.data;(function sye(t){return"object"==typeof t&&!!t&&lH in t})(r)&&"1"===r["google.c.a.e"]&&(yield function dye(t,e,n){return LS.apply(this,arguments)}(t,n.messageType,r))}),VS.apply(this,arguments)}const wH="@firebase/messaging",pye=t=>{const e=new cye(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function fye(t,e){return VS.apply(this,arguments)}(e,n)),e},gye=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function bH(t,e){return FS.apply(this,arguments)}(e,r)}};function TH(){return BS.apply(this,arguments)}function BS(){return(BS=p(function*(){try{yield Nf()}catch{return!1}return typeof window<"u"&&tc()&&cD()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function mye(){hr(new Jn("messaging",pye,"PUBLIC")),hr(new Jn("messaging-internal",gye,"PRIVATE")),Kt(wH,"0.12.4"),Kt(wH,"0.12.4","esm2017")}();const Fy="analytics",vye="firebase_id",bye="origin",wye=6e4,Iye="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$S="https://www.googletagmanager.com/gtag/js",Tn=new Vs("@firebase/analytics"),fr=new co("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Eye(t){if(!t.startsWith($S)){const e=fr.create("invalid-gtag-resource",{gtagURL:t});return Tn.warn(e.message),""}return t}function EH(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function HS(){return(HS=p(function*(t,e,n,r,i,o){const s=r[i];try{if(s)yield e[s];else{const c=(yield EH(n)).find(u=>u.measurementId===i);c&&(yield e[c.appId])}}catch(a){Tn.error(a)}t("config",i,o)})).apply(this,arguments)}function GS(){return(GS=p(function*(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield EH(n);for(const c of s){const u=a.find(d=>d.measurementId===c),l=u&&e[u.appId];if(!l){o=[];break}o.push(l)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){Tn.error(o)}})).apply(this,arguments)}const Rye=30,CH=new class Pye{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Fye(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function zS(){return(zS=p(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Fye(r)},o=Iye.replace("{app-id}",n),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const c=yield s.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw fr.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function qS(){return(qS=p(function*(t,e=CH,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw fr.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw fr.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new jye;return setTimeout(p(function*(){a.abort()}),void 0!==n?n:wye),DH({appId:r,apiKey:i,measurementId:o},s,a,e)})).apply(this,arguments)}function DH(t,e,n){return WS.apply(this,arguments)}function WS(){return WS=p(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=CH){var o;const{appId:s,measurementId:a}=t;try{yield function Bye(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(fr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return Tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw c}try{const c=yield function Lye(t){return zS.apply(this,arguments)}(t);return i.deleteThrottleMetadata(s),c}catch(c){const u=c;if(!function Uye(t){if(!(t instanceof Pi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u)){if(i.deleteThrottleMetadata(s),a)return Tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:s,measurementId:a};throw c}const l=503===Number(null===(o=u?.customData)||void 0===o?void 0:o.httpStatus)?hD(n,i.intervalMillis,Rye):hD(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(s,d),Tn.debug(`Calling attemptFetch again in ${l} millis`),DH(t,d,r,i)}}),WS.apply(this,arguments)}class jye{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let KS,tA;function YS(){return(YS=p(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const o=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function nA(){return(nA=p(function*(){if(!tc())return Tn.warn(fr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Nf()}catch(t){return Tn.warn(fr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function rA(){return rA=p(function*(t,e,n,r,i,o,s){var a;const c=function Vye(t){return qS.apply(this,arguments)}(t);c.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Tn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Tn.error(f)),e.push(c);const u=function Kye(){return nA.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([c,u]);(function Mye(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes($S)&&n.src.includes(t))return n;return null})(o)||function Dye(t,e){const n=function Cye(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Eye}),r=document.createElement("script"),i=`${$S}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,l.measurementId),tA&&(i("consent","default",tA),function SH(t){tA=t}(void 0)),i("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h[bye]="firebase",h.update=!0,null!=d&&(h[vye]=d),i("config",l.measurementId,h),KS&&(i("set",KS),function AH(t){KS=t}(void 0)),l.measurementId}),rA.apply(this,arguments)}class Qye{constructor(e){this.app=e}_delete(){return delete uo[this.app.options.appId],Promise.resolve()}}let uo={},xH=[];const NH={};let MH,lo,Ly="dataLayer",iA=!1;function Zye(t,e,n){!function Jye(){const t=[];if(aD()&&t.push("This is a browser extension environment."),cD()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=fr.create("invalid-analytics-context",{errorInfo:e});Tn.warn(n.message)}}();const r=t.options.appId;if(!r)throw fr.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw fr.create("no-api-key");Tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=uo[r])throw fr.create("already-exists",{id:r});if(!iA){!function Sye(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Ly);const{wrappedGtag:o,gtagCore:s}=function Oye(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function Nye(t,e,n,r){function o(){return o=p(function*(s,...a){try{if("event"===s){const[c,u]=a;yield function xye(t,e,n,r,i){return GS.apply(this,arguments)}(t,e,n,c,u)}else if("config"===s){const[c,u]=a;yield function Aye(t,e,n,r,i,o){return HS.apply(this,arguments)}(t,e,n,r,c,u)}else if("consent"===s){const[c]=a;t("consent","update",c)}else if("get"===s){const[c,u,l]=a;t("get",c,u,l)}else if("set"===s){const[c]=a;t("set",c)}else t(s,...a)}catch(c){Tn.error(c)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(uo,xH,NH,Ly,"gtag");lo=o,MH=s,iA=!0}return uo[r]=function Yye(t,e,n,r,i,o,s){return rA.apply(this,arguments)}(t,xH,NH,e,MH,Ly,n),new Qye(t)}function eve(){return oA.apply(this,arguments)}function oA(){return(oA=p(function*(){if(aD()||!cD()||!tc())return!1;try{return yield Nf()}catch{return!1}})).apply(this,arguments)}const RH="@firebase/analytics";!function nve(){hr(new Jn(Fy,(e,{options:n})=>Zye(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),hr(new Jn("analytics-internal",function t(e){try{const n=e.getProvider(Fy).getImmediate();return{logEvent:(r,i,o)=>function tve(t,e,n,r){t=dr(t),function $ye(t,e,n,r,i){return YS.apply(this,arguments)}(lo,uo[t.app.options.appId],e,n,r).catch(i=>Tn.error(i))}(n,r,i,o)}}catch(n){throw fr.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Kt(RH,"0.10.0"),Kt(RH,"0.10.0","esm2017")}();class rve extends Bt{constructor(e,n){super()}schedule(e,n=0){return this}}const Vy={setInterval(t,e,...n){const{delegate:r}=Vy;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Vy;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class PH extends rve{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Vy.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Vy.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,gs(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const aA={now:()=>(aA.delegate||Date).now(),delegate:void 0};class kf{constructor(e,n=kf.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}kf.now=aA.now;class FH extends kf{constructor(e,n=kf.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const sve=new class ove extends FH{}(class ive extends PH{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),cA=new FH(PH),ave=cA,uA=new ku("7.6.1"),lA="__angularfire_symbol__analyticsIsSupportedValue",dA="__angularfire_symbol__analyticsIsSupported",hA="__angularfire_symbol__remoteConfigIsSupportedValue",fA="__angularfire_symbol__remoteConfigIsSupported",pA="__angularfire_symbol__messagingIsSupportedValue",gA="__angularfire_symbol__messagingIsSupported";globalThis[dA]||(globalThis[dA]=eve().then(t=>globalThis[lA]=t).catch(()=>globalThis[lA]=!1)),globalThis[gA]||(globalThis[gA]=TH().then(t=>globalThis[pA]=t).catch(()=>globalThis[pA]=!1)),globalThis[fA]||(globalThis[fA]=E_e().then(t=>globalThis[hA]=t).catch(()=>globalThis[hA]=!1));const yA=(t,e)=>{const n=e?[e]:C$(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};function bl(){}class LH{constructor(e,n=sve){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class cve{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bl,{},bl,bl)),n.pipe(hn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let VH=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new LH(Zone.current)),this.insideAngular=n.run(()=>new LH(Zone.current,cA)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(W(Ee))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function uc(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function lc(t){return uc().ngZone.run(()=>t())}function lve(t){return uc(),function dve(t){return function(n){return(n=n.lift(new cve(t.ngZone))).pipe(Ng(t.outsideAngular),xg(t.insideAngular))}}(uc())(t)}const hve=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),lc(()=>t.apply(void 0,r))},Or=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||(n=lc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bl,{},bl,bl)))),r[o]=hve(r[o],n));const i=function uve(t){return uc().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Ue){const o=uc();return i.pipe(Ng(o.outsideAngular),xg(o.insideAngular))}return lc(()=>i)}return i instanceof Ue?i.pipe(lve):i instanceof Promise?lc(()=>new Promise((o,s)=>i.then(a=>lc(()=>o(a)),a=>lc(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:lc(()=>i)};class wl{constructor(e){return e}}class BH{constructor(){return C$()}}const vA=new te("angularfire2._apps"),pve={provide:wl,useFactory:function fve(t){return t&&1===t.length?t[0]:new wl(E$())},deps:[[new Tr,vA]]},gve={provide:BH,deps:[[new Tr,vA]]};function mve(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new wl(r)}}let _ve=(()=>{class t{constructor(n){Kt("angularfire",uA.full,"core"),Kt("angularfire",uA.full,"app"),Kt("angular",X1.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(W(ko))},t.\u0275mod=Te({type:t}),t.\u0275inj=we({providers:[pve,gve]}),t})();function yve(t,...e){return{ngModule:_ve,providers:[{provide:vA,useFactory:mve(t),multi:!0,deps:[Ee,en,VH,...e]}]}}const vve=Or(T$,!0);const bve=function UH(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},jH=new co("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),By=new Vs("@firebase/auth");function Uy(t,...e){By.logLevel<=Ne.ERROR&&By.error(`Auth (${Of}): ${t}`,...e)}function Mr(t,...e){throw bA(t,...e)}function ho(t,...e){return bA(t,...e)}function bA(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return jH.create(t,...e)}function K(t,e,...n){if(!t)throw bA(e,...n)}function fo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Uy(e),new Error(e)}function Gs(t,e){t||fo(e)}function HH(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Ff{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gs(n>e,"Short delay should be less than long delay!"),this.isMobile=function Qpe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jr())}()||function Zpe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Ive(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function wA(){return"http:"===HH()||"https:"===HH()}()||aD()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class GH{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void fo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void fo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void fo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Eve={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Cve=new Ff(3e4,6e4);function Pt(t,e,n,r){return TA.apply(this,arguments)}function TA(){return(TA=p(function*(t,e,n,r,i={}){return zH(t,i,p(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=w$(Object.assign({key:t.config.apiKey},s)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),GH.fetch()(qH(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function zH(t,e,n){return EA.apply(this,arguments)}function EA(){return(EA=p(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Eve),e);try{const i=new Dve(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Lf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Lf(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw Lf(t,"email-already-in-use",s);if("USER_DISABLED"===c)throw Lf(t,"user-disabled",s);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw function $H(t,e,n){const r=Object.assign(Object.assign({},bve()),{[e]:n});return new co("auth","Firebase",r).create(e,{appName:t.name})}(t,l,u);Mr(t,l)}}catch(i){if(i instanceof Pi)throw i;Mr(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function qH(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function IA(t,e){Gs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class Dve{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ho(this.auth,"network-request-failed")),Cve.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Lf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ho(t,e,r);return i.customData._tokenResponse=n,i}function DA(){return(DA=p(function*(t,e){return Pt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function AA(){return(AA=p(function*(t,e){return Pt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Vf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function xA(){return(xA=p(function*(t,e=!1){const n=dr(t),r=yield n.getIdToken(e),i=jy(r);K(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Vf(NA(i.auth_time)),issuedAtTime:Vf(NA(i.iat)),expirationTime:Vf(NA(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function NA(t){return 1e3*Number(t)}function jy(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Uy("JWT malformed, contained fewer than 3 sections"),null;try{const i=Cy(n);return i?JSON.parse(i):(Uy("Failed to decode base64 JWT payload"),null)}catch(i){return Uy("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ts(t,e){return OA.apply(this,arguments)}function OA(){return(OA=p(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Pi&&function Mve({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Rve{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(p(function*(){yield n.iteration()}),r)}iteration(){var e=this;return p(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class WH{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vf(this.lastLoginAt),this.creationTime=Vf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Bf(t){return MA.apply(this,arguments)}function MA(){return MA=p(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield ts(t,function xve(t,e){return AA.apply(this,arguments)}(n,{idToken:r}));K(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function Fve(t){return t.map(e=>{var{providerId:n}=e,r=tu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function Pve(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),l=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new WH(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),MA.apply(this,arguments)}function RA(){return(RA=p(function*(t){const e=dr(t);yield Bf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function kA(){return(kA=p(function*(t,e){const n=yield zH(t,{},p(function*(){const r=w$({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=qH(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",GH.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Uf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Ove(t){const e=jy(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return p(function*(){return K(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return p(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function Lve(t,e){return kA.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Uf;return r&&(K("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(K("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(K("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uf,this.toJSON())}_performRefresh(){return fo("not implemented")}}function zs(t,e){K("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class dc{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=tu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rve(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new WH(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return p(function*(){const r=yield ts(n,n.stsTokenManager.getToken(n.auth,e));return K(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Nve(t){return xA.apply(this,arguments)}(this,e)}reload(){return function kve(t){return RA.apply(this,arguments)}(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new dc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return p(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Bf(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return p(function*(){const n=yield e.getIdToken();return yield ts(e,function Sve(t,e){return DA.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,u,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,g=null!==(s=n.photoURL)&&void 0!==s?s:void 0,y=null!==(a=n.tenantId)&&void 0!==a?a:void 0,v=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,T=null!==(u=n.createdAt)&&void 0!==u?u:void 0,w=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:O,emailVerified:P,isAnonymous:$,providerData:Y,stsTokenManager:ae}=n;K(O&&ae,e,"internal-error");const me=Uf.fromJSON(this.name,ae);K("string"==typeof O,e,"internal-error"),zs(d,e.name),zs(h,e.name),K("boolean"==typeof P,e,"internal-error"),K("boolean"==typeof $,e,"internal-error"),zs(f,e.name),zs(g,e.name),zs(y,e.name),zs(v,e.name),zs(T,e.name),zs(w,e.name);const Be=new dc({uid:O,auth:e,email:h,emailVerified:P,displayName:d,isAnonymous:$,photoURL:g,phoneNumber:f,tenantId:y,stsTokenManager:me,createdAt:T,lastLoginAt:w});return Y&&Array.isArray(Y)&&(Be.providerData=Y.map(bt=>Object.assign({},bt))),v&&(Be._redirectEventId=v),Be}static _fromIdTokenResponse(e,n,r=!1){return p(function*(){const i=new Uf;i.updateFromServerResponse(n);const o=new dc({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Bf(o),o})()}}const KH=new Map;function ns(t){Gs(t instanceof Function,"Expected a class definition");let e=KH.get(t);return e?(Gs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,KH.set(t,e),e)}const YH=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(function*(){return!0})()}_set(n,r){var i=this;return p(function*(){i.storage[n]=r})()}_get(n){var r=this;return p(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return p(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function $y(t,e,n){return`firebase:${t}:${e}:${n}`}class Tl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=$y(this.userKey,i.apiKey,o),this.fullPersistenceKey=$y("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return p(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?dc._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return p(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(function*(){if(!n.length)return new Tl(ns(YH),e,r);const i=(yield Promise.all(n.map(function(){var u=p(function*(l){if(yield l._isAvailable())return l});return function(l){return u.apply(this,arguments)}}()))).filter(u=>u);let o=i[0]||ns(YH);const s=$y(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const l=yield u._get(s);if(l){const d=dc._fromJSON(e,l);u!==o&&(a=d),o=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var u=p(function*(l){if(l!==o)try{yield l._remove(s)}catch{}});return function(l){return u.apply(this,arguments)}}())),new Tl(o,e,r)):new Tl(o,e,r)})()}}function QH(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function XH(t=Jr()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function JH(t=Jr()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function tG(t=Jr()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function nG(t=Jr()){return/webos/i.test(t)}(e))return"Webos";if(function PA(t=Jr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function ZH(t=Jr()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function eG(t=Jr()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function rG(t,e=[]){let n;switch(t){case"Browser":n=QH(Jr());break;case"Worker":n=`${QH(Jr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Of}/${r}`}function iG(t,e){return LA.apply(this,arguments)}function LA(){return(LA=p(function*(t,e){return Pt(t,"GET","/v2/recaptchaConfig",function Ot(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}function sG(t){return void 0!==t&&void 0!==t.enterprise}class aG{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class uG{constructor(e){this.type="recaptcha-enterprise",this.auth=En(e)}verify(e="verify",n=!1){var r=this;return p(function*(){function o(){return o=p(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=p(function*(u,l){iG(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new aG(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,u(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(u,l){return c.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,c,u){const l=window.grecaptcha;sG(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(u=>{if(!n&&sG(window.grecaptcha))s(u,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));(function VA(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=ho("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function jve(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+u).then(()=>{s(u,a,c)}).catch(l=>{c(l)})}}).catch(u=>{c(u)})})})()}}class zve{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return p(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class qve{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lG(this),this.idTokenSubscription=new lG(this),this.beforeStateQueue=new zve(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jH,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=ns(n)),this._initializationPromise=this.queue(p(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Tl.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return p(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return p(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,u=yield n.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(o=u.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return K(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return p(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return p(function*(){try{yield Bf(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Tve(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return p(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return p(function*(){const r=e?dr(e):null;return r&&K(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return p(function*(){if(!r._deleted)return e&&K(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(p(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return p(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(p(function*(){yield n.assertedPersistence.setPersistence(ns(e))}))}initializeRecaptchaConfig(){var e=this;return p(function*(){const n=yield iG(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new aG(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new uG(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new co("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return p(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return p(function*(){if(!n.redirectPersistenceManager){const r=e&&ns(e)||n._popupRedirectResolver;K(r,n,"argument-error"),n.redirectPersistenceManager=yield Tl.create(n,[ns(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return p(function*(){var r,i;return n._isInitialized&&(yield n.queue(p(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return p(function*(){if(e===n.currentUser)return n.queue(p(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return K(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return p(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rG(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return p(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return p(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function wve(t,...e){By.logLevel<=Ne.WARN&&By.warn(`Auth (${Of}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function En(t){return dr(t)}class lG{constructor(e){this.auth=e,this.observer=null,this.addObserver=function nge(t,e){const n=new rge(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function cG(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new Ff(3e4,6e4),new Ff(2e3,1e4),new Ff(3e4,6e4),new Ff(5e3,15e3),encodeURIComponent("fac");var BG="@firebase/auth";class Vbe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return p(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Dy(),function Ube(t){hr(new Jn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;K(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rG(t)},u=new qve(r,i,o,c);return function Kve(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ns);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hr(new Jn("auth-internal",e=>{const n=En(e.getProvider("auth").getImmediate());return new Vbe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kt(BG,"0.23.2",function Bbe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Kt(BG,"0.23.2","esm2017")}("Browser");class HG{constructor(){return yA("auth")}}const DN=new Map,GG={activated:!1,tokenObservers:[]},Wbe={initialized:!1,enabled:!1};function Ft(t){return DN.get(t)||Object.assign({},GG)}function tv(){return Wbe}const SN="https://content-firebaseappcheck.googleapis.com/v1",Jbe="exchangeDebugToken",zG={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Xbe{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return p(function*(){n.stop();try{n.pending=new Sy,yield function e1e(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Sy,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Bn=new co("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function AN(t){if(!Ft(t).activated)throw Bn.create("use-before-activation",{appName:t.name})}function iv(t,e){return NN.apply(this,arguments)}function NN(){return NN=p(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(t,o)}catch(d){throw Bn.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw Bn.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw Bn.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw Bn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=1e3*Number(c[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+u,issuedAtTimeMillis:l}}),NN.apply(this,arguments)}function qG(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${SN}/projects/${n}/apps/${r}:${Jbe}?key=${i}`,body:{debug_token:e}}}const i1e="firebase-app-check-database",o1e=1,zf="firebase-app-check-store";let ov=null;function ON(){return ON=p(function*(t,e){const r=(yield function KG(){return ov||(ov=new Promise((t,e)=>{try{const n=indexedDB.open(i1e,o1e);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Bn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(zf,{keyPath:"compositeKey"})}}catch(n){e(Bn.create("storage-open",{originalErrorMessage:n?.message}))}}),ov)}()).transaction(zf,"readwrite"),o=r.objectStore(zf).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(Bn.create("storage-set",{originalErrorMessage:null===(u=c.target.error)||void 0===u?void 0:u.message}))}})}),ON.apply(this,arguments)}const qf=new Vs("@firebase/app-check");function kN(t,e){return tc()?function a1e(t,e){return function YG(t,e){return ON.apply(this,arguments)}(function JG(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{qf.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function FN(){return tv().enabled}function LN(){return VN.apply(this,arguments)}function VN(){return VN=p(function*(){const t=tv();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),VN.apply(this,arguments)}const f1e={error:"UNKNOWN_ERROR"};function p1e(t){return sD.encodeString(JSON.stringify(t),!1)}function sv(t){return BN.apply(this,arguments)}function BN(){return BN=p(function*(t,e=!1){const n=t.app;AN(n);const r=Ft(n);let o,i=r.token;if(i&&!Cl(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Cl(c)?i=c:yield kN(n,void 0))}if(!e&&i&&Cl(i))return{token:i.token};let a,s=!1;if(FN()){r.exchangeTokenPromise||(r.exchangeTokenPromise=iv(qG(n,yield LN()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const c=yield r.exchangeTokenPromise;return yield kN(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield Ft(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?qf.warn(c.message):qf.error(c),o=c}return i?o?a=Cl(i)?{token:i.token,internalError:o}:t6(o):(a={token:i.token},r.token=i,yield kN(n,i)):a=t6(o),s&&function e6(t,e){const n=Ft(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),BN.apply(this,arguments)}function UN(){return UN=p(function*(t){const e=t.app;AN(e);const{provider:n}=Ft(e);if(FN()){const r=yield LN(),{token:i}=yield iv(qG(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),UN.apply(this,arguments)}function $N(t,e){const n=Ft(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function XG(t){const{app:e}=t,n=Ft(e);let r=n.tokenRefresher;r||(r=function g1e(t){const{app:e}=t;return new Xbe(p(function*(){let r;if(r=Ft(e).token?yield sv(t,!0):yield sv(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Ft(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},zG.RETRIAL_MIN_WAIT,zG.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Cl(t){return t.expireTimeMillis-Date.now()>0}function t6(t){return{token:p1e(f1e),error:t}}class m1e{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Ft(this.app);for(const n of e)$N(this.app,n.next);return Promise.resolve()}}const u6="app-check-internal";!function N1e(){hr(new Jn("app-check",t=>function _1e(t,e){return new m1e(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(u6).initialize()})),hr(new Jn(u6,t=>function y1e(t){return{getToken:e=>sv(t,e),getLimitedUseToken:()=>function ZG(t){return UN.apply(this,arguments)}(t),addTokenListener:e=>function jN(t,e,n,r){const{app:i}=t,o=Ft(i);if(o.tokenObservers=[...o.tokenObservers,{next:n,error:r,type:e}],o.token&&Cl(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),XG(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>XG(t))}(t,"INTERNAL",e),removeTokenListener:e=>$N(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Kt("@firebase/app-check","0.8.0")}();class d6{constructor(){return yA("app-check")}}typeof window<"u"&&window;var X,P1e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fi={},WN=WN||{},ge=P1e||self;function cv(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Wf(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var KN="closure_uid_"+(1e9*Math.random()>>>0),L1e=0;function V1e(t,e,n){return t.call.apply(t.bind,arguments)}function B1e(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Zn(t,e,n){return(Zn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?V1e:B1e).apply(null,arguments)}function uv(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Cn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Ws(){this.s=this.s,this.o=this.o}Ws.prototype.s=!1,Ws.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function F1e(t){Object.prototype.hasOwnProperty.call(t,KN)&&t[KN]||(t[KN]=++L1e)}(this)},Ws.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const h6=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function YN(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function f6(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(cv(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Xn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Xn.prototype.h=function(){this.defaultPrevented=!0};var j1e=function(){if(!ge.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ge.addEventListener("test",()=>{},e),ge.removeEventListener("test",()=>{},e)}catch{}return t}();function Kf(t){return/^[\s\xa0]*$/.test(t)}function lv(){var t=ge.navigator;return t&&(t=t.userAgent)?t:""}function po(t){return-1!=lv().indexOf(t)}function QN(t){return QN[" "](t),t}QN[" "]=function(){};var ZN,H1e=po("Opera"),Dl=po("Trident")||po("MSIE"),p6=po("Edge"),JN=p6||Dl,g6=po("Gecko")&&!(-1!=lv().toLowerCase().indexOf("webkit")&&!po("Edge"))&&!(po("Trident")||po("MSIE"))&&!po("Edge"),G1e=-1!=lv().toLowerCase().indexOf("webkit")&&!po("Edge");function m6(){var t=ge.document;return t?t.documentMode:void 0}e:{var XN="",eO=function(){var t=lv();return g6?/rv:([^\);]+)(\)|;)/.exec(t):p6?/Edge\/([\d\.]+)/.exec(t):Dl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):G1e?/WebKit\/(\S+)/.exec(t):H1e?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(eO&&(XN=eO?eO[1]:""),Dl){var tO=m6();if(null!=tO&&tO>parseFloat(XN)){ZN=String(tO);break e}}ZN=XN}var z1e=ge.document&&Dl&&(m6()||parseInt(ZN,10))||void 0;function Yf(t,e){if(Xn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(g6){e:{try{QN(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:q1e[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Yf.$.h.call(this)}}Cn(Yf,Xn);var q1e={2:"touch",3:"pen",4:"mouse"};Yf.prototype.h=function(){Yf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Qf="closure_listenable_"+(1e6*Math.random()|0),W1e=0;function K1e(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++W1e,this.fa=this.ia=!1}function dv(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function rO(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function y6(t){const e={};for(const n in t)e[n]=t[n];return e}const v6="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b6(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<v6.length;o++)n=v6[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function hv(t){this.src=t,this.g={},this.h=0}function iO(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=h6(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(dv(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function oO(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}hv.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=oO(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new K1e(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var sO="closure_lm_"+(1e6*Math.random()|0),aO={};function w6(t,e,n,r,i){if(r&&r.once)return T6(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)w6(t,e[o],n,r,i);return null}return n=dO(n),t&&t[Qf]?t.O(e,n,Wf(r)?!!r.capture:!!r,i):I6(t,e,n,!1,r,i)}function I6(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Wf(i)?!!i.capture:!!i,a=uO(t);if(a||(t[sO]=a=new hv(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function Q1e(){const e=J1e;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)j1e||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(C6(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function T6(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)T6(t,e[o],n,r,i);return null}return n=dO(n),t&&t[Qf]?t.P(e,n,Wf(r)?!!r.capture:!!r,i):I6(t,e,n,!0,r,i)}function E6(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)E6(t,e[o],n,r,i);else r=Wf(r)?!!r.capture:!!r,n=dO(n),t&&t[Qf]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=oO(o=t.g[e],n,r,i))&&(dv(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=uO(t))&&(e=t.g[e.toString()],t=-1,e&&(t=oO(e,n,r,i)),(n=-1<t?e[t]:null)&&cO(n))}function cO(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Qf])iO(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(C6(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=uO(e))?(iO(n,t),0==n.h&&(n.src=null,e[sO]=null)):dv(t)}}}function C6(t){return t in aO?aO[t]:aO[t]="on"+t}function J1e(t,e){if(t.fa)t=!0;else{e=new Yf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&cO(t),t=n.call(r,e)}return t}function uO(t){return(t=t[sO])instanceof hv?t:null}var lO="__closure_events_fn_"+(1e9*Math.random()>>>0);function dO(t){return"function"==typeof t?t:(t[lO]||(t[lO]=function(e){return t.handleEvent(e)}),t[lO])}function Dn(){Ws.call(this),this.i=new hv(this),this.S=this,this.J=null}function Un(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Xn(e,t);else if(e instanceof Xn)e.target=e.target||t;else{var i=e;b6(e=new Xn(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=fv(s,r,!0,e)&&i}if(i=fv(s=e.g=t,r,!0,e)&&i,i=fv(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=fv(s=e.g=n[o],r,!1,e)&&i}function fv(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&iO(t.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Cn(Dn,Ws),Dn.prototype[Qf]=!0,Dn.prototype.removeEventListener=function(t,e,n,r){E6(this,t,e,n,r)},Dn.prototype.N=function(){if(Dn.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)dv(n[r]);delete t.g[e],t.h--}}this.J=null},Dn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Dn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var hO=ge.JSON.stringify;function X1e(){var t=fO;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var D6=new class Z1e{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new twe,t=>t.reset());class twe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function nwe(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function rwe(t){ge.setTimeout(()=>{throw t},0)}let Jf,Zf=!1,fO=new class ewe{constructor(){this.h=this.g=null}add(e,n){const r=D6.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},S6=()=>{const t=ge.Promise.resolve(void 0);Jf=()=>{t.then(iwe)}};var iwe=()=>{for(var t;t=X1e();){try{t.h.call(t.g)}catch(n){rwe(n)}var e=D6;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Zf=!1};function pv(t,e){Dn.call(this),this.h=t||1,this.g=e||ge,this.j=Zn(this.qb,this),this.l=Date.now()}function pO(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function gO(t,e,n){if("function"==typeof t)n&&(t=Zn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Zn(t.handleEvent,t)}return 2147483647<Number(e)?-1:ge.setTimeout(t,e||0)}function A6(t){t.g=gO(()=>{t.g=null,t.i&&(t.i=!1,A6(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Cn(pv,Dn),(X=pv.prototype).ga=!1,X.T=null,X.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Un(this,"tick"),this.ga&&(pO(this),this.start()))}},X.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},X.N=function(){pv.$.N.call(this),pO(this),delete this.g};class owe extends Ws{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:A6(this)}N(){super.N(),this.g&&(ge.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xf(t){Ws.call(this),this.h=t,this.g={}}Cn(Xf,Ws);var x6=[];function N6(t,e,n,r){Array.isArray(n)||(n&&(x6[0]=n.toString()),n=x6);for(var i=0;i<n.length;i++){var o=w6(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function O6(t){rO(t.g,function(e,n){this.g.hasOwnProperty(n)&&cO(e)},t),t.g={}}function gv(){this.g=!0}function Sl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function uwe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return hO(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Xf.prototype.N=function(){Xf.$.N.call(this),O6(this)},Xf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},gv.prototype.Ea=function(){this.g=!1},gv.prototype.info=function(){};var gc={},M6=null;function mv(){return M6=M6||new Dn}function R6(t){Xn.call(this,gc.Ta,t)}function ep(t){const e=mv();Un(e,new R6(e))}function k6(t,e){Xn.call(this,gc.STAT_EVENT,t),this.stat=e}function pr(t){const e=mv();Un(e,new k6(e,t))}function P6(t,e){Xn.call(this,gc.Ua,t),this.size=e}function tp(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ge.setTimeout(function(){t()},e)}gc.Ta="serverreachability",Cn(R6,Xn),gc.STAT_EVENT="statevent",Cn(k6,Xn),gc.Ua="timingevent",Cn(P6,Xn);var _v={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},F6={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function mO(){}function V6(){}mO.prototype.h=null;var vO,np={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function _O(){Xn.call(this,"d")}function yO(){Xn.call(this,"c")}function yv(){}function rp(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Xf(this),this.P=lwe,this.V=new pv(t=JN?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new B6}function B6(){this.i=null,this.g="",this.h=!1}Cn(_O,Xn),Cn(yO,Xn),Cn(yv,mO),yv.prototype.g=function(){return new XMLHttpRequest},yv.prototype.i=function(){return{}},vO=new yv;var lwe=45e3,bO={},vv={};function wO(t,e,n){t.L=1,t.v=Tv(is(e)),t.s=n,t.S=!0,U6(t,null)}function U6(t,e){t.G=Date.now(),ip(t),t.A=is(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),Q6(n.i,"t",r),t.C=0,n=t.l.J,t.h=new B6,t.g=b7(t.l,n?e:null,!t.s),0<t.O&&(t.M=new owe(Zn(t.Pa,t,t.g),t.O)),N6(t.U,t.g,"readystatechange",t.nb),e=t.I?y6(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),ep(),function swe(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");s=2<=d.length&&"type"==d[1]?s+(l+"=")+u+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.W,t.s)}function j6(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function $6(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=dwe(t,n),i==vv){4==e&&(t.o=4,pr(14),r=!1),Sl(t.j,t.m,null,"[Incomplete Response]");break}if(i==bO){t.o=4,pr(15),Sl(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Sl(t.j,t.m,i,null),IO(t,i)}j6(t)&&i!=vv&&i!=bO&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,pr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),xO(e),e.M=!0,pr(11))):(Sl(t.j,t.m,n,"[Invalid Chunked Response]"),mc(t),op(t))}function dwe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?vv:(n=Number(e.substring(n,r)),isNaN(n)?bO:(r+=1)+n>e.length?vv:(e=e.slice(r,r+n),t.C=r+n,e))}function ip(t){t.Y=Date.now()+t.P,H6(t,t.P)}function H6(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=tp(Zn(t.lb,t),e)}function bv(t){t.B&&(ge.clearTimeout(t.B),t.B=null)}function op(t){0==t.l.H||t.J||m7(t.l,t)}function mc(t){bv(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,pO(t.V),O6(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function IO(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||TO(n.i,t)))if(!t.K&&TO(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;xv(n),Sv(n)}AO(n),pr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=tp(Zn(n.ib,n),6e3));if(1>=X6(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else yc(n,11)}else if((t.K||n.g==t)&&xv(n),!Kf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const l=u[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=u[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var o=r.i;o.g||-1==g.indexOf("spdy")&&-1==g.indexOf("quic")&&-1==g.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(EO(o,o.h),o.h=null))}if(r.F){const y=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,mt(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=v7(r,r.J?r.pa:null,r.Y),s.K){e7(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.B&&(bv(a),ip(a)),r.g=s}else p7(r);0<n.j.length&&Av(n)}else"stop"!=u[0]&&"close"!=u[0]||yc(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?yc(n,7):SO(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}ep()}catch{}}function G6(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(cv(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function fwe(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(cv(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function hwe(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(cv(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(X=rp.prototype).setTimeout=function(t){this.P=t},X.nb=function(t){t=t.target;const e=this.M;e&&3==go(t)?e.l():this.Pa(t)},X.Pa=function(t){try{if(t==this.g)e:{const l=go(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||JN||this.g&&(this.h.h||this.g.ja()||c7(this.g)))){this.J||4!=l||7==e||ep(),bv(this);var n=this.g.da();this.ca=n;t:if(j6(this)){var r=c7(this.g);t="";var i=r.length,o=4==go(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){mc(this),op(this);var s="";break t}this.h.i=new ge.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function awe(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kf(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,pr(12),mc(this),op(this);break e}Sl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,IO(this,n)}this.S?($6(this,l,s),JN&&this.i&&3==l&&(N6(this.U,this.V,"tick",this.mb),this.V.start())):(Sl(this.j,this.m,s,null),IO(this,s)),4==l&&mc(this),this.i&&!this.J&&(4==l?m7(this.l,this):(this.i=!1,ip(this)))}else(function Owe(t){const e={};t=(t.g&&2<=go(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Kf(t[r]))continue;var n=nwe(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function Y1e(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,pr(12)):(this.o=0,pr(13)),mc(this),op(this)}}}catch{}},X.mb=function(){if(this.g){var t=go(this.g),e=this.g.ja();this.C<e.length&&(bv(this),$6(this,t,e),this.i&&4!=t&&ip(this))}},X.cancel=function(){this.J=!0,mc(this)},X.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function cwe(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(ep(),pr(17)),mc(this),this.o=2,op(this)):H6(this,this.Y-t)};var z6=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _c(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof _c){this.h=t.h,wv(this,t.j),this.s=t.s,this.g=t.g,Iv(this,t.m),this.l=t.l;var e=t.i,n=new cp;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),q6(this,n),this.o=t.o}else t&&(e=String(t).match(z6))?(this.h=!1,wv(this,e[1]||"",!0),this.s=sp(e[2]||""),this.g=sp(e[3]||"",!0),Iv(this,e[4]),this.l=sp(e[5]||"",!0),q6(this,e[6]||"",!0),this.o=sp(e[7]||"")):(this.h=!1,this.i=new cp(null,this.h))}function is(t){return new _c(t)}function wv(t,e,n){t.j=n?sp(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Iv(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function q6(t,e,n){e instanceof cp?(t.i=e,function bwe(t,e){e&&!t.j&&(Ks(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(K6(this,r),Q6(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=ap(e,ywe)),t.i=new cp(e,t.h))}function mt(t,e,n){t.i.set(e,n)}function Tv(t){return mt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function sp(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ap(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,gwe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function gwe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}_c.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ap(e,W6,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(ap(e,W6,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(ap(n,"/"==n.charAt(0)?_we:mwe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ap(n,vwe)),t.join("")};var W6=/[#\/\?@]/g,mwe=/[#\?:]/g,_we=/[#\?]/g,ywe=/[#\?@]/g,vwe=/#/g;function cp(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ks(t){t.g||(t.g=new Map,t.h=0,t.i&&function pwe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function K6(t,e){Ks(t),e=Al(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Y6(t,e){return Ks(t),e=Al(t,e),t.g.has(e)}function Q6(t,e,n){K6(t,e),0<n.length&&(t.i=null,t.g.set(Al(t,e),YN(n)),t.h+=n.length)}function Al(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function J6(t){this.l=t||Iwe,t=ge.PerformanceNavigationTiming?0<(t=ge.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ge.g&&ge.g.Ka&&ge.g.Ka()&&ge.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(X=cp.prototype).add=function(t,e){Ks(this),this.i=null,t=Al(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},X.forEach=function(t,e){Ks(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},X.ta=function(){Ks(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},X.Z=function(t){Ks(this);let e=[];if("string"==typeof t)Y6(this,t)&&(e=e.concat(this.g.get(Al(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},X.set=function(t,e){return Ks(this),this.i=null,Y6(this,t=Al(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},X.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},X.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var Iwe=10;function Z6(t){return!!t.h||!!t.g&&t.g.size>=t.j}function X6(t){return t.h?1:t.g?t.g.size:0}function TO(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function EO(t,e){t.g?t.g.add(e):t.h=e}function e7(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function t7(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return YN(t.i)}J6.prototype.cancel=function(){if(this.i=t7(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Twe=class{stringify(t){return ge.JSON.stringify(t,void 0)}parse(t){return ge.JSON.parse(t,void 0)}};function Ewe(){this.g=new Twe}function Cwe(t,e,n){const r=n||"";try{G6(t,function(i,o){let s=i;Wf(i)&&(s=hO(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ev(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function up(t){this.l=t.fc||null,this.j=t.ob||!1}function Cv(t,e){Dn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=CO,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Cn(up,mO),up.prototype.g=function(){return new Cv(this.l,this.j)},up.prototype.i=function(t){return function(){return t}}({}),Cn(Cv,Dn);var CO=0;function n7(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function lp(t){t.readyState=4,t.l=null,t.j=null,t.A=null,dp(t)}function dp(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(X=Cv.prototype).open=function(t,e){if(this.readyState!=CO)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,dp(this)},X.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ge).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},X.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lp(this)),this.readyState=CO},X.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,dp(this)),this.g&&(this.readyState=3,dp(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ge.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;n7(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},X.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?lp(this):dp(this),3==this.readyState&&n7(this)}},X.Za=function(t){this.g&&(this.response=this.responseText=t,lp(this))},X.Ya=function(t){this.g&&(this.response=t,lp(this))},X.ka=function(){this.g&&lp(this)},X.setRequestHeader=function(t,e){this.v.append(t,e)},X.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},X.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Cv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Swe=ge.JSON.parse;function Lt(t){Dn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=r7,this.L=this.M=!1}Cn(Lt,Dn);var r7="",Awe=/^https?$/i,xwe=["POST","PUT"];function i7(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,o7(t),Dv(t)}function o7(t){t.F||(t.F=!0,Un(t,"complete"),Un(t,"error"))}function s7(t){if(t.h&&typeof WN<"u"&&(!t.C[1]||4!=go(t)||2!=t.da()))if(t.v&&4==go(t))gO(t.La,0,t);else if(Un(t,"readystatechange"),4==go(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(z6)[1]||null;!i&&ge.self&&ge.self.location&&(i=ge.self.location.protocol.slice(0,-1)),r=!Awe.test(i?i.toLowerCase():"")}n=r}if(n)Un(t,"complete"),Un(t,"success");else{t.m=6;try{var o=2<go(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",o7(t)}}finally{Dv(t)}}}function Dv(t,e){if(t.g){a7(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Un(t,"ready");try{n.onreadystatechange=r}catch{}}}function a7(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ge.clearTimeout(t.A),t.A=null)}function go(t){return t.g?t.g.readyState:0}function c7(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case r7:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function u7(t){let e="";return rO(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function DO(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=u7(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):mt(t,e,n))}function hp(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function l7(t){this.Ga=0,this.j=[],this.l=new gv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=hp("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=hp("baseRetryDelayMs",5e3,t),this.hb=hp("retryDelaySeedMs",1e4,t),this.eb=hp("forwardChannelMaxRetries",2,t),this.xa=hp("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new J6(t&&t.concurrentRequestLimit),this.Ja=new Ewe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function SO(t){if(d7(t),3==t.H){var e=t.W++,n=is(t.I);if(mt(n,"SID",t.K),mt(n,"RID",e),mt(n,"TYPE","terminate"),fp(t,n),(e=new rp(t,t.l,e)).L=2,e.v=Tv(is(n)),n=!1,ge.navigator&&ge.navigator.sendBeacon)try{n=ge.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ge.Image&&((new Image).src=e.v,n=!0),n||(e.g=b7(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ip(e)}y7(t)}function Sv(t){t.g&&(xO(t),t.g.cancel(),t.g=null)}function d7(t){Sv(t),t.u&&(ge.clearTimeout(t.u),t.u=null),xv(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ge.clearTimeout(t.m),t.m=null)}function Av(t){if(!Z6(t.i)&&!t.m){t.m=!0;var e=t.Na;Jf||S6(),Zf||(Jf(),Zf=!0),fO.add(e,t),t.C=0}}function h7(t,e){var n;n=e?e.m:t.W++;const r=is(t.I);mt(r,"SID",t.K),mt(r,"RID",n),mt(r,"AID",t.V),fp(t,r),t.o&&t.s&&DO(r,t.o,t.s),n=new rp(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=f7(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),EO(t.i,n),wO(n,r,e)}function fp(t,e){t.na&&rO(t.na,function(n,r){mt(e,r,n)}),t.h&&G6({},function(n,r){mt(e,r,n)})}function f7(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Zn(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let u=i[c].g;const l=i[c].map;if(u-=o,0>u)o=Math.max(0,i[c].g-100),a=!1;else try{Cwe(l,s,"req"+u+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function p7(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Jf||S6(),Zf||(Jf(),Zf=!0),fO.add(e,t),t.A=0}}function AO(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=tp(Zn(t.Ma,t),_7(t,t.A)),t.A++,0))}function xO(t){null!=t.B&&(ge.clearTimeout(t.B),t.B=null)}function g7(t){t.g=new rp(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=is(t.wa);mt(e,"RID","rpc"),mt(e,"SID",t.K),mt(e,"AID",t.V),mt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&mt(e,"TO",t.qa),mt(e,"TYPE","xmlhttp"),fp(t,e),t.o&&t.s&&DO(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Tv(is(e)),n.s=null,n.S=!0,U6(n,t)}function xv(t){null!=t.v&&(ge.clearTimeout(t.v),t.v=null)}function m7(t,e){var n=null;if(t.g==e){xv(t),xO(t),t.g=null;var r=2}else{if(!TO(t.i,e))return;n=e.F,e7(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Un(r=mv(),new P6(r,n)),Av(t)}else p7(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Mwe(t,e){return!(X6(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=tp(Zn(t.Na,t,e),_7(t,t.C)),t.C++,0)))}(t,e)||2==r&&AO(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:yc(t,5);break;case 4:yc(t,10);break;case 3:yc(t,6);break;default:yc(t,2)}}function _7(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function yc(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Zn(t.pb,t);n||(n=new _c("//www.google.com/images/cleardot.gif"),ge.location&&"http"==ge.location.protocol||wv(n,"https"),Tv(n)),function Dwe(t,e){const n=new gv;if(ge.Image){const r=new Image;r.onload=uv(Ev,n,r,"TestLoadImage: loaded",!0,e),r.onerror=uv(Ev,n,r,"TestLoadImage: error",!1,e),r.onabort=uv(Ev,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=uv(Ev,n,r,"TestLoadImage: timeout",!1,e),ge.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else pr(2);t.H=0,t.h&&t.h.za(e),y7(t),d7(t)}function y7(t){if(t.H=0,t.ma=[],t.h){const e=t7(t.i);(0!=e.length||0!=t.j.length)&&(f6(t.ma,e),f6(t.ma,t.j),t.i.i.length=0,YN(t.j),t.j.length=0),t.h.ya()}}function v7(t,e,n){var r=n instanceof _c?is(n):new _c(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Iv(r,r.m);else{var i=ge.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new _c(null);r&&wv(o,r),e&&(o.g=e),i&&Iv(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&mt(r,n,e),mt(r,"VER",t.ra),fp(t,r),r}function b7(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Lt(n&&t.Ha&&!t.va?new up({ob:!0}):t.va)).Oa(t.J),e}function w7(){}function Nv(){if(Dl&&!(10<=Number(z1e)))throw Error("Environmental error: no available transport.")}function Zr(t,e){Dn.call(this),this.g=new l7(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Kf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Kf(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new xl(this)}function I7(t){_O.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function T7(){yO.call(this),this.status=1}function xl(t){this.g=t}function Li(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function NO(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function nt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(X=Lt.prototype).Oa=function(t){this.M=t},X.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():vO.g(),this.C=function L6(t){return t.h||(t.h=t.i())}(this.u?this.u:vO),this.g.onreadystatechange=Zn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void i7(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=ge.FormData&&t instanceof ge.FormData,!(0<=h6(xwe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{a7(this),0<this.B&&((this.L=function Nwe(t){return Dl&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zn(this.ua,this)):this.A=gO(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){i7(this,o)}},X.ua=function(){typeof WN<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Un(this,"timeout"),this.abort(8))},X.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Un(this,"complete"),Un(this,"abort"),Dv(this))},X.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dv(this,!0)),Lt.$.N.call(this)},X.La=function(){this.s||(this.G||this.v||this.l?s7(this):this.kb())},X.kb=function(){s7(this)},X.isActive=function(){return!!this.g},X.da=function(){try{return 2<go(this)?this.g.status:-1}catch{return-1}},X.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},X.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Swe(e)}},X.Ia=function(){return this.m},X.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(X=l7.prototype).ra=8,X.H=1,X.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new rp(this,this.l,t);let o=this.s;if(this.U&&(o?(o=y6(o),b6(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=f7(this,i,e),mt(n=is(this.I),"RID",t),mt(n,"CVER",22),this.F&&mt(n,"X-HTTP-Session-Id",this.F),fp(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(u7(o)))+"&"+e:this.o&&DO(n,this.o,o)),EO(this.i,i),this.bb&&mt(n,"TYPE","init"),this.P?(mt(n,"$req",e),mt(n,"SID","null"),i.aa=!0,wO(i,n,null)):wO(i,n,e),this.H=2}}else 3==this.H&&(t?h7(this,t):0==this.j.length||Z6(this.i)||h7(this))},X.Ma=function(){if(this.u=null,g7(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=tp(Zn(this.jb,this),t)}},X.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,pr(10),Sv(this),g7(this))},X.ib=function(){null!=this.v&&(this.v=null,Sv(this),AO(this),pr(19))},X.pb=function(t){t?(this.l.info("Successfully pinged google.com"),pr(2)):(this.l.info("Failed to ping google.com"),pr(1))},X.isActive=function(){return!!this.h&&this.h.isActive(this)},(X=w7.prototype).Ba=function(){},X.Aa=function(){},X.za=function(){},X.ya=function(){},X.isActive=function(){return!0},X.Va=function(){},Nv.prototype.g=function(t,e){return new Zr(t,e)},Cn(Zr,Dn),Zr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;pr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=v7(t,null,t.Y),Av(t)},Zr.prototype.close=function(){SO(this.g)},Zr.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=hO(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Av(e)},Zr.prototype.N=function(){this.g.h=null,delete this.j,SO(this.g),delete this.g,Zr.$.N.call(this)},Cn(I7,_O),Cn(T7,yO),Cn(xl,w7),xl.prototype.Ba=function(){Un(this.g,"a")},xl.prototype.Aa=function(t){Un(this.g,new I7(t))},xl.prototype.za=function(t){Un(this.g,new T7)},xl.prototype.ya=function(){Un(this.g,"b")},Cn(Li,function Rwe(){this.blockSize=-1}),Li.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Li.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)NO(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){NO(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){NO(this,r),i=0;break}}this.h=i,this.i+=e},Li.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var kwe={};function OO(t){return-128<=t&&128>t?function $1e(t,e){var n=kwe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new nt([0|e],0>e?-1:0)}):new nt([0|t],0>t?-1:0)}function mo(t){if(isNaN(t)||!isFinite(t))return Nl;if(0>t)return jn(mo(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=MO;return new nt(e,0)}var MO=4294967296,Nl=OO(0),RO=OO(1),C7=OO(16777216);function os(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function vi(t){return-1==t.h}function jn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new nt(n,~t.h).add(RO)}function Ov(t,e){return t.add(jn(e))}function Mv(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function pp(t,e){this.g=t,this.h=e}function Rv(t,e){if(os(e))throw Error("division by zero");if(os(t))return new pp(Nl,Nl);if(vi(t))return e=Rv(jn(t),e),new pp(jn(e.g),jn(e.h));if(vi(e))return e=Rv(t,jn(e)),new pp(jn(e.g),e.h);if(30<t.g.length){if(vi(t)||vi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=RO,r=e;0>=r.X(t);)n=D7(n),r=D7(r);var i=Ol(n,1),o=Ol(r,1);for(r=Ol(r,2),n=Ol(n,2);!os(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Ol(r,1),n=Ol(n,1)}return e=Ov(t,i.R(e)),new pp(i,e)}for(i=Nl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=mo(n)).R(e);vi(s)||0<s.X(t);)s=(o=mo(n-=r)).R(e);os(o)&&(o=RO),i=i.add(o),t=Ov(t,s)}return new pp(i,t)}function D7(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new nt(n,t.h)}function Ol(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new nt(i,t.h)}(X=nt.prototype).ea=function(){if(vi(this))return-jn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:MO+r)*e,e*=MO}return t},X.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(os(this))return"0";if(vi(this))return"-"+jn(this).toString(t);for(var e=mo(Math.pow(t,6)),n=this,r="";;){var i=Rv(n,e).g,o=((0<(n=Ov(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(os(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},X.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},X.X=function(t){return vi(t=Ov(this,t))?-1:os(t)?0:1},X.abs=function(){return vi(this)?jn(this):this},X.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new nt(n,-2147483648&n[n.length-1]?-1:0)},X.R=function(t){if(os(this)||os(t))return Nl;if(vi(this))return vi(t)?jn(this).R(jn(t)):jn(jn(this).R(t));if(vi(t))return jn(this.R(jn(t)));if(0>this.X(C7)&&0>t.X(C7))return mo(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=s*c,Mv(n,2*r+2*i),n[2*r+2*i+1]+=o*c,Mv(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Mv(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Mv(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new nt(n,0)},X.gb=function(t){return Rv(this,t).h},X.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new nt(n,this.h&t.h)},X.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new nt(n,this.h|t.h)},X.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new nt(n,this.h^t.h)},Nv.prototype.createWebChannel=Nv.prototype.g,Zr.prototype.send=Zr.prototype.u,Zr.prototype.open=Zr.prototype.m,Zr.prototype.close=Zr.prototype.close,_v.NO_ERROR=0,_v.TIMEOUT=8,_v.HTTP_ERROR=6,F6.COMPLETE="complete",V6.EventType=np,np.OPEN="a",np.CLOSE="b",np.ERROR="c",np.MESSAGE="d",Dn.prototype.listen=Dn.prototype.O,Lt.prototype.listenOnce=Lt.prototype.P,Lt.prototype.getLastError=Lt.prototype.Sa,Lt.prototype.getLastErrorCode=Lt.prototype.Ia,Lt.prototype.getStatus=Lt.prototype.da,Lt.prototype.getResponseJson=Lt.prototype.Wa,Lt.prototype.getResponseText=Lt.prototype.ja,Lt.prototype.send=Lt.prototype.ha,Lt.prototype.setWithCredentials=Lt.prototype.Oa,Li.prototype.digest=Li.prototype.l,Li.prototype.reset=Li.prototype.reset,Li.prototype.update=Li.prototype.j,nt.prototype.add=nt.prototype.add,nt.prototype.multiply=nt.prototype.R,nt.prototype.modulo=nt.prototype.gb,nt.prototype.compare=nt.prototype.X,nt.prototype.toNumber=nt.prototype.ea,nt.prototype.toString=nt.prototype.toString,nt.prototype.getBits=nt.prototype.D,nt.fromNumber=mo,nt.fromString=function E7(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return jn(E7(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=mo(Math.pow(e,8)),r=Nl,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=mo(Math.pow(e,o)),r=r.R(o).add(mo(s))):r=(r=r.R(n)).add(mo(s))}return r};var Pwe=Fi.createWebChannelTransport=function(){return new Nv},Fwe=Fi.getStatEventTarget=function(){return mv()},kO=Fi.ErrorCode=_v,Lwe=Fi.EventType=F6,Vwe=Fi.Event=gc,S7=Fi.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Bwe=Fi.FetchXmlHttpFactory=up,kv=Fi.WebChannel=V6,Uwe=Fi.XhrIo=Lt,jwe=Fi.Md5=Li,Ml=Fi.Integer=nt;const A7="@firebase/firestore";class Sn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");let Rl="9.23.0";const Ys=new Vs("@firebase/firestore");function PO(){return Ys.logLevel}function j(t,...e){if(Ys.logLevel<=Ne.DEBUG){const n=e.map(FO);Ys.debug(`Firestore (${Rl}): ${t}`,...n)}}function Yt(t,...e){if(Ys.logLevel<=Ne.ERROR){const n=e.map(FO);Ys.error(`Firestore (${Rl}): ${t}`,...n)}}function Vi(t,...e){if(Ys.logLevel<=Ne.WARN){const n=e.map(FO);Ys.warn(`Firestore (${Rl}): ${t}`,...n)}}function FO(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function ne(t="Unexpected state"){const e=`FIRESTORE (${Rl}) INTERNAL ASSERTION FAILED: `+t;throw Yt(e),new Error(e)}function oe(t,e){t||ne()}function Z(t,e){return t}const x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends Pi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class x7{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $we{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Sn.UNAUTHENTICATED))}shutdown(){}}class Hwe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Gwe{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new fn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new fn,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(p(function*(){yield u.promise,yield o(r.currentUser)}))},c=u=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new fn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(oe("string"==typeof r.accessToken),new x7(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return oe(null===e||"string"==typeof e),new Sn(e)}}class zwe{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class qwe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new zwe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class N7{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wwe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=o=>{null!=o.error&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,j("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(oe("string"==typeof n.token),this.T=n.token,new N7(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Kwe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class O7{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Kwe(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function kl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new B(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new se(e)}static min(){return new se(new Mt(0,0))}static max(){return new se(new Mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class gp{constructor(e,n,r){void 0===n?n=0:n>e.length&&ne(),void 0===r?r=e.length-n:r>e.length-n&&ne(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===gp.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gp?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ke extends gp{construct(e,n,r){return new ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new B(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ke(n)}static emptyPath(){return new ke([])}}const Ywe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends gp{construct(e,n,r){return new Qt(e,n,r)}static isValidIdentifier(e){return Ywe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new B(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new B(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new B(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new B(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}class J{constructor(e){this.path=e}static fromPath(e){return new J(ke.fromString(e))}static fromName(e){return new J(ke.fromString(e).popFirst(5))}static empty(){return new J(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ke.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new ke(e.slice()))}}function k7(t){return new Xr(t.readTime,t.key,-1)}class Xr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xr(se.min(),J.empty(),-1)}static max(){return new Xr(se.max(),J.empty(),-1)}}function VO(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=J.comparator(t.documentKey,e.documentKey),0!==n?n:he(t.largestBatchId,e.largestBatchId))}const P7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zwe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Qs(t){return BO.apply(this,arguments)}function BO(){return BO=p(function*(t){if(t.code!==x.FAILED_PRECONDITION||t.message!==P7)throw t;j("LocalStore","Unexpectedly lost primary lease")}),BO.apply(this,arguments)}class A{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new A((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof A?n:A.resolve(n)}catch(n){return A.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):A.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):A.reject(n)}static resolve(e){return new A((n,r)=>{n(e)})}static reject(e){return new A((n,r)=>{r(e)})}static waitFor(e){return new A((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=A.resolve(!1);for(const r of e)n=n.next(i=>i?A.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new A((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const u=c;n(e[u]).next(l=>{s[u]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new A((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}function Js(t){return"IndexedDbTransactionError"===t.name}let ei=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function yp(t){return null==t}function vp(t){return 0===t&&1/t==-1/0}function G7(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function z7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class dt{constructor(e,n){this.comparator=e,this.root=n||$n.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$n.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bv(this.root,e,this.comparator,!0)}}class Bv{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $n{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??$n.RED,this.left=i??$n.EMPTY,this.right=o??$n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new $n(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return $n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();const e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}}$n.EMPTY=null,$n.RED=!0,$n.BLACK=!1,$n.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(t,e,n,r,i){return this}insert(t,e,n){return new $n(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _t{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new q7(this.data.getIterator())}getIteratorFrom(e){return new q7(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _t(this.comparator);return n.data=e,n}}class q7{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rr{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Rr([])}unionWith(e){let n=new _t(Qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return kl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class W7 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new W7("Invalid base64 string: "+i):i}}(e);return new pn(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const wIe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(t){if(oe(!!t),"string"==typeof t){let e=0;const n=wIe.exec(t);if(oe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ss(t){return"string"==typeof t?pn.fromBase64String(t):pn.fromUint8Array(t)}function Uv(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function jv(t){const e=t.mapValue.fields.__previous_value__;return Uv(e)?jv(e):e}function bp(t){const e=Xs(t.mapValue.fields.__local_write_time__.timestampValue);return new Mt(e.seconds,e.nanos)}class IIe{constructor(e,n,r,i,o,s,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class wc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new wc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof wc&&e.projectId===this.projectId&&e.database===this.database}}const ea={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ta(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Uv(t)?4:J7(t)?9007199254740991:10:ne()}function yo(t,e){if(t===e)return!0;const n=ta(t);if(n!==ta(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bp(t).isEqual(bp(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=Xs(r.timestampValue),s=Xs(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,ss(t.bytesValue).isEqual(ss(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Vt(r.geoPointValue.latitude)===Vt(i.geoPointValue.latitude)&&Vt(r.geoPointValue.longitude)===Vt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Vt(r.integerValue)===Vt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Vt(r.doubleValue),s=Vt(i.doubleValue);return o===s?vp(o)===vp(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return kl(t.arrayValue.values||[],e.arrayValue.values||[],yo);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(G7(o)!==G7(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(void 0===s[a]||!yo(o[a],s[a])))return!1;return!0}(t,e);default:return ne()}var i}function wp(t,e){return void 0!==(t.values||[]).find(n=>yo(n,e))}function na(t,e){if(t===e)return 0;const n=ta(t),r=ta(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(i,o){const s=Vt(i.integerValue||i.doubleValue),a=Vt(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return K7(t.timestampValue,e.timestampValue);case 4:return K7(bp(t),bp(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(i,o){const s=ss(i),a=ss(o);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let c=0;c<s.length&&c<a.length;c++){const u=he(s[c],a[c]);if(0!==u)return u}return he(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const s=he(Vt(i.latitude),Vt(o.latitude));return 0!==s?s:he(Vt(i.longitude),Vt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let c=0;c<s.length&&c<a.length;++c){const u=na(s[c],a[c]);if(u)return u}return he(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===ea.mapValue&&o===ea.mapValue)return 0;if(i===ea.mapValue)return 1;if(o===ea.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),c=o.fields||{},u=Object.keys(c);a.sort(),u.sort();for(let l=0;l<a.length&&l<u.length;++l){const d=he(a[l],u[l]);if(0!==d)return d;const h=na(s[a[l]],c[u[l]]);if(0!==h)return h}return he(a.length,u.length)}(t.mapValue,e.mapValue);default:throw ne()}}function K7(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return he(t,e);const n=Xs(t),r=Xs(e),i=he(n.seconds,r.seconds);return 0!==i?i:he(n.nanos,r.nanos)}function Fl(t){return $O(t)}function $O(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Xs(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ss(t.bytesValue).toBase64():"referenceValue"in t?J.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=$O(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${$O(r.fields[a])}`;return o+"}"}(t.mapValue):ne();var e}function Ic(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function HO(t){return!!t&&"integerValue"in t}function Ip(t){return!!t&&"arrayValue"in t}function Y7(t){return!!t&&"nullValue"in t}function Q7(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gv(t){return!!t&&"mapValue"in t}function Tp(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Zs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Tp(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Tp(t.arrayValue.values[n]);return e}return Object.assign({},t)}function J7(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tp(n)}setAll(e){let n=Qt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Tp(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Gv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Gv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Zs(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Hn(Tp(this.value))}}function e8(t){const e=[];return Zs(t.fields,(n,r)=>{const i=new Qt([n]);if(Gv(r)){const o=e8(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Rr(e)}class yt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new yt(e,0,se.min(),se.min(),se.min(),Hn.empty(),0)}static newFoundDocument(e,n,r,i){return new yt(e,1,n,se.min(),r,i,0)}static newNoDocument(e,n){return new yt(e,2,n,se.min(),se.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new yt(e,3,n,se.min(),se.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ra{constructor(e,n){this.position=e,this.inclusive=n}}function t8(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?J.comparator(J.fromName(s.referenceValue),n.key):na(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function n8(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yo(t.position[n],e.position[n]))return!1;return!0}class Ll{constructor(e,n="asc"){this.field=e,this.dir=n}}function CIe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class r8{}class Ae extends r8{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new DIe(e,n,r):"array-contains"===n?new xIe(e,r):"in"===n?new u8(e,r):"not-in"===n?new NIe(e,r):"array-contains-any"===n?new OIe(e,r):new Ae(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new SIe(e,r):new AIe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(na(n,this.value)):null!==n&&ta(this.value)===ta(n)&&this.matchesComparison(na(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class rt extends r8{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new rt(e,n)}matches(e){return Vl(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Vl(t){return"and"===t.op}function zO(t){return function i8(t){for(const e of t.filters)if(e instanceof rt)return!1;return!0}(t)&&Vl(t)}function qO(t){if(t instanceof Ae)return t.field.canonicalString()+t.op.toString()+Fl(t.value);if(zO(t))return t.filters.map(e=>qO(e)).join(",");{const e=t.filters.map(n=>qO(n)).join(",");return`${t.op}(${e})`}}function o8(t,e){return t instanceof Ae?(n=t,(r=e)instanceof Ae&&n.op===r.op&&n.field.isEqual(r.field)&&yo(n.value,r.value)):t instanceof rt?function(n,r){return r instanceof rt&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,o,s)=>i&&o8(o,r.filters[s]),!0)}(t,e):void ne();var n,r}function a8(t){return t instanceof Ae?function(e){return`${e.field.canonicalString()} ${e.op} ${Fl(e.value)}`}(t):t instanceof rt?function(e){return e.op.toString()+" {"+e.getFilters().map(a8).join(" ,")+"}"}(t):"Filter"}class DIe extends Ae{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class SIe extends Ae{constructor(e,n){super(e,"in",n),this.keys=c8(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class AIe extends Ae{constructor(e,n){super(e,"not-in",n),this.keys=c8(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function c8(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class xIe extends Ae{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ip(n)&&wp(n.arrayValue,this.value)}}class u8 extends Ae{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&wp(this.value.arrayValue,n)}}class NIe extends Ae{constructor(e,n){super(e,"not-in",n)}matches(e){if(wp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!wp(this.value.arrayValue,n)}}class OIe extends Ae{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ip(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>wp(this.value.arrayValue,r))}}class MIe{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function WO(t,e=null,n=[],r=[],i=null,o=null,s=null){return new MIe(t,e,n,r,i,o,s)}function Tc(t){const e=Z(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>qO(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),yp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Fl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Fl(r)).join(",")),e.dt=n}return e.dt}function Ep(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!CIe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!o8(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!n8(t.startAt,e.startAt)&&n8(t.endAt,e.endAt)}function zv(t){return J.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class as{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.wt=null,this._t=null}}function Bl(t){return new as(t)}function f8(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function KO(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Wv(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function YO(t){return null!==t.collectionGroup}function Ec(t){const e=Z(t);if(null===e.wt){e.wt=[];const n=Wv(e),r=KO(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Ll(n)),e.wt.push(new Ll(Qt.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ll(Qt.keyField(),o))}}}return e.wt}function gr(t){const e=Z(t);if(!e._t)if("F"===e.limitType)e._t=WO(e.path,e.collectionGroup,Ec(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of Ec(e))n.push(new Ll(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new ra(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ra(e.startAt.position,e.startAt.inclusive):null;e._t=WO(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function QO(t,e){e.getFirstInequalityField(),Wv(t);const n=t.filters.concat([e]);return new as(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kv(t,e,n){return new as(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cp(t,e){return Ep(gr(t),gr(e))&&t.limitType===e.limitType}function p8(t){return`${Tc(gr(t))}|lt:${t.limitType}`}function JO(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>a8(r)).join(", ")}]`),yp(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Fl(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Fl(r)).join(",")),`Target(${n})`}(gr(t))}; limitType=${t.limitType})`}function Dp(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):J.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Ec(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,o,s){const a=t8(i,o,s);return i.inclusive?a<=0:a<0}(n.startAt,Ec(n),r)||n.endAt&&!function(i,o,s){const a=t8(i,o,s);return i.inclusive?a>=0:a>0}(n.endAt,Ec(n),r)));var n,r}function m8(t){return(e,n)=>{let r=!1;for(const i of Ec(t)){const o=RIe(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function RIe(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(i,o,s){const a=o.data.field(i),c=s.data.field(i);return null!==a&&null!==c?na(a,c):ne()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}class cs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zs(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return z7(this.inner)}size(){return this.innerSize}}const kIe=new dt(J.comparator);function kr(){return kIe}const _8=new dt(J.comparator);function Sp(...t){let e=_8;for(const n of t)e=e.insert(n.key,n);return e}function y8(t){let e=_8;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function vo(){return Ap()}function v8(){return Ap()}function Ap(){return new cs(t=>t.toString(),(t,e)=>t.isEqual(e))}const PIe=new dt(J.comparator),FIe=new _t(J.comparator);function be(...t){let e=FIe;for(const n of t)e=e.add(n);return e}const LIe=new _t(he);function b8(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vp(e)?"-0":e}}function w8(t){return{integerValue:""+t}}function I8(t,e){return function L7(t){return"number"==typeof t&&Number.isInteger(t)&&!vp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?w8(e):b8(t,e)}class Yv{constructor(){this._=void 0}}function VIe(t,e,n){return t instanceof Ul?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Uv(i)&&(i=jv(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Cc?E8(t,e):t instanceof Dc?C8(t,e):function(r,i){const o=T8(r,i),s=D8(o)+D8(r.gt);return HO(o)&&HO(r.gt)?w8(s):b8(r.serializer,s)}(t,e)}function BIe(t,e,n){return t instanceof Cc?E8(t,e):t instanceof Dc?C8(t,e):n}function T8(t,e){return t instanceof jl?HO(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Ul extends Yv{}class Cc extends Yv{constructor(e){super(),this.elements=e}}function E8(t,e){const n=S8(e);for(const r of t.elements)n.some(i=>yo(i,r))||n.push(r);return{arrayValue:{values:n}}}class Dc extends Yv{constructor(e){super(),this.elements=e}}function C8(t,e){let n=S8(e);for(const r of t.elements)n=n.filter(i=>!yo(i,r));return{arrayValue:{values:n}}}class jl extends Yv{constructor(e,n){super(),this.serializer=e,this.gt=n}}function D8(t){return Vt(t.integerValue||t.doubleValue)}function S8(t){return Ip(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class xp{constructor(e,n){this.field=e,this.transform=n}}class jIe{constructor(e,n){this.version=e,this.transformResults=n}}class Et{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Et}static exists(e){return new Et(void 0,e)}static updateTime(e){return new Et(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qv(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Jv{}function A8(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Hl(t.key,Et.none()):new $l(t.key,t.data,Et.none());{const n=t.data,r=Hn.empty();let i=new _t(Qt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new us(t.key,r,new Rr(i.toArray()),Et.none())}}function $Ie(t,e,n){t instanceof $l?function(r,i,o){const s=r.value.clone(),a=O8(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof us?function(r,i,o){if(!Qv(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=O8(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(N8(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Np(t,e,n,r){return t instanceof $l?function(i,o,s,a){if(!Qv(i.precondition,o))return s;const c=i.value.clone(),u=M8(i.fieldTransforms,a,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof us?function(i,o,s,a){if(!Qv(i.precondition,o))return s;const c=M8(i.fieldTransforms,a,o),u=o.data;return u.setAll(N8(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null===s?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(s=n,Qv(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function HIe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=T8(r.transform,i||null);null!=o&&(null===n&&(n=Hn.empty()),n.set(r.field,o))}return n||null}function x8(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&kl(n,r,(i,o)=>function UIe(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Cc&&r instanceof Cc||n instanceof Dc&&r instanceof Dc?kl(n.elements,r.elements,yo):n instanceof jl&&r instanceof jl?yo(n.gt,r.gt):n instanceof Ul&&r instanceof Ul);var n,r}(i,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class $l extends Jv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class us extends Jv{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function N8(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function O8(t,e,n){const r=new Map;oe(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,BIe(s,a,n[i]))}return r}function M8(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,VIe(o,s,e))}return r}class Hl extends Jv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XO extends Jv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class eM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&$Ie(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Np(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Np(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=v8();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const c=A8(s,a);null!==c&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&kl(this.mutations,e.mutations,(n,r)=>x8(n,r))&&kl(this.baseMutations,e.baseMutations,(n,r)=>x8(n,r))}}class tM{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){oe(e.mutations.length===r.length);let i=PIe;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new tM(e,n,r,i)}}class nM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class zIe{constructor(e,n){this.count=e,this.unchangedNames=n}}var on,Pe;function k8(t){if(void 0===t)return Yt("GRPC error has no .code"),x.UNKNOWN;switch(t){case on.OK:return x.OK;case on.CANCELLED:return x.CANCELLED;case on.UNKNOWN:return x.UNKNOWN;case on.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case on.INTERNAL:return x.INTERNAL;case on.UNAVAILABLE:return x.UNAVAILABLE;case on.UNAUTHENTICATED:return x.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case on.NOT_FOUND:return x.NOT_FOUND;case on.ALREADY_EXISTS:return x.ALREADY_EXISTS;case on.PERMISSION_DENIED:return x.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case on.ABORTED:return x.ABORTED;case on.OUT_OF_RANGE:return x.OUT_OF_RANGE;case on.UNIMPLEMENTED:return x.UNIMPLEMENTED;case on.DATA_LOSS:return x.DATA_LOSS;default:return ne()}}(Pe=on||(on={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";class rM{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Zv}static getOrCreateInstance(){return null===Zv&&(Zv=new rM),Zv}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Zv=null;const qIe=new Ml([4294967295,4294967295],0);function F8(t){const e=function P8(){return new TextEncoder}().encode(t),n=new jwe;return n.update(e),new Uint8Array(n.digest())}function L8(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ml([n,r],0),new Ml([i,o],0)]}class iM{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Op(`Invalid padding: ${n}`);if(r<0)throw new Op(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Op(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Op(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Ml.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Ml.fromNumber(r)));return 1===i.compare(qIe)&&(i=new Ml([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=F8(e),[r,i]=L8(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);if(!this.At(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new iM(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.It)return;const n=F8(e),[r,i]=L8(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);this.Rt(s)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Op extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Rp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Mp(se.min(),i,new dt(he),kr(),be())}}class Rp{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Rp(r,n,be(),be(),be())}}class Xv{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class V8{constructor(e,n){this.targetId=e,this.Vt=n}}class B8{constructor(e,n,r=pn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class U8{constructor(){this.St=0,this.Dt=$8(),this.Ct=pn.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=be(),n=be(),r=be();return this.Dt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ne()}}),new Rp(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=$8()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class WIe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=kr(),this.zt=j8(),this.Wt=new dt(he)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,o=this.se(r);if(o){const s=o.target;if(zv(s))if(0===i){const a=new J(s.path);this.Yt(r,a,yt.newNoDocument(a,se.min()))}else oe(1===i);else{const a=this.ie(r);if(a!==i){const c=this.re(e,a);0!==c&&(this.ee(r),this.Wt=this.Wt.insert(r,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=rM.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(u,l,d){var h,f,g,y,v,T;const w={localCacheCount:l,existenceFilterCount:d.count},O=d.unchangedNames;return O&&(w.bloomFilter={applied:0===u,hashCount:null!==(h=O?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(y=null===(g=null===(f=O?.bits)||void 0===f?void 0:f.bitmap)||void 0===g?void 0:g.length)&&void 0!==y?y:0,padding:null!==(T=null===(v=O?.bits)||void 0===v?void 0:v.padding)&&void 0!==T?T:0}),w}(c,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=r;let c,u;try{c=ss(o).toUint8Array()}catch(l){if(l instanceof W7)return Vi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{u=new iM(c,s,a)}catch(l){return Vi(l instanceof Op?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===u.It?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;n.vt(a)||(this.Yt(e,o,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&zv(a.target)){const c=new J(a.target.path);null!==this.jt.get(c)||this.ae(s,c)||this.Yt(s,c,yt.newNoDocument(c,e))}o.Mt&&(n.set(s,o.Ot()),o.Ft())}});let r=be();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const u=this.se(c);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const i=new Mp(e,n,this.Wt,this.jt,r);return this.jt=kr(),this.zt=j8(),this.Wt=new dt(he),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new U8,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new _t(he),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||j("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new U8),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function j8(){return new dt(J.comparator)}function $8(){return new dt(J.comparator)}const KIe={asc:"ASCENDING",desc:"DESCENDING"},YIe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QIe={and:"AND",or:"OR"};class JIe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function oM(t,e){return t.useProto3Json||yp(e)?e:{value:e}}function Gl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function H8(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ZIe(t,e){return Gl(t,e.toTimestamp())}function Jt(t){return oe(!!t),se.fromTimestamp(function(e){const n=Xs(e);return new Mt(n.seconds,n.nanos)}(t))}function sM(t,e){return(n=t,new ke(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function G8(t){const e=ke.fromString(t);return oe(X8(e)),e}function kp(t,e){return sM(t.databaseId,e.path)}function bo(t,e){const n=G8(e);if(n.get(1)!==t.databaseId.projectId)throw new B(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(q8(n))}function aM(t,e){return sM(t.databaseId,e)}function Pp(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function q8(t){return oe(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function W8(t,e,n){return{name:kp(t,e),fields:n.value.mapValue.fields}}function Y8(t,e){return{documents:[aM(t,e.path)]}}function uM(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=aM(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=aM(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return Z8(rt.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(0!==c.length)return c.map(u=>{return{field:ia((l=u).field),direction:rTe(l.dir)};var l})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=oM(t,e.limit);var a,c;return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),n}function Q8(t){let e=function z8(t){const e=G8(t);return 4===e.length?ke.emptyPath():q8(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){oe(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=function(l){const d=J8(l);return d instanceof rt&&zO(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(l=>{return new Ll(zl((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,yp(d)?null:d}(n.limit));let c=null;var l;n.startAt&&(c=new ra((l=n.startAt).values||[],!!l.before));let u=null;return n.endAt&&(u=function(l){return new ra(l.values||[],!l.before)}(n.endAt)),function h8(t,e,n,r,i,o,s,a){return new as(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",c,u)}function J8(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=zl(e.unaryFilter.field);return Ae.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=zl(e.unaryFilter.field);return Ae.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=zl(e.unaryFilter.field);return Ae.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=zl(e.unaryFilter.field);return Ae.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(t):void 0!==t.fieldFilter?function(e){return Ae.create(zl(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return rt.create(e.compositeFilter.filters.map(n=>J8(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ne()}}(e.compositeFilter.op))}(t):ne()}function rTe(t){return KIe[t]}function iTe(t){return YIe[t]}function oTe(t){return QIe[t]}function ia(t){return{fieldPath:t.canonicalString()}}function zl(t){return Qt.fromServerFormat(t.fieldPath)}function Z8(t){return t instanceof Ae?function(e){if("=="===e.op){if(Q7(e.value))return{unaryFilter:{field:ia(e.field),op:"IS_NAN"}};if(Y7(e.value))return{unaryFilter:{field:ia(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Q7(e.value))return{unaryFilter:{field:ia(e.field),op:"IS_NOT_NAN"}};if(Y7(e.value))return{unaryFilter:{field:ia(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ia(e.field),op:iTe(e.op),value:e.value}}}(t):t instanceof rt?function(e){const n=e.getFilters().map(r=>Z8(r));return 1===n.length?n[0]:{compositeFilter:{op:oTe(e.op),filters:n}}}(t):ne()}function sTe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function X8(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class ls{constructor(e,n,r,i,o=se.min(),s=se.min(),a=pn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ez{constructor(e){this.fe=e}}function lM(t){const e=Q8({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Kv(e,e.limit,"L"):e}class Nc{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Vt(e.integerValue));else if("doubleValue"in e){const r=Vt(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),vp(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(ss(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?J7(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):ne()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),J.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Nc.Ve=new Nc;class gTe{constructor(){this.rn=new mM}addToCollectionParentIndex(e,n){return this.rn.add(n),A.resolve()}getCollectionParents(e,n){return A.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return A.resolve()}deleteFieldIndex(e,n){return A.resolve()}getDocumentsMatchingTarget(e,n){return A.resolve(null)}getIndexType(e,n){return A.resolve(0)}getFieldIndexes(e,n){return A.resolve([])}getNextCollectionGroupToUpdate(e){return A.resolve(null)}getMinOffset(e,n){return A.resolve(Xr.min())}getMinOffsetFromCollectionGroup(e,n){return A.resolve(Xr.min())}updateCollectionGroup(e,n,r){return A.resolve()}updateIndexEntries(e,n){return A.resolve()}}class mM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new _t(ke.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _t(ke.comparator)).toArray()}}new Uint8Array(0);class tr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new tr(e,tr.DEFAULT_COLLECTION_PERCENTILE,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}tr.DEFAULT_COLLECTION_PERCENTILE=10,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tr.DEFAULT=new tr(41943040,tr.DEFAULT_COLLECTION_PERCENTILE,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tr.DISABLED=new tr(-1,0,0);class Mc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Mc(0)}static Mn(){return new Mc(-1)}}class wTe{constructor(){this.changes=new cs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?A.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ETe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Dz{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Np(r.mutation,i,Rr.empty(),Mt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){const i=vo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Sp();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=vo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=kr();const s=Ap(),a=Ap();return n.forEach((c,u)=>{const l=r.get(u.key);i.has(u.key)&&(void 0===l||l.mutation instanceof us)?o=o.insert(u.key,u):void 0!==l?(s.set(u.key,l.mutation.getFieldMask()),Np(l.mutation,u,l.mutation.getFieldMask(),Mt.now())):s.set(u.key,Rr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,l)=>s.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new ETe(l,null!==(d=s.get(u))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ap();let i=new dt((s,a)=>s-a),o=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(c=>{const u=n.get(c);if(null===u)return;let l=r.get(c)||Rr.empty();l=a.applyToLocalView(u,l),r.set(c,l);const d=(i.get(a.batchId)||be()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,l=c.value,d=v8();l.forEach(h=>{if(!o.has(h)){const f=A8(n.get(h),r.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return A.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return J.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):YO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):A.resolve(vo());let a=-1,c=o;return s.next(u=>A.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?A.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,be())).next(l=>({batchId:a,changes:y8(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=Sp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=Sp();return this.indexManager.getCollectionParents(e,i).next(s=>A.forEach(s,a=>{const c=(u=n,l=a.child(i),new as(l,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt));var u,l;return this.getDocumentsMatchingCollectionQuery(e,c,r).next(u=>{u.forEach((l,d)=>{o=o.insert(l,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(o=>{i.forEach((a,c)=>{const u=c.getKey();null===o.get(u)&&(o=o.insert(u,yt.newInvalidDocument(u)))});let s=Sp();return o.forEach((a,c)=>{const u=i.get(a);void 0!==u&&Np(u.mutation,c,Rr.empty(),Mt.now()),Dp(n,c)&&(s=s.insert(a,c))}),s})}}class CTe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return A.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Jt(r.createTime)}),A.resolve()}getNamedQuery(e,n){return A.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:lM(r.bundledQuery),readTime:Jt(r.readTime)}),A.resolve();var r}}class DTe{constructor(){this.overlays=new dt(J.comparator),this.ls=new Map}getOverlay(e,n){return A.resolve(this.overlays.get(n))}getOverlays(e,n){const r=vo();return A.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.we(e,n,o)}),A.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),A.resolve()}getOverlaysForCollection(e,n,r){const i=vo(),o=n.length+1,s=new J(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return A.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new dt((u,l)=>u-l);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=o.get(u.largestBatchId);null===l&&(l=vo(),o=o.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}const a=vo(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return A.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new nM(n,r));let o=this.ls.get(n);void 0===o&&(o=be(),this.ls.set(n,o)),this.ls.set(n,o.add(r.key))}}class _M{constructor(){this.fs=new _t(xn.ds),this.ws=new _t(xn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new xn(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new xn(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new J(new ke([])),r=new xn(n,e),i=new xn(n,e+1),o=[];return this.ws.forEachInRange([r,i],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new J(new ke([])),r=new xn(n,e),i=new xn(n,e+1);let o=be();return this.ws.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new xn(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class xn{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return J.comparator(e.key,n.key)||he(e.As,n.As)}static _s(e,n){return he(e.As,n.As)||J.comparator(e.key,n.key)}}class STe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new _t(xn.ds)}checkEmpty(e){return A.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.vs;this.vs++;const s=new eM(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Rs=this.Rs.add(new xn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return A.resolve(s)}lookupMutationBatch(e,n){return A.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),o=i<0?0:i;return A.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return A.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return A.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new xn(n,0),i=new xn(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],s=>{const a=this.Ps(s.As);o.push(a)}),A.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _t(he);return n.forEach(i=>{const o=new xn(i,0),s=new xn(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{r=r.add(a.As)})}),A.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;J.isDocumentKey(o)||(o=o.child(""));const s=new xn(new J(o),0);let a=new _t(he);return this.Rs.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.As)),!0)},s),A.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){oe(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return A.forEach(n.mutations,i=>{const o=new xn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new xn(n,0),i=this.Rs.firstAfterOrEqual(r);return A.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return A.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class ATe{constructor(e){this.Ds=e,this.docs=new dt(J.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return A.resolve(r?r.document.mutableCopy():yt.newInvalidDocument(n))}getEntries(e,n){let r=kr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():yt.newInvalidDocument(i))}),A.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=kr();const s=n.path,a=new J(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:l}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||VO(k7(l),r)<=0||(i.has(l.key)||Dp(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return A.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ne()}Cs(e,n){return A.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xTe(this)}getSize(e){return A.resolve(this.size)}}class xTe extends wTe{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),A.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class NTe{constructor(e){this.persistence=e,this.xs=new cs(n=>Tc(n),Ep),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Ns=0,this.ks=new _M,this.targetCount=0,this.Ms=Mc.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),A.resolve()}getLastRemoteSnapshotVersion(e){return A.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return A.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),A.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),A.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Mc(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,A.resolve()}updateTargetData(e,n){return this.Fn(n),A.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,A.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),A.waitFor(o).next(()=>i)}getTargetCount(e){return A.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return A.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),A.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),A.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),A.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return A.resolve(r)}containsKey(e,n){return A.resolve(this.ks.containsKey(n))}}class yM{constructor(e,n){this.$s={},this.overlays={},this.Os=new ei(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new NTe(this),this.indexManager=new gTe,this.remoteDocumentCache=new ATe(r=>this.referenceDelegate.Ls(r)),this.serializer=new ez(n),this.qs=new CTe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DTe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new STe(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);const i=new OTe(this.Os.next());return this.referenceDelegate.Us(),r(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(e,n){return A.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class OTe extends Zwe{constructor(e){super(),this.currentSequenceNumber=e}}class u0{constructor(e){this.persistence=e,this.Qs=new _M,this.js=null}static zs(e){return new u0(e)}get Ws(){if(this.js)return this.js;throw ne()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),A.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),A.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),A.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return A.forEach(this.Ws,r=>{const i=J.fromPath(r);return this.Hs(e,i).next(o=>{o||n.removeEntry(i,se.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return A.or([()=>A.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class IM{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=be(),i=be();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new IM(e,n.fromCache,r,i)}}class Az{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(o=>o||this.Gi(e,n,i,r)).next(o=>o||this.Qi(e,n))}Ki(e,n){if(f8(n))return A.resolve(null);let r=gr(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Kv(n,null,"F"),r=gr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=be(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ji(n,a);return this.zi(n,u,s,c.readTime)?this.Ki(e,Kv(n,null,"F")):this.Wi(e,u,n,c)}))})))}Gi(e,n,r,i){return f8(n)||i.isEqual(se.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(o=>{const s=this.ji(n,o);return this.zi(n,s,r,i)?this.Qi(e,n):(PO()<=Ne.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),JO(n)),this.Wi(e,s,n,function R7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=se.fromTimestamp(1e9===r?new Mt(n+1,0):new Mt(n,r));return new Xr(i,J.empty(),e)}(i,-1)))})}ji(e,n){let r=new _t(m8(e));return n.forEach((i,o)=>{Dp(e,o)&&(r=r.add(o))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(e,n){return PO()<=Ne.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",JO(n)),this.Ui.getDocumentsMatchingQuery(e,n,Xr.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class RTe{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new dt(he),this.Yi=new cs(o=>Tc(o),Ep),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dz(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function Nz(t,e){return TM.apply(this,arguments)}function TM(){return TM=p(function*(t,e){const n=Z(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let c=be();for(const u of i){s.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}for(const u of o){a.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({er:u,removedBatchIds:s,addedBatchIds:a}))})})}),TM.apply(this,arguments)}function Oz(t){const e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function FTe(t,e){const n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Yl(t,e,n){return EM.apply(this,arguments)}function EM(){return EM=p(function*(t,e,n){const r=Z(t),i=r.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Js(s))throw s;j("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),EM.apply(this,arguments)}function h0(t,e,n){const r=Z(t);let i=se.min(),o=be();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,c,u){const l=Z(a),d=l.Yi.get(u);return void 0!==d?A.resolve(l.Ji.get(d)):l.Bs.getTargetData(c,u)}(r,s,gr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,e,n?i:se.min(),n?o:be())).next(a=>(function Pz(t,e,n){let r=t.Xi.get(e)||se.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Xi.set(e,r)}(r,function g8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:o})))}class xM{constructor(){this.activeTargetIds=function ZO(){return LIe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Vz{constructor(){this.Hr=new xM,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new xM,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class BTe{Yr(e){}shutdown(){}}class Bz{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let g0=null;function OM(){return null===g0?g0=268435456+Math.round(2147483648*Math.random()):g0++,"0x"+g0.toString(16)}const UTe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jTe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const nr="WebChannelConnection";class $Te extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,o){const s=OM(),a=this.To(e,n);j("RestConnection",`Sending RPC '${e}' ${s}:`,a,r);const c={};return this.Eo(c,i,o),this.Ao(e,a,c,r).then(u=>(j("RestConnection",`Received RPC '${e}' ${s}: `,u),u),u=>{throw Vi("RestConnection",`RPC '${e}' ${s} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,o,s){return this.Io(e,n,r,i,o)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Rl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}To(e,n){return`${this.mo}/v1/${n}:${UTe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const o=OM();return new Promise((s,a)=>{const c=new Uwe;c.setWithCredentials(!0),c.listenOnce(Lwe.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case kO.NO_ERROR:const l=c.getResponseJson();j(nr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case kO.TIMEOUT:j(nr,`RPC '${e}' ${o} timed out`),a(new B(x.DEADLINE_EXCEEDED,"Request time out"));break;case kO.HTTP_ERROR:const d=c.getStatus();if(j(nr,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const g=function(y){const v=y.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(v)>=0?v:x.UNKNOWN}(f.status);a(new B(g,f.message))}else a(new B(x.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new B(x.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{j(nr,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);j(nr,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=OM(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Pwe(),a=Fwe(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new Bwe({})),this.Eo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const l=o.join("");j(nr,`Creating RPC '${e}' stream ${i}: ${l}`,c);const d=s.createWebChannel(l,c);let h=!1,f=!1;const g=new jTe({ro:v=>{f?j(nr,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(j(nr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),j(nr,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},oo:()=>d.close()}),y=(v,T,w)=>{v.listen(T,O=>{try{w(O)}catch(P){setTimeout(()=>{throw P},0)}})};return y(d,kv.EventType.OPEN,()=>{f||j(nr,`RPC '${e}' stream ${i} transport opened.`)}),y(d,kv.EventType.CLOSE,()=>{f||(f=!0,j(nr,`RPC '${e}' stream ${i} transport closed`),g.wo())}),y(d,kv.EventType.ERROR,v=>{f||(f=!0,Vi(nr,`RPC '${e}' stream ${i} transport errored:`,v),g.wo(new B(x.UNAVAILABLE,"The operation could not be completed")))}),y(d,kv.EventType.MESSAGE,v=>{var T;if(!f){const w=v.data[0];oe(!!w);const P=w.error||(null===(T=w[0])||void 0===T?void 0:T.error);if(P){j(nr,`RPC '${e}' stream ${i} received error:`,P);const $=P.status;let Y=function(me){const Be=on[me];if(void 0!==Be)return k8(Be)}($),ae=P.message;void 0===Y&&(Y=x.INTERNAL,ae="Unknown error status: "+$+" with message "+P.message),f=!0,g.wo(new B(Y,ae)),d.close()}else j(nr,`RPC '${e}' stream ${i} received:`,w),g._o(w)}}),y(a,Vwe.STAT_EVENT,v=>{v.stat===S7.PROXY?j(nr,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===S7.NOPROXY&&j(nr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.fo()},0),g}}function m0(){return typeof document<"u"?document:null}function zp(t){return new JIe(t,!0)}class MM{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class jz{constructor(e,n,r,i,o,s,a,c){this.ii=e,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new MM(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return p(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return p(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return p(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(Yt(n.toString()),Yt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===x.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new B(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(p(function*(){e.state=0,e.start()}))}tu(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HTe extends jz{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function eTe(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:ne(),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(oe(void 0===u||"string"==typeof u),pn.fromBase64String(u||"")):(oe(void 0===u||u instanceof Uint8Array),pn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=void 0===c.code?x.UNKNOWN:k8(c.code);return new B(u,c.message||"")}(s);n=new B8(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=bo(t,r.document.name),o=Jt(r.document.updateTime),s=r.document.createTime?Jt(r.document.createTime):se.min(),a=new Hn({mapValue:{fields:r.document.fields}}),c=yt.newFoundDocument(i,o,s,a);n=new Xv(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=bo(t,r.document),o=r.readTime?Jt(r.readTime):se.min(),s=yt.newNoDocument(i,o);n=new Xv([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=bo(t,r.document);n=new Xv([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ne();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new zIe(i,o);n=new V8(r.targetId,s)}}var c;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return se.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?se.min():o.readTime?Jt(o.readTime):se.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Pp(this.serializer),n.addTarget=function(i,o){let s;const a=o.target;if(s=zv(a)?{documents:Y8(i,a)}:{query:uM(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=H8(i,o.resumeToken);const c=oM(i,o.expectedCount);null!==c&&(s.expectedCount=c)}else if(o.snapshotVersion.compareTo(se.min())>0){s.readTime=Gl(i,o.snapshotVersion.toTimestamp());const c=oM(i,o.expectedCount);null!==c&&(s.expectedCount=c)}return s}(this.serializer,e);const r=function nTe(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Pp(this.serializer),n.removeTarget=e,this.Wo(n)}}class GTe extends jz{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function tTe(t,e){return t&&t.length>0?(oe(void 0!==e),t.map(n=>function(r,i){let o=Jt(r.updateTime?r.updateTime:i);return o.isEqual(se.min())&&(o=Jt(i)),new jIe(o,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Jt(e.commitTime);return this.listener.cu(r,n)}return oe(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Pp(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Fp(t,e){let n;if(e instanceof $l)n={update:W8(t,e.key,e.value)};else if(e instanceof Hl)n={delete:kp(t,e.key)};else if(e instanceof us)n={update:W8(t,e.key,e.data),updateMask:sTe(e.fieldMask)};else{if(!(e instanceof XO))return ne();n={verify:kp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof Ul)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Cc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Dc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof jl)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw ne()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:ZIe(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ne()),n;var i}(this.serializer,r))};this.Wo(n)}}class zTe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new B(x.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(e,n,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new B(x.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,n,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(x.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class WTe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Yt(n),this.mu=!1):j("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class KTe{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(a=>{r.enqueueAndForget(p(function*(){var c;ca(s)&&(j("RemoteStore","Restarting streams for network reachability change."),yield(c=p(function*(u){const l=Z(u);l.vu.add(4),yield Ql(l),l.bu.set("Unknown"),l.vu.delete(4),yield qp(l)}),function(u){return c.apply(this,arguments)})(s))}))}),this.bu=new WTe(r,i)}}function qp(t){return kM.apply(this,arguments)}function kM(){return kM=p(function*(t){if(ca(t))for(const e of t.Ru)yield e(!0)}),kM.apply(this,arguments)}function Ql(t){return PM.apply(this,arguments)}function PM(){return PM=p(function*(t){for(const e of t.Ru)yield e(!1)}),PM.apply(this,arguments)}function _0(t,e){const n=Z(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),VM(n)?LM(n):Zl(n).Ko()&&FM(n,e))}function Wp(t,e){const n=Z(t),r=Zl(n);n.Au.delete(e),r.Ko()&&$z(n,e),0===n.Au.size&&(r.Ko()?r.jo():ca(n)&&n.bu.set("Unknown"))}function FM(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zl(t).su(e)}function $z(t,e){t.Vu.qt(e),Zl(t).iu(e)}function LM(t){t.Vu=new WIe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Zl(t).start(),t.bu.gu()}function VM(t){return ca(t)&&!Zl(t).Uo()&&t.Au.size>0}function ca(t){return 0===Z(t).vu.size}function Hz(t){t.Vu=void 0}function YTe(t){return BM.apply(this,arguments)}function BM(){return BM=p(function*(t){t.Au.forEach((e,n)=>{FM(t,e)})}),BM.apply(this,arguments)}function QTe(t,e){return UM.apply(this,arguments)}function UM(){return UM=p(function*(t,e){Hz(t),VM(t)?(t.bu.Iu(e),LM(t)):t.bu.set("Unknown")}),UM.apply(this,arguments)}function JTe(t,e,n){return jM.apply(this,arguments)}function jM(){return jM=p(function*(t,e,n){if(t.bu.set("Online"),e instanceof B8&&2===e.state&&e.cause)try{yield(r=p(function*(i,o){const s=o.cause;for(const a of o.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,o){return r.apply(this,arguments)})(t,e)}catch(r){j("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield y0(t,r)}else if(e instanceof Xv?t.Vu.Ht(e):e instanceof V8?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(se.min()))try{const r=yield Oz(t.localStore);n.compareTo(r)>=0&&(yield function(i,o){const s=i.Vu.ce(o);return s.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(c);u&&i.Au.set(c,u.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,c)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(pn.EMPTY_BYTE_STRING,u.snapshotVersion)),$z(i,a);const l=new ls(u.target,a,c,u.sequenceNumber);FM(i,l)}),i.remoteSyncer.applyRemoteEvent(s)}(t,n))}catch(r){j("RemoteStore","Failed to raise snapshot:",r),yield y0(t,r)}var r}),jM.apply(this,arguments)}function y0(t,e,n){return $M.apply(this,arguments)}function $M(){return $M=p(function*(t,e,n){if(!Js(e))throw e;t.vu.add(1),yield Ql(t),t.bu.set("Offline"),n||(n=()=>Oz(t.localStore)),t.asyncQueue.enqueueRetryable(p(function*(){j("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield qp(t)}))}),$M.apply(this,arguments)}function Gz(t,e){return e().catch(n=>y0(t,n,e))}function Jl(t){return HM.apply(this,arguments)}function HM(){return HM=p(function*(t){const e=Z(t),n=ua(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;ZTe(e);)try{const i=yield FTe(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,XTe(e,i)}catch(i){yield y0(e,i)}zz(e)&&qz(e)}),HM.apply(this,arguments)}function ZTe(t){return ca(t)&&t.Eu.length<10}function XTe(t,e){t.Eu.push(e);const n=ua(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function zz(t){return ca(t)&&!ua(t).Uo()&&t.Eu.length>0}function qz(t){ua(t).start()}function eEe(t){return GM.apply(this,arguments)}function GM(){return GM=p(function*(t){ua(t).hu()}),GM.apply(this,arguments)}function tEe(t){return zM.apply(this,arguments)}function zM(){return zM=p(function*(t){const e=ua(t);for(const n of t.Eu)e.uu(n.mutations)}),zM.apply(this,arguments)}function nEe(t,e,n){return qM.apply(this,arguments)}function qM(){return qM=p(function*(t,e,n){const r=t.Eu.shift(),i=tM.from(r,e,n);yield Gz(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Jl(t)}),qM.apply(this,arguments)}function rEe(t,e){return WM.apply(this,arguments)}function WM(){return WM=p(function*(t,e){var n;e&&ua(t).ou&&(yield(n=p(function*(r,i){if(function R8(t){switch(t){default:return ne();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}(o=i.code)&&o!==x.ABORTED){const s=r.Eu.shift();ua(r).Qo(),yield Gz(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Jl(r)}var o}),function(r,i){return n.apply(this,arguments)})(t,e)),zz(t)&&qz(t)}),WM.apply(this,arguments)}function Wz(t,e){return KM.apply(this,arguments)}function KM(){return KM=p(function*(t,e){const n=Z(t);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");const r=ca(n);n.vu.add(3),yield Ql(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield qp(n)}),KM.apply(this,arguments)}function QM(){return QM=p(function*(t,e){const n=Z(t);e?(n.vu.delete(2),yield qp(n)):e||(n.vu.add(2),yield Ql(n),n.bu.set("Unknown"))}),QM.apply(this,arguments)}function Zl(t){return t.Su||(t.Su=function(e,n,r){const i=Z(e);return i.fu(),new HTe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:YTe.bind(null,t),ao:QTe.bind(null,t),nu:JTe.bind(null,t)}),t.Ru.push(function(){var e=p(function*(n){n?(t.Su.Qo(),VM(t)?LM(t):t.bu.set("Unknown")):(yield t.Su.stop(),Hz(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function ua(t){return t.Du||(t.Du=function(e,n,r){const i=Z(e);return i.fu(),new GTe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:eEe.bind(null,t),ao:rEe.bind(null,t),au:tEe.bind(null,t),cu:nEe.bind(null,t)}),t.Ru.push(function(){var e=p(function*(n){n?(t.Du.Qo(),yield Jl(t)):(yield t.Du.stop(),t.Eu.length>0&&(j("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class JM{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new fn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new JM(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new B(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xl(t,e){if(Yt("AsyncQueue",`${e}: ${t}`),Js(t))return new B(x.UNAVAILABLE,`${e}: ${t}`);throw t}class ed{constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=Sp(),this.sortedSet=new dt(this.comparator)}static emptySet(e){return new ed(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ed)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new ed;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Kz{constructor(){this.Cu=new dt(J.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):ne():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class td{constructor(e,n,r,i,o,s,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new td(e,n,ed.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class iEe{constructor(){this.Nu=void 0,this.listeners=[]}}class oEe{constructor(){this.queries=new cs(e=>p8(e),Cp),this.onlineState="Unknown",this.ku=new Set}}function ZM(t,e){return XM.apply(this,arguments)}function XM(){return XM=p(function*(t,e){const n=Z(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new iEe),i)try{o.Nu=yield n.onListen(r)}catch(s){const a=Xl(s,`Initialization of query '${JO(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Mu(n.onlineState),o.Nu&&e.$u(o.Nu)&&nR(n)}),XM.apply(this,arguments)}function eR(t,e){return tR.apply(this,arguments)}function tR(){return tR=p(function*(t,e){const n=Z(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),tR.apply(this,arguments)}function sEe(t,e){const n=Z(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.listeners)a.$u(i)&&(r=!0);s.Nu=i}}r&&nR(n)}function aEe(t,e,n){const r=Z(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function nR(t){t.ku.forEach(e=>{e.next()})}class rR{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new td(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=td.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Jz{constructor(e){this.key=e}}class Zz{constructor(e){this.key=e}}class Xz{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=be(),this.mutatedKeys=be(),this.tc=m8(e),this.ec=new ed(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Kz,i=n?n.ec:this.ec;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Dp(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),y=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;h&&f?h.data.isEqual(f.data)?g!==y&&(r.track({type:3,doc:f}),v=!0):this.rc(h,f)||(r.track({type:2,doc:f}),v=!0,(c&&this.tc(f,c)>0||u&&this.tc(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),v=!0):h&&!f&&(r.track({type:1,doc:h}),v=!0,(c||u)&&(a=!0)),v&&(f?(s=s.add(f),o=y?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const l="F"===this.query.limitType?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ec:s,ic:r,zi:a,mutatedKeys:o}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((u,l)=>function(d,h){const f=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return f(d)-f(h)}(u.type,l.type)||this.tc(u.doc,l.doc)),this.oc(r);const s=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,0!==o.length||c?{snapshot:new td(this.query,e.ec,i,o,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Kz,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=be(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new Zz(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new Jz(r))}),n}hc(e){this.Yu=e.ir,this.Zu=be();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return td.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class lEe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class dEe{constructor(e){this.key=e,this.fc=!1}}class hEe{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new cs(a=>p8(a),Cp),this._c=new Map,this.mc=new Set,this.gc=new dt(J.comparator),this.yc=new Map,this.Ic=new _M,this.Tc={},this.Ec=new Map,this.Ac=Mc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function fEe(t,e){return iR.apply(this,arguments)}function iR(){return iR=p(function*(t,e){const n=function SR(t){const e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=e9.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IEe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mEe.bind(null,e),e.dc.nu=sEe.bind(null,e.eventManager),e.dc.Pc=aEe.bind(null,e.eventManager),e}(t);let r,i;const o=n.wc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const s=yield function Kl(t,e){const n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(o=>o?(i=o,A.resolve(i)):n.Bs.allocateTargetId(r).next(s=>(i=new ls(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,gr(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield function oR(t,e,n,r,i){return sR.apply(this,arguments)}(n,e,r,"current"===a,s.resumeToken),n.isPrimaryClient&&_0(n.remoteStore,s)}return i}),iR.apply(this,arguments)}function sR(){return sR=p(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(g=p(function*(y,v,T,w){let O=v.view.sc(T);O.zi&&(O=yield h0(y.localStore,v.query,!1).then(({documents:Y})=>v.view.sc(Y,O)));const P=w&&w.targetChanges.get(v.targetId),$=v.view.applyChanges(O,y.isPrimaryClient,P);return mR(y,v.targetId,$.cc),$.snapshot}),function(y,v,T,w){return g.apply(this,arguments)})(t,d,h,f);var g};const o=yield h0(t.localStore,e,!0),s=new Xz(e,o.ir),a=s.sc(o.documents),c=Rp.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),u=s.applyChanges(a,t.isPrimaryClient,c);mR(t,n,u.cc);const l=new lEe(e,n,s);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}),sR.apply(this,arguments)}function pEe(t,e){return aR.apply(this,arguments)}function aR(){return aR=p(function*(t,e){const n=Z(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(o=>!Cp(o,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Yl(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Wp(n.remoteStore,r.targetId),nd(n,r.targetId)}).catch(Qs))):(nd(n,r.targetId),yield Yl(n.localStore,r.targetId,!0))}),aR.apply(this,arguments)}function cR(){return cR=p(function*(t,e,n){const r=function AR(t){const e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_Ee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yEe.bind(null,e),e}(t);try{const i=yield function(o,s){const a=Z(o),c=Mt.now(),u=s.reduce((h,f)=>h.add(f.key),be());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=kr(),g=be();return a.Zi.getEntries(h,u).next(y=>{f=y,f.forEach((v,T)=>{T.isValidDocument()||(g=g.add(v))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(y=>{l=y;const v=[];for(const T of s){const w=HIe(T,l.get(T.key).overlayedDocument);null!=w&&v.push(new us(T.key,w,e8(w.value.mapValue),Et.exists(!0)))}return a.mutationQueue.addMutationBatch(h,c,v,s)}).next(y=>{d=y;const v=y.applyToLocalDocumentSet(l,g);return a.documentOverlayCache.saveOverlays(h,y.batchId,v)})}).then(()=>({batchId:d.batchId,changes:y8(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let c=o.Tc[o.currentUser.toKey()];c||(c=new dt(he)),c=c.insert(s,a),o.Tc[o.currentUser.toKey()]=c}(r,i.batchId,n),yield ds(r,i.changes),yield Jl(r.remoteStore)}catch(i){const o=Xl(i,"Failed to persist write");n.reject(o)}}),cR.apply(this,arguments)}function e9(t,e){return uR.apply(this,arguments)}function uR(){return uR=p(function*(t,e){const n=Z(t);try{const r=yield function PTe(t,e){const n=Z(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(o,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(o,l.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var g,y,v;null!==e.targetMismatches.get(d)?f=f.withResumeToken(pn.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),y=f,v=l,(0===(g=h).resumeToken.approximateByteSize()||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(o,f))});let c=kr(),u=be();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(function Mz(t,e,n){let r=be(),i=be();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=kr();return n.forEach((a,c)=>{const u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(se.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||0===c.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):j("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{nr:s,sr:i}})}(o,s,e.documentUpdates).next(l=>{c=l.nr,u=l.sr})),!r.isEqual(se.min())){const l=n.Bs.getLastRemoteSnapshotVersion(o).next(d=>n.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return A.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.Ji=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.yc.get(o);s&&(oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.fc=!0:i.modifiedDocuments.size>0?oe(s.fc):i.removedDocuments.size>0&&(oe(s.fc),s.fc=!1))}),yield ds(n,r,e)}catch(r){yield Qs(r)}}),uR.apply(this,arguments)}function t9(t,e,n){const r=Z(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=Z(o);a.onlineState=s;let c=!1;a.queries.forEach((u,l)=>{for(const d of l.listeners)d.Mu(s)&&(c=!0)}),c&&nR(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function mEe(t,e,n){return lR.apply(this,arguments)}function lR(){return lR=p(function*(t,e,n){const r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),o=i&&i.key;if(o){let s=new dt(J.comparator);s=s.insert(o,yt.newNoDocument(o,se.min()));const a=be().add(o),c=new Mp(se.min(),new Map,new dt(he),s,a);yield e9(r,c),r.gc=r.gc.remove(o),r.yc.delete(e),_R(r)}else yield Yl(r.localStore,e,!1).then(()=>nd(r,e,n)).catch(Qs)}),lR.apply(this,arguments)}function _Ee(t,e){return dR.apply(this,arguments)}function dR(){return dR=p(function*(t,e){const n=Z(t),r=e.batch.batchId;try{const i=yield function kTe(t,e){const n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,c,u){const l=c.batch,d=l.keys();let h=A.resolve();return d.forEach(f=>{h=h.next(()=>u.getEntry(a,f)).next(g=>{const y=c.docVersions.get(f);oe(null!==y),g.version.compareTo(y)<0&&(l.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,l))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=be();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(a=a.add(s.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);gR(n,r,null),pR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ds(n,i)}catch(i){yield Qs(i)}}),dR.apply(this,arguments)}function yEe(t,e,n){return hR.apply(this,arguments)}function hR(){return hR=p(function*(t,e,n){const r=Z(t);try{const i=yield function(o,s){const a=Z(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return a.mutationQueue.lookupMutationBatch(c,s).next(l=>(oe(null!==l),u=l.keys(),a.mutationQueue.removeMutationBatch(c,l))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,u,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>a.localDocuments.getDocuments(c,u))})}(r.localStore,e);gR(r,e,n),pR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ds(r,i)}catch(i){yield Qs(i)}}),hR.apply(this,arguments)}function pR(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function gR(t,e,n){const r=Z(t);let i=r.Tc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function nd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||n9(t,r)})}function n9(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Wp(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),_R(t))}function mR(t,e,n){for(const r of n)r instanceof Jz?(t.Ic.addReference(r.key,e),bEe(t,r)):r instanceof Zz?(j("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||n9(t,r.key)):ne()}function bEe(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(j("SyncEngine","New document in limbo: "+n),t.mc.add(r),_R(t))}function _R(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new J(ke.fromString(e)),r=t.Ac.next();t.yc.set(r,new dEe(n)),t.gc=t.gc.insert(n,r),_0(t.remoteStore,new ls(gr(Bl(n.path)),r,"TargetPurposeLimboResolution",ei.ct))}}function ds(t,e,n){return yR.apply(this,arguments)}function yR(){return yR=p(function*(t,e,n){const r=Z(t),i=[],o=[],s=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,c)=>{s.push(r.Rc(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);const l=IM.Li(c.targetId,u);o.push(l)}}))}),yield Promise.all(s),r.dc.nu(i),yield(a=p(function*(c,u){const l=Z(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>A.forEach(u,h=>A.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>A.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Js(d))throw d;j("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),y=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,y)}}}),function(c,u){return a.apply(this,arguments)})(r.localStore,o))}),yR.apply(this,arguments)}function wEe(t,e){return vR.apply(this,arguments)}function vR(){return vR=p(function*(t,e){const n=Z(t);if(!n.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());const r=yield Nz(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(s=>{s.forEach(a=>{a.reject(new B(x.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ds(n,r.er)}var i}),vR.apply(this,arguments)}function IEe(t,e){const n=Z(t),r=n.yc.get(e);if(r&&r.fc)return be().add(r.key);{let i=be();const o=n._c.get(e);if(!o)return i;for(const s of o){const a=n.wc.get(s);i=i.unionWith(a.view.nc)}return i}}class v0{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return p(function*(){n.serializer=zp(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function xz(t,e,n,r){return new RTe(t,e,n,r)}(this.persistence,new Az,e.initialUser,this.serializer)}createPersistence(e){return new yM(u0.zs,this.serializer)}createSharedClientState(e){return new Vz}terminate(){var e=this;return p(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class rd{initialize(e,n){var r=this;return p(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>t9(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=wEe.bind(null,r.syncEngine),yield function YM(t,e){return QM.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new oEe}createDatastore(e){const n=zp(e.databaseInfo.databaseId),r=new $Te(e.databaseInfo);return new zTe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>t9(this.syncEngine,a,0),s=Bz.D()?new Bz:new BTe,new KTe(n,r,i,o,s);var n,r,i,o,s}createSyncEngine(e,n){return function(r,i,o,s,a,c,u){const l=new hEe(r,i,o,s,a,c);return u&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=p(function*(n){const r=Z(n);j("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Ql(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class b0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Yt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class PEe{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Sn.UNAUTHENTICATED,this.clientId=O7.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=p(function*(a){j("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(j("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return p(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new fn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(p(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Xl(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function w0(t,e){return xR.apply(this,arguments)}function xR(){return xR=p(function*(t,e){t.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=p(function*(o){r.isEqual(o)||(yield Nz(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),xR.apply(this,arguments)}function NR(t,e){return OR.apply(this,arguments)}function OR(){return OR=p(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function MR(t){return RR.apply(this,arguments)}(t);j("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>Wz(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>Wz(e.remoteStore,o)),t._onlineComponents=e}),OR.apply(this,arguments)}function RR(){return RR=p(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{yield w0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function c9(t){return"FirebaseError"===t.name?t.code===x.FAILED_PRECONDITION||t.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Vi("Error using user provided cache. Falling back to memory cache: "+n),yield w0(t,new v0)}}else j("FirestoreClient","Using default OfflineComponentProvider"),yield w0(t,new v0);return t._offlineComponents}),RR.apply(this,arguments)}function I0(t){return kR.apply(this,arguments)}function kR(){return kR=p(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),yield NR(t,t._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),yield NR(t,new rd))),t._onlineComponents}),kR.apply(this,arguments)}function id(t){return FR.apply(this,arguments)}function FR(){return FR=p(function*(t){const e=yield I0(t),n=e.eventManager;return n.onListen=fEe.bind(null,e.syncEngine),n.onUnlisten=pEe.bind(null,e.syncEngine),n}),FR.apply(this,arguments)}function p9(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const g9=new Map;function LR(t,e,n){if(!n)throw new B(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function m9(t){if(!J.isDocumentKey(t))throw new B(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _9(t){if(J.isDocumentKey(t))throw new B(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function E0(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":ne()}function Oe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=E0(t);throw new B(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class v9{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new B(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new B(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function GEe(t,e,n,r){if(!0===e&&!0===r)throw new B(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=p9(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new B(x.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new B(x.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new B(x.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v9({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new B(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new B(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v9(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new $we;switch(n.type){case"firstParty":return new qwe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new B(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=g9.get(e);n&&(j("ComponentProvider","Removing Datastore"),g9.delete(e),n.terminate())}(this),Promise.resolve()}}class Zt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}}class Gn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gn(this.firestore,e,this._query)}}class wo extends Gn{constructor(e,n,r){super(e,n,Bl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new J(e))}withConverter(e){return new wo(this.firestore,e,this._path)}}function qEe(t,e,...n){if(t=dr(t),LR("collection","path",e),t instanceof Kp){const r=ke.fromString(e,...n);return _9(r),new wo(t,null,r)}{if(!(t instanceof Zt||t instanceof wo))throw new B(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return _9(r),new wo(t.firestore,null,r)}}function b9(t,e,...n){if(t=dr(t),1===arguments.length&&(e=O7.A()),LR("doc","path",e),t instanceof Kp){const r=ke.fromString(e,...n);return m9(r),new Zt(t,null,new J(r))}{if(!(t instanceof Zt||t instanceof wo))throw new B(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return m9(r),new Zt(t.firestore,t instanceof wo?t.converter:null,new J(r))}}class WEe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new MM(this,"async_queue_retry"),this.Xc=()=>{const n=m0();n&&j("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=m0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=m0();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new fn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return p(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Js(n))throw n;j("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Yt("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=JM.createAndSchedule(this,e,n,r,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&ne()}verifyOperationInProgress(){}sa(){var e=this;return p(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class vt extends Kp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new WEe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||I9(this),this._firestoreClient.terminate()}}function YEe(t,e){const r="string"==typeof t?t:e||"(default)",i=Oy("object"==typeof t?t:E$(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=Dy())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");o&&function zEe(t,e,n,r={}){var i;const o=(t=Oe(t,Kp))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Vi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Sn.MOCK_USER;else{a=function Ype(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ey(JSON.stringify({alg:"none",type:"JWT"})),Ey(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new B(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Sn(u)}t._authCredentials=new Hwe(new x7(a,c))}}(i,...o)}return i}function sn(t){return t._firestoreClient||I9(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function I9(t){var e,n,r;const i=t._freezeSettings(),o=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new IIe(t._databaseId,a,t._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,p9(u.experimentalLongPollingOptions),u.useFetchStreams));var a,u;t._firestoreClient=new PEe(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class kc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kc(pn.fromBase64String(e))}catch(n){throw new B(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new kc(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class od{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new B(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qp{constructor(e){this._methodName=e}}class BR{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}const JEe=/^__.*__$/;class ZEe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new us(e,this.data,this.fieldMask,n,this.fieldTransforms):new $l(e,this.data,n,this.fieldTransforms)}}class C9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new us(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function D9(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}class C0{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new C0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return S0(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(D9(this.ca)&&JEe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class XEe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zp(e)}ya(e,n,r,i=!1){return new C0({ca:e,methodName:n,ga:r,path:Qt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sd(t){const e=t._freezeSettings(),n=zp(t._databaseId);return new XEe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function UR(t,e,n,r,i,o={}){const s=t.ya(o.merge||o.mergeFields?2:0,e,n,i);$R("Data must be an object, but it was:",s,r);const a=O9(r,s);let c,u;if(o.merge)c=new Rr(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const l=[];for(const d of o.mergeFields){const h=Zp(e,d,n);if(!s.contains(h))throw new B(x.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);R9(l,h)||l.push(h)}c=new Rr(l),u=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=s.fieldTransforms;return new ZEe(new Hn(a),c,u)}class Jp extends Qp{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jp}}function S9(t,e,n){return new C0({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class eCe extends Qp{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=S9(this,e,!0),r=this.pa.map(o=>Pc(o,n)),i=new Cc(r);return new xp(e.path,i)}isEqual(e){return this===e}}class tCe extends Qp{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=S9(this,e,!0),r=this.pa.map(o=>Pc(o,n)),i=new Dc(r);return new xp(e.path,i)}isEqual(e){return this===e}}function Pc(t,e){if(M9(t=dr(t)))return $R("Unsupported field value:",e,t),O9(t,e);if(t instanceof Qp)return function(n,r){if(!D9(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const s of n){let a=Pc(s,r.wa(o));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=dr(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return I8(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Mt.fromDate(n);return{timestampValue:Gl(r.serializer,i)}}if(n instanceof Mt){const i=new Mt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Gl(r.serializer,i)}}if(n instanceof BR)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof kc)return{bytesValue:H8(r.serializer,n._byteString)};if(n instanceof Zt){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:sM(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${E0(n)}`)}(t,e)}function O9(t,e){const n={};return z7(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zs(t,(r,i)=>{const o=Pc(i,e.ha(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function M9(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Mt||t instanceof BR||t instanceof kc||t instanceof Zt||t instanceof Qp)}function $R(t,e,n){if(!M9(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=E0(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Zp(t,e,n){if((e=dr(e))instanceof od)return e._internalPath;if("string"==typeof e)return D0(t,e);throw S0("Field path arguments must be of type string or ",t,!1,void 0,n)}const rCe=new RegExp("[~\\*/\\[\\]]");function D0(t,e,n){if(e.search(rCe)>=0)throw S0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new od(...e.split("."))._internalPath}catch{throw S0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function S0(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new B(x.INVALID_ARGUMENT,a+t+c)}function R9(t,e){return t.some(n=>n.isEqual(e))}class HR{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new iCe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(A0("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class iCe extends HR{data(){return super.data()}}function A0(t,e){return"string"==typeof e?D0(t,e):e instanceof od?e._internalPath:e._delegate._internalPath}class GR{}class oCe extends GR{}function sCe(t,e,...n){let r=[];e instanceof GR&&r.push(e),r=r.concat(n),function(i){const o=i.filter(a=>a instanceof ad).length,s=i.filter(a=>a instanceof Xp).length;if(o>1||o>0&&s>0)throw new B(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Xp extends oCe{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Xp(e,n,r)}_apply(e){const n=this._parse(e);return V9(e._query,n),new Gn(e.firestore,e.converter,QO(e._query,n))}_parse(e){const n=sd(e.firestore);return function(i,o,s,a,c,u,l){let d;if(c.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new B(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){L9(l,u);const h=[];for(const f of l)h.push(F9(a,i,f));d={arrayValue:{values:h}}}else d=F9(a,i,l)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||L9(l,u),d=function N9(t,e,n,r=!1){return Pc(n,t.ya(r?4:3,e))}(s,"where",l,"in"===u||"not-in"===u);return Ae.create(c,u,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function aCe(t,e,n){const r=e,i=A0("where",t);return Xp._create(i,r,n)}class ad extends GR{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ad(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:rt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let o=r;const s=i.getFlattenedFilters();for(const a of s)V9(o,a),o=QO(o,a)}(e._query,n),new Gn(e.firestore,e.converter,QO(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function F9(t,e,n){if("string"==typeof(n=dr(n))){if(""===n)throw new B(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YO(e)&&-1!==n.indexOf("/"))throw new B(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ke.fromString(n));if(!J.isDocumentKey(r))throw new B(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ic(t,new J(r))}if(n instanceof Zt)return Ic(t,n._key);throw new B(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${E0(n)}.`)}function L9(t,e){if(!Array.isArray(t)||0===t.length)throw new B(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function V9(t,e){if(e.isInequality()){const r=Wv(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new B(x.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=KO(t);null!==o&&function B9(t,e,n){if(!n.isEqual(e))throw new B(x.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,i,o)}const n=function(r,i){for(const o of r)for(const s of o.getFlattenedFilters())if(i.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new B(x.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class cCe{convertValue(e,n="none"){switch(ta(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Zs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new BR(Vt(e.latitude),Vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=jv(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bp(e));default:return null}}convertTimestamp(e){const n=Xs(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ke.fromString(e);oe(X8(r));const i=new wc(r.get(1),r.get(3)),o=new J(r.popFirst(5));return i.isEqual(n)||Yt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function qR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Fc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cd extends HR{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new M0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(A0("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class M0 extends cd{data(e={}){return super.data(e)}}class ud{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Fc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new M0(this._firestore,this._userDataWriter,r.key,r,new Fc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>({type:"added",doc:new M0(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Fc(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||3!==s.type).map(s=>{const a=new M0(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Fc(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return 0!==s.type&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),1!==s.type&&(o=o.add(s.doc),u=o.indexOf(s.doc.key)),{type:lCe(s.type),doc:a,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function lCe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}function dCe(t){t=Oe(t,Zt);const e=Oe(t.firestore,vt);return function h9(t,e,n={}){const r=new fn;return t.asyncQueue.enqueueAndForget(p(function*(){return function(i,o,s,a,c){const u=new b0({next:d=>{o.enqueueAndForget(()=>eR(i,l));const h=d.docs.has(s);!h&&d.fromCache?c.reject(new B(x.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?c.reject(new B(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),l=new rR(Bl(s.path),u,{includeMetadataChanges:!0,Ku:!0});return ZM(i,l)}(yield id(t),t.asyncQueue,e,n,r)})),r.promise}(sn(e),t._key).then(n=>function WR(t,e,n){const r=n.docs.get(e._key),i=new la(t);return new cd(t,i,e._key,r,new Fc(n.hasPendingWrites,n.fromCache),e.converter)}(e,t,n))}class la extends cCe{constructor(e){super(),this.firestore=e}convertBytes(e){return new kc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,n)}}function hCe(t){t=Oe(t,Gn);const e=Oe(t.firestore,vt),n=sn(e),r=new la(e);return function k9(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new B(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),function f9(t,e,n={}){const r=new fn;return t.asyncQueue.enqueueAndForget(p(function*(){return function(i,o,s,a,c){const u=new b0({next:d=>{o.enqueueAndForget(()=>eR(i,l)),d.fromCache&&"server"===a.source?c.reject(new B(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),l=new rR(s,u,{includeMetadataChanges:!0,Ku:!0});return ZM(i,l)}(yield id(t),t.asyncQueue,e,n,r)})),r.promise}(n,t._query).then(i=>new ud(e,r,t,i))}function fCe(t,e,n){t=Oe(t,Zt);const r=Oe(t.firestore,vt),i=qR(t.converter,e,n);return eg(r,[UR(sd(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Et.none())])}function pCe(t,e,n,...r){t=Oe(t,Zt);const i=Oe(t.firestore,vt),o=sd(i);let s;return s="string"==typeof(e=dr(e))||e instanceof od?function x9(t,e,n,r,i,o){const s=t.ya(1,e,n),a=[Zp(e,r,n)],c=[i];if(o.length%2!=0)throw new B(x.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(Zp(e,o[h])),c.push(o[h+1]);const u=[],l=Hn.empty();for(let h=a.length-1;h>=0;--h)if(!R9(u,a[h])){const f=a[h];let g=c[h];g=dr(g);const y=s.da(f);if(g instanceof Jp)u.push(f);else{const v=Pc(g,y);null!=v&&(u.push(f),l.set(f,v))}}const d=new Rr(u);return new C9(l,d,s.fieldTransforms)}(o,"updateDoc",t._key,e,n,r):function A9(t,e,n,r){const i=t.ya(1,e,n);$R("Data must be an object, but it was:",i,r);const o=[],s=Hn.empty();Zs(r,(c,u)=>{const l=D0(e,c,n);u=dr(u);const d=i.da(l);if(u instanceof Jp)o.push(l);else{const h=Pc(u,d);null!=h&&(o.push(l),s.set(l,h))}});const a=new Rr(o);return new C9(s,a,i.fieldTransforms)}(o,"updateDoc",t._key,e),eg(i,[s.toMutation(t._key,Et.exists(!0))])}function gCe(t){return eg(Oe(t.firestore,vt),[new Hl(t._key,Et.none())])}function mCe(t,e){const n=Oe(t.firestore,vt),r=b9(t),i=qR(t.converter,e);return eg(n,[UR(sd(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Et.exists(!1))]).then(()=>r)}function eg(t,e){return function(n,r){const i=new fn;return n.asyncQueue.enqueueAndForget(p(function*(){return function gEe(t,e,n){return cR.apply(this,arguments)}(yield function PR(t){return I0(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(sn(t),e)}function ACe(...t){return new eCe("arrayUnion",t)}function xCe(...t){return new tCe("arrayRemove",t)}!function(t,e=!0){Rl=Of,hr(new Jn("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),s=new vt(new Gwe(n.getProvider("auth-internal")),new Wwe(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new B(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wc(a.options.projectId,c)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),Kt(A7,"3.13.0",t),Kt(A7,"3.13.0","esm2017")}();class ti{constructor(e){return e}}const $9="firestore",KR=new te("angularfire2.firestore-instances");function MCe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ti(r)}}const RCe={provide:class NCe{constructor(){return yA($9)}},deps:[[new Tr,KR]]},kCe={provide:ti,useFactory:function OCe(t,e){const n=function _A(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}($9,t,e);return n&&new ti(n)},deps:[[new Tr,KR],wl]};let PCe=(()=>{class t{constructor(){Kt("angularfire",uA.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=we({providers:[kCe,RCe]}),t})();function FCe(t,...e){return{ngModule:PCe,providers:[{provide:KR,useFactory:MCe(t),multi:!0,deps:[Ee,en,VH,BH,[new Tr,HG],[new Tr,d6],...e]}]}}const H9=Or(mCe,!0),LCe=Or(xCe,!0),VCe=Or(ACe,!0),tg=Or(qEe,!0),BCe=Or(gCe,!0),hs=Or(b9,!0),YR=Or(dCe,!0),QR=Or(hCe,!0),UCe=Or(YEe,!0),G9=Or(sCe,!0),jCe=Or(fCe,!0),ng=Or(pCe,!0),z9=Or(aCe,!0);let Io=(()=>{class t{constructor(n,r){this.firestore=n,this.router=r,this.userDataSubject=new vr(null),this.userData$=this.userDataSubject.asObservable();const i=localStorage.getItem("user");if(i){const o=JSON.parse(i);this.userDataSubject.next(o)}}registerUser(n,r,i){var o=this;return p(function*(){try{const s=yield o.createUserWithEmailAndPassword(n,r),a=s.user.uid;yield o.addAdditionalAuthData(a,i),yield o.saveUserData(s.user,i),o.router.navigate(["recipes-list"])}catch(s){o.handleError(s)}})()}loginUser(n,r){var i=this;return p(function*(){try{const o=yield i.signInWithEmailAndPassword(n,r),s=o.user.uid,a=yield i.getAdditionalAuthDataById(s);yield i.saveUserData(o.user,a),i.router.navigate(["recipes-list"])}catch(o){i.handleError(o)}})()}logoutUser(){var n=this;return p(function*(){try{yield n.signOutAuth(),yield n.clearUserData(),n.router.navigate(["login"])}catch(r){n.handleError(r)}})()}forgotPassword(n){var r=this;return p(function*(){try{yield r.sendPasswordResetEmail(n),window.alert("Password reset email sent, check your inbox."),r.router.navigate(["login"])}catch(i){r.handleError(i),window.alert(i)}})()}sendPasswordResetEmail(n){return function qhe(t,e,n){return rC.apply(this,arguments)}(Ty(),n)}createUserWithEmailAndPassword(n,r){return function Khe(t,e,n){return cC.apply(this,arguments)}(Ty(),n,r)}signInWithEmailAndPassword(n,r){return function Yhe(t,e,n){return qE(Ls(t),j5.credential(e,n)).catch(function(){var r=p(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&tC(t),i});return function(i){return r.apply(this,arguments)}}())}(Ty(),n,r)}signOutAuth(){return function ofe(t){return Ls(t).signOut()}(Ty())}addAdditionalAuthData(n,r){return jCe(hs(this.firestore,"Auth",n),r)}getAdditionalAuthDataById(n){var r=this;return p(function*(){const i=hs(r.firestore,"Auth",n),o=yield YR(i);return o.exists()?o.data():null})()}saveUserData(n,r){return new Promise((i,o)=>{if(n&&r){const s={...n,...r};localStorage.setItem("user",JSON.stringify(s)),this.userDataSubject.next(s),i()}else localStorage.setItem("user","null"),this.userDataSubject.next(null),o()})}clearUserData(){return new Promise((n,r)=>{localStorage.removeItem("user"),this.userDataSubject.next(null),n()})}handleError(n){if(n instanceof Error){const i=n.message;console.error(`Error (${n.name}): ${i}`),alert(i)}else console.error("Unknown error:",n),alert(n)}static#e=this.\u0275fac=function(r){return new(r||t)(W(ti),W(qt))};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $Ce(t,e){1&t&&(m(0,"div",19),I(1," Email is required! "),_())}function HCe(t,e){1&t&&(m(0,"div",19),I(1," Please enter a valid email address! "),_())}function GCe(t,e){if(1&t&&(m(0,"div"),N(1,$Ce,2,0,"div",18),N(2,HCe,2,0,"div",18),_()),2&t){const n=F();let r,i;E(1),C("ngIf",null==(r=n.registerForm.get("email"))||null==r.errors?null:r.errors.required),E(1),C("ngIf",null==(i=n.registerForm.get("email"))||null==i.errors?null:i.errors.email)}}function zCe(t,e){1&t&&(m(0,"div",19),I(1," Password is required! "),_())}function qCe(t,e){1&t&&(m(0,"div",19),I(1," Password must be at least 6 characters long! "),_())}function WCe(t,e){if(1&t&&(m(0,"div"),N(1,zCe,2,0,"div",18),N(2,qCe,2,0,"div",18),_()),2&t){const n=F();let r,i;E(1),C("ngIf",null==(r=n.registerForm.get("password"))||null==r.errors?null:r.errors.required),E(1),C("ngIf",null==(i=n.registerForm.get("password"))||null==i.errors?null:i.errors.minlength)}}function KCe(t,e){1&t&&(m(0,"div",19),I(1," Repeat password is required! "),_())}function YCe(t,e){1&t&&(m(0,"div",19),I(1," Repeat password must be at least 6 characters long! "),_())}function QCe(t,e){if(1&t&&(m(0,"div"),N(1,KCe,2,0,"div",18),N(2,YCe,2,0,"div",18),_()),2&t){const n=F();let r,i;E(1),C("ngIf",null==(r=n.registerForm.get("repeatPassword"))||null==r.errors?null:r.errors.required),E(1),C("ngIf",null==(i=n.registerForm.get("repeatPassword"))||null==i.errors?null:i.errors.minlength)}}function JCe(t,e){1&t&&(m(0,"div",19),I(1," First name is required! "),_())}function ZCe(t,e){if(1&t&&(m(0,"div"),N(1,JCe,2,0,"div",18),_()),2&t){const n=F();let r;E(1),C("ngIf",null==(r=n.registerForm.get("firstName"))||null==r.errors?null:r.errors.required)}}function XCe(t,e){1&t&&(m(0,"div",19),I(1," Last name is required! "),_())}function eDe(t,e){if(1&t&&(m(0,"div"),N(1,XCe,2,0,"div",18),_()),2&t){const n=F();let r;E(1),C("ngIf",null==(r=n.registerForm.get("lastName"))||null==r.errors?null:r.errors.required)}}let tDe=(()=>{class t{constructor(n,r,i){this.userService=n,this.fb=r,this.router=i,this.registerForm=this.fb.group({email:["",[Ve.required,Ve.email]],password:["",[Ve.required,Ve.minLength(6)]],repeatPassword:["",Ve.required],firstName:["",Ve.required],lastName:["",Ve.required],isActive:[!0,Ve.required],isAdmin:[!1,Ve.required]})}submitRegisterForm(){var n=this;return p(function*(){if(n.registerForm.valid){const{email:r,password:i,repeatPassword:o,...s}=n.registerForm.value;if(i!==o)return void alert("Password do not match!");try{yield n.userService.registerUser(r,i,s)}catch(a){alert(a)}}})()}static#e=this.\u0275fac=function(r){return new(r||t)(b(Io),b(fl),b(qt))};static#t=this.\u0275cmp=Ge({type:t,selectors:[["app-register"]],decls:31,vars:6,consts:[[1,"main-short"],[1,"wrapper"],[1,"title"],[3,"formGroup","ngSubmit"],["for","email"],["type","email","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","new-password"],["for","repeatPassword"],["type","password","id","repeatPassword","formControlName","repeatPassword","autocomplete","new-password"],["for","firstName"],["type","text","id","firstName","formControlName","firstName"],["for","lastName"],["type","text","id","lastName","formControlName","lastName"],["type","submit",1,"button",2,"width","100%","margin-top","20px"],["href","#","routerLink","/login"],[1,"hint"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(m(0,"div",0)(1,"div",1)(2,"h1",2),I(3,"Registration"),_(),m(4,"form",3),ie("ngSubmit",function(){return i.submitRegisterForm()}),m(5,"label",4),I(6,"Email:"),_(),k(7,"input",5),N(8,GCe,3,2,"div",6),m(9,"label",7),I(10,"Password:"),_(),k(11,"input",8),N(12,WCe,3,2,"div",6),m(13,"label",9),I(14,"Repeat password:"),_(),k(15,"input",10),N(16,QCe,3,2,"div",6),m(17,"label",11),I(18,"First name:"),_(),k(19,"input",12),N(20,ZCe,2,1,"div",6),m(21,"label",13),I(22,"Last Name:"),_(),k(23,"input",14),N(24,eDe,2,1,"div",6),m(25,"button",15),I(26,"Submit"),_(),k(27,"hr"),m(28,"a",16)(29,"div",17),I(30,"Already registered?"),_()()()()()),2&r){let o,s,a,c,u;E(4),C("formGroup",i.registerForm),E(4),C("ngIf",(null==(o=i.registerForm.get("email"))?null:o.invalid)&&(null==(o=i.registerForm.get("email"))?null:o.touched)),E(4),C("ngIf",(null==(s=i.registerForm.get("password"))?null:s.invalid)&&(null==(s=i.registerForm.get("password"))?null:s.touched)),E(4),C("ngIf",(null==(a=i.registerForm.get("repeatPassword"))?null:a.invalid)&&(null==(a=i.registerForm.get("repeatPassword"))?null:a.touched)),E(4),C("ngIf",(null==(c=i.registerForm.get("firstName"))?null:c.invalid)&&(null==(c=i.registerForm.get("firstName"))?null:c.touched)),E(4),C("ngIf",(null==(u=i.registerForm.get("lastName"))?null:u.invalid)&&(null==(u=i.registerForm.get("lastName"))?null:u.touched))}},dependencies:[Fn,Wa,Ho,Ga,za,Go,Ps,ki],styles:[".checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--mainBackgroundColor);border:none}}"]})}return t})();function nDe(t,e){1&t&&(m(0,"div",14),I(1," Email is required! "),_())}function rDe(t,e){1&t&&(m(0,"div",14),I(1," Invalid email! "),_())}function iDe(t,e){if(1&t&&(m(0,"div"),N(1,nDe,2,0,"div",15),N(2,rDe,2,0,"div",15),_()),2&t){const n=F();let r,i;E(1),C("ngIf",null==(r=n.logInForm.get("email"))||null==r.errors?null:r.errors.required),E(1),C("ngIf",null==(i=n.logInForm.get("email"))||null==i.errors?null:i.errors.email)}}function oDe(t,e){1&t&&(m(0,"div",14),I(1," Password is required! "),_())}function sDe(t,e){1&t&&(m(0,"div",14),I(1," Password must be at least 6 characters long! "),_())}function aDe(t,e){if(1&t&&(m(0,"div"),N(1,oDe,2,0,"div",15),N(2,sDe,2,0,"div",15),_()),2&t){const n=F();let r,i;E(1),C("ngIf",null==(r=n.logInForm.get("password"))||null==r.errors?null:r.errors.required),E(1),C("ngIf",null==(i=n.logInForm.get("password"))||null==i.errors?null:i.errors.minlength)}}function cDe(t,e){if(1&t&&(m(0,"div"),I(1),_()),2&t){const n=F();E(1),At(n.loginError)}}let uDe=(()=>{class t{constructor(n,r,i,o){this.userService=n,this.fb=r,this.route=i,this.router=o,this.loginError=null,this.returnUrl=null,this.logInForm=this.fb.group({email:["",[Ve.required,Ve.email]],password:["",[Ve.required,Ve.minLength(6)]]})}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}submitLogInForm(){var n=this;return p(function*(){if(n.logInForm.valid){const{email:r,password:i}=n.logInForm.value;try{yield n.userService.loginUser(r,i);const o=n.returnUrl||"/category";yield n.router.navigateByUrl(o)}catch(o){console.log(o)}}})()}static#e=this.\u0275fac=function(r){return new(r||t)(b(Io),b(fl),b(oo),b(qt))};static#t=this.\u0275cmp=Ge({type:t,selectors:[["app-login"]],decls:28,vars:4,consts:[[1,"main-short"],[1,"wrapper"],[1,"title"],[3,"formGroup","ngSubmit"],[1,"formGroup"],["for","email"],["type","text","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","current-password"],["type","submit",1,"button",2,"width","100%"],["href","#","routerLink","/register"],[1,"hint"],["href","#","routerLink","/forgot-password"],[1,"errors"],["class","errors",4,"ngIf"]],template:function(r,i){if(1&r&&(m(0,"div",0)(1,"div",1)(2,"h1",2),I(3,"Login"),_(),m(4,"form",3),ie("ngSubmit",function(){return i.submitLogInForm()}),m(5,"div",4)(6,"label",5),I(7,"Email"),_(),k(8,"input",6),N(9,iDe,3,2,"div",7),_(),m(10,"div",4)(11,"label",8),I(12,"Password"),_(),k(13,"input",9),N(14,aDe,3,2,"div",7),_(),k(15,"br"),m(16,"div",4)(17,"button",10),I(18,"Submit"),_()(),N(19,cDe,2,1,"div",7),k(20,"hr"),m(21,"div")(22,"a",11)(23,"div",12),I(24,"Don't have a Registration yet?"),_()(),m(25,"a",13)(26,"div",14),I(27,"Forgot your password?"),_()()()()()()),2&r){let o,s;E(4),C("formGroup",i.logInForm),E(5),C("ngIf",(null==(o=i.logInForm.get("email"))?null:o.invalid)&&(null==(o=i.logInForm.get("email"))?null:o.touched)),E(5),C("ngIf",(null==(s=i.logInForm.get("password"))?null:s.invalid)&&(null==(s=i.logInForm.get("password"))?null:s.touched)),E(5),C("ngIf",i.loginError)}},dependencies:[Fn,Wa,Ho,Ga,za,Go,Ps,ki],styles:["@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--mainBackgroundColor);border:none}}"]})}return t})(),lDe=(()=>{class t{constructor(n){this.userService=n}static#e=this.\u0275fac=function(r){return new(r||t)(b(Io))};static#t=this.\u0275cmp=Ge({type:t,selectors:[["app-forgot-password"]],decls:16,vars:0,consts:[[1,"main-short"],[1,"wrapper"],[1,"title"],[1,"hint"],[1,"formGroup"],["type","email","placeholder","Email","required","",1,"formControl"],["passwordResetEmail",""],[1,"errors"],[1,"buttons"],["type","submit","value","\u0418\u0437\u043f\u0440\u0430\u0442\u0438 \u0438\u043c\u0435\u0439\u043b",1,"button",3,"click"],["href","#","routerLink","/login"]],template:function(r,i){if(1&r){const o=It();m(0,"div",0)(1,"div",1)(2,"h3",2),I(3,"Forgotten password"),_(),m(4,"p",3),I(5," Please enter your email address so we can send you a password reset email. "),_(),m(6,"div",4),k(7,"input",5,6),_(),m(9,"p",7),I(10,"If you can't find the email, please check your spam folder!"),_(),m(11,"div",8)(12,"input",9),ie("click",function(){ht(o);const a=zr(8);return ft(i.userService.forgotPassword(a.value))}),_(),m(13,"a",10)(14,"div",3),I(15,"Return to Login"),_()()()()()}},dependencies:[ki],styles:[".buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.wrapper[_ngcontent-%COMP%]{padding:0 5%;max-width:600px;margin:0 auto}"]})}return t})(),dDe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["app-carousel"]],decls:24,vars:0,consts:[["id","carouselExampleAutoplaying","data-bs-ride","carousel",1,"carousel","slide"],[1,"overlay"],[1,"info"],[1,"title"],[1,"subtitle"],["routerLink","/recipes-list",1,"infoBtn"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://www.aveeno.com/sites/aveeno_us_2/files/healingherbswithmortaran_687349.jpg","alt","...",1,"carousel-img","d-block","w-100"],[1,"carousel-item"],["src","https://imgix-prod.sgs.com/-/media/sgscorp/images/connectivity-and-products/aromatics-pexels.cdn.en-MU.1.jpg","alt","...",1,"carousel-img","d-block","w-100"],["src","https://images.pexels.com/photos/1793035/pexels-photo-1793035.jpeg","alt","...",1,"carousel-img","d-block","w-100"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),I(4,"Welcome to our Healing Herbal Recipe Community!"),_(),m(5,"div",4),I(6," Explore a wealth of new herbal recipes designed for healing right here. Upon registration, you'll gain access to not only adding your favorite healing recipes but also rating and commenting on the ones that resonate with you. Join us in nurturing wellness through the power of herbal remedies! "),_(),m(7,"a",5),I(8,"READ MORE"),_()()(),m(9,"div",6)(10,"div",7),k(11,"img",8),_(),m(12,"div",9),k(13,"img",10),_(),m(14,"div",9),k(15,"img",11),_()(),m(16,"button",12),k(17,"span",13),m(18,"span",14),I(19,"Previous"),_()(),m(20,"button",15),k(21,"span",16),m(22,"span",14),I(23,"Next"),_()()())},dependencies:[ki],styles:[".carousel[_ngcontent-%COMP%]{max-height:92vh;overflow:hidden}.carousel-img[_ngcontent-%COMP%]{height:100vh;object-fit:cover}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{z-index:9}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0 50% 0 0;background-color:#a7575e99;z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:47%;right:10%;top:40%;transform:translate(2%,-27%);color:var(--mainWhiteColor);text-align:left}.title[_ngcontent-%COMP%]{font-size:32px;padding-bottom:20px;font-weight:900;line-height:35px;color:var(--backgroundColor);text-align:left;box-shadow:unset}.subtitle[_ngcontent-%COMP%]{font-style:italic;color:var(--backgroundColor)}.infoBtn[_ngcontent-%COMP%]{background-color:var(--backgroundColor);color:var(--textColor);padding:13px 35px;font-size:14px;margin-top:40px;display:inline-block;font-weight:700;font-family:Roboto,sans-serif;border:1px solid transparent}.infoBtn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:transparent;border:1px solid var(--backgroundColor);color:var(--mainWhiteColor)}@media (max-width: 460px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#a7575e99;z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.infoBtn[_ngcontent-%COMP%]{margin-top:10px}.title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900;text-align:center}}@media (min-width: 461px) and (max-width: 767px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#a7575e99;z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.infoBtn[_ngcontent-%COMP%]{margin-top:10px}.title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900}}@media (min-width: 768px) and (max-width: 1023px){.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor)}}"]})}return t})(),q9=(()=>{class t{constructor(n,r){this.firestore=n,this.router=r}getRecipes(){const r=tg(this.firestore,"Recipe");return new Ue(i=>{QR(r).then(o=>{const s=[];o.forEach(a=>{const u={...a.data(),id:a.id};s.push(u)}),i.next(s),i.complete()}).catch(o=>{i.error(o)})})}getRecipeByUID(n){var r=this;return p(function*(){try{const i=tg(r.firestore,"Recipe"),o=G9(i,z9("uid","==",n)),s=yield QR(o),a=[];return s.forEach(c=>{const l={...c.data(),id:c.id};a.push(l)}),a}catch(i){return console.error("Error retrieving recipes:",i),[]}})()}static#e=this.\u0275fac=function(r){return new(r||t)(W(ti),W(qt))};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const hDe=function(t){return["/recipe",t]};function fDe(t,e){if(1&t&&(m(0,"div")(1,"a",7)(2,"div",8)(3,"div",9),k(4,"img",10),_(),m(5,"p",11),I(6),_()()()()),2&t){const n=e.$implicit;E(1),C("routerLink",ka(4,hDe,n.id)),E(3),ph("alt",n.title),C("src",n.image_recipe[0].image_recipe,Sa),E(2),At(n.title)}}let pDe=(()=>{class t{constructor(n){this.recipeService=n,this.recipes=[]}ngOnInit(){this.getRecipes()}getRecipes(){this.recipeService.getRecipes().subscribe({next:n=>{this.recipes=n.sort((r,i)=>r.title.localeCompare(i.title))},error:n=>{console.error("Error fetching recipes:",n)}})}static#e=this.\u0275fac=function(r){return new(r||t)(b(q9))};static#t=this.\u0275cmp=Ge({type:t,selectors:[["app-recipes-list"]],decls:8,vars:1,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper-list"],[1,"title-wrapper"],[1,"title"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"]],template:function(r,i){1&r&&(m(0,"main",0),k(1,"div",1),m(2,"div",2)(3,"div",3)(4,"h1",4),I(5,"Recipes"),_()(),m(6,"div",5),N(7,fDe,7,6,"div",6),_()()()),2&r&&(E(7),C("ngForOf",i.recipes))},dependencies:[Yr,ki],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:20px;margin-bottom:100px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-title[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);background:var(--mainRGBAColor);background:rgba(167,87,94,.8);color:var(--backgroundColor);font-size:18px;font-weight:900;padding:0 5px;margin:0;text-align:center;width:100%;text-transform:uppercase;top:80%;height:30%;font-family:var(--titleFont);line-height:20px;font-family:Caveat,cursive;display:flex;align-items:center;justify-content:center;transition:top 1s ease-in-out}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;top:0%;height:30%;color:var(--textColor);background:var(--backgroundColor);transition:1s ease-in-out;box-shadow:1px 5px 15px #a7575e}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 4% 0 2%;row-gap:30px}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:16px;height:30%}}@media (min-width: 461px) and (max-width: 767px){.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 80px 0 2%;row-gap:30px}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:18px;height:30%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);padding:0 10% 0 1%;column-gap:10px;row-gap:30px}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:18px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);padding:0 10% 0 1%;column-gap:10px;row-gap:30px}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:18px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return t})();gl("firebase","10.8.1","app");const k0_firebaseConfig={apiKey:"AIzaSyCVbXDjBGUwaOrn1CZYGIwce1dYPKpR7PA",authDomain:"the-natural-way.firebaseapp.com",projectId:"the-natural-way",storageBucket:"the-natural-way.appspot.com",messagingSenderId:"778711637280",appId:"1:778711637280:web:30b52ea2a4e159578fcb45"},k0_cloudinaryConfig_cloudName="dsla98vyk",k0_cloudinaryConfig_uploadPreset="the_natural_way";i5(k0_firebaseConfig);let W9=(()=>{class t{constructor(){this.cloudName=k0_cloudinaryConfig_cloudName,this.uploadPreset=k0_cloudinaryConfig_uploadPreset,this.imageUploaded=new R}ngOnInit(){this.myWidget=cloudinary.createUploadWidget({cloudName:this.cloudName,uploadPreset:this.uploadPreset,maxImageWidth:500},(n,r)=>{!n&&r&&"success"===r.event&&(console.log("Done! Here is the image info: ",r.info),this.onImagesUploaded(r.info.secure_url))})}onImagesUploaded(n){this.imageUploaded.emit(n)}openWidget(){this.myWidget.open()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["app-image-upload"]],outputs:{imageUploaded:"imageUploaded"},decls:4,vars:0,consts:[["id","upload_widget",1,"button-img",3,"click"],[1,"fa-solid","fa-plus","fa-beat-fade"]],template:function(r,i){1&r&&(m(0,"div")(1,"button",0),ie("click",function(){return i.openWidget()}),k(2,"i",1),I(3," Add images (optional) "),_()())}})}return t})();function _De(t,e){1&t&&(m(0,"div",24),I(1," Please fill in the title! "),_())}function yDe(t,e){if(1&t&&(m(0,"div"),N(1,_De,2,0,"div",23),_()),2&t){const n=F();let r;E(1),C("ngIf",null==(r=n.recipeForm.get("title"))||null==r.errors?null:r.errors.required)}}function vDe(t,e){1&t&&(m(0,"div",24),I(1," Please fill in a subtitle! "),_())}function bDe(t,e){if(1&t&&(m(0,"div"),N(1,vDe,2,0,"div",23),_()),2&t){const n=F();let r;E(1),C("ngIf",null==(r=n.recipeForm.get("subtitle"))||null==r.errors?null:r.errors.required)}}function wDe(t,e){1&t&&(m(0,"div",24),I(1," Please fill in the method of preparation! "),_())}function IDe(t,e){if(1&t&&(m(0,"div"),N(1,wDe,2,0,"div",23),_()),2&t){const n=F();let r;E(1),C("ngIf",null==(r=n.recipeForm.get("description"))||null==r.errors?null:r.errors.required)}}function TDe(t,e){if(1&t){const n=It();m(0,"app-image-upload",25),ie("imageUploaded",function(i){return ht(n),ft(F().addImageToForm(i))}),_()}}function EDe(t,e){if(1&t&&k(0,"img",33),2&t){const n=F().index;let i;C("src",null==(i=F().image_recipe.controls[n].get("image_recipe"))?null:i.value,Sa)}}function CDe(t,e){if(1&t){const n=It();m(0,"div",26)(1,"label",12),I(2,"Images:"),_(),m(3,"p",27),I(4,"Added image"),_(),m(5,"div",28),k(6,"input",29),m(7,"button",30),ie("click",function(){const o=ht(n).index;return ft(F().removeImage(o))}),k(8,"i",31),_()(),N(9,EDe,1,1,"img",32),k(10,"br")(11,"br"),_()}if(2&t){const n=e.index,r=F();let i;C("formGroupName",n),E(9),C("ngIf",null==(i=r.image_recipe.controls[n].get("image_recipe"))?null:i.value)}}function DDe(t,e){if(1&t){const n=It();m(0,"div",26)(1,"label",12),I(2,"Video:"),_(),m(3,"p",27),I(4,"Add youtube video link here"),_(),m(5,"div",28),k(6,"input",34),m(7,"button",30),ie("click",function(){const o=ht(n).index;return ft(F().removeVideo(o))}),k(8,"i",31),_()()()}2&t&&C("formGroupName",e.index)}function SDe(t,e){1&t&&(m(0,"div",24),I(1," Please enter an ingredient name! "),_())}function ADe(t,e){if(1&t&&(m(0,"div"),N(1,SDe,2,0,"div",23),_()),2&t){const n=F().index,r=F();let i;E(1),C("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".name"))||null==i.errors?null:i.errors.required)}}function xDe(t,e){1&t&&(m(0,"div",24),I(1," Please fill in the quantity of the ingredient! "),_())}function NDe(t,e){if(1&t&&(m(0,"div"),N(1,xDe,2,0,"div",23),_()),2&t){const n=F().index,r=F();let i;E(1),C("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".amount"))||null==i.errors?null:i.errors.required)}}function ODe(t,e){1&t&&(m(0,"div",24),I(1," Please select a unit of measurement! "),_())}function MDe(t,e){if(1&t&&(m(0,"div"),N(1,ODe,2,0,"div",23),_()),2&t){const n=F().index,r=F();let i;E(1),C("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".unit"))||null==i.errors?null:i.errors.required)}}function RDe(t,e){if(1&t){const n=It();m(0,"div",26)(1,"div",35)(2,"div",36),k(3,"hr"),m(4,"p"),I(5),_(),k(6,"hr"),_(),m(7,"button",37),ie("click",function(){const o=ht(n).index;return ft(F().removeIngredient(o))}),k(8,"i",31),_(),m(9,"label",38),I(10,"Name"),_(),k(11,"input",39),N(12,ADe,2,1,"div",8),m(13,"div",40)(14,"div",41)(15,"label",42),I(16,"Quantity"),_(),k(17,"input",43),_(),m(18,"div",44)(19,"label",45),I(20,"Unit\xa0*"),_(),m(21,"select",46)(22,"option",47),I(23,"Please Choose..."),_(),m(24,"option",48),I(25,"Tea spoon"),_(),m(26,"option",49),I(27,"Tablespoon"),_(),m(28,"option",50),I(29,"Tea cup"),_(),m(30,"option",51),I(31,"Coffee cup"),_(),m(32,"option",52),I(33,"Gram"),_(),m(34,"option",53),I(35,"Kilogram"),_(),m(36,"option",54),I(37,"Milliliter"),_(),m(38,"option",55),I(39,"Liter"),_(),m(40,"option",56),I(41,"Pieces"),_()()(),m(42,"div",57)(43,"label",58),I(44,"Order\xa0**"),_(),k(45,"input",59),_()(),m(46,"p",27),I(47,"* In which we measure the ingredient"),_(),m(48,"p",27),I(49," ** The order in which the ingredients appear in the recipe "),_(),N(50,NDe,2,1,"div",8),N(51,MDe,2,1,"div",8),_()()}if(2&t){const n=e.index,r=F();let i,o,s;C("formGroupName",n),E(5),Ai("\xa0\xa0Ingredient\xa0",n+1,"\xa0"),E(7),C("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".name"))?null:i.touched),E(38),C("ngIf",null==(o=r.recipeForm.get("ingredients."+n+".amount"))?null:o.touched),E(1),C("ngIf",null==(s=r.recipeForm.get("ingredients."+n+".unit"))?null:s.touched)}}let kDe=(()=>{class t{constructor(n,r,i,o,s,a){this.fb=r,this.router=i,this.userService=o,this.el=s,this.renderer=a,this.editorConfig={},this.fullName="",this.userData=null,this.currentOrderIndex=1,this.firestore=n,this.recipeForm=this.fb.group({is_active:[!1],title:["",[Ve.required]],subtitle:["",[Ve.required]],description:["",[Ve.required]],summary:[""],author:[""],uid:[""],image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),likes:this.fb.array([]),ingredients:this.fb.array([this.fb.group({name:["",[Ve.required]],amount:[null,[Ve.required]],unit:["",[Ve.required]],order_index:[0]})])}),this.userService.userData$.subscribe({next:c=>{c?this.userData=c:console.log(`Cant found user with this UID ${c.uid}`)},error:c=>{console.log(c)}})}ngOnInit(){this.editorConfig={content_style:"body { background-color: #f6f4f9; }",content_css:"default",base_url:"/tinymce",suffix:".min",menubar:!1,height:300,toolbar:"undo redo | formatselect | bold italic backcolor |           alignleft aligncenter alignright alignjustify |           bullist numlist outdent indent | removeformat "}}addImageToForm(n){this.recipeForm.get("image_recipe").push(this.fb.group({image_recipe:n}))}removeImage(n){this.recipeForm.get("image_recipe").removeAt(n)}addVideo(){this.recipeForm.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(n){this.recipeForm.get("video_recipe").removeAt(n)}addPreparation(){this.recipeForm.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(n){this.recipeForm.get("preparation_method").removeAt(n)}addIngredient(){this.recipeForm.get("ingredients").push(this.fb.group({name:["",[Ve.required]],amount:[null,[Ve.required]],unit:["",[Ve.required]],order_index:this.currentOrderIndex})),this.currentOrderIndex++,console.log(this.currentOrderIndex)}removeIngredient(n){this.recipeForm.get("ingredients").removeAt(n)}get ingredients(){return this.recipeForm.get("ingredients")}get image_recipe(){return this.recipeForm.get("image_recipe")}get video_recipe(){return this.recipeForm.get("video_recipe")}get preparation_method(){return this.recipeForm.get("preparation_method")}onSubmit(){this.recipeForm.invalid?alert("The form is not valid. Please fill in all required fields."):(this.recipeForm.patchValue({author:this.userData.firstName+" "+this.userData.lastName}),this.recipeForm.patchValue({uid:this.userData.uid}),this.addRecipe(this.recipeForm.value),this.recipeForm.reset())}addRecipe(n){H9(tg(this.firestore,"Recipe"),n).then(i=>{console.log("Document written with ID: ",i.id),this.router.navigate(["/recipe",i.id])}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||t)(b(ti),b(fl),b(qt),b(Io),b($e),b(Dr))};static#t=this.\u0275cmp=Ge({type:t,selectors:[["app-recipe-create"]],decls:43,vars:8,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[3,"formGroup"],[1,"title-wrapper"],[1,"title","add-recipe"],[1,"subtitle"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["type","text","id","subtitle","formControlName","subtitle"],["for","description"],["placeholder","Explain how to make your recipe ...","name","text","id","description","formControlName","description","cols","30","rows","5"],["for","summary"],["placeholder","Add any helpful tips about ingredient substitutions or storage here.","type","text","id","summary","formControlName","summary"],[1,"img-video"],[3,"imageUploaded",4,"ngIf"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["type","button",1,"button-img",3,"click"],[1,"fa-solid","fa-plus","fa-beat-fade"],["formArrayName","ingredients",1,"ingredients"],["type","button",1,"button",2,"width","100%",3,"click"],["class","errors",4,"ngIf"],[1,"errors"],[3,"imageUploaded"],[3,"formGroupName"],[1,"hint"],[1,"input-flex"],["type","text","id","image_recipe","formControlName","image_recipe"],["type","button",1,"removeInput",3,"click"],[1,"fa-solid","fa-xmark","fa-beat-fade"],["alt","Image Preview","class","image-preview",3,"src",4,"ngIf"],["alt","Image Preview",1,"image-preview",3,"src"],["type","text","id","video_recipe","formControlName","video_recipe","placeholder","Paste the video link here"],[1,"ingredient"],[1,"divider"],["type","button",1,"removeIngredient",3,"click"],["for","name"],["type","text","id","name","formControlName","name"],[1,"quantity-unit-index-wrapper"],[1,"quantity"],["for","amount"],["type","number","id","amount","formControlName","amount"],[1,"unit"],["for","ingredient_unit"],["id","ingredient_unit","formControlName","unit"],["value","","disabled","","selected","","hidden",""],["value","ts."],["value","tbs."],["value","tc."],["value","cc."],["value","gr."],["value","kg."],["value","ml."],["value","l."],["value","pieces"],[1,"order-index"],["for","ingredient_order_index"],["type","number","id","ingredient_order_index","formControlName","order_index"]],template:function(r,i){if(1&r&&(m(0,"div",0),k(1,"div",1),m(2,"div",2)(3,"form",3)(4,"div",4)(5,"h1",5),I(6,"Add a Recipe"),_()(),m(7,"h4",6),I(8," Uploading personal recipes is easy! Add yours to your favorites, share with friends, family, or the our community. "),_(),m(9,"label"),I(10,"Recipe Title "),_(),k(11,"input",7),N(12,yDe,2,1,"div",8),m(13,"label"),I(14,"Subtitle"),_(),k(15,"input",9),N(16,bDe,2,1,"div",8),m(17,"div")(18,"label",10),I(19,"Method of preparation"),_(),k(20,"textarea",11),_(),N(21,IDe,2,1,"div",8),m(22,"div")(23,"label",12),I(24,"Summary (optional)"),_(),k(25,"input",13),_(),m(26,"div",14),k(27,"br"),N(28,TDe,1,0,"app-image-upload",15),m(29,"div",16),N(30,CDe,12,2,"div",17),_(),m(31,"div",18),N(32,DDe,9,1,"div",17),m(33,"button",19),ie("click",function(){return i.addVideo()}),k(34,"i",20),I(35," Add a video link (optional) "),_()()(),m(36,"div",21),N(37,RDe,52,5,"div",17),_(),m(38,"button",19),ie("click",function(){return i.addIngredient()}),k(39,"i",20),I(40," Add one more ingredient "),_(),m(41,"button",22),ie("click",function(){return i.onSubmit()}),I(42," Submit Recipe "),_()()()()),2&r){let o,s,a;E(3),C("formGroup",i.recipeForm),E(9),C("ngIf",null==(o=i.recipeForm.get("title"))?null:o.touched),E(4),C("ngIf",null==(s=i.recipeForm.get("subtitle"))?null:s.touched),E(5),C("ngIf",null==(a=i.recipeForm.get("description"))?null:a.touched),E(7),C("ngIf",0==i.image_recipe.length),E(2),C("ngForOf",i.image_recipe.controls),E(2),C("ngForOf",i.video_recipe.controls),E(5),C("ngForOf",i.ingredients.controls)}},dependencies:[Yr,Fn,Wa,xT,OT,Ho,J_,cf,Ga,za,Go,Ps,sf,af,W9],styles:['form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}.title-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding-bottom:10px}.add-recipe[_ngcontent-%COMP%]:before{background:linear-gradient(to bottom,transparent 35%,var(--textColor) 35%,var(--textColor) 65%,transparent 65%),linear-gradient(to right,transparent 35%,var(--textColor) 35%,var(--textColor) 65%,transparent 65%);content:"";width:25px;height:25px;align-content:center;flex-wrap:nowrap;flex-direction:row}.add-recipe[_ngcontent-%COMP%]{display:flex;box-shadow:inset 0 -24px 0 0 var(--mainYellowColor);padding-bottom:10px;font-weight:900;color:var(--mainBlackColor)}.subtitle[_ngcontent-%COMP%]{font: 400 16px/24px Source Sans Pro,sans-serif;letter-spacing:0;color:var(--mainBlackColor)}label[_ngcontent-%COMP%]{color:var(--mainBlackColor);font-weight:700}textarea[_ngcontent-%COMP%]::placeholder, input[_ngcontent-%COMP%]::placeholder{font-weight:700;font-style:italic;opacity:.5;color:var(--textColor)}.input-flex[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:unset}.input-flex[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:baseline;margin-bottom:20px}.ingredient[_ngcontent-%COMP%]{background-color:var(--aliceBlueColor);box-shadow:0 1px 3px #0000004d;padding:20px;margin-bottom:30px;position:relative}.removeIngredient[_ngcontent-%COMP%]{all:unset;color:red;cursor:pointer;margin-top:20px;text-align:right}.removeIngredient[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.removeIngredient[_ngcontent-%COMP%]{position:absolute;top:-5px;right:16px}.removeInput[_ngcontent-%COMP%]{all:unset;color:red;cursor:pointer;text-align:right}.removeInput[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.fa-xmark[_ngcontent-%COMP%]{color:var(--textColor);border-radius:50%;border:2px solid var(--textColor);padding:4px 6px}.fa-xmark[_ngcontent-%COMP%]:hover{background-color:var(--textColor);color:var(--backgroundColor);border-color:var(--backgroundColor);transition:1s ease-in-out}.quantity-unit-index-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;margin:20px 0;text-align:center;align-items:flex-end;gap:10px}.quantity[_ngcontent-%COMP%]{flex-basis:150px}.order-index[_ngcontent-%COMP%]{flex-basis:50px}.unit[_ngcontent-%COMP%]{flex-grow:5}.unit[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:var(--textColor);font-style:italic;font-size:14px;outline:none;height:45px}']})}return t})(),K9=(()=>{class t{constructor(n){this.firestore=n}getRecipeById(n){var r=this;return p(function*(){const i=hs(r.firestore,"Recipe",n),o=yield YR(i);return o.exists()?o.data():null})()}updateRecipeLikes(n,r,i){var o=this;return p(function*(){const a=hs(o.firestore,"Recipe",n);try{i?(console.log("remove"),yield ng(a,{likes:LCe(r)})):(console.log("add"),yield ng(a,{likes:VCe(r)})),console.log("Recipe likes updated successfully")}catch(c){console.error("Error updating recipe likes: ",c)}})()}static#e=this.\u0275fac=function(r){return new(r||t)(W(ti))};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),JR=(()=>{class t{constructor(n){this.firestore=n,this.commentAddedSubject=new Fe}getCommentsForRecipe(n){var r=this;return p(function*(){try{const i=tg(r.firestore,"Comments"),o=G9(i,z9("recipeId","==",n)),s=yield QR(o),a=[];return s.forEach(c=>{const u=c.data();a.push({create_time:u.create_time,name:u.name,recipeId:u.recipeId,text:u.text,uid:u.uid,id:c.id})}),a.sort((c,u)=>{const l=c.create_time.toDate();return u.create_time.toDate()-l}),a}catch(i){return console.error("Error retrieving comments:",i),[]}})()}addComment(n){var r=this;return p(function*(){try{const i="Comments",o=yield H9(tg(r.firestore,i),n);return r.commentAddedSubject.next(),o.id}catch(i){return console.error("Error adding comment:",i),null}})()}deleteComment(n){var r=this;return p(function*(){try{const o=hs(r.firestore,"Comments",n);yield BCe(o),console.log("Comment deleted successfully:",n)}catch(i){console.error("Error deleting comment:",i)}})()}getCommentById(n){var r=this;return p(function*(){const i=hs(r.firestore,"Comments",n),o=yield YR(i);if(o.exists()){const s=o.data();return console.log(s.recipeId),o.data()}return null})()}editComment(n,r){var i=this;return p(function*(){try{const s=hs(i.firestore,"Comments",n);yield ng(s,r),console.log("Comment edited successfully:",n)}catch(o){console.error("Error editing comment:",o)}})()}getCommentAddedObservable(){return this.commentAddedSubject.asObservable()}static#e=this.\u0275fac=function(r){return new(r||t)(W(ti))};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function PDe(t,e){1&t&&(m(0,"div",9),I(1," Please write your comment here! "),_())}function FDe(t,e){if(1&t&&(m(0,"div"),N(1,PDe,2,0,"div",8),_()),2&t){const n=F();let r;E(1),C("ngIf",null==(r=n.commentForm.get("text"))||null==r.errors?null:r.errors.required)}}let LDe=(()=>{class t{constructor(n,r,i,o){this.fb=n,this.commentService=i,this.userService=o,this.timestamp=new Date,this.fullName="",this.userData=null,this.firestore=r}ngOnInit(){this.commentForm=this.fb.group({name:[""],text:["",Ve.required],recipeId:[this.recipeId],create_time:[this.timestamp],uid:[""]}),this.userService.userData$.subscribe({next:n=>{n?(this.userData=n,this.fullName=this.userData.firstName+" "+this.userData.lastName):this.fullName="Anonymous"},error:n=>{console.log(n)}})}onSubmit(){var n=this;return p(function*(){if(n.timestamp=new Date,n.commentForm.valid){n.commentForm.patchValue({name:n.fullName}),n.commentForm.patchValue({recipeId:n.recipeId}),n.commentForm.patchValue({create_time:n.timestamp}),n.commentForm.patchValue({uid:n.userData.uid});try{(yield n.commentService.addComment(n.commentForm.value))?(alert("You have successfully added your comment"),n.commentForm.reset()):console.error("Error adding comment.")}catch(r){console.error("An error occurred while submitting the comment:",r)}}})()}static#e=this.\u0275fac=function(r){return new(r||t)(b(fl),b(ti),b(JR),b(Io))};static#t=this.\u0275cmp=Ge({type:t,selectors:[["app-comment-form"]],inputs:{recipeId:"recipeId"},decls:15,vars:2,consts:[[1,"commentWrapper"],["id","commentForm",3,"formGroup","ngSubmit"],[1,"divider"],[1,"form-group"],["for","text"],["placeholder","Please write your comment here!","id","text","formControlName","text","rows","5","cols","30",1,"form-control"],[4,"ngIf"],["type","submit",1,"button",2,"width","100%"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(m(0,"div",0)(1,"form",1),ie("ngSubmit",function(){return i.onSubmit()}),m(2,"div",2),k(3,"hr"),m(4,"p"),I(5,"\xa0\xa0Comment\xa0\xa0"),_(),k(6,"hr"),_(),m(7,"div",3)(8,"label",4),I(9,"Comment (required)"),_(),k(10,"textarea",5),_(),N(11,FDe,2,1,"div",6),k(12,"br"),m(13,"button",7),I(14,"Submit"),_()()()),2&r){let o;E(1),C("formGroup",i.commentForm),E(10),C("ngIf",null==(o=i.commentForm.get("text"))?null:o.touched)}},dependencies:[Fn,Wa,Ho,Ga,za,Go,Ps],styles:["form#commentForm[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:100%;border:unset}"]})}return t})(),Y9=(()=>{class t{constructor(n){this.sanitizer=n}transform(n){let r;if(n.startsWith("https://m."))r=new URLSearchParams(n.split("?")[1]).get("v")||"";else{const o=n.split("/");r=o[o.length-1]}return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+r)}static#e=this.\u0275fac=function(r){return new(r||t)(b(SU,16))};static#t=this.\u0275pipe=Wn({name:"safeUrl",type:t,pure:!0})}return t})();function VDe(t,e){if(1&t&&(m(0,"div",23),I(1),_()),2&t){const n=F();E(1),Ai(" ",null==n.recipe?null:n.recipe.summary," ")}}function BDe(t,e){1&t&&(m(0,"div"),k(1,"br"),_())}function UDe(t,e){if(1&t&&(m(0,"li"),k(1,"img",26),_()),2&t){const n=e.$implicit;E(1),C("src",n.image_recipe,Sa)}}function jDe(t,e){if(1&t&&(m(0,"ul",24),N(1,UDe,2,1,"li",25),_()),2&t){const n=F();E(1),C("ngForOf",null==n.recipe?null:n.recipe.image_recipe)}}function $De(t,e){1&t&&(Gm(0),k(1,"i",27),zm())}function HDe(t,e){1&t&&k(0,"i",28)}function GDe(t,e){1&t&&(m(0,"div",14),k(1,"hr"),m(2,"p"),I(3,"\xa0\xa0Ingredients\xa0\xa0"),_(),k(4,"hr"),_())}function zDe(t,e){if(1&t&&(m(0,"li"),I(1),_()),2&t){const n=F().$implicit;E(1),Aw(" ",n.name," - ",n.amount," ",n.unit," ")}}function qDe(t,e){if(1&t&&(m(0,"ul",29),N(1,zDe,2,3,"li",8),_()),2&t){const n=F();E(1),C("ngIf",null==n.recipe?null:n.recipe.ingredients)}}function WDe(t,e){if(1&t&&(m(0,"li"),k(1,"iframe",31),Ju(2,"safeUrl"),_()),2&t){const n=e.$implicit;E(1),C("src",Eh(2,1,n.video_recipe),bm)}}function KDe(t,e){if(1&t&&(m(0,"div",30)(1,"div",14),k(2,"hr"),m(3,"p"),I(4,"\xa0\xa0Video\xa0\xa0"),_(),k(5,"hr"),_(),k(6,"br"),m(7,"ul"),N(8,WDe,3,3,"li",25),_()()),2&t){const n=F();E(8),C("ngForOf",null==n.recipe?null:n.recipe.video_recipe)}}function YDe(t,e){if(1&t){const n=It();m(0,"button",21),ie("click",function(){return ht(n),ft(F().toggleCommentForm())}),I(1," Would you like to comment? "),_()}}function QDe(t,e){if(1&t){const n=It();m(0,"button",21),ie("click",function(){return ht(n),ft(F().toggleCommentForm())}),I(1," Hide comment form "),_()}}function JDe(t,e){if(1&t&&(m(0,"div"),k(1,"app-comment-form",32),_()),2&t){const n=F();E(1),C("recipeId",n.recipeId)}}function ZDe(t,e){1&t&&(m(0,"div",14),k(1,"hr"),m(2,"p"),I(3,"\xa0\xa0Comments\xa0\xa0"),_(),k(4,"hr"),_())}function XDe(t,e){if(1&t){const n=It();m(0,"span",37),ie("click",function(){ht(n);const i=F().$implicit;return ft(F(2).deleteComment(i.id))}),k(1,"i",38),_()}}function eSe(t,e){if(1&t){const n=It();m(0,"span",37),ie("click",function(){ht(n);const i=F().$implicit;return ft(F(2).navigateToCommentEdit(i.id))}),k(1,"i",39),_()}}function tSe(t,e){if(1&t&&(m(0,"ul")(1,"li"),I(2),_(),m(3,"li"),I(4),_(),m(5,"li",34)(6,"p"),I(7),Ju(8,"date"),_(),m(9,"div",35),N(10,XDe,2,0,"span",36),N(11,eSe,2,0,"span",36),_()()()),2&t){const n=e.$implicit,r=F(2);E(2),At(n.name),E(2),At(n.text),E(3),Ai(" ",EV(8,5,n.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," "),E(3),C("ngIf",n.uid==r.userData.uid),E(1),C("ngIf",n.uid==r.userData.uid)}}function nSe(t,e){if(1&t&&(m(0,"section",33),N(1,tSe,12,8,"ul",25),_()),2&t){const n=F();E(1),C("ngForOf",n.comments)}}let rSe=(()=>{class t{constructor(n,r,i,o,s,a){var c=this;this.route=n,this.recipeService=r,this.commentService=i,this.userService=o,this.firestore=s,this.router=a,this.recipe=null,this.recipeId="",this.comments=[],this.showCommentForm=!1,this.route.paramMap.subscribe(function(){var u=p(function*(l){const d=l.get("id");c.recipeId=d});return function(l){return u.apply(this,arguments)}}()),i.getCommentAddedObservable().subscribe(()=>{console.log("Comment successfully added."),this.loadCommentsForRecipe()})}loadRecipeData(){var n=this;return p(function*(){if(n.recipeId)try{n.recipe=yield n.recipeService.getRecipeById(n.recipeId),n.comments=yield n.commentService.getCommentsForRecipe(n.recipeId),console.log("Recipe data loaded successfully.")}catch(r){console.error("An error occurred while loading recipe data:",r)}})()}navigateToRecipeEdit(){this.router.navigate(["/dashboard/recipe-edit",this.recipeId])}ngOnInit(){this.loadRecipeData(),this.userService.userData$.subscribe(n=>{this.userData=n})}toggleCommentForm(){this.showCommentForm=!this.showCommentForm}navigateToCommentEdit(n){this.router.navigate(["/comment-edit",n])}deleteComment(n){this.commentService.deleteComment(n),this.loadCommentsForRecipe()}updateRecipeLikes(){var n=this;return p(function*(){if(!n.recipe)return void console.error("Recipe data is missing.");if(!n.userData.uid)return void console.error("User is not logged in.");let r=n.recipe.likes.includes(n.userData.uid);console.log(`alreadyLiked ${r}`),console.log(`likes len ${n.recipe.likes.length}`),yield n.recipeService.updateRecipeLikes(n.recipeId,n.userData.uid,r),yield n.loadRecipeData()})()}loadCommentsForRecipe(){var n=this;return p(function*(){n.recipeId&&(n.comments=yield n.commentService.getCommentsForRecipe(n.recipeId))})()}static#e=this.\u0275fac=function(r){return new(r||t)(b(oo),b(K9),b(JR),b(Io),b(ti),b(qt))};static#t=this.\u0275cmp=Ge({type:t,selectors:[["app-recipe"]],decls:46,vars:17,consts:[[1,"mainLong"],[1,"headerImage"],[1,"wrapper-list"],[1,"recipe-container"],[1,"title-wrapper"],[1,"title"],[1,"recipe-subtitle"],["class","recipe-summary",4,"ngIf"],[4,"ngIf"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],[1,"button",3,"click"],[4,"ngIf","ngIfElse"],["notLiked",""],[1,"divider"],[1,"recipe-description-text","description"],["class","divider",4,"ngIf"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-videos",4,"ngIf"],[1,"buttons"],["class","button-img",3,"click",4,"ngIf"],[1,"button-img",3,"click"],["class","comments",4,"ngIf"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","Image of a recipe",3,"src"],[1,"fa-solid","fa-heart","fa-beat-fade"],[1,"fa-regular","fa-heart","fa-beat-fade"],[1,"recipe-ingredients"],[1,"recipe-videos"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"],[3,"recipeId"],[1,"comments"],[1,"comments-last"],[1,"commentBtnWrapper"],[3,"click",4,"ngIf"],[3,"click"],[1,"fa-solid","fa-trash","fa-shake"],[1,"fa-regular","fa-pen-to-square","fa-flip"]],template:function(r,i){if(1&r&&(m(0,"div",0),k(1,"div",1),m(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),I(6),_()(),m(7,"h3",6),I(8),_(),N(9,VDe,2,1,"div",7),N(10,BDe,2,0,"div",8),m(11,"div",9),N(12,jDe,2,1,"ul",10),m(13,"button",11),ie("click",function(){return i.updateRecipeLikes()}),N(14,$De,2,0,"ng-container",12),N(15,HDe,1,0,"ng-template",null,13,Wr),_(),m(17,"span"),I(18),_(),m(19,"div",14),k(20,"hr"),m(21,"p"),I(22,"\xa0\xa0Preparation\xa0\xa0"),_(),k(23,"hr"),_(),k(24,"br"),m(25,"p",15),I(26),_(),k(27,"br"),N(28,GDe,5,0,"div",16),k(29,"br"),N(30,qDe,2,1,"ul",17),N(31,KDe,9,1,"div",18),m(32,"div",14),k(33,"hr"),m(34,"p"),I(35,"\xa0\xa0Buttons\xa0\xa0"),_(),k(36,"hr"),_(),k(37,"br"),m(38,"div",19),N(39,YDe,2,0,"button",20),N(40,QDe,2,0,"button",20),m(41,"button",21),ie("click",function(){return i.navigateToRecipeEdit()}),I(42," Edit Recipe "),_()(),N(43,JDe,2,1,"div",8),N(44,ZDe,5,0,"div",16),N(45,nSe,2,1,"section",22),_()()()()),2&r){const o=zr(16);E(6),At(null==i.recipe?null:i.recipe.title),E(2),At(null==i.recipe?null:i.recipe.subtitle),E(1),C("ngIf",null==i.recipe?null:i.recipe.summary),E(1),C("ngIf",!(null!=i.recipe&&i.recipe.summary)),E(2),C("ngIf",(null==i.recipe?null:i.recipe.image_recipe)&&(null==i.recipe||null==i.recipe.image_recipe?null:i.recipe.image_recipe.length)>0),E(2),C("ngIf",i.recipe&&i.recipe.likes&&i.recipe.likes.includes(null==i.userData?null:i.userData.uid))("ngIfElse",o),E(4),At(null==i.recipe||null==i.recipe.likes?null:i.recipe.likes.length),E(8),Ai(" ",null==i.recipe?null:i.recipe.description," "),E(2),C("ngIf",null==i.recipe?null:i.recipe.ingredients),E(2),C("ngForOf",null==i.recipe?null:i.recipe.ingredients),E(1),C("ngIf",(null==i.recipe?null:i.recipe.video_recipe)&&(null==i.recipe||null==i.recipe.video_recipe?null:i.recipe.video_recipe.length)>0),E(8),C("ngIf",!i.showCommentForm),E(1),C("ngIf",i.showCommentForm),E(3),C("ngIf",i.showCommentForm),E(1),C("ngIf",i.comments.length>0),E(1),C("ngIf",i.comments.length>0)}},dependencies:[Yr,Fn,LDe,rU,Y9],styles:[".recipe-container[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:800px;margin:-50px auto 50px;padding:32px;box-shadow:0 1px 3px #0000004d}.title[_ngcontent-%COMP%]{font-size:28px;box-shadow:unset;color:var(--textColor);background:#e8e8e8;text-shadow:-1px -1px 1px rgba(255,255,255,.1),1px 1px 1px rgba(0,0,0,.5)}.recipe-subtitle[_ngcontent-%COMP%]{font-size:14px;margin-top:-10px;color:var(--mainGreyColor);font-style:italic;white-space:pre-wrap}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic;white-space:pre-wrap}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}ul.recipe-image[_ngcontent-%COMP%]{padding-left:unset}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.buttons[_ngcontent-%COMP%]{padding:0 32px;display:flex;justify-content:space-between}.comments[_ngcontent-%COMP%]{border:1px solid var(--borderColor);margin:30px 0;padding:20px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:10px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:5px}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--mainGreyColor)}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--backgroundColor);padding-left:5px;border-radius:5px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--mainMagnoliaColor);font-style:italic;border-radius:5px}.commentBtnWrapper[_ngcontent-%COMP%]{display:flex;gap:10px}.comments-last[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.fa-solid.fa-trash.fa-shake[_ngcontent-%COMP%], .fa-regular.fa-pen-to-square.fa-flip[_ngcontent-%COMP%]{cursor:pointer;color:var(----mainRGBAColor);background-color:var(--backgroundColor);padding:8px 10px;border:3px solid var(--mainRGBAColor);border-radius:50%;transition:1s ease-in-out}.fa-solid.fa-trash.fa-shake[_ngcontent-%COMP%]:hover, .fa-regular.fa-pen-to-square.fa-flip[_ngcontent-%COMP%]:hover{color:var(--backgroundColor);background-color:var(--mainRGBAColor);padding:8px 10px;border:3px solid var(--mainRGBAColor);border-radius:50%}"]})}return t})(),iSe=(()=>{class t{transform(n){return new Date(parseInt(n,10)).toLocaleString()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275pipe=Wn({name:"timestampFormat",type:t,pure:!0})}return t})(),oSe=(()=>{class t{constructor(n){this.userService=n}ngOnInit(){this.userService.userData$.subscribe(n=>{this.user=n})}static#e=this.\u0275fac=function(r){return new(r||t)(b(Io))};static#t=this.\u0275cmp=Ge({type:t,selectors:[["app-user-info"]],decls:32,vars:9,consts:[[1,"main-short"],[1,"wrapper"],[1,"title"],[1,"user-details"],[1,"detail"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"h1",2),I(3,"Info"),_(),m(4,"div",3)(5,"div",4)(6,"span"),I(7,"Email:"),_(),m(8,"span"),I(9),_()(),m(10,"div",4)(11,"span"),I(12,"First name:"),_(),m(13,"span"),I(14),_()(),m(15,"div",4)(16,"span"),I(17,"Last name:"),_(),m(18,"span"),I(19),_()(),m(20,"div",4)(21,"span"),I(22,"Created at:"),_(),m(23,"span"),I(24),Ju(25,"timestampFormat"),_()(),m(26,"div",4)(27,"span"),I(28,"Last login:"),_(),m(29,"span"),I(30),Ju(31,"timestampFormat"),_()()()()()),2&r&&(E(9),At(i.user.email),E(5),At(i.user.firstName),E(5),At(i.user.lastName),E(5),At(Eh(25,5,i.user.metadata.createdAt)),E(6),At(Eh(31,7,i.user.metadata.lastLoginAt)))},dependencies:[iSe],styles:[".wrapper[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}.nav-link[_ngcontent-%COMP%]{background-color:var(--textColor);border:1px solid var(--mainBlackColor)}.user-details[_ngcontent-%COMP%]{background-color:var(--mainColor);color:var(--mainWhiteColor);display:flex;flex-direction:column;align-items:center;padding:20px;border:1px solid var(--borderColor);border-radius:8px;box-shadow:0 2px 4px #0000001a}.detail[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;margin-bottom:10px}.detail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){margin-left:10px}.wrapper[_ngcontent-%COMP%]{padding:0 5%}"]})}return t})();function sSe(t,e){1&t&&(m(0,"div")(1,"main",3)(2,"div",4)(3,"h1",5),I(4," You have no recipes added yet! "),_(),m(5,"button",6),I(6,"Add your first recipe!"),_()()()())}const aSe=function(t){return["/recipe",t]};function cSe(t,e){if(1&t&&(m(0,"div")(1,"a",13)(2,"div",14)(3,"div",15),k(4,"img",16),_(),m(5,"p",17),I(6),_()()()()),2&t){const n=e.$implicit;E(1),C("routerLink",ka(4,aSe,n.id)),E(3),ph("alt",n.title),C("src",n.image_recipe[0].image_recipe,Sa),E(2),At(n.title)}}function uSe(t,e){if(1&t&&(m(0,"main",7)(1,"section",8)(2,"div",9)(3,"h1",10),I(4),_()(),m(5,"div",11),N(6,cSe,7,6,"div",12),_()()()),2&t){const n=F();E(4),Ai(" Recipes by ",n.userData.firstName+" "+n.userData.lastName," "),E(2),C("ngForOf",n.recipes)}}let lSe=(()=>{class t{constructor(n,r,i){this.userService=n,this.firestore=r,this.recipeService=i,this.userData=null,this.recipes=[],this.emptyRecipes=!0}ngOnInit(){this.userService.userData$.subscribe({next:n=>{n?(this.userData=n,console.log(n.uid),this.loadRecipesByUID(n.uid),console.log(this.emptyRecipes)):console.log(`Cant found user with this UID ${n.uid}`)},error:n=>{console.log(n)}})}loadRecipesByUID(n){var r=this;return p(function*(){try{const i=yield r.recipeService.getRecipeByUID(n);console.log(i),r.recipes=i,i&&(r.emptyRecipes=!1)}catch(i){console.error("Error fetching recipes:",i)}})()}static#e=this.\u0275fac=function(r){return new(r||t)(b(Io),b(ti),b(q9))};static#t=this.\u0275cmp=Ge({type:t,selectors:[["app-user-recipes"]],decls:4,vars:2,consts:[[1,"headerImage"],[4,"ngIf","ngIfElse"],["recipesList",""],[1,"main-short"],[1,"title-wrapper",2,"box-shadow","0 1px 3px 0 rgba(0, 0, 0, .3)","align-items","center","flex-direction","column","margin-top","50px"],[1,"title",2,"text-align","center","margin-bottom","50px"],[1,"button"],[1,"main-long"],[1,"recipes-list"],[1,"title-wrapper"],[1,"title"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"]],template:function(r,i){if(1&r&&(k(0,"div",0),N(1,sSe,7,0,"div",1),N(2,uSe,7,2,"ng-template",null,2,Wr)),2&r){const o=zr(3);E(1),C("ngIf",0===i.recipes.length)("ngIfElse",o)}},dependencies:[Yr,Fn,ki],styles:[".recipe-list[_ngcontent-%COMP%]{max-width:1200px;position:relative;margin:0 auto;display:grid;grid-template-columns:repeat(4,1fr)}.recipe-item[_ngcontent-%COMP%]{border:1px solid var(--mainWhiteColor);margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-title[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);background:var(--backgroundColor);color:var(--mainBlackColor);font-weight:600;padding:0 5px;margin:0;text-align:center;width:100%;top:70%;height:30%;font-family:var(--titleFont);text-transform:capitalize;display:flex;align-items:center;justify-content:center}.recipe-item[_ngcontent-%COMP%]:hover{transform:scale(.95);transition:1s ease-in-out}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;top:2%;height:30%;color:var(--mainBlackColor);background:var(--mainMagnoliaColor);transition:1s ease-in-out}@media (max-width: 460px){.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 5%}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px;height:25%;top:75%}}@media (min-width: 461px) and (max-width: 767px){.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 10%}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:16px;height:20%;top:79%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);padding:0 5%;column-gap:10px}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);padding:0 5%;column-gap:10px}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return t})(),dSe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["app-dashboard"]],decls:17,vars:0,consts:[[1,"nav","nav-tabs"],[1,"nav-item"],["aria-current","page","routerLink","/dashboard/user-recipes","href","#",1,"nav-link"],["aria-current","page","routerLink","/dashboard/recipe-create","href","#",1,"nav-link"],["aria-current","page","routerLink","/dashboard/user-info","href","#",1,"nav-link"]],template:function(r,i){1&r&&(m(0,"ul",0)(1,"li",1)(2,"a",2),I(3,"My recipes"),_()(),m(4,"li",1)(5,"a",3),I(6,"Create recipe"),_()(),m(7,"li",1)(8,"a",4),I(9,"Favorite recipes"),_()(),m(10,"li",1)(11,"a",4),I(12,"My comments"),_()(),m(13,"li",1)(14,"a",4),I(15,"Profile"),_()()(),k(16,"router-outlet"))},dependencies:[R_,ki]})}return t})();function hSe(t,e){1&t&&(m(0,"div",29),I(1," Please fill in the title! "),_())}function fSe(t,e){if(1&t&&(m(0,"div"),N(1,hSe,2,0,"div",28),_()),2&t){const n=F();let r;E(1),C("ngIf",null==(r=n.recipeEdit.get("title"))||null==r.errors?null:r.errors.required)}}function pSe(t,e){1&t&&(m(0,"div",29),I(1," Please fill in a subtitle! "),_())}function gSe(t,e){if(1&t&&(m(0,"div"),N(1,pSe,2,0,"div",28),_()),2&t){const n=F();let r;E(1),C("ngIf",null==(r=n.recipeEdit.get("subtitle"))||null==r.errors?null:r.errors.required)}}function mSe(t,e){1&t&&(m(0,"div",29),I(1," Please fill in the method of preparation! "),_())}function _Se(t,e){if(1&t&&(m(0,"div"),N(1,mSe,2,0,"div",28),_()),2&t){const n=F();let r;E(1),C("ngIf",null==(r=n.recipeEdit.get("description"))||null==r.errors?null:r.errors.required)}}function ySe(t,e){if(1&t&&k(0,"img",36),2&t){const n=F().index;let i;C("src",null==(i=F().image_recipe.controls[n].get("image_recipe"))?null:i.value,Sa)}}function vSe(t,e){if(1&t){const n=It();m(0,"div",30)(1,"p",11),I(2,"Added image"),_(),m(3,"label",31),I(4,"\u0421\u043d\u0438\u043c\u043a\u0430"),_(),k(5,"input",32),N(6,ySe,1,1,"img",33),m(7,"button",34),ie("click",function(){const o=ht(n).index;return ft(F().removeImage(o))}),k(8,"i",35),I(9,"\xa0Remove added image "),_()()}if(2&t){const n=e.index,r=F();let i;C("formGroupName",n),E(3),C("for","image_recipe"+n),E(2),C("id","image_recipe"+n),E(1),C("ngIf",null==(i=r.image_recipe.controls[n].get("image_recipe"))?null:i.value)}}function bSe(t,e){if(1&t&&(m(0,"div"),k(1,"iframe",38),Ju(2,"safeUrl"),_()),2&t){const n=F().index,r=F();let i;E(1),C("src",Eh(2,1,null==(i=r.video_recipe.controls[n].get("video_recipe"))?null:i.value),bm)}}function wSe(t,e){if(1&t){const n=It();m(0,"div",30)(1,"label",31),I(2,"Video"),_(),k(3,"input",37),N(4,bSe,3,3,"div",6),m(5,"button",34),ie("click",function(){const o=ht(n).index;return ft(F().removeVideo(o))}),k(6,"i",35),I(7,"\xa0Remove the video link "),_()()}if(2&t){const n=e.index,r=F();let i;C("formGroupName",n),E(1),C("for","video_recipe"+n),E(2),C("id","video_recipe"+n),E(1),C("ngIf",null==(i=r.video_recipe.controls[n].get("video_recipe"))?null:i.value)}}function ISe(t,e){1&t&&(m(0,"div",29),I(1," Please enter an ingredient name! "),_())}function TSe(t,e){if(1&t&&(m(0,"div"),N(1,ISe,2,0,"div",28),_()),2&t){const n=F().index,r=F();let i;E(1),C("ngIf",null==(i=r.recipeEdit.get("ingredients."+n+".name"))||null==i.errors?null:i.errors.required)}}function ESe(t,e){1&t&&(m(0,"div",29),I(1," Please fill in the quantity of the ingredient! "),_())}function CSe(t,e){if(1&t&&(m(0,"div"),N(1,ESe,2,0,"div",28),_()),2&t){const n=F().index,r=F();let i;E(1),C("ngIf",null==(i=r.recipeEdit.get("ingredients."+n+".amount"))||null==i.errors?null:i.errors.required)}}function DSe(t,e){1&t&&(m(0,"div",29),I(1," Please select a unit of measurement! "),_())}function SSe(t,e){if(1&t&&(m(0,"div"),N(1,DSe,2,0,"div",28),_()),2&t){const n=F().index,r=F();let i;E(1),C("ngIf",null==(i=r.recipeEdit.get("ingredients."+n+".unit"))||null==i.errors?null:i.errors.required)}}function ASe(t,e){if(1&t){const n=It();m(0,"div",30)(1,"div",39)(2,"div",40),k(3,"hr"),m(4,"p"),I(5,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0430\xa0\xa0"),_(),k(6,"hr"),_(),m(7,"label",31),I(8,"Name (required):"),_(),k(9,"input",41),N(10,TSe,2,1,"div",6),m(11,"label",31),I(12,"Quantity (required):"),_(),k(13,"input",42),N(14,CSe,2,1,"div",6),m(15,"label",31),I(16,"Unit of measurement (required):"),_(),m(17,"p",11),I(18,"In which we measure the ingredient"),_(),m(19,"select",43)(20,"option",44),I(21,"Tea spoon"),_(),m(22,"option",45),I(23,"Tablespoon"),_(),m(24,"option",46),I(25,"Tea cup"),_(),m(26,"option",47),I(27,"Coffee cup"),_(),m(28,"option",48),I(29,"Gram"),_(),m(30,"option",49),I(31,"Kilogram"),_(),m(32,"option",50),I(33,"Milliliter"),_(),m(34,"option",51),I(35,"Liter"),_(),m(36,"option",52),I(37,"Pieces"),_()(),N(38,SSe,2,1,"div",6),m(39,"label",31),I(40,"Order index:"),_(),m(41,"p",11),I(42," The order in which the ingredients appear in the recipe "),_(),k(43,"input",53)(44,"hr"),m(45,"button",34),ie("click",function(){const o=ht(n).index;return ft(F().removeIngredient(o))}),k(46,"i",35),I(47,"\xa0Remove the ingredient "),_()()()}if(2&t){const n=e.index,r=F();let i,o,s;C("formGroupName",n),E(7),C("for","name"+n),E(2),C("id","name"+n),E(1),C("ngIf",null==(i=r.recipeEdit.get("ingredients."+n+".name"))?null:i.touched),E(1),C("for","amount"+n),E(2),C("id","amount"+n),E(1),C("ngIf",null==(o=r.recipeEdit.get("ingredients."+n+".amount"))?null:o.touched),E(1),C("for","unit"+n),E(4),C("id","unit"+n),E(19),C("ngIf",null==(s=r.recipeEdit.get("ingredients."+n+".unit"))?null:s.touched),E(1),C("for","order_index"+n),E(4),C("id","order_index"+n)}}let xSe=(()=>{class t{constructor(n,r,i,o,s){this.route=n,this.router=r,this.fb=i,this.recipeService=o,this.recipe=null,this.recipeId="",this.firestore=s}initializeForm(){this.recipeEdit=this.fb.group({is_active:[!1],title:["",[Ve.required]],subtitle:["",[Ve.required]],description:["",[Ve.required]],summary:[""],author:[""],uid:[""],likes:this.fb.array([]),image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([])})}loadData(){var n=this;return p(function*(){n.route.paramMap.subscribe(function(){var r=p(function*(i){const o=i.get("id");if(n.recipeId=o,o)try{n.recipe=yield n.recipeService.getRecipeById(o),n.patchFormWithRecipeData()}catch(s){throw console.error("An error occurred while retrieving the recipe:",s),s}else console.error("Recipe ID not provided.")});return function(i){return r.apply(this,arguments)}}())})()}patchFormWithRecipeData(){if(this.recipe&&this.recipeEdit){const n=this.recipeEdit.get("ingredients"),r=this.recipeEdit.get("image_recipe"),i=this.recipeEdit.get("video_recipe"),o=this.recipeEdit.get("preparation_method");n.clear(),r.clear(),i.clear(),o.clear(),this.recipe.ingredients.forEach(s=>{n.push(this.fb.group({name:[s.name,[Ve.required]],amount:[s.amount,[Ve.required]],unit:[s.unit,[Ve.required]],order_index:[s.order_index]}))}),this.recipe.image_recipe&&this.recipe.image_recipe.length>0&&this.recipe.image_recipe.forEach(s=>{r.push(this.fb.group({image_recipe:[s.image_recipe]}))}),this.recipe.video_recipe&&this.recipe.video_recipe.length>0&&this.recipe.video_recipe.forEach(s=>{i.push(this.fb.group({video_recipe:[s.video_recipe]}))}),this.recipe.preparation_method&&this.recipe.preparation_method.length>0&&this.recipe.preparation_method.forEach(s=>{o.push(this.fb.group({preparation_method:[s.preparation_method]}))}),this.recipeEdit.patchValue({title:this.recipe.title,summary:this.recipe.summary,description:this.recipe.description,is_active:this.recipe.is_active,subtitle:this.recipe.subtitle,likes:this.recipe.likes,author:this.recipe.author,uid:this.recipe.uid})}}ngOnInit(){var n=this;return p(function*(){n.initializeForm(),yield n.loadData()})()}addImageToForm(n){this.recipeEdit.get("image_recipe").push(this.fb.group({image_recipe:n}))}removeImage(n){this.recipeEdit.get("image_recipe").removeAt(n)}addVideo(){this.recipeEdit.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(n){this.recipeEdit.get("video_recipe").removeAt(n)}addPreparation(){this.recipeEdit.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(n){this.recipeEdit.get("preparation_method").removeAt(n)}addIngredient(){this.recipeEdit.get("ingredients").push(this.fb.group({name:["",[Ve.required]],amount:["",[Ve.required]],unit:["",[Ve.required]],order_index:[0]}))}removeIngredient(n){this.recipeEdit.get("ingredients").removeAt(n)}get ingredients(){return this.recipeEdit.get("ingredients")}get image_recipe(){return this.recipeEdit.get("image_recipe")}get video_recipe(){return this.recipeEdit.get("video_recipe")}get preparation_method(){return this.recipeEdit.get("preparation_method")}onSubmit(){this.recipeEdit.invalid?alert("The form is not valid. Please fill in all required fields."):(this.addRecipe(this.recipeEdit.value),this.recipeEdit.reset())}addRecipe(n){const i=hs(this.firestore,"Recipe",this.recipeId);ng(i,n),this.router.navigate(["/recipe",this.recipeId])}static#e=this.\u0275fac=function(r){return new(r||t)(b(oo),b(qt),b(fl),b(K9),b(ti))};static#t=this.\u0275cmp=Ge({type:t,selectors:[["app-recipe-edit"]],decls:51,vars:7,consts:[[1,"main-long"],[1,"wrapper"],[1,"title"],[3,"formGroup"],["for","title"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["type","text","id","subtitle","formControlName","subtitle"],["for","description"],["name","text","id","description","formControlName","description","cols","30","rows","10"],["for","summary"],[1,"hint"],["type","text","id","summary","formControlName","summary"],[3,"imageUploaded"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["type","button",1,"button-img",3,"click"],["formArrayName","ingredients"],["type","button-img",1,"addIngredient",3,"click"],[1,"fa-solid","fa-plus","fa-beat-fade"],["type","button",1,"button",2,"width","100%",3,"click"],["href","javascript:history.back()",1,"back-button"],[1,"button-box"],[1,"button-elem"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],["viewBox","0 0 46 40"],["class","errors",4,"ngIf"],[1,"errors"],[3,"formGroupName"],[3,"for"],["type","text","formControlName","image_recipe",3,"id"],["alt","Image Preview","class","image-preview",3,"src",4,"ngIf"],["type","button",1,"removeIngredient",3,"click"],[1,"fa-solid","fa-trash","fa-shake"],["alt","Image Preview",1,"image-preview",3,"src"],["type","text","formControlName","video_recipe",3,"id"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"],[1,"ingredient"],[1,"divider"],["type","text","formControlName","name",3,"id"],["type","number","formControlName","amount",3,"id"],["formControlName","unit",3,"id"],["value","ts."],["value","tbs."],["value","tc."],["value","cc."],["value","gr."],["value","kg."],["value","ml."],["value","l."],["value","pieces"],["type","number","formControlName","order_index",3,"id"]],template:function(r,i){if(1&r&&(m(0,"div",0)(1,"div",1)(2,"h1",2),I(3,"Edit a recipe"),_(),m(4,"form",3)(5,"label",4),I(6," Title (required): "),_(),k(7,"input",5),N(8,fSe,2,1,"div",6),m(9,"label"),I(10," Subtitle (required): "),k(11,"input",7),_(),N(12,gSe,2,1,"div",6),m(13,"div")(14,"label",8),I(15,"Method of preparation (required):"),_(),k(16,"textarea",9),_(),N(17,_Se,2,1,"div",6),m(18,"div")(19,"label",10),I(20,"Summary:"),_(),m(21,"p",11),I(22,"Recipe summary"),_(),k(23,"input",12),_(),m(24,"div"),k(25,"br"),m(26,"app-image-upload",13),ie("imageUploaded",function(s){return i.addImageToForm(s)}),_(),m(27,"div",14),N(28,vSe,10,4,"div",15),_(),m(29,"div",16),N(30,wSe,8,4,"div",15),m(31,"button",17),ie("click",function(){return i.addVideo()}),I(32," Add a video link to a recipe "),_()()(),m(33,"div",18),N(34,ASe,48,12,"div",15),_(),k(35,"br"),m(36,"button",19),ie("click",function(){return i.addIngredient()}),k(37,"i",20),I(38," Add one more ingredient "),_(),m(39,"button",21),ie("click",function(){return i.onSubmit()}),I(40,"Save the changes"),_(),k(41,"hr"),I(42," Go Back "),m(43,"a",22)(44,"div",23)(45,"span",24),gu(),m(46,"svg",25),k(47,"path",26),_()(),qg(),m(48,"span",24),gu(),m(49,"svg",27),k(50,"path",26),_()()()()()()()),2&r){let o,s,a;E(4),C("formGroup",i.recipeEdit),E(4),C("ngIf",null==(o=i.recipeEdit.get("title"))?null:o.touched),E(4),C("ngIf",null==(s=i.recipeEdit.get("subtitle"))?null:s.touched),E(5),C("ngIf",null==(a=i.recipeEdit.get("description"))?null:a.touched),E(11),C("ngForOf",i.image_recipe.controls),E(2),C("ngForOf",i.video_recipe.controls),E(4),C("ngForOf",i.ingredients.controls)}},dependencies:[Yr,Fn,Wa,xT,OT,Ho,J_,cf,Ga,za,Go,Ps,sf,af,W9,Y9],styles:[".tiny[_ngcontent-%COMP%]{margin:20px 0}.addIngredient[_ngcontent-%COMP%]{all:unset;color:var(--mainGreenColor);cursor:pointer;margin:0 0 20px 30px}.addIngredient[_ngcontent-%COMP%]:hover{background-color:unset;color:var(--mainRedColor);box-shadow:unset}form[_ngcontent-%COMP%]{max-width:600px;margin:0 auto 50px;padding:20px;background-color:var(--backgroundColor);border-radius:10px}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--mainBackgroundColor);border:none}}"]})}return t})();function NSe(t,e){1&t&&(m(0,"div",11),I(1," Please write a comment! "),_())}function OSe(t,e){if(1&t&&(m(0,"div"),N(1,NSe,2,0,"div",10),_()),2&t){const n=F();let r;E(1),C("ngIf",null==(r=n.commentFormEdit.get("text"))||null==r.errors?null:r.errors.required)}}const MSe=[{path:"",pathMatch:"full",component:dDe},{path:"register",component:tDe},{path:"login",component:uDe},{path:"forgot-password",component:lDe},{path:"dashboard",component:dSe,children:[{path:"user-recipes",component:lSe},{path:"recipe-create",component:kDe},{path:"recipe-edit/:id",component:xSe},{path:"user-info",component:oSe}]},{path:"recipes-list",component:pDe},{path:"recipe/:id",component:rSe,canActivate:[(t,e)=>{const n=G(Io),r=G(qt);return n.userData$.pipe(ai(i=>ce(!!i&&i.isActive)),xe(i=>!!i||(alert("Not authorized"),console.log("Not authorized"),r.createUrlTree(["/login"],{queryParams:{returnUrl:e.url}}))))}]},{path:"comment-edit/:id",component:(()=>{class t{constructor(n,r,i,o,s){this.route=n,this.commentService=r,this.fb=i,this.router=o,this.comment=null,this.commentId="",this.firestore=s}ngOnInit(){var n=this;return p(function*(){n.initializeForm(),yield n.loadData()})()}loadData(){var n=this;return p(function*(){n.route.paramMap.subscribe(function(){var r=p(function*(i){const o=i.get("id");if(n.commentId=o,o)try{n.comment=yield n.commentService.getCommentById(o),n.patchFormWithCommentData()}catch(s){throw console.error("An error occurred while retrieving the comment:",s),s}else console.error("Comment ID not provided.")});return function(i){return r.apply(this,arguments)}}())})()}initializeForm(){this.commentFormEdit=this.fb.group({name:[""],text:["",Ve.required],recipeId:[""],create_time:[""],uid:[""]})}patchFormWithCommentData(){this.commentFormEdit.patchValue({name:this.comment?.name,text:this.comment?.text,recipeId:this.comment?.recipeId,create_time:this.comment?.create_time,uid:this.comment?.uid,id:this.comment?.id})}onSubmit(){this.commentFormEdit.valid?(this.editComment(this.commentFormEdit.value),this.commentFormEdit.reset()):console.log("form invalid")}editComment(n){const i=hs(this.firestore,"Comments",this.commentId);ng(i,n),this.router.navigate(["/recipe",this.comment?.recipeId])}static#e=this.\u0275fac=function(r){return new(r||t)(b(oo),b(JR),b(fl),b(qt),b(ti))};static#t=this.\u0275cmp=Ge({type:t,selectors:[["app-comment-form-edit"]],decls:13,vars:2,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"title"],["id","commentFormEdit",3,"formGroup","ngSubmit"],[1,"form-group"],["for","text"],["cols","30","rows","5","id","text","formControlName","text",1,"form-control"],[4,"ngIf"],["type","submit",1,"button"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(m(0,"div",0),k(1,"div",1),m(2,"div",2)(3,"h1",3),I(4,"Edit the Comment"),_(),m(5,"form",4),ie("ngSubmit",function(){return i.onSubmit()}),m(6,"div",5)(7,"label",6),I(8,"Comment (required)"),_(),k(9,"textarea",7),_(),N(10,OSe,2,1,"div",8),m(11,"button",9),I(12,"Edit the Comment"),_()()()()),2&r){let o;E(5),C("formGroup",i.commentFormEdit),E(5),C("ngIf",null==(o=i.commentFormEdit.get("text"))?null:o.touched)}},dependencies:[Fn,Wa,Ho,Ga,za,Go,Ps],styles:[".wrapper[_ngcontent-%COMP%]{padding:unset;position:absolute;top:37%;left:50%;transform:translate(-50%,-50%);box-shadow:0 1px 3px #0000004d;padding:32px;background-color:var(--backgroundColor)}#commentFormEdit[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:30px}"]})}return t})()}];let RSe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({imports:[dl.forRoot(MSe,{useHash:!0}),dl]})}return t})(),kSe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["app-footer"]],decls:25,vars:0,consts:[[1,"footer"],[1,"footer-links"],["href","/about"],["href","/contact"],["href","/terms"],["href","/privacy"],[1,"social-icons"],["href","https://www.facebook.com"],[1,"fa-brands","fa-facebook","fa-flip"],["href","https://www.twitter.com"],[1,"fa-brands","fa-x-twitter","fa-flip"],["href","https://www.instagram.com"],[1,"fa-brands","fa-instagram","fa-flip"],[1,"copyright"],[1,"projectInfo"]],template:function(r,i){1&r&&(m(0,"footer",0)(1,"div",1)(2,"a",2),I(3,"About Us"),_(),I(4," | "),m(5,"a",3),I(6,"Contact Us"),_(),I(7," | "),m(8,"a",4),I(9,"Terms of Service"),_(),I(10," | "),m(11,"a",5),I(12,"Privacy Policy"),_()(),m(13,"div",6)(14,"a",7),k(15,"i",8),_(),m(16,"a",9),k(17,"i",10),_(),m(18,"a",11),k(19,"i",12),_()(),m(20,"div",13)(21,"div",14),I(22," This project was developed to meet the requirements of the Angular Project Assignment within the 'Angular - February 2024' course at SoftUni. "),_(),m(23,"span"),I(24," \xa9 2024 The Natural Way. All Rights Reserved. "),_()()())},styles:[".footer[_ngcontent-%COMP%]{background-color:var(--aliceBlueColor);padding:20px;color:#333;font-size:14px;text-align:center}.footer-links[_ngcontent-%COMP%]{padding:20px 0}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none;margin:0 10px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--mainBlackColor)}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none;margin:0 10px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#3b5998}.copyright[_ngcontent-%COMP%]{margin-top:20px;font-size:12px;color:#999}.projectInfo[_ngcontent-%COMP%]{margin-bottom:10px}"]})}return t})();function PSe(t,e){1&t&&(m(0,"li",14)(1,"a",15),k(2,"i",26),_(),m(3,"ul",16)(4,"li")(5,"a",27),I(6,"Register"),_()(),m(7,"li")(8,"a",28),I(9,"Login"),_()(),m(10,"li"),k(11,"hr",18),_(),m(12,"li")(13,"a",19),I(14,"Something else here"),_()()()())}function FSe(t,e){if(1&t){const n=It();m(0,"li",14)(1,"a",15)(2,"span"),I(3),_()(),m(4,"ul",16)(5,"li")(6,"a",29),I(7,"My recipes"),_()(),m(8,"li")(9,"a",30),I(10,"Create recipe"),_()(),m(11,"li")(12,"a",19),I(13,"Favorite recipes"),_()(),m(14,"li")(15,"a",19),I(16,"My comments"),_()(),m(17,"li")(18,"a",31),I(19,"Profile"),_()(),m(20,"li")(21,"a",32),ie("click",function(){return ht(n),ft(F().logout())}),I(22,"Logout"),_()()()()}if(2&t){const n=F();E(3),At(n.getUserDisplayName())}}let LSe=(()=>{class t{constructor(n){this.userService=n,this.isMenuOpen=!1,this.userData=null,this.userDataSubject=new vr(null),this.userDataSubscription=this.userDataSubject.subscribe(r=>{this.userData=r,console.log(this.userData)})}ngOnInit(){this.userService.userData$.subscribe({next:n=>{n?(this.userDataSubject.next(n),console.log("You have a user:",n)):(this.userDataSubject.next(null),console.log("You have no user."))},error:n=>{console.log(n)}})}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}closeMenu(){this.isMenuOpen=!1}logout(){this.userService.logoutUser()}getUserDisplayName(){return this.userData?this.userData.lastName:"Anonymous"}static#e=this.\u0275fac=function(r){return new(r||t)(b(Io))};static#t=this.\u0275cmp=Ge({type:t,selectors:[["app-header"]],decls:40,vars:2,consts:[[1,"navbar","navbar-dark","navbar-expand-lg"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["viewBox","0 0 200.92045542674032 200.92045542674032","height","50","width","50"],["d","M0 100.46c0-55.483 44.978-100.46 100.46-100.46 55.483 0 100.46 44.978 100.46 100.46 0 55.483-44.978 100.46-100.46 100.46-55.483 0-100.46-44.978-100.46-100.46zM100.46 193.437c51.35 0 92.977-41.627 92.977-92.977 0-51.35-41.627-92.977-92.977-92.977-51.35 0-92.977 41.627-92.977 92.977 0 51.35 41.627 92.977 92.977 92.977z","data-fill-palette-color","accent","fill","#a7575e","stroke","transparent"],["rx","99.45562543623646","ry","99.45562543623646","cx","100.46022771337016","cy","100.46022771337016","fill","#a7575e","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,43.57436241056036,43.35758026693677)"],["viewBox","0 0 113.7717306056196 114.20529489286677","height","114.20529489286677","width","113.7717306056196"],["xmlns","http://www.w3.org/2000/svg","data-name","Layer 1","viewBox","1.190000057220459 1.002901315689087 97.62506866455078 97.99710083007812","x","0","y","0","height","114.20529489286677","width","113.7717306056196","data-fill-palette-color","quaternary","id","b-0",1,"icon-b-0"],["d","M79.28 26.63a0.3 0.3 0 0 0 0-0.07 0.28 0.28 0 0 0-0.48-0.19l-7 7a20.24 20.24 0 0 0-6 13v1.87a37.5 37.5 0 0 1 1.67 5.15H54.79a32.9 32.9 0 0 0-5.43-15.13 26.9 26.9 0 0 1-7.74 5.77 22.2 22.2 0 0 1-6.34 2.06c-9.9 1.51-22.3-5-28.35-41.61a1.86 1.86 0 0 1 1.55-2.05c47.44-6.69 50.2 11.7 47.85 22.85a51.5 51.5 0 0 0-19.69-6.14h-0.11a0.43 0.43 0 0 0-0.18 0.76l11.58 8.5 5.84 4.31a37.3 37.3 0 0 1 6.08 5.85 24.8 24.8 0 0 1 5-6.15 17.7 17.7 0 0 1-2.54-5 14.8 14.8 0 0 1-0.65-4.41c0-6.65 5.53-14.14 30.18-14.44a1.23 1.23 0 0 1 1.24 1.23c-0.38 31.82-12.74 31.78-19.82 29.12a34.2 34.2 0 0 0 6.02-12.28M28.65 93h34.63a16.16 16.16 0 0 0 12.18-5.54l21.68-24.79a6.79 6.79 0 0 0-0.79-9.7 6.55 6.55 0 0 0-4.2-1.49 7.24 7.24 0 0 0-5.38 2.43l-10.2 11.35v0.16a11.85 11.85 0 0 1-11.89 11.26H52.21a2.54 2.54 0 1 1 0-5.08h12.47a6.72 6.72 0 0 0 6.81-6.34A6.54 6.54 0 0 0 65 58.52H44.19l-3.37-1.18a23.42 23.42 0 0 0-24.26 5.49L1.19 78.1 22.64 99Z","fill","#e5e5e5","data-fill-palette-color","quaternary"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","button"],[1,"navbar-toggler-icon"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","my-2","my-lg-0","navbar-nav-scroll",2,"--bs-scroll-height","350px"],[1,"nav-item","dropdown"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-btn","nav-link","dropdown-toggle","button"],[1,"dropdown-menu"],["href","#","routerLink","/recipes-list",1,"dropdown-item"],[1,"dropdown-divider"],["href","#",1,"dropdown-item"],["class","nav-item dropdown",4,"ngIf"],[1,"fa-solid","fa-magnifying-glass"],[1,"dropdown-menu","search"],["role","search",1,"d-flex","w-100"],["type","search","aria-label","Search",1,"form-control","me-2"],["type","submit",1,"search","button"],[1,"fa-solid","fa-user"],["routerLink","/register",1,"dropdown-item"],["routerLink","/login",1,"dropdown-item"],["routerLink","/dashboard//user-recipes","href","#",1,"dropdown-item"],["routerLink","/dashboard//recipe-create",1,"dropdown-item"],["routerLink","/dashboard/user-info",1,"dropdown-item"],[1,"dropdown-item",3,"click"]],template:function(r,i){1&r&&(m(0,"nav",0)(1,"div",1)(2,"a",2),gu(),m(3,"svg",3)(4,"g"),k(5,"path",4)(6,"ellipse",5),_(),m(7,"g",6)(8,"svg",7)(9,"g")(10,"svg",8),k(11,"path",9),_()()()()(),qg(),m(12,"span"),I(13," The Natural Way "),_()(),m(14,"button",10),k(15,"span",11),_(),m(16,"div",12)(17,"ul",13)(18,"li",14)(19,"a",15),I(20," Recipes "),_(),m(21,"ul",16)(22,"li")(23,"a",17),I(24,"Recipes list"),_()(),m(25,"li"),k(26,"hr",18),_(),m(27,"li")(28,"a",19),I(29,"Something else here"),_()()()(),N(30,PSe,15,0,"li",20),N(31,FSe,23,1,"li",20),m(32,"li",14)(33,"a",15),k(34,"i",21),_(),m(35,"ul",22)(36,"form",23),k(37,"input",24),m(38,"button",25),I(39,"Search"),_()()()()()()()()),2&r&&(E(30),C("ngIf",!i.userData),E(1),C("ngIf",i.userData))},dependencies:[Fn,ki],styles:["nav.navbar[_ngcontent-%COMP%]{min-height:8vh;background-color:var(--aliceBlueColor);box-shadow:1px 5px 15px #a7575e}.container-fluid[_ngcontent-%COMP%]{max-width:1024px;color:var(--textColor)}a.navbar-brand[_ngcontent-%COMP%]{display:flex;gap:10px;font-family:Caveat,cursive;font-weight:400;font-size:32px;color:var(--textColor)}button.navbar-toggler[_ngcontent-%COMP%]{background-color:var(--textColor);border:1px solid var(--backgroundColor)}.navbar-toggler[_ngcontent-%COMP%]   span.navbar-toggler-icon[_ngcontent-%COMP%]{color:var(--backgroundColor);background-color:var(--textColor)}button.navbar-toggler[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem var(--textColor)}ul.navbar-nav[_ngcontent-%COMP%]{position:relative;z-index:100;display:flex;gap:18px;width:100%;justify-content:flex-end}a.nav-btn.nav-link.dropdown-toggle.button[_ngcontent-%COMP%]{min-width:150px}ul.navbar-nav[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:1px solid var(--textColor);margin-top:18px}a.dropdown-item[_ngcontent-%COMP%]{color:var(--textColor)}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:focus{background-color:var(--textColor);color:var(--backgroundColor)}form.d-flex[_ngcontent-%COMP%]{padding:0 auto}.form-control[_ngcontent-%COMP%]{border:1px solid var(--textColor);border-radius:8px;background-color:var(--backgroundColor)}.form-control[_ngcontent-%COMP%]:focus{border:1px solid var(--textColor);box-shadow:unset;outline:unset;background-color:#f6f4f9;border-color:var(--textColor)}@media (max-width: 460px){.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{background-color:var(--backgroundColor);padding:20px;border-radius:8px}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{border:unset;width:100%}form.d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:15px}}@media (min-width: 461px) and (max-width: 767px){.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{background-color:var(--backgroundColor);padding:20px;border-radius:8px}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{border:unset;width:100%}.dropdown-menu.search.show[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{max-width:unset}}@media (min-width: 768px) and (max-width: 1023px){.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{padding:20px;border-radius:8px}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{border:unset}.dropdown-menu.search.show[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{max-width:unset}}@media (min-width: 1024px) and (max-width: 1440px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:1000px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}.container-fluid[_ngcontent-%COMP%]{padding:unset;max-width:1200px;padding:0 1%;color:var(--textColor)}}@media (min-width: 1441px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:1000px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}.container-fluid[_ngcontent-%COMP%]{padding:unset;max-width:1200px;color:var(--textColor)}}"]})}return t})();function VSe(t,e){if(1&t){const n=It();m(0,"button",8),ie("click",function(){return ht(n),ft(F().scrollToTop())}),k(1,"i",9),_()}}let BSe=(()=>{class t{constructor(){this.showScrollButton=!1}onWindowScroll(){this.showScrollButton=window.pageYOffset>300}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["app-scroll-to-top"]],hostBindings:function(r,i){1&r&&ie("scroll",function(){return i.onWindowScroll()},0,BF)},decls:10,vars:1,consts:[[1,"buttons"],["class","to-top",3,"click",4,"ngIf"],["href","javascript:history.back()",1,"back-button"],[1,"button-box"],[1,"button-elem"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],["viewBox","0 0 46 40"],[1,"to-top",3,"click"],[1,"fa-solid","fa-chevron-up","fa-beat-fade"]],template:function(r,i){1&r&&(m(0,"div",0),N(1,VSe,2,0,"button",1),m(2,"a",2)(3,"div",3)(4,"span",4),gu(),m(5,"svg",5),k(6,"path",6),_()(),qg(),m(7,"span",4),gu(),m(8,"svg",7),k(9,"path",6),_()()()()()),2&r&&(E(1),C("ngIf",i.showScrollButton))},dependencies:[Fn],styles:[".buttons[_ngcontent-%COMP%]{display:flex;gap:10px;position:fixed;bottom:120px;right:10px;flex-direction:column;align-items:center}.to-top[_ngcontent-%COMP%]{background-color:var(--mainRGBAColor);color:var(--backgroundColor);border:3px solid var(--backgroundColor);border-radius:50%;width:60px;height:60px;font-size:16px;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{color:var(--textColor);background-color:var(--backgroundColor);box-shadow:0 0 15px #a7575e}button[_ngcontent-%COMP%]:focus{outline:none}button.ng-hidden[_ngcontent-%COMP%]{display:none}"]})}return t})(),USe=(()=>{class t{constructor(){this.title="The-Natural-Way"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["app-root"]],decls:4,vars:0,template:function(r,i){1&r&&k(0,"app-header")(1,"app-scroll-to-top")(2,"router-outlet")(3,"app-footer")},dependencies:[R_,kSe,LSe,BSe],styles:[".logo-svg[_ngcontent-%COMP%]{background-color:var(--mainGreenColor);min-height:80vh}"]})}return t})(),jSe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({imports:[Va,dl]})}return t})();const $Se=["addListener","removeListener"],HSe=["addEventListener","removeEventListener"],GSe=["on","off"];function gn(t,e,n,r){if(Ie(n)&&(r=n,n=void 0),r)return gn(t,e,n).pipe(HI(r));const[i,o]=function WSe(t){return Ie(t.addEventListener)&&Ie(t.removeEventListener)}(t)?HSe.map(s=>a=>t[s](e,a,n)):function zSe(t){return Ie(t.addListener)&&Ie(t.removeListener)}(t)?$Se.map(Q9(t,e)):function qSe(t){return Ie(t.on)&&Ie(t.off)}(t)?GSe.map(Q9(t,e)):[];if(!i&&Ib(t))return cn(s=>gn(s,e,n))(an(t));if(!i)throw new TypeError("Invalid event target");return new Ue(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function Q9(t,e){return n=>r=>t[n](e,r)}class KSe extends Fe{constructor(e=1/0,n=1/0,r=aA){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=n.now();let a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}}function QSe(t,e){}const P0=()=>{const t=typeof window<"u"?window:void 0;return t&&t.tinymce?t.tinymce:null};let JSe=(()=>{class t{constructor(){this.onBeforePaste=new R,this.onBlur=new R,this.onClick=new R,this.onContextMenu=new R,this.onCopy=new R,this.onCut=new R,this.onDblclick=new R,this.onDrag=new R,this.onDragDrop=new R,this.onDragEnd=new R,this.onDragGesture=new R,this.onDragOver=new R,this.onDrop=new R,this.onFocus=new R,this.onFocusIn=new R,this.onFocusOut=new R,this.onKeyDown=new R,this.onKeyPress=new R,this.onKeyUp=new R,this.onMouseDown=new R,this.onMouseEnter=new R,this.onMouseLeave=new R,this.onMouseMove=new R,this.onMouseOut=new R,this.onMouseOver=new R,this.onMouseUp=new R,this.onPaste=new R,this.onSelectionChange=new R,this.onActivate=new R,this.onAddUndo=new R,this.onBeforeAddUndo=new R,this.onBeforeExecCommand=new R,this.onBeforeGetContent=new R,this.onBeforeRenderUI=new R,this.onBeforeSetContent=new R,this.onChange=new R,this.onClearUndos=new R,this.onDeactivate=new R,this.onDirty=new R,this.onExecCommand=new R,this.onGetContent=new R,this.onHide=new R,this.onInit=new R,this.onInitNgModel=new R,this.onLoadContent=new R,this.onNodeChange=new R,this.onPostProcess=new R,this.onPostRender=new R,this.onPreInit=new R,this.onPreProcess=new R,this.onProgressState=new R,this.onRedo=new R,this.onRemove=new R,this.onReset=new R,this.onResizeEditor=new R,this.onSaveContent=new R,this.onSetAttrib=new R,this.onObjectResizeStart=new R,this.onObjectResized=new R,this.onObjectSelected=new R,this.onSetContent=new R,this.onShow=new R,this.onSubmit=new R,this.onUndo=new R,this.onVisualAid=new R}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=H({type:t,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),t})();const J9=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],F0=(t,e,n)=>gn(t,e).pipe(Tt(n)),Z9=(t,e)=>"string"==typeof t?t.split(",").map(n=>n.trim()):Array.isArray(t)?t:e;let X9=0;const eq=t=>typeof t<"u"&&"textarea"===t.tagName.toLowerCase(),tq=t=>typeof t>"u"||""===t?[]:Array.isArray(t)?t:t.split(" "),tAe=(t,e)=>tq(t).concat(tq(e)),nAe=()=>{},nq=t=>null==t,rAe=(()=>{let t={script$:null};return{load:(r,i)=>t.script$||(t.script$=zI(()=>{const o=r.createElement("script");return o.referrerPolicy="origin",o.type="application/javascript",o.src=i,r.head.appendChild(o),gn(o,"load").pipe(bn(1),KI(void 0))}).pipe(function YSe(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=t??1/0,Eb({connector:()=>new KSe(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}({bufferSize:1,refCount:!0}))),reinitialize:()=>{t={script$:null}}}})(),iq=new te("TINYMCE_SCRIPT_SRC"),iAe={provide:Qr,useExisting:Ce(()=>oq),multi:!0};let oq=(()=>{class t extends JSe{constructor(n,r,i,o){super(),this.platformId=i,this.tinymceScriptSrc=o,this.cloudChannel="6",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=nAe,this.destroy$=new Fe,this.initialise=()=>{const s={...this.init,selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,plugins:tAe(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:a=>{this._editor=a,F0(a,"init",this.destroy$).subscribe(()=>{this.initEditor(a)}),((t,e,n)=>{(t=>{const e=Z9(t.ignoreEvents,[]);return Z9(t.allowedEvents,J9).filter(r=>J9.includes(r)&&!e.includes(r))})(t).forEach(i=>{const o=t[i];F0(e,i.substring(2),n).subscribe(s=>{o.observers.length>0&&t.ngZone.run(()=>o.emit({event:s,editor:e}))})})})(this,a,this.destroy$),this.init&&"function"==typeof this.init.setup&&this.init.setup(a)}};eq(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{P0().init(s)})},this._elementRef=n,this.ngZone=r}set disabled(n){this._disabled=n,this._editor&&this._editor.initialized&&("function"==typeof this._editor.mode?.set?this._editor.mode.set(n?"readonly":"design"):this._editor.setMode(n?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(n){this._editor&&this._editor.initialized?this._editor.setContent(nq(n)?"":n):this.initialValue=null===n?void 0:n}registerOnChange(n){this.onChangeCallback=n}registerOnTouched(n){this.onTouchedCallback=n}setDisabledState(n){this.disabled=n}ngAfterViewInit(){(function koe(t){return t===oU})(this.platformId)&&(this.id=this.id||(t=>{const n=(new Date).getTime(),r=Math.floor(1e9*Math.random());return X9++,"tiny-angular_"+r+X9+String(n)})(),this.inline=void 0!==this.inline?!1!==this.inline:!!this.init?.inline,this.createElement(),null!==P0()?this.initialise():this._element&&this._element.ownerDocument&&rAe.load(this._element.ownerDocument,this.getScriptSrc()).pipe(Tt(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),null!==P0()&&P0().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,eq(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}getScriptSrc(){return nq(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(n){F0(n,"blur",this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.onTouchedCallback())}),F0(n,this.modelEvents,this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.emitOnChange(n))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{n.setContent(this.initialValue),n.getContent()!==this.initialValue&&this.emitOnChange(n),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(n)})}emitOnChange(n){this.onChangeCallback&&this.onChangeCallback(n.getContent({format:this.outputFormat}))}}return t.\u0275fac=function(n){return new(n||t)(b($e),b(Ee),b(ko),b(iq,8))},t.\u0275cmp=Ge({type:t,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[it([iAe]),ze,qr],decls:1,vars:0,template:function(n,r){1&n&&N(0,QSe,0,0,"ng-template")},dependencies:[Va,Z_],styles:["[_nghost-%COMP%]{display:block}"]}),t})(),ZR=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=we({imports:[oq]}),t})(),sq=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({imports:[Va,ZR,dl]})}return t})(),oAe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=we({imports:[[]]}),t})();const{isArray:aAe}=Array;function cq(t){return 1===t.length&&aAe(t[0])?t[0]:t}function XR(...t){const e=Ag(t),n=cq(t);return n.length?new Ue(r=>{let i=n.map(()=>[]),o=n.map(()=>!1);r.add(()=>{i=o=null});for(let s=0;!r.closed&&s<n.length;s++)an(n[s]).subscribe(st(r,a=>{if(i[s].push(a),i.every(c=>c.length)){const c=i.map(u=>u.shift());r.next(e?e(...c):c),i.some((u,l)=>!u.length&&o[l])&&r.complete()}},()=>{o[s]=!0,!i[s].length&&r.complete()}));return()=>{i=o=null}}):si}function ek(...t){const e=Ag(t);return Dt((n,r)=>{const i=t.length,o=new Array(i);let s=t.map(()=>!1),a=!1;for(let c=0;c<i;c++)an(t[c]).subscribe(st(r,u=>{o[c]=u,!a&&!s[c]&&(s[c]=!0,(a=s.every(wi))&&(s=null))},ma));n.subscribe(st(r,c=>{if(a){const u=[c,...o];r.next(e?e(...u):u)}}))})}Math,Math,Math;const Bxe=["*"],gNe=["dialog"];function Bc(t){return"string"==typeof t}function Uc(t){return null!=t}function gd(t){return(t||document.body).getBoundingClientRect()}const jq={animation:!0,transitionTimerDelayMs:5},aOe=()=>{},{transitionTimerDelayMs:cOe}=jq,lg=new Map,Lr=(t,e,n,r)=>{let i=r.context||{};const o=lg.get(e);if(o)switch(r.runningTransition){case"continue":return si;case"stop":t.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),lg.delete(e)}const s=n(e,r.animation,i)||aOe;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>s()),ce(void 0).pipe(function oOe(t){return e=>new Ue(n=>e.subscribe({next:s=>t.run(()=>n.next(s)),error:s=>t.run(()=>n.error(s)),complete:()=>t.run(()=>n.complete())}))}(t));const a=new Fe,c=new Fe,u=a.pipe(function uAe(...t){return e=>Rh(e,ce(...t))}(!0));lg.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:i});const l=function sOe(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const d=gn(e,"transitionend").pipe(Tt(u),wn(({target:f})=>f===e));(function uq(...t){return 1===(t=cq(t)).length?an(t[0]):new Ue(function cAe(t){return e=>{let n=[];for(let r=0;n&&!e.closed&&r<t.length;r++)n.push(an(t[r]).subscribe(st(e,i=>{if(n){for(let o=0;o<n.length;o++)o!==r&&n[o].unsubscribe();n=null}e.next(i)})))}}(t))})(function aq(t=0,e,n=ave){let r=-1;return null!=e&&(zk(e)?n=e:r=e),new Ue(i=>{let o=function sAe(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(l+cOe).pipe(Tt(u)),d,c).pipe(Tt(u)).subscribe(()=>{lg.delete(e),t.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let G0=(()=>{class t{constructor(){this.animation=jq.animation}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Qq=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),Jq=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),eW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),tW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})();var ot=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}(ot||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const cW=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function uW(t){const e=Array.from(t.querySelectorAll(cW)).filter(n=>-1!==n.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let IW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),CW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})();class zc{constructor(e,n,r){this.nodes=e,this.viewRef=n,this.componentRef=r}}let aMe=(()=>{class t{constructor(n,r){this._el=n,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(bn(1)).subscribe(()=>{Lr(this._zone,this._el.nativeElement,(n,r)=>{r&&gd(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Lr(this._zone,this._el.nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(r){return new(r||t)(b($e),b(Ee))};static#t=this.\u0275cmp=Ge({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,i){2&r&&(Oa("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),He("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[qr],decls:0,vars:0,template:function(r,i){},encapsulation:2})}return t})();class DW{update(e){}close(e){}dismiss(e){}}const cMe=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],uMe=["animation","backdropClass"];class lMe{_applyWindowOptions(e,n){cMe.forEach(r=>{Uc(n[r])&&(e[r]=n[r])})}_applyBackdropOptions(e,n){uMe.forEach(r=>{Uc(n[r])&&(e[r]=n[r])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Tt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Tt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,n,r,i){this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Fe,this._dismissed=new Fe,this._hidden=new Fe,e.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const n=this._beforeDismiss();!function Vq(t){return t&&t.then}(n)?!1!==n&&this._dismiss(e):n.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ce(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),XR(e,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Ak=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(Ak||{});let dMe=(()=>{class t{constructor(n,r,i){this._document=n,this._elRef=r,this._zone=i,this._closed$=new Fe,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new R,this.shown=new Fe,this.hidden=new Fe}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Bc(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(bn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:n}=this._elRef,r={animation:this.animation,runningTransition:"stop"},s=XR(Lr(this._zone,n,()=>n.classList.remove("show"),r),Lr(this._zone,this._dialogEl.nativeElement,()=>{},r));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const n={animation:this.animation,runningTransition:"continue"};XR(Lr(this._zone,this._elRef.nativeElement,(o,s)=>{s&&gd(o),o.classList.add("show")},n),Lr(this._zone,this._dialogEl.nativeElement,()=>{},n)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{gn(n,"keydown").pipe(Tt(this._closed$),wn(i=>i.which===ot.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(Ak.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;gn(this._dialogEl.nativeElement,"mousedown").pipe(Tt(this._closed$),hn(()=>r=!1),ai(()=>gn(n,"mouseup").pipe(Tt(this._closed$),bn(1))),wn(({target:i})=>n===i)).subscribe(()=>{r=!0}),gn(n,"click").pipe(Tt(this._closed$)).subscribe(({target:i})=>{n===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(Ak.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){const r=n.querySelector("[ngbAutofocus]"),i=uW(n)[0];(r||i||n).focus()}}_restoreFocus(){const n=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&n.contains(r)?r:n,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Lr(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(r){return new(r||t)(b(Gt),b($e),b(Ee))};static#t=this.\u0275cmp=Ge({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(r,i){if(1&r&&Pa(gNe,7),2&r){let o;Xe(o=function et(){return function Fne(t,e){return t[Wi].queries[e].queryList}(L(),JP())}())&&(i._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,i){2&r&&(Ye("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),Oa("modal d-block"+(i.windowClass?" "+i.windowClass:"")),He("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[qr],ngContentSelectors:Bxe,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(r,i){1&r&&(function YL(t){const e=L()[$t][Kn];if(!e.projection){const r=e.projection=qd(t?t.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=t?see(o,t):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}(),m(0,"div",0,1)(2,"div",2),function QL(t,e=0,n){const r=L(),i=Re(),o=Vu(i,Se+t,16,null,n||null);null===o.projection&&(o.projection=e),Zb(),(!r[No]||fu())&&32!=(32&o.flags)&&function oJ(t,e,n){X2(e[pe],0,e,n,C1(t,n,e),W2(n.parent||e[Kn],n,e))}(i,r,o)}(3),_()()),2&r&&Oa("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return t})(),hMe=(()=>{class t{constructor(n){this._document=n}hide(){const n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:o,paddingRight:s}=i;if(n>0){const a=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${a+n}px`}return i.overflow="hidden",()=>{n>0&&(i.paddingRight=s),i.overflow=o}}static#e=this.\u0275fac=function(r){return new(r||t)(W(Gt))};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),fMe=(()=>{class t{constructor(n,r,i,o,s,a,c){this._applicationRef=n,this._injector=r,this._environmentInjector=i,this._document=o,this._scrollBar=s,this._rendererFactory=a,this._ngZone=c,this._activeWindowCmptHasChanged=new Fe,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new R,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const u=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{t.runOutsideAngular(()=>{const i=gn(e,"focusin").pipe(Tt(n),xe(o=>o.target));gn(e,"keydown").pipe(Tt(n),wn(o=>o.which===ot.Tab),ek(i)).subscribe(([o,s])=>{const[a,c]=uW(e);(s===a||s===e)&&o.shiftKey&&(c.focus(),o.preventDefault()),s===c&&!o.shiftKey&&(a.focus(),o.preventDefault())}),r&&gn(e,"click").pipe(Tt(n),ek(i),xe(o=>o[1])).subscribe(o=>o.focus())})})(this._ngZone,u.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(u.location.nativeElement)}})}_restoreScrollBar(){const n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,r,i){const o=i.container instanceof HTMLElement?i.container:Uc(i.container)?this._document.querySelector(i.container):this._document.body,s=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new DW,c=(n=i.injector||n).get(Cr,null)||this._environmentInjector,u=this._getContentRef(n,c,r,a,i);let l=!1!==i.backdrop?this._attachBackdrop(o):void 0,d=this._attachWindowComponent(o,u.nodes),h=new lMe(d,u,l,i.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(d),h.hidden.pipe(bn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=f=>{h.close(f)},a.dismiss=f=>{h.dismiss(f)},a.update=f=>{h.update(f)},h.update(i),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),l&&l.instance&&l.changeDetectorRef.detectChanges(),d.changeDetectorRef.detectChanges(),h}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(r=>r.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let r=fI(aMe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),n.appendChild(r.location.nativeElement),r}_attachWindowComponent(n,r){let i=fI(dMe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),n.appendChild(i.location.nativeElement),i}_getContentRef(n,r,i,o,s){return i?i instanceof xt?this._createFromTemplateRef(i,o):Bc(i)?this._createFromString(i):this._createFromComponent(n,r,i,o,s):new zc([])}_createFromTemplateRef(n,r){const o=n.createEmbeddedView({$implicit:r,close(s){r.close(s)},dismiss(s){r.dismiss(s)}});return this._applicationRef.attachView(o),new zc([o.rootNodes],o)}_createFromString(n){const r=this._document.createTextNode(`${n}`);return new zc([[r]])}_createFromComponent(n,r,i,o,s){const c=fI(i,{environmentInjector:r,elementInjector:en.create({providers:[{provide:DW,useValue:o}],parent:n})}),u=c.location.nativeElement;return s.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new zc([[u]],c.hostView,c)}_setAriaHidden(n){const r=n.parentElement;r&&n!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==n&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,r)=>{n?r.setAttribute("aria-hidden",n):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){const r=()=>{const i=this._modalRefs.indexOf(n);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(r,r)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{const r=this._windowCmpts.indexOf(n);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(r){return new(r||t)(W(Ss),W(en),W(Cr),W(Gt),W(hMe),W(Z1),W(Ee))};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pMe=(()=>{class t{constructor(n){this._ngbConfig=n,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}static#e=this.\u0275fac=function(r){return new(r||t)(W(G0))};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),gMe=(()=>{class t{constructor(n,r,i){this._injector=n,this._modalStack=r,this._config=i}open(n,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,n,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(r){return new(r||t)(W(en),W(fMe),W(pMe))};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),SW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({providers:[gMe]})}return t})(),NW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),VW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),BW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),UW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),jW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),$W=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),HW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),GW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),zW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})();new te("live announcer delay",{providedIn:"root",factory:function NMe(){return 100}});let qW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),WW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})();const MMe=[Qq,Jq,eW,tW,IW,CW,SW,NW,WW,VW,BW,UW,jW,$W,HW,GW,zW,qW];let RMe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({imports:[MMe,Qq,Jq,eW,tW,IW,CW,SW,NW,WW,VW,BW,UW,jW,$W,HW,GW,zW,qW]})}return t})(),kMe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({imports:[Va,RT,Z_]})}return t})(),PMe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({imports:[Va,RT,Z_,sq,ZR,dl,kMe]})}return t})(),FMe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({imports:[Va,Z_,RT,dl]})}return t})(),LMe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t,bootstrap:[USe]});static#n=this.\u0275inj=we({providers:[{provide:iq,useValue:"tinymce/tinymce.min.js"}],imports:[xse,RSe,jSe,sq,PMe,FMe,yve(()=>vve(k0_firebaseConfig)),FCe(()=>UCe()),oAe,RMe,ZR]})}return t})();Sse().bootstrapModule(LMe).catch(t=>console.error(t))},614:()=>{const Ie=":";const Sg=function(S,...D){if(Sg.translate){const V=Sg.translate(S,D);S=V[0],D=V[1]}let M=yb(S[0],S.raw[0]);for(let V=1;V<S.length;V++)M+=D[V-1]+yb(S[V],S.raw[V]);return M},Pk=":";function yb(S,D){return D.charAt(0)===Pk?S.substring(function Cd(S,D){for(let M=1,V=1;M<S.length;M++,V++)if("\\"===D[V])V++;else if(S[M]===Ie)return M;throw new Error(`Unterminated $localize metadata block in "${D}".`)}(S,D)+1):S}globalThis.$localize=Sg}},Ie=>{var ps=gs=>Ie(Ie.s=gs);ps(614),ps(891)}]);