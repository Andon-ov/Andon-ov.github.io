"use strict";(self.webpackChunkThe_Natural_Way=self.webpackChunkThe_Natural_Way||[]).push([[179],{8726:(Bt,Ve,K)=>{K.d(Ve,{Ot:()=>be,ZF:()=>Pt,hX:()=>Se,z6:()=>ue});var b=K(4097),ne=K(9468),u=K(559);class be{constructor(ot){return ot}}class ue{constructor(){return(0,b.C6)()}}const He=new ne.OlP("angularfire2._apps"),Oe={provide:be,useFactory:function Te(ft){return ft&&1===ft.length?ft[0]:new be((0,b.Mq)())},deps:[[new ne.FiY,He]]},ae={provide:ue,deps:[[new ne.FiY,He]]};function de(ft){return(ot,vt)=>{const yt=ot.runOutsideAngular(()=>ft(vt));return new be(yt)}}let Me=(()=>{class ft{constructor(vt){(0,b.KN)("angularfire",u.q4.full,"core"),(0,b.KN)("angularfire",u.q4.full,"app"),(0,b.KN)("angular",ne.q4F.full,vt.toString())}}return ft.\u0275fac=function(vt){return new(vt||ft)(ne.LFG(ne.Lbi))},ft.\u0275mod=ne.oAB({type:ft}),ft.\u0275inj=ne.cJS({providers:[Oe,ae]}),ft})();function Se(ft,...ot){return{ngModule:Me,providers:[{provide:He,useFactory:de(ft),multi:!0,deps:[ne.R0b,ne.zs3,u.HU,...ot]}]}}const Pt=(0,u.u3)(b.ZF,!0)},3477:(Bt,Ve,K)=>{K.d(Ve,{gg:()=>kD,ET:()=>lA,Ab:()=>uA,vr:()=>dA,hJ:()=>hA,oe:()=>fA,JU:()=>pA,QT:()=>gA,PL:()=>mA,ad:()=>_A,b9:()=>yA,Xo:()=>vA,Cm:()=>cA,IO:()=>bA,pl:()=>wA,TQ:()=>IA,r7:()=>EA,ar:()=>TA});var b=K(559),ne=K(9468),u=K(8726),be=K(4097),ue=K(5861),fe=K(229),Te=K(7592),He=K(7582),Oe=K(7879),ae=K(6820);const Dn=function Pt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},At=new fe.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ot=new Oe.Yd("@firebase/auth");function yt(n,...e){ot.logLevel<=Oe.in.ERROR&&ot.error(`Auth (${Te.Jn}): ${n}`,...e)}function je(n,...e){throw Pn(n,...e)}function we(n,...e){return Pn(n,...e)}function Pn(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return At.create(n,...e)}function dt(n,e,...t){if(!n)throw Pn(e,...t)}function pn(n){const e="INTERNAL ASSERTION FAILED: "+n;throw yt(e),new Error(e)}function Cn(n,e){n||pn(e)}function hr(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class et{constructor(e,t){this.shortDelay=e,this.longDelay=t,Cn(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,fe.uI)()||(0,fe.b$)()}get(){return function ke(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function sr(){return"http:"===hr()||"https:"===hr()}()||(0,fe.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class nt{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void pn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void pn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void pn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},kt=new et(3e4,6e4);function an(n,e,t,i){return mn.apply(this,arguments)}function mn(){return(mn=(0,ue.Z)(function*(n,e,t,i,l={}){return _n(n,l,(0,ue.Z)(function*(){let p={},_={};i&&("GET"===e?_=i:p={body:JSON.stringify(i)});const T=(0,fe.xO)(Object.assign({key:n.config.apiKey},_)).slice(1),F=yield n._getAdditionalHeaders();return F["Content-Type"]="application/json",n.languageCode&&(F["X-Firebase-Locale"]=n.languageCode),nt.fetch()(gr(n,n.config.apiHost,t,T),Object.assign({method:e,headers:F,referrerPolicy:"no-referrer"},p))}))})).apply(this,arguments)}function _n(n,e,t){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,ue.Z)(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},wt),e);try{const l=new Ae(n),p=yield Promise.race([t(),l.promise]);l.clearNetworkTimeout();const _=yield p.json();if("needConfirmation"in _)throw Ee(n,"account-exists-with-different-credential",_);if(p.ok&&!("errorMessage"in _))return _;{const T=p.ok?_.errorMessage:_.error.message,[F,H]=T.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===F)throw Ee(n,"credential-already-in-use",_);if("EMAIL_EXISTS"===F)throw Ee(n,"email-already-in-use",_);if("USER_DISABLED"===F)throw Ee(n,"user-disabled",_);const te=i[F]||F.toLowerCase().replace(/[_\s]+/g,"-");if(H)throw function Xe(n,e,t){const i=Object.assign(Object.assign({},Dn()),{[e]:t});return new fe.LL("auth","Firebase",i).create(e,{appName:n.name})}(n,te,H);je(n,te)}}catch(l){if(l instanceof fe.ZR)throw l;je(n,"network-request-failed",{message:String(l)})}})).apply(this,arguments)}function gr(n,e,t,i){const l=`${e}${t}?${i}`;return n.config.emulator?function Ge(n,e){Cn(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,l):`${n.config.apiScheme}://${l}`}class Ae{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(we(this.auth,"network-request-failed")),kt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ee(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const l=we(n,e,i);return l.customData._tokenResponse=t,l}function ut(){return(ut=(0,ue.Z)(function*(n,e){return an(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function hn(){return(hn=(0,ue.Z)(function*(n,e){return an(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Tn(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function fr(){return(fr=(0,ue.Z)(function*(n,e=!1){const t=(0,fe.m9)(n),i=yield t.getIdToken(e),l=Ir(i);dt(l&&l.exp&&l.auth_time&&l.iat,t.auth,"internal-error");const p="object"==typeof l.firebase?l.firebase:void 0,_=p?.sign_in_provider;return{claims:l,token:i,authTime:Tn(Jt(l.auth_time)),issuedAtTime:Tn(Jt(l.iat)),expirationTime:Tn(Jt(l.exp)),signInProvider:_||null,signInSecondFactor:p?.sign_in_second_factor||null}})).apply(this,arguments)}function Jt(n){return 1e3*Number(n)}function Ir(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return yt("JWT malformed, contained fewer than 3 sections"),null;try{const l=(0,fe.tV)(t);return l?JSON.parse(l):(yt("Failed to decode base64 JWT payload"),null)}catch(l){return yt("Caught error parsing JWT payload as JSON",l?.toString()),null}}function yn(n,e){return cr.apply(this,arguments)}function cr(){return(cr=(0,ue.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof fe.ZR&&function Wn({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class or{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const l=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout((0,ue.Z)(function*(){yield t.iteration()}),i)}iteration(){var e=this;return(0,ue.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class Bn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tn(this.lastLoginAt),this.creationTime=Tn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ti(n){return qt.apply(this,arguments)}function qt(){return qt=(0,ue.Z)(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),l=yield yn(n,function mr(n,e){return hn.apply(this,arguments)}(t,{idToken:i}));dt(l?.users.length,t,"internal-error");const p=l.users[0];n._notifyReloadListener(p);const _=null!==(e=p.providerUserInfo)&&void 0!==e&&e.length?function rt(n){return n.map(e=>{var{providerId:t}=e,i=(0,He._T)(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(p.providerUserInfo):[],T=function Gr(n,e){return[...n.filter(i=>!e.some(l=>l.providerId===i.providerId)),...e]}(n.providerData,_),te=!!n.isAnonymous&&!(n.email&&p.passwordHash||T?.length),pe={uid:p.localId,displayName:p.displayName||null,photoURL:p.photoUrl||null,email:p.email||null,emailVerified:p.emailVerified||!1,phoneNumber:p.phoneNumber||null,tenantId:p.tenantId||null,providerData:T,metadata:new Bn(p.createdAt,p.lastLoginAt),isAnonymous:te};Object.assign(n,pe)}),qt.apply(this,arguments)}function zr(){return(zr=(0,ue.Z)(function*(n){const e=(0,fe.m9)(n);yield ti(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Je(){return(Je=(0,ue.Z)(function*(n,e){const t=yield _n(n,{},(0,ue.Z)(function*(){const i=(0,fe.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:p}=n.config,_=gr(n,l,"/v1/token",`key=${p}`),T=yield n._getAdditionalHeaders();return T["Content-Type"]="application/x-www-form-urlencoded",nt.fetch()(_,{method:"POST",headers:T,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Et{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){dt(e.idToken,"internal-error"),dt(typeof e.idToken<"u","internal-error"),dt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Er(n){const e=Ir(n);return dt(e,"internal-error"),dt(typeof e.exp<"u","internal-error"),dt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return(0,ue.Z)(function*(){return dt(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return(0,ue.Z)(function*(){const{accessToken:l,refreshToken:p,expiresIn:_}=yield function Ce(n,e){return Je.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(l,p,Number(_))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:l,expirationTime:p}=t,_=new Et;return i&&(dt("string"==typeof i,"internal-error",{appName:e}),_.refreshToken=i),l&&(dt("string"==typeof l,"internal-error",{appName:e}),_.accessToken=l),p&&(dt("number"==typeof p,"internal-error",{appName:e}),_.expirationTime=p),_}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Et,this.toJSON())}_performRefresh(){return pn("not implemented")}}function $t(n,e){dt("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Wt{constructor(e){var{uid:t,auth:i,stsTokenManager:l}=e,p=(0,He._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new or(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=p.displayName||null,this.email=p.email||null,this.emailVerified=p.emailVerified||!1,this.phoneNumber=p.phoneNumber||null,this.photoURL=p.photoURL||null,this.isAnonymous=p.isAnonymous||!1,this.tenantId=p.tenantId||null,this.providerData=p.providerData?[...p.providerData]:[],this.metadata=new Bn(p.createdAt||void 0,p.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,ue.Z)(function*(){const i=yield yn(t,t.stsTokenManager.getToken(t.auth,e));return dt(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function cn(n){return fr.apply(this,arguments)}(this,e)}reload(){return function Qi(n){return zr.apply(this,arguments)}(this)}_assign(e){this!==e&&(dt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Wt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return(0,ue.Z)(function*(){let l=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),l=!0),t&&(yield ti(i)),yield i.auth._persistUserIfCurrent(i),l&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return(0,ue.Z)(function*(){const t=yield e.getIdToken();return yield yn(e,function Ze(n,e){return ut.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,l,p,_,T,F,H,te;const pe=null!==(i=t.displayName)&&void 0!==i?i:void 0,Ue=null!==(l=t.email)&&void 0!==l?l:void 0,lt=null!==(p=t.phoneNumber)&&void 0!==p?p:void 0,Ft=null!==(_=t.photoURL)&&void 0!==_?_:void 0,rn=null!==(T=t.tenantId)&&void 0!==T?T:void 0,on=null!==(F=t._redirectEventId)&&void 0!==F?F:void 0,br=null!==(H=t.createdAt)&&void 0!==H?H:void 0,ei=null!==(te=t.lastLoginAt)&&void 0!==te?te:void 0,{uid:Or,emailVerified:Qo,isAnonymous:Mo,providerData:ss,stsTokenManager:Bc}=t;dt(Or&&Bc,e,"internal-error");const Gg=Et.fromJSON(this.name,Bc);dt("string"==typeof Or,e,"internal-error"),$t(pe,e.name),$t(Ue,e.name),dt("boolean"==typeof Qo,e,"internal-error"),dt("boolean"==typeof Mo,e,"internal-error"),$t(lt,e.name),$t(Ft,e.name),$t(rn,e.name),$t(on,e.name),$t(br,e.name),$t(ei,e.name);const Xb=new Wt({uid:Or,auth:e,email:Ue,emailVerified:Qo,displayName:pe,isAnonymous:Mo,photoURL:Ft,phoneNumber:lt,tenantId:rn,stsTokenManager:Gg,createdAt:br,lastLoginAt:ei});return ss&&Array.isArray(ss)&&(Xb.providerData=ss.map(DA=>Object.assign({},DA))),on&&(Xb._redirectEventId=on),Xb}static _fromIdTokenResponse(e,t,i=!1){return(0,ue.Z)(function*(){const l=new Et;l.updateFromServerResponse(t);const p=new Wt({uid:t.localId,auth:e,stsTokenManager:l,isAnonymous:i});return yield ti(p),p})()}}const qn=new Map;function Q(n){Cn(n instanceof Function,"Expected a class definition");let e=qn.get(n);return e?(Cn(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,qn.set(n,e),e)}const G=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ue.Z)(function*(){return!0})()}_set(t,i){var l=this;return(0,ue.Z)(function*(){l.storage[t]=i})()}_get(t){var i=this;return(0,ue.Z)(function*(){const l=i.storage[t];return void 0===l?null:l})()}_remove(t){var i=this;return(0,ue.Z)(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function q(n,e,t){return`firebase:${n}:${e}:${t}`}class ${constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:l,name:p}=this.auth;this.fullUserKey=q(this.userKey,l.apiKey,p),this.fullPersistenceKey=q("persistence",l.apiKey,p),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,ue.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Wt._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,ue.Z)(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return(0,ue.Z)(function*(){if(!t.length)return new $(Q(G),e,i);const l=(yield Promise.all(t.map(function(){var H=(0,ue.Z)(function*(te){if(yield te._isAvailable())return te});return function(te){return H.apply(this,arguments)}}()))).filter(H=>H);let p=l[0]||Q(G);const _=q(i,e.config.apiKey,e.name);let T=null;for(const H of t)try{const te=yield H._get(_);if(te){const pe=Wt._fromJSON(e,te);H!==p&&(T=pe),p=H;break}}catch{}const F=l.filter(H=>H._shouldAllowMigration);return p._shouldAllowMigration&&F.length?(p=F[0],T&&(yield p._set(_,T.toJSON())),yield Promise.all(t.map(function(){var H=(0,ue.Z)(function*(te){if(te!==p)try{yield te._remove(_)}catch{}});return function(te){return H.apply(this,arguments)}}())),new $(p,e,i)):new $(p,e,i)})()}}function Ie(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function ln(n=(0,fe.z$)()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function Ke(n=(0,fe.z$)()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function Zt(n=(0,fe.z$)()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function Fn(n=(0,fe.z$)()){return/webos/i.test(n)}(e))return"Webos";if(function Tt(n=(0,fe.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function sn(n=(0,fe.z$)()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function kn(n=(0,fe.z$)()){return/android/i.test(n)}(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function ma(n,e=[]){let t;switch(n){case"Browser":t=Ie((0,fe.z$)());break;case"Worker":t=`${Ie((0,fe.z$)())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Te.Jn}/${i}`}function Rs(n,e){return os.apply(this,arguments)}function os(){return(os=(0,ue.Z)(function*(n,e){return an(n,"GET","/v2/recaptchaConfig",function Gt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}(n,e))})).apply(this,arguments)}function Jn(n){return void 0!==n&&void 0!==n.enterprise}class Xo{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}class bs{constructor(e){this.type="recaptcha-enterprise",this.auth=Ei(e)}verify(e="verify",t=!1){var i=this;return(0,ue.Z)(function*(){function p(){return p=(0,ue.Z)(function*(T){if(!t){if(null==T.tenantId&&null!=T._agentRecaptchaConfig)return T._agentRecaptchaConfig.siteKey;if(null!=T.tenantId&&void 0!==T._tenantRecaptchaConfigs[T.tenantId])return T._tenantRecaptchaConfigs[T.tenantId].siteKey}return new Promise(function(){var F=(0,ue.Z)(function*(H,te){Rs(T,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(pe=>{if(void 0!==pe.recaptchaKey){const Ue=new Xo(pe);return null==T.tenantId?T._agentRecaptchaConfig=Ue:T._tenantRecaptchaConfigs[T.tenantId]=Ue,H(Ue.siteKey)}te(new Error("recaptcha Enterprise site key undefined"))}).catch(pe=>{te(pe)})});return function(H,te){return F.apply(this,arguments)}}())}),p.apply(this,arguments)}function _(T,F,H){const te=window.grecaptcha;Jn(te)?te.enterprise.ready(()=>{te.enterprise.execute(T,{action:e}).then(pe=>{F(pe)}).catch(()=>{F("NO_RECAPTCHA")})}):H(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((T,F)=>{(function l(T){return p.apply(this,arguments)})(i.auth).then(H=>{if(!t&&Jn(window.grecaptcha))_(H,T,F);else{if(typeof window>"u")return void F(new Error("RecaptchaVerifier is only supported in browser"));(function ta(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=l=>{const p=we("internal-error");p.customData=l,t(p)},i.type="text/javascript",i.charset="UTF-8",function ea(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})})("https://www.google.com/recaptcha/enterprise.js?render="+H).then(()=>{_(H,T,F)}).catch(te=>{F(te)})}}).catch(H=>{F(H)})})})()}}class uo{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=p=>new Promise((_,T)=>{try{_(e(p))}catch(F){T(F)}});i.onAbort=t,this.queue.push(i);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,ue.Z)(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const l of t.queue)yield l(e),l.onAbort&&i.push(l.onAbort)}catch(l){i.reverse();for(const p of i)try{p()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:l?.message})}})()}}class _a{constructor(e,t,i,l){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ya(this),this.idTokenSubscription=new ya(this),this.beforeStateQueue=new uo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=At,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=Q(t)),this._initializationPromise=this.queue((0,ue.Z)(function*(){var l,p;if(!i._deleted&&(i.persistenceManager=yield $.create(i,e),!i._deleted)){if(null!==(l=i._popupRedirectResolver)&&void 0!==l&&l._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(p=i.currentUser)||void 0===p?void 0:p.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,ue.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,ue.Z)(function*(){var i;const l=yield t.assertedPersistence.getCurrentUser();let p=l,_=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const T=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,F=p?._redirectEventId,H=yield t.tryRedirectSignIn(e);(!T||T===F)&&H?.user&&(p=H.user,_=!0)}if(!p)return t.directlySetCurrentUser(null);if(!p._redirectEventId){if(_)try{yield t.beforeStateQueue.runMiddleware(p)}catch(T){p=l,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(T))}return p?t.reloadAndSetCurrentUserOrClear(p):t.directlySetCurrentUser(null)}return dt(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===p._redirectEventId?t.directlySetCurrentUser(p):t.reloadAndSetCurrentUserOrClear(p)})()}tryRedirectSignIn(e){var t=this;return(0,ue.Z)(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,ue.Z)(function*(){try{yield ti(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function $e(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,ue.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,ue.Z)(function*(){const i=e?(0,fe.m9)(e):null;return i&&dt(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return(0,ue.Z)(function*(){if(!i._deleted)return e&&dt(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue((0,ue.Z)(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,ue.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,ue.Z)(function*(){yield t.assertedPersistence.setPersistence(Q(e))}))}initializeRecaptchaConfig(){var e=this;return(0,ue.Z)(function*(){const t=yield Rs(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new Xo(t);null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.emailPasswordEnabled&&new bs(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fe.LL("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return(0,ue.Z)(function*(){const l=yield i.getOrInitRedirectPersistenceManager(t);return null===e?l.removeCurrentUser():l.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,ue.Z)(function*(){if(!t.redirectPersistenceManager){const i=e&&Q(e)||t._popupRedirectResolver;dt(i,t,"argument-error"),t.redirectPersistenceManager=yield $.create(t,[Q(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,ue.Z)(function*(){var i,l;return t._isInitialized&&(yield t.queue((0,ue.Z)(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(l=t.redirectUser)||void 0===l?void 0:l._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,ue.Z)(function*(){if(e===t.currentUser)return t.queue((0,ue.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,l){if(this._deleted)return()=>{};const p="function"==typeof t?t:t.next.bind(t),_=this._isInitialized?Promise.resolve():this._initializationPromise;return dt(_,this,"internal-error"),_.then(()=>p(this.currentUser)),"function"==typeof t?e.addObserver(t,i,l):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,ue.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ma(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,ue.Z)(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const l=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();l&&(i["X-Firebase-Client"]=l);const p=yield e._getAppCheckToken();return p&&(i["X-Firebase-AppCheck"]=p),i})()}_getAppCheckToken(){var e=this;return(0,ue.Z)(function*(){var t;const i=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return i?.error&&function vt(n,...e){ot.logLevel<=Oe.in.WARN&&ot.warn(`Auth (${Te.Jn}): ${n}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function Ei(n){return(0,fe.m9)(n)}class ya{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,fe.ne)(t=>this.observer=t)}get next(){return dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function Va(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new et(3e4,6e4),new et(2e3,1e4),new et(3e4,6e4),new et(5e3,15e3),encodeURIComponent("fac");var Zg="@firebase/auth";class U_{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,ue.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,fe.Pz)("authIdTokenMaxAge"),function Oa(n){(0,Te.Xd)(new ae.wA("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),p=e.getProvider("app-check-internal"),{apiKey:_,authDomain:T}=i.options;dt(_&&!_.includes(":"),"invalid-api-key",{appName:i.name});const F={apiKey:_,authDomain:T,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ma(n)},H=new _a(i,l,p,F);return function ho(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Q);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}(H,t),H},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),(0,Te.Xd)(new ae.wA("auth-internal",e=>{const t=Ei(e.getProvider("auth").getImmediate());return new U_(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Te.KN)(Zg,"0.23.2",function B_(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,Te.KN)(Zg,"0.23.2","esm2017")}("Browser");class Bu{constructor(){return(0,b.vb)("auth")}}const z_=new Map,W_={activated:!1,tokenObservers:[]},nm={initialized:!1,enabled:!1};function hs(n){return z_.get(n)||Object.assign({},W_)}function yf(){return nm}const rm="https://content-firebaseappcheck.googleapis.com/v1",Op="exchangeDebugToken",Z_={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class im{constructor(e,t,i,l,p){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=l,this.upperBound=p,this.pending=null,this.nextErrorWaitInterval=l,l>p)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ue.Z)(function*(){t.stop();try{t.pending=new fe.BH,yield function I0(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new fe.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const zo=new fe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function iu(n){if(!hs(n).activated)throw zo.create("use-before-activation",{appName:n.name})}function Vu(n,e){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,ue.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},l=t.getImmediate({optional:!0});if(l){const pe=yield l.getHeartbeatsHeader();pe&&(i["X-Firebase-Client"]=pe)}const p={method:"POST",body:JSON.stringify(e),headers:i};let _,T;try{_=yield fetch(n,p)}catch(pe){throw zo.create("fetch-network-error",{originalErrorMessage:pe?.message})}if(200!==_.status)throw zo.create("fetch-status-error",{httpStatus:_.status});try{T=yield _.json()}catch(pe){throw zo.create("fetch-parse-error",{originalErrorMessage:pe?.message})}const F=T.ttl.match(/^([\d.]+)(s)$/);if(!F||!F[2]||isNaN(Number(F[1])))throw zo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${T.ttl}`});const H=1e3*Number(F[1]),te=Date.now();return{token:T.token,expireTimeMillis:te+H,issuedAtTimeMillis:te}})).apply(this,arguments)}function Ri(n,e){const{projectId:t,appId:i,apiKey:l}=n.options;return{url:`${rm}/projects/${t}/apps/${i}:${Op}?key=${l}`,body:{debug_token:e}}}const sw="firebase-app-check-database",am=1,bf="firebase-app-check-store";let Hu=null;function J_(){return(J_=(0,ue.Z)(function*(n,e){const i=(yield function wf(){return Hu||(Hu=new Promise((n,e)=>{try{const t=indexedDB.open(sw,am);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var l;e(zo.create("storage-open",{originalErrorMessage:null===(l=i.target.error)||void 0===l?void 0:l.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(bf,{keyPath:"compositeKey"})}}catch(t){e(zo.create("storage-open",{originalErrorMessage:t?.message}))}}),Hu)}()).transaction(bf,"readwrite"),p=i.objectStore(bf).put({compositeKey:n,value:e});return new Promise((_,T)=>{p.onsuccess=F=>{_()},i.onerror=F=>{var H;T(zo.create("storage-set",{originalErrorMessage:null===(H=F.target.error)||void 0===H?void 0:H.message}))}})})).apply(this,arguments)}const Kd=new Oe.Yd("@firebase/app-check");function Fp(n,e){return(0,fe.hl)()?function Pp(n,e){return function T0(n,e){return J_.apply(this,arguments)}(function ey(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Kd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Lp(){return yf().enabled}function um(){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,ue.Z)(function*(){const n=yf();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const C0={error:"UNKNOWN_ERROR"};function S0(n){return fe.US.encodeString(JSON.stringify(n),!1)}function dm(n){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,ue.Z)(function*(n,e=!1){const t=n.app;iu(t);const i=hs(t);let p,l=i.token;if(l&&!ju(l)&&(i.token=void 0,l=void 0),!l){const F=yield i.cachedTokenPromise;F&&(ju(F)?l=F:yield Fp(t,void 0))}if(!e&&l&&ju(l))return{token:l.token};let T,_=!1;if(Lp()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Vu(Ri(t,yield um()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),_=!0);const F=yield i.exchangeTokenPromise;return yield Fp(t,F),i.token=F,{token:F.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),_=!0),l=yield hs(t).exchangeTokenPromise}catch(F){"appCheck/throttled"===F.code?Kd.warn(F.message):Kd.error(F),p=F}return l?p?T=ju(l)?{token:l.token,internalError:p}:N0(p):(T={token:l.token},i.token=l,yield Fp(t,l)):T=N0(p),_&&function pm(n,e){const t=hs(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,T),T})).apply(this,arguments)}function ny(n){return Up.apply(this,arguments)}function Up(){return(Up=(0,ue.Z)(function*(n){const e=n.app;iu(e);const{provider:t}=hs(e);if(Lp()){const i=yield um(),{token:l}=yield Vu(Ri(e,i),n.heartbeatServiceProvider);return{token:l}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function Bp(n,e){const t=hs(n),i=t.tokenObservers.filter(l=>l.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function fm(n){const{app:e}=n,t=hs(e);let i=t.tokenRefresher;i||(i=function A0(n){const{app:e}=n;return new im((0,ue.Z)(function*(){let i;if(i=hs(e).token?yield dm(n,!0):yield dm(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=hs(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},Z_.RETRIAL_MIN_WAIT,Z_.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function ju(n){return n.expireTimeMillis-Date.now()>0}function N0(n){return{token:S0(C0),error:n}}class O0{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=hs(this.app);for(const t of e)Bp(this.app,t.next);return Promise.resolve()}}const zp="app-check-internal";!function k0(){(0,Te.Xd)(new ae.wA("app-check",n=>function ry(n,e){return new O0(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(zp).initialize()})),(0,Te.Xd)(new ae.wA(zp,n=>function aw(n){return{getToken:e=>dm(n,e),getLimitedUseToken:()=>ny(n),addTokenListener:e=>function hm(n,e,t,i){const{app:l}=n,p=hs(l);if(p.tokenObservers=[...p.tokenObservers,{next:t,error:i,type:e}],p.token&&ju(p.token)){const T=p.token;Promise.resolve().then(()=>{t({token:T.token}),fm(n)}).catch(()=>{})}p.cachedTokenPromise.then(()=>fm(n))}(n,"INTERNAL",e),removeTokenListener:e=>Bp(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Te.KN)("@firebase/app-check","0.8.0")}();class su{constructor(){return(0,b.vb)("app-check")}}typeof window<"u"&&window;var nn,fw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Al={},pw=pw||{},ur=fw||self;function B0(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ef(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var gw="closure_uid_"+(1e9*Math.random()>>>0),BD=0;function uy(n,e,t){return n.call.apply(n.bind,arguments)}function mw(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,i),n.apply(e,l)}}return function(){return n.apply(e,arguments)}}function Qa(n,e,t){return(Qa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?uy:mw).apply(null,arguments)}function Zp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Eo(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,l,p){for(var _=Array(arguments.length-2),T=2;T<arguments.length;T++)_[T-2]=arguments[T];return e.prototype[l].apply(i,_)}}function tl(){this.s=this.s,this.o=this.o}tl.prototype.s=!1,tl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function V0(n){Object.prototype.hasOwnProperty.call(n,gw)&&n[gw]||(n[gw]=++BD)}(this)},tl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Tf=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function bm(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function dy(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(B0(i)){const l=n.length||0,p=i.length||0;n.length=l+p;for(let _=0;_<p;_++)n[l+_]=i[_]}else n.push(i)}}function Pi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Pi.prototype.h=function(){this.defaultPrevented=!0};var OE=function(){if(!ur.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ur.addEventListener("test",()=>{},e),ur.removeEventListener("test",()=>{},e)}catch{}return n}();function Kp(n){return/^[\s\xa0]*$/.test(n)}function eh(){var n=ur.navigator;return n&&(n=n.userAgent)?n:""}function nl(n){return-1!=eh().indexOf(n)}function hy(n){return hy[" "](n),n}hy[" "]=function(){};var wm,n,fy=nl("Opera"),Df=nl("Trident")||nl("MSIE"),py=nl("Edge"),H0=py||Df,yw=nl("Gecko")&&!(-1!=eh().toLowerCase().indexOf("webkit")&&!nl("Edge"))&&!(nl("Trident")||nl("MSIE"))&&!nl("Edge"),Yp=-1!=eh().toLowerCase().indexOf("webkit")&&!nl("Edge");function th(){var n=ur.document;return n?n.documentMode:void 0}e:{var Qp="",Jp=(n=eh(),yw?/rv:([^\);]+)(\)|;)/.exec(n):py?/Edge\/([\d\.]+)/.exec(n):Df?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Yp?/WebKit\/(\S+)/.exec(n):fy?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Jp&&(Qp=Jp?Jp[1]:""),Df){var Xp=th();if(null!=Xp&&Xp>parseFloat(Qp)){wm=String(Xp);break e}}wm=Qp}var rh=ur.document&&Df&&(th()||parseInt(wm,10))||void 0;function Nl(n,e){if(Pi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(yw){e:{try{hy(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ME[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Nl.$.h.call(this)}}Eo(Nl,Pi);var ME={2:"touch",3:"pen",4:"mouse"};Nl.prototype.h=function(){Nl.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ih="closure_listenable_"+(1e6*Math.random()|0),vw=0;function my(n,e,t,i,l){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=l,this.key=++vw,this.fa=this.ia=!1}function sh(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function _y(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function yy(n){const e={};for(const t in n)e[t]=n[t];return e}const Im="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Sf(n,e){let t,i;for(let l=1;l<arguments.length;l++){for(t in i=arguments[l],i)n[t]=i[t];for(let p=0;p<Im.length;p++)t=Im[p],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function eg(n){this.src=n,this.g={},this.h=0}function Af(n,e){var t=e.type;if(t in n.g){var p,i=n.g[t],l=Tf(i,e);(p=0<=l)&&Array.prototype.splice.call(i,l,1),p&&(sh(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function oh(n,e,t,i){for(var l=0;l<n.length;++l){var p=n[l];if(!p.fa&&p.listener==e&&p.capture==!!t&&p.la==i)return l}return-1}eg.prototype.add=function(n,e,t,i,l){var p=n.toString();(n=this.g[p])||(n=this.g[p]=[],this.h++);var _=oh(n,e,i,l);return-1<_?(e=n[_],t||(e.ia=!1)):((e=new my(e,this.src,p,!!i,l)).ia=t,n.push(e)),e};var Mc="closure_lm_"+(1e6*Math.random()|0),$u={};function tg(n,e,t,i,l){if(i&&i.once)return Em(n,e,t,i,l);if(Array.isArray(e)){for(var p=0;p<e.length;p++)tg(n,e[p],t,i,l);return null}return t=G0(t),n&&n[ih]?n.O(e,t,Ef(i)?!!i.capture:!!i,l):bw(n,e,t,!1,i,l)}function bw(n,e,t,i,l,p){if(!e)throw Error("Invalid event type");var _=Ef(l)?!!l.capture:!!l,T=Tm(n);if(T||(n[Mc]=T=new eg(n)),(t=T.add(e,t,i,_,p)).proxy)return t;if(i=function xE(){const e=RE;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)OE||(l=_),void 0===l&&(l=!1),n.addEventListener(e.toString(),i,l);else if(n.attachEvent)n.attachEvent(ww(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function Em(n,e,t,i,l){if(Array.isArray(e)){for(var p=0;p<e.length;p++)Em(n,e[p],t,i,l);return null}return t=G0(t),n&&n[ih]?n.P(e,t,Ef(i)?!!i.capture:!!i,l):bw(n,e,t,!0,i,l)}function ah(n,e,t,i,l){if(Array.isArray(e))for(var p=0;p<e.length;p++)ah(n,e[p],t,i,l);else i=Ef(i)?!!i.capture:!!i,t=G0(t),n&&n[ih]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=oh(p=n.g[e],t,i,l))&&(sh(p[t]),Array.prototype.splice.call(p,t,1),0==p.length&&(delete n.g[e],n.h--))):n&&(n=Tm(n))&&(e=n.g[e.toString()],n=-1,e&&(n=oh(e,t,i,l)),(t=-1<n?e[n]:null)&&vy(t))}function vy(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[ih])Af(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(ww(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Tm(e))?(Af(t,n),0==t.h&&(t.src=null,e[Mc]=null)):sh(n)}}}function ww(n){return n in $u?$u[n]:$u[n]="on"+n}function RE(n,e){if(n.fa)n=!0;else{e=new Nl(e,this);var t=n.listener,i=n.la||n.src;n.ia&&vy(n),n=t.call(i,e)}return n}function Tm(n){return(n=n[Mc])instanceof eg?n:null}var by="__closure_events_fn_"+(1e9*Math.random()>>>0);function G0(n){return"function"==typeof n?n:(n[by]||(n[by]=function(e){return n.handleEvent(e)}),n[by])}function io(){tl.call(this),this.i=new eg(this),this.S=this,this.J=null}function Wo(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Pi(e,n);else if(e instanceof Pi)e.target=e.target||n;else{var l=e;Sf(e=new Pi(i,n),l)}if(l=!0,t)for(var p=t.length-1;0<=p;p--){var _=e.g=t[p];l=j0(_,i,!0,e)&&l}if(l=j0(_=e.g=n,i,!0,e)&&l,l=j0(_,i,!1,e)&&l,t)for(p=0;p<t.length;p++)l=j0(_=e.g=t[p],i,!1,e)&&l}function j0(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,p=0;p<e.length;++p){var _=e[p];if(_&&!_.fa&&_.capture==t){var T=_.listener,F=_.la||_.src;_.ia&&Af(n.i,_),l=!1!==T.call(F,i)&&l}}return l&&!i.defaultPrevented}Eo(io,tl),io.prototype[ih]=!0,io.prototype.removeEventListener=function(n,e,t,i){ah(this,n,e,t,i)},io.prototype.N=function(){if(io.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)sh(t[i]);delete n.g[e],n.h--}}this.J=null},io.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},io.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Dm=ur.JSON.stringify;function kE(){var n=Sm;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Ew=new class PE{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Cm,n=>n.reset());class Cm{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function FE(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function $0(n){ur.setTimeout(()=>{throw n},0)}let Nf,zu=!1,Sm=new class Iw{constructor(){this.h=this.g=null}add(e,t){const i=Ew.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},wy=()=>{const n=ur.Promise.resolve(void 0);Nf=()=>{n.then(Am)}};var Am=()=>{for(var n;n=kE();){try{n.h.call(n.g)}catch(t){$0(t)}var e=Ew;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}zu=!1};function Of(n,e){io.call(this),this.h=n||1,this.g=e||ur,this.j=Qa(this.qb,this),this.l=Date.now()}function Wu(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Nm(n,e,t){if("function"==typeof n)t&&(n=Qa(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Qa(n.handleEvent,n)}return 2147483647<Number(e)?-1:ur.setTimeout(n,e||0)}function Iy(n){n.g=Nm(()=>{n.g=null,n.i&&(n.i=!1,Iy(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Eo(Of,io),(nn=Of.prototype).ga=!1,nn.T=null,nn.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Wo(this,"tick"),this.ga&&(Wu(this),this.start()))}},nn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nn.N=function(){Of.$.N.call(this),Wu(this),delete this.g};class Ey extends tl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Iy(this)}N(){super.N(),this.g&&(ur.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ty(n){tl.call(this),this.h=n,this.g={}}Eo(Ty,tl);var Om=[];function ng(n,e,t,i){Array.isArray(t)||(t&&(Om[0]=t.toString()),t=Om);for(var l=0;l<t.length;l++){var p=tg(e,t[l],i||n.handleEvent,!1,n.h||n);if(!p)break;n.g[p.key]=p}}function Tw(n){_y(n.g,function(e,t){this.g.hasOwnProperty(t)&&vy(e)},n),n.g={}}function rg(){this.g=!0}function qu(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function BE(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var l=i[1];if(Array.isArray(l)&&!(1>l.length)){var p=l[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var _=1;_<l.length;_++)l[_]=""}}}return Dm(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Ty.prototype.N=function(){Ty.$.N.call(this),Tw(this)},Ty.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rg.prototype.Ea=function(){this.g=!1},rg.prototype.info=function(){};var Mf={},VE=null;function Dy(){return VE=VE||new io}function xf(n){Pi.call(this,Mf.Ta,n)}function Rf(n){const e=Dy();Wo(e,new xf(e))}function Cw(n,e){Pi.call(this,Mf.STAT_EVENT,n),this.stat=e}function Ja(n){const e=Dy();Wo(e,new Cw(e,n))}function Cy(n,e){Pi.call(this,Mf.Ua,n),this.size=e}function Zu(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ur.setTimeout(function(){n()},e)}Mf.Ta="serverreachability",Eo(xf,Pi),Mf.STAT_EVENT="statevent",Eo(Cw,Pi),Mf.Ua="timingevent",Eo(Cy,Pi);var Sy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},z0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function W0(){}function Sw(){}W0.prototype.h=null;var ch,Mm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ig(){Pi.call(this,"d")}function Z0(){Pi.call(this,"c")}function Ku(){}function xm(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Ty(this),this.P=Aw,this.V=new Of(n=H0?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new K0}function K0(){this.i=null,this.g="",this.h=!1}Eo(ig,Pi),Eo(Z0,Pi),Eo(Ku,W0),Ku.prototype.g=function(){return new XMLHttpRequest},Ku.prototype.i=function(){return{}},ch=new Ku;var Aw=45e3,Y0={},Ay={};function Ny(n,e,t){n.L=1,n.v=km(ou(e)),n.s=t,n.S=!0,Q0(n,null)}function Q0(n,e){n.G=Date.now(),Pf(n),n.A=ou(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),Fm(t.i,"t",i),n.C=0,t=n.l.J,n.h=new K0,n.g=$y(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Ey(Qa(n.Pa,n,n.g),n.O)),ng(n.U,n.g,"readystatechange",n.nb),e=n.I?yy(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Rf(),function LE(n,e,t,i,l,p){n.info(function(){if(n.g)if(p)for(var _="",T=p.split("&"),F=0;F<T.length;F++){var H=T[F].split("=");if(1<H.length){var te=H[0];H=H[1];var pe=te.split("_");_=2<=pe.length&&"type"==pe[1]?_+(te+"=")+H+"&":_+(te+"=redacted&")}}else _=null;else _=p;return"XMLHTTP REQ ("+i+") [attempt "+l+"]: "+e+"\n"+t+"\n"+_})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Oy(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function J0(n,e,t){let l,i=!0;for(;!n.J&&n.C<t.length;){if(l=Rm(n,t),l==Ay){4==e&&(n.o=4,Ja(14),i=!1),qu(n.j,n.m,null,"[Incomplete Response]");break}if(l==Y0){n.o=4,Ja(15),qu(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}qu(n.j,n.m,l,null),Pm(n,l)}Oy(n)&&l!=Ay&&l!=Y0&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ja(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),fg(e),e.M=!0,Ja(11))):(qu(n.j,n.m,t,"[Invalid Chunked Response]"),uh(n),lh(n))}function Rm(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Ay:(t=Number(e.substring(t,i)),isNaN(t)?Y0:(i+=1)+t>e.length?Ay:(e=e.slice(i,i+t),n.C=i+t,e))}function Pf(n){n.Y=Date.now()+n.P,X0(n,n.P)}function X0(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Zu(Qa(n.lb,n),e)}function My(n){n.B&&(ur.clearTimeout(n.B),n.B=null)}function lh(n){0==n.l.H||n.J||mh(n.l,n)}function uh(n){My(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Wu(n.V),Tw(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Pm(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Fy(t.i,n)))if(!n.K&&Fy(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var l=i;if(0==l[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;gh(t),hg(t)}bd(t),Ja(18)}}else t.Fa=l[1],0<t.Fa-t.V&&37500>l[2]&&t.G&&0==t.A&&!t.v&&(t.v=Zu(Qa(t.ib,t),6e3));if(1>=a1(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else yh(t,11)}else if((n.K||t.g==n)&&gh(t),!Kp(e))for(l=t.Ja.g.parse(e),e=0;e<l.length;e++){let H=l[e];if(t.V=H[0],H=H[1],2==t.H)if("c"==H[0]){t.K=H[1],t.pa=H[2];const te=H[3];null!=te&&(t.ra=te,t.l.info("VER="+t.ra));const pe=H[4];null!=pe&&(t.Ga=pe,t.l.info("SVER="+t.Ga));const Ue=H[5];null!=Ue&&"number"==typeof Ue&&0<Ue&&(t.L=i=1.5*Ue,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const lt=n.g;if(lt){const Ft=lt.g?lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ft){var p=i.i;p.g||-1==Ft.indexOf("spdy")&&-1==Ft.indexOf("quic")&&-1==Ft.indexOf("h2")||(p.j=p.l,p.g=new Set,p.h&&(Lm(p,p.h),p.h=null))}if(i.F){const rn=lt.g?lt.g.getResponseHeader("X-HTTP-Session-Id"):null;rn&&(i.Da=rn,vi(i.I,i.F,rn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var _=n;if((i=t).wa=Fw(i,i.J?i.pa:null,i.Y),_.K){_c(i.i,_);var T=_,F=i.L;F&&T.setTimeout(F),T.B&&(My(T),Pf(T)),i.g=_}else rl(i);0<t.j.length&&Bf(t)}else"stop"!=H[0]&&"close"!=H[0]||yh(t,7);else 3==t.H&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?yh(t,7):ph(t):"noop"!=H[0]&&t.h&&t.h.Aa(H),t.A=0)}Rf()}catch{}}function Mw(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(B0(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Ow(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(B0(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Nw(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(B0(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),l=i.length,p=0;p<l;p++)e.call(void 0,i[p],t&&t[p],n)}(nn=xm.prototype).setTimeout=function(n){this.P=n},nn.nb=function(n){n=n.target;const e=this.M;e&&3==xa(n)?e.l():this.Pa(n)},nn.Pa=function(n){try{if(n==this.g)e:{const te=xa(this.g);var e=this.g.Ia();if(this.g.da(),!(3>te)&&(3!=te||H0||this.g&&(this.h.h||this.g.ja()||Lf(this.g)))){this.J||4!=te||7==e||Rf(),My(this);var t=this.g.da();this.ca=t;t:if(Oy(this)){var i=Lf(this.g);n="";var l=i.length,p=4==xa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){uh(this),lh(this);var _="";break t}this.h.i=new ur.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:p&&e==l-1});i.splice(0,l),this.h.g+=n,this.C=0,_=this.h.g}else _=this.g.ja();if(this.i=200==t,function UE(n,e,t,i,l,p,_){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+p+" "+_})}(this.j,this.u,this.A,this.m,this.W,te,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var T,F=this.g;if((T=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kp(T)){var H=T;break t}}H=null}if(!(t=H)){this.i=!1,this.o=3,Ja(12),uh(this),lh(this);break e}qu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pm(this,t)}this.S?(J0(this,te,_),H0&&this.i&&3==te&&(ng(this.U,this.V,"tick",this.mb),this.V.start())):(qu(this.j,this.m,_,null),Pm(this,_)),4==te&&uh(this),this.i&&!this.J&&(4==te?mh(this.l,this):(this.i=!1,Pf(this)))}else(function dg(n){const e={};n=(n.g&&2<=xa(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Kp(n[i]))continue;var t=FE(n[i]);const l=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const p=e[l]||[];e[l]=p,p.push(t)}!function Cf(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<_.indexOf("Unknown SID")?(this.o=3,Ja(12)):(this.o=0,Ja(13)),uh(this),lh(this)}}}catch{}},nn.mb=function(){if(this.g){var n=xa(this.g),e=this.g.ja();this.C<e.length&&(My(this),J0(this,n,e),this.i&&4!=n&&Pf(this))}},nn.cancel=function(){this.J=!0,uh(this)},nn.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Dw(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Rf(),Ja(17)),uh(this),this.o=2,lh(this)):X0(this,this.Y-n)};var xy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ha(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ha){this.h=n.h,Ry(this,n.j),this.s=n.s,this.g=n.g,sg(this,n.m),this.l=n.l;var e=n.i,t=new cg;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Yu(this,t),this.o=n.o}else n&&(e=String(n).match(xy))?(this.h=!1,Ry(this,e[1]||"",!0),this.s=og(e[2]||""),this.g=og(e[3]||"",!0),sg(this,e[4]),this.l=og(e[5]||"",!0),Yu(this,e[6]||"",!0),this.o=og(e[7]||"")):(this.h=!1,this.i=new cg(null,this.h))}function ou(n){return new ha(n)}function Ry(n,e,t){n.j=t?og(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function sg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Yu(n,e,t){e instanceof cg?(n.i=e,function i1(n,e){e&&!n.j&&(au(n),n.i=null,n.g.forEach(function(t,i){var l=i.toLowerCase();i!=l&&(n1(this,i),Fm(this,l,t))},n)),n.j=e}(n.i,n.h)):(t||(e=ag(e,HE)),n.i=new cg(e,n.h))}function vi(n,e,t){n.i.set(e,t)}function km(n){return vi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function og(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ag(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Py),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Py(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ha.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ag(e,Ol,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ag(e,Ol,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(ag(t,"/"==t.charAt(0)?xw:t1,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ag(t,qo)),n.join("")};var Ol=/[#\/\?@]/g,t1=/[#\?:]/g,xw=/[#\?]/g,HE=/[#\?@]/g,qo=/#/g;function cg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function au(n){n.g||(n.g=new Map,n.h=0,n.i&&function e1(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),l=null;if(0<=i){var p=n[t].substring(0,i);l=n[t].substring(i+1)}else p=n[t];e(p,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function n1(n,e){au(n),e=dh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function r1(n,e){return au(n),e=dh(n,e),n.g.has(e)}function Fm(n,e,t){n1(n,e),0<t.length&&(n.i=null,n.g.set(dh(n,e),bm(t)),n.h+=t.length)}function dh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function ky(n){this.l=n||s1,n=ur.PerformanceNavigationTiming?0<(n=ur.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ur.g&&ur.g.Ka&&ur.g.Ka()&&ur.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(nn=cg.prototype).add=function(n,e){au(this),this.i=null,n=dh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},nn.forEach=function(n,e){au(this),this.g.forEach(function(t,i){t.forEach(function(l){n.call(e,l,i,this)},this)},this)},nn.ta=function(){au(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const l=n[i];for(let p=0;p<l.length;p++)t.push(e[i])}return t},nn.Z=function(n){au(this);let e=[];if("string"==typeof n)r1(this,n)&&(e=e.concat(this.g.get(dh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},nn.set=function(n,e){return au(this),this.i=null,r1(this,n=dh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},nn.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},nn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const p=encodeURIComponent(String(i)),_=this.Z(i);for(i=0;i<_.length;i++){var l=p;""!==_[i]&&(l+="="+encodeURIComponent(String(_[i]))),n.push(l)}}return this.i=n.join("&")};var s1=10;function o1(n){return!!n.h||!!n.g&&n.g.size>=n.j}function a1(n){return n.h?1:n.g?n.g.size:0}function Fy(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Lm(n,e){n.g?n.g.add(e):n.h=e}function _c(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Ml(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return bm(n.i)}ky.prototype.cancel=function(){if(this.i=Ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var vd=class{stringify(n){return ur.JSON.stringify(n,void 0)}parse(n){return ur.JSON.parse(n,void 0)}};function Ly(){this.g=new vd}function Uy(n,e,t){const i=t||"";try{Mw(n,function(l,p){let _=l;Ef(l)&&(_=Dm(l)),e.push(i+p+"="+encodeURIComponent(_))})}catch(l){throw e.push(i+"type="+encodeURIComponent("_badmap")),l}}function kf(n,e,t,i,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(i)}catch{}}function hh(n){this.l=n.fc||null,this.j=n.ob||!1}function cu(n,e){io.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Ff,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Eo(hh,W0),hh.prototype.g=function(){return new cu(this.l,this.j)},hh.prototype.i=function(n){return function(){return n}}({}),Eo(cu,io);var Ff=0;function Qu(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function fh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,lg(n)}function lg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(nn=cu.prototype).open=function(n,e){if(this.readyState!=Ff)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,lg(this)},nn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||ur).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},nn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fh(this)),this.readyState=Ff},nn.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,lg(this)),this.g&&(this.readyState=3,lg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ur.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Qu(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},nn.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?fh(this):lg(this),3==this.readyState&&Qu(this)}},nn.Za=function(n){this.g&&(this.response=this.responseText=n,fh(this))},nn.Ya=function(n){this.g&&(this.response=n,fh(this))},nn.ka=function(){this.g&&fh(this)},nn.setRequestHeader=function(n,e){this.v.append(n,e)},nn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},nn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(cu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var GE=ur.JSON.parse;function Cs(n){io.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=By,this.L=this.M=!1}Eo(Cs,io);var By="",Vy=/^https?$/i,VD=["POST","PUT"];function Hy(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Pw(n),ug(n)}function Pw(n){n.F||(n.F=!0,Wo(n,"complete"),Wo(n,"error"))}function Um(n){if(n.h&&typeof pw<"u"&&(!n.C[1]||4!=xa(n)||2!=n.da()))if(n.v&&4==xa(n))Nm(n.La,0,n);else if(Wo(n,"readystatechange"),4==xa(n)){n.h=!1;try{const _=n.da();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===_){var l=String(n.I).match(xy)[1]||null;!l&&ur.self&&ur.self.location&&(l=ur.self.location.protocol.slice(0,-1)),i=!Vy.test(l?l.toLowerCase():"")}t=i}if(t)Wo(n,"complete"),Wo(n,"success");else{n.m=6;try{var p=2<xa(n)?n.g.statusText:""}catch{p=""}n.j=p+" ["+n.da()+"]",Pw(n)}}finally{ug(n)}}}function ug(n,e){if(n.g){Gy(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Wo(n,"ready");try{t.onreadystatechange=i}catch{}}}function Gy(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(ur.clearTimeout(n.A),n.A=null)}function xa(n){return n.g?n.g.readyState:0}function Lf(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case By:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function jy(n){let e="";return _y(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function Uf(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=jy(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):vi(n,e,t))}function vc(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function tr(n){this.Ga=0,this.j=[],this.l=new rg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=vc("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=vc("baseRetryDelayMs",5e3,n),this.hb=vc("retryDelaySeedMs",1e4,n),this.eb=vc("forwardChannelMaxRetries",2,n),this.xa=vc("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new ky(n&&n.concurrentRequestLimit),this.Ja=new Ly,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ph(n){if(xl(n),3==n.H){var e=n.W++,t=ou(n.I);if(vi(t,"SID",n.K),vi(t,"RID",e),vi(t,"TYPE","terminate"),fa(n,t),(e=new xm(n,n.l,e)).L=2,e.v=km(ou(t)),t=!1,ur.navigator&&ur.navigator.sendBeacon)try{t=ur.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&ur.Image&&((new Image).src=e.v,t=!0),t||(e.g=$y(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Pf(e)}Bm(n)}function hg(n){n.g&&(fg(n),n.g.cancel(),n.g=null)}function xl(n){hg(n),n.u&&(ur.clearTimeout(n.u),n.u=null),gh(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ur.clearTimeout(n.m),n.m=null)}function Bf(n){if(!o1(n.i)&&!n.m){n.m=!0;var e=n.Na;Nf||wy(),zu||(Nf(),zu=!0),Sm.add(e,n),n.C=0}}function Vf(n,e){var t;t=e?e.m:n.W++;const i=ou(n.I);vi(i,"SID",n.K),vi(i,"RID",t),vi(i,"AID",n.V),fa(n,i),n.o&&n.s&&Uf(i,n.o,n.s),t=new xm(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=xc(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Lm(n.i,t),Ny(t,i,e)}function fa(n,e){n.na&&_y(n.na,function(t,i){vi(e,i,t)}),n.h&&Mw({},function(t,i){vi(e,i,t)})}function xc(n,e,t){t=Math.min(n.j.length,t);var i=n.h?Qa(n.h.Va,n.h,n):null;e:{var l=n.j;let p=-1;for(;;){const _=["count="+t];-1==p?0<t?(p=l[0].g,_.push("ofs="+p)):p=0:_.push("ofs="+p);let T=!0;for(let F=0;F<t;F++){let H=l[F].g;const te=l[F].map;if(H-=p,0>H)p=Math.max(0,l[F].g-100),T=!1;else try{Uy(te,_,"req"+H+"_")}catch{i&&i(te)}}if(T){i=_.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function rl(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Nf||wy(),zu||(Nf(),zu=!0),Sm.add(e,n),n.A=0}}function bd(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Zu(Qa(n.Ma,n),_h(n,n.A)),n.A++,0))}function fg(n){null!=n.B&&(ur.clearTimeout(n.B),n.B=null)}function Hf(n){n.g=new xm(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ou(n.wa);vi(e,"RID","rpc"),vi(e,"SID",n.K),vi(e,"AID",n.V),vi(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&vi(e,"TO",n.qa),vi(e,"TYPE","xmlhttp"),fa(n,e),n.o&&n.s&&Uf(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=km(ou(e)),t.s=null,t.S=!0,Q0(t,n)}function gh(n){null!=n.v&&(ur.clearTimeout(n.v),n.v=null)}function mh(n,e){var t=null;if(n.g==e){gh(n),fg(n),n.g=null;var i=2}else{if(!Fy(n.i,e))return;t=e.F,_c(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var l=n.C;Wo(i=Dy(),new Cy(i,t)),Bf(n)}else rl(n);else if(3==(l=e.o)||0==l&&0<e.ca||!(1==i&&function kw(n,e){return!(a1(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Zu(Qa(n.Na,n,e),_h(n,n.C)),n.C++,0)))}(n,e)||2==i&&bd(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),l){case 1:yh(n,5);break;case 4:yh(n,10);break;case 3:yh(n,6);break;default:yh(n,2)}}function _h(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function yh(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=Qa(n.pb,n);t||(t=new ha("//www.google.com/images/cleardot.gif"),ur.location&&"http"==ur.location.protocol||Ry(t,"https"),km(t)),function yc(n,e){const t=new rg;if(ur.Image){const i=new Image;i.onload=Zp(kf,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Zp(kf,t,i,"TestLoadImage: error",!1,e),i.onabort=Zp(kf,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Zp(kf,t,i,"TestLoadImage: timeout",!1,e),ur.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Ja(2);n.H=0,n.h&&n.h.za(e),Bm(n),xl(n)}function Bm(n){if(n.H=0,n.ma=[],n.h){const e=Ml(n.i);(0!=e.length||0!=n.j.length)&&(dy(n.ma,e),dy(n.ma,n.j),n.i.i.length=0,bm(n.j),n.j.length=0),n.h.ya()}}function Fw(n,e,t){var i=t instanceof ha?ou(t):new ha(t);if(""!=i.g)e&&(i.g=e+"."+i.g),sg(i,i.m);else{var l=ur.location;i=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var p=new ha(null);i&&Ry(p,i),e&&(p.g=e),l&&sg(p,l),t&&(p.l=t),i=p}return e=n.Da,(t=n.F)&&e&&vi(i,t,e),vi(i,"VER",n.ra),fa(n,i),i}function $y(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Cs(t&&n.Ha&&!n.va?new hh({ob:!0}):n.va)).Oa(n.J),e}function l1(){}function Ra(){if(Df&&!(10<=Number(rh)))throw Error("Environmental error: no available transport.")}function bc(n,e){io.call(this),this.g=new tr(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Kp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Kp(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Gf(this)}function Lw(n){ig.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function u1(){Z0.call(this),this.status=1}function Gf(n){this.g=n}function lu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function wc(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)i[l]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(l=0;16>l;++l)i[l]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var p=n.g[3],_=(e=n.g[0])+(p^(t=n.g[1])&((l=n.g[2])^p))+i[0]+3614090360&4294967295;_=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=t+(_<<7&4294967295|_>>>25))+((_=p+(l^e&(t^l))+i[1]+3905402710&4294967295)<<12&4294967295|_>>>20))+((_=l+(t^p&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^l&(p^e))+i[3]+3250441966&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(l^p))+i[4]+4118548399&4294967295)<<7&4294967295|_>>>25))+((_=p+(l^e&(t^l))+i[5]+1200080426&4294967295)<<12&4294967295|_>>>20))+((_=l+(t^p&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^l&(p^e))+i[7]+4249261313&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(l^p))+i[8]+1770035416&4294967295)<<7&4294967295|_>>>25))+((_=p+(l^e&(t^l))+i[9]+2336552879&4294967295)<<12&4294967295|_>>>20))+((_=l+(t^p&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^l&(p^e))+i[11]+2304563134&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(l^p))+i[12]+1804603682&4294967295)<<7&4294967295|_>>>25))+((_=p+(l^e&(t^l))+i[13]+4254626195&4294967295)<<12&4294967295|_>>>20))+((_=l+(t^p&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^l&(p^e))+i[15]+1236535329&4294967295)<<22&4294967295|_>>>10))+((_=e+(l^p&(t^l))+i[1]+4129170786&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^l&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|_>>>23))+((_=l+(e^t&(p^e))+i[11]+643717713&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(l^p))+i[0]+3921069994&4294967295)<<20&4294967295|_>>>12))+((_=e+(l^p&(t^l))+i[5]+3593408605&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^l&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|_>>>23))+((_=l+(e^t&(p^e))+i[15]+3634488961&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(l^p))+i[4]+3889429448&4294967295)<<20&4294967295|_>>>12))+((_=e+(l^p&(t^l))+i[9]+568446438&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^l&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|_>>>23))+((_=l+(e^t&(p^e))+i[3]+4107603335&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(l^p))+i[8]+1163531501&4294967295)<<20&4294967295|_>>>12))+((_=e+(l^p&(t^l))+i[13]+2850285829&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^l&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|_>>>23))+((_=l+(e^t&(p^e))+i[7]+1735328473&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(l^p))+i[12]+2368359562&4294967295)<<20&4294967295|_>>>12))+((_=e+(t^l^p)+i[5]+4294588738&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^l)+i[8]+2272392833&4294967295)<<11&4294967295|_>>>21))+((_=l+(p^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|_>>>16))+((_=t+(l^p^e)+i[14]+4259657740&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^l^p)+i[1]+2763975236&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^l)+i[4]+1272893353&4294967295)<<11&4294967295|_>>>21))+((_=l+(p^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|_>>>16))+((_=t+(l^p^e)+i[10]+3200236656&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^l^p)+i[13]+681279174&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^l)+i[0]+3936430074&4294967295)<<11&4294967295|_>>>21))+((_=l+(p^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|_>>>16))+((_=t+(l^p^e)+i[6]+76029189&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^l^p)+i[9]+3654602809&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^l)+i[12]+3873151461&4294967295)<<11&4294967295|_>>>21))+((_=l+(p^e^t)+i[15]+530742520&4294967295)<<16&4294967295|_>>>16))+((_=t+(l^p^e)+i[2]+3299628645&4294967295)<<23&4294967295|_>>>9))+((_=e+(l^(t|~p))+i[0]+4096336452&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~l))+i[7]+1126891415&4294967295)<<10&4294967295|_>>>22))+((_=l+(e^(p|~t))+i[14]+2878612391&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(l|~e))+i[5]+4237533241&4294967295)<<21&4294967295|_>>>11))+((_=e+(l^(t|~p))+i[12]+1700485571&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~l))+i[3]+2399980690&4294967295)<<10&4294967295|_>>>22))+((_=l+(e^(p|~t))+i[10]+4293915773&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(l|~e))+i[1]+2240044497&4294967295)<<21&4294967295|_>>>11))+((_=e+(l^(t|~p))+i[8]+1873313359&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~l))+i[15]+4264355552&4294967295)<<10&4294967295|_>>>22))+((_=l+(e^(p|~t))+i[6]+2734768916&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(l|~e))+i[13]+1309151649&4294967295)<<21&4294967295|_>>>11))+((p=(e=t+((_=e+(l^(t|~p))+i[4]+4149444226&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~l))+i[11]+3174756917&4294967295)<<10&4294967295|_>>>22))^((l=p+((_=l+(e^(p|~t))+i[2]+718787259&4294967295)<<15&4294967295|_>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(l+(_<<21&4294967295|_>>>11))&4294967295,n.g[2]=n.g[2]+l&4294967295,n.g[3]=n.g[3]+p&4294967295}function si(n,e){this.h=e;for(var t=[],i=!0,l=n.length-1;0<=l;l--){var p=0|n[l];i&&p==e||(t[l]=p,i=!1)}this.g=t}(nn=Cs.prototype).Oa=function(n){this.M=n},nn.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ch.g(),this.C=function q0(n){return n.h||(n.h=n.i())}(this.u?this.u:ch),this.g.onreadystatechange=Qa(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(p){return void Hy(this,p)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var l in i)t.set(l,i[l]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const p of i.keys())t.set(p,i.get(p))}i=Array.from(t.keys()).find(p=>"content-type"==p.toLowerCase()),l=ur.FormData&&n instanceof ur.FormData,!(0<=Tf(VD,e))||i||l||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[p,_]of t)this.g.setRequestHeader(p,_);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Gy(this),0<this.B&&((this.L=function c1(n){return Df&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qa(this.ua,this)):this.A=Nm(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(p){Hy(this,p)}},nn.ua=function(){typeof pw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wo(this,"timeout"),this.abort(8))},nn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Wo(this,"complete"),Wo(this,"abort"),ug(this))},nn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ug(this,!0)),Cs.$.N.call(this)},nn.La=function(){this.s||(this.G||this.v||this.l?Um(this):this.kb())},nn.kb=function(){Um(this)},nn.isActive=function(){return!!this.g},nn.da=function(){try{return 2<xa(this)?this.g.status:-1}catch{return-1}},nn.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},nn.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),GE(e)}},nn.Ia=function(){return this.m},nn.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(nn=tr.prototype).ra=8,nn.H=1,nn.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const l=new xm(this,this.l,n);let p=this.s;if(this.U&&(p?(p=yy(p),Sf(p,this.U)):p=this.U),null!==this.o||this.O||(l.I=p,p=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=xc(this,l,e),vi(t=ou(this.I),"RID",n),vi(t,"CVER",22),this.F&&vi(t,"X-HTTP-Session-Id",this.F),fa(this,t),p&&(this.O?e="headers="+encodeURIComponent(String(jy(p)))+"&"+e:this.o&&Uf(t,this.o,p)),Lm(this.i,l),this.bb&&vi(t,"TYPE","init"),this.P?(vi(t,"$req",e),vi(t,"SID","null"),l.aa=!0,Ny(l,t,null)):Ny(l,t,e),this.H=2}}else 3==this.H&&(n?Vf(this,n):0==this.j.length||o1(this.i)||Vf(this))},nn.Ma=function(){if(this.u=null,Hf(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Zu(Qa(this.jb,this),n)}},nn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ja(10),hg(this),Hf(this))},nn.ib=function(){null!=this.v&&(this.v=null,hg(this),bd(this),Ja(19))},nn.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Ja(2)):(this.l.info("Failed to ping google.com"),Ja(1))},nn.isActive=function(){return!!this.h&&this.h.isActive(this)},(nn=l1.prototype).Ba=function(){},nn.Aa=function(){},nn.za=function(){},nn.ya=function(){},nn.isActive=function(){return!0},nn.Va=function(){},Ra.prototype.g=function(n,e){return new bc(n,e)},Eo(bc,io),bc.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Ja(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Fw(n,null,n.Y),Bf(n)},bc.prototype.close=function(){ph(this.g)},bc.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Dm(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Bf(e)},bc.prototype.N=function(){this.g.h=null,delete this.j,ph(this.g),delete this.g,bc.$.N.call(this)},Eo(Lw,ig),Eo(u1,Z0),Eo(Gf,l1),Gf.prototype.Ba=function(){Wo(this.g,"a")},Gf.prototype.Aa=function(n){Wo(this.g,new Lw(n))},Gf.prototype.za=function(n){Wo(this.g,new u1)},Gf.prototype.ya=function(){Wo(this.g,"b")},Eo(lu,function jE(){this.blockSize=-1}),lu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},lu.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,l=this.h,p=0;p<e;){if(0==l)for(;p<=t;)wc(this,n,p),p+=this.blockSize;if("string"==typeof n){for(;p<e;)if(i[l++]=n.charCodeAt(p++),l==this.blockSize){wc(this,i),l=0;break}}else for(;p<e;)if(i[l++]=n[p++],l==this.blockSize){wc(this,i),l=0;break}}this.h=l,this.i+=e},lu.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var Uw={};function d1(n){return-128<=n&&128>n?function _w(n,e){var t=Uw;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new si([0|e],0>e?-1:0)}):new si([0|n],0>n?-1:0)}function il(n){if(isNaN(n)||!isFinite(n))return vh;if(0>n)return To(il(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=$f;return new si(e,0)}var $f=4294967296,vh=d1(0),Vm=d1(1),zy=d1(16777216);function Rl(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Rc(n){return-1==n.h}function To(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new si(t,~n.h).add(Vm)}function Hm(n,e){return n.add(To(e))}function Gm(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function pg(n,e){this.g=n,this.h=e}function jm(n,e){if(Rl(e))throw Error("division by zero");if(Rl(n))return new pg(vh,vh);if(Rc(n))return e=jm(To(n),e),new pg(To(e.g),To(e.h));if(Rc(e))return e=jm(n,To(e)),new pg(To(e.g),e.h);if(30<n.g.length){if(Rc(n)||Rc(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Vm,i=e;0>=i.X(n);)t=h1(t),i=h1(i);var l=zs(t,1),p=zs(i,1);for(i=zs(i,2),t=zs(t,2);!Rl(i);){var _=p.add(i);0>=_.X(n)&&(l=l.add(t),p=_),i=zs(i,1),t=zs(t,1)}return e=Hm(n,l.R(e)),new pg(l,e)}for(l=vh;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),_=(p=il(t)).R(e);Rc(_)||0<_.X(n);)_=(p=il(t-=i)).R(e);Rl(p)&&(p=Vm),l=l.add(p),n=Hm(n,_)}return new pg(l,n)}function h1(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new si(t,n.h)}function zs(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,l=[],p=0;p<i;p++)l[p]=0<e?n.D(p+t)>>>e|n.D(p+t+1)<<32-e:n.D(p+t);return new si(l,n.h)}(nn=si.prototype).ea=function(){if(Rc(this))return-To(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:$f+i)*e,e*=$f}return n},nn.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Rl(this))return"0";if(Rc(this))return"-"+To(this).toString(n);for(var e=il(Math.pow(n,6)),t=this,i="";;){var l=jm(t,e).g,p=((0<(t=Hm(t,l.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Rl(t=l))return p+i;for(;6>p.length;)p="0"+p;i=p+i}},nn.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},nn.X=function(n){return Rc(n=Hm(this,n))?-1:Rl(n)?0:1},nn.abs=function(){return Rc(this)?To(this):this},nn.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,l=0;l<=e;l++){var p=i+(65535&this.D(l))+(65535&n.D(l)),_=(p>>>16)+(this.D(l)>>>16)+(n.D(l)>>>16);i=_>>>16,t[l]=(_&=65535)<<16|(p&=65535)}return new si(t,-2147483648&t[t.length-1]?-1:0)},nn.R=function(n){if(Rl(this)||Rl(n))return vh;if(Rc(this))return Rc(n)?To(this).R(To(n)):To(To(this).R(n));if(Rc(n))return To(this.R(To(n)));if(0>this.X(zy)&&0>n.X(zy))return il(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var l=0;l<n.g.length;l++){var p=this.D(i)>>>16,_=65535&this.D(i),T=n.D(l)>>>16,F=65535&n.D(l);t[2*i+2*l]+=_*F,Gm(t,2*i+2*l),t[2*i+2*l+1]+=p*F,Gm(t,2*i+2*l+1),t[2*i+2*l+1]+=_*T,Gm(t,2*i+2*l+1),t[2*i+2*l+2]+=p*T,Gm(t,2*i+2*l+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new si(t,0)},nn.gb=function(n){return jm(this,n).h},nn.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new si(t,this.h&n.h)},nn.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new si(t,this.h|n.h)},nn.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new si(t,this.h^n.h)},Ra.prototype.createWebChannel=Ra.prototype.g,bc.prototype.send=bc.prototype.u,bc.prototype.open=bc.prototype.m,bc.prototype.close=bc.prototype.close,Sy.NO_ERROR=0,Sy.TIMEOUT=8,Sy.HTTP_ERROR=6,z0.COMPLETE="complete",Sw.EventType=Mm,Mm.OPEN="a",Mm.CLOSE="b",Mm.ERROR="c",Mm.MESSAGE="d",io.prototype.listen=io.prototype.O,Cs.prototype.listenOnce=Cs.prototype.P,Cs.prototype.getLastError=Cs.prototype.Sa,Cs.prototype.getLastErrorCode=Cs.prototype.Ia,Cs.prototype.getStatus=Cs.prototype.da,Cs.prototype.getResponseJson=Cs.prototype.Wa,Cs.prototype.getResponseText=Cs.prototype.ja,Cs.prototype.send=Cs.prototype.ha,Cs.prototype.setWithCredentials=Cs.prototype.Oa,lu.prototype.digest=lu.prototype.l,lu.prototype.reset=lu.prototype.reset,lu.prototype.update=lu.prototype.j,si.prototype.add=si.prototype.add,si.prototype.multiply=si.prototype.R,si.prototype.modulo=si.prototype.gb,si.prototype.compare=si.prototype.X,si.prototype.toNumber=si.prototype.ea,si.prototype.toString=si.prototype.toString,si.prototype.getBits=si.prototype.D,si.fromNumber=il,si.fromString=function jf(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return To(jf(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=il(Math.pow(e,8)),i=vh,l=0;l<n.length;l+=8){var p=Math.min(8,n.length-l),_=parseInt(n.substring(l,l+p),e);8>p?(p=il(Math.pow(e,p)),i=i.R(p).add(il(_))):i=(i=i.R(t)).add(il(_))}return i};var gg=Al.createWebChannelTransport=function(){return new Ra},Wy=Al.getStatEventTarget=function(){return Dy()},bh=Al.ErrorCode=Sy,Bw=Al.EventType=z0,f1=Al.Event=Mf,qy=Al.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},$m=Al.FetchXmlHttpFactory=hh,zf=Al.WebChannel=Sw,p1=Al.XhrIo=Cs,g1=Al.Md5=lu,uu=Al.Integer=si;const mg="@firebase/firestore";class Ss{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ss.UNAUTHENTICATED=new Ss(null),Ss.GOOGLE_CREDENTIALS=new Ss("google-credentials-uid"),Ss.FIRST_PARTY=new Ss("first-party-uid"),Ss.MOCK_USER=new Ss("mock-user");let wd="9.23.0";const pa=new Oe.Yd("@firebase/firestore");function Zy(){return pa.logLevel}function Nt(n,...e){if(pa.logLevel<=Oe.in.DEBUG){const t=e.map(Ky);pa.debug(`Firestore (${wd}): ${n}`,...t)}}function so(n,...e){if(pa.logLevel<=Oe.in.ERROR){const t=e.map(Ky);pa.error(`Firestore (${wd}): ${n}`,...t)}}function sl(n,...e){if(pa.logLevel<=Oe.in.WARN){const t=e.map(Ky);pa.warn(`Firestore (${wd}): ${n}`,...t)}}function Ky(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function dn(n="Unexpected state"){const e=`FIRESTORE (${wd}) INTERNAL ASSERTION FAILED: `+n;throw so(e),new Error(e)}function bn(n,e){n||dn()}function Yt(n,e){return n}const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class St extends fe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class oo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Yy{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Vw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ss.UNAUTHENTICATED))}shutdown(){}}class Hw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Qy{constructor(e){this.t=e,this.currentUser=Ss.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let l=this.i;const p=H=>this.i!==l?(l=this.i,t(H)):Promise.resolve();let _=new oo;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new oo,e.enqueueRetryable(()=>p(this.currentUser))};const T=()=>{const H=_;e.enqueueRetryable((0,ue.Z)(function*(){yield H.promise,yield p(i.currentUser)}))},F=H=>{Nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(H=>F(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?F(H):(Nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new oo)}},0),T()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(bn("string"==typeof i.accessToken),new Yy(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return bn(null===e||"string"==typeof e),new Ss(e)}}class _1{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=Ss.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class _g{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new _1(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ss.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class y1{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=p=>{null!=p.error&&Nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const _=p.token!==this.T;return this.T=p.token,Nt("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?t(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>i(p))};const l=p=>{Nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.I.onInit(p=>l(p)),setTimeout(()=>{if(!this.appCheck){const p=this.I.getImmediate({optional:!0});p?l(p):Nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(bn("string"==typeof t.token),this.T=t.token,new Jy(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Gw(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class v1{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const l=Gw(40);for(let p=0;p<l.length;++p)i.length<20&&l[p]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[p]%62))}return i}}function Yn(n,e){return n<e?-1:n>e?1:0}function Wf(n,e,t){return n.length===e.length&&n.every((i,l)=>t(i,e[l]))}class ys{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new St(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new St(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new St(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new St(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ys.fromMillis(Date.now())}static fromDate(e){return ys.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new ys(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yn(this.nanoseconds,e.nanoseconds):Yn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new gn(e)}static min(){return new gn(new ys(0,0))}static max(){return new gn(new ys(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class wh{constructor(e,t,i){void 0===t?t=0:t>e.length&&dn(),void 0===i?i=e.length-t:i>e.length-t&&dn(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===wh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wh?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let l=0;l<i;l++){const p=e.get(l),_=t.get(l);if(p<_)return-1;if(p>_)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Pr extends wh{construct(e,t,i){return new Pr(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new St(it.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(l=>l.length>0))}return new Pr(t)}static emptyPath(){return new Pr([])}}const tv=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ws extends wh{construct(e,t,i){return new Ws(e,t,i)}static isValidIdentifier(e){return tv.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ws.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ws(["__name__"])}static fromServerFormat(e){const t=[];let i="",l=0;const p=()=>{if(0===i.length)throw new St(it.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let _=!1;for(;l<e.length;){const T=e[l];if("\\"===T){if(l+1===e.length)throw new St(it.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const F=e[l+1];if("\\"!==F&&"."!==F&&"`"!==F)throw new St(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=F,l+=2}else"`"===T?(_=!_,l++):"."!==T||_?(i+=T,l++):(p(),l++)}if(p(),_)throw new St(it.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ws(t)}static emptyPath(){return new Ws([])}}class Qt{constructor(e){this.path=e}static fromPath(e){return new Qt(Pr.fromString(e))}static fromName(e){return new Qt(Pr.fromString(e).popFirst(5))}static empty(){return new Qt(Pr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Pr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Pr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qt(new Pr(e.slice()))}}function Pc(n){return new Do(n.readTime,n.key,-1)}class Do{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Do(gn.min(),Qt.empty(),-1)}static max(){return new Do(gn.max(),Qt.empty(),-1)}}function qm(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Qt.comparator(n.documentKey,e.documentKey),0!==t?t:Yn(n.largestBatchId,e.largestBatchId))}const iv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ih(n){return yg.apply(this,arguments)}function yg(){return yg=(0,ue.Z)(function*(n){if(n.code!==it.FAILED_PRECONDITION||n.message!==iv)throw n;Nt("LocalStore","Unexpectedly lost primary lease")}),yg.apply(this,arguments)}class We{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&dn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new We((i,l)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(i,l)},this.catchCallback=p=>{this.wrapFailure(t,p).next(i,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof We?t:We.resolve(t)}catch(t){return We.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):We.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):We.reject(t)}static resolve(e){return new We((t,i)=>{t(e)})}static reject(e){return new We((t,i)=>{i(e)})}static waitFor(e){return new We((t,i)=>{let l=0,p=0,_=!1;e.forEach(T=>{++l,T.next(()=>{++p,_&&p===l&&t()},F=>i(F))}),_=!0,p===l&&t()})}static or(e){let t=We.resolve(!1);for(const i of e)t=t.next(l=>l?We.resolve(l):i());return t}static forEach(e,t){const i=[];return e.forEach((l,p)=>{i.push(t.call(this,l,p))}),this.waitFor(i)}static mapArray(e,t){return new We((i,l)=>{const p=e.length,_=new Array(p);let T=0;for(let F=0;F<p;F++){const H=F;t(e[H]).next(te=>{_[H]=te,++T,T===p&&i(_)},te=>l(te))}})}static doWhile(e,t){return new We((i,l)=>{const p=()=>{!0===e()?t().next(()=>{p()},l):i()};p()})}}function Pl(n){return"IndexedDbTransactionError"===n.name}let rs=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=l=>this.ot(l),this.ut=l=>i.writeSequenceNumber(l))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Th(n){return null==n}function kl(n){return 0===n&&1/n==-1/0}function ol(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function fu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Nh(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ki{constructor(e,t){this.comparator=e,this.root=t||Co.EMPTY}insert(e,t){return new ki(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Co.BLACK,null,null))}remove(e){return new ki(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Co.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const l=this.comparator(e,i.key);if(0===l)return t+i.left.size;l<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pu(this.root,e,this.comparator,!1)}getReverseIterator(){return new pu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pu(this.root,e,this.comparator,!0)}}class pu{constructor(e,t,i,l){this.isReverse=l,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=t?i(e.key,t):1,t&&l&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Co{constructor(e,t,i,l,p){this.key=e,this.value=t,this.color=i??Co.RED,this.left=l??Co.EMPTY,this.right=p??Co.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,l,p){return new Co(e??this.key,t??this.value,i??this.color,l??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let l=this;const p=i(e,l.key);return l=p<0?l.copy(null,null,null,l.left.insert(e,t,i),null):0===p?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,i)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Co.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return Co.EMPTY;i=l.right.min(),l=l.copy(i.key,i.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Co.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Co.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dn();const e=this.left.check();if(e!==this.right.check())throw dn();return e+(this.isRed()?0:1)}}Co.EMPTY=null,Co.RED=!0,Co.BLACK=!1,Co.EMPTY=new class{constructor(){this.size=0}get key(){throw dn()}get value(){throw dn()}get color(){throw dn()}get left(){throw dn()}get right(){throw dn()}copy(n,e,t,i,l){return this}insert(n,e,t){return new Co(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yi{constructor(e){this.comparator=e,this.data=new ki(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const l=i.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Oh(this.data.getIterator())}getIteratorFrom(e){return new Oh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Yi)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,p=i.getNext().key;if(0!==this.comparator(l,p))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Yi(this.comparator);return t.data=e,t}}class Oh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ec{constructor(e){this.fields=e,e.sort(Ws.comparator)}static empty(){return new ec([])}unionWith(e){let t=new Yi(Ws.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new ec(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wf(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class dv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class As{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new dv("Invalid base64 string: "+l):l}}(e);return new As(t)}static fromUint8Array(e){const t=function(i){let l="";for(let p=0;p<i.length;++p)l+=String.fromCharCode(i[p]);return l}(e);return new As(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}As.EMPTY_BYTE_STRING=new As("");const Yf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function al(n){if(bn(!!n),"string"==typeof n){let e=0;const t=Yf.exec(n);if(bn(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:vs(n.seconds),nanos:vs(n.nanos)}}function vs(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function gu(n){return"string"==typeof n?As.fromBase64String(n):As.fromUint8Array(n)}function Mh(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function xh(n){const e=n.mapValue.fields.__previous_value__;return Mh(e)?xh(e):e}function Qf(n){const e=al(n.mapValue.fields.__local_write_time__.timestampValue);return new ys(e.seconds,e.nanos)}class hv{constructor(e,t,i,l,p,_,T,F,H){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=l,this.ssl=p,this.forceLongPolling=_,this.autoDetectLongPolling=T,this.longPollingOptions=F,this.useFetchStreams=H}}class Fl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Fl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Fl&&e.projectId===this.projectId&&e.database===this.database}}const cl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function mu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Mh(n)?4:A1(n)?9007199254740991:10:dn()}function kc(n,e){if(n===e)return!0;const t=mu(n);if(t!==mu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Qf(n).isEqual(Qf(e));case 3:return function(i,l){if("string"==typeof i.timestampValue&&"string"==typeof l.timestampValue&&i.timestampValue.length===l.timestampValue.length)return i.timestampValue===l.timestampValue;const p=al(i.timestampValue),_=al(l.timestampValue);return p.seconds===_.seconds&&p.nanos===_.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return l=e,gu(n.bytesValue).isEqual(gu(l.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,l){return vs(i.geoPointValue.latitude)===vs(l.geoPointValue.latitude)&&vs(i.geoPointValue.longitude)===vs(l.geoPointValue.longitude)}(n,e);case 2:return function(i,l){if("integerValue"in i&&"integerValue"in l)return vs(i.integerValue)===vs(l.integerValue);if("doubleValue"in i&&"doubleValue"in l){const p=vs(i.doubleValue),_=vs(l.doubleValue);return p===_?kl(p)===kl(_):isNaN(p)&&isNaN(_)}return!1}(n,e);case 9:return Wf(n.arrayValue.values||[],e.arrayValue.values||[],kc);case 10:return function(i,l){const p=i.mapValue.fields||{},_=l.mapValue.fields||{};if(ol(p)!==ol(_))return!1;for(const T in p)if(p.hasOwnProperty(T)&&(void 0===_[T]||!kc(p[T],_[T])))return!1;return!0}(n,e);default:return dn()}var l}function bg(n,e){return void 0!==(n.values||[]).find(t=>kc(t,e))}function Xu(n,e){if(n===e)return 0;const t=mu(n),i=mu(e);if(t!==i)return Yn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Yn(n.booleanValue,e.booleanValue);case 2:return function(l,p){const _=vs(l.integerValue||l.doubleValue),T=vs(p.integerValue||p.doubleValue);return _<T?-1:_>T?1:_===T?0:isNaN(_)?isNaN(T)?0:-1:1}(n,e);case 3:return fv(n.timestampValue,e.timestampValue);case 4:return fv(Qf(n),Qf(e));case 5:return Yn(n.stringValue,e.stringValue);case 6:return function(l,p){const _=gu(l),T=gu(p);return _.compareTo(T)}(n.bytesValue,e.bytesValue);case 7:return function(l,p){const _=l.split("/"),T=p.split("/");for(let F=0;F<_.length&&F<T.length;F++){const H=Yn(_[F],T[F]);if(0!==H)return H}return Yn(_.length,T.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,p){const _=Yn(vs(l.latitude),vs(p.latitude));return 0!==_?_:Yn(vs(l.longitude),vs(p.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(l,p){const _=l.values||[],T=p.values||[];for(let F=0;F<_.length&&F<T.length;++F){const H=Xu(_[F],T[F]);if(H)return H}return Yn(_.length,T.length)}(n.arrayValue,e.arrayValue);case 10:return function(l,p){if(l===cl.mapValue&&p===cl.mapValue)return 0;if(l===cl.mapValue)return 1;if(p===cl.mapValue)return-1;const _=l.fields||{},T=Object.keys(_),F=p.fields||{},H=Object.keys(F);T.sort(),H.sort();for(let te=0;te<T.length&&te<H.length;++te){const pe=Yn(T[te],H[te]);if(0!==pe)return pe;const Ue=Xu(_[T[te]],F[H[te]]);if(0!==Ue)return Ue}return Yn(T.length,H.length)}(n.mapValue,e.mapValue);default:throw dn()}}function fv(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Yn(n,e);const t=al(n),i=al(e),l=Yn(t.seconds,i.seconds);return 0!==l?l:Yn(t.nanos,i.nanos)}function Ph(n){return Dd(n)}function Dd(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const l=al(i);return`time(${l.seconds},${l.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?gu(n.bytesValue).toBase64():"referenceValue"in n?Qt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let l="[",p=!0;for(const _ of i.values||[])p?p=!1:l+=",",l+=Dd(_);return l+"]"}(n.arrayValue):"mapValue"in n?function(i){const l=Object.keys(i.fields||{}).sort();let p="{",_=!0;for(const T of l)_?_=!1:p+=",",p+=`${T}:${Dd(i.fields[T])}`;return p+"}"}(n.mapValue):dn();var e}function Fh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function _u(n){return!!n&&"integerValue"in n}function Cd(n){return!!n&&"arrayValue"in n}function Lh(n){return!!n&&"nullValue"in n}function pv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function wg(n){return!!n&&"mapValue"in n}function Jf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return fu(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Jf(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Jf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function A1(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class So{constructor(e){this.value=e}static empty(){return new So({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!wg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jf(t)}setAll(e){let t=Ws.emptyPath(),i={},l=[];e.forEach((_,T)=>{if(!t.isImmediateParentOf(T)){const F=this.getFieldsMap(t);this.applyChanges(F,i,l),i={},l=[],t=T.popLast()}_?i[T.lastSegment()]=Jf(_):l.push(T.lastSegment())});const p=this.getFieldsMap(t);this.applyChanges(p,i,l)}delete(e){const t=this.field(e.popLast());wg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return kc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let l=t.mapValue.fields[e.get(i)];wg(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,i){fu(t,(l,p)=>e[l]=p);for(const l of i)delete e[l]}clone(){return new So(Jf(this.value))}}function _v(n){const e=[];return fu(n.fields,(t,i)=>{const l=new Ws([t]);if(wg(i)){const p=_v(i.mapValue).fields;if(0===p.length)e.push(l);else for(const _ of p)e.push(l.child(_))}else e.push(l)}),new ec(e)}class ji{constructor(e,t,i,l,p,_,T){this.key=e,this.documentType=t,this.version=i,this.readTime=l,this.createTime=p,this.data=_,this.documentState=T}static newInvalidDocument(e){return new ji(e,0,gn.min(),gn.min(),gn.min(),So.empty(),0)}static newFoundDocument(e,t,i,l){return new ji(e,1,t,gn.min(),i,l,0)}static newNoDocument(e,t){return new ji(e,2,t,gn.min(),gn.min(),So.empty(),0)}static newUnknownDocument(e,t){return new ji(e,3,t,gn.min(),gn.min(),So.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(gn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=So.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=So.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ji&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ji(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ll{constructor(e,t){this.position=e,this.inclusive=t}}function yv(n,e,t){let i=0;for(let l=0;l<n.position.length;l++){const p=e[l],_=n.position[l];if(i=p.field.isKeyField()?Qt.comparator(Qt.fromName(_.referenceValue),t.key):Xu(_,t.data.field(p.field)),"desc"===p.dir&&(i*=-1),0!==i)break}return i}function Km(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!kc(n.position[t],e.position[t]))return!1;return!0}class Bh{constructor(e,t="asc"){this.field=e,this.dir=t}}function N1(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class vv{}class kr extends vv{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new Ym(e,t,i):"array-contains"===t?new R1(e,i):"in"===t?new Tv(e,i):"not-in"===t?new Qm(e,i):"array-contains-any"===t?new Gh(e,i):new kr(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new Iv(e,i):new x1(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Xu(t,this.value)):null!==t&&mu(this.value)===mu(t)&&this.matchesComparison(Xu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class oi extends vv{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new oi(e,t)}matches(e){return Vh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Vh(n){return"and"===n.op}function Ig(n){return function O1(n){for(const e of n.filters)if(e instanceof oi)return!1;return!0}(n)&&Vh(n)}function Eg(n){if(n instanceof kr)return n.field.canonicalString()+n.op.toString()+Ph(n.value);if(Ig(n))return n.filters.map(e=>Eg(e)).join(",");{const e=n.filters.map(t=>Eg(t)).join(",");return`${n.op}(${e})`}}function Hh(n,e){return n instanceof kr?(t=n,(i=e)instanceof kr&&t.op===i.op&&t.field.isEqual(i.field)&&kc(t.value,i.value)):n instanceof oi?function(t,i){return i instanceof oi&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((l,p,_)=>l&&Hh(p,i.filters[_]),!0)}(n,e):void dn();var t,i}function M1(n){return n instanceof kr?`${(e=n).field.canonicalString()} ${e.op} ${Ph(e.value)}`:n instanceof oi?function(e){return e.op.toString()+" {"+e.getFilters().map(M1).join(" ,")+"}"}(n):"Filter";var e}class Ym extends kr{constructor(e,t,i){super(e,t,i),this.key=Qt.fromName(i.referenceValue)}matches(e){const t=Qt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Iv extends kr{constructor(e,t){super(e,"in",t),this.keys=Ev(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class x1 extends kr{constructor(e,t){super(e,"not-in",t),this.keys=Ev(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ev(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Qt.fromName(i.referenceValue))}class R1 extends kr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cd(t)&&bg(t.arrayValue,this.value)}}class Tv extends kr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&bg(this.value.arrayValue,t)}}class Qm extends kr{constructor(e,t){super(e,"not-in",t)}matches(e){if(bg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!bg(this.value.arrayValue,t)}}class Gh extends kr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>bg(this.value.arrayValue,i))}}class Yw{constructor(e,t=null,i=[],l=[],p=null,_=null,T=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=l,this.limit=p,this.startAt=_,this.endAt=T,this.dt=null}}function Dv(n,e=null,t=[],i=[],l=null,p=null,_=null){return new Yw(n,e,t,i,l,p,_)}function ed(n){const e=Yt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Eg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(l=i).field.canonicalString()+l.dir;var l}).join(","),Th(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ph(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ph(i)).join(",")),e.dt=t}return e.dt}function Ul(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!N1(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Hh(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Km(n.startAt,e.startAt)&&Km(n.endAt,e.endAt)}function Xf(n){return Qt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Sd{constructor(e,t=null,i=[],l=[],p=null,_="F",T=null,F=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=l,this.limit=p,this.limitType=_,this.startAt=T,this.endAt=F,this.wt=null,this._t=null}}function tp(n){return new Sd(n)}function Tg(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function e_(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Ns(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function t_(n){return null!==n.collectionGroup}function jh(n){const e=Yt(n);if(null===e.wt){e.wt=[];const t=Ns(e),i=e_(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new Bh(t)),e.wt.push(new Bh(Ws.keyField(),"asc"));else{let l=!1;for(const p of e.explicitOrderBy)e.wt.push(p),p.field.isKeyField()&&(l=!0);if(!l){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Bh(Ws.keyField(),p))}}}return e.wt}function tc(n){const e=Yt(n);if(!e._t)if("F"===e.limitType)e._t=Dv(e.path,e.collectionGroup,jh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const p of jh(e))t.push(new Bh(p.field,"desc"===p.dir?"asc":"desc"));const i=e.endAt?new Ll(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new Ll(e.startAt.position,e.startAt.inclusive):null;e._t=Dv(e.path,e.collectionGroup,t,e.filters,e.limit,i,l)}return e._t}function np(n,e){e.getFirstInequalityField(),Ns(n);const t=n.filters.concat([e]);return new Sd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function n_(n,e,t){return new Sd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function rp(n,e){return Ul(tc(n),tc(e))&&n.limitType===e.limitType}function r_(n){return`${ed(tc(n))}|lt:${n.limitType}`}function Ad(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>M1(i)).join(", ")}]`),Th(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(l=i).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ph(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ph(i)).join(",")),`Target(${t})`}(tc(n))}; limitType=${n.limitType})`}function Dg(n,e){return e.isFoundDocument()&&function(t,i){const l=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):Qt.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(n,e)&&function(t,i){for(const l of jh(t))if(!l.field.isKeyField()&&null===i.data.field(l.field))return!1;return!0}(n,e)&&function(t,i){for(const l of t.filters)if(!l.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(l,p,_){const T=yv(l,p,_);return l.inclusive?T<=0:T<0}(t.startAt,jh(t),i)||t.endAt&&!function(l,p,_){const T=yv(l,p,_);return l.inclusive?T>=0:T>0}(t.endAt,jh(t),i)));var t,i}function i_(n){return(e,t)=>{let i=!1;for(const l of jh(n)){const p=Xw(l,e,t);if(0!==p)return p;i=i||l.field.isKeyField()}return 0}}function Xw(n,e,t){const i=n.field.isKeyField()?Qt.comparator(e.key,t.key):function(l,p,_){const T=p.data.field(l),F=_.data.field(l);return null!==T&&null!==F?Xu(T,F):dn()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return dn()}}class yu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[l,p]of i)if(this.equalsFn(l,e))return p}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),l=this.inner[i];if(void 0===l)return this.inner[i]=[[e,t]],void this.innerSize++;for(let p=0;p<l.length;p++)if(this.equalsFn(l[p][0],e))return void(l[p]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return 1===i.length?delete this.inner[t]:i.splice(l,1),this.innerSize--,!0;return!1}forEach(e){fu(this.inner,(t,i)=>{for(const[l,p]of i)e(l,p)})}isEmpty(){return Nh(this.inner)}size(){return this.innerSize}}const GD=new ki(Qt.comparator);function nc(){return GD}const s_=new ki(Qt.comparator);function rc(...n){let e=s_;for(const t of n)e=e.insert(t.key,t);return e}function Cv(n){let e=s_;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Bl(){return Ec()}function Vl(){return Ec()}function Ec(){return new yu(n=>n.toString(),(n,e)=>n.isEqual(e))}const vu=new ki(Qt.comparator),P1=new Yi(Qt.comparator);function c(...n){let e=P1;for(const t of n)e=e.add(t);return e}const f=new Yi(Yn);function d(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kl(e)?"-0":e}}function m(n){return{integerValue:""+n}}function E(n,e){return function Dh(n){return"number"==typeof n&&Number.isInteger(n)&&!kl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?m(e):d(n,e)}class x{constructor(){this._=void 0}}function Z(n,e,t){return n instanceof ye?function(i,l){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return l&&Mh(l)&&(l=xh(l)),l&&(p.fields.__previous_value__=l),{mapValue:p}}(t,e):n instanceof Be?ct(n,e):n instanceof at?Mt(n,e):function(i,l){const p=he(i,l),_=zt(p)+zt(i.gt);return _u(p)&&_u(i.gt)?m(_):d(i.serializer,_)}(n,e)}function se(n,e,t){return n instanceof Be?ct(n,e):n instanceof at?Mt(n,e):t}function he(n,e){return n instanceof Ut?_u(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class ye extends x{}class Be extends x{constructor(e){super(),this.elements=e}}function ct(n,e){const t=Rn(e);for(const i of n.elements)t.some(l=>kc(l,i))||t.push(i);return{arrayValue:{values:t}}}class at extends x{constructor(e){super(),this.elements=e}}function Mt(n,e){let t=Rn(e);for(const i of n.elements)t=t.filter(l=>!kc(l,i));return{arrayValue:{values:t}}}class Ut extends x{constructor(e,t){super(),this.serializer=e,this.gt=t}}function zt(n){return vs(n.integerValue||n.doubleValue)}function Rn(n){return Cd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class An{constructor(e,t){this.field=e,this.transform=t}}class Nn{constructor(e,t){this.version=e,this.transformResults=t}}class wn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wn}static exists(e){return new wn(void 0,e)}static updateTime(e){return new wn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rr(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ir{}function Fr(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new On(n.key,wn.none()):new wi(n.key,n.data,wn.none());{const t=n.data,i=So.empty();let l=new Yi(Ws.comparator);for(let p of e.fields)if(!l.has(p)){let _=t.field(p);null===_&&p.length>1&&(p=p.popLast(),_=t.field(p)),null===_?i.delete(p):i.set(p,_),l=l.add(p)}return new Ko(n.key,i,new ec(l.toArray()),wn.none())}}function bi(n,e,t){n instanceof wi?function(i,l,p){const _=i.value.clone(),T=en(i.fieldTransforms,l,p.transformResults);_.setAll(T),l.convertToFoundDocument(p.version,_).setHasCommittedMutations()}(n,e,t):n instanceof Ko?function(i,l,p){if(!rr(i.precondition,l))return void l.convertToUnknownDocument(p.version);const _=en(i.fieldTransforms,l,p.transformResults),T=l.data;T.setAll(Hl(i)),T.setAll(_),l.convertToFoundDocument(p.version,T).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Qr(n,e,t,i){return n instanceof wi?function(l,p,_,T){if(!rr(l.precondition,p))return _;const F=l.value.clone(),H=In(l.fieldTransforms,T,p);return F.setAll(H),p.convertToFoundDocument(p.version,F).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ko?function(l,p,_,T){if(!rr(l.precondition,p))return _;const F=In(l.fieldTransforms,T,p),H=p.data;return H.setAll(Hl(l)),H.setAll(F),p.convertToFoundDocument(p.version,H).setHasLocalMutations(),null===_?null:_.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(te=>te.field))}(n,e,t,i):(_=t,rr(n.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):_);var p,_}function ao(n,e){let t=null;for(const i of n.fieldTransforms){const l=e.data.field(i.field),p=he(i.transform,l||null);null!=p&&(null===t&&(t=So.empty()),t.set(i.field,p))}return t||null}function Ao(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Wf(t,i,(l,p)=>function vr(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Be&&i instanceof Be||t instanceof at&&i instanceof at?Wf(t.elements,i.elements,kc):t instanceof Ut&&i instanceof Ut?kc(t.gt,i.gt):t instanceof ye&&i instanceof ye);var t,i}(l,p))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class wi extends ir{constructor(e,t,i,l=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ko extends ir{constructor(e,t,i,l,p=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=l,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function Hl(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function en(n,e,t){const i=new Map;bn(n.length===t.length);for(let l=0;l<t.length;l++){const p=n[l],_=p.transform,T=e.data.field(p.field);i.set(p.field,se(_,T,t[l]))}return i}function In(n,e,t){const i=new Map;for(const l of n){const p=l.transform,_=t.data.field(l.field);i.set(l.field,Z(p,_,e))}return i}class On extends ir{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dr extends ir{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class is{constructor(e,t,i,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=l}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const p=this.mutations[l];p.key.isEqual(e.key)&&bi(p,e,i[l])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Qr(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Qr(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Vl();return this.mutations.forEach(l=>{const p=e.get(l.key),_=p.overlayedDocument;let T=this.applyToLocalView(_,p.mutatedFields);T=t.has(l.key)?null:T;const F=Fr(_,T);null!==F&&i.set(l.key,F),_.isValidDocument()||_.convertToNoDocument(gn.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),c())}isEqual(e){return this.batchId===e.batchId&&Wf(this.mutations,e.mutations,(t,i)=>Ao(t,i))&&Wf(this.baseMutations,e.baseMutations,(t,i)=>Ao(t,i))}}class ka{constructor(e,t,i,l){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=l}static from(e,t,i){bn(e.mutations.length===i.length);let l=vu;const p=e.mutations;for(let _=0;_<p.length;_++)l=l.insert(p[_].key,i[_].version);return new ka(e,t,i,l)}}class Ks{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class mi{constructor(e,t){this.count=e,this.unchangedNames=t}}var _i,Cr;function Fa(n){if(void 0===n)return so("GRPC error has no .code"),it.UNKNOWN;switch(n){case _i.OK:return it.OK;case _i.CANCELLED:return it.CANCELLED;case _i.UNKNOWN:return it.UNKNOWN;case _i.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case _i.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case _i.INTERNAL:return it.INTERNAL;case _i.UNAVAILABLE:return it.UNAVAILABLE;case _i.UNAUTHENTICATED:return it.UNAUTHENTICATED;case _i.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case _i.NOT_FOUND:return it.NOT_FOUND;case _i.ALREADY_EXISTS:return it.ALREADY_EXISTS;case _i.PERMISSION_DENIED:return it.PERMISSION_DENIED;case _i.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case _i.ABORTED:return it.ABORTED;case _i.OUT_OF_RANGE:return it.OUT_OF_RANGE;case _i.UNIMPLEMENTED:return it.UNIMPLEMENTED;case _i.DATA_LOSS:return it.DATA_LOSS;default:return dn()}}(Cr=_i||(_i={}))[Cr.OK=0]="OK",Cr[Cr.CANCELLED=1]="CANCELLED",Cr[Cr.UNKNOWN=2]="UNKNOWN",Cr[Cr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cr[Cr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cr[Cr.NOT_FOUND=5]="NOT_FOUND",Cr[Cr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cr[Cr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cr[Cr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cr[Cr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cr[Cr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cr[Cr.ABORTED=10]="ABORTED",Cr[Cr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cr[Cr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cr[Cr.INTERNAL=13]="INTERNAL",Cr[Cr.UNAVAILABLE=14]="UNAVAILABLE",Cr[Cr.DATA_LOSS=15]="DATA_LOSS";class Yo{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return td}static getOrCreateInstance(){return null===td&&(td=new Yo),td}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let td=null;const k1=new uu([4294967295,4294967295],0);function o_(n){const e=function Nd(){return new TextEncoder}().encode(n),t=new g1;return t.update(e),new Uint8Array(t.digest())}function Sv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),l=e.getUint32(8,!0),p=e.getUint32(12,!0);return[new uu([t,i],0),new uu([l,p],0)]}class a_{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new $h(`Invalid padding: ${t}`);if(i<0)throw new $h(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new $h(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new $h(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=uu.fromNumber(this.It)}Et(e,t,i){let l=e.add(t.multiply(uu.fromNumber(i)));return 1===l.compare(k1)&&(l=new uu([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=o_(e),[i,l]=Sv(t);for(let p=0;p<this.hashCount;p++){const _=this.Et(i,l,p);if(!this.At(_))return!1}return!0}static create(e,t,i){const l=e%8==0?0:8-e%8,p=new Uint8Array(Math.ceil(e/8)),_=new a_(p,l,t);return i.forEach(T=>_.insert(T)),_}insert(e){if(0===this.It)return;const t=o_(e),[i,l]=Sv(t);for(let p=0;p<this.hashCount;p++){const _=this.Et(i,l,p);this.Rt(_)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class $h extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zh{constructor(e,t,i,l,p){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=l,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const l=new Map;return l.set(e,ip.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new zh(gn.min(),l,new ki(Yn),nc(),c())}}class ip{constructor(e,t,i,l,p){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=l,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new ip(i,t,c(),c(),c())}}class Cg{constructor(e,t,i,l){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=l}}class nd{constructor(e,t){this.targetId=e,this.Vt=t}}class Wh{constructor(e,t,i=As.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=l}}class c_{constructor(){this.St=0,this.Dt=Av(),this.Ct=As.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=c(),t=c(),i=c();return this.Dt.forEach((l,p)=>{switch(p){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:i=i.add(l);break;default:dn()}}),new ip(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=Av()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Od{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=nc(),this.zt=l_(),this.Wt=new ki(Yn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:dn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,l)=>{this.te(l)&&t(l)})}ne(e){var t;const i=e.targetId,l=e.Vt.count,p=this.se(i);if(p){const _=p.target;if(Xf(_))if(0===l){const T=new Qt(_.path);this.Yt(i,T,ji.newNoDocument(T,gn.min()))}else bn(1===l);else{const T=this.ie(i);if(T!==l){const F=this.re(e,T);0!==F&&(this.ee(i),this.Wt=this.Wt.insert(i,2===F?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Yo.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(H,te,pe){var Ue,lt,Ft,rn,on,br;const ei={localCacheCount:te,existenceFilterCount:pe.count},Or=pe.unchangedNames;return Or&&(ei.bloomFilter={applied:0===H,hashCount:null!==(Ue=Or?.hashCount)&&void 0!==Ue?Ue:0,bitmapLength:null!==(rn=null===(Ft=null===(lt=Or?.bits)||void 0===lt?void 0:lt.bitmap)||void 0===Ft?void 0:Ft.length)&&void 0!==rn?rn:0,padding:null!==(br=null===(on=Or?.bits)||void 0===on?void 0:on.padding)&&void 0!==br?br:0}),ei}(F,T,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:l}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:p="",padding:_=0},hashCount:T=0}=i;let F,H;try{F=gu(p).toUint8Array()}catch(te){if(te instanceof dv)return sl("Decoding the base64 bloom filter in existence filter failed ("+te.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw te}try{H=new a_(F,_,T)}catch(te){return sl(te instanceof $h?"BloomFilter error: ":"Applying bloom filter failed: ",te),1}return 0===H.It?1:l!==t-this.oe(e.targetId,H)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let l=0;return i.forEach(p=>{const _=this.Gt.ue(),T=`projects/${_.projectId}/databases/${_.database}/documents/${p.path.canonicalString()}`;t.vt(T)||(this.Yt(e,p,null),l++)}),l}ce(e){const t=new Map;this.Qt.forEach((p,_)=>{const T=this.se(_);if(T){if(p.current&&Xf(T.target)){const F=new Qt(T.target.path);null!==this.jt.get(F)||this.ae(_,F)||this.Yt(_,F,ji.newNoDocument(F,e))}p.Mt&&(t.set(_,p.Ot()),p.Ft())}});let i=c();this.zt.forEach((p,_)=>{let T=!0;_.forEachWhile(F=>{const H=this.se(F);return!H||"TargetPurposeLimboResolution"===H.purpose||(T=!1,!1)}),T&&(i=i.add(p))}),this.jt.forEach((p,_)=>_.setReadTime(e));const l=new zh(e,t,this.Wt,this.jt,i);return this.jt=nc(),this.zt=l_(),this.Wt=new ki(Yn),l}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const l=this.Zt(e);this.ae(e,t)?l.Bt(t,1):l.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new c_,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Yi(Yn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Nt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new c_),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function l_(){return new ki(Qt.comparator)}function Av(){return new ki(Qt.comparator)}const qh={asc:"ASCENDING",desc:"DESCENDING"},eI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},u_={and:"AND",or:"OR"};class lS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function F1(n,e){return n.useProto3Json||Th(e)?e:{value:e}}function Sg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jD(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function d_(n,e){return Sg(n,e.toTimestamp())}function No(n){return bn(!!n),gn.fromTimestamp(function(e){const t=al(e);return new ys(t.seconds,t.nanos)}(n))}function tI(n,e){return(t=n,new Pr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function KE(n){const e=Pr.fromString(n);return bn(p_(e)),e}function Md(n,e){return tI(n.databaseId,e.path)}function xd(n,e){const t=KE(e);if(t.get(1)!==n.databaseId.projectId)throw new St(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new St(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Qt($D(t))}function h_(n,e){return tI(n.databaseId,e)}function La(n){return new Pr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $D(n){return bn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function nI(n,e,t){return{name:Md(n,e),fields:t.value.mapValue.fields}}function JE(n,e){return{documents:[h_(n,e.path)]}}function iI(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=h_(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=h_(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const l=function(F){if(0!==F.length)return sI(oi.create(F,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const p=function(F){if(0!==F.length)return F.map(H=>{return{field:Zh((te=H).field),direction:WD(te.dir)};var te})}(e.orderBy);p&&(t.structuredQuery.orderBy=p);const _=F1(n,e.limit);var T,F;return null!==_&&(t.structuredQuery.limit=_),e.startAt&&(t.structuredQuery.startAt={before:(T=e.startAt).inclusive,values:T.position}),e.endAt&&(t.structuredQuery.endAt={before:!(F=e.endAt).inclusive,values:F.position}),t}function XE(n){let e=function Nv(n){const e=KE(n);return 4===e.length?Pr.emptyPath():$D(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let l=null;if(i>0){bn(1===i);const te=t.from[0];te.allDescendants?l=te.collectionId:e=e.child(te.collectionId)}let p=[];t.where&&(p=function(te){const pe=eT(te);return pe instanceof oi&&Ig(pe)?pe.getFilters():[pe]}(t.where));let _=[];t.orderBy&&(_=t.orderBy.map(te=>{return new Bh(Ag((pe=te).field),function(Ue){switch(Ue){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(pe.direction));var pe}));let T=null;t.limit&&(T=function(te){let pe;return pe="object"==typeof te?te.value:te,Th(pe)?null:pe}(t.limit));let F=null;var te;t.startAt&&(F=new Ll((te=t.startAt).values||[],!!te.before));let H=null;return t.endAt&&(H=function(te){return new Ll(te.values||[],!te.before)}(t.endAt)),function Xm(n,e,t,i,l,p,_,T){return new Sd(n,e,t,i,l,p,_,T)}(e,l,_,p,T,"F",F,H)}function eT(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ag(e.unaryFilter.field);return kr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Ag(e.unaryFilter.field);return kr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ag(e.unaryFilter.field);return kr.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Ag(e.unaryFilter.field);return kr.create(p,"!=",{nullValue:"NULL_VALUE"});default:return dn()}}(n):void 0!==n.fieldFilter?kr.create(Ag((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return oi.create(e.compositeFilter.filters.map(t=>eT(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return dn()}}(e.compositeFilter.op))}(n):dn();var e}function WD(n){return qh[n]}function qD(n){return eI[n]}function U1(n){return u_[n]}function Zh(n){return{fieldPath:n.canonicalString()}}function Ag(n){return Ws.fromServerFormat(n.fieldPath)}function sI(n){return n instanceof kr?function(e){if("=="===e.op){if(pv(e.value))return{unaryFilter:{field:Zh(e.field),op:"IS_NAN"}};if(Lh(e.value))return{unaryFilter:{field:Zh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(pv(e.value))return{unaryFilter:{field:Zh(e.field),op:"IS_NOT_NAN"}};if(Lh(e.value))return{unaryFilter:{field:Zh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zh(e.field),op:qD(e.op),value:e.value}}}(n):n instanceof oi?function(e){const t=e.getFilters().map(i=>sI(i));return 1===t.length?t[0]:{compositeFilter:{op:U1(e.op),filters:t}}}(n):dn()}function ZD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function p_(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Gl{constructor(e,t,i,l,p=gn.min(),_=gn.min(),T=As.EMPTY_BYTE_STRING,F=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=l,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=T,this.expectedCount=F}withSequenceNumber(e){return new Gl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Gl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class tT{constructor(e){this.fe=e}}function oI(n){const e=XE({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?n_(e,e.limit,"L"):e}class ap{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(vs(e.integerValue));else if("doubleValue"in e){const i=vs(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),kl(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(gu(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?A1(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):dn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const l of Object.keys(i))this.Te(l,t),this.me(i[l],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const l of i)this.me(l,t)}ve(e,t){this.ye(t,37),Qt.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}ap.Ve=new ap;class rC{constructor(){this.rn=new j1}addToCollectionParentIndex(e,t){return this.rn.add(t),We.resolve()}getCollectionParents(e,t){return We.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return We.resolve()}deleteFieldIndex(e,t){return We.resolve()}getDocumentsMatchingTarget(e,t){return We.resolve(null)}getIndexType(e,t){return We.resolve(0)}getFieldIndexes(e,t){return We.resolve([])}getNextCollectionGroupToUpdate(e){return We.resolve(null)}getMinOffset(e,t){return We.resolve(Do.min())}getMinOffsetFromCollectionGroup(e,t){return We.resolve(Do.min())}updateCollectionGroup(e,t,i){return We.resolve()}updateIndexEntries(e,t){return We.resolve()}}class j1{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),l=this.index[t]||new Yi(Pr.comparator),p=!l.has(i);return this.index[t]=l.add(i),p}has(e){const t=e.lastSegment(),i=e.popLast(),l=this.index[t];return l&&l.has(i)}getEntries(e){return(this.index[e]||new Yi(Pr.comparator)).toArray()}}new Uint8Array(0);class Tc{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Tc(e,Tc.DEFAULT_COLLECTION_PERCENTILE,Tc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Tc.DEFAULT_COLLECTION_PERCENTILE=10,Tc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tc.DEFAULT=new Tc(41943040,Tc.DEFAULT_COLLECTION_PERCENTILE,Tc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tc.DISABLED=new Tc(-1,0,0);class lp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new lp(0)}static Mn(){return new lp(-1)}}class oC{constructor(){this.changes=new yu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ji.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?We.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class mI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Z1{constructor(e,t,i,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=l}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(i=l,this.remoteDocumentCache.getEntry(e,t))).next(l=>(null!==i&&Qr(i.mutation,l,ec.empty(),ys.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,c()).next(()=>i))}getLocalViewOfDocuments(e,t,i=c()){const l=Bl();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,i).next(p=>{let _=rc();return p.forEach((T,F)=>{_=_.insert(T,F.overlayedDocument)}),_}))}getOverlayedDocuments(e,t){const i=Bl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,c()))}populateOverlays(e,t,i){const l=[];return i.forEach(p=>{t.has(p)||l.push(p)}),this.documentOverlayCache.getOverlays(e,l).next(p=>{p.forEach((_,T)=>{t.set(_,T)})})}computeViews(e,t,i,l){let p=nc();const _=Ec(),T=Ec();return t.forEach((F,H)=>{const te=i.get(H.key);l.has(H.key)&&(void 0===te||te.mutation instanceof Ko)?p=p.insert(H.key,H):void 0!==te?(_.set(H.key,te.mutation.getFieldMask()),Qr(te.mutation,H,te.mutation.getFieldMask(),ys.now())):_.set(H.key,ec.empty())}),this.recalculateAndSaveOverlays(e,p).next(F=>(F.forEach((H,te)=>_.set(H,te)),t.forEach((H,te)=>{var pe;return T.set(H,new mI(te,null!==(pe=_.get(H))&&void 0!==pe?pe:null))}),T))}recalculateAndSaveOverlays(e,t){const i=Ec();let l=new ki((_,T)=>_-T),p=c();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(_=>{for(const T of _)T.keys().forEach(F=>{const H=t.get(F);if(null===H)return;let te=i.get(F)||ec.empty();te=T.applyToLocalView(H,te),i.set(F,te);const pe=(l.get(T.batchId)||c()).add(F);l=l.insert(T.batchId,pe)})}).next(()=>{const _=[],T=l.getReverseIterator();for(;T.hasNext();){const F=T.getNext(),H=F.key,te=F.value,pe=Vl();te.forEach(Ue=>{if(!p.has(Ue)){const lt=Fr(t.get(Ue),i.get(Ue));null!==lt&&pe.set(Ue,lt),p=p.add(Ue)}}),_.push(this.documentOverlayCache.saveOverlays(e,H,pe))}return We.waitFor(_)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Qt.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):t_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var l}getNextDocuments(e,t,i,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,l).next(p=>{const _=l-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,l-p.size):We.resolve(Bl());let T=-1,F=p;return _.next(H=>We.forEach(H,(te,pe)=>(T<pe.largestBatchId&&(T=pe.largestBatchId),p.get(te)?We.resolve():this.remoteDocumentCache.getEntry(e,te).next(Ue=>{F=F.insert(te,Ue)}))).next(()=>this.populateOverlays(e,H,p)).next(()=>this.computeViews(e,F,H,c())).next(te=>({batchId:T,changes:Cv(te)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Qt(t)).next(i=>{let l=rc();return i.isFoundDocument()&&(l=l.insert(i.key,i)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const l=t.collectionGroup;let p=rc();return this.indexManager.getCollectionParents(e,l).next(_=>We.forEach(_,T=>{const F=(H=t,te=T.child(l),new Sd(te,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,te;return this.getDocumentsMatchingCollectionQuery(e,F,i).next(H=>{H.forEach((te,pe)=>{p=p.insert(te,pe)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,t,i){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(p=>(l=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l))).next(p=>{l.forEach((T,F)=>{const H=F.getKey();null===p.get(H)&&(p=p.insert(H,ji.newInvalidDocument(H)))});let _=rc();return p.forEach((T,F)=>{const H=l.get(T);void 0!==H&&Qr(H.mutation,F,ec.empty(),ys.now()),Dg(t,F)&&(_=_.insert(T,F))}),_})}}class uC{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return We.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:No(i.createTime)}),We.resolve()}getNamedQuery(e,t){return We.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:oI(i.bundledQuery),readTime:No(i.readTime)}),We.resolve();var i}}class _T{constructor(){this.overlays=new ki(Qt.comparator),this.ls=new Map}getOverlay(e,t){return We.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Bl();return We.forEach(t,l=>this.getOverlay(e,l).next(p=>{null!==p&&i.set(l,p)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((l,p)=>{this.we(e,t,p)}),We.resolve()}removeOverlaysForBatchId(e,t,i){const l=this.ls.get(i);return void 0!==l&&(l.forEach(p=>this.overlays=this.overlays.remove(p)),this.ls.delete(i)),We.resolve()}getOverlaysForCollection(e,t,i){const l=Bl(),p=t.length+1,_=new Qt(t.child("")),T=this.overlays.getIteratorFrom(_);for(;T.hasNext();){const F=T.getNext().value,H=F.getKey();if(!t.isPrefixOf(H.path))break;H.path.length===p&&F.largestBatchId>i&&l.set(F.getKey(),F)}return We.resolve(l)}getOverlaysForCollectionGroup(e,t,i,l){let p=new ki((H,te)=>H-te);const _=this.overlays.getIterator();for(;_.hasNext();){const H=_.getNext().value;if(H.getKey().getCollectionGroup()===t&&H.largestBatchId>i){let te=p.get(H.largestBatchId);null===te&&(te=Bl(),p=p.insert(H.largestBatchId,te)),te.set(H.getKey(),H)}}const T=Bl(),F=p.getIterator();for(;F.hasNext()&&(F.getNext().value.forEach((H,te)=>T.set(H,te)),!(T.size()>=l)););return We.resolve(T)}we(e,t,i){const l=this.overlays.get(i.key);if(null!==l){const _=this.ls.get(l.largestBatchId).delete(i.key);this.ls.set(l.largestBatchId,_)}this.overlays=this.overlays.insert(i.key,new Ks(t,i));let p=this.ls.get(t);void 0===p&&(p=c(),this.ls.set(t,p)),this.ls.set(t,p.add(i.key))}}class K1{constructor(){this.fs=new Yi(Ua.ds),this.ws=new Yi(Ua._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Ua(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Ua(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new Qt(new Pr([])),i=new Ua(t,e),l=new Ua(t,e+1),p=[];return this.ws.forEachInRange([i,l],_=>{this.ys(_),p.push(_.key)}),p}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Qt(new Pr([])),i=new Ua(t,e),l=new Ua(t,e+1);let p=c();return this.ws.forEachInRange([i,l],_=>{p=p.add(_.key)}),p}containsKey(e){const t=new Ua(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Ua{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Qt.comparator(e.key,t.key)||Yn(e.As,t.As)}static _s(e,t){return Yn(e.As,t.As)||Qt.comparator(e.key,t.key)}}class yT{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Yi(Ua.ds)}checkEmpty(e){return We.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,l){const p=this.vs;this.vs++;const _=new is(p,t,i,l);this.mutationQueue.push(_);for(const T of l)this.Rs=this.Rs.add(new Ua(T.key,p)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return We.resolve(_)}lookupMutationBatch(e,t){return We.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.bs(t+1),p=l<0?0:l;return We.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return We.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return We.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ua(t,0),l=new Ua(t,Number.POSITIVE_INFINITY),p=[];return this.Rs.forEachInRange([i,l],_=>{const T=this.Ps(_.As);p.push(T)}),We.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Yi(Yn);return t.forEach(l=>{const p=new Ua(l,0),_=new Ua(l,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([p,_],T=>{i=i.add(T.As)})}),We.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,l=i.length+1;let p=i;Qt.isDocumentKey(p)||(p=p.child(""));const _=new Ua(new Qt(p),0);let T=new Yi(Yn);return this.Rs.forEachWhile(F=>{const H=F.key.path;return!!i.isPrefixOf(H)&&(H.length===l&&(T=T.add(F.As)),!0)},_),We.resolve(this.Vs(T))}Vs(e){const t=[];return e.forEach(i=>{const l=this.Ps(i);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){bn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return We.forEach(t.mutations,l=>{const p=new Ua(l.key,t.batchId);return i=i.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Ua(t,0),l=this.Rs.firstAfterOrEqual(i);return We.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return We.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class _I{constructor(e){this.Ds=e,this.docs=new ki(Qt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,l=this.docs.get(i),p=l?l.size:0,_=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:_}),this.size+=_-p,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return We.resolve(i?i.document.mutableCopy():ji.newInvalidDocument(t))}getEntries(e,t){let i=nc();return t.forEach(l=>{const p=this.docs.get(l);i=i.insert(l,p?p.document.mutableCopy():ji.newInvalidDocument(l))}),We.resolve(i)}getDocumentsMatchingQuery(e,t,i,l){let p=nc();const _=t.path,T=new Qt(_.child("")),F=this.docs.getIteratorFrom(T);for(;F.hasNext();){const{key:H,value:{document:te}}=F.getNext();if(!_.isPrefixOf(H.path))break;H.path.length>_.length+1||qm(Pc(te),i)<=0||(l.has(te.key)||Dg(t,te))&&(p=p.insert(te.key,te.mutableCopy()))}return We.resolve(p)}getAllFromCollectionGroup(e,t,i,l){dn()}Cs(e,t){return We.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new vT(this)}getSize(e){return We.resolve(this.size)}}class vT extends oC{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,l)=>{l.isValidDocument()?t.push(this.os.addEntry(e,l)):this.os.removeEntry(i)}),We.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class bT{constructor(e){this.persistence=e,this.xs=new yu(t=>ed(t),Ul),this.lastRemoteSnapshotVersion=gn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new K1,this.targetCount=0,this.Ms=lp.kn()}forEachTarget(e,t){return this.xs.forEach((i,l)=>t(l)),We.resolve()}getLastRemoteSnapshotVersion(e){return We.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return We.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),We.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),We.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new lp(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,We.resolve()}updateTargetData(e,t){return this.Fn(t),We.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,We.resolve()}removeTargets(e,t,i){let l=0;const p=[];return this.xs.forEach((_,T)=>{T.sequenceNumber<=t&&null===i.get(T.targetId)&&(this.xs.delete(_),p.push(this.removeMatchingKeysForTargetId(e,T.targetId)),l++)}),We.waitFor(p).next(()=>l)}getTargetCount(e){return We.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return We.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),We.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const l=this.persistence.referenceDelegate,p=[];return l&&t.forEach(_=>{p.push(l.markPotentiallyOrphaned(e,_))}),We.waitFor(p)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),We.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return We.resolve(i)}containsKey(e,t){return We.resolve(this.ks.containsKey(t))}}class Y1{constructor(e,t){this.$s={},this.overlays={},this.Os=new rs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new bT(this),this.indexManager=new rC,this.remoteDocumentCache=new _I(i=>this.referenceDelegate.Ls(i)),this.serializer=new tT(t),this.qs=new uC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _T,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new yT(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){Nt("MemoryPersistence","Starting transaction:",e);const l=new wT(this.Os.next());return this.referenceDelegate.Us(),i(l).next(p=>this.referenceDelegate.Ks(l).next(()=>p)).toPromise().then(p=>(l.raiseOnCommittedEvent(),p))}Gs(e,t){return We.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class wT extends w1{constructor(e){super(),this.currentSequenceNumber=e}}class Q1{constructor(e){this.persistence=e,this.Qs=new K1,this.js=null}static zs(e){return new Q1(e)}get Ws(){if(this.js)return this.js;throw dn()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),We.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),We.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),We.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(l=>this.Ws.add(l.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(p=>this.Ws.add(p.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return We.forEach(this.Ws,i=>{const l=Qt.fromPath(i);return this.Hs(e,l).next(p=>{p||t.removeEntry(l,gn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return We.or([()=>We.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class TT{constructor(e,t,i,l){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=l}static Li(e,t){let i=c(),l=c();for(const p of t.docChanges)switch(p.type){case 0:i=i.add(p.doc.key);break;case 1:l=l.add(p.doc.key)}return new TT(e,t.fromCache,i,l)}}class DT{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,l){return this.Ki(e,t).next(p=>p||this.Gi(e,t,l,i)).next(p=>p||this.Qi(e,t))}Ki(e,t){if(Tg(t))return We.resolve(null);let i=tc(t);return this.indexManager.getIndexType(e,i).next(l=>0===l?null:(null!==t.limit&&1===l&&(t=n_(t,null,"F"),i=tc(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(p=>{const _=c(...p);return this.Ui.getDocuments(e,_).next(T=>this.indexManager.getMinOffset(e,i).next(F=>{const H=this.ji(t,T);return this.zi(t,H,_,F.readTime)?this.Ki(e,n_(t,null,"F")):this.Wi(e,H,t,F)}))})))}Gi(e,t,i,l){return Tg(t)||l.isEqual(gn.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(p=>{const _=this.ji(t,p);return this.zi(t,_,i,l)?this.Qi(e,t):(Zy()<=Oe.in.DEBUG&&Nt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ad(t)),this.Wi(e,_,t,function rv(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,l=gn.fromTimestamp(1e9===i?new ys(t+1,0):new ys(t,i));return new Do(l,Qt.empty(),e)}(l,-1)))})}ji(e,t){let i=new Yi(i_(e));return t.forEach((l,p)=>{Dg(e,p)&&(i=i.add(p))}),i}zi(e,t,i,l){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const p="F"===e.limitType?t.last():t.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(l)>0)}Qi(e,t){return Zy()<=Oe.in.DEBUG&&Nt("QueryEngine","Using full collection scan to execute query:",Ad(t)),this.Ui.getDocumentsMatchingQuery(e,t,Do.min())}Wi(e,t,i,l){return this.Ui.getDocumentsMatchingQuery(e,i,l).next(p=>(t.forEach(_=>{p=p.insert(_.key,_)}),p))}}class hC{constructor(e,t,i,l){this.persistence=e,this.Hi=t,this.serializer=l,this.Ji=new ki(Yn),this.Yi=new yu(p=>ed(p),Ul),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Z1(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function vI(n,e){return tb.apply(this,arguments)}function tb(){return tb=(0,ue.Z)(function*(n,e){const t=Yt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let l;return t.mutationQueue.getAllMutationBatches(i).next(p=>(l=p,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(p=>{const _=[],T=[];let F=c();for(const H of l){_.push(H.batchId);for(const te of H.mutations)F=F.add(te.key)}for(const H of p){T.push(H.batchId);for(const te of H.mutations)F=F.add(te.key)}return t.localDocuments.getDocuments(i,F).next(H=>({er:H,removedBatchIds:_,addedBatchIds:T}))})})}),tb.apply(this,arguments)}function AT(n){const e=Yt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function pC(n,e){const t=Yt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function D_(n,e,t){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,ue.Z)(function*(n,e,t){const i=Yt(n),l=i.Ji.get(e),p=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",p,_=>i.persistence.referenceDelegate.removeTarget(_,l)))}catch(_){if(!Pl(_))throw _;Nt("LocalStore",`Failed to update sequence numbers for target ${e}: ${_}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(l.target)}),Mg.apply(this,arguments)}function Uv(n,e,t){const i=Yt(n);let l=gn.min(),p=c();return i.persistence.runTransaction("Execute query","readonly",_=>function(T,F,H){const te=Yt(T),pe=te.Yi.get(H);return void 0!==pe?We.resolve(te.Ji.get(pe)):te.Bs.getTargetData(F,H)}(i,_,tc(e)).next(T=>{if(T)return l=T.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(_,T.targetId).next(F=>{p=F})}).next(()=>i.Hi.getDocumentsMatchingQuery(_,e,t?l:gn.min(),t?p:c())).next(T=>(function II(n,e,t){let i=n.Xi.get(e)||gn.min();t.forEach((l,p)=>{p.readTime.compareTo(i)>0&&(i=p.readTime)}),n.Xi.set(e,i)}(i,function Jw(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),T),{documents:T,ir:p})))}class TI{constructor(){this.activeTargetIds=function o(){return f}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xT{constructor(){this.Hr=new TI,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new TI,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dS{Yr(e){}shutdown(){}}class RT{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let DI=null;function Rg(){return null===DI?DI=268435456+Math.round(2147483648*Math.random()):DI++,"0x"+DI.toString(16)}const _C={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yC{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Dc="WebChannelConnection";class ob extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,l,p){const _=Rg(),T=this.To(e,t);Nt("RestConnection",`Sending RPC '${e}' ${_}:`,T,i);const F={};return this.Eo(F,l,p),this.Ao(e,T,F,i).then(H=>(Nt("RestConnection",`Received RPC '${e}' ${_}: `,H),H),H=>{throw sl("RestConnection",`RPC '${e}' ${_} failed with error: `,H,"url: ",T,"request:",i),H})}vo(e,t,i,l,p,_){return this.Io(e,t,i,l,p)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+wd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,p)=>e[p]=l),i&&i.headers.forEach((l,p)=>e[p]=l)}To(e,t){return`${this.mo}/v1/${t}:${_C[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,l){const p=Rg();return new Promise((_,T)=>{const F=new p1;F.setWithCredentials(!0),F.listenOnce(Bw.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case bh.NO_ERROR:const te=F.getResponseJson();Nt(Dc,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(te)),_(te);break;case bh.TIMEOUT:Nt(Dc,`RPC '${e}' ${p} timed out`),T(new St(it.DEADLINE_EXCEEDED,"Request time out"));break;case bh.HTTP_ERROR:const pe=F.getStatus();if(Nt(Dc,`RPC '${e}' ${p} failed with status:`,pe,"response text:",F.getResponseText()),pe>0){let Ue=F.getResponseJson();Array.isArray(Ue)&&(Ue=Ue[0]);const lt=Ue?.error;if(lt&&lt.status&&lt.message){const Ft=function(rn){const on=rn.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(on)>=0?on:it.UNKNOWN}(lt.status);T(new St(Ft,lt.message))}else T(new St(it.UNKNOWN,"Server responded with status "+F.getStatus()))}else T(new St(it.UNAVAILABLE,"Connection failed."));break;default:dn()}}finally{Nt(Dc,`RPC '${e}' ${p} completed.`)}});const H=JSON.stringify(l);Nt(Dc,`RPC '${e}' ${p} sending request:`,l),F.send(t,"POST",H,i,15)})}Ro(e,t,i){const l=Rg(),p=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],_=gg(),T=Wy(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},H=this.longPollingOptions.timeoutSeconds;void 0!==H&&(F.longPollingTimeout=Math.round(1e3*H)),this.useFetchStreams&&(F.xmlHttpFactory=new $m({})),this.Eo(F.initMessageHeaders,t,i),F.encodeInitMessageHeaders=!0;const te=p.join("");Nt(Dc,`Creating RPC '${e}' stream ${l}: ${te}`,F);const pe=_.createWebChannel(te,F);let Ue=!1,lt=!1;const Ft=new yC({ro:on=>{lt?Nt(Dc,`Not sending because RPC '${e}' stream ${l} is closed:`,on):(Ue||(Nt(Dc,`Opening RPC '${e}' stream ${l} transport.`),pe.open(),Ue=!0),Nt(Dc,`RPC '${e}' stream ${l} sending:`,on),pe.send(on))},oo:()=>pe.close()}),rn=(on,br,ei)=>{on.listen(br,Or=>{try{ei(Or)}catch(Qo){setTimeout(()=>{throw Qo},0)}})};return rn(pe,zf.EventType.OPEN,()=>{lt||Nt(Dc,`RPC '${e}' stream ${l} transport opened.`)}),rn(pe,zf.EventType.CLOSE,()=>{lt||(lt=!0,Nt(Dc,`RPC '${e}' stream ${l} transport closed`),Ft.wo())}),rn(pe,zf.EventType.ERROR,on=>{lt||(lt=!0,sl(Dc,`RPC '${e}' stream ${l} transport errored:`,on),Ft.wo(new St(it.UNAVAILABLE,"The operation could not be completed")))}),rn(pe,zf.EventType.MESSAGE,on=>{var br;if(!lt){const ei=on.data[0];bn(!!ei);const Qo=ei.error||(null===(br=ei[0])||void 0===br?void 0:br.error);if(Qo){Nt(Dc,`RPC '${e}' stream ${l} received error:`,Qo);const Mo=Qo.status;let ss=function(Gg){const Xb=_i[Gg];if(void 0!==Xb)return Fa(Xb)}(Mo),Bc=Qo.message;void 0===ss&&(ss=it.INTERNAL,Bc="Unknown error status: "+Mo+" with message "+Qo.message),lt=!0,Ft.wo(new St(ss,Bc)),pe.close()}else Nt(Dc,`RPC '${e}' stream ${l} received:`,ei),Ft._o(ei)}}),rn(T,f1.STAT_EVENT,on=>{on.stat===qy.PROXY?Nt(Dc,`RPC '${e}' stream ${l} detected buffering proxy`):on.stat===qy.NOPROXY&&Nt(Dc,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Ft.fo()},0),Ft}}function ab(){return typeof document<"u"?document:null}function C_(n){return new lS(n,!0)}class S_{constructor(e,t,i=1e3,l=1.5,p=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=l,this.Vo=p,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),l=Math.max(0,t-i);l>0&&Nt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,l,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class PT{constructor(e,t,i,l,p,_,T,F){this.ii=e,this.$o=i,this.Oo=l,this.connection=p,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=T,this.listener=F,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new S_(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ue.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ue.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,ue.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===it.RESOURCE_EXHAUSTED?(so(t.toString()),so("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===it.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,l])=>{this.Fo===t&&this.Zo(i,l)},i=>{e(()=>{const l=new St(it.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(l)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(l=>{i(()=>this.tu(l))}),this.stream.onMessage(l=>{i(()=>this.onMessage(l))})}Go(){var e=this;this.state=5,this.qo.No((0,ue.Z)(function*(){e.state=0,e.start()}))}tu(e){return Nt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vC extends PT{constructor(e,t,i,l,p,_){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,l,_),this.serializer=p}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function YE(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(F=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===F?1:"REMOVE"===F?2:"CURRENT"===F?3:"RESET"===F?4:dn(),l=e.targetChange.targetIds||[],p=function(F,H){return F.useProto3Json?(bn(void 0===H||"string"==typeof H),As.fromBase64String(H||"")):(bn(void 0===H||H instanceof Uint8Array),As.fromUint8Array(H||new Uint8Array))}(n,e.targetChange.resumeToken),_=e.targetChange.cause,T=_&&function(F){const H=void 0===F.code?it.UNKNOWN:Fa(F.code);return new St(H,F.message||"")}(_);t=new Wh(i,l,p,T||null)}else if("documentChange"in e){const i=e.documentChange,l=xd(n,i.document.name),p=No(i.document.updateTime),_=i.document.createTime?No(i.document.createTime):gn.min(),T=new So({mapValue:{fields:i.document.fields}}),F=ji.newFoundDocument(l,p,_,T);t=new Cg(i.targetIds||[],i.removedTargetIds||[],F.key,F)}else if("documentDelete"in e){const i=e.documentDelete,l=xd(n,i.document),p=i.readTime?No(i.readTime):gn.min(),_=ji.newNoDocument(l,p);t=new Cg([],i.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){const i=e.documentRemove,l=xd(n,i.document);t=new Cg([],i.removedTargetIds||[],l,null)}else{if(!("filter"in e))return dn();{const i=e.filter,{count:l=0,unchangedNames:p}=i,_=new mi(l,p);t=new nd(i.targetId,_)}}var F;return t}(this.serializer,e),i=function(l){if(!("targetChange"in l))return gn.min();const p=l.targetChange;return p.targetIds&&p.targetIds.length?gn.min():p.readTime?No(p.readTime):gn.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=La(this.serializer),t.addTarget=function(l,p){let _;const T=p.target;if(_=Xf(T)?{documents:JE(l,T)}:{query:iI(l,T)},_.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){_.resumeToken=jD(l,p.resumeToken);const F=F1(l,p.expectedCount);null!==F&&(_.expectedCount=F)}else if(p.snapshotVersion.compareTo(gn.min())>0){_.readTime=Sg(l,p.snapshotVersion.toTimestamp());const F=F1(l,p.expectedCount);null!==F&&(_.expectedCount=F)}return _}(this.serializer,e);const i=function Ov(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=La(this.serializer),t.removeTarget=e,this.Wo(t)}}class kT extends PT{constructor(e,t,i,l,p,_){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,l,_),this.serializer=p,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(bn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function QE(n,e){return n&&n.length>0?(bn(void 0!==e),n.map(t=>function(i,l){let p=No(i.updateTime?i.updateTime:l);return p.isEqual(gn.min())&&(p=No(l)),new Nn(p,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=No(e.commitTime);return this.listener.cu(i,t)}return bn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=La(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function f_(n,e){let t;if(e instanceof wi)t={update:nI(n,e.key,e.value)};else if(e instanceof On)t={delete:Md(n,e.key)};else if(e instanceof Ko)t={update:nI(n,e.key,e.data),updateMask:ZD(e.fieldMask)};else{if(!(e instanceof dr))return dn();t={verify:Md(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,p){const _=p.transform;if(_ instanceof ye)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof Be)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof at)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof Ut)return{fieldPath:p.field.canonicalString(),increment:_.gt};throw dn()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:d_(n,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:dn()),t;var l}(this.serializer,i))};this.Wo(t)}}class bC extends class{}{constructor(e,t,i,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=l,this.lu=!1}fu(){if(this.lu)throw new St(it.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,p])=>this.connection.Io(e,t,i,l,p)).catch(l=>{throw"FirebaseError"===l.name?(l.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new St(it.UNKNOWN,l.toString())})}vo(e,t,i,l){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,_])=>this.connection.vo(e,t,i,p,_,l)).catch(p=>{throw"FirebaseError"===p.name?(p.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new St(it.UNKNOWN,p.toString())})}terminate(){this.lu=!0}}class lb{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(so(t),this.mu=!1):Nt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class IC{constructor(e,t,i,l,p){var _=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=p,this.Pu.Yr(T=>{i.enqueueAndForget((0,ue.Z)(function*(){var F;Rd(_)&&(Nt("RemoteStore","Restarting streams for network reachability change."),yield(F=(0,ue.Z)(function*(H){const te=Yt(H);te.vu.add(4),yield Pg(te),te.bu.set("Unknown"),te.vu.delete(4),yield Hv(te)}),function(H){return F.apply(this,arguments)})(_))}))}),this.bu=new lb(i,l)}}function Hv(n){return ub.apply(this,arguments)}function ub(){return ub=(0,ue.Z)(function*(n){if(Rd(n))for(const e of n.Ru)yield e(!0)}),ub.apply(this,arguments)}function Pg(n){return Gv.apply(this,arguments)}function Gv(){return Gv=(0,ue.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),Gv.apply(this,arguments)}function jv(n,e){const t=Yt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),NI(t)?AI(t):qv(t).Ko()&&db(t,e))}function $v(n,e){const t=Yt(n),i=qv(t);t.Au.delete(e),i.Ko()&&SI(t,e),0===t.Au.size&&(i.Ko()?i.jo():Rd(t)&&t.bu.set("Unknown"))}function db(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(gn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}qv(n).su(e)}function SI(n,e){n.Vu.qt(e),qv(n).iu(e)}function AI(n){n.Vu=new Od({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),qv(n).start(),n.bu.gu()}function NI(n){return Rd(n)&&!qv(n).Uo()&&n.Au.size>0}function Rd(n){return 0===Yt(n).vu.size}function hb(n){n.Vu=void 0}function FT(n){return zv.apply(this,arguments)}function zv(){return zv=(0,ue.Z)(function*(n){n.Au.forEach((e,t)=>{db(n,e)})}),zv.apply(this,arguments)}function OI(n,e){return MI.apply(this,arguments)}function MI(){return MI=(0,ue.Z)(function*(n,e){hb(n),NI(n)?(n.bu.Iu(e),AI(n)):n.bu.set("Unknown")}),MI.apply(this,arguments)}function EC(n,e,t){return xI.apply(this,arguments)}function xI(){return xI=(0,ue.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof Wh&&2===e.state&&e.cause)try{yield(i=(0,ue.Z)(function*(l,p){const _=p.cause;for(const T of p.targetIds)l.Au.has(T)&&(yield l.remoteSyncer.rejectListen(T,_),l.Au.delete(T),l.Vu.removeTarget(T))}),function(l,p){return i.apply(this,arguments)})(n,e)}catch(i){Nt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield fb(n,i)}else if(e instanceof Cg?n.Vu.Ht(e):e instanceof nd?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(gn.min()))try{const i=yield AT(n.localStore);t.compareTo(i)>=0&&(yield function(l,p){const _=l.Vu.ce(p);return _.targetChanges.forEach((T,F)=>{if(T.resumeToken.approximateByteSize()>0){const H=l.Au.get(F);H&&l.Au.set(F,H.withResumeToken(T.resumeToken,p))}}),_.targetMismatches.forEach((T,F)=>{const H=l.Au.get(T);if(!H)return;l.Au.set(T,H.withResumeToken(As.EMPTY_BYTE_STRING,H.snapshotVersion)),SI(l,T);const te=new Gl(H.target,T,F,H.sequenceNumber);db(l,te)}),l.remoteSyncer.applyRemoteEvent(_)}(n,t))}catch(i){Nt("RemoteStore","Failed to raise snapshot:",i),yield fb(n,i)}var i}),xI.apply(this,arguments)}function fb(n,e,t){return pb.apply(this,arguments)}function pb(){return pb=(0,ue.Z)(function*(n,e,t){if(!Pl(e))throw e;n.vu.add(1),yield Pg(n),n.bu.set("Offline"),t||(t=()=>AT(n.localStore)),n.asyncQueue.enqueueRetryable((0,ue.Z)(function*(){Nt("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Hv(n)}))}),pb.apply(this,arguments)}function gb(n,e){return e().catch(t=>fb(n,t,e))}function kg(n){return mb.apply(this,arguments)}function mb(){return mb=(0,ue.Z)(function*(n){const e=Yt(n),t=Fg(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;LT(e);)try{const l=yield pC(e.localStore,i);if(null===l){0===e.Eu.length&&t.jo();break}i=l.batchId,UT(e,l)}catch(l){yield fb(e,l)}BT(e)&&RI(e)}),mb.apply(this,arguments)}function LT(n){return Rd(n)&&n.Eu.length<10}function UT(n,e){n.Eu.push(e);const t=Fg(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function BT(n){return Rd(n)&&!Fg(n).Uo()&&n.Eu.length>0}function RI(n){Fg(n).start()}function VT(n){return PI.apply(this,arguments)}function PI(){return PI=(0,ue.Z)(function*(n){Fg(n).hu()}),PI.apply(this,arguments)}function HT(n){return _b.apply(this,arguments)}function _b(){return _b=(0,ue.Z)(function*(n){const e=Fg(n);for(const t of n.Eu)e.uu(t.mutations)}),_b.apply(this,arguments)}function Lc(n,e,t){return dp.apply(this,arguments)}function dp(){return dp=(0,ue.Z)(function*(n,e,t){const i=n.Eu.shift(),l=ka.from(i,e,t);yield gb(n,()=>n.remoteSyncer.applySuccessfulWrite(l)),yield kg(n)}),dp.apply(this,arguments)}function TC(n,e){return kI.apply(this,arguments)}function kI(){return kI=(0,ue.Z)(function*(n,e){var t;e&&Fg(n).ou&&(yield(t=(0,ue.Z)(function*(i,l){if(function Os(n){switch(n){default:return dn();case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0}}(p=l.code)&&p!==it.ABORTED){const _=i.Eu.shift();Fg(i).Qo(),yield gb(i,()=>i.remoteSyncer.rejectFailedWrite(_.batchId,l)),yield kg(i)}var p}),function(i,l){return t.apply(this,arguments)})(n,e)),BT(n)&&RI(n)}),kI.apply(this,arguments)}function DC(n,e){return GT.apply(this,arguments)}function GT(){return GT=(0,ue.Z)(function*(n,e){const t=Yt(n);t.asyncQueue.verifyOperationInProgress(),Nt("RemoteStore","RemoteStore received new credentials");const i=Rd(t);t.vu.add(3),yield Pg(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Hv(t)}),GT.apply(this,arguments)}function Wv(){return Wv=(0,ue.Z)(function*(n,e){const t=Yt(n);e?(t.vu.delete(2),yield Hv(t)):e||(t.vu.add(2),yield Pg(t),t.bu.set("Unknown"))}),Wv.apply(this,arguments)}function qv(n){return n.Su||(n.Su=function(e,t,i){const l=Yt(e);return l.fu(),new vC(t,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)}(n.datastore,n.asyncQueue,{uo:FT.bind(null,n),ao:OI.bind(null,n),nu:EC.bind(null,n)}),n.Ru.push(function(){var e=(0,ue.Z)(function*(t){t?(n.Su.Qo(),NI(n)?AI(n):n.bu.set("Unknown")):(yield n.Su.stop(),hb(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Fg(n){return n.Du||(n.Du=function(e,t,i){const l=Yt(e);return l.fu(),new kT(t,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)}(n.datastore,n.asyncQueue,{uo:VT.bind(null,n),ao:TC.bind(null,n),au:HT.bind(null,n),cu:Lc.bind(null,n)}),n.Ru.push(function(){var e=(0,ue.Z)(function*(t){t?(n.Du.Qo(),yield kg(n)):(yield n.Du.stop(),n.Eu.length>0&&(Nt("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class jT{constructor(e,t,i,l,p){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=l,this.removalCallback=p,this.deferred=new oo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}static createAndSchedule(e,t,i,l,p){const _=Date.now()+i,T=new jT(e,t,_,l,p);return T.start(i),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new St(it.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pd(n,e){if(so("AsyncQueue",`${e}: ${n}`),Pl(n))return new St(it.UNAVAILABLE,`${e}: ${n}`);throw n}class A_{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Qt.comparator(t.key,i.key):(t,i)=>Qt.comparator(t.key,i.key),this.keyedMap=rc(),this.sortedSet=new ki(this.comparator)}static emptySet(e){return new A_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof A_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,p=i.getNext().key;if(!l.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new A_;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class vb{constructor(){this.Cu=new ki(Qt.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):dn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class N_{constructor(e,t,i,l,p,_,T,F,H){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=l,this.mutatedKeys=p,this.fromCache=_,this.syncStateChanged=T,this.excludesMetadataChanges=F,this.hasCachedResults=H}static fromInitialDocuments(e,t,i,l,p){const _=[];return t.forEach(T=>{_.push({type:0,doc:T})}),new N_(e,t,A_.emptySet(t),_,i,l,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==i[l].type||!t[l].doc.isEqual(i[l].doc))return!1;return!0}}class $T{constructor(){this.Nu=void 0,this.listeners=[]}}class CC{constructor(){this.queries=new yu(e=>r_(e),rp),this.onlineState="Unknown",this.ku=new Set}}function FI(n,e){return LI.apply(this,arguments)}function LI(){return LI=(0,ue.Z)(function*(n,e){const t=Yt(n),i=e.query;let l=!1,p=t.queries.get(i);if(p||(l=!0,p=new $T),l)try{p.Nu=yield t.onListen(i)}catch(_){const T=Pd(_,`Initialization of query '${Ad(e.query)}' failed`);return void e.onError(T)}t.queries.set(i,p),p.listeners.push(e),e.Mu(t.onlineState),p.Nu&&e.$u(p.Nu)&&Kv(t)}),LI.apply(this,arguments)}function Zv(n,e){return bb.apply(this,arguments)}function bb(){return bb=(0,ue.Z)(function*(n,e){const t=Yt(n),i=e.query;let l=!1;const p=t.queries.get(i);if(p){const _=p.listeners.indexOf(e);_>=0&&(p.listeners.splice(_,1),l=0===p.listeners.length)}if(l)return t.queries.delete(i),t.onUnlisten(i)}),bb.apply(this,arguments)}function SC(n,e){const t=Yt(n);let i=!1;for(const l of e){const _=t.queries.get(l.query);if(_){for(const T of _.listeners)T.$u(l)&&(i=!0);_.Nu=l}}i&&Kv(t)}function wb(n,e,t){const i=Yt(n),l=i.queries.get(e);if(l)for(const p of l.listeners)p.onError(t);i.queries.delete(e)}function Kv(n){n.ku.forEach(e=>{e.next()})}class zT{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const l of e.docChanges)3!==l.type&&i.push(l);e=new N_(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=N_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class KT{constructor(e){this.key=e}}class UI{constructor(e){this.key=e}}class Ib{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=c(),this.mutatedKeys=c(),this.tc=i_(e),this.ec=new A_(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new vb,l=t?t.ec:this.ec;let p=t?t.mutatedKeys:this.mutatedKeys,_=l,T=!1;const F="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,H="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((te,pe)=>{const Ue=l.get(te),lt=Dg(this.query,pe)?pe:null,Ft=!!Ue&&this.mutatedKeys.has(Ue.key),rn=!!lt&&(lt.hasLocalMutations||this.mutatedKeys.has(lt.key)&&lt.hasCommittedMutations);let on=!1;Ue&&lt?Ue.data.isEqual(lt.data)?Ft!==rn&&(i.track({type:3,doc:lt}),on=!0):this.rc(Ue,lt)||(i.track({type:2,doc:lt}),on=!0,(F&&this.tc(lt,F)>0||H&&this.tc(lt,H)<0)&&(T=!0)):!Ue&&lt?(i.track({type:0,doc:lt}),on=!0):Ue&&!lt&&(i.track({type:1,doc:Ue}),on=!0,(F||H)&&(T=!0)),on&&(lt?(_=_.add(lt),p=rn?p.add(te):p.delete(te)):(_=_.delete(te),p=p.delete(te)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const te="F"===this.query.limitType?_.last():_.first();_=_.delete(te.key),p=p.delete(te.key),i.track({type:1,doc:te})}return{ec:_,ic:i,zi:T,mutatedKeys:p}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const l=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const p=e.ic.xu();p.sort((H,te)=>function(pe,Ue){const lt=Ft=>{switch(Ft){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dn()}};return lt(pe)-lt(Ue)}(H.type,te.type)||this.tc(H.doc,te.doc)),this.oc(i);const _=t?this.uc():[],T=0===this.Zu.size&&this.current?1:0,F=T!==this.Xu;return this.Xu=T,0!==p.length||F?{snapshot:new N_(this.query,e.ec,l,p,e.mutatedKeys,0===T,F,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:_}:{cc:_}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new vb,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=c(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new UI(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new KT(i))}),t}hc(e){this.Yu=e.ir,this.Zu=c();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return N_.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class hS{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class AC{constructor(e){this.key=e,this.fc=!1}}class fS{constructor(e,t,i,l,p,_){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=l,this.currentUser=p,this.maxConcurrentLimboResolutions=_,this.dc={},this.wc=new yu(T=>r_(T),rp),this._c=new Map,this.mc=new Set,this.gc=new ki(Qt.comparator),this.yc=new Map,this.Ic=new K1,this.Tc={},this.Ec=new Map,this.Ac=lp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function NC(n,e){return BI.apply(this,arguments)}function BI(){return BI=(0,ue.Z)(function*(n,e){const t=function YI(n){const e=Yt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=JT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OC.bind(null,e),e.dc.nu=SC.bind(null,e.eventManager),e.dc.Pc=wb.bind(null,e.eventManager),e}(n);let i,l;const p=t.wc.get(e);if(p)i=p.targetId,t.sharedClientState.addLocalQueryTarget(i),l=p.view.lc();else{const _=yield function T_(n,e){const t=Yt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let l;return t.Bs.getTargetData(i,e).next(p=>p?(l=p,We.resolve(l)):t.Bs.allocateTargetId(i).next(_=>(l=new Gl(e,_,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,l).next(()=>l))))}).then(i=>{const l=t.Ji.get(i.targetId);return(null===l||i.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}(t.localStore,tc(e)),T=t.sharedClientState.addLocalQueryTarget(_.targetId);i=_.targetId,l=yield function VI(n,e,t,i,l){return Eb.apply(this,arguments)}(t,e,i,"current"===T,_.resumeToken),t.isPrimaryClient&&jv(t.remoteStore,_)}return l}),BI.apply(this,arguments)}function Eb(){return Eb=(0,ue.Z)(function*(n,e,t,i,l){n.Rc=(pe,Ue,lt)=>{return(Ft=(0,ue.Z)(function*(rn,on,br,ei){let Or=on.view.sc(br);Or.zi&&(Or=yield Uv(rn.localStore,on.query,!1).then(({documents:ss})=>on.view.sc(ss,Or)));const Qo=ei&&ei.targetChanges.get(on.targetId),Mo=on.view.applyChanges(Or,rn.isPrimaryClient,Qo);return rD(rn,on.targetId,Mo.cc),Mo.snapshot}),function(rn,on,br,ei){return Ft.apply(this,arguments)})(n,pe,Ue,lt);var Ft};const p=yield Uv(n.localStore,e,!0),_=new Ib(e,p.ir),T=_.sc(p.documents),F=ip.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,l),H=_.applyChanges(T,n.isPrimaryClient,F);rD(n,t,H.cc);const te=new hS(e,t,_);return n.wc.set(e,te),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),H.snapshot}),Eb.apply(this,arguments)}function YT(n,e){return HI.apply(this,arguments)}function HI(){return HI=(0,ue.Z)(function*(n,e){const t=Yt(n),i=t.wc.get(e),l=t._c.get(i.targetId);if(l.length>1)return t._c.set(i.targetId,l.filter(p=>!rp(p,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield D_(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),$v(t.remoteStore,i.targetId),Yv(t,i.targetId)}).catch(Ih))):(Yv(t,i.targetId),yield D_(t.localStore,i.targetId,!0))}),HI.apply(this,arguments)}function Tb(){return Tb=(0,ue.Z)(function*(n,e,t){const i=function QI(n){const e=Yt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eD.bind(null,e),e}(n);try{const l=yield function(p,_){const T=Yt(p),F=ys.now(),H=_.reduce((Ue,lt)=>Ue.add(lt.key),c());let te,pe;return T.persistence.runTransaction("Locally write mutations","readwrite",Ue=>{let lt=nc(),Ft=c();return T.Zi.getEntries(Ue,H).next(rn=>{lt=rn,lt.forEach((on,br)=>{br.isValidDocument()||(Ft=Ft.add(on))})}).next(()=>T.localDocuments.getOverlayedDocuments(Ue,lt)).next(rn=>{te=rn;const on=[];for(const br of _){const ei=ao(br,te.get(br.key).overlayedDocument);null!=ei&&on.push(new Ko(br.key,ei,_v(ei.value.mapValue),wn.exists(!0)))}return T.mutationQueue.addMutationBatch(Ue,F,on,_)}).next(rn=>{pe=rn;const on=rn.applyToLocalDocumentSet(te,Ft);return T.documentOverlayCache.saveOverlays(Ue,rn.batchId,on)})}).then(()=>({batchId:pe.batchId,changes:Cv(te)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(l.batchId),function(p,_,T){let F=p.Tc[p.currentUser.toKey()];F||(F=new ki(Yn)),F=F.insert(_,T),p.Tc[p.currentUser.toKey()]=F}(i,l.batchId,t),yield hp(i,l.changes),yield kg(i.remoteStore)}catch(l){const p=Pd(l,"Failed to persist write");t.reject(p)}}),Tb.apply(this,arguments)}function JT(n,e){return GI.apply(this,arguments)}function GI(){return GI=(0,ue.Z)(function*(n,e){const t=Yt(n);try{const i=yield function fC(n,e){const t=Yt(n),i=e.snapshotVersion;let l=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const _=t.Zi.newChangeBuffer({trackRemovals:!0});l=t.Ji;const T=[];e.targetChanges.forEach((te,pe)=>{const Ue=l.get(pe);if(!Ue)return;T.push(t.Bs.removeMatchingKeys(p,te.removedDocuments,pe).next(()=>t.Bs.addMatchingKeys(p,te.addedDocuments,pe)));let lt=Ue.withSequenceNumber(p.currentSequenceNumber);var Ft,rn,on;null!==e.targetMismatches.get(pe)?lt=lt.withResumeToken(As.EMPTY_BYTE_STRING,gn.min()).withLastLimboFreeSnapshotVersion(gn.min()):te.resumeToken.approximateByteSize()>0&&(lt=lt.withResumeToken(te.resumeToken,i)),l=l.insert(pe,lt),rn=lt,on=te,(0===(Ft=Ue).resumeToken.approximateByteSize()||rn.snapshotVersion.toMicroseconds()-Ft.snapshotVersion.toMicroseconds()>=3e8||on.addedDocuments.size+on.modifiedDocuments.size+on.removedDocuments.size>0)&&T.push(t.Bs.updateTargetData(p,lt))});let F=nc(),H=c();if(e.documentUpdates.forEach(te=>{e.resolvedLimboDocuments.has(te)&&T.push(t.persistence.referenceDelegate.updateLimboDocument(p,te))}),T.push(function NT(n,e,t){let i=c(),l=c();return t.forEach(p=>i=i.add(p)),e.getEntries(n,i).next(p=>{let _=nc();return t.forEach((T,F)=>{const H=p.get(T);F.isFoundDocument()!==H.isFoundDocument()&&(l=l.add(T)),F.isNoDocument()&&F.version.isEqual(gn.min())?(e.removeEntry(T,F.readTime),_=_.insert(T,F)):!H.isValidDocument()||F.version.compareTo(H.version)>0||0===F.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(F),_=_.insert(T,F)):Nt("LocalStore","Ignoring outdated watch update for ",T,". Current version:",H.version," Watch version:",F.version)}),{nr:_,sr:l}})}(p,_,e.documentUpdates).next(te=>{F=te.nr,H=te.sr})),!i.isEqual(gn.min())){const te=t.Bs.getLastRemoteSnapshotVersion(p).next(pe=>t.Bs.setTargetsMetadata(p,p.currentSequenceNumber,i));T.push(te)}return We.waitFor(T).next(()=>_.apply(p)).next(()=>t.localDocuments.getLocalViewOfDocuments(p,F,H)).next(()=>F)}).then(p=>(t.Ji=l,p))}(t.localStore,e);e.targetChanges.forEach((l,p)=>{const _=t.yc.get(p);_&&(bn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?_.fc=!0:l.modifiedDocuments.size>0?bn(_.fc):l.removedDocuments.size>0&&(bn(_.fc),_.fc=!1))}),yield hp(t,i,e)}catch(i){yield Ih(i)}}),GI.apply(this,arguments)}function jI(n,e,t){const i=Yt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const l=[];i.wc.forEach((p,_)=>{const T=_.view.Mu(e);T.snapshot&&l.push(T.snapshot)}),function(p,_){const T=Yt(p);T.onlineState=_;let F=!1;T.queries.forEach((H,te)=>{for(const pe of te.listeners)pe.Mu(_)&&(F=!0)}),F&&Kv(T)}(i.eventManager,e),l.length&&i.dc.nu(l),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function OC(n,e,t){return Db.apply(this,arguments)}function Db(){return Db=(0,ue.Z)(function*(n,e,t){const i=Yt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const l=i.yc.get(e),p=l&&l.key;if(p){let _=new ki(Qt.comparator);_=_.insert(p,ji.newNoDocument(p,gn.min()));const T=c().add(p),F=new zh(gn.min(),new Map,new ki(Yn),_,T);yield JT(i,F),i.gc=i.gc.remove(p),i.yc.delete(e),iD(i)}else yield D_(i.localStore,e,!1).then(()=>Yv(i,e,t)).catch(Ih)}),Db.apply(this,arguments)}function XT(n,e){return Cb.apply(this,arguments)}function Cb(){return Cb=(0,ue.Z)(function*(n,e){const t=Yt(n),i=e.batch.batchId;try{const l=yield function ST(n,e){const t=Yt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const l=e.batch.keys(),p=t.Zi.newChangeBuffer({trackRemovals:!0});return function(_,T,F,H){const te=F.batch,pe=te.keys();let Ue=We.resolve();return pe.forEach(lt=>{Ue=Ue.next(()=>H.getEntry(T,lt)).next(Ft=>{const rn=F.docVersions.get(lt);bn(null!==rn),Ft.version.compareTo(rn)<0&&(te.applyToRemoteDocument(Ft,F),Ft.isValidDocument()&&(Ft.setReadTime(F.commitVersion),H.addEntry(Ft)))})}),Ue.next(()=>_.mutationQueue.removeMutationBatch(T,te))}(t,i,e,p).next(()=>p.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(_){let T=c();for(let F=0;F<_.mutationResults.length;++F)_.mutationResults[F].transformResults.length>0&&(T=T.add(_.batch.mutations[F].key));return T}(e))).next(()=>t.localDocuments.getDocuments(i,l))})}(t.localStore,e);nD(t,i,null),Sb(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield hp(t,l)}catch(l){yield Ih(l)}}),Cb.apply(this,arguments)}function eD(n,e,t){return $I.apply(this,arguments)}function $I(){return $I=(0,ue.Z)(function*(n,e,t){const i=Yt(n);try{const l=yield function(p,_){const T=Yt(p);return T.persistence.runTransaction("Reject batch","readwrite-primary",F=>{let H;return T.mutationQueue.lookupMutationBatch(F,_).next(te=>(bn(null!==te),H=te.keys(),T.mutationQueue.removeMutationBatch(F,te))).next(()=>T.mutationQueue.performConsistencyCheck(F)).next(()=>T.documentOverlayCache.removeOverlaysForBatchId(F,H,_)).next(()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(F,H)).next(()=>T.localDocuments.getDocuments(F,H))})}(i.localStore,e);nD(i,e,t),Sb(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield hp(i,l)}catch(l){yield Ih(l)}}),$I.apply(this,arguments)}function Sb(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function nD(n,e,t){const i=Yt(n);let l=i.Tc[i.currentUser.toKey()];if(l){const p=l.get(e);p&&(t?p.reject(t):p.resolve(),l=l.remove(e)),i.Tc[i.currentUser.toKey()]=l}}function Yv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||xC(n,i)})}function xC(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&($v(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),iD(n))}function rD(n,e,t){for(const i of t)i instanceof KT?(n.Ic.addReference(i.key,e),pS(n,i)):i instanceof UI?(Nt("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||xC(n,i.key)):dn()}function pS(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(Nt("SyncEngine","New document in limbo: "+t),n.mc.add(i),iD(n))}function iD(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Qt(Pr.fromString(e)),i=n.Ac.next();n.yc.set(i,new AC(t)),n.gc=n.gc.insert(t,i),jv(n.remoteStore,new Gl(tc(tp(t.path)),i,"TargetPurposeLimboResolution",rs.ct))}}function hp(n,e,t){return sD.apply(this,arguments)}function sD(){return sD=(0,ue.Z)(function*(n,e,t){const i=Yt(n),l=[],p=[],_=[];var T;i.wc.isEmpty()||(i.wc.forEach((T,F)=>{_.push(i.Rc(F,e,t).then(H=>{if((H||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(F.targetId,H?.fromCache?"not-current":"current"),H){l.push(H);const te=TT.Li(F.targetId,H);p.push(te)}}))}),yield Promise.all(_),i.dc.nu(l),yield(T=(0,ue.Z)(function*(F,H){const te=Yt(F);try{yield te.persistence.runTransaction("notifyLocalViewChanges","readwrite",pe=>We.forEach(H,Ue=>We.forEach(Ue.Fi,lt=>te.persistence.referenceDelegate.addReference(pe,Ue.targetId,lt)).next(()=>We.forEach(Ue.Bi,lt=>te.persistence.referenceDelegate.removeReference(pe,Ue.targetId,lt)))))}catch(pe){if(!Pl(pe))throw pe;Nt("LocalStore","Failed to update sequence numbers: "+pe)}for(const pe of H){const Ue=pe.targetId;if(!pe.fromCache){const lt=te.Ji.get(Ue),rn=lt.withLastLimboFreeSnapshotVersion(lt.snapshotVersion);te.Ji=te.Ji.insert(Ue,rn)}}}),function(F,H){return T.apply(this,arguments)})(i.localStore,p))}),sD.apply(this,arguments)}function gS(n,e){return Ab.apply(this,arguments)}function Ab(){return Ab=(0,ue.Z)(function*(n,e){const t=Yt(n);if(!t.currentUser.isEqual(e)){Nt("SyncEngine","User change. New user:",e.toKey());const i=yield vI(t.localStore,e);t.currentUser=e,(l=t).Ec.forEach(_=>{_.forEach(T=>{T.reject(new St(it.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield hp(t,i.er)}var l}),Ab.apply(this,arguments)}function zI(n,e){const t=Yt(n),i=t.yc.get(e);if(i&&i.fc)return c().add(i.key);{let l=c();const p=t._c.get(e);if(!p)return l;for(const _ of p){const T=t.wc.get(_);l=l.unionWith(T.view.nc)}return l}}class xb{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ue.Z)(function*(){t.serializer=C_(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function CT(n,e,t,i){return new hC(n,e,t,i)}(this.persistence,new DT,e.initialUser,this.serializer)}createPersistence(e){return new Y1(Q1.zs,this.serializer)}createSharedClientState(e){return new xT}terminate(){var e=this;return(0,ue.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class O_{initialize(e,t){var i=this;return(0,ue.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=l=>jI(i.syncEngine,l,1),i.remoteStore.remoteSyncer.handleCredentialChange=gS.bind(null,i.syncEngine),yield function yb(n,e){return Wv.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new CC}createDatastore(e){const t=C_(e.databaseInfo.databaseId),i=new ob(e.databaseInfo);return new bC(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,l=e.asyncQueue,p=T=>jI(this.syncEngine,T,0),_=RT.D()?new RT:new dS,new IC(t,i,l,p,_);var t,i,l,p,_}createSyncEngine(e,t){return function(i,l,p,_,T,F,H){const te=new fS(i,l,p,_,T,F);return H&&(te.vc=!0),te}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ue.Z)(function*(t){const i=Yt(t);Nt("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Pg(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class Pb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):so("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class VC{constructor(e,t,i,l){var p=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=l,this.user=Ss.UNAUTHENTICATED,this.clientId=v1.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var _=(0,ue.Z)(function*(T){Nt("FirestoreClient","Received user=",T.uid),yield p.authCredentialListener(T),p.user=T});return function(T){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(i,_=>(Nt("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}getConfiguration(){var e=this;return(0,ue.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new St(it.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new oo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ue.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const l=Pd(i,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function kb(n,e){return JI.apply(this,arguments)}function JI(){return JI=(0,ue.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Nt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var l=(0,ue.Z)(function*(p){i.isEqual(p)||(yield vI(e.localStore,p),i=p)});return function(p){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),JI.apply(this,arguments)}function XI(n,e){return Fb.apply(this,arguments)}function Fb(){return Fb=(0,ue.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function eE(n){return tE.apply(this,arguments)}(n);Nt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(l=>DC(e.remoteStore,l)),n.setAppCheckTokenChangeListener((l,p)=>DC(e.remoteStore,p)),n._onlineComponents=e}),Fb.apply(this,arguments)}function tE(){return tE=(0,ue.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Nt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield kb(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function Lb(n){return"FirebaseError"===n.name?n.code===it.FAILED_PRECONDITION||n.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;sl("Error using user provided cache. Falling back to memory cache: "+t),yield kb(n,new xb)}}else Nt("FirestoreClient","Using default OfflineComponentProvider"),yield kb(n,new xb);return n._offlineComponents}),tE.apply(this,arguments)}function Qv(n){return Ub.apply(this,arguments)}function Ub(){return Ub=(0,ue.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Nt("FirestoreClient","Using user provided OnlineComponentProvider"),yield XI(n,n._uninitializedComponentsProvider._online)):(Nt("FirestoreClient","Using default OnlineComponentProvider"),yield XI(n,new O_))),n._onlineComponents}),Ub.apply(this,arguments)}function Bg(n){return rE.apply(this,arguments)}function rE(){return rE=(0,ue.Z)(function*(n){const e=yield Qv(n),t=e.eventManager;return t.onListen=NC.bind(null,e.syncEngine),t.onUnlisten=YT.bind(null,e.syncEngine),t}),rE.apply(this,arguments)}function mD(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const _D=new Map;function Hb(n,e,t){if(!t)throw new St(it.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function oE(n){if(!Qt.isDocumentKey(n))throw new St(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function yD(n){if(Qt.isDocumentKey(n))throw new St(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Jv(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":dn()}function ai(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new St(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Jv(n);throw new St(it.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class aE{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new St(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new St(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function vS(n,e,t,i){if(!0===e&&!0===i)throw new St(it.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=mD(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(l){if(void 0!==l.timeoutSeconds){if(isNaN(l.timeoutSeconds))throw new St(it.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new St(it.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new St(it.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class M_{constructor(e,t,i,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new St(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new St(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aE(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Vw;switch(t.type){case"firstParty":return new _g(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new St(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=_D.get(e);t&&(Nt("ComponentProvider","Removing Datastore"),_D.delete(e),t.terminate())}(this),Promise.resolve()}}class co{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Uc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new co(this.firestore,e,this._key)}}class Ba{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ba(this.firestore,e,this._query)}}class Uc extends Ba{constructor(e,t,i){super(e,t,tp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new co(this.firestore,null,new Qt(e))}withConverter(e){return new Uc(this.firestore,e,this._path)}}function jb(n,e,...t){if(n=(0,fe.m9)(n),Hb("collection","path",e),n instanceof M_){const i=Pr.fromString(e,...t);return yD(i),new Uc(n,null,i)}{if(!(n instanceof co||n instanceof Uc))throw new St(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Pr.fromString(e,...t));return yD(i),new Uc(n.firestore,null,i)}}function cE(n,e,...t){if(n=(0,fe.m9)(n),1===arguments.length&&(e=v1.A()),Hb("doc","path",e),n instanceof M_){const i=Pr.fromString(e,...t);return oE(i),new co(n,null,new Qt(i))}{if(!(n instanceof co||n instanceof Uc))throw new St(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Pr.fromString(e,...t));return oE(i),new co(n.firestore,n instanceof Uc?n.converter:null,new Qt(i))}}class wS{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new S_(this,"async_queue_retry"),this.Xc=()=>{const t=ab();t&&Nt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=ab();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=ab();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new oo;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ue.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Pl(t))throw t;Nt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,so("INTERNAL UNHANDLED ERROR: ",function(p){let _=p.message||"";return p.stack&&(_=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),_}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const l=jT.createAndSchedule(this,e,t,i,p=>this.na(p));return this.zc.push(l),l}Zc(){this.Wc&&dn()}verifyOperationInProgress(){}sa(){var e=this;return(0,ue.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Ms extends M_{constructor(e,t,i,l){super(e,t,i,l),this.type="firestore",this._queue=new wS,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||bD(this),this._firestoreClient.terminate()}}function ES(n,e){const t="object"==typeof n?n:(0,Te.Mq)(),i="string"==typeof n?n:e||"(default)",l=(0,Te.qX)(t,"firestore").getImmediate({identifier:i});if(!l._initialized){const p=(0,fe.P0)("firestore");p&&function $C(n,e,t,i={}){var l;const p=(n=ai(n,M_))._getSettings(),_=`${e}:${t}`;if("firestore.googleapis.com"!==p.host&&p.host!==_&&sl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},p),{host:_,ssl:!1})),i.mockUserToken){let T,F;if("string"==typeof i.mockUserToken)T=i.mockUserToken,F=Ss.MOCK_USER;else{T=(0,fe.Sg)(i.mockUserToken,null===(l=n._app)||void 0===l?void 0:l.options.projectId);const H=i.mockUserToken.sub||i.mockUserToken.user_id;if(!H)throw new St(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new Ss(H)}n._authCredentials=new Hw(new Yy(T,F))}}(l,...p)}return l}function Oo(n){return n._firestoreClient||bD(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function bD(n){var e,t,i;const l=n._freezeSettings(),p=(T=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new hv(n._databaseId,T,n._persistenceKey,(H=l).host,H.ssl,H.experimentalForceLongPolling,H.experimentalAutoDetectLongPolling,mD(H.experimentalLongPollingOptions),H.useFetchStreams));var T,H;n._firestoreClient=new VC(n._authCredentials,n._appCheckCredentials,n._queue,p),null!==(t=l.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=l.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.cache.kind,_offline:l.cache._offlineComponentProvider,_online:l.cache._onlineComponentProvider})}class pp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pp(As.fromBase64String(e))}catch(t){throw new St(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new pp(As.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class gp{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new St(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ws(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xv{constructor(e){this._methodName=e}}class e0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new St(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new St(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yn(this._lat,e._lat)||Yn(this._long,e._long)}}const uE=/^__.*__$/;class zb{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Ko(e,this.data,this.fieldMask,t,this.fieldTransforms):new wi(e,this.data,t,this.fieldTransforms)}}class ZC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ko(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function KC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dn()}}class dE{constructor(e,t,i,l,p,_){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=l,void 0===p&&this.ua(),this.fieldTransforms=p||[],this.fieldMask=_||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new dE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.aa({path:i,la:!1});return l.fa(e),l}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.aa({path:i,la:!1});return l.ua(),l}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Kb(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(KC(this.ca)&&uE.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class ED{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||C_(e)}ya(e,t,i,l=!1){return new dE({ca:e,methodName:t,ga:i,path:Ws.emptyPath(),la:!1,ma:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function R_(n){const e=n._freezeSettings(),t=C_(n._databaseId);return new ED(n._databaseId,!!e.ignoreUndefinedProperties,t)}function hE(n,e,t,i,l,p={}){const _=n.ya(p.merge||p.mergeFields?2:0,e,t,l);gE("Data must be an object, but it was:",_,i);const T=pE(i,_);let F,H;if(p.merge)F=new ec(_.fieldMask),H=_.fieldTransforms;else if(p.mergeFields){const te=[];for(const pe of p.mergeFields){const Ue=n0(e,pe,t);if(!_.contains(Ue))throw new St(it.INVALID_ARGUMENT,`Field '${Ue}' is specified in your field mask but missing from your input data.`);AD(te,Ue)||te.push(Ue)}F=new ec(te),H=_.fieldTransforms.filter(pe=>F.covers(pe.field))}else F=null,H=_.fieldTransforms;return new zb(new So(T),F,H)}class t0 extends Xv{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t0}}function TD(n,e,t){return new dE({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class DD extends Xv{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=TD(this,e,!0),i=this.pa.map(p=>P_(p,t)),l=new Be(i);return new An(e.path,l)}isEqual(e){return this===e}}class CD extends Xv{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=TD(this,e,!0),i=this.pa.map(p=>P_(p,t)),l=new at(i);return new An(e.path,l)}isEqual(e){return this===e}}function qb(n,e,t,i=!1){return P_(t,n.ya(i?4:3,e))}function P_(n,e){if(Zb(n=(0,fe.m9)(n)))return gE("Unsupported field value:",e,n),pE(n,e);if(n instanceof Xv)return function(t,i){if(!KC(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(i);l&&i.fieldTransforms.push(l)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const l=[];let p=0;for(const _ of t){let T=P_(_,i.wa(p));null==T&&(T={nullValue:"NULL_VALUE"}),l.push(T),p++}return{arrayValue:{values:l}}}(n,e)}return function(t,i){if(null===(t=(0,fe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return E(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=ys.fromDate(t);return{timestampValue:Sg(i.serializer,l)}}if(t instanceof ys){const l=new ys(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Sg(i.serializer,l)}}if(t instanceof e0)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof pp)return{bytesValue:jD(i.serializer,t._byteString)};if(t instanceof co){const l=i.databaseId,p=t.firestore._databaseId;if(!p.isEqual(l))throw i._a(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:tI(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${Jv(t)}`)}(n,e)}function pE(n,e){const t={};return Nh(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fu(n,(i,l)=>{const p=P_(l,e.ha(i));null!=p&&(t[i]=p)}),{mapValue:{fields:t}}}function Zb(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ys||n instanceof e0||n instanceof pp||n instanceof co||n instanceof Xv)}function gE(n,e,t){if(!Zb(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=Jv(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function n0(n,e,t){if((e=(0,fe.m9)(e))instanceof gp)return e._internalPath;if("string"==typeof e)return mE(n,e);throw Kb("Field path arguments must be of type string or ",n,!1,void 0,t)}const AS=new RegExp("[~\\*/\\[\\]]");function mE(n,e,t){if(e.search(AS)>=0)throw Kb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new gp(...e.split("."))._internalPath}catch{throw Kb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Kb(n,e,t,i,l){const p=i&&!i.isEmpty(),_=void 0!==l;let T=`Function ${e}() called with invalid data`;t&&(T+=" (via `toFirestore()`)"),T+=". ";let F="";return(p||_)&&(F+=" (found",p&&(F+=` in field ${i}`),_&&(F+=` in document ${l}`),F+=")"),new St(it.INVALID_ARGUMENT,T+n+F)}function AD(n,e){return n.some(t=>t.isEqual(e))}class _E{constructor(e,t,i,l,p){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=l,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new co(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new QC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(r0("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class QC extends _E{data(){return super.data()}}function r0(n,e){return"string"==typeof e?mE(n,e):e instanceof gp?e._internalPath:e._delegate._internalPath}class vE{}class s0 extends vE{}function ND(n,e,...t){let i=[];e instanceof vE&&i.push(e),i=i.concat(t),function(l){const p=l.filter(T=>T instanceof mp).length,_=l.filter(T=>T instanceof Yb).length;if(p>1||p>0&&_>0)throw new St(it.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const l of i)n=l._apply(n);return n}class Yb extends s0{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Yb(e,t,i)}_apply(e){const t=this._parse(e);return sS(e._query,t),new Ba(e.firestore,e.converter,np(e._query,t))}_parse(e){const t=R_(e.firestore);return function(l,p,_,T,F,H,te){let pe;if(F.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new St(it.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){MD(te,H);const Ue=[];for(const lt of te)Ue.push(OD(T,l,lt));pe={arrayValue:{values:Ue}}}else pe=OD(T,l,te)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||MD(te,H),pe=qb(_,"where",te,"in"===H||"not-in"===H);return kr.create(F,H,pe)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function JC(n,e,t){const i=e,l=r0("where",n);return Yb._create(l,i,t)}class mp extends vE{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new mp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:oi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,l){let p=i;const _=l.getFlattenedFilters();for(const T of _)sS(p,T),p=np(p,T)}(e._query,t),new Ba(e.firestore,e.converter,np(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class bE extends s0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new bE(e,t)}_apply(e){const t=function(i,l,p){if(null!==i.startAt)throw new St(it.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new St(it.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const _=new Bh(l,p);return function(T,F){if(null===e_(T)){const H=Ns(T);null!==H&&oS(0,H,F.field)}}(i,_),_}(e._query,this._field,this._direction);return new Ba(e.firestore,e.converter,function(i,l){const p=i.explicitOrderBy.concat([l]);return new Sd(i.path,i.collectionGroup,p,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function Qb(n,e="asc"){const t=e,i=r0("orderBy",n);return bE._create(i,t)}class Jb extends s0{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Jb(e,t,i)}_apply(e){return new Ba(e.firestore,e.converter,n_(e._query,this._limit,this._limitType))}}function tS(n){return function Gb(n,e){if(e<=0)throw new St(it.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}("limit",n),Jb._create("limit",n,"F")}class o0 extends s0{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new o0(e,t,i)}_apply(e){const t=function iS(n,e,t,i){if(t[0]=(0,fe.m9)(t[0]),t[0]instanceof _E)return function(l,p,_,T,F){if(!T)throw new St(it.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${_}().`);const H=[];for(const te of jh(l))if(te.field.isKeyField())H.push(Fh(p,T.key));else{const pe=T.data.field(te.field);if(Mh(pe))throw new St(it.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+te.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===pe){const Ue=te.field.canonicalString();throw new St(it.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ue}' (used as the orderBy) does not exist.`)}H.push(pe)}return new Ll(H,F)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const l=R_(n.firestore);return function(p,_,T,F,H,te){const pe=p.explicitOrderBy;if(H.length>pe.length)throw new St(it.INVALID_ARGUMENT,`Too many arguments provided to ${F}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ue=[];for(let lt=0;lt<H.length;lt++){const Ft=H[lt];if(pe[lt].field.isKeyField()){if("string"!=typeof Ft)throw new St(it.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${F}(), but got a ${typeof Ft}`);if(!t_(p)&&-1!==Ft.indexOf("/"))throw new St(it.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${F}() must be a plain document ID, but '${Ft}' contains a slash.`);const rn=p.path.child(Pr.fromString(Ft));if(!Qt.isDocumentKey(rn))throw new St(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${F}() must result in a valid document path, but '${rn}' is not because it contains an odd number of segments.`);const on=new Qt(rn);Ue.push(Fh(_,on))}else{const rn=qb(T,F,Ft);Ue.push(rn)}}return new Ll(Ue,te)}(n._query,n.firestore._databaseId,l,e,t,i)}}(e,this.type,this._docOrFields,this._inclusive);return new Ba(e.firestore,e.converter,(l=t,new Sd((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,l,i.endAt)));var i,l}}function rS(...n){return o0._create("startAfter",n,!1)}function OD(n,e,t){if("string"==typeof(t=(0,fe.m9)(t))){if(""===t)throw new St(it.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!t_(e)&&-1!==t.indexOf("/"))throw new St(it.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Pr.fromString(t));if(!Qt.isDocumentKey(i))throw new St(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Fh(n,new Qt(i))}if(t instanceof co)return Fh(n,t._key);throw new St(it.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jv(t)}.`)}function MD(n,e){if(!Array.isArray(n)||0===n.length)throw new St(it.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sS(n,e){if(e.isInequality()){const i=Ns(n),l=e.field;if(null!==i&&!i.isEqual(l))throw new St(it.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${l.toString()}'`);const p=e_(n);null!==p&&oS(0,l,p)}const t=function(i,l){for(const p of i)for(const _ of p.getFlattenedFilters())if(l.indexOf(_.op)>=0)return _.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new St(it.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function oS(n,e,t){if(!t.isEqual(e))throw new St(it.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class OS{convertValue(e,t="none"){switch(mu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw dn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return fu(e,(l,p)=>{i[l]=this.convertValue(p,t)}),i}convertGeoPoint(e){return new e0(vs(e.latitude),vs(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=xh(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Qf(e));default:return null}}convertTimestamp(e){const t=al(e);return new ys(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Pr.fromString(e);bn(p_(i));const l=new Fl(i.get(1),i.get(3)),p=new Qt(i.popFirst(5));return l.isEqual(t)||so(`Document ${p} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),p}}function xD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Hg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class a0 extends _E{constructor(e,t,i,l,p,_){super(e,t,i,l,_),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new r(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(r0("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class r extends a0{data(e={}){return super.data(e)}}class s{constructor(e,t,i,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new Hg(l.hasPendingWrites,l.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new r(this._firestore,this._userDataWriter,i.key,i,new Hg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new St(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,l){if(i._snapshot.oldDocs.isEmpty()){let p=0;return i._snapshot.docChanges.map(_=>({type:"added",doc:new r(i._firestore,i._userDataWriter,_.doc.key,_.doc,new Hg(i._snapshot.mutatedKeys.has(_.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:p++}))}{let p=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(_=>l||3!==_.type).map(_=>{const T=new r(i._firestore,i._userDataWriter,_.doc.key,_.doc,new Hg(i._snapshot.mutatedKeys.has(_.doc.key),i._snapshot.fromCache),i.query.converter);let F=-1,H=-1;return 0!==_.type&&(F=p.indexOf(_.doc.key),p=p.delete(_.doc.key)),1!==_.type&&(p=p.add(_.doc),H=p.indexOf(_.doc.key)),{type:a(_.type),doc:T,oldIndex:F,newIndex:H}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function a(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dn()}}function g(n){n=ai(n,co);const e=ai(n.firestore,Ms);return function Vb(n,e,t={}){const i=new oo;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(l,p,_,T,F){const H=new Pb({next:pe=>{p.enqueueAndForget(()=>Zv(l,te));const Ue=pe.docs.has(_);!Ue&&pe.fromCache?F.reject(new St(it.UNAVAILABLE,"Failed to get document because the client is offline.")):Ue&&pe.fromCache&&T&&"server"===T.source?F.reject(new St(it.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):F.resolve(pe)},error:pe=>F.reject(pe)}),te=new zT(tp(_.path),H,{includeMetadataChanges:!0,Ku:!0});return FI(l,te)}(yield Bg(n),n.asyncQueue,e,t,i)})),i.promise}(Oo(e),n._key).then(t=>function bt(n,e,t){const i=t.docs.get(e._key),l=new y(n);return new a0(n,l,e._key,i,new Hg(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class y extends OS{constructor(e){super(),this.firestore=e}convertBytes(e){return new pp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new co(this.firestore,null,t)}}function P(n){n=ai(n,Ba);const e=ai(n.firestore,Ms),t=Oo(e),i=new y(e);return function yE(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new St(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function pD(n,e,t={}){const i=new oo;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(l,p,_,T,F){const H=new Pb({next:pe=>{p.enqueueAndForget(()=>Zv(l,te)),pe.fromCache&&"server"===T.source?F.reject(new St(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):F.resolve(pe)},error:pe=>F.reject(pe)}),te=new zT(_,H,{includeMetadataChanges:!0,Ku:!0});return FI(l,te)}(yield Bg(n),n.asyncQueue,e,t,i)})),i.promise}(t,n._query).then(l=>new s(e,i,n,l))}function me(n,e,t){n=ai(n,co);const i=ai(n.firestore,Ms),l=xD(n.converter,e,t);return En(i,[hE(R_(i),"setDoc",n._key,l,null!==n.converter,t).toMutation(n._key,wn.none())])}function Pe(n,e,t,...i){n=ai(n,co);const l=ai(n.firestore,Ms),p=R_(l);let _;return _="string"==typeof(e=(0,fe.m9)(e))||e instanceof gp?function fE(n,e,t,i,l,p){const _=n.ya(1,e,t),T=[n0(e,i,t)],F=[l];if(p.length%2!=0)throw new St(it.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ue=0;Ue<p.length;Ue+=2)T.push(n0(e,p[Ue])),F.push(p[Ue+1]);const H=[],te=So.empty();for(let Ue=T.length-1;Ue>=0;--Ue)if(!AD(H,T[Ue])){const lt=T[Ue];let Ft=F[Ue];Ft=(0,fe.m9)(Ft);const rn=_.da(lt);if(Ft instanceof t0)H.push(lt);else{const on=P_(Ft,rn);null!=on&&(H.push(lt),te.set(lt,on))}}const pe=new ec(H);return new ZC(te,pe,_.fieldTransforms)}(p,"updateDoc",n._key,e,t,i):function SD(n,e,t,i){const l=n.ya(1,e,t);gE("Data must be an object, but it was:",l,i);const p=[],_=So.empty();fu(i,(F,H)=>{const te=mE(e,F,t);H=(0,fe.m9)(H);const pe=l.da(te);if(H instanceof t0)p.push(te);else{const Ue=P_(H,pe);null!=Ue&&(p.push(te),_.set(te,Ue))}});const T=new ec(p);return new ZC(_,T,l.fieldTransforms)}(p,"updateDoc",n._key,e),En(l,[_.toMutation(n._key,wn.exists(!0))])}function Le(n){return En(ai(n.firestore,Ms),[new On(n._key,wn.none())])}function pt(n,e){const t=ai(n.firestore,Ms),i=cE(n),l=xD(n.converter,e);return En(t,[hE(R_(n.firestore),"addDoc",i._key,l,null!==n.converter,{}).toMutation(i._key,wn.exists(!1))]).then(()=>i)}function En(n,e){return function(t,i){const l=new oo;return t.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function QT(n,e,t){return Tb.apply(this,arguments)}(yield function Bb(n){return Qv(n).then(e=>e.syncEngine)}(t),i,l)})),l.promise}(Oo(n),e)}function eA(...n){return new DD("arrayUnion",n)}function tA(...n){return new CD("arrayRemove",n)}!function(n,e=!0){wd=Te.Jn,(0,Te.Xd)(new ae.wA("firestore",(t,{instanceIdentifier:i,options:l})=>{const p=t.getProvider("app").getImmediate(),_=new Ms(new Qy(t.getProvider("auth-internal")),new y1(t.getProvider("app-check-internal")),function(T,F){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new St(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(T.options.projectId,F)}(p,i),p);return l=Object.assign({useFetchStreams:e},l),_._setSettings(l),_},"PUBLIC").setMultipleInstances(!0)),(0,Te.KN)(mg,"3.13.0",n),(0,Te.KN)(mg,"3.13.0","esm2017")}();class kD{constructor(e){return e}}const LS="firestore",cS=new ne.OlP("angularfire2.firestore-instances");function iA(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new kD(i)}}const sA={provide:class nA{constructor(){return(0,b.vb)(LS)}},deps:[[new ne.FiY,cS]]},oA={provide:kD,useFactory:function rA(n,e){const t=(0,b.JM)(LS,n,e);return t&&new kD(t)},deps:[[new ne.FiY,cS],u.Ot]};let aA=(()=>{class n{constructor(){(0,be.KN)("angularfire",b.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ne.oAB({type:n}),n.\u0275inj=ne.cJS({providers:[oA,sA]}),n})();function cA(n,...e){return{ngModule:aA,providers:[{provide:cS,useFactory:iA(n),multi:!0,deps:[ne.R0b,ne.zs3,b.HU,u.z6,[new ne.FiY,Bu],[new ne.FiY,su],...e]}]}}const lA=(0,b.u3)(pt,!0),uA=(0,b.u3)(tA,!0),dA=(0,b.u3)(eA,!0),hA=(0,b.u3)(jb,!0),fA=(0,b.u3)(Le,!0),pA=(0,b.u3)(cE,!0),gA=(0,b.u3)(g,!0),mA=(0,b.u3)(P,!0),_A=(0,b.u3)(ES,!0),yA=(0,b.u3)(tS,!0),vA=(0,b.u3)(Qb,!0),bA=(0,b.u3)(ND,!0),wA=(0,b.u3)(me,!0),IA=(0,b.u3)(rS,!0),EA=(0,b.u3)(Pe,!0),TA=(0,b.u3)(JC,!0)},559:(Bt,Ve,K)=>{K.d(Ve,{q4:()=>Mu,HU:()=>Xl,vb:()=>hd,JM:()=>jd,u3:()=>tu});var b=K(9468),ne=K(4097),u=K(5861),be=K(7592),ue=K(229),fe=K(6820),Te=K(7879);const He=(O,L)=>L.some(ee=>O instanceof ee);let Oe,ae;const Se=new WeakMap,xe=new WeakMap,qe=new WeakMap,It=new WeakMap,Pt=new WeakMap;let At={get(O,L,ee){if(O instanceof IDBTransaction){if("done"===L)return xe.get(O);if("objectStoreNames"===L)return O.objectStoreNames||qe.get(O);if("store"===L)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return yt(O[L])},set:(O,L,ee)=>(O[L]=ee,!0),has:(O,L)=>O instanceof IDBTransaction&&("done"===L||"store"===L)||L in O};function vt(O){return"function"==typeof O?function ot(O){return O!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Me(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(O)?function(...L){return O.apply(je(this),L),yt(Se.get(this))}:function(...L){return yt(O.apply(je(this),L))}:function(L,...ee){const ge=O.call(je(this),L,...ee);return qe.set(ge,L.sort?L.sort():[L]),yt(ge)}}(O):(O instanceof IDBTransaction&&function Dn(O){if(xe.has(O))return;const L=new Promise((ee,ge)=>{const Re=()=>{O.removeEventListener("complete",Fe),O.removeEventListener("error",st),O.removeEventListener("abort",st)},Fe=()=>{ee(),Re()},st=()=>{ge(O.error||new DOMException("AbortError","AbortError")),Re()};O.addEventListener("complete",Fe),O.addEventListener("error",st),O.addEventListener("abort",st)});xe.set(O,L)}(O),He(O,function de(){return Oe||(Oe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(O,At):O)}function yt(O){if(O instanceof IDBRequest)return function Ot(O){const L=new Promise((ee,ge)=>{const Re=()=>{O.removeEventListener("success",Fe),O.removeEventListener("error",st)},Fe=()=>{ee(yt(O.result)),Re()},st=()=>{ge(O.error),Re()};O.addEventListener("success",Fe),O.addEventListener("error",st)});return L.then(ee=>{ee instanceof IDBCursor&&Se.set(ee,O)}).catch(()=>{}),Pt.set(L,O),L}(O);if(It.has(O))return It.get(O);const L=vt(O);return L!==O&&(It.set(O,L),Pt.set(L,O)),L}const je=O=>Pt.get(O),_t=["get","getKey","getAll","getAllKeys","count"],Pn=["put","add","delete","clear"],dt=new Map;function pn(O,L){if(!(O instanceof IDBDatabase)||L in O||"string"!=typeof L)return;if(dt.get(L))return dt.get(L);const ee=L.replace(/FromIndex$/,""),ge=L!==ee,Re=Pn.includes(ee);if(!(ee in(ge?IDBIndex:IDBObjectStore).prototype)||!Re&&!_t.includes(ee))return;const Fe=function(){var st=(0,u.Z)(function*(Ht,...Lt){const un=this.transaction(Ht,Re?"readwrite":"readonly");let $n=un.store;return ge&&($n=$n.index(Lt.shift())),(yield Promise.all([$n[ee](...Lt),Re&&un.done]))[0]});return function(Lt){return st.apply(this,arguments)}}();return dt.set(L,Fe),Fe}!function ft(O){At=O(At)}(O=>({...O,get:(L,ee,ge)=>pn(L,ee)||O.get(L,ee,ge),has:(L,ee)=>!!pn(L,ee)||O.has(L,ee)}));const Cn="@firebase/installations",Vn="0.6.4",sr=1e4,hr=`w:${Vn}`,ke="FIS_v2",$e="https://firebaseinstallations.googleapis.com/v1",et=36e5,kt=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Gt(O){return O instanceof ue.ZR&&O.code.includes("request-failed")}function an({projectId:O}){return`${$e}/projects/${O}/installations`}function mn(O){return{token:O.token,requestStatus:2,expiresIn:Ee(O.expiresIn),creationTime:Date.now()}}function _n(O,L){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,u.Z)(function*(O,L){const ge=(yield L.json()).error;return kt.create("request-failed",{requestName:O,serverCode:ge.code,serverMessage:ge.message,serverStatus:ge.status})})).apply(this,arguments)}function jn({apiKey:O}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O})}function gr(O){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,u.Z)(function*(O){const L=yield O();return L.status>=500&&L.status<600?O():L})).apply(this,arguments)}function Ee(O){return Number(O.replace("s","000"))}function gt(){return(gt=(0,u.Z)(function*({appConfig:O,heartbeatServiceProvider:L},{fid:ee}){const ge=an(O),Re=jn(O),Fe=L.getImmediate({optional:!0});if(Fe){const un=yield Fe.getHeartbeatsHeader();un&&Re.append("x-firebase-client",un)}const Ht={method:"POST",headers:Re,body:JSON.stringify({fid:ee,authVersion:ke,appId:O.appId,sdkVersion:hr})},Lt=yield gr(()=>fetch(ge,Ht));if(Lt.ok){const un=yield Lt.json();return{fid:un.fid||ee,registrationStatus:2,refreshToken:un.refreshToken,authToken:mn(un.authToken)}}throw yield _n("Create Installation",Lt)})).apply(this,arguments)}function Rt(O){return new Promise(L=>{setTimeout(L,O)})}const hn=/^[cdef][\w-]{21}$/,Tn="";function Kt(){try{const O=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(O),O[0]=112+O[0]%16;const ee=function cn(O){return function mr(O){return btoa(String.fromCharCode(...O)).replace(/\+/g,"-").replace(/\//g,"_")}(O).substr(0,22)}(O);return hn.test(ee)?ee:Tn}catch{return Tn}}function fr(O){return`${O.appName}!${O.appId}`}const Jt=new Map;function Ir(O,L){const ee=fr(O);cr(ee,L),function Wn(O,L){const ee=function Bn(){return!or&&"BroadcastChannel"in self&&(or=new BroadcastChannel("[Firebase] FID Change"),or.onmessage=O=>{cr(O.data.key,O.data.fid)}),or}();ee&&ee.postMessage({key:O,fid:L}),function ti(){0===Jt.size&&or&&(or.close(),or=null)}()}(ee,L)}function cr(O,L){const ee=Jt.get(O);if(ee)for(const ge of ee)ge(L)}let or=null;const qt="firebase-installations-database",Qi=1,zr="firebase-installations-store";let Gr=null;function rt(){return Gr||(Gr=function we(O,L,{blocked:ee,upgrade:ge,blocking:Re,terminated:Fe}={}){const st=indexedDB.open(O,L),Ht=yt(st);return ge&&st.addEventListener("upgradeneeded",Lt=>{ge(yt(st.result),Lt.oldVersion,Lt.newVersion,yt(st.transaction))}),ee&&st.addEventListener("blocked",()=>ee()),Ht.then(Lt=>{Fe&&Lt.addEventListener("close",()=>Fe()),Re&&Lt.addEventListener("versionchange",()=>Re())}).catch(()=>{}),Ht}(qt,Qi,{upgrade:(O,L)=>{0===L&&O.createObjectStore(zr)}})),Gr}function Ce(O,L){return Je.apply(this,arguments)}function Je(){return(Je=(0,u.Z)(function*(O,L){const ee=fr(O),Re=(yield rt()).transaction(zr,"readwrite"),Fe=Re.objectStore(zr),st=yield Fe.get(ee);return yield Fe.put(L,ee),yield Re.done,(!st||st.fid!==L.fid)&&Ir(O,L.fid),L})).apply(this,arguments)}function Et(O){return $t.apply(this,arguments)}function $t(){return($t=(0,u.Z)(function*(O){const L=fr(O),ge=(yield rt()).transaction(zr,"readwrite");yield ge.objectStore(zr).delete(L),yield ge.done})).apply(this,arguments)}function Wt(O,L){return qn.apply(this,arguments)}function qn(){return(qn=(0,u.Z)(function*(O,L){const ee=fr(O),Re=(yield rt()).transaction(zr,"readwrite"),Fe=Re.objectStore(zr),st=yield Fe.get(ee),Ht=L(st);return void 0===Ht?yield Fe.delete(ee):yield Fe.put(Ht,ee),yield Re.done,Ht&&(!st||st.fid!==Ht.fid)&&Ir(O,Ht.fid),Ht})).apply(this,arguments)}function Q(O){return B.apply(this,arguments)}function B(){return B=(0,u.Z)(function*(O){let L;const ee=yield Wt(O.appConfig,ge=>{const Re=function G(O){return ln(O||{fid:Kt(),registrationStatus:0})}(ge),Fe=function q(O,L){if(0===L.registrationStatus){if(!navigator.onLine)return{installationEntry:L,registrationPromise:Promise.reject(kt.create("app-offline"))};const ee={fid:L.fid,registrationStatus:1,registrationTime:Date.now()},ge=function $(O,L){return Ie.apply(this,arguments)}(O,ee);return{installationEntry:ee,registrationPromise:ge}}return 1===L.registrationStatus?{installationEntry:L,registrationPromise:Ke(O)}:{installationEntry:L}}(O,Re);return L=Fe.registrationPromise,Fe.installationEntry});return ee.fid===Tn?{installationEntry:yield L}:{installationEntry:ee,registrationPromise:L}}),B.apply(this,arguments)}function Ie(){return Ie=(0,u.Z)(function*(O,L){try{const ee=yield function ut(O,L){return gt.apply(this,arguments)}(O,L);return Ce(O.appConfig,ee)}catch(ee){throw Gt(ee)&&409===ee.customData.serverCode?yield Et(O.appConfig):yield Ce(O.appConfig,{fid:L.fid,registrationStatus:0}),ee}}),Ie.apply(this,arguments)}function Ke(O){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,u.Z)(function*(O){let L=yield sn(O.appConfig);for(;1===L.registrationStatus;)yield Rt(100),L=yield sn(O.appConfig);if(0===L.registrationStatus){const{installationEntry:ee,registrationPromise:ge}=yield Q(O);return ge||ee}return L})).apply(this,arguments)}function sn(O){return Wt(O,L=>{if(!L)throw kt.create("installation-not-found");return ln(L)})}function ln(O){return function kn(O){return 1===O.registrationStatus&&O.registrationTime+sr<Date.now()}(O)?{fid:O.fid,registrationStatus:0}:O}function Fn(){return(Fn=(0,u.Z)(function*({appConfig:O,heartbeatServiceProvider:L},ee){const ge=function Wr(O,{fid:L}){return`${an(O)}/${L}/authTokens:generate`}(O,ee),Re=function wr(O,{refreshToken:L}){const ee=jn(O);return ee.append("Authorization",function Ze(O){return`${ke} ${O}`}(L)),ee}(O,ee),Fe=L.getImmediate({optional:!0});if(Fe){const un=yield Fe.getHeartbeatsHeader();un&&Re.append("x-firebase-client",un)}const Ht={method:"POST",headers:Re,body:JSON.stringify({installation:{sdkVersion:hr,appId:O.appId}})},Lt=yield gr(()=>fetch(ge,Ht));if(Lt.ok)return mn(yield Lt.json());throw yield _n("Generate Auth Token",Lt)})).apply(this,arguments)}function Kn(O){return xs.apply(this,arguments)}function xs(){return xs=(0,u.Z)(function*(O,L=!1){let ee;const ge=yield Wt(O.appConfig,Fe=>{if(!Ii(Fe))throw kt.create("not-registered");const st=Fe.authToken;if(!L&&function Rs(O){return 2===O.requestStatus&&!function os(O){const L=Date.now();return L<O.creationTime||O.creationTime+O.expiresIn<L+et}(O)}(st))return Fe;if(1===st.requestStatus)return ee=function Jo(O,L){return ni.apply(this,arguments)}(O,L),Fe;{if(!navigator.onLine)throw kt.create("app-offline");const Ht=function as(O){const L={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},O),{authToken:L})}(Fe);return ee=function ma(O,L){return lo.apply(this,arguments)}(O,Ht),Ht}});return ee?yield ee:ge.authToken}),xs.apply(this,arguments)}function ni(){return(ni=(0,u.Z)(function*(O,L){let ee=yield ga(O.appConfig);for(;1===ee.authToken.requestStatus;)yield Rt(100),ee=yield ga(O.appConfig);const ge=ee.authToken;return 0===ge.requestStatus?Kn(O,L):ge})).apply(this,arguments)}function ga(O){return Wt(O,L=>{if(!Ii(L))throw kt.create("not-registered");return function Jn(O){return 1===O.requestStatus&&O.requestTime+sr<Date.now()}(L.authToken)?Object.assign(Object.assign({},L),{authToken:{requestStatus:0}}):L})}function lo(){return lo=(0,u.Z)(function*(O,L){try{const ee=yield function Zt(O,L){return Fn.apply(this,arguments)}(O,L),ge=Object.assign(Object.assign({},L),{authToken:ee});return yield Ce(O.appConfig,ge),ee}catch(ee){if(!Gt(ee)||401!==ee.customData.serverCode&&404!==ee.customData.serverCode){const ge=Object.assign(Object.assign({},L),{authToken:{requestStatus:0}});yield Ce(O.appConfig,ge)}else yield Et(O.appConfig);throw ee}}),lo.apply(this,arguments)}function Ii(O){return void 0!==O&&2===O.registrationStatus}function ea(){return(ea=(0,u.Z)(function*(O){const L=O,{installationEntry:ee,registrationPromise:ge}=yield Q(L);return ge?ge.catch(console.error):Kn(L).catch(console.error),ee.fid})).apply(this,arguments)}function Va(){return Va=(0,u.Z)(function*(O,L=!1){const ee=O;return yield function fs(O){return Ps.apply(this,arguments)}(ee),(yield Kn(ee,L)).token}),Va.apply(this,arguments)}function Ps(){return(Ps=(0,u.Z)(function*(O){const{registrationPromise:L}=yield Q(O);L&&(yield L)})).apply(this,arguments)}function ks(O){return kt.create("missing-app-config-values",{valueName:O})}const ho="installations",va=O=>{const L=O.getProvider("app").getImmediate(),ee=function ya(O){if(!O||!O.options)throw ks("App Configuration");if(!O.name)throw ks("App Name");const L=["projectId","apiKey","appId"];for(const ee of L)if(!O.options[ee])throw ks(ee);return{appName:O.name,projectId:O.options.projectId,apiKey:O.options.apiKey,appId:O.options.appId}}(L);return{app:L,appConfig:ee,heartbeatServiceProvider:(0,be.qX)(L,"heartbeat"),_delete:()=>Promise.resolve()}},jr=O=>{const L=O.getProvider("app").getImmediate(),ee=(0,be.qX)(L,ho).getImmediate();return{getId:()=>function Xo(O){return ea.apply(this,arguments)}(ee),getToken:Re=>function ta(O){return Va.apply(this,arguments)}(ee,Re)}};(function xo(){(0,be.Xd)(new fe.wA(ho,va,"PUBLIC")),(0,be.Xd)(new fe.wA("installations-internal",jr,"PRIVATE"))})(),(0,be.KN)(Cn,Vn),(0,be.KN)(Cn,Vn,"esm2017");const ws="@firebase/remote-config",Kr=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ti{constructor(L,ee,ge,Re){this.client=L,this.storage=ee,this.storageCache=ge,this.logger=Re}isCachedDataFresh(L,ee){if(!ee)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ge=Date.now()-ee,Re=ge<=L;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ge}. Cache max age millis (minimumFetchIntervalMillis setting): ${L}. Is cache hit: ${Re}.`),Re}fetch(L){var ee=this;return(0,u.Z)(function*(){const[ge,Re]=yield Promise.all([ee.storage.getLastSuccessfulFetchTimestampMillis(),ee.storage.getLastSuccessfulFetchResponse()]);if(Re&&ee.isCachedDataFresh(L.cacheMaxAgeMillis,ge))return Re;L.eTag=Re&&Re.eTag;const Fe=yield ee.client.fetch(L),st=[ee.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Fe.status&&st.push(ee.storage.setLastSuccessfulFetchResponse(Fe)),yield Promise.all(st),Fe})()}}function sc(O=navigator){return O.languages&&O.languages[0]||O.language}class Di{constructor(L,ee,ge,Re,Fe,st){this.firebaseInstallations=L,this.sdkVersion=ee,this.namespace=ge,this.projectId=Re,this.apiKey=Fe,this.appId=st}fetch(L){var ee=this;return(0,u.Z)(function*(){const[ge,Re]=yield Promise.all([ee.firebaseInstallations.getId(),ee.firebaseInstallations.getToken()]),st=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ee.projectId}/namespaces/${ee.namespace}:fetch?key=${ee.apiKey}`,Ht={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":L.eTag||"*"},Lt={sdk_version:ee.sdkVersion,app_instance_id:ge,app_instance_id_token:Re,app_id:ee.appId,language_code:sc()},un={method:"POST",headers:Ht,body:JSON.stringify(Lt)},$n=fetch(st,un),Zn=new Promise((Oc,Sl)=>{L.signal.addEventListener(()=>{const Wg=new Error("The operation was aborted.");Wg.name="AbortError",Sl(Wg)})});let Gs;try{yield Promise.race([$n,Zn]),Gs=yield $n}catch(Oc){let Sl="fetch-client-network";throw"AbortError"===Oc?.name&&(Sl="fetch-timeout"),Kr.create(Sl,{originalErrorMessage:Oc?.message})}let js=Gs.status;const Fu=Gs.headers.get("ETag")||void 0;let fd,zd;if(200===Gs.status){let Oc;try{Oc=yield Gs.json()}catch(Sl){throw Kr.create("fetch-client-parse",{originalErrorMessage:Sl?.message})}fd=Oc.entries,zd=Oc.state}if("INSTANCE_STATE_UNSPECIFIED"===zd?js=500:"NO_CHANGE"===zd?js=304:("NO_TEMPLATE"===zd||"EMPTY_CONFIG"===zd)&&(fd={}),304!==js&&200!==js)throw Kr.create("fetch-status",{httpStatus:js});return{status:js,eTag:Fu,config:fd}})()}}class Mn{constructor(L,ee){this.client=L,this.storage=ee}fetch(L){var ee=this;return(0,u.Z)(function*(){const ge=(yield ee.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ee.attemptFetch(L,ge)})()}attemptFetch(L,{throttleEndTimeMillis:ee,backoffCount:ge}){var Re=this;return(0,u.Z)(function*(){yield function Tr(O,L){return new Promise((ee,ge)=>{const Re=Math.max(L-Date.now(),0),Fe=setTimeout(ee,Re);O.addEventListener(()=>{clearTimeout(Fe),ge(Kr.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(L.signal,ee);try{const Fe=yield Re.client.fetch(L);return yield Re.storage.deleteThrottleMetadata(),Fe}catch(Fe){if(!function Vt(O){if(!(O instanceof ue.ZR&&O.customData))return!1;const L=Number(O.customData.httpStatus);return 429===L||500===L||503===L||504===L}(Fe))throw Fe;const st={throttleEndTimeMillis:Date.now()+(0,ue.$s)(ge),backoffCount:ge+1};return yield Re.storage.setThrottleMetadata(st),Re.attemptFetch(L,st)}})()}}class po{constructor(L,ee,ge,Re,Fe){this.app=L,this._client=ee,this._storageCache=ge,this._storage=Re,this._logger=Fe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Yr(O,L){const ee=O.target.error||void 0;return Kr.create(L,{originalErrorMessage:ee&&ee?.message})}const nr="app_namespace_store";class Ln{constructor(L,ee,ge,Re=function Ji(){return new Promise((O,L)=>{try{const ee=indexedDB.open("firebase_remote_config",1);ee.onerror=ge=>{L(Yr(ge,"storage-open"))},ee.onsuccess=ge=>{O(ge.target.result)},ee.onupgradeneeded=ge=>{0===ge.oldVersion&&ge.target.result.createObjectStore(nr,{keyPath:"compositeKey"})}}catch(ee){L(Kr.create("storage-open",{originalErrorMessage:ee?.message}))}})}()){this.appId=L,this.appName=ee,this.namespace=ge,this.openDbPromise=Re}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(L){return this.set("last_fetch_status",L)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(L){return this.set("last_successful_fetch_timestamp_millis",L)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(L){return this.set("last_successful_fetch_response",L)}getActiveConfig(){return this.get("active_config")}setActiveConfig(L){return this.set("active_config",L)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(L){return this.set("active_config_etag",L)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(L){return this.set("throttle_metadata",L)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(L){var ee=this;return(0,u.Z)(function*(){const ge=yield ee.openDbPromise;return new Promise((Re,Fe)=>{const Ht=ge.transaction([nr],"readonly").objectStore(nr),Lt=ee.createCompositeKey(L);try{const un=Ht.get(Lt);un.onerror=$n=>{Fe(Yr($n,"storage-get"))},un.onsuccess=$n=>{const Zn=$n.target.result;Re(Zn?Zn.value:void 0)}}catch(un){Fe(Kr.create("storage-get",{originalErrorMessage:un?.message}))}})})()}set(L,ee){var ge=this;return(0,u.Z)(function*(){const Re=yield ge.openDbPromise;return new Promise((Fe,st)=>{const Lt=Re.transaction([nr],"readwrite").objectStore(nr),un=ge.createCompositeKey(L);try{const $n=Lt.put({compositeKey:un,value:ee});$n.onerror=Zn=>{st(Yr(Zn,"storage-set"))},$n.onsuccess=()=>{Fe()}}catch($n){st(Kr.create("storage-set",{originalErrorMessage:$n?.message}))}})})()}delete(L){var ee=this;return(0,u.Z)(function*(){const ge=yield ee.openDbPromise;return new Promise((Re,Fe)=>{const Ht=ge.transaction([nr],"readwrite").objectStore(nr),Lt=ee.createCompositeKey(L);try{const un=Ht.delete(Lt);un.onerror=$n=>{Fe(Yr($n,"storage-delete"))},un.onsuccess=()=>{Re()}}catch(un){Fe(Kr.create("storage-delete",{originalErrorMessage:un?.message}))}})})()}createCompositeKey(L){return[this.appId,this.appName,this.namespace,L].join()}}class ko{constructor(L){this.storage=L}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var L=this;return(0,u.Z)(function*(){const ee=L.storage.getLastFetchStatus(),ge=L.storage.getLastSuccessfulFetchTimestampMillis(),Re=L.storage.getActiveConfig(),Fe=yield ee;Fe&&(L.lastFetchStatus=Fe);const st=yield ge;st&&(L.lastSuccessfulFetchTimestampMillis=st);const Ht=yield Re;Ht&&(L.activeConfig=Ht)})()}setLastFetchStatus(L){return this.lastFetchStatus=L,this.storage.setLastFetchStatus(L)}setLastSuccessfulFetchTimestampMillis(L){return this.lastSuccessfulFetchTimestampMillis=L,this.storage.setLastSuccessfulFetchTimestampMillis(L)}setActiveConfig(L){return this.activeConfig=L,this.storage.setActiveConfig(L)}}function Xi(){return Us.apply(this,arguments)}function Us(){return(Us=(0,u.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}!function go(){(0,be.Xd)(new fe.wA("remote-config",function O(L,{instanceIdentifier:ee}){const ge=L.getProvider("app").getImmediate(),Re=L.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Kr.create("registration-window");if(!(0,ue.hl)())throw Kr.create("indexed-db-unavailable");const{projectId:Fe,apiKey:st,appId:Ht}=ge.options;if(!Fe)throw Kr.create("registration-project-id");if(!st)throw Kr.create("registration-api-key");if(!Ht)throw Kr.create("registration-app-id");const Lt=new Ln(Ht,ge.name,ee=ee||"firebase"),un=new ko(Lt),$n=new Te.Yd(ws);$n.logLevel=Te.in.ERROR;const Zn=new Di(Re,be.Jn,ee,Fe,st,Ht),Gs=new Mn(Zn,Lt),js=new Ti(Gs,Lt,un,$n),Fu=new po(ge,js,un,Lt,$n);return function sa(O){const L=(0,ue.m9)(O);L._initializePromise||(L._initializePromise=L._storageCache.loadFromStorage().then(()=>{L._isInitializationComplete=!0}))}(Fu),Fu},"PUBLIC").setMultipleInstances(!0)),(0,be.KN)(ws,"0.4.4"),(0,be.KN)(ws,"0.4.4","esm2017")}();const di=(O,L)=>L.some(ee=>O instanceof ee);let oa,oc;const mo=new WeakMap,Fo=new WeakMap,Hn=new WeakMap,bu=new WeakMap,_o=new WeakMap;let Js={get(O,L,ee){if(O instanceof IDBTransaction){if("done"===L)return Fo.get(O);if("objectStoreNames"===L)return O.objectStoreNames||Hn.get(O);if("store"===L)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return Ar(O[L])},set:(O,L,ee)=>(O[L]=ee,!0),has:(O,L)=>O instanceof IDBTransaction&&("done"===L||"store"===L)||L in O};function Si(O){return"function"==typeof O?function qi(O){return O!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Wi(){return oc||(oc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(O)?function(...L){return O.apply(hi(this),L),Ar(mo.get(this))}:function(...L){return Ar(O.apply(hi(this),L))}:function(L,...ee){const ge=O.call(hi(this),L,...ee);return Hn.set(ge,L.sort?L.sort():[L]),Ar(ge)}}(O):(O instanceof IDBTransaction&&function yi(O){if(Fo.has(O))return;const L=new Promise((ee,ge)=>{const Re=()=>{O.removeEventListener("complete",Fe),O.removeEventListener("error",st),O.removeEventListener("abort",st)},Fe=()=>{ee(),Re()},st=()=>{ge(O.error||new DOMException("AbortError","AbortError")),Re()};O.addEventListener("complete",Fe),O.addEventListener("error",st),O.addEventListener("abort",st)});Fo.set(O,L)}(O),di(O,function Qs(){return oa||(oa=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(O,Js):O)}function Ar(O){if(O instanceof IDBRequest)return function Ci(O){const L=new Promise((ee,ge)=>{const Re=()=>{O.removeEventListener("success",Fe),O.removeEventListener("error",st)},Fe=()=>{ee(Ar(O.result)),Re()},st=()=>{ge(O.error),Re()};O.addEventListener("success",Fe),O.addEventListener("error",st)});return L.then(ee=>{ee instanceof IDBCursor&&mo.set(ee,O)}).catch(()=>{}),_o.set(L,O),L}(O);if(bu.has(O))return bu.get(O);const L=Si(O);return L!==O&&(bu.set(O,L),_o.set(L,O)),L}const hi=O=>_o.get(O);function Li(O,L,{blocked:ee,upgrade:ge,blocking:Re,terminated:Fe}={}){const st=indexedDB.open(O,L),Ht=Ar(st);return ge&&st.addEventListener("upgradeneeded",Lt=>{ge(Ar(st.result),Lt.oldVersion,Lt.newVersion,Ar(st.transaction))}),ee&&st.addEventListener("blocked",()=>ee()),Ht.then(Lt=>{Fe&&Lt.addEventListener("close",()=>Fe()),Re&&Lt.addEventListener("versionchange",()=>Re())}).catch(()=>{}),Ht}function aa(O,{blocked:L}={}){const ee=indexedDB.deleteDatabase(O);return L&&ee.addEventListener("blocked",()=>L()),Ar(ee).then(()=>{})}const Bs=["get","getKey","getAll","getAllKeys","count"],Vs=["put","add","delete","clear"],Ui=new Map;function Ai(O,L){if(!(O instanceof IDBDatabase)||L in O||"string"!=typeof L)return;if(Ui.get(L))return Ui.get(L);const ee=L.replace(/FromIndex$/,""),ge=L!==ee,Re=Vs.includes(ee);if(!(ee in(ge?IDBIndex:IDBObjectStore).prototype)||!Re&&!Bs.includes(ee))return;const Fe=function(){var st=(0,u.Z)(function*(Ht,...Lt){const un=this.transaction(Ht,Re?"readwrite":"readonly");let $n=un.store;return ge&&($n=$n.index(Lt.shift())),(yield Promise.all([$n[ee](...Lt),Re&&un.done]))[0]});return function(Lt){return st.apply(this,arguments)}}();return Ui.set(L,Fe),Fe}!function wa(O){Js=O(Js)}(O=>({...O,get:(L,ee,ge)=>Ai(L,ee)||O.get(L,ee,ge),has:(L,ee)=>!!Ai(L,ee)||O.has(L,ee)}));const Xs="/firebase-messaging-sw.js",Ia="/firebase-cloud-messaging-push-scope",Hc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ga="https://fcmregistrations.googleapis.com/v1",xr="google.c.a.c_id",ca="google.c.a.c_l",hl="google.c.a.ts";var U=function(O){return O.PUSH_RECEIVED="push-received",O.NOTIFICATION_CLICKED="notification-clicked",O}(U||{});function ce(O){const L=new Uint8Array(O);return btoa(String.fromCharCode(...L)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function De(O){const ee=(O+"=".repeat((4-O.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ge=atob(ee),Re=new Uint8Array(ge.length);for(let Fe=0;Fe<ge.length;++Fe)Re[Fe]=ge.charCodeAt(Fe);return Re}const Xt="fcm_token_details_db",Un=5,Zi="fcm_token_object_Store";function Ni(){return Ni=(0,u.Z)(function*(O){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Fe=>Fe.name).includes(Xt))return null;let L=null;return(yield Li(Xt,Un,{upgrade:(ge=(0,u.Z)(function*(Re,Fe,st,Ht){var Lt;if(Fe<2||!Re.objectStoreNames.contains(Zi))return;const un=Ht.objectStore(Zi),$n=yield un.index("fcmSenderId").get(O);if(yield un.clear(),$n)if(2===Fe){const Zn=$n;if(!Zn.auth||!Zn.p256dh||!Zn.endpoint)return;L={token:Zn.fcmToken,createTime:null!==(Lt=Zn.createTime)&&void 0!==Lt?Lt:Date.now(),subscriptionOptions:{auth:Zn.auth,p256dh:Zn.p256dh,endpoint:Zn.endpoint,swScope:Zn.swScope,vapidKey:"string"==typeof Zn.vapidKey?Zn.vapidKey:ce(Zn.vapidKey)}}}else if(3===Fe){const Zn=$n;L={token:Zn.fcmToken,createTime:Zn.createTime,subscriptionOptions:{auth:ce(Zn.auth),p256dh:ce(Zn.p256dh),endpoint:Zn.endpoint,swScope:Zn.swScope,vapidKey:ce(Zn.vapidKey)}}}else if(4===Fe){const Zn=$n;L={token:Zn.fcmToken,createTime:Zn.createTime,subscriptionOptions:{auth:ce(Zn.auth),p256dh:ce(Zn.p256dh),endpoint:Zn.endpoint,swScope:Zn.swScope,vapidKey:ce(Zn.vapidKey)}}}}),function(Fe,st,Ht,Lt){return ge.apply(this,arguments)})})).close(),yield aa(Xt),yield aa("fcm_vapid_details_db"),yield aa("undefined"),function us(O){if(!O||!O.subscriptionOptions)return!1;const{subscriptionOptions:L}=O;return"number"==typeof O.createTime&&O.createTime>0&&"string"==typeof O.token&&O.token.length>0&&"string"==typeof L.auth&&L.auth.length>0&&"string"==typeof L.p256dh&&L.p256dh.length>0&&"string"==typeof L.endpoint&&L.endpoint.length>0&&"string"==typeof L.swScope&&L.swScope.length>0&&"string"==typeof L.vapidKey&&L.vapidKey.length>0}(L)?L:null;var ge}),Ni.apply(this,arguments)}const Gc="firebase-messaging-database",Lo=1,Ea="firebase-messaging-store";let jc=null;function ja(){return jc||(jc=Li(Gc,Lo,{upgrade:(O,L)=>{0===L&&O.createObjectStore(Ea)}})),jc}function gs(O){return fl.apply(this,arguments)}function fl(){return fl=(0,u.Z)(function*(O){const L=Uo(O),ge=yield(yield ja()).transaction(Ea).objectStore(Ea).get(L);if(ge)return ge;{const Re=yield function Hs(O){return Ni.apply(this,arguments)}(O.appConfig.senderId);if(Re)return yield $a(O,Re),Re}}),fl.apply(this,arguments)}function $a(O,L){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,u.Z)(function*(O,L){const ee=Uo(O),Re=(yield ja()).transaction(Ea,"readwrite");return yield Re.objectStore(Ea).put(L,ee),yield Re.done,L})).apply(this,arguments)}function Bi(){return(Bi=(0,u.Z)(function*(O){const L=Uo(O),ge=(yield ja()).transaction(Ea,"readwrite");yield ge.objectStore(Ea).delete(L),yield ge.done})).apply(this,arguments)}function Uo({appConfig:O}){return O.appId}const Vi=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function zl(O,L){return ac.apply(this,arguments)}function ac(){return(ac=(0,u.Z)(function*(O,L){const ee=yield Mi(O),ge=Hi(L),Re={method:"POST",headers:ee,body:JSON.stringify(ge)};let Fe;try{Fe=yield(yield fetch($c(O.appConfig),Re)).json()}catch(st){throw Vi.create("token-subscribe-failed",{errorInfo:st?.toString()})}if(Fe.error)throw Vi.create("token-subscribe-failed",{errorInfo:Fe.error.message});if(!Fe.token)throw Vi.create("token-subscribe-no-token");return Fe.token})).apply(this,arguments)}function Es(){return(Es=(0,u.Z)(function*(O,L){const ee=yield Mi(O),ge=Hi(L.subscriptionOptions),Re={method:"PATCH",headers:ee,body:JSON.stringify(ge)};let Fe;try{Fe=yield(yield fetch(`${$c(O.appConfig)}/${L.token}`,Re)).json()}catch(st){throw Vi.create("token-update-failed",{errorInfo:st?.toString()})}if(Fe.error)throw Vi.create("token-update-failed",{errorInfo:Fe.error.message});if(!Fe.token)throw Vi.create("token-update-no-token");return Fe.token})).apply(this,arguments)}function eo(O,L){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,u.Z)(function*(O,L){const ge={method:"DELETE",headers:yield Mi(O)};try{const Fe=yield(yield fetch(`${$c(O.appConfig)}/${L}`,ge)).json();if(Fe.error)throw Vi.create("token-unsubscribe-failed",{errorInfo:Fe.error.message})}catch(Re){throw Vi.create("token-unsubscribe-failed",{errorInfo:Re?.toString()})}})).apply(this,arguments)}function $c({projectId:O}){return`${Ga}/projects/${O}/registrations`}function Mi(O){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,u.Z)(function*({appConfig:O,installations:L}){const ee=yield L.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O.apiKey,"x-goog-firebase-installations-auth":`FIS ${ee}`})})).apply(this,arguments)}function Hi({p256dh:O,auth:L,endpoint:ee,vapidKey:ge}){const Re={web:{endpoint:ee,auth:L,p256dh:O}};return ge!==Hc&&(Re.web.applicationPubKey=ge),Re}const ds=6048e5;function cc(){return cc=(0,u.Z)(function*(O){const L=yield function Ho(O,L){return pl.apply(this,arguments)}(O.swRegistration,O.vapidKey),ee={vapidKey:O.vapidKey,swScope:O.swRegistration.scope,endpoint:L.endpoint,auth:ce(L.getKey("auth")),p256dh:ce(L.getKey("p256dh"))},ge=yield gs(O.firebaseDependencies);if(ge){if(function M(O,L){return L.vapidKey===O.vapidKey&&L.endpoint===O.endpoint&&L.auth===O.auth&&L.p256dh===O.p256dh}(ge.subscriptionOptions,ee))return Date.now()>=ge.createTime+ds?function zc(O,L){return wu.apply(this,arguments)}(O,{token:ge.token,createTime:Date.now(),subscriptionOptions:ee}):ge.token;try{yield eo(O.firebaseDependencies,ge.token)}catch(Re){console.warn(Re)}return lc(O.firebaseDependencies,ee)}return lc(O.firebaseDependencies,ee)}),cc.apply(this,arguments)}function ua(){return ua=(0,u.Z)(function*(O){const L=yield gs(O.firebaseDependencies);L&&(yield eo(O.firebaseDependencies,L.token),yield function Ta(O){return Bi.apply(this,arguments)}(O.firebaseDependencies));const ee=yield O.swRegistration.pushManager.getSubscription();return!ee||ee.unsubscribe()}),ua.apply(this,arguments)}function wu(){return wu=(0,u.Z)(function*(O,L){try{const ee=yield function kd(O,L){return Es.apply(this,arguments)}(O.firebaseDependencies,L),ge=Object.assign(Object.assign({},L),{token:ee,createTime:Date.now()});return yield $a(O.firebaseDependencies,ge),ee}catch(ee){throw yield function la(O){return ua.apply(this,arguments)}(O),ee}}),wu.apply(this,arguments)}function lc(O,L){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,u.Z)(function*(O,L){const ge={token:yield zl(O,L),createTime:Date.now(),subscriptionOptions:L};return yield $a(O,ge),ge.token})).apply(this,arguments)}function pl(){return(pl=(0,u.Z)(function*(O,L){return(yield O.pushManager.getSubscription())||O.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:De(L)})})).apply(this,arguments)}function re(O){const L={from:O.from,collapseKey:O.collapse_key,messageId:O.fcmMessageId};return function V(O,L){if(!L.notification)return;O.notification={};const ee=L.notification.title;ee&&(O.notification.title=ee);const ge=L.notification.body;ge&&(O.notification.body=ge);const Re=L.notification.image;Re&&(O.notification.image=Re);const Fe=L.notification.icon;Fe&&(O.notification.icon=Fe)}(L,O),function X(O,L){L.data&&(O.data=L.data)}(L,O),function ve(O,L){var ee,ge,Re,Fe,st;if(!(L.fcmOptions||null!==(ee=L.notification)&&void 0!==ee&&ee.click_action))return;O.fcmOptions={};const Ht=null!==(Re=null===(ge=L.fcmOptions)||void 0===ge?void 0:ge.link)&&void 0!==Re?Re:null===(Fe=L.notification)||void 0===Fe?void 0:Fe.click_action;Ht&&(O.fcmOptions.link=Ht);const Lt=null===(st=L.fcmOptions)||void 0===st?void 0:st.analytics_label;Lt&&(O.fcmOptions.analyticsLabel=Lt)}(L,O),L}function mt(O,L){const ee=[];for(let ge=0;ge<O.length;ge++)ee.push(O.charAt(ge)),ge<L.length&&ee.push(L.charAt(ge));return ee.join("")}function Dr(O){return Vi.create("missing-app-config-values",{valueName:O})}mt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),mt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Nr{constructor(L,ee,ge){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Re=function vn(O){if(!O||!O.options)throw Dr("App Configuration Object");if(!O.name)throw Dr("App Name");const L=["projectId","apiKey","appId","messagingSenderId"],{options:ee}=O;for(const ge of L)if(!ee[ge])throw Dr(ge);return{appName:O.name,projectId:ee.projectId,apiKey:ee.apiKey,appId:ee.appId,senderId:ee.messagingSenderId}}(L);this.firebaseDependencies={app:L,appConfig:Re,installations:ee,analyticsProvider:ge}}_delete(){return Promise.resolve()}}function Gn(){return(Gn=(0,u.Z)(function*(O){try{O.swRegistration=yield navigator.serviceWorker.register(Xs,{scope:Ia}),O.swRegistration.update().catch(()=>{})}catch(L){throw Vi.create("failed-service-worker-registration",{browserErrorMessage:L?.message})}})).apply(this,arguments)}function Br(){return(Br=(0,u.Z)(function*(O,L){if(!L&&!O.swRegistration&&(yield function zn(O){return Gn.apply(this,arguments)}(O)),L||!O.swRegistration){if(!(L instanceof ServiceWorkerRegistration))throw Vi.create("invalid-sw-registration");O.swRegistration=L}})).apply(this,arguments)}function es(){return(es=(0,u.Z)(function*(O,L){L?O.vapidKey=L:O.vapidKey||(O.vapidKey=Hc)})).apply(this,arguments)}function Gi(){return Gi=(0,u.Z)(function*(O,L){if(!navigator)throw Vi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Vi.create("permission-blocked");return yield function Vr(O,L){return es.apply(this,arguments)}(O,L?.vapidKey),yield function _r(O,L){return Br.apply(this,arguments)}(O,L?.serviceWorkerRegistration),function Vo(O){return cc.apply(this,arguments)}(O)}),Gi.apply(this,arguments)}function Go(){return(Go=(0,u.Z)(function*(O,L,ee){const ge=function to(O){switch(O){case U.NOTIFICATION_CLICKED:return"notification_open";case U.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(L);(yield O.firebaseDependencies.analyticsProvider.get()).logEvent(ge,{message_id:ee[xr],message_name:ee[ca],message_time:ee[hl],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function gl(){return gl=(0,u.Z)(function*(O,L){const ee=L.data;if(!ee.isFirebaseMessaging)return;O.onMessageHandler&&ee.messageType===U.PUSH_RECEIVED&&("function"==typeof O.onMessageHandler?O.onMessageHandler(re(ee)):O.onMessageHandler.next(re(ee)));const ge=ee.data;(function tt(O){return"object"==typeof O&&!!O&&xr in O})(ge)&&"1"===ge["google.c.a.e"]&&(yield function ms(O,L,ee){return Go.apply(this,arguments)}(O,ee.messageType,ge))}),gl.apply(this,arguments)}const Fd="@firebase/messaging",ml=O=>{const L=new Nr(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),O.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ee=>function jo(O,L){return gl.apply(this,arguments)}(L,ee)),L},yo=O=>{const L=O.getProvider("messaging").getImmediate();return{getToken:ge=>function ts(O,L){return Gi.apply(this,arguments)}(L,ge)}};function Wc(){return _l.apply(this,arguments)}function _l(){return(_l=(0,u.Z)(function*(){try{yield(0,ue.eu)()}catch{return!1}return typeof window<"u"&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Jr(){(0,be.Xd)(new fe.wA("messaging",ml,"PUBLIC")),(0,be.Xd)(new fe.wA("messaging-internal",yo,"PRIVATE")),(0,be.KN)(Fd,"0.12.4"),(0,be.KN)(Fd,"0.12.4","esm2017")}();const Da="analytics",Tu="firebase_id",rd="origin",Xr=6e4,vl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qa="https://www.googletagmanager.com/gtag/js",pi=new Te.Yd("@firebase/analytics"),Ds=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Qh(O){if(!O.startsWith(qa)){const L=Ds.create("invalid-gtag-resource",{gtagURL:O});return pi.warn(L.message),""}return O}function id(O){return Promise.all(O.map(L=>L.catch(ee=>ee)))}function Ca(){return(Ca=(0,u.Z)(function*(O,L,ee,ge,Re,Fe){const st=ge[Re];try{if(st)yield L[st];else{const Lt=(yield id(ee)).find(un=>un.measurementId===Re);Lt&&(yield L[Lt.appId])}}catch(Ht){pi.error(Ht)}O("config",Re,Fe)})).apply(this,arguments)}function qc(){return(qc=(0,u.Z)(function*(O,L,ee,ge,Re){try{let Fe=[];if(Re&&Re.send_to){let st=Re.send_to;Array.isArray(st)||(st=[st]);const Ht=yield id(ee);for(const Lt of st){const un=Ht.find(Zn=>Zn.measurementId===Lt),$n=un&&L[un.appId];if(!$n){Fe=[];break}Fe.push($n)}}0===Fe.length&&(Fe=Object.values(L)),yield Promise.all(Fe),O("event",ge,Re||{})}catch(Fe){pi.error(Fe)}})).apply(this,arguments)}const yr=30,Ki=new class Xh{constructor(L={},ee=1e3){this.throttleMetadata=L,this.intervalMillis=ee}getThrottleMetadata(L){return this.throttleMetadata[L]}setThrottleMetadata(L,ee){this.throttleMetadata[L]=ee}deleteThrottleMetadata(L){delete this.throttleMetadata[L]}};function Ud(O){return new Headers({Accept:"application/json","x-goog-api-key":O})}function vo(){return(vo=(0,u.Z)(function*(O){var L;const{appId:ee,apiKey:ge}=O,Re={method:"GET",headers:Ud(ge)},Fe=vl.replace("{app-id}",ee),st=yield fetch(Fe,Re);if(200!==st.status&&304!==st.status){let Ht="";try{const Lt=yield st.json();null!==(L=Lt.error)&&void 0!==L&&L.message&&(Ht=Lt.error.message)}catch{}throw Ds.create("config-fetch-failed",{httpStatus:st.status,responseMessage:Ht})}return st.json()})).apply(this,arguments)}function dc(){return(dc=(0,u.Z)(function*(O,L=Ki,ee){const{appId:ge,apiKey:Re,measurementId:Fe}=O.options;if(!ge)throw Ds.create("no-app-id");if(!Re){if(Fe)return{measurementId:Fe,appId:ge};throw Ds.create("no-api-key")}const st=L.getThrottleMetadata(ge)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ht=new da;return setTimeout((0,u.Z)(function*(){Ht.abort()}),void 0!==ee?ee:Xr),Su({appId:ge,apiKey:Re,measurementId:Fe},st,Ht,L)})).apply(this,arguments)}function Su(O,L,ee){return Zc.apply(this,arguments)}function Zc(){return Zc=(0,u.Z)(function*(O,{throttleEndTimeMillis:L,backoffCount:ee},ge,Re=Ki){var Fe;const{appId:st,measurementId:Ht}=O;try{yield function Za(O,L){return new Promise((ee,ge)=>{const Re=Math.max(L-Date.now(),0),Fe=setTimeout(ee,Re);O.addEventListener(()=>{clearTimeout(Fe),ge(Ds.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(ge,L)}catch(Lt){if(Ht)return pi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ht} provided in the "measurementId" field in the local Firebase config. [${Lt?.message}]`),{appId:st,measurementId:Ht};throw Lt}try{const Lt=yield function wl(O){return vo.apply(this,arguments)}(O);return Re.deleteThrottleMetadata(st),Lt}catch(Lt){const un=Lt;if(!function _s(O){if(!(O instanceof ue.ZR&&O.customData))return!1;const L=Number(O.customData.httpStatus);return 429===L||500===L||503===L||504===L}(un)){if(Re.deleteThrottleMetadata(st),Ht)return pi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ht} provided in the "measurementId" field in the local Firebase config. [${un?.message}]`),{appId:st,measurementId:Ht};throw Lt}const $n=503===Number(null===(Fe=un?.customData)||void 0===Fe?void 0:Fe.httpStatus)?(0,ue.$s)(ee,Re.intervalMillis,yr):(0,ue.$s)(ee,Re.intervalMillis),Zn={throttleEndTimeMillis:Date.now()+$n,backoffCount:ee+1};return Re.setThrottleMetadata(st,Zn),pi.debug(`Calling attemptFetch again in ${$n} millis`),Su(O,Zn,ge,Re)}}),Zc.apply(this,arguments)}class da{constructor(){this.listeners=[]}addEventListener(L){this.listeners.push(L)}abort(){this.listeners.forEach(L=>L())}}let Au,Ye;function Sa(){return(Sa=(0,u.Z)(function*(O,L,ee,ge,Re){if(Re&&Re.global)O("event",ee,ge);else{const Fe=yield L;O("event",ee,Object.assign(Object.assign({},ge),{send_to:Fe}))}})).apply(this,arguments)}function Hr(){return(Hr=(0,u.Z)(function*(){if(!(0,ue.hl)())return pi.warn(Ds.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(O){return pi.warn(Ds.create("indexeddb-unavailable",{errorInfo:O?.toString()}).message),!1}return!0})).apply(this,arguments)}function bo(){return bo=(0,u.Z)(function*(O,L,ee,ge,Re,Fe,st){var Ht;const Lt=function Cu(O){return dc.apply(this,arguments)}(O);Lt.then(js=>{ee[js.measurementId]=js.appId,O.options.measurementId&&js.measurementId!==O.options.measurementId&&pi.warn(`The measurement ID in the local Firebase config (${O.options.measurementId}) does not match the measurement ID fetched from the server (${js.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(js=>pi.error(js)),L.push(Lt);const un=function Qn(){return Hr.apply(this,arguments)}().then(js=>{if(js)return ge.getId()}),[$n,Zn]=yield Promise.all([Lt,un]);(function ht(O){const L=window.document.getElementsByTagName("script");for(const ee of Object.values(L))if(ee.src&&ee.src.includes(qa)&&ee.src.includes(O))return ee;return null})(Fe)||function Wl(O,L){const ee=function sd(O,L){let ee;return window.trustedTypes&&(ee=window.trustedTypes.createPolicy(O,L)),ee}("firebase-js-sdk-policy",{createScriptURL:Qh}),ge=document.createElement("script"),Re=`${qa}?l=${O}&id=${L}`;ge.src=ee?ee?.createScriptURL(Re):Re,ge.async=!0,document.head.appendChild(ge)}(Fe,$n.measurementId),Ye&&(Re("consent","default",Ye),function ze(O){Ye=O}(void 0)),Re("js",new Date);const Gs=null!==(Ht=st?.config)&&void 0!==Ht?Ht:{};return Gs[rd]="firebase",Gs.update=!0,null!=Zn&&(Gs[Tu]=Zn),Re("config",$n.measurementId,Gs),Au&&(Re("set",Au),function jt(O){Au=O}(void 0)),$n.measurementId}),bo.apply(this,arguments)}class Zl{constructor(L){this.app=L}_delete(){return delete $r[this.app.options.appId],Promise.resolve()}}let $r={},Ka=[];const pr={};let tf,Aa,Sc="dataLayer",ld=!1;function Kc(O,L,ee){!function yp(){const O=[];if((0,ue.ru)()&&O.push("This is a browser extension environment."),(0,ue.zI)()||O.push("Cookies are not available."),O.length>0){const L=O.map((ge,Re)=>`(${Re+1}) ${ge}`).join(" "),ee=Ds.create("invalid-analytics-context",{errorInfo:L});pi.warn(ee.message)}}();const ge=O.options.appId;if(!ge)throw Ds.create("no-app-id");if(!O.options.apiKey){if(!O.options.measurementId)throw Ds.create("no-api-key");pi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${O.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=$r[ge])throw Ds.create("already-exists",{id:ge});if(!ld){!function bl(O){let L=[];Array.isArray(window[O])?L=window[O]:window[O]=L}(Sc);const{wrappedGtag:Fe,gtagCore:st}=function ad(O,L,ee,ge,Re){let Fe=function(...st){window[ge].push(arguments)};return window[Re]&&"function"==typeof window[Re]&&(Fe=window[Re]),window[Re]=function od(O,L,ee,ge){function Fe(){return Fe=(0,u.Z)(function*(st,...Ht){try{if("event"===st){const[Lt,un]=Ht;yield function Jh(O,L,ee,ge,Re){return qc.apply(this,arguments)}(O,L,ee,Lt,un)}else if("config"===st){const[Lt,un]=Ht;yield function uc(O,L,ee,ge,Re,Fe){return Ca.apply(this,arguments)}(O,L,ee,ge,Lt,un)}else if("consent"===st){const[Lt]=Ht;O("consent","update",Lt)}else if("get"===st){const[Lt,un,$n]=Ht;O("get",Lt,un,$n)}else if("set"===st){const[Lt]=Ht;O("set",Lt)}else O(st,...Ht)}catch(Lt){pi.error(Lt)}}),Fe.apply(this,arguments)}return function Re(st){return Fe.apply(this,arguments)}}(Fe,O,L,ee),{gtagCore:Fe,wrappedGtag:window[Re]}}($r,Ka,pr,Sc,"gtag");Aa=Fe,tf=st,ld=!0}return $r[ge]=function ar(O,L,ee,ge,Re,Fe,st){return bo.apply(this,arguments)}(O,Ka,pr,L,tf,Sc,ee),new Zl(O)}function Yc(){return Il.apply(this,arguments)}function Il(){return(Il=(0,u.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}const zg="@firebase/analytics";!function bp(){(0,be.Xd)(new fe.wA(Da,(L,{options:ee})=>Kc(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),ee),"PUBLIC")),(0,be.Xd)(new fe.wA("analytics-internal",function O(L){try{const ee=L.getProvider(Da).getImmediate();return{logEvent:(ge,Re,Fe)=>function sf(O,L,ee,ge){O=(0,ue.m9)(O),function $o(O,L,ee,ge,Re){return Sa.apply(this,arguments)}(Aa,$r[O.app.options.appId],L,ee,ge).catch(Re=>pi.error(Re))}(ee,ge,Re,Fe)}}catch(ee){throw Ds.create("interop-component-reg-failed",{reason:ee})}},"PRIVATE")),(0,be.KN)(zg,"0.10.0"),(0,be.KN)(zg,"0.10.0","esm2017")}();var Hd=K(2381),c0=K(6321),Yl=K(5592),Ql=K(9397),Gd=K(5137),Qc=K(3093);const Mu=new b.GfV("7.6.1"),Ac="__angularfire_symbol__analyticsIsSupportedValue",af="__angularfire_symbol__analyticsIsSupported",Jl="__angularfire_symbol__remoteConfigIsSupportedValue",xu="__angularfire_symbol__remoteConfigIsSupported",Tl="__angularfire_symbol__messagingIsSupportedValue",wo="__angularfire_symbol__messagingIsSupported";function jd(O,L,ee){if(L){if(1===L.length)return L[0];const Fe=L.filter(st=>st.app===ee);if(1===Fe.length)return Fe[0]}return ee.container.getProvider(O).getImmediate({optional:!0})}globalThis[af]||(globalThis[af]=Yc().then(O=>globalThis[Ac]=O).catch(()=>globalThis[Ac]=!1)),globalThis[wo]||(globalThis[wo]=Wc().then(O=>globalThis[Tl]=O).catch(()=>globalThis[Tl]=!1)),globalThis[xu]||(globalThis[xu]=Xi().then(O=>globalThis[Jl]=O).catch(()=>globalThis[Jl]=!1));const hd=(O,L)=>{const ee=L?[L]:(0,ne.C6)(),ge=[];return ee.forEach(Re=>{Re.container.getProvider(O).instances.forEach(st=>{ge.includes(st)||ge.push(st)})}),ge};function Nc(){}class lf{constructor(L,ee=Hd.N){this.zone=L,this.delegate=ee}now(){return this.delegate.now()}schedule(L,ee,ge){const Re=this.zone;return this.delegate.schedule(function(st){Re.runGuarded(()=>{L.apply(this,[st])})},ee,ge)}}class uf{constructor(L){this.zone=L,this.task=null}call(L,ee){const ge=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Nc,{},Nc,Nc)),ee.pipe((0,Ql.b)({next:ge,complete:ge,error:ge})).subscribe(L).add(ge)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Xl=(()=>{class O{constructor(ee){this.ngZone=ee,this.outsideAngular=ee.runOutsideAngular(()=>new lf(Zone.current)),this.insideAngular=ee.run(()=>new lf(Zone.current,c0.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return O.\u0275fac=function(ee){return new(ee||O)(b.LFG(b.R0b))},O.\u0275prov=b.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function Dl(){const O=globalThis.\u0275AngularFireScheduler;if(!O)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return O}function Na(O){return Dl().ngZone.run(()=>O())}function $d(O){return Dl(),function ku(O){return function(ee){return(ee=ee.lift(new uf(O.ngZone))).pipe((0,Gd.R)(O.outsideAngular),(0,Qc.Q)(O.insideAngular))}}(Dl())(O)}const eu=(O,L)=>function(){const ge=arguments;return L&&setTimeout(()=>{"scheduled"===L.state&&L.invoke()},10),Na(()=>O.apply(void 0,ge))},tu=(O,L)=>function(){let ee;const ge=arguments;for(let Fe=0;Fe<arguments.length;Fe++)"function"==typeof ge[Fe]&&(L&&(ee||(ee=Na(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Nc,{},Nc,Nc)))),ge[Fe]=eu(ge[Fe],ee));const Re=function wp(O){return Dl().ngZone.runOutsideAngular(()=>O())}(()=>O.apply(this,ge));if(!L){if(Re instanceof Yl.y){const Fe=Dl();return Re.pipe((0,Gd.R)(Fe.outsideAngular),(0,Qc.Q)(Fe.insideAngular))}return Na(()=>Re)}return Re instanceof Yl.y?Re.pipe($d):Re instanceof Promise?Na(()=>new Promise((Fe,st)=>Re.then(Ht=>Na(()=>Fe(Ht)),Ht=>Na(()=>st(Ht))))):"function"==typeof Re&&ee?function(){return setTimeout(()=>{ee&&"scheduled"===ee.state&&ee.invoke()},10),Re.apply(this,arguments)}:Na(()=>Re)}},229:(Bt,Ve,K)=>{K.d(Ve,{$s:()=>Et,BH:()=>vt,L:()=>Oe,LL:()=>wt,P0:()=>At,Pz:()=>ot,Sg:()=>yt,US:()=>fe,ZR:()=>nt,aH:()=>ft,b$:()=>dt,eu:()=>$e,hl:()=>ke,m9:()=>qn,ne:()=>fr,ru:()=>Pn,tV:()=>ae,uI:()=>we,vZ:()=>gt,xO:()=>hn,z$:()=>je,zI:()=>et});const be=function(Q){const B=[];let G=0;for(let q=0;q<Q.length;q++){let $=Q.charCodeAt(q);$<128?B[G++]=$:$<2048?(B[G++]=$>>6|192,B[G++]=63&$|128):55296==(64512&$)&&q+1<Q.length&&56320==(64512&Q.charCodeAt(q+1))?($=65536+((1023&$)<<10)+(1023&Q.charCodeAt(++q)),B[G++]=$>>18|240,B[G++]=$>>12&63|128,B[G++]=$>>6&63|128,B[G++]=63&$|128):(B[G++]=$>>12|224,B[G++]=$>>6&63|128,B[G++]=63&$|128)}return B},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Q,B){if(!Array.isArray(Q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let $=0;$<Q.length;$+=3){const Ie=Q[$],Ke=$+1<Q.length,Tt=Ke?Q[$+1]:0,sn=$+2<Q.length,ln=sn?Q[$+2]:0;let Fn=(15&Tt)<<2|ln>>6,Wr=63&ln;sn||(Wr=64,Ke||(Fn=64)),q.push(G[Ie>>2],G[(3&Ie)<<4|Tt>>4],G[Fn],G[Wr])}return q.join("")},encodeString(Q,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(Q):this.encodeByteArray(be(Q),B)},decodeString(Q,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(Q):function(Q){const B=[];let G=0,q=0;for(;G<Q.length;){const $=Q[G++];if($<128)B[q++]=String.fromCharCode($);else if($>191&&$<224){const Ie=Q[G++];B[q++]=String.fromCharCode((31&$)<<6|63&Ie)}else if($>239&&$<365){const sn=((7&$)<<18|(63&Q[G++])<<12|(63&Q[G++])<<6|63&Q[G++])-65536;B[q++]=String.fromCharCode(55296+(sn>>10)),B[q++]=String.fromCharCode(56320+(1023&sn))}else{const Ie=Q[G++],Ke=Q[G++];B[q++]=String.fromCharCode((15&$)<<12|(63&Ie)<<6|63&Ke)}}return B.join("")}(this.decodeStringToByteArray(Q,B))},decodeStringToByteArray(Q,B){this.init_();const G=B?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let $=0;$<Q.length;){const Ie=G[Q.charAt($++)],Tt=$<Q.length?G[Q.charAt($)]:0;++$;const ln=$<Q.length?G[Q.charAt($)]:64;++$;const Zt=$<Q.length?G[Q.charAt($)]:64;if(++$,null==Ie||null==Tt||null==ln||null==Zt)throw new Te;q.push(Ie<<2|Tt>>4),64!==ln&&(q.push(Tt<<4&240|ln>>2),64!==Zt&&q.push(ln<<6&192|Zt))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Q=0;Q<this.ENCODED_VALS.length;Q++)this.byteToCharMap_[Q]=this.ENCODED_VALS.charAt(Q),this.charToByteMap_[this.byteToCharMap_[Q]]=Q,this.byteToCharMapWebSafe_[Q]=this.ENCODED_VALS_WEBSAFE.charAt(Q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Q]]=Q,Q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Q)]=Q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Q)]=Q)}}};class Te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Oe=function(Q){return function(Q){const B=be(Q);return fe.encodeByteArray(B,!0)}(Q).replace(/\./g,"")},ae=function(Q){try{return fe.decodeString(Q,!0)}catch(B){console.error("base64Decode failed: ",B)}return null},Ot=()=>{try{return function xe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Q=process.env.__FIREBASE_DEFAULTS__;return Q?JSON.parse(Q):void 0})()||(()=>{if(typeof document>"u")return;let Q;try{Q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=Q&&ae(Q[1]);return B&&JSON.parse(B)})()}catch(Q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Q}`)}},At=Q=>{const B=(Q=>{var B,G;return null===(G=null===(B=Ot())||void 0===B?void 0:B.emulatorHosts)||void 0===G?void 0:G[Q]})(Q);if(!B)return;const G=B.lastIndexOf(":");if(G<=0||G+1===B.length)throw new Error(`Invalid host ${B} with no separate hostname and port!`);const q=parseInt(B.substring(G+1),10);return"["===B[0]?[B.substring(1,G-1),q]:[B.substring(0,G),q]},ft=()=>{var Q;return null===(Q=Ot())||void 0===Q?void 0:Q.config},ot=Q=>{var B;return null===(B=Ot())||void 0===B?void 0:B[`_${Q}`]};class vt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,G)=>{this.resolve=B,this.reject=G})}wrapCallback(B){return(G,q)=>{G?this.reject(G):this.resolve(q),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(G):B(G,q))}}}function yt(Q,B){if(Q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const q=B||"demo-project",$=Q.iat||0,Ie=Q.sub||Q.user_id;if(!Ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ke=Object.assign({iss:`https://securetoken.google.com/${q}`,aud:q,iat:$,exp:$+3600,auth_time:$,sub:Ie,user_id:Ie,firebase:{sign_in_provider:"custom",identities:{}}},Q);return[Oe(JSON.stringify({alg:"none",type:"JWT"})),Oe(JSON.stringify(Ke)),""].join(".")}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function we(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function Pn(){const Q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Q&&void 0!==Q.id}function dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ke(){try{return"object"==typeof indexedDB}catch{return!1}}function $e(){return new Promise((Q,B)=>{try{let G=!0;const q="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(q);$.onsuccess=()=>{$.result.close(),G||self.indexedDB.deleteDatabase(q),Q(!0)},$.onupgradeneeded=()=>{G=!1},$.onerror=()=>{var Ie;B((null===(Ie=$.error)||void 0===Ie?void 0:Ie.message)||"")}}catch(G){B(G)}})}function et(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class nt extends Error{constructor(B,G,q){super(G),this.code=B,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wt.prototype.create)}}class wt{constructor(B,G,q){this.service=B,this.serviceName=G,this.errors=q}create(B,...G){const q=G[0]||{},$=`${this.service}/${B}`,Ie=this.errors[B],Ke=Ie?function kt(Q,B){return Q.replace(Gt,(G,q)=>{const $=B[q];return null!=$?String($):`<${q}?>`})}(Ie,q):"Error";return new nt($,`${this.serviceName}: ${Ke} (${$}).`,q)}}const Gt=/\{\$([^}]+)}/g;function gt(Q,B){if(Q===B)return!0;const G=Object.keys(Q),q=Object.keys(B);for(const $ of G){if(!q.includes($))return!1;const Ie=Q[$],Ke=B[$];if(Rt(Ie)&&Rt(Ke)){if(!gt(Ie,Ke))return!1}else if(Ie!==Ke)return!1}for(const $ of q)if(!G.includes($))return!1;return!0}function Rt(Q){return null!==Q&&"object"==typeof Q}function hn(Q){const B=[];for(const[G,q]of Object.entries(Q))Array.isArray(q)?q.forEach($=>{B.push(encodeURIComponent(G)+"="+encodeURIComponent($))}):B.push(encodeURIComponent(G)+"="+encodeURIComponent(q));return B.length?"&"+B.join("&"):""}function fr(Q,B){const G=new Jt(Q,B);return G.subscribe.bind(G)}class Jt{constructor(B,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{B(this)}).catch(q=>{this.error(q)})}next(B){this.forEachObserver(G=>{G.next(B)})}error(B){this.forEachObserver(G=>{G.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,G,q){let $;if(void 0===B&&void 0===G&&void 0===q)throw new Error("Missing Observer.");$=function Er(Q,B){if("object"!=typeof Q||null===Q)return!1;for(const G of B)if(G in Q&&"function"==typeof Q[G])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:G,complete:q},void 0===$.next&&($.next=yn),void 0===$.error&&($.error=yn),void 0===$.complete&&($.complete=yn);const Ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),Ie}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,B)}sendOne(B,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{G(this.observers[B])}catch(q){typeof console<"u"&&console.error&&console.error(q)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yn(){}const Gr=1e3,rt=2,Ce=144e5,Je=.5;function Et(Q,B=Gr,G=rt){const q=B*Math.pow(G,Q),$=Math.round(Je*q*(Math.random()-.5)*2);return Math.min(Ce,q+$)}function qn(Q){return Q&&Q._delegate?Q._delegate:Q}},9058:(Bt,Ve,K)=>{K.d(Ve,{BH:()=>vt,L:()=>Oe,LL:()=>wt,Pz:()=>ot,ZR:()=>nt,aH:()=>ft,b$:()=>dt,eu:()=>$e,hl:()=>ke,m9:()=>qn,ne:()=>fr,pd:()=>Kt,q4:()=>Dn,ru:()=>Pn,tV:()=>ae,uI:()=>we,vZ:()=>gt,w1:()=>Cn,xO:()=>hn,xb:()=>Ze,z$:()=>je,zd:()=>Tn});const be=function(Q){const B=[];let G=0;for(let q=0;q<Q.length;q++){let $=Q.charCodeAt(q);$<128?B[G++]=$:$<2048?(B[G++]=$>>6|192,B[G++]=63&$|128):55296==(64512&$)&&q+1<Q.length&&56320==(64512&Q.charCodeAt(q+1))?($=65536+((1023&$)<<10)+(1023&Q.charCodeAt(++q)),B[G++]=$>>18|240,B[G++]=$>>12&63|128,B[G++]=$>>6&63|128,B[G++]=63&$|128):(B[G++]=$>>12|224,B[G++]=$>>6&63|128,B[G++]=63&$|128)}return B},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Q,B){if(!Array.isArray(Q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let $=0;$<Q.length;$+=3){const Ie=Q[$],Ke=$+1<Q.length,Tt=Ke?Q[$+1]:0,sn=$+2<Q.length,ln=sn?Q[$+2]:0;let Fn=(15&Tt)<<2|ln>>6,Wr=63&ln;sn||(Wr=64,Ke||(Fn=64)),q.push(G[Ie>>2],G[(3&Ie)<<4|Tt>>4],G[Fn],G[Wr])}return q.join("")},encodeString(Q,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(Q):this.encodeByteArray(be(Q),B)},decodeString(Q,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(Q):function(Q){const B=[];let G=0,q=0;for(;G<Q.length;){const $=Q[G++];if($<128)B[q++]=String.fromCharCode($);else if($>191&&$<224){const Ie=Q[G++];B[q++]=String.fromCharCode((31&$)<<6|63&Ie)}else if($>239&&$<365){const sn=((7&$)<<18|(63&Q[G++])<<12|(63&Q[G++])<<6|63&Q[G++])-65536;B[q++]=String.fromCharCode(55296+(sn>>10)),B[q++]=String.fromCharCode(56320+(1023&sn))}else{const Ie=Q[G++],Ke=Q[G++];B[q++]=String.fromCharCode((15&$)<<12|(63&Ie)<<6|63&Ke)}}return B.join("")}(this.decodeStringToByteArray(Q,B))},decodeStringToByteArray(Q,B){this.init_();const G=B?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let $=0;$<Q.length;){const Ie=G[Q.charAt($++)],Tt=$<Q.length?G[Q.charAt($)]:0;++$;const ln=$<Q.length?G[Q.charAt($)]:64;++$;const Zt=$<Q.length?G[Q.charAt($)]:64;if(++$,null==Ie||null==Tt||null==ln||null==Zt)throw new Te;q.push(Ie<<2|Tt>>4),64!==ln&&(q.push(Tt<<4&240|ln>>2),64!==Zt&&q.push(ln<<6&192|Zt))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Q=0;Q<this.ENCODED_VALS.length;Q++)this.byteToCharMap_[Q]=this.ENCODED_VALS.charAt(Q),this.charToByteMap_[this.byteToCharMap_[Q]]=Q,this.byteToCharMapWebSafe_[Q]=this.ENCODED_VALS_WEBSAFE.charAt(Q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Q]]=Q,Q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Q)]=Q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Q)]=Q)}}};class Te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Oe=function(Q){return function(Q){const B=be(Q);return fe.encodeByteArray(B,!0)}(Q).replace(/\./g,"")},ae=function(Q){try{return fe.decodeString(Q,!0)}catch(B){console.error("base64Decode failed: ",B)}return null},Ot=()=>{try{return function xe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Q=process.env.__FIREBASE_DEFAULTS__;return Q?JSON.parse(Q):void 0})()||(()=>{if(typeof document>"u")return;let Q;try{Q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=Q&&ae(Q[1]);return B&&JSON.parse(B)})()}catch(Q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Q}`)}},Dn=Q=>{var B,G;return null===(G=null===(B=Ot())||void 0===B?void 0:B.emulatorHosts)||void 0===G?void 0:G[Q]},ft=()=>{var Q;return null===(Q=Ot())||void 0===Q?void 0:Q.config},ot=Q=>{var B;return null===(B=Ot())||void 0===B?void 0:B[`_${Q}`]};class vt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,G)=>{this.resolve=B,this.reject=G})}wrapCallback(B){return(G,q)=>{G?this.reject(G):this.resolve(q),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(G):B(G,q))}}}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function we(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function Pn(){const Q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Q&&void 0!==Q.id}function dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Cn(){const Q=je();return Q.indexOf("MSIE ")>=0||Q.indexOf("Trident/")>=0}function ke(){try{return"object"==typeof indexedDB}catch{return!1}}function $e(){return new Promise((Q,B)=>{try{let G=!0;const q="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(q);$.onsuccess=()=>{$.result.close(),G||self.indexedDB.deleteDatabase(q),Q(!0)},$.onupgradeneeded=()=>{G=!1},$.onerror=()=>{var Ie;B((null===(Ie=$.error)||void 0===Ie?void 0:Ie.message)||"")}}catch(G){B(G)}})}class nt extends Error{constructor(B,G,q){super(G),this.code=B,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wt.prototype.create)}}class wt{constructor(B,G,q){this.service=B,this.serviceName=G,this.errors=q}create(B,...G){const q=G[0]||{},$=`${this.service}/${B}`,Ie=this.errors[B],Ke=Ie?function kt(Q,B){return Q.replace(Gt,(G,q)=>{const $=B[q];return null!=$?String($):`<${q}?>`})}(Ie,q):"Error";return new nt($,`${this.serviceName}: ${Ke} (${$}).`,q)}}const Gt=/\{\$([^}]+)}/g;function Ze(Q){for(const B in Q)if(Object.prototype.hasOwnProperty.call(Q,B))return!1;return!0}function gt(Q,B){if(Q===B)return!0;const G=Object.keys(Q),q=Object.keys(B);for(const $ of G){if(!q.includes($))return!1;const Ie=Q[$],Ke=B[$];if(Rt(Ie)&&Rt(Ke)){if(!gt(Ie,Ke))return!1}else if(Ie!==Ke)return!1}for(const $ of q)if(!G.includes($))return!1;return!0}function Rt(Q){return null!==Q&&"object"==typeof Q}function hn(Q){const B=[];for(const[G,q]of Object.entries(Q))Array.isArray(q)?q.forEach($=>{B.push(encodeURIComponent(G)+"="+encodeURIComponent($))}):B.push(encodeURIComponent(G)+"="+encodeURIComponent(q));return B.length?"&"+B.join("&"):""}function Tn(Q){const B={};return Q.replace(/^\?/,"").split("&").forEach(q=>{if(q){const[$,Ie]=q.split("=");B[decodeURIComponent($)]=decodeURIComponent(Ie)}}),B}function Kt(Q){const B=Q.indexOf("?");if(!B)return"";const G=Q.indexOf("#",B);return Q.substring(B,G>0?G:void 0)}function fr(Q,B){const G=new Jt(Q,B);return G.subscribe.bind(G)}class Jt{constructor(B,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{B(this)}).catch(q=>{this.error(q)})}next(B){this.forEachObserver(G=>{G.next(B)})}error(B){this.forEachObserver(G=>{G.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,G,q){let $;if(void 0===B&&void 0===G&&void 0===q)throw new Error("Missing Observer.");$=function Er(Q,B){if("object"!=typeof Q||null===Q)return!1;for(const G of B)if(G in Q&&"function"==typeof Q[G])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:G,complete:q},void 0===$.next&&($.next=yn),void 0===$.error&&($.error=yn),void 0===$.complete&&($.complete=yn);const Ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),Ie}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,B)}sendOne(B,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{G(this.observers[B])}catch(q){typeof console<"u"&&console.error&&console.error(q)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yn(){}function qn(Q){return Q&&Q._delegate?Q._delegate:Q}},1816:(Bt,Ve,K)=>{K.d(Ve,{y:()=>u});var b=K(8645),ne=K(9468);let u=(()=>{class be{constructor(){this.modalMessageSource=new b.x,this.modalMessage$=this.modalMessageSource.asObservable()}sendModalMessage(fe){this.modalMessageSource.next(fe)}static#e=this.\u0275fac=function(Te){return new(Te||be)};static#t=this.\u0275prov=ne.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})()},1176:(Bt,Ve,K)=>{K.d(Ve,{u:()=>ne});var b=K(9468);let ne=(()=>{class u{static#e=this.\u0275fac=function(fe){return new(fe||u)};static#t=this.\u0275cmp=b.Xpm({type:u,selectors:[["app-logo-svg"]],decls:33,vars:0,consts:[[1,"logo-svg"],["viewBox","0 0 640 400","data-background-color","var(--mainWhiteColor)","preserveAspectRatio","xMidYMid meet","height","400","width","640","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["width","640","height","400","x","0","y","0","opacity","1","fill","var(--mainRGBAColor)","data-fill-palette-color","background","id","background"],["id","tight-bounds","transform","matrix(1,0,0,1,168.6873741251188,76.4)"],["viewBox","0 0 302.6252517497624 247.2","height","247.2","width","302.6252517497624"],["viewBox","0 0 395.52 323.08124796157813","height","247.2","width","302.6252517497624"],["transform","matrix(1,0,0,1,0,240.1001478205344)"],["viewBox","0 0 395.52 82.98110014104373","height","82.98110014104373","width","395.52"],["id","textblocktransform"],["viewBox","0 0 395.52 82.98110014104373","height","82.98110014104373","width","395.52","id","textblock"],["transform","matrix(1,0,0,1,0,0)"],["width","395.52","viewBox","0.15000000596046448 -37.939998626708984 276.9100036621094 58.11000061035156","height","82.98110014104373","data-palette-color","var(--mainWhiteColor)"],["d","M8.3-27.15L0.15-26.51 0.93-29.05Q0.98-29.1 1.68-29.17 2.39-29.25 3.56-29.37 4.74-29.49 6.2-29.64 7.67-29.79 9.2-29.93 10.74-30.08 12.23-30.22 13.72-30.37 14.99-30.52L14.99-30.52Q14.99-30.52 15.43-30.52 15.87-30.52 16.41-30.52 16.94-30.52 17.43-30.52 17.92-30.52 18.07-30.52L18.07-30.52Q19.24-30.52 19.68-30.08 20.12-29.64 20.12-28.17L20.12-28.17 11.23-27.15Q11.13-24.07 11.33-20.7 11.52-17.33 11.82-13.89 12.11-10.45 12.38-7.08 12.65-3.71 12.65-0.63L12.65-0.63Q12.65-0.2 12.38-0.02 12.11 0.15 11.74 0.2 11.38 0.24 10.99 0.17 10.6 0.1 10.3 0L10.3 0Q10.16-0.63 10.01-2.2 9.86-3.76 9.72-5.86 9.57-7.96 9.42-10.4 9.28-12.84 9.13-15.28 8.98-17.72 8.84-19.95 8.69-22.17 8.59-23.85 8.5-25.54 8.42-26.46 8.35-27.39 8.3-27.15L8.3-27.15ZM20.07-33.74L21.68-33.5 22.95-17.48Q23.29-17.77 23.83-18.36 24.36-18.95 25.1-19.46 25.83-19.97 26.71-20.34 27.59-20.7 28.61-20.65L28.61-20.65Q30.61-20.46 31.81-19.04 33.01-17.63 33.62-15.58 34.23-13.53 34.42-11.11 34.62-8.69 34.54-6.49 34.47-4.3 34.3-2.59 34.13-0.88 34.03-0.24L34.03-0.24 32.27-0.49Q32.27-0.93 32.3-1.88 32.32-2.83 32.37-4.13 32.42-5.42 32.42-6.84 32.42-8.25 32.44-9.5 32.47-10.74 32.44-11.72 32.42-12.7 32.37-13.09L32.37-13.09Q32.42-14.45 31.83-15.72 31.25-16.99 30.27-17.65 29.29-18.31 27.93-18.09 26.56-17.87 25-16.16L25-16.16Q23.63-14.11 23-12.13 22.36-10.16 22.17-8.23 21.97-6.3 22.02-4.27 22.07-2.25 22.02 0L22.02 0 20.11-0.29Q20.26-0.83 20.33-2.27 20.41-3.71 20.46-5.74 20.51-7.76 20.53-10.25 20.55-12.74 20.53-15.41 20.51-18.07 20.46-20.75 20.41-23.44 20.33-25.88 20.26-28.32 20.19-30.37 20.11-32.42 20.07-33.74L20.07-33.74ZM36.86-11.47L36.86-11.47Q36.86-12.94 37.5-14.72 38.13-16.5 39.23-18.04 40.33-19.58 41.72-20.63 43.11-21.68 44.62-21.68L44.62-21.68Q45.45-21.68 46.26-21.34 47.07-21 47.82-20.43 48.58-19.87 49.19-19.17 49.8-18.46 50.14-17.68 50.48-16.89 50.51-16.16 50.53-15.43 50.09-14.89L50.09-14.89 39.79-12.99Q39.59-12.94 39.45-12.52 39.3-12.11 39.2-11.47 39.11-10.84 39.03-10.08 38.96-9.33 38.91-8.62 38.86-7.91 38.86-7.35 38.86-6.79 38.86-6.49L38.86-6.49Q38.86-5.13 39.52-4.27 40.18-3.42 41.21-2.98 42.23-2.54 43.53-2.39 44.82-2.25 46.09-2.25 47.36-2.25 48.48-2.34 49.6-2.44 50.34-2.44L50.34-2.44Q50.34-2.25 50.19-2 50.04-1.76 49.85-1.54 49.65-1.32 49.46-1.15 49.26-0.98 49.21-0.93L49.21-0.93Q48.82-0.83 48.02-0.66 47.21-0.49 46.31-0.34 45.41-0.2 44.62-0.1 43.84 0 43.55 0L43.55 0Q42.04 0.29 40.91-0.05 39.79-0.39 39.01-1.22 38.23-2.05 37.74-3.25 37.25-4.44 37.01-5.81 36.76-7.18 36.74-8.64 36.71-10.11 36.86-11.47ZM43.94-19.82L43.94-19.82Q43.5-19.82 42.79-19.36 42.08-18.9 41.47-18.19 40.86-17.48 40.45-16.67 40.03-15.87 40.18-15.28L40.18-15.28Q41.45-15.14 42.82-15.33 44.18-15.53 45.31-15.94 46.43-16.36 47.16-16.92 47.9-17.48 47.87-18.07 47.85-18.65 46.94-19.12 46.04-19.58 43.94-19.82ZM93.06 0L74.31-29.05Q74.31-28.91 74.28-28.42 74.26-27.93 74.26-27.42 74.26-26.9 74.26-26.44 74.26-25.98 74.26-25.83L74.26-25.83Q74.26-22.66 74.4-19.48 74.55-16.31 74.75-13.11 74.94-9.91 75.09-6.69 75.23-3.47 75.23-0.24L75.23-0.24 73.48-0.34Q73.43-1.27 73.31-2.93 73.18-4.59 73.01-6.76 72.84-8.94 72.65-11.43 72.45-13.92 72.23-16.48 72.01-19.04 71.87-21.53 71.72-24.02 71.6-26.15 71.47-28.27 71.43-29.91 71.38-31.54 71.43-32.42L71.43-32.42Q71.43-33.01 71.87-33.4 72.3-33.79 72.89-33.79L72.89-33.79Q73.48-33.79 74.23-33.52 74.99-33.25 75.23-32.81L75.23-32.81 92.81-4.44Q92.81-6.69 92.69-9.28 92.57-11.87 92.47-14.6 92.37-17.33 92.35-20.09 92.32-22.85 92.45-25.46 92.57-28.08 92.93-30.42 93.3-32.76 93.98-34.67L93.98-34.67Q94.67-34.91 95.06-34.94 95.45-34.96 95.64-34.91 95.84-34.86 95.86-34.67 95.89-34.47 95.89-34.28L95.89-34.28Q95.89-34.18 95.89-33.98 95.89-33.79 95.89-33.74L95.89-33.74Q95.79-33.45 95.67-32.67 95.55-31.88 95.35-30.35 95.16-28.81 95.01-26.37 94.86-23.93 94.72-20.31 94.57-16.7 94.5-11.72 94.42-6.74 94.47-0.1L94.47-0.1 93.06 0ZM97.74-4.2L97.74-4.2Q97.74-6.98 99.28-8.25 100.82-9.52 103.31-9.52L103.31-9.52Q104.28-9.52 105.14-9.47 105.99-9.42 106.77-9.23 107.56-9.03 108.31-8.64 109.07-8.25 109.9-7.52L109.9-7.52Q109.9-7.67 109.92-8.13 109.95-8.59 109.95-9.13 109.95-9.67 109.95-10.13 109.95-10.6 109.95-10.79L109.95-10.79Q109.9-11.67 109.9-13.06 109.9-14.45 109.68-15.92 109.46-17.38 108.8-18.7 108.14-20.02 106.68-20.7L106.68-20.7Q105.65-20.7 104.77-20.36 103.89-20.02 103.01-19.63 102.14-19.24 101.26-18.92 100.38-18.6 99.35-18.6L99.35-18.6Q99.35-19.82 100.11-20.63 100.87-21.44 101.94-21.88 103.01-22.31 104.19-22.46 105.36-22.61 106.24-22.61L106.24-22.61Q107.12-22.46 107.87-22.27 108.63-22.07 109.29-21.48 109.95-20.9 110.51-19.7 111.07-18.51 111.49-16.36 111.9-14.21 112.22-10.91 112.54-7.62 112.73-2.83L112.73-2.83Q112.83-2.2 112.32-1.73 111.8-1.27 110.93-0.95 110.05-0.63 108.95-0.42 107.85-0.2 106.73-0.1 105.6 0 104.58 0.05 103.55 0.1 102.87 0.1L102.87 0.1Q101.99 0.1 101.09-0.2 100.18-0.49 99.43-1.05 98.67-1.61 98.21-2.42 97.74-3.22 97.74-4.2ZM104.09-7.62L104.09-7.62Q101.65-6.93 100.67-5.98 99.69-5.03 99.82-4.15 99.94-3.27 100.96-2.56 101.99-1.86 103.45-1.64 104.92-1.42 106.63-1.88 108.34-2.34 109.9-3.71L109.9-3.71Q109.31-5.13 108.73-5.88 108.14-6.64 107.46-7.03 106.77-7.42 105.94-7.52 105.11-7.62 104.09-7.62ZM120.64-17.72L120.64-17.72Q120.2-17.87 119.44-17.85 118.69-17.82 117.83-17.75 116.98-17.68 116.2-17.58 115.41-17.48 114.88-17.48L114.88-17.48Q114.63-17.48 114.56-18.19 114.49-18.9 114.34-20.12L114.34-20.12 121.23-20.61Q121.37-22.31 121.42-23.05 121.47-23.78 121.44-24.29 121.42-24.8 121.4-25.46 121.37-26.12 121.37-27.54L121.37-27.54Q122.64-27.73 123.3-27.66 123.96-27.59 124.2-27.29 124.45-27 124.42-26.44 124.4-25.88 124.28-25.05 124.15-24.22 124.08-23.05 124.01-21.88 124.15-20.41L124.15-20.41 130.01-20.61 130.01-18.21Q129.62-18.21 128.79-18.16 127.96-18.12 127.01-18.07 126.06-18.02 125.25-17.97 124.45-17.92 124.06-17.77L124.06-17.77Q123.67-16.02 123.23-14.01 122.79-12.01 122.64-10.06 122.49-8.11 122.74-6.42 122.98-4.74 123.96-3.64 124.94-2.54 126.74-2.12 128.55-1.71 131.53-2.39L131.53-2.39Q131.43-1.66 130.97-1.2 130.5-0.73 129.89-0.46 129.28-0.2 128.6-0.07 127.91 0.05 127.38 0.05L127.38 0.05Q124.89 0.05 123.42-0.85 121.96-1.76 121.23-3.22 120.49-4.69 120.3-6.57 120.1-8.45 120.18-10.4 120.25-12.35 120.44-14.26 120.64-16.16 120.64-17.72ZM133.19-18.95L133.19-18.95Q133.19-19.19 133.5-19.43 133.82-19.68 134.28-19.82 134.75-19.97 135.19-20.02 135.63-20.07 135.82-19.87L135.82-19.87Q136.12-13.82 136.97-10.23 137.82-6.64 138.92-4.98 140.02-3.32 141.29-3.3 142.56-3.27 143.78-4.37 145-5.47 146.05-7.37 147.1-9.28 147.76-11.47 148.42-13.67 148.57-15.87 148.71-18.07 148.18-19.78L148.18-19.78 151.11-20.12Q151.15-19.38 151.37-17.7 151.59-16.02 151.86-13.89 152.13-11.77 152.47-9.47 152.81-7.18 153.06-5.2 153.3-3.22 153.5-1.83 153.69-0.44 153.69-0.1L153.69-0.1 151.59-0.1 149.3-8.54Q148.62-6.84 147.64-5.27 146.66-3.71 145.51-2.54 144.37-1.37 143.1-0.71 141.83-0.05 140.58-0.17 139.34-0.29 138.17-1.32 136.99-2.34 135.99-4.57 134.99-6.79 134.26-10.3 133.53-13.82 133.19-18.95ZM155.25-19.04L155.25-19.04Q155.84-19.29 156.28-19.14 156.72-18.99 157.01-18.6 157.3-18.21 157.45-17.7 157.6-17.19 157.69-16.7L157.69-16.7Q158.33-17.77 159.53-18.43 160.72-19.09 162.09-19.31 163.46-19.53 164.82-19.41 166.19-19.29 167.14-18.82 168.1-18.36 168.49-17.55 168.88-16.75 168.29-15.67L168.29-15.67Q167.02-16.41 165.63-16.85 164.24-17.29 162.92-17.14 161.6-16.99 160.48-16.14 159.36-15.28 158.62-13.43 157.89-11.57 157.72-8.52 157.55-5.47 158.13-0.93L158.13-0.93 156.28-0.93Q156.28-0.93 156.21-1.73 156.13-2.54 156.06-3.86 155.99-5.18 155.86-6.79 155.74-8.4 155.64-10.06 155.55-11.72 155.47-13.26 155.4-14.79 155.3-15.92L155.3-15.92Q155.3-16.06 155.28-16.5 155.25-16.94 155.25-17.46 155.25-17.97 155.25-18.41 155.25-18.85 155.25-19.04ZM170.49-4.2L170.49-4.2Q170.49-6.98 172.02-8.25 173.56-9.52 176.05-9.52L176.05-9.52Q177.03-9.52 177.88-9.47 178.74-9.42 179.52-9.23 180.3-9.03 181.06-8.64 181.81-8.25 182.64-7.52L182.64-7.52Q182.64-7.67 182.67-8.13 182.69-8.59 182.69-9.13 182.69-9.67 182.69-10.13 182.69-10.6 182.69-10.79L182.69-10.79Q182.64-11.67 182.64-13.06 182.64-14.45 182.42-15.92 182.2-17.38 181.54-18.7 180.89-20.02 179.42-20.7L179.42-20.7Q178.4-20.7 177.52-20.36 176.64-20.02 175.76-19.63 174.88-19.24 174-18.92 173.12-18.6 172.1-18.6L172.1-18.6Q172.1-19.82 172.85-20.63 173.61-21.44 174.68-21.88 175.76-22.31 176.93-22.46 178.1-22.61 178.98-22.61L178.98-22.61Q179.86-22.46 180.62-22.27 181.37-22.07 182.03-21.48 182.69-20.9 183.25-19.7 183.82-18.51 184.23-16.36 184.65-14.21 184.96-10.91 185.28-7.62 185.48-2.83L185.48-2.83Q185.57-2.2 185.06-1.73 184.55-1.27 183.67-0.95 182.79-0.63 181.69-0.42 180.59-0.2 179.47-0.1 178.35 0 177.32 0.05 176.3 0.1 175.61 0.1L175.61 0.1Q174.73 0.1 173.83-0.2 172.93-0.49 172.17-1.05 171.41-1.61 170.95-2.42 170.49-3.22 170.49-4.2ZM176.83-7.62L176.83-7.62Q174.39-6.93 173.42-5.98 172.44-5.03 172.56-4.15 172.68-3.27 173.71-2.56 174.73-1.86 176.2-1.64 177.66-1.42 179.37-1.88 181.08-2.34 182.64-3.71L182.64-3.71Q182.06-5.13 181.47-5.88 180.89-6.64 180.2-7.03 179.52-7.42 178.69-7.52 177.86-7.62 176.83-7.62ZM188.6-37.94L188.6-37.94Q189.28-37.84 189.79-37.57 190.31-37.3 190.6-36.62L190.6-36.62Q190.6-35.69 190.67-34.06 190.75-32.42 190.82-30.27 190.89-28.13 190.99-25.63 191.09-23.14 191.19-20.61 191.28-18.07 191.36-15.58 191.43-13.09 191.5-10.94 191.58-8.79 191.63-7.13 191.67-5.47 191.72-4.59L191.72-4.59Q191.72-4.49 191.7-4.25 191.67-4 191.65-3.66 191.63-3.32 191.6-3 191.58-2.69 191.58-2.54L191.58-2.54Q191.53-2.25 191.53-1.83 191.53-1.42 191.43-1.03 191.33-0.63 191.11-0.32 190.89 0 190.4 0.05L190.4 0.05 189.57-0.98Q189.53-1.03 189.45-2.81 189.38-4.59 189.26-7.45 189.14-10.3 189.04-13.89 188.94-17.48 188.82-21.14 188.7-24.8 188.6-28.17 188.5-31.54 188.45-33.98L188.45-33.98Q188.45-34.18 188.48-34.77 188.5-35.35 188.52-35.96 188.55-36.57 188.57-37.13 188.6-37.7 188.6-37.94ZM226.58-17.58L226.58-17.58Q226.43-17.04 226.12-15.87 225.8-14.7 225.39-13.23 224.97-11.77 224.51-10.16 224.04-8.54 223.6-7.08 223.16-5.62 222.82-4.47 222.48-3.32 222.33-2.83L222.33-2.83Q222.24-2.34 222.04-1.78 221.85-1.22 221.6-0.93 221.36-0.63 221.06-0.78 220.77-0.93 220.48-1.86L220.48-1.86 212.96-35.64Q213.1-35.64 213.45-35.72 213.79-35.79 213.93-35.79L213.93-35.79Q214.91-35.79 215.23-35.38 215.55-34.96 215.79-33.74L215.79-33.74 221.41-8.4 225.17-20.61Q225.36-21.19 225.73-21.39 226.09-21.58 226.58-21.58L226.58-21.58Q226.97-21.19 227.7-20.14 228.44-19.09 229.29-17.7 230.15-16.31 231.07-14.72 232-13.13 232.86-11.72 233.71-10.3 234.39-9.16 235.08-8.01 235.47-7.52L235.47-7.52Q235.61-7.28 235.98-6.86 236.35-6.45 236.79-6.01 237.23-5.57 237.67-5.18 238.1-4.79 238.3-4.69L238.3-4.69Q238.25-6.3 238.15-8.52 238.06-10.74 237.96-13.33 237.86-15.92 237.84-18.73 237.81-21.53 237.93-24.29 238.06-27.05 238.35-29.61 238.64-32.18 239.13-34.33L239.13-34.33Q239.23-34.67 239.4-34.84 239.57-35.01 239.79-35.06 240.01-35.11 240.38-35.08 240.74-35.06 241.18-35.06L241.18-35.06Q241.18-34.52 241.13-33.76 241.08-33.01 240.99-31.62 240.89-30.22 240.79-27.88 240.69-25.54 240.57-21.83 240.45-18.12 240.35-12.77 240.25-7.42 240.16 0L240.16 0Q238.06-1.66 236.25-3.71 234.44-5.76 232.83-8.08 231.22-10.4 229.68-12.82 228.14-15.23 226.58-17.58ZM243.18-4.2L243.18-4.2Q243.18-6.98 244.72-8.25 246.26-9.52 248.75-9.52L248.75-9.52Q249.72-9.52 250.58-9.47 251.43-9.42 252.21-9.23 252.99-9.03 253.75-8.64 254.51-8.25 255.34-7.52L255.34-7.52Q255.34-7.67 255.36-8.13 255.39-8.59 255.39-9.13 255.39-9.67 255.39-10.13 255.39-10.6 255.39-10.79L255.39-10.79Q255.34-11.67 255.34-13.06 255.34-14.45 255.12-15.92 254.9-17.38 254.24-18.7 253.58-20.02 252.12-20.7L252.12-20.7Q251.09-20.7 250.21-20.36 249.33-20.02 248.45-19.63 247.57-19.24 246.7-18.92 245.82-18.6 244.79-18.6L244.79-18.6Q244.79-19.82 245.55-20.63 246.31-21.44 247.38-21.88 248.45-22.31 249.63-22.46 250.8-22.61 251.68-22.61L251.68-22.61Q252.56-22.46 253.31-22.27 254.07-22.07 254.73-21.48 255.39-20.9 255.95-19.7 256.51-18.51 256.93-16.36 257.34-14.21 257.66-10.91 257.98-7.62 258.17-2.83L258.17-2.83Q258.27-2.2 257.76-1.73 257.24-1.27 256.36-0.95 255.49-0.63 254.39-0.42 253.29-0.2 252.16-0.1 251.04 0 250.02 0.05 248.99 0.1 248.31 0.1L248.31 0.1Q247.43 0.1 246.53-0.2 245.62-0.49 244.86-1.05 244.11-1.61 243.64-2.42 243.18-3.22 243.18-4.2ZM249.53-7.62L249.53-7.62Q247.09-6.93 246.11-5.98 245.13-5.03 245.26-4.15 245.38-3.27 246.4-2.56 247.43-1.86 248.89-1.64 250.36-1.42 252.07-1.88 253.78-2.34 255.34-3.71L255.34-3.71Q254.75-5.13 254.17-5.88 253.58-6.64 252.9-7.03 252.21-7.42 251.38-7.52 250.55-7.62 249.53-7.62ZM271.79 20.17L269.59 20.02Q269.59 17.58 270.03 14.99 270.47 12.4 270.94 9.81 271.4 7.23 271.72 4.64 272.04 2.05 271.79-0.44L271.79-0.44 259.63-21.04Q260.71-22.02 261.34-22.14 261.98-22.27 262.07-22.17L262.07-22.17Q262.42-21.68 263.22-20.36 264.03-19.04 265.08-17.29 266.13-15.53 267.3-13.57 268.47-11.62 269.52-9.86 270.57-8.11 271.33-6.74 272.08-5.37 272.38-4.83L272.38-4.83 274.62-22.95 277.06-21.73 271.79 20.17Z","opacity","1","transform","matrix(1,0,0,1,0,0)","fill","var(--mainWhiteColor)","data-fill-palette-color","primary","id","text-0",1,"wordmark-text-0"],["transform","matrix(1,0,0,1,97.29977228662983,0)"],["viewBox","0 0 200.92045542674032 200.92045542674032","height","200.92045542674032","width","200.92045542674032"],["id","icon-0"],["d","M0 100.46c0-55.483 44.978-100.46 100.46-100.46 55.483 0 100.46 44.978 100.46 100.46 0 55.483-44.978 100.46-100.46 100.46-55.483 0-100.46-44.978-100.46-100.46zM100.46 193.437c51.35 0 92.977-41.627 92.977-92.977 0-51.35-41.627-92.977-92.977-92.977-51.35 0-92.977 41.627-92.977 92.977 0 51.35 41.627 92.977 92.977 92.977z","data-fill-palette-color","accent","fill","var(--mainWhiteColor)","stroke","transparent"],["rx","99.45562543623646","ry","99.45562543623646","cx","100.46022771337016","cy","100.46022771337016","fill","var(--mainWhiteColor)","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,43.57436241056036,43.35758026693677)"],["viewBox","0 0 113.7717306056196 114.20529489286677","height","114.20529489286677","width","113.7717306056196"],["xmlns","http://www.w3.org/2000/svg","data-name","Layer 1","viewBox","1.190000057220459 1.002901315689087 97.62506866455078 97.99710083007812","x","0","y","0","height","114.20529489286677","width","113.7717306056196","data-fill-palette-color","quaternary","id","b-0",1,"icon-b-0"],["d","M79.28 26.63a0.3 0.3 0 0 0 0-0.07 0.28 0.28 0 0 0-0.48-0.19l-7 7a20.24 20.24 0 0 0-6 13v1.87a37.5 37.5 0 0 1 1.67 5.15H54.79a32.9 32.9 0 0 0-5.43-15.13 26.9 26.9 0 0 1-7.74 5.77 22.2 22.2 0 0 1-6.34 2.06c-9.9 1.51-22.3-5-28.35-41.61a1.86 1.86 0 0 1 1.55-2.05c47.44-6.69 50.2 11.7 47.85 22.85a51.5 51.5 0 0 0-19.69-6.14h-0.11a0.43 0.43 0 0 0-0.18 0.76l11.58 8.5 5.84 4.31a37.3 37.3 0 0 1 6.08 5.85 24.8 24.8 0 0 1 5-6.15 17.7 17.7 0 0 1-2.54-5 14.8 14.8 0 0 1-0.65-4.41c0-6.65 5.53-14.14 30.18-14.44a1.23 1.23 0 0 1 1.24 1.23c-0.38 31.82-12.74 31.78-19.82 29.12a34.2 34.2 0 0 0 6.02-12.28M28.65 93h34.63a16.16 16.16 0 0 0 12.18-5.54l21.68-24.79a6.79 6.79 0 0 0-0.79-9.7 6.55 6.55 0 0 0-4.2-1.49 7.24 7.24 0 0 0-5.38 2.43l-10.2 11.35v0.16a11.85 11.85 0 0 1-11.89 11.26H52.21a2.54 2.54 0 1 1 0-5.08h12.47a6.72 6.72 0 0 0 6.81-6.34A6.54 6.54 0 0 0 65 58.52H44.19l-3.37-1.18a23.42 23.42 0 0 0-24.26 5.49L1.19 78.1 22.64 99Z","fill","var(--textColor)","data-fill-palette-color","quaternary"],["width","302.6252517497624","height","247.2","fill","none","stroke","none","visibility","hidden"]],template:function(fe,Te){1&fe&&(b.TgZ(0,"main",0),b.O4$(),b.TgZ(1,"svg",1),b._UZ(2,"rect",2),b.TgZ(3,"g",3)(4,"svg",4)(5,"g")(6,"svg",5)(7,"g",6)(8,"svg",7)(9,"g",8)(10,"svg",9)(11,"g")(12,"svg",7)(13,"g",10)(14,"svg",11),b._UZ(15,"path",12),b.qZA()()()()()()()(),b.TgZ(16,"g",13)(17,"svg",14)(18,"g"),b._UZ(19,"svg"),b.qZA(),b.TgZ(20,"g",15)(21,"svg",14)(22,"g"),b._UZ(23,"path",16)(24,"ellipse",17),b.qZA(),b.TgZ(25,"g",18)(26,"svg",19)(27,"g")(28,"svg",20),b._UZ(29,"path",21),b.qZA()()()()()()()(),b._UZ(30,"g"),b.qZA()(),b._UZ(31,"defs"),b.qZA(),b._UZ(32,"rect",22),b.qZA()()())}})}return u})()},2732:(Bt,Ve,K)=>{K.d(Ve,{Q:()=>u});var b=K(9468),ne=K(6593);let u=(()=>{class be{constructor(fe){this.sanitizer=fe}transform(fe){let Te;if(fe.startsWith("https://m."))Te=new URLSearchParams(fe.split("?")[1]).get("v")||"";else{const Oe=fe.split("/");Te=Oe[Oe.length-1]}return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+Te)}static#e=this.\u0275fac=function(Te){return new(Te||be)(b.Y36(ne.H7,16))};static#t=this.\u0275pipe=b.Yjl({name:"safeUrl",type:be,pure:!0})}return be})()},2772:(Bt,Ve,K)=>{K.d(Ve,{r:()=>ue});var b=K(6814),ne=K(7158),u=K(95),be=K(9468);let ue=(()=>{class fe{static#e=this.\u0275fac=function(Oe){return new(Oe||fe)};static#t=this.\u0275mod=be.oAB({type:fe});static#n=this.\u0275inj=be.cJS({imports:[b.ez,ne.Bz,u.u5,u.UX]})}return fe})()},8850:(Bt,Ve,K)=>{K.d(Ve,{O:()=>fe});var b=K(5861),ne=K(3477),u=K(8645),be=K(9468),ue=K(4456);let fe=(()=>{class Te{constructor(Oe,ae){this.firestore=Oe,this.globalErrorHandler=ae,this.commentAddedSubject=new u.x,this.collectionName="Comments"}getCommentsByQuery(Oe,ae){var de=this;return(0,b.Z)(function*(){try{const Me=(0,ne.hJ)(de.firestore,de.collectionName),Se=(0,ne.IO)(Me,(0,ne.ar)(Oe,"==",ae)),xe=yield(0,ne.PL)(Se),qe=[];return xe.forEach(It=>{const{create_time:Pt,name:Ot,recipeId:Dn,comment:At,uid:ft}=It.data();qe.push({create_time:Pt,name:Ot,recipeId:Dn,comment:At,uid:ft,id:It.id})}),qe.sort((It,Pt)=>{const Ot=It.create_time.toDate();return Pt.create_time.toDate().getTime()-Ot.getTime()}),qe}catch(Me){return de.globalErrorHandler.handleError(Me),[]}})()}getCommentsForRecipe(Oe){var ae=this;return(0,b.Z)(function*(){return ae.getCommentsByQuery("recipeId",Oe)})()}getCommentsForUser(Oe){var ae=this;return(0,b.Z)(function*(){return ae.getCommentsByQuery("uid",Oe)})()}addComment(Oe){var ae=this;return(0,b.Z)(function*(){try{const de=yield(0,ne.ET)((0,ne.hJ)(ae.firestore,ae.collectionName),Oe);return ae.commentAddedSubject.next(),de.id}catch(de){return ae.globalErrorHandler.handleError(de),null}})()}deleteComment(Oe){var ae=this;return(0,b.Z)(function*(){try{const de=(0,ne.JU)(ae.firestore,ae.collectionName,Oe);yield(0,ne.oe)(de),console.log("Comment deleted successfully:",Oe)}catch(de){throw ae.globalErrorHandler.handleError(de),de}})()}getCommentById(Oe){var ae=this;return(0,b.Z)(function*(){const de=(0,ne.JU)(ae.firestore,ae.collectionName,Oe),Me=yield(0,ne.QT)(de);if(Me.exists()){const Se=Me.data();return console.log(Se.recipeId),Me.data()}return null})()}editComment(Oe,ae){var de=this;return(0,b.Z)(function*(){const Se=(0,ne.JU)(de.firestore,"Comments",ae),xe={...Oe};try{yield(0,ne.r7)(Se,xe)}catch(qe){throw de.globalErrorHandler.handleError(qe),qe}})()}getCommentAddedObservable(){return this.commentAddedSubject.asObservable()}static#e=this.\u0275fac=function(ae){return new(ae||Te)(be.LFG(ne.gg),be.LFG(ue.r))};static#t=this.\u0275prov=be.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})()},3424:(Bt,Ve,K)=>{K.d(Ve,{l:()=>u});var b=K(95),ne=K(9468);let u=(()=>{class be{markFormGroupTouched(fe){Object.values(fe.controls).forEach(Te=>{Te instanceof b.NI?Te.markAsTouched():Te instanceof b.cw&&this.markFormGroupTouched(Te)})}markFormArrayControlsTouched(fe){for(let Te=0;Te<fe.length;Te++){const He=fe.at(Te);this.markFormGroupTouched(He)}}getFormGroupErrors(fe){let Te="";return Object.keys(fe.controls).forEach(He=>{const Oe=fe.get(He)?.errors;Oe&&Object.keys(Oe).forEach(ae=>{Te+=`${He} ${this.getControlErrorMessage(ae,Oe[ae])}\n`})}),Te}getControlErrorMessage(fe,Te){switch(fe){case"required":return"-> this field is required.";case"minlength":return`-> Minimum length is ${Te.requiredLength}.`;case"maxlength":return`-> Maximum length is ${Te.requiredLength}.`;default:return""}}static#e=this.\u0275fac=function(Te){return new(Te||be)};static#t=this.\u0275prov=ne.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})()},4456:(Bt,Ve,K)=>{K.d(Ve,{r:()=>u});var b=K(9468),ne=K(1816);let u=(()=>{class be{constructor(fe){this.alertService=fe}handleError(fe){if(fe instanceof Error){const Te=fe.name,He=fe.message;console.error(`Error (${Te}): ${He}`),this.alertService.sendModalMessage(`Error (${Te}): \n\n         ${He}`)}else this.alertService.sendModalMessage(`Unknown error occurred:\n      \n${fe}`)}static#e=this.\u0275fac=function(Te){return new(Te||be)(b.LFG(ne.y))};static#t=this.\u0275prov=b.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})()},3585:(Bt,Ve,K)=>{K.d(Ve,{j:()=>ae});var b=K(5861),ne=K(3477),u=K(5619),be=K(6973),ue=K(305),Te=K(9468),He=K(7158),Oe=K(4456);let ae=(()=>{class de{constructor(Se,xe,qe){this.firestore=Se,this.router=xe,this.globalErrorHandler=qe,this.lastDocSubject=new u.X(void 0),this.lastDoc$=this.lastDocSubject.asObservable(),this.collectionName="Recipe",this.paginateNumber=12}getRecipes(){var Se=this;return(0,b.Z)(function*(){try{let xe=(0,ne.IO)((0,ne.hJ)(Se.firestore,Se.collectionName),(0,ne.Xo)("title"),(0,ne.ar)("public","==",!0));xe=(0,ne.IO)(xe,(0,ne.b9)(Se.paginateNumber));const qe=yield(0,ne.PL)(xe);let It=[];return qe.forEach(Ot=>{const At={...Ot.data(),id:Ot.id};At.public&&It.push(At)}),Se.lastDocSubject.next(qe.docs[qe.docs.length-1]),{data:It}}catch(xe){throw Se.globalErrorHandler.handleError(xe),xe}})()}getRecipesLoadMore(){var Se=this;return(0,b.Z)(function*(){try{const xe=yield function fe(de,Me){const Se="object"==typeof Me;return new Promise((xe,qe)=>{const It=new ue.Hp({next:Pt=>{xe(Pt),It.unsubscribe()},error:qe,complete:()=>{Se?xe(Me.defaultValue):qe(new be.K)}});de.subscribe(It)})}(Se.lastDoc$);let qe=(0,ne.IO)((0,ne.hJ)(Se.firestore,Se.collectionName),(0,ne.Xo)("title"),(0,ne.ar)("public","==",!0));xe&&(qe=(0,ne.IO)(qe,(0,ne.TQ)(xe))),qe=(0,ne.IO)(qe,(0,ne.b9)(Se.paginateNumber));const It=yield(0,ne.PL)(qe);let Pt=[];It.forEach(At=>{const ot={...At.data(),id:At.id};ot.public&&Pt.push(ot)});const Ot=It.size===Se.paginateNumber;return Se.lastDocSubject.next(It.docs[It.docs.length-1]),{data:Pt,hasMore:Ot}}catch(xe){throw Se.globalErrorHandler.handleError(xe),xe}})()}getRecipeById(Se){var xe=this;return(0,b.Z)(function*(){try{const qe=(0,ne.JU)(xe.firestore,xe.collectionName,Se),It=yield(0,ne.QT)(qe);if(It.exists()){let Pt=It.data();return Pt.id||(Pt={...Pt,id:Se}),Pt}return null}catch(qe){throw xe.globalErrorHandler.handleError(qe),qe}})()}getRecipeByUID(Se){var xe=this;return(0,b.Z)(function*(){try{const qe=(0,ne.hJ)(xe.firestore,xe.collectionName),It=(0,ne.IO)(qe,(0,ne.ar)("uid","==",Se)),Pt=yield(0,ne.PL)(It),Ot=[];return Pt.forEach(Dn=>{const ft={...Dn.data(),id:Dn.id};Ot.push(ft)}),Ot}catch(qe){throw xe.globalErrorHandler.handleError(qe),qe}})()}searchRecipesByTitle(Se){var xe=this;return(0,b.Z)(function*(){try{let qe=(0,ne.IO)((0,ne.hJ)(xe.firestore,xe.collectionName),(0,ne.Xo)("title"));const It=yield(0,ne.PL)(qe);let Pt=[];return It.forEach(Ot=>{const At={...Ot.data(),id:Ot.id};Pt.push(At)}),Se&&(Pt=Pt.filter(Ot=>Ot.title.toLowerCase().includes(Se.toLowerCase()))),{data:Pt}}catch(qe){throw xe.globalErrorHandler.handleError(qe),qe}})()}updateRecipeLikes(Se,xe,qe){var It=this;return(0,b.Z)(function*(){const Pt=(0,ne.JU)(It.firestore,It.collectionName,Se);try{qe?(console.log("remove"),yield(0,ne.r7)(Pt,{likes:(0,ne.Ab)(xe)})):(console.log("add"),yield(0,ne.r7)(Pt,{likes:(0,ne.vr)(xe)})),console.log("Recipe likes updated successfully")}catch(Ot){throw It.globalErrorHandler.handleError(Ot),Ot}})()}deleteRecipe(Se){var xe=this;return(0,b.Z)(function*(){try{const qe=(0,ne.JU)(xe.firestore,xe.collectionName,Se);yield(0,ne.oe)(qe),console.log("Recipe deleted successfully:",Se)}catch(qe){throw xe.globalErrorHandler.handleError(qe),qe}})()}addRecipe(Se){(0,ne.ET)((0,ne.hJ)(this.firestore,this.collectionName),Se).then(xe=>{console.log("Document written with ID: ",xe.id),this.router.navigate(["/recipe",xe.id])}).catch(xe=>{throw this.globalErrorHandler.handleError(xe),xe})}updateRecipe(Se,xe){if(xe){const qe=(0,ne.JU)(this.firestore,this.collectionName,xe),It={...Se};(0,ne.r7)(qe,It).then(()=>{console.log("Document successfully updated"),this.router.navigate(["/recipe",xe])}).catch(Pt=>{this.globalErrorHandler.handleError(Pt)})}else this.globalErrorHandler.handleError("Invalid recipe id.")}static#e=this.\u0275fac=function(xe){return new(xe||de)(Te.LFG(ne.gg),Te.LFG(He.F0),Te.LFG(Oe.r))};static#t=this.\u0275prov=Te.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})()},6499:(Bt,Ve,K)=>{K.d(Ve,{K:()=>Dp});var b=K(5861),ne=K(9058),u=K(4303),be=K(7879),ue=K(7582),fe=K(4537);const qe=function Se(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},It=new ne.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ot=new be.Yd("@firebase/auth");function At(A,...v){Ot.logLevel<=be.in.ERROR&&Ot.error(`Auth (${u.Jn}): ${A}`,...v)}function ft(A,...v){throw je(A,...v)}function ot(A,...v){return je(A,...v)}function je(A,...v){if("string"!=typeof A){const w=v[0],N=[...v.slice(1)];return N[0]&&(N[0].appName=A.name),A._errorFactory.create(w,...N)}return It.create(A,...v)}function we(A,v,...w){if(!A)throw je(v,...w)}function Xe(A){const v="INTERNAL ASSERTION FAILED: "+A;throw At(v),new Error(v)}function _t(A,v){A||Xe(v)}function Pn(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.href)||""}function pn(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.protocol)||null}class sr{constructor(v,w){this.shortDelay=v,this.longDelay=w,_t(w>v,"Short delay should be less than long delay!"),this.isMobile=(0,ne.uI)()||(0,ne.b$)()}get(){return function Cn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function dt(){return"http:"===pn()||"https:"===pn()}()||(0,ne.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hr(A,v){_t(A.emulator,"Emulator should always be set here");const{url:w}=A.emulator;return v?`${w}${v.startsWith("/")?v.slice(1):v}`:w}class ke{static initialize(v,w,N){this.fetchImpl=v,w&&(this.headersImpl=w),N&&(this.responseImpl=N)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Xe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Xe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Xe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},et=new sr(3e4,6e4);function Ge(A,v){return A.tenantId&&!v.tenantId?Object.assign(Object.assign({},v),{tenantId:A.tenantId}):v}function nt(A,v,w,N){return wt.apply(this,arguments)}function wt(){return(wt=(0,b.Z)(function*(A,v,w,N,Y={}){return kt(A,Y,(0,b.Z)(function*(){let le={},Ne={};N&&("GET"===v?Ne=N:le={body:JSON.stringify(N)});const Qe=(0,ne.xO)(Object.assign({key:A.config.apiKey},Ne)).slice(1),Dt=yield A._getAdditionalHeaders();return Dt["Content-Type"]="application/json",A.languageCode&&(Dt["X-Firebase-Locale"]=A.languageCode),ke.fetch()(_n(A,A.config.apiHost,w,Qe),Object.assign({method:v,headers:Dt,referrerPolicy:"no-referrer"},le))}))})).apply(this,arguments)}function kt(A,v,w){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,b.Z)(function*(A,v,w){A._canInitEmulator=!1;const N=Object.assign(Object.assign({},$e),v);try{const Y=new jn(A),le=yield Promise.race([w(),Y.promise]);Y.clearNetworkTimeout();const Ne=yield le.json();if("needConfirmation"in Ne)throw wr(A,"account-exists-with-different-credential",Ne);if(le.ok&&!("errorMessage"in Ne))return Ne;{const Qe=le.ok?Ne.errorMessage:Ne.error.message,[Dt,fn]=Qe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Dt)throw wr(A,"credential-already-in-use",Ne);if("EMAIL_EXISTS"===Dt)throw wr(A,"email-already-in-use",Ne);if("USER_DISABLED"===Dt)throw wr(A,"user-disabled",Ne);const xn=N[Dt]||Dt.toLowerCase().replace(/[_\s]+/g,"-");if(fn)throw function vt(A,v,w){const N=Object.assign(Object.assign({},qe()),{[v]:w});return new ne.LL("auth","Firebase",N).create(v,{appName:A.name})}(A,xn,fn);ft(A,xn)}}catch(Y){if(Y instanceof ne.ZR)throw Y;ft(A,"network-request-failed",{message:String(Y)})}})).apply(this,arguments)}function an(A,v,w,N){return mn.apply(this,arguments)}function mn(){return(mn=(0,b.Z)(function*(A,v,w,N,Y={}){const le=yield nt(A,v,w,N,Y);return"mfaPendingCredential"in le&&ft(A,"multi-factor-auth-required",{_serverResponse:le}),le})).apply(this,arguments)}function _n(A,v,w,N){const Y=`${v}${w}?${N}`;return A.config.emulator?hr(A.config,Y):`${A.config.apiScheme}://${Y}`}function Ct(A){switch(A){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jn{constructor(v){this.auth=v,this.timer=null,this.promise=new Promise((w,N)=>{this.timer=setTimeout(()=>N(ot(this.auth,"network-request-failed")),et.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wr(A,v,w){const N={appName:A.name};w.email&&(N.email=w.email),w.phoneNumber&&(N.phoneNumber=w.phoneNumber);const Y=ot(A,v,N);return Y.customData._tokenResponse=w,Y}function Ae(A){return void 0!==A&&void 0!==A.enterprise}class Ee{constructor(v){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===v.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=v.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=v.recaptchaEnforcementState}getProviderEnforcementState(v){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const w of this.recaptchaEnforcementState)if(w.provider&&w.provider===v)return Ct(w.enforcementState);return null}isProviderEnabled(v){return"ENFORCE"===this.getProviderEnforcementState(v)||"AUDIT"===this.getProviderEnforcementState(v)}}function gt(A,v){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,b.Z)(function*(A,v){return nt(A,"GET","/v2/recaptchaConfig",Ge(A,v))})).apply(this,arguments)}function hn(){return(hn=(0,b.Z)(function*(A,v){return nt(A,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}function fr(){return(fr=(0,b.Z)(function*(A,v){return nt(A,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}function Jt(A){if(A)try{const v=new Date(Number(A));if(!isNaN(v.getTime()))return v.toUTCString()}catch{}}function yn(){return(yn=(0,b.Z)(function*(A,v=!1){const w=(0,ne.m9)(A),N=yield w.getIdToken(v),Y=Wn(N);we(Y&&Y.exp&&Y.auth_time&&Y.iat,w.auth,"internal-error");const le="object"==typeof Y.firebase?Y.firebase:void 0,Ne=le?.sign_in_provider;return{claims:Y,token:N,authTime:Jt(cr(Y.auth_time)),issuedAtTime:Jt(cr(Y.iat)),expirationTime:Jt(cr(Y.exp)),signInProvider:Ne||null,signInSecondFactor:le?.sign_in_second_factor||null}})).apply(this,arguments)}function cr(A){return 1e3*Number(A)}function Wn(A){const[v,w,N]=A.split(".");if(void 0===v||void 0===w||void 0===N)return At("JWT malformed, contained fewer than 3 sections"),null;try{const Y=(0,ne.tV)(w);return Y?JSON.parse(Y):(At("Failed to decode base64 JWT payload"),null)}catch(Y){return At("Caught error parsing JWT payload as JSON",Y?.toString()),null}}function Bn(A,v){return ti.apply(this,arguments)}function ti(){return(ti=(0,b.Z)(function*(A,v,w=!1){if(w)return v;try{return yield v}catch(N){throw N instanceof ne.ZR&&function qt({code:A}){return"auth/user-disabled"===A||"auth/user-token-expired"===A}(N)&&A.auth.currentUser===A&&(yield A.auth.signOut()),N}})).apply(this,arguments)}class Qi{constructor(v){this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(v){var w;if(v){const N=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),N}{this.errorBackoff=3e4;const Y=(null!==(w=this.user.stsTokenManager.expirationTime)&&void 0!==w?w:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(v=!1){var w=this;if(!this.isRunning)return;const N=this.getInterval(v);this.timerId=setTimeout((0,b.Z)(function*(){yield w.iteration()}),N)}iteration(){var v=this;return(0,b.Z)(function*(){try{yield v.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===w?.code&&v.schedule(!0))}v.schedule()})()}}class zr{constructor(v,w){this.createdAt=v,this.lastLoginAt=w,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jt(this.lastLoginAt),this.creationTime=Jt(this.createdAt)}_copy(v){this.createdAt=v.createdAt,this.lastLoginAt=v.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Gr(A){return rt.apply(this,arguments)}function rt(){return rt=(0,b.Z)(function*(A){var v;const w=A.auth,N=yield A.getIdToken(),Y=yield Bn(A,function cn(A,v){return fr.apply(this,arguments)}(w,{idToken:N}));we(Y?.users.length,w,"internal-error");const le=Y.users[0];A._notifyReloadListener(le);const Ne=null!==(v=le.providerUserInfo)&&void 0!==v&&v.length?function $t(A){return A.map(v=>{var{providerId:w}=v,N=(0,ue._T)(v,["providerId"]);return{providerId:w,uid:N.rawId||"",displayName:N.displayName||null,email:N.email||null,phoneNumber:N.phoneNumber||null,photoURL:N.photoUrl||null}})}(le.providerUserInfo):[],Qe=function Et(A,v){return[...A.filter(N=>!v.some(Y=>Y.providerId===N.providerId)),...v]}(A.providerData,Ne),xn=!!A.isAnonymous&&!(A.email&&le.passwordHash||Qe?.length),Rr={uid:le.localId,displayName:le.displayName||null,photoURL:le.photoUrl||null,email:le.email||null,emailVerified:le.emailVerified||!1,phoneNumber:le.phoneNumber||null,tenantId:le.tenantId||null,providerData:Qe,metadata:new zr(le.createdAt,le.lastLoginAt),isAnonymous:xn};Object.assign(A,Rr)}),rt.apply(this,arguments)}function Je(){return(Je=(0,b.Z)(function*(A){const v=(0,ne.m9)(A);yield Gr(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}function qn(){return(qn=(0,b.Z)(function*(A,v){const w=yield kt(A,{},(0,b.Z)(function*(){const N=(0,ne.xO)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:Y,apiKey:le}=A.config,Ne=_n(A,Y,"/v1/token",`key=${le}`),Qe=yield A._getAdditionalHeaders();return Qe["Content-Type"]="application/x-www-form-urlencoded",ke.fetch()(Ne,{method:"POST",headers:Qe,body:N})}));return{accessToken:w.access_token,expiresIn:w.expires_in,refreshToken:w.refresh_token}})).apply(this,arguments)}function B(){return(B=(0,b.Z)(function*(A,v){return nt(A,"POST","/v2/accounts:revokeToken",Ge(A,v))})).apply(this,arguments)}class G{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(v){we(v.idToken,"internal-error"),we(typeof v.idToken<"u","internal-error"),we(typeof v.refreshToken<"u","internal-error");const w="expiresIn"in v&&typeof v.expiresIn<"u"?Number(v.expiresIn):function or(A){const v=Wn(A);return we(v,"internal-error"),we(typeof v.exp<"u","internal-error"),we(typeof v.iat<"u","internal-error"),Number(v.exp)-Number(v.iat)}(v.idToken);this.updateTokensAndExpiration(v.idToken,v.refreshToken,w)}getToken(v,w=!1){var N=this;return(0,b.Z)(function*(){return we(!N.accessToken||N.refreshToken,v,"user-token-expired"),w||!N.accessToken||N.isExpired?N.refreshToken?(yield N.refresh(v,N.refreshToken),N.accessToken):null:N.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(v,w){var N=this;return(0,b.Z)(function*(){const{accessToken:Y,refreshToken:le,expiresIn:Ne}=yield function Wt(A,v){return qn.apply(this,arguments)}(v,w);N.updateTokensAndExpiration(Y,le,Number(Ne))})()}updateTokensAndExpiration(v,w,N){this.refreshToken=w||null,this.accessToken=v||null,this.expirationTime=Date.now()+1e3*N}static fromJSON(v,w){const{refreshToken:N,accessToken:Y,expirationTime:le}=w,Ne=new G;return N&&(we("string"==typeof N,"internal-error",{appName:v}),Ne.refreshToken=N),Y&&(we("string"==typeof Y,"internal-error",{appName:v}),Ne.accessToken=Y),le&&(we("number"==typeof le,"internal-error",{appName:v}),Ne.expirationTime=le),Ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(v){this.accessToken=v.accessToken,this.refreshToken=v.refreshToken,this.expirationTime=v.expirationTime}_clone(){return Object.assign(new G,this.toJSON())}_performRefresh(){return Xe("not implemented")}}function q(A,v){we("string"==typeof A||typeof A>"u","internal-error",{appName:v})}class ${constructor(v){var{uid:w,auth:N,stsTokenManager:Y}=v,le=(0,ue._T)(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=w,this.auth=N,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=le.displayName||null,this.email=le.email||null,this.emailVerified=le.emailVerified||!1,this.phoneNumber=le.phoneNumber||null,this.photoURL=le.photoURL||null,this.isAnonymous=le.isAnonymous||!1,this.tenantId=le.tenantId||null,this.providerData=le.providerData?[...le.providerData]:[],this.metadata=new zr(le.createdAt||void 0,le.lastLoginAt||void 0)}getIdToken(v){var w=this;return(0,b.Z)(function*(){const N=yield Bn(w,w.stsTokenManager.getToken(w.auth,v));return we(N,w.auth,"internal-error"),w.accessToken!==N&&(w.accessToken=N,yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)),N})()}getIdTokenResult(v){return function Er(A){return yn.apply(this,arguments)}(this,v)}reload(){return function Ce(A){return Je.apply(this,arguments)}(this)}_assign(v){this!==v&&(we(this.uid===v.uid,this.auth,"internal-error"),this.displayName=v.displayName,this.photoURL=v.photoURL,this.email=v.email,this.emailVerified=v.emailVerified,this.phoneNumber=v.phoneNumber,this.isAnonymous=v.isAnonymous,this.tenantId=v.tenantId,this.providerData=v.providerData.map(w=>Object.assign({},w)),this.metadata._copy(v.metadata),this.stsTokenManager._assign(v.stsTokenManager))}_clone(v){const w=new $(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}));return w.metadata._copy(this.metadata),w}_onReload(v){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=v,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(v){this.reloadListener?this.reloadListener(v):this.reloadUserInfo=v}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(v,w=!1){var N=this;return(0,b.Z)(function*(){let Y=!1;v.idToken&&v.idToken!==N.stsTokenManager.accessToken&&(N.stsTokenManager.updateFromServerResponse(v),Y=!0),w&&(yield Gr(N)),yield N.auth._persistUserIfCurrent(N),Y&&N.auth._notifyListenersIfCurrent(N)})()}delete(){var v=this;return(0,b.Z)(function*(){const w=yield v.getIdToken();return yield Bn(v,function mr(A,v){return hn.apply(this,arguments)}(v.auth,{idToken:w})),v.stsTokenManager.clearRefreshToken(),v.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(v=>Object.assign({},v)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(v,w){var N,Y,le,Ne,Qe,Dt,fn,xn;const Rr=null!==(N=w.displayName)&&void 0!==N?N:void 0,Ya=null!==(Y=w.email)&&void 0!==Y?Y:void 0,el=null!==(le=w.phoneNumber)&&void 0!==le?le:void 0,Cp=null!==(Ne=w.photoURL)&&void 0!==Ne?Ne:void 0,m0=null!==(Qe=w.tenantId)&&void 0!==Qe?Qe:void 0,gf=null!==(Dt=w._redirectEventId)&&void 0!==Dt?Dt:void 0,md=null!==(fn=w.createdAt)&&void 0!==fn?fn:void 0,em=null!==(xn=w.lastLoginAt)&&void 0!==xn?xn:void 0,{uid:_0,emailVerified:j_,isAnonymous:tw,providerData:$_,stsTokenManager:Sp}=w;we(_0&&Sp,v,"internal-error");const mf=G.fromJSON(this.name,Sp);we("string"==typeof _0,v,"internal-error"),q(Rr,v.name),q(Ya,v.name),we("boolean"==typeof j_,v,"internal-error"),we("boolean"==typeof tw,v,"internal-error"),q(el,v.name),q(Cp,v.name),q(m0,v.name),q(gf,v.name),q(md,v.name),q(em,v.name);const _f=new $({uid:_0,auth:v,email:Ya,emailVerified:j_,displayName:Rr,isAnonymous:tw,photoURL:Cp,phoneNumber:el,tenantId:m0,stsTokenManager:mf,createdAt:md,lastLoginAt:em});return $_&&Array.isArray($_)&&(_f.providerData=$_.map(tm=>Object.assign({},tm))),gf&&(_f._redirectEventId=gf),_f}static _fromIdTokenResponse(v,w,N=!1){return(0,b.Z)(function*(){const Y=new G;Y.updateFromServerResponse(w);const le=new $({uid:w.localId,auth:v,stsTokenManager:Y,isAnonymous:N});return yield Gr(le),le})()}}const Ie=new Map;function Ke(A){_t(A instanceof Function,"Expected a class definition");let v=Ie.get(A);return v?(_t(v instanceof A,"Instance stored in cache mismatched with class"),v):(v=new A,Ie.set(A,v),v)}const sn=(()=>{class A{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,b.Z)(function*(){return!0})()}_set(w,N){var Y=this;return(0,b.Z)(function*(){Y.storage[w]=N})()}_get(w){var N=this;return(0,b.Z)(function*(){const Y=N.storage[w];return void 0===Y?null:Y})()}_remove(w){var N=this;return(0,b.Z)(function*(){delete N.storage[w]})()}_addListener(w,N){}_removeListener(w,N){}}return A.type="NONE",A})();function ln(A,v,w){return`firebase:${A}:${v}:${w}`}class kn{constructor(v,w,N){this.persistence=v,this.auth=w,this.userKey=N;const{config:Y,name:le}=this.auth;this.fullUserKey=ln(this.userKey,Y.apiKey,le),this.fullPersistenceKey=ln("persistence",Y.apiKey,le),this.boundEventHandler=w._onStorageEvent.bind(w),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(v){return this.persistence._set(this.fullUserKey,v.toJSON())}getCurrentUser(){var v=this;return(0,b.Z)(function*(){const w=yield v.persistence._get(v.fullUserKey);return w?$._fromJSON(v.auth,w):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(v){var w=this;return(0,b.Z)(function*(){if(w.persistence===v)return;const N=yield w.getCurrentUser();return yield w.removeCurrentUser(),w.persistence=v,N?w.setCurrentUser(N):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(v,w,N="authUser"){return(0,b.Z)(function*(){if(!w.length)return new kn(Ke(sn),v,N);const Y=(yield Promise.all(w.map(function(){var fn=(0,b.Z)(function*(xn){if(yield xn._isAvailable())return xn});return function(xn){return fn.apply(this,arguments)}}()))).filter(fn=>fn);let le=Y[0]||Ke(sn);const Ne=ln(N,v.config.apiKey,v.name);let Qe=null;for(const fn of w)try{const xn=yield fn._get(Ne);if(xn){const Rr=$._fromJSON(v,xn);fn!==le&&(Qe=Rr),le=fn;break}}catch{}const Dt=Y.filter(fn=>fn._shouldAllowMigration);return le._shouldAllowMigration&&Dt.length?(le=Dt[0],Qe&&(yield le._set(Ne,Qe.toJSON())),yield Promise.all(w.map(function(){var fn=(0,b.Z)(function*(xn){if(xn!==le)try{yield xn._remove(Ne)}catch{}});return function(xn){return fn.apply(this,arguments)}}())),new kn(le,v,N)):new kn(le,v,N)})()}}function Zt(A){const v=A.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(xs(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(Fn(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(ni(v))return"Blackberry";if(ga(v))return"Webos";if(Wr(v))return"Safari";if((v.includes("chrome/")||Kn(v))&&!v.includes("edge/"))return"Chrome";if(Jo(v))return"Android";{const N=A.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===N?.length)return N[1]}return"Other"}function Fn(A=(0,ne.z$)()){return/firefox\//i.test(A)}function Wr(A=(0,ne.z$)()){const v=A.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}function Kn(A=(0,ne.z$)()){return/crios\//i.test(A)}function xs(A=(0,ne.z$)()){return/iemobile/i.test(A)}function Jo(A=(0,ne.z$)()){return/android/i.test(A)}function ni(A=(0,ne.z$)()){return/blackberry/i.test(A)}function ga(A=(0,ne.z$)()){return/webos/i.test(A)}function ma(A=(0,ne.z$)()){return/iphone|ipad|ipod/i.test(A)||/macintosh/i.test(A)&&/mobile/i.test(A)}function os(A=(0,ne.z$)()){return ma(A)||Jo(A)||ga(A)||ni(A)||/windows phone/i.test(A)||xs(A)}function Jn(A,v=[]){let w;switch(A){case"Browser":w=Zt((0,ne.z$)());break;case"Worker":w=`${Zt((0,ne.z$)())}-${A}`;break;default:w=A}const N=v.length?v.join(","):"FirebaseCore-web";return`${w}/JsCore/${u.Jn}/${N}`}class Xo{constructor(v){this.auth=v,this.queue=[]}pushCallback(v,w){const N=le=>new Promise((Ne,Qe)=>{try{Ne(v(le))}catch(Dt){Qe(Dt)}});N.onAbort=w,this.queue.push(N);const Y=this.queue.length-1;return()=>{this.queue[Y]=()=>Promise.resolve()}}runMiddleware(v){var w=this;return(0,b.Z)(function*(){if(w.auth.currentUser===v)return;const N=[];try{for(const Y of w.queue)yield Y(v),Y.onAbort&&N.push(Y.onAbort)}catch(Y){N.reverse();for(const le of N)try{le()}catch{}throw w.auth._errorFactory.create("login-blocked",{originalMessage:Y?.message})}})()}}function ta(){return(ta=(0,b.Z)(function*(A,v={}){return nt(A,"GET","/v2/passwordPolicy",Ge(A,v))})).apply(this,arguments)}class fs{constructor(v){var w,N,Y,le;const Ne=v.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(w=Ne.minPasswordLength)&&void 0!==w?w:6,Ne.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ne.maxPasswordLength),void 0!==Ne.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ne.containsLowercaseCharacter),void 0!==Ne.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ne.containsUppercaseCharacter),void 0!==Ne.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ne.containsNumericCharacter),void 0!==Ne.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ne.containsNonAlphanumericCharacter),this.enforcementState=v.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Y=null===(N=v.allowedNonAlphanumericCharacters)||void 0===N?void 0:N.join(""))&&void 0!==Y?Y:"",this.forceUpgradeOnSignin=null!==(le=v.forceUpgradeOnSignin)&&void 0!==le&&le,this.schemaVersion=v.schemaVersion}validatePassword(v){var w,N,Y,le,Ne,Qe;const Dt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(v,Dt),this.validatePasswordCharacterOptions(v,Dt),Dt.isValid&&(Dt.isValid=null===(w=Dt.meetsMinPasswordLength)||void 0===w||w),Dt.isValid&&(Dt.isValid=null===(N=Dt.meetsMaxPasswordLength)||void 0===N||N),Dt.isValid&&(Dt.isValid=null===(Y=Dt.containsLowercaseLetter)||void 0===Y||Y),Dt.isValid&&(Dt.isValid=null===(le=Dt.containsUppercaseLetter)||void 0===le||le),Dt.isValid&&(Dt.isValid=null===(Ne=Dt.containsNumericCharacter)||void 0===Ne||Ne),Dt.isValid&&(Dt.isValid=null===(Qe=Dt.containsNonAlphanumericCharacter)||void 0===Qe||Qe),Dt}validatePasswordLengthOptions(v,w){const N=this.customStrengthOptions.minPasswordLength,Y=this.customStrengthOptions.maxPasswordLength;N&&(w.meetsMinPasswordLength=v.length>=N),Y&&(w.meetsMaxPasswordLength=v.length<=Y)}validatePasswordCharacterOptions(v,w){let N;this.updatePasswordCharacterOptionsStatuses(w,!1,!1,!1,!1);for(let Y=0;Y<v.length;Y++)N=v.charAt(Y),this.updatePasswordCharacterOptionsStatuses(w,N>="a"&&N<="z",N>="A"&&N<="Z",N>="0"&&N<="9",this.allowedNonAlphanumericCharacters.includes(N))}updatePasswordCharacterOptionsStatuses(v,w,N,Y,le){this.customStrengthOptions.containsLowercaseLetter&&(v.containsLowercaseLetter||(v.containsLowercaseLetter=w)),this.customStrengthOptions.containsUppercaseLetter&&(v.containsUppercaseLetter||(v.containsUppercaseLetter=N)),this.customStrengthOptions.containsNumericCharacter&&(v.containsNumericCharacter||(v.containsNumericCharacter=Y)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(v.containsNonAlphanumericCharacter||(v.containsNonAlphanumericCharacter=le))}}class Ps{constructor(v,w,N,Y){this.app=v,this.heartbeatServiceProvider=w,this.appCheckServiceProvider=N,this.config=Y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bs(this),this.idTokenSubscription=new bs(this),this.beforeStateQueue=new Xo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=It,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=Y.sdkClientVersion}_initializeWithPersistence(v,w){var N=this;return w&&(this._popupRedirectResolver=Ke(w)),this._initializationPromise=this.queue((0,b.Z)(function*(){var Y,le;if(!N._deleted&&(N.persistenceManager=yield kn.create(N,v),!N._deleted)){if(null!==(Y=N._popupRedirectResolver)&&void 0!==Y&&Y._shouldInitProactively)try{yield N._popupRedirectResolver._initialize(N)}catch{}yield N.initializeCurrentUser(w),N.lastNotifiedUid=(null===(le=N.currentUser)||void 0===le?void 0:le.uid)||null,!N._deleted&&(N._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var v=this;return(0,b.Z)(function*(){if(v._deleted)return;const w=yield v.assertedPersistence.getCurrentUser();if(v.currentUser||w){if(v.currentUser&&w&&v.currentUser.uid===w.uid)return v._currentUser._assign(w),void(yield v.currentUser.getIdToken());yield v._updateCurrentUser(w,!0)}})()}initializeCurrentUser(v){var w=this;return(0,b.Z)(function*(){var N;const Y=yield w.assertedPersistence.getCurrentUser();let le=Y,Ne=!1;if(v&&w.config.authDomain){yield w.getOrInitRedirectPersistenceManager();const Qe=null===(N=w.redirectUser)||void 0===N?void 0:N._redirectEventId,Dt=le?._redirectEventId,fn=yield w.tryRedirectSignIn(v);(!Qe||Qe===Dt)&&fn?.user&&(le=fn.user,Ne=!0)}if(!le)return w.directlySetCurrentUser(null);if(!le._redirectEventId){if(Ne)try{yield w.beforeStateQueue.runMiddleware(le)}catch(Qe){le=Y,w._popupRedirectResolver._overrideRedirectResult(w,()=>Promise.reject(Qe))}return le?w.reloadAndSetCurrentUserOrClear(le):w.directlySetCurrentUser(null)}return we(w._popupRedirectResolver,w,"argument-error"),yield w.getOrInitRedirectPersistenceManager(),w.redirectUser&&w.redirectUser._redirectEventId===le._redirectEventId?w.directlySetCurrentUser(le):w.reloadAndSetCurrentUserOrClear(le)})()}tryRedirectSignIn(v){var w=this;return(0,b.Z)(function*(){let N=null;try{N=yield w._popupRedirectResolver._completeRedirectFn(w,v,!0)}catch{yield w._setRedirectUser(null)}return N})()}reloadAndSetCurrentUserOrClear(v){var w=this;return(0,b.Z)(function*(){try{yield Gr(v)}catch(N){if("auth/network-request-failed"!==N?.code)return w.directlySetCurrentUser(null)}return w.directlySetCurrentUser(v)})()}useDeviceLanguage(){this.languageCode=function Vn(){if(typeof navigator>"u")return null;const A=navigator;return A.languages&&A.languages[0]||A.language||null}()}_delete(){var v=this;return(0,b.Z)(function*(){v._deleted=!0})()}updateCurrentUser(v){var w=this;return(0,b.Z)(function*(){const N=v?(0,ne.m9)(v):null;return N&&we(N.auth.config.apiKey===w.config.apiKey,w,"invalid-user-token"),w._updateCurrentUser(N&&N._clone(w))})()}_updateCurrentUser(v,w=!1){var N=this;return(0,b.Z)(function*(){if(!N._deleted)return v&&we(N.tenantId===v.tenantId,N,"tenant-id-mismatch"),w||(yield N.beforeStateQueue.runMiddleware(v)),N.queue((0,b.Z)(function*(){yield N.directlySetCurrentUser(v),N.notifyAuthListeners()}))})()}signOut(){var v=this;return(0,b.Z)(function*(){return yield v.beforeStateQueue.runMiddleware(null),(v.redirectPersistenceManager||v._popupRedirectResolver)&&(yield v._setRedirectUser(null)),v._updateCurrentUser(null,!0)})()}setPersistence(v){var w=this;return this.queue((0,b.Z)(function*(){yield w.assertedPersistence.setPersistence(Ke(v))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(v){var w=this;return(0,b.Z)(function*(){w._getPasswordPolicyInternal()||(yield w._updatePasswordPolicy());const N=w._getPasswordPolicyInternal();return N.schemaVersion!==w.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(w._errorFactory.create("unsupported-password-policy-schema-version",{})):N.validatePassword(v)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var v=this;return(0,b.Z)(function*(){const w=yield function ea(A){return ta.apply(this,arguments)}(v),N=new fs(w);null===v.tenantId?v._projectPasswordPolicy=N:v._tenantPasswordPolicies[v.tenantId]=N})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(v){this._errorFactory=new ne.LL("auth","Firebase",v())}onAuthStateChanged(v,w,N){return this.registerStateListener(this.authStateSubscription,v,w,N)}beforeAuthStateChanged(v,w){return this.beforeStateQueue.pushCallback(v,w)}onIdTokenChanged(v,w,N){return this.registerStateListener(this.idTokenSubscription,v,w,N)}authStateReady(){return new Promise((v,w)=>{if(this.currentUser)v();else{const N=this.onAuthStateChanged(()=>{N(),v()},w)}})}revokeAccessToken(v){var w=this;return(0,b.Z)(function*(){if(w.currentUser){const N=yield w.currentUser.getIdToken(),Y={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:v,idToken:N};null!=w.tenantId&&(Y.tenantId=w.tenantId),yield function Q(A,v){return B.apply(this,arguments)}(w,Y)}})()}toJSON(){var v;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(v=this._currentUser)||void 0===v?void 0:v.toJSON()}}_setRedirectUser(v,w){var N=this;return(0,b.Z)(function*(){const Y=yield N.getOrInitRedirectPersistenceManager(w);return null===v?Y.removeCurrentUser():Y.setCurrentUser(v)})()}getOrInitRedirectPersistenceManager(v){var w=this;return(0,b.Z)(function*(){if(!w.redirectPersistenceManager){const N=v&&Ke(v)||w._popupRedirectResolver;we(N,w,"argument-error"),w.redirectPersistenceManager=yield kn.create(w,[Ke(N._redirectPersistence)],"redirectUser"),w.redirectUser=yield w.redirectPersistenceManager.getCurrentUser()}return w.redirectPersistenceManager})()}_redirectUserForId(v){var w=this;return(0,b.Z)(function*(){var N,Y;return w._isInitialized&&(yield w.queue((0,b.Z)(function*(){}))),(null===(N=w._currentUser)||void 0===N?void 0:N._redirectEventId)===v?w._currentUser:(null===(Y=w.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===v?w.redirectUser:null})()}_persistUserIfCurrent(v){var w=this;return(0,b.Z)(function*(){if(v===w.currentUser)return w.queue((0,b.Z)(function*(){return w.directlySetCurrentUser(v)}))})()}_notifyListenersIfCurrent(v){v===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var v,w;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const N=null!==(w=null===(v=this.currentUser)||void 0===v?void 0:v.uid)&&void 0!==w?w:null;this.lastNotifiedUid!==N&&(this.lastNotifiedUid=N,this.authStateSubscription.next(this.currentUser))}registerStateListener(v,w,N,Y){if(this._deleted)return()=>{};const le="function"==typeof w?w:w.next.bind(w);let Ne=!1;const Qe=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(Qe,this,"internal-error"),Qe.then(()=>{Ne||le(this.currentUser)}),"function"==typeof w){const Dt=v.addObserver(w,N,Y);return()=>{Ne=!0,Dt()}}{const Dt=v.addObserver(w);return()=>{Ne=!0,Dt()}}}directlySetCurrentUser(v){var w=this;return(0,b.Z)(function*(){w.currentUser&&w.currentUser!==v&&w._currentUser._stopProactiveRefresh(),v&&w.isProactiveRefreshEnabled&&v._startProactiveRefresh(),w.currentUser=v,v?yield w.assertedPersistence.setCurrentUser(v):yield w.assertedPersistence.removeCurrentUser()})()}queue(v){return this.operations=this.operations.then(v,v),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(v){!v||this.frameworks.includes(v)||(this.frameworks.push(v),this.frameworks.sort(),this.clientVersion=Jn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var v=this;return(0,b.Z)(function*(){var w;const N={"X-Client-Version":v.clientVersion};v.app.options.appId&&(N["X-Firebase-gmpid"]=v.app.options.appId);const Y=yield null===(w=v.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getHeartbeatsHeader();Y&&(N["X-Firebase-Client"]=Y);const le=yield v._getAppCheckToken();return le&&(N["X-Firebase-AppCheck"]=le),N})()}_getAppCheckToken(){var v=this;return(0,b.Z)(function*(){var w;const N=yield null===(w=v.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getToken();return N?.error&&function Dn(A,...v){Ot.logLevel<=be.in.WARN&&Ot.warn(`Auth (${u.Jn}): ${A}`,...v)}(`Error while retrieving App Check token: ${N.error}`),N?.token})()}}function ri(A){return(0,ne.m9)(A)}class bs{constructor(v){this.auth=v,this.observer=null,this.addObserver=(0,ne.ne)(w=>this.observer=w)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zi={loadJS:()=>(0,b.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uo(A){return zi.loadJS(A)}function ks(A){return`__${A}${Math.floor(1e6*Math.random())}`}class va{constructor(v){this.type="recaptcha-enterprise",this.auth=ri(v)}verify(v="verify",w=!1){var N=this;return(0,b.Z)(function*(){function le(){return le=(0,b.Z)(function*(Qe){if(!w){if(null==Qe.tenantId&&null!=Qe._agentRecaptchaConfig)return Qe._agentRecaptchaConfig.siteKey;if(null!=Qe.tenantId&&void 0!==Qe._tenantRecaptchaConfigs[Qe.tenantId])return Qe._tenantRecaptchaConfigs[Qe.tenantId].siteKey}return new Promise(function(){var Dt=(0,b.Z)(function*(fn,xn){gt(Qe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Rr=>{if(void 0!==Rr.recaptchaKey){const Ya=new Ee(Rr);return null==Qe.tenantId?Qe._agentRecaptchaConfig=Ya:Qe._tenantRecaptchaConfigs[Qe.tenantId]=Ya,fn(Ya.siteKey)}xn(new Error("recaptcha Enterprise site key undefined"))}).catch(Rr=>{xn(Rr)})});return function(fn,xn){return Dt.apply(this,arguments)}}())}),le.apply(this,arguments)}function Ne(Qe,Dt,fn){const xn=window.grecaptcha;Ae(xn)?xn.enterprise.ready(()=>{xn.enterprise.execute(Qe,{action:v}).then(Rr=>{Dt(Rr)}).catch(()=>{Dt("NO_RECAPTCHA")})}):fn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Qe,Dt)=>{(function Y(Qe){return le.apply(this,arguments)})(N.auth).then(fn=>{if(!w&&Ae(window.grecaptcha))Ne(fn,Qe,Dt);else{if(typeof window>"u")return void Dt(new Error("RecaptchaVerifier is only supported in browser"));let xn=function Ei(){return zi.recaptchaEnterpriseScript}();0!==xn.length&&(xn+=fn),uo(xn).then(()=>{Ne(fn,Qe,Dt)}).catch(Rr=>{Dt(Rr)})}}).catch(fn=>{Dt(fn)})})})()}}function jr(A,v,w){return xo.apply(this,arguments)}function xo(){return(xo=(0,b.Z)(function*(A,v,w,N=!1){const Y=new va(A);let le;try{le=yield Y.verify(w)}catch{le=yield Y.verify(w,!0)}const Ne=Object.assign({},v);return Object.assign(Ne,N?{captchaResp:le}:{captchaResponse:le}),Object.assign(Ne,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ne,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ne})).apply(this,arguments)}function ws(A,v,w,N){return ra.apply(this,arguments)}function ra(){return ra=(0,b.Z)(function*(A,v,w,N){var Y;if(null!==(Y=A._getRecaptchaConfig())&&void 0!==Y&&Y.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const le=yield jr(A,v,w,"getOobCode"===w);return N(A,le)}return N(A,v).catch(function(){var le=(0,b.Z)(function*(Ne){if("auth/missing-recaptcha-token"===Ne.code){console.log(`${w} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Qe=yield jr(A,v,w,"getOobCode"===w);return N(A,Qe)}return Promise.reject(Ne)});return function(Ne){return le.apply(this,arguments)}}())}),ra.apply(this,arguments)}function ci(A){const v=A.indexOf(":");return v<0?"":A.substr(0,v+1)}function Po(A){if(!A)return null;const v=Number(A);return isNaN(v)?null:v}class ps{constructor(v,w){this.providerId=v,this.signInMethod=w}toJSON(){return Xe("not implemented")}_getIdTokenResponse(v){return Xe("not implemented")}_linkToIdToken(v,w){return Xe("not implemented")}_getReauthenticationResolver(v){return Xe("not implemented")}}function li(A,v){return fo.apply(this,arguments)}function fo(){return(fo=(0,b.Z)(function*(A,v){return nt(A,"POST","/v1/accounts:signUp",v)})).apply(this,arguments)}function Fi(A,v){return ls.apply(this,arguments)}function ls(){return(ls=(0,b.Z)(function*(A,v){return an(A,"POST","/v1/accounts:signInWithPassword",Ge(A,v))})).apply(this,arguments)}function Is(){return(Is=(0,b.Z)(function*(A,v){return nt(A,"POST","/v1/accounts:sendOobCode",Ge(A,v))})).apply(this,arguments)}function sc(A,v){return Di.apply(this,arguments)}function Di(){return(Di=(0,b.Z)(function*(A,v){return function Ur(A,v){return Is.apply(this,arguments)}(A,v)})).apply(this,arguments)}function po(){return(po=(0,b.Z)(function*(A,v){return an(A,"POST","/v1/accounts:signInWithEmailLink",Ge(A,v))})).apply(this,arguments)}function nr(){return(nr=(0,b.Z)(function*(A,v){return an(A,"POST","/v1/accounts:signInWithEmailLink",Ge(A,v))})).apply(this,arguments)}class er extends ps{constructor(v,w,N,Y=null){super("password",N),this._email=v,this._password=w,this._tenantId=Y}static _fromEmailAndPassword(v,w){return new er(v,w,"password")}static _fromEmailAndCode(v,w,N=null){return new er(v,w,"emailLink",N)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(v){const w="string"==typeof v?JSON.parse(v):v;if(w?.email&&w?.password){if("password"===w.signInMethod)return this._fromEmailAndPassword(w.email,w.password);if("emailLink"===w.signInMethod)return this._fromEmailAndCode(w.email,w.password,w.tenantId)}return null}_getIdTokenResponse(v){var w=this;return(0,b.Z)(function*(){switch(w.signInMethod){case"password":return ws(v,{returnSecureToken:!0,email:w._email,password:w._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Fi);case"emailLink":return function gi(A,v){return po.apply(this,arguments)}(v,{email:w._email,oobCode:w._password});default:ft(v,"internal-error")}})()}_linkToIdToken(v,w){var N=this;return(0,b.Z)(function*(){switch(N.signInMethod){case"password":return ws(v,{idToken:w,returnSecureToken:!0,email:N._email,password:N._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",li);case"emailLink":return function Yr(A,v){return nr.apply(this,arguments)}(v,{idToken:w,email:N._email,oobCode:N._password});default:ft(v,"internal-error")}})()}_getReauthenticationResolver(v){return this._getIdTokenResponse(v)}}function Sr(A,v){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,b.Z)(function*(A,v){return an(A,"POST","/v1/accounts:signInWithIdp",Ge(A,v))})).apply(this,arguments)}class Hn{constructor(v){var w,N,Y,le,Ne,Qe;const Dt=(0,ne.zd)((0,ne.pd)(v)),fn=null!==(w=Dt.apiKey)&&void 0!==w?w:null,xn=null!==(N=Dt.oobCode)&&void 0!==N?N:null,Rr=function mo(A){switch(A){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=Dt.mode)&&void 0!==Y?Y:null);we(fn&&xn&&Rr,"argument-error"),this.apiKey=fn,this.operation=Rr,this.code=xn,this.continueUrl=null!==(le=Dt.continueUrl)&&void 0!==le?le:null,this.languageCode=null!==(Ne=Dt.languageCode)&&void 0!==Ne?Ne:null,this.tenantId=null!==(Qe=Dt.tenantId)&&void 0!==Qe?Qe:null}static parseLink(v){const w=function Fo(A){const v=(0,ne.zd)((0,ne.pd)(A)).link,w=v?(0,ne.zd)((0,ne.pd)(v)).deep_link_id:null,N=(0,ne.zd)((0,ne.pd)(A)).deep_link_id;return(N?(0,ne.zd)((0,ne.pd)(N)).link:null)||N||w||v||A}(v);try{return new Hn(w)}catch{return null}}}let _o=(()=>{class A{constructor(){this.providerId=A.PROVIDER_ID}static credential(w,N){return er._fromEmailAndPassword(w,N)}static credentialWithLink(w,N){const Y=Hn.parseLink(N);return we(Y,"argument-error"),er._fromEmailAndCode(w,Y.code,Y.tenantId)}}return A.PROVIDER_ID="password",A.EMAIL_PASSWORD_SIGN_IN_METHOD="password",A.EMAIL_LINK_SIGN_IN_METHOD="emailLink",A})();class Ci{constructor(v){this.providerId=v,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(v){this.defaultLanguageCode=v}setCustomParameters(v){return this.customParameters=v,this}getCustomParameters(){return this.customParameters}}class yi extends Ci{constructor(){super(...arguments),this.scopes=[]}addScope(v){return this.scopes.includes(v)||this.scopes.push(v),this}getScopes(){return[...this.scopes]}}function Vs(A,v){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,b.Z)(function*(A,v){return an(A,"POST","/v1/accounts:signUp",Ge(A,v))})).apply(this,arguments)}class Ai{constructor(v){this.user=v.user,this.providerId=v.providerId,this._tokenResponse=v._tokenResponse,this.operationType=v.operationType}static _fromIdTokenResponse(v,w,N,Y=!1){return(0,b.Z)(function*(){const le=yield $._fromIdTokenResponse(v,N,Y),Ne=Xs(N);return new Ai({user:le,providerId:Ne,_tokenResponse:N,operationType:w})})()}static _forOperation(v,w,N){return(0,b.Z)(function*(){yield v._updateTokensIfNecessary(N,!0);const Y=Xs(N);return new Ai({user:v,providerId:Y,_tokenResponse:N,operationType:w})})()}}function Xs(A){return A.providerId?A.providerId:"phoneNumber"in A?"phone":null}class Ga extends ne.ZR{constructor(v,w,N,Y){var le;super(w.code,w.message),this.operationType=N,this.user=Y,Object.setPrototypeOf(this,Ga.prototype),this.customData={appName:v.name,tenantId:null!==(le=v.tenantId)&&void 0!==le?le:void 0,_serverResponse:w.customData._serverResponse,operationType:N}}static _fromErrorAndOperation(v,w,N,Y){return new Ga(v,w,N,Y)}}function xr(A,v,w,N){return("reauthenticate"===v?w._getReauthenticationResolver(A):w._getIdTokenResponse(A)).catch(le=>{throw"auth/multi-factor-auth-required"===le.code?Ga._fromErrorAndOperation(A,le,v,N):le})}function U(){return(U=(0,b.Z)(function*(A,v,w=!1){const N=yield Bn(A,v._linkToIdToken(A.auth,yield A.getIdToken()),w);return Ai._forOperation(A,"link",N)})).apply(this,arguments)}function Un(){return(Un=(0,b.Z)(function*(A,v,w=!1){const{auth:N}=A,Y="reauthenticate";try{const le=yield Bn(A,xr(N,Y,v,A),w);we(le.idToken,N,"internal-error");const Ne=Wn(le.idToken);we(Ne,N,"internal-error");const{sub:Qe}=Ne;return we(A.uid===Qe,N,"user-mismatch"),Ai._forOperation(A,Y,le)}catch(le){throw"auth/user-not-found"===le?.code&&ft(N,"user-mismatch"),le}})).apply(this,arguments)}function Zi(A,v){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,b.Z)(function*(A,v,w=!1){const N="signIn",Y=yield xr(A,N,v),le=yield Ai._fromIdTokenResponse(A,N,Y);return w||(yield A._updateCurrentUser(le.user)),le})).apply(this,arguments)}function Ni(A,v){return us.apply(this,arguments)}function us(){return(us=(0,b.Z)(function*(A,v){return Zi(ri(A),v)})).apply(this,arguments)}function za(A){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,b.Z)(function*(A){const v=ri(A);v._getPasswordPolicyInternal()&&(yield v._updatePasswordPolicy())})).apply(this,arguments)}function ac(){return(ac=(0,b.Z)(function*(A,v,w){const N=ri(A),Y={requestType:"PASSWORD_RESET",email:v,clientType:"CLIENT_TYPE_WEB"};w&&function Uo(A,v,w){var N;we((null===(N=w.url)||void 0===N?void 0:N.length)>0,A,"invalid-continue-uri"),we(typeof w.dynamicLinkDomain>"u"||w.dynamicLinkDomain.length>0,A,"invalid-dynamic-link-domain"),v.continueUrl=w.url,v.dynamicLinkDomain=w.dynamicLinkDomain,v.canHandleCodeInApp=w.handleCodeInApp,w.iOS&&(we(w.iOS.bundleId.length>0,A,"missing-ios-bundle-id"),v.iOSBundleId=w.iOS.bundleId),w.android&&(we(w.android.packageName.length>0,A,"missing-android-pkg-name"),v.androidInstallApp=w.android.installApp,v.androidMinimumVersionCode=w.android.minimumVersion,v.androidPackageName=w.android.packageName)}(N,Y,w),yield ws(N,Y,"getOobCode",sc)})).apply(this,arguments)}function Vo(){return(Vo=(0,b.Z)(function*(A,v,w){const N=ri(A),Ne=yield ws(N,{returnSecureToken:!0,email:v,password:w,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Vs).catch(Dt=>{throw"auth/password-does-not-meet-requirements"===Dt.code&&za(A),Dt}),Qe=yield Ai._fromIdTokenResponse(N,"signIn",Ne);return yield N._updateCurrentUser(Qe.user),Qe})).apply(this,arguments)}function Wa(){return(Wa=(0,b.Z)(function*(A){return(0,ne.m9)(A).delete()})).apply(this,arguments)}const Sn="__sak";class Ds{constructor(v,w){this.storageRetriever=v,this.type=w}_isAvailable(){try{return this.storage?(this.storage.setItem(Sn,"1"),this.storage.removeItem(Sn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(v,w){return this.storage.setItem(v,JSON.stringify(w)),Promise.resolve()}_get(v){const w=this.storage.getItem(v);return Promise.resolve(w?JSON.parse(w):null)}_remove(v){return this.storage.removeItem(v),Promise.resolve()}get storage(){return this.storageRetriever()}}const bl=(()=>{class A extends Ds{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(w,N)=>this.onStorageEvent(w,N),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Qh(){const A=(0,ne.z$)();return Wr(A)||ma(A)}()&&function as(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=os(),this._shouldAllowMigration=!0}forAllChangedKeys(w){for(const N of Object.keys(this.listeners)){const Y=this.storage.getItem(N),le=this.localCache[N];Y!==le&&w(N,le,Y)}}onStorageEvent(w,N=!1){if(!w.key)return void this.forAllChangedKeys((Qe,Dt,fn)=>{this.notifyListeners(Qe,fn)});const Y=w.key;if(N?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Qe=this.storage.getItem(Y);if(w.newValue!==Qe)null!==w.newValue?this.storage.setItem(Y,w.newValue):this.storage.removeItem(Y);else if(this.localCache[Y]===w.newValue&&!N)return}const le=()=>{const Qe=this.storage.getItem(Y);!N&&this.localCache[Y]===Qe||this.notifyListeners(Y,Qe)},Ne=this.storage.getItem(Y);!function Rs(){return(0,ne.w1)()&&10===document.documentMode}()||Ne===w.newValue||w.newValue===w.oldValue?le():setTimeout(le,10)}notifyListeners(w,N){this.localCache[w]=N;const Y=this.listeners[w];if(Y)for(const le of Array.from(Y))le(N&&JSON.parse(N))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((w,N,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:w,oldValue:N,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(w,N){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[w]||(this.listeners[w]=new Set,this.localCache[w]=this.storage.getItem(w)),this.listeners[w].add(N)}_removeListener(w,N){this.listeners[w]&&(this.listeners[w].delete(N),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(w,N){var Y=()=>super._set,le=this;return(0,b.Z)(function*(){yield Y().call(le,w,N),le.localCache[w]=JSON.stringify(N)})()}_get(w){var N=()=>super._get,Y=this;return(0,b.Z)(function*(){const le=yield N().call(Y,w);return Y.localCache[w]=JSON.stringify(le),le})()}_remove(w){var N=()=>super._remove,Y=this;return(0,b.Z)(function*(){yield N().call(Y,w),delete Y.localCache[w]})()}}return A.type="LOCAL",A})(),Ca=(()=>{class A extends Ds{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(w,N){}_removeListener(w,N){}}return A.type="SESSION",A})();let qc=(()=>{class A{constructor(w){this.eventTarget=w,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(w){const N=this.receivers.find(le=>le.isListeningto(w));if(N)return N;const Y=new A(w);return this.receivers.push(Y),Y}isListeningto(w){return this.eventTarget===w}handleEvent(w){var N=this;return(0,b.Z)(function*(){const Y=w,{eventId:le,eventType:Ne,data:Qe}=Y.data,Dt=N.handlersMap[Ne];if(!Dt?.size)return;Y.ports[0].postMessage({status:"ack",eventId:le,eventType:Ne});const fn=Array.from(Dt).map(function(){var Rr=(0,b.Z)(function*(Ya){return Ya(Y.origin,Qe)});return function(Ya){return Rr.apply(this,arguments)}}()),xn=yield function Jh(A){return Promise.all(A.map(function(){var v=(0,b.Z)(function*(w){try{return{fulfilled:!0,value:yield w}}catch(N){return{fulfilled:!1,reason:N}}});return function(w){return v.apply(this,arguments)}}()))}(fn);Y.ports[0].postMessage({status:"done",eventId:le,eventType:Ne,response:xn})})()}_subscribe(w,N){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[w]||(this.handlersMap[w]=new Set),this.handlersMap[w].add(N)}_unsubscribe(w,N){this.handlersMap[w]&&N&&this.handlersMap[w].delete(N),(!N||0===this.handlersMap[w].size)&&delete this.handlersMap[w],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return A.receivers=[],A})();function od(A="",v=10){let w="";for(let N=0;N<v;N++)w+=Math.floor(10*Math.random());return A+w}class ad{constructor(v){this.target=v,this.handlers=new Set}removeMessageHandler(v){v.messageChannel&&(v.messageChannel.port1.removeEventListener("message",v.onMessage),v.messageChannel.port1.close()),this.handlers.delete(v)}_send(v,w,N=50){var Y=this;return(0,b.Z)(function*(){const le=typeof MessageChannel<"u"?new MessageChannel:null;if(!le)throw new Error("connection_unavailable");let Ne,Qe;return new Promise((Dt,fn)=>{const xn=od("",20);le.port1.start();const Rr=setTimeout(()=>{fn(new Error("unsupported_event"))},N);Qe={messageChannel:le,onMessage(Ya){const el=Ya;if(el.data.eventId===xn)switch(el.data.status){case"ack":clearTimeout(Rr),Ne=setTimeout(()=>{fn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ne),Dt(el.data.response);break;default:clearTimeout(Rr),clearTimeout(Ne),fn(new Error("invalid_response"))}}},Y.handlers.add(Qe),le.port1.addEventListener("message",Qe.onMessage),Y.target.postMessage({eventType:v,eventId:xn,data:w},[le.port2])}).finally(()=>{Qe&&Y.removeMessageHandler(Qe)})})()}}function ht(){return window}function Du(){return typeof ht().WorkerGlobalScope<"u"&&"function"==typeof ht().importScripts}function Ki(){return(Ki=(0,b.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const vo="firebaseLocalStorageDb",dc="firebaseLocalStorage",Su="fbase_key";class Zc{constructor(v){this.request=v}toPromise(){return new Promise((v,w)=>{this.request.addEventListener("success",()=>{v(this.request.result)}),this.request.addEventListener("error",()=>{w(this.request.error)})})}}function Za(A,v){return A.transaction([dc],v?"readwrite":"readonly").objectStore(dc)}function da(){const A=indexedDB.open(vo,1);return new Promise((v,w)=>{A.addEventListener("error",()=>{w(A.error)}),A.addEventListener("upgradeneeded",()=>{const N=A.result;try{N.createObjectStore(dc,{keyPath:Su})}catch(Y){w(Y)}}),A.addEventListener("success",(0,b.Z)(function*(){const N=A.result;N.objectStoreNames.contains(dc)?v(N):(N.close(),yield function _s(){const A=indexedDB.deleteDatabase(vo);return new Zc(A).toPromise()}(),v(yield da()))}))})}function Au(A,v,w){return $o.apply(this,arguments)}function $o(){return($o=(0,b.Z)(function*(A,v,w){const N=Za(A,!0).put({[Su]:v,value:w});return new Zc(N).toPromise()})).apply(this,arguments)}function cd(){return(cd=(0,b.Z)(function*(A,v){const w=Za(A,!1).get(v),N=yield new Zc(w).toPromise();return void 0===N?null:N.value})).apply(this,arguments)}function ql(A,v){const w=Za(A,!0).delete(v);return new Zc(w).toPromise()}const D=(()=>{class A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var w=this;return(0,b.Z)(function*(){return w.db||(w.db=yield da()),w.db})()}_withRetries(w){var N=this;return(0,b.Z)(function*(){let Y=0;for(;;)try{const le=yield N._openDb();return yield w(le)}catch(le){if(Y++>3)throw le;N.db&&(N.db.close(),N.db=void 0)}})()}initializeServiceWorkerMessaging(){var w=this;return(0,b.Z)(function*(){return Du()?w.initializeReceiver():w.initializeSender()})()}initializeReceiver(){var w=this;return(0,b.Z)(function*(){w.receiver=qc._getInstance(function wl(){return Du()?self:null}()),w.receiver._subscribe("keyChanged",function(){var N=(0,b.Z)(function*(Y,le){return{keyProcessed:(yield w._poll()).includes(le.key)}});return function(Y,le){return N.apply(this,arguments)}}()),w.receiver._subscribe("ping",function(){var N=(0,b.Z)(function*(Y,le){return["keyChanged"]});return function(Y,le){return N.apply(this,arguments)}}())})()}initializeSender(){var w=this;return(0,b.Z)(function*(){var N,Y;if(w.activeServiceWorker=yield function Xh(){return Ki.apply(this,arguments)}(),!w.activeServiceWorker)return;w.sender=new ad(w.activeServiceWorker);const le=yield w.sender._send("ping",{},800);le&&null!==(N=le[0])&&void 0!==N&&N.fulfilled&&null!==(Y=le[0])&&void 0!==Y&&Y.value.includes("keyChanged")&&(w.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(w){var N=this;return(0,b.Z)(function*(){if(N.sender&&N.activeServiceWorker&&function Ud(){var A;return(null===(A=navigator?.serviceWorker)||void 0===A?void 0:A.controller)||null}()===N.activeServiceWorker)try{yield N.sender._send("keyChanged",{key:w},N.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,b.Z)(function*(){try{if(!indexedDB)return!1;const w=yield da();return yield Au(w,Sn,"1"),yield ql(w,Sn),!0}catch{}return!1})()}_withPendingWrite(w){var N=this;return(0,b.Z)(function*(){N.pendingWrites++;try{yield w()}finally{N.pendingWrites--}})()}_set(w,N){var Y=this;return(0,b.Z)(function*(){return Y._withPendingWrite((0,b.Z)(function*(){return yield Y._withRetries(le=>Au(le,w,N)),Y.localCache[w]=N,Y.notifyServiceWorker(w)}))})()}_get(w){var N=this;return(0,b.Z)(function*(){const Y=yield N._withRetries(le=>function Sa(A,v){return cd.apply(this,arguments)}(le,w));return N.localCache[w]=Y,Y})()}_remove(w){var N=this;return(0,b.Z)(function*(){return N._withPendingWrite((0,b.Z)(function*(){return yield N._withRetries(Y=>ql(Y,w)),delete N.localCache[w],N.notifyServiceWorker(w)}))})()}_poll(){var w=this;return(0,b.Z)(function*(){const N=yield w._withRetries(Ne=>{const Qe=Za(Ne,!1).getAll();return new Zc(Qe).toPromise()});if(!N)return[];if(0!==w.pendingWrites)return[];const Y=[],le=new Set;if(0!==N.length)for(const{fbase_key:Ne,value:Qe}of N)le.add(Ne),JSON.stringify(w.localCache[Ne])!==JSON.stringify(Qe)&&(w.notifyListeners(Ne,Qe),Y.push(Ne));for(const Ne of Object.keys(w.localCache))w.localCache[Ne]&&!le.has(Ne)&&(w.notifyListeners(Ne,null),Y.push(Ne));return Y})()}notifyListeners(w,N){this.localCache[w]=N;const Y=this.listeners[w];if(Y)for(const le of Array.from(Y))le(N)}startPolling(){var w=this;this.stopPolling(),this.pollTimer=setInterval((0,b.Z)(function*(){return w._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(w,N){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[w]||(this.listeners[w]=new Set,this._get(w)),this.listeners[w].add(N)}_removeListener(w,N){this.listeners[w]&&(this.listeners[w].delete(N),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return A.type="LOCAL",A})();ks("rcb"),new sr(3e4,6e4);class El extends ps{constructor(v){super("custom","custom"),this.params=v}_getIdTokenResponse(v){return Sr(v,this._buildIdpRequest())}_linkToIdToken(v,w){return Sr(v,this._buildIdpRequest(w))}_getReauthenticationResolver(v){return Sr(v,this._buildIdpRequest())}_buildIdpRequest(v){const w={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return v&&(w.idToken=v),w}}function ud(A){return Zi(A.auth,new El(A),A.bypassAuthState)}function rf(A){const{auth:v,user:w}=A;return we(w,v,"internal-error"),function Xt(A,v){return Un.apply(this,arguments)}(w,new El(A),A.bypassAuthState)}function sf(A){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,b.Z)(function*(A){const{auth:v,user:w}=A;return we(w,v,"internal-error"),function J(A,v){return U.apply(this,arguments)}(w,new El(A),A.bypassAuthState)})).apply(this,arguments)}class zg{constructor(v,w,N,Y,le=!1){this.auth=v,this.resolver=N,this.user=Y,this.bypassAuthState=le,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(w)?w:[w]}execute(){var v=this;return new Promise(function(){var w=(0,b.Z)(function*(N,Y){v.pendingPromise={resolve:N,reject:Y};try{v.eventManager=yield v.resolver._initialize(v.auth),yield v.onExecution(),v.eventManager.registerConsumer(v)}catch(le){v.reject(le)}});return function(N,Y){return w.apply(this,arguments)}}())}onAuthEvent(v){var w=this;return(0,b.Z)(function*(){const{urlResponse:N,sessionId:Y,postBody:le,tenantId:Ne,error:Qe,type:Dt}=v;if(Qe)return void w.reject(Qe);const fn={auth:w.auth,requestUri:N,sessionId:Y,tenantId:Ne||void 0,postBody:le||void 0,user:w.user,bypassAuthState:w.bypassAuthState};try{w.resolve(yield w.getIdpTask(Dt)(fn))}catch(xn){w.reject(xn)}})()}onError(v){this.reject(v)}getIdpTask(v){switch(v){case"signInViaPopup":case"signInViaRedirect":return ud;case"linkViaPopup":case"linkViaRedirect":return sf;case"reauthViaPopup":case"reauthViaRedirect":return rf;default:ft(this.auth,"internal-error")}}resolve(v){_t(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(v),this.unregisterAndCleanUp()}reject(v){_t(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(v),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new sr(2e3,1e4);const Mu="pendingRedirect",Ac=new Map;class af extends zg{constructor(v,w,N=!1){super(v,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],w,void 0,N),this.eventId=null}execute(){var v=()=>super.execute,w=this;return(0,b.Z)(function*(){let N=Ac.get(w.auth._key());if(!N){try{const le=(yield function Jl(A,v){return xu.apply(this,arguments)}(w.resolver,w.auth))?yield v().call(w):null;N=()=>Promise.resolve(le)}catch(Y){N=()=>Promise.reject(Y)}Ac.set(w.auth._key(),N)}return w.bypassAuthState||Ac.set(w.auth._key(),()=>Promise.resolve(null)),N()})()}onAuthEvent(v){var w=()=>super.onAuthEvent,N=this;return(0,b.Z)(function*(){if("signInViaRedirect"===v.type)return w().call(N,v);if("unknown"!==v.type){if(v.eventId){const Y=yield N.auth._redirectUserForId(v.eventId);if(Y)return N.user=Y,w().call(N,v);N.resolve(null)}}else N.resolve(null)})()}onExecution(){return(0,b.Z)(function*(){})()}cleanUp(){}}function xu(){return(xu=(0,b.Z)(function*(A,v){const w=function cf(A){return ln(Mu,A.config.apiKey,A.name)}(v),N=function Pu(A){return Ke(A._redirectPersistence)}(A);if(!(yield N._isAvailable()))return!1;const Y="true"===(yield N._get(w));return yield N._remove(w),Y})).apply(this,arguments)}function dd(A,v){Ac.set(A._key(),v)}function $d(A,v){return ku.apply(this,arguments)}function ku(){return(ku=(0,b.Z)(function*(A,v,w=!1){const N=ri(A),Y=function hc(A,v){return v?Ke(v):(we(A._popupRedirectResolver,A,"argument-error"),A._popupRedirectResolver)}(N,v),Ne=yield new af(N,Y,w).execute();return Ne&&!w&&(delete Ne.user._redirectEventId,yield N._persistUserIfCurrent(Ne.user),yield N._setRedirectUser(null,v)),Ne})).apply(this,arguments)}class L{constructor(v){this.auth=v,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(v){this.consumers.add(v),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,v)&&(this.sendToConsumer(this.queuedRedirectEvent,v),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(v){this.consumers.delete(v)}onEvent(v){if(this.hasEventBeenHandled(v))return!1;let w=!1;return this.consumers.forEach(N=>{this.isEventForConsumer(v,N)&&(w=!0,this.sendToConsumer(v,N),this.saveEventToCache(v))}),this.hasHandledPotentialRedirect||!function Re(A){switch(A.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ge(A);default:return!1}}(v)||(this.hasHandledPotentialRedirect=!0,w||(this.queuedRedirectEvent=v,w=!0)),w}sendToConsumer(v,w){var N;if(v.error&&!ge(v)){const Y=(null===(N=v.error.code)||void 0===N?void 0:N.split("auth/")[1])||"internal-error";w.onError(ot(this.auth,Y))}else w.onAuthEvent(v)}isEventForConsumer(v,w){const N=null===w.eventId||!!v.eventId&&v.eventId===w.eventId;return w.filter.includes(v.type)&&N}hasEventBeenHandled(v){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ee(v))}saveEventToCache(v){this.cachedEventUids.add(ee(v)),this.lastProcessedEventTime=Date.now()}}function ee(A){return[A.type,A.eventId,A.sessionId,A.tenantId].filter(v=>v).join("-")}function ge({type:A,error:v}){return"unknown"===A&&"auth/no-auth-event"===v?.code}function st(){return(st=(0,b.Z)(function*(A,v={}){return nt(A,"GET","/v1/projects",v)})).apply(this,arguments)}const Ht=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lt=/^https?/;function $n(){return $n=(0,b.Z)(function*(A){if(A.config.emulator)return;const{authorizedDomains:v}=yield function Fe(A){return st.apply(this,arguments)}(A);for(const w of v)try{if(Zn(w))return}catch{}ft(A,"unauthorized-domain")}),$n.apply(this,arguments)}function Zn(A){const v=Pn(),{protocol:w,hostname:N}=new URL(v);if(A.startsWith("chrome-extension://")){const Ne=new URL(A);return""===Ne.hostname&&""===N?"chrome-extension:"===w&&A.replace("chrome-extension://","")===v.replace("chrome-extension://",""):"chrome-extension:"===w&&Ne.hostname===N}if(!Lt.test(w))return!1;if(Ht.test(A))return N===A;const Y=A.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(N)}const Gs=new sr(3e4,6e4);function js(){const A=ht().___jsl;if(A?.H)for(const v of Object.keys(A.H))if(A.H[v].r=A.H[v].r||[],A.H[v].L=A.H[v].L||[],A.H[v].r=[...A.H[v].L],A.CP)for(let w=0;w<A.CP.length;w++)A.CP[w]=null}let fd=null;const Oc=new sr(5e3,15e3),Sl="__/auth/iframe",Wg="emulator/auth/iframe",l0={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Lu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function u0(A){const v=A.config;we(v.authDomain,A,"auth-domain-config-required");const w=v.emulator?hr(v,Wg):`https://${A.config.authDomain}/${Sl}`,N={apiKey:v.apiKey,appName:A.name,v:u.Jn},Y=Lu.get(A.config.apiHost);Y&&(N.eid=Y);const le=A._getFrameworks();return le.length&&(N.fw=le.join(",")),`${w}?${(0,ne.xO)(N).slice(1)}`}function $s(){return $s=(0,b.Z)(function*(A){const v=yield function zd(A){return fd=fd||function Fu(A){return new Promise((v,w)=>{var N,Y,le;function Ne(){js(),gapi.load("gapi.iframes",{callback:()=>{v(gapi.iframes.getContext())},ontimeout:()=>{js(),w(ot(A,"network-request-failed"))},timeout:Gs.get()})}if(null!==(Y=null===(N=ht().gapi)||void 0===N?void 0:N.iframes)&&void 0!==Y&&Y.Iframe)v(gapi.iframes.getContext());else{if(null===(le=ht().gapi)||void 0===le||!le.load){const Qe=ks("iframefcb");return ht()[Qe]=()=>{gapi.load?Ne():w(ot(A,"network-request-failed"))},uo(`${function ya(){return zi.gapiScript}()}?onload=${Qe}`).catch(Dt=>w(Dt))}Ne()}}).catch(v=>{throw fd=null,v})}(A),fd}(A),w=ht().gapi;return we(w,A,"internal-error"),v.open({where:document.body,url:u0(A),messageHandlersFilter:w.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:l0,dontclear:!0},N=>new Promise(function(){var Y=(0,b.Z)(function*(le,Ne){yield N.restyle({setHideOnLeave:!1});const Qe=ot(A,"network-request-failed"),Dt=ht().setTimeout(()=>{Ne(Qe)},Oc.get());function fn(){ht().clearTimeout(Dt),le(N)}N.ping(fn).then(fn,()=>{Ne(Qe)})});return function(le,Ne){return Y.apply(this,arguments)}}()))}),$s.apply(this,arguments)}const F_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class qd{constructor(v){this.window=v,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Zg="__/auth/handler",d0="emulator/auth/handler",U_=encodeURIComponent("fac");function B_(A,v,w,N,Y,le){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,b.Z)(function*(A,v,w,N,Y,le){we(A.config.authDomain,A,"auth-domain-config-required"),we(A.config.apiKey,A,"invalid-api-key");const Ne={apiKey:A.config.apiKey,appName:A.name,authType:w,redirectUrl:N,v:u.Jn,eventId:Y};if(v instanceof Ci){v.setDefaultLanguage(A.languageCode),Ne.providerId=v.providerId||"",(0,ne.xb)(v.getCustomParameters())||(Ne.customParameters=JSON.stringify(v.getCustomParameters()));for(const[xn,Rr]of Object.entries(le||{}))Ne[xn]=Rr}if(v instanceof yi){const xn=v.getScopes().filter(Rr=>""!==Rr);xn.length>0&&(Ne.scopes=xn.join(","))}A.tenantId&&(Ne.tid=A.tenantId);const Qe=Ne;for(const xn of Object.keys(Qe))void 0===Qe[xn]&&delete Qe[xn];const Dt=yield A._getAppCheckToken(),fn=Dt?`#${U_}=${encodeURIComponent(Dt)}`:"";return`${function Kg({config:A}){return A.emulator?hr(A,d0):`https://${A.authDomain}/${Zg}`}(A)}?${(0,ne.xO)(Qe).slice(1)}${fn}`})).apply(this,arguments)}const nu="webStorageSupport",H_=class V_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ca,this._completeRedirectFn=$d,this._overrideRedirectResult=dd}_openPopup(v,w,N,Y){var le=this;return(0,b.Z)(function*(){var Ne;_t(null===(Ne=le.eventManagers[v._key()])||void 0===Ne?void 0:Ne.manager,"_initialize() not called before _openPopup()");const Qe=yield B_(v,w,N,Pn(),Y);return function ff(A,v,w,N=500,Y=600){const le=Math.max((window.screen.availHeight-Y)/2,0).toString(),Ne=Math.max((window.screen.availWidth-N)/2,0).toString();let Qe="";const Dt=Object.assign(Object.assign({},F_),{width:N.toString(),height:Y.toString(),top:le,left:Ne}),fn=(0,ne.z$)().toLowerCase();w&&(Qe=Kn(fn)?"_blank":w),Fn(fn)&&(v=v||"http://localhost",Dt.scrollbars="yes");const xn=Object.entries(Dt).reduce((Ya,[el,Cp])=>`${Ya}${el}=${Cp},`,"");if(function Ii(A=(0,ne.z$)()){var v;return ma(A)&&!(null===(v=window.navigator)||void 0===v||!v.standalone)}(fn)&&"_self"!==Qe)return function Uu(A,v){const w=document.createElement("a");w.href=A,w.target=v;const N=document.createEvent("MouseEvent");N.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),w.dispatchEvent(N)}(v||"",Qe),new qd(null);const Rr=window.open(v||"",Qe,xn);we(Rr,A,"popup-blocked");try{Rr.focus()}catch{}return new qd(Rr)}(v,Qe,od())})()}_openRedirect(v,w,N,Y){var le=this;return(0,b.Z)(function*(){return yield le._originValidation(v),function yr(A){ht().location.href=A}(yield B_(v,w,N,Pn(),Y)),new Promise(()=>{})})()}_initialize(v){const w=v._key();if(this.eventManagers[w]){const{manager:Y,promise:le}=this.eventManagers[w];return Y?Promise.resolve(Y):(_t(le,"If manager is not set, promise should be"),le)}const N=this.initAndGetManager(v);return this.eventManagers[w]={promise:N},N.catch(()=>{delete this.eventManagers[w]}),N}initAndGetManager(v){var w=this;return(0,b.Z)(function*(){const N=yield function qg(A){return $s.apply(this,arguments)}(v),Y=new L(v);return N.register("authEvent",le=>(we(le?.authEvent,v,"invalid-auth-event"),{status:Y.onEvent(le.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),w.eventManagers[v._key()]={manager:Y},w.iframes[v._key()]=N,Y})()}_isIframeWebStorageSupported(v,w){this.iframes[v._key()].send(nu,{type:nu},Y=>{var le;const Ne=null===(le=Y?.[0])||void 0===le?void 0:le[nu];void 0!==Ne&&w(!!Ne),ft(v,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(v){const w=v._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function un(A){return $n.apply(this,arguments)}(v)),this.originValidationPromises[w]}get _shouldInitProactively(){return os()||Wr()||ma()}};var pd="@firebase/auth";class Jg{constructor(v){this.auth=v,this.internalListeners=new Map}getUid(){var v;return this.assertAuthConfigured(),(null===(v=this.auth.currentUser)||void 0===v?void 0:v.uid)||null}getToken(v){var w=this;return(0,b.Z)(function*(){return w.assertAuthConfigured(),yield w.auth._initializationPromise,w.auth.currentUser?{accessToken:yield w.auth.currentUser.getIdToken(v)}:null})()}addAuthTokenListener(v){if(this.assertAuthConfigured(),this.internalListeners.has(v))return;const w=this.auth.onIdTokenChanged(N=>{v(N?.stsTokenManager.accessToken||null)});this.internalListeners.set(v,w),this.updateProactiveRefresh()}removeAuthTokenListener(v){this.assertAuthConfigured();const w=this.internalListeners.get(v);w&&(this.internalListeners.delete(v),w(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const f0=(0,ne.Pz)("authIdTokenMaxAge")||300;let pf=null;const Ep=A=>function(){var v=(0,b.Z)(function*(w){const N=w&&(yield w.getIdTokenResult()),Y=N&&((new Date).getTime()-Date.parse(N.issuedAtTime))/1e3;if(Y&&Y>f0)return;const le=N?.token;pf!==le&&(pf=le,yield fetch(A,{method:le?"POST":"DELETE",headers:le?{Authorization:`Bearer ${le}`}:{}}))});return function(w){return v.apply(this,arguments)}}();function gd(A=(0,u.Mq)()){const v=(0,u.qX)(A,"auth");if(v.isInitialized())return v.getImmediate();const w=function ul(A,v){const w=(0,u.qX)(A,"auth");if(w.isInitialized()){const Y=w.getImmediate(),le=w.getOptions();if((0,ne.vZ)(le,v??{}))return Y;ft(Y,"already-initialized")}return w.initialize({options:v})}(A,{popupRedirectResolver:H_,persistence:[D,bl,Ca]}),N=(0,ne.Pz)("authTokenSyncURL");if(N&&N.match(/^\/[^\/].*/)){const le=Ep(N);(function yo(A,v,w){(0,ne.m9)(A).beforeAuthStateChanged(v,w)})(w,le,()=>le(w.currentUser)),function ml(A,v,w,N){(0,ne.m9)(A).onIdTokenChanged(v,w,N)}(w,Ne=>le(Ne))}const Y=(0,ne.q4)("auth");return Y&&function Vc(A,v,w){const N=ri(A);we(N._canInitEmulator,N,"emulator-config-failed"),we(/^https?:\/\//.test(v),N,"invalid-emulator-scheme");const Y=!!w?.disableWarnings,le=ci(v),{host:Ne,port:Qe}=function Ro(A){const v=ci(A),w=/(\/\/)?([^?#/]+)/.exec(A.substr(v.length));if(!w)return{host:"",port:null};const N=w[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(N);if(Y){const le=Y[1];return{host:le,port:Po(N.substr(le.length+1))}}{const[le,Ne]=N.split(":");return{host:le,port:Po(Ne)}}}(v);N.config.emulator={url:`${le}//${Ne}${null===Qe?"":`:${Qe}`}/`},N.settings.appVerificationDisabledForTesting=!0,N.emulatorConfig=Object.freeze({host:Ne,port:Qe,protocol:le.replace(":",""),options:Object.freeze({disableWarnings:Y})}),Y||function Ha(){function A(){const v=document.createElement("p"),w=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",w.position="fixed",w.width="100%",w.backgroundColor="#ffffff",w.border=".1em solid #000000",w.color="#b50000",w.bottom="0px",w.left="0px",w.margin="0px",w.zIndex="10000",w.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",A):A())}()}(w,`http://${Y}`),w}(function na(A){zi=A})({loadJS:A=>new Promise((v,w)=>{const N=document.createElement("script");N.setAttribute("src",A),N.onload=v,N.onerror=Y=>{const le=ot("internal-error");le.customData=Y,w(le)},N.type="text/javascript",N.charset="UTF-8",function p0(){var A,v;return null!==(v=null===(A=document.getElementsByTagName("head"))||void 0===A?void 0:A[0])&&void 0!==v?v:document}().appendChild(N)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function ru(A){(0,u.Xd)(new fe.wA("auth",(v,{options:w})=>{const N=v.getProvider("app").getImmediate(),Y=v.getProvider("heartbeat"),le=v.getProvider("app-check-internal"),{apiKey:Ne,authDomain:Qe}=N.options;we(Ne&&!Ne.includes(":"),"invalid-api-key",{appName:N.name});const Dt={apiKey:Ne,authDomain:Qe,clientPlatform:A,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jn(A)},fn=new Ps(N,Y,le,Dt);return function Kr(A,v){const w=v?.persistence||[],N=(Array.isArray(w)?w:[w]).map(Ke);v?.errorMap&&A._updateErrorMap(v.errorMap),A._initializeWithPersistence(N,v?.popupRedirectResolver)}(fn,w),fn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,w,N)=>{v.getProvider("auth-internal").initialize()})),(0,u.Xd)(new fe.wA("auth-internal",v=>{const w=ri(v.getProvider("auth").getImmediate());return new Jg(w)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,u.KN)(pd,"1.6.2",function G_(A){switch(A){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(A)),(0,u.KN)(pd,"1.6.2","esm2017")}("Browser");var g0=K(5619),Xc=K(8180),ii=K(3477),Xg=K(9468),ew=K(7158),Tp=K(4456);let Dp=(()=>{class A{constructor(w,N,Y){this.firestore=w,this.router=N,this.globalErrorHandler=Y,this.userDataSubject=new g0.X(null),this.userData$=this.userDataSubject.asObservable(),this.collectionName="Auth";const le=localStorage.getItem("user");if(le){const Ne=JSON.parse(le);this.userDataSubject.next(Ne)}}registerUser(w,N,Y){var le=this;return(0,b.Z)(function*(){try{const Ne=yield le.createUserWithEmailAndPassword(w,N),Qe=Ne.user.uid;yield le.addAdditionalAuthData(Qe,Y),yield le.saveUserData(Ne.user,Y),le.router.navigate(["recipes-list"])}catch(Ne){le.globalErrorHandler.handleError(Ne)}})()}loginUser(w,N){var Y=this;return(0,b.Z)(function*(){try{const le=yield Y.signInWithEmailAndPassword(w,N),Ne=le.user.uid,Qe=yield Y.getAdditionalAuthDataById(Ne);yield Y.saveUserData(le.user,Qe),yield Y.router.navigate(["recipes-list"])}catch(le){Y.globalErrorHandler.handleError(le)}})()}logoutUser(){var w=this;return(0,b.Z)(function*(){try{yield w.signOutAuth(),yield w.clearUserData(),w.router.navigate(["login"])}catch(N){console.error(N)}})()}deleteUserAccount(){var w=this;return(0,b.Z)(function*(){try{const Y=gd().currentUser;Y?(yield function Iu(A){return Wa.apply(this,arguments)}(Y),yield w.deleteAdditionalAuthData(Y.uid),yield w.clearUserData(),w.router.navigate(["login"])):console.error("No user found to delete.")}catch(N){console.error("No user found to delete.",N)}})()}forgotPassword(w){var N=this;return(0,b.Z)(function*(){try{yield N.sendPasswordResetEmail(w),N.globalErrorHandler.handleError("Password reset email sent, check your inbox."),yield N.router.navigate(["login"])}catch(Y){N.globalErrorHandler.handleError(Y)}})()}updateFavoriteRecipes(w,N,Y){var le=this;return(0,b.Z)(function*(){const Ne=(0,ii.JU)(le.firestore,le.collectionName,N);try{Y?(console.log("remove"),yield(0,ii.r7)(Ne,{favoriteRecipes:(0,ii.Ab)(w)})):(console.log("add"),yield(0,ii.r7)(Ne,{favoriteRecipes:(0,ii.vr)(w)})),console.log("Favorite recipes updated successfully");const Qe=yield le.getAdditionalAuthDataById(N);le.userData$.pipe((0,Xc.q)(1)).subscribe(Dt=>{Dt?le.saveUserData(Dt,Qe).then(()=>console.log("User data saved successfully")).catch(()=>console.error("Failed to save user data")):console.error("User is null")})}catch(Qe){le.globalErrorHandler.handleError(Qe)}})()}sendPasswordResetEmail(w){return function zl(A,v,w){return ac.apply(this,arguments)}(gd(),w)}createUserWithEmailAndPassword(w,N){return function ds(A,v,w){return Vo.apply(this,arguments)}(gd(),w,N)}signInWithEmailAndPassword(w,N){return function cc(A,v,w){return Ni((0,ne.m9)(A),_o.credential(v,w)).catch(function(){var N=(0,b.Z)(function*(Y){throw"auth/password-does-not-meet-requirements"===Y.code&&za(A),Y});return function(Y){return N.apply(this,arguments)}}())}(gd(),w,N)}signOutAuth(){return function Zr(A){return(0,ne.m9)(A).signOut()}(gd())}addAdditionalAuthData(w,N){return(0,ii.pl)((0,ii.JU)(this.firestore,this.collectionName,w),N)}getAdditionalAuthDataById(w){var N=this;return(0,b.Z)(function*(){const Y=(0,ii.JU)(N.firestore,N.collectionName,w),le=yield(0,ii.QT)(Y);return le.exists()?le.data():null})()}updateAdditionalAuthData(w,N){if(N){const Y=(0,ii.JU)(this.firestore,this.collectionName,N),le={...w};(0,ii.r7)(Y,le).then(()=>{console.log("Document successfully updated"),this.router.navigate(["/dashboard/user-info"])}).then(()=>{this.userData$.pipe((0,Xc.q)(1)).subscribe(Ne=>{Ne?this.saveUserData(Ne,w).then(()=>console.log("User data saved successfully")).catch(()=>console.error("Failed to save user data")):console.error("User is null")})}).catch(Ne=>{this.globalErrorHandler.handleError(Ne)})}else this.globalErrorHandler.handleError("Invalid uid.")}deleteAdditionalAuthData(w){var N=this;return(0,b.Z)(function*(){try{const Y=(0,ii.JU)(N.firestore,N.collectionName,w);yield(0,ii.oe)(Y),console.log("Recipe deleted successfully:",w)}catch(Y){throw N.globalErrorHandler.handleError(Y),Y}})()}saveUserData(w,N){return new Promise((Y,le)=>{if(w&&N){const Ne={...w,...N};localStorage.setItem("user",JSON.stringify(Ne)),this.userDataSubject.next(Ne),Y()}else localStorage.setItem("user","null"),this.userDataSubject.next(null),le()})}clearUserData(){return new Promise((w,N)=>{localStorage.removeItem("user"),this.userDataSubject.next(null),w()})}static#e=this.\u0275fac=function(N){return new(N||A)(Xg.LFG(ii.gg),Xg.LFG(ew.F0),Xg.LFG(Tp.r))};static#t=this.\u0275prov=Xg.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()},9286:(Bt,Ve,K)=>{K.d(Ve,{N:()=>be});var b=K(4303);(0,b.KN)("firebase","10.9.0","app");const be={firebaseConfig:{apiKey:"AIzaSyCVbXDjBGUwaOrn1CZYGIwce1dYPKpR7PA",authDomain:"the-natural-way.firebaseapp.com",projectId:"the-natural-way",storageBucket:"the-natural-way.appspot.com",messagingSenderId:"778711637280",appId:"1:778711637280:web:30b52ea2a4e159578fcb45"},cloudinaryConfig:{cloudName:"dsla98vyk",apiKey:"587566495847865",apiSecret:"sJLzQzouizKo51b9Mv0bI8a5pCI",uploadPreset:"the_natural_way"}};(0,b.ZF)(be.firebaseConfig)},3494:(Bt,Ve,K)=>{var b=K(6593),ne=K(7158),u=K(9468),be=K(4664),ue=K(7398),fe=K(2096),Te=K(6499),He=K(4456),ae=K(5861),de=K(95),Me=K(3424),Se=K(6814);function xe(c,f){1&c&&(u.TgZ(0,"div",22),u._uU(1," Email is required! "),u.qZA())}function qe(c,f){1&c&&(u.TgZ(0,"div",22),u._uU(1," Please enter a valid email address! "),u.qZA())}function It(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,xe,2,0,"div",21),u.YNc(2,qe,2,0,"div",21),u.qZA()),2&c){const o=u.oxw();let d,m;u.xp6(1),u.Q6J("ngIf",null==(d=o.registerForm.get("email"))||null==d.errors?null:d.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.registerForm.get("email"))||null==m.errors?null:m.errors.email)}}function Pt(c,f){1&c&&(u.TgZ(0,"div",22),u._uU(1," Password is required! "),u.qZA())}function Ot(c,f){1&c&&(u.TgZ(0,"div",22),u._uU(1," Password must be at least 6 characters long! "),u.qZA())}function Dn(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,Pt,2,0,"div",21),u.YNc(2,Ot,2,0,"div",21),u.qZA()),2&c){const o=u.oxw();let d,m;u.xp6(1),u.Q6J("ngIf",null==(d=o.registerForm.get("password"))||null==d.errors?null:d.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.registerForm.get("password"))||null==m.errors?null:m.errors.minlength)}}function At(c,f){1&c&&(u.TgZ(0,"div",22),u._uU(1," Repeat password is required! "),u.qZA())}function ft(c,f){1&c&&(u.TgZ(0,"div",22),u._uU(1," Repeat password must be at least 6 characters long! "),u.qZA())}function ot(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,At,2,0,"div",21),u.YNc(2,ft,2,0,"div",21),u.qZA()),2&c){const o=u.oxw();let d,m;u.xp6(1),u.Q6J("ngIf",null==(d=o.registerForm.get("repeatPassword"))||null==d.errors?null:d.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.registerForm.get("repeatPassword"))||null==m.errors?null:m.errors.minlength)}}function vt(c,f){1&c&&(u.TgZ(0,"div",22),u._uU(1," First name is required! "),u.qZA())}function yt(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,vt,2,0,"div",21),u.qZA()),2&c){const o=u.oxw();let d;u.xp6(1),u.Q6J("ngIf",null==(d=o.registerForm.get("firstName"))||null==d.errors?null:d.errors.required)}}function je(c,f){1&c&&(u.TgZ(0,"div",22),u._uU(1," Last name is required! "),u.qZA())}function we(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,je,2,0,"div",21),u.qZA()),2&c){const o=u.oxw();let d;u.xp6(1),u.Q6J("ngIf",null==(d=o.registerForm.get("lastName"))||null==d.errors?null:d.errors.required)}}let Xe=(()=>{class c{constructor(o,d,m,E){this.userService=o,this.fb=d,this.formErrorCheckService=m,this.globalErrorHandler=E,this.registerForm=this.fb.group({email:["",[de.kI.required,de.kI.email]],password:["",[de.kI.required,de.kI.minLength(6)]],repeatPassword:["",de.kI.required],firstName:["",de.kI.required],lastName:["",de.kI.required],isActive:[!0,de.kI.required],isAdmin:[!1,de.kI.required],favoriteRecipes:this.fb.array([])})}submitRegisterForm(){var o=this;return(0,ae.Z)(function*(){if(o.registerForm.valid){o.formErrorCheckService.markFormGroupTouched(o.registerForm);const{email:d,password:m,repeatPassword:E,...x}=o.registerForm.value;if(m!==E)return void o.globalErrorHandler.handleError("Password do not match!");try{yield o.userService.registerUser(d,m,x)}catch(Z){o.globalErrorHandler.handleError(Z)}}else{const d=o.formErrorCheckService.getFormGroupErrors(o.registerForm);o.globalErrorHandler.handleError(d)}})()}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(Te.K),u.Y36(de.qu),u.Y36(Me.l),u.Y36(He.r))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-register"]],decls:33,vars:6,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[1,"fade-in-right",3,"formGroup","ngSubmit"],[1,"title-wrapper"],[1,"title-form"],["for","email"],["type","email","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","new-password"],["for","repeatPassword"],["type","password","id","repeatPassword","formControlName","repeatPassword","autocomplete","new-password"],["for","firstName"],["type","text","id","firstName","formControlName","firstName"],["for","lastName"],["type","text","id","lastName","formControlName","lastName"],["type","submit",1,"button",2,"width","100%","margin-top","20px"],[1,"hr"],["href","#","routerLink","/login"],[1,"hint"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(d,m){if(1&d&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"form",3),u.NdJ("ngSubmit",function(){return m.submitRegisterForm()}),u.TgZ(4,"div",4)(5,"h1",5),u._uU(6,"Registration"),u.qZA()(),u.TgZ(7,"label",6),u._uU(8,"Email:"),u.qZA(),u._UZ(9,"input",7),u.YNc(10,It,3,2,"div",8),u.TgZ(11,"label",9),u._uU(12,"Password:"),u.qZA(),u._UZ(13,"input",10),u.YNc(14,Dn,3,2,"div",8),u.TgZ(15,"label",11),u._uU(16,"Repeat password:"),u.qZA(),u._UZ(17,"input",12),u.YNc(18,ot,3,2,"div",8),u.TgZ(19,"label",13),u._uU(20,"First name:"),u.qZA(),u._UZ(21,"input",14),u.YNc(22,yt,2,1,"div",8),u.TgZ(23,"label",15),u._uU(24,"Last Name:"),u.qZA(),u._UZ(25,"input",16),u.YNc(26,we,2,1,"div",8),u.TgZ(27,"button",17),u._uU(28," Submit "),u.qZA(),u._UZ(29,"hr",18),u.TgZ(30,"a",19)(31,"div",20),u._uU(32,"Already registered?"),u.qZA()()()()()),2&d){let E,x,Z,se,he;u.xp6(3),u.Q6J("formGroup",m.registerForm),u.xp6(7),u.Q6J("ngIf",(null==(E=m.registerForm.get("email"))?null:E.invalid)&&(null==(E=m.registerForm.get("email"))?null:E.touched)),u.xp6(4),u.Q6J("ngIf",(null==(x=m.registerForm.get("password"))?null:x.invalid)&&(null==(x=m.registerForm.get("password"))?null:x.touched)),u.xp6(4),u.Q6J("ngIf",(null==(Z=m.registerForm.get("repeatPassword"))?null:Z.invalid)&&(null==(Z=m.registerForm.get("repeatPassword"))?null:Z.touched)),u.xp6(4),u.Q6J("ngIf",(null==(se=m.registerForm.get("firstName"))?null:se.invalid)&&(null==(se=m.registerForm.get("firstName"))?null:se.touched)),u.xp6(4),u.Q6J("ngIf",(null==(he=m.registerForm.get("lastName"))?null:he.invalid)&&(null==(he=m.registerForm.get("lastName"))?null:he.touched))}},dependencies:[Se.O5,ne.rH,de._Y,de.Fj,de.JJ,de.JL,de.sg,de.u],styles:[".checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:none}}"]})}return c})();function _t(c,f){1&c&&(u.TgZ(0,"div",17),u._uU(1," Email is required! "),u.qZA())}function Pn(c,f){1&c&&(u.TgZ(0,"div",17),u._uU(1," Invalid email! "),u.qZA())}function dt(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,_t,2,0,"div",18),u.YNc(2,Pn,2,0,"div",18),u.qZA()),2&c){const o=u.oxw();let d,m;u.xp6(1),u.Q6J("ngIf",null==(d=o.logInForm.get("email"))||null==d.errors?null:d.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.logInForm.get("email"))||null==m.errors?null:m.errors.email)}}function pn(c,f){1&c&&(u.TgZ(0,"div",17),u._uU(1," Password is required! "),u.qZA())}function Cn(c,f){1&c&&(u.TgZ(0,"div",17),u._uU(1," Password must be at least 6 characters long! "),u.qZA())}function Vn(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,pn,2,0,"div",18),u.YNc(2,Cn,2,0,"div",18),u.qZA()),2&c){const o=u.oxw();let d,m;u.xp6(1),u.Q6J("ngIf",null==(d=o.logInForm.get("password"))||null==d.errors?null:d.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.logInForm.get("password"))||null==m.errors?null:m.errors.minlength)}}function sr(c,f){if(1&c&&(u.TgZ(0,"div"),u._uU(1),u.qZA()),2&c){const o=u.oxw();u.xp6(1),u.Oqu(o.loginError)}}let hr=(()=>{class c{constructor(o,d,m,E,x,Z){this.userService=o,this.fb=d,this.route=m,this.router=E,this.formErrorCheckService=x,this.globalErrorHandler=Z,this.loginError=null,this.returnUrl=null,this.logInForm=this.fb.group({email:["",[de.kI.required,de.kI.email]],password:["",[de.kI.required,de.kI.minLength(6)]]})}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/login"}submitLogInForm(){var o=this;return(0,ae.Z)(function*(){if(o.formErrorCheckService.markFormGroupTouched(o.logInForm),o.logInForm.valid){const{email:d,password:m}=o.logInForm.value;try{yield o.userService.loginUser(d,m);const E=o.returnUrl||"/";yield o.router.navigateByUrl(E)}catch(E){o.globalErrorHandler.handleError(E)}}else{const d=o.formErrorCheckService.getFormGroupErrors(o.logInForm);o.globalErrorHandler.handleError(d)}})()}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(Te.K),u.Y36(de.qu),u.Y36(ne.gz),u.Y36(ne.F0),u.Y36(Me.l),u.Y36(He.r))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-login"]],decls:30,vars:4,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"fade-in-right",3,"formGroup","ngSubmit"],[1,"title-wrapper"],[1,"title-form"],[1,"formGroup"],["for","email"],["type","text","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","current-password"],["type","submit",1,"button",2,"width","100%"],[1,"hr"],["href","#","routerLink","/register"],[1,"hint"],["href","#","routerLink","/forgot-password"],[1,"errors"],["class","errors",4,"ngIf"]],template:function(d,m){if(1&d&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"form",3),u.NdJ("ngSubmit",function(){return m.submitLogInForm()}),u.TgZ(4,"div",4)(5,"h1",5),u._uU(6,"Login"),u.qZA()(),u.TgZ(7,"div",6)(8,"label",7),u._uU(9,"Email"),u.qZA(),u._UZ(10,"input",8),u.YNc(11,dt,3,2,"div",9),u.qZA(),u.TgZ(12,"div",6)(13,"label",10),u._uU(14,"Password"),u.qZA(),u._UZ(15,"input",11),u.YNc(16,Vn,3,2,"div",9),u.qZA(),u._UZ(17,"br"),u.TgZ(18,"div",6)(19,"button",12),u._uU(20,"Submit"),u.qZA()(),u.YNc(21,sr,2,1,"div",9),u._UZ(22,"hr",13),u.TgZ(23,"div")(24,"a",14)(25,"div",15),u._uU(26,"Don't have a Registration yet?"),u.qZA()(),u.TgZ(27,"a",16)(28,"div",17),u._uU(29,"Forgot your password?"),u.qZA()()()()()()),2&d){let E,x;u.xp6(3),u.Q6J("formGroup",m.logInForm),u.xp6(8),u.Q6J("ngIf",(null==(E=m.logInForm.get("email"))?null:E.invalid)&&(null==(E=m.logInForm.get("email"))?null:E.touched)),u.xp6(5),u.Q6J("ngIf",(null==(x=m.logInForm.get("password"))?null:x.invalid)&&(null==(x=m.logInForm.get("password"))?null:x.touched)),u.xp6(5),u.Q6J("ngIf",m.loginError)}},dependencies:[Se.O5,ne.rH,de._Y,de.Fj,de.JJ,de.JL,de.sg,de.u],styles:["form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:none}}"]})}return c})();var ke=K(3585);const $e=function(c){return["/recipe",c]};function et(c,f){if(1&c&&(u.TgZ(0,"a",10)(1,"div",11)(2,"div",12),u._UZ(3,"img",13),u.qZA(),u.TgZ(4,"p",14),u._uU(5),u.qZA()()()),2&c){const o=u.oxw().$implicit;u.Q6J("routerLink",u.VKq(4,$e,o.id)),u.xp6(3),u.s9C("alt",o.title),u.Q6J("src",o.image_recipe[0].image_recipe,u.LSH),u.xp6(2),u.Oqu(o.title)}}function Ge(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,et,6,6,"a",9),u.qZA()),2&c){const o=f.$implicit;u.xp6(1),u.Q6J("ngIf",o.public)}}function nt(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"div")(1,"button",15),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.getRecipesLoadMore())}),u._uU(2," Load More "),u.qZA()()}}function wt(c,f){1&c&&(u.TgZ(0,"p")(1,"i"),u._uU(2," All recipes are now displayed! "),u.qZA()())}let kt=(()=>{class c{constructor(o){this.recipeService=o,this.recipes=[],this.showLoadMoreButton=!0}ngOnInit(){var o=this;return(0,ae.Z)(function*(){yield o.getRecipes(),o.showLoadMoreButton=!0})()}getRecipesLoadMore(){var o=this;return(0,ae.Z)(function*(){const{data:d,hasMore:m}=yield o.recipeService.getRecipesLoadMore();o.showLoadMoreButton=m,o.recipes.push(...d)})()}getRecipes(){var o=this;return(0,ae.Z)(function*(){const{data:d}=yield o.recipeService.getRecipes();o.recipes.push(...d)})()}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(ke.j))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-recipes-list"]],decls:13,vars:3,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper-list"],[1,"header-wrapper",2,"text-align","center"],[1,"title",2,"font-size","36px","line-height","1.2"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["allRecipesShown",""],[3,"routerLink",4,"ngIf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"],[1,"button-img",3,"click"]],template:function(d,m){if(1&d&&(u.TgZ(0,"main",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"h1",4),u._uU(5,"Recipes"),u.qZA(),u.TgZ(6,"p"),u._uU(7,"Explore our herbal recipes for vitality and well-being."),u.qZA()(),u.TgZ(8,"div",5),u.YNc(9,Ge,2,1,"div",6),u.qZA(),u.YNc(10,nt,3,0,"div",7),u.YNc(11,wt,3,0,"ng-template",null,8,u.W1O),u.qZA()()),2&d){const E=u.MAs(12);u.xp6(9),u.Q6J("ngForOf",m.recipes),u.xp6(1),u.Q6J("ngIf",m.showLoadMoreButton)("ngIfElse",E)}},dependencies:[Se.sg,Se.O5,ne.rH],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:30px;column-gap:10px;margin-bottom:50px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill;border-radius:4px}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 461px) and (max-width: 767px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return c})();var Gt=K(8850),an=K(3477);function mn(c,f){1&c&&(u.TgZ(0,"div",8),u._uU(1," Please write a comment! "),u.qZA())}function _n(c,f){1&c&&(u.TgZ(0,"div",8),u._uU(1," Comment must be at least 10 characters long. "),u.qZA())}function Ct(c,f){1&c&&(u.TgZ(0,"div",8),u._uU(1," Comment cannot exceed 500 characters. "),u.qZA())}function jn(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,mn,2,0,"div",7),u.YNc(2,_n,2,0,"div",7),u.YNc(3,Ct,2,0,"div",7),u.qZA()),2&c){const o=u.oxw();let d,m,E;u.xp6(1),u.Q6J("ngIf",null==(d=o.commentForm.get("comment"))||null==d.errors?null:d.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.commentForm.get("comment"))||null==m.errors?null:m.errors.minlength),u.xp6(1),u.Q6J("ngIf",null==(E=o.commentForm.get("comment"))||null==E.errors?null:E.errors.maxlength)}}let wr=(()=>{class c{constructor(o,d,m,E,x){this.fb=o,this.commentService=d,this.userService=m,this.globalErrorHandler=E,this.timestamp=new Date,this.fullName="",this.firestore=x}ngOnInit(){this.commentForm=this.fb.group({name:[""],comment:["",[de.kI.required,de.kI.minLength(10),de.kI.maxLength(500)]],recipeId:[this.recipeId],create_time:[this.timestamp],uid:[""]}),this.userService.userData$.subscribe({next:o=>{o?(this.userData=o,this.fullName=this.userData.firstName+" "+this.userData.lastName):this.fullName="Anonymous"},error:o=>{this.globalErrorHandler.handleError(o)}})}onSubmit(){var o=this;return(0,ae.Z)(function*(){if(o.timestamp=new Date,o.commentForm.valid){o.commentForm.patchValue({name:o.fullName}),o.commentForm.patchValue({recipeId:o.recipeId}),o.commentForm.patchValue({create_time:o.timestamp}),o.userData&&o.commentForm.patchValue({uid:o.userData.uid});try{(yield o.commentService.addComment(o.commentForm.value))?o.commentForm.reset():o.globalErrorHandler.handleError("Error adding comment.")}catch(d){o.globalErrorHandler.handleError(d)}}})()}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(de.qu),u.Y36(Gt.O),u.Y36(Te.K),u.Y36(He.r),u.Y36(an.gg))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-comment-form"]],inputs:{recipeId:"recipeId"},decls:9,vars:2,consts:[[1,"commentWrapper"],["id","commentForm",3,"formGroup","ngSubmit"],[1,"form-group"],["placeholder","Write your comment ...","id","comment","formControlName","comment",1,"header-user-search"],["type","submit",1,"header-user-action","header-user-action-btn"],[1,"fa-regular","fa-paper-plane"],[4,"ngIf"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(d,m){if(1&d&&(u.TgZ(0,"div",0)(1,"form",1),u.NdJ("ngSubmit",function(){return m.onSubmit()}),u._UZ(2,"br"),u.TgZ(3,"div",2),u._UZ(4,"input",3),u.TgZ(5,"button",4),u._UZ(6,"i",5),u.qZA()(),u.YNc(7,jn,4,3,"div",6),u._UZ(8,"br"),u.qZA()()),2&d){let E;u.xp6(1),u.Q6J("formGroup",m.commentForm),u.xp6(6),u.Q6J("ngIf",null==(E=m.commentForm.get("comment"))?null:E.touched)}},dependencies:[Se.O5,de._Y,de.Fj,de.JJ,de.JL,de.sg,de.u],styles:["form#commentForm[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:100%;margin-top:10px}.form-group[_ngcontent-%COMP%]{position:relative}.header-user-search[_ngcontent-%COMP%]{width:100%;padding:0 20px;height:40px;border:1px solid #c6c6c6;border-radius:20px;background:var(--mainWhiteColor);resize:none}.header-user-action[_ngcontent-%COMP%]{border-radius:50%;background:var(--mainYellowColor);width:40px;height:40px;border:unset}.header-user-action-btn[_ngcontent-%COMP%]{position:absolute;right:0;top:0;bottom:0}"]})}return c})();var gr=K(2732);function Ae(c,f){1&c&&u._UZ(0,"br")}function Ee(c,f){1&c&&(u.TgZ(0,"div"),u._UZ(1,"br"),u.qZA())}function Ze(c,f){if(1&c&&(u.TgZ(0,"div",21),u._uU(1),u.YNc(2,Ee,2,0,"div",7),u.qZA()),2&c){const o=u.oxw();u.xp6(1),u.hij(" ",null==o.recipe?null:o.recipe.summary," "),u.xp6(1),u.Q6J("ngIf",!(null!=o.recipe&&o.recipe.summary))}}function ut(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"span",22),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.navigateToRecipeDelete())}),u._UZ(1,"i",23),u.qZA()}}function gt(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"span",22),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.navigateToRecipeEdit())}),u._UZ(1,"i",24),u.qZA()}}function Rt(c,f){if(1&c&&(u.TgZ(0,"li"),u._UZ(1,"img",28),u.qZA()),2&c){const o=f.$implicit;u.xp6(1),u.Q6J("src",o.image_recipe,u.LSH)}}function mr(c,f){if(1&c&&(u.TgZ(0,"ul",25),u.YNc(1,Rt,2,1,"li",26),u.TgZ(2,"div",27),u._uU(3),u.qZA()()),2&c){const o=u.oxw();u.xp6(1),u.Q6J("ngForOf",null==o.recipe?null:o.recipe.image_recipe),u.xp6(2),u.hij("Added by ",null==o.recipe?null:o.recipe.author,"")}}function hn(c,f){if(1&c&&(u.TgZ(0,"div")(1,"span"),u._UZ(2,"i",29),u._uU(3),u.qZA()()),2&c){const o=u.oxw();u.xp6(3),u.hij(" ",null==o.recipe||null==o.recipe.likes?null:o.recipe.likes.length,"")}}function Tn(c,f){if(1&c&&(u.TgZ(0,"div")(1,"span"),u._uU(2),u.qZA()()),2&c){const o=u.oxw();u.xp6(2),u.hij("",o.comments.length," comments")}}function Kt(c,f){1&c&&(u.ynx(0),u._UZ(1,"i",29),u.BQk())}function cn(c,f){1&c&&u._UZ(0,"i",35)}function fr(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"button",32),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.updateRecipeLikes())}),u.YNc(1,Kt,2,0,"ng-container",33),u.YNc(2,cn,1,0,"ng-template",null,34,u.W1O),u.qZA()}if(2&c){const o=u.MAs(3),d=u.oxw(2);u.xp6(1),u.Q6J("ngIf",d.userData&&d.recipe&&d.recipe.likes&&(null==d.userData?null:d.userData.uid)&&d.recipe.likes.includes(d.userData.uid))("ngIfElse",o)}}function Jt(c,f){1&c&&(u.ynx(0),u._UZ(1,"i",36),u.BQk())}function Ir(c,f){1&c&&u._UZ(0,"i",37)}function Er(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"button",32),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.updateFavoriteRecipes())}),u.YNc(1,Jt,2,0,"ng-container",33),u.YNc(2,Ir,1,0,"ng-template",null,34,u.W1O),u.qZA()}if(2&c){const o=u.MAs(3),d=u.oxw(2);u.xp6(1),u.Q6J("ngIf",d.recipe&&d.userData&&d.userData.favoriteRecipes&&d.userData.favoriteRecipes.includes(d.recipeId||""))("ngIfElse",o)}}function yn(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"button",32),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.toggleCommentForm())}),u._UZ(1,"i",38),u.qZA()}}function cr(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"button",32),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.toggleCommentForm())}),u._UZ(1,"i",39),u.qZA()}}function Wn(c,f){if(1&c&&(u.TgZ(0,"div",30),u.YNc(1,fr,4,2,"button",31),u.YNc(2,Er,4,2,"button",31),u.YNc(3,yn,2,0,"button",31),u.YNc(4,cr,2,0,"button",31),u.qZA()),2&c){const o=u.oxw();u.xp6(1),u.Q6J("ngIf",o.userData),u.xp6(1),u.Q6J("ngIf",o.userData),u.xp6(1),u.Q6J("ngIf",!o.showCommentForm),u.xp6(1),u.Q6J("ngIf",o.showCommentForm)}}function or(c,f){if(1&c&&(u.TgZ(0,"div"),u._UZ(1,"app-comment-form",40),u.qZA()),2&c){const o=u.oxw();u.xp6(1),u.Q6J("recipeId",o.recipeId)}}function Bn(c,f){1&c&&(u.TgZ(0,"div",15),u._UZ(1,"hr"),u.TgZ(2,"p"),u._uU(3,"\xa0\xa0Ingredients\xa0\xa0"),u.qZA(),u._UZ(4,"hr"),u.qZA())}function ti(c,f){if(1&c&&(u.TgZ(0,"li"),u._uU(1),u.qZA()),2&c){const o=u.oxw().$implicit;u.xp6(1),u.lnq(" ",o.name," - ",o.amount," ",o.unit," ")}}function qt(c,f){if(1&c&&(u.TgZ(0,"ul",41),u.YNc(1,ti,2,3,"li",7),u.qZA()),2&c){const o=u.oxw();u.xp6(1),u.Q6J("ngIf",null==o.recipe?null:o.recipe.ingredients)}}function Qi(c,f){if(1&c&&(u.TgZ(0,"li"),u._UZ(1,"iframe",43),u.ALo(2,"safeUrl"),u.qZA()),2&c){const o=f.$implicit;u.xp6(1),u.Q6J("src",u.lcZ(2,1,o.video_recipe),u.uOi)}}function zr(c,f){if(1&c&&(u.TgZ(0,"div",42)(1,"div",15),u._UZ(2,"hr"),u.TgZ(3,"p"),u._uU(4,"\xa0\xa0Video\xa0\xa0"),u.qZA(),u._UZ(5,"hr"),u.qZA(),u._UZ(6,"br"),u.TgZ(7,"ul"),u.YNc(8,Qi,3,3,"li",26),u.qZA()()),2&c){const o=u.oxw();u.xp6(8),u.Q6J("ngForOf",null==o.recipe?null:o.recipe.video_recipe)}}function Gr(c,f){1&c&&(u.TgZ(0,"div",15),u._UZ(1,"hr"),u.TgZ(2,"p"),u._uU(3,"\xa0\xa0Comments\xa0\xa0"),u.qZA(),u._UZ(4,"hr"),u.qZA())}function rt(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"span",22),u.NdJ("click",function(){u.CHM(o);const m=u.oxw().$implicit,E=u.oxw(2);return u.KtG(E.deleteComment(m.id))}),u._UZ(1,"i",23),u.qZA()}}function Ce(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"span",22),u.NdJ("click",function(){u.CHM(o);const m=u.oxw().$implicit,E=u.oxw(2);return u.KtG(E.navigateToCommentEdit(m.id))}),u._UZ(1,"i",24),u.qZA()}}function Je(c,f){if(1&c&&(u.TgZ(0,"ul")(1,"li"),u._uU(2),u.qZA(),u.TgZ(3,"li"),u._uU(4),u.qZA(),u.TgZ(5,"li",45)(6,"p"),u._uU(7),u.ALo(8,"date"),u.qZA(),u.TgZ(9,"div",46),u.YNc(10,rt,2,0,"span",10),u.YNc(11,Ce,2,0,"span",10),u.qZA()(),u._UZ(12,"hr",47),u.qZA()),2&c){const o=f.$implicit,d=u.oxw(2);u.xp6(2),u.Oqu(o.name),u.xp6(2),u.Oqu(o.comment),u.xp6(3),u.hij(" ",u.xi3(8,5,o.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," "),u.xp6(3),u.Q6J("ngIf",d.userData&&o.uid==d.userData.uid),u.xp6(1),u.Q6J("ngIf",d.userData&&o.uid==d.userData.uid)}}function Et(c,f){if(1&c&&(u.TgZ(0,"section",44),u.YNc(1,Je,13,8,"ul",26),u.qZA()),2&c){const o=u.oxw();u.xp6(1),u.Q6J("ngForOf",o.comments)}}let $t=(()=>{class c{constructor(o,d,m,E,x,Z){var se=this;this.route=o,this.recipeService=d,this.commentService=m,this.userService=E,this.router=x,this.globalErrorHandler=Z,this.recipe=null,this.recipeId="",this.comments=[],this.showCommentForm=!1,this.route.paramMap.subscribe(function(){var he=(0,ae.Z)(function*(ye){se.recipeId=ye.get("id")});return function(ye){return he.apply(this,arguments)}}()),m.getCommentAddedObservable().subscribe((0,ae.Z)(function*(){console.log("Comment successfully added."),yield se.loadCommentsForRecipe()}))}loadRecipeData(){var o=this;return(0,ae.Z)(function*(){if(o.recipeId)try{o.recipe=yield o.recipeService.getRecipeById(o.recipeId),o.comments=yield o.commentService.getCommentsForRecipe(o.recipeId)}catch(d){o.globalErrorHandler.handleError(d)}})()}navigateToRecipeEdit(){var o=this;return(0,ae.Z)(function*(){yield o.router.navigate(["/dashboard/recipe-edit",o.recipeId])})()}navigateToRecipeDelete(){var o=this;return(0,ae.Z)(function*(){yield o.router.navigate(["/dashboard/recipe-delete",o.recipeId])})()}ngOnInit(){var o=this;return(0,ae.Z)(function*(){yield o.loadRecipeData(),o.userService.userData$.subscribe(d=>{d&&(o.userData=d)})})()}toggleCommentForm(){this.showCommentForm=!this.showCommentForm}navigateToCommentEdit(o){var d=this;return(0,ae.Z)(function*(){yield d.router.navigate(["/dashboard/comment-edit",o])})()}deleteComment(o){var d=this;return(0,ae.Z)(function*(){try{yield d.commentService.deleteComment(o),yield d.loadRecipeData()}catch(m){d.globalErrorHandler.handleError(m)}})()}updateRecipeLikes(){var o=this;return(0,ae.Z)(function*(){if(!o.recipe)return void o.globalErrorHandler.handleError("Recipe data is missing.");if(!o.userData)return void o.globalErrorHandler.handleError("User is not logged in.");let d=o.recipe.likes.includes(o.userData.uid);yield o.recipeService.updateRecipeLikes(o.recipeId,o.userData.uid,d),yield o.loadRecipeData()})()}updateFavoriteRecipes(){var o=this;return(0,ae.Z)(function*(){if(o.recipe){if(o.userData&&o.recipeId){let d=o.userData.favoriteRecipes.includes(o.recipeId);yield o.userService.updateFavoriteRecipes(o.recipeId,o.userData.uid,d),yield o.loadRecipeData()}}else o.globalErrorHandler.handleError("Recipe data is missing.")})()}loadCommentsForRecipe(){var o=this;return(0,ae.Z)(function*(){o.recipeId&&(o.comments=yield o.commentService.getCommentsForRecipe(o.recipeId))})()}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(ne.gz),u.Y36(ke.j),u.Y36(Gt.O),u.Y36(Te.K),u.Y36(ne.F0),u.Y36(He.r))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-recipe"]],decls:37,vars:17,consts:[[1,"mainLong"],[1,"headerImage"],[1,"wrapper-list"],[1,"recipe-container"],[1,"title-wrapper"],[1,"title"],[1,"recipe-subtitle"],[4,"ngIf"],["class","recipe-summary",4,"ngIf"],[1,"commentBtnWrapper",2,"justify-content","flex-end"],["class","button-img",3,"click",4,"ngIf"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],[1,"recipe-info"],["class","buttons-grid",4,"ngIf"],[1,"divider"],[1,"recipe-description-text","description"],["class","divider",4,"ngIf"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-videos",4,"ngIf"],["class","comments",4,"ngIf"],[1,"recipe-summary"],[1,"button-img",3,"click"],[1,"fa-solid","fa-trash"],[1,"fa-regular","fa-pen-to-square"],[1,"recipe-image"],[4,"ngFor","ngForOf"],[2,"font-size","12px"],["alt","Image of a recipe",3,"src"],[1,"fa-solid","fa-thumbs-up"],[1,"buttons-grid"],["class","",3,"click",4,"ngIf"],[1,"",3,"click"],[4,"ngIf","ngIfElse"],["notLiked",""],[1,"fa-regular","fa-thumbs-up"],[1,"fa-solid","fa-heart"],[1,"fa-regular","fa-heart"],[1,"fa-regular","fa-comment"],[1,"fa-solid","fa-comment"],[3,"recipeId"],[1,"recipe-ingredients"],[1,"recipe-videos"],["width","560","height","315","allowfullscreen","",3,"src"],[1,"comments"],[1,"comments-last"],[1,"commentBtnWrapper"],[1,"hr"]],template:function(d,m){1&d&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div")(5,"div",4)(6,"h1",5),u._uU(7),u.qZA()(),u.TgZ(8,"h3",6),u._uU(9),u.qZA(),u.YNc(10,Ae,1,0,"br",7),u.YNc(11,Ze,3,2,"div",8),u.TgZ(12,"div",9),u.YNc(13,ut,2,0,"span",10),u.YNc(14,gt,2,0,"span",10),u.qZA()(),u.TgZ(15,"div",11),u.YNc(16,mr,4,2,"ul",12),u.TgZ(17,"div",13),u.YNc(18,hn,4,1,"div",7),u.YNc(19,Tn,3,1,"div",7),u.qZA(),u.YNc(20,Wn,5,4,"div",14),u.YNc(21,or,2,1,"div",7),u.TgZ(22,"div",15),u._UZ(23,"hr"),u.TgZ(24,"p"),u._uU(25,"\xa0\xa0Description\xa0\xa0"),u.qZA(),u._UZ(26,"hr"),u.qZA(),u._UZ(27,"br"),u.TgZ(28,"p",16),u._uU(29),u.qZA(),u._UZ(30,"br"),u.YNc(31,Bn,5,0,"div",17),u._UZ(32,"br"),u.YNc(33,qt,2,1,"ul",18),u.YNc(34,zr,9,1,"div",19),u.YNc(35,Gr,5,0,"div",17),u.YNc(36,Et,2,1,"section",20),u.qZA()()()()),2&d&&(u.xp6(7),u.Oqu(null==m.recipe?null:m.recipe.title),u.xp6(2),u.Oqu(null==m.recipe?null:m.recipe.subtitle),u.xp6(1),u.Q6J("ngIf",!(null!=m.recipe&&m.recipe.summary)),u.xp6(1),u.Q6J("ngIf",null==m.recipe?null:m.recipe.summary),u.xp6(2),u.Q6J("ngIf",m.userData&&m.userData.uid==(null==m.recipe?null:m.recipe.uid)),u.xp6(1),u.Q6J("ngIf",m.userData&&m.userData.uid==(null==m.recipe?null:m.recipe.uid)),u.xp6(2),u.Q6J("ngIf",(null==m.recipe?null:m.recipe.image_recipe)&&(null==m.recipe||null==m.recipe.image_recipe?null:m.recipe.image_recipe.length)>0),u.xp6(2),u.Q6J("ngIf",(null==m.recipe||null==m.recipe.likes?null:m.recipe.likes.length)>0),u.xp6(1),u.Q6J("ngIf",m.comments&&m.comments.length>0),u.xp6(1),u.Q6J("ngIf",m.userData),u.xp6(1),u.Q6J("ngIf",m.showCommentForm),u.xp6(8),u.hij("",null==m.recipe?null:m.recipe.description," "),u.xp6(2),u.Q6J("ngIf",null==m.recipe?null:m.recipe.ingredients),u.xp6(2),u.Q6J("ngForOf",null==m.recipe?null:m.recipe.ingredients),u.xp6(1),u.Q6J("ngIf",(null==m.recipe?null:m.recipe.video_recipe)&&(null==m.recipe||null==m.recipe.video_recipe?null:m.recipe.video_recipe.length)>0),u.xp6(1),u.Q6J("ngIf",m.comments.length>0),u.xp6(1),u.Q6J("ngIf",m.comments.length>0))},dependencies:[Se.sg,Se.O5,wr,Se.uU,gr.Q],styles:[".recipe-container[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:800px;margin:-50px auto 50px;padding:32px;box-shadow:0 1px 3px #0000004d}.title[_ngcontent-%COMP%]{font-size:28px}.recipe-subtitle[_ngcontent-%COMP%]{font-size:14px;margin-top:-10px;color:var(--mainGreyColor);font-style:italic;white-space:pre-wrap}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic;white-space:pre-wrap}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}ul.recipe-image[_ngcontent-%COMP%]{padding-left:unset}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.recipe-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px;padding:0 10px}.buttons-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);border-radius:8px;box-shadow:0 1px 3px #0000004d;overflow:hidden}.buttons-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:unset;background-color:var(--backgroundColor);transition:.5s ease-in-out}.buttons-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--mainMagnoliaColor)}.buttons-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:var(--backgroundColor)}.buttons-grid[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--textColor)}.like-wrapper[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:baseline}.comments[_ngcontent-%COMP%]{border:1px solid var(--mainMagnoliaColor);margin:30px 0;padding:20px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:10px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:5px}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--mainGreyColor)}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--backgroundColor);padding-left:5px;border-radius:5px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--mainMagnoliaColor);font-style:italic;border-radius:5px}.comments-last[_ngcontent-%COMP%]{display:flex;justify-content:space-between}@media (max-width: 640px){.buttons-img[_ngcontent-%COMP%]{flex-direction:column-reverse}.buttons[_ngcontent-%COMP%]{display:flex;padding:unset;width:100%;justify-content:space-around;align-items:stretch;gap:10px}.like-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between}}"]})}return c})();var Wt=K(1176);function qn(c,f){1&c&&(u.TgZ(0,"div")(1,"main",2),u._UZ(2,"div",3),u.TgZ(3,"div",4)(4,"div",5)(5,"div",6)(6,"h1",7),u._uU(7," We're sorry, but we couldn't find the result you're looking for! "),u.qZA()(),u.TgZ(8,"div",8),u._UZ(9,"app-logo-svg"),u.qZA()()()()())}const Q=function(c){return["/recipe",c]};function B(c,f){if(1&c&&(u.TgZ(0,"div")(1,"a",13)(2,"div",14)(3,"div",15),u._UZ(4,"img",16),u.qZA(),u.TgZ(5,"p",17),u._uU(6),u.qZA()()()()),2&c){const o=f.$implicit;u.xp6(1),u.Q6J("routerLink",u.VKq(4,Q,o.id)),u.xp6(3),u.s9C("alt",o.title),u.Q6J("src",o.image_recipe[0].image_recipe,u.LSH),u.xp6(2),u.Oqu(o.title)}}function G(c,f){if(1&c&&(u.TgZ(0,"main",9),u._UZ(1,"div",3),u.TgZ(2,"div",10)(3,"div",6)(4,"h1",7),u._uU(5,"Result"),u.qZA()(),u.TgZ(6,"div",11),u.YNc(7,B,7,6,"div",12),u.qZA()()()),2&c){const o=u.oxw();u.xp6(7),u.Q6J("ngForOf",o.recipes)}}let q=(()=>{class c{constructor(o,d){this.recipeService=o,this.route=d,this.recipes=[],this.result=!1}ngOnInit(){this.route.queryParams.subscribe(o=>{const d=o.search;d&&this.searchRecipesByTitle(d)})}searchRecipesByTitle(o){var d=this;return(0,ae.Z)(function*(){const{data:m}=yield d.recipeService.searchRecipesByTitle(o);m.length>0?(d.recipes.push(...m),d.result=!0):d.result=!1})()}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(ke.j),u.Y36(ne.gz))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-recipe-search"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["recipesList",""],[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"empty"],[1,"title-wrapper"],[1,"title"],[1,"logo-svg"],[1,"main-long"],[1,"wrapper-list"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"]],template:function(d,m){if(1&d&&(u.YNc(0,qn,10,0,"div",0),u.YNc(1,G,8,1,"ng-template",null,1,u.W1O)),2&d){const E=u.MAs(2);u.Q6J("ngIf",!m.result)("ngIfElse",E)}},dependencies:[Se.sg,Se.O5,ne.rH,Wt.u],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:20px;margin-bottom:50px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 461px) and (max-width: 767px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return c})();const Ie=(c,f)=>{const o=(0,u.f3M)(Te.K),d=(0,u.f3M)(ne.F0);return o.userData$.pipe((0,ue.U)(m=>!m||(d.navigate(["/recipes-list"]),!1)))},Zt=[{path:"",pathMatch:"full",component:(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-carousel"]],decls:24,vars:0,consts:[["id","carouselExampleAutoplaying","data-bs-ride","carousel",1,"carousel","slide","fade-in-top"],[1,"overlay"],[1,"info"],[1,"carousel-title","fade-in-left"],[1,"subtitle","fade-in-right"],["routerLink","/recipes-list",1,"infoBtn","fade-in-top"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://www.aveeno.com/sites/aveeno_us_2/files/healingherbswithmortaran_687349.jpg","alt","carousel-img",1,"carousel-img","d-block","w-100"],[1,"carousel-item"],["src","https://imgix-prod.sgs.com/-/media/sgscorp/images/connectivity-and-products/aromatics-pexels.cdn.en-MU.1.jpg","alt","carousel-img",1,"carousel-img","d-block","w-100"],["src","https://images.pexels.com/photos/1793035/pexels-photo-1793035.jpeg","alt","carousel-img",1,"carousel-img","d-block","w-100"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(d,m){1&d&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),u._uU(4,"Welcome To Natural Way"),u.qZA(),u.TgZ(5,"div",4),u._uU(6," Explore our curated herbal recipes for vitality and well-being. Register to save favorites, comment, and like recipes. Join us and contribute your own recipes for a community dedicated to herbal remedies! "),u.qZA(),u.TgZ(7,"a",5),u._uU(8,"Recipes"),u.qZA()()(),u.TgZ(9,"div",6)(10,"div",7),u._UZ(11,"img",8),u.qZA(),u.TgZ(12,"div",9),u._UZ(13,"img",10),u.qZA(),u.TgZ(14,"div",9),u._UZ(15,"img",11),u.qZA()(),u.TgZ(16,"button",12),u._UZ(17,"span",13),u.TgZ(18,"span",14),u._uU(19,"Previous"),u.qZA()(),u.TgZ(20,"button",15),u._UZ(21,"span",16),u.TgZ(22,"span",14),u._uU(23,"Next"),u.qZA()()())},dependencies:[ne.rH],styles:[".carousel[_ngcontent-%COMP%]{max-height:93vh;overflow:hidden}.carousel-img[_ngcontent-%COMP%]{height:100vh;object-fit:cover}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{z-index:9}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0 50% 0 0;background-color:var(--mainRGBAColor);background-color:#bd6b6fcc;z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:37%;right:10%;top:40%;transform:translate(2%,-27%);color:var(--mainWhiteColor);text-align:left}.carousel-title[_ngcontent-%COMP%]{font-size:30px;padding-bottom:20px;font-weight:800;color:var(--backgroundColor);text-align:left;box-shadow:unset}.subtitle[_ngcontent-%COMP%]{font-size:18px;font-weight:400;margin-bottom:25px}.infoBtn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;text-align:center;background:var(--mainYellowColor);color:var(--textColor);border-radius:24px;padding:0 25px;font-weight:700;font-size:17px;height:48px;transition:.3s ease-in-out}.infoBtn[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.1)}@media (max-width: 460px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.carousel-title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900;text-align:center}}@media (min-width: 461px) and (max-width: 767px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.carousel-title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900}}@media (min-width: 768px) and (max-width: 1023px){.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor)}}"]})}return c})()},{path:"register",component:Xe,canActivate:[Ie]},{path:"login",component:hr,canActivate:[Ie]},{path:"forgot-password",component:(()=>{class c{constructor(o){this.userService=o}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(Te.K))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-forgot-password"]],decls:19,vars:0,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper",2,"flex-direction","column"],[1,"title"],[1,"hint"],[1,"formGroup"],["type","email","placeholder","Email","required","",1,"formControl"],["passwordResetEmail",""],[1,"errors"],[1,"buttons"],["type","submit","value","Send email",1,"button",3,"click"],["href","#","routerLink","/login"]],template:function(d,m){if(1&d){const E=u.EpF();u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Forgotten password"),u.qZA()(),u.TgZ(7,"p",6),u._uU(8," Please enter your email address so we can send you a password reset email. "),u.qZA(),u.TgZ(9,"div",7),u._UZ(10,"input",8,9),u.qZA(),u.TgZ(12,"p",10),u._uU(13," If you can't find the email, please check your spam folder! "),u.qZA(),u.TgZ(14,"div",11)(15,"input",12),u.NdJ("click",function(){u.CHM(E);const Z=u.MAs(11);return u.KtG(m.userService.forgotPassword(Z.value))}),u.qZA(),u.TgZ(16,"a",13)(17,"div",6),u._uU(18,"Return to Login"),u.qZA()()()()()()}},dependencies:[ne.rH],styles:[".form-wrapper[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.wrapper[_ngcontent-%COMP%]{padding:0 5%;max-width:600px;margin:0 auto}"]})}return c})()},{path:"recipes-list",component:kt},{path:"recipe-search",component:q},{path:"recipe/:id",component:$t},{path:"about",component:(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-about-us"]],decls:22,vars:0,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],[2,"color","var(--mainGreyColor)"]],template:function(d,m){1&d&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"About Us"),u.qZA()(),u.TgZ(7,"div",6)(8,"p"),u._uU(9,"Welcome to our Healing Herbal Recipe Community!"),u.qZA(),u.TgZ(10,"p"),u._uU(11," Hello and welcome to our cozy corner dedicated to the power of herbs for health and well-being! We are passionate enthusiasts of herbal healing recipes and have decided to create this space where people from all over the world can come together to share their knowledge, experience, and love for herbal remedies. "),u.qZA(),u.TgZ(12,"p"),u._uU(13," We believe in the healing power of nature and strive to provide our users with a wealth of resources and inspiring ideas to improve their health and well-being. Our mission is to create a space where people can find recipes and support from the community to feel healthier and stronger. "),u.qZA(),u.TgZ(14,"p"),u._uU(15," Join us today and become part of our Healing Herbal Recipe Community! Together, we can achieve good heath and well-being through the power of nature and community. "),u.qZA(),u.TgZ(16,"p"),u._uU(17," Thank you for choosing to be part of our journey towards health and harmony! "),u.qZA(),u.TgZ(18,"p"),u._uU(19,"With love and gratitude,"),u.qZA(),u.TgZ(20,"p"),u._uU(21,"The Natural Way Team"),u.qZA()()()()())}})}return c})()},{path:"privacy-policy",component:(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-privacy-policy"]],decls:46,vars:0,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],[2,"color","var(--mainGreyColor)"],[2,"font-style","italic"],["routerLink","/contact"]],template:function(d,m){1&d&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Privacy Policy"),u.qZA()(),u.TgZ(7,"div",6)(8,"p",7),u._uU(9,"Last updated: 29.03.2024"),u.qZA(),u.TgZ(10,"p"),u._uU(11,' Welcome to the Privacy Policy of "The Natural Way". Our Privacy Policy explains how we collect, use, and disclose the personal information we receive from visitors to our Website. '),u.qZA(),u.TgZ(12,"h5"),u._uU(13,"1. Collection of Information"),u.qZA(),u.TgZ(14,"p"),u._uU(15," When you visit the Website, we may collect certain information from and about you. This information may include, but is not limited to: "),u.TgZ(16,"span",7),u._uU(17," Personal data such as names, email addresses, mailing addresses, etc., that you voluntarily provide to us through contact forms or account registration. Information about your computer, including IP address, browser type, operating system, and similar data for trend analysis, Website management, and protection against abuse. "),u.qZA()(),u.TgZ(18,"h5"),u._uU(19,"2. Use of Information"),u.qZA(),u.TgZ(20,"p"),u._uU(21," We use the collected information to provide and improve the Website, interact with users, analyze trends, and provide personalized content and advertisements. "),u.qZA(),u.TgZ(22,"h5"),u._uU(23,"3. Disclosure of Information"),u.qZA(),u.TgZ(24,"p"),u._uU(25," We may disclose personal information to our partners, service providers, and other third parties when necessary to provide services and perform tasks related to Website management. "),u.qZA(),u.TgZ(26,"h5"),u._uU(27,"4. Cookies and Similar Technologies"),u.qZA(),u.TgZ(28,"p"),u._uU(29," Our Cookie Policy explains how we use cookies and similar technologies that may be used on our Website. "),u.qZA(),u.TgZ(30,"h5"),u._uU(31,"5. Changes to the Privacy Policy"),u.qZA(),u.TgZ(32,"p"),u._uU(33," We may update this Privacy Policy from time to time. Any changes to this Privacy Policy will be posted on this page. "),u.qZA(),u.TgZ(34,"h5"),u._uU(35,"6. Linked Services and Websites"),u.qZA(),u.TgZ(36,"p"),u._uU(37," The Website may contain links to other websites and services that are not under our control. We are not responsible for the content and practices of these websites, and we encourage you to review the privacy policies of each website you visit. "),u.qZA(),u.TgZ(38,"h5"),u._uU(39,"7. Contact Information"),u.qZA(),u.TgZ(40,"p"),u._uU(41," For additional information regarding our Privacy Policy, please contact us at "),u.TgZ(42,"span")(43,"a",8),u._uU(44,"Contact Us"),u.qZA(),u._uU(45," page. "),u.qZA()()()()()())},dependencies:[ne.rH]})}return c})()},{path:"contact",component:(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-contact-us"]],decls:28,vars:0,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],[2,"color","var(--mainGreyColor)"],["href","mailto:andon.ov@yahoo.com"],[1,"hr"]],template:function(d,m){1&d&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Contact Us"),u.qZA()(),u.TgZ(7,"div",6)(8,"p"),u._uU(9," For any inquiries or questions, please feel free to contact us. We're here to help! "),u.qZA(),u.TgZ(10,"div")(11,"p")(12,"strong"),u._uU(13,"Address:"),u.qZA(),u._uU(14," San Stefano , Burgas, Bulgaria"),u.qZA(),u.TgZ(15,"p")(16,"strong"),u._uU(17,"Phone:"),u.qZA(),u._uU(18," +359 885 996789"),u.qZA(),u.TgZ(19,"p")(20,"strong"),u._uU(21,"Email:"),u.qZA(),u.TgZ(22,"a",7),u._uU(23," Andon.ov@yahoo.com"),u.qZA()()(),u._UZ(24,"hr",8),u.TgZ(25,"div")(26,"p"),u._uU(27," This project was developed to meet the requirements of the Angular Project Assignment within the 'Angular - February 2024' course at SoftUni. "),u.qZA()()()()()())}})}return c})()},{path:"dashboard",loadChildren:()=>K.e(691).then(K.bind(K,7691)).then(c=>c.PrivateModule),canActivate:[(c,f)=>{const o=(0,u.f3M)(Te.K),d=(0,u.f3M)(ne.F0),m=(0,u.f3M)(He.r);return o.userData$.pipe((0,be.w)(E=>(0,fe.of)(!!E&&E.isActive)),(0,ue.U)(E=>!!E||(m.handleError("Unauthorized Access:\n          \n Please ensure you have appropriate permissions to view this content."),d.createUrlTree(["/login"],{queryParams:{returnUrl:f.url}}))))}]},{path:"**",component:(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-page-not-found"]],decls:14,vars:0,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"empty"],[1,"title-wrapper"],[1,"title"],[1,"logo-svg"],[1,"emptyInfo"],["routerLink","/","href","",1,"btn","btn-outline-light",2,"color","var(--textColor)"]],template:function(d,m){1&d&&(u.TgZ(0,"main",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Page not Found!"),u.qZA()(),u.TgZ(7,"div",6),u._UZ(8,"app-logo-svg"),u.qZA(),u.TgZ(9,"div",7)(10,"p"),u._uU(11,"We're sorry, but the page you're looking for cannot be found. \xa0\xa0"),u.qZA(),u.TgZ(12,"a",8),u._uU(13,"Back to Home"),u.qZA()()()()())},dependencies:[ne.rH,Wt.u]})}return c})()}];let Fn=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({imports:[ne.Bz.forRoot(Zt,{useHash:!0}),ne.Bz]})}return c})(),Wr=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-footer"]],decls:24,vars:0,consts:[[1,"footer"],[1,"footer-main"],[1,"footer-links"],["routerLink","/about"],["routerLink","/contact"],["routerLink","/privacy-policy"],[1,"social-icons"],["href","https://github.com/andon-ov","target","_blank"],[1,"fa-brands","fa-github"],["href","https://linkedin.com/in/andon-ov","target","_blank"],[1,"fa-brands","fa-linkedin"],[1,"copyright"],[1,"projectInfo"],["target","_blank","href","https://softuni.bg/"]],template:function(d,m){1&d&&(u.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"a",3),u._uU(4,"About Us"),u.qZA(),u._uU(5," | "),u.TgZ(6,"a",4),u._uU(7,"Contact Us"),u.qZA(),u._uU(8," | "),u.TgZ(9,"a",5),u._uU(10,"Privacy Policy"),u.qZA()(),u.TgZ(11,"div",6)(12,"a",7),u._UZ(13,"i",8),u.qZA(),u.TgZ(14,"a",9),u._UZ(15,"i",10),u.qZA()()(),u.TgZ(16,"div",11)(17,"div",12),u._uU(18," This project was developed to meet the requirements of the Angular Project Assignment within the 'Angular - February 2024' course at "),u.TgZ(19,"a",13),u._uU(20,"SoftUni"),u.qZA(),u._uU(21,". "),u.qZA(),u.TgZ(22,"span"),u._uU(23," \xa9 2024 The Natural Way. All Rights Reserved. "),u.qZA()()())},dependencies:[ne.rH],styles:[".footer[_ngcontent-%COMP%]{background-color:var(--aliceBlueColor);color:#333;font-size:14px;text-align:center}.footer-main[_ngcontent-%COMP%]{background-color:var(--textColor);color:var(--mainWhiteColor);padding:20px}.footer-links[_ngcontent-%COMP%]{padding:20px 0;text-align:center}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainWhiteColor);text-decoration:none;margin:0 10px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--mainBlackColor)}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainYellowColor);text-decoration:none;margin:0 10px;font-size:22px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{transform:scale(1.3);transition:.3s ease-in-out}.copyright[_ngcontent-%COMP%]{padding:20px;font-size:12px;color:#999}.projectInfo[_ngcontent-%COMP%]{margin-bottom:10px}"]})}return c})();var Kn=K(5619);class xs{}class Jo{}const ni="*";function ga(c,f){return{type:7,name:c,definitions:f,options:{}}}function ma(c,f=null){return{type:4,styles:f,timings:c}}function Ii(c,f=null){return{type:2,steps:c,options:f}}function Rs(c){return{type:6,styles:c,offset:null}}function os(c,f,o){return{type:0,name:c,styles:f,options:o}}function Jn(c,f,o=null){return{type:1,expr:c,animation:f,options:o}}class Ps{constructor(f=0,o=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=f+o}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}onStart(f){this._originalOnStartFns.push(f),this._onStartFns.push(f)}onDone(f){this._originalOnDoneFns.push(f),this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(f=>f()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(f){this._position=this.totalTime?f*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(f){const o="start"==f?this._onStartFns:this._onDoneFns;o.forEach(d=>d()),o.length=0}}class ri{constructor(f){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=f;let o=0,d=0,m=0;const E=this.players.length;0==E?queueMicrotask(()=>this._onFinish()):this.players.forEach(x=>{x.onDone(()=>{++o==E&&this._onFinish()}),x.onDestroy(()=>{++d==E&&this._onDestroy()}),x.onStart(()=>{++m==E&&this._onStart()})}),this.totalTime=this.players.reduce((x,Z)=>Math.max(x,Z.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this.players.forEach(f=>f.init())}onStart(f){this._onStartFns.push(f)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(f=>f()),this._onStartFns=[])}onDone(f){this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(f=>f.play())}pause(){this.players.forEach(f=>f.pause())}restart(){this.players.forEach(f=>f.restart())}finish(){this._onFinish(),this.players.forEach(f=>f.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(f=>f.destroy()),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}reset(){this.players.forEach(f=>f.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(f){const o=f*this.totalTime;this.players.forEach(d=>{const m=d.totalTime?Math.min(1,o/d.totalTime):1;d.setPosition(m)})}getPosition(){const f=this.players.reduce((o,d)=>null===o||d.totalTime>o.totalTime?d:o,null);return null!=f?f.getPosition():0}beforeDestroy(){this.players.forEach(f=>{f.beforeDestroy&&f.beforeDestroy()})}triggerCallback(f){const o="start"==f?this._onStartFns:this._onDoneFns;o.forEach(d=>d()),o.length=0}}let zi=(()=>{class c{constructor(o,d){this.el=o,this.renderer=d}ngOnInit(){this.checkWidth()}onResize(){this.checkWidth()}checkWidth(){window.innerWidth<992?(this.renderer.addClass(this.el.nativeElement,"button"),this.renderer.addClass(this.el.nativeElement,"nav-btn"),this.renderer.addClass(this.el.nativeElement,"nav-link"),this.renderer.removeClass(this.el.nativeElement,"navigation")):(this.renderer.removeClass(this.el.nativeElement,"button"),this.renderer.removeClass(this.el.nativeElement,"nav-link"),this.renderer.removeClass(this.el.nativeElement,"nav-btn"),this.renderer.addClass(this.el.nativeElement,"navigation"))}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(u.SBq),u.Y36(u.Qsj))};static#t=this.\u0275dir=u.lG2({type:c,selectors:[["","appResponsiveClass",""]],hostBindings:function(d,m){1&d&&u.NdJ("resize",function(){return m.onResize()},!1,u.Jf7)}})}return c})();function na(c,f){1&c&&(u.TgZ(0,"li",24)(1,"a",25),u._UZ(2,"i",26),u.qZA(),u.TgZ(3,"ul",27)(4,"li")(5,"a",28),u._uU(6,"Register"),u.qZA()(),u.TgZ(7,"li")(8,"a",29),u._uU(9,"Login"),u.qZA()()()())}function uo(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"li",24)(1,"a",25)(2,"span"),u._uU(3),u.qZA()(),u.TgZ(4,"ul",27)(5,"li")(6,"a",30),u._uU(7,"My recipes"),u.qZA()(),u.TgZ(8,"li")(9,"a",31),u._uU(10,"Create recipe"),u.qZA()(),u.TgZ(11,"li")(12,"a",32),u._uU(13,"Favorite recipes"),u.qZA()(),u.TgZ(14,"li")(15,"a",33),u._uU(16,"My comments"),u.qZA()(),u.TgZ(17,"li")(18,"a",34),u._uU(19,"Profile"),u.qZA()(),u._UZ(20,"hr",35),u.TgZ(21,"li")(22,"a",36),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.logout())}),u._uU(23,"Logout"),u.qZA()()()()}if(2&c){const o=u.oxw();u.xp6(3),u.Oqu(o.getUserDisplayName())}}let _a=(()=>{class c{constructor(o,d,m,E,x,Z){this.userService=o,this.router=d,this.fb=m,this.elementRef=E,this.formErrorCheckService=x,this.globalErrorHandler=Z,this.state="normal",this.searchForm=this.fb.group({search:[""]}),this.isMenuOpen=!1,this.userDataSubject=new Kn.X(null),this.userDataSubscription=this.userDataSubject.subscribe(se=>{this.userData=se})}onMouseOver(){this.state="hovered"}onMouseOut(){this.state="normal"}ngOnInit(){this.userService.userData$.subscribe({next:o=>{o?(this.userDataSubject.next(o),console.log("You have a user!",o)):(this.userDataSubject.next(null),console.log("You have no user!"))},error:o=>{this.globalErrorHandler.handleError(o)}}),this.router.events.subscribe(o=>{if(o instanceof ne.m2){const d=this.elementRef.nativeElement.querySelector("#navbarScroll");d&&d.classList.remove("show")}})}onSubmit(){var o=this;return(0,ae.Z)(function*(){if(o.searchForm.valid){let d=o.searchForm.value;d&&d.search?(yield o.router.navigate(["/recipe-search"],{queryParams:{search:d.search.trim()}}),o.searchForm.reset()):o.globalErrorHandler.handleError("Query search value is null or undefined.")}else{const d=o.formErrorCheckService.getFormGroupErrors(o.searchForm);o.globalErrorHandler.handleError(d)}})()}ngOnDestroy(){this.userDataSubscription&&this.userDataSubscription.unsubscribe()}logout(){var o=this;return(0,ae.Z)(function*(){yield o.userService.logoutUser()})()}getUserDisplayName(){return this.userData?this.userData.lastName:"Anonymous"}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(Te.K),u.Y36(ne.F0),u.Y36(de.qu),u.Y36(u.SBq),u.Y36(Me.l),u.Y36(He.r))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-header"]],decls:32,vars:4,consts:[[1,"navbar","navbar-dark","navbar-expand-lg"],[1,"container-fluid"],[1,"header-wrapper"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","hamburger",3,"mouseover","mouseout"],[1,"fa-solid","fa-bars","fa-beat-fade"],["href","#",1,"navbar-brand"],["viewBox","0 0 200.92045542674032 200.92045542674032","height","50","width","50",1,"svg-logo"],["d","M0 100.46c0-55.483 44.978-100.46 100.46-100.46 55.483 0 100.46 44.978 100.46 100.46 0 55.483-44.978 100.46-100.46 100.46-55.483 0-100.46-44.978-100.46-100.46zM100.46 193.437c51.35 0 92.977-41.627 92.977-92.977 0-51.35-41.627-92.977-92.977-92.977-51.35 0-92.977 41.627-92.977 92.977 0 51.35 41.627 92.977 92.977 92.977z","data-fill-palette-color","accent","fill","var(--aliceBlueColor)","stroke","transparent"],["rx","99.45562543623646","ry","99.45562543623646","cx","100.46022771337016","cy","100.46022771337016","fill","var(--mainYellowColor)","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,43.57436241056036,43.35758026693677)"],["viewBox","0 0 113.7717306056196 114.20529489286677","height","114.20529489286677","width","113.7717306056196"],["xmlns","http://www.w3.org/2000/svg","data-name","Layer 1","viewBox","1.190000057220459 1.002901315689087 97.62506866455078 97.99710083007812","x","0","y","0","height","114.20529489286677","width","113.7717306056196","data-fill-palette-color","quaternary","id","b-0",1,"icon-b-0"],["d","M79.28 26.63a0.3 0.3 0 0 0 0-0.07 0.28 0.28 0 0 0-0.48-0.19l-7 7a20.24 20.24 0 0 0-6 13v1.87a37.5 37.5 0 0 1 1.67 5.15H54.79a32.9 32.9 0 0 0-5.43-15.13 26.9 26.9 0 0 1-7.74 5.77 22.2 22.2 0 0 1-6.34 2.06c-9.9 1.51-22.3-5-28.35-41.61a1.86 1.86 0 0 1 1.55-2.05c47.44-6.69 50.2 11.7 47.85 22.85a51.5 51.5 0 0 0-19.69-6.14h-0.11a0.43 0.43 0 0 0-0.18 0.76l11.58 8.5 5.84 4.31a37.3 37.3 0 0 1 6.08 5.85 24.8 24.8 0 0 1 5-6.15 17.7 17.7 0 0 1-2.54-5 14.8 14.8 0 0 1-0.65-4.41c0-6.65 5.53-14.14 30.18-14.44a1.23 1.23 0 0 1 1.24 1.23c-0.38 31.82-12.74 31.78-19.82 29.12a34.2 34.2 0 0 0 6.02-12.28M28.65 93h34.63a16.16 16.16 0 0 0 12.18-5.54l21.68-24.79a6.79 6.79 0 0 0-0.79-9.7 6.55 6.55 0 0 0-4.2-1.49 7.24 7.24 0 0 0-5.38 2.43l-10.2 11.35v0.16a11.85 11.85 0 0 1-11.89 11.26H52.21a2.54 2.54 0 1 1 0-5.08h12.47a6.72 6.72 0 0 0 6.81-6.34A6.54 6.54 0 0 0 65 58.52H44.19l-3.37-1.18a23.42 23.42 0 0 0-24.26 5.49L1.19 78.1 22.64 99Z","fill","var( --textColor)","data-fill-palette-color","quaternary"],["routerLink","/",1,"logoText"],[2,"color","var(--mainBlackColor)"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","my-2","my-lg-0","navbar-nav-scroll"],[1,"nav-item"],["appResponsiveClass","","routerLink","/recipes-list","href","#","role","button","aria-expanded","false",1,"navigation"],["class","nav-item dropdown",4,"ngIf"],["role","search",1,"search",3,"formGroup","ngSubmit"],["type","search","aria-label","Search","formControlName","search","required","","minlength","3","placeholder","Search...",1,"header-user-search"],["type","submit",1,"search","header-user-action","header-user-action-btn"],[1,"fa-solid","fa-magnifying-glass"],[1,"nav-item","dropdown"],["appResponsiveClass","","href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle"],[1,"fa-solid","fa-user"],[1,"dropdown-menu"],["routerLink","/register",1,"dropdown-item"],["routerLink","/login",1,"dropdown-item"],["routerLink","/dashboard/user-recipes","href","#",1,"dropdown-item"],["routerLink","/dashboard/recipe-create",1,"dropdown-item"],["routerLink","/dashboard/user-favorite-recipes","href","#",1,"dropdown-item"],["routerLink","/dashboard/user-comments","href","#",1,"dropdown-item"],["routerLink","/dashboard/user-info",1,"dropdown-item"],[1,"hr"],[1,"dropdown-item",2,"text-align","center","cursor","pointer",3,"click"]],template:function(d,m){1&d&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"button",3),u.NdJ("mouseover",function(){return m.onMouseOver()})("mouseout",function(){return m.onMouseOut()}),u.TgZ(4,"span"),u._UZ(5,"i",4),u.qZA()(),u.TgZ(6,"a",5),u.O4$(),u.TgZ(7,"svg",6)(8,"g"),u._UZ(9,"path",7)(10,"ellipse",8),u.qZA(),u.TgZ(11,"g",9)(12,"svg",10)(13,"g")(14,"svg",11),u._UZ(15,"path",12),u.qZA()()()()(),u.kcU(),u.TgZ(16,"span",13)(17,"span",14),u._uU(18,"Natural"),u.qZA(),u.TgZ(19,"span"),u._uU(20," Way"),u.qZA()()()(),u.TgZ(21,"div",15)(22,"ul",16)(23,"li",17)(24,"a",18),u._uU(25," Recipes "),u.qZA()(),u.YNc(26,na,10,0,"li",19),u.YNc(27,uo,24,1,"li",19),u.TgZ(28,"form",20),u.NdJ("ngSubmit",function(){return m.onSubmit()}),u._UZ(29,"input",21),u.TgZ(30,"button",22),u._UZ(31,"i",23),u.qZA()()()()()()),2&d&&(u.xp6(3),u.Q6J("@rotate",m.state),u.xp6(23),u.Q6J("ngIf",!m.userData),u.xp6(1),u.Q6J("ngIf",m.userData),u.xp6(1),u.Q6J("formGroup",m.searchForm))},dependencies:[Se.O5,ne.rH,de._Y,de.Fj,de.JJ,de.JL,de.Q7,de.wO,de.sg,de.u,zi],styles:["nav.navbar[_ngcontent-%COMP%]{min-height:5vh;background-color:var(--aliceBlueColor);box-shadow:1px 5px 15px 0 var(--mainRGBAColor);padding:20px}.container-fluid[_ngcontent-%COMP%]{max-width:1024px}.hamburger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:4px 2px;color:var(--textColor)}.header-wrapper[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center;margin-right:auto}a.navbar-brand[_ngcontent-%COMP%]{display:flex;gap:10px;font-family:Nunito Sans,sans-serif;font-weight:900;font-size:28px;line-height:20px;color:var(--textColor);padding-right:40px;align-items:center}button.navbar-toggler[_ngcontent-%COMP%]{background-color:var(--mainYellowColor);border:1px solid var(--backgroundColor)}ul.navbar-nav[_ngcontent-%COMP%]{position:relative;display:flex;gap:40px;width:100%;align-items:center;justify-content:flex-end}.navigation[_ngcontent-%COMP%]{color:var(--textColor);font-size:17px;font-weight:700}ul.navbar-nav[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]{margin-top:22px;box-shadow:unset;border:unset}a.dropdown-item[_ngcontent-%COMP%]{color:var(--textColor);font-size:17px;font-weight:700}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:focus{background-color:var(--textColor);color:var(--backgroundColor);border-radius:4px;transition:.5s ease-in-out}form[_ngcontent-%COMP%]{all:unset;position:relative;margin-right:15px}.header-user-search[_ngcontent-%COMP%]{all:unset;padding:0 20px;height:40px;border:1px solid #c6c6c6;border-radius:20px;background:var(--mainWhiteColor)}.header-user-action[_ngcontent-%COMP%]{border-radius:50%;background:var(--mainYellowColor);width:40px;height:40px;border:unset}.header-user-action-btn[_ngcontent-%COMP%]{position:absolute;right:0;top:1px;bottom:0}@media (max-width: 991px){.container-fluid[_ngcontent-%COMP%]{justify-content:space-evenly}.svg-logo[_ngcontent-%COMP%]{display:none}.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{border-radius:8px;display:grid;gap:18px;width:315px;padding:20px}ul.navbar-nav[_ngcontent-%COMP%]{gap:12px}}@media (min-width: 992px) and (max-width: 1440px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:900px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}.container-fluid[_ngcontent-%COMP%]{max-width:1200px;padding:0 3%;color:var(--textColor)}}@media (min-width: 1441px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:1000px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}.container-fluid[_ngcontent-%COMP%]{padding:unset;max-width:1200px;color:var(--textColor)}}"],data:{animation:[ga("rotate",[os("normal",Rs({transform:"rotate(0deg)"})),os("hovered",Rs({transform:"rotate(180deg)"})),Jn("normal => hovered",ma("0.5s ease-in-out")),Jn("hovered => normal",ma("0.5s ease-in-out"))])]}})}return c})();function Ei(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"div",1)(1,"button",2),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.scrollToTop())}),u.TgZ(2,"div",3)(3,"span",4),u.O4$(),u.TgZ(4,"svg",5),u._UZ(5,"path",6),u.qZA()(),u.kcU(),u.TgZ(6,"span",7),u.O4$(),u.TgZ(7,"svg",8),u._UZ(8,"path",6),u.qZA()()()(),u.kcU(),u.TgZ(9,"a",9)(10,"div",10)(11,"span",7),u.O4$(),u.TgZ(12,"svg",5),u._UZ(13,"path",6),u.qZA()(),u.kcU(),u.TgZ(14,"span",7),u.O4$(),u.TgZ(15,"svg",8),u._UZ(16,"path",6),u.qZA()()()()()}}let ya=(()=>{class c{constructor(){this.showScrollButton=!1}onWindowScroll(){this.showScrollButton=window.pageYOffset>300}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-scroll-to-top"]],hostBindings:function(d,m){1&d&&u.NdJ("scroll",function(){return m.onWindowScroll()},!1,u.Jf7)},decls:1,vars:1,consts:[["class","buttons",4,"ngIf"],[1,"buttons"],[1,"back-button",3,"click"],[1,"button-box-up"],[1,"button-elem-up"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],[1,"button-elem"],["viewBox","0 0 46 40"],["href","javascript:history.back()",1,"back-button"],[1,"button-box"]],template:function(d,m){1&d&&u.YNc(0,Ei,17,0,"div",0),2&d&&u.Q6J("ngIf",m.showScrollButton)},dependencies:[Se.O5],styles:[".buttons[_ngcontent-%COMP%]{display:flex;gap:10px;position:fixed;bottom:120px;right:10px;flex-direction:column;align-items:center;z-index:10}button[_ngcontent-%COMP%]:focus{outline:none}button.ng-hidden[_ngcontent-%COMP%]{display:none}"]})}return c})();var ks=K(1816);const ho=function(c){return{show:c}};let Fs=(()=>{class c{constructor(o){this.modalService=o,this.showModal=!1}ngOnInit(){this.modalMessageSubscription=this.modalService.modalMessage$.subscribe(o=>{this.modalMessage=o,console.log(o),this.showModal=!0})}ngOnDestroy(){this.modalMessageSubscription&&this.modalMessageSubscription.unsubscribe()}hideModal(){this.showModal=!1}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(ks.y))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-custom-alert"]],decls:11,vars:4,consts:[["tabindex","-1","role","dialog",1,"modal",3,"ngClass"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"button-img",3,"click"]],template:function(d,m){1&d&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),u._uU(5,"Important Notification!"),u.qZA()(),u.TgZ(6,"div",5),u._uU(7),u.qZA(),u.TgZ(8,"div",6)(9,"button",7),u.NdJ("click",function(){return m.hideModal()}),u._uU(10,"Close"),u.qZA()()()()()),2&d&&(u.Q6J("ngClass",u.VKq(2,ho,m.showModal)),u.xp6(7),u.hij(" ",m.modalMessage," "))},dependencies:[Se.mk],styles:[".modal[_ngcontent-%COMP%]{display:none;overflow:hidden;position:fixed;top:0;left:0;width:100%;height:100%;z-index:15;outline:0}.modal.show[_ngcontent-%COMP%]{display:block;background-color:var(--mainRGBAColor)}.modal-body[_ngcontent-%COMP%]{white-space:pre-wrap}"]})}return c})(),va=(()=>{class c{constructor(){this.title="The-Natural-Way"}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-root"]],decls:5,vars:0,template:function(d,m){1&d&&u._UZ(0,"app-header")(1,"app-scroll-to-top")(2,"app-custom-alert")(3,"router-outlet")(4,"app-footer")},dependencies:[ne.lC,Wr,_a,ya,Fs]})}return c})();var jr=K(9286),xo=K(8726);let ul=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=u.oAB({type:c}),c.\u0275inj=u.cJS({imports:[[]]}),c})();var Kr=K(5592),Vc=K(6232),ci=K(8645),Ro=K(4829),Po=K(1631),Ha=K(4266),ps=K(4674),dl=K(7400);const Ys=["addListener","removeListener"],ia=["addEventListener","removeEventListener"],sa=["on","off"];function li(c,f,o,d){if((0,ps.m)(o)&&(d=o,o=void 0),d)return li(c,f,o).pipe((0,dl.Z)(d));const[m,E]=function Fi(c){return(0,ps.m)(c.addEventListener)&&(0,ps.m)(c.removeEventListener)}(c)?ia.map(x=>Z=>c[x](f,Z,o)):function Xn(c){return(0,ps.m)(c.addListener)&&(0,ps.m)(c.removeListener)}(c)?Ys.map(fo(c,f)):function ui(c){return(0,ps.m)(c.on)&&(0,ps.m)(c.off)}(c)?sa.map(fo(c,f)):[];if(!m&&(0,Ha.z)(c))return(0,Po.z)(x=>li(x,f,o))((0,Ro.Xf)(c));if(!m)throw new TypeError("Invalid event target");return new Kr.y(x=>{const Z=(...se)=>x.next(1<se.length?se:se[0]);return m(Z),()=>E(Z)})}function fo(c,f){return o=>d=>c[o](f,d)}var ls=K(6321),Ur=K(671);const{isArray:Ti}=Array;function sc(c){return 1===c.length&&Ti(c[0])?c[0]:c}var Di=K(8251);K(3019);var Mr=K(9940);function gi(...c){const f=(0,Mr.jO)(c),o=sc(c);return o.length?new Kr.y(d=>{let m=o.map(()=>[]),E=o.map(()=>!1);d.add(()=>{m=E=null});for(let x=0;!d.closed&&x<o.length;x++)(0,Ro.Xf)(o[x]).subscribe((0,Di.x)(d,Z=>{if(m[x].push(Z),m.every(se=>se.length)){const se=m.map(he=>he.shift());d.next(f?f(...se):se),m.some((he,ye)=>!he.length&&E[ye])&&d.complete()}},()=>{E[x]=!0,!m[x].length&&d.complete()}));return()=>{m=E=null}}):Vc.E}var po=K(5211),nr=K(9773),er=K(2181),Sr=K(8180),Ji=K(9397),Ln=K(9360),ko=K(2737),go=K(2420);function Ls(...c){const f=(0,Mr.jO)(c);return(0,Ln.e)((o,d)=>{const m=c.length,E=new Array(m);let x=c.map(()=>!1),Z=!1;for(let se=0;se<m;se++)(0,Ro.Xf)(c[se]).subscribe((0,Di.x)(d,he=>{E[se]=he,!Z&&!x[se]&&(x[se]=!0,(Z=x.every(ko.y))&&(x=null))},go.Z));o.subscribe((0,Di.x)(d,se=>{if(Z){const he=[se,...E];d.next(f?f(...he):he)}}))})}K(975),K(7921);var oc=K(3997);class bu extends Error{constructor(f,o){super(function _o(c,f){return`NG0${Math.abs(c)}${f?": "+f:""}`}(f,o)),this.code=f}}let Ar=null;function Li(c){const f=Ar;return Ar=c,f}function ac(c,f){const o=!f?.manualCleanup;o&&!f?.injector&&(0,u.gHi)(ac);const d=o?f?.injector?.get(u.ktI)??(0,u.f3M)(u.ktI):null;let m;return m=(0,u.tdS)(f?.requireSync?{kind:0}:{kind:1,value:f?.initialValue}),function Bi(c){const f=Li(null);try{return c()}finally{Li(f)}}(()=>{const E=c.subscribe({next:x=>m.set({kind:1,value:x}),error:x=>m.set({kind:2,error:x})});d?.onDestroy(E.unsubscribe.bind(E))}),(0,u.Flj)(()=>{const E=m();switch(E.kind){case 1:return E.value;case 2:throw E.error;case 0:throw new bu(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}Math,Math,Math;const Aa=["*"],dd=["dialog"];function Bu(c){return"string"==typeof c}function pc(c){return null!=c}function ru(c){return(c||document.body).getBoundingClientRect()}const gd={animation:!0,transitionTimerDelayMs:5},p0=()=>{},{transitionTimerDelayMs:g0}=gd,Xc=new Map,ii=(c,f,o,d)=>{let m=d.context||{};const E=Xc.get(f);if(E)switch(d.runningTransition){case"continue":return Vc.E;case"stop":c.run(()=>E.transition$.complete()),m=Object.assign(E.context,m),Xc.delete(f)}const x=o(f,d.animation,m)||p0;if(!d.animation||"none"===window.getComputedStyle(f).transitionProperty)return c.run(()=>x()),(0,fe.of)(void 0).pipe(function h0(c){return f=>new Kr.y(o=>f.subscribe({next:x=>c.run(()=>o.next(x)),error:x=>c.run(()=>o.error(x)),complete:()=>c.run(()=>o.complete())}))}(c));const Z=new ci.x,se=new ci.x,he=Z.pipe(function Yr(...c){return f=>(0,po.z)(f,(0,fe.of)(...c))}(!0));Xc.set(f,{transition$:Z,complete:()=>{se.next(),se.complete()},context:m});const ye=function Ep(c){const{transitionDelay:f,transitionDuration:o}=window.getComputedStyle(c);return 1e3*(parseFloat(f)+parseFloat(o))}(f);return c.runOutsideAngular(()=>{const Be=li(f,"transitionend").pipe((0,nr.R)(he),(0,er.h)(({target:at})=>at===f));(function Tr(...c){return 1===(c=sc(c)).length?(0,Ro.Xf)(c[0]):new Kr.y(function Vt(c){return f=>{let o=[];for(let d=0;o&&!f.closed&&d<c.length;d++)o.push((0,Ro.Xf)(c[d]).subscribe((0,Di.x)(f,m=>{if(o){for(let E=0;E<o.length;E++)E!==d&&o[E].unsubscribe();o=null}f.next(m)})))}}(c))})(function ba(c=0,f,o=ls.P){let d=-1;return null!=f&&((0,Ur.K)(f)?o=f:d=f),new Kr.y(m=>{let E=function Is(c){return c instanceof Date&&!isNaN(c)}(c)?+c-o.now():c;E<0&&(E=0);let x=0;return o.schedule(function(){m.closed||(m.next(x++),0<=d?this.schedule(void 0,d):m.complete())},E)})}(ye+g0).pipe((0,nr.R)(he)),Be,se).pipe((0,nr.R)(he)).subscribe(()=>{Xc.delete(f),c.run(()=>{x(),Z.next(),Z.complete()})})}),Z.asObservable()};let Dp=(()=>{class c{constructor(){this.animation=gd.animation}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),j_=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),mf=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),nw=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),w0=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})();var Ri=function(c){return c[c.Tab=9]="Tab",c[c.Enter=13]="Enter",c[c.Escape=27]="Escape",c[c.Space=32]="Space",c[c.PageUp=33]="PageUp",c[c.PageDown=34]="PageDown",c[c.End=35]="End",c[c.Home=36]="Home",c[c.ArrowLeft=37]="ArrowLeft",c[c.ArrowUp=38]="ArrowUp",c[c.ArrowRight=39]="ArrowRight",c[c.ArrowDown=40]="ArrowDown",c}(Ri||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const cm=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function ey(c){const f=Array.from(c.querySelectorAll(cm)).filter(o=>-1!==o.tabIndex);return[f[0],f[f.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let uy=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),dy=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})();class Pi{constructor(f,o,d){this.nodes=f,this.viewRef=o,this.componentRef=d}}let Kp=(()=>{class c{constructor(o,d){this._el=o,this._zone=d}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Sr.q)(1)).subscribe(()=>{ii(this._zone,this._el.nativeElement,(o,d)=>{d&&ru(o),o.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ii(this._zone,this._el.nativeElement,({classList:o})=>o.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(u.SBq),u.Y36(u.R0b))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(d,m){2&d&&(u.Tol("modal-backdrop"+(m.backdropClass?" "+m.backdropClass:"")),u.ekj("show",!m.animation)("fade",m.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[u.jDz],decls:0,vars:0,template:function(d,m){},encapsulation:2})}return c})();class eh{update(f){}close(f){}dismiss(f){}}const nl=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],hy=["animation","backdropClass"];class _w{_applyWindowOptions(f,o){nl.forEach(d=>{pc(o[d])&&(f[d]=o[d])})}_applyBackdropOptions(f,o){hy.forEach(d=>{pc(o[d])&&(f[d]=o[d])})}update(f){this._applyWindowOptions(this._windowCmptRef.instance,f),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,f)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,nr.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,nr.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(f,o,d,m){this._windowCmptRef=f,this._contentRef=o,this._backdropCmptRef=d,this._beforeDismiss=m,this._closed=new ci.x,this._dismissed=new ci.x,this._hidden=new ci.x,f.instance.dismissEvent.subscribe(E=>{this.dismiss(E)}),this.result=new Promise((E,x)=>{this._resolve=E,this._reject=x}),this.result.then(null,()=>{})}close(f){this._windowCmptRef&&(this._closed.next(f),this._resolve(f),this._removeModalElements())}_dismiss(f){this._dismissed.next(f),this._reject(f),this._removeModalElements()}dismiss(f){if(this._windowCmptRef)if(this._beforeDismiss){const o=this._beforeDismiss();!function pd(c){return c&&c.then}(o)?!1!==o&&this._dismiss(f):o.then(d=>{!1!==d&&this._dismiss(f)},()=>{})}else this._dismiss(f)}_removeModalElements(){const f=this._windowCmptRef.instance.hide(),o=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,fe.of)(void 0);f.subscribe(()=>{const{nativeElement:d}=this._windowCmptRef.location;d.parentNode.removeChild(d),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),o.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:d}=this._backdropCmptRef.location;d.parentNode.removeChild(d),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),gi(f,o).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var fy=function(c){return c[c.BACKDROP_CLICK=0]="BACKDROP_CLICK",c[c.ESC=1]="ESC",c}(fy||{});let Df=(()=>{class c{constructor(o,d,m){this._document=o,this._elRef=d,this._zone=m,this._closed$=new ci.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new ci.x,this.hidden=new ci.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Bu(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(o){this.dismissEvent.emit(o)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Sr.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:o}=this._elRef,d={animation:this.animation,runningTransition:"stop"},x=gi(ii(this._zone,o,()=>o.classList.remove("show"),d),ii(this._zone,this._dialogEl.nativeElement,()=>{},d));return x.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),x}_show(){const o={animation:this.animation,runningTransition:"continue"};gi(ii(this._zone,this._elRef.nativeElement,(E,x)=>{x&&ru(E),E.classList.add("show")},o),ii(this._zone,this._dialogEl.nativeElement,()=>{},o)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:o}=this._elRef;this._zone.runOutsideAngular(()=>{li(o,"keydown").pipe((0,nr.R)(this._closed$),(0,er.h)(m=>m.which===Ri.Escape)).subscribe(m=>{this.keyboard?requestAnimationFrame(()=>{m.defaultPrevented||this._zone.run(()=>this.dismiss(fy.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let d=!1;li(this._dialogEl.nativeElement,"mousedown").pipe((0,nr.R)(this._closed$),(0,Ji.b)(()=>d=!1),(0,be.w)(()=>li(o,"mouseup").pipe((0,nr.R)(this._closed$),(0,Sr.q)(1))),(0,er.h)(({target:m})=>o===m)).subscribe(()=>{d=!0}),li(o,"click").pipe((0,nr.R)(this._closed$)).subscribe(({target:m})=>{o===m&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!d&&this._zone.run(()=>this.dismiss(fy.BACKDROP_CLICK))),d=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:o}=this._elRef;if(!o.contains(document.activeElement)){const d=o.querySelector("[ngbAutofocus]"),m=ey(o)[0];(d||m||o).focus()}}_restoreFocus(){const o=this._document.body,d=this._elWithFocus;let m;m=d&&d.focus&&o.contains(d)?d:o,this._zone.runOutsideAngular(()=>{setTimeout(()=>m.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ii(this._zone,this._elRef.nativeElement,({classList:o})=>(o.add("modal-static"),()=>o.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(Se.K0),u.Y36(u.SBq),u.Y36(u.R0b))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["ngb-modal-window"]],viewQuery:function(d,m){if(1&d&&u.Gf(dd,7),2&d){let E;u.iGM(E=u.CRH())&&(m._dialogEl=E.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(d,m){2&d&&(u.uIk("aria-modal",!0)("aria-labelledby",m.ariaLabelledBy)("aria-describedby",m.ariaDescribedBy),u.Tol("modal d-block"+(m.windowClass?" "+m.windowClass:"")),u.ekj("fade",m.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[u.jDz],ngContentSelectors:Aa,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(d,m){1&d&&(u.F$t(),u.TgZ(0,"div",0,1)(2,"div",2),u.Hsn(3),u.qZA()()),2&d&&u.Tol("modal-dialog"+(m.size?" modal-"+m.size:"")+(m.centered?" modal-dialog-centered":"")+m.fullscreenClass+(m.scrollable?" modal-dialog-scrollable":"")+(m.modalDialogClass?" "+m.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return c})(),py=(()=>{class c{constructor(o){this._document=o}hide(){const o=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),d=this._document.body,m=d.style,{overflow:E,paddingRight:x}=m;if(o>0){const Z=parseFloat(window.getComputedStyle(d).paddingRight);m.paddingRight=`${Z+o}px`}return m.overflow="hidden",()=>{o>0&&(m.paddingRight=x),m.overflow=E}}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(Se.K0))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),H0=(()=>{class c{constructor(o,d,m,E,x,Z,se){this._applicationRef=o,this._injector=d,this._environmentInjector=m,this._document=E,this._scrollBar=x,this._rendererFactory=Z,this._ngZone=se,this._activeWindowCmptHasChanged=new ci.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const he=this._windowCmpts[this._windowCmpts.length-1];((c,f,o,d=!1)=>{c.runOutsideAngular(()=>{const m=li(f,"focusin").pipe((0,nr.R)(o),(0,ue.U)(E=>E.target));li(f,"keydown").pipe((0,nr.R)(o),(0,er.h)(E=>E.which===Ri.Tab),Ls(m)).subscribe(([E,x])=>{const[Z,se]=ey(f);(x===Z||x===f)&&E.shiftKey&&(se.focus(),E.preventDefault()),x===se&&!E.shiftKey&&(Z.focus(),E.preventDefault())}),d&&li(f,"click").pipe((0,nr.R)(o),Ls(m),(0,ue.U)(E=>E[1])).subscribe(E=>E.focus())})})(this._ngZone,he.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(he.location.nativeElement)}})}_restoreScrollBar(){const o=this._scrollBarRestoreFn;o&&(this._scrollBarRestoreFn=null,o())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(o,d,m){const E=m.container instanceof HTMLElement?m.container:pc(m.container)?this._document.querySelector(m.container):this._document.body,x=this._rendererFactory.createRenderer(null,null);if(!E)throw new Error(`The specified modal container "${m.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const Z=new eh,se=(o=m.injector||o).get(u.lqb,null)||this._environmentInjector,he=this._getContentRef(o,se,d,Z,m);let ye=!1!==m.backdrop?this._attachBackdrop(E):void 0,Be=this._attachWindowComponent(E,he.nodes),ct=new _w(Be,he,ye,m.beforeDismiss);return this._registerModalRef(ct),this._registerWindowCmpt(Be),ct.hidden.pipe((0,Sr.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(x.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),Z.close=at=>{ct.close(at)},Z.dismiss=at=>{ct.dismiss(at)},Z.update=at=>{ct.update(at)},ct.update(m),1===this._modalRefs.length&&x.addClass(this._document.body,"modal-open"),ye&&ye.instance&&ye.changeDetectorRef.detectChanges(),Be.changeDetectorRef.detectChanges(),ct}get activeInstances(){return this._activeInstances}dismissAll(o){this._modalRefs.forEach(d=>d.dismiss(o))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(o){let d=(0,u.LMc)(Kp,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(d.hostView),o.appendChild(d.location.nativeElement),d}_attachWindowComponent(o,d){let m=(0,u.LMc)(Df,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:d});return this._applicationRef.attachView(m.hostView),o.appendChild(m.location.nativeElement),m}_getContentRef(o,d,m,E,x){return m?m instanceof u.Rgc?this._createFromTemplateRef(m,E):Bu(m)?this._createFromString(m):this._createFromComponent(o,d,m,E,x):new Pi([])}_createFromTemplateRef(o,d){const E=o.createEmbeddedView({$implicit:d,close(x){d.close(x)},dismiss(x){d.dismiss(x)}});return this._applicationRef.attachView(E),new Pi([E.rootNodes],E)}_createFromString(o){const d=this._document.createTextNode(`${o}`);return new Pi([[d]])}_createFromComponent(o,d,m,E,x){const Z=u.zs3.create({providers:[{provide:eh,useValue:E}],parent:o}),se=(0,u.LMc)(m,{environmentInjector:d,elementInjector:Z}),he=se.location.nativeElement;return x.scrollable&&he.classList.add("component-host-scrollable"),this._applicationRef.attachView(se.hostView),new Pi([[he]],se.hostView,se)}_setAriaHidden(o){const d=o.parentElement;d&&o!==this._document.body&&(Array.from(d.children).forEach(m=>{m!==o&&"SCRIPT"!==m.nodeName&&(this._ariaHiddenValues.set(m,m.getAttribute("aria-hidden")),m.setAttribute("aria-hidden","true"))}),this._setAriaHidden(d))}_revertAriaHidden(){this._ariaHiddenValues.forEach((o,d)=>{o?d.setAttribute("aria-hidden",o):d.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(o){const d=()=>{const m=this._modalRefs.indexOf(o);m>-1&&(this._modalRefs.splice(m,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(o),this._activeInstances.emit(this._modalRefs),o.result.then(d,d)}_registerWindowCmpt(o){this._windowCmpts.push(o),this._activeWindowCmptHasChanged.next(),o.onDestroy(()=>{const d=this._windowCmpts.indexOf(o);d>-1&&(this._windowCmpts.splice(d,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(u.lqb),u.LFG(Se.K0),u.LFG(py),u.LFG(u.FYo),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),yw=(()=>{class c{constructor(o){this._ngbConfig=o,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(o){this._animation=o}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(Dp))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),Yp=(()=>{class c{constructor(o,d,m){this._injector=o,this._modalStack=d,this._config=m}open(o,d={}){const m={...this._config,animation:this._config.animation,...d};return this._modalStack.open(this._injector,o,m)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(o){this._modalStack.dismissAll(o)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(u.zs3),u.LFG(H0),u.LFG(yw))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),th=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({providers:[Yp]})}return c})(),yy=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),Em=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),io=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),Dm=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),Iw=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),Wu=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),qu=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),xf=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),Zu=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})();new u.OlP("live announcer delay",{providedIn:"root",factory:function Sw(){return 100}});let Ku=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),J0=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})();const Rm=[j_,mf,nw,w0,uy,dy,th,yy,J0,Em,io,Dm,Iw,Wu,qu,xf,Zu,Ku];let Pf=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({imports:[Rm,j_,mf,nw,w0,uy,dy,th,yy,J0,Em,io,Dm,Iw,Wu,qu,xf,Zu,Ku]})}return c})();var X0=K(2772);function lh(c){return new u.vHH(3e3,!1)}function _c(c){switch(c.length){case 0:return new Ps;case 1:return c[0];default:return new ri(c)}}function Ml(c,f,o=new Map,d=new Map){const m=[],E=[];let x=-1,Z=null;if(f.forEach(se=>{const he=se.get("offset"),ye=he==x,Be=ye&&Z||new Map;se.forEach((ct,at)=>{let Mt=at,Ut=ct;if("offset"!==at)switch(Mt=c.normalizePropertyName(Mt,m),Ut){case"!":Ut=o.get(at);break;case ni:Ut=d.get(at);break;default:Ut=c.normalizeStyleValue(at,Mt,Ut,m)}Be.set(Mt,Ut)}),ye||E.push(Be),Z=Be,x=he}),m.length)throw function au(c){return new u.vHH(3502,!1)}();return E}function vd(c,f,o,d){switch(f){case"start":c.onStart(()=>d(o&&Ly(o,"start",c)));break;case"done":c.onDone(()=>d(o&&Ly(o,"done",c)));break;case"destroy":c.onDestroy(()=>d(o&&Ly(o,"destroy",c)))}}function Ly(c,f,o){const E=Uy(c.element,c.triggerName,c.fromState,c.toState,f||c.phaseName,o.totalTime??c.totalTime,!!o.disabled),x=c._data;return null!=x&&(E._data=x),E}function Uy(c,f,o,d,m="",E=0,x){return{element:c,triggerName:f,fromState:o,toState:d,phaseName:m,totalTime:E,disabled:!!x}}function yc(c,f,o){let d=c.get(f);return d||c.set(f,d=o),d}function kf(c){const f=c.indexOf(":");return[c.substring(1,f),c.slice(f+1)]}const hh=(()=>typeof document>"u"?null:document.documentElement)();function cu(c){const f=c.parentNode||c.host||null;return f===hh?null:f}let Qu=null,fh=!1;function By(c,f){for(;f;){if(f===c)return!0;f=cu(f)}return!1}function Vy(c,f,o){if(o)return Array.from(c.querySelectorAll(f));const d=c.querySelector(f);return d?[d]:[]}let c1=(()=>{class c{validateStyleProperty(o){return function lg(c){Qu||(Qu=function Cs(){return typeof document<"u"?document.body:null}()||{},fh=!!Qu.style&&"WebkitAppearance"in Qu.style);let f=!0;return Qu.style&&!function Ff(c){return"ebkit"==c.substring(1,6)}(c)&&(f=c in Qu.style,!f&&fh&&(f="Webkit"+c.charAt(0).toUpperCase()+c.slice(1)in Qu.style)),f}(o)}matchesElement(o,d){return!1}containsElement(o,d){return By(o,d)}getParentElement(o){return cu(o)}query(o,d,m){return Vy(o,d,m)}computeStyle(o,d,m){return m||""}animate(o,d,m,E,x,Z=[],se){return new Ps(m,E)}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})(),Hy=(()=>{class c{static#e=this.NOOP=new c1}return c})();const Pw=1e3,Gy="ng-enter",xa="ng-leave",Lf="ng-trigger",dg=".ng-trigger",jy="ng-animating",Uf=".ng-animating";function vc(c){if("number"==typeof c)return c;const f=c.match(/^(-?[\.\d]+)(m?s)/);return!f||f.length<2?0:tr(parseFloat(f[1]),f[2])}function tr(c,f){return"s"===f?c*Pw:c}function ph(c,f,o){return c.hasOwnProperty("duration")?c:function hg(c,f,o){let m,E=0,x="";if("string"==typeof c){const Z=c.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Z)return f.push(lh()),{duration:0,delay:0,easing:""};m=tr(parseFloat(Z[1]),Z[2]);const se=Z[3];null!=se&&(E=tr(parseFloat(se),Z[4]));const he=Z[5];he&&(x=he)}else m=c;if(!o){let Z=!1,se=f.length;m<0&&(f.push(function uh(){return new u.vHH(3100,!1)}()),Z=!0),E<0&&(f.push(function Pm(){return new u.vHH(3101,!1)}()),Z=!0),Z&&f.splice(se,0,lh())}return{duration:m,delay:E,easing:x}}(c,f,o)}function xl(c,f={}){return Object.keys(c).forEach(o=>{f[o]=c[o]}),f}function Bf(c){const f=new Map;return Object.keys(c).forEach(o=>{f.set(o,c[o])}),f}function fa(c,f=new Map,o){if(o)for(let[d,m]of o)f.set(d,m);for(let[d,m]of c)f.set(d,m);return f}function xc(c,f,o){f.forEach((d,m)=>{const E=Bm(m);o&&!o.has(m)&&o.set(m,c.style[E]),c.style[E]=d})}function rl(c,f){f.forEach((o,d)=>{const m=Bm(d);c.style[m]=""})}function bd(c){return Array.isArray(c)?1==c.length?c[0]:Ii(c):c}const Hf=new RegExp("{{\\s*(.+?)\\s*}}","g");function gh(c){let f=[];if("string"==typeof c){let o;for(;o=Hf.exec(c);)f.push(o[1]);Hf.lastIndex=0}return f}function mh(c,f,o){const d=c.toString(),m=d.replace(Hf,(E,x)=>{let Z=f[x];return null==Z&&(o.push(function Ow(c){return new u.vHH(3003,!1)}()),Z=""),Z.toString()});return m==d?c:m}function _h(c){const f=[];let o=c.next();for(;!o.done;)f.push(o.value),o=c.next();return f}const yh=/-+([a-z0-9])/g;function Bm(c){return c.replace(yh,(...f)=>f[1].toUpperCase())}function Ra(c,f,o){switch(f.type){case 7:return c.visitTrigger(f,o);case 0:return c.visitState(f,o);case 1:return c.visitTransition(f,o);case 2:return c.visitSequence(f,o);case 3:return c.visitGroup(f,o);case 4:return c.visitAnimate(f,o);case 5:return c.visitKeyframes(f,o);case 6:return c.visitStyle(f,o);case 8:return c.visitReference(f,o);case 9:return c.visitAnimateChild(f,o);case 10:return c.visitAnimateRef(f,o);case 11:return c.visitQuery(f,o);case 12:return c.visitStagger(f,o);default:throw function Mw(c){return new u.vHH(3004,!1)}()}}function bc(c,f){return window.getComputedStyle(c)[f]}const si="*";function Uw(c,f){const o=[];return"string"==typeof c?c.split(/\s*,\s*/).forEach(d=>function d1(c,f,o){if(":"==c[0]){const se=function il(c,f){switch(c){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,d)=>parseFloat(d)>parseFloat(o);case":decrement":return(o,d)=>parseFloat(d)<parseFloat(o);default:return f.push(function xw(c){return new u.vHH(3016,!1)}()),"* => *"}}(c,o);if("function"==typeof se)return void f.push(se);c=se}const d=c.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==d||d.length<4)return o.push(function t1(c){return new u.vHH(3015,!1)}()),f;const m=d[1],E=d[2],x=d[3];f.push(vh(m,x));"<"==E[0]&&!(m==si&&x==si)&&f.push(vh(x,m))}(d,o,f)):o.push(c),o}const jf=new Set(["true","1"]),$f=new Set(["false","0"]);function vh(c,f){const o=jf.has(c)||$f.has(c),d=jf.has(f)||$f.has(f);return(m,E)=>{let x=c==si||c==m,Z=f==si||f==E;return!x&&o&&"boolean"==typeof m&&(x=m?jf.has(c):$f.has(c)),!Z&&d&&"boolean"==typeof E&&(Z=E?jf.has(f):$f.has(f)),x&&Z}}const zy=new RegExp("s*:selfs*,?","g");function Rl(c,f,o,d){return new To(c).build(f,o,d)}class To{constructor(f){this._driver=f}build(f,o,d){const m=new pg(o);return this._resetContextStyleTimingState(m),Ra(this,bd(f),m)}_resetContextStyleTimingState(f){f.currentQuerySelector="",f.collectedStyles=new Map,f.collectedStyles.set("",new Map),f.currentTime=0}visitTrigger(f,o){let d=o.queryCount=0,m=o.depCount=0;const E=[],x=[];return"@"==f.name.charAt(0)&&o.errors.push(function e1(){return new u.vHH(3006,!1)}()),f.definitions.forEach(Z=>{if(this._resetContextStyleTimingState(o),0==Z.type){const se=Z,he=se.name;he.toString().split(/\s*,\s*/).forEach(ye=>{se.name=ye,E.push(this.visitState(se,o))}),se.name=he}else if(1==Z.type){const se=this.visitTransition(Z,o);d+=se.queryCount,m+=se.depCount,x.push(se)}else o.errors.push(function ha(){return new u.vHH(3007,!1)}())}),{type:7,name:f.name,states:E,transitions:x,queryCount:d,depCount:m,options:null}}visitState(f,o){const d=this.visitStyle(f.styles,o),m=f.options&&f.options.params||null;if(d.containsDynamicStyles){const E=new Set,x=m||{};d.styles.forEach(Z=>{Z instanceof Map&&Z.forEach(se=>{gh(se).forEach(he=>{x.hasOwnProperty(he)||E.add(he)})})}),E.size&&(_h(E.values()),o.errors.push(function ou(c,f){return new u.vHH(3008,!1)}()))}return{type:0,name:f.name,style:d,options:m?{params:m}:null}}visitTransition(f,o){o.queryCount=0,o.depCount=0;const d=Ra(this,bd(f.animation),o);return{type:1,matchers:Uw(f.expr,o.errors),animation:d,queryCount:o.queryCount,depCount:o.depCount,options:zs(f.options)}}visitSequence(f,o){return{type:2,steps:f.steps.map(d=>Ra(this,d,o)),options:zs(f.options)}}visitGroup(f,o){const d=o.currentTime;let m=0;const E=f.steps.map(x=>{o.currentTime=d;const Z=Ra(this,x,o);return m=Math.max(m,o.currentTime),Z});return o.currentTime=m,{type:3,steps:E,options:zs(f.options)}}visitAnimate(f,o){const d=function h1(c,f){if(c.hasOwnProperty("duration"))return c;if("number"==typeof c)return gg(ph(c,f).duration,0,"");const o=c;if(o.split(/\s+/).some(E=>"{"==E.charAt(0)&&"{"==E.charAt(1))){const E=gg(0,0,"");return E.dynamic=!0,E.strValue=o,E}const m=ph(o,f);return gg(m.duration,m.delay,m.easing)}(f.timings,o.errors);o.currentAnimateTimings=d;let m,E=f.styles?f.styles:Rs({});if(5==E.type)m=this.visitKeyframes(E,o);else{let x=f.styles,Z=!1;if(!x){Z=!0;const he={};d.easing&&(he.easing=d.easing),x=Rs(he)}o.currentTime+=d.duration+d.delay;const se=this.visitStyle(x,o);se.isEmptyStep=Z,m=se}return o.currentAnimateTimings=null,{type:4,timings:d,style:m,options:null}}visitStyle(f,o){const d=this._makeStyleAst(f,o);return this._validateStyleAst(d,o),d}_makeStyleAst(f,o){const d=[],m=Array.isArray(f.styles)?f.styles:[f.styles];for(let Z of m)"string"==typeof Z?Z===ni?d.push(Z):o.errors.push(new u.vHH(3002,!1)):d.push(Bf(Z));let E=!1,x=null;return d.forEach(Z=>{if(Z instanceof Map&&(Z.has("easing")&&(x=Z.get("easing"),Z.delete("easing")),!E))for(let se of Z.values())if(se.toString().indexOf("{{")>=0){E=!0;break}}),{type:6,styles:d,easing:x,offset:f.offset,containsDynamicStyles:E,options:null}}_validateStyleAst(f,o){const d=o.currentAnimateTimings;let m=o.currentTime,E=o.currentTime;d&&E>0&&(E-=d.duration+d.delay),f.styles.forEach(x=>{"string"!=typeof x&&x.forEach((Z,se)=>{const he=o.collectedStyles.get(o.currentQuerySelector),ye=he.get(se);let Be=!0;ye&&(E!=m&&E>=ye.startTime&&m<=ye.endTime&&(o.errors.push(function Yu(c,f,o,d,m){return new u.vHH(3010,!1)}()),Be=!1),E=ye.startTime),Be&&he.set(se,{startTime:E,endTime:m}),o.options&&function fg(c,f,o){const d=f.params||{},m=gh(c);m.length&&m.forEach(E=>{d.hasOwnProperty(E)||o.push(function Nw(c){return new u.vHH(3001,!1)}())})}(Z,o.options,o.errors)})})}visitKeyframes(f,o){const d={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function vi(){return new u.vHH(3011,!1)}()),d;let E=0;const x=[];let Z=!1,se=!1,he=0;const ye=f.steps.map(Rn=>{const An=this._makeStyleAst(Rn,o);let vr=null!=An.offset?An.offset:function jm(c){if("string"==typeof c)return null;let f=null;if(Array.isArray(c))c.forEach(o=>{if(o instanceof Map&&o.has("offset")){const d=o;f=parseFloat(d.get("offset")),d.delete("offset")}});else if(c instanceof Map&&c.has("offset")){const o=c;f=parseFloat(o.get("offset")),o.delete("offset")}return f}(An.styles),Nn=0;return null!=vr&&(E++,Nn=An.offset=vr),se=se||Nn<0||Nn>1,Z=Z||Nn<he,he=Nn,x.push(Nn),An});se&&o.errors.push(function km(){return new u.vHH(3012,!1)}()),Z&&o.errors.push(function og(){return new u.vHH(3200,!1)}());const Be=f.steps.length;let ct=0;E>0&&E<Be?o.errors.push(function ag(){return new u.vHH(3202,!1)}()):0==E&&(ct=1/(Be-1));const at=Be-1,Mt=o.currentTime,Ut=o.currentAnimateTimings,zt=Ut.duration;return ye.forEach((Rn,An)=>{const vr=ct>0?An==at?1:ct*An:x[An],Nn=vr*zt;o.currentTime=Mt+Ut.delay+Nn,Ut.duration=Nn,this._validateStyleAst(Rn,o),Rn.offset=vr,d.styles.push(Rn)}),d}visitReference(f,o){return{type:8,animation:Ra(this,bd(f.animation),o),options:zs(f.options)}}visitAnimateChild(f,o){return o.depCount++,{type:9,options:zs(f.options)}}visitAnimateRef(f,o){return{type:10,animation:this.visitReference(f.animation,o),options:zs(f.options)}}visitQuery(f,o){const d=o.currentQuerySelector,m=f.options||{};o.queryCount++,o.currentQuery=f;const[E,x]=function Hm(c){const f=!!c.split(/\s*,\s*/).find(o=>":self"==o);return f&&(c=c.replace(zy,"")),c=c.replace(/@\*/g,dg).replace(/@\w+/g,o=>dg+"-"+o.slice(1)).replace(/:animating/g,Uf),[c,f]}(f.selector);o.currentQuerySelector=d.length?d+" "+E:E,yc(o.collectedStyles,o.currentQuerySelector,new Map);const Z=Ra(this,bd(f.animation),o);return o.currentQuery=null,o.currentQuerySelector=d,{type:11,selector:E,limit:m.limit||0,optional:!!m.optional,includeSelf:x,animation:Z,originalSelector:f.selector,options:zs(f.options)}}visitStagger(f,o){o.currentQuery||o.errors.push(function Py(){return new u.vHH(3013,!1)}());const d="full"===f.timings?{duration:0,delay:0,easing:"full"}:ph(f.timings,o.errors,!0);return{type:12,animation:Ra(this,bd(f.animation),o),timings:d,options:null}}}class pg{constructor(f){this.errors=f,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function zs(c){return c?(c=xl(c)).params&&(c.params=function Gm(c){return c?xl(c):null}(c.params)):c={},c}function gg(c,f,o){return{duration:c,delay:f,easing:o}}function Wy(c,f,o,d,m,E,x=null,Z=!1){return{type:1,element:c,keyframes:f,preStyleProps:o,postStyleProps:d,duration:m,delay:E,totalTime:m+E,easing:x,subTimeline:Z}}class bh{constructor(){this._map=new Map}get(f){return this._map.get(f)||[]}append(f,o){let d=this._map.get(f);d||this._map.set(f,d=[]),d.push(...o)}has(f){return this._map.has(f)}clear(){this._map.clear()}}const qy=new RegExp(":enter","g"),zf=new RegExp(":leave","g");function p1(c,f,o,d,m,E=new Map,x=new Map,Z,se,he=[]){return(new g1).buildKeyframes(c,f,o,d,m,E,x,Z,se,he)}class g1{buildKeyframes(f,o,d,m,E,x,Z,se,he,ye=[]){he=he||new bh;const Be=new mg(f,o,he,m,E,ye,[]);Be.options=se;const ct=se.delay?vc(se.delay):0;Be.currentTimeline.delayNextStep(ct),Be.currentTimeline.setStyles([x],null,Be.errors,se),Ra(this,d,Be);const at=Be.timelines.filter(Mt=>Mt.containsAnimation());if(at.length&&Z.size){let Mt;for(let Ut=at.length-1;Ut>=0;Ut--){const zt=at[Ut];if(zt.element===o){Mt=zt;break}}Mt&&!Mt.allowOnlyTimelineStyles()&&Mt.setStyles([Z],null,Be.errors,se)}return at.length?at.map(Mt=>Mt.buildKeyframes()):[Wy(o,[],[],[],0,ct,"",!1)]}visitTrigger(f,o){}visitState(f,o){}visitTransition(f,o){}visitAnimateChild(f,o){const d=o.subInstructions.get(o.element);if(d){const m=o.createSubContext(f.options),E=o.currentTimeline.currentTime,x=this._visitSubInstructions(d,m,m.options);E!=x&&o.transformIntoNewTimeline(x)}o.previousNode=f}visitAnimateRef(f,o){const d=o.createSubContext(f.options);d.transformIntoNewTimeline(),this._applyAnimationRefDelays([f.options,f.animation.options],o,d),this.visitReference(f.animation,d),o.transformIntoNewTimeline(d.currentTimeline.currentTime),o.previousNode=f}_applyAnimationRefDelays(f,o,d){for(const m of f){const E=m?.delay;if(E){const x="number"==typeof E?E:vc(mh(E,m?.params??{},o.errors));d.delayNextStep(x)}}}_visitSubInstructions(f,o,d){let E=o.currentTimeline.currentTime;const x=null!=d.duration?vc(d.duration):null,Z=null!=d.delay?vc(d.delay):null;return 0!==x&&f.forEach(se=>{const he=o.appendInstructionToTimeline(se,x,Z);E=Math.max(E,he.duration+he.delay)}),E}visitReference(f,o){o.updateOptions(f.options,!0),Ra(this,f.animation,o),o.previousNode=f}visitSequence(f,o){const d=o.subContextCount;let m=o;const E=f.options;if(E&&(E.params||E.delay)&&(m=o.createSubContext(E),m.transformIntoNewTimeline(),null!=E.delay)){6==m.previousNode.type&&(m.currentTimeline.snapshotCurrentStyles(),m.previousNode=uu);const x=vc(E.delay);m.delayNextStep(x)}f.steps.length&&(f.steps.forEach(x=>Ra(this,x,m)),m.currentTimeline.applyStylesToKeyframe(),m.subContextCount>d&&m.transformIntoNewTimeline()),o.previousNode=f}visitGroup(f,o){const d=[];let m=o.currentTimeline.currentTime;const E=f.options&&f.options.delay?vc(f.options.delay):0;f.steps.forEach(x=>{const Z=o.createSubContext(f.options);E&&Z.delayNextStep(E),Ra(this,x,Z),m=Math.max(m,Z.currentTimeline.currentTime),d.push(Z.currentTimeline)}),d.forEach(x=>o.currentTimeline.mergeTimelineCollectedStyles(x)),o.transformIntoNewTimeline(m),o.previousNode=f}_visitTiming(f,o){if(f.dynamic){const d=f.strValue;return ph(o.params?mh(d,o.params,o.errors):d,o.errors)}return{duration:f.duration,delay:f.delay,easing:f.easing}}visitAnimate(f,o){const d=o.currentAnimateTimings=this._visitTiming(f.timings,o),m=o.currentTimeline;d.delay&&(o.incrementTime(d.delay),m.snapshotCurrentStyles());const E=f.style;5==E.type?this.visitKeyframes(E,o):(o.incrementTime(d.duration),this.visitStyle(E,o),m.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=f}visitStyle(f,o){const d=o.currentTimeline,m=o.currentAnimateTimings;!m&&d.hasCurrentStyleProperties()&&d.forwardFrame();const E=m&&m.easing||f.easing;f.isEmptyStep?d.applyEmptyStep(E):d.setStyles(f.styles,E,o.errors,o.options),o.previousNode=f}visitKeyframes(f,o){const d=o.currentAnimateTimings,m=o.currentTimeline.duration,E=d.duration,Z=o.createSubContext().currentTimeline;Z.easing=d.easing,f.styles.forEach(se=>{Z.forwardTime((se.offset||0)*E),Z.setStyles(se.styles,se.easing,o.errors,o.options),Z.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(Z),o.transformIntoNewTimeline(m+E),o.previousNode=f}visitQuery(f,o){const d=o.currentTimeline.currentTime,m=f.options||{},E=m.delay?vc(m.delay):0;E&&(6===o.previousNode.type||0==d&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=uu);let x=d;const Z=o.invokeQuery(f.selector,f.originalSelector,f.limit,f.includeSelf,!!m.optional,o.errors);o.currentQueryTotal=Z.length;let se=null;Z.forEach((he,ye)=>{o.currentQueryIndex=ye;const Be=o.createSubContext(f.options,he);E&&Be.delayNextStep(E),he===o.element&&(se=Be.currentTimeline),Ra(this,f.animation,Be),Be.currentTimeline.applyStylesToKeyframe(),x=Math.max(x,Be.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(x),se&&(o.currentTimeline.mergeTimelineCollectedStyles(se),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=f}visitStagger(f,o){const d=o.parentContext,m=o.currentTimeline,E=f.timings,x=Math.abs(E.duration),Z=x*(o.currentQueryTotal-1);let se=x*o.currentQueryIndex;switch(E.duration<0?"reverse":E.easing){case"reverse":se=Z-se;break;case"full":se=d.currentStaggerTime}const ye=o.currentTimeline;se&&ye.delayNextStep(se);const Be=ye.currentTime;Ra(this,f.animation,o),o.previousNode=f,d.currentStaggerTime=m.currentTime-Be+(m.startTime-d.currentTimeline.startTime)}}const uu={};class mg{constructor(f,o,d,m,E,x,Z,se){this._driver=f,this.element=o,this.subInstructions=d,this._enterClassName=m,this._leaveClassName=E,this.errors=x,this.timelines=Z,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=uu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=se||new Ss(this._driver,o,0),Z.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(f,o){if(!f)return;const d=f;let m=this.options;null!=d.duration&&(m.duration=vc(d.duration)),null!=d.delay&&(m.delay=vc(d.delay));const E=d.params;if(E){let x=m.params;x||(x=this.options.params={}),Object.keys(E).forEach(Z=>{(!o||!x.hasOwnProperty(Z))&&(x[Z]=mh(E[Z],x,this.errors))})}}_copyOptions(){const f={};if(this.options){const o=this.options.params;if(o){const d=f.params={};Object.keys(o).forEach(m=>{d[m]=o[m]})}}return f}createSubContext(f=null,o,d){const m=o||this.element,E=new mg(this._driver,m,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(m,d||0));return E.previousNode=this.previousNode,E.currentAnimateTimings=this.currentAnimateTimings,E.options=this._copyOptions(),E.updateOptions(f),E.currentQueryIndex=this.currentQueryIndex,E.currentQueryTotal=this.currentQueryTotal,E.parentContext=this,this.subContextCount++,E}transformIntoNewTimeline(f){return this.previousNode=uu,this.currentTimeline=this.currentTimeline.fork(this.element,f),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(f,o,d){const m={duration:o??f.duration,delay:this.currentTimeline.currentTime+(d??0)+f.delay,easing:""},E=new wd(this._driver,f.element,f.keyframes,f.preStyleProps,f.postStyleProps,m,f.stretchStartingKeyframe);return this.timelines.push(E),m}incrementTime(f){this.currentTimeline.forwardTime(this.currentTimeline.duration+f)}delayNextStep(f){f>0&&this.currentTimeline.delayNextStep(f)}invokeQuery(f,o,d,m,E,x){let Z=[];if(m&&Z.push(this.element),f.length>0){f=(f=f.replace(qy,"."+this._enterClassName)).replace(zf,"."+this._leaveClassName);let he=this._driver.query(this.element,f,1!=d);0!==d&&(he=d<0?he.slice(he.length+d,he.length):he.slice(0,d)),Z.push(...he)}return!E&&0==Z.length&&x.push(function Ol(c){return new u.vHH(3014,!1)}()),Z}}class Ss{constructor(f,o,d,m){this._driver=f,this.element=o,this.startTime=d,this._elementTimelineStylesLookup=m,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(f){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+f),o&&this.snapshotCurrentStyles()):this.startTime+=f}fork(f,o){return this.applyStylesToKeyframe(),new Ss(this._driver,f,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(f){this.applyStylesToKeyframe(),this.duration=f,this._loadKeyframe()}_updateStyle(f,o){this._localTimelineStyles.set(f,o),this._globalTimelineStyles.set(f,o),this._styleSummary.set(f,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(f){f&&this._previousKeyframe.set("easing",f);for(let[o,d]of this._globalTimelineStyles)this._backFill.set(o,d||ni),this._currentKeyframe.set(o,ni);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(f,o,d,m){o&&this._previousKeyframe.set("easing",o);const E=m&&m.params||{},x=function Zy(c,f){const o=new Map;let d;return c.forEach(m=>{if("*"===m){d=d||f.keys();for(let E of d)o.set(E,ni)}else fa(m,o)}),o}(f,this._globalTimelineStyles);for(let[Z,se]of x){const he=mh(se,E,d);this._pendingStyles.set(Z,he),this._localTimelineStyles.has(Z)||this._backFill.set(Z,this._globalTimelineStyles.get(Z)??ni),this._updateStyle(Z,he)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((f,o)=>{this._currentKeyframe.set(o,f)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((f,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,f)}))}snapshotCurrentStyles(){for(let[f,o]of this._localTimelineStyles)this._pendingStyles.set(f,o),this._updateStyle(f,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const f=[];for(let o in this._currentKeyframe)f.push(o);return f}mergeTimelineCollectedStyles(f){f._styleSummary.forEach((o,d)=>{const m=this._styleSummary.get(d);(!m||o.time>m.time)&&this._updateStyle(d,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const f=new Set,o=new Set,d=1===this._keyframes.size&&0===this.duration;let m=[];this._keyframes.forEach((Z,se)=>{const he=fa(Z,new Map,this._backFill);he.forEach((ye,Be)=>{"!"===ye?f.add(Be):ye===ni&&o.add(Be)}),d||he.set("offset",se/this.duration),m.push(he)});const E=f.size?_h(f.values()):[],x=o.size?_h(o.values()):[];if(d){const Z=m[0],se=new Map(Z);Z.set("offset",0),se.set("offset",1),m=[Z,se]}return Wy(this.element,m,E,x,this.duration,this.startTime,this.easing,!1)}}class wd extends Ss{constructor(f,o,d,m,E,x,Z=!1){super(f,o,x.delay),this.keyframes=d,this.preStyleProps=m,this.postStyleProps=E,this._stretchStartingKeyframe=Z,this.timings={duration:x.duration,delay:x.delay,easing:x.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let f=this.keyframes,{delay:o,duration:d,easing:m}=this.timings;if(this._stretchStartingKeyframe&&o){const E=[],x=d+o,Z=o/x,se=fa(f[0]);se.set("offset",0),E.push(se);const he=fa(f[0]);he.set("offset",pa(Z)),E.push(he);const ye=f.length-1;for(let Be=1;Be<=ye;Be++){let ct=fa(f[Be]);const at=ct.get("offset");ct.set("offset",pa((o+at*d)/x)),E.push(ct)}d=x,o=0,m="",f=E}return Wy(this.element,f,this.preStyleProps,this.postStyleProps,d,o,m,!0)}}function pa(c,f=3){const o=Math.pow(10,f-1);return Math.round(c*o)/o}class Nt{}const sl=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ky extends Nt{normalizePropertyName(f,o){return Bm(f)}normalizeStyleValue(f,o,d,m){let E="";const x=d.toString().trim();if(sl.has(o)&&0!==d&&"0"!==d)if("number"==typeof d)E="px";else{const Z=d.match(/^[+-]?[\d\.]+([a-z]*)$/);Z&&0==Z[1].length&&m.push(function xy(c,f){return new u.vHH(3005,!1)}())}return x+E}}function dn(c,f,o,d,m,E,x,Z,se,he,ye,Be,ct){return{type:0,element:c,triggerName:f,isRemovalTransition:m,fromState:o,fromStyles:E,toState:d,toStyles:x,timelines:Z,queriedElements:se,preStyleProps:he,postStyleProps:ye,totalTime:Be,errors:ct}}const bn={};class m1{constructor(f,o,d){this._triggerName=f,this.ast=o,this._stateStyles=d}match(f,o,d,m){return function it(c,f,o,d,m){return c.some(E=>E(f,o,d,m))}(this.ast.matchers,f,o,d,m)}buildStyles(f,o,d){let m=this._stateStyles.get("*");return void 0!==f&&(m=this._stateStyles.get(f?.toString())||m),m?m.buildStyles(o,d):new Map}build(f,o,d,m,E,x,Z,se,he,ye){const Be=[],ct=this.ast.options&&this.ast.options.params||bn,Mt=this.buildStyles(d,Z&&Z.params||bn,Be),Ut=se&&se.params||bn,zt=this.buildStyles(m,Ut,Be),Rn=new Set,An=new Map,vr=new Map,Nn="void"===m,wn={params:St(Ut,ct),delay:this.ast.options?.delay},rr=ye?[]:p1(f,o,this.ast.animation,E,x,Mt,zt,wn,he,Be);let ir=0;if(rr.forEach(bi=>{ir=Math.max(bi.duration+bi.delay,ir)}),Be.length)return dn(o,this._triggerName,d,m,Nn,Mt,zt,[],[],An,vr,ir,Be);rr.forEach(bi=>{const Qr=bi.element,ao=yc(An,Qr,new Set);bi.preStyleProps.forEach(wi=>ao.add(wi));const Ao=yc(vr,Qr,new Set);bi.postStyleProps.forEach(wi=>Ao.add(wi)),Qr!==o&&Rn.add(Qr)});const Fr=_h(Rn.values());return dn(o,this._triggerName,d,m,Nn,Mt,zt,rr,Fr,An,vr,ir)}}function St(c,f){const o=xl(f);for(const d in c)c.hasOwnProperty(d)&&null!=c[d]&&(o[d]=c[d]);return o}class oo{constructor(f,o,d){this.styles=f,this.defaultParams=o,this.normalizer=d}buildStyles(f,o){const d=new Map,m=xl(this.defaultParams);return Object.keys(f).forEach(E=>{const x=f[E];null!==x&&(m[E]=x)}),this.styles.styles.forEach(E=>{"string"!=typeof E&&E.forEach((x,Z)=>{x&&(x=mh(x,m,o));const se=this.normalizer.normalizePropertyName(Z,o);x=this.normalizer.normalizeStyleValue(Z,se,x,o),d.set(Z,x)})}),d}}class Vw{constructor(f,o,d){this.name=f,this.ast=o,this._normalizer=d,this.transitionFactories=[],this.states=new Map,o.states.forEach(m=>{this.states.set(m.name,new oo(m.style,m.options&&m.options.params||{},d))}),Qy(this.states,"true","1"),Qy(this.states,"false","0"),o.transitions.forEach(m=>{this.transitionFactories.push(new m1(f,m,this.states))}),this.fallbackTransition=function Hw(c,f,o){return new m1(c,{type:1,animation:{type:2,steps:[],options:null},matchers:[(x,Z)=>!0],options:null,queryCount:0,depCount:0},f)}(f,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(f,o,d,m){return this.transitionFactories.find(x=>x.match(f,o,d,m))||null}matchStyles(f,o,d){return this.fallbackTransition.buildStyles(f,o,d)}}function Qy(c,f,o){c.has(f)?c.has(o)||c.set(o,c.get(f)):c.has(o)&&c.set(f,c.get(o))}const _1=new bh;class _g{constructor(f,o,d){this.bodyNode=f,this._driver=o,this._normalizer=d,this._animations=new Map,this._playersById=new Map,this.players=[]}register(f,o){const d=[],E=Rl(this._driver,o,d,[]);if(d.length)throw function n1(c){return new u.vHH(3503,!1)}();this._animations.set(f,E)}_buildPlayer(f,o,d){const m=f.element,E=Ml(this._normalizer,f.keyframes,o,d);return this._driver.animate(m,E,f.duration,f.delay,f.easing,[],!0)}create(f,o,d={}){const m=[],E=this._animations.get(f);let x;const Z=new Map;if(E?(x=p1(this._driver,o,E,Gy,xa,new Map,new Map,d,_1,m),x.forEach(ye=>{const Be=yc(Z,ye.element,new Map);ye.postStyleProps.forEach(ct=>Be.set(ct,null))})):(m.push(function r1(){return new u.vHH(3300,!1)}()),x=[]),m.length)throw function Fm(c){return new u.vHH(3504,!1)}();Z.forEach((ye,Be)=>{ye.forEach((ct,at)=>{ye.set(at,this._driver.computeStyle(Be,at,ni))})});const he=_c(x.map(ye=>{const Be=Z.get(ye.element);return this._buildPlayer(ye,new Map,Be)}));return this._playersById.set(f,he),he.onDestroy(()=>this.destroy(f)),this.players.push(he),he}destroy(f){const o=this._getPlayer(f);o.destroy(),this._playersById.delete(f);const d=this.players.indexOf(o);d>=0&&this.players.splice(d,1)}_getPlayer(f){const o=this._playersById.get(f);if(!o)throw function dh(c){return new u.vHH(3301,!1)}();return o}listen(f,o,d,m){const E=Uy(o,"","","");return vd(this._getPlayer(f),d,E,m),()=>{}}command(f,o,d,m){if("register"==d)return void this.register(f,m[0]);if("create"==d)return void this.create(f,o,m[0]||{});const E=this._getPlayer(f);switch(d){case"play":E.play();break;case"pause":E.pause();break;case"reset":E.reset();break;case"restart":E.restart();break;case"finish":E.finish();break;case"init":E.init();break;case"setPosition":E.setPosition(parseFloat(m[0]));break;case"destroy":this.destroy(f)}}}const Jy="ng-animate-queued",Xy="ng-animate-disabled",Wf=[],ev={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ys={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},gn="__ng_removed";class wh{get params(){return this.options.params}constructor(f,o=""){this.namespaceId=o;const d=f&&f.hasOwnProperty("value");if(this.value=function du(c){return c??null}(d?f.value:f),d){const E=xl(f);delete E.value,this.options=E}else this.options={};this.options.params||(this.options.params={})}absorbOptions(f){const o=f.params;if(o){const d=this.options.params;Object.keys(o).forEach(m=>{null==d[m]&&(d[m]=o[m])})}}}const Pr="void",tv=new wh(Pr);class Ws{constructor(f,o,d){this.id=f,this.hostElement=o,this._engine=d,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+f,Pc(o,this._hostClassName)}listen(f,o,d,m){if(!this._triggers.has(o))throw function i1(c,f){return new u.vHH(3302,!1)}();if(null==d||0==d.length)throw function Rw(c){return new u.vHH(3303,!1)}();if(!function Wm(c){return"start"==c||"done"==c}(d))throw function ky(c,f){return new u.vHH(3400,!1)}();const E=yc(this._elementListeners,f,[]),x={name:o,phase:d,callback:m};E.push(x);const Z=yc(this._engine.statesByElement,f,new Map);return Z.has(o)||(Pc(f,Lf),Pc(f,Lf+"-"+o),Z.set(o,tv)),()=>{this._engine.afterFlush(()=>{const se=E.indexOf(x);se>=0&&E.splice(se,1),this._triggers.has(o)||Z.delete(o)})}}register(f,o){return!this._triggers.has(f)&&(this._triggers.set(f,o),!0)}_getTrigger(f){const o=this._triggers.get(f);if(!o)throw function s1(c){return new u.vHH(3401,!1)}();return o}trigger(f,o,d,m=!0){const E=this._getTrigger(o),x=new Id(this.id,o,f);let Z=this._engine.statesByElement.get(f);Z||(Pc(f,Lf),Pc(f,Lf+"-"+o),this._engine.statesByElement.set(f,Z=new Map));let se=Z.get(o);const he=new wh(d,this.id);if(!(d&&d.hasOwnProperty("value"))&&se&&he.absorbOptions(se.options),Z.set(o,he),se||(se=tv),he.value!==Pr&&se.value===he.value){if(!function Ih(c,f){const o=Object.keys(c),d=Object.keys(f);if(o.length!=d.length)return!1;for(let m=0;m<o.length;m++){const E=o[m];if(!f.hasOwnProperty(E)||c[E]!==f[E])return!1}return!0}(se.params,he.params)){const Ut=[],zt=E.matchStyles(se.value,se.params,Ut),Rn=E.matchStyles(he.value,he.params,Ut);Ut.length?this._engine.reportError(Ut):this._engine.afterFlush(()=>{rl(f,zt),xc(f,Rn)})}return}const ct=yc(this._engine.playersByElement,f,[]);ct.forEach(Ut=>{Ut.namespaceId==this.id&&Ut.triggerName==o&&Ut.queued&&Ut.destroy()});let at=E.matchTransition(se.value,he.value,f,he.params),Mt=!1;if(!at){if(!m)return;at=E.fallbackTransition,Mt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:o,transition:at,fromState:se,toState:he,player:x,isFallbackTransition:Mt}),Mt||(Pc(f,Jy),x.onStart(()=>{Do(f,Jy)})),x.onDone(()=>{let Ut=this.players.indexOf(x);Ut>=0&&this.players.splice(Ut,1);const zt=this._engine.playersByElement.get(f);if(zt){let Rn=zt.indexOf(x);Rn>=0&&zt.splice(Rn,1)}}),this.players.push(x),ct.push(x),x}deregister(f){this._triggers.delete(f),this._engine.statesByElement.forEach(o=>o.delete(f)),this._elementListeners.forEach((o,d)=>{this._elementListeners.set(d,o.filter(m=>m.name!=f))})}clearElementCache(f){this._engine.statesByElement.delete(f),this._elementListeners.delete(f);const o=this._engine.playersByElement.get(f);o&&(o.forEach(d=>d.destroy()),this._engine.playersByElement.delete(f))}_signalRemovalForInnerTriggers(f,o){const d=this._engine.driver.query(f,dg,!0);d.forEach(m=>{if(m[gn])return;const E=this._engine.fetchNamespacesByElement(m);E.size?E.forEach(x=>x.triggerLeaveAnimation(m,o,!1,!0)):this.clearElementCache(m)}),this._engine.afterFlushAnimationsDone(()=>d.forEach(m=>this.clearElementCache(m)))}triggerLeaveAnimation(f,o,d,m){const E=this._engine.statesByElement.get(f),x=new Map;if(E){const Z=[];if(E.forEach((se,he)=>{if(x.set(he,se.value),this._triggers.has(he)){const ye=this.trigger(f,he,Pr,m);ye&&Z.push(ye)}}),Z.length)return this._engine.markElementAsRemoved(this.id,f,!0,o,x),d&&_c(Z).onDone(()=>this._engine.processLeaveNode(f)),!0}return!1}prepareLeaveAnimationListeners(f){const o=this._elementListeners.get(f),d=this._engine.statesByElement.get(f);if(o&&d){const m=new Set;o.forEach(E=>{const x=E.name;if(m.has(x))return;m.add(x);const se=this._triggers.get(x).fallbackTransition,he=d.get(x)||tv,ye=new wh(Pr),Be=new Id(this.id,x,f);this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:x,transition:se,fromState:he,toState:ye,player:Be,isFallbackTransition:!0})})}}removeNode(f,o){const d=this._engine;if(f.childElementCount&&this._signalRemovalForInnerTriggers(f,o),this.triggerLeaveAnimation(f,o,!0))return;let m=!1;if(d.totalAnimations){const E=d.players.length?d.playersByQueriedElement.get(f):[];if(E&&E.length)m=!0;else{let x=f;for(;x=x.parentNode;)if(d.statesByElement.get(x)){m=!0;break}}}if(this.prepareLeaveAnimationListeners(f),m)d.markElementAsRemoved(this.id,f,!1,o);else{const E=f[gn];(!E||E===ev)&&(d.afterFlush(()=>this.clearElementCache(f)),d.destroyInnerAnimations(f),d._onRemovalComplete(f,o))}}insertNode(f,o){Pc(f,this._hostClassName)}drainQueuedTransitions(f){const o=[];return this._queue.forEach(d=>{const m=d.player;if(m.destroyed)return;const E=d.element,x=this._elementListeners.get(E);x&&x.forEach(Z=>{if(Z.name==d.triggerName){const se=Uy(E,d.triggerName,d.fromState.value,d.toState.value);se._data=f,vd(d.player,Z.phase,se,Z.callback)}}),m.markedForDestroy?this._engine.afterFlush(()=>{m.destroy()}):o.push(d)}),this._queue=[],o.sort((d,m)=>{const E=d.transition.ast.depCount,x=m.transition.ast.depCount;return 0==E||0==x?E-x:this._engine.driver.containsElement(d.element,m.element)?1:-1})}destroy(f){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,f)}}class Qt{_onRemovalComplete(f,o){this.onRemovalComplete(f,o)}constructor(f,o,d){this.bodyNode=f,this.driver=o,this._normalizer=d,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(m,E)=>{}}get queuedPlayers(){const f=[];return this._namespaceList.forEach(o=>{o.players.forEach(d=>{d.queued&&f.push(d)})}),f}createNamespace(f,o){const d=new Ws(f,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(d,o):(this.newHostElements.set(o,d),this.collectEnterElement(o)),this._namespaceLookup[f]=d}_balanceNamespaceList(f,o){const d=this._namespaceList,m=this.namespacesByHostElement;if(d.length-1>=0){let x=!1,Z=this.driver.getParentElement(o);for(;Z;){const se=m.get(Z);if(se){const he=d.indexOf(se);d.splice(he+1,0,f),x=!0;break}Z=this.driver.getParentElement(Z)}x||d.unshift(f)}else d.push(f);return m.set(o,f),f}register(f,o){let d=this._namespaceLookup[f];return d||(d=this.createNamespace(f,o)),d}registerTrigger(f,o,d){let m=this._namespaceLookup[f];m&&m.register(o,d)&&this.totalAnimations++}destroy(f,o){f&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const d=this._fetchNamespace(f);this.namespacesByHostElement.delete(d.hostElement);const m=this._namespaceList.indexOf(d);m>=0&&this._namespaceList.splice(m,1),d.destroy(o),delete this._namespaceLookup[f]}))}_fetchNamespace(f){return this._namespaceLookup[f]}fetchNamespacesByElement(f){const o=new Set,d=this.statesByElement.get(f);if(d)for(let m of d.values())if(m.namespaceId){const E=this._fetchNamespace(m.namespaceId);E&&o.add(E)}return o}trigger(f,o,d,m){if(zm(o)){const E=this._fetchNamespace(f);if(E)return E.trigger(o,d,m),!0}return!1}insertNode(f,o,d,m){if(!zm(o))return;const E=o[gn];if(E&&E.setForRemoval){E.setForRemoval=!1,E.setForMove=!0;const x=this.collectedLeaveElements.indexOf(o);x>=0&&this.collectedLeaveElements.splice(x,1)}if(f){const x=this._fetchNamespace(f);x&&x.insertNode(o,d)}m&&this.collectEnterElement(o)}collectEnterElement(f){this.collectedEnterElements.push(f)}markElementAsDisabled(f,o){o?this.disabledNodes.has(f)||(this.disabledNodes.add(f),Pc(f,Xy)):this.disabledNodes.has(f)&&(this.disabledNodes.delete(f),Do(f,Xy))}removeNode(f,o,d){if(zm(o)){const m=f?this._fetchNamespace(f):null;m?m.removeNode(o,d):this.markElementAsRemoved(f,o,!1,d);const E=this.namespacesByHostElement.get(o);E&&E.id!==f&&E.removeNode(o,d)}else this._onRemovalComplete(o,d)}markElementAsRemoved(f,o,d,m,E){this.collectedLeaveElements.push(o),o[gn]={namespaceId:f,setForRemoval:m,hasAnimation:d,removedBeforeQueried:!1,previousTriggersValues:E}}listen(f,o,d,m,E){return zm(o)?this._fetchNamespace(f).listen(o,d,m,E):()=>{}}_buildInstruction(f,o,d,m,E){return f.transition.build(this.driver,f.element,f.fromState.value,f.toState.value,d,m,f.fromState.options,f.toState.options,o,E)}destroyInnerAnimations(f){let o=this.driver.query(f,dg,!0);o.forEach(d=>this.destroyActiveAnimationsForElement(d)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(f,Uf,!0),o.forEach(d=>this.finishActiveQueriedAnimationOnElement(d)))}destroyActiveAnimationsForElement(f){const o=this.playersByElement.get(f);o&&o.forEach(d=>{d.queued?d.markedForDestroy=!0:d.destroy()})}finishActiveQueriedAnimationOnElement(f){const o=this.playersByQueriedElement.get(f);o&&o.forEach(d=>d.finish())}whenRenderingDone(){return new Promise(f=>{if(this.players.length)return _c(this.players).onDone(()=>f());f()})}processLeaveNode(f){const o=f[gn];if(o&&o.setForRemoval){if(f[gn]=ev,o.namespaceId){this.destroyInnerAnimations(f);const d=this._fetchNamespace(o.namespaceId);d&&d.clearElementCache(f)}this._onRemovalComplete(f,o.setForRemoval)}f.classList?.contains(Xy)&&this.markElementAsDisabled(f,!1),this.driver.query(f,".ng-animate-disabled",!0).forEach(d=>{this.markElementAsDisabled(d,!1)})}flush(f=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((d,m)=>this._balanceNamespaceList(d,m)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let d=0;d<this.collectedEnterElements.length;d++)Pc(this.collectedEnterElements[d],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const d=[];try{o=this._flushAnimations(d,f)}finally{for(let m=0;m<d.length;m++)d[m]()}}else for(let d=0;d<this.collectedLeaveElements.length;d++)this.processLeaveNode(this.collectedLeaveElements[d]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(d=>d()),this._flushFns=[],this._whenQuietFns.length){const d=this._whenQuietFns;this._whenQuietFns=[],o.length?_c(o).onDone(()=>{d.forEach(m=>m())}):d.forEach(m=>m())}}reportError(f){throw function o1(c){return new u.vHH(3402,!1)}()}_flushAnimations(f,o){const d=new bh,m=[],E=new Map,x=[],Z=new Map,se=new Map,he=new Map,ye=new Set;this.disabledNodes.forEach(en=>{ye.add(en);const In=this.driver.query(en,".ng-animate-queued",!0);for(let On=0;On<In.length;On++)ye.add(In[On])});const Be=this.bodyNode,ct=Array.from(this.statesByElement.keys()),at=rv(ct,this.collectedEnterElements),Mt=new Map;let Ut=0;at.forEach((en,In)=>{const On=Gy+Ut++;Mt.set(In,On),en.forEach(dr=>Pc(dr,On))});const zt=[],Rn=new Set,An=new Set;for(let en=0;en<this.collectedLeaveElements.length;en++){const In=this.collectedLeaveElements[en],On=In[gn];On&&On.setForRemoval&&(zt.push(In),Rn.add(In),On.hasAnimation?this.driver.query(In,".ng-star-inserted",!0).forEach(dr=>Rn.add(dr)):An.add(In))}const vr=new Map,Nn=rv(ct,Array.from(Rn));Nn.forEach((en,In)=>{const On=xa+Ut++;vr.set(In,On),en.forEach(dr=>Pc(dr,On))}),f.push(()=>{at.forEach((en,In)=>{const On=Mt.get(In);en.forEach(dr=>Do(dr,On))}),Nn.forEach((en,In)=>{const On=vr.get(In);en.forEach(dr=>Do(dr,On))}),zt.forEach(en=>{this.processLeaveNode(en)})});const wn=[],rr=[];for(let en=this._namespaceList.length-1;en>=0;en--)this._namespaceList[en].drainQueuedTransitions(o).forEach(On=>{const dr=On.player,is=On.element;if(wn.push(dr),this.collectedEnterElements.length){const Os=is[gn];if(Os&&Os.setForMove){if(Os.previousTriggersValues&&Os.previousTriggersValues.has(On.triggerName)){const Fa=Os.previousTriggersValues.get(On.triggerName),Yo=this.statesByElement.get(On.element);if(Yo&&Yo.has(On.triggerName)){const td=Yo.get(On.triggerName);td.value=Fa,Yo.set(On.triggerName,td)}}return void dr.destroy()}}const ka=!Be||!this.driver.containsElement(Be,is),Ks=vr.get(is),Fc=Mt.get(is),mi=this._buildInstruction(On,d,Fc,Ks,ka);if(mi.errors&&mi.errors.length)return void rr.push(mi);if(ka)return dr.onStart(()=>rl(is,mi.fromStyles)),dr.onDestroy(()=>xc(is,mi.toStyles)),void m.push(dr);if(On.isFallbackTransition)return dr.onStart(()=>rl(is,mi.fromStyles)),dr.onDestroy(()=>xc(is,mi.toStyles)),void m.push(dr);const _i=[];mi.timelines.forEach(Os=>{Os.stretchStartingKeyframe=!0,this.disabledNodes.has(Os.element)||_i.push(Os)}),mi.timelines=_i,d.append(is,mi.timelines),x.push({instruction:mi,player:dr,element:is}),mi.queriedElements.forEach(Os=>yc(Z,Os,[]).push(dr)),mi.preStyleProps.forEach((Os,Fa)=>{if(Os.size){let Yo=se.get(Fa);Yo||se.set(Fa,Yo=new Set),Os.forEach((td,Nd)=>Yo.add(Nd))}}),mi.postStyleProps.forEach((Os,Fa)=>{let Yo=he.get(Fa);Yo||he.set(Fa,Yo=new Set),Os.forEach((td,Nd)=>Yo.add(Nd))})});if(rr.length){const en=[];rr.forEach(In=>{en.push(function Fy(c,f){return new u.vHH(3505,!1)}())}),wn.forEach(In=>In.destroy()),this.reportError(en)}const ir=new Map,Fr=new Map;x.forEach(en=>{const In=en.element;d.has(In)&&(Fr.set(In,In),this._beforeAnimationBuild(en.player.namespaceId,en.instruction,ir))}),m.forEach(en=>{const In=en.element;this._getPreviousPlayers(In,!1,en.namespaceId,en.triggerName,null).forEach(dr=>{yc(ir,In,[]).push(dr),dr.destroy()})});const bi=zt.filter(en=>yg(en,se,he)),Qr=new Map;qf(Qr,this.driver,An,he,ni).forEach(en=>{yg(en,se,he)&&bi.push(en)});const Ao=new Map;at.forEach((en,In)=>{qf(Ao,this.driver,new Set(en),se,"!")}),bi.forEach(en=>{const In=Qr.get(en),On=Ao.get(en);Qr.set(en,new Map([...In?.entries()??[],...On?.entries()??[]]))});const wi=[],Ko=[],Hl={};x.forEach(en=>{const{element:In,player:On,instruction:dr}=en;if(d.has(In)){if(ye.has(In))return On.onDestroy(()=>xc(In,dr.toStyles)),On.disabled=!0,On.overrideTotalTime(dr.totalTime),void m.push(On);let is=Hl;if(Fr.size>1){let Ks=In;const Fc=[];for(;Ks=Ks.parentNode;){const mi=Fr.get(Ks);if(mi){is=mi;break}Fc.push(Ks)}Fc.forEach(mi=>Fr.set(mi,is))}const ka=this._buildAnimation(On.namespaceId,dr,ir,E,Ao,Qr);if(On.setRealPlayer(ka),is===Hl)wi.push(On);else{const Ks=this.playersByElement.get(is);Ks&&Ks.length&&(On.parentPlayer=_c(Ks)),m.push(On)}}else rl(In,dr.fromStyles),On.onDestroy(()=>xc(In,dr.toStyles)),Ko.push(On),ye.has(In)&&m.push(On)}),Ko.forEach(en=>{const In=E.get(en.element);if(In&&In.length){const On=_c(In);en.setRealPlayer(On)}}),m.forEach(en=>{en.parentPlayer?en.syncPlayerEvents(en.parentPlayer):en.destroy()});for(let en=0;en<zt.length;en++){const In=zt[en],On=In[gn];if(Do(In,xa),On&&On.hasAnimation)continue;let dr=[];if(Z.size){let ka=Z.get(In);ka&&ka.length&&dr.push(...ka);let Ks=this.driver.query(In,Uf,!0);for(let Fc=0;Fc<Ks.length;Fc++){let mi=Z.get(Ks[Fc]);mi&&mi.length&&dr.push(...mi)}}const is=dr.filter(ka=>!ka.destroyed);is.length?qm(this,In,is):this.processLeaveNode(In)}return zt.length=0,wi.forEach(en=>{this.players.push(en),en.onDone(()=>{en.destroy();const In=this.players.indexOf(en);this.players.splice(In,1)}),en.play()}),wi}afterFlush(f){this._flushFns.push(f)}afterFlushAnimationsDone(f){this._whenQuietFns.push(f)}_getPreviousPlayers(f,o,d,m,E){let x=[];if(o){const Z=this.playersByQueriedElement.get(f);Z&&(x=Z)}else{const Z=this.playersByElement.get(f);if(Z){const se=!E||E==Pr;Z.forEach(he=>{he.queued||!se&&he.triggerName!=m||x.push(he)})}}return(d||m)&&(x=x.filter(Z=>!(d&&d!=Z.namespaceId||m&&m!=Z.triggerName))),x}_beforeAnimationBuild(f,o,d){const E=o.element,x=o.isRemovalTransition?void 0:f,Z=o.isRemovalTransition?void 0:o.triggerName;for(const se of o.timelines){const he=se.element,ye=he!==E,Be=yc(d,he,[]);this._getPreviousPlayers(he,ye,x,Z,o.toState).forEach(at=>{const Mt=at.getRealPlayer();Mt.beforeDestroy&&Mt.beforeDestroy(),at.destroy(),Be.push(at)})}rl(E,o.fromStyles)}_buildAnimation(f,o,d,m,E,x){const Z=o.triggerName,se=o.element,he=[],ye=new Set,Be=new Set,ct=o.timelines.map(Mt=>{const Ut=Mt.element;ye.add(Ut);const zt=Ut[gn];if(zt&&zt.removedBeforeQueried)return new Ps(Mt.duration,Mt.delay);const Rn=Ut!==se,An=function iv(c){const f=[];return w1(c,f),f}((d.get(Ut)||Wf).map(ir=>ir.getRealPlayer())).filter(ir=>!!ir.element&&ir.element===Ut),vr=E.get(Ut),Nn=x.get(Ut),wn=Ml(this._normalizer,Mt.keyframes,vr,Nn),rr=this._buildPlayer(Mt,wn,An);if(Mt.subTimeline&&m&&Be.add(Ut),Rn){const ir=new Id(f,Z,Ut);ir.setRealPlayer(rr),he.push(ir)}return rr});he.forEach(Mt=>{yc(this.playersByQueriedElement,Mt.element,[]).push(Mt),Mt.onDone(()=>function nv(c,f,o){let d=c.get(f);if(d){if(d.length){const m=d.indexOf(o);d.splice(m,1)}0==d.length&&c.delete(f)}return d}(this.playersByQueriedElement,Mt.element,Mt))}),ye.forEach(Mt=>Pc(Mt,jy));const at=_c(ct);return at.onDestroy(()=>{ye.forEach(Mt=>Do(Mt,jy)),xc(se,o.toStyles)}),Be.forEach(Mt=>{yc(m,Mt,[]).push(at)}),at}_buildPlayer(f,o,d){return o.length>0?this.driver.animate(f.element,o,f.duration,f.delay,f.easing,d):new Ps(f.duration,f.delay)}}class Id{constructor(f,o,d){this.namespaceId=f,this.triggerName=o,this.element=d,this._player=new Ps,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(f){this._containsRealPlayer||(this._player=f,this._queuedCallbacks.forEach((o,d)=>{o.forEach(m=>vd(f,d,void 0,m))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(f.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(f){this.totalTime=f}syncPlayerEvents(f){const o=this._player;o.triggerCallback&&f.onStart(()=>o.triggerCallback("start")),f.onDone(()=>this.finish()),f.onDestroy(()=>this.destroy())}_queueEvent(f,o){yc(this._queuedCallbacks,f,[]).push(o)}onDone(f){this.queued&&this._queueEvent("done",f),this._player.onDone(f)}onStart(f){this.queued&&this._queueEvent("start",f),this._player.onStart(f)}onDestroy(f){this.queued&&this._queueEvent("destroy",f),this._player.onDestroy(f)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(f){this.queued||this._player.setPosition(f)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(f){const o=this._player;o.triggerCallback&&o.triggerCallback(f)}}function zm(c){return c&&1===c.nodeType}function b1(c,f){const o=c.style.display;return c.style.display=f??"none",o}function qf(c,f,o,d,m){const E=[];o.forEach(se=>E.push(b1(se)));const x=[];d.forEach((se,he)=>{const ye=new Map;se.forEach(Be=>{const ct=f.computeStyle(he,Be,m);ye.set(Be,ct),(!ct||0==ct.length)&&(he[gn]=ys,x.push(he))}),c.set(he,ye)});let Z=0;return o.forEach(se=>b1(se,E[Z++])),x}function rv(c,f){const o=new Map;if(c.forEach(Z=>o.set(Z,[])),0==f.length)return o;const m=new Set(f),E=new Map;function x(Z){if(!Z)return 1;let se=E.get(Z);if(se)return se;const he=Z.parentNode;return se=o.has(he)?he:m.has(he)?1:x(he),E.set(Z,se),se}return f.forEach(Z=>{const se=x(Z);1!==se&&o.get(se).push(Z)}),o}function Pc(c,f){c.classList?.add(f)}function Do(c,f){c.classList?.remove(f)}function qm(c,f,o){_c(o).onDone(()=>c.processLeaveNode(f))}function w1(c,f){for(let o=0;o<c.length;o++){const d=c[o];d instanceof ri?w1(d.players,f):f.push(d)}}function yg(c,f,o){const d=o.get(c);if(!d)return!1;let m=f.get(c);return m?d.forEach(E=>m.add(E)):f.set(c,d),o.delete(c),!0}class We{constructor(f,o,d){this.bodyNode=f,this._driver=o,this._normalizer=d,this._triggerCache={},this.onRemovalComplete=(m,E)=>{},this._transitionEngine=new Qt(f,o,d),this._timelineEngine=new _g(f,o,d),this._transitionEngine.onRemovalComplete=(m,E)=>this.onRemovalComplete(m,E)}registerTrigger(f,o,d,m,E){const x=f+"-"+m;let Z=this._triggerCache[x];if(!Z){const se=[],ye=Rl(this._driver,E,se,[]);if(se.length)throw function cg(c,f){return new u.vHH(3404,!1)}();Z=function Yy(c,f,o){return new Vw(c,f,o)}(m,ye,this._normalizer),this._triggerCache[x]=Z}this._transitionEngine.registerTrigger(o,m,Z)}register(f,o){this._transitionEngine.register(f,o)}destroy(f,o){this._transitionEngine.destroy(f,o)}onInsert(f,o,d,m){this._transitionEngine.insertNode(f,o,d,m)}onRemove(f,o,d){this._transitionEngine.removeNode(f,o,d)}disableAnimations(f,o){this._transitionEngine.markElementAsDisabled(f,o)}process(f,o,d,m){if("@"==d.charAt(0)){const[E,x]=kf(d);this._timelineEngine.command(E,o,x,m)}else this._transitionEngine.trigger(f,o,d,m)}listen(f,o,d,m,E){if("@"==d.charAt(0)){const[x,Z]=kf(d);return this._timelineEngine.listen(x,o,Z,E)}return this._transitionEngine.listen(f,o,d,m,E)}flush(f=-1){this._transitionEngine.flush(f)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(f){this._transitionEngine.afterFlushAnimationsDone(f)}}let Ic=(()=>{class c{static#e=this.initialStylesByElement=new WeakMap;constructor(o,d,m){this._element=o,this._startStyles=d,this._endStyles=m,this._state=0;let E=c.initialStylesByElement.get(o);E||c.initialStylesByElement.set(o,E=new Map),this._initialStyles=E}start(){this._state<1&&(this._startStyles&&xc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(xc(this._element,this._initialStyles),this._endStyles&&(xc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(c.initialStylesByElement.delete(this._element),this._startStyles&&(rl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(rl(this._element,this._endStyles),this._endStyles=null),xc(this._element,this._initialStyles),this._state=3)}}return c})();function ov(c){let f=null;return c.forEach((o,d)=>{(function vg(c){return"display"===c||"position"===c})(d)&&(f=f||new Map,f.set(d,o))}),f}class Pl{constructor(f,o,d,m){this.element=f,this.keyframes=o,this.options=d,this._specialStyles=m,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=d.duration,this._delay=d.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const f=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,f,this.options),this._finalKeyframe=f.length?f[f.length-1]:new Map;const o=()=>this._onFinish();this.domPlayer.addEventListener("finish",o),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",o)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(f){const o=[];return f.forEach(d=>{o.push(Object.fromEntries(d))}),o}_triggerWebAnimation(f,o,d){return f.animate(this._convertKeyframesToObject(o),d)}onStart(f){this._originalOnStartFns.push(f),this._onStartFns.push(f)}onDone(f){this._originalOnDoneFns.push(f),this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(f=>f()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}setPosition(f){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=f*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const f=new Map;this.hasStarted()&&this._finalKeyframe.forEach((d,m)=>{"offset"!==m&&f.set(m,this._finished?d:bc(this.element,m))}),this.currentSnapshot=f}triggerCallback(f){const o="start"===f?this._onStartFns:this._onDoneFns;o.forEach(d=>d()),o.length=0}}class jw{validateStyleProperty(f){return!0}validateAnimatableStyleProperty(f){return!0}matchesElement(f,o){return!1}containsElement(f,o){return By(f,o)}getParentElement(f){return cu(f)}query(f,o,d){return Vy(f,o,d)}computeStyle(f,o,d){return window.getComputedStyle(f)[o]}animate(f,o,d,m,E,x=[]){const se={duration:d,delay:m,fill:0==m?"both":"forwards"};E&&(se.easing=E);const he=new Map,ye=x.filter(at=>at instanceof Pl);(function $y(c,f){return 0===c||0===f})(d,m)&&ye.forEach(at=>{at.currentSnapshot.forEach((Mt,Ut)=>he.set(Ut,Mt))});let Be=function kw(c){return c.length?c[0]instanceof Map?c:c.map(f=>Bf(f)):[]}(o).map(at=>fa(at));Be=function l1(c,f,o){if(o.size&&f.length){let d=f[0],m=[];if(o.forEach((E,x)=>{d.has(x)||m.push(x),d.set(x,E)}),m.length)for(let E=1;E<f.length;E++){let x=f[E];m.forEach(Z=>x.set(Z,bc(c,Z)))}}return f}(f,Be,he);const ct=function sv(c,f){let o=null,d=null;return Array.isArray(f)&&f.length?(o=ov(f[0]),f.length>1&&(d=ov(f[f.length-1]))):f instanceof Map&&(o=ov(f)),o||d?new Ic(c,o,d):null}(f,Be);return new Pl(f,Be,se,ct)}}let Pa=(()=>{class c extends xs{constructor(o,d){super(),this._nextAnimationId=0,this._renderer=o.createRenderer(d.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(o){const d=this._nextAnimationId.toString();this._nextAnimationId++;const m=Array.isArray(o)?Ii(o):o;return Ed(this._renderer,null,d,"register",[m]),new Zf(d,this._renderer)}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(u.FYo),u.LFG(Se.K0))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})();class Zf extends Jo{constructor(f,o){super(),this._id=f,this._renderer=o}create(f,o){return new Zo(this._id,f,o||{},this._renderer)}}class Zo{constructor(f,o,d,m){this.id=f,this.element=o,this._renderer=m,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",d)}_listen(f,o){return this._renderer.listen(this.element,`@@${this.id}:${f}`,o)}_command(f,...o){return Ed(this._renderer,this.element,this.id,f,o)}onDone(f){this._listen("done",f)}onStart(f){this._listen("start",f)}onDestroy(f){this._listen("destroy",f)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(f){this._command("setPosition",f)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Ed(c,f,o,d,m){return c.setProperty(f,`@@${o}:${d}`,m)}const rs="@.disabled";let Th=(()=>{class c{constructor(o,d,m){this.delegate=o,this.engine=d,this._zone=m,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,d.onRemovalComplete=(E,x)=>{const Z=x?.parentNode(E);Z&&x.removeChild(Z,E)}}createRenderer(o,d){const E=this.delegate.createRenderer(o,d);if(!(o&&d&&d.data&&d.data.animation)){let ye=this._rendererCache.get(E);return ye||(ye=new kl("",E,this.engine,()=>this._rendererCache.delete(E)),this._rendererCache.set(E,ye)),ye}const x=d.id,Z=d.id+"-"+this._currentId;this._currentId++,this.engine.register(Z,o);const se=ye=>{Array.isArray(ye)?ye.forEach(se):this.engine.registerTrigger(x,Z,o,ye.name,ye)};return d.data.animation.forEach(se),new Dh(this,Z,E,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(o,d,m){o>=0&&o<this._microtaskId?this._zone.run(()=>d(m)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(E=>{const[x,Z]=E;x(Z)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([d,m]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(u.FYo),u.LFG(We),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})();class kl{constructor(f,o,d,m){this.namespaceId=f,this.delegate=o,this.engine=d,this._onDestroy=m}get data(){return this.delegate.data}destroyNode(f){this.delegate.destroyNode?.(f)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(f,o){return this.delegate.createElement(f,o)}createComment(f){return this.delegate.createComment(f)}createText(f){return this.delegate.createText(f)}appendChild(f,o){this.delegate.appendChild(f,o),this.engine.onInsert(this.namespaceId,o,f,!1)}insertBefore(f,o,d,m=!0){this.delegate.insertBefore(f,o,d),this.engine.onInsert(this.namespaceId,o,f,m)}removeChild(f,o,d){this.engine.onRemove(this.namespaceId,o,this.delegate)}selectRootElement(f,o){return this.delegate.selectRootElement(f,o)}parentNode(f){return this.delegate.parentNode(f)}nextSibling(f){return this.delegate.nextSibling(f)}setAttribute(f,o,d,m){this.delegate.setAttribute(f,o,d,m)}removeAttribute(f,o,d){this.delegate.removeAttribute(f,o,d)}addClass(f,o){this.delegate.addClass(f,o)}removeClass(f,o){this.delegate.removeClass(f,o)}setStyle(f,o,d,m){this.delegate.setStyle(f,o,d,m)}removeStyle(f,o,d){this.delegate.removeStyle(f,o,d)}setProperty(f,o,d){"@"==o.charAt(0)&&o==rs?this.disableAnimations(f,!!d):this.delegate.setProperty(f,o,d)}setValue(f,o){this.delegate.setValue(f,o)}listen(f,o,d){return this.delegate.listen(f,o,d)}disableAnimations(f,o){this.engine.disableAnimations(f,o)}}class Dh extends kl{constructor(f,o,d,m,E){super(o,d,m,E),this.factory=f,this.namespaceId=o}setProperty(f,o,d){"@"==o.charAt(0)?"."==o.charAt(1)&&o==rs?this.disableAnimations(f,d=void 0===d||!!d):this.engine.process(this.namespaceId,f,o.slice(1),d):this.delegate.setProperty(f,o,d)}listen(f,o,d){if("@"==o.charAt(0)){const m=function qs(c){switch(c){case"body":return document.body;case"document":return document;case"window":return window;default:return c}}(f);let E=o.slice(1),x="";return"@"!=E.charAt(0)&&([E,x]=function Kf(c){const f=c.indexOf(".");return[c.substring(0,f),c.slice(f+1)]}(E)),this.engine.listen(this.namespaceId,m,E,x,Z=>{this.factory.scheduleListenerCallback(Z._data||-1,d,Z)})}return this.delegate.listen(f,o,d)}}const hu=[{provide:xs,useClass:Pa},{provide:Nt,useFactory:function Xa(){return new Ky}},{provide:We,useClass:(()=>{class c extends We{constructor(o,d,m,E){super(o.body,d,m)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(Se.K0),u.LFG(Hy),u.LFG(Nt),u.LFG(u.z2F))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})()},{provide:u.FYo,useFactory:function Sh(c,f,o){return new Th(c,f,o)},deps:[b.se,We,u.R0b]}],Ju=[{provide:Hy,useFactory:()=>new jw},{provide:u.QbO,useValue:"BrowserAnimations"},...hu],av=[{provide:Hy,useClass:c1},{provide:u.QbO,useValue:"NoopAnimations"},...hu];let I1=(()=>{class c{static withConfig(o){return{ngModule:c,providers:o.disableAnimations?av:Ju}}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({providers:Ju,imports:[b.b2]})}return c})();var E1=K(2381),T1=K(3093),D1=K(6699);const Ah={},Zs="@ngrx/store/init";let ol=(()=>{class c extends Kn.X{constructor(){super({type:Zs})}next(o){if("function"==typeof o)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof o>"u")throw new TypeError("Actions must be objects");if(typeof o.type>"u")throw new TypeError("Actions must have a type property");super.next(o)}complete(){}ngOnDestroy(){super.complete()}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})();const fu=[ol],Nh=new u.OlP("@ngrx/store Internal Root Guard"),ki=new u.OlP("@ngrx/store Internal Initial State"),pu=new u.OlP("@ngrx/store Initial State"),Co=new u.OlP("@ngrx/store Reducer Factory"),Yi=new u.OlP("@ngrx/store Internal Reducer Factory Provider"),Oh=new u.OlP("@ngrx/store Initial Reducers"),Td=new u.OlP("@ngrx/store Internal Initial Reducers"),ec=new u.OlP("@ngrx/store Store Features"),dv=new u.OlP("@ngrx/store Internal Store Reducers"),S1=new u.OlP("@ngrx/store Internal Feature Reducers"),As=new u.OlP("@ngrx/store Internal Feature Configs"),Yf=new u.OlP("@ngrx/store Internal Store Features"),al=new u.OlP("@ngrx/store Internal Feature Reducers Token"),vs=new u.OlP("@ngrx/store Feature Reducers"),gu=new u.OlP("@ngrx/store User Provided Meta Reducers"),Mh=new u.OlP("@ngrx/store Meta Reducers"),xh=new u.OlP("@ngrx/store Internal Resolved Meta Reducers"),Qf=new u.OlP("@ngrx/store User Runtime Checks Config"),hv=new u.OlP("@ngrx/store Internal User Runtime Checks Config"),Fl=new u.OlP("@ngrx/store Internal Runtime Checks"),cl=new u.OlP("@ngrx/store Check if Action types are unique");function kc(c,f={}){const o=Object.keys(c),d={};for(let E=0;E<o.length;E++){const x=o[E];"function"==typeof c[x]&&(d[x]=c[x])}const m=Object.keys(d);return function(x,Z){x=void 0===x?f:x;let se=!1;const he={};for(let ye=0;ye<m.length;ye++){const Be=m[ye],at=x[Be],Mt=(0,d[Be])(at,Z);he[Be]=Mt,se=se||Mt!==at}return se?he:x}}function Xu(...c){return function(f){if(0===c.length)return f;const o=c[c.length-1];return c.slice(0,-1).reduceRight((m,E)=>E(m),o(f))}}function fv(c,f){return Array.isArray(f)&&f.length>0&&(c=Xu.apply(null,[...f,c])),(o,d)=>{const m=c(o);return(E,x)=>m(E=void 0===E?d:E,x)}}new u.OlP("@ngrx/store Root Store Provider"),new u.OlP("@ngrx/store Feature State Provider");class Dd extends Kr.y{}class kh extends ol{}let _u=(()=>{class c extends Kn.X{get currentReducers(){return this.reducers}constructor(o,d,m,E){super(E(m,d)),this.dispatcher=o,this.initialState=d,this.reducers=m,this.reducerFactory=E}addFeature(o){this.addFeatures([o])}addFeatures(o){const d=o.reduce((m,{reducers:E,reducerFactory:x,metaReducers:Z,initialState:se,key:he})=>{const ye="function"==typeof E?function Ph(c){const f=Array.isArray(c)&&c.length>0?Xu(...c):o=>o;return(o,d)=>(o=f(o),(m,E)=>o(m=void 0===m?d:m,E))}(Z)(E,se):fv(x,Z)(E,se);return m[he]=ye,m},{});this.addReducers(d)}removeFeature(o){this.removeFeatures([o])}removeFeatures(o){this.removeReducers(o.map(d=>d.key))}addReducer(o,d){this.addReducers({[o]:d})}addReducers(o){this.reducers={...this.reducers,...o},this.updateReducers(Object.keys(o))}removeReducer(o){this.removeReducers([o])}removeReducers(o){o.forEach(d=>{this.reducers=function bg(c,f){return Object.keys(c).filter(o=>o!==f).reduce((o,d)=>Object.assign(o,{[d]:c[d]}),{})}(this.reducers,d)}),this.updateReducers(o)}updateReducers(o){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:o})}ngOnDestroy(){this.complete()}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(kh),u.LFG(pu),u.LFG(Oh),u.LFG(Co))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})();const Cd=[_u,{provide:Dd,useExisting:_u},{provide:kh,useExisting:ol}];let Lh=(()=>{class c extends ci.x{ngOnDestroy(){this.complete()}static#e=this.\u0275fac=function(){let o;return function(m){return(o||(o=u.n5z(c)))(m||c)}}();static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})();const pv=[Lh];class wg extends Kr.y{}let Jf=(()=>{class c extends Kn.X{static#e=this.INIT=Zs;constructor(o,d,m,E){super(E);const he=o.pipe((0,T1.Q)(E1.N)).pipe(Ls(d)).pipe((0,D1.R)(A1,{state:E}));this.stateSubscription=he.subscribe(({state:ye,action:Be})=>{this.next(ye),m.next(Be)}),this.state=ac(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static#t=this.\u0275fac=function(d){return new(d||c)(u.LFG(ol),u.LFG(Dd),u.LFG(Lh),u.LFG(pu))};static#n=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})();function A1(c={state:void 0},[f,o]){const{state:d}=c;return{state:o(d,f),action:f}}const Zm=[Jf,{provide:wg,useExisting:Jf}];let Uh=(()=>{class c extends Kr.y{constructor(o,d,m){super(),this.actionsObserver=d,this.reducerManager=m,this.source=o,this.state=o.state}select(o,...d){return mv.call(null,o,...d)(this)}selectSignal(o,d){return(0,u.Flj)(()=>o(this.state()),{equal:d?.equal||((m,E)=>m===E)})}lift(o){const d=new c(this,this.actionsObserver,this.reducerManager);return d.operator=o,d}dispatch(o){this.actionsObserver.next(o)}next(o){this.actionsObserver.next(o)}error(o){this.actionsObserver.error(o)}complete(){this.actionsObserver.complete()}addReducer(o,d){this.reducerManager.addReducer(o,d)}removeReducer(o){this.reducerManager.removeReducer(o)}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(wg),u.LFG(ol),u.LFG(_u))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})();const gv=[Uh];function mv(c,f,...o){return function(m){let E;if("string"==typeof c){const x=[f,...o].filter(Boolean);E=m.pipe(function C1(...c){const f=c.length;if(0===f)throw new Error("list of properties cannot be empty.");return(0,ue.U)(o=>{let d=o;for(let m=0;m<f;m++){const E=d?.[c[m]];if(!(typeof E<"u"))return;d=E}return d})}(c,...x))}else{if("function"!=typeof c)throw new TypeError(`Unexpected type '${typeof c}' in select operator, expected 'string' or 'function'`);E=m.pipe((0,ue.U)(x=>c(x,f)))}return E.pipe((0,oc.x)())}}const So="https://ngrx.io/guide/store/configuration/runtime-checks";function _v(c){return void 0===c}function ji(c){return null===c}function Ll(c){return Array.isArray(c)}function N1(c){return"object"==typeof c&&null!==c}function oi(c){return"function"==typeof c}function ed(c){return c instanceof u.OlP?(0,u.f3M)(c):c}function Ul(c,f){return f.map((o,d)=>{if(c[d]instanceof u.OlP){const m=(0,u.f3M)(c[d]);return{key:o.key,reducerFactory:m.reducerFactory?m.reducerFactory:kc,metaReducers:m.metaReducers?m.metaReducers:[],initialState:m.initialState}}return o})}function Xf(c){return c.map(f=>f instanceof u.OlP?(0,u.f3M)(f):f)}function ep(c){return"function"==typeof c?c():c}function Jm(c,f){return c.concat(f)}function Qw(){if((0,u.f3M)(Uh,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Xm(c){Object.freeze(c);const f=oi(c);return Object.getOwnPropertyNames(c).forEach(o=>{if(!o.startsWith("\u0275")&&function bv(c,f){return Object.prototype.hasOwnProperty.call(c,f)}(c,o)&&(!f||"caller"!==o&&"callee"!==o&&"arguments"!==o)){const d=c[o];(N1(d)||oi(d))&&!Object.isFrozen(d)&&Xm(d)}}),c}function Tg(c,f=[]){return(_v(c)||ji(c))&&0===f.length?{path:["root"],value:c}:Object.keys(c).reduce((d,m)=>{if(d)return d;const E=c[m];return function Vh(c){return oi(c)&&c.hasOwnProperty("\u0275cmp")}(E)?d:!(_v(E)||ji(E)||function Bh(c){return"number"==typeof c}(E)||function Km(c){return"boolean"==typeof c}(E)||function yv(c){return"string"==typeof c}(E)||Ll(E))&&(function kr(c){if(!function vv(c){return N1(c)&&!Ll(c)}(c))return!1;const f=Object.getPrototypeOf(c);return f===Object.prototype||null===f}(E)?Tg(E,[...f,m]):{path:[...f,m],value:E})},!1)}function e_(c,f){if(!1===c)return;const o=c.path.join("."),d=new Error(`Detected unserializable ${f} at "${o}". ${So}#strict${f}serializability`);throw d.value=c.value,d.unserializablePath=o,d}function t_(c){return(0,u.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...c}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function jh({strictActionSerializability:c,strictStateSerializability:f}){return o=>c||f?function tp(c,f){return function(o,d){f.action(d)&&e_(Tg(d),"action");const m=c(o,d);return f.state()&&e_(Tg(m),"state"),m}}(o,{action:d=>c&&!np(d),state:()=>f}):o}function tc({strictActionImmutability:c,strictStateImmutability:f}){return o=>c||f?function Sd(c,f){return function(o,d){const m=f.action(d)?Xm(d):d,E=c(o,m);return f.state()?Xm(E):E}}(o,{action:d=>c&&!np(d),state:()=>f}):o}function np(c){return c.type.startsWith("@ngrx")}function n_({strictActionWithinNgZone:c}){return f=>c?function Ns(c,f){return function(o,d){if(f.action(d)&&!u.R0b.isInAngularZone())throw new Error(`Action '${d.type}' running outside NgZone. ${So}#strictactionwithinngzone`);return c(o,d)}}(f,{action:o=>c&&!np(o)}):f}function rp(c){return[{provide:hv,useValue:c},{provide:Qf,useFactory:Ad,deps:[hv]},{provide:Fl,deps:[Qf],useFactory:t_},{provide:Mh,multi:!0,deps:[Fl],useFactory:tc},{provide:Mh,multi:!0,deps:[Fl],useFactory:jh},{provide:Mh,multi:!0,deps:[Fl],useFactory:n_}]}function r_(){return[{provide:cl,multi:!0,deps:[Fl],useFactory:Dg}]}function Ad(c){return c}function Dg(c){if(!c.strictActionTypeUniqueness)return;const f=Object.entries(Ah).filter(([,o])=>o>1).map(([o])=>o);if(f.length)throw new Error(`Action types are registered more than once, ${f.map(o=>`"${o}"`).join(", ")}. ${So}#strictactiontypeuniqueness`)}function i_(c={},f={}){return[{provide:Nh,useFactory:Qw},{provide:ki,useValue:f.initialState},{provide:pu,useFactory:ep,deps:[ki]},{provide:Td,useValue:c},{provide:dv,useExisting:c instanceof u.OlP?c:Td},{provide:Oh,deps:[Td,[new u.tBr(dv)]],useFactory:ed},{provide:gu,useValue:f.metaReducers?f.metaReducers:[]},{provide:xh,deps:[Mh,gu],useFactory:Jm},{provide:Yi,useValue:f.reducerFactory?f.reducerFactory:kc},{provide:Co,deps:[Yi,xh],useFactory:fv},fu,Cd,pv,Zm,gv,rp(f.runtimeChecks),r_()]}function rc(c,f,o={}){return[{provide:As,multi:!0,useValue:c instanceof Object?{}:o},{provide:ec,multi:!0,useValue:{key:c instanceof Object?c.name:c,reducerFactory:o instanceof u.OlP||!o.reducerFactory?kc:o.reducerFactory,metaReducers:o instanceof u.OlP||!o.metaReducers?[]:o.metaReducers,initialState:o instanceof u.OlP||!o.initialState?void 0:o.initialState}},{provide:Yf,deps:[As,ec],useFactory:Ul},{provide:S1,multi:!0,useValue:c instanceof Object?c.reducer:f},{provide:al,multi:!0,useExisting:f instanceof u.OlP?f:S1},{provide:vs,multi:!0,deps:[S1,[new u.tBr(al)]],useFactory:Xf},r_()]}let Cv=(()=>{class c{constructor(o,d,m,E,x,Z){}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(ol),u.LFG(Dd),u.LFG(Lh),u.LFG(Uh),u.LFG(Nh,8),u.LFG(cl,8))};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),Bl=(()=>{class c{constructor(o,d,m,E,x){this.features=o,this.featureReducers=d,this.reducerManager=m;const Z=o.map((se,he)=>{const Be=d.shift()[he];return{...se,reducers:Be,initialState:ep(se.initialState)}});m.addFeatures(Z)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(Yf),u.LFG(vs),u.LFG(_u),u.LFG(Cv),u.LFG(cl,8))};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),Vl=(()=>{class c{static forRoot(o,d){return{ngModule:Cv,providers:[...i_(o,d)]}}static forFeature(o,d,m={}){return{ngModule:Bl,providers:[...rc(o,d,m)]}}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),P1=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c,bootstrap:[va]});static#n=this.\u0275inj=u.cJS({imports:[b.b2,Fn,X0.r,I1,(0,xo.hX)(()=>(0,xo.ZF)(jr.N.firebaseConfig)),(0,an.Cm)(()=>(0,an.ad)()),ul,Pf,Vl.forRoot({},{})]})}return c})();b.q6().bootstrapModule(P1).catch(c=>console.error(c))},5619:(Bt,Ve,K)=>{K.d(Ve,{X:()=>ne});var b=K(8645);class ne extends b.x{constructor(be){super(),this._value=be}get value(){return this.getValue()}_subscribe(be){const ue=super._subscribe(be);return!ue.closed&&be.next(this._value),ue}getValue(){const{hasError:be,thrownError:ue,_value:fe}=this;if(be)throw ue;return this._throwIfClosed(),fe}next(be){super.next(this._value=be)}}},5592:(Bt,Ve,K)=>{K.d(Ve,{y:()=>He});var b=K(305),ne=K(7394),u=K(4850),be=K(8407),ue=K(2653),fe=K(4674),Te=K(1441);let He=(()=>{class Me{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const qe=new Me;return qe.source=this,qe.operator=xe,qe}subscribe(xe,qe,It){const Pt=function de(Me){return Me&&Me instanceof b.Lv||function ae(Me){return Me&&(0,fe.m)(Me.next)&&(0,fe.m)(Me.error)&&(0,fe.m)(Me.complete)}(Me)&&(0,ne.Nn)(Me)}(xe)?xe:new b.Hp(xe,qe,It);return(0,Te.x)(()=>{const{operator:Ot,source:Dn}=this;Pt.add(Ot?Ot.call(Pt,Dn):Dn?this._subscribe(Pt):this._trySubscribe(Pt))}),Pt}_trySubscribe(xe){try{return this._subscribe(xe)}catch(qe){xe.error(qe)}}forEach(xe,qe){return new(qe=Oe(qe))((It,Pt)=>{const Ot=new b.Hp({next:Dn=>{try{xe(Dn)}catch(At){Pt(At),Ot.unsubscribe()}},error:Pt,complete:It});this.subscribe(Ot)})}_subscribe(xe){var qe;return null===(qe=this.source)||void 0===qe?void 0:qe.subscribe(xe)}[u.L](){return this}pipe(...xe){return(0,be.U)(xe)(this)}toPromise(xe){return new(xe=Oe(xe))((qe,It)=>{let Pt;this.subscribe(Ot=>Pt=Ot,Ot=>It(Ot),()=>qe(Pt))})}}return Me.create=Se=>new Me(Se),Me})();function Oe(Me){var Se;return null!==(Se=Me??ue.config.Promise)&&void 0!==Se?Se:Promise}},8645:(Bt,Ve,K)=>{K.d(Ve,{x:()=>Te});var b=K(5592),ne=K(7394);const be=(0,K(2306).d)(Oe=>function(){Oe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=K(9039),fe=K(1441);let Te=(()=>{class Oe extends b.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const Me=new He(this,this);return Me.operator=de,Me}_throwIfClosed(){if(this.closed)throw new be}next(de){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Me of this.currentObservers)Me.next(de)}})}error(de){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:Me}=this;for(;Me.length;)Me.shift().error(de)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:Me,isStopped:Se,observers:xe}=this;return Me||Se?ne.Lc:(this.currentObservers=null,xe.push(de),new ne.w0(()=>{this.currentObservers=null,(0,ue.P)(xe,de)}))}_checkFinalizedStatuses(de){const{hasError:Me,thrownError:Se,isStopped:xe}=this;Me?de.error(Se):xe&&de.complete()}asObservable(){const de=new b.y;return de.source=this,de}}return Oe.create=(ae,de)=>new He(ae,de),Oe})();class He extends Te{constructor(ae,de){super(),this.destination=ae,this.source=de}next(ae){var de,Me;null===(Me=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===Me||Me.call(de,ae)}error(ae){var de,Me;null===(Me=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===Me||Me.call(de,ae)}complete(){var ae,de;null===(de=null===(ae=this.destination)||void 0===ae?void 0:ae.complete)||void 0===de||de.call(ae)}_subscribe(ae){var de,Me;return null!==(Me=null===(de=this.source)||void 0===de?void 0:de.subscribe(ae))&&void 0!==Me?Me:ne.Lc}}},305:(Bt,Ve,K)=>{K.d(Ve,{Hp:()=>It,Lv:()=>Me});var b=K(4674),ne=K(7394),u=K(2653),be=K(3894),ue=K(2420);const fe=Oe("C",void 0,void 0);function Oe(ft,ot,vt){return{kind:ft,value:ot,error:vt}}var ae=K(7599),de=K(1441);class Me extends ne.w0{constructor(ot){super(),this.isStopped=!1,ot?(this.destination=ot,(0,ne.Nn)(ot)&&ot.add(this)):this.destination=At}static create(ot,vt,yt){return new It(ot,vt,yt)}next(ot){this.isStopped?Dn(function He(ft){return Oe("N",ft,void 0)}(ot),this):this._next(ot)}error(ot){this.isStopped?Dn(function Te(ft){return Oe("E",void 0,ft)}(ot),this):(this.isStopped=!0,this._error(ot))}complete(){this.isStopped?Dn(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ot){this.destination.next(ot)}_error(ot){try{this.destination.error(ot)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Se=Function.prototype.bind;function xe(ft,ot){return Se.call(ft,ot)}class qe{constructor(ot){this.partialObserver=ot}next(ot){const{partialObserver:vt}=this;if(vt.next)try{vt.next(ot)}catch(yt){Pt(yt)}}error(ot){const{partialObserver:vt}=this;if(vt.error)try{vt.error(ot)}catch(yt){Pt(yt)}else Pt(ot)}complete(){const{partialObserver:ot}=this;if(ot.complete)try{ot.complete()}catch(vt){Pt(vt)}}}class It extends Me{constructor(ot,vt,yt){let je;if(super(),(0,b.m)(ot)||!ot)je={next:ot??void 0,error:vt??void 0,complete:yt??void 0};else{let we;this&&u.config.useDeprecatedNextContext?(we=Object.create(ot),we.unsubscribe=()=>this.unsubscribe(),je={next:ot.next&&xe(ot.next,we),error:ot.error&&xe(ot.error,we),complete:ot.complete&&xe(ot.complete,we)}):je=ot}this.destination=new qe(je)}}function Pt(ft){u.config.useDeprecatedSynchronousErrorHandling?(0,de.O)(ft):(0,be.h)(ft)}function Dn(ft,ot){const{onStoppedNotification:vt}=u.config;vt&&ae.z.setTimeout(()=>vt(ft,ot))}const At={closed:!0,next:ue.Z,error:function Ot(ft){throw ft},complete:ue.Z}},7394:(Bt,Ve,K)=>{K.d(Ve,{Lc:()=>fe,w0:()=>ue,Nn:()=>Te});var b=K(4674);const u=(0,K(2306).d)(Oe=>function(de){Oe(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((Me,Se)=>`${Se+1}) ${Me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var be=K(9039);class ue{constructor(ae){this.initialTeardown=ae,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ae;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const xe of de)xe.remove(this);else de.remove(this);const{initialTeardown:Me}=this;if((0,b.m)(Me))try{Me()}catch(xe){ae=xe instanceof u?xe.errors:[xe]}const{_finalizers:Se}=this;if(Se){this._finalizers=null;for(const xe of Se)try{He(xe)}catch(qe){ae=ae??[],qe instanceof u?ae=[...ae,...qe.errors]:ae.push(qe)}}if(ae)throw new u(ae)}}add(ae){var de;if(ae&&ae!==this)if(this.closed)He(ae);else{if(ae instanceof ue){if(ae.closed||ae._hasParent(this))return;ae._addParent(this)}(this._finalizers=null!==(de=this._finalizers)&&void 0!==de?de:[]).push(ae)}}_hasParent(ae){const{_parentage:de}=this;return de===ae||Array.isArray(de)&&de.includes(ae)}_addParent(ae){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(ae),de):de?[de,ae]:ae}_removeParent(ae){const{_parentage:de}=this;de===ae?this._parentage=null:Array.isArray(de)&&(0,be.P)(de,ae)}remove(ae){const{_finalizers:de}=this;de&&(0,be.P)(de,ae),ae instanceof ue&&ae._removeParent(this)}}ue.EMPTY=(()=>{const Oe=new ue;return Oe.closed=!0,Oe})();const fe=ue.EMPTY;function Te(Oe){return Oe instanceof ue||Oe&&"closed"in Oe&&(0,b.m)(Oe.remove)&&(0,b.m)(Oe.add)&&(0,b.m)(Oe.unsubscribe)}function He(Oe){(0,b.m)(Oe)?Oe():Oe.unsubscribe()}},2653:(Bt,Ve,K)=>{K.d(Ve,{config:()=>b});const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:(Bt,Ve,K)=>{K.d(Ve,{z:()=>ue});var b=K(7537),u=K(9940),be=K(2459);function ue(...fe){return function ne(){return(0,b.J)(1)}()((0,be.D)(fe,(0,u.yG)(fe)))}},6232:(Bt,Ve,K)=>{K.d(Ve,{E:()=>ne});const ne=new(K(5592).y)(ue=>ue.complete())},2459:(Bt,Ve,K)=>{K.d(Ve,{D:()=>ot});var b=K(4829),ne=K(3093),u=K(5137),fe=K(5592),He=K(4971),Oe=K(4674),ae=K(7103);function Me(vt,yt){if(!vt)throw new Error("Iterable cannot be null");return new fe.y(je=>{(0,ae.f)(je,yt,()=>{const we=vt[Symbol.asyncIterator]();(0,ae.f)(je,yt,()=>{we.next().then(Xe=>{Xe.done?je.complete():je.next(Xe.value)})},0,!0)})})}var Se=K(8382),xe=K(4026),qe=K(4266),It=K(3664),Pt=K(5726),Ot=K(9853),Dn=K(541);function ot(vt,yt){return yt?function ft(vt,yt){if(null!=vt){if((0,Se.c)(vt))return function be(vt,yt){return(0,b.Xf)(vt).pipe((0,u.R)(yt),(0,ne.Q)(yt))}(vt,yt);if((0,qe.z)(vt))return function Te(vt,yt){return new fe.y(je=>{let we=0;return yt.schedule(function(){we===vt.length?je.complete():(je.next(vt[we++]),je.closed||this.schedule())})})}(vt,yt);if((0,xe.t)(vt))return function ue(vt,yt){return(0,b.Xf)(vt).pipe((0,u.R)(yt),(0,ne.Q)(yt))}(vt,yt);if((0,Pt.D)(vt))return Me(vt,yt);if((0,It.T)(vt))return function de(vt,yt){return new fe.y(je=>{let we;return(0,ae.f)(je,yt,()=>{we=vt[He.h](),(0,ae.f)(je,yt,()=>{let Xe,_t;try{({value:Xe,done:_t}=we.next())}catch(Pn){return void je.error(Pn)}_t?je.complete():je.next(Xe)},0,!0)}),()=>(0,Oe.m)(we?.return)&&we.return()})}(vt,yt);if((0,Dn.L)(vt))return function At(vt,yt){return Me((0,Dn.Q)(vt),yt)}(vt,yt)}throw(0,Ot.z)(vt)}(vt,yt):(0,b.Xf)(vt)}},4829:(Bt,Ve,K)=>{K.d(Ve,{Xf:()=>Se});var b=K(7582),ne=K(4266),u=K(4026),be=K(5592),ue=K(8382),fe=K(5726),Te=K(9853),He=K(3664),Oe=K(541),ae=K(4674),de=K(3894),Me=K(4850);function Se(ft){if(ft instanceof be.y)return ft;if(null!=ft){if((0,ue.c)(ft))return function xe(ft){return new be.y(ot=>{const vt=ft[Me.L]();if((0,ae.m)(vt.subscribe))return vt.subscribe(ot);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ft);if((0,ne.z)(ft))return function qe(ft){return new be.y(ot=>{for(let vt=0;vt<ft.length&&!ot.closed;vt++)ot.next(ft[vt]);ot.complete()})}(ft);if((0,u.t)(ft))return function It(ft){return new be.y(ot=>{ft.then(vt=>{ot.closed||(ot.next(vt),ot.complete())},vt=>ot.error(vt)).then(null,de.h)})}(ft);if((0,fe.D)(ft))return Ot(ft);if((0,He.T)(ft))return function Pt(ft){return new be.y(ot=>{for(const vt of ft)if(ot.next(vt),ot.closed)return;ot.complete()})}(ft);if((0,Oe.L)(ft))return function Dn(ft){return Ot((0,Oe.Q)(ft))}(ft)}throw(0,Te.z)(ft)}function Ot(ft){return new be.y(ot=>{(function At(ft,ot){var vt,yt,je,we;return(0,b.mG)(this,void 0,void 0,function*(){try{for(vt=(0,b.KL)(ft);!(yt=yield vt.next()).done;)if(ot.next(yt.value),ot.closed)return}catch(Xe){je={error:Xe}}finally{try{yt&&!yt.done&&(we=vt.return)&&(yield we.call(vt))}finally{if(je)throw je.error}}ot.complete()})})(ft,ot).catch(vt=>ot.error(vt))})}},3019:(Bt,Ve,K)=>{K.d(Ve,{T:()=>fe});var b=K(7537),ne=K(4829),u=K(6232),be=K(9940),ue=K(2459);function fe(...Te){const He=(0,be.yG)(Te),Oe=(0,be._6)(Te,1/0),ae=Te;return ae.length?1===ae.length?(0,ne.Xf)(ae[0]):(0,b.J)(Oe)((0,ue.D)(ae,He)):u.E}},2096:(Bt,Ve,K)=>{K.d(Ve,{of:()=>u});var b=K(9940),ne=K(2459);function u(...be){const ue=(0,b.yG)(be);return(0,ne.D)(be,ue)}},8251:(Bt,Ve,K)=>{K.d(Ve,{x:()=>ne});var b=K(305);function ne(be,ue,fe,Te,He){return new u(be,ue,fe,Te,He)}class u extends b.Lv{constructor(ue,fe,Te,He,Oe,ae){super(ue),this.onFinalize=Oe,this.shouldUnsubscribe=ae,this._next=fe?function(de){try{fe(de)}catch(Me){ue.error(Me)}}:super._next,this._error=He?function(de){try{He(de)}catch(Me){ue.error(Me)}finally{this.unsubscribe()}}:super._error,this._complete=Te?function(){try{Te()}catch(de){ue.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},3997:(Bt,Ve,K)=>{K.d(Ve,{x:()=>be});var b=K(2737),ne=K(9360),u=K(8251);function be(fe,Te=b.y){return fe=fe??ue,(0,ne.e)((He,Oe)=>{let ae,de=!0;He.subscribe((0,u.x)(Oe,Me=>{const Se=Te(Me);(de||!fe(ae,Se))&&(de=!1,ae=Se,Oe.next(Me))}))})}function ue(fe,Te){return fe===Te}},2181:(Bt,Ve,K)=>{K.d(Ve,{h:()=>u});var b=K(9360),ne=K(8251);function u(be,ue){return(0,b.e)((fe,Te)=>{let He=0;fe.subscribe((0,ne.x)(Te,Oe=>be.call(ue,Oe,He++)&&Te.next(Oe)))})}},7398:(Bt,Ve,K)=>{K.d(Ve,{U:()=>u});var b=K(9360),ne=K(8251);function u(be,ue){return(0,b.e)((fe,Te)=>{let He=0;fe.subscribe((0,ne.x)(Te,Oe=>{Te.next(be.call(ue,Oe,He++))}))})}},975:(Bt,Ve,K)=>{K.d(Ve,{h:()=>ne});var b=K(7398);function ne(u){return(0,b.U)(()=>u)}},7537:(Bt,Ve,K)=>{K.d(Ve,{J:()=>u});var b=K(1631),ne=K(2737);function u(be=1/0){return(0,b.z)(ne.y,be)}},1631:(Bt,Ve,K)=>{K.d(Ve,{z:()=>He});var b=K(7398),ne=K(4829),u=K(9360),be=K(7103),ue=K(8251),Te=K(4674);function He(Oe,ae,de=1/0){return(0,Te.m)(ae)?He((Me,Se)=>(0,b.U)((xe,qe)=>ae(Me,xe,Se,qe))((0,ne.Xf)(Oe(Me,Se))),de):("number"==typeof ae&&(de=ae),(0,u.e)((Me,Se)=>function fe(Oe,ae,de,Me,Se,xe,qe,It){const Pt=[];let Ot=0,Dn=0,At=!1;const ft=()=>{At&&!Pt.length&&!Ot&&ae.complete()},ot=yt=>Ot<Me?vt(yt):Pt.push(yt),vt=yt=>{xe&&ae.next(yt),Ot++;let je=!1;(0,ne.Xf)(de(yt,Dn++)).subscribe((0,ue.x)(ae,we=>{Se?.(we),xe?ot(we):ae.next(we)},()=>{je=!0},void 0,()=>{if(je)try{for(Ot--;Pt.length&&Ot<Me;){const we=Pt.shift();qe?(0,be.f)(ae,qe,()=>vt(we)):vt(we)}ft()}catch(we){ae.error(we)}}))};return Oe.subscribe((0,ue.x)(ae,ot,()=>{At=!0,ft()})),()=>{It?.()}}(Me,Se,Oe,de)))}},3093:(Bt,Ve,K)=>{K.d(Ve,{Q:()=>be});var b=K(7103),ne=K(9360),u=K(8251);function be(ue,fe=0){return(0,ne.e)((Te,He)=>{Te.subscribe((0,u.x)(He,Oe=>(0,b.f)(He,ue,()=>He.next(Oe),fe),()=>(0,b.f)(He,ue,()=>He.complete(),fe),Oe=>(0,b.f)(He,ue,()=>He.error(Oe),fe)))})}},6699:(Bt,Ve,K)=>{K.d(Ve,{R:()=>be});var b=K(9360),ne=K(8251);function be(ue,fe){return(0,b.e)(function u(ue,fe,Te,He,Oe){return(ae,de)=>{let Me=Te,Se=fe,xe=0;ae.subscribe((0,ne.x)(de,qe=>{const It=xe++;Se=Me?ue(Se,qe,It):(Me=!0,qe),He&&de.next(Se)},Oe&&(()=>{Me&&de.next(Se),de.complete()})))}}(ue,fe,arguments.length>=2,!0))}},7921:(Bt,Ve,K)=>{K.d(Ve,{O:()=>be});var b=K(5211),ne=K(9940),u=K(9360);function be(...ue){const fe=(0,ne.yG)(ue);return(0,u.e)((Te,He)=>{(fe?(0,b.z)(ue,Te,fe):(0,b.z)(ue,Te)).subscribe(He)})}},5137:(Bt,Ve,K)=>{K.d(Ve,{R:()=>ne});var b=K(9360);function ne(u,be=0){return(0,b.e)((ue,fe)=>{fe.add(u.schedule(()=>ue.subscribe(fe),be))})}},4664:(Bt,Ve,K)=>{K.d(Ve,{w:()=>be});var b=K(4829),ne=K(9360),u=K(8251);function be(ue,fe){return(0,ne.e)((Te,He)=>{let Oe=null,ae=0,de=!1;const Me=()=>de&&!Oe&&He.complete();Te.subscribe((0,u.x)(He,Se=>{Oe?.unsubscribe();let xe=0;const qe=ae++;(0,b.Xf)(ue(Se,qe)).subscribe(Oe=(0,u.x)(He,It=>He.next(fe?fe(Se,It,qe,xe++):It),()=>{Oe=null,Me()}))},()=>{de=!0,Me()}))})}},8180:(Bt,Ve,K)=>{K.d(Ve,{q:()=>be});var b=K(6232),ne=K(9360),u=K(8251);function be(ue){return ue<=0?()=>b.E:(0,ne.e)((fe,Te)=>{let He=0;fe.subscribe((0,u.x)(Te,Oe=>{++He<=ue&&(Te.next(Oe),ue<=He&&Te.complete())}))})}},9773:(Bt,Ve,K)=>{K.d(Ve,{R:()=>ue});var b=K(9360),ne=K(8251),u=K(4829),be=K(2420);function ue(fe){return(0,b.e)((Te,He)=>{(0,u.Xf)(fe).subscribe((0,ne.x)(He,()=>He.complete(),be.Z)),!He.closed&&Te.subscribe(He)})}},9397:(Bt,Ve,K)=>{K.d(Ve,{b:()=>ue});var b=K(4674),ne=K(9360),u=K(8251),be=K(2737);function ue(fe,Te,He){const Oe=(0,b.m)(fe)||Te||He?{next:fe,error:Te,complete:He}:fe;return Oe?(0,ne.e)((ae,de)=>{var Me;null===(Me=Oe.subscribe)||void 0===Me||Me.call(Oe);let Se=!0;ae.subscribe((0,u.x)(de,xe=>{var qe;null===(qe=Oe.next)||void 0===qe||qe.call(Oe,xe),de.next(xe)},()=>{var xe;Se=!1,null===(xe=Oe.complete)||void 0===xe||xe.call(Oe),de.complete()},xe=>{var qe;Se=!1,null===(qe=Oe.error)||void 0===qe||qe.call(Oe,xe),de.error(xe)},()=>{var xe,qe;Se&&(null===(xe=Oe.unsubscribe)||void 0===xe||xe.call(Oe)),null===(qe=Oe.finalize)||void 0===qe||qe.call(Oe)}))}):be.y}},1954:(Bt,Ve,K)=>{K.d(Ve,{o:()=>ue});var b=K(7394);class ne extends b.w0{constructor(Te,He){super()}schedule(Te,He=0){return this}}const u={setInterval(fe,Te,...He){const{delegate:Oe}=u;return Oe?.setInterval?Oe.setInterval(fe,Te,...He):setInterval(fe,Te,...He)},clearInterval(fe){const{delegate:Te}=u;return(Te?.clearInterval||clearInterval)(fe)},delegate:void 0};var be=K(9039);class ue extends ne{constructor(Te,He){super(Te,He),this.scheduler=Te,this.work=He,this.pending=!1}schedule(Te,He=0){var Oe;if(this.closed)return this;this.state=Te;const ae=this.id,de=this.scheduler;return null!=ae&&(this.id=this.recycleAsyncId(de,ae,He)),this.pending=!0,this.delay=He,this.id=null!==(Oe=this.id)&&void 0!==Oe?Oe:this.requestAsyncId(de,this.id,He),this}requestAsyncId(Te,He,Oe=0){return u.setInterval(Te.flush.bind(Te,this),Oe)}recycleAsyncId(Te,He,Oe=0){if(null!=Oe&&this.delay===Oe&&!1===this.pending)return He;null!=He&&u.clearInterval(He)}execute(Te,He){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Oe=this._execute(Te,He);if(Oe)return Oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Te,He){let ae,Oe=!1;try{this.work(Te)}catch(de){Oe=!0,ae=de||new Error("Scheduled action threw falsy error")}if(Oe)return this.unsubscribe(),ae}unsubscribe(){if(!this.closed){const{id:Te,scheduler:He}=this,{actions:Oe}=He;this.work=this.state=this.scheduler=null,this.pending=!1,(0,be.P)(Oe,this),null!=Te&&(this.id=this.recycleAsyncId(He,Te,null)),this.delay=null,super.unsubscribe()}}}},9931:(Bt,Ve,K)=>{K.d(Ve,{v:()=>u});const b={now:()=>(b.delegate||Date).now(),delegate:void 0};class ne{constructor(ue,fe=ne.now){this.schedulerActionCtor=ue,this.now=fe}schedule(ue,fe=0,Te){return new this.schedulerActionCtor(this,ue).schedule(Te,fe)}}ne.now=b.now;class u extends ne{constructor(ue,fe=ne.now){super(ue,fe),this.actions=[],this._active=!1}flush(ue){const{actions:fe}=this;if(this._active)return void fe.push(ue);let Te;this._active=!0;do{if(Te=ue.execute(ue.state,ue.delay))break}while(ue=fe.shift());if(this._active=!1,Te){for(;ue=fe.shift();)ue.unsubscribe();throw Te}}}},6321:(Bt,Ve,K)=>{K.d(Ve,{P:()=>be,z:()=>u});var b=K(1954);const u=new(K(9931).v)(b.o),be=u},2381:(Bt,Ve,K)=>{K.d(Ve,{N:()=>ue});var b=K(1954),u=K(9931);const ue=new class be extends u.v{}(class ne extends b.o{constructor(He,Oe){super(He,Oe),this.scheduler=He,this.work=Oe}schedule(He,Oe=0){return Oe>0?super.schedule(He,Oe):(this.delay=Oe,this.state=He,this.scheduler.flush(this),this)}execute(He,Oe){return Oe>0||this.closed?super.execute(He,Oe):this._execute(He,Oe)}requestAsyncId(He,Oe,ae=0){return null!=ae&&ae>0||null==ae&&this.delay>0?super.requestAsyncId(He,Oe,ae):(He.flush(this),0)}})},7599:(Bt,Ve,K)=>{K.d(Ve,{z:()=>b});const b={setTimeout(ne,u,...be){const{delegate:ue}=b;return ue?.setTimeout?ue.setTimeout(ne,u,...be):setTimeout(ne,u,...be)},clearTimeout(ne){const{delegate:u}=b;return(u?.clearTimeout||clearTimeout)(ne)},delegate:void 0}},4971:(Bt,Ve,K)=>{K.d(Ve,{h:()=>ne});const ne=function b(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Bt,Ve,K)=>{K.d(Ve,{L:()=>b});const b="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Bt,Ve,K)=>{K.d(Ve,{K:()=>ne});const ne=(0,K(2306).d)(u=>function(){u(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Bt,Ve,K)=>{K.d(Ve,{_6:()=>fe,jO:()=>be,yG:()=>ue});var b=K(4674),ne=K(671);function u(Te){return Te[Te.length-1]}function be(Te){return(0,b.m)(u(Te))?Te.pop():void 0}function ue(Te){return(0,ne.K)(u(Te))?Te.pop():void 0}function fe(Te,He){return"number"==typeof u(Te)?Te.pop():He}},7453:(Bt,Ve,K)=>{K.d(Ve,{D:()=>ue});const{isArray:b}=Array,{getPrototypeOf:ne,prototype:u,keys:be}=Object;function ue(Te){if(1===Te.length){const He=Te[0];if(b(He))return{args:He,keys:null};if(function fe(Te){return Te&&"object"==typeof Te&&ne(Te)===u}(He)){const Oe=be(He);return{args:Oe.map(ae=>He[ae]),keys:Oe}}}return{args:Te,keys:null}}},9039:(Bt,Ve,K)=>{function b(ne,u){if(ne){const be=ne.indexOf(u);0<=be&&ne.splice(be,1)}}K.d(Ve,{P:()=>b})},2306:(Bt,Ve,K)=>{function b(ne){const be=ne(ue=>{Error.call(ue),ue.stack=(new Error).stack});return be.prototype=Object.create(Error.prototype),be.prototype.constructor=be,be}K.d(Ve,{d:()=>b})},2714:(Bt,Ve,K)=>{function b(ne,u){return ne.reduce((be,ue,fe)=>(be[ue]=u[fe],be),{})}K.d(Ve,{n:()=>b})},1441:(Bt,Ve,K)=>{K.d(Ve,{O:()=>be,x:()=>u});var b=K(2653);let ne=null;function u(ue){if(b.config.useDeprecatedSynchronousErrorHandling){const fe=!ne;if(fe&&(ne={errorThrown:!1,error:null}),ue(),fe){const{errorThrown:Te,error:He}=ne;if(ne=null,Te)throw He}}else ue()}function be(ue){b.config.useDeprecatedSynchronousErrorHandling&&ne&&(ne.errorThrown=!0,ne.error=ue)}},7103:(Bt,Ve,K)=>{function b(ne,u,be,ue=0,fe=!1){const Te=u.schedule(function(){be(),fe?ne.add(this.schedule(null,ue)):this.unsubscribe()},ue);if(ne.add(Te),!fe)return Te}K.d(Ve,{f:()=>b})},2737:(Bt,Ve,K)=>{function b(ne){return ne}K.d(Ve,{y:()=>b})},4266:(Bt,Ve,K)=>{K.d(Ve,{z:()=>b});const b=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},5726:(Bt,Ve,K)=>{K.d(Ve,{D:()=>ne});var b=K(4674);function ne(u){return Symbol.asyncIterator&&(0,b.m)(u?.[Symbol.asyncIterator])}},4674:(Bt,Ve,K)=>{function b(ne){return"function"==typeof ne}K.d(Ve,{m:()=>b})},8382:(Bt,Ve,K)=>{K.d(Ve,{c:()=>u});var b=K(4850),ne=K(4674);function u(be){return(0,ne.m)(be[b.L])}},3664:(Bt,Ve,K)=>{K.d(Ve,{T:()=>u});var b=K(4971),ne=K(4674);function u(be){return(0,ne.m)(be?.[b.h])}},4026:(Bt,Ve,K)=>{K.d(Ve,{t:()=>ne});var b=K(4674);function ne(u){return(0,b.m)(u?.then)}},541:(Bt,Ve,K)=>{K.d(Ve,{L:()=>be,Q:()=>u});var b=K(7582),ne=K(4674);function u(ue){return(0,b.FC)(this,arguments,function*(){const Te=ue.getReader();try{for(;;){const{value:He,done:Oe}=yield(0,b.qq)(Te.read());if(Oe)return yield(0,b.qq)(void 0);yield yield(0,b.qq)(He)}}finally{Te.releaseLock()}})}function be(ue){return(0,ne.m)(ue?.getReader)}},671:(Bt,Ve,K)=>{K.d(Ve,{K:()=>ne});var b=K(4674);function ne(u){return u&&(0,b.m)(u.schedule)}},9360:(Bt,Ve,K)=>{K.d(Ve,{A:()=>ne,e:()=>u});var b=K(4674);function ne(be){return(0,b.m)(be?.lift)}function u(be){return ue=>{if(ne(ue))return ue.lift(function(fe){try{return be(fe,this)}catch(Te){this.error(Te)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Bt,Ve,K)=>{K.d(Ve,{Z:()=>be});var b=K(7398);const{isArray:ne}=Array;function be(ue){return(0,b.U)(fe=>function u(ue,fe){return ne(fe)?ue(...fe):ue(fe)}(ue,fe))}},2420:(Bt,Ve,K)=>{function b(){}K.d(Ve,{Z:()=>b})},8407:(Bt,Ve,K)=>{K.d(Ve,{U:()=>u,z:()=>ne});var b=K(2737);function ne(...be){return u(be)}function u(be){return 0===be.length?b.y:1===be.length?be[0]:function(fe){return be.reduce((Te,He)=>He(Te),fe)}}},3894:(Bt,Ve,K)=>{K.d(Ve,{h:()=>u});var b=K(2653),ne=K(7599);function u(be){ne.z.setTimeout(()=>{const{onUnhandledError:ue}=b.config;if(!ue)throw be;ue(be)})}},9853:(Bt,Ve,K)=>{function b(ne){return new TypeError(`You provided ${null!==ne&&"object"==typeof ne?"an invalid object":`'${ne}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}K.d(Ve,{z:()=>b})},6814:(Bt,Ve,K)=>{K.d(Ve,{Do:()=>It,EM:()=>go,HT:()=>be,JF:()=>Us,K0:()=>fe,Mn:()=>Cn,Mx:()=>Xo,O5:()=>uo,PM:()=>Sr,S$:()=>Se,Tn:()=>we,UT:()=>Vn,V_:()=>He,Ye:()=>Pt,ax:()=>bs,b0:()=>qe,bD:()=>gi,ez:()=>Mr,mk:()=>Va,p6:()=>fr,q:()=>u,sg:()=>bs,tP:()=>ra,uU:()=>li,w_:()=>ue,x:()=>je});var b=K(9468);let ne=null;function u(){return ne}function be(M){ne||(ne=M)}class ue{}const fe=new b.OlP("DocumentToken");let Te=(()=>{class M{historyGo(V){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||M)};static#t=this.\u0275prov=b.Yz7({token:M,factory:function(){return(0,b.f3M)(Oe)},providedIn:"platform"})}return M})();const He=new b.OlP("Location Initialized");let Oe=(()=>{class M extends Te{constructor(){super(),this._doc=(0,b.f3M)(fe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return u().getBaseHref(this._doc)}onPopState(V){const X=u().getGlobalEventTarget(this._doc,"window");return X.addEventListener("popstate",V,!1),()=>X.removeEventListener("popstate",V)}onHashChange(V){const X=u().getGlobalEventTarget(this._doc,"window");return X.addEventListener("hashchange",V,!1),()=>X.removeEventListener("hashchange",V)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(V){this._location.pathname=V}pushState(V,X,ve){this._history.pushState(V,X,ve)}replaceState(V,X,ve){this._history.replaceState(V,X,ve)}forward(){this._history.forward()}back(){this._history.back()}historyGo(V=0){this._history.go(V)}getState(){return this._history.state}static#e=this.\u0275fac=function(X){return new(X||M)};static#t=this.\u0275prov=b.Yz7({token:M,factory:function(){return new M},providedIn:"platform"})}return M})();function ae(M,re){if(0==M.length)return re;if(0==re.length)return M;let V=0;return M.endsWith("/")&&V++,re.startsWith("/")&&V++,2==V?M+re.substring(1):1==V?M+re:M+"/"+re}function de(M){const re=M.match(/#|\?|$/),V=re&&re.index||M.length;return M.slice(0,V-("/"===M[V-1]?1:0))+M.slice(V)}function Me(M){return M&&"?"!==M[0]?"?"+M:M}let Se=(()=>{class M{historyGo(V){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||M)};static#t=this.\u0275prov=b.Yz7({token:M,factory:function(){return(0,b.f3M)(qe)},providedIn:"root"})}return M})();const xe=new b.OlP("appBaseHref");let qe=(()=>{class M extends Se{constructor(V,X){super(),this._platformLocation=V,this._removeListenerFns=[],this._baseHref=X??this._platformLocation.getBaseHrefFromDOM()??(0,b.f3M)(fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}prepareExternalUrl(V){return ae(this._baseHref,V)}path(V=!1){const X=this._platformLocation.pathname+Me(this._platformLocation.search),ve=this._platformLocation.hash;return ve&&V?`${X}${ve}`:X}pushState(V,X,ve,tt){const mt=this.prepareExternalUrl(ve+Me(tt));this._platformLocation.pushState(V,X,mt)}replaceState(V,X,ve,tt){const mt=this.prepareExternalUrl(ve+Me(tt));this._platformLocation.replaceState(V,X,mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){this._platformLocation.historyGo?.(V)}static#e=this.\u0275fac=function(X){return new(X||M)(b.LFG(Te),b.LFG(xe,8))};static#t=this.\u0275prov=b.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})(),It=(()=>{class M extends Se{constructor(V,X){super(),this._platformLocation=V,this._baseHref="",this._removeListenerFns=[],null!=X&&(this._baseHref=X)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}path(V=!1){let X=this._platformLocation.hash;return null==X&&(X="#"),X.length>0?X.substring(1):X}prepareExternalUrl(V){const X=ae(this._baseHref,V);return X.length>0?"#"+X:X}pushState(V,X,ve,tt){let mt=this.prepareExternalUrl(ve+Me(tt));0==mt.length&&(mt=this._platformLocation.pathname),this._platformLocation.pushState(V,X,mt)}replaceState(V,X,ve,tt){let mt=this.prepareExternalUrl(ve+Me(tt));0==mt.length&&(mt=this._platformLocation.pathname),this._platformLocation.replaceState(V,X,mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){this._platformLocation.historyGo?.(V)}static#e=this.\u0275fac=function(X){return new(X||M)(b.LFG(Te),b.LFG(xe,8))};static#t=this.\u0275prov=b.Yz7({token:M,factory:M.\u0275fac})}return M})(),Pt=(()=>{class M{constructor(V){this._subject=new b.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=V;const X=this._locationStrategy.getBaseHref();this._basePath=function ft(M){if(new RegExp("^(https?:)?//").test(M)){const[,V]=M.split(/\/\/[^\/]+/);return V}return M}(de(At(X))),this._locationStrategy.onPopState(ve=>{this._subject.emit({url:this.path(!0),pop:!0,state:ve.state,type:ve.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(V=!1){return this.normalize(this._locationStrategy.path(V))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(V,X=""){return this.path()==this.normalize(V+Me(X))}normalize(V){return M.stripTrailingSlash(function Dn(M,re){if(!M||!re.startsWith(M))return re;const V=re.substring(M.length);return""===V||["/",";","?","#"].includes(V[0])?V:re}(this._basePath,At(V)))}prepareExternalUrl(V){return V&&"/"!==V[0]&&(V="/"+V),this._locationStrategy.prepareExternalUrl(V)}go(V,X="",ve=null){this._locationStrategy.pushState(ve,"",V,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+Me(X)),ve)}replaceState(V,X="",ve=null){this._locationStrategy.replaceState(ve,"",V,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+Me(X)),ve)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(V=0){this._locationStrategy.historyGo?.(V)}onUrlChange(V){return this._urlChangeListeners.push(V),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(X=>{this._notifyUrlChangeListeners(X.url,X.state)})),()=>{const X=this._urlChangeListeners.indexOf(V);this._urlChangeListeners.splice(X,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(V="",X){this._urlChangeListeners.forEach(ve=>ve(V,X))}subscribe(V,X,ve){return this._subject.subscribe({next:V,error:X,complete:ve})}static#e=this.normalizeQueryParams=Me;static#t=this.joinWithSlash=ae;static#n=this.stripTrailingSlash=de;static#r=this.\u0275fac=function(X){return new(X||M)(b.LFG(Se))};static#i=this.\u0275prov=b.Yz7({token:M,factory:function(){return function Ot(){return new Pt((0,b.LFG)(Se))}()},providedIn:"root"})}return M})();function At(M){return M.replace(/\/index.html$/,"")}var je=function(M){return M[M.Format=0]="Format",M[M.Standalone=1]="Standalone",M}(je||{}),we=function(M){return M[M.Narrow=0]="Narrow",M[M.Abbreviated=1]="Abbreviated",M[M.Wide=2]="Wide",M[M.Short=3]="Short",M}(we||{}),Xe=function(M){return M[M.Short=0]="Short",M[M.Medium=1]="Medium",M[M.Long=2]="Long",M[M.Full=3]="Full",M}(Xe||{}),_t=function(M){return M[M.Decimal=0]="Decimal",M[M.Group=1]="Group",M[M.List=2]="List",M[M.PercentSign=3]="PercentSign",M[M.PlusSign=4]="PlusSign",M[M.MinusSign=5]="MinusSign",M[M.Exponential=6]="Exponential",M[M.SuperscriptingExponent=7]="SuperscriptingExponent",M[M.PerMille=8]="PerMille",M[M.Infinity=9]="Infinity",M[M.NaN=10]="NaN",M[M.TimeSeparator=11]="TimeSeparator",M[M.CurrencyDecimal=12]="CurrencyDecimal",M[M.CurrencyGroup=13]="CurrencyGroup",M}(_t||{});function Cn(M,re,V){const X=(0,b.cg1)(M),tt=Ae([X[b.wAp.DaysFormat],X[b.wAp.DaysStandalone]],re);return Ae(tt,V)}function Vn(M,re,V){const X=(0,b.cg1)(M),tt=Ae([X[b.wAp.MonthsFormat],X[b.wAp.MonthsStandalone]],re);return Ae(tt,V)}function $e(M,re){return Ae((0,b.cg1)(M)[b.wAp.DateFormat],re)}function et(M,re){return Ae((0,b.cg1)(M)[b.wAp.TimeFormat],re)}function Ge(M,re){return Ae((0,b.cg1)(M)[b.wAp.DateTimeFormat],re)}function nt(M,re){const V=(0,b.cg1)(M),X=V[b.wAp.NumberSymbols][re];if(typeof X>"u"){if(re===_t.CurrencyDecimal)return V[b.wAp.NumberSymbols][_t.Decimal];if(re===_t.CurrencyGroup)return V[b.wAp.NumberSymbols][_t.Group]}return X}function Ct(M){if(!M[b.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${M[b.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ae(M,re){for(let V=re;V>-1;V--)if(typeof M[V]<"u")return M[V];throw new Error("Locale data API: locale data undefined")}function Ee(M){const[re,V]=M.split(":");return{hours:+re,minutes:+V}}const Rt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,mr={},hn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Tn=function(M){return M[M.Short=0]="Short",M[M.ShortGMT=1]="ShortGMT",M[M.Long=2]="Long",M[M.Extended=3]="Extended",M}(Tn||{}),Kt=function(M){return M[M.FullYear=0]="FullYear",M[M.Month=1]="Month",M[M.Date=2]="Date",M[M.Hours=3]="Hours",M[M.Minutes=4]="Minutes",M[M.Seconds=5]="Seconds",M[M.FractionalSeconds=6]="FractionalSeconds",M[M.Day=7]="Day",M}(Kt||{}),cn=function(M){return M[M.DayPeriods=0]="DayPeriods",M[M.Days=1]="Days",M[M.Months=2]="Months",M[M.Eras=3]="Eras",M}(cn||{});function fr(M,re,V,X){let ve=function B(M){if(q(M))return M;if("number"==typeof M&&!isNaN(M))return new Date(M);if("string"==typeof M){if(M=M.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(M)){const[ve,tt=1,mt=1]=M.split("-").map(vn=>+vn);return Jt(ve,tt-1,mt)}const V=parseFloat(M);if(!isNaN(M-V))return new Date(V);let X;if(X=M.match(Rt))return function G(M){const re=new Date(0);let V=0,X=0;const ve=M[8]?re.setUTCFullYear:re.setFullYear,tt=M[8]?re.setUTCHours:re.setHours;M[9]&&(V=Number(M[9]+M[10]),X=Number(M[9]+M[11])),ve.call(re,Number(M[1]),Number(M[2])-1,Number(M[3]));const mt=Number(M[4]||0)-V,vn=Number(M[5]||0)-X,Dr=Number(M[6]||0),Nr=Math.floor(1e3*parseFloat("0."+(M[7]||0)));return tt.call(re,mt,vn,Dr,Nr),re}(X)}const re=new Date(M);if(!q(re))throw new Error(`Unable to convert "${M}" into a date`);return re}(M);re=Ir(V,re)||re;let vn,mt=[];for(;re;){if(vn=hn.exec(re),!vn){mt.push(re);break}{mt=mt.concat(vn.slice(1));const zn=mt.pop();if(!zn)break;re=zn}}let Dr=ve.getTimezoneOffset();X&&(Dr=Wt(X,Dr),ve=function Q(M,re,V){const X=V?-1:1,ve=M.getTimezoneOffset();return function qn(M,re){return(M=new Date(M.getTime())).setMinutes(M.getMinutes()+re),M}(M,X*(Wt(re,ve)-ve))}(ve,X,!0));let Nr="";return mt.forEach(zn=>{const Gn=function $t(M){if(Et[M])return Et[M];let re;switch(M){case"G":case"GG":case"GGG":re=Bn(cn.Eras,we.Abbreviated);break;case"GGGG":re=Bn(cn.Eras,we.Wide);break;case"GGGGG":re=Bn(cn.Eras,we.Narrow);break;case"y":re=Wn(Kt.FullYear,1,0,!1,!0);break;case"yy":re=Wn(Kt.FullYear,2,0,!0,!0);break;case"yyy":re=Wn(Kt.FullYear,3,0,!1,!0);break;case"yyyy":re=Wn(Kt.FullYear,4,0,!1,!0);break;case"Y":re=Je(1);break;case"YY":re=Je(2,!0);break;case"YYY":re=Je(3);break;case"YYYY":re=Je(4);break;case"M":case"L":re=Wn(Kt.Month,1,1);break;case"MM":case"LL":re=Wn(Kt.Month,2,1);break;case"MMM":re=Bn(cn.Months,we.Abbreviated);break;case"MMMM":re=Bn(cn.Months,we.Wide);break;case"MMMMM":re=Bn(cn.Months,we.Narrow);break;case"LLL":re=Bn(cn.Months,we.Abbreviated,je.Standalone);break;case"LLLL":re=Bn(cn.Months,we.Wide,je.Standalone);break;case"LLLLL":re=Bn(cn.Months,we.Narrow,je.Standalone);break;case"w":re=Ce(1);break;case"ww":re=Ce(2);break;case"W":re=Ce(1,!0);break;case"d":re=Wn(Kt.Date,1);break;case"dd":re=Wn(Kt.Date,2);break;case"c":case"cc":re=Wn(Kt.Day,1);break;case"ccc":re=Bn(cn.Days,we.Abbreviated,je.Standalone);break;case"cccc":re=Bn(cn.Days,we.Wide,je.Standalone);break;case"ccccc":re=Bn(cn.Days,we.Narrow,je.Standalone);break;case"cccccc":re=Bn(cn.Days,we.Short,je.Standalone);break;case"E":case"EE":case"EEE":re=Bn(cn.Days,we.Abbreviated);break;case"EEEE":re=Bn(cn.Days,we.Wide);break;case"EEEEE":re=Bn(cn.Days,we.Narrow);break;case"EEEEEE":re=Bn(cn.Days,we.Short);break;case"a":case"aa":case"aaa":re=Bn(cn.DayPeriods,we.Abbreviated);break;case"aaaa":re=Bn(cn.DayPeriods,we.Wide);break;case"aaaaa":re=Bn(cn.DayPeriods,we.Narrow);break;case"b":case"bb":case"bbb":re=Bn(cn.DayPeriods,we.Abbreviated,je.Standalone,!0);break;case"bbbb":re=Bn(cn.DayPeriods,we.Wide,je.Standalone,!0);break;case"bbbbb":re=Bn(cn.DayPeriods,we.Narrow,je.Standalone,!0);break;case"B":case"BB":case"BBB":re=Bn(cn.DayPeriods,we.Abbreviated,je.Format,!0);break;case"BBBB":re=Bn(cn.DayPeriods,we.Wide,je.Format,!0);break;case"BBBBB":re=Bn(cn.DayPeriods,we.Narrow,je.Format,!0);break;case"h":re=Wn(Kt.Hours,1,-12);break;case"hh":re=Wn(Kt.Hours,2,-12);break;case"H":re=Wn(Kt.Hours,1);break;case"HH":re=Wn(Kt.Hours,2);break;case"m":re=Wn(Kt.Minutes,1);break;case"mm":re=Wn(Kt.Minutes,2);break;case"s":re=Wn(Kt.Seconds,1);break;case"ss":re=Wn(Kt.Seconds,2);break;case"S":re=Wn(Kt.FractionalSeconds,1);break;case"SS":re=Wn(Kt.FractionalSeconds,2);break;case"SSS":re=Wn(Kt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":re=qt(Tn.Short);break;case"ZZZZZ":re=qt(Tn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":re=qt(Tn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":re=qt(Tn.Long);break;default:return null}return Et[M]=re,re}(zn);Nr+=Gn?Gn(ve,V,Dr):"''"===zn?"'":zn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Nr}function Jt(M,re,V){const X=new Date(0);return X.setFullYear(M,re,V),X.setHours(0,0,0),X}function Ir(M,re){const V=function dt(M){return(0,b.cg1)(M)[b.wAp.LocaleId]}(M);if(mr[V]=mr[V]||{},mr[V][re])return mr[V][re];let X="";switch(re){case"shortDate":X=$e(M,Xe.Short);break;case"mediumDate":X=$e(M,Xe.Medium);break;case"longDate":X=$e(M,Xe.Long);break;case"fullDate":X=$e(M,Xe.Full);break;case"shortTime":X=et(M,Xe.Short);break;case"mediumTime":X=et(M,Xe.Medium);break;case"longTime":X=et(M,Xe.Long);break;case"fullTime":X=et(M,Xe.Full);break;case"short":const ve=Ir(M,"shortTime"),tt=Ir(M,"shortDate");X=Er(Ge(M,Xe.Short),[ve,tt]);break;case"medium":const mt=Ir(M,"mediumTime"),vn=Ir(M,"mediumDate");X=Er(Ge(M,Xe.Medium),[mt,vn]);break;case"long":const Dr=Ir(M,"longTime"),Nr=Ir(M,"longDate");X=Er(Ge(M,Xe.Long),[Dr,Nr]);break;case"full":const zn=Ir(M,"fullTime"),Gn=Ir(M,"fullDate");X=Er(Ge(M,Xe.Full),[zn,Gn])}return X&&(mr[V][re]=X),X}function Er(M,re){return re&&(M=M.replace(/\{([^}]+)}/g,function(V,X){return null!=re&&X in re?re[X]:V})),M}function yn(M,re,V="-",X,ve){let tt="";(M<0||ve&&M<=0)&&(ve?M=1-M:(M=-M,tt=V));let mt=String(M);for(;mt.length<re;)mt="0"+mt;return X&&(mt=mt.slice(mt.length-re)),tt+mt}function Wn(M,re,V=0,X=!1,ve=!1){return function(tt,mt){let vn=function or(M,re){switch(M){case Kt.FullYear:return re.getFullYear();case Kt.Month:return re.getMonth();case Kt.Date:return re.getDate();case Kt.Hours:return re.getHours();case Kt.Minutes:return re.getMinutes();case Kt.Seconds:return re.getSeconds();case Kt.FractionalSeconds:return re.getMilliseconds();case Kt.Day:return re.getDay();default:throw new Error(`Unknown DateType value "${M}".`)}}(M,tt);if((V>0||vn>-V)&&(vn+=V),M===Kt.Hours)0===vn&&-12===V&&(vn=12);else if(M===Kt.FractionalSeconds)return function cr(M,re){return yn(M,3).substring(0,re)}(vn,re);const Dr=nt(mt,_t.MinusSign);return yn(vn,re,Dr,X,ve)}}function Bn(M,re,V=je.Format,X=!1){return function(ve,tt){return function ti(M,re,V,X,ve,tt){switch(V){case cn.Months:return Vn(re,ve,X)[M.getMonth()];case cn.Days:return Cn(re,ve,X)[M.getDay()];case cn.DayPeriods:const mt=M.getHours(),vn=M.getMinutes();if(tt){const Nr=function jn(M){const re=(0,b.cg1)(M);return Ct(re),(re[b.wAp.ExtraData][2]||[]).map(X=>"string"==typeof X?Ee(X):[Ee(X[0]),Ee(X[1])])}(re),zn=function wr(M,re,V){const X=(0,b.cg1)(M);Ct(X);const tt=Ae([X[b.wAp.ExtraData][0],X[b.wAp.ExtraData][1]],re)||[];return Ae(tt,V)||[]}(re,ve,X),Gn=Nr.findIndex(_r=>{if(Array.isArray(_r)){const[Br,Vr]=_r,es=mt>=Br.hours&&vn>=Br.minutes,ts=mt<Vr.hours||mt===Vr.hours&&vn<Vr.minutes;if(Br.hours<Vr.hours){if(es&&ts)return!0}else if(es||ts)return!0}else if(_r.hours===mt&&_r.minutes===vn)return!0;return!1});if(-1!==Gn)return zn[Gn]}return function pn(M,re,V){const X=(0,b.cg1)(M),tt=Ae([X[b.wAp.DayPeriodsFormat],X[b.wAp.DayPeriodsStandalone]],re);return Ae(tt,V)}(re,ve,X)[mt<12?0:1];case cn.Eras:return function sr(M,re){return Ae((0,b.cg1)(M)[b.wAp.Eras],re)}(re,X)[M.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${V}`)}}(ve,tt,M,re,V,X)}}function qt(M){return function(re,V,X){const ve=-1*X,tt=nt(V,_t.MinusSign),mt=ve>0?Math.floor(ve/60):Math.ceil(ve/60);switch(M){case Tn.Short:return(ve>=0?"+":"")+yn(mt,2,tt)+yn(Math.abs(ve%60),2,tt);case Tn.ShortGMT:return"GMT"+(ve>=0?"+":"")+yn(mt,1,tt);case Tn.Long:return"GMT"+(ve>=0?"+":"")+yn(mt,2,tt)+":"+yn(Math.abs(ve%60),2,tt);case Tn.Extended:return 0===X?"Z":(ve>=0?"+":"")+yn(mt,2,tt)+":"+yn(Math.abs(ve%60),2,tt);default:throw new Error(`Unknown zone width "${M}"`)}}}const Qi=0,zr=4;function rt(M){return Jt(M.getFullYear(),M.getMonth(),M.getDate()+(zr-M.getDay()))}function Ce(M,re=!1){return function(V,X){let ve;if(re){const tt=new Date(V.getFullYear(),V.getMonth(),1).getDay()-1,mt=V.getDate();ve=1+Math.floor((mt+tt)/7)}else{const tt=rt(V),mt=function Gr(M){const re=Jt(M,Qi,1).getDay();return Jt(M,0,1+(re<=zr?zr:zr+7)-re)}(tt.getFullYear()),vn=tt.getTime()-mt.getTime();ve=1+Math.round(vn/6048e5)}return yn(ve,M,nt(X,_t.MinusSign))}}function Je(M,re=!1){return function(V,X){return yn(rt(V).getFullYear(),M,nt(X,_t.MinusSign),re)}}const Et={};function Wt(M,re){M=M.replace(/:/g,"");const V=Date.parse("Jan 01, 1970 00:00:00 "+M)/6e4;return isNaN(V)?re:V}function q(M){return M instanceof Date&&!isNaN(M.valueOf())}function Xo(M,re){re=encodeURIComponent(re);for(const V of M.split(";")){const X=V.indexOf("="),[ve,tt]=-1==X?[V,""]:[V.slice(0,X),V.slice(X+1)];if(ve.trim()===re)return decodeURIComponent(tt)}return null}const ea=/\s+/,ta=[];let Va=(()=>{class M{constructor(V,X,ve,tt){this._iterableDiffers=V,this._keyValueDiffers=X,this._ngEl=ve,this._renderer=tt,this.initialClasses=ta,this.stateMap=new Map}set klass(V){this.initialClasses=null!=V?V.trim().split(ea):ta}set ngClass(V){this.rawClass="string"==typeof V?V.trim().split(ea):V}ngDoCheck(){for(const X of this.initialClasses)this._updateState(X,!0);const V=this.rawClass;if(Array.isArray(V)||V instanceof Set)for(const X of V)this._updateState(X,!0);else if(null!=V)for(const X of Object.keys(V))this._updateState(X,!!V[X]);this._applyStateDiff()}_updateState(V,X){const ve=this.stateMap.get(V);void 0!==ve?(ve.enabled!==X&&(ve.changed=!0,ve.enabled=X),ve.touched=!0):this.stateMap.set(V,{enabled:X,changed:!0,touched:!0})}_applyStateDiff(){for(const V of this.stateMap){const X=V[0],ve=V[1];ve.changed?(this._toggleClass(X,ve.enabled),ve.changed=!1):ve.touched||(ve.enabled&&this._toggleClass(X,!1),this.stateMap.delete(X)),ve.touched=!1}}_toggleClass(V,X){(V=V.trim()).length>0&&V.split(ea).forEach(ve=>{X?this._renderer.addClass(this._ngEl.nativeElement,ve):this._renderer.removeClass(this._ngEl.nativeElement,ve)})}static#e=this.\u0275fac=function(X){return new(X||M)(b.Y36(b.ZZ4),b.Y36(b.aQg),b.Y36(b.SBq),b.Y36(b.Qsj))};static#t=this.\u0275dir=b.lG2({type:M,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return M})();class ri{constructor(re,V,X,ve){this.$implicit=re,this.ngForOf=V,this.index=X,this.count=ve}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bs=(()=>{class M{set ngForOf(V){this._ngForOf=V,this._ngForOfDirty=!0}set ngForTrackBy(V){this._trackByFn=V}get ngForTrackBy(){return this._trackByFn}constructor(V,X,ve){this._viewContainer=V,this._template=X,this._differs=ve,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(V){V&&(this._template=V)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const V=this._ngForOf;!this._differ&&V&&(this._differ=this._differs.find(V).create(this.ngForTrackBy))}if(this._differ){const V=this._differ.diff(this._ngForOf);V&&this._applyChanges(V)}}_applyChanges(V){const X=this._viewContainer;V.forEachOperation((ve,tt,mt)=>{if(null==ve.previousIndex)X.createEmbeddedView(this._template,new ri(ve.item,this._ngForOf,-1,-1),null===mt?void 0:mt);else if(null==mt)X.remove(null===tt?void 0:tt);else if(null!==tt){const vn=X.get(tt);X.move(vn,mt),zi(vn,ve)}});for(let ve=0,tt=X.length;ve<tt;ve++){const vn=X.get(ve).context;vn.index=ve,vn.count=tt,vn.ngForOf=this._ngForOf}V.forEachIdentityChange(ve=>{zi(X.get(ve.currentIndex),ve)})}static ngTemplateContextGuard(V,X){return!0}static#e=this.\u0275fac=function(X){return new(X||M)(b.Y36(b.s_b),b.Y36(b.Rgc),b.Y36(b.ZZ4))};static#t=this.\u0275dir=b.lG2({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return M})();function zi(M,re){M.context.$implicit=re.item}let uo=(()=>{class M{constructor(V,X){this._viewContainer=V,this._context=new _a,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=X}set ngIf(V){this._context.$implicit=this._context.ngIf=V,this._updateView()}set ngIfThen(V){Ei("ngIfThen",V),this._thenTemplateRef=V,this._thenViewRef=null,this._updateView()}set ngIfElse(V){Ei("ngIfElse",V),this._elseTemplateRef=V,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(V,X){return!0}static#e=this.\u0275fac=function(X){return new(X||M)(b.Y36(b.s_b),b.Y36(b.Rgc))};static#t=this.\u0275dir=b.lG2({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return M})();class _a{constructor(){this.$implicit=null,this.ngIf=null}}function Ei(M,re){if(re&&!re.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,b.AaK)(re)}'.`)}let ra=(()=>{class M{constructor(V){this._viewContainerRef=V,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(V){if(V.ngTemplateOutlet||V.ngTemplateOutletInjector){const X=this._viewContainerRef;if(this._viewRef&&X.remove(X.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ve,ngTemplateOutletContext:tt,ngTemplateOutletInjector:mt}=this;this._viewRef=X.createEmbeddedView(ve,tt,mt?{injector:mt}:void 0)}else this._viewRef=null}else this._viewRef&&V.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(X){return new(X||M)(b.Y36(b.s_b))};static#t=this.\u0275dir=b.lG2({type:M,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[b.TTD]})}return M})();const ia=new b.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),sa=new b.OlP("DATE_PIPE_DEFAULT_OPTIONS");let li=(()=>{class M{constructor(V,X,ve){this.locale=V,this.defaultTimezone=X,this.defaultOptions=ve}transform(V,X,ve,tt){if(null==V||""===V||V!=V)return null;try{return fr(V,X??this.defaultOptions?.dateFormat??"mediumDate",tt||this.locale,ve??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(mt){throw function cs(M,re){return new b.vHH(2100,!1)}()}}static#e=this.\u0275fac=function(X){return new(X||M)(b.Y36(b.soG,16),b.Y36(ia,24),b.Y36(sa,24))};static#t=this.\u0275pipe=b.Yjl({name:"date",type:M,pure:!0,standalone:!0})}return M})(),Mr=(()=>{class M{static#e=this.\u0275fac=function(X){return new(X||M)};static#t=this.\u0275mod=b.oAB({type:M});static#n=this.\u0275inj=b.cJS({})}return M})();const gi="browser",po="server";function Sr(M){return M===po}let go=(()=>{class M{static#e=this.\u0275prov=(0,b.Yz7)({token:M,providedIn:"root",factory:()=>new Ls((0,b.LFG)(fe),window)})}return M})();class Ls{constructor(re,V){this.document=re,this.window=V,this.offset=()=>[0,0]}setOffset(re){this.offset=Array.isArray(re)?()=>re:re}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(re){this.supportsScrolling()&&this.window.scrollTo(re[0],re[1])}scrollToAnchor(re){if(!this.supportsScrolling())return;const V=function qr(M,re){const V=M.getElementById(re)||M.getElementsByName(re)[0];if(V)return V;if("function"==typeof M.createTreeWalker&&M.body&&"function"==typeof M.body.attachShadow){const X=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let ve=X.currentNode;for(;ve;){const tt=ve.shadowRoot;if(tt){const mt=tt.getElementById(re)||tt.querySelector(`[name="${re}"]`);if(mt)return mt}ve=X.nextNode()}}return null}(this.document,re);V&&(this.scrollToElement(V),V.focus())}setHistoryScrollRestoration(re){this.supportsScrolling()&&(this.window.history.scrollRestoration=re)}scrollToElement(re){const V=re.getBoundingClientRect(),X=V.left+this.window.pageXOffset,ve=V.top+this.window.pageYOffset,tt=this.offset();this.window.scrollTo(X-tt[0],ve-tt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Us{}},9468:(Bt,Ve,K)=>{K.d(Ve,{QbO:()=>Dm,tb:()=>sE,AFp:()=>by,ip1:()=>Ab,hGG:()=>AD,z2F:()=>Uc,Ojb:()=>PE,sBO:()=>bD,Sil:()=>ZI,EJc:()=>qI,ktI:()=>vi,Xts:()=>th,SBq:()=>Ku,lqb:()=>Mc,qLn:()=>Yu,vpe:()=>Ol,tBr:()=>Ip,XFs:()=>Jt,OlP:()=>qt,zs3:()=>ha,ZZ4:()=>qb,aQg:()=>Zb,soG:()=>Nb,YKP:()=>I_,h0i:()=>jl,PXZ:()=>jC,R0b:()=>qo,FiY:()=>Jg,Lbi:()=>Wo,g9A:()=>io,Qsj:()=>Aw,FYo:()=>K0,JOm:()=>b0,q3G:()=>Pi,tp0:()=>ru,Rgc:()=>Rg,dDg:()=>hD,eoX:()=>Bg,q4F:()=>Q0,GfV:()=>Ny,s_b:()=>lb,ifc:()=>os,gHi:()=>Rm,VuI:()=>MD,Flj:()=>cc,LMc:()=>RS,MMx:()=>K1,Lck:()=>mT,eFA:()=>oE,Gpc:()=>Dn,f3M:()=>Kn,X6Q:()=>IS,$WT:()=>ls,_c5:()=>Kb,qFp:()=>Hg,tdS:()=>re,rg0:()=>Nr,c2e:()=>oD,zSh:()=>Im,HDt:()=>Ob,wAp:()=>d_,vHH:()=>je,lri:()=>nE,rWj:()=>Bb,JZr:()=>yt,EiD:()=>Tf,mCW:()=>U0,qzn:()=>Wp,JVY:()=>If,pB0:()=>ym,eBb:()=>cy,L6k:()=>qp,LAX:()=>L0,cg1:()=>u_,kL8:()=>F1,dqk:()=>or,Z0I:()=>gt,eJc:()=>Wv,QGY:()=>Ll,F4k:()=>yv,RDi:()=>ns,AaK:()=>It,z3N:()=>su,zW0:()=>Do,qOj:()=>Id,Xq5:()=>We,TTD:()=>es,_Bn:()=>gI,jDz:()=>yT,xp6:()=>ph,uIk:()=>Th,Tol:()=>Bl,ekj:()=>s_,Suo:()=>LT,Xpm:()=>Po,lG2:()=>li,Yz7:()=>Ae,cJS:()=>Ze,oAB:()=>Ys,Yjl:()=>fo,Y36:()=>xl,_UZ:()=>Lh,BQk:()=>Uh,ynx:()=>Zm,qZA:()=>Cd,TgZ:()=>_u,EpF:()=>ji,n5z:()=>ee,Ikx:()=>Wh,SDv:()=>hT,LFG:()=>Fn,$8M:()=>st,$Z:()=>Bf,NdJ:()=>Km,CRH:()=>UT,kcU:()=>tf,O4$:()=>Sc,oxw:()=>Vh,ALo:()=>nb,lcZ:()=>EI,xi3:()=>rb,Hsn:()=>O1,F$t:()=>Ig,Q6J:()=>Dd,s9C:()=>Eg,MGl:()=>Hh,VKq:()=>vI,WLB:()=>tb,kEZ:()=>ST,iGM:()=>kg,MAs:()=>Ph,KtG:()=>Xh,Jf7:()=>a1,CHM:()=>Du,uOi:()=>nl,LSH:()=>eh,P3R:()=>py,YNc:()=>Rh,W1O:()=>_b,_uU:()=>zt,Oqu:()=>Nn,hij:()=>wn,lnq:()=>ir,Gf:()=>mb});var b=K(8645),ne=K(7394),u=K(5592),be=K(3019),ue=K(5619),fe=K(2096),Te=K(4829),He=K(305),Oe=K(9360);function ae(r={}){const{connector:s=(()=>new b.x),resetOnError:a=!0,resetOnComplete:h=!0,resetOnRefCountZero:g=!0}=r;return y=>{let I,C,P,z=0,ie=!1,me=!1;const Pe=()=>{C?.unsubscribe(),C=void 0},Le=()=>{Pe(),I=P=void 0,ie=me=!1},pt=()=>{const xt=I;Le(),xt?.unsubscribe()};return(0,Oe.e)((xt,tn)=>{z++,!me&&!ie&&Pe();const En=P=P??s();tn.add(()=>{z--,0===z&&!me&&!ie&&(C=de(pt,g))}),En.subscribe(tn),!I&&z>0&&(I=new He.Hp({next:bt=>En.next(bt),error:bt=>{me=!0,Pe(),C=de(Le,a,bt),En.error(bt)},complete:()=>{ie=!0,Pe(),C=de(Le,h),En.complete()}}),(0,Te.Xf)(xt).subscribe(I))})(y)}}function de(r,s,...a){if(!0===s)return void r();if(!1===s)return;const h=new He.Hp({next:()=>{h.unsubscribe(),r()}});return(0,Te.Xf)(s(...a)).subscribe(h)}var Me=K(4664),Se=K(3997);function xe(r){for(let s in r)if(r[s]===xe)return s;throw Error("Could not find renamed property on target object.")}function qe(r,s){for(const a in s)s.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=s[a])}function It(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(It).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Pt(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const Ot=xe({__forward_ref__:xe});function Dn(r){return r.__forward_ref__=Dn,r.toString=function(){return It(this())},r}function At(r){return ft(r)?r():r}function ft(r){return"function"==typeof r&&r.hasOwnProperty(Ot)&&r.__forward_ref__===Dn}function ot(r){return r&&!!r.\u0275providers}const yt="https://g.co/ng/security#xss";class je extends Error{constructor(s,a){super(function we(r,s){return`NG0${Math.abs(r)}${s?": "+s:""}`}(s,a)),this.code=s}}function Xe(r){return"string"==typeof r?r:null==r?"":String(r)}function Cn(r,s){throw new je(-201,!1)}function Ct(r,s,a,h){throw new Error(`ASSERTION ERROR: ${r}`+(null==h?"":` [Expected=> ${a} ${h} ${s} <=Actual]`))}function Ae(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Ze(r){return{providers:r.providers||[],imports:r.imports||[]}}function ut(r){return Rt(r,Tn)||Rt(r,cn)}function gt(r){return null!==ut(r)}function Rt(r,s){return r.hasOwnProperty(s)?r[s]:null}function hn(r){return r&&(r.hasOwnProperty(Kt)||r.hasOwnProperty(fr))?r[Kt]:null}const Tn=xe({\u0275prov:xe}),Kt=xe({\u0275inj:xe}),cn=xe({ngInjectableDef:xe}),fr=xe({ngInjectorDef:xe});var Jt=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(Jt||{});let Ir;function Er(){return Ir}function yn(r){const s=Ir;return Ir=r,s}function cr(r,s,a){const h=ut(r);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:a&Jt.Optional?null:void 0!==s?s:void Cn(It(r))}const or=globalThis;class qt{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Ae({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const B={},G="__NG_DI_FLAG__",q="ngTempTokenPath",Ie=/\n/gm,Tt="__source";let sn;function kn(r){const s=sn;return sn=r,s}function Zt(r,s=Jt.Default){if(void 0===sn)throw new je(-203,!1);return null===sn?cr(r,void 0,s):sn.get(r,s&Jt.Optional?null:void 0,s)}function Fn(r,s=Jt.Default){return(Er()||Zt)(At(r),s)}function Kn(r,s=Jt.Default){return Fn(r,xs(s))}function xs(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function Jo(r){const s=[];for(let a=0;a<r.length;a++){const h=At(r[a]);if(Array.isArray(h)){if(0===h.length)throw new je(900,!1);let g,y=Jt.Default;for(let I=0;I<h.length;I++){const C=h[I],P=ga(C);"number"==typeof P?-1===P?g=C.token:y|=P:g=C}s.push(Fn(g,y))}else s.push(Fn(h))}return s}function ni(r,s){return r[G]=s,r.prototype[G]=s,r}function ga(r){return r[G]}function Ii(r){return{toString:r}.toString()}var Rs=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(Rs||{}),os=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(os||{});const as={},Jn=[],Xo=xe({\u0275cmp:xe}),ea=xe({\u0275dir:xe}),ta=xe({\u0275pipe:xe}),Va=xe({\u0275mod:xe}),fs=xe({\u0275fac:xe}),Ps=xe({__NG_ELEMENT_ID__:xe}),ri=xe({__NG_ENV_ID__:xe});function bs(r,s,a){let h=r.length;for(;;){const g=r.indexOf(s,a);if(-1===g)return g;if(0===g||r.charCodeAt(g-1)<=32){const y=s.length;if(g+y===h||r.charCodeAt(g+y)<=32)return g}a=g+1}}function zi(r,s,a){let h=0;for(;h<a.length;){const g=a[h];if("number"==typeof g){if(0!==g)break;h++;const y=a[h++],I=a[h++],C=a[h++];r.setAttribute(s,I,C,y)}else{const y=g,I=a[++h];uo(y)?r.setProperty(s,y,I):r.setAttribute(s,y,I),h++}}return h}function na(r){return 3===r||4===r||6===r}function uo(r){return 64===r.charCodeAt(0)}function _a(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let a=-1;for(let h=0;h<s.length;h++){const g=s[h];"number"==typeof g?a=g:0===a||Ei(r,a,g,null,-1===a||2===a?s[++h]:null)}}return r}function Ei(r,s,a,h,g){let y=0,I=r.length;if(-1===s)I=-1;else for(;y<r.length;){const C=r[y++];if("number"==typeof C){if(C===s){I=-1;break}if(C>s){I=y-1;break}}}for(;y<r.length;){const C=r[y];if("number"==typeof C)break;if(C===a){if(null===h)return void(null!==g&&(r[y+1]=g));if(h===r[y+1])return void(r[y+2]=g)}y++,null!==h&&y++,null!==g&&y++}-1!==I&&(r.splice(I,0,s),y=I+1),r.splice(y++,0,a),null!==h&&r.splice(y++,0,h),null!==g&&r.splice(y++,0,g)}const ya="ng-template";function ks(r,s,a){let h=0,g=!0;for(;h<r.length;){let y=r[h++];if("string"==typeof y&&g){const I=r[h++];if(a&&"class"===y&&-1!==bs(I.toLowerCase(),s,0))return!0}else{if(1===y){for(;h<r.length&&"string"==typeof(y=r[h++]);)if(y.toLowerCase()===s)return!0;return!1}"number"==typeof y&&(g=!1)}}return!1}function ho(r){return 4===r.type&&r.value!==ya}function Fs(r,s,a){return s===(4!==r.type||a?r.value:ya)}function va(r,s,a){let h=4;const g=r.attrs||[],y=function $l(r){for(let s=0;s<r.length;s++)if(na(r[s]))return s;return r.length}(g);let I=!1;for(let C=0;C<s.length;C++){const P=s[C];if("number"!=typeof P){if(!I)if(4&h){if(h=2|1&h,""!==P&&!Fs(r,P,a)||""===P&&1===s.length){if(jr(h))return!1;I=!0}}else{const z=8&h?P:s[++C];if(8&h&&null!==r.attrs){if(!ks(r.attrs,z,a)){if(jr(h))return!1;I=!0}continue}const me=xo(8&h?"class":P,g,ho(r),a);if(-1===me){if(jr(h))return!1;I=!0;continue}if(""!==z){let Pe;Pe=me>y?"":g[me+1].toLowerCase();const Le=8&h?Pe:null;if(Le&&-1!==bs(Le,z,0)||2&h&&z!==Pe){if(jr(h))return!1;I=!0}}}}else{if(!I&&!jr(h)&&!jr(P))return!1;if(I&&jr(P))continue;I=!1,h=P|1&h}}return jr(h)||I}function jr(r){return 0==(1&r)}function xo(r,s,a,h){if(null===s)return-1;let g=0;if(h||!a){let y=!1;for(;g<s.length;){const I=s[g];if(I===r)return g;if(3===I||6===I)y=!0;else{if(1===I||2===I){let C=s[++g];for(;"string"==typeof C;)C=s[++g];continue}if(4===I)break;if(0===I){g+=4;continue}}g+=y?1:2}return-1}return function cs(r,s){let a=r.indexOf(4);if(a>-1)for(a++;a<r.length;){const h=r[a];if("number"==typeof h)return-1;if(h===s)return a;a++}return-1}(s,r)}function ws(r,s,a=!1){for(let h=0;h<s.length;h++)if(va(r,s[h],a))return!0;return!1}function ul(r,s){e:for(let a=0;a<s.length;a++){const h=s[a];if(r.length===h.length){for(let g=0;g<r.length;g++)if(r[g]!==h[g])continue e;return!0}}return!1}function Kr(r,s){return r?":not("+s.trim()+")":s}function Vc(r){let s=r[0],a=1,h=2,g="",y=!1;for(;a<r.length;){let I=r[a];if("string"==typeof I)if(2&h){const C=r[++a];g+="["+I+(C.length>0?'="'+C+'"':"")+"]"}else 8&h?g+="."+I:4&h&&(g+=" "+I);else""!==g&&!jr(I)&&(s+=Kr(y,g),g=""),h=I,y=y||!jr(h);a++}return""!==g&&(s+=Kr(y,g)),s}function Po(r){return Ii(()=>{const s=Is(r),a={...s,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===Rs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||os.Emulated,styles:r.styles||Jn,_:null,schemas:r.schemas||null,tView:null,id:""};ba(a);const h=r.dependencies;return a.directiveDefs=Ti(h,!1),a.pipeDefs=Ti(h,!0),a.id=function Di(r){let s=0;const a=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const g of a)s=Math.imul(31,s)+g.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(a),a})}function ps(r){return Xn(r)||ui(r)}function dl(r){return null!==r}function Ys(r){return Ii(()=>({type:r.type,bootstrap:r.bootstrap||Jn,declarations:r.declarations||Jn,imports:r.imports||Jn,exports:r.exports||Jn,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function sa(r,s){if(null==r)return as;const a={};for(const h in r)if(r.hasOwnProperty(h)){let g=r[h],y=g;Array.isArray(g)&&(y=g[1],g=g[0]),a[g]=h,s&&(s[g]=y)}return a}function li(r){return Ii(()=>{const s=Is(r);return ba(s),s})}function fo(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function Xn(r){return r[Xo]||null}function ui(r){return r[ea]||null}function Fi(r){return r[ta]||null}function ls(r){const s=Xn(r)||ui(r)||Fi(r);return null!==s&&s.standalone}function Ur(r,s){const a=r[Va]||null;if(!a&&!0===s)throw new Error(`Type ${It(r)} does not have '\u0275mod' property.`);return a}function Is(r){const s={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:r.inputs||as,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||Jn,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:sa(r.inputs,s),outputs:sa(r.outputs)}}function ba(r){r.features?.forEach(s=>s(r))}function Ti(r,s){if(!r)return null;const a=s?Fi:ps;return()=>("function"==typeof r?r():r).map(h=>a(h)).filter(dl)}const Tr=0,Vt=1,Mn=2,Mr=3,gi=4,po=5,Yr=6,nr=7,er=8,Sr=9,Ji=10,Ln=11,ko=12,go=13,Ls=14,qr=15,Xi=16,Us=17,di=18,oa=19,oc=20,Qs=21,Wi=22,mo=23,Fo=24,Hn=25,_o=1,Ci=2,yi=7,wa=9,Si=11;function hi(r){return Array.isArray(r)&&"object"==typeof r[_o]}function Li(r){return Array.isArray(r)&&!0===r[_o]}function aa(r){return 0!=(4&r.flags)}function Bs(r){return r.componentOffset>-1}function Vs(r){return 1==(1&r.flags)}function Ui(r){return!!r.template}function Ai(r){return 0!=(512&r[Mn])}function ja(r,s){return r.hasOwnProperty(fs)?r[fs]:null}const gs=Symbol("SIGNAL");function $a(r,s){return(null===r||"object"!=typeof r)&&Object.is(r,s)}let Oi=null,Ta=!1;function Bi(r){const s=Oi;return Oi=r,s}const Uo={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function za(r){if(Ta)throw new Error("");if(null===Oi)return;const s=Oi.nextProducerIndex++;ds(Oi),s<Oi.producerNode.length&&Oi.producerNode[s]!==r&&Hi(Oi)&&Ts(Oi.producerNode[s],Oi.producerIndexOfThis[s]),Oi.producerNode[s]!==r&&(Oi.producerNode[s]=r,Oi.producerIndexOfThis[s]=Hi(Oi)?Mi(r,Oi,s):0),Oi.producerLastReadVersion[s]=r.version}function Vi(r){if(!Hi(r)||r.dirty){if(!r.producerMustRecompute(r)&&!Bo(r))return void(r.dirty=!1);r.producerRecomputeValue(r),r.dirty=!1}}function zl(r){if(void 0===r.liveConsumerNode)return;const s=Ta;Ta=!0;try{for(const a of r.liveConsumerNode)a.dirty||kd(a)}finally{Ta=s}}function ac(){return!1!==Oi?.consumerAllowSignalWrites}function kd(r){r.dirty=!0,zl(r),r.consumerMarkedDirty?.(r)}function Es(r){return r&&(r.nextProducerIndex=0),Bi(r)}function eo(r,s){if(Bi(s),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(Hi(r))for(let a=r.nextProducerIndex;a<r.producerNode.length;a++)Ts(r.producerNode[a],r.producerIndexOfThis[a]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function Bo(r){ds(r);for(let s=0;s<r.producerNode.length;s++){const a=r.producerNode[s],h=r.producerLastReadVersion[s];if(h!==a.version||(Vi(a),h!==a.version))return!0}return!1}function $c(r){if(ds(r),Hi(r))for(let s=0;s<r.producerNode.length;s++)Ts(r.producerNode[s],r.producerIndexOfThis[s]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function Mi(r,s,a){if(Vo(r),ds(r),0===r.liveConsumerNode.length)for(let h=0;h<r.producerNode.length;h++)r.producerIndexOfThis[h]=Mi(r.producerNode[h],r,h);return r.liveConsumerIndexOfThis.push(a),r.liveConsumerNode.push(s)-1}function Ts(r,s){if(Vo(r),ds(r),1===r.liveConsumerNode.length)for(let h=0;h<r.producerNode.length;h++)Ts(r.producerNode[h],r.producerIndexOfThis[h]);const a=r.liveConsumerNode.length-1;if(r.liveConsumerNode[s]=r.liveConsumerNode[a],r.liveConsumerIndexOfThis[s]=r.liveConsumerIndexOfThis[a],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,s<r.liveConsumerNode.length){const h=r.liveConsumerIndexOfThis[s],g=r.liveConsumerNode[s];ds(g),g.producerIndexOfThis[h]=s}}function Hi(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function ds(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}function Vo(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}function cc(r,s){const a=Object.create(wu);a.computation=r,s?.equal&&(a.equal=s.equal);const h=()=>{if(Vi(a),za(a),a.value===zc)throw a.error;return a.value};return h[gs]=a,h}const la=Symbol("UNSET"),ua=Symbol("COMPUTING"),zc=Symbol("ERRORED"),wu=(()=>({...Uo,value:la,dirty:!0,error:null,equal:$a,producerMustRecompute:r=>r.value===la||r.value===ua,producerRecomputeValue(r){if(r.value===ua)throw new Error("Detected cycle in computations.");const s=r.value;r.value=ua;const a=Es(r);let h;try{h=r.computation()}catch(g){h=zc,r.error=g}finally{eo(r,a)}s!==la&&s!==zc&&h!==zc&&r.equal(s,h)?r.value=s:(r.value=h,r.version++)}}))();let Cc=function lc(){throw new Error};function Ho(){Cc()}let M=null;function re(r,s){const a=Object.create(X);function h(){return za(a),a.value}return a.value=r,s?.equal&&(a.equal=s.equal),h.set=tt,h.update=mt,h.mutate=vn,h.asReadonly=Dr,h[gs]=a,h}const X=(()=>({...Uo,equal:$a,readonlyFn:void 0}))();function ve(r){r.version++,zl(r),M?.()}function tt(r){const s=this[gs];ac()||Ho(),s.equal(s.value,r)||(s.value=r,ve(s))}function mt(r){ac()||Ho(),tt.call(this,r(this[gs].value))}function vn(r){const s=this[gs];ac()||Ho(),r(s.value),ve(s)}function Dr(){const r=this[gs];if(void 0===r.readonlyFn){const s=()=>this();s[gs]=r,r.readonlyFn=s}return r.readonlyFn}function Nr(r){const s=Bi(null);try{return r()}finally{Bi(s)}}const Gn=()=>{},_r=(()=>({...Uo,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{r.schedule(r.ref)},hasRun:!1,cleanupFn:Gn}))();class Vr{constructor(s,a,h){this.previousValue=s,this.currentValue=a,this.firstChange=h}isFirstChange(){return this.firstChange}}function es(){return ts}function ts(r){return r.type.prototype.ngOnChanges&&(r.setInput=ms),Gi}function Gi(){const r=to(this),s=r?.current;if(s){const a=r.previous;if(a===as)r.previous=s;else for(let h in s)a[h]=s[h];r.current=null,this.ngOnChanges(s)}}function ms(r,s,a,h){const g=this.declaredInputs[a],y=to(r)||function jo(r,s){return r[Go]=s}(r,{previous:as,current:null}),I=y.current||(y.current={}),C=y.previous,P=C[g];I[g]=new Vr(P&&P.currentValue,s,C===as),r[h]=s}es.ngInherit=!0;const Go="__ngSimpleChanges__";function to(r){return r[Go]||null}const fi=function(r,s,a){},ml="svg";function Jr(r){for(;Array.isArray(r);)r=r[Tr];return r}function _l(r,s){return Jr(s[r])}function Zr(r,s){return Jr(s[r.index])}function Iu(r,s){return r.data[s]}function Wa(r,s){return r[s]}function xi(r,s){const a=s[r];return hi(a)?a:a[Tr]}function Da(r,s){return null==s?null:r[s]}function Tu(r){r[Us]=0}function rd(r){1024&r[Mn]||(r[Mn]|=1024,vl(r,1))}function Xr(r){1024&r[Mn]&&(r[Mn]&=-1025,vl(r,-1))}function vl(r,s){let a=r[Mr];if(null===a)return;a[po]+=s;let h=a;for(a=a[Mr];null!==a&&(1===s&&1===h[po]||-1===s&&0===h[po]);)a[po]+=s,h=a,a=a[Mr]}function qa(r,s){if(256==(256&r[Mn]))throw new je(911,!1);null===r[Qs]&&(r[Qs]=[]),r[Qs].push(s)}const Sn={lFrame:jt(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function bl(){return Sn.bindingsEnabled}function uc(){return null!==Sn.skipHydrationRootTNode}function ht(){return Sn.lFrame.lView}function yr(){return Sn.lFrame.tView}function Du(r){return Sn.lFrame.contextLView=r,r[er]}function Xh(r){return Sn.lFrame.contextLView=null,r}function Ki(){let r=Ud();for(;null!==r&&64===r.type;)r=r.parent;return r}function Ud(){return Sn.lFrame.currentTNode}function wl(){const r=Sn.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}function vo(r,s){const a=Sn.lFrame;a.currentTNode=r,a.isParent=s}function Cu(){return Sn.lFrame.isParent}function dc(){Sn.lFrame.isParent=!1}function _s(){const r=Sn.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function $o(){return Sn.lFrame.bindingIndex++}function Sa(r){const s=Sn.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,a}function ql(r){Sn.lFrame.inI18n=r}function ef(r,s){const a=Sn.lFrame;a.bindingIndex=a.bindingRootIndex=r,R(s)}function R(r){Sn.lFrame.currentDirectiveIndex=r}function k(){return Sn.lFrame.currentQueryIndex}function j(r){Sn.lFrame.currentQueryIndex=r}function oe(r){const s=r[Vt];return 2===s.type?s.declTNode:1===s.type?r[Yr]:null}function _e(r,s,a){if(a&Jt.SkipSelf){let g=s,y=r;for(;!(g=g.parent,null!==g||a&Jt.Host||(g=oe(y),null===g||(y=y[Ls],10&g.type))););if(null===g)return!1;s=g,r=y}const h=Sn.lFrame=ze();return h.currentTNode=s,h.lView=r,!0}function Ye(r){const s=ze(),a=r[Vt];Sn.lFrame=s,s.currentTNode=a.firstChild,s.lView=r,s.tView=a,s.contextLView=r,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function ze(){const r=Sn.lFrame,s=null===r?null:r.child;return null===s?jt(r):s}function jt(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function Qn(){const r=Sn.lFrame;return Sn.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Hr=Qn;function ar(){const r=Qn();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function $r(){return Sn.lFrame.selectedIndex}function Ka(r){Sn.lFrame.selectedIndex=r}function pr(){const r=Sn.lFrame;return Iu(r.tView,r.selectedIndex)}function Sc(){Sn.lFrame.currentNamespace=ml}function tf(){!function Aa(){Sn.lFrame.currentNamespace=null}()}let nf=!0;function yp(){return nf}function Kc(r){nf=r}function Nu(r,s){for(let a=s.directiveStart,h=s.directiveEnd;a<h;a++){const y=r.data[a].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:C,ngAfterViewInit:P,ngAfterViewChecked:z,ngOnDestroy:ie}=y;I&&(r.contentHooks??=[]).push(-a,I),C&&((r.contentHooks??=[]).push(a,C),(r.contentCheckHooks??=[]).push(a,C)),P&&(r.viewHooks??=[]).push(-a,P),z&&((r.viewHooks??=[]).push(a,z),(r.viewCheckHooks??=[]).push(a,z)),null!=ie&&(r.destroyHooks??=[]).push(a,ie)}}function Yc(r,s,a){Ou(r,s,3,a)}function Il(r,s,a,h){(3&r[Mn])===a&&Ou(r,s,a,h)}function Bd(r,s){let a=r[Mn];(3&a)===s&&(a&=8191,a+=1,r[Mn]=a)}function Ou(r,s,a,h){const y=h??-1,I=s.length-1;let C=0;for(let P=void 0!==h?65535&r[Us]:0;P<I;P++)if("number"==typeof s[P+1]){if(C=s[P],null!=h&&C>=h)break}else s[P]<0&&(r[Us]+=65536),(C<y||-1==y)&&(hc(r,a,s,P),r[Us]=(4294901760&r[Us])+P+2),P++}function Vd(r,s){fi(4,r,s);const a=Bi(null);try{s.call(r)}finally{Bi(a),fi(5,r,s)}}function hc(r,s,a,h){const g=a[h]<0,y=a[h+1],C=r[g?-a[h]:a[h]];g?r[Mn]>>13<r[Us]>>16&&(3&r[Mn])===s&&(r[Mn]+=8192,Vd(C,y)):Vd(C,y)}const El=-1;class ud{constructor(s,a,h){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=h}}function Yl(r){return r!==El}function Ql(r){return 32767&r}function Qc(r,s){let a=function Gd(r){return r>>16}(r),h=s;for(;a>0;)h=h[Ls],a--;return h}let Mu=!0;function Ac(r){const s=Mu;return Mu=r,s}const Jl=255,xu=5;let Tl=0;const wo={};function dd(r,s){const a=cf(r,s);if(-1!==a)return a;const h=s[Vt];h.firstCreatePass&&(r.injectorIndex=s.length,Pu(h.data,r),Pu(s,null),Pu(h.blueprint,null));const g=jd(r,s),y=r.injectorIndex;if(Yl(g)){const I=Ql(g),C=Qc(g,s),P=C[Vt].data;for(let z=0;z<8;z++)s[y+z]=C[I+z]|P[I+z]}return s[y+8]=g,y}function Pu(r,s){r.push(0,0,0,0,0,0,0,0,s)}function cf(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function jd(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let a=0,h=null,g=s;for(;null!==g;){if(h=Fe(g),null===h)return El;if(a++,g=g[Ls],-1!==h.injectorIndex)return h.injectorIndex|a<<16}return El}function hd(r,s,a){!function Ru(r,s,a){let h;"string"==typeof a?h=a.charCodeAt(0)||0:a.hasOwnProperty(Ps)&&(h=a[Ps]),null==h&&(h=a[Ps]=Tl++);const g=h&Jl;s.data[r+(g>>xu)]|=1<<g}(r,s,a)}function lf(r,s,a){if(a&Jt.Optional||void 0!==r)return r;Cn()}function uf(r,s,a,h){if(a&Jt.Optional&&void 0===h&&(h=null),!(a&(Jt.Self|Jt.Host))){const g=r[Sr],y=yn(void 0);try{return g?g.get(s,h,a&Jt.Optional):cr(s,h,a&Jt.Optional)}finally{yn(y)}}return lf(h,0,a)}function Xl(r,s,a,h=Jt.Default,g){if(null!==r){if(2048&s[Mn]&&!(h&Jt.Self)){const I=function Re(r,s,a,h,g){let y=r,I=s;for(;null!==y&&null!==I&&2048&I[Mn]&&!(512&I[Mn]);){const C=Dl(y,I,a,h|Jt.Self,wo);if(C!==wo)return C;let P=y.parent;if(!P){const z=I[oc];if(z){const ie=z.get(a,wo,h);if(ie!==wo)return ie}P=Fe(I),I=I[Ls]}y=P}return g}(r,s,a,h,wo);if(I!==wo)return I}const y=Dl(r,s,a,h,wo);if(y!==wo)return y}return uf(s,a,h,g)}function Dl(r,s,a,h,g){const y=function df(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(Ps)?r[Ps]:void 0;return"number"==typeof s?s>=0?s&Jl:L:s}(a);if("function"==typeof y){if(!_e(s,r,h))return h&Jt.Host?lf(g,0,h):uf(s,a,h,g);try{let I;if(I=y(h),null!=I||h&Jt.Optional)return I;Cn()}finally{Hr()}}else if("number"==typeof y){let I=null,C=cf(r,s),P=El,z=h&Jt.Host?s[qr][Yr]:null;for((-1===C||h&Jt.SkipSelf)&&(P=-1===C?jd(r,s):s[C+8],P!==El&&ku(h,!1)?(I=s[Vt],C=Ql(P),s=Qc(P,s)):C=-1);-1!==C;){const ie=s[Vt];if($d(y,C,ie.data)){const me=wp(C,s,a,I,h,z);if(me!==wo)return me}P=s[C+8],P!==El&&ku(h,s[Vt].data[C+8]===z)&&$d(y,C,s)?(I=ie,C=Ql(P),s=Qc(P,s)):C=-1}}return g}function wp(r,s,a,h,g,y){const I=s[Vt],C=I.data[r+8],ie=Na(C,I,a,null==h?Bs(C)&&Mu:h!=I&&0!=(3&C.type),g&Jt.Host&&y===C);return null!==ie?Cl(s,I,ie,C):wo}function Na(r,s,a,h,g){const y=r.providerIndexes,I=s.data,C=1048575&y,P=r.directiveStart,ie=y>>20,Pe=g?C+ie:r.directiveEnd;for(let Le=h?C:C+ie;Le<Pe;Le++){const pt=I[Le];if(Le<P&&a===pt||Le>=P&&pt.type===a)return Le}if(g){const Le=I[P];if(Le&&Ui(Le)&&Le.type===a)return P}return null}function Cl(r,s,a,h){let g=r[a];const y=s.data;if(function rf(r){return r instanceof ud}(g)){const I=g;I.resolving&&function Pn(r,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new je(-200,`Circular dependency in DI detected for ${r}${a}`)}(function _t(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Xe(r)}(y[a]));const C=Ac(I.canSeeViewProviders);I.resolving=!0;const z=I.injectImpl?yn(I.injectImpl):null;_e(r,h,Jt.Default);try{g=r[a]=I.factory(void 0,y,r,h),s.firstCreatePass&&a>=h.directiveStart&&function $g(r,s,a){const{ngOnChanges:h,ngOnInit:g,ngDoCheck:y}=s.type.prototype;if(h){const I=ts(s);(a.preOrderHooks??=[]).push(r,I),(a.preOrderCheckHooks??=[]).push(r,I)}g&&(a.preOrderHooks??=[]).push(0-r,g),y&&((a.preOrderHooks??=[]).push(r,y),(a.preOrderCheckHooks??=[]).push(r,y))}(a,y[a],s)}finally{null!==z&&yn(z),Ac(C),I.resolving=!1,Hr()}}return g}function $d(r,s,a){return!!(a[s+(r>>xu)]&1<<r)}function ku(r,s){return!(r&Jt.Self||r&Jt.Host&&s)}class O{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,h){return Xl(this._tNode,this._lView,s,xs(h),a)}}function L(){return new O(Ki(),ht())}function ee(r){return Ii(()=>{const s=r.prototype.constructor,a=s[fs]||ge(s),h=Object.prototype;let g=Object.getPrototypeOf(r.prototype).constructor;for(;g&&g!==h;){const y=g[fs]||ge(g);if(y&&y!==a)return y;g=Object.getPrototypeOf(g)}return y=>new y})}function ge(r){return ft(r)?()=>{const s=ge(At(r));return s&&s()}:ja(r)}function Fe(r){const s=r[Vt],a=s.type;return 2===a?s.declTNode:1===a?r[Yr]:null}function st(r){return function Nc(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const a=r.attrs;if(a){const h=a.length;let g=0;for(;g<h;){const y=a[g];if(na(y))break;if(0===y)g+=2;else if("number"==typeof y)for(g++;g<h&&"string"==typeof a[g];)g++;else{if(y===s)return a[g+1];g+=2}}}return null}(Ki(),r)}const Lt="__parameters__";function Gs(r,s,a){return Ii(()=>{const h=function Zn(r){return function(...a){if(r){const h=r(...a);for(const g in h)this[g]=h[g]}}}(s);function g(...y){if(this instanceof g)return h.apply(this,y),this;const I=new g(...y);return C.annotation=I,C;function C(P,z,ie){const me=P.hasOwnProperty(Lt)?P[Lt]:Object.defineProperty(P,Lt,{value:[]})[Lt];for(;me.length<=ie;)me.push(null);return(me[ie]=me[ie]||[]).push(I),P}}return a&&(g.prototype=Object.create(a.prototype)),g.prototype.ngMetadataName=r,g.annotationCls=g,g})}function Wd(r,s){r.forEach(a=>Array.isArray(a)?Wd(a,s):s(a))}function qd(r,s,a){s>=r.length?r.push(a):r.splice(s,0,a)}function ff(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function Uu(r,s){const a=[];for(let h=0;h<r;h++)a.push(s);return a}function Oa(r,s,a){let h=nu(r,s);return h>=0?r[1|h]=a:(h=~h,function U_(r,s,a,h){let g=r.length;if(g==s)r.push(a,h);else if(1===g)r.push(h,r[0]),r[0]=a;else{for(g--,r.push(r[g-1],r[g]);g>s;)r[g]=r[g-2],g--;r[s]=a,r[s+1]=h}}(r,h,s,a)),h}function Kg(r,s){const a=nu(r,s);if(a>=0)return r[1|a]}function nu(r,s){return function H_(r,s,a){let h=0,g=r.length>>a;for(;g!==h;){const y=h+(g-h>>1),I=r[y<<a];if(s===I)return y<<a;I>s?g=y:h=y+1}return~(g<<a)}(r,s,1)}const Ip=ni(Gs("Inject",r=>({token:r})),-1),Jg=ni(Gs("Optional"),8),ru=ni(Gs("SkipSelf"),4);function y0(r){return 128==(128&r.flags)}var b0=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(b0||{});const FD=/^>|^->|<!--|-->|--!>|<!-$/g,TE=/(<|>)/g,nw="\u200b$1\u200b";const ro=new Map;let Np=0;const q_="__ngContext__";function Ma(r,s){hi(s)?(r[q_]=s[oa],function z_(r){ro.set(r[oa],r)}(s)):r[q_]=s}let Vu;function Mp(r,s){return Vu(r,s)}function xp(r){const s=r[Mr];return Li(s)?s[Mr]:s}function am(r){return Rp(r[ko])}function bf(r){return Rp(r[gi])}function Rp(r){for(;null!==r&&!Li(r);)r=r[gi];return r}function Hu(r,s,a,h,g){if(null!=h){let y,I=!1;Li(h)?y=h:hi(h)&&(I=!0,h=h[Tr]);const C=Jr(h);0===r&&null!==a?null==g?D0(s,a,C):Gu(s,a,C,g||null,!0):1===r&&null!==a?Gu(s,a,C,g||null,!0):2===r?function ry(r,s,a){const h=Yd(r,s);h&&function S0(r,s,a,h){r.removeChild(s,a,h)}(r,h,s,a)}(s,C,I):3===r&&s.destroyNode(C),null!=y&&function CE(r,s,a,h,g){const y=a[yi];y!==Jr(a)&&Hu(s,r,h,y,g);for(let C=Si;C<a.length;C++){const P=a[C];gm(P[Vt],P,r,s,h,y)}}(s,r,y,a,g)}}function wf(r,s){return r.createText(s)}function Pp(r,s){return r.createComment(function w0(r){return r.replace(FD,s=>s.replace(TE,nw))}(s))}function Zd(r,s,a){return r.createElement(s,a)}function Kd(r,s){const a=r[wa],h=a.indexOf(s);Xr(s),a.splice(h,1)}function lm(r,s){if(r.length<=Si)return;const a=Si+s,h=r[a];if(h){const g=h[Xi];null!==g&&g!==r&&Kd(g,h),s>0&&(r[a-1][gi]=h[gi]);const y=ff(r,Si+s);!function E0(r,s){gm(r,s,s[Ln],2,null,null),s[Tr]=null,s[Yr]=null}(h[Vt],h);const I=y[di];null!==I&&I.detachView(y[Vt]),h[Mr]=null,h[gi]=null,h[Mn]&=-129}return h}function kp(r,s){if(!(256&s[Mn])){const a=s[Ln];s[mo]&&$c(s[mo]),s[Fo]&&$c(s[Fo]),a.destroyNode&&gm(r,s,a,3,null,null),function X_(r){let s=r[ko];if(!s)return Fp(r[Vt],r);for(;s;){let a=null;if(hi(s))a=s[ko];else{const h=s[Si];h&&(a=h)}if(!a){for(;s&&!s[gi]&&s!==r;)hi(s)&&Fp(s[Vt],s),s=s[Mr];null===s&&(s=r),hi(s)&&Fp(s[Vt],s),a=s&&s[gi]}s=a}}(s)}}function Fp(r,s){if(!(256&s[Mn])){s[Mn]&=-129,s[Mn]|=256,function ty(r,s){let a;if(null!=r&&null!=(a=r.destroyHooks))for(let h=0;h<a.length;h+=2){const g=s[a[h]];if(!(g instanceof ud)){const y=a[h+1];if(Array.isArray(y))for(let I=0;I<y.length;I+=2){const C=g[y[I]],P=y[I+1];fi(4,C,P);try{P.call(C)}finally{fi(5,C,P)}}else{fi(4,g,y);try{y.call(g)}finally{fi(5,g,y)}}}}}(r,s),function ow(r,s){const a=r.cleanup,h=s[nr];if(null!==a)for(let y=0;y<a.length-1;y+=2)if("string"==typeof a[y]){const I=a[y+3];I>=0?h[I]():h[-I].unsubscribe(),y+=2}else a[y].call(h[a[y+1]]);null!==h&&(s[nr]=null);const g=s[Qs];if(null!==g){s[Qs]=null;for(let y=0;y<g.length;y++)(0,g[y])()}}(r,s),1===s[Vt].type&&s[Ln].destroy();const a=s[Xi];if(null!==a&&Li(s[Mr])){a!==s[Mr]&&Kd(a,s);const h=s[di];null!==h&&h.detachView(r)}!function nm(r){ro.delete(r[oa])}(s)}}function Lp(r,s,a){return um(r,s.parent,a)}function um(r,s,a){let h=s;for(;null!==h&&40&h.type;)h=(s=h).parent;if(null===h)return a[Tr];{const{componentOffset:g}=h;if(g>-1){const{encapsulation:y}=r.data[h.directiveStart+g];if(y===os.None||y===os.Emulated)return null}return Zr(h,a)}}function Gu(r,s,a,h,g){r.insertBefore(s,a,h,g)}function D0(r,s,a){r.appendChild(s,a)}function C0(r,s,a,h,g){null!==h?Gu(r,s,a,h,g):D0(r,s,a)}function Yd(r,s){return r.parentNode(s)}function Up(r,s,a){return Bp(r,s,a)}function hm(r,s,a){return 40&r.type?Zr(r,a):null}let fm,Vp,mc,Gp,Bp=hm;function A0(r,s){Bp=r,fm=s}function pm(r,s,a,h){const g=Lp(r,h,s),y=s[Ln],C=Up(h.parent||s[Yr],h,s);if(null!=g)if(Array.isArray(a))for(let P=0;P<a.length;P++)C0(y,g,a[P],C,!1);else C0(y,g,a,C,!1);void 0!==fm&&fm(y,h,s,a,g)}function ju(r,s){if(null!==s){const a=s.type;if(3&a)return Zr(s,r);if(4&a)return O0(-1,r[s.index]);if(8&a){const h=s.child;if(null!==h)return ju(r,h);{const g=r[s.index];return Li(g)?O0(-1,g):Jr(g)}}if(32&a)return Mp(s,r)()||Jr(r[s.index]);{const h=N0(r,s);return null!==h?Array.isArray(h)?h[0]:ju(xp(r[qr]),h):ju(r,s.next)}}return null}function N0(r,s){return null!==s?r[qr][Yr].projection[s.projection]:null}function O0(r,s){const a=Si+r+1;if(a<s.length){const h=s[a],g=h[Vt].firstChild;if(null!==g)return ju(h,g)}return s[yi]}function M0(r,s,a,h,g,y,I){for(;null!=a;){const C=h[a.index],P=a.type;if(I&&0===s&&(C&&Ma(Jr(C),h),a.flags|=2),32!=(32&a.flags))if(8&P)M0(r,s,a.child,h,g,y,!1),Hu(s,r,g,C,y);else if(32&P){const z=Mp(a,h);let ie;for(;ie=z();)Hu(s,r,g,ie,y);Hu(s,r,g,C,y)}else 16&P?cw(r,s,h,a,g,y):Hu(s,r,g,C,y);a=I?a.projectionNext:a.next}}function gm(r,s,a,h,g,y){M0(a,h,r.firstChild,s,g,y,!1)}function cw(r,s,a,h,g,y){const I=a[qr],P=I[Yr].projection[h.projection];if(Array.isArray(P))for(let z=0;z<P.length;z++)Hu(s,r,g,P[z],y);else{let z=P;const ie=I[Mr];y0(h)&&(z.flags|=128),M0(r,s,z,ie,g,y,!0)}}function sy(r,s,a){""===a?r.removeAttribute(s,"class"):r.setAttribute(s,"class",a)}function x0(r,s,a){const{mergedAttrs:h,classes:g,styles:y}=a;null!==h&&zi(r,s,h),null!==g&&sy(r,s,g),null!==y&&function iy(r,s,a){r.setAttribute(s,"style",a)}(r,s,y)}function Hp(r){return function R0(){if(void 0===Vp&&(Vp=null,or.trustedTypes))try{Vp=or.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Vp}()?.createHTML(r)||r}function ns(r){mc=r}function Qd(){if(void 0!==mc)return mc;if(typeof document<"u")return document;throw new je(210,!1)}function oy(r){return function mm(){if(void 0===Gp&&(Gp=null,or.trustedTypes))try{Gp=or.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Gp}()?.createScriptURL(r)||r}class jp{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${yt})`}}class $p extends jp{getTypeName(){return"HTML"}}class zp extends jp{getTypeName(){return"Style"}}class k0 extends jp{getTypeName(){return"Script"}}class F0 extends jp{getTypeName(){return"URL"}}class ay extends jp{getTypeName(){return"ResourceURL"}}function su(r){return r instanceof jp?r.changingThisBreaksApplicationSecurity:r}function Wp(r,s){const a=function yd(r){return r instanceof jp&&r.getTypeName()||null}(r);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${yt})`)}return a===s}function If(r){return new $p(r)}function qp(r){return new zp(r)}function cy(r){return new k0(r)}function L0(r){return new F0(r)}function ym(r){return new ay(r)}function Jd(r){const s=new NE(r);return function LD(){try{return!!(new window.DOMParser).parseFromString(Hp(""),"text/html")}catch{return!1}}()?new hw(s):s}class hw{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Hp(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class NE{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=Hp(s),a}}const UD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function U0(r){return(r=String(r)).match(UD)?r:"unsafe:"+r}function Xd(r){const s={};for(const a of r.split(","))s[a]=!0;return s}function ly(...r){const s={};for(const a of r)for(const h in a)a.hasOwnProperty(h)&&(s[h]=!0);return s}const fw=Xd("area,br,col,hr,img,wbr"),Al=Xd("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nn=Xd("rp,rt"),Ef=ly(fw,ly(Al,Xd("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ly(nn,Xd("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ly(nn,Al)),V0=Xd("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),uy=ly(V0,Xd("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xd("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),mw=Xd("script,style,template");class Qa{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,h=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?h=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,h&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let g=this.checkClobberedElement(a,a.nextSibling);if(g){a=g;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!Ef.hasOwnProperty(a))return this.sanitizedSomething=!0,!mw.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const h=s.attributes;for(let g=0;g<h.length;g++){const y=h.item(g),I=y.name,C=I.toLowerCase();if(!uy.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let P=y.value;V0[C]&&(P=U0(P)),this.buf.push(" ",I,'="',tl(P),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();Ef.hasOwnProperty(a)&&!fw.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(tl(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const Zp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Eo=/([^\#-~ |!])/g;function tl(r){return r.replace(/&/g,"&amp;").replace(Zp,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Eo,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let vm;function Tf(r,s){let a=null;try{vm=vm||Jd(r);let h=s?String(s):"";a=vm.getInertBodyElement(h);let g=5,y=h;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,h=y,y=a.innerHTML,a=vm.getInertBodyElement(h)}while(h!==y);return Hp((new Qa).sanitizeChildren(bm(a)||a))}finally{if(a){const h=bm(a)||a;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function bm(r){return"content"in r&&function dy(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Pi=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(Pi||{});function eh(r){const s=Yp();return s?s.sanitize(Pi.URL,r)||"":Wp(r,"URL")?su(r):U0(Xe(r))}function nl(r){const s=Yp();if(s)return oy(s.sanitize(Pi.RESOURCE_URL,r)||"");if(Wp(r,"ResourceURL"))return oy(su(r));throw new je(904,!1)}function py(r,s,a){return function Df(r,s){return"src"===s&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===s&&("base"===r||"link"===r)?nl:eh}(s,a)(r)}function Yp(){const r=ht();return r&&r[Ji].sanitizer}const th=new qt("ENVIRONMENT_INITIALIZER"),wm=new qt("INJECTOR",-1),Qp=new qt("INJECTOR_DEF_TYPES");class Jp{get(s,a=B){if(a===B){const h=new Error(`NullInjectorError: No provider for ${It(s)}!`);throw h.name="NullInjectorError",h}return a}}function gy(...r){return{\u0275providers:nh(0,r),\u0275fromNgModule:!0}}function nh(r,...s){const a=[],h=new Set;let g;const y=I=>{a.push(I)};return Wd(s,I=>{const C=I;Nl(C,y,[],h)&&(g||=[],g.push(C))}),void 0!==g&&rh(g,y),a}function rh(r,s){for(let a=0;a<r.length;a++){const{ngModule:h,providers:g}=r[a];ih(g,y=>{s(y,h)})}}function Nl(r,s,a,h){if(!(r=At(r)))return!1;let g=null,y=hn(r);const I=!y&&Xn(r);if(y||I){if(I&&!I.standalone)return!1;g=r}else{const P=r.ngModule;if(y=hn(P),!y)return!1;g=P}const C=h.has(g);if(I){if(C)return!1;if(h.add(g),I.dependencies){const P="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const z of P)Nl(z,s,a,h)}}else{if(!y)return!1;{if(null!=y.imports&&!C){let z;h.add(g);try{Wd(y.imports,ie=>{Nl(ie,s,a,h)&&(z||=[],z.push(ie))})}finally{}void 0!==z&&rh(z,s)}if(!C){const z=ja(g)||(()=>new g);s({provide:g,useFactory:z,deps:Jn},g),s({provide:Qp,useValue:g,multi:!0},g),s({provide:th,useValue:()=>Fn(g),multi:!0},g)}const P=y.providers;if(null!=P&&!C){const z=r;ih(P,ie=>{s(ie,z)})}}}return g!==r&&void 0!==r.providers}function ih(r,s){for(let a of r)ot(a)&&(a=a.\u0275providers),Array.isArray(a)?ih(a,s):s(a)}const vw=xe({provide:String,useValue:xe});function my(r){return null!==r&&"object"==typeof r&&vw in r}function Cf(r){return"function"==typeof r}const Im=new qt("Set Injector scope."),Sf={},eg={};let Af;function oh(){return void 0===Af&&(Af=new Jp),Af}class Mc{}class $u extends Mc{get destroyed(){return this._destroyed}constructor(s,a,h,g){super(),this.parent=a,this.source=h,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Tm(s,I=>this.processProvider(I)),this.records.set(wm,ah(void 0,this)),g.has("environment")&&this.records.set(Mc,ah(void 0,this));const y=this.records.get(Im);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(Qp.multi,Jn,Jt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=kn(this),h=yn(void 0);try{return s()}finally{kn(a),yn(h)}}get(s,a=B,h=Jt.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(ri))return s[ri](this);h=xs(h);const y=kn(this),I=yn(void 0);try{if(!(h&Jt.SkipSelf)){let P=this.records.get(s);if(void 0===P){const z=function RE(r){return"function"==typeof r||"object"==typeof r&&r instanceof qt}(s)&&ut(s);P=z&&this.injectableDefInScope(z)?ah(tg(s),Sf):null,this.records.set(s,P)}if(null!=P)return this.hydrate(s,P)}return(h&Jt.Self?oh():this.parent).get(s,a=h&Jt.Optional&&a===B?null:a)}catch(C){if("NullInjectorError"===C.name){if((C[q]=C[q]||[]).unshift(It(s)),y)throw C;return function ma(r,s,a,h){const g=r[q];throw s[Tt]&&g.unshift(s[Tt]),r.message=function lo(r,s,a,h=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let g=It(s);if(Array.isArray(s))g=s.map(It).join(" -> ");else if("object"==typeof s){let y=[];for(let I in s)if(s.hasOwnProperty(I)){let C=s[I];y.push(I+":"+("string"==typeof C?JSON.stringify(C):It(C)))}g=`{${y.join(", ")}}`}return`${a}${h?"("+h+")":""}[${g}]: ${r.replace(Ie,"\n  ")}`}("\n"+r.message,g,a,h),r.ngTokenPath=g,r[q]=null,r}(C,s,"R3InjectorError",this.source)}throw C}finally{yn(I),kn(y)}}resolveInjectorInitializers(){const s=kn(this),a=yn(void 0);try{const g=this.get(th.multi,Jn,Jt.Self);for(const y of g)y()}finally{kn(s),yn(a)}}toString(){const s=[],a=this.records;for(const h of a.keys())s.push(It(h));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new je(205,!1)}processProvider(s){let a=Cf(s=At(s))?s:At(s&&s.provide);const h=function xE(r){return my(r)?ah(void 0,r.useValue):ah(Em(r),Sf)}(s);if(Cf(s)||!0!==s.multi)this.records.get(a);else{let g=this.records.get(a);g||(g=ah(void 0,Sf,!0),g.factory=()=>Jo(g.multi),this.records.set(a,g)),a=s,g.multi.push(s)}this.records.set(a,h)}hydrate(s,a){return a.value===Sf&&(a.value=eg,a.value=a.factory()),"object"==typeof a.value&&a.value&&function ww(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=At(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function tg(r){const s=ut(r),a=null!==s?s.factory:ja(r);if(null!==a)return a;if(r instanceof qt)throw new je(204,!1);if(r instanceof Function)return function bw(r){const s=r.length;if(s>0)throw Uu(s,"?"),new je(204,!1);const a=function mr(r){return r&&(r[Tn]||r[cn])||null}(r);return null!==a?()=>a.factory(r):()=>new r}(r);throw new je(204,!1)}function Em(r,s,a){let h;if(Cf(r)){const g=At(r);return ja(g)||tg(g)}if(my(r))h=()=>At(r.useValue);else if(function _y(r){return!(!r||!r.useFactory)}(r))h=()=>r.useFactory(...Jo(r.deps||[]));else if(function sh(r){return!(!r||!r.useExisting)}(r))h=()=>Fn(At(r.useExisting));else{const g=At(r&&(r.useClass||r.provide));if(!function vy(r){return!!r.deps}(r))return ja(g)||tg(g);h=()=>new g(...Jo(r.deps))}return h}function ah(r,s,a=!1){return{factory:r,value:s,multi:a?[]:void 0}}function Tm(r,s){for(const a of r)Array.isArray(a)?Tm(a,s):a&&ot(a)?Tm(a.\u0275providers,s):s(a)}const by=new qt("AppId",{providedIn:"root",factory:()=>G0}),G0="ng",io=new qt("Platform Initializer"),Wo=new qt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Dm=new qt("AnimationModuleType"),PE=new qt("CSP nonce",{providedIn:"root",factory:()=>Qd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let rg=(r,s,a)=>null;function qu(r,s,a=!1){return rg(r,s,a)}class Sy{}class z0{}class Mm{resolveComponentFactory(s){throw function W0(r){const s=Error(`No component factory found for ${It(r)}.`);return s.ngComponent=r,s}(s)}}let ig=(()=>{class r{static#e=this.NULL=new Mm}return r})();function Z0(){return ch(Ki(),ht())}function ch(r,s){return new Ku(Zr(r,s))}let Ku=(()=>{class r{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=Z0}return r})();function xm(r){return r instanceof Ku?r.nativeElement:r}class K0{}let Aw=(()=>{class r{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Y0(){const r=ht(),a=xi(Ki().index,r);return(hi(a)?a:r)[Ln]}()}return r})(),Ay=(()=>{class r{static#e=this.\u0275prov=Ae({token:r,providedIn:"root",factory:()=>null})}return r})();class Ny{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Q0=new Ny("16.2.12"),Oy={};function Rm(r){if(!Er()&&!function ln(){return sn}())throw new je(-203,!1)}function xy(r,s=null,a=null,h){const g=e1(r,s,a,h);return g.resolveInjectorInitializers(),g}function e1(r,s=null,a=null,h,g=new Set){const y=[a||Jn,gy(r)];return h=h||("object"==typeof r?void 0:It(r)),new $u(y,s||oh(),h||null,g)}let ha=(()=>{class r{static#e=this.THROW_IF_NOT_FOUND=B;static#t=this.NULL=new Jp;static create(a,h){if(Array.isArray(a))return xy({name:""},h,a,"");{const g=a.name??"";return xy({name:g},a.parent,a.providers,g)}}static#n=this.\u0275prov=Ae({token:r,providedIn:"any",factory:()=>Fn(wm)});static#r=this.__NG_ELEMENT_ID__=-1}return r})();function sg(r){return r.ngOriginalError}class Yu{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&sg(s);for(;a&&sg(a);)a=sg(a);return a||null}}let vi=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=og;static#t=this.__NG_ENV_ID__=a=>a}return r})();class km extends vi{constructor(s){super(),this._lView=s}onDestroy(s){return qa(this._lView,s),()=>function pi(r,s){if(null===r[Qs])return;const a=r[Qs].indexOf(s);-1!==a&&r[Qs].splice(a,1)}(this._lView,s)}}function og(){return new km(ht())}function Py(r){return s=>{setTimeout(r,void 0,s)}}const Ol=class ag extends b.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,h){let g=s,y=a||(()=>null),I=h;if(s&&"object"==typeof s){const P=s;g=P.next?.bind(P),y=P.error?.bind(P),I=P.complete?.bind(P)}this.__isAsync&&(y=Py(y),g&&(g=Py(g)),I&&(I=Py(I)));const C=super.subscribe({next:g,error:y,complete:I});return s instanceof ne.w0&&s.add(C),C}};function t1(...r){}class qo{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ol(!1),this.onMicrotaskEmpty=new Ol(!1),this.onStable=new Ol(!1),this.onError=new Ol(!1),typeof Zone>"u")throw new je(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!h&&a,g.shouldCoalesceRunChangeDetection=h,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function xw(){const r="function"==typeof or.requestAnimationFrame;let s=or[r?"requestAnimationFrame":"setTimeout"],a=or[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&a){const h=s[Zone.__symbol__("OriginalDelegate")];h&&(s=h);const g=a[Zone.__symbol__("OriginalDelegate")];g&&(a=g)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function r1(r){const s=()=>{!function n1(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(or,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Fm(r),r.isCheckStableRunning=!0,au(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Fm(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,h,g,y,I,C)=>{if(function o1(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(C))return a.invokeTask(g,y,I,C);try{return dh(r),a.invokeTask(g,y,I,C)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||r.shouldCoalesceRunChangeDetection)&&s(),i1(r)}},onInvoke:(a,h,g,y,I,C,P)=>{try{return dh(r),a.invoke(g,y,I,C,P)}finally{r.shouldCoalesceRunChangeDetection&&s(),i1(r)}},onHasTask:(a,h,g,y)=>{a.hasTask(g,y),h===g&&("microTask"==y.change?(r._hasPendingMicrotasks=y.microTask,Fm(r),au(r)):"macroTask"==y.change&&(r.hasPendingMacrotasks=y.macroTask))},onHandleError:(a,h,g,y)=>(a.handleError(g,y),r.runOutsideAngular(()=>r.onError.emit(y)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qo.isInAngularZone())throw new je(909,!1)}static assertNotInAngularZone(){if(qo.isInAngularZone())throw new je(909,!1)}run(s,a,h){return this._inner.run(s,a,h)}runTask(s,a,h,g){const y=this._inner,I=y.scheduleEventTask("NgZoneEvent: "+g,s,cg,t1,t1);try{return y.runTask(I,a,h)}finally{y.cancelTask(I)}}runGuarded(s,a,h){return this._inner.runGuarded(s,a,h)}runOutsideAngular(s){return this._outer.run(s)}}const cg={};function au(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Fm(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function dh(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function i1(r){r._nesting--,au(r)}class Rw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ol,this.onMicrotaskEmpty=new Ol,this.onStable=new Ol,this.onError=new Ol}run(s,a,h){return s.apply(a,h)}runGuarded(s,a,h){return s.apply(a,h)}runOutsideAngular(s){return s()}runTask(s,a,h,g){return s.apply(a,h)}}const ky=new qt("",{providedIn:"root",factory:s1});function s1(){const r=Kn(qo);let s=!0;const a=new u.y(g=>{s=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{g.next(s),g.complete()})}),h=new u.y(g=>{let y;r.runOutsideAngular(()=>{y=r.onStable.subscribe(()=>{qo.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(s=!0,g.next(!0))})})});const I=r.onUnstable.subscribe(()=>{qo.assertInAngularZone(),s&&(s=!1,r.runOutsideAngular(()=>{g.next(!1)}))});return()=>{y.unsubscribe(),I.unsubscribe()}});return(0,be.T)(a,h.pipe(ae()))}function a1(r){return r.ownerDocument.defaultView}function Ml(r){return r instanceof Function?r():r}let hh=(()=>{class r{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Ae({token:r,providedIn:"root",factory:()=>new r})}return r})();function cu(r){for(;r;){r[Mn]|=64;const s=xp(r);if(Ai(r)&&!s)return r;r=s}return null}const fh=new qt("",{providedIn:"root",factory:()=>!1});let xa=null;function Lf(r,s){return r[s]??vc()}function dg(r,s){const a=vc();a.producerNode?.length&&(r[s]=xa,a.lView=r,xa=Uf())}const jy={...Uo,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{cu(r.lView)},lView:null};function Uf(){return Object.create(jy)}function vc(){return xa??=Uf(),xa}const tr={};function ph(r){hg(yr(),ht(),$r()+r,!1)}function hg(r,s,a,h){if(!h)if(3==(3&s[Mn])){const y=r.preOrderCheckHooks;null!==y&&Yc(s,y,a)}else{const y=r.preOrderHooks;null!==y&&Il(s,y,0,a)}Ka(a)}function xl(r,s=Jt.Default){const a=ht();return null===a?Fn(r,s):Xl(Ki(),a,At(r),s)}function Bf(){throw new Error("invalid")}function Vf(r,s,a,h,g,y,I,C,P,z,ie){const me=s.blueprint.slice();return me[Tr]=g,me[Mn]=140|h,(null!==z||r&&2048&r[Mn])&&(me[Mn]|=2048),Tu(me),me[Mr]=me[Ls]=r,me[er]=a,me[Ji]=I||r&&r[Ji],me[Ln]=C||r&&r[Ln],me[Sr]=P||r&&r[Sr]||null,me[Yr]=y,me[oa]=function rw(){return Np++}(),me[Wi]=ie,me[oc]=z,me[qr]=2==s.type?r[qr]:me,me}function fa(r,s,a,h,g){let y=r.data[s];if(null===y)y=xc(r,s,a,h,g),function cd(){return Sn.lFrame.inI18n}()&&(y.flags|=32);else if(64&y.type){y.type=a,y.value=h,y.attrs=g;const I=wl();y.injectorIndex=null===I?-1:I.injectorIndex}return vo(y,!0),y}function xc(r,s,a,h,g){const y=Ud(),I=Cu(),P=r.data[s]=function Lw(r,s,a,h,g,y){let I=s?s.injectorIndex:-1,C=0;return uc()&&(C|=128),{type:a,index:h,insertBeforeIndex:null,injectorIndex:I,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:g,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?y:y&&y.parent,a,s,h,g);return null===r.firstChild&&(r.firstChild=P),null!==y&&(I?null==y.child&&null!==P.parent&&(y.child=P):null===y.next&&(y.next=P,P.prev=y)),P}function rl(r,s,a,h){if(0===a)return-1;const g=s.length;for(let y=0;y<a;y++)s.push(h),r.blueprint.push(h),r.data.push(null);return g}function bd(r,s,a,h,g){const y=Lf(s,mo),I=$r(),C=2&h;try{Ka(-1),C&&s.length>Hn&&hg(r,s,Hn,!1),fi(C?2:0,g);const z=C?y:null,ie=Es(z);try{null!==z&&(z.dirty=!1),a(h,g)}finally{eo(z,ie)}}finally{C&&null===s[mo]&&dg(s,mo),Ka(I),fi(C?3:1,g)}}function fg(r,s,a){if(aa(s)){const h=Bi(null);try{const y=s.directiveEnd;for(let I=s.directiveStart;I<y;I++){const C=r.data[I];C.contentQueries&&C.contentQueries(1,a[I],I)}}finally{Bi(h)}}}function Hf(r,s,a){bl()&&(function Vm(r,s,a,h){const g=a.directiveStart,y=a.directiveEnd;Bs(a)&&function h1(r,s,a){const h=Zr(s,r),g=mh(a);let I=16;a.signals?I=4096:a.onPush&&(I=64);const C=$m(r,Vf(r,g,null,I,h,s,null,r[Ji].rendererFactory.createRenderer(h,a),null,null,null));r[s.index]=C}(s,a,r.data[g+a.componentOffset]),r.firstCreatePass||dd(a,s),Ma(h,s);const I=a.initialInputs;for(let C=g;C<y;C++){const P=r.data[C],z=Cl(s,r,C,a);Ma(z,s),null!==I&&Wy(0,C-g,z,P,0,I),Ui(P)&&(xi(a.index,s)[er]=Cl(s,r,C,a))}}(r,s,a,Zr(a,s)),64==(64&a.flags)&&zy(r,s,a))}function gh(r,s,a=Zr){const h=s.localNames;if(null!==h){let g=s.index+1;for(let y=0;y<h.length;y+=2){const I=h[y+1],C=-1===I?a(s,r):r[I];r[g++]=C}}}function mh(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=_h(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):s}function _h(r,s,a,h,g,y,I,C,P,z,ie){const me=Hn+h,Pe=me+g,Le=function yh(r,s){const a=[];for(let h=0;h<s;h++)a.push(h<r?null:tr);return a}(me,Pe),pt="function"==typeof z?z():z;return Le[Vt]={type:r,blueprint:Le,template:a,queries:null,viewQuery:C,declTNode:s,data:Le.slice().fill(null,me),bindingStartIndex:me,expandoStartIndex:Pe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:P,consts:pt,incompleteFirstPass:!1,ssrId:ie}}let $y=r=>null;function u1(r,s,a,h){for(let g in r)if(r.hasOwnProperty(g)){a=null===a?{}:a;const y=r[g];null===h?Gf(a,s,g,y):h.hasOwnProperty(g)&&Gf(a,s,h[g],y)}return a}function Gf(r,s,a,h){r.hasOwnProperty(a)?r[a].push(s,h):r[a]=[s,h]}function wc(r,s,a,h,g,y,I,C){const P=Zr(s,a);let ie,z=s.inputs;!C&&null!=z&&(ie=z[h])?(wd(r,a,ie,h,g),Bs(s)&&function si(r,s){const a=xi(s,r);16&a[Mn]||(a[Mn]|=64)}(a,s.index)):3&s.type&&(h=function lu(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(h),g=null!=I?I(g,s.value||"",h):g,y.setProperty(P,h,g))}function il(r,s,a,h){if(bl()){const g=null===h?null:{"":-1},y=function Rc(r,s){const a=r.directiveRegistry;let h=null,g=null;if(a)for(let y=0;y<a.length;y++){const I=a[y];if(ws(s,I.selectors,!1))if(h||(h=[]),Ui(I))if(null!==I.findHostDirectiveDefs){const C=[];g=g||new Map,I.findHostDirectiveDefs(I,C,g),h.unshift(...C,I),To(r,s,C.length)}else h.unshift(I),To(r,s,0);else g=g||new Map,I.findHostDirectiveDefs?.(I,h,g),h.push(I)}return null===h?null:[h,g]}(r,a);let I,C;null===y?I=C=null:[I,C]=y,null!==I&&jf(r,s,a,I,g,C),g&&function Hm(r,s,a){if(s){const h=r.localNames=[];for(let g=0;g<s.length;g+=2){const y=a[s[g+1]];if(null==y)throw new je(-301,!1);h.push(s[g],y)}}}(a,h,g)}a.mergedAttrs=_a(a.mergedAttrs,a.attrs)}function jf(r,s,a,h,g,y){for(let z=0;z<h.length;z++)hd(dd(a,s),r,h[z].type);!function pg(r,s,a){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+a,r.providerIndexes=s}(a,r.data.length,h.length);for(let z=0;z<h.length;z++){const ie=h[z];ie.providersResolver&&ie.providersResolver(ie)}let I=!1,C=!1,P=rl(r,s,h.length,null);for(let z=0;z<h.length;z++){const ie=h[z];a.mergedAttrs=_a(a.mergedAttrs,ie.hostAttrs),jm(r,a,s,P,ie),Gm(P,ie,g),null!==ie.contentQueries&&(a.flags|=4),(null!==ie.hostBindings||null!==ie.hostAttrs||0!==ie.hostVars)&&(a.flags|=64);const me=ie.type.prototype;!I&&(me.ngOnChanges||me.ngOnInit||me.ngDoCheck)&&((r.preOrderHooks??=[]).push(a.index),I=!0),!C&&(me.ngOnChanges||me.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(a.index),C=!0),P++}!function jE(r,s,a){const g=s.directiveEnd,y=r.data,I=s.attrs,C=[];let P=null,z=null;for(let ie=s.directiveStart;ie<g;ie++){const me=y[ie],Pe=a?a.get(me):null,pt=Pe?Pe.outputs:null;P=u1(me.inputs,ie,P,Pe?Pe.inputs:null),z=u1(me.outputs,ie,z,pt);const xt=null===P||null===I||ho(s)?null:Bw(P,ie,I);C.push(xt)}null!==P&&(P.hasOwnProperty("class")&&(s.flags|=8),P.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=C,s.inputs=P,s.outputs=z}(r,a,y)}function zy(r,s,a){const h=a.directiveStart,g=a.directiveEnd,y=a.index,I=function S(){return Sn.lFrame.currentDirectiveIndex}();try{Ka(y);for(let C=h;C<g;C++){const P=r.data[C],z=s[C];R(C),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&Rl(P,z)}}finally{Ka(-1),R(I)}}function Rl(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function To(r,s,a){s.componentOffset=a,(r.components??=[]).push(s.index)}function Gm(r,s,a){if(a){if(s.exportAs)for(let h=0;h<s.exportAs.length;h++)a[s.exportAs[h]]=r;Ui(s)&&(a[""]=r)}}function jm(r,s,a,h,g){r.data[h]=g;const y=g.factory||(g.factory=ja(g.type)),I=new ud(y,Ui(g),xl);r.blueprint[h]=I,a[h]=I,function $f(r,s,a,h,g){const y=g.hostBindings;if(y){let I=r.hostBindingOpCodes;null===I&&(I=r.hostBindingOpCodes=[]);const C=~s.index;(function vh(r){let s=r.length;for(;s>0;){const a=r[--s];if("number"==typeof a&&a<0)return a}return 0})(I)!=C&&I.push(C),I.push(a,h,y)}}(r,s,h,rl(r,a,g.hostVars,tr),g)}function zs(r,s,a,h,g,y){const I=Zr(r,s);!function gg(r,s,a,h,g,y,I){if(null==y)r.removeAttribute(s,g,a);else{const C=null==I?Xe(y):I(y,h||"",g);r.setAttribute(s,g,C,a)}}(s[Ln],I,y,r.value,a,h,g)}function Wy(r,s,a,h,g,y){const I=y[s];if(null!==I)for(let C=0;C<I.length;)bh(h,a,I[C++],I[C++],I[C++])}function bh(r,s,a,h,g){const y=Bi(null);try{const I=r.inputTransforms;null!==I&&I.hasOwnProperty(h)&&(g=I[h].call(s,g)),null!==r.setInput?r.setInput(s,g,a,h):s[h]=g}finally{Bi(y)}}function Bw(r,s,a){let h=null,g=0;for(;g<a.length;){const y=a[g];if(0!==y)if(5!==y){if("number"==typeof y)break;if(r.hasOwnProperty(y)){null===h&&(h=[]);const I=r[y];for(let C=0;C<I.length;C+=2)if(I[C]===s){h.push(y,I[C+1],a[g+1]);break}}g+=2}else g+=2;else g+=4}return h}function f1(r,s,a,h){return[r,!0,!1,s,null,0,h,a,null,null,null]}function qy(r,s){const a=r.contentQueries;if(null!==a)for(let h=0;h<a.length;h+=2){const y=a[h+1];if(-1!==y){const I=r.data[y];j(a[h]),I.contentQueries(2,s[y],y)}}}function $m(r,s){return r[ko]?r[go][gi]=s:r[ko]=s,r[go]=s,s}function zf(r,s,a){j(0);const h=Bi(null);try{s(r,a)}finally{Bi(h)}}function g1(r){return r[nr]||(r[nr]=[])}function uu(r){return r.cleanup||(r.cleanup=[])}function Ss(r,s){const a=r[Sr],h=a?a.get(Yu,null):null;h&&h.handleError(s)}function wd(r,s,a,h,g){for(let y=0;y<a.length;){const I=a[y++],C=a[y++];bh(r.data[I],s[I],h,C,g)}}function pa(r,s,a){const h=_l(s,r);!function Q_(r,s,a){r.setValue(s,a)}(r[Ln],h,a)}function Zy(r,s){const a=xi(s,r),h=a[Vt];!function HD(r,s){for(let a=s.length;a<r.blueprint.length;a++)s.push(r.blueprint[a])}(h,a);const g=a[Tr];null!==g&&null===a[Wi]&&(a[Wi]=qu(g,a[Sr])),Nt(h,a,a[er])}function Nt(r,s,a){Ye(s);try{const h=r.viewQuery;null!==h&&zf(1,h,a);const g=r.template;null!==g&&bd(r,s,g,1,a),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&qy(r,s),r.staticViewQueries&&zf(2,r.viewQuery,a);const y=r.components;null!==y&&function so(r,s){for(let a=0;a<s.length;a++)Zy(r,s[a])}(s,y)}catch(h){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),h}finally{s[Mn]&=-5,ar()}}let sl=(()=>{class r{constructor(){this.all=new Set,this.queue=new Map}create(a,h,g){const y=typeof Zone>"u"?null:Zone.current,I=function zn(r,s,a){const h=Object.create(_r);a&&(h.consumerAllowSignalWrites=!0),h.fn=r,h.schedule=s;const g=I=>{h.cleanupFn=I};return h.ref={notify:()=>kd(h),run:()=>{if(h.dirty=!1,h.hasRun&&!Bo(h))return;h.hasRun=!0;const I=Es(h);try{h.cleanupFn(),h.cleanupFn=Gn,h.fn(g)}finally{eo(h,I)}},cleanup:()=>h.cleanupFn()},h.ref}(a,z=>{this.all.has(z)&&this.queue.set(z,y)},g);let C;this.all.add(I),I.notify();const P=()=>{I.cleanup(),C?.(),this.all.delete(I),this.queue.delete(I)};return C=h?.onDestroy(P),{destroy:P}}flush(){if(0!==this.queue.size)for(const[a,h]of this.queue)this.queue.delete(a),h?h.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Ae({token:r,providedIn:"root",factory:()=>new r})}return r})();function dn(r,s,a){let h=a?r.styles:null,g=a?r.classes:null,y=0;if(null!==s)for(let I=0;I<s.length;I++){const C=s[I];"number"==typeof C?y=C:1==y?g=Pt(g,C):2==y&&(h=Pt(h,C+": "+s[++I]+";"))}a?r.styles=h:r.stylesWithoutHost=h,a?r.classes=g:r.classesWithoutHost=g}function bn(r,s,a,h,g=!1){for(;null!==a;){const y=s[a.index];null!==y&&h.push(Jr(y)),Li(y)&&m1(y,h);const I=a.type;if(8&I)bn(r,s,a.child,h);else if(32&I){const C=Mp(a,s);let P;for(;P=C();)h.push(P)}else if(16&I){const C=N0(s,a);if(Array.isArray(C))h.push(...C);else{const P=xp(s[qr]);bn(P[Vt],P,C,h,!0)}}a=g?a.projectionNext:a.next}return h}function m1(r,s){for(let a=Si;a<r.length;a++){const h=r[a],g=h[Vt].firstChild;null!==g&&bn(h[Vt],h,g,s)}r[yi]!==r[Tr]&&s.push(r[yi])}function Yt(r,s,a,h=!0){const g=s[Ji],y=g.rendererFactory,I=g.afterRenderEventManager;y.begin?.(),I?.begin();try{oo(r,s,r.template,a)}catch(P){throw h&&Ss(s,P),P}finally{y.end?.(),g.effectManager?.flush(),I?.end()}}function oo(r,s,a,h){const g=s[Mn];if(256!=(256&g)){s[Ji].effectManager?.flush(),Ye(s);try{Tu(s),function Au(r){return Sn.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==a&&bd(r,s,a,2,h);const I=3==(3&g);if(I){const z=r.preOrderCheckHooks;null!==z&&Yc(s,z,null)}else{const z=r.preOrderHooks;null!==z&&Il(s,z,0,null),Bd(s,0)}if(function Vw(r){for(let s=am(r);null!==s;s=bf(s)){if(!s[Ci])continue;const a=s[wa];for(let h=0;h<a.length;h++){rd(a[h])}}}(s),Yy(s,2),null!==r.contentQueries&&qy(r,s),I){const z=r.contentCheckHooks;null!==z&&Yc(s,z)}else{const z=r.contentHooks;null!==z&&Il(s,z,1),Bd(s,1)}!function kw(r,s){const a=r.hostBindingOpCodes;if(null===a)return;const h=Lf(s,Fo);try{for(let g=0;g<a.length;g++){const y=a[g];if(y<0)Ka(~y);else{const I=y,C=a[++g],P=a[++g];ef(C,I),h.dirty=!1;const z=Es(h);try{P(2,s[I])}finally{eo(h,z)}}}}finally{null===s[Fo]&&dg(s,Fo),Ka(-1)}}(r,s);const C=r.components;null!==C&&_1(s,C,0);const P=r.viewQuery;if(null!==P&&zf(2,P,h),I){const z=r.viewCheckHooks;null!==z&&Yc(s,z)}else{const z=r.viewHooks;null!==z&&Il(s,z,2),Bd(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[Mn]&=-73,Xr(s)}finally{ar()}}}function Yy(r,s){for(let a=am(r);null!==a;a=bf(a))for(let h=Si;h<a.length;h++)Qy(a[h],s)}function Hw(r,s,a){Qy(xi(s,r),a)}function Qy(r,s){if(!function Eu(r){return 128==(128&r[Mn])}(r))return;const a=r[Vt],h=r[Mn];if(80&h&&0===s||1024&h||2===s)oo(a,r,a.template,r[er]);else if(r[po]>0){Yy(r,1);const g=a.components;null!==g&&_1(r,g,1)}}function _1(r,s,a){for(let h=0;h<s.length;h++)Hw(r,s[h],a)}class _g{get rootNodes(){const s=this._lView,a=s[Vt];return bn(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[er]}set context(s){this._lView[er]=s}get destroyed(){return 256==(256&this._lView[Mn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Mr];if(Li(s)){const a=s[8],h=a?a.indexOf(this):-1;h>-1&&(lm(s,h),ff(a,h))}this._attachedToViewContainer=!1}kp(this._lView[Vt],this._lView)}onDestroy(s){qa(this._lView,s)}markForCheck(){cu(this._cdRefInjectingView||this._lView)}detach(){this._lView[Mn]&=-129}reattach(){this._lView[Mn]|=128}detectChanges(){Yt(this._lView[Vt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function J_(r,s){gm(r,s,s[Ln],2,null,null)}(this._lView[Vt],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new je(902,!1);this._appRef=s}}class Jy extends _g{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Yt(s[Vt],s,s[er],!1)}checkNoChanges(){}get context(){return null}}class y1 extends ig{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Xn(s);return new Yn(a,this.ngModule)}}function Xy(r){const s=[];for(let a in r)r.hasOwnProperty(a)&&s.push({propName:r[a],templateName:a});return s}class v1{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,h){h=xs(h);const g=this.injector.get(s,Oy,h);return g!==Oy||a===Oy?g:this.parentInjector.get(s,a,h)}}class Yn extends z0{get inputs(){const s=this.componentDef,a=s.inputTransforms,h=Xy(s.inputs);if(null!==a)for(const g of h)a.hasOwnProperty(g.propName)&&(g.transform=a[g.propName]);return h}get outputs(){return Xy(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function ci(r){return r.map(Vc).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,h,g){let y=(g=g||this.ngModule)instanceof Mc?g:g?.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const I=y?new v1(s,y):s,C=I.get(K0,null);if(null===C)throw new je(407,!1);const me={rendererFactory:C,sanitizer:I.get(Ay,null),effectManager:I.get(sl,null),afterRenderEventManager:I.get(hh,null)},Pe=C.createRenderer(null,this.componentDef),Le=this.componentDef.selectors[0][0]||"div",pt=h?function Bm(r,s,a,h){const y=h.get(fh,!1)||a===os.ShadowDom,I=r.selectRootElement(s,y);return function Fw(r){$y(r)}(I),I}(Pe,h,this.componentDef.encapsulation,I):Zd(Pe,Le,function Gw(r){const s=r.toLowerCase();return"svg"===s?ml:"math"===s?"math":null}(Le)),En=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let bt=null;null!==pt&&(bt=qu(pt,I,!0));const lr=_h(0,null,null,1,0,null,null,null,null,null,null),Lr=Vf(null,lr,null,En,null,null,me,Pe,I,null,bt);let $i,ll;Ye(Lr);try{const Yh=this.componentDef;let k_,RD=null;Yh.findHostDirectiveDefs?(k_=[],RD=new Map,Yh.findHostDirectiveDefs(Yh,k_,RD),k_.push(Yh)):k_=[Yh];const PS=function ev(r,s){const a=r[Vt],h=Hn;return r[h]=s,fa(a,h,2,"#host",null)}(Lr,pt),kS=function ys(r,s,a,h,g,y,I){const C=g[Vt];!function gn(r,s,a,h){for(const g of r)s.mergedAttrs=_a(s.mergedAttrs,g.hostAttrs);null!==s.mergedAttrs&&(dn(s,s.mergedAttrs,!0),null!==a&&x0(h,a,s))}(h,r,s,I);let P=null;null!==s&&(P=qu(s,g[Sr]));const z=y.rendererFactory.createRenderer(s,a);let ie=16;a.signals?ie=4096:a.onPush&&(ie=64);const me=Vf(g,mh(a),null,ie,g[r.index],r,y,z,null,null,P);return C.firstCreatePass&&To(C,r,h.length-1),$m(g,me),g[r.index]=me}(PS,pt,Yh,k_,Lr,me,Pe);ll=Iu(lr,Hn),pt&&function Pr(r,s,a,h){if(h)zi(r,a,["ng-version",Q0.full]);else{const{attrs:g,classes:y}=function Ro(r){const s=[],a=[];let h=1,g=2;for(;h<r.length;){let y=r[h];if("string"==typeof y)2===g?""!==y&&s.push(y,r[++h]):8===g&&a.push(y);else{if(!jr(g))break;g=y}h++}return{attrs:s,classes:a}}(s.selectors[0]);g&&zi(r,a,g),y&&y.length>0&&sy(r,a,y.join(" "))}}(Pe,Yh,pt,h),void 0!==a&&function tv(r,s,a){const h=r.projection=[];for(let g=0;g<s.length;g++){const y=a[g];h.push(null!=y?Array.from(y):null)}}(ll,this.ngContentSelectors,a),$i=function wh(r,s,a,h,g,y){const I=Ki(),C=g[Vt],P=Zr(I,g);jf(C,g,I,a,null,h);for(let ie=0;ie<a.length;ie++)Ma(Cl(g,C,I.directiveStart+ie,I),g);zy(C,g,I),P&&Ma(P,g);const z=Cl(g,C,I.directiveStart+I.componentOffset,I);if(r[er]=g[er]=z,null!==y)for(const ie of y)ie(z,s);return fg(C,I,r),z}(kS,Yh,k_,RD,Lr,[Ws]),Nt(lr,Lr,null)}finally{ar()}return new Wf(this.componentType,$i,ch(ll,Lr),Lr,ll)}}class Wf extends Sy{constructor(s,a,h,g,y){super(),this.location=h,this._rootLView=g,this._tNode=y,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new Jy(g),this.componentType=s}setInput(s,a){const h=this._tNode.inputs;let g;if(null!==h&&(g=h[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const y=this._rootLView;wd(y[Vt],y,g,s,a),this.previousInputValues.set(s,a),cu(xi(this._tNode.index,y))}}get injector(){return new O(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Ws(){const r=Ki();Nu(ht()[Vt],r)}function Id(r){let s=function Qt(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),a=!0;const h=[r];for(;s;){let g;if(Ui(r))g=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new je(903,!1);g=s.\u0275dir}if(g){if(a){h.push(g);const I=r;I.inputs=du(r.inputs),I.inputTransforms=du(r.inputTransforms),I.declaredInputs=du(r.declaredInputs),I.outputs=du(r.outputs);const C=g.hostBindings;C&&b1(r,C);const P=g.viewQuery,z=g.contentQueries;if(P&&zm(r,P),z&&Wm(r,z),qe(r.inputs,g.inputs),qe(r.declaredInputs,g.declaredInputs),qe(r.outputs,g.outputs),null!==g.inputTransforms&&(null===I.inputTransforms&&(I.inputTransforms={}),qe(I.inputTransforms,g.inputTransforms)),Ui(g)&&g.data.animation){const ie=r.data;ie.animation=(ie.animation||[]).concat(g.data.animation)}}const y=g.features;if(y)for(let I=0;I<y.length;I++){const C=y[I];C&&C.ngInherit&&C(r),C===Id&&(a=!1)}}s=Object.getPrototypeOf(s)}!function nv(r){let s=0,a=null;for(let h=r.length-1;h>=0;h--){const g=r[h];g.hostVars=s+=g.hostVars,g.hostAttrs=_a(g.hostAttrs,a=_a(a,g.hostAttrs))}}(h)}function du(r){return r===as?{}:r===Jn?[]:r}function zm(r,s){const a=r.viewQuery;r.viewQuery=a?(h,g)=>{s(h,g),a(h,g)}:s}function Wm(r,s){const a=r.contentQueries;r.contentQueries=a?(h,g,y)=>{s(h,g,y),a(h,g,y)}:s}function b1(r,s){const a=r.hostBindings;r.hostBindings=a?(h,g)=>{s(h,g),a(h,g)}:s}function Do(r){return s=>{s.findHostDirectiveDefs=qm,s.hostDirectives=(Array.isArray(r)?r:r()).map(a=>"function"==typeof a?{directive:At(a),inputs:as,outputs:as}:{directive:At(a.directive),inputs:iv(a.inputs),outputs:iv(a.outputs)})}}function qm(r,s,a){if(null!==r.hostDirectives)for(const h of r.hostDirectives){const g=ui(h.directive);w1(g.declaredInputs,h.inputs),qm(g,s,a),a.set(g,h),s.push(g)}}function iv(r){if(void 0===r||0===r.length)return as;const s={};for(let a=0;a<r.length;a+=2)s[r[a]]=r[a+1];return s}function w1(r,s){for(const a in s)s.hasOwnProperty(a)&&(r[s[a]]=r[a])}function We(r){const s=r.inputConfig,a={};for(const h in s)if(s.hasOwnProperty(h)){const g=s[h];Array.isArray(g)&&g[2]&&(a[h]=g[2])}r.inputTransforms=a}function Ic(r){return!!Pl(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function Pl(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Pa(r,s,a){return r[s]=a}function Zo(r,s,a){return!Object.is(r[s],a)&&(r[s]=a,!0)}function Ed(r,s,a,h){const g=Zo(r,s,a);return Zo(r,s+1,h)||g}function Eh(r,s,a,h,g){const y=Ed(r,s,a,h);return Zo(r,s+2,g)||y}function Th(r,s,a,h){const g=ht();return Zo(g,$o(),s)&&(yr(),zs(pr(),g,r,s,a,h)),Th}function Dh(r,s,a,h){return Zo(r,$o(),a)?s+Xe(a)+h:tr}function Kf(r,s,a,h,g,y,I,C){const z=Eh(r,function da(){return Sn.lFrame.bindingIndex}(),a,g,I);return Sa(3),z?s+Xe(a)+h+Xe(g)+y+Xe(I)+C:tr}function Rh(r,s,a,h,g,y,I,C){const P=ht(),z=yr(),ie=r+Hn,me=z.firstCreatePass?function cl(r,s,a,h,g,y,I,C,P){const z=s.consts,ie=fa(s,r,4,I||null,Da(z,C));il(s,a,ie,Da(z,P)),Nu(s,ie);const me=ie.tView=_h(2,ie,h,g,y,s.directiveRegistry,s.pipeRegistry,null,s.schemas,z,null);return null!==s.queries&&(s.queries.template(s,ie),me.queries=s.queries.embeddedTView(ie)),ie}(ie,z,P,s,a,h,g,y,I):z.data[ie];vo(me,!1);const Pe=mu(z,P,me,r);yp()&&pm(z,P,Pe,me),Ma(Pe,P),$m(P,P[ie]=f1(Pe,P,Pe,me)),Vs(me)&&Hf(z,P,me),null!=I&&gh(P,me,C)}let mu=function kc(r,s,a,h){return Kc(!0),s[Ln].createComment("")};function Ph(r){return Wa(function Su(){return Sn.lFrame.contextLView}(),Hn+r)}function Dd(r,s,a){const h=ht();return Zo(h,$o(),s)&&wc(yr(),pr(),h,r,s,h[Ln],a,!1),Dd}function kh(r,s,a,h,g){const I=g?"class":"style";wd(r,a,s.inputs[I],I,h)}function _u(r,s,a,h){const g=ht(),y=yr(),I=Hn+r,C=g[Ln],P=y.firstCreatePass?function Fh(r,s,a,h,g,y){const I=s.consts,P=fa(s,r,2,h,Da(I,g));return il(s,a,P,Da(I,y)),null!==P.attrs&&dn(P,P.attrs,!1),null!==P.mergedAttrs&&dn(P,P.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,P),P}(I,y,g,s,a,h):y.data[I],z=pv(y,g,P,C,s,r);g[I]=z;const ie=Vs(P);return vo(P,!0),x0(C,z,P),32!=(32&P.flags)&&yp()&&pm(y,g,z,P),0===function id(){return Sn.lFrame.elementDepthCount}()&&Ma(z,g),function sd(){Sn.lFrame.elementDepthCount++}(),ie&&(Hf(y,g,P),fg(y,P,g)),null!==h&&gh(g,P),_u}function Cd(){let r=Ki();Cu()?dc():(r=r.parent,vo(r,!1));const s=r;(function Ca(r){return Sn.skipHydrationRootTNode===r})(s)&&function ad(){Sn.skipHydrationRootTNode=null}(),function Wl(){Sn.lFrame.elementDepthCount--}();const a=yr();return a.firstCreatePass&&(Nu(a,r),aa(r)&&a.queries.elementEnd(r)),null!=s.classesWithoutHost&&function vp(r){return 0!=(8&r.flags)}(s)&&kh(a,s,ht(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function bp(r){return 0!=(16&r.flags)}(s)&&kh(a,s,ht(),s.stylesWithoutHost,!1),Cd}function Lh(r,s,a,h){return _u(r,s,a,h),Cd(),Lh}let pv=(r,s,a,h,g,y)=>(Kc(!0),Zd(h,g,function ld(){return Sn.lFrame.currentNamespace}()));function Zm(r,s,a){const h=ht(),g=yr(),y=r+Hn,I=g.firstCreatePass?function A1(r,s,a,h,g){const y=s.consts,I=Da(y,h),C=fa(s,r,8,"ng-container",I);return null!==I&&dn(C,I,!0),il(s,a,C,Da(y,g)),null!==s.queries&&s.queries.elementStart(s,C),C}(y,g,h,s,a):g.data[y];vo(I,!0);const C=mv(g,h,I,r);return h[y]=C,yp()&&pm(g,h,C,I),Ma(C,h),Vs(I)&&(Hf(g,h,I),fg(g,I,h)),null!=a&&gh(h,I),Zm}function Uh(){let r=Ki();const s=yr();return Cu()?dc():(r=r.parent,vo(r,!1)),s.firstCreatePass&&(Nu(s,r),aa(r)&&s.queries.elementEnd(r)),Uh}let mv=(r,s,a,h)=>(Kc(!0),Pp(s[Ln],""));function ji(){return ht()}function Ll(r){return!!r&&"function"==typeof r.then}function yv(r){return!!r&&"function"==typeof r.subscribe}function Km(r,s,a,h){const g=ht(),y=yr(),I=Ki();return function vv(r,s,a,h,g,y,I){const C=Vs(h),z=r.firstCreatePass&&uu(r),ie=s[er],me=g1(s);let Pe=!0;if(3&h.type||I){const xt=Zr(h,s),tn=I?I(xt):xt,En=me.length,bt=I?Lr=>I(Jr(Lr[h.index])):h.index;let lr=null;if(!I&&C&&(lr=function N1(r,s,a,h){const g=r.cleanup;if(null!=g)for(let y=0;y<g.length-1;y+=2){const I=g[y];if(I===a&&g[y+1]===h){const C=s[nr],P=g[y+2];return C.length>P?C[P]:null}"string"==typeof I&&(y+=2)}return null}(r,s,g,h.index)),null!==lr)(lr.__ngLastListenerFn__||lr).__ngNextListenerFn__=y,lr.__ngLastListenerFn__=y,Pe=!1;else{y=oi(h,s,ie,y,!1);const Lr=a.listen(tn,g,y);me.push(y,Lr),z&&z.push(g,bt,En,En+1)}}else y=oi(h,s,ie,y,!1);const Le=h.outputs;let pt;if(Pe&&null!==Le&&(pt=Le[g])){const xt=pt.length;if(xt)for(let tn=0;tn<xt;tn+=2){const $i=s[pt[tn]][pt[tn+1]].subscribe(y),ll=me.length;me.push(y,$i),z&&z.push(g,h.index,ll,-(ll+1))}}}(y,g,g[Ln],I,r,s,h),Km}function kr(r,s,a,h){try{return fi(6,s,a),!1!==a(h)}catch(g){return Ss(r,g),!1}finally{fi(7,s,a)}}function oi(r,s,a,h,g){return function y(I){if(I===Function)return h;cu(r.componentOffset>-1?xi(r.index,s):s);let P=kr(s,a,h,I),z=y.__ngNextListenerFn__;for(;z;)P=kr(s,a,z,I)&&P,z=z.__ngNextListenerFn__;return g&&!1===P&&I.preventDefault(),P}}function Vh(r=1){return function bo(r){return(Sn.lFrame.contextLView=function Zl(r,s){for(;r>0;)s=s[Ls],r--;return s}(r,Sn.lFrame.contextLView))[er]}(r)}function bv(r,s){let a=null;const h=function ra(r){const s=r.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(r);for(let g=0;g<s.length;g++){const y=s[g];if("*"!==y){if(null===h?ws(r,y,!0):ul(h,y))return g}else a=g}return a}function Ig(r){const s=ht()[qr][Yr];if(!s.projection){const h=s.projection=Uu(r?r.length:1,null),g=h.slice();let y=s.child;for(;null!==y;){const I=r?bv(y,r):0;null!==I&&(g[I]?g[I].projectionNext=y:h[I]=y,g[I]=y),y=y.next}}}function O1(r,s=0,a){const h=ht(),g=yr(),y=fa(g,Hn+r,16,null,a||null);null===y.projection&&(y.projection=s),dc(),(!h[Wi]||uc())&&32!=(32&y.flags)&&function DE(r,s,a){cw(s[Ln],0,s,a,Lp(r,a,s),Up(a.parent||s[Yr],a,s))}(g,h,y)}function Eg(r,s,a){return Hh(r,"",s,"",a),Eg}function Hh(r,s,a,h,g){const y=ht(),I=Dh(y,s,a,h);return I!==tr&&wc(yr(),pr(),y,r,I,y[Ln],g,!1),Hh}function Qm(r,s){return r<<17|s<<2}function Gh(r){return r>>17&32767}function ed(r){return 2|r}function Ul(r){return(131068&r)>>2}function Xf(r,s){return-131069&r|s<<2}function Jm(r){return 1|r}function Tg(r,s,a,h,g){const y=r[a+1],I=null===s;let C=h?Gh(y):Ul(y),P=!1;for(;0!==C&&(!1===P||I);){const ie=r[C+1];e_(r[C],s)&&(P=!0,r[C+1]=h?Jm(ie):ed(ie)),C=h?Gh(ie):Ul(ie)}P&&(r[a+1]=h?ed(y):Jm(y))}function e_(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&nu(r,s)>=0}const Ns={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function t_(r){return r.substring(Ns.key,Ns.keyEnd)}function np(r,s){const a=Ns.textEnd;return a===s?-1:(s=Ns.keyEnd=function Dg(r,s,a){for(;s<a&&r.charCodeAt(s)>32;)s++;return s}(r,Ns.key=s,a),Ad(r,s,a))}function Ad(r,s,a){for(;s<a&&r.charCodeAt(s)<=32;)s++;return s}function s_(r,s){return function Ec(r,s,a,h){const g=ht(),y=yr(),I=Sa(2);y.firstUpdatePass&&c(y,r,I,h),s!==tr&&Zo(g,I,s)&&Be(y,y.data[$r()],g,g[Ln],r,g[I+1]=function Mt(r,s){return null==r||""===r||("string"==typeof s?r+=s:"object"==typeof r&&(r=It(su(r)))),r}(s,a),h,I)}(r,s,null,!0),s_}function Bl(r){!function vu(r,s,a,h){const g=yr(),y=Sa(2);g.firstUpdatePass&&c(g,null,y,h);const I=ht();if(a!==tr&&Zo(I,y,a)){const C=g.data[$r()];if(Ut(C,h)&&!P1(g,y)){let P=h?C.classesWithoutHost:C.stylesWithoutHost;null!==P&&(a=Pt(P,a||"")),kh(g,C,I,a,h)}else!function ye(r,s,a,h,g,y,I,C){g===tr&&(g=Jn);let P=0,z=0,ie=0<g.length?g[0]:null,me=0<y.length?y[0]:null;for(;null!==ie||null!==me;){const Pe=P<g.length?g[P+1]:void 0,Le=z<y.length?y[z+1]:void 0;let xt,pt=null;ie===me?(P+=2,z+=2,Pe!==Le&&(pt=me,xt=Le)):null===me||null!==ie&&ie<me?(P+=2,pt=ie):(z+=2,pt=me,xt=Le),null!==pt&&Be(r,s,a,h,pt,xt,I,C),ie=P<g.length?g[P]:null,me=z<y.length?y[z]:null}}(g,C,I,I[Ln],I[y+1],I[y+1]=function Z(r,s,a){if(null==a||""===a)return Jn;const h=[],g=su(a);if(Array.isArray(g))for(let y=0;y<g.length;y++)r(h,g[y],!0);else if("object"==typeof g)for(const y in g)g.hasOwnProperty(y)&&r(h,y,g[y]);else"string"==typeof g&&s(h,g);return h}(r,s,a),h,y)}}(he,Vl,r,!0)}function Vl(r,s){for(let a=function tc(r){return function r_(r){Ns.key=0,Ns.keyEnd=0,Ns.value=0,Ns.valueEnd=0,Ns.textEnd=r.length}(r),np(r,Ad(r,0,Ns.textEnd))}(s);a>=0;a=np(s,a))Oa(r,t_(s),!0)}function P1(r,s){return s>=r.expandoStartIndex}function c(r,s,a,h){const g=r.data;if(null===g[a+1]){const y=g[$r()],I=P1(r,a);Ut(y,h)&&null===s&&!I&&(s=!1),s=function f(r,s,a,h){const g=function D(r){const s=Sn.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let y=h?s.residualClasses:s.residualStyles;if(null===g)0===(h?s.classBindings:s.styleBindings)&&(a=x(a=E(null,r,s,a,h),s.attrs,h),y=null);else{const I=s.directiveStylingLast;if(-1===I||r[I]!==g)if(a=E(g,r,s,a,h),null===y){let P=function o(r,s,a){const h=a?s.classBindings:s.styleBindings;if(0!==Ul(h))return r[Gh(h)]}(r,s,h);void 0!==P&&Array.isArray(P)&&(P=E(null,r,s,P[1],h),P=x(P,s.attrs,h),function d(r,s,a,h){r[Gh(a?s.classBindings:s.styleBindings)]=h}(r,s,h,P))}else y=function m(r,s,a){let h;const g=s.directiveEnd;for(let y=1+s.directiveStylingLast;y<g;y++)h=x(h,r[y].hostAttrs,a);return x(h,s.attrs,a)}(r,s,h)}return void 0!==y&&(h?s.residualClasses=y:s.residualStyles=y),a}(g,y,s,h),function Xm(r,s,a,h,g,y){let I=y?s.classBindings:s.styleBindings,C=Gh(I),P=Ul(I);r[h]=a;let ie,z=!1;if(Array.isArray(a)?(ie=a[1],(null===ie||nu(a,ie)>0)&&(z=!0)):ie=a,g)if(0!==P){const Pe=Gh(r[C+1]);r[h+1]=Qm(Pe,C),0!==Pe&&(r[Pe+1]=Xf(r[Pe+1],h)),r[C+1]=function Dv(r,s){return 131071&r|s<<17}(r[C+1],h)}else r[h+1]=Qm(C,0),0!==C&&(r[C+1]=Xf(r[C+1],h)),C=h;else r[h+1]=Qm(P,0),0===C?C=h:r[P+1]=Xf(r[P+1],h),P=h;z&&(r[h+1]=ed(r[h+1])),Tg(r,ie,h,!0),Tg(r,ie,h,!1),function tp(r,s,a,h,g){const y=g?r.residualClasses:r.residualStyles;null!=y&&"string"==typeof s&&nu(y,s)>=0&&(a[h+1]=Jm(a[h+1]))}(s,ie,r,h,y),I=Qm(C,P),y?s.classBindings=I:s.styleBindings=I}(g,y,s,a,I,h)}}function E(r,s,a,h,g){let y=null;const I=a.directiveEnd;let C=a.directiveStylingLast;for(-1===C?C=a.directiveStart:C++;C<I&&(y=s[C],h=x(h,y.hostAttrs,g),y!==r);)C++;return null!==r&&(a.directiveStylingLast=C),h}function x(r,s,a){const h=a?1:2;let g=-1;if(null!==s)for(let y=0;y<s.length;y++){const I=s[y];"number"==typeof I?g=I:g===h&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Oa(r,I,!!a||s[++y]))}return void 0===r?null:r}function he(r,s,a){const h=String(s);""!==h&&!h.includes(" ")&&Oa(r,h,a)}function Be(r,s,a,h,g,y,I,C){if(!(3&s.type))return;const P=r.data,z=P[C+1],ie=function ep(r){return 1==(1&r)}(z)?ct(P,s,a,g,Ul(z),I):void 0;at(ie)||(at(y)||function Yw(r){return 2==(2&r)}(z)&&(y=ct(P,null,a,g,C,I)),function SE(r,s,a,h,g){if(s)g?r.addClass(a,h):r.removeClass(a,h);else{let y=-1===h.indexOf("-")?void 0:b0.DashCase;null==g?r.removeStyle(a,h,y):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),y|=b0.Important),r.setStyle(a,h,g,y))}}(h,I,_l($r(),a),g,y))}function ct(r,s,a,h,g,y){const I=null===s;let C;for(;g>0;){const P=r[g],z=Array.isArray(P),ie=z?P[1]:P,me=null===ie;let Pe=a[g+1];Pe===tr&&(Pe=me?Jn:void 0);let Le=me?Kg(Pe,h):ie===h?Pe:void 0;if(z&&!at(Le)&&(Le=Kg(P,h)),at(Le)&&(C=Le,I))return C;const pt=r[g+1];g=I?Gh(pt):Ul(pt)}if(null!==s){let P=y?s.residualClasses:s.residualStyles;null!=P&&(C=Kg(P,h))}return C}function at(r){return void 0!==r}function Ut(r,s){return 0!=(r.flags&(s?8:16))}function zt(r,s=""){const a=ht(),h=yr(),g=r+Hn,y=h.firstCreatePass?fa(h,g,1,s,null):h.data[g],I=Rn(h,a,y,s,r);a[g]=I,yp()&&pm(h,a,I,y),vo(y,!1)}let Rn=(r,s,a,h,g)=>(Kc(!0),wf(s[Ln],h));function Nn(r){return wn("",r,""),Nn}function wn(r,s,a){const h=ht(),g=Dh(h,r,s,a);return g!==tr&&pa(h,$r(),g),wn}function ir(r,s,a,h,g,y,I){const C=ht(),P=Kf(C,r,s,a,h,g,y,I);return P!==tr&&pa(C,$r(),P),ir}function Wh(r,s,a){const h=ht();return Zo(h,$o(),s)&&wc(yr(),pr(),h,r,s,h[Ln],a,!0),Wh}const Od=void 0;var Av=["en",[["a","p"],["AM","PM"],Od],[["AM","PM"],Od,Od],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Od,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Od,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Od,"{1} 'at' {0}",Od],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function l_(r){const a=Math.floor(Math.abs(r)),h=r.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===h?1:5}];let qh={};function u_(r){const s=function No(r){return r.toLowerCase().replace(/_/g,"-")}(r);let a=Sg(s);if(a)return a;const h=s.split("-")[0];if(a=Sg(h),a)return a;if("en"===h)return Av;throw new je(701,!1)}function F1(r){return u_(r)[d_.PluralCase]}function Sg(r){return r in qh||(qh[r]=or.ng&&or.ng.common&&or.ng.common.locales&&or.ng.common.locales[r]),qh[r]}var d_=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(d_||{});const Md="en-US",h_={marker:"element"},Nv={marker:"ICU"};var La=function(r){return r[r.SHIFT=2]="SHIFT",r[r.APPEND_EAGERLY=1]="APPEND_EAGERLY",r[r.COMMENT=2]="COMMENT",r}(La||{});let nI=Md;function rI(r){(function _n(r,s){null==r&&Ct(s,r,null,"!=")})(r,"Expected localeId to be defined"),"string"==typeof r&&(nI=r.toLowerCase().replace(/_/g,"-"))}function YE(r,s,a){const h=s.insertBeforeIndex,g=Array.isArray(h)?h[0]:h;return null===g?hm(r,0,a):Jr(a[g])}function f_(r,s,a,h,g){const y=s.insertBeforeIndex;if(Array.isArray(y)){let I=h,C=null;if(3&s.type||(C=I,I=g),null!==I&&-1===s.componentOffset)for(let P=1;P<y.length;P++)Gu(r,I,a[y[P]],C,!1)}}function L1(r,s){if(r.push(s),r.length>1)for(let a=r.length-2;a>=0;a--){const h=r[a];QE(h)||JE(h,s)&&null===iI(h)&&XE(h,s.index)}}function QE(r){return!(64&r.type)}function JE(r,s){return QE(s)||r.index>s.index}function iI(r){const s=r.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function XE(r,s){const a=r.insertBeforeIndex;Array.isArray(a)?a[0]=s:(A0(YE,f_),r.insertBeforeIndex=s)}function qD(r,s,a){const h=xc(r,a,64,null,null);return L1(s,h),h}function oI(){const r=[];let a,h,s=-1;function y(C,P){s=0;const z=function U1(r,s){const a=s[r.currentCaseLViewIndex];return null===a?a:a<0?~a:a}(C,P);h=null!==z?C.remove[z]:Jn}function I(){if(s<h.length){const C=h[s++];return C>0?a[C]:(r.push(s,h),y(a[Vt].data[~C],a),I())}return 0===r.length?null:(h=r.pop(),s=r.pop(),I())}return function g(C,P){for(a=P;r.length;)r.pop();return y(C.value,P),I}}const xv=/\ufffd(\d+):?\d*\ufffd/gi,Rv=/\ufffd(\d+)\ufffd/,ap=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Pv="\ufffd",sT=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,JD=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,XD=/\uE500/g;function Kh(r,s,a,h,g,y,I){const C=rl(r,h,1,null);let P=C<<La.SHIFT,z=wl();s===z&&(z=null),null===z&&(P|=La.APPEND_EAGERLY),I&&(P|=La.COMMENT,function iw(r){void 0===Vu&&(Vu=r())}(oI)),g.push(P,null===y?"":y);const ie=xc(r,C,I?32:1,null===y?"":y,null);L1(a,ie);const me=ie.index;return vo(ie,!1),null!==z&&s!==z&&function WD(r,s){let a=r.insertBeforeIndex;null===a?(A0(YE,f_),a=r.insertBeforeIndex=[null,s]):(function $e(r,s,a){r!=s&&Ct(a,r,s,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(z,me),ie}function oT(r,s,a,h,g,y,I){const C=I.match(xv),P=Kh(r,s,a,y,h,C?null:I,!1);C&&m_(g,I,P.index,null,0,null)}function m_(r,s,a,h,g,y){const I=r.length,C=I+1;r.push(null,null);const P=I+2,z=s.split(xv);let ie=0;for(let me=0;me<z.length;me++){const Pe=z[me];if(1&me){const Le=g+parseInt(Pe,10);r.push(-1-Le),ie|=H1(Le)}else""!==Pe&&r.push(Pe)}return r.push(a<<2|(h?1:0)),h&&r.push(h,y),r[I]=ie,r[C]=r.length-P,ie}function H1(r){return 1<<Math.min(r,31)}function lI(r){let s,y,a="",h=0,g=!1;for(;null!==(s=sT.exec(r));)g?s[0]===`${Pv}/*${y}${Pv}`&&(h=s.index,g=!1):(a+=r.substring(h,s.index+s[0].length),y=s[1],g=!0);return a+=r.slice(h),a}function G1(r,s,a,h,g,y){let I=0;const C={type:g.type,currentCaseLViewIndex:rl(r,s,1,null),anchorIdx:y,cases:[],create:[],remove:[],update:[]};(function cT(r,s,a){r.push(H1(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(a,g,y),function eT(r,s,a){const h=r.data[s];null===h?r.data[s]=a:h.value=a}(r,y,C);const P=g.values;for(let z=0;z<P.length;z++){const ie=P[z],me=[];for(let Pe=0;Pe<ie.length;Pe++){const Le=ie[Pe];if("string"!=typeof Le){const pt=me.push(Le)-1;ie[Pe]=`\x3c!--\ufffd${pt}\ufffd--\x3e`}}I=rC(r,C,s,a,h,g.cases[z],ie.join(""),me)|I}I&&function Fv(r,s,a){r.push(s,1,a<<2|3)}(a,I,y)}function aT(r){const s=[],a=[];let h=1,g=0;const y=__(r=r.replace(ap,function(I,C,P){return h="select"===P?0:1,g=parseInt(C.slice(1),10),""}));for(let I=0;I<y.length;){let C=y[I++].trim();1===h&&(C=C.replace(/\s*(?:=)?(\w+)\s*/,"$1")),C.length&&s.push(C);const P=__(y[I++]);s.length>a.length&&a.push(P)}return{type:h,mainBinding:g,cases:s,values:a}}function __(r){if(!r)return[];let s=0;const a=[],h=[],g=/[{}]/g;let y;for(g.lastIndex=0;y=g.exec(r);){const C=y.index;if("}"==y[0]){if(a.pop(),0==a.length){const P=r.substring(s,C);ap.test(P)?h.push(aT(P)):h.push(P),s=C+1}}else{if(0==a.length){const P=r.substring(s,C);h.push(P),s=C+1}a.push("{")}}const I=r.substring(s);return h.push(I),h}function rC(r,s,a,h,g,y,I,C){const P=[],z=[],ie=[];s.cases.push(y),s.create.push(P),s.remove.push(z),s.update.push(ie);const Pe=Jd(Qd()).getInertBodyElement(I),Le=bm(Pe)||Pe;return Le?j1(r,s,a,h,P,z,ie,Le,g,C,0):0}function j1(r,s,a,h,g,y,I,C,P,z,ie){let me=0,Pe=C.firstChild;for(;Pe;){const Le=rl(r,a,1,null);switch(Pe.nodeType){case Node.ELEMENT_NODE:const pt=Pe,xt=pt.tagName.toLowerCase();if(Ef.hasOwnProperty(xt)){y_(g,h_,xt,P,Le),r.data[Le]=xt;const lr=pt.attributes;for(let Lr=0;Lr<lr.length;Lr++){const $i=lr.item(Lr),ll=$i.name.toLowerCase();$i.value.match(xv)?uy.hasOwnProperty(ll)&&m_(I,$i.value,Le,$i.name,0,V0[ll]?U0:null):Lv(g,Le,$i)}me=j1(r,s,a,h,g,y,I,Pe,Le,z,ie+1)|me,kv(y,Le,ie)}break;case Node.TEXT_NODE:const tn=Pe.textContent||"",En=tn.match(xv);y_(g,null,En?"":tn,P,Le),kv(y,Le,ie),En&&(me=m_(I,tn,Le,null,0,null)|me);break;case Node.COMMENT_NODE:const bt=Rv.exec(Pe.textContent||"");if(bt){const Lr=z[parseInt(bt[1],10)];y_(g,Nv,"",P,Le),G1(r,a,h,P,Lr,Le),iC(y,Le,ie)}}Pe=Pe.nextSibling}return me}function kv(r,s,a){0===a&&r.push(s)}function iC(r,s,a){0===a&&(r.push(~s),r.push(s))}function y_(r,s,a,h,g){null!==s&&r.push(s),r.push(a,g,function ZD(r,s,a){return r|s<<17|a<<1}(0,h,g))}function Lv(r,s,a){r.push(s<<1|1,a.name,a.value)}function hI(r,s,a=-1){const h=yr(),g=ht(),y=Hn+r,I=Da(h.consts,s),C=wl();h.firstCreatePass&&function Og(r,s,a,h,g,y){const I=wl(),C=[],P=[],z=[[]];g=function uI(r,s){if(function cI(r){return-1===r}(s))return lI(r);{const a=r.indexOf(`:${s}${Pv}`)+2+s.toString().length,h=r.search(new RegExp(`${Pv}\\/\\*\\d+:${s}${Pv}`));return lI(r.substring(a,h))}}(g,y);const ie=function eC(r){return r.replace(XD," ")}(g).split(JD);for(let me=0;me<ie.length;me++){let Pe=ie[me];if(1&me){const Le=47===Pe.charCodeAt(0),xt=(Pe.charCodeAt(Le?1:0),Hn+Number.parseInt(Pe.substring(Le?2:1)));if(Le)z.shift(),vo(wl(),!1);else{const tn=qD(r,z[0],xt);z.unshift([]),vo(tn,!0)}}else{const Le=__(Pe);for(let pt=0;pt<Le.length;pt++){let xt=Le[pt];if(1&pt){const tn=xt;if("object"!=typeof tn)throw new Error(`Unable to parse ICU expression in "${g}" message.`);G1(r,a,P,s,tn,Kh(r,I,z[0],a,C,"",!0).index)}else""!==xt&&oT(r,I,z[0],C,P,a,xt)}}}r.data[h]={create:C,update:P}}(h,null===C?0:C.index,g,y,I,a),2===h.type?g[qr][Mn]|=32:g[Mn]|=32;const P=h.data[y],ie=um(h,C===g[Yr]?null:C,g);(function nT(r,s,a,h){const g=r[Ln];for(let y=0;y<s.length;y++){const I=s[y++],C=s[y],z=(I&La.APPEND_EAGERLY)===La.APPEND_EAGERLY,ie=I>>>La.SHIFT;let me=r[ie];null===me&&(me=r[ie]=(I&La.COMMENT)===La.COMMENT?g.createComment(C):wf(g,C)),z&&null!==a&&Gu(g,a,me,h,!1)}})(g,P.create,ie,C&&8&C.type?g[C.index]:null),ql(!0)}function hT(r,s,a){hI(r,s,a),function lp(){ql(!1)}()}function pI(r,s,a,h,g){if(r=At(r),Array.isArray(r))for(let y=0;y<r.length;y++)pI(r[y],s,a,h,g);else{const y=yr(),I=ht(),C=Ki();let P=Cf(r)?r:At(r.provide);const z=Em(r),ie=1048575&C.providerIndexes,me=C.directiveStart,Pe=C.providerIndexes>>20;if(Cf(r)||!r.multi){const Le=new ud(z,g,xl),pt=w_(P,s,g?ie:ie+Pe,me);-1===pt?(hd(dd(C,I),y,P),W1(y,r,s.length),s.push(P),C.directiveStart++,C.directiveEnd++,g&&(C.providerIndexes+=1048576),a.push(Le),I.push(Le)):(a[pt]=Le,I[pt]=Le)}else{const Le=w_(P,s,ie+Pe,me),pt=w_(P,s,ie,ie+Pe),tn=pt>=0&&a[pt];if(g&&!tn||!g&&!(Le>=0&&a[Le])){hd(dd(C,I),y,P);const En=function cC(r,s,a,h,g){const y=new ud(r,a,xl);return y.multi=[],y.index=s,y.componentProviders=0,gT(y,g,h&&!a),y}(g?aC:oC,a.length,g,h,z);!g&&tn&&(a[pt].providerFactory=En),W1(y,r,s.length,0),s.push(P),C.directiveStart++,C.directiveEnd++,g&&(C.providerIndexes+=1048576),a.push(En),I.push(En)}else W1(y,r,Le>-1?Le:pt,gT(a[g?pt:Le],z,!g&&h));!g&&h&&tn&&a[pt].componentProviders++}}}function W1(r,s,a,h){const g=Cf(s),y=function yy(r){return!!r.useClass}(s);if(g||y){const P=(y?At(s.useClass):s).prototype.ngOnDestroy;if(P){const z=r.destroyHooks||(r.destroyHooks=[]);if(!g&&s.multi){const ie=z.indexOf(a);-1===ie?z.push(a,[h,P]):z[ie+1].push(h,P)}else z.push(a,P)}}}function gT(r,s,a){return a&&r.componentProviders++,r.multi.push(s)-1}function w_(r,s,a,h){for(let g=a;g<h;g++)if(s[g]===r)return g;return-1}function oC(r,s,a,h){return q1(this.multi,[])}function aC(r,s,a,h){const g=this.multi;let y;if(this.providerFactory){const I=this.providerFactory.componentProviders,C=Cl(a,a[Vt],this.providerFactory.index,h);y=C.slice(0,I),q1(g,y);for(let P=I;P<C.length;P++)y.push(C[P])}else y=[],q1(g,y);return y}function q1(r,s){for(let a=0;a<r.length;a++)s.push((0,r[a])());return s}function gI(r,s=[]){return a=>{a.providersResolver=(h,g)=>function pT(r,s,a){const h=yr();if(h.firstCreatePass){const g=Ui(r);pI(a,h.data,h.blueprint,g,!0),pI(s,h.data,h.blueprint,g,!1)}}(h,g?g(r):r,s)}}class jl{}class I_{}function mT(r,s){return new mI(r,s??null,[])}class mI extends jl{constructor(s,a,h){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new y1(this);const g=Ur(s);this._bootstrapComponents=Ml(g.bootstrap),this._r3Injector=e1(s,a,[{provide:jl,useValue:this},{provide:ig,useValue:this.componentFactoryResolver},...h],It(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Z1 extends I_{constructor(s){super(),this.moduleType=s}create(s){return new mI(this.moduleType,s,[])}}class _T extends jl{constructor(s){super(),this.componentFactoryResolver=new y1(this),this.instance=null;const a=new $u([...s.providers,{provide:jl,useValue:this},{provide:ig,useValue:this.componentFactoryResolver}],s.parent||oh(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function K1(r,s,a=null){return new _T({providers:r,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}let Ua=(()=>{class r{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const h=nh(0,a.type),g=h.length>0?K1([h],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,g)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ae({token:r,providedIn:"environment",factory:()=>new r(Fn(Mc))})}return r})();function yT(r){r.getStandaloneInjector=s=>s.get(Ua).getOrCreateStandaloneInjector(r)}function vI(r,s,a,h){return Uv(ht(),_s(),r,s,a,h)}function tb(r,s,a,h,g){return bI(ht(),_s(),r,s,a,h,g)}function ST(r,s,a,h,g,y){return function wI(r,s,a,h,g,y,I,C){const P=s+a;return Eh(r,P,g,y,I)?Pa(r,P+3,C?h.call(C,g,y,I):h(g,y,I)):Mg(r,P+3)}(ht(),_s(),r,s,a,h,g,y)}function Mg(r,s){const a=r[s];return a===tr?void 0:a}function Uv(r,s,a,h,g,y){const I=s+a;return Zo(r,I,g)?Pa(r,I+1,y?h.call(y,g):h(g)):Mg(r,I+1)}function bI(r,s,a,h,g,y,I){const C=s+a;return Ed(r,C,g,y)?Pa(r,C+2,I?h.call(I,g,y):h(g,y)):Mg(r,C+2)}function nb(r,s){const a=yr();let h;const g=r+Hn;a.firstCreatePass?(h=function gC(r,s){if(s)for(let a=s.length-1;a>=0;a--){const h=s[a];if(r===h.name)return h}}(s,a.pipeRegistry),a.data[g]=h,h.onDestroy&&(a.destroyHooks??=[]).push(g,h.onDestroy)):h=a.data[g];const y=h.factory||(h.factory=ja(h.type)),C=yn(xl);try{const P=Ac(!1),z=y();return Ac(P),function fv(r,s,a,h){a>=r.data.length&&(r.data[a]=null,r.blueprint[a]=null),s[a]=h}(a,ht(),g,z),z}finally{yn(C)}}function EI(r,s,a){const h=r+Hn,g=ht(),y=Wa(g,h);return xg(g,h)?Uv(g,_s(),s,y.transform,a,y):y.transform(a)}function rb(r,s,a,h){const g=r+Hn,y=ht(),I=Wa(y,g);return xg(y,g)?bI(y,_s(),s,I.transform,a,h,I):I.transform(a,h)}function xg(r,s){return r[Vt].data[s].pure}function TI(){return this._results[Symbol.iterator]()}class Vv{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Ol)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Vv.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=TI)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const h=this;h.dirty=!1;const g=function Jc(r){return r.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function L_(r,s,a){if(r.length!==s.length)return!1;for(let h=0;h<r.length;h++){let g=r[h],y=s[h];if(a&&(g=a(g),y=a(y)),y!==g)return!1}return!0}(h._results,g,a))&&(h._results=g,h.length=g.length,h.last=g[this.length-1],h.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function RT(r,s,a,h=!0){const g=s[Vt];if(function cm(r,s,a,h){const g=Si+h,y=a.length;h>0&&(a[g-1][gi]=s),h<y-Si?(s[gi]=a[g],qd(a,Si+h,s)):(a.push(s),s[gi]=null),s[Mr]=a;const I=s[Xi];null!==I&&a!==I&&function ey(r,s){const a=r[wa];s[qr]!==s[Mr][Mr][qr]&&(r[Ci]=!0),null===a?r[wa]=[s]:a.push(s)}(I,s);const C=s[di];null!==C&&C.insertView(r),s[Mn]|=128}(g,s,r,a),h){const y=O0(a,r),I=s[Ln],C=Yd(I,r[yi]);null!==C&&function T0(r,s,a,h,g,y){h[Tr]=g,h[Yr]=s,gm(r,h,a,1,g,y)}(g,r[Yr],I,s,C,y)}}let Rg=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=Dc}return r})();const _C=Rg,yC=class extends _C{constructor(s,a,h){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=h}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,h){const g=function xT(r,s,a,h){const g=s.tView,C=Vf(r,g,a,4096&r[Mn]?4096:16,null,s,null,null,null,h?.injector??null,h?.hydrationInfo??null);C[Xi]=r[s.index];const z=r[di];return null!==z&&(C[di]=z.createEmbeddedView(g)),Nt(g,C,a),C}(this._declarationLView,this._declarationTContainer,s,{injector:a,hydrationInfo:h});return new _g(g)}};function Dc(){return ob(Ki(),ht())}function ob(r,s){return 4&r.type?new yC(s,r,ch(r,s)):null}let lb=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=IC}return r})();function IC(){return jv(Ki(),ht())}const Hv=lb,ub=class extends Hv{constructor(s,a,h){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=h}get element(){return ch(this._hostTNode,this._hostLView)}get injector(){return new O(this._hostTNode,this._hostLView)}get parentInjector(){const s=jd(this._hostTNode,this._hostLView);if(Yl(s)){const a=Qc(s,this._hostLView),h=Ql(s);return new O(a[Vt].data[h+8],a)}return new O(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Pg(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-Si}createEmbeddedView(s,a,h){let g,y;"number"==typeof h?g=h:null!=h&&(g=h.index,y=h.injector);const C=s.createEmbeddedViewImpl(a||{},y,null);return this.insertImpl(C,g,false),C}createComponent(s,a,h,g,y){const I=s&&!function hf(r){return"function"==typeof r}(s);let C;if(I)C=a;else{const xt=a||{};C=xt.index,h=xt.injector,g=xt.projectableNodes,y=xt.environmentInjector||xt.ngModuleRef}const P=I?s:new Yn(Xn(s)),z=h||this.parentInjector;if(!y&&null==P.ngModule){const tn=(I?z:this.parentInjector).get(Mc,null);tn&&(y=tn)}Xn(P.componentType??{});const Le=P.create(z,g,null,y);return this.insertImpl(Le.hostView,C,false),Le}insert(s,a){return this.insertImpl(s,a,!1)}insertImpl(s,a,h){const g=s._lView;if(function jg(r){return Li(r[Mr])}(g)){const P=this.indexOf(s);if(-1!==P)this.detach(P);else{const z=g[Mr],ie=new ub(z,z[Yr],z[Mr]);ie.detach(ie.indexOf(s))}}const I=this._adjustIndex(a),C=this._lContainer;return RT(C,g,I,!h),s.attachToViewContainerRef(),qd(Gv(C),I,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Pg(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),h=lm(this._lContainer,a);h&&(ff(Gv(this._lContainer),a),kp(h[Vt],h))}detach(s){const a=this._adjustIndex(s,-1),h=lm(this._lContainer,a);return h&&null!=ff(Gv(this._lContainer),a)?new _g(h):null}_adjustIndex(s,a=0){return s??this.length+a}};function Pg(r){return r[8]}function Gv(r){return r[8]||(r[8]=[])}function jv(r,s){let a;const h=s[r.index];return Li(h)?a=h:(a=f1(h,s,null,r),s[r.index]=a,$m(s,a)),db(a,s,r,h),new ub(a,r,s)}let db=function SI(r,s,a,h){if(r[yi])return;let g;g=8&a.type?Jr(h):function $v(r,s){const a=r[Ln],h=a.createComment(""),g=Zr(s,r);return Gu(a,Yd(a,g),h,function ny(r,s){return r.nextSibling(s)}(a,g),!1),h}(s,a),r[yi]=g};class Rd{constructor(s){this.queryList=s,this.matches=null}clone(){return new Rd(this.queryList)}setDirty(){this.queryList.setDirty()}}class hb{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const h=null!==s.contentQueries?s.contentQueries[0]:a.length,g=[];for(let y=0;y<h;y++){const I=a.getByIndex(y);g.push(this.queries[I.indexInDeclarationView].clone())}return new hb(g)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==HT(s,a).matches&&this.queries[a].setDirty()}}class FT{constructor(s,a,h=null){this.predicate=s,this.flags=a,this.read=h}}class zv{constructor(s=[]){this.queries=s}elementStart(s,a){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let h=0;h<this.length;h++){const g=null!==a?a.length:0,y=this.getByIndex(h).embeddedTView(s,g);y&&(y.indexInDeclarationView=h,null!==a?a.push(y):a=[y])}return null!==a?new zv(a):null}template(s,a){for(let h=0;h<this.queries.length;h++)this.queries[h].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class OI{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new OI(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let h=s.parent;for(;null!==h&&8&h.type&&h.index!==a;)h=h.parent;return a===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const h=this.metadata.predicate;if(Array.isArray(h))for(let g=0;g<h.length;g++){const y=h[g];this.matchTNodeWithReadOption(s,a,MI(a,y)),this.matchTNodeWithReadOption(s,a,Na(a,s,y,!1,!1))}else h===Rg?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Na(a,s,h,!1,!1))}matchTNodeWithReadOption(s,a,h){if(null!==h){const g=this.metadata.read;if(null!==g)if(g===Ku||g===lb||g===Rg&&4&a.type)this.addMatch(a.index,-2);else{const y=Na(a,s,g,!1,!1);null!==y&&this.addMatch(a.index,y)}else this.addMatch(a.index,h)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function MI(r,s){const a=r.localNames;if(null!==a)for(let h=0;h<a.length;h+=2)if(a[h]===s)return a[h+1];return null}function xI(r,s,a,h){return-1===a?function EC(r,s){return 11&r.type?ch(r,s):4&r.type?ob(r,s):null}(s,r):-2===a?function fb(r,s,a){return a===Ku?ch(s,r):a===Rg?ob(s,r):a===lb?jv(s,r):void 0}(r,s,h):Cl(r,r[Vt],a,s)}function pb(r,s,a,h){const g=s[di].queries[h];if(null===g.matches){const y=r.data,I=a.matches,C=[];for(let P=0;P<I.length;P+=2){const z=I[P];C.push(z<0?null:xI(s,y[z],I[P+1],a.metadata.read))}g.matches=C}return g.matches}function gb(r,s,a,h){const g=r.queries.getByIndex(a),y=g.matches;if(null!==y){const I=pb(r,s,g,a);for(let C=0;C<y.length;C+=2){const P=y[C];if(P>0)h.push(I[C/2]);else{const z=y[C+1],ie=s[-P];for(let me=Si;me<ie.length;me++){const Pe=ie[me];Pe[Xi]===Pe[Mr]&&gb(Pe[Vt],Pe,z,h)}if(null!==ie[wa]){const me=ie[wa];for(let Pe=0;Pe<me.length;Pe++){const Le=me[Pe];gb(Le[Vt],Le,z,h)}}}}}return h}function kg(r){const s=ht(),a=yr(),h=k();j(h+1);const g=HT(a,h);if(r.dirty&&function yl(r){return 4==(4&r[Mn])}(s)===(2==(2&g.metadata.flags))){if(null===g.matches)r.reset([]);else{const y=g.crossesNgTemplate?gb(a,s,h,[]):pb(a,s,g,h);r.reset(y,xm),r.notifyOnChanges()}return!0}return!1}function mb(r,s,a){const h=yr();h.firstCreatePass&&(VT(h,new FT(r,s,a),-1),2==(2&s)&&(h.staticViewQueries=!0)),RI(h,ht(),s)}function LT(r,s,a,h){const g=yr();if(g.firstCreatePass){const y=Ki();VT(g,new FT(s,a,h),y.index),function PI(r,s){const a=r.contentQueries||(r.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(r.queries.length-1,s)}(g,r),2==(2&a)&&(g.staticContentQueries=!0)}RI(g,ht(),a)}function UT(){return function BT(r,s){return r[di].queries[s].queryList}(ht(),k())}function RI(r,s,a){const h=new Vv(4==(4&a));(function bc(r,s,a,h){const g=g1(s);g.push(a),r.firstCreatePass&&uu(r).push(h,g.length-1)})(r,s,h,h.destroy),null===s[di]&&(s[di]=new hb),s[di].queries.push(new Rd(h))}function VT(r,s,a){null===r.queries&&(r.queries=new zv),r.queries.track(new OI(s,a))}function HT(r,s){return r.queries.getByIndex(s)}function _b(r,s){return ob(r,s)}function Wv(r){return!!Ur(r)}const Ab=new qt("Application Initializer");let zI=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,h)=>{this.resolve=a,this.reject=h}),this.appInits=Kn(Ab,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const g of this.appInits){const y=g();if(Ll(y))a.push(y);else if(yv(y)){const I=new Promise((C,P)=>{y.subscribe({complete:C,error:P})});a.push(I)}}const h=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{h()}).catch(g=>{this.reject(g)}),0===a.length&&h(),this.initialized=!0}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=Ae({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),oD=(()=>{class r{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=Ae({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();const Nb=new qt("LocaleId",{providedIn:"root",factory:()=>Kn(Nb,Jt.Optional|Jt.SkipSelf)||function WI(){return typeof $localize<"u"&&$localize.locale||Md}()}),qI=new qt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Ob=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ue.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=Ae({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class cD{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let ZI=(()=>{class r{compileModuleSync(a){return new Z1(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const h=this.compileModuleSync(a),y=Ml(Ur(a).declarations).reduce((I,C)=>{const P=Xn(C);return P&&I.push(new Yn(P)),I},[]);return new cD(h,y)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=Ae({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const nE=new qt(""),Bb=new qt("");let iE,hD=(()=>{class r{constructor(a,h,g){this._ngZone=a,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,iE||(function rE(r){iE=r}(g),g.addToWindow(h)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(a)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,h,g){let y=-1;h&&h>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==y),a(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:a,timeoutId:y,updateCb:g})}whenStable(a,h,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,h,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,h,g){return[]}static#e=this.\u0275fac=function(h){return new(h||r)(Fn(qo),Fn(Bg),Fn(Bb))};static#t=this.\u0275prov=Ae({token:r,factory:r.\u0275fac})}return r})(),Bg=(()=>{class r{constructor(){this._applications=new Map}registerApplication(a,h){this._applications.set(a,h)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,h=!0){return iE?.findTestabilityInTree(this,a,h)??null}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=Ae({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})(),fp=null;const fD=new qt("AllowMultipleToken"),Vb=new qt("PlatformDestroyListeners"),sE=new qt("appBootstrapListener");class jC{constructor(s,a){this.name=s,this.token=a}}function oE(r,s,a=[]){const h=`Platform: ${s}`,g=new qt(h);return(y=[])=>{let I=Gb();if(!I||I.injector.get(fD,!1)){const C=[...a,...y,{provide:g,useValue:!0}];r?r(C):function mD(r){if(fp&&!fp.get(fD,!1))throw new je(400,!1);(function gD(){!function pl(r){Cc=r}(()=>{throw new je(600,!1)})})(),fp=r;const s=r.get(aE);(function Hb(r){r.get(io,null)?.forEach(a=>a())})(r)}(function Jv(r=[],s){return ha.create({name:s,providers:[{provide:Im,useValue:"platform"},{provide:Vb,useValue:new Set([()=>fp=null])},...r]})}(C,h))}return function yD(r){const s=Gb();if(!s)throw new je(401,!1);return s}()}}function Gb(){return fp?.get(aE)??null}let aE=(()=>{class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,h){const g=function $C(r="zone.js",s){return"noop"===r?new Rw:"zone.js"===r?new qo(s):r}(h?.ngZone,function M_(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:h?.ngZoneEventCoalescing,runCoalescing:h?.ngZoneRunCoalescing}));return g.run(()=>{const y=function uC(r,s,a){return new mI(r,s,a)}(a.moduleType,this.injector,function $b(r){return[{provide:qo,useFactory:r},{provide:th,multi:!0,useFactory:()=>{const s=Kn(vD,{optional:!0});return()=>s.initialize()}},{provide:cE,useFactory:bS},{provide:ky,useFactory:s1}]}(()=>g)),I=y.injector.get(Yu,null);return g.runOutsideAngular(()=>{const C=g.onError.subscribe({next:P=>{I.handleError(P)}});y.onDestroy(()=>{jb(this._modules,y),C.unsubscribe()})}),function co(r,s,a){try{const h=a();return Ll(h)?h.catch(g=>{throw s.runOutsideAngular(()=>r.handleError(g)),g}):h}catch(h){throw s.runOutsideAngular(()=>r.handleError(h)),h}}(I,g,()=>{const C=y.injector.get(zI);return C.runInitializers(),C.donePromise.then(()=>(rI(y.injector.get(Nb,Md)||Md),this._moduleDoBootstrap(y),y))})})}bootstrapModule(a,h=[]){const g=Ba({},h);return function pD(r,s,a){const h=new Z1(a);return Promise.resolve(h)}(0,0,a).then(y=>this.bootstrapModuleFactory(y,g))}_moduleDoBootstrap(a){const h=a.injector.get(Uc);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(g=>h.bootstrap(g));else{if(!a.instance.ngDoBootstrap)throw new je(-403,!1);a.instance.ngDoBootstrap(h)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new je(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const a=this._injector.get(Vb,null);a&&(a.forEach(h=>h()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(h){return new(h||r)(Fn(ha))};static#t=this.\u0275prov=Ae({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();function Ba(r,s){return Array.isArray(s)?s.reduce(Ba,r):{...r,...s}}let Uc=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Kn(cE),this.zoneIsStable=Kn(ky),this.componentTypes=[],this.components=[],this.isStable=Kn(Ob).hasPendingTasks.pipe((0,Me.w)(a=>a?(0,fe.of)(!1):this.zoneIsStable),(0,Se.x)(),ae()),this._injector=Kn(Mc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,h){const g=a instanceof z0;if(!this._injector.get(zI).done)throw!g&&ls(a),new je(405,!1);let I;I=g?a:this._injector.get(ig).resolveComponentFactory(a),this.componentTypes.push(I.componentType);const C=function GC(r){return r.isBoundToModule}(I)?void 0:this._injector.get(jl),z=I.create(ha.NULL,[],h||I.selector,C),ie=z.location.nativeElement,me=z.injector.get(nE,null);return me?.registerApplication(ie),z.onDestroy(()=>{this.detachView(z.hostView),jb(this.components,z),me?.unregisterApplication(ie)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new je(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const h=a;this._views.push(h),h.attachToAppRef(this)}detachView(a){const h=a;jb(this._views,h),h.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const h=this._injector.get(sE,[]);h.push(...this._bootstrapListeners),h.forEach(g=>g(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>jb(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new je(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=Ae({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function jb(r,s){const a=r.indexOf(s);a>-1&&r.splice(a,1)}const cE=new qt("",{providedIn:"root",factory:()=>Kn(Yu).handleError.bind(void 0)});function bS(){const r=Kn(qo),s=Kn(Yu);return a=>r.runOutsideAngular(()=>s.handleError(a))}let vD=(()=>{class r{constructor(){this.zone=Kn(qo),this.applicationRef=Kn(Uc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=Ae({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function IS(){return!1}let bD=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=TS}return r})();function TS(r){return function DS(r,s,a){if(Bs(r)&&!a){const h=xi(r.index,s);return new _g(h,h)}return 47&r.type?new _g(s[qr],s):null}(Ki(),ht(),16==(16&r))}class ED{constructor(){}supports(s){return Ic(s)}create(s){return new hE(s)}}const R_=(r,s)=>s;class hE{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||R_}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,h=this._removalsHead,g=0,y=null;for(;a||h;){const I=!h||a&&a.currentIndex<DD(h,g,y)?a:h,C=DD(I,g,y),P=I.currentIndex;if(I===h)g--,h=h._nextRemoved;else if(a=a._next,null==I.previousIndex)g++;else{y||(y=[]);const z=C-g,ie=P-g;if(z!=ie){for(let Pe=0;Pe<z;Pe++){const Le=Pe<y.length?y[Pe]:y[Pe]=0,pt=Le+Pe;ie<=pt&&pt<z&&(y[Pe]=Le+1)}y[I.previousIndex]=ie-z}}C!==P&&s(I,C,P)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Ic(s))throw new je(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let g,y,I,a=this._itHead,h=!1;if(Array.isArray(s)){this.length=s.length;for(let C=0;C<this.length;C++)y=s[C],I=this._trackByFn(C,y),null!==a&&Object.is(a.trackById,I)?(h&&(a=this._verifyReinsertion(a,y,I,C)),Object.is(a.item,y)||this._addIdentityChange(a,y)):(a=this._mismatch(a,y,I,C),h=!0),a=a._next}else g=0,function vg(r,s){if(Array.isArray(r))for(let a=0;a<r.length;a++)s(r[a]);else{const a=r[Symbol.iterator]();let h;for(;!(h=a.next()).done;)s(h.value)}}(s,C=>{I=this._trackByFn(g,C),null!==a&&Object.is(a.trackById,I)?(h&&(a=this._verifyReinsertion(a,C,I,g)),Object.is(a.item,C)||this._addIdentityChange(a,C)):(a=this._mismatch(a,C,I,g),h=!0),a=a._next,g++}),this.length=g;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,h,g){let y;return null===s?y=this._itTail:(y=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,y,g)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(h,g))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,y,g)):s=this._addAfter(new t0(a,h),y,g),s}_verifyReinsertion(s,a,h,g){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==y?s=this._reinsertAfter(y,s._prev,g):s.currentIndex!=g&&(s.currentIndex=g,this._addToMoves(s,g)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const g=s._prevRemoved,y=s._nextRemoved;return null===g?this._removalsHead=y:g._nextRemoved=y,null===y?this._removalsTail=g:y._prevRemoved=g,this._insertAfter(s,a,h),this._addToMoves(s,h),s}_moveAfter(s,a,h){return this._unlink(s),this._insertAfter(s,a,h),this._addToMoves(s,h),s}_addAfter(s,a,h){return this._insertAfter(s,a,h),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,h){const g=null===a?this._itHead:a._next;return s._next=g,s._prev=a,null===g?this._itTail=s:g._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Wb),this._linkedRecords.put(s),s.currentIndex=h,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,h=s._next;return null===a?this._itHead=h:a._next=h,null===h?this._itTail=a:h._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Wb),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class t0{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TD{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===a||a<=h.currentIndex)&&Object.is(h.trackById,s))return h;return null}remove(s){const a=s._prevDup,h=s._nextDup;return null===a?this._head=h:a._nextDup=h,null===h?this._tail=a:h._prevDup=a,null===this._head}}class Wb{constructor(){this.map=new Map}put(s){const a=s.trackById;let h=this.map.get(a);h||(h=new TD,this.map.set(a,h)),h.add(s)}get(s,a){const g=this.map.get(s);return g?g.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function DD(r,s,a){const h=r.previousIndex;if(null===h)return h;let g=0;return a&&h<a.length&&(g=a[h]),h+s+g}class CD{constructor(){}supports(s){return s instanceof Map||Pl(s)}create(){return new YC}}class YC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Pl(s)))throw new je(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(h,g)=>{if(a&&a.key===g)this._maybeAddToChanges(a,h),this._appendAfter=a,a=a._next;else{const y=this._getOrCreateRecordForKey(g,h);a=this._insertBeforeOrAppend(a,y)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let h=a;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const h=s._prev;return a._next=s,a._prev=h,s._prev=a,h&&(h._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const g=this._records.get(s);this._maybeAddToChanges(g,a);const y=g._prev,I=g._next;return y&&(y._next=I),I&&(I._prev=y),g._next=null,g._prev=null,g}const h=new SD(s);return this._records.set(s,h),h.currentValue=a,this._addToAdditions(h),h}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(h=>a(s[h],h))}}class SD{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fE(){return new qb([new ED])}let qb=(()=>{class r{static#e=this.\u0275prov=Ae({token:r,providedIn:"root",factory:fE});constructor(a){this.factories=a}static create(a,h){if(null!=h){const g=h.factories.slice();a=a.concat(g)}return new r(a)}static extend(a){return{provide:r,useFactory:h=>r.create(a,h||fE()),deps:[[r,new ru,new Jg]]}}find(a){const h=this.factories.find(g=>g.supports(a));if(null!=h)return h;throw new je(901,!1)}}return r})();function pE(){return new Zb([new CD])}let Zb=(()=>{class r{static#e=this.\u0275prov=Ae({token:r,providedIn:"root",factory:pE});constructor(a){this.factories=a}static create(a,h){if(h){const g=h.factories.slice();a=a.concat(g)}return new r(a)}static extend(a){return{provide:r,useFactory:h=>r.create(a,h||pE()),deps:[[r,new ru,new Jg]]}}find(a){const h=this.factories.find(g=>g.supports(a));if(h)return h;throw new je(901,!1)}}return r})();const Kb=oE(null,"core",[]);let AD=(()=>{class r{constructor(a){}static#e=this.\u0275fac=function(h){return new(h||r)(Fn(Uc))};static#t=this.\u0275mod=Ys({type:r});static#n=this.\u0275inj=Ze({})}return r})();function MD(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function RS(r,s){const a=Xn(r),h=s.elementInjector||oh();return new Yn(a).create(h,s.projectableNodes,s.hostElement,s.environmentInjector)}function Hg(r){const s=Xn(r);if(!s)return null;const a=new Yn(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},7592:(Bt,Ve,K)=>{K.d(Ve,{C6:()=>Ee,Jn:()=>wr,KN:()=>gt,Mq:()=>Ae,Xd:()=>kt,ZF:()=>gr,qX:()=>Gt});var b=K(5861),ne=K(6820),u=K(7879),be=K(229),ue=K(1878);class fe{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(Je=>{if(function Te(rt){const Ce=rt.getComponent();return"VERSION"===Ce?.type}(Je)){const Et=Je.getImmediate();return`${Et.library}/${Et.version}`}return null}).filter(Je=>Je).join(" ")}}const He="@firebase/app",ae=new u.Yd("@firebase/app"),ke="[DEFAULT]",$e={[He]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},et=new Map,Ge=new Map;function nt(rt,Ce){try{rt.container.addComponent(Ce)}catch(Je){ae.debug(`Component ${Ce.name} failed to register with FirebaseApp ${rt.name}`,Je)}}function kt(rt){const Ce=rt.name;if(Ge.has(Ce))return ae.debug(`There were multiple attempts to register component ${Ce}.`),!1;Ge.set(Ce,rt);for(const Je of et.values())nt(Je,rt);return!0}function Gt(rt,Ce){const Je=rt.container.getProvider("heartbeat").getImmediate({optional:!0});return Je&&Je.triggerHeartbeat(),rt.container.getProvider(Ce)}const Ct=new be.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class jn{constructor(Ce,Je,Et){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},Je),this._name=Je.name,this._automaticDataCollectionEnabled=Je.automaticDataCollectionEnabled,this._container=Et,this.container.addComponent(new ne.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw Ct.create("app-deleted",{appName:this._name})}}const wr="9.23.0";function gr(rt,Ce={}){let Je=rt;"object"!=typeof Ce&&(Ce={name:Ce});const Et=Object.assign({name:ke,automaticDataCollectionEnabled:!1},Ce),$t=Et.name;if("string"!=typeof $t||!$t)throw Ct.create("bad-app-name",{appName:String($t)});if(Je||(Je=(0,be.aH)()),!Je)throw Ct.create("no-options");const Wt=et.get($t);if(Wt){if((0,be.vZ)(Je,Wt.options)&&(0,be.vZ)(Et,Wt.config))return Wt;throw Ct.create("duplicate-app",{appName:$t})}const qn=new ne.H0($t);for(const B of Ge.values())qn.addComponent(B);const Q=new jn(Je,Et,qn);return et.set($t,Q),Q}function Ae(rt=ke){const Ce=et.get(rt);if(!Ce&&rt===ke&&(0,be.aH)())return gr();if(!Ce)throw Ct.create("no-app",{appName:rt});return Ce}function Ee(){return Array.from(et.values())}function gt(rt,Ce,Je){var Et;let $t=null!==(Et=$e[rt])&&void 0!==Et?Et:rt;Je&&($t+=`-${Je}`);const Wt=$t.match(/\s|\//),qn=Ce.match(/\s|\//);if(Wt||qn){const Q=[`Unable to register library "${$t}" with version "${Ce}":`];return Wt&&Q.push(`library name "${$t}" contains illegal characters (whitespace or "/")`),Wt&&qn&&Q.push("and"),qn&&Q.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void ae.warn(Q.join(" "))}kt(new ne.wA(`${$t}-version`,()=>({library:$t,version:Ce}),"VERSION"))}const hn="firebase-heartbeat-database",Tn=1,Kt="firebase-heartbeat-store";let cn=null;function fr(){return cn||(cn=(0,ue.X3)(hn,Tn,{upgrade:(rt,Ce)=>{0===Ce&&rt.createObjectStore(Kt)}}).catch(rt=>{throw Ct.create("idb-open",{originalErrorMessage:rt.message})})),cn}function Ir(){return(Ir=(0,b.Z)(function*(rt){try{return yield(yield fr()).transaction(Kt).objectStore(Kt).get(cr(rt))}catch(Ce){if(Ce instanceof be.ZR)ae.warn(Ce.message);else{const Je=Ct.create("idb-get",{originalErrorMessage:Ce?.message});ae.warn(Je.message)}}})).apply(this,arguments)}function Er(rt,Ce){return yn.apply(this,arguments)}function yn(){return(yn=(0,b.Z)(function*(rt,Ce){try{const Et=(yield fr()).transaction(Kt,"readwrite");yield Et.objectStore(Kt).put(Ce,cr(rt)),yield Et.done}catch(Je){if(Je instanceof be.ZR)ae.warn(Je.message);else{const Et=Ct.create("idb-set",{originalErrorMessage:Je?.message});ae.warn(Et.message)}}})).apply(this,arguments)}function cr(rt){return`${rt.name}!${rt.options.appId}`}class Bn{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const Je=this.container.getProvider("app").getImmediate();this._storage=new Qi(Je),this._heartbeatsCachePromise=this._storage.read().then(Et=>(this._heartbeatsCache=Et,Et))}triggerHeartbeat(){var Ce=this;return(0,b.Z)(function*(){const Et=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),$t=ti();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==$t&&!Ce._heartbeatsCache.heartbeats.some(Wt=>Wt.date===$t))return Ce._heartbeatsCache.heartbeats.push({date:$t,agent:Et}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(Wt=>{const qn=new Date(Wt.date).valueOf();return Date.now()-qn<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,b.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const Je=ti(),{heartbeatsToSend:Et,unsentEntries:$t}=function qt(rt,Ce=1024){const Je=[];let Et=rt.slice();for(const $t of rt){const Wt=Je.find(qn=>qn.agent===$t.agent);if(Wt){if(Wt.dates.push($t.date),zr(Je)>Ce){Wt.dates.pop();break}}else if(Je.push({agent:$t.agent,dates:[$t.date]}),zr(Je)>Ce){Je.pop();break}Et=Et.slice(1)}return{heartbeatsToSend:Je,unsentEntries:Et}}(Ce._heartbeatsCache.heartbeats),Wt=(0,be.L)(JSON.stringify({version:2,heartbeats:Et}));return Ce._heartbeatsCache.lastSentHeartbeatDate=Je,$t.length>0?(Ce._heartbeatsCache.heartbeats=$t,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),Wt})()}}function ti(){return(new Date).toISOString().substring(0,10)}class Qi{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!(0,be.hl)()&&(0,be.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,b.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function Jt(rt){return Ir.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var Je=this;return(0,b.Z)(function*(){var Et;if(yield Je._canUseIndexedDBPromise){const Wt=yield Je.read();return Er(Je.app,{lastSentHeartbeatDate:null!==(Et=Ce.lastSentHeartbeatDate)&&void 0!==Et?Et:Wt.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var Je=this;return(0,b.Z)(function*(){var Et;if(yield Je._canUseIndexedDBPromise){const Wt=yield Je.read();return Er(Je.app,{lastSentHeartbeatDate:null!==(Et=Ce.lastSentHeartbeatDate)&&void 0!==Et?Et:Wt.lastSentHeartbeatDate,heartbeats:[...Wt.heartbeats,...Ce.heartbeats]})}})()}}function zr(rt){return(0,be.L)(JSON.stringify({version:2,heartbeats:rt})).length}!function Gr(rt){kt(new ne.wA("platform-logger",Ce=>new fe(Ce),"PRIVATE")),kt(new ne.wA("heartbeat",Ce=>new Bn(Ce),"PRIVATE")),gt(He,"0.9.13",rt),gt(He,"0.9.13","esm2017"),gt("fire-js","")}("")},6820:(Bt,Ve,K)=>{K.d(Ve,{H0:()=>He,wA:()=>u});var b=K(5861),ne=K(229);class u{constructor(ae,de,Me){this.name=ae,this.instanceFactory=de,this.type=Me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ae){return this.instantiationMode=ae,this}setMultipleInstances(ae){return this.multipleInstances=ae,this}setServiceProps(ae){return this.serviceProps=ae,this}setInstanceCreatedCallback(ae){return this.onInstanceCreated=ae,this}}const be="[DEFAULT]";class ue{constructor(ae,de){this.name=ae,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ae){const de=this.normalizeInstanceIdentifier(ae);if(!this.instancesDeferred.has(de)){const Me=new ne.BH;if(this.instancesDeferred.set(de,Me),this.isInitialized(de)||this.shouldAutoInitialize())try{const Se=this.getOrInitializeService({instanceIdentifier:de});Se&&Me.resolve(Se)}catch{}}return this.instancesDeferred.get(de).promise}getImmediate(ae){var de;const Me=this.normalizeInstanceIdentifier(ae?.identifier),Se=null!==(de=ae?.optional)&&void 0!==de&&de;if(!this.isInitialized(Me)&&!this.shouldAutoInitialize()){if(Se)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Me})}catch(xe){if(Se)return null;throw xe}}getComponent(){return this.component}setComponent(ae){if(ae.name!==this.name)throw Error(`Mismatching Component ${ae.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ae,this.shouldAutoInitialize()){if(function Te(Oe){return"EAGER"===Oe.instantiationMode}(ae))try{this.getOrInitializeService({instanceIdentifier:be})}catch{}for(const[de,Me]of this.instancesDeferred.entries()){const Se=this.normalizeInstanceIdentifier(de);try{const xe=this.getOrInitializeService({instanceIdentifier:Se});Me.resolve(xe)}catch{}}}}clearInstance(ae=be){this.instancesDeferred.delete(ae),this.instancesOptions.delete(ae),this.instances.delete(ae)}delete(){var ae=this;return(0,b.Z)(function*(){const de=Array.from(ae.instances.values());yield Promise.all([...de.filter(Me=>"INTERNAL"in Me).map(Me=>Me.INTERNAL.delete()),...de.filter(Me=>"_delete"in Me).map(Me=>Me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ae=be){return this.instances.has(ae)}getOptions(ae=be){return this.instancesOptions.get(ae)||{}}initialize(ae={}){const{options:de={}}=ae,Me=this.normalizeInstanceIdentifier(ae.instanceIdentifier);if(this.isInitialized(Me))throw Error(`${this.name}(${Me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Se=this.getOrInitializeService({instanceIdentifier:Me,options:de});for(const[xe,qe]of this.instancesDeferred.entries())Me===this.normalizeInstanceIdentifier(xe)&&qe.resolve(Se);return Se}onInit(ae,de){var Me;const Se=this.normalizeInstanceIdentifier(de),xe=null!==(Me=this.onInitCallbacks.get(Se))&&void 0!==Me?Me:new Set;xe.add(ae),this.onInitCallbacks.set(Se,xe);const qe=this.instances.get(Se);return qe&&ae(qe,Se),()=>{xe.delete(ae)}}invokeOnInitCallbacks(ae,de){const Me=this.onInitCallbacks.get(de);if(Me)for(const Se of Me)try{Se(ae,de)}catch{}}getOrInitializeService({instanceIdentifier:ae,options:de={}}){let Me=this.instances.get(ae);if(!Me&&this.component&&(Me=this.component.instanceFactory(this.container,{instanceIdentifier:(Oe=ae,Oe===be?void 0:Oe),options:de}),this.instances.set(ae,Me),this.instancesOptions.set(ae,de),this.invokeOnInitCallbacks(Me,ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ae,Me)}catch{}var Oe;return Me||null}normalizeInstanceIdentifier(ae=be){return this.component?this.component.multipleInstances?ae:be:ae}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class He{constructor(ae){this.name=ae,this.providers=new Map}addComponent(ae){const de=this.getProvider(ae.name);if(de.isComponentSet())throw new Error(`Component ${ae.name} has already been registered with ${this.name}`);de.setComponent(ae)}addOrOverwriteComponent(ae){this.getProvider(ae.name).isComponentSet()&&this.providers.delete(ae.name),this.addComponent(ae)}getProvider(ae){if(this.providers.has(ae))return this.providers.get(ae);const de=new ue(ae,this);return this.providers.set(ae,de),de}getProviders(){return Array.from(this.providers.values())}}},4097:(Bt,Ve,K)=>{K.d(Ve,{C6:()=>b.C6,KN:()=>b.KN,Mq:()=>b.Mq,ZF:()=>b.ZF});var b=K(7592);(0,b.KN)("firebase","9.23.0","app")},95:(Bt,Ve,K)=>{K.d(Ve,{Wl:()=>Pt,Fj:()=>ft,CE:()=>Vt,qu:()=>Ia,NI:()=>jr,u:()=>gi,cw:()=>sn,sg:()=>Ti,x0:()=>Di,u5:()=>ca,wO:()=>Js,Cf:()=>yt,JU:()=>qe,JJ:()=>Kt,JL:()=>cn,YN:()=>Sr,wV:()=>Ys,UX:()=>hl,Q7:()=>Hn,EJ:()=>er,kI:()=>Xe,_Y:()=>ps,Kr:()=>qr});var b=K(9468),ne=K(6814),u=K(2459),be=K(5592),ue=K(7453),fe=K(4829),Te=K(9940),He=K(8251),Oe=K(7400),ae=K(2714),Me=K(7398);let Se=(()=>{class W{constructor(U,ce){this._renderer=U,this._elementRef=ce,this.onChange=De=>{},this.onTouched=()=>{}}setProperty(U,ce){this._renderer.setProperty(this._elementRef.nativeElement,U,ce)}registerOnTouched(U){this.onTouched=U}registerOnChange(U){this.onChange=U}setDisabledState(U){this.setProperty("disabled",U)}static#e=this.\u0275fac=function(ce){return new(ce||W)(b.Y36(b.Qsj),b.Y36(b.SBq))};static#t=this.\u0275dir=b.lG2({type:W})}return W})(),xe=(()=>{class W extends Se{static#e=this.\u0275fac=function(){let U;return function(De){return(U||(U=b.n5z(W)))(De||W)}}();static#t=this.\u0275dir=b.lG2({type:W,features:[b.qOj]})}return W})();const qe=new b.OlP("NgValueAccessor"),It={provide:qe,useExisting:(0,b.Gpc)(()=>Pt),multi:!0};let Pt=(()=>{class W extends xe{writeValue(U){this.setProperty("checked",U)}static#e=this.\u0275fac=function(){let U;return function(De){return(U||(U=b.n5z(W)))(De||W)}}();static#t=this.\u0275dir=b.lG2({type:W,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ce,De){1&ce&&b.NdJ("change",function(Un){return De.onChange(Un.target.checked)})("blur",function(){return De.onTouched()})},features:[b._Bn([It]),b.qOj]})}return W})();const Ot={provide:qe,useExisting:(0,b.Gpc)(()=>ft),multi:!0},At=new b.OlP("CompositionEventMode");let ft=(()=>{class W extends Se{constructor(U,ce,De){super(U,ce),this._compositionMode=De,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Dn(){const W=(0,ne.q)()?(0,ne.q)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(U){this.setProperty("value",U??"")}_handleInput(U){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(U)}_compositionStart(){this._composing=!0}_compositionEnd(U){this._composing=!1,this._compositionMode&&this.onChange(U)}static#e=this.\u0275fac=function(ce){return new(ce||W)(b.Y36(b.Qsj),b.Y36(b.SBq),b.Y36(At,8))};static#t=this.\u0275dir=b.lG2({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ce,De){1&ce&&b.NdJ("input",function(Un){return De._handleInput(Un.target.value)})("blur",function(){return De.onTouched()})("compositionstart",function(){return De._compositionStart()})("compositionend",function(Un){return De._compositionEnd(Un.target.value)})},features:[b._Bn([Ot]),b.qOj]})}return W})();function ot(W){return null==W||("string"==typeof W||Array.isArray(W))&&0===W.length}function vt(W){return null!=W&&"number"==typeof W.length}const yt=new b.OlP("NgValidators"),je=new b.OlP("NgAsyncValidators"),we=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Xe{static min(J){return function _t(W){return J=>{if(ot(J.value)||ot(W))return null;const U=parseFloat(J.value);return!isNaN(U)&&U<W?{min:{min:W,actual:J.value}}:null}}(J)}static max(J){return function Pn(W){return J=>{if(ot(J.value)||ot(W))return null;const U=parseFloat(J.value);return!isNaN(U)&&U>W?{max:{max:W,actual:J.value}}:null}}(J)}static required(J){return dt(J)}static requiredTrue(J){return function pn(W){return!0===W.value?null:{required:!0}}(J)}static email(J){return function Cn(W){return ot(W.value)||we.test(W.value)?null:{email:!0}}(J)}static minLength(J){return Vn(J)}static maxLength(J){return function sr(W){return J=>vt(J.value)&&J.value.length>W?{maxlength:{requiredLength:W,actualLength:J.value.length}}:null}(J)}static pattern(J){return function hr(W){if(!W)return ke;let J,U;return"string"==typeof W?(U="","^"!==W.charAt(0)&&(U+="^"),U+=W,"$"!==W.charAt(W.length-1)&&(U+="$"),J=new RegExp(U)):(U=W.toString(),J=W),ce=>{if(ot(ce.value))return null;const De=ce.value;return J.test(De)?null:{pattern:{requiredPattern:U,actualValue:De}}}}(J)}static nullValidator(J){return null}static compose(J){return Gt(J)}static composeAsync(J){return mn(J)}}function dt(W){return ot(W.value)?{required:!0}:null}function Vn(W){return J=>ot(J.value)||!vt(J.value)?null:J.value.length<W?{minlength:{requiredLength:W,actualLength:J.value.length}}:null}function ke(W){return null}function $e(W){return null!=W}function et(W){return(0,b.QGY)(W)?(0,u.D)(W):W}function Ge(W){let J={};return W.forEach(U=>{J=null!=U?{...J,...U}:J}),0===Object.keys(J).length?null:J}function nt(W,J){return J.map(U=>U(W))}function kt(W){return W.map(J=>function wt(W){return!W.validate}(J)?J:U=>J.validate(U))}function Gt(W){if(!W)return null;const J=W.filter($e);return 0==J.length?null:function(U){return Ge(nt(U,J))}}function an(W){return null!=W?Gt(kt(W)):null}function mn(W){if(!W)return null;const J=W.filter($e);return 0==J.length?null:function(U){return function de(...W){const J=(0,Te.jO)(W),{args:U,keys:ce}=(0,ue.D)(W),De=new be.y(Xt=>{const{length:Un}=U;if(!Un)return void Xt.complete();const Zi=new Array(Un);let Hs=Un,Ni=Un;for(let us=0;us<Un;us++){let Gc=!1;(0,fe.Xf)(U[us]).subscribe((0,He.x)(Xt,Lo=>{Gc||(Gc=!0,Ni--),Zi[us]=Lo},()=>Hs--,void 0,()=>{(!Hs||!Gc)&&(Ni||Xt.next(ce?(0,ae.n)(ce,Zi):Zi),Xt.complete())}))}});return J?De.pipe((0,Oe.Z)(J)):De}(nt(U,J).map(et)).pipe((0,Me.U)(Ge))}}function _n(W){return null!=W?mn(kt(W)):null}function Ct(W,J){return null===W?[J]:Array.isArray(W)?[...W,J]:[W,J]}function jn(W){return W._rawValidators}function wr(W){return W._rawAsyncValidators}function gr(W){return W?Array.isArray(W)?W:[W]:[]}function Ae(W,J){return Array.isArray(W)?W.includes(J):W===J}function Ee(W,J){const U=gr(J);return gr(W).forEach(De=>{Ae(U,De)||U.push(De)}),U}function Ze(W,J){return gr(J).filter(U=>!Ae(W,U))}class ut{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(J){this._rawValidators=J||[],this._composedValidatorFn=an(this._rawValidators)}_setAsyncValidators(J){this._rawAsyncValidators=J||[],this._composedAsyncValidatorFn=_n(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(J){this._onDestroyCallbacks.push(J)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(J=>J()),this._onDestroyCallbacks=[]}reset(J=void 0){this.control&&this.control.reset(J)}hasError(J,U){return!!this.control&&this.control.hasError(J,U)}getError(J,U){return this.control?this.control.getError(J,U):null}}class gt extends ut{get formDirective(){return null}get path(){return null}}class Rt extends ut{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class mr{constructor(J){this._cd=J}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Kt=(()=>{class W extends mr{constructor(U){super(U)}static#e=this.\u0275fac=function(ce){return new(ce||W)(b.Y36(Rt,2))};static#t=this.\u0275dir=b.lG2({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ce,De){2&ce&&b.ekj("ng-untouched",De.isUntouched)("ng-touched",De.isTouched)("ng-pristine",De.isPristine)("ng-dirty",De.isDirty)("ng-valid",De.isValid)("ng-invalid",De.isInvalid)("ng-pending",De.isPending)},features:[b.qOj]})}return W})(),cn=(()=>{class W extends mr{constructor(U){super(U)}static#e=this.\u0275fac=function(ce){return new(ce||W)(b.Y36(gt,10))};static#t=this.\u0275dir=b.lG2({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ce,De){2&ce&&b.ekj("ng-untouched",De.isUntouched)("ng-touched",De.isTouched)("ng-pristine",De.isPristine)("ng-dirty",De.isDirty)("ng-valid",De.isValid)("ng-invalid",De.isInvalid)("ng-pending",De.isPending)("ng-submitted",De.isSubmitted)},features:[b.qOj]})}return W})();const Et="VALID",$t="INVALID",Wt="PENDING",qn="DISABLED";function Q(W){return($(W)?W.validators:W)||null}function G(W,J){return($(J)?J.asyncValidators:W)||null}function $(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}function Ie(W,J,U){const ce=W.controls;if(!(J?Object.keys(ce):ce).length)throw new b.vHH(1e3,"");if(!ce[U])throw new b.vHH(1001,"")}function Ke(W,J,U){W._forEachChild((ce,De)=>{if(void 0===U[De])throw new b.vHH(1002,"")})}class Tt{constructor(J,U){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(J),this._assignAsyncValidators(U)}get validator(){return this._composedValidatorFn}set validator(J){this._rawValidators=this._composedValidatorFn=J}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(J){this._rawAsyncValidators=this._composedAsyncValidatorFn=J}get parent(){return this._parent}get valid(){return this.status===Et}get invalid(){return this.status===$t}get pending(){return this.status==Wt}get disabled(){return this.status===qn}get enabled(){return this.status!==qn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(J){this._assignValidators(J)}setAsyncValidators(J){this._assignAsyncValidators(J)}addValidators(J){this.setValidators(Ee(J,this._rawValidators))}addAsyncValidators(J){this.setAsyncValidators(Ee(J,this._rawAsyncValidators))}removeValidators(J){this.setValidators(Ze(J,this._rawValidators))}removeAsyncValidators(J){this.setAsyncValidators(Ze(J,this._rawAsyncValidators))}hasValidator(J){return Ae(this._rawValidators,J)}hasAsyncValidator(J){return Ae(this._rawAsyncValidators,J)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(J={}){this.touched=!0,this._parent&&!J.onlySelf&&this._parent.markAsTouched(J)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(J=>J.markAllAsTouched())}markAsUntouched(J={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(U=>{U.markAsUntouched({onlySelf:!0})}),this._parent&&!J.onlySelf&&this._parent._updateTouched(J)}markAsDirty(J={}){this.pristine=!1,this._parent&&!J.onlySelf&&this._parent.markAsDirty(J)}markAsPristine(J={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(U=>{U.markAsPristine({onlySelf:!0})}),this._parent&&!J.onlySelf&&this._parent._updatePristine(J)}markAsPending(J={}){this.status=Wt,!1!==J.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!J.onlySelf&&this._parent.markAsPending(J)}disable(J={}){const U=this._parentMarkedDirty(J.onlySelf);this.status=qn,this.errors=null,this._forEachChild(ce=>{ce.disable({...J,onlySelf:!0})}),this._updateValue(),!1!==J.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...J,skipPristineCheck:U}),this._onDisabledChange.forEach(ce=>ce(!0))}enable(J={}){const U=this._parentMarkedDirty(J.onlySelf);this.status=Et,this._forEachChild(ce=>{ce.enable({...J,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:J.emitEvent}),this._updateAncestors({...J,skipPristineCheck:U}),this._onDisabledChange.forEach(ce=>ce(!1))}_updateAncestors(J){this._parent&&!J.onlySelf&&(this._parent.updateValueAndValidity(J),J.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(J){this._parent=J}getRawValue(){return this.value}updateValueAndValidity(J={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Et||this.status===Wt)&&this._runAsyncValidator(J.emitEvent)),!1!==J.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!J.onlySelf&&this._parent.updateValueAndValidity(J)}_updateTreeValidity(J={emitEvent:!0}){this._forEachChild(U=>U._updateTreeValidity(J)),this.updateValueAndValidity({onlySelf:!0,emitEvent:J.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qn:Et}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(J){if(this.asyncValidator){this.status=Wt,this._hasOwnPendingAsyncValidator=!0;const U=et(this.asyncValidator(this));this._asyncValidationSubscription=U.subscribe(ce=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ce,{emitEvent:J})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(J,U={}){this.errors=J,this._updateControlsErrors(!1!==U.emitEvent)}get(J){let U=J;return null==U||(Array.isArray(U)||(U=U.split(".")),0===U.length)?null:U.reduce((ce,De)=>ce&&ce._find(De),this)}getError(J,U){const ce=U?this.get(U):this;return ce&&ce.errors?ce.errors[J]:null}hasError(J,U){return!!this.getError(J,U)}get root(){let J=this;for(;J._parent;)J=J._parent;return J}_updateControlsErrors(J){this.status=this._calculateStatus(),J&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(J)}_initObservables(){this.valueChanges=new b.vpe,this.statusChanges=new b.vpe}_calculateStatus(){return this._allControlsDisabled()?qn:this.errors?$t:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wt)?Wt:this._anyControlsHaveStatus($t)?$t:Et}_anyControlsHaveStatus(J){return this._anyControls(U=>U.status===J)}_anyControlsDirty(){return this._anyControls(J=>J.dirty)}_anyControlsTouched(){return this._anyControls(J=>J.touched)}_updatePristine(J={}){this.pristine=!this._anyControlsDirty(),this._parent&&!J.onlySelf&&this._parent._updatePristine(J)}_updateTouched(J={}){this.touched=this._anyControlsTouched(),this._parent&&!J.onlySelf&&this._parent._updateTouched(J)}_registerOnCollectionChange(J){this._onCollectionChange=J}_setUpdateStrategy(J){$(J)&&null!=J.updateOn&&(this._updateOn=J.updateOn)}_parentMarkedDirty(J){return!J&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(J){return null}_assignValidators(J){this._rawValidators=Array.isArray(J)?J.slice():J,this._composedValidatorFn=function B(W){return Array.isArray(W)?an(W):W||null}(this._rawValidators)}_assignAsyncValidators(J){this._rawAsyncValidators=Array.isArray(J)?J.slice():J,this._composedAsyncValidatorFn=function q(W){return Array.isArray(W)?_n(W):W||null}(this._rawAsyncValidators)}}class sn extends Tt{constructor(J,U,ce){super(Q(U),G(ce,U)),this.controls=J,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(J,U){return this.controls[J]?this.controls[J]:(this.controls[J]=U,U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange),U)}addControl(J,U,ce={}){this.registerControl(J,U),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}removeControl(J,U={}){this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),delete this.controls[J],this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}setControl(J,U,ce={}){this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),delete this.controls[J],U&&this.registerControl(J,U),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}contains(J){return this.controls.hasOwnProperty(J)&&this.controls[J].enabled}setValue(J,U={}){Ke(this,0,J),Object.keys(J).forEach(ce=>{Ie(this,!0,ce),this.controls[ce].setValue(J[ce],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(J,U={}){null!=J&&(Object.keys(J).forEach(ce=>{const De=this.controls[ce];De&&De.patchValue(J[ce],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(J={},U={}){this._forEachChild((ce,De)=>{ce.reset(J?J[De]:null,{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this._reduceChildren({},(J,U,ce)=>(J[ce]=U.getRawValue(),J))}_syncPendingControls(){let J=this._reduceChildren(!1,(U,ce)=>!!ce._syncPendingControls()||U);return J&&this.updateValueAndValidity({onlySelf:!0}),J}_forEachChild(J){Object.keys(this.controls).forEach(U=>{const ce=this.controls[U];ce&&J(ce,U)})}_setUpControls(){this._forEachChild(J=>{J.setParent(this),J._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(J){for(const[U,ce]of Object.entries(this.controls))if(this.contains(U)&&J(ce))return!0;return!1}_reduceValue(){return this._reduceChildren({},(U,ce,De)=>((ce.enabled||this.disabled)&&(U[De]=ce.value),U))}_reduceChildren(J,U){let ce=J;return this._forEachChild((De,Xt)=>{ce=U(ce,De,Xt)}),ce}_allControlsDisabled(){for(const J of Object.keys(this.controls))if(this.controls[J].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(J){return this.controls.hasOwnProperty(J)?this.controls[J]:null}}class Zt extends sn{}const Wr=new b.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Kn}),Kn="always";function xs(W,J){return[...J.path,W]}function Jo(W,J,U=Kn){lo(W,J),J.valueAccessor.writeValue(W.value),(W.disabled||"always"===U)&&J.valueAccessor.setDisabledState?.(W.disabled),function Rs(W,J){J.valueAccessor.registerOnChange(U=>{W._pendingValue=U,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&as(W,J)})}(W,J),function Jn(W,J){const U=(ce,De)=>{J.valueAccessor.writeValue(ce),De&&J.viewToModelUpdate(ce)};W.registerOnChange(U),J._registerOnDestroy(()=>{W._unregisterOnChange(U)})}(W,J),function os(W,J){J.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&as(W,J),"submit"!==W.updateOn&&W.markAsTouched()})}(W,J),function ma(W,J){if(J.valueAccessor.setDisabledState){const U=ce=>{J.valueAccessor.setDisabledState(ce)};W.registerOnDisabledChange(U),J._registerOnDestroy(()=>{W._unregisterOnDisabledChange(U)})}}(W,J)}function ni(W,J,U=!0){const ce=()=>{};J.valueAccessor&&(J.valueAccessor.registerOnChange(ce),J.valueAccessor.registerOnTouched(ce)),Ii(W,J),W&&(J._invokeOnDestroyCallbacks(),W._registerOnCollectionChange(()=>{}))}function ga(W,J){W.forEach(U=>{U.registerOnValidatorChange&&U.registerOnValidatorChange(J)})}function lo(W,J){const U=jn(W);null!==J.validator?W.setValidators(Ct(U,J.validator)):"function"==typeof U&&W.setValidators([U]);const ce=wr(W);null!==J.asyncValidator?W.setAsyncValidators(Ct(ce,J.asyncValidator)):"function"==typeof ce&&W.setAsyncValidators([ce]);const De=()=>W.updateValueAndValidity();ga(J._rawValidators,De),ga(J._rawAsyncValidators,De)}function Ii(W,J){let U=!1;if(null!==W){if(null!==J.validator){const De=jn(W);if(Array.isArray(De)&&De.length>0){const Xt=De.filter(Un=>Un!==J.validator);Xt.length!==De.length&&(U=!0,W.setValidators(Xt))}}if(null!==J.asyncValidator){const De=wr(W);if(Array.isArray(De)&&De.length>0){const Xt=De.filter(Un=>Un!==J.asyncValidator);Xt.length!==De.length&&(U=!0,W.setAsyncValidators(Xt))}}}const ce=()=>{};return ga(J._rawValidators,ce),ga(J._rawAsyncValidators,ce),U}function as(W,J){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),J.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function Fs(W,J){const U=W.indexOf(J);U>-1&&W.splice(U,1)}function va(W){return"object"==typeof W&&null!==W&&2===Object.keys(W).length&&"value"in W&&"disabled"in W}const jr=class extends Tt{constructor(J=null,U,ce){super(Q(U),G(ce,U)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(J),this._setUpdateStrategy(U),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$(U)&&(U.nonNullable||U.initialValueIsDefault)&&(this.defaultValue=va(J)?J.value:J)}setValue(J,U={}){this.value=this._pendingValue=J,this._onChange.length&&!1!==U.emitModelToViewChange&&this._onChange.forEach(ce=>ce(this.value,!1!==U.emitViewToModelChange)),this.updateValueAndValidity(U)}patchValue(J,U={}){this.setValue(J,U)}reset(J=this.defaultValue,U={}){this._applyFormState(J),this.markAsPristine(U),this.markAsUntouched(U),this.setValue(this.value,U),this._pendingChange=!1}_updateValue(){}_anyControls(J){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(J){this._onChange.push(J)}_unregisterOnChange(J){Fs(this._onChange,J)}registerOnDisabledChange(J){this._onDisabledChange.push(J)}_unregisterOnDisabledChange(J){Fs(this._onDisabledChange,J)}_forEachChild(J){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(J){va(J)?(this.value=this._pendingValue=J.value,J.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=J}};let ra=(()=>{class W extends gt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return xs(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let U;return function(De){return(U||(U=b.n5z(W)))(De||W)}}();static#t=this.\u0275dir=b.lG2({type:W,features:[b.qOj]})}return W})(),ps=(()=>{class W{static#e=this.\u0275fac=function(ce){return new(ce||W)};static#t=this.\u0275dir=b.lG2({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return W})();const dl={provide:qe,useExisting:(0,b.Gpc)(()=>Ys),multi:!0};let Ys=(()=>{class W extends xe{writeValue(U){this.setProperty("value",U??"")}registerOnChange(U){this.onChange=ce=>{U(""==ce?null:parseFloat(ce))}}static#e=this.\u0275fac=function(){let U;return function(De){return(U||(U=b.n5z(W)))(De||W)}}();static#t=this.\u0275dir=b.lG2({type:W,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ce,De){1&ce&&b.NdJ("input",function(Un){return De.onChange(Un.target.value)})("blur",function(){return De.onTouched()})},features:[b._Bn([dl]),b.qOj]})}return W})(),li=(()=>{class W{static#e=this.\u0275fac=function(ce){return new(ce||W)};static#t=this.\u0275mod=b.oAB({type:W});static#n=this.\u0275inj=b.cJS({})}return W})();const ls=new b.OlP("NgModelWithFormControlWarning"),ba={provide:gt,useExisting:(0,b.Gpc)(()=>Ti)};let Ti=(()=>{class W extends gt{constructor(U,ce,De){super(),this.callSetDisabledState=De,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new b.vpe,this._setValidators(U),this._setAsyncValidators(ce)}ngOnChanges(U){this._checkFormPresent(),U.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ii(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(U){const ce=this.form.get(U.path);return Jo(ce,U,this.callSetDisabledState),ce.updateValueAndValidity({emitEvent:!1}),this.directives.push(U),ce}getControl(U){return this.form.get(U.path)}removeControl(U){ni(U.control||null,U,!1),function _a(W,J){const U=W.indexOf(J);U>-1&&W.splice(U,1)}(this.directives,U)}addFormGroup(U){this._setUpFormContainer(U)}removeFormGroup(U){this._cleanUpFormContainer(U)}getFormGroup(U){return this.form.get(U.path)}addFormArray(U){this._setUpFormContainer(U)}removeFormArray(U){this._cleanUpFormContainer(U)}getFormArray(U){return this.form.get(U.path)}updateModel(U,ce){this.form.get(U.path).setValue(ce)}onSubmit(U){return this.submitted=!0,function na(W,J){W._syncPendingControls(),J.forEach(U=>{const ce=U.control;"submit"===ce.updateOn&&ce._pendingChange&&(U.viewToModelUpdate(ce._pendingValue),ce._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_updateDomValue(){this.directives.forEach(U=>{const ce=U.control,De=this.form.get(U.path);ce!==De&&(ni(ce||null,U),(W=>W instanceof jr)(De)&&(Jo(De,U,this.callSetDisabledState),U.control=De))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(U){const ce=this.form.get(U.path);(function Xo(W,J){lo(W,J)})(ce,U),ce.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(U){if(this.form){const ce=this.form.get(U.path);ce&&function ea(W,J){return Ii(W,J)}(ce,U)&&ce.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){lo(this.form,this),this._oldForm&&Ii(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(ce){return new(ce||W)(b.Y36(yt,10),b.Y36(je,10),b.Y36(Wr,8))};static#t=this.\u0275dir=b.lG2({type:W,selectors:[["","formGroup",""]],hostBindings:function(ce,De){1&ce&&b.NdJ("submit",function(Un){return De.onSubmit(Un)})("reset",function(){return De.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[b._Bn([ba]),b.qOj,b.TTD]})}return W})();const sc={provide:gt,useExisting:(0,b.Gpc)(()=>Di)};let Di=(()=>{class W extends ra{constructor(U,ce,De){super(),this.name=null,this._parent=U,this._setValidators(ce),this._setAsyncValidators(De)}_checkParentType(){Mn(this._parent)}static#e=this.\u0275fac=function(ce){return new(ce||W)(b.Y36(gt,13),b.Y36(yt,10),b.Y36(je,10))};static#t=this.\u0275dir=b.lG2({type:W,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[b._Bn([sc]),b.qOj]})}return W})();const Tr={provide:gt,useExisting:(0,b.Gpc)(()=>Vt)};let Vt=(()=>{class W extends gt{constructor(U,ce,De){super(),this.name=null,this._parent=U,this._setValidators(ce),this._setAsyncValidators(De)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return xs(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Mn(this._parent)}static#e=this.\u0275fac=function(ce){return new(ce||W)(b.Y36(gt,13),b.Y36(yt,10),b.Y36(je,10))};static#t=this.\u0275dir=b.lG2({type:W,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[b._Bn([Tr]),b.qOj]})}return W})();function Mn(W){return!(W instanceof Di||W instanceof Ti||W instanceof Vt)}const Mr={provide:Rt,useExisting:(0,b.Gpc)(()=>gi)};let gi=(()=>{class W extends Rt{set isDisabled(U){}static#e=this._ngModelWarningSentOnce=!1;constructor(U,ce,De,Xt,Un){super(),this._ngModelWarningConfig=Un,this._added=!1,this.name=null,this.update=new b.vpe,this._ngModelWarningSent=!1,this._parent=U,this._setValidators(ce),this._setAsyncValidators(De),this.valueAccessor=function uo(W,J){if(!J)return null;let U,ce,De;return Array.isArray(J),J.forEach(Xt=>{Xt.constructor===ft?U=Xt:function zi(W){return Object.getPrototypeOf(W.constructor)===xe}(Xt)?ce=Xt:De=Xt}),De||ce||U||null}(0,Xt)}ngOnChanges(U){this._added||this._setUpControl(),function bs(W,J){if(!W.hasOwnProperty("model"))return!1;const U=W.model;return!!U.isFirstChange()||!Object.is(J,U.currentValue)}(U,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}get path(){return xs(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(ce){return new(ce||W)(b.Y36(gt,13),b.Y36(yt,10),b.Y36(je,10),b.Y36(qe,10),b.Y36(ls,8))};static#n=this.\u0275dir=b.lG2({type:W,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[b._Bn([Mr]),b.qOj,b.TTD]})}return W})();const po={provide:qe,useExisting:(0,b.Gpc)(()=>er),multi:!0};function Yr(W,J){return null==W?`${J}`:(J&&"object"==typeof J&&(J="Object"),`${W}: ${J}`.slice(0,50))}let er=(()=>{class W extends xe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){this.value=U;const De=Yr(this._getOptionId(U),U);this.setProperty("value",De)}registerOnChange(U){this.onChange=ce=>{this.value=this._getOptionValue(ce),U(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(U){for(const ce of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ce),U))return ce;return null}_getOptionValue(U){const ce=function nr(W){return W.split(":")[0]}(U);return this._optionMap.has(ce)?this._optionMap.get(ce):U}static#e=this.\u0275fac=function(){let U;return function(De){return(U||(U=b.n5z(W)))(De||W)}}();static#t=this.\u0275dir=b.lG2({type:W,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ce,De){1&ce&&b.NdJ("change",function(Un){return De.onChange(Un.target.value)})("blur",function(){return De.onTouched()})},inputs:{compareWith:"compareWith"},features:[b._Bn([po]),b.qOj]})}return W})(),Sr=(()=>{class W{constructor(U,ce,De){this._element=U,this._renderer=ce,this._select=De,this._select&&(this.id=this._select._registerOption())}set ngValue(U){null!=this._select&&(this._select._optionMap.set(this.id,U),this._setElementValue(Yr(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._setElementValue(U),this._select&&this._select.writeValue(this._select.value)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ce){return new(ce||W)(b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(er,9))};static#t=this.\u0275dir=b.lG2({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return W})();const Ji={provide:qe,useExisting:(0,b.Gpc)(()=>Ls),multi:!0};function Ln(W,J){return null==W?`${J}`:("string"==typeof J&&(J=`'${J}'`),J&&"object"==typeof J&&(J="Object"),`${W}: ${J}`.slice(0,50))}let Ls=(()=>{class W extends xe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){let ce;if(this.value=U,Array.isArray(U)){const De=U.map(Xt=>this._getOptionId(Xt));ce=(Xt,Un)=>{Xt._setSelected(De.indexOf(Un.toString())>-1)}}else ce=(De,Xt)=>{De._setSelected(!1)};this._optionMap.forEach(ce)}registerOnChange(U){this.onChange=ce=>{const De=[],Xt=ce.selectedOptions;if(void 0!==Xt){const Un=Xt;for(let Zi=0;Zi<Un.length;Zi++){const Ni=this._getOptionValue(Un[Zi].value);De.push(Ni)}}else{const Un=ce.options;for(let Zi=0;Zi<Un.length;Zi++){const Hs=Un[Zi];if(Hs.selected){const Ni=this._getOptionValue(Hs.value);De.push(Ni)}}}this.value=De,U(De)}}_registerOption(U){const ce=(this._idCounter++).toString();return this._optionMap.set(ce,U),ce}_getOptionId(U){for(const ce of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ce)._value,U))return ce;return null}_getOptionValue(U){const ce=function ko(W){return W.split(":")[0]}(U);return this._optionMap.has(ce)?this._optionMap.get(ce)._value:U}static#e=this.\u0275fac=function(){let U;return function(De){return(U||(U=b.n5z(W)))(De||W)}}();static#t=this.\u0275dir=b.lG2({type:W,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ce,De){1&ce&&b.NdJ("change",function(Un){return De.onChange(Un.target)})("blur",function(){return De.onTouched()})},inputs:{compareWith:"compareWith"},features:[b._Bn([Ji]),b.qOj]})}return W})(),qr=(()=>{class W{constructor(U,ce,De){this._element=U,this._renderer=ce,this._select=De,this._select&&(this.id=this._select._registerOption(this))}set ngValue(U){null!=this._select&&(this._value=U,this._setElementValue(Ln(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._select?(this._value=U,this._setElementValue(Ln(this.id,U)),this._select.writeValue(this._select.value)):this._setElementValue(U)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}_setSelected(U){this._renderer.setProperty(this._element.nativeElement,"selected",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ce){return new(ce||W)(b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(Ls,9))};static#t=this.\u0275dir=b.lG2({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return W})();let di=(()=>{class W{constructor(){this._validator=ke}ngOnChanges(U){if(this.inputName in U){const ce=this.normalizeInput(U[this.inputName].currentValue);this._enabled=this.enabled(ce),this._validator=this._enabled?this.createValidator(ce):ke,this._onChange&&this._onChange()}}validate(U){return this._validator(U)}registerOnValidatorChange(U){this._onChange=U}enabled(U){return null!=U}static#e=this.\u0275fac=function(ce){return new(ce||W)};static#t=this.\u0275dir=b.lG2({type:W,features:[b.TTD]})}return W})();const mo={provide:yt,useExisting:(0,b.Gpc)(()=>Hn),multi:!0};let Hn=(()=>{class W extends di{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=b.VuI,this.createValidator=U=>dt}enabled(U){return U}static#e=this.\u0275fac=function(){let U;return function(De){return(U||(U=b.n5z(W)))(De||W)}}();static#t=this.\u0275dir=b.lG2({type:W,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ce,De){2&ce&&b.uIk("required",De._enabled?"":null)},inputs:{required:"required"},features:[b._Bn([mo]),b.qOj]})}return W})();const yi={provide:yt,useExisting:(0,b.Gpc)(()=>Js),multi:!0};let Js=(()=>{class W extends di{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=U=>function Xi(W){return"number"==typeof W?W:parseInt(W,10)}(U),this.createValidator=U=>Vn(U)}static#e=this.\u0275fac=function(){let U;return function(De){return(U||(U=b.n5z(W)))(De||W)}}();static#t=this.\u0275dir=b.lG2({type:W,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(ce,De){2&ce&&b.uIk("minlength",De._enabled?De.minlength:null)},inputs:{minlength:"minlength"},features:[b._Bn([yi]),b.qOj]})}return W})(),Bs=(()=>{class W{static#e=this.\u0275fac=function(ce){return new(ce||W)};static#t=this.\u0275mod=b.oAB({type:W});static#n=this.\u0275inj=b.cJS({imports:[li]})}return W})();class Vs extends Tt{constructor(J,U,ce){super(Q(U),G(ce,U)),this.controls=J,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(J){return this.controls[this._adjustIndex(J)]}push(J,U={}){this.controls.push(J),this._registerControl(J),this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}insert(J,U,ce={}){this.controls.splice(J,0,U),this._registerControl(U),this.updateValueAndValidity({emitEvent:ce.emitEvent})}removeAt(J,U={}){let ce=this._adjustIndex(J);ce<0&&(ce=0),this.controls[ce]&&this.controls[ce]._registerOnCollectionChange(()=>{}),this.controls.splice(ce,1),this.updateValueAndValidity({emitEvent:U.emitEvent})}setControl(J,U,ce={}){let De=this._adjustIndex(J);De<0&&(De=0),this.controls[De]&&this.controls[De]._registerOnCollectionChange(()=>{}),this.controls.splice(De,1),U&&(this.controls.splice(De,0,U),this._registerControl(U)),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(J,U={}){Ke(this,0,J),J.forEach((ce,De)=>{Ie(this,!1,De),this.at(De).setValue(ce,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(J,U={}){null!=J&&(J.forEach((ce,De)=>{this.at(De)&&this.at(De).patchValue(ce,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(J=[],U={}){this._forEachChild((ce,De)=>{ce.reset(J[De],{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this.controls.map(J=>J.getRawValue())}clear(J={}){this.controls.length<1||(this._forEachChild(U=>U._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:J.emitEvent}))}_adjustIndex(J){return J<0?J+this.length:J}_syncPendingControls(){let J=this.controls.reduce((U,ce)=>!!ce._syncPendingControls()||U,!1);return J&&this.updateValueAndValidity({onlySelf:!0}),J}_forEachChild(J){this.controls.forEach((U,ce)=>{J(U,ce)})}_updateValue(){this.value=this.controls.filter(J=>J.enabled||this.disabled).map(J=>J.value)}_anyControls(J){return this.controls.some(U=>U.enabled&&J(U))}_setUpControls(){this._forEachChild(J=>this._registerControl(J))}_allControlsDisabled(){for(const J of this.controls)if(J.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(J){J.setParent(this),J._registerOnCollectionChange(this._onCollectionChange)}_find(J){return this.at(J)??null}}function Xs(W){return!!W&&(void 0!==W.asyncValidators||void 0!==W.validators||void 0!==W.updateOn)}let Ia=(()=>{class W{constructor(){this.useNonNullable=!1}get nonNullable(){const U=new W;return U.useNonNullable=!0,U}group(U,ce=null){const De=this._reduceControls(U);let Xt={};return Xs(ce)?Xt=ce:null!==ce&&(Xt.validators=ce.validator,Xt.asyncValidators=ce.asyncValidator),new sn(De,Xt)}record(U,ce=null){const De=this._reduceControls(U);return new Zt(De,ce)}control(U,ce,De){let Xt={};return this.useNonNullable?(Xs(ce)?Xt=ce:(Xt.validators=ce,Xt.asyncValidators=De),new jr(U,{...Xt,nonNullable:!0})):new jr(U,ce,De)}array(U,ce,De){const Xt=U.map(Un=>this._createControl(Un));return new Vs(Xt,ce,De)}_reduceControls(U){const ce={};return Object.keys(U).forEach(De=>{ce[De]=this._createControl(U[De])}),ce}_createControl(U){return U instanceof jr||U instanceof Tt?U:Array.isArray(U)?this.control(U[0],U.length>1?U[1]:null,U.length>2?U[2]:null):this.control(U)}static#e=this.\u0275fac=function(ce){return new(ce||W)};static#t=this.\u0275prov=b.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})(),ca=(()=>{class W{static withConfig(U){return{ngModule:W,providers:[{provide:Wr,useValue:U.callSetDisabledState??Kn}]}}static#e=this.\u0275fac=function(ce){return new(ce||W)};static#t=this.\u0275mod=b.oAB({type:W});static#n=this.\u0275inj=b.cJS({imports:[Bs]})}return W})(),hl=(()=>{class W{static withConfig(U){return{ngModule:W,providers:[{provide:ls,useValue:U.warnOnNgModelWithFormControl??"always"},{provide:Wr,useValue:U.callSetDisabledState??Kn}]}}static#e=this.\u0275fac=function(ce){return new(ce||W)};static#t=this.\u0275mod=b.oAB({type:W});static#n=this.\u0275inj=b.cJS({imports:[Bs]})}return W})()},2614:()=>{const Bt=":";const jn=function(Ae,...Ee){if(jn.translate){const ut=jn.translate(Ae,Ee);Ae=ut[0],Ee=ut[1]}let Ze=gr(Ae[0],Ae.raw[0]);for(let ut=1;ut<Ae.length;ut++)Ze+=Ee[ut-1]+gr(Ae[ut],Ae.raw[ut]);return Ze},wr=":";function gr(Ae,Ee){return Ee.charAt(0)===wr?Ae.substring(function $e(Ae,Ee){for(let Ze=1,ut=1;Ze<Ae.length;Ze++,ut++)if("\\"===Ee[ut])ut++;else if(Ae[Ze]===Bt)return Ze;throw new Error(`Unterminated $localize metadata block in "${Ee}".`)}(Ae,Ee)+1):Ae}globalThis.$localize=jn},6593:(Bt,Ve,K)=>{K.d(Ve,{Dx:()=>Rt,H7:()=>Qi,b2:()=>Ae,q6:()=>Ct,se:()=>we});var b=K(9468),ne=K(6814);class u extends ne.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class be extends u{static makeCurrent(){(0,ne.HT)(new be)}onAndCancel(G,q,$){return G.addEventListener(q,$),()=>{G.removeEventListener(q,$)}}dispatchEvent(G,q){G.dispatchEvent(q)}remove(G){G.parentNode&&G.parentNode.removeChild(G)}createElement(G,q){return(q=q||this.getDefaultDocument()).createElement(G)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(G){return G.nodeType===Node.ELEMENT_NODE}isShadowRoot(G){return G instanceof DocumentFragment}getGlobalEventTarget(G,q){return"window"===q?window:"document"===q?G:"body"===q?G.body:null}getBaseHref(G){const q=function fe(){return ue=ue||document.querySelector("base"),ue?ue.getAttribute("href"):null}();return null==q?null:function He(B){Te=Te||document.createElement("a"),Te.setAttribute("href",B);const G=Te.pathname;return"/"===G.charAt(0)?G:`/${G}`}(q)}resetBaseElement(){ue=null}getUserAgent(){return window.navigator.userAgent}getCookie(G){return(0,ne.Mx)(document.cookie,G)}}let Te,ue=null,ae=(()=>{class B{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function($){return new($||B)};static#t=this.\u0275prov=b.Yz7({token:B,factory:B.\u0275fac})}return B})();const de=new b.OlP("EventManagerPlugins");let Me=(()=>{class B{constructor(q,$){this._zone=$,this._eventNameToPlugin=new Map,q.forEach(Ie=>{Ie.manager=this}),this._plugins=q.slice().reverse()}addEventListener(q,$,Ie){return this._findPluginFor($).addEventListener(q,$,Ie)}getZone(){return this._zone}_findPluginFor(q){let $=this._eventNameToPlugin.get(q);if($)return $;if($=this._plugins.find(Ke=>Ke.supports(q)),!$)throw new b.vHH(5101,!1);return this._eventNameToPlugin.set(q,$),$}static#e=this.\u0275fac=function($){return new($||B)(b.LFG(de),b.LFG(b.R0b))};static#t=this.\u0275prov=b.Yz7({token:B,factory:B.\u0275fac})}return B})();class Se{constructor(G){this._doc=G}}const xe="ng-app-id";let qe=(()=>{class B{constructor(q,$,Ie,Ke={}){this.doc=q,this.appId=$,this.nonce=Ie,this.platformId=Ke,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ne.PM)(Ke),this.resetHostNodes()}addStyles(q){for(const $ of q)1===this.changeUsageCount($,1)&&this.onStyleAdded($)}removeStyles(q){for(const $ of q)this.changeUsageCount($,-1)<=0&&this.onStyleRemoved($)}ngOnDestroy(){const q=this.styleNodesInDOM;q&&(q.forEach($=>$.remove()),q.clear());for(const $ of this.getAllStyles())this.onStyleRemoved($);this.resetHostNodes()}addHost(q){this.hostNodes.add(q);for(const $ of this.getAllStyles())this.addStyleToHost(q,$)}removeHost(q){this.hostNodes.delete(q)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(q){for(const $ of this.hostNodes)this.addStyleToHost($,q)}onStyleRemoved(q){const $=this.styleRef;$.get(q)?.elements?.forEach(Ie=>Ie.remove()),$.delete(q)}collectServerRenderedStyles(){const q=this.doc.head?.querySelectorAll(`style[${xe}="${this.appId}"]`);if(q?.length){const $=new Map;return q.forEach(Ie=>{null!=Ie.textContent&&$.set(Ie.textContent,Ie)}),$}return null}changeUsageCount(q,$){const Ie=this.styleRef;if(Ie.has(q)){const Ke=Ie.get(q);return Ke.usage+=$,Ke.usage}return Ie.set(q,{usage:$,elements:[]}),$}getStyleElement(q,$){const Ie=this.styleNodesInDOM,Ke=Ie?.get($);if(Ke?.parentNode===q)return Ie.delete($),Ke.removeAttribute(xe),Ke;{const Tt=this.doc.createElement("style");return this.nonce&&Tt.setAttribute("nonce",this.nonce),Tt.textContent=$,this.platformIsServer&&Tt.setAttribute(xe,this.appId),Tt}}addStyleToHost(q,$){const Ie=this.getStyleElement(q,$);q.appendChild(Ie);const Ke=this.styleRef,Tt=Ke.get($)?.elements;Tt?Tt.push(Ie):Ke.set($,{elements:[Ie],usage:1})}resetHostNodes(){const q=this.hostNodes;q.clear(),q.add(this.doc.head)}static#e=this.\u0275fac=function($){return new($||B)(b.LFG(ne.K0),b.LFG(b.AFp),b.LFG(b.Ojb,8),b.LFG(b.Lbi))};static#t=this.\u0275prov=b.Yz7({token:B,factory:B.\u0275fac})}return B})();const It={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Pt=/%COMP%/g,ot=new b.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function je(B,G){return G.map(q=>q.replace(Pt,B))}let we=(()=>{class B{constructor(q,$,Ie,Ke,Tt,sn,ln,kn=null){this.eventManager=q,this.sharedStylesHost=$,this.appId=Ie,this.removeStylesOnCompDestroy=Ke,this.doc=Tt,this.platformId=sn,this.ngZone=ln,this.nonce=kn,this.rendererByCompId=new Map,this.platformIsServer=(0,ne.PM)(sn),this.defaultRenderer=new Xe(q,Tt,ln,this.platformIsServer)}createRenderer(q,$){if(!q||!$)return this.defaultRenderer;this.platformIsServer&&$.encapsulation===b.ifc.ShadowDom&&($={...$,encapsulation:b.ifc.Emulated});const Ie=this.getOrCreateRenderer(q,$);return Ie instanceof Vn?Ie.applyToHost(q):Ie instanceof Cn&&Ie.applyStyles(),Ie}getOrCreateRenderer(q,$){const Ie=this.rendererByCompId;let Ke=Ie.get($.id);if(!Ke){const Tt=this.doc,sn=this.ngZone,ln=this.eventManager,kn=this.sharedStylesHost,Zt=this.removeStylesOnCompDestroy,Fn=this.platformIsServer;switch($.encapsulation){case b.ifc.Emulated:Ke=new Vn(ln,kn,$,this.appId,Zt,Tt,sn,Fn);break;case b.ifc.ShadowDom:return new pn(ln,kn,q,$,Tt,sn,this.nonce,Fn);default:Ke=new Cn(ln,kn,$,Zt,Tt,sn,Fn)}Ie.set($.id,Ke)}return Ke}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function($){return new($||B)(b.LFG(Me),b.LFG(qe),b.LFG(b.AFp),b.LFG(ot),b.LFG(ne.K0),b.LFG(b.Lbi),b.LFG(b.R0b),b.LFG(b.Ojb))};static#t=this.\u0275prov=b.Yz7({token:B,factory:B.\u0275fac})}return B})();class Xe{constructor(G,q,$,Ie){this.eventManager=G,this.doc=q,this.ngZone=$,this.platformIsServer=Ie,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(G,q){return q?this.doc.createElementNS(It[q]||q,G):this.doc.createElement(G)}createComment(G){return this.doc.createComment(G)}createText(G){return this.doc.createTextNode(G)}appendChild(G,q){(dt(G)?G.content:G).appendChild(q)}insertBefore(G,q,$){G&&(dt(G)?G.content:G).insertBefore(q,$)}removeChild(G,q){G&&G.removeChild(q)}selectRootElement(G,q){let $="string"==typeof G?this.doc.querySelector(G):G;if(!$)throw new b.vHH(-5104,!1);return q||($.textContent=""),$}parentNode(G){return G.parentNode}nextSibling(G){return G.nextSibling}setAttribute(G,q,$,Ie){if(Ie){q=Ie+":"+q;const Ke=It[Ie];Ke?G.setAttributeNS(Ke,q,$):G.setAttribute(q,$)}else G.setAttribute(q,$)}removeAttribute(G,q,$){if($){const Ie=It[$];Ie?G.removeAttributeNS(Ie,q):G.removeAttribute(`${$}:${q}`)}else G.removeAttribute(q)}addClass(G,q){G.classList.add(q)}removeClass(G,q){G.classList.remove(q)}setStyle(G,q,$,Ie){Ie&(b.JOm.DashCase|b.JOm.Important)?G.style.setProperty(q,$,Ie&b.JOm.Important?"important":""):G.style[q]=$}removeStyle(G,q,$){$&b.JOm.DashCase?G.style.removeProperty(q):G.style[q]=""}setProperty(G,q,$){G[q]=$}setValue(G,q){G.nodeValue=q}listen(G,q,$){if("string"==typeof G&&!(G=(0,ne.q)().getGlobalEventTarget(this.doc,G)))throw new Error(`Unsupported event target ${G} for event ${q}`);return this.eventManager.addEventListener(G,q,this.decoratePreventDefault($))}decoratePreventDefault(G){return q=>{if("__ngUnwrap__"===q)return G;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>G(q)):G(q))&&q.preventDefault()}}}function dt(B){return"TEMPLATE"===B.tagName&&void 0!==B.content}class pn extends Xe{constructor(G,q,$,Ie,Ke,Tt,sn,ln){super(G,Ke,Tt,ln),this.sharedStylesHost=q,this.hostEl=$,this.shadowRoot=$.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const kn=je(Ie.id,Ie.styles);for(const Zt of kn){const Fn=document.createElement("style");sn&&Fn.setAttribute("nonce",sn),Fn.textContent=Zt,this.shadowRoot.appendChild(Fn)}}nodeOrShadowRoot(G){return G===this.hostEl?this.shadowRoot:G}appendChild(G,q){return super.appendChild(this.nodeOrShadowRoot(G),q)}insertBefore(G,q,$){return super.insertBefore(this.nodeOrShadowRoot(G),q,$)}removeChild(G,q){return super.removeChild(this.nodeOrShadowRoot(G),q)}parentNode(G){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(G)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Cn extends Xe{constructor(G,q,$,Ie,Ke,Tt,sn,ln){super(G,Ke,Tt,sn),this.sharedStylesHost=q,this.removeStylesOnCompDestroy=Ie,this.styles=ln?je(ln,$.styles):$.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Vn extends Cn{constructor(G,q,$,Ie,Ke,Tt,sn,ln){const kn=Ie+"-"+$.id;super(G,q,$,Ke,Tt,sn,ln,kn),this.contentAttr=function vt(B){return"_ngcontent-%COMP%".replace(Pt,B)}(kn),this.hostAttr=function yt(B){return"_nghost-%COMP%".replace(Pt,B)}(kn)}applyToHost(G){this.applyStyles(),this.setAttribute(G,this.hostAttr,"")}createElement(G,q){const $=super.createElement(G,q);return super.setAttribute($,this.contentAttr,""),$}}let sr=(()=>{class B extends Se{constructor(q){super(q)}supports(q){return!0}addEventListener(q,$,Ie){return q.addEventListener($,Ie,!1),()=>this.removeEventListener(q,$,Ie)}removeEventListener(q,$,Ie){return q.removeEventListener($,Ie)}static#e=this.\u0275fac=function($){return new($||B)(b.LFG(ne.K0))};static#t=this.\u0275prov=b.Yz7({token:B,factory:B.\u0275fac})}return B})();const hr=["alt","control","meta","shift"],ke={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$e={alt:B=>B.altKey,control:B=>B.ctrlKey,meta:B=>B.metaKey,shift:B=>B.shiftKey};let et=(()=>{class B extends Se{constructor(q){super(q)}supports(q){return null!=B.parseEventName(q)}addEventListener(q,$,Ie){const Ke=B.parseEventName($),Tt=B.eventCallback(Ke.fullKey,Ie,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ne.q)().onAndCancel(q,Ke.domEventName,Tt))}static parseEventName(q){const $=q.toLowerCase().split("."),Ie=$.shift();if(0===$.length||"keydown"!==Ie&&"keyup"!==Ie)return null;const Ke=B._normalizeKey($.pop());let Tt="",sn=$.indexOf("code");if(sn>-1&&($.splice(sn,1),Tt="code."),hr.forEach(kn=>{const Zt=$.indexOf(kn);Zt>-1&&($.splice(Zt,1),Tt+=kn+".")}),Tt+=Ke,0!=$.length||0===Ke.length)return null;const ln={};return ln.domEventName=Ie,ln.fullKey=Tt,ln}static matchEventFullKeyCode(q,$){let Ie=ke[q.key]||q.key,Ke="";return $.indexOf("code.")>-1&&(Ie=q.code,Ke="code."),!(null==Ie||!Ie)&&(Ie=Ie.toLowerCase()," "===Ie?Ie="space":"."===Ie&&(Ie="dot"),hr.forEach(Tt=>{Tt!==Ie&&(0,$e[Tt])(q)&&(Ke+=Tt+".")}),Ke+=Ie,Ke===$)}static eventCallback(q,$,Ie){return Ke=>{B.matchEventFullKeyCode(Ke,q)&&Ie.runGuarded(()=>$(Ke))}}static _normalizeKey(q){return"esc"===q?"escape":q}static#e=this.\u0275fac=function($){return new($||B)(b.LFG(ne.K0))};static#t=this.\u0275prov=b.Yz7({token:B,factory:B.\u0275fac})}return B})();const Ct=(0,b.eFA)(b._c5,"browser",[{provide:b.Lbi,useValue:ne.bD},{provide:b.g9A,useValue:function Gt(){be.makeCurrent()},multi:!0},{provide:ne.K0,useFactory:function mn(){return(0,b.RDi)(document),document},deps:[]}]),jn=new b.OlP(""),wr=[{provide:b.rWj,useClass:class Oe{addToWindow(G){b.dqk.getAngularTestability=($,Ie=!0)=>{const Ke=G.findTestabilityInTree($,Ie);if(null==Ke)throw new b.vHH(5103,!1);return Ke},b.dqk.getAllAngularTestabilities=()=>G.getAllTestabilities(),b.dqk.getAllAngularRootElements=()=>G.getAllRootElements(),b.dqk.frameworkStabilizers||(b.dqk.frameworkStabilizers=[]),b.dqk.frameworkStabilizers.push($=>{const Ie=b.dqk.getAllAngularTestabilities();let Ke=Ie.length,Tt=!1;const sn=function(ln){Tt=Tt||ln,Ke--,0==Ke&&$(Tt)};Ie.forEach(ln=>{ln.whenStable(sn)})})}findTestabilityInTree(G,q,$){return null==q?null:G.getTestability(q)??($?(0,ne.q)().isShadowRoot(q)?this.findTestabilityInTree(G,q.host,!0):this.findTestabilityInTree(G,q.parentElement,!0):null)}},deps:[]},{provide:b.lri,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]},{provide:b.dDg,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]}],gr=[{provide:b.zSh,useValue:"root"},{provide:b.qLn,useFactory:function an(){return new b.qLn},deps:[]},{provide:de,useClass:sr,multi:!0,deps:[ne.K0,b.R0b,b.Lbi]},{provide:de,useClass:et,multi:!0,deps:[ne.K0]},we,qe,Me,{provide:b.FYo,useExisting:we},{provide:ne.JF,useClass:ae,deps:[]},[]];let Ae=(()=>{class B{constructor(q){}static withServerTransition(q){return{ngModule:B,providers:[{provide:b.AFp,useValue:q.appId}]}}static#e=this.\u0275fac=function($){return new($||B)(b.LFG(jn,12))};static#t=this.\u0275mod=b.oAB({type:B});static#n=this.\u0275inj=b.cJS({providers:[...gr,...wr],imports:[ne.ez,b.hGG]})}return B})(),Rt=(()=>{class B{constructor(q){this._doc=q}getTitle(){return this._doc.title}setTitle(q){this._doc.title=q||""}static#e=this.\u0275fac=function($){return new($||B)(b.LFG(ne.K0))};static#t=this.\u0275prov=b.Yz7({token:B,factory:function($){let Ie=null;return Ie=$?new $:function gt(){return new Rt((0,b.LFG)(ne.K0))}(),Ie},providedIn:"root"})}return B})();typeof window<"u"&&window;let Qi=(()=>{class B{static#e=this.\u0275fac=function($){return new($||B)};static#t=this.\u0275prov=b.Yz7({token:B,factory:function($){let Ie=null;return Ie=$?new($||B):b.LFG(Gr),Ie},providedIn:"root"})}return B})(),Gr=(()=>{class B extends Qi{constructor(q){super(),this._doc=q}sanitize(q,$){if(null==$)return null;switch(q){case b.q3G.NONE:return $;case b.q3G.HTML:return(0,b.qzn)($,"HTML")?(0,b.z3N)($):(0,b.EiD)(this._doc,String($)).toString();case b.q3G.STYLE:return(0,b.qzn)($,"Style")?(0,b.z3N)($):$;case b.q3G.SCRIPT:if((0,b.qzn)($,"Script"))return(0,b.z3N)($);throw new b.vHH(5200,!1);case b.q3G.URL:return(0,b.qzn)($,"URL")?(0,b.z3N)($):(0,b.mCW)(String($));case b.q3G.RESOURCE_URL:if((0,b.qzn)($,"ResourceURL"))return(0,b.z3N)($);throw new b.vHH(5201,!1);default:throw new b.vHH(5202,!1)}}bypassSecurityTrustHtml(q){return(0,b.JVY)(q)}bypassSecurityTrustStyle(q){return(0,b.L6k)(q)}bypassSecurityTrustScript(q){return(0,b.eBb)(q)}bypassSecurityTrustUrl(q){return(0,b.LAX)(q)}bypassSecurityTrustResourceUrl(q){return(0,b.pB0)(q)}static#e=this.\u0275fac=function($){return new($||B)(b.LFG(ne.K0))};static#t=this.\u0275prov=b.Yz7({token:B,factory:function($){let Ie=null;return Ie=$?new $:function zr(B){return new Gr(B.get(ne.K0))}(b.LFG(b.zs3)),Ie},providedIn:"root"})}return B})()},7158:(Bt,Ve,K)=>{K.d(Ve,{gz:()=>Di,m2:()=>jr,F0:()=>Zr,rH:()=>Wa,Bz:()=>vo,lC:()=>er});var b=K(9468),ne=K(5592),u=K(4674),ue=K(2459),fe=K(2096),Te=K(5619),He=K(7453),Oe=K(2737),ae=K(7400),de=K(9940),Me=K(2714),Se=K(8251),xe=K(7103);function qe(...S){const R=(0,de.yG)(S),D=(0,de.jO)(S),{args:k,keys:j}=(0,He.D)(S);if(0===k.length)return(0,ue.D)([],R);const oe=new ne.y(function It(S,R,D=Oe.y){return k=>{Pt(R,()=>{const{length:j}=S,oe=new Array(j);let _e=j,Ye=j;for(let ze=0;ze<j;ze++)Pt(R,()=>{const jt=(0,ue.D)(S[ze],R);let Qn=!1;jt.subscribe((0,Se.x)(k,Hr=>{oe[ze]=Hr,Qn||(Qn=!0,Ye--),Ye||k.next(D(oe.slice()))},()=>{--_e||k.complete()}))},k)},k)}}(k,R,j?_e=>(0,Me.n)(j,_e):Oe.y));return D?oe.pipe((0,ae.Z)(D)):oe}function Pt(S,R,D){S?(0,xe.f)(D,S,R):R()}var Ot=K(6973),Dn=K(5211),At=K(4829);function ft(S){return new ne.y(R=>{(0,At.Xf)(S()).subscribe(R)})}var ot=K(8407);function vt(S,R){const D=(0,u.m)(S)?S:()=>S,k=j=>j.error(D());return new ne.y(R?j=>R.schedule(k,0,j):k)}var yt=K(6232),je=K(7394),we=K(9360);function Xe(){return(0,we.e)((S,R)=>{let D=null;S._refCount++;const k=(0,Se.x)(R,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(D=null);const j=S._connection,oe=D;D=null,j&&(!oe||j===oe)&&j.unsubscribe(),R.unsubscribe()});S.subscribe(k),k.closed||(D=S.connect())})}class _t extends ne.y{constructor(R,D){super(),this.source=R,this.subjectFactory=D,this._subject=null,this._refCount=0,this._connection=null,(0,we.A)(R)&&(this.lift=R.lift)}_subscribe(R){return this.getSubject().subscribe(R)}getSubject(){const R=this._subject;return(!R||R.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:R}=this;this._subject=this._connection=null,R?.unsubscribe()}connect(){let R=this._connection;if(!R){R=this._connection=new je.w0;const D=this.getSubject();R.add(this.source.subscribe((0,Se.x)(D,void 0,()=>{this._teardown(),D.complete()},k=>{this._teardown(),D.error(k)},()=>this._teardown()))),R.closed&&(this._connection=null,R=je.w0.EMPTY)}return R}refCount(){return Xe()(this)}}var Pn=K(8645),dt=K(6814),pn=K(7398),Cn=K(4664),Vn=K(8180),sr=K(7921),hr=K(2181),ke=K(1631);function $e(S){return(0,we.e)((R,D)=>{let k=!1;R.subscribe((0,Se.x)(D,j=>{k=!0,D.next(j)},()=>{k||D.next(S),D.complete()}))})}function et(S=Ge){return(0,we.e)((R,D)=>{let k=!1;R.subscribe((0,Se.x)(D,j=>{k=!0,D.next(j)},()=>k?D.complete():D.error(S())))})}function Ge(){return new Ot.K}function nt(S,R){const D=arguments.length>=2;return k=>k.pipe(S?(0,hr.h)((j,oe)=>S(j,oe,k)):Oe.y,(0,Vn.q)(1),D?$e(R):et(()=>new Ot.K))}function wt(S,R){return(0,u.m)(R)?(0,ke.z)(S,R,1):(0,ke.z)(S,1)}var kt=K(9397);function Gt(S){return(0,we.e)((R,D)=>{let oe,k=null,j=!1;k=R.subscribe((0,Se.x)(D,void 0,void 0,_e=>{oe=(0,At.Xf)(S(_e,Gt(S)(R))),k?(k.unsubscribe(),k=null,oe.subscribe(D)):j=!0})),j&&(k.unsubscribe(),k=null,oe.subscribe(D))})}var an=K(6699);function mn(S){return S<=0?()=>yt.E:(0,we.e)((R,D)=>{let k=[];R.subscribe((0,Se.x)(D,j=>{k.push(j),S<k.length&&k.shift()},()=>{for(const j of k)D.next(j);D.complete()},void 0,()=>{k=null}))})}var Ct=K(975);function jn(S){return(0,we.e)((R,D)=>{try{R.subscribe(D)}finally{D.add(S)}})}var wr=K(9773),gr=K(7537),Ae=K(6593);const Ee="primary",Ze=Symbol("RouteTitle");class ut{constructor(R){this.params=R||{}}has(R){return Object.prototype.hasOwnProperty.call(this.params,R)}get(R){if(this.has(R)){const D=this.params[R];return Array.isArray(D)?D[0]:D}return null}getAll(R){if(this.has(R)){const D=this.params[R];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function gt(S){return new ut(S)}function Rt(S,R,D){const k=D.path.split("/");if(k.length>S.length||"full"===D.pathMatch&&(R.hasChildren()||k.length<S.length))return null;const j={};for(let oe=0;oe<k.length;oe++){const _e=k[oe],Ye=S[oe];if(_e.startsWith(":"))j[_e.substring(1)]=Ye;else if(_e!==Ye.path)return null}return{consumed:S.slice(0,k.length),posParams:j}}function hn(S,R){const D=S?Object.keys(S):void 0,k=R?Object.keys(R):void 0;if(!D||!k||D.length!=k.length)return!1;let j;for(let oe=0;oe<D.length;oe++)if(j=D[oe],!Tn(S[j],R[j]))return!1;return!0}function Tn(S,R){if(Array.isArray(S)&&Array.isArray(R)){if(S.length!==R.length)return!1;const D=[...S].sort(),k=[...R].sort();return D.every((j,oe)=>k[oe]===j)}return S===R}function Kt(S){return S.length>0?S[S.length-1]:null}function cn(S){return function be(S){return!!S&&(S instanceof ne.y||(0,u.m)(S.lift)&&(0,u.m)(S.subscribe))}(S)?S:(0,b.QGY)(S)?(0,ue.D)(Promise.resolve(S)):(0,fe.of)(S)}const fr={exact:function yn(S,R,D){if(!Gr(S.segments,R.segments)||!Bn(S.segments,R.segments,D)||S.numberOfChildren!==R.numberOfChildren)return!1;for(const k in R.children)if(!S.children[k]||!yn(S.children[k],R.children[k],D))return!1;return!0},subset:Wn},Jt={exact:function Er(S,R){return hn(S,R)},subset:function cr(S,R){return Object.keys(R).length<=Object.keys(S).length&&Object.keys(R).every(D=>Tn(S[D],R[D]))},ignored:()=>!0};function Ir(S,R,D){return fr[D.paths](S.root,R.root,D.matrixParams)&&Jt[D.queryParams](S.queryParams,R.queryParams)&&!("exact"===D.fragment&&S.fragment!==R.fragment)}function Wn(S,R,D){return or(S,R,R.segments,D)}function or(S,R,D,k){if(S.segments.length>D.length){const j=S.segments.slice(0,D.length);return!(!Gr(j,D)||R.hasChildren()||!Bn(j,D,k))}if(S.segments.length===D.length){if(!Gr(S.segments,D)||!Bn(S.segments,D,k))return!1;for(const j in R.children)if(!S.children[j]||!Wn(S.children[j],R.children[j],k))return!1;return!0}{const j=D.slice(0,S.segments.length),oe=D.slice(S.segments.length);return!!(Gr(S.segments,j)&&Bn(S.segments,j,k)&&S.children[Ee])&&or(S.children[Ee],R,oe,k)}}function Bn(S,R,D){return R.every((k,j)=>Jt[D](S[j].parameters,k.parameters))}class ti{constructor(R=new qt([],{}),D={},k=null){this.root=R,this.queryParams=D,this.fragment=k}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gt(this.queryParams)),this._queryParamMap}toString(){return Et.serialize(this)}}class qt{constructor(R,D){this.segments=R,this.children=D,this.parent=null,Object.values(D).forEach(k=>k.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $t(this)}}class Qi{constructor(R,D){this.path=R,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=gt(this.parameters)),this._parameterMap}toString(){return Ie(this)}}function Gr(S,R){return S.length===R.length&&S.every((D,k)=>D.path===R[k].path)}let Ce=(()=>{class S{static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:function(){return new Je},providedIn:"root"})}return S})();class Je{parse(R){const D=new Jo(R);return new ti(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(R){const D=`/${Wt(R.root,!0)}`,k=function Tt(S){const R=Object.keys(S).map(D=>{const k=S[D];return Array.isArray(k)?k.map(j=>`${Q(D)}=${Q(j)}`).join("&"):`${Q(D)}=${Q(k)}`}).filter(D=>!!D);return R.length?`?${R.join("&")}`:""}(R.queryParams);return`${D}${k}${"string"==typeof R.fragment?`#${function B(S){return encodeURI(S)}(R.fragment)}`:""}`}}const Et=new Je;function $t(S){return S.segments.map(R=>Ie(R)).join("/")}function Wt(S,R){if(!S.hasChildren())return $t(S);if(R){const D=S.children[Ee]?Wt(S.children[Ee],!1):"",k=[];return Object.entries(S.children).forEach(([j,oe])=>{j!==Ee&&k.push(`${j}:${Wt(oe,!1)}`)}),k.length>0?`${D}(${k.join("//")})`:D}{const D=function rt(S,R){let D=[];return Object.entries(S.children).forEach(([k,j])=>{k===Ee&&(D=D.concat(R(j,k)))}),Object.entries(S.children).forEach(([k,j])=>{k!==Ee&&(D=D.concat(R(j,k)))}),D}(S,(k,j)=>j===Ee?[Wt(S.children[Ee],!1)]:[`${j}:${Wt(k,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[Ee]?`${$t(S)}/${D[0]}`:`${$t(S)}/(${D.join("//")})`}}function qn(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Q(S){return qn(S).replace(/%3B/gi,";")}function G(S){return qn(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function q(S){return decodeURIComponent(S)}function $(S){return q(S.replace(/\+/g,"%20"))}function Ie(S){return`${G(S.path)}${function Ke(S){return Object.keys(S).map(R=>`;${G(R)}=${G(S[R])}`).join("")}(S.parameters)}`}const sn=/^[^\/()?;#]+/;function ln(S){const R=S.match(sn);return R?R[0]:""}const kn=/^[^\/()?;=#]+/,Fn=/^[^=?&#]+/,Kn=/^[^&#]+/;class Jo{constructor(R){this.url=R,this.remaining=R}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qt([],{}):new qt([],this.parseChildren())}parseQueryParams(){const R={};if(this.consumeOptional("?"))do{this.parseQueryParam(R)}while(this.consumeOptional("&"));return R}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const R=[];for(this.peekStartsWith("(")||R.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),R.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let k={};return this.peekStartsWith("(")&&(k=this.parseParens(!1)),(R.length>0||Object.keys(D).length>0)&&(k[Ee]=new qt(R,D)),k}parseSegment(){const R=ln(this.remaining);if(""===R&&this.peekStartsWith(";"))throw new b.vHH(4009,!1);return this.capture(R),new Qi(q(R),this.parseMatrixParams())}parseMatrixParams(){const R={};for(;this.consumeOptional(";");)this.parseParam(R);return R}parseParam(R){const D=function Zt(S){const R=S.match(kn);return R?R[0]:""}(this.remaining);if(!D)return;this.capture(D);let k="";if(this.consumeOptional("=")){const j=ln(this.remaining);j&&(k=j,this.capture(k))}R[q(D)]=q(k)}parseQueryParam(R){const D=function Wr(S){const R=S.match(Fn);return R?R[0]:""}(this.remaining);if(!D)return;this.capture(D);let k="";if(this.consumeOptional("=")){const _e=function xs(S){const R=S.match(Kn);return R?R[0]:""}(this.remaining);_e&&(k=_e,this.capture(k))}const j=$(D),oe=$(k);if(R.hasOwnProperty(j)){let _e=R[j];Array.isArray(_e)||(_e=[_e],R[j]=_e),_e.push(oe)}else R[j]=oe}parseParens(R){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const k=ln(this.remaining),j=this.remaining[k.length];if("/"!==j&&")"!==j&&";"!==j)throw new b.vHH(4010,!1);let oe;k.indexOf(":")>-1?(oe=k.slice(0,k.indexOf(":")),this.capture(oe),this.capture(":")):R&&(oe=Ee);const _e=this.parseChildren();D[oe]=1===Object.keys(_e).length?_e[Ee]:new qt([],_e),this.consumeOptional("//")}return D}peekStartsWith(R){return this.remaining.startsWith(R)}consumeOptional(R){return!!this.peekStartsWith(R)&&(this.remaining=this.remaining.substring(R.length),!0)}capture(R){if(!this.consumeOptional(R))throw new b.vHH(4011,!1)}}function ni(S){return S.segments.length>0?new qt([],{[Ee]:S}):S}function ga(S){const R={};for(const k of Object.keys(S.children)){const oe=ga(S.children[k]);if(k===Ee&&0===oe.segments.length&&oe.hasChildren())for(const[_e,Ye]of Object.entries(oe.children))R[_e]=Ye;else(oe.segments.length>0||oe.hasChildren())&&(R[k]=oe)}return function ma(S){if(1===S.numberOfChildren&&S.children[Ee]){const R=S.children[Ee];return new qt(S.segments.concat(R.segments),R.children)}return S}(new qt(S.segments,R))}function lo(S){return S instanceof ti}function Rs(S){let R;const j=ni(function D(oe){const _e={};for(const ze of oe.children){const jt=D(ze);_e[ze.outlet]=jt}const Ye=new qt(oe.url,_e);return oe===S&&(R=Ye),Ye}(S.root));return R??j}function os(S,R,D,k){let j=S;for(;j.parent;)j=j.parent;if(0===R.length)return Xo(j,j,j,D,k);const oe=function Va(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new ta(!0,0,S);let R=0,D=!1;const k=S.reduce((j,oe,_e)=>{if("object"==typeof oe&&null!=oe){if(oe.outlets){const Ye={};return Object.entries(oe.outlets).forEach(([ze,jt])=>{Ye[ze]="string"==typeof jt?jt.split("/"):jt}),[...j,{outlets:Ye}]}if(oe.segmentPath)return[...j,oe.segmentPath]}return"string"!=typeof oe?[...j,oe]:0===_e?(oe.split("/").forEach((Ye,ze)=>{0==ze&&"."===Ye||(0==ze&&""===Ye?D=!0:".."===Ye?R++:""!=Ye&&j.push(Ye))}),j):[...j,oe]},[]);return new ta(D,R,k)}(R);if(oe.toRoot())return Xo(j,j,new qt([],{}),D,k);const _e=function Ps(S,R,D){if(S.isAbsolute)return new fs(R,!0,0);if(!D)return new fs(R,!1,NaN);if(null===D.parent)return new fs(D,!0,0);const k=as(S.commands[0])?0:1;return function ri(S,R,D){let k=S,j=R,oe=D;for(;oe>j;){if(oe-=j,k=k.parent,!k)throw new b.vHH(4005,!1);j=k.segments.length}return new fs(k,!1,j-oe)}(D,D.segments.length-1+k,S.numberOfDoubleDots)}(oe,j,S),Ye=_e.processChildren?na(_e.segmentGroup,_e.index,oe.commands):zi(_e.segmentGroup,_e.index,oe.commands);return Xo(j,_e.segmentGroup,Ye,D,k)}function as(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function Jn(S){return"object"==typeof S&&null!=S&&S.outlets}function Xo(S,R,D,k,j){let _e,oe={};k&&Object.entries(k).forEach(([ze,jt])=>{oe[ze]=Array.isArray(jt)?jt.map(Qn=>`${Qn}`):`${jt}`}),_e=S===R?D:ea(S,R,D);const Ye=ni(ga(_e));return new ti(Ye,oe,j)}function ea(S,R,D){const k={};return Object.entries(S.children).forEach(([j,oe])=>{k[j]=oe===R?D:ea(oe,R,D)}),new qt(S.segments,k)}class ta{constructor(R,D,k){if(this.isAbsolute=R,this.numberOfDoubleDots=D,this.commands=k,R&&k.length>0&&as(k[0]))throw new b.vHH(4003,!1);const j=k.find(Jn);if(j&&j!==Kt(k))throw new b.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fs{constructor(R,D,k){this.segmentGroup=R,this.processChildren=D,this.index=k}}function zi(S,R,D){if(S||(S=new qt([],{})),0===S.segments.length&&S.hasChildren())return na(S,R,D);const k=function uo(S,R,D){let k=0,j=R;const oe={match:!1,pathIndex:0,commandIndex:0};for(;j<S.segments.length;){if(k>=D.length)return oe;const _e=S.segments[j],Ye=D[k];if(Jn(Ye))break;const ze=`${Ye}`,jt=k<D.length-1?D[k+1]:null;if(j>0&&void 0===ze)break;if(ze&&jt&&"object"==typeof jt&&void 0===jt.outlets){if(!ks(ze,jt,_e))return oe;k+=2}else{if(!ks(ze,{},_e))return oe;k++}j++}return{match:!0,pathIndex:j,commandIndex:k}}(S,R,D),j=D.slice(k.commandIndex);if(k.match&&k.pathIndex<S.segments.length){const oe=new qt(S.segments.slice(0,k.pathIndex),{});return oe.children[Ee]=new qt(S.segments.slice(k.pathIndex),S.children),na(oe,0,j)}return k.match&&0===j.length?new qt(S.segments,{}):k.match&&!S.hasChildren()?_a(S,R,D):k.match?na(S,0,j):_a(S,R,D)}function na(S,R,D){if(0===D.length)return new qt(S.segments,{});{const k=function bs(S){return Jn(S[0])?S[0].outlets:{[Ee]:S}}(D),j={};if(Object.keys(k).some(oe=>oe!==Ee)&&S.children[Ee]&&1===S.numberOfChildren&&0===S.children[Ee].segments.length){const oe=na(S.children[Ee],R,D);return new qt(S.segments,oe.children)}return Object.entries(k).forEach(([oe,_e])=>{"string"==typeof _e&&(_e=[_e]),null!==_e&&(j[oe]=zi(S.children[oe],R,_e))}),Object.entries(S.children).forEach(([oe,_e])=>{void 0===k[oe]&&(j[oe]=_e)}),new qt(S.segments,j)}}function _a(S,R,D){const k=S.segments.slice(0,R);let j=0;for(;j<D.length;){const oe=D[j];if(Jn(oe)){const ze=Ei(oe.outlets);return new qt(k,ze)}if(0===j&&as(D[0])){k.push(new Qi(S.segments[R].path,ya(D[0]))),j++;continue}const _e=Jn(oe)?oe.outlets[Ee]:`${oe}`,Ye=j<D.length-1?D[j+1]:null;_e&&Ye&&as(Ye)?(k.push(new Qi(_e,ya(Ye))),j+=2):(k.push(new Qi(_e,{})),j++)}return new qt(k,{})}function Ei(S){const R={};return Object.entries(S).forEach(([D,k])=>{"string"==typeof k&&(k=[k]),null!==k&&(R[D]=_a(new qt([],{}),0,k))}),R}function ya(S){const R={};return Object.entries(S).forEach(([D,k])=>R[D]=`${k}`),R}function ks(S,R,D){return S==D.path&&hn(R,D.parameters)}const ho="imperative";class Fs{constructor(R,D){this.id=R,this.url=D}}class va extends Fs{constructor(R,D,k="imperative",j=null){super(R,D),this.type=0,this.navigationTrigger=k,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class jr extends Fs{constructor(R,D,k){super(R,D),this.urlAfterRedirects=k,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xo extends Fs{constructor(R,D,k,j){super(R,D),this.reason=k,this.code=j,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ws extends Fs{constructor(R,D,k,j){super(R,D),this.reason=k,this.code=j,this.type=16}}class ra extends Fs{constructor(R,D,k,j){super(R,D),this.error=k,this.target=j,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $l extends Fs{constructor(R,D,k,j){super(R,D),this.urlAfterRedirects=k,this.state=j,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cs extends Fs{constructor(R,D,k,j){super(R,D),this.urlAfterRedirects=k,this.state=j,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ul extends Fs{constructor(R,D,k,j,oe){super(R,D),this.urlAfterRedirects=k,this.state=j,this.shouldActivate=oe,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Kr extends Fs{constructor(R,D,k,j){super(R,D),this.urlAfterRedirects=k,this.state=j,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vc extends Fs{constructor(R,D,k,j){super(R,D),this.urlAfterRedirects=k,this.state=j,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ci{constructor(R){this.route=R,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ro{constructor(R){this.route=R,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Po{constructor(R){this.snapshot=R,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ha{constructor(R){this.snapshot=R,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ps{constructor(R){this.snapshot=R,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dl{constructor(R){this.snapshot=R,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ys{constructor(R,D,k){this.routerEvent=R,this.position=D,this.anchor=k,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ia{}class sa{constructor(R){this.url=R}}class fo{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Xn,this.attachRef=null}}let Xn=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(D,k){const j=this.getOrCreateContext(D);j.outlet=k,this.contexts.set(D,j)}onChildOutletDestroyed(D){const k=this.getContext(D);k&&(k.outlet=null,k.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let k=this.getContext(D);return k||(k=new fo,this.contexts.set(D,k)),k}getContext(D){return this.contexts.get(D)||null}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();class ui{constructor(R){this._root=R}get root(){return this._root.value}parent(R){const D=this.pathFromRoot(R);return D.length>1?D[D.length-2]:null}children(R){const D=Fi(R,this._root);return D?D.children.map(k=>k.value):[]}firstChild(R){const D=Fi(R,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(R){const D=ls(R,this._root);return D.length<2?[]:D[D.length-2].children.map(j=>j.value).filter(j=>j!==R)}pathFromRoot(R){return ls(R,this._root).map(D=>D.value)}}function Fi(S,R){if(S===R.value)return R;for(const D of R.children){const k=Fi(S,D);if(k)return k}return null}function ls(S,R){if(S===R.value)return[R];for(const D of R.children){const k=ls(S,D);if(k.length)return k.unshift(R),k}return[]}class Ur{constructor(R,D){this.value=R,this.children=D}toString(){return`TreeNode(${this.value})`}}function Is(S){const R={};return S&&S.children.forEach(D=>R[D.value.outlet]=D),R}class ba extends ui{constructor(R,D){super(R),this.snapshot=D,gi(this,R)}toString(){return this.snapshot.toString()}}function Ti(S,R){const D=function sc(S,R){const _e=new Mn([],{},{},"",{},Ee,R,null,{});return new Mr("",new Ur(_e,[]))}(0,R),k=new Te.X([new Qi("",{})]),j=new Te.X({}),oe=new Te.X({}),_e=new Te.X({}),Ye=new Te.X(""),ze=new Di(k,j,_e,Ye,oe,Ee,R,D.root);return ze.snapshot=D.root,new ba(new Ur(ze,[]),D)}class Di{constructor(R,D,k,j,oe,_e,Ye,ze){this.urlSubject=R,this.paramsSubject=D,this.queryParamsSubject=k,this.fragmentSubject=j,this.dataSubject=oe,this.outlet=_e,this.component=Ye,this._futureSnapshot=ze,this.title=this.dataSubject?.pipe((0,pn.U)(jt=>jt[Ze]))??(0,fe.of)(void 0),this.url=R,this.params=D,this.queryParams=k,this.fragment=j,this.data=oe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pn.U)(R=>gt(R)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pn.U)(R=>gt(R)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Tr(S,R="emptyOnly"){const D=S.pathFromRoot;let k=0;if("always"!==R)for(k=D.length-1;k>=1;){const j=D[k],oe=D[k-1];if(j.routeConfig&&""===j.routeConfig.path)k--;else{if(oe.component)break;k--}}return function Vt(S){return S.reduce((R,D)=>({params:{...R.params,...D.params},data:{...R.data,...D.data},resolve:{...D.data,...R.resolve,...D.routeConfig?.data,...D._resolvedData}}),{params:{},data:{},resolve:{}})}(D.slice(k))}class Mn{get title(){return this.data?.[Ze]}constructor(R,D,k,j,oe,_e,Ye,ze,jt){this.url=R,this.params=D,this.queryParams=k,this.fragment=j,this.data=oe,this.outlet=_e,this.component=Ye,this.routeConfig=ze,this._resolve=jt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(k=>k.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mr extends ui{constructor(R,D){super(D),this.url=R,gi(this,D)}toString(){return po(this._root)}}function gi(S,R){R.value._routerState=S,R.children.forEach(D=>gi(S,D))}function po(S){const R=S.children.length>0?` { ${S.children.map(po).join(", ")} } `:"";return`${S.value}${R}`}function Yr(S){if(S.snapshot){const R=S.snapshot,D=S._futureSnapshot;S.snapshot=D,hn(R.queryParams,D.queryParams)||S.queryParamsSubject.next(D.queryParams),R.fragment!==D.fragment&&S.fragmentSubject.next(D.fragment),hn(R.params,D.params)||S.paramsSubject.next(D.params),function mr(S,R){if(S.length!==R.length)return!1;for(let D=0;D<S.length;++D)if(!hn(S[D],R[D]))return!1;return!0}(R.url,D.url)||S.urlSubject.next(D.url),hn(R.data,D.data)||S.dataSubject.next(D.data)}else S.snapshot=S._futureSnapshot,S.dataSubject.next(S._futureSnapshot.data)}function nr(S,R){const D=hn(S.params,R.params)&&function zr(S,R){return Gr(S,R)&&S.every((D,k)=>hn(D.parameters,R[k].parameters))}(S.url,R.url);return D&&!(!S.parent!=!R.parent)&&(!S.parent||nr(S.parent,R.parent))}let er=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ee,this.activateEvents=new b.vpe,this.deactivateEvents=new b.vpe,this.attachEvents=new b.vpe,this.detachEvents=new b.vpe,this.parentContexts=(0,b.f3M)(Xn),this.location=(0,b.f3M)(b.s_b),this.changeDetector=(0,b.f3M)(b.sBO),this.environmentInjector=(0,b.f3M)(b.lqb),this.inputBinder=(0,b.f3M)(Ji,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(D){if(D.name){const{firstChange:k,previousValue:j}=D.name;if(k)return;this.isTrackedInParentContexts(j)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(j)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(D){return this.parentContexts.getContext(D)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const D=this.parentContexts.getContext(this.name);D?.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b.vHH(4012,!1);this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,k){this.activated=D,this._activatedRoute=k,this.location.insert(D.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,k){if(this.isActivated)throw new b.vHH(4013,!1);this._activatedRoute=D;const j=this.location,_e=D.snapshot.component,Ye=this.parentContexts.getOrCreateContext(this.name).children,ze=new Sr(D,Ye,j.injector);this.activated=j.createComponent(_e,{index:j.length,injector:ze,environmentInjector:k??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275dir=b.lG2({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[b.TTD]})}return S})();class Sr{constructor(R,D,k){this.route=R,this.childContexts=D,this.parent=k}get(R,D){return R===Di?this.route:R===Xn?this.childContexts:this.parent.get(R,D)}}const Ji=new b.OlP("");let Ln=(()=>{class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(D){this.unsubscribeFromRouteData(D),this.subscribeToRouteData(D)}unsubscribeFromRouteData(D){this.outletDataSubscriptions.get(D)?.unsubscribe(),this.outletDataSubscriptions.delete(D)}subscribeToRouteData(D){const{activatedRoute:k}=D,j=qe([k.queryParams,k.params,k.data]).pipe((0,Cn.w)(([oe,_e,Ye],ze)=>(Ye={...oe,..._e,...Ye},0===ze?(0,fe.of)(Ye):Promise.resolve(Ye)))).subscribe(oe=>{if(!D.isActivated||!D.activatedComponentRef||D.activatedRoute!==k||null===k.component)return void this.unsubscribeFromRouteData(D);const _e=(0,b.qFp)(k.component);if(_e)for(const{templateName:Ye}of _e.inputs)D.activatedComponentRef.setInput(Ye,oe[Ye]);else this.unsubscribeFromRouteData(D)});this.outletDataSubscriptions.set(D,j)}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac})}return S})();function go(S,R,D){if(D&&S.shouldReuseRoute(R.value,D.value.snapshot)){const k=D.value;k._futureSnapshot=R.value;const j=function Ls(S,R,D){return R.children.map(k=>{for(const j of D.children)if(S.shouldReuseRoute(k.value,j.value.snapshot))return go(S,k,j);return go(S,k)})}(S,R,D);return new Ur(k,j)}{if(S.shouldAttach(R.value)){const oe=S.retrieve(R.value);if(null!==oe){const _e=oe.route;return _e.value._futureSnapshot=R.value,_e.children=R.children.map(Ye=>go(S,Ye)),_e}}const k=function qr(S){return new Di(new Te.X(S.url),new Te.X(S.params),new Te.X(S.queryParams),new Te.X(S.fragment),new Te.X(S.data),S.outlet,S.component,S)}(R.value),j=R.children.map(oe=>go(S,oe));return new Ur(k,j)}}const Xi="ngNavigationCancelingError";function Us(S,R){const{redirectTo:D,navigationBehaviorOptions:k}=lo(R)?{redirectTo:R,navigationBehaviorOptions:void 0}:R,j=di(!1,0,R);return j.url=D,j.navigationBehaviorOptions=k,j}function di(S,R,D){const k=new Error("NavigationCancelingError: "+(S||""));return k[Xi]=!0,k.cancellationCode=R,D&&(k.url=D),k}function oc(S){return S&&S[Xi]}let Qs=(()=>{class S{static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275cmp=b.Xpm({type:S,selectors:[["ng-component"]],standalone:!0,features:[b.jDz],decls:1,vars:0,template:function(k,j){1&k&&b._UZ(0,"router-outlet")},dependencies:[er],encapsulation:2})}return S})();function wa(S){const R=S.children&&S.children.map(wa),D=R?{...S,children:R}:{...S};return!D.component&&!D.loadComponent&&(R||D.loadChildren)&&D.outlet&&D.outlet!==Ee&&(D.component=Qs),D}function qi(S){return S.outlet||Ee}function Ar(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let R=S.parent;R;R=R.parent){const D=R.routeConfig;if(D?._loadedInjector)return D._loadedInjector;if(D?._injector)return D._injector}return null}class aa{constructor(R,D,k,j,oe){this.routeReuseStrategy=R,this.futureState=D,this.currState=k,this.forwardEvent=j,this.inputBindingEnabled=oe}activate(R){const D=this.futureState._root,k=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,k,R),Yr(this.futureState.root),this.activateChildRoutes(D,k,R)}deactivateChildRoutes(R,D,k){const j=Is(D);R.children.forEach(oe=>{const _e=oe.value.outlet;this.deactivateRoutes(oe,j[_e],k),delete j[_e]}),Object.values(j).forEach(oe=>{this.deactivateRouteAndItsChildren(oe,k)})}deactivateRoutes(R,D,k){const j=R.value,oe=D?D.value:null;if(j===oe)if(j.component){const _e=k.getContext(j.outlet);_e&&this.deactivateChildRoutes(R,D,_e.children)}else this.deactivateChildRoutes(R,D,k);else oe&&this.deactivateRouteAndItsChildren(D,k)}deactivateRouteAndItsChildren(R,D){R.value.component&&this.routeReuseStrategy.shouldDetach(R.value.snapshot)?this.detachAndStoreRouteSubtree(R,D):this.deactivateRouteAndOutlet(R,D)}detachAndStoreRouteSubtree(R,D){const k=D.getContext(R.value.outlet),j=k&&R.value.component?k.children:D,oe=Is(R);for(const _e of Object.keys(oe))this.deactivateRouteAndItsChildren(oe[_e],j);if(k&&k.outlet){const _e=k.outlet.detach(),Ye=k.children.onOutletDeactivated();this.routeReuseStrategy.store(R.value.snapshot,{componentRef:_e,route:R,contexts:Ye})}}deactivateRouteAndOutlet(R,D){const k=D.getContext(R.value.outlet),j=k&&R.value.component?k.children:D,oe=Is(R);for(const _e of Object.keys(oe))this.deactivateRouteAndItsChildren(oe[_e],j);k&&(k.outlet&&(k.outlet.deactivate(),k.children.onOutletDeactivated()),k.attachRef=null,k.route=null)}activateChildRoutes(R,D,k){const j=Is(D);R.children.forEach(oe=>{this.activateRoutes(oe,j[oe.value.outlet],k),this.forwardEvent(new dl(oe.value.snapshot))}),R.children.length&&this.forwardEvent(new Ha(R.value.snapshot))}activateRoutes(R,D,k){const j=R.value,oe=D?D.value:null;if(Yr(j),j===oe)if(j.component){const _e=k.getOrCreateContext(j.outlet);this.activateChildRoutes(R,D,_e.children)}else this.activateChildRoutes(R,D,k);else if(j.component){const _e=k.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const Ye=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),_e.children.onOutletReAttached(Ye.contexts),_e.attachRef=Ye.componentRef,_e.route=Ye.route.value,_e.outlet&&_e.outlet.attach(Ye.componentRef,Ye.route.value),Yr(Ye.route.value),this.activateChildRoutes(R,null,_e.children)}else{const Ye=Ar(j.snapshot);_e.attachRef=null,_e.route=j,_e.injector=Ye,_e.outlet&&_e.outlet.activateWith(j,_e.injector),this.activateChildRoutes(R,null,_e.children)}}else this.activateChildRoutes(R,null,k)}}class Bs{constructor(R){this.path=R,this.route=this.path[this.path.length-1]}}class Vs{constructor(R,D){this.component=R,this.route=D}}function Ui(S,R,D){const k=S._root;return Ia(k,R?R._root:null,D,[k.value])}function Xs(S,R){const D=Symbol(),k=R.get(S,D);return k===D?"function"!=typeof S||(0,b.Z0I)(S)?R.get(S):S:k}function Ia(S,R,D,k,j={canDeactivateChecks:[],canActivateChecks:[]}){const oe=Is(R);return S.children.forEach(_e=>{(function Hc(S,R,D,k,j={canDeactivateChecks:[],canActivateChecks:[]}){const oe=S.value,_e=R?R.value:null,Ye=D?D.getContext(S.value.outlet):null;if(_e&&oe.routeConfig===_e.routeConfig){const ze=function Ga(S,R,D){if("function"==typeof D)return D(S,R);switch(D){case"pathParamsChange":return!Gr(S.url,R.url);case"pathParamsOrQueryParamsChange":return!Gr(S.url,R.url)||!hn(S.queryParams,R.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nr(S,R)||!hn(S.queryParams,R.queryParams);default:return!nr(S,R)}}(_e,oe,oe.routeConfig.runGuardsAndResolvers);ze?j.canActivateChecks.push(new Bs(k)):(oe.data=_e.data,oe._resolvedData=_e._resolvedData),Ia(S,R,oe.component?Ye?Ye.children:null:D,k,j),ze&&Ye&&Ye.outlet&&Ye.outlet.isActivated&&j.canDeactivateChecks.push(new Vs(Ye.outlet.component,_e))}else _e&&xr(R,Ye,j),j.canActivateChecks.push(new Bs(k)),Ia(S,null,oe.component?Ye?Ye.children:null:D,k,j)})(_e,oe[_e.value.outlet],D,k.concat([_e.value]),j),delete oe[_e.value.outlet]}),Object.entries(oe).forEach(([_e,Ye])=>xr(Ye,D.getContext(_e),j)),j}function xr(S,R,D){const k=Is(S),j=S.value;Object.entries(k).forEach(([oe,_e])=>{xr(_e,j.component?R?R.children.getContext(oe):null:R,D)}),D.canDeactivateChecks.push(new Vs(j.component&&R&&R.outlet&&R.outlet.isActivated?R.outlet.component:null,j))}function ca(S){return"function"==typeof S}function Zi(S){return S instanceof Ot.K||"EmptyError"===S?.name}const Hs=Symbol("INITIAL_VALUE");function Ni(){return(0,Cn.w)(S=>qe(S.map(R=>R.pipe((0,Vn.q)(1),(0,sr.O)(Hs)))).pipe((0,pn.U)(R=>{for(const D of R)if(!0!==D){if(D===Hs)return Hs;if(!1===D||D instanceof ti)return D}return!0}),(0,hr.h)(R=>R!==Hs),(0,Vn.q)(1)))}function Oi(S){return(0,ot.z)((0,kt.b)(R=>{if(lo(R))throw Us(0,R)}),(0,pn.U)(R=>!0===R))}class Bi{constructor(R){this.segmentGroup=R||null}}class Uo{constructor(R){this.urlTree=R}}function za(S){return vt(new Bi(S))}function Vi(S){return vt(new Uo(S))}class kd{constructor(R,D){this.urlSerializer=R,this.urlTree=D}noMatchError(R){return new b.vHH(4002,!1)}lineralizeSegments(R,D){let k=[],j=D.root;for(;;){if(k=k.concat(j.segments),0===j.numberOfChildren)return(0,fe.of)(k);if(j.numberOfChildren>1||!j.children[Ee])return vt(new b.vHH(4e3,!1));j=j.children[Ee]}}applyRedirectCommands(R,D,k){return this.applyRedirectCreateUrlTree(D,this.urlSerializer.parse(D),R,k)}applyRedirectCreateUrlTree(R,D,k,j){const oe=this.createSegmentGroup(R,D.root,k,j);return new ti(oe,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(R,D){const k={};return Object.entries(R).forEach(([j,oe])=>{if("string"==typeof oe&&oe.startsWith(":")){const Ye=oe.substring(1);k[j]=D[Ye]}else k[j]=oe}),k}createSegmentGroup(R,D,k,j){const oe=this.createSegments(R,D.segments,k,j);let _e={};return Object.entries(D.children).forEach(([Ye,ze])=>{_e[Ye]=this.createSegmentGroup(R,ze,k,j)}),new qt(oe,_e)}createSegments(R,D,k,j){return D.map(oe=>oe.path.startsWith(":")?this.findPosParam(R,oe,j):this.findOrReturn(oe,k))}findPosParam(R,D,k){const j=k[D.path.substring(1)];if(!j)throw new b.vHH(4001,!1);return j}findOrReturn(R,D){let k=0;for(const j of D){if(j.path===R.path)return D.splice(k),j;k++}return R}}const Es={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eo(S,R,D,k,j){const oe=Bo(S,R,D);return oe.matched?(k=function Wi(S,R){return S.providers&&!S._injector&&(S._injector=(0,b.MMx)(S.providers,R,`Route: ${S.path}`)),S._injector??R}(R,k),function Ta(S,R,D,k){const j=R.canMatch;if(!j||0===j.length)return(0,fe.of)(!0);const oe=j.map(_e=>{const Ye=Xs(_e,S);return cn(function De(S){return S&&ca(S.canMatch)}(Ye)?Ye.canMatch(R,D):S.runInContext(()=>Ye(R,D)))});return(0,fe.of)(oe).pipe(Ni(),Oi())}(k,R,D).pipe((0,pn.U)(_e=>!0===_e?oe:{...Es}))):(0,fe.of)(oe)}function Bo(S,R,D){if(""===R.path)return"full"===R.pathMatch&&(S.hasChildren()||D.length>0)?{...Es}:{matched:!0,consumedSegments:[],remainingSegments:D,parameters:{},positionalParamSegments:{}};const j=(R.matcher||Rt)(D,S,R);if(!j)return{...Es};const oe={};Object.entries(j.posParams??{}).forEach(([Ye,ze])=>{oe[Ye]=ze.path});const _e=j.consumed.length>0?{...oe,...j.consumed[j.consumed.length-1].parameters}:oe;return{matched:!0,consumedSegments:j.consumed,remainingSegments:D.slice(j.consumed.length),parameters:_e,positionalParamSegments:j.posParams??{}}}function $c(S,R,D,k){return D.length>0&&function Hi(S,R,D){return D.some(k=>Vo(S,R,k)&&qi(k)!==Ee)}(S,D,k)?{segmentGroup:new qt(R,Ts(k,new qt(D,S.children))),slicedSegments:[]}:0===D.length&&function ds(S,R,D){return D.some(k=>Vo(S,R,k))}(S,D,k)?{segmentGroup:new qt(S.segments,Mi(S,0,D,k,S.children)),slicedSegments:D}:{segmentGroup:new qt(S.segments,S.children),slicedSegments:D}}function Mi(S,R,D,k,j){const oe={};for(const _e of k)if(Vo(S,D,_e)&&!j[qi(_e)]){const Ye=new qt([],{});oe[qi(_e)]=Ye}return{...j,...oe}}function Ts(S,R){const D={};D[Ee]=R;for(const k of S)if(""===k.path&&qi(k)!==Ee){const j=new qt([],{});D[qi(k)]=j}return D}function Vo(S,R,D){return(!(S.hasChildren()||R.length>0)||"full"!==D.pathMatch)&&""===D.path}class zc{constructor(R,D,k,j,oe,_e,Ye){this.injector=R,this.configLoader=D,this.rootComponentType=k,this.config=j,this.urlTree=oe,this.paramsInheritanceStrategy=_e,this.urlSerializer=Ye,this.allowRedirects=!0,this.applyRedirects=new kd(this.urlSerializer,this.urlTree)}noMatchError(R){return new b.vHH(4002,!1)}recognize(){const R=$c(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,R,Ee).pipe(Gt(D=>{if(D instanceof Uo)return this.allowRedirects=!1,this.urlTree=D.urlTree,this.match(D.urlTree);throw D instanceof Bi?this.noMatchError(D):D}),(0,pn.U)(D=>{const k=new Mn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ee,this.rootComponentType,null,{}),j=new Ur(k,D),oe=new Mr("",j),_e=function Ii(S,R,D=null,k=null){return os(Rs(S),R,D,k)}(k,[],this.urlTree.queryParams,this.urlTree.fragment);return _e.queryParams=this.urlTree.queryParams,oe.url=this.urlSerializer.serialize(_e),this.inheritParamsAndData(oe._root),{state:oe,tree:_e}}))}match(R){return this.processSegmentGroup(this.injector,this.config,R.root,Ee).pipe(Gt(k=>{throw k instanceof Bi?this.noMatchError(k):k}))}inheritParamsAndData(R){const D=R.value,k=Tr(D,this.paramsInheritanceStrategy);D.params=Object.freeze(k.params),D.data=Object.freeze(k.data),R.children.forEach(j=>this.inheritParamsAndData(j))}processSegmentGroup(R,D,k,j){return 0===k.segments.length&&k.hasChildren()?this.processChildren(R,D,k):this.processSegment(R,D,k,k.segments,j,!0)}processChildren(R,D,k){const j=[];for(const oe of Object.keys(k.children))"primary"===oe?j.unshift(oe):j.push(oe);return(0,ue.D)(j).pipe(wt(oe=>{const _e=k.children[oe],Ye=function Si(S,R){const D=S.filter(k=>qi(k)===R);return D.push(...S.filter(k=>qi(k)!==R)),D}(D,oe);return this.processSegmentGroup(R,Ye,_e,oe)}),(0,an.R)((oe,_e)=>(oe.push(..._e),oe)),$e(null),function _n(S,R){const D=arguments.length>=2;return k=>k.pipe(S?(0,hr.h)((j,oe)=>S(j,oe,k)):Oe.y,mn(1),D?$e(R):et(()=>new Ot.K))}(),(0,ke.z)(oe=>{if(null===oe)return za(k);const _e=Cc(oe);return function wu(S){S.sort((R,D)=>R.value.outlet===Ee?-1:D.value.outlet===Ee?1:R.value.outlet.localeCompare(D.value.outlet))}(_e),(0,fe.of)(_e)}))}processSegment(R,D,k,j,oe,_e){return(0,ue.D)(D).pipe(wt(Ye=>this.processSegmentAgainstRoute(Ye._injector??R,D,Ye,k,j,oe,_e).pipe(Gt(ze=>{if(ze instanceof Bi)return(0,fe.of)(null);throw ze}))),nt(Ye=>!!Ye),Gt(Ye=>{if(Zi(Ye))return function la(S,R,D){return 0===R.length&&!S.children[D]}(k,j,oe)?(0,fe.of)([]):za(k);throw Ye}))}processSegmentAgainstRoute(R,D,k,j,oe,_e,Ye){return function cc(S,R,D,k){return!!(qi(S)===k||k!==Ee&&Vo(R,D,S))&&("**"===S.path||Bo(R,S,D).matched)}(k,j,oe,_e)?void 0===k.redirectTo?this.matchSegmentAgainstRoute(R,j,k,oe,_e,Ye):Ye&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(R,j,D,k,oe,_e):za(j):za(j)}expandSegmentAgainstRouteUsingRedirect(R,D,k,j,oe,_e){return"**"===j.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(R,k,j,_e):this.expandRegularSegmentAgainstRouteUsingRedirect(R,D,k,j,oe,_e)}expandWildCardWithParamsAgainstRouteUsingRedirect(R,D,k,j){const oe=this.applyRedirects.applyRedirectCommands([],k.redirectTo,{});return k.redirectTo.startsWith("/")?Vi(oe):this.applyRedirects.lineralizeSegments(k,oe).pipe((0,ke.z)(_e=>{const Ye=new qt(_e,{});return this.processSegment(R,D,Ye,_e,j,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(R,D,k,j,oe,_e){const{matched:Ye,consumedSegments:ze,remainingSegments:jt,positionalParamSegments:Qn}=Bo(D,j,oe);if(!Ye)return za(D);const Hr=this.applyRedirects.applyRedirectCommands(ze,j.redirectTo,Qn);return j.redirectTo.startsWith("/")?Vi(Hr):this.applyRedirects.lineralizeSegments(j,Hr).pipe((0,ke.z)(ar=>this.processSegment(R,k,D,ar.concat(jt),_e,!1)))}matchSegmentAgainstRoute(R,D,k,j,oe,_e){let Ye;if("**"===k.path){const ze=j.length>0?Kt(j).parameters:{},jt=new Mn(j,ze,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,pl(k),qi(k),k.component??k._loadedComponent??null,k,M(k));Ye=(0,fe.of)({snapshot:jt,consumedSegments:[],remainingSegments:[]}),D.children={}}else Ye=eo(D,k,j,R).pipe((0,pn.U)(({matched:ze,consumedSegments:jt,remainingSegments:Qn,parameters:Hr})=>ze?{snapshot:new Mn(jt,Hr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,pl(k),qi(k),k.component??k._loadedComponent??null,k,M(k)),consumedSegments:jt,remainingSegments:Qn}:null));return Ye.pipe((0,Cn.w)(ze=>null===ze?za(D):this.getChildConfig(R=k._injector??R,k,j).pipe((0,Cn.w)(({routes:jt})=>{const Qn=k._loadedInjector??R,{snapshot:Hr,consumedSegments:ar,remainingSegments:bo}=ze,{segmentGroup:Zl,slicedSegments:$r}=$c(D,ar,bo,jt);if(0===$r.length&&Zl.hasChildren())return this.processChildren(Qn,jt,Zl).pipe((0,pn.U)(pr=>null===pr?null:[new Ur(Hr,pr)]));if(0===jt.length&&0===$r.length)return(0,fe.of)([new Ur(Hr,[])]);const Ka=qi(k)===oe;return this.processSegment(Qn,jt,Zl,$r,Ka?Ee:oe,!0).pipe((0,pn.U)(pr=>[new Ur(Hr,pr)]))}))))}getChildConfig(R,D,k){return D.children?(0,fe.of)({routes:D.children,injector:R}):D.loadChildren?void 0!==D._loadedRoutes?(0,fe.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):function $a(S,R,D,k){const j=R.canLoad;if(void 0===j||0===j.length)return(0,fe.of)(!0);const oe=j.map(_e=>{const Ye=Xs(_e,S);return cn(function W(S){return S&&ca(S.canLoad)}(Ye)?Ye.canLoad(R,D):S.runInContext(()=>Ye(R,D)))});return(0,fe.of)(oe).pipe(Ni(),Oi())}(R,D,k).pipe((0,ke.z)(j=>j?this.configLoader.loadChildren(R,D).pipe((0,kt.b)(oe=>{D._loadedRoutes=oe.routes,D._loadedInjector=oe.injector})):function ac(S){return vt(di(!1,3))}())):(0,fe.of)({routes:[],injector:R})}}function lc(S){const R=S.value.routeConfig;return R&&""===R.path}function Cc(S){const R=[],D=new Set;for(const k of S){if(!lc(k)){R.push(k);continue}const j=R.find(oe=>k.value.routeConfig===oe.value.routeConfig);void 0!==j?(j.children.push(...k.children),D.add(j)):R.push(k)}for(const k of D){const j=Cc(k.children);R.push(new Ur(k.value,j))}return R.filter(k=>!D.has(k))}function pl(S){return S.data||{}}function M(S){return S.resolve||{}}function vn(S){return"string"==typeof S.title||null===S.title}function Dr(S){return(0,Cn.w)(R=>{const D=S(R);return D?(0,ue.D)(D).pipe((0,pn.U)(()=>R)):(0,fe.of)(R)})}const Nr=new b.OlP("ROUTES");let zn=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,b.f3M)(b.Sil)}loadComponent(D){if(this.componentLoaders.get(D))return this.componentLoaders.get(D);if(D._loadedComponent)return(0,fe.of)(D._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(D);const k=cn(D.loadComponent()).pipe((0,pn.U)(Br),(0,kt.b)(oe=>{this.onLoadEndListener&&this.onLoadEndListener(D),D._loadedComponent=oe}),jn(()=>{this.componentLoaders.delete(D)})),j=new _t(k,()=>new Pn.x).pipe(Xe());return this.componentLoaders.set(D,j),j}loadChildren(D,k){if(this.childrenLoaders.get(k))return this.childrenLoaders.get(k);if(k._loadedRoutes)return(0,fe.of)({routes:k._loadedRoutes,injector:k._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(k);const oe=function Gn(S,R,D,k){return cn(S.loadChildren()).pipe((0,pn.U)(Br),(0,ke.z)(j=>j instanceof b.YKP||Array.isArray(j)?(0,fe.of)(j):(0,ue.D)(R.compileModuleAsync(j))),(0,pn.U)(j=>{k&&k(S);let oe,_e,Ye=!1;return Array.isArray(j)?(_e=j,!0):(oe=j.create(D).injector,_e=oe.get(Nr,[],{optional:!0,self:!0}).flat()),{routes:_e.map(wa),injector:oe}}))}(k,this.compiler,D,this.onLoadEndListener).pipe(jn(()=>{this.childrenLoaders.delete(k)})),_e=new _t(oe,()=>new Pn.x).pipe(Xe());return this.childrenLoaders.set(k,_e),_e}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function Br(S){return function _r(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let Vr=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Pn.x,this.transitionAbortSubject=new Pn.x,this.configLoader=(0,b.f3M)(zn),this.environmentInjector=(0,b.f3M)(b.lqb),this.urlSerializer=(0,b.f3M)(Ce),this.rootContexts=(0,b.f3M)(Xn),this.inputBindingEnabled=null!==(0,b.f3M)(Ji,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,fe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=j=>this.events.next(new Ro(j)),this.configLoader.onLoadStartListener=j=>this.events.next(new ci(j))}complete(){this.transitions?.complete()}handleNavigationRequest(D){const k=++this.navigationId;this.transitions?.next({...this.transitions.value,...D,id:k})}setupNavigations(D,k,j){return this.transitions=new Te.X({id:0,currentUrlTree:k,currentRawUrl:k,currentBrowserUrl:k,extractedUrl:D.urlHandlingStrategy.extract(k),urlAfterRedirects:D.urlHandlingStrategy.extract(k),rawUrl:k,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ho,restoredState:null,currentSnapshot:j.snapshot,targetSnapshot:null,currentRouterState:j,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,hr.h)(oe=>0!==oe.id),(0,pn.U)(oe=>({...oe,extractedUrl:D.urlHandlingStrategy.extract(oe.rawUrl)})),(0,Cn.w)(oe=>{this.currentTransition=oe;let _e=!1,Ye=!1;return(0,fe.of)(oe).pipe((0,kt.b)(ze=>{this.currentNavigation={id:ze.id,initialUrl:ze.rawUrl,extractedUrl:ze.extractedUrl,trigger:ze.source,extras:ze.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Cn.w)(ze=>{const jt=ze.currentBrowserUrl.toString(),Qn=!D.navigated||ze.extractedUrl.toString()!==jt||jt!==ze.currentUrlTree.toString();if(!Qn&&"reload"!==(ze.extras.onSameUrlNavigation??D.onSameUrlNavigation)){const ar="";return this.events.next(new ws(ze.id,this.urlSerializer.serialize(ze.rawUrl),ar,0)),ze.resolve(null),yt.E}if(D.urlHandlingStrategy.shouldProcessUrl(ze.rawUrl))return(0,fe.of)(ze).pipe((0,Cn.w)(ar=>{const bo=this.transitions?.getValue();return this.events.next(new va(ar.id,this.urlSerializer.serialize(ar.extractedUrl),ar.source,ar.restoredState)),bo!==this.transitions?.getValue()?yt.E:Promise.resolve(ar)}),function re(S,R,D,k,j,oe){return(0,ke.z)(_e=>function ua(S,R,D,k,j,oe,_e="emptyOnly"){return new zc(S,R,D,k,j,_e,oe).recognize()}(S,R,D,k,_e.extractedUrl,j,oe).pipe((0,pn.U)(({state:Ye,tree:ze})=>({..._e,targetSnapshot:Ye,urlAfterRedirects:ze}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,D.config,this.urlSerializer,D.paramsInheritanceStrategy),(0,kt.b)(ar=>{oe.targetSnapshot=ar.targetSnapshot,oe.urlAfterRedirects=ar.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ar.urlAfterRedirects};const bo=new $l(ar.id,this.urlSerializer.serialize(ar.extractedUrl),this.urlSerializer.serialize(ar.urlAfterRedirects),ar.targetSnapshot);this.events.next(bo)}));if(Qn&&D.urlHandlingStrategy.shouldProcessUrl(ze.currentRawUrl)){const{id:ar,extractedUrl:bo,source:Zl,restoredState:$r,extras:Ka}=ze,pr=new va(ar,this.urlSerializer.serialize(bo),Zl,$r);this.events.next(pr);const Sc=Ti(0,this.rootComponentType).snapshot;return this.currentTransition=oe={...ze,targetSnapshot:Sc,urlAfterRedirects:bo,extras:{...Ka,skipLocationChange:!1,replaceUrl:!1}},(0,fe.of)(oe)}{const ar="";return this.events.next(new ws(ze.id,this.urlSerializer.serialize(ze.extractedUrl),ar,1)),ze.resolve(null),yt.E}}),(0,kt.b)(ze=>{const jt=new cs(ze.id,this.urlSerializer.serialize(ze.extractedUrl),this.urlSerializer.serialize(ze.urlAfterRedirects),ze.targetSnapshot);this.events.next(jt)}),(0,pn.U)(ze=>(this.currentTransition=oe={...ze,guards:Ui(ze.targetSnapshot,ze.currentSnapshot,this.rootContexts)},oe)),function us(S,R){return(0,ke.z)(D=>{const{targetSnapshot:k,currentSnapshot:j,guards:{canActivateChecks:oe,canDeactivateChecks:_e}}=D;return 0===_e.length&&0===oe.length?(0,fe.of)({...D,guardsResult:!0}):function Gc(S,R,D,k){return(0,ue.D)(S).pipe((0,ke.z)(j=>function fl(S,R,D,k,j){const oe=R&&R.routeConfig?R.routeConfig.canDeactivate:null;if(!oe||0===oe.length)return(0,fe.of)(!0);const _e=oe.map(Ye=>{const ze=Ar(R)??j,jt=Xs(Ye,ze);return cn(function ce(S){return S&&ca(S.canDeactivate)}(jt)?jt.canDeactivate(S,R,D,k):ze.runInContext(()=>jt(S,R,D,k))).pipe(nt())});return(0,fe.of)(_e).pipe(Ni())}(j.component,j.route,D,R,k)),nt(j=>!0!==j,!0))}(_e,k,j,S).pipe((0,ke.z)(Ye=>Ye&&function hl(S){return"boolean"==typeof S}(Ye)?function Lo(S,R,D,k){return(0,ue.D)(R).pipe(wt(j=>(0,Dn.z)(function jc(S,R){return null!==S&&R&&R(new Po(S)),(0,fe.of)(!0)}(j.route.parent,k),function Ea(S,R){return null!==S&&R&&R(new ps(S)),(0,fe.of)(!0)}(j.route,k),function gs(S,R,D){const k=R[R.length-1],oe=R.slice(0,R.length-1).reverse().map(_e=>function Ai(S){const R=S.routeConfig?S.routeConfig.canActivateChild:null;return R&&0!==R.length?{node:S,guards:R}:null}(_e)).filter(_e=>null!==_e).map(_e=>ft(()=>{const Ye=_e.guards.map(ze=>{const jt=Ar(_e.node)??D,Qn=Xs(ze,jt);return cn(function U(S){return S&&ca(S.canActivateChild)}(Qn)?Qn.canActivateChild(k,S):jt.runInContext(()=>Qn(k,S))).pipe(nt())});return(0,fe.of)(Ye).pipe(Ni())}));return(0,fe.of)(oe).pipe(Ni())}(S,j.path,D),function ja(S,R,D){const k=R.routeConfig?R.routeConfig.canActivate:null;if(!k||0===k.length)return(0,fe.of)(!0);const j=k.map(oe=>ft(()=>{const _e=Ar(R)??D,Ye=Xs(oe,_e);return cn(function J(S){return S&&ca(S.canActivate)}(Ye)?Ye.canActivate(R,S):_e.runInContext(()=>Ye(R,S))).pipe(nt())}));return(0,fe.of)(j).pipe(Ni())}(S,j.route,D))),nt(j=>!0!==j,!0))}(k,oe,S,R):(0,fe.of)(Ye)),(0,pn.U)(Ye=>({...D,guardsResult:Ye})))})}(this.environmentInjector,ze=>this.events.next(ze)),(0,kt.b)(ze=>{if(oe.guardsResult=ze.guardsResult,lo(ze.guardsResult))throw Us(0,ze.guardsResult);const jt=new ul(ze.id,this.urlSerializer.serialize(ze.extractedUrl),this.urlSerializer.serialize(ze.urlAfterRedirects),ze.targetSnapshot,!!ze.guardsResult);this.events.next(jt)}),(0,hr.h)(ze=>!!ze.guardsResult||(this.cancelNavigationTransition(ze,"",3),!1)),Dr(ze=>{if(ze.guards.canActivateChecks.length)return(0,fe.of)(ze).pipe((0,kt.b)(jt=>{const Qn=new Kr(jt.id,this.urlSerializer.serialize(jt.extractedUrl),this.urlSerializer.serialize(jt.urlAfterRedirects),jt.targetSnapshot);this.events.next(Qn)}),(0,Cn.w)(jt=>{let Qn=!1;return(0,fe.of)(jt).pipe(function V(S,R){return(0,ke.z)(D=>{const{targetSnapshot:k,guards:{canActivateChecks:j}}=D;if(!j.length)return(0,fe.of)(D);let oe=0;return(0,ue.D)(j).pipe(wt(_e=>function X(S,R,D,k){const j=S.routeConfig,oe=S._resolve;return void 0!==j?.title&&!vn(j)&&(oe[Ze]=j.title),function ve(S,R,D,k){const j=function tt(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===j.length)return(0,fe.of)({});const oe={};return(0,ue.D)(j).pipe((0,ke.z)(_e=>function mt(S,R,D,k){const j=Ar(R)??k,oe=Xs(S,j);return cn(oe.resolve?oe.resolve(R,D):j.runInContext(()=>oe(R,D)))}(S[_e],R,D,k).pipe(nt(),(0,kt.b)(Ye=>{oe[_e]=Ye}))),mn(1),(0,Ct.h)(oe),Gt(_e=>Zi(_e)?yt.E:vt(_e)))}(oe,S,R,k).pipe((0,pn.U)(_e=>(S._resolvedData=_e,S.data=Tr(S,D).resolve,j&&vn(j)&&(S.data[Ze]=j.title),null)))}(_e.route,k,S,R)),(0,kt.b)(()=>oe++),mn(1),(0,ke.z)(_e=>oe===j.length?(0,fe.of)(D):yt.E))})}(D.paramsInheritanceStrategy,this.environmentInjector),(0,kt.b)({next:()=>Qn=!0,complete:()=>{Qn||this.cancelNavigationTransition(jt,"",2)}}))}),(0,kt.b)(jt=>{const Qn=new Vc(jt.id,this.urlSerializer.serialize(jt.extractedUrl),this.urlSerializer.serialize(jt.urlAfterRedirects),jt.targetSnapshot);this.events.next(Qn)}))}),Dr(ze=>{const jt=Qn=>{const Hr=[];Qn.routeConfig?.loadComponent&&!Qn.routeConfig._loadedComponent&&Hr.push(this.configLoader.loadComponent(Qn.routeConfig).pipe((0,kt.b)(ar=>{Qn.component=ar}),(0,pn.U)(()=>{})));for(const ar of Qn.children)Hr.push(...jt(ar));return Hr};return qe(jt(ze.targetSnapshot.root)).pipe($e(),(0,Vn.q)(1))}),Dr(()=>this.afterPreactivation()),(0,pn.U)(ze=>{const jt=function ko(S,R,D){const k=go(S,R._root,D?D._root:void 0);return new ba(k,R)}(D.routeReuseStrategy,ze.targetSnapshot,ze.currentRouterState);return this.currentTransition=oe={...ze,targetRouterState:jt},oe}),(0,kt.b)(()=>{this.events.next(new ia)}),((S,R,D,k)=>(0,pn.U)(j=>(new aa(R,j.targetRouterState,j.currentRouterState,D,k).activate(S),j)))(this.rootContexts,D.routeReuseStrategy,ze=>this.events.next(ze),this.inputBindingEnabled),(0,Vn.q)(1),(0,kt.b)({next:ze=>{_e=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new jr(ze.id,this.urlSerializer.serialize(ze.extractedUrl),this.urlSerializer.serialize(ze.urlAfterRedirects))),D.titleStrategy?.updateTitle(ze.targetRouterState.snapshot),ze.resolve(!0)},complete:()=>{_e=!0}}),(0,wr.R)(this.transitionAbortSubject.pipe((0,kt.b)(ze=>{throw ze}))),jn(()=>{_e||Ye||this.cancelNavigationTransition(oe,"",1),this.currentNavigation?.id===oe.id&&(this.currentNavigation=null)}),Gt(ze=>{if(Ye=!0,oc(ze))this.events.next(new xo(oe.id,this.urlSerializer.serialize(oe.extractedUrl),ze.message,ze.cancellationCode)),function oa(S){return oc(S)&&lo(S.url)}(ze)?this.events.next(new sa(ze.url)):oe.resolve(!1);else{this.events.next(new ra(oe.id,this.urlSerializer.serialize(oe.extractedUrl),ze,oe.targetSnapshot??void 0));try{oe.resolve(D.errorHandler(ze))}catch(jt){oe.reject(jt)}}return yt.E}))}))}cancelNavigationTransition(D,k,j){const oe=new xo(D.id,this.urlSerializer.serialize(D.extractedUrl),k,j);this.events.next(oe),D.resolve(!1)}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function es(S){return S!==ho}let ts=(()=>{class S{buildTitle(D){let k,j=D.root;for(;void 0!==j;)k=this.getResolvedTitleForRoute(j)??k,j=j.children.find(oe=>oe.outlet===Ee);return k}getResolvedTitleForRoute(D){return D.data[Ze]}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:function(){return(0,b.f3M)(Gi)},providedIn:"root"})}return S})(),Gi=(()=>{class S extends ts{constructor(D){super(),this.title=D}updateTitle(D){const k=this.buildTitle(D);void 0!==k&&this.title.setTitle(k)}static#e=this.\u0275fac=function(k){return new(k||S)(b.LFG(Ae.Dx))};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),ms=(()=>{class S{static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:function(){return(0,b.f3M)(to)},providedIn:"root"})}return S})();class Go{shouldDetach(R){return!1}store(R,D){}shouldAttach(R){return!1}retrieve(R){return null}shouldReuseRoute(R,D){return R.routeConfig===D.routeConfig}}let to=(()=>{class S extends Go{static#e=this.\u0275fac=function(){let D;return function(j){return(D||(D=b.n5z(S)))(j||S)}}();static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const jo=new b.OlP("",{providedIn:"root",factory:()=>({})});let gl=(()=>{class S{static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:function(){return(0,b.f3M)(Fd)},providedIn:"root"})}return S})(),Fd=(()=>{class S{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,k){return D}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();var fi=function(S){return S[S.COMPLETE=0]="COMPLETE",S[S.FAILED=1]="FAILED",S[S.REDIRECTING=2]="REDIRECTING",S}(fi||{});function ml(S,R){S.events.pipe((0,hr.h)(D=>D instanceof jr||D instanceof xo||D instanceof ra||D instanceof ws),(0,pn.U)(D=>D instanceof jr||D instanceof ws?fi.COMPLETE:D instanceof xo&&(0===D.code||1===D.code)?fi.REDIRECTING:fi.FAILED),(0,hr.h)(D=>D!==fi.REDIRECTING),(0,Vn.q)(1)).subscribe(()=>{R()})}function yo(S){throw S}function Jr(S,R,D){return R.parse("/")}const Wc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_l={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zr=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,b.f3M)(b.c2e),this.isNgZoneEnabled=!1,this._events=new Pn.x,this.options=(0,b.f3M)(jo,{optional:!0})||{},this.pendingTasks=(0,b.f3M)(b.HDt),this.errorHandler=this.options.errorHandler||yo,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Jr,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,b.f3M)(gl),this.routeReuseStrategy=(0,b.f3M)(ms),this.titleStrategy=(0,b.f3M)(ts),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,b.f3M)(Nr,{optional:!0})?.flat()??[],this.navigationTransitions=(0,b.f3M)(Vr),this.urlSerializer=(0,b.f3M)(Ce),this.location=(0,b.f3M)(dt.Ye),this.componentInputBindingEnabled=!!(0,b.f3M)(Ji,{optional:!0}),this.eventsSubscription=new je.w0,this.isNgZoneEnabled=(0,b.f3M)(b.R0b)instanceof b.R0b&&b.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ti,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ti(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(D=>{this.lastSuccessfulId=D.id,this.currentPageId=this.browserPageId},D=>{this.console.warn(`Unhandled Navigation Error: ${D}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const D=this.navigationTransitions.events.subscribe(k=>{try{const{currentTransition:j}=this.navigationTransitions;if(null===j)return void(Iu(k)&&this._events.next(k));if(k instanceof va)es(j.source)&&(this.browserUrlTree=j.extractedUrl);else if(k instanceof ws)this.rawUrlTree=j.rawUrl;else if(k instanceof $l){if("eager"===this.urlUpdateStrategy){if(!j.extras.skipLocationChange){const oe=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl);this.setBrowserUrl(oe,j)}this.browserUrlTree=j.urlAfterRedirects}}else if(k instanceof ia)this.currentUrlTree=j.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl),this.routerState=j.targetRouterState,"deferred"===this.urlUpdateStrategy&&(j.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,j),this.browserUrlTree=j.urlAfterRedirects);else if(k instanceof xo)0!==k.code&&1!==k.code&&(this.navigated=!0),(3===k.code||2===k.code)&&this.restoreHistory(j);else if(k instanceof sa){const oe=this.urlHandlingStrategy.merge(k.url,j.currentRawUrl),_e={skipLocationChange:j.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||es(j.source)};this.scheduleNavigation(oe,ho,null,_e,{resolve:j.resolve,reject:j.reject,promise:j.promise})}k instanceof ra&&this.restoreHistory(j,!0),k instanceof jr&&(this.navigated=!0),Iu(k)&&this._events.next(k)}catch(j){this.navigationTransitions.transitionAbortSubject.next(j)}});this.eventsSubscription.add(D)}resetRootComponentType(D){this.routerState.root.component=D,this.navigationTransitions.rootComponentType=D}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const D=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ho,D)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const k="popstate"===D.type?"popstate":"hashchange";"popstate"===k&&setTimeout(()=>{this.navigateToSyncWithBrowser(D.url,k,D.state)},0)}))}navigateToSyncWithBrowser(D,k,j){const oe={replaceUrl:!0},_e=j?.navigationId?j:null;if(j){const ze={...j};delete ze.navigationId,delete ze.\u0275routerPageId,0!==Object.keys(ze).length&&(oe.state=ze)}const Ye=this.parseUrl(D);this.scheduleNavigation(Ye,k,_e,oe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(D){this.config=D.map(wa),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(D,k={}){const{relativeTo:j,queryParams:oe,fragment:_e,queryParamsHandling:Ye,preserveFragment:ze}=k,jt=ze?this.currentUrlTree.fragment:_e;let Hr,Qn=null;switch(Ye){case"merge":Qn={...this.currentUrlTree.queryParams,...oe};break;case"preserve":Qn=this.currentUrlTree.queryParams;break;default:Qn=oe||null}null!==Qn&&(Qn=this.removeEmptyProps(Qn));try{Hr=Rs(j?j.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof D[0]||!D[0].startsWith("/"))&&(D=[]),Hr=this.currentUrlTree.root}return os(Hr,D,Qn,jt??null)}navigateByUrl(D,k={skipLocationChange:!1}){const j=lo(D)?D:this.parseUrl(D),oe=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(oe,ho,null,k)}navigate(D,k={skipLocationChange:!1}){return function Ld(S){for(let R=0;R<S.length;R++)if(null==S[R])throw new b.vHH(4008,!1)}(D),this.navigateByUrl(this.createUrlTree(D,k),k)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let k;try{k=this.urlSerializer.parse(D)}catch(j){k=this.malformedUriErrorHandler(j,this.urlSerializer,D)}return k}isActive(D,k){let j;if(j=!0===k?{...Wc}:!1===k?{..._l}:k,lo(D))return Ir(this.currentUrlTree,D,j);const oe=this.parseUrl(D);return Ir(this.currentUrlTree,oe,j)}removeEmptyProps(D){return Object.keys(D).reduce((k,j)=>{const oe=D[j];return null!=oe&&(k[j]=oe),k},{})}scheduleNavigation(D,k,j,oe,_e){if(this.disposed)return Promise.resolve(!1);let Ye,ze,jt;_e?(Ye=_e.resolve,ze=_e.reject,jt=_e.promise):jt=new Promise((Hr,ar)=>{Ye=Hr,ze=ar});const Qn=this.pendingTasks.add();return ml(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Qn))}),this.navigationTransitions.handleNavigationRequest({source:k,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:D,extras:oe,resolve:Ye,reject:ze,promise:jt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),jt.catch(Hr=>Promise.reject(Hr))}setBrowserUrl(D,k){const j=this.urlSerializer.serialize(D);if(this.location.isCurrentPathEqualTo(j)||k.extras.replaceUrl){const _e={...k.extras.state,...this.generateNgRouterState(k.id,this.browserPageId)};this.location.replaceState(j,"",_e)}else{const oe={...k.extras.state,...this.generateNgRouterState(k.id,this.browserPageId+1)};this.location.go(j,"",oe)}}restoreHistory(D,k=!1){if("computed"===this.canceledNavigationResolution){const oe=this.currentPageId-this.browserPageId;0!==oe?this.location.historyGo(oe):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===oe&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(k&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(D,k){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:k}:{navigationId:D}}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function Iu(S){return!(S instanceof ia||S instanceof sa)}let Wa=(()=>{class S{constructor(D,k,j,oe,_e,Ye){this.router=D,this.route=k,this.tabIndexAttribute=j,this.renderer=oe,this.el=_e,this.locationStrategy=Ye,this.href=null,this.commands=null,this.onChanges=new Pn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ze=_e.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ze||"area"===ze,this.isAnchorElement?this.subscription=D.events.subscribe(jt=>{jt instanceof jr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(D){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",D)}ngOnChanges(D){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(D,k,j,oe,_e){return!!(null===this.urlTree||this.isAnchorElement&&(0!==D||k||j||oe||_e||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const D=null===this.href?null:(0,b.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",D)}applyAttributeValue(D,k){const j=this.renderer,oe=this.el.nativeElement;null!==k?j.setAttribute(oe,D,k):j.removeAttribute(oe,D)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(k){return new(k||S)(b.Y36(Zr),b.Y36(Di),b.$8M("tabindex"),b.Y36(b.Qsj),b.Y36(b.SBq),b.Y36(dt.S$))};static#t=this.\u0275dir=b.lG2({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(k,j){1&k&&b.NdJ("click",function(_e){return j.onClick(_e.button,_e.ctrlKey,_e.shiftKey,_e.altKey,_e.metaKey)}),2&k&&b.uIk("target",j.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",b.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",b.VuI],replaceUrl:["replaceUrl","replaceUrl",b.VuI],routerLink:"routerLink"},standalone:!0,features:[b.Xq5,b.TTD]})}return S})();class Eu{}let Tu=(()=>{class S{constructor(D,k,j,oe,_e){this.router=D,this.injector=j,this.preloadingStrategy=oe,this.loader=_e}setUpPreloading(){this.subscription=this.router.events.pipe((0,hr.h)(D=>D instanceof jr),wt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,k){const j=[];for(const oe of k){oe.providers&&!oe._injector&&(oe._injector=(0,b.MMx)(oe.providers,D,`Route: ${oe.path}`));const _e=oe._injector??D,Ye=oe._loadedInjector??_e;(oe.loadChildren&&!oe._loadedRoutes&&void 0===oe.canLoad||oe.loadComponent&&!oe._loadedComponent)&&j.push(this.preloadConfig(_e,oe)),(oe.children||oe._loadedRoutes)&&j.push(this.processRoutes(Ye,oe.children??oe._loadedRoutes))}return(0,ue.D)(j).pipe((0,gr.J)())}preloadConfig(D,k){return this.preloadingStrategy.preload(k,()=>{let j;j=k.loadChildren&&void 0===k.canLoad?this.loader.loadChildren(D,k):(0,fe.of)(null);const oe=j.pipe((0,ke.z)(_e=>null===_e?(0,fe.of)(void 0):(k._loadedRoutes=_e.routes,k._loadedInjector=_e.injector,this.processRoutes(_e.injector??D,_e.routes))));if(k.loadComponent&&!k._loadedComponent){const _e=this.loader.loadComponent(k);return(0,ue.D)([oe,_e]).pipe((0,gr.J)())}return oe})}static#e=this.\u0275fac=function(k){return new(k||S)(b.LFG(Zr),b.LFG(b.Sil),b.LFG(b.lqb),b.LFG(Eu),b.LFG(zn))};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const rd=new b.OlP("");let Xr=(()=>{class S{constructor(D,k,j,oe,_e={}){this.urlSerializer=D,this.transitions=k,this.viewportScroller=j,this.zone=oe,this.options=_e,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},_e.scrollPositionRestoration=_e.scrollPositionRestoration||"disabled",_e.anchorScrolling=_e.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof va?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof jr?(this.lastId=D.id,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.urlAfterRedirects).fragment)):D instanceof ws&&0===D.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof Ys&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,k){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ys(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,k))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(k){b.$Z()};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac})}return S})();function pi(S,R){return{\u0275kind:S,\u0275providers:R}}function sd(){const S=(0,b.f3M)(b.zs3);return R=>{const D=S.get(b.z2F);if(R!==D.components[0])return;const k=S.get(Zr),j=S.get(Wl);1===S.get(bl)&&k.initialNavigation(),S.get(qc,null,b.XFs.Optional)?.setUpPreloading(),S.get(rd,null,b.XFs.Optional)?.init(),k.resetRootComponentType(D.componentTypes[0]),j.closed||(j.next(),j.complete(),j.unsubscribe())}}const Wl=new b.OlP("",{factory:()=>new Pn.x}),bl=new b.OlP("",{providedIn:"root",factory:()=>1}),qc=new b.OlP("");function od(S){return pi(0,[{provide:qc,useExisting:Tu},{provide:Eu,useExisting:S}])}const Ki=new b.OlP("ROUTER_FORROOT_GUARD"),Ud=[dt.Ye,{provide:Ce,useClass:Je},Zr,Xn,{provide:Di,useFactory:function qa(S){return S.routerState.root},deps:[Zr]},zn,[]];function wl(){return new b.PXZ("Router",Zr)}let vo=(()=>{class S{constructor(D){}static forRoot(D,k){return{ngModule:S,providers:[Ud,[],{provide:Nr,multi:!0,useValue:D},{provide:Ki,useFactory:Zc,deps:[[Zr,new b.FiY,new b.tp0]]},{provide:jo,useValue:k||{}},k?.useHash?{provide:dt.S$,useClass:dt.Do}:{provide:dt.S$,useClass:dt.b0},{provide:rd,useFactory:()=>{const S=(0,b.f3M)(dt.EM),R=(0,b.f3M)(b.R0b),D=(0,b.f3M)(jo),k=(0,b.f3M)(Vr),j=(0,b.f3M)(Ce);return D.scrollOffset&&S.setOffset(D.scrollOffset),new Xr(j,k,S,R,D)}},k?.preloadingStrategy?od(k.preloadingStrategy).\u0275providers:[],{provide:b.PXZ,multi:!0,useFactory:wl},k?.initialNavigation?Za(k):[],k?.bindToComponentInputs?pi(8,[Ln,{provide:Ji,useExisting:Ln}]).\u0275providers:[],[{provide:_s,useFactory:sd},{provide:b.tb,multi:!0,useExisting:_s}]]}}static forChild(D){return{ngModule:S,providers:[{provide:Nr,multi:!0,useValue:D}]}}static#e=this.\u0275fac=function(k){return new(k||S)(b.LFG(Ki,8))};static#t=this.\u0275mod=b.oAB({type:S});static#n=this.\u0275inj=b.cJS({})}return S})();function Zc(S){return"guarded"}function Za(S){return["disabled"===S.initialNavigation?pi(3,[{provide:b.ip1,multi:!0,useFactory:()=>{const R=(0,b.f3M)(Zr);return()=>{R.setUpLocationChangeListener()}}},{provide:bl,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?pi(2,[{provide:bl,useValue:0},{provide:b.ip1,multi:!0,deps:[b.zs3],useFactory:R=>{const D=R.get(dt.V_,Promise.resolve());return()=>D.then(()=>new Promise(k=>{const j=R.get(Zr),oe=R.get(Wl);ml(j,()=>{k(!0)}),R.get(Vr).afterPreactivation=()=>(k(!0),oe.closed?(0,fe.of)(void 0):oe),j.initialNavigation()}))}}]).\u0275providers:[]]}const _s=new b.OlP("")},4303:(Bt,Ve,K)=>{K.d(Ve,{Jn:()=>wr,KN:()=>gt,Mq:()=>Ae,Xd:()=>kt,ZF:()=>gr,qX:()=>Gt});var b=K(5861),ne=K(4537),u=K(7879),be=K(9058),ue=K(1878);class fe{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(Je=>{if(function Te(rt){const Ce=rt.getComponent();return"VERSION"===Ce?.type}(Je)){const Et=Je.getImmediate();return`${Et.library}/${Et.version}`}return null}).filter(Je=>Je).join(" ")}}const He="@firebase/app",ae=new u.Yd("@firebase/app"),ke="[DEFAULT]",$e={[He]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},et=new Map,Ge=new Map;function nt(rt,Ce){try{rt.container.addComponent(Ce)}catch(Je){ae.debug(`Component ${Ce.name} failed to register with FirebaseApp ${rt.name}`,Je)}}function kt(rt){const Ce=rt.name;if(Ge.has(Ce))return ae.debug(`There were multiple attempts to register component ${Ce}.`),!1;Ge.set(Ce,rt);for(const Je of et.values())nt(Je,rt);return!0}function Gt(rt,Ce){const Je=rt.container.getProvider("heartbeat").getImmediate({optional:!0});return Je&&Je.triggerHeartbeat(),rt.container.getProvider(Ce)}const Ct=new be.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class jn{constructor(Ce,Je,Et){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},Je),this._name=Je.name,this._automaticDataCollectionEnabled=Je.automaticDataCollectionEnabled,this._container=Et,this.container.addComponent(new ne.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw Ct.create("app-deleted",{appName:this._name})}}const wr="10.9.0";function gr(rt,Ce={}){let Je=rt;"object"!=typeof Ce&&(Ce={name:Ce});const Et=Object.assign({name:ke,automaticDataCollectionEnabled:!1},Ce),$t=Et.name;if("string"!=typeof $t||!$t)throw Ct.create("bad-app-name",{appName:String($t)});if(Je||(Je=(0,be.aH)()),!Je)throw Ct.create("no-options");const Wt=et.get($t);if(Wt){if((0,be.vZ)(Je,Wt.options)&&(0,be.vZ)(Et,Wt.config))return Wt;throw Ct.create("duplicate-app",{appName:$t})}const qn=new ne.H0($t);for(const B of Ge.values())qn.addComponent(B);const Q=new jn(Je,Et,qn);return et.set($t,Q),Q}function Ae(rt=ke){const Ce=et.get(rt);if(!Ce&&rt===ke&&(0,be.aH)())return gr();if(!Ce)throw Ct.create("no-app",{appName:rt});return Ce}function gt(rt,Ce,Je){var Et;let $t=null!==(Et=$e[rt])&&void 0!==Et?Et:rt;Je&&($t+=`-${Je}`);const Wt=$t.match(/\s|\//),qn=Ce.match(/\s|\//);if(Wt||qn){const Q=[`Unable to register library "${$t}" with version "${Ce}":`];return Wt&&Q.push(`library name "${$t}" contains illegal characters (whitespace or "/")`),Wt&&qn&&Q.push("and"),qn&&Q.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void ae.warn(Q.join(" "))}kt(new ne.wA(`${$t}-version`,()=>({library:$t,version:Ce}),"VERSION"))}const hn="firebase-heartbeat-database",Tn=1,Kt="firebase-heartbeat-store";let cn=null;function fr(){return cn||(cn=(0,ue.X3)(hn,Tn,{upgrade:(rt,Ce)=>{if(0===Ce)try{rt.createObjectStore(Kt)}catch(Je){console.warn(Je)}}}).catch(rt=>{throw Ct.create("idb-open",{originalErrorMessage:rt.message})})),cn}function Ir(){return(Ir=(0,b.Z)(function*(rt){try{const Je=(yield fr()).transaction(Kt),Et=yield Je.objectStore(Kt).get(cr(rt));return yield Je.done,Et}catch(Ce){if(Ce instanceof be.ZR)ae.warn(Ce.message);else{const Je=Ct.create("idb-get",{originalErrorMessage:Ce?.message});ae.warn(Je.message)}}})).apply(this,arguments)}function Er(rt,Ce){return yn.apply(this,arguments)}function yn(){return(yn=(0,b.Z)(function*(rt,Ce){try{const Et=(yield fr()).transaction(Kt,"readwrite");yield Et.objectStore(Kt).put(Ce,cr(rt)),yield Et.done}catch(Je){if(Je instanceof be.ZR)ae.warn(Je.message);else{const Et=Ct.create("idb-set",{originalErrorMessage:Je?.message});ae.warn(Et.message)}}})).apply(this,arguments)}function cr(rt){return`${rt.name}!${rt.options.appId}`}class Bn{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const Je=this.container.getProvider("app").getImmediate();this._storage=new Qi(Je),this._heartbeatsCachePromise=this._storage.read().then(Et=>(this._heartbeatsCache=Et,Et))}triggerHeartbeat(){var Ce=this;return(0,b.Z)(function*(){var Je,Et;const Wt=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),qn=ti();if((null!=(null===(Je=Ce._heartbeatsCache)||void 0===Je?void 0:Je.heartbeats)||(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise,null!=(null===(Et=Ce._heartbeatsCache)||void 0===Et?void 0:Et.heartbeats)))&&Ce._heartbeatsCache.lastSentHeartbeatDate!==qn&&!Ce._heartbeatsCache.heartbeats.some(Q=>Q.date===qn))return Ce._heartbeatsCache.heartbeats.push({date:qn,agent:Wt}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(Q=>{const B=new Date(Q.date).valueOf();return Date.now()-B<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,b.Z)(function*(){var Je;if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null==(null===(Je=Ce._heartbeatsCache)||void 0===Je?void 0:Je.heartbeats)||0===Ce._heartbeatsCache.heartbeats.length)return"";const Et=ti(),{heartbeatsToSend:$t,unsentEntries:Wt}=function qt(rt,Ce=1024){const Je=[];let Et=rt.slice();for(const $t of rt){const Wt=Je.find(qn=>qn.agent===$t.agent);if(Wt){if(Wt.dates.push($t.date),zr(Je)>Ce){Wt.dates.pop();break}}else if(Je.push({agent:$t.agent,dates:[$t.date]}),zr(Je)>Ce){Je.pop();break}Et=Et.slice(1)}return{heartbeatsToSend:Je,unsentEntries:Et}}(Ce._heartbeatsCache.heartbeats),qn=(0,be.L)(JSON.stringify({version:2,heartbeats:$t}));return Ce._heartbeatsCache.lastSentHeartbeatDate=Et,Wt.length>0?(Ce._heartbeatsCache.heartbeats=Wt,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),qn})()}}function ti(){return(new Date).toISOString().substring(0,10)}class Qi{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!(0,be.hl)()&&(0,be.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,b.Z)(function*(){if(yield Ce._canUseIndexedDBPromise){const Et=yield function Jt(rt){return Ir.apply(this,arguments)}(Ce.app);return Et?.heartbeats?Et:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Ce){var Je=this;return(0,b.Z)(function*(){var Et;if(yield Je._canUseIndexedDBPromise){const Wt=yield Je.read();return Er(Je.app,{lastSentHeartbeatDate:null!==(Et=Ce.lastSentHeartbeatDate)&&void 0!==Et?Et:Wt.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var Je=this;return(0,b.Z)(function*(){var Et;if(yield Je._canUseIndexedDBPromise){const Wt=yield Je.read();return Er(Je.app,{lastSentHeartbeatDate:null!==(Et=Ce.lastSentHeartbeatDate)&&void 0!==Et?Et:Wt.lastSentHeartbeatDate,heartbeats:[...Wt.heartbeats,...Ce.heartbeats]})}})()}}function zr(rt){return(0,be.L)(JSON.stringify({version:2,heartbeats:rt})).length}!function Gr(rt){kt(new ne.wA("platform-logger",Ce=>new fe(Ce),"PRIVATE")),kt(new ne.wA("heartbeat",Ce=>new Bn(Ce),"PRIVATE")),gt(He,"0.9.29",rt),gt(He,"0.9.29","esm2017"),gt("fire-js","")}("")},4537:(Bt,Ve,K)=>{K.d(Ve,{H0:()=>He,wA:()=>u});var b=K(5861),ne=K(9058);class u{constructor(ae,de,Me){this.name=ae,this.instanceFactory=de,this.type=Me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ae){return this.instantiationMode=ae,this}setMultipleInstances(ae){return this.multipleInstances=ae,this}setServiceProps(ae){return this.serviceProps=ae,this}setInstanceCreatedCallback(ae){return this.onInstanceCreated=ae,this}}const be="[DEFAULT]";class ue{constructor(ae,de){this.name=ae,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ae){const de=this.normalizeInstanceIdentifier(ae);if(!this.instancesDeferred.has(de)){const Me=new ne.BH;if(this.instancesDeferred.set(de,Me),this.isInitialized(de)||this.shouldAutoInitialize())try{const Se=this.getOrInitializeService({instanceIdentifier:de});Se&&Me.resolve(Se)}catch{}}return this.instancesDeferred.get(de).promise}getImmediate(ae){var de;const Me=this.normalizeInstanceIdentifier(ae?.identifier),Se=null!==(de=ae?.optional)&&void 0!==de&&de;if(!this.isInitialized(Me)&&!this.shouldAutoInitialize()){if(Se)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Me})}catch(xe){if(Se)return null;throw xe}}getComponent(){return this.component}setComponent(ae){if(ae.name!==this.name)throw Error(`Mismatching Component ${ae.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ae,this.shouldAutoInitialize()){if(function Te(Oe){return"EAGER"===Oe.instantiationMode}(ae))try{this.getOrInitializeService({instanceIdentifier:be})}catch{}for(const[de,Me]of this.instancesDeferred.entries()){const Se=this.normalizeInstanceIdentifier(de);try{const xe=this.getOrInitializeService({instanceIdentifier:Se});Me.resolve(xe)}catch{}}}}clearInstance(ae=be){this.instancesDeferred.delete(ae),this.instancesOptions.delete(ae),this.instances.delete(ae)}delete(){var ae=this;return(0,b.Z)(function*(){const de=Array.from(ae.instances.values());yield Promise.all([...de.filter(Me=>"INTERNAL"in Me).map(Me=>Me.INTERNAL.delete()),...de.filter(Me=>"_delete"in Me).map(Me=>Me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ae=be){return this.instances.has(ae)}getOptions(ae=be){return this.instancesOptions.get(ae)||{}}initialize(ae={}){const{options:de={}}=ae,Me=this.normalizeInstanceIdentifier(ae.instanceIdentifier);if(this.isInitialized(Me))throw Error(`${this.name}(${Me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Se=this.getOrInitializeService({instanceIdentifier:Me,options:de});for(const[xe,qe]of this.instancesDeferred.entries())Me===this.normalizeInstanceIdentifier(xe)&&qe.resolve(Se);return Se}onInit(ae,de){var Me;const Se=this.normalizeInstanceIdentifier(de),xe=null!==(Me=this.onInitCallbacks.get(Se))&&void 0!==Me?Me:new Set;xe.add(ae),this.onInitCallbacks.set(Se,xe);const qe=this.instances.get(Se);return qe&&ae(qe,Se),()=>{xe.delete(ae)}}invokeOnInitCallbacks(ae,de){const Me=this.onInitCallbacks.get(de);if(Me)for(const Se of Me)try{Se(ae,de)}catch{}}getOrInitializeService({instanceIdentifier:ae,options:de={}}){let Me=this.instances.get(ae);if(!Me&&this.component&&(Me=this.component.instanceFactory(this.container,{instanceIdentifier:(Oe=ae,Oe===be?void 0:Oe),options:de}),this.instances.set(ae,Me),this.instancesOptions.set(ae,de),this.invokeOnInitCallbacks(Me,ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ae,Me)}catch{}var Oe;return Me||null}normalizeInstanceIdentifier(ae=be){return this.component?this.component.multipleInstances?ae:be:ae}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class He{constructor(ae){this.name=ae,this.providers=new Map}addComponent(ae){const de=this.getProvider(ae.name);if(de.isComponentSet())throw new Error(`Component ${ae.name} has already been registered with ${this.name}`);de.setComponent(ae)}addOrOverwriteComponent(ae){this.getProvider(ae.name).isComponentSet()&&this.providers.delete(ae.name),this.addComponent(ae)}getProvider(ae){if(this.providers.has(ae))return this.providers.get(ae);const de=new ue(ae,this);return this.providers.set(ae,de),de}getProviders(){return Array.from(this.providers.values())}}},7879:(Bt,Ve,K)=>{K.d(Ve,{Yd:()=>Te,in:()=>ne});const b=[];var ne=function(ae){return ae[ae.DEBUG=0]="DEBUG",ae[ae.VERBOSE=1]="VERBOSE",ae[ae.INFO=2]="INFO",ae[ae.WARN=3]="WARN",ae[ae.ERROR=4]="ERROR",ae[ae.SILENT=5]="SILENT",ae}(ne||{});const u={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},be=ne.INFO,ue={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},fe=(ae,de,...Me)=>{if(de<ae.logLevel)return;const Se=(new Date).toISOString(),xe=ue[de];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[xe](`[${Se}]  ${ae.name}:`,...Me)};class Te{constructor(de){this.name=de,this._logLevel=be,this._logHandler=fe,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in ne))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?u[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...de),this._logHandler(this,ne.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...de),this._logHandler(this,ne.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...de),this._logHandler(this,ne.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...de),this._logHandler(this,ne.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...de),this._logHandler(this,ne.ERROR,...de)}}},1878:(Bt,Ve,K)=>{K.d(Ve,{X3:()=>At});var b=K(5861);const ne=(we,Xe)=>Xe.some(_t=>we instanceof _t);let u,be;const Te=new WeakMap,He=new WeakMap,Oe=new WeakMap,ae=new WeakMap,de=new WeakMap;let xe={get(we,Xe,_t){if(we instanceof IDBTransaction){if("done"===Xe)return He.get(we);if("objectStoreNames"===Xe)return we.objectStoreNames||Oe.get(we);if("store"===Xe)return _t.objectStoreNames[1]?void 0:_t.objectStore(_t.objectStoreNames[0])}return Ot(we[Xe])},set:(we,Xe,_t)=>(we[Xe]=_t,!0),has:(we,Xe)=>we instanceof IDBTransaction&&("done"===Xe||"store"===Xe)||Xe in we};function Pt(we){return"function"==typeof we?function It(we){return we!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(we)?function(...Xe){return we.apply(Dn(this),Xe),Ot(Te.get(this))}:function(...Xe){return Ot(we.apply(Dn(this),Xe))}:function(Xe,..._t){const Pn=we.call(Dn(this),Xe,..._t);return Oe.set(Pn,Xe.sort?Xe.sort():[Xe]),Ot(Pn)}}(we):(we instanceof IDBTransaction&&function Se(we){if(He.has(we))return;const Xe=new Promise((_t,Pn)=>{const dt=()=>{we.removeEventListener("complete",pn),we.removeEventListener("error",Cn),we.removeEventListener("abort",Cn)},pn=()=>{_t(),dt()},Cn=()=>{Pn(we.error||new DOMException("AbortError","AbortError")),dt()};we.addEventListener("complete",pn),we.addEventListener("error",Cn),we.addEventListener("abort",Cn)});He.set(we,Xe)}(we),ne(we,function ue(){return u||(u=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(we,xe):we)}function Ot(we){if(we instanceof IDBRequest)return function Me(we){const Xe=new Promise((_t,Pn)=>{const dt=()=>{we.removeEventListener("success",pn),we.removeEventListener("error",Cn)},pn=()=>{_t(Ot(we.result)),dt()},Cn=()=>{Pn(we.error),dt()};we.addEventListener("success",pn),we.addEventListener("error",Cn)});return Xe.then(_t=>{_t instanceof IDBCursor&&Te.set(_t,we)}).catch(()=>{}),de.set(Xe,we),Xe}(we);if(ae.has(we))return ae.get(we);const Xe=Pt(we);return Xe!==we&&(ae.set(we,Xe),de.set(Xe,we)),Xe}const Dn=we=>de.get(we);function At(we,Xe,{blocked:_t,upgrade:Pn,blocking:dt,terminated:pn}={}){const Cn=indexedDB.open(we,Xe),Vn=Ot(Cn);return Pn&&Cn.addEventListener("upgradeneeded",sr=>{Pn(Ot(Cn.result),sr.oldVersion,sr.newVersion,Ot(Cn.transaction),sr)}),_t&&Cn.addEventListener("blocked",sr=>_t(sr.oldVersion,sr.newVersion,sr)),Vn.then(sr=>{pn&&sr.addEventListener("close",()=>pn()),dt&&sr.addEventListener("versionchange",hr=>dt(hr.oldVersion,hr.newVersion,hr))}).catch(()=>{}),Vn}const ot=["get","getKey","getAll","getAllKeys","count"],vt=["put","add","delete","clear"],yt=new Map;function je(we,Xe){if(!(we instanceof IDBDatabase)||Xe in we||"string"!=typeof Xe)return;if(yt.get(Xe))return yt.get(Xe);const _t=Xe.replace(/FromIndex$/,""),Pn=Xe!==_t,dt=vt.includes(_t);if(!(_t in(Pn?IDBIndex:IDBObjectStore).prototype)||!dt&&!ot.includes(_t))return;const pn=function(){var Cn=(0,b.Z)(function*(Vn,...sr){const hr=this.transaction(Vn,dt?"readwrite":"readonly");let ke=hr.store;return Pn&&(ke=ke.index(sr.shift())),(yield Promise.all([ke[_t](...sr),dt&&hr.done]))[0]});return function(sr){return Cn.apply(this,arguments)}}();return yt.set(Xe,pn),pn}!function qe(we){xe=we(xe)}(we=>({...we,get:(Xe,_t,Pn)=>je(Xe,_t)||we.get(Xe,_t,Pn),has:(Xe,_t)=>!!je(Xe,_t)||we.has(Xe,_t)}))},5861:(Bt,Ve,K)=>{function b(u,be,ue,fe,Te,He,Oe){try{var ae=u[He](Oe),de=ae.value}catch(Me){return void ue(Me)}ae.done?be(de):Promise.resolve(de).then(fe,Te)}function ne(u){return function(){var be=this,ue=arguments;return new Promise(function(fe,Te){var He=u.apply(be,ue);function Oe(de){b(He,fe,Te,Oe,ae,"next",de)}function ae(de){b(He,fe,Te,Oe,ae,"throw",de)}Oe(void 0)})}}K.d(Ve,{Z:()=>ne})},7582:(Bt,Ve,K)=>{function be(ke,$e){var et={};for(var Ge in ke)Object.prototype.hasOwnProperty.call(ke,Ge)&&$e.indexOf(Ge)<0&&(et[Ge]=ke[Ge]);if(null!=ke&&"function"==typeof Object.getOwnPropertySymbols){var nt=0;for(Ge=Object.getOwnPropertySymbols(ke);nt<Ge.length;nt++)$e.indexOf(Ge[nt])<0&&Object.prototype.propertyIsEnumerable.call(ke,Ge[nt])&&(et[Ge[nt]]=ke[Ge[nt]])}return et}function Me(ke,$e,et,Ge){return new(et||(et=Promise))(function(wt,kt){function Gt(_n){try{mn(Ge.next(_n))}catch(Ct){kt(Ct)}}function an(_n){try{mn(Ge.throw(_n))}catch(Ct){kt(Ct)}}function mn(_n){_n.done?wt(_n.value):function nt(wt){return wt instanceof et?wt:new et(function(kt){kt(wt)})}(_n.value).then(Gt,an)}mn((Ge=Ge.apply(ke,$e||[])).next())})}function ft(ke){return this instanceof ft?(this.v=ke,this):new ft(ke)}function ot(ke,$e,et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var nt,Ge=et.apply(ke,$e||[]),wt=[];return nt={},kt("next"),kt("throw"),kt("return"),nt[Symbol.asyncIterator]=function(){return this},nt;function kt(jn){Ge[jn]&&(nt[jn]=function(wr){return new Promise(function(gr,Ae){wt.push([jn,wr,gr,Ae])>1||Gt(jn,wr)})})}function Gt(jn,wr){try{!function an(jn){jn.value instanceof ft?Promise.resolve(jn.value.v).then(mn,_n):Ct(wt[0][2],jn)}(Ge[jn](wr))}catch(gr){Ct(wt[0][3],gr)}}function mn(jn){Gt("next",jn)}function _n(jn){Gt("throw",jn)}function Ct(jn,wr){jn(wr),wt.shift(),wt.length&&Gt(wt[0][0],wt[0][1])}}function yt(ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et,$e=ke[Symbol.asyncIterator];return $e?$e.call(ke):(ke=function It(ke){var $e="function"==typeof Symbol&&Symbol.iterator,et=$e&&ke[$e],Ge=0;if(et)return et.call(ke);if(ke&&"number"==typeof ke.length)return{next:function(){return ke&&Ge>=ke.length&&(ke=void 0),{value:ke&&ke[Ge++],done:!ke}}};throw new TypeError($e?"Object is not iterable.":"Symbol.iterator is not defined.")}(ke),et={},Ge("next"),Ge("throw"),Ge("return"),et[Symbol.asyncIterator]=function(){return this},et);function Ge(wt){et[wt]=ke[wt]&&function(kt){return new Promise(function(Gt,an){!function nt(wt,kt,Gt,an){Promise.resolve(an).then(function(mn){wt({value:mn,done:Gt})},kt)}(Gt,an,(kt=ke[wt](kt)).done,kt.value)})}}}K.d(Ve,{FC:()=>ot,KL:()=>yt,_T:()=>be,mG:()=>Me,qq:()=>ft}),"function"==typeof SuppressedError&&SuppressedError}},Bt=>{var Ve=b=>Bt(Bt.s=b);Ve(2614),Ve(3494)}]);