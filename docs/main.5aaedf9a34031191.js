"use strict";(self.webpackChunkThe_Natural_Way=self.webpackChunkThe_Natural_Way||[]).push([[179],{825:()=>{function Ie(t){return"function"==typeof t}function ds(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const fa=ds(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function hs(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Bt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ie(r))try{r()}catch(o){e=o instanceof fa?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{pa(o)}catch(s){e=e??[],s instanceof fa?e=[...e,...s.errors]:e.push(s)}}if(e)throw new fa(e)}}add(e){var n;if(e&&e!==this)if(this.closed)pa(e);else{if(e instanceof Bt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&hs(n,e)}remove(e){const{_finalizers:n}=this;n&&hs(n,e),e instanceof Bt&&e._removeParent(this)}}Bt.EMPTY=(()=>{const t=new Bt;return t.closed=!0,t})();const bd=Bt.EMPTY;function mg(t){return t instanceof Bt||t&&"closed"in t&&Ie(t.remove)&&Ie(t.add)&&Ie(t.unsubscribe)}function pa(t){Ie(t)?t():t.unsubscribe()}const fs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Yc={setTimeout(t,e,...n){const{delegate:r}=Yc;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Yc;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ib(t){Yc.setTimeout(()=>{const{onUnhandledError:e}=fs;if(!e)throw t;e(t)})}function ga(){}const ob=wd("C",void 0,void 0);function wd(t,e,n){return{kind:t,value:e,error:n}}let To=null;function zi(t){if(fs.useDeprecatedSynchronousErrorHandling){const e=!To;if(e&&(To={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=To;if(To=null,n)throw r}}else t()}class Qc extends Bt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,mg(e)&&e.add(this)):this.destination=Td}static create(e,n,r){return new Eo(e,n,r)}next(e){this.isStopped?Id(function ab(t){return wd("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Id(function sb(t){return wd("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Id(ob,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const _g=Function.prototype.bind;function Jc(t,e){return _g.call(t,e)}class yg{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Lr(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Lr(r)}else Lr(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Lr(n)}}}class Eo extends Qc{constructor(e,n,r){let i;if(super(),Ie(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&fs.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Jc(e.next,o),error:e.error&&Jc(e.error,o),complete:e.complete&&Jc(e.complete,o)}):i=e}this.destination=new yg(i)}}function Lr(t){fs.useDeprecatedSynchronousErrorHandling?function cb(t){fs.useDeprecatedSynchronousErrorHandling&&To&&(To.errorThrown=!0,To.error=t)}(t):ib(t)}function Id(t,e){const{onStoppedNotification:n}=fs;n&&Yc.setTimeout(()=>n(t,e))}const Td={closed:!0,next:ga,error:function vg(t){throw t},complete:ga},Ed="function"==typeof Symbol&&Symbol.observable||"@@observable";function bi(t){return t}function wg(t){return 0===t.length?bi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Be=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function lb(t){return t&&t instanceof Qc||function ub(t){return t&&Ie(t.next)&&Ie(t.error)&&Ie(t.complete)}(t)&&mg(t)}(n)?n:new Eo(n,r,i);return zi(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Ig(r))((i,o)=>{const s=new Eo({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Ed](){return this}pipe(...n){return wg(n)(this)}toPromise(n){return new(n=Ig(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Ig(t){var e;return null!==(e=t??fs.Promise)&&void 0!==e?e:Promise}const db=ds(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Fe=(()=>{class t extends Be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Tg(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new db}next(n){zi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){zi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){zi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?bd:(this.currentObservers=null,o.push(n),new Bt(()=>{this.currentObservers=null,hs(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Be;return n.source=this,n}}return t.create=(e,n)=>new Tg(e,n),t})();class Tg extends Fe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:bd}}function Cd(t){return Ie(t?.lift)}function Tt(t){return e=>{if(Cd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function st(t,e,n,r,i){return new hb(t,e,n,r,i)}class hb extends Qc{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Oe(t,e){return Tt((n,r)=>{let i=0;n.subscribe(st(r,o=>{r.next(t.call(e,o,i++))}))})}function Xc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function _r(t){return this instanceof _r?(this.v=t,this):new _r(t)}function yr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Ut(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}(a,c,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const yb=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function kk(t){return Ie(t?.then)}function Pk(t){return Ie(t[Ed])}function Fk(t){return Symbol.asyncIterator&&Ie(t?.[Symbol.asyncIterator])}function Lk(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Vk=function aK(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Bk(t){return Ie(t?.[Vk])}function Uk(t){return function ma(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(g,y){o.push([h,f,g,y])>1||a(h,f)})})}function a(h,f){try{!function c(h){h.value instanceof _r?Promise.resolve(h.value.v).then(u,l):d(o[0][2],h)}(r[h](f))}catch(g){d(o[0][3],g)}}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield _r(n.read());if(i)return yield _r(void 0);yield yield _r(r)}}finally{n.releaseLock()}})}function jk(t){return Ie(t?.getReader)}function sn(t){if(t instanceof Be)return t;if(null!=t){if(Pk(t))return function cK(t){return new Be(e=>{const n=t[Ed]();if(Ie(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(yb(t))return function uK(t){return new Be(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(kk(t))return function lK(t){return new Be(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ib)})}(t);if(Fk(t))return $k(t);if(Bk(t))return function dK(t){return new Be(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(jk(t))return function hK(t){return $k(Uk(t))}(t)}throw Lk(t)}function $k(t){return new Be(e=>{(function fK(t,e){var n,r,i,o;return function M(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=yr(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Co(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function an(t,e,n=1/0){return Ie(e)?an((r,i)=>Oe((o,s)=>e(r,o,i,s))(sn(t(r,i))),n):("number"==typeof e&&(n=e),Tt((r,i)=>function pK(t,e,n,r,i,o,s,a){const c=[];let u=0,l=0,d=!1;const h=()=>{d&&!c.length&&!u&&e.complete()},f=y=>u<r?g(y):c.push(y),g=y=>{o&&e.next(y),u++;let v=!1;sn(n(y,l++)).subscribe(st(e,I=>{i?.(I),o?f(I):e.next(I)},()=>{v=!0},void 0,()=>{if(v)try{for(u--;c.length&&u<r;){const I=c.shift();s?Co(e,s,()=>g(I)):g(I)}h()}catch(I){e.error(I)}}))};return t.subscribe(st(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function tu(t=1/0){return an(bi,t)}const ni=new Be(t=>t.complete());function Hk(t){return t&&Ie(t.schedule)}function vb(t){return t[t.length-1]}function Sg(t){return Ie(vb(t))?t.pop():void 0}function Sd(t){return Hk(vb(t))?t.pop():void 0}function Ag(t,e=0){return Tt((n,r)=>{n.subscribe(st(r,i=>Co(r,t,()=>r.next(i),e),()=>Co(r,t,()=>r.complete(),e),i=>Co(r,t,()=>r.error(i),e)))})}function xg(t,e=0){return Tt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Gk(t,e){if(!t)throw new Error("Iterable cannot be null");return new Be(n=>{Co(n,e,()=>{const r=t[Symbol.asyncIterator]();Co(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function _n(t,e){return e?function IK(t,e){if(null!=t){if(Pk(t))return function _K(t,e){return sn(t).pipe(xg(e),Ag(e))}(t,e);if(yb(t))return function vK(t,e){return new Be(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(kk(t))return function yK(t,e){return sn(t).pipe(xg(e),Ag(e))}(t,e);if(Fk(t))return Gk(t,e);if(Bk(t))return function bK(t,e){return new Be(n=>{let r;return Co(n,e,()=>{r=t[Vk](),Co(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Ie(r?.return)&&r.return()})}(t,e);if(jk(t))return function wK(t,e){return Gk(Uk(t),e)}(t,e)}throw Lk(t)}(t,e):sn(t)}class vr extends Fe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function ce(...t){return _n(t,Sd(t))}function bb(t={}){const{connector:e=(()=>new Fe),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,u=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=c=void 0,l=d=!1},g=()=>{const y=s;f(),y?.unsubscribe()};return Tt((y,v)=>{u++,!d&&!l&&h();const I=c=c??e();v.add(()=>{u--,0===u&&!d&&!l&&(a=wb(g,i))}),I.subscribe(v),!s&&u>0&&(s=new Eo({next:w=>I.next(w),error:w=>{d=!0,h(),a=wb(f,n,w),I.error(w)},complete:()=>{l=!0,h(),a=wb(f,r),I.complete()}}),sn(y).subscribe(s))})(o)}}function wb(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Eo({next:()=>{r.unsubscribe(),t()}});return sn(e(...n)).subscribe(r)}function wi(t,e){return Tt((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(st(r,c=>{i?.unsubscribe();let u=0;const l=o++;sn(t(c,l)).subscribe(i=st(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function TK(t,e){return t===e}function Ze(t){for(let e in t)if(t[e]===Ze)return e;throw Error("Could not find renamed property on target object.")}function Ng(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function cn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(cn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Ib(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const EK=Ze({__forward_ref__:Ze});function Ce(t){return t.__forward_ref__=Ce,t.toString=function(){return cn(this())},t}function de(t){return Tb(t)?t():t}function Tb(t){return"function"==typeof t&&t.hasOwnProperty(EK)&&t.__forward_ref__===Ce}function Eb(t){return t&&!!t.\u0275providers}const Wk="https://g.co/ng/security#xss";class B extends Error{constructor(e,n){super(function Og(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function fe(t){return"string"==typeof t?t:null==t?"":String(t)}function Cb(t,e){throw new B(-201,!1)}function ri(t,e){null==t&&function ue(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function we(t){return{providers:t.providers||[],imports:t.imports||[]}}function Mg(t){return Kk(t,kg)||Kk(t,Yk)}function Kk(t,e){return t.hasOwnProperty(e)?t[e]:null}function Rg(t){return t&&(t.hasOwnProperty(Db)||t.hasOwnProperty(MK))?t[Db]:null}const kg=Ze({\u0275prov:Ze}),Db=Ze({\u0275inj:Ze}),Yk=Ze({ngInjectableDef:Ze}),MK=Ze({ngInjectorDef:Ze});var De=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(De||{});let Sb;function br(t){const e=Sb;return Sb=t,e}function Jk(t,e,n){const r=Mg(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&De.Optional?null:void 0!==e?e:void Cb(cn(t))}const at=globalThis;class te{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ad={},Mb="__NG_DI_FLAG__",Pg="ngTempTokenPath",PK=/\n/gm,Xk="__source";let nu;function gs(t){const e=nu;return nu=t,e}function VK(t,e=De.Default){if(void 0===nu)throw new B(-203,!1);return null===nu?Jk(t,void 0,e):nu.get(t,e&De.Optional?null:void 0,e)}function W(t,e=De.Default){return(function Qk(){return Sb}()||VK)(de(t),e)}function K(t,e=De.Default){return W(t,Fg(e))}function Fg(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Rb(t){const e=[];for(let n=0;n<t.length;n++){const r=de(t[n]);if(Array.isArray(r)){if(0===r.length)throw new B(900,!1);let i,o=De.Default;for(let s=0;s<r.length;s++){const a=r[s],c=BK(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push(W(i,o))}else e.push(W(r))}return e}function xd(t,e){return t[Mb]=e,t.prototype[Mb]=e,t}function BK(t){return t[Mb]}function Do(t){return{toString:t}.toString()}var Lg=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Lg||{}),Ii=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ii||{});const qi={},Ue=[],Vg=Ze({\u0275cmp:Ze}),kb=Ze({\u0275dir:Ze}),Pb=Ze({\u0275pipe:Ze}),tP=Ze({\u0275mod:Ze}),So=Ze({\u0275fac:Ze}),Nd=Ze({__NG_ELEMENT_ID__:Ze}),nP=Ze({__NG_ENV_ID__:Ze});function rP(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Fb(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];oP(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function iP(t){return 3===t||4===t||6===t}function oP(t){return 64===t.charCodeAt(0)}function Od(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||sP(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function sP(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const aP="ng-template";function $K(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==rP(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function cP(t){return 4===t.type&&t.value!==aP}function HK(t,e,n){return e===(4!==t.type||n?t.value:aP)}function GK(t,e,n){let r=4;const i=t.attrs||[],o=function WK(t){for(let e=0;e<t.length;e++)if(iP(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!HK(t,c,n)||""===c&&1===e.length){if(Ti(r))return!1;s=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!$K(t.attrs,u,n)){if(Ti(r))return!1;s=!0}continue}const d=zK(8&r?"class":c,i,cP(t),n);if(-1===d){if(Ti(r))return!1;s=!0;continue}if(""!==u){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==rP(f,u,0)||2&r&&u!==h){if(Ti(r))return!1;s=!0}}}}else{if(!s&&!Ti(r)&&!Ti(c))return!1;if(s&&Ti(c))continue;s=!1,r=c|1&r}}return Ti(r)||s}function Ti(t){return 0==(1&t)}function zK(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function KK(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function uP(t,e,n=!1){for(let r=0;r<e.length;r++)if(GK(t,e[r],n))return!0;return!1}function YK(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function lP(t,e){return t?":not("+e.trim()+")":e}function QK(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Ti(s)&&(e+=lP(o,i),i=""),r=s,o=o||!Ti(r);n++}return""!==i&&(e+=lP(o,i)),e}function Ke(t){return Do(()=>{const e=hP(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Lg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ii.Emulated,styles:t.styles||Ue,_:null,schemas:t.schemas||null,tView:null,id:""};fP(n);const r=t.dependencies;return n.directiveDefs=Bg(r,!1),n.pipeDefs=Bg(r,!0),n.id=function iY(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function eY(t){return Me(t)||On(t)}function tY(t){return null!==t}function Te(t){return Do(()=>({type:t.type,bootstrap:t.bootstrap||Ue,declarations:t.declarations||Ue,imports:t.imports||Ue,exports:t.exports||Ue,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function dP(t,e){if(null==t)return qi;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function H(t){return Do(()=>{const e=hP(t);return fP(e),e})}function qn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Me(t){return t[Vg]||null}function On(t){return t[kb]||null}function rr(t){return t[Pb]||null}function Br(t,e){const n=t[tP]||null;if(!n&&!0===e)throw new Error(`Type ${cn(t)} does not have '\u0275mod' property.`);return n}function hP(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||qi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Ue,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:dP(t.inputs,e),outputs:dP(t.outputs)}}function fP(t){t.features?.forEach(e=>e(t))}function Bg(t,e){if(!t)return null;const n=e?rr:eY;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(tY)}const Ot=0,ee=1,ye=2,vt=3,Ei=4,Md=5,Wn=6,iu=7,jt=8,ms=9,ou=10,pe=11,Rd=12,pP=13,su=14,$t=15,kd=16,au=17,Wi=18,Pd=19,gP=20,_s=21,Ao=22,Fd=23,Ld=24,Se=25,Lb=1,mP=2,Ki=7,cu=9,Mn=11;function wr(t){return Array.isArray(t)&&"object"==typeof t[Lb]}function ir(t){return Array.isArray(t)&&!0===t[Lb]}function Vb(t){return 0!=(4&t.flags)}function va(t){return t.componentOffset>-1}function jg(t){return 1==(1&t.flags)}function Ci(t){return!!t.template}function Bb(t){return 0!=(512&t[ye])}function ba(t,e){return t.hasOwnProperty(So)?t[So]:null}let Rn=null,$g=!1;function ii(t){const e=Rn;return Rn=t,e}const vP={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function wP(t){if(!Bd(t)||t.dirty){if(!t.producerMustRecompute(t)&&!EP(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function TP(t){t.dirty=!0,function IP(t){if(void 0===t.liveConsumerNode)return;const e=$g;$g=!0;try{for(const n of t.liveConsumerNode)n.dirty||TP(n)}finally{$g=e}}(t),t.consumerMarkedDirty?.(t)}function jb(t){return t&&(t.nextProducerIndex=0),ii(t)}function $b(t,e){if(ii(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Bd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Hg(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function EP(t){uu(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(wP(n),r!==n.version))return!0}return!1}function CP(t){if(uu(t),Bd(t))for(let e=0;e<t.producerNode.length;e++)Hg(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Hg(t,e){if(function SP(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),uu(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Hg(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];uu(i),i.producerIndexOfThis[r]=e}}function Bd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function uu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let AP=null;const MP=()=>{},_Y=(()=>({...vP,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:MP}))();class yY{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function kn(){return RP}function RP(t){return t.type.prototype.ngOnChanges&&(t.setInput=bY),vY}function vY(){const t=PP(this),e=t?.current;if(e){const n=t.previous;if(n===qi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function bY(t,e,n,r){const i=this.declaredInputs[n],o=PP(t)||function wY(t,e){return t[kP]=e}(t,{previous:qi,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new yY(c&&c.currentValue,e,a===qi),t[r]=e}kn.ngInherit=!0;const kP="__ngSimpleChanges__";function PP(t){return t[kP]||null}const Yi=function(t,e,n){};function ct(t){for(;Array.isArray(t);)t=t[Ot];return t}function Gg(t,e){return ct(e[t])}function Ir(t,e){return ct(e[t.index])}function VP(t,e){return t.data[e]}function lu(t,e){return t[e]}function Ur(t,e){const n=e[t];return wr(n)?n:n[Ot]}function vs(t,e){return null==e?null:t[e]}function BP(t){t[au]=0}function SY(t){1024&t[ye]||(t[ye]|=1024,jP(t,1))}function UP(t){1024&t[ye]&&(t[ye]&=-1025,jP(t,-1))}function jP(t,e){let n=t[vt];if(null===n)return;n[Md]+=e;let r=n;for(n=n[vt];null!==n&&(1===e&&1===r[Md]||-1===e&&0===r[Md]);)n[Md]+=e,r=n,n=n[vt]}const le={lFrame:ZP(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function GP(){return le.bindingsEnabled}function du(){return null!==le.skipHydrationRootTNode}function P(){return le.lFrame.lView}function Re(){return le.lFrame.tView}function Et(t){return le.lFrame.contextLView=t,t[jt]}function Ct(t){return le.lFrame.contextLView=null,t}function Pn(){let t=zP();for(;null!==t&&64===t.type;)t=t.parent;return t}function zP(){return le.lFrame.currentTNode}function Qi(t,e){const n=le.lFrame;n.currentTNode=t,n.isParent=e}function Wb(){return le.lFrame.isParent}function Kb(){le.lFrame.isParent=!1}function or(){const t=le.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function hu(){return le.lFrame.bindingIndex++}function No(t){const e=le.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function BY(t,e){const n=le.lFrame;n.bindingIndex=n.bindingRootIndex=t,Yb(e)}function Yb(t){le.lFrame.currentDirectiveIndex=t}function YP(){return le.lFrame.currentQueryIndex}function Jb(t){le.lFrame.currentQueryIndex=t}function jY(t){const e=t[ee];return 2===e.type?e.declTNode:1===e.type?t[Wn]:null}function QP(t,e,n){if(n&De.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&De.Host||(i=jY(o),null===i||(o=o[su],10&i.type))););if(null===i)return!1;e=i,t=o}const r=le.lFrame=JP();return r.currentTNode=e,r.lView=t,!0}function Zb(t){const e=JP(),n=t[ee];le.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function JP(){const t=le.lFrame,e=null===t?null:t.child;return null===e?ZP(t):e}function ZP(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function XP(){const t=le.lFrame;return le.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const e2=XP;function Xb(){const t=XP();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function sr(){return le.lFrame.selectedIndex}function wa(t){le.lFrame.selectedIndex=t}function Dt(){const t=le.lFrame;return VP(t.tView,t.selectedIndex)}function bs(){le.lFrame.currentNamespace="svg"}function fu(){!function zY(){le.lFrame.currentNamespace=null}()}let n2=!0;function zg(){return n2}function ws(t){n2=t}function qg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Wg(t,e,n){r2(t,e,3,n)}function Kg(t,e,n,r){(3&t[ye])===n&&r2(t,e,n,r)}function e1(t,e){let n=t[ye];(3&n)===e&&(n&=8191,n+=1,t[ye]=n)}function r2(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&t[au]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[au]+=65536),(a<o||-1==o)&&(WY(t,n,e,c),t[au]=(4294901760&t[au])+c+2),c++}function i2(t,e){Yi(4,t,e);const n=ii(null);try{e.call(t)}finally{ii(n),Yi(5,t,e)}}function WY(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[ye]>>13<t[au]>>16&&(3&t[ye])===e&&(t[ye]+=8192,i2(a,o)):i2(a,o)}const pu=-1;class jd{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function n1(t){return t!==pu}function $d(t){return 32767&t}function Hd(t,e){let n=function JY(t){return t>>16}(t),r=e;for(;n>0;)r=r[su],n--;return r}let r1=!0;function Yg(t){const e=r1;return r1=t,e}const o2=255,s2=5;let ZY=0;const Ji={};function Qg(t,e){const n=a2(t,e);if(-1!==n)return n;const r=e[ee];r.firstCreatePass&&(t.injectorIndex=e.length,i1(r.data,t),i1(e,null),i1(r.blueprint,null));const i=Jg(t,e),o=t.injectorIndex;if(n1(i)){const s=$d(i),a=Hd(i,e),c=a[ee].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function i1(t,e){t.push(0,0,0,0,0,0,0,0,e)}function a2(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Jg(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=p2(i),null===r)return pu;if(n++,i=i[su],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return pu}function o1(t,e,n){!function XY(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Nd)&&(r=n[Nd]),null==r&&(r=n[Nd]=ZY++);const i=r&o2;e.data[t+(i>>s2)]|=1<<i}(t,e,n)}function c2(t,e,n){if(n&De.Optional||void 0!==t)return t;Cb()}function u2(t,e,n,r){if(n&De.Optional&&void 0===r&&(r=null),!(n&(De.Self|De.Host))){const i=t[ms],o=br(void 0);try{return i?i.get(e,r,n&De.Optional):Jk(e,r,n&De.Optional)}finally{br(o)}}return c2(r,0,n)}function l2(t,e,n,r=De.Default,i){if(null!==t){if(2048&e[ye]&&!(r&De.Self)){const s=function oQ(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[ye]&&!(512&s[ye]);){const a=d2(o,s,n,r|De.Self,Ji);if(a!==Ji)return a;let c=o.parent;if(!c){const u=s[gP];if(u){const l=u.get(n,Ji,r);if(l!==Ji)return l}c=p2(s),s=s[su]}o=c}return i}(t,e,n,r,Ji);if(s!==Ji)return s}const o=d2(t,e,n,r,Ji);if(o!==Ji)return o}return u2(e,n,r,i)}function d2(t,e,n,r,i){const o=function nQ(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Nd)?t[Nd]:void 0;return"number"==typeof e?e>=0?e&o2:iQ:e}(n);if("function"==typeof o){if(!QP(e,t,r))return r&De.Host?c2(i,0,r):u2(e,n,r,i);try{let s;if(s=o(r),null!=s||r&De.Optional)return s;Cb()}finally{e2()}}else if("number"==typeof o){let s=null,a=a2(t,e),c=pu,u=r&De.Host?e[$t][Wn]:null;for((-1===a||r&De.SkipSelf)&&(c=-1===a?Jg(t,e):e[a+8],c!==pu&&f2(r,!1)?(s=e[ee],a=$d(c),e=Hd(c,e)):a=-1);-1!==a;){const l=e[ee];if(h2(o,a,l.data)){const d=tQ(a,e,n,s,r,u);if(d!==Ji)return d}c=e[a+8],c!==pu&&f2(r,e[ee].data[a+8]===u)&&h2(o,a,e)?(s=l,a=$d(c),e=Hd(c,e)):a=-1}}return i}function tQ(t,e,n,r,i,o){const s=e[ee],a=s.data[t+8],l=Zg(a,s,n,null==r?va(a)&&r1:r!=s&&0!=(3&a.type),i&De.Host&&o===a);return null!==l?Ia(e,s,l,a):Ji}function Zg(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,l=o>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const g=s[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(i){const f=s[c];if(f&&Ci(f)&&f.type===n)return c}return null}function Ia(t,e,n,r){let i=t[n];const o=e.data;if(function KY(t){return t instanceof jd}(i)){const s=i;s.resolving&&function CK(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new B(-200,`Circular dependency in DI detected for ${t}${n}`)}(function We(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():fe(t)}(o[n]));const a=Yg(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?br(s.injectImpl):null;QP(t,r,De.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function qY(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=RP(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==u&&br(u),Yg(a),s.resolving=!1,e2()}}return i}function h2(t,e,n){return!!(n[e+(t>>s2)]&1<<t)}function f2(t,e){return!(t&De.Self||t&De.Host&&e)}class ar{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return l2(this._tNode,this._lView,e,Fg(r),n)}}function iQ(){return new ar(Pn(),P())}function Ht(t){return Do(()=>{const e=t.prototype.constructor,n=e[So]||s1(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[So]||s1(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function s1(t){return Tb(t)?()=>{const e=s1(de(t));return e&&e()}:ba(t)}function p2(t){const e=t[ee],n=e.type;return 2===n?e.declTNode:1===n?t[Wn]:null}const mu="__parameters__";function yu(t,e,n){return Do(()=>{const r=function a1(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,u,l){const d=c.hasOwnProperty(mu)?c[mu]:Object.defineProperty(c,mu,{value:[]})[mu];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function bu(t,e){t.forEach(n=>Array.isArray(n)?bu(n,e):e(n))}function m2(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Xg(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function qd(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function jr(t,e,n){let r=wu(t,e);return r>=0?t[1|r]=n:(r=~r,function hQ(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function c1(t,e){const n=wu(t,e);if(n>=0)return t[1|n]}function wu(t,e){return function _2(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const Tr=xd(yu("Optional"),8),tm=xd(yu("SkipSelf"),4);function sm(t){return 128==(128&t.flags)}var Is=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Is||{});const f1=new Map;let FQ=0;const g1="__ngContext__";function Kn(t,e){wr(e)?(t[g1]=e[Pd],function VQ(t){f1.set(t[Pd],t)}(e)):t[g1]=e}let m1;function _1(t,e){return m1(t,e)}function Yd(t){const e=t[vt];return ir(e)?e[vt]:e}function L2(t){return B2(t[Rd])}function V2(t){return B2(t[Ei])}function B2(t){for(;null!==t&&!ir(t);)t=t[Ei];return t}function Eu(t,e,n,r,i){if(null!=r){let o,s=!1;ir(r)?o=r:wr(r)&&(s=!0,r=r[Ot]);const a=ct(r);0===t&&null!==n?null==i?H2(e,n,a):Ea(e,n,a,i||null,!0):1===t&&null!==n?Ea(e,n,a,i||null,!0):2===t?function fm(t,e,n){const r=dm(t,e);r&&function rJ(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function sJ(t,e,n,r,i){const o=n[Ki];o!==ct(n)&&Eu(e,t,r,o,i);for(let a=Mn;a<n.length;a++){const c=n[a];Jd(c[ee],c,t,e,r,o)}}(e,t,o,n,i)}}function um(t,e,n){return t.createElement(e,n)}function j2(t,e){const n=t[cu],r=n.indexOf(e);UP(e),n.splice(r,1)}function lm(t,e){if(t.length<=Mn)return;const n=Mn+e,r=t[n];if(r){const i=r[kd];null!==i&&i!==t&&j2(i,r),e>0&&(t[n-1][Ei]=r[Ei]);const o=Xg(t,Mn+e);!function YQ(t,e){Jd(t,e,e[pe],2,null,null),e[Ot]=null,e[Wn]=null}(r[ee],r);const s=o[Wi];null!==s&&s.detachView(o[ee]),r[vt]=null,r[Ei]=null,r[ye]&=-129}return r}function v1(t,e){if(!(256&e[ye])){const n=e[pe];e[Fd]&&CP(e[Fd]),e[Ld]&&CP(e[Ld]),n.destroyNode&&Jd(t,e,n,3,null,null),function ZQ(t){let e=t[Rd];if(!e)return b1(t[ee],t);for(;e;){let n=null;if(wr(e))n=e[Rd];else{const r=e[Mn];r&&(n=r)}if(!n){for(;e&&!e[Ei]&&e!==t;)wr(e)&&b1(e[ee],e),e=e[vt];null===e&&(e=t),wr(e)&&b1(e[ee],e),n=e&&e[Ei]}e=n}}(e)}}function b1(t,e){if(!(256&e[ye])){e[ye]&=-129,e[ye]|=256,function nJ(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof jd)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];Yi(4,a,c);try{c.call(a)}finally{Yi(5,a,c)}}else{Yi(4,i,o);try{o.call(i)}finally{Yi(5,i,o)}}}}}(t,e),function tJ(t,e){const n=t.cleanup,r=e[iu];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[iu]=null);const i=e[_s];if(null!==i){e[_s]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[ee].type&&e[pe].destroy();const n=e[kd];if(null!==n&&ir(e[vt])){n!==e[vt]&&j2(n,e);const r=e[Wi];null!==r&&r.detachView(t)}!function BQ(t){f1.delete(t[Pd])}(e)}}function w1(t,e,n){return function $2(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Ot];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===Ii.None||o===Ii.Emulated)return null}return Ir(r,n)}}(t,e.parent,n)}function Ea(t,e,n,r,i){t.insertBefore(e,n,r,i)}function H2(t,e,n){t.appendChild(e,n)}function G2(t,e,n,r,i){null!==r?Ea(t,e,n,r,i):H2(t,e,n)}function dm(t,e){return t.parentNode(e)}function z2(t,e,n){return W2(t,e,n)}let I1,pm,D1,gm,W2=function q2(t,e,n){return 40&t.type?Ir(t,n):null};function hm(t,e,n,r){const i=w1(t,r,e),o=e[pe],a=z2(r.parent||e[Wn],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)G2(o,i,n[c],a,!1);else G2(o,i,n,a,!1);void 0!==I1&&I1(o,r,e,n,i)}function Qd(t,e){if(null!==e){const n=e.type;if(3&n)return Ir(e,t);if(4&n)return T1(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Qd(t,r);{const i=t[e.index];return ir(i)?T1(-1,i):ct(i)}}if(32&n)return _1(e,t)()||ct(t[e.index]);{const r=Y2(t,e);return null!==r?Array.isArray(r)?r[0]:Qd(Yd(t[$t]),r):Qd(t,e.next)}}return null}function Y2(t,e){return null!==e?t[$t][Wn].projection[e.projection]:null}function T1(t,e){const n=Mn+t+1;if(n<e.length){const r=e[n],i=r[ee].firstChild;if(null!==i)return Qd(r,i)}return e[Ki]}function E1(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===e&&(a&&Kn(ct(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)E1(t,e,n.child,r,i,o,!1),Eu(e,t,i,a,o);else if(32&c){const u=_1(n,r);let l;for(;l=u();)Eu(e,t,i,l,o);Eu(e,t,i,a,o)}else 16&c?J2(t,e,r,n,i,o):Eu(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Jd(t,e,n,r,i,o){E1(n,r,t.firstChild,e,i,o,!1)}function J2(t,e,n,r,i,o){const s=n[$t],c=s[Wn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)Eu(e,t,i,c[u],o);else{let u=c;const l=s[vt];sm(r)&&(u.flags|=128),E1(t,e,u,l,i,o,!0)}}function Z2(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function X2(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Fb(t,e,r),null!==i&&Z2(t,e,i),null!==o&&function cJ(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function Cu(t){return function C1(){if(void 0===pm&&(pm=null,at.trustedTypes))try{pm=at.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return pm}()?.createHTML(t)||t}function nF(t){return function S1(){if(void 0===gm&&(gm=null,at.trustedTypes))try{gm=at.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return gm}()?.createScriptURL(t)||t}class Ca{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Wk})`}}class fJ extends Ca{getTypeName(){return"HTML"}}class pJ extends Ca{getTypeName(){return"Style"}}class gJ extends Ca{getTypeName(){return"Script"}}class mJ extends Ca{getTypeName(){return"URL"}}class _J extends Ca{getTypeName(){return"ResourceURL"}}function $r(t){return t instanceof Ca?t.changingThisBreaksApplicationSecurity:t}function Zi(t,e){const n=function yJ(t){return t instanceof Ca&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Wk})`)}return n===e}class EJ{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(Cu(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class CJ{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=Cu(e),n}}const SJ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function mm(t){return(t=String(t)).match(SJ)?t:"unsafe:"+t}function Oo(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Zd(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const iF=Oo("area,br,col,hr,img,wbr"),oF=Oo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sF=Oo("rp,rt"),A1=Zd(iF,Zd(oF,Oo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zd(sF,Oo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zd(sF,oF)),x1=Oo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),aF=Zd(x1,Oo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Oo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),AJ=Oo("script,style,template");class xJ{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!A1.hasOwnProperty(n))return this.sanitizedSomething=!0,!AJ.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!aF.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;x1[a]&&(c=mm(c)),this.buf.push(" ",s,'="',cF(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();A1.hasOwnProperty(n)&&!iF.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(cF(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const NJ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,OJ=/([^\#-~ |!])/g;function cF(t){return t.replace(/&/g,"&amp;").replace(NJ,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(OJ,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let _m;function uF(t,e){let n=null;try{_m=_m||function rF(t){const e=new CJ(t);return function DJ(){try{return!!(new window.DOMParser).parseFromString(Cu(""),"text/html")}catch{return!1}}()?new EJ(e):e}(t);let r=e?String(e):"";n=_m.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=_m.getInertBodyElement(r)}while(r!==o);return Cu((new xJ).sanitizeChildren(N1(n)||n))}finally{if(n){const r=N1(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function N1(t){return"content"in t&&function MJ(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var si=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(si||{});function Da(t){const e=Xd();return e?e.sanitize(si.URL,t)||"":Zi(t,"URL")?$r(t):mm(fe(t))}function ym(t){const e=Xd();if(e)return nF(e.sanitize(si.RESOURCE_URL,t)||"");if(Zi(t,"ResourceURL"))return nF($r(t));throw new B(904,!1)}function Xd(){const t=P();return t&&t[ou].sanitizer}const eh=new te("ENVIRONMENT_INITIALIZER"),dF=new te("INJECTOR",-1),hF=new te("INJECTOR_DEF_TYPES");class O1{get(e,n=Ad){if(n===Ad){const r=new Error(`NullInjectorError: No provider for ${cn(e)}!`);throw r.name="NullInjectorError",r}return n}}function BJ(...t){return{\u0275providers:pF(0,t),\u0275fromNgModule:!0}}function pF(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return bu(e,s=>{const a=s;vm(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&gF(i,o),n}function gF(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];M1(i,o=>{e(o,r)})}}function vm(t,e,n,r){if(!(t=de(t)))return!1;let i=null,o=Rg(t);const s=!o&&Me(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const c=t.ngModule;if(o=Rg(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of c)vm(u,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{bu(o.imports,l=>{vm(l,e,n,r)&&(u||=[],u.push(l))})}finally{}void 0!==u&&gF(u,e)}if(!a){const u=ba(i)||(()=>new i);e({provide:i,useFactory:u,deps:Ue},i),e({provide:hF,useValue:i,multi:!0},i),e({provide:eh,useValue:()=>W(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const u=t;M1(c,l=>{e(l,u)})}}}return i!==t&&void 0!==t.providers}function M1(t,e){for(let n of t)Eb(n)&&(n=n.\u0275providers),Array.isArray(n)?M1(n,e):e(n)}const UJ=Ze({provide:String,useValue:Ze});function R1(t){return null!==t&&"object"==typeof t&&UJ in t}function Sa(t){return"function"==typeof t}const k1=new te("Set Injector scope."),bm={},$J={};let P1;function wm(){return void 0===P1&&(P1=new O1),P1}class Cr{}class Su extends Cr{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,L1(e,s=>this.processProvider(s)),this.records.set(dF,Au(void 0,this)),i.has("environment")&&this.records.set(Cr,Au(void 0,this));const o=this.records.get(k1);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(hF.multi,Ue,De.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=gs(this),r=br(void 0);try{return e()}finally{gs(n),br(r)}}get(e,n=Ad,r=De.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(nP))return e[nP](this);r=Fg(r);const o=gs(this),s=br(void 0);try{if(!(r&De.SkipSelf)){let c=this.records.get(e);if(void 0===c){const u=function WJ(t){return"function"==typeof t||"object"==typeof t&&t instanceof te}(e)&&Mg(e);c=u&&this.injectableDefInScope(u)?Au(F1(e),bm):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&De.Self?wm():this.parent).get(e,n=r&De.Optional&&n===Ad?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Pg]=a[Pg]||[]).unshift(cn(e)),o)throw a;return function UK(t,e,n,r){const i=t[Pg];throw e[Xk]&&i.unshift(e[Xk]),t.message=function jK(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=cn(e);if(Array.isArray(e))i=e.map(cn).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):cn(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(PK,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Pg]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{br(s),gs(o)}}resolveInjectorInitializers(){const e=gs(this),n=br(void 0);try{const i=this.get(eh.multi,Ue,De.Self);for(const o of i)o()}finally{gs(e),br(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(cn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new B(205,!1)}processProvider(e){let n=Sa(e=de(e))?e:de(e&&e.provide);const r=function GJ(t){return R1(t)?Au(void 0,t.useValue):Au(yF(t),bm)}(e);if(Sa(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Au(void 0,bm,!0),i.factory=()=>Rb(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===bm&&(n.value=$J,n.value=n.factory()),"object"==typeof n.value&&n.value&&function qJ(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=de(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function F1(t){const e=Mg(t),n=null!==e?e.factory:ba(t);if(null!==n)return n;if(t instanceof te)throw new B(204,!1);if(t instanceof Function)return function HJ(t){const e=t.length;if(e>0)throw qd(e,"?"),new B(204,!1);const n=function OK(t){return t&&(t[kg]||t[Yk])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new B(204,!1)}function yF(t,e,n){let r;if(Sa(t)){const i=de(t);return ba(i)||F1(i)}if(R1(t))r=()=>de(t.useValue);else if(function _F(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Rb(t.deps||[]));else if(function mF(t){return!(!t||!t.useExisting)}(t))r=()=>W(de(t.useExisting));else{const i=de(t&&(t.useClass||t.provide));if(!function zJ(t){return!!t.deps}(t))return ba(i)||F1(i);r=()=>new i(...Rb(t.deps))}return r}function Au(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function L1(t,e){for(const n of t)Array.isArray(n)?L1(n,e):n&&Eb(n)?L1(n.\u0275providers,e):e(n)}const Im=new te("AppId",{providedIn:"root",factory:()=>KJ}),KJ="ng",vF=new te("Platform Initializer"),Mo=new te("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bF=new te("CSP nonce",{providedIn:"root",factory:()=>function Du(){if(void 0!==D1)return D1;if(typeof document<"u")return document;throw new B(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let wF=(t,e,n)=>null;function z1(t,e,n=!1){return wF(t,e,n)}class iZ{}class EF{}class sZ{resolveComponentFactory(e){throw function oZ(t){const e=Error(`No component factory found for ${cn(t)}.`);return e.ngComponent=t,e}(e)}}let Am=(()=>{class t{static#e=this.NULL=new sZ}return t})();function aZ(){return Ou(Pn(),P())}function Ou(t,e){return new je(Ir(t,e))}let je=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=aZ}return t})();function cZ(t){return t instanceof je?t.nativeElement:t}class K1{}let Dr=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function uZ(){const t=P(),n=Ur(Pn().index,t);return(wr(n)?n:t)[pe]}()}return t})(),lZ=(()=>{class t{static#e=this.\u0275prov=z({token:t,providedIn:"root",factory:()=>null})}return t})();class Mu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Y1=new Mu("16.2.12"),Q1={};function xF(t,e=null,n=null,r){const i=NF(t,e,n,r);return i.resolveInjectorInitializers(),i}function NF(t,e=null,n=null,r,i=new Set){const o=[n||Ue,BJ(t)];return r=r||("object"==typeof t?void 0:cn(t)),new Su(o,e||wm(),r||null,i)}let Xt=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Ad;static#t=this.NULL=new O1;static create(n,r){if(Array.isArray(n))return xF({name:""},r,n,"");{const i=n.name??"";return xF({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=z({token:t,providedIn:"any",factory:()=>W(dF)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function J1(t){return t.ngOriginalError}class Ro{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&J1(e);for(;n&&J1(n);)n=J1(n);return n||null}}function Z1(t){return e=>{setTimeout(t,void 0,e)}}const R=class yZ extends Fe{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Z1(o),i&&(i=Z1(i)),s&&(s=Z1(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Bt&&e.add(a),a}};function MF(...t){}class Ee{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new R(!1),this.onMicrotaskEmpty=new R(!1),this.onStable=new R(!1),this.onError=new R(!1),typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function vZ(){const t="function"==typeof at.requestAnimationFrame;let e=at[t?"requestAnimationFrame":"setTimeout"],n=at[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function IZ(t){const e=()=>{!function wZ(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(at,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ew(t),t.isCheckStableRunning=!0,X1(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ew(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function EZ(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return RF(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),kF(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return RF(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),kF(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,ew(t),X1(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ee.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(Ee.isInAngularZone())throw new B(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,bZ,MF,MF);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const bZ={};function X1(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ew(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function RF(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function kF(t){t._nesting--,X1(t)}class TZ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new R,this.onMicrotaskEmpty=new R,this.onStable=new R,this.onError=new R}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const PF=new te("",{providedIn:"root",factory:FF});function FF(){const t=K(Ee);let e=!0;return function zk(...t){const e=Sd(t),n=function mK(t,e){return"number"==typeof vb(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?sn(r[0]):tu(n)(_n(r,e)):ni}(new Be(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Be(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(bb()))}function LF(t){return t.ownerDocument.defaultView}function ko(t){return t instanceof Function?t():t}let tw=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}return t})();function rh(t){for(;t;){t[ye]|=64;const e=Yd(t);if(Bb(t)&&!e)return t;t=e}return null}const $F=new te("",{providedIn:"root",factory:()=>!1});let Om=null;function qF(t,e){return t[e]??YF()}function WF(t,e){const n=YF();n.producerNode?.length&&(t[e]=Om,n.lView=t,Om=KF())}const RZ={...vP,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{rh(t.lView)},lView:null};function KF(){return Object.create(RZ)}function YF(){return Om??=KF(),Om}const _e={};function E(t){QF(Re(),P(),sr()+t,!1)}function QF(t,e,n,r){if(!r)if(3==(3&e[ye])){const o=t.preOrderCheckHooks;null!==o&&Wg(e,o,n)}else{const o=t.preOrderHooks;null!==o&&Kg(e,o,0,n)}wa(n)}function b(t,e=De.Default){const n=P();return null===n?W(t,e):l2(Pn(),n,de(t),e)}function Mm(t,e,n,r,i,o,s,a,c,u,l){const d=e.blueprint.slice();return d[Ot]=i,d[ye]=140|r,(null!==u||t&&2048&t[ye])&&(d[ye]|=2048),BP(d),d[vt]=d[su]=t,d[jt]=n,d[ou]=s||t&&t[ou],d[pe]=a||t&&t[pe],d[ms]=c||t&&t[ms]||null,d[Wn]=o,d[Pd]=function LQ(){return FQ++}(),d[Ao]=l,d[gP]=u,d[$t]=2==e.type?t[$t]:d,d}function Fu(t,e,n,r,i){let o=t.data[e];if(null===o)o=function nw(t,e,n,r,i){const o=zP(),s=Wb(),c=t.data[e]=function jZ(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return du()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(t,e,n,r,i),function VY(){return le.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Ud(){const t=le.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Qi(o,!0),o}function ih(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ZF(t,e,n,r,i){const o=qF(e,Fd),s=sr(),a=2&r;try{wa(-1),a&&e.length>Se&&QF(t,e,Se,!1),Yi(a?2:0,i);const u=a?o:null,l=jb(u);try{null!==u&&(u.dirty=!1),n(r,i)}finally{$b(u,l)}}finally{a&&null===e[Fd]&&WF(e,Fd),wa(s),Yi(a?3:1,i)}}function rw(t,e,n){if(Vb(e)){const r=ii(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{ii(r)}}}function iw(t,e,n){GP()&&(function KZ(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;va(n)&&function tX(t,e,n){const r=Ir(e,t),i=XF(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=Rm(t,Mm(t,i,null,s,r,e,null,t[ou].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Qg(n,e),Kn(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const c=t.data[a],u=Ia(e,t,a,n);Kn(u,e),null!==s&&nX(0,a-i,u,c,0,s),Ci(c)&&(Ur(n.index,e)[jt]=Ia(e,t,a,n))}}(t,e,n,Ir(n,e)),64==(64&n.flags)&&iL(t,e,n))}function ow(t,e,n=Ir){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function XF(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=sw(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function sw(t,e,n,r,i,o,s,a,c,u,l){const d=Se+r,h=d+i,f=function PZ(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:_e);return n}(d,h),g="function"==typeof u?u():u;return f[ee]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}let eL=t=>null;function tL(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?nL(n,e,i,o):r.hasOwnProperty(i)&&nL(n,e,r[i],o)}return n}function nL(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Hr(t,e,n,r,i,o,s,a){const c=Ir(e,n);let l,u=e.inputs;!a&&null!=u&&(l=u[r])?(dw(t,n,l,r,i),va(e)&&function GZ(t,e){const n=Ur(e,t);16&n[ye]||(n[ye]|=64)}(n,e.index)):3&e.type&&(r=function HZ(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(c,r,i))}function aw(t,e,n,r){if(GP()){const i=null===r?null:{"":-1},o=function QZ(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(uP(e,s.selectors,!1))if(r||(r=[]),Ci(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),cw(t,e,a.length)}else r.unshift(s),cw(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&rL(t,e,n,s,i,a),i&&function JZ(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new B(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=Od(n.mergedAttrs,n.attrs)}function rL(t,e,n,r,i,o){for(let u=0;u<r.length;u++)o1(Qg(n,e),t,r[u].type);!function XZ(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let u=0;u<r.length;u++){const l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=ih(t,e,r.length,null);for(let u=0;u<r.length;u++){const l=r[u];n.mergedAttrs=Od(n.mergedAttrs,l.hostAttrs),eX(t,n,e,c,l),ZZ(c,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function $Z(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let c=null,u=null;for(let l=e.directiveStart;l<i;l++){const d=o[l],h=n?n.get(d):null,g=h?h.outputs:null;c=tL(d.inputs,l,c,h?h.inputs:null),u=tL(d.outputs,l,u,g);const y=null===c||null===s||cP(e)?null:rX(c,l,s);a.push(y)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}(t,n,o)}function iL(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function UY(){return le.lFrame.currentDirectiveIndex}();try{wa(o);for(let a=r;a<i;a++){const c=t.data[a],u=e[a];Yb(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&YZ(c,u)}}finally{wa(-1),Yb(s)}}function YZ(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function cw(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function ZZ(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ci(e)&&(n[""]=t)}}function eX(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=ba(i.type)),s=new jd(o,Ci(i),b);t.blueprint[r]=s,n[r]=s,function qZ(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function WZ(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,ih(t,n,i.hostVars,_e),i)}function Xi(t,e,n,r,i,o){const s=Ir(t,e);!function uw(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?fe(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[pe],s,o,t.value,n,r,i)}function nX(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)oL(r,n,s[a++],s[a++],s[a++])}function oL(t,e,n,r,i){const o=ii(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{ii(o)}}function rX(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function sL(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function aL(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];Jb(n[r]),s.contentQueries(2,e[o],o)}}}function Rm(t,e){return t[Rd]?t[pP][Ei]=e:t[Rd]=e,t[pP]=e,e}function lw(t,e,n){Jb(0);const r=ii(null);try{e(t,n)}finally{ii(r)}}function cL(t){return t[iu]||(t[iu]=[])}function uL(t){return t.cleanup||(t.cleanup=[])}function dL(t,e){const n=t[ms],r=n?n.get(Ro,null):null;r&&r.handleError(e)}function dw(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];oL(t.data[s],e[s],r,a,i)}}function Po(t,e,n){const r=Gg(e,t);!function U2(t,e,n){t.setValue(e,n)}(t[pe],r,n)}function iX(t,e){const n=Ur(e,t),r=n[ee];!function oX(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Ot];null!==i&&null===n[Ao]&&(n[Ao]=z1(i,n[ms])),hw(r,n,n[jt])}function hw(t,e,n){Zb(e);try{const r=t.viewQuery;null!==r&&lw(1,r,n);const i=t.template;null!==i&&ZF(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&aL(t,e),t.staticViewQueries&&lw(2,t.viewQuery,n);const o=t.components;null!==o&&function sX(t,e){for(let n=0;n<e.length;n++)iX(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ye]&=-5,Xb()}}let hL=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function mY(t,e,n){const r=Object.create(_Y);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>TP(r),run:()=>{if(r.dirty=!1,r.hasRun&&!EP(r))return;r.hasRun=!0;const s=jb(r);try{r.cleanupFn(),r.cleanupFn=MP,r.fn(i)}finally{$b(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(n,u=>{this.all.has(u)&&this.queue.set(u,o)},i);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}return t})();function km(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Ib(i,a):2==o&&(r=Ib(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function oh(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(ct(o)),ir(o)&&fL(o,r);const s=n.type;if(8&s)oh(t,e,n.child,r);else if(32&s){const a=_1(n,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=Y2(e,n);if(Array.isArray(a))r.push(...a);else{const c=Yd(e[$t]);oh(c[ee],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function fL(t,e){for(let n=Mn;n<t.length;n++){const r=t[n],i=r[ee].firstChild;null!==i&&oh(r[ee],r,i,e)}t[Ki]!==t[Ot]&&e.push(t[Ki])}function Pm(t,e,n,r=!0){const i=e[ou],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{pL(t,e,t.template,n)}catch(c){throw r&&dL(e,c),c}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function pL(t,e,n,r){const i=e[ye];if(256!=(256&i)){e[ou].effectManager?.flush(),Zb(e);try{BP(e),function WP(t){return le.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&ZF(t,e,n,2,r);const s=3==(3&i);if(s){const u=t.preOrderCheckHooks;null!==u&&Wg(e,u,null)}else{const u=t.preOrderHooks;null!==u&&Kg(e,u,0,null),e1(e,0)}if(function uX(t){for(let e=L2(t);null!==e;e=V2(e)){if(!e[mP])continue;const n=e[cu];for(let r=0;r<n.length;r++){SY(n[r])}}}(e),gL(e,2),null!==t.contentQueries&&aL(t,e),s){const u=t.contentCheckHooks;null!==u&&Wg(e,u)}else{const u=t.contentHooks;null!==u&&Kg(e,u,1),e1(e,1)}!function kZ(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=qF(e,Ld);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)wa(~o);else{const s=o,a=n[++i],c=n[++i];BY(a,s),r.dirty=!1;const u=jb(r);try{c(2,e[s])}finally{$b(r,u)}}}}finally{null===e[Ld]&&WF(e,Ld),wa(-1)}}(t,e);const a=t.components;null!==a&&_L(e,a,0);const c=t.viewQuery;if(null!==c&&lw(2,c,r),s){const u=t.viewCheckHooks;null!==u&&Wg(e,u)}else{const u=t.viewHooks;null!==u&&Kg(e,u,2),e1(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ye]&=-73,UP(e)}finally{Xb()}}}function gL(t,e){for(let n=L2(t);null!==n;n=V2(n))for(let r=Mn;r<n.length;r++)mL(n[r],e)}function lX(t,e,n){mL(Ur(e,t),n)}function mL(t,e){if(!function CY(t){return 128==(128&t[ye])}(t))return;const n=t[ee],r=t[ye];if(80&r&&0===e||1024&r||2===e)pL(n,t,n.template,t[jt]);else if(t[Md]>0){gL(t,1);const i=n.components;null!==i&&_L(t,i,1)}}function _L(t,e,n){for(let r=0;r<e.length;r++)lX(t,e[r],n)}class sh{get rootNodes(){const e=this._lView,n=e[ee];return oh(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[jt]}set context(e){this._lView[jt]=e}get destroyed(){return 256==(256&this._lView[ye])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[vt];if(ir(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(lm(e,r),Xg(n,r))}this._attachedToViewContainer=!1}v1(this._lView[ee],this._lView)}onDestroy(e){!function $P(t,e){if(256==(256&t[ye]))throw new B(911,!1);null===t[_s]&&(t[_s]=[]),t[_s].push(e)}(this._lView,e)}markForCheck(){rh(this._cdRefInjectingView||this._lView)}detach(){this._lView[ye]&=-129}reattach(){this._lView[ye]|=128}detectChanges(){Pm(this._lView[ee],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function JQ(t,e){Jd(t,e,e[pe],2,null,null)}(this._lView[ee],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e}}class dX extends sh{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Pm(e[ee],e,e[jt],!1)}checkNoChanges(){}get context(){return null}}class yL extends Am{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Me(e);return new ah(n,this.ngModule)}}function vL(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class fX{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Fg(r);const i=this.injector.get(e,Q1,r);return i!==Q1||n===Q1?i:this.parentInjector.get(e,n,r)}}class ah extends EF{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=vL(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return vL(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function JK(t){return t.map(QK).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof Cr?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new fX(e,o):e,a=s.get(K1,null);if(null===a)throw new B(407,!1);const d={rendererFactory:a,sanitizer:s.get(lZ,null),effectManager:s.get(hL,null),afterRenderEventManager:s.get(tw,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",g=r?function FZ(t,e,n,r){const o=r.get($F,!1)||n===Ii.ShadowDom,s=t.selectRootElement(e,o);return function LZ(t){eL(t)}(s),s}(h,r,this.componentDef.encapsulation,s):um(h,f,function hX(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),I=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let w=null;null!==g&&(w=z1(g,s,!0));const O=sw(0,null,null,1,0,null,null,null,null,null,null),k=Mm(null,O,null,I,null,null,d,h,s,null,w);let $,Y;Zb(k);try{const ae=this.componentDef;let me,Ve=null;ae.findHostDirectiveDefs?(me=[],Ve=new Map,ae.findHostDirectiveDefs(ae,me,Ve),me.push(ae)):me=[ae];const yt=function gX(t,e){const n=t[ee],r=Se;return t[r]=e,Fu(n,r,2,"#host",null)}(k,g),Nn=function mX(t,e,n,r,i,o,s){const a=i[ee];!function _X(t,e,n,r){for(const i of t)e.mergedAttrs=Od(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(km(e,e.mergedAttrs,!0),null!==n&&X2(r,n,e))}(r,t,e,s);let c=null;null!==e&&(c=z1(e,i[ms]));const u=o.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=Mm(i,XF(n),null,l,i[t.index],t,o,u,null,null,c);return a.firstCreatePass&&cw(a,t,r.length-1),Rm(i,d),i[t.index]=d}(yt,g,ae,me,k,d,h);Y=VP(O,Se),g&&function vX(t,e,n,r){if(r)Fb(t,n,["ng-version",Y1.full]);else{const{attrs:i,classes:o}=function ZK(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Ti(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Fb(t,n,i),o&&o.length>0&&Z2(t,n,o.join(" "))}}(h,ae,g,r),void 0!==n&&function bX(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(Y,this.ngContentSelectors,n),$=function yX(t,e,n,r,i,o){const s=Pn(),a=i[ee],c=Ir(s,i);rL(a,i,s,n,null,r);for(let l=0;l<n.length;l++)Kn(Ia(i,a,s.directiveStart+l,s),i);iL(a,i,s),c&&Kn(c,i);const u=Ia(i,a,s.directiveStart+s.componentOffset,s);if(t[jt]=i[jt]=u,null!==o)for(const l of o)l(u,e);return rw(a,s,t),u}(Nn,ae,me,Ve,k,[wX]),hw(O,k,null)}finally{Xb()}return new pX(this.componentType,$,Ou(Y,k),k,Y)}}class pX extends iZ{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new dX(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;dw(o[ee],o,i,e,n),this.previousInputValues.set(e,n),rh(Ur(this._tNode.index,o))}}get injector(){return new ar(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function wX(){const t=Pn();qg(P()[ee],t)}function Ge(t){let e=function bL(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Ci(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=Fm(t.inputs),s.inputTransforms=Fm(t.inputTransforms),s.declaredInputs=Fm(t.declaredInputs),s.outputs=Fm(t.outputs);const a=i.hostBindings;a&&CX(t,a);const c=i.viewQuery,u=i.contentQueries;if(c&&TX(t,c),u&&EX(t,u),Ng(t.inputs,i.inputs),Ng(t.declaredInputs,i.declaredInputs),Ng(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Ng(s.inputTransforms,i.inputTransforms)),Ci(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===Ge&&(n=!1)}}e=Object.getPrototypeOf(e)}!function IX(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Od(i.hostAttrs,n=Od(n,i.hostAttrs))}}(r)}function Fm(t){return t===qi?{}:t===Ue?[]:t}function TX(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function EX(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function CX(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function EL(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function Lm(t){return!!function fw(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function eo(t,e,n){return t[e]=n}function Yn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Aa(t,e,n,r){const i=Yn(t,e,n);return Yn(t,e+1,r)||i}function Ye(t,e,n,r){const i=P();return Yn(i,hu(),e)&&(Re(),Xi(Dt(),i,t,e,n,r)),Ye}function Vu(t,e,n,r){return Yn(t,hu(),n)?e+fe(n)+r:_e}function Uu(t,e,n,r,i,o,s,a){const u=function Vm(t,e,n,r,i){const o=Aa(t,e,n,r);return Yn(t,e+2,i)||o}(t,function xo(){return le.lFrame.bindingIndex}(),n,i,s);return No(3),u?e+fe(n)+r+fe(i)+o+fe(s)+a:_e}function N(t,e,n,r,i,o,s,a){const c=P(),u=Re(),l=t+Se,d=u.firstCreatePass?function YX(t,e,n,r,i,o,s,a,c){const u=e.consts,l=Fu(e,t,4,s||null,vs(u,a));aw(e,n,l,vs(u,c)),qg(e,l);const d=l.tView=sw(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,n,r,i,o,s):u.data[l];Qi(d,!1);const h=LL(u,c,d,t);zg()&&hm(u,c,h,d),Kn(h,c),Rm(c,c[l]=sL(h,c,h,d)),jg(d)&&iw(u,c,d),null!=s&&ow(c,d,a)}let LL=function VL(t,e,n,r){return ws(!0),e[pe].createComment("")};function ci(t){return lu(function LY(){return le.lFrame.contextLView}(),Se+t)}function D(t,e,n){const r=P();return Yn(r,hu(),e)&&Hr(Re(),Dt(),r,t,e,r[pe],n,!1),D}function vw(t,e,n,r,i){const s=i?"class":"style";dw(t,n,e.inputs[s],s,r)}function m(t,e,n,r){const i=P(),o=Re(),s=Se+t,a=i[pe],c=o.firstCreatePass?function XX(t,e,n,r,i,o){const s=e.consts,c=Fu(e,t,2,r,vs(s,i));return aw(e,n,c,vs(s,o)),null!==c.attrs&&km(c,c.attrs,!1),null!==c.mergedAttrs&&km(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,e,n,r):o.data[s],u=BL(o,i,c,a,e,t);i[s]=u;const l=jg(c);return Qi(c,!0),X2(a,u,c),32!=(32&c.flags)&&zg()&&hm(o,i,u,c),0===function xY(){return le.lFrame.elementDepthCount}()&&Kn(u,i),function NY(){le.lFrame.elementDepthCount++}(),l&&(iw(o,i,c),rw(o,c,i)),null!==r&&ow(i,c),m}function _(){let t=Pn();Wb()?Kb():(t=t.parent,Qi(t,!1));const e=t;(function MY(t){return le.skipHydrationRootTNode===t})(e)&&function FY(){le.skipHydrationRootTNode=null}(),function OY(){le.lFrame.elementDepthCount--}();const n=Re();return n.firstCreatePass&&(qg(n,t),Vb(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function YY(t){return 0!=(8&t.flags)}(e)&&vw(n,e,P(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function QY(t){return 0!=(16&t.flags)}(e)&&vw(n,e,P(),e.stylesWithoutHost,!1),_}function F(t,e,n,r){return m(t,e,n,r),_(),F}let BL=(t,e,n,r,i,o)=>(ws(!0),um(r,i,function t2(){return le.lFrame.currentNamespace}()));function Mt(){return P()}function fh(t){return!!t&&"function"==typeof t.then}function $L(t){return!!t&&"function"==typeof t.subscribe}function oe(t,e,n,r){const i=P(),o=Re(),s=Pn();return function GL(t,e,n,r,i,o,s){const a=jg(r),u=t.firstCreatePass&&uL(t),l=e[jt],d=cL(e);let h=!0;if(3&r.type||s){const y=Ir(r,e),v=s?s(y):y,I=d.length,w=s?k=>s(ct(k[r.index])):r.index;let O=null;if(!s&&a&&(O=function oee(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[iu],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==O)(O.__ngLastListenerFn__||O).__ngNextListenerFn__=o,O.__ngLastListenerFn__=o,h=!1;else{o=qL(r,e,l,o,!1);const k=n.listen(v,i,o);d.push(o,k),u&&u.push(i,w,I,I+1)}}else o=qL(r,e,l,o,!1);const f=r.outputs;let g;if(h&&null!==f&&(g=f[i])){const y=g.length;if(y)for(let v=0;v<y;v+=2){const $=e[g[v]][g[v+1]].subscribe(o),Y=d.length;d.push(o,$),u&&u.push(i,r.index,Y,-(Y+1))}}}(o,i,i[pe],s,t,e,r),oe}function zL(t,e,n,r){try{return Yi(6,e,n),!1!==n(r)}catch(i){return dL(t,i),!1}finally{Yi(7,e,n)}}function qL(t,e,n,r,i){return function o(s){if(s===Function)return r;rh(t.componentOffset>-1?Ur(t.index,e):e);let c=zL(e,n,r,s),u=o.__ngNextListenerFn__;for(;u;)c=zL(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function U(t=1){return function $Y(t){return(le.lFrame.contextLView=function HY(t,e){for(;t>0;)e=e[su],t--;return e}(t,le.lFrame.contextLView))[jt]}(t)}function see(t,e){let n=null;const r=function qK(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?uP(t,o,!0):YK(r,o))return i}else n=i}return n}function ph(t,e,n){return $m(t,"",e,"",n),ph}function $m(t,e,n,r,i){const o=P(),s=Vu(o,e,n,r);return s!==_e&&Hr(Re(),Dt(),o,t,s,o[pe],i,!1),$m}function Hm(t,e){return t<<17|e<<2}function Ts(t){return t>>17&32767}function Iw(t){return 2|t}function xa(t){return(131068&t)>>2}function Tw(t,e){return-131069&t|e<<2}function Ew(t){return 1|t}function r3(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Ts(o):xa(o),c=!1;for(;0!==a&&(!1===c||s);){const l=t[a+1];hee(t[a],e)&&(c=!0,t[a+1]=r?Ew(l):Iw(l)),a=r?Ts(l):xa(l)}c&&(t[n+1]=r?Iw(o):Ew(o))}function hee(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&wu(t,e)>=0}const ln={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function i3(t){return t.substring(ln.key,ln.keyEnd)}function o3(t,e){const n=ln.textEnd;return n===e?-1:(e=ln.keyEnd=function mee(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,ln.key=e,n),qu(t,e,n))}function qu(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function $e(t,e){return function Di(t,e,n,r){const i=P(),o=Re(),s=No(2);o.firstUpdatePass&&h3(o,t,s,r),e!==_e&&Yn(i,s,e)&&p3(o,o.data[sr()],i,i[pe],t,i[s+1]=function See(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=cn($r(t)))),t}(e,n),r,s)}(t,e,null,!0),$e}function Na(t){!function Si(t,e,n,r){const i=Re(),o=No(2);i.firstUpdatePass&&h3(i,null,o,r);const s=P();if(n!==_e&&Yn(s,o,n)){const a=i.data[sr()];if(m3(a,r)&&!d3(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(n=Ib(c,n||"")),vw(i,a,s,n,r)}else!function Dee(t,e,n,r,i,o,s,a){i===_e&&(i=Ue);let c=0,u=0,l=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==l||null!==d;){const h=c<i.length?i[c+1]:void 0,f=u<o.length?o[u+1]:void 0;let y,g=null;l===d?(c+=2,u+=2,h!==f&&(g=d,y=f)):null===d||null!==l&&l<d?(c+=2,g=l):(u+=2,g=d,y=f),null!==g&&p3(t,e,n,r,g,y,s,a),l=c<i.length?i[c]:null,d=u<o.length?o[u]:null}}(i,a,s,s[pe],s[o+1],s[o+1]=function Eee(t,e,n){if(null==n||""===n)return Ue;const r=[],i=$r(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}(Cee,no,t,!0)}function no(t,e){for(let n=function pee(t){return function a3(t){ln.key=0,ln.keyEnd=0,ln.value=0,ln.valueEnd=0,ln.textEnd=t.length}(t),o3(t,qu(t,0,ln.textEnd))}(e);n>=0;n=o3(e,n))jr(t,i3(e),!0)}function d3(t,e){return e>=t.expandoStartIndex}function h3(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[sr()],s=d3(t,n);m3(o,r)&&null===e&&!s&&(e=!1),e=function bee(t,e,n,r){const i=function Qb(t){const e=le.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=gh(n=Cw(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Cw(i,t,e,n,r),null===o){let c=function wee(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==xa(r))return t[Ts(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=Cw(null,t,e,c[1],r),c=gh(c,e.attrs,r),function Iee(t,e,n,r){t[Ts(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else o=function Tee(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=gh(r,t[o].hostAttrs,n);return gh(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function lee(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ts(s),c=xa(s);t[r]=n;let l,u=!1;if(Array.isArray(n)?(l=n[1],(null===l||wu(n,l)>0)&&(u=!0)):l=n,i)if(0!==c){const h=Ts(t[a+1]);t[r+1]=Hm(h,a),0!==h&&(t[h+1]=Tw(t[h+1],r)),t[a+1]=function cee(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Hm(a,0),0!==a&&(t[a+1]=Tw(t[a+1],r)),a=r;else t[r+1]=Hm(c,0),0===a?a=r:t[c+1]=Tw(t[c+1],r),c=r;u&&(t[r+1]=Iw(t[r+1])),r3(t,l,r,!0),r3(t,l,r,!1),function dee(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&wu(o,e)>=0&&(n[r+1]=Ew(n[r+1]))}(e,l,t,r,o),s=Hm(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function Cw(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=gh(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function gh(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),jr(t,s,!!n||e[++o]))}return void 0===t?null:t}function Cee(t,e,n){const r=String(e);""!==r&&!r.includes(" ")&&jr(t,r,n)}function p3(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const c=t.data,u=c[a+1],l=function uee(t){return 1==(1&t)}(u)?g3(c,e,n,i,xa(u),s):void 0;Gm(l)||(Gm(o)||function aee(t){return 2==(2&t)}(u)&&(o=g3(c,null,n,i,a,s)),function aJ(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:Is.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Is.Important),t.setStyle(n,r,i,o))}}(r,s,Gg(sr(),n),i,o))}function g3(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=null===l;let h=n[i+1];h===_e&&(h=d?Ue:void 0);let f=d?c1(h,r):l===r?h:void 0;if(u&&!Gm(f)&&(f=c1(c,r)),Gm(f)&&(a=f,s))return a;const g=t[i+1];i=s?Ts(g):xa(g)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=c1(c,r))}return a}function Gm(t){return void 0!==t}function m3(t,e){return 0!=(t.flags&(e?8:16))}function T(t,e=""){const n=P(),r=Re(),i=t+Se,o=r.firstCreatePass?Fu(r,i,1,e,null):r.data[i],s=_3(r,n,o,e,t);n[i]=s,zg()&&hm(r,n,s,o),Qi(o,!1)}let _3=(t,e,n,r,i)=>(ws(!0),function cm(t,e){return t.createText(e)}(e[pe],r));function Rt(t){return Ai("",t,""),Rt}function Ai(t,e,n){const r=P(),i=Vu(r,t,e,n);return i!==_e&&Po(r,sr(),i),Ai}function Dw(t,e,n,r,i,o,s){const a=P(),c=Uu(a,t,e,n,r,i,o,s);return c!==_e&&Po(a,sr(),c),Dw}const Oa=void 0;var Yee=["en",[["a","p"],["AM","PM"],Oa],[["AM","PM"],Oa,Oa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Oa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Oa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Oa,"{1} 'at' {0}",Oa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Kee(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Wu={};function cr(t){const e=function Qee(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=F3(e);if(n)return n;const r=e.split("-")[0];if(n=F3(r),n)return n;if("en"===r)return Yee;throw new B(701,!1)}function F3(t){return t in Wu||(Wu[t]=at.ng&&at.ng.common&&at.ng.common.locales&&at.ng.common.locales[t]),Wu[t]}var ut=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ut||{});const Ku="en-US";let L3=Ku;function xw(t,e,n,r,i){if(t=de(t),Array.isArray(t))for(let o=0;o<t.length;o++)xw(t[o],e,n,r,i);else{const o=Re(),s=P(),a=Pn();let c=Sa(t)?t:de(t.provide);const u=yF(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Sa(t)||!t.multi){const f=new jd(u,i,b),g=Ow(c,e,i?l:l+h,d);-1===g?(o1(Qg(a,s),o,c),Nw(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[g]=f,s[g]=f)}else{const f=Ow(c,e,l+h,d),g=Ow(c,e,l,l+h),v=g>=0&&n[g];if(i&&!v||!i&&!(f>=0&&n[f])){o1(Qg(a,s),o,c);const I=function Wte(t,e,n,r,i){const o=new jd(t,n,b);return o.multi=[],o.index=e,o.componentProviders=0,cV(o,i,r&&!n),o}(i?qte:zte,n.length,i,r,u);!i&&v&&(n[g].providerFactory=I),Nw(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(I),s.push(I)}else Nw(o,t,f>-1?f:g,cV(n[i?g:f],u,!i&&r));!i&&r&&v&&n[g].componentProviders++}}}function Nw(t,e,n,r){const i=Sa(e),o=function jJ(t){return!!t.useClass}(e);if(i||o){const c=(o?de(e.useClass):e).prototype.ngOnDestroy;if(c){const u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=u.indexOf(n);-1===l?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function cV(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ow(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function zte(t,e,n,r){return Mw(this.multi,[])}function qte(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ia(n,n[ee],this.providerFactory.index,r);o=a.slice(0,s),Mw(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Mw(i,o);return o}function Mw(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function it(t,e=[]){return n=>{n.providersResolver=(r,i)=>function Gte(t,e,n){const r=Re();if(r.firstCreatePass){const i=Ci(t);xw(n,r.data,r.blueprint,i,!0),xw(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Ma{}class uV{}class Rw extends Ma{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new yL(this);const i=Br(e);this._bootstrapComponents=ko(i.bootstrap),this._r3Injector=NF(e,n,[{provide:Ma,useValue:this},{provide:Am,useValue:this.componentFactoryResolver},...r],cn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class kw extends uV{constructor(e){super(),this.moduleType=e}create(e){return new Rw(this.moduleType,e,[])}}class lV extends Ma{constructor(e){super(),this.componentFactoryResolver=new yL(this),this.instance=null;const n=new Su([...e.providers,{provide:Ma,useValue:this},{provide:Am,useValue:this.componentFactoryResolver}],e.parent||wm(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Pw(t,e,n=null){return new lV({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let Qte=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=pF(0,n.type),i=r.length>0?Pw([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=z({token:t,providedIn:"environment",factory:()=>new t(W(Cr))})}return t})();function Gr(t){t.getStandaloneInjector=e=>e.get(Qte).getOrCreateStandaloneInjector(t)}function Ra(t,e,n,r){return _V(P(),or(),t,e,n,r)}function Th(t,e){const n=t[e];return n===_e?void 0:n}function _V(t,e,n,r,i,o){const s=e+n;return Yn(t,s,i)?eo(t,s+1,o?r.call(o,i):r(i)):Th(t,s+1)}function Yu(t,e){const n=Re();let r;const i=t+Se;n.firstCreatePass?(r=function hne(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=ba(r.type)),a=br(b);try{const c=Yg(!1),u=o();return Yg(c),function ZX(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,P(),i,u),u}finally{br(a)}}function Eh(t,e,n){const r=t+Se,i=P(),o=lu(i,r);return Ch(i,r)?_V(i,or(),e,o.transform,n,o):o.transform(n)}function IV(t,e,n,r){const i=t+Se,o=P(),s=lu(o,i);return Ch(o,i)?function yV(t,e,n,r,i,o,s){const a=e+n;return Aa(t,a,i,o)?eo(t,a+2,s?r.call(s,i,o):r(i,o)):Th(t,a+2)}(o,or(),e,s.transform,n,r,s):s.transform(n,r)}function Ch(t,e){return t[ee].data[e].pure}function mne(){return this._results[Symbol.iterator]()}class Vw{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new R)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Vw.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=mne)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function oi(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function lQ(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function yne(t,e,n,r=!0){const i=e[ee];if(function XQ(t,e,n,r){const i=Mn+r,o=n.length;r>0&&(n[i-1][Ei]=e),r<o-Mn?(e[Ei]=n[i],m2(n,Mn+r,e)):(n.push(e),e[Ei]=null),e[vt]=n;const s=e[kd];null!==s&&n!==s&&function eJ(t,e){const n=t[cu];e[$t]!==e[vt][vt][$t]&&(t[mP]=!0),null===n?t[cu]=[e]:n.push(e)}(s,e);const a=e[Wi];null!==a&&a.insertView(t),e[ye]|=128}(i,e,t,n),r){const o=T1(n,t),s=e[pe],a=dm(s,t[Ki]);null!==a&&function QQ(t,e,n,r,i,o){r[Ot]=i,r[Wn]=e,Jd(t,r,n,1,i,o)}(i,t[Wn],s,e,a,o)}}let St=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=wne}return t})();const vne=St,bne=class extends vne{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function _ne(t,e,n,r){const i=e.tView,a=Mm(t,i,n,4096&t[ye]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[kd]=t[e.index];const u=t[Wi];return null!==u&&(a[Wi]=u.createEmbeddedView(i)),hw(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new sh(i)}};function wne(){return Ym(Pn(),P())}function Ym(t,e){return 4&t.type?new bne(e,t,Ou(t,e)):null}let li=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Sne}return t})();function Sne(){return xV(Pn(),P())}const Ane=li,SV=class extends Ane{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ou(this._hostTNode,this._hostLView)}get injector(){return new ar(this._hostTNode,this._hostLView)}get parentInjector(){const e=Jg(this._hostTNode,this._hostLView);if(n1(e)){const n=Hd(e,this._hostLView),r=$d(e);return new ar(n[ee].data[r+8],n)}return new ar(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=AV(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Mn}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function zd(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const y=n||{};a=y.index,r=y.injector,i=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef}const c=s?e:new ah(Me(e)),u=r||this.parentInjector;if(!o&&null==c.ngModule){const v=(s?u:this.parentInjector).get(Cr,null);v&&(o=v)}Me(c.componentType??{});const f=c.create(u,i,null,o);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function DY(t){return ir(t[vt])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const u=i[vt],l=new SV(u,u[Wn],u[vt]);l.detach(l.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;return yne(a,i,s,!r),e.attachToViewContainerRef(),m2(Bw(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=AV(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=lm(this._lContainer,n);r&&(Xg(Bw(this._lContainer),n),v1(r[ee],r))}detach(e){const n=this._adjustIndex(e,-1),r=lm(this._lContainer,n);return r&&null!=Xg(Bw(this._lContainer),n)?new sh(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function AV(t){return t[8]}function Bw(t){return t[8]||(t[8]=[])}function xV(t,e){let n;const r=e[t.index];return ir(r)?n=r:(n=sL(r,e,null,t),e[t.index]=n,Rm(e,n)),NV(n,e,t,r),new SV(n,t,e)}let NV=function OV(t,e,n,r){if(t[Ki])return;let i;i=8&n.type?ct(r):function xne(t,e){const n=t[pe],r=n.createComment(""),i=Ir(e,t);return Ea(n,dm(n,i),r,function iJ(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Ki]=i};class Uw{constructor(e){this.queryList=e,this.matches=null}clone(){return new Uw(this.queryList)}setDirty(){this.queryList.setDirty()}}class jw{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new jw(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==FV(e,n).matches&&this.queries[n].setDirty()}}class MV{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class $w{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new $w(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Hw{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Hw(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,n,Mne(n,o)),this.matchTNodeWithReadOption(e,n,Zg(n,e,o,!1,!1))}else r===St?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Zg(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===je||i===li||i===St&&4&n.type)this.addMatch(n.index,-2);else{const o=Zg(n,e,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function Mne(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function kne(t,e,n,r){return-1===n?function Rne(t,e){return 11&t.type?Ou(t,e):4&t.type?Ym(t,e):null}(e,t):-2===n?function Pne(t,e,n){return n===je?Ou(e,t):n===St?Ym(e,t):n===li?xV(e,t):void 0}(t,e,r):Ia(t,t[ee],n,e)}function RV(t,e,n,r){const i=e[Wi].queries[r];if(null===i.matches){const o=t.data,s=n.matches,a=[];for(let c=0;c<s.length;c+=2){const u=s[c];a.push(u<0?null:kne(e,o[u],s[c+1],n.metadata.read))}i.matches=a}return i.matches}function Gw(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=RV(t,e,i,n);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const u=o[a+1],l=e[-c];for(let d=Mn;d<l.length;d++){const h=l[d];h[kd]===h[vt]&&Gw(h[ee],h,u,r)}if(null!==l[cu]){const d=l[cu];for(let h=0;h<d.length;h++){const f=d[h];Gw(f[ee],f,u,r)}}}}}return r}function Xe(t){const e=P(),n=Re(),r=YP();Jb(r+1);const i=FV(n,r);if(t.dirty&&function EY(t){return 4==(4&t[ye])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Gw(n,e,r,[]):RV(n,e,i,r);t.reset(o,cZ),t.notifyOnChanges()}return!0}return!1}function ka(t,e,n){const r=Re();r.firstCreatePass&&(function PV(t,e,n){null===t.queries&&(t.queries=new $w),t.queries.track(new Hw(e,n))}(r,new MV(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function kV(t,e,n){const r=new Vw(4==(4&n));(function UZ(t,e,n,r){const i=cL(e);i.push(n),t.firstCreatePass&&uL(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[Wi]&&(e[Wi]=new jw),e[Wi].queries.push(new Uw(r))}(r,P(),e)}function FV(t,e){return t.queries.getByIndex(e)}function di(t,e){return Ym(t,e)}const Qw=new te("Application Initializer");let Jw=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=K(Qw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(fh(o))n.push(o);else if($L(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),XV=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const xi=new te("LocaleId",{providedIn:"root",factory:()=>K(xi,De.Optional|De.SkipSelf)||function ire(){return typeof $localize<"u"&&$localize.locale||Ku}()});let eB=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new vr(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class are{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let tB=(()=>{class t{compileModuleSync(n){return new kw(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=ko(Br(n).declarations).reduce((s,a)=>{const c=Me(a);return c&&s.push(new ah(c)),s},[]);return new are(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const oB=new te(""),Xm=new te("");let nI,eI=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,nI||(function xre(t){nI=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(W(Ee),W(tI),W(Xm))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),tI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return nI?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Es=null;const sB=new te("AllowMultipleToken"),rI=new te("PlatformDestroyListeners"),iI=new te("appBootstrapListener");class cB{constructor(e,n){this.name=e,this.token=n}}function lB(t,e,n=[]){const r=`Platform: ${e}`,i=new te(r);return(o=[])=>{let s=oI();if(!s||s.injector.get(sB,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function Mre(t){if(Es&&!Es.get(sB,!1))throw new B(400,!1);(function aB(){!function dY(t){AP=t}(()=>{throw new B(600,!1)})})(),Es=t;const e=t.get(hB);(function uB(t){t.get(vF,null)?.forEach(n=>n())})(t)}(function dB(t=[],e){return Xt.create({name:e,providers:[{provide:k1,useValue:"platform"},{provide:rI,useValue:new Set([()=>Es=null])},...t]})}(a,r))}return function kre(t){const e=oI();if(!e)throw new B(401,!1);return e}()}}function oI(){return Es?.get(hB)??null}let hB=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function Pre(t="zone.js",e){return"noop"===t?new TZ:"zone.js"===t?new Ee(e):t}(r?.ngZone,function fB(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function Yte(t,e,n){return new Rw(t,e,n)}(n.moduleType,this.injector,function yB(t){return[{provide:Ee,useFactory:t},{provide:eh,multi:!0,useFactory:()=>{const e=K(Lre,{optional:!0});return()=>e.initialize()}},{provide:_B,useFactory:Fre},{provide:PF,useFactory:FF}]}(()=>i)),s=o.injector.get(Ro,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{e_(this._modules,o),a.unsubscribe()})}),function pB(t,e,n){try{const r=n();return fh(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(Jw);return a.runInitializers(),a.donePromise.then(()=>(function V3(t){ri(t,"Expected localeId to be defined"),"string"==typeof t&&(L3=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(xi,Ku)||Ku),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=gB({},r);return function Nre(t,e,n){const r=new kw(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(Cs);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new B(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new B(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(rI,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(W(Xt))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function gB(t,e){return Array.isArray(e)?e.reduce(gB,t):{...t,...e}}let Cs=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=K(_B),this.zoneIsStable=K(PF),this.componentTypes=[],this.components=[],this.isStable=K(eB).hasPendingTasks.pipe(wi(n=>n?ce(!1):this.zoneIsStable),function qk(t,e=bi){return t=t??TK,Tt((n,r)=>{let i,o=!0;n.subscribe(st(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}(),bb()),this._injector=K(Cr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof EF;if(!this._injector.get(Jw).done)throw!i&&function ru(t){const e=Me(t)||On(t)||rr(t);return null!==e&&e.standalone}(n),new B(405,!1);let s;s=i?n:this._injector.get(Am).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function Ore(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Ma),u=s.create(Xt.NULL,[],r||s.selector,a),l=u.location.nativeElement,d=u.injector.get(oB,null);return d?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),e_(this.components,u),d?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new B(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;e_(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(iI,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>e_(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new B(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function e_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const _B=new te("",{providedIn:"root",factory:()=>K(Ro).handleError.bind(void 0)});function Fre(){const t=K(Ee),e=K(Ro);return n=>t.runOutsideAngular(()=>e.handleError(n))}let Lre=(()=>{class t{constructor(){this.zone=K(Ee),this.applicationRef=K(Cs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let Ni=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Bre}return t})();function Bre(t){return function Ure(t,e,n){if(va(t)&&!n){const r=Ur(t.index,e);return new sh(r,r)}return 47&t.type?new sh(e[$t],e):null}(Pn(),P(),16==(16&t))}class IB{constructor(){}supports(e){return Lm(e)}create(e){return new qre(e)}}const zre=(t,e)=>e;class qre{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||zre}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<EB(r,i,o)?n:r,a=EB(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){const f=h<o.length?o[h]:o[h]=0,g=f+h;l<=g&&g<u&&(o[h]=f+1)}o[s.previousIndex]=l-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Lm(e))throw new B(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function OX(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Wre(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new TB),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new TB),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Wre{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Kre{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class TB{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new Kre,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function EB(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function DB(){return new r_([new IB])}let r_=(()=>{class t{static#e=this.\u0275prov=z({token:t,providedIn:"root",factory:DB});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||DB()),deps:[[t,new tm,new Tr]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new B(901,!1)}}return t})();const Xre=lB(null,"core",[]);let eie=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(W(Cs))};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})();function Zu(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function dI(t,e){const n=Me(t),r=e.elementInjector||wm();return new ah(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}let hI=null;function Ds(){return hI}class pie{}const Gt=new te("DocumentToken");let fI=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return K(mie)},providedIn:"platform"})}return t})();const gie=new te("Location Initialized");let mie=(()=>{class t extends fI{constructor(){super(),this._doc=K(Gt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ds().getBaseHref(this._doc)}onPopState(n){const r=Ds().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Ds().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function pI(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function FB(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Fo(t){return t&&"?"!==t[0]?"?"+t:t}let Fa=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return K(VB)},providedIn:"root"})}return t})();const LB=new te("appBaseHref");let VB=(()=>{class t extends Fa{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??K(Gt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return pI(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Fo(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Fo(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Fo(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(W(fI),W(LB,8))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_ie=(()=>{class t extends Fa{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=pI(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Fo(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Fo(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(W(fI),W(LB,8))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),gI=(()=>{class t{constructor(n){this._subject=new R,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function bie(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(FB(BB(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Fo(r))}normalize(n){return t.stripTrailingSlash(function vie(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,BB(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Fo(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Fo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Fo;static#t=this.joinWithSlash=pI;static#n=this.stripTrailingSlash=FB;static#r=this.\u0275fac=function(r){return new(r||t)(W(Fa))};static#i=this.\u0275prov=z({token:t,factory:function(){return function yie(){return new gI(W(Fa))}()},providedIn:"root"})}return t})();function BB(t){return t.replace(/\/index.html$/,"")}var yn=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(yn||{}),Le=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Le||{}),zr=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(zr||{}),zt=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(zt||{});function s_(t,e){return fi(cr(t)[ut.DateFormat],e)}function a_(t,e){return fi(cr(t)[ut.TimeFormat],e)}function c_(t,e){return fi(cr(t)[ut.DateTimeFormat],e)}function hi(t,e){const n=cr(t),r=n[ut.NumberSymbols][e];if(typeof r>"u"){if(e===zt.CurrencyDecimal)return n[ut.NumberSymbols][zt.Decimal];if(e===zt.CurrencyGroup)return n[ut.NumberSymbols][zt.Group]}return r}function $B(t){if(!t[ut.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[ut.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function fi(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function yI(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const Mie=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,xh={},Rie=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Lo=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Lo||{}),ze=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(ze||{}),qe=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(qe||{});function HB(t,e,n,r){let i=function $ie(t){if(qB(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[i,o=1,s=1]=t.split("-").map(a=>+a);return u_(i,o-1,s)}const n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(Mie))return function Hie(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,c,u),e}(r)}const e=new Date(t);if(!qB(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=Vo(n,e)||e;let a,s=[];for(;e;){if(a=Rie.exec(e),!a){s.push(e);break}{s=s.concat(a.slice(1));const l=s.pop();if(!l)break;e=l}}let c=i.getTimezoneOffset();r&&(c=zB(r,c),i=function jie(t,e,n){const r=n?-1:1,i=t.getTimezoneOffset();return function Uie(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,r*(zB(e,i)-i))}(i,r,!0));let u="";return s.forEach(l=>{const d=function Bie(t){if(bI[t])return bI[t];let e;switch(t){case"G":case"GG":case"GGG":e=lt(qe.Eras,Le.Abbreviated);break;case"GGGG":e=lt(qe.Eras,Le.Wide);break;case"GGGGG":e=lt(qe.Eras,Le.Narrow);break;case"y":e=en(ze.FullYear,1,0,!1,!0);break;case"yy":e=en(ze.FullYear,2,0,!0,!0);break;case"yyy":e=en(ze.FullYear,3,0,!1,!0);break;case"yyyy":e=en(ze.FullYear,4,0,!1,!0);break;case"Y":e=f_(1);break;case"YY":e=f_(2,!0);break;case"YYY":e=f_(3);break;case"YYYY":e=f_(4);break;case"M":case"L":e=en(ze.Month,1,1);break;case"MM":case"LL":e=en(ze.Month,2,1);break;case"MMM":e=lt(qe.Months,Le.Abbreviated);break;case"MMMM":e=lt(qe.Months,Le.Wide);break;case"MMMMM":e=lt(qe.Months,Le.Narrow);break;case"LLL":e=lt(qe.Months,Le.Abbreviated,yn.Standalone);break;case"LLLL":e=lt(qe.Months,Le.Wide,yn.Standalone);break;case"LLLLL":e=lt(qe.Months,Le.Narrow,yn.Standalone);break;case"w":e=vI(1);break;case"ww":e=vI(2);break;case"W":e=vI(1,!0);break;case"d":e=en(ze.Date,1);break;case"dd":e=en(ze.Date,2);break;case"c":case"cc":e=en(ze.Day,1);break;case"ccc":e=lt(qe.Days,Le.Abbreviated,yn.Standalone);break;case"cccc":e=lt(qe.Days,Le.Wide,yn.Standalone);break;case"ccccc":e=lt(qe.Days,Le.Narrow,yn.Standalone);break;case"cccccc":e=lt(qe.Days,Le.Short,yn.Standalone);break;case"E":case"EE":case"EEE":e=lt(qe.Days,Le.Abbreviated);break;case"EEEE":e=lt(qe.Days,Le.Wide);break;case"EEEEE":e=lt(qe.Days,Le.Narrow);break;case"EEEEEE":e=lt(qe.Days,Le.Short);break;case"a":case"aa":case"aaa":e=lt(qe.DayPeriods,Le.Abbreviated);break;case"aaaa":e=lt(qe.DayPeriods,Le.Wide);break;case"aaaaa":e=lt(qe.DayPeriods,Le.Narrow);break;case"b":case"bb":case"bbb":e=lt(qe.DayPeriods,Le.Abbreviated,yn.Standalone,!0);break;case"bbbb":e=lt(qe.DayPeriods,Le.Wide,yn.Standalone,!0);break;case"bbbbb":e=lt(qe.DayPeriods,Le.Narrow,yn.Standalone,!0);break;case"B":case"BB":case"BBB":e=lt(qe.DayPeriods,Le.Abbreviated,yn.Format,!0);break;case"BBBB":e=lt(qe.DayPeriods,Le.Wide,yn.Format,!0);break;case"BBBBB":e=lt(qe.DayPeriods,Le.Narrow,yn.Format,!0);break;case"h":e=en(ze.Hours,1,-12);break;case"hh":e=en(ze.Hours,2,-12);break;case"H":e=en(ze.Hours,1);break;case"HH":e=en(ze.Hours,2);break;case"m":e=en(ze.Minutes,1);break;case"mm":e=en(ze.Minutes,2);break;case"s":e=en(ze.Seconds,1);break;case"ss":e=en(ze.Seconds,2);break;case"S":e=en(ze.FractionalSeconds,1);break;case"SS":e=en(ze.FractionalSeconds,2);break;case"SSS":e=en(ze.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=d_(Lo.Short);break;case"ZZZZZ":e=d_(Lo.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=d_(Lo.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=d_(Lo.Long);break;default:return null}return bI[t]=e,e}(l);u+=d?d(i,n,c):"''"===l?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function u_(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Vo(t,e){const n=function Iie(t){return cr(t)[ut.LocaleId]}(t);if(xh[n]=xh[n]||{},xh[n][e])return xh[n][e];let r="";switch(e){case"shortDate":r=s_(t,zr.Short);break;case"mediumDate":r=s_(t,zr.Medium);break;case"longDate":r=s_(t,zr.Long);break;case"fullDate":r=s_(t,zr.Full);break;case"shortTime":r=a_(t,zr.Short);break;case"mediumTime":r=a_(t,zr.Medium);break;case"longTime":r=a_(t,zr.Long);break;case"fullTime":r=a_(t,zr.Full);break;case"short":const i=Vo(t,"shortTime"),o=Vo(t,"shortDate");r=l_(c_(t,zr.Short),[i,o]);break;case"medium":const s=Vo(t,"mediumTime"),a=Vo(t,"mediumDate");r=l_(c_(t,zr.Medium),[s,a]);break;case"long":const c=Vo(t,"longTime"),u=Vo(t,"longDate");r=l_(c_(t,zr.Long),[c,u]);break;case"full":const l=Vo(t,"fullTime"),d=Vo(t,"fullDate");r=l_(c_(t,zr.Full),[l,d])}return r&&(xh[n][e]=r),r}function l_(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return null!=e&&r in e?e[r]:n})),t}function Oi(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function en(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function Pie(t,e){switch(t){case ze.FullYear:return e.getFullYear();case ze.Month:return e.getMonth();case ze.Date:return e.getDate();case ze.Hours:return e.getHours();case ze.Minutes:return e.getMinutes();case ze.Seconds:return e.getSeconds();case ze.FractionalSeconds:return e.getMilliseconds();case ze.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===ze.Hours)0===a&&-12===n&&(a=12);else if(t===ze.FractionalSeconds)return function kie(t,e){return Oi(t,3).substring(0,e)}(a,e);const c=hi(s,zt.MinusSign);return Oi(a,e,c,r,i)}}function lt(t,e,n=yn.Format,r=!1){return function(i,o){return function Fie(t,e,n,r,i,o){switch(n){case qe.Months:return function mI(t,e,n){const r=cr(t),o=fi([r[ut.MonthsFormat],r[ut.MonthsStandalone]],e);return fi(o,n)}(e,i,r)[t.getMonth()];case qe.Days:return function jB(t,e,n){const r=cr(t),o=fi([r[ut.DaysFormat],r[ut.DaysStandalone]],e);return fi(o,n)}(e,i,r)[t.getDay()];case qe.DayPeriods:const s=t.getHours(),a=t.getMinutes();if(o){const u=function Sie(t){const e=cr(t);return $B(e),(e[ut.ExtraData][2]||[]).map(r=>"string"==typeof r?yI(r):[yI(r[0]),yI(r[1])])}(e),l=function Aie(t,e,n){const r=cr(t);$B(r);const o=fi([r[ut.ExtraData][0],r[ut.ExtraData][1]],e)||[];return fi(o,n)||[]}(e,i,r),d=u.findIndex(h=>{if(Array.isArray(h)){const[f,g]=h,y=s>=f.hours&&a>=f.minutes,v=s<g.hours||s===g.hours&&a<g.minutes;if(f.hours<g.hours){if(y&&v)return!0}else if(y||v)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(-1!==d)return l[d]}return function Tie(t,e,n){const r=cr(t),o=fi([r[ut.DayPeriodsFormat],r[ut.DayPeriodsStandalone]],e);return fi(o,n)}(e,i,r)[s<12?0:1];case qe.Eras:return function Eie(t,e){return fi(cr(t)[ut.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,o,t,e,n,r)}}function d_(t){return function(e,n,r){const i=-1*r,o=hi(n,zt.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Lo.Short:return(i>=0?"+":"")+Oi(s,2,o)+Oi(Math.abs(i%60),2,o);case Lo.ShortGMT:return"GMT"+(i>=0?"+":"")+Oi(s,1,o);case Lo.Long:return"GMT"+(i>=0?"+":"")+Oi(s,2,o)+":"+Oi(Math.abs(i%60),2,o);case Lo.Extended:return 0===r?"Z":(i>=0?"+":"")+Oi(s,2,o)+":"+Oi(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}const Lie=0,h_=4;function GB(t){return u_(t.getFullYear(),t.getMonth(),t.getDate()+(h_-t.getDay()))}function vI(t,e=!1){return function(n,r){let i;if(e){const o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{const o=GB(n),s=function Vie(t){const e=u_(t,Lie,1).getDay();return u_(t,0,1+(e<=h_?h_:h_+7)-e)}(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Oi(i,t,hi(r,zt.MinusSign))}}function f_(t,e=!1){return function(n,r){return Oi(GB(n).getFullYear(),t,hi(r,zt.MinusSign),e)}}const bI={};function zB(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function qB(t){return t instanceof Date&&!isNaN(t.valueOf())}class ioe{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qr=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new ioe(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),ZB(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{ZB(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(b(li),b(St),b(r_))};static#t=this.\u0275dir=H({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function ZB(t,e){t.context.$implicit=e.item}let Qn=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new ooe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){XB("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){XB("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(b(li),b(St))};static#t=this.\u0275dir=H({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class ooe{constructor(){this.$implicit=null,this.ngIf=null}}function XB(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${cn(e)}'.`)}const boe=new te("DATE_PIPE_DEFAULT_TIMEZONE"),woe=new te("DATE_PIPE_DEFAULT_OPTIONS");let tU=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(null==n||""===n||n!=n)return null;try{return HB(n,r??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw function Mi(t,e){return new B(2100,!1)}()}}static#e=this.\u0275fac=function(r){return new(r||t)(b(xi,16),b(boe,24),b(woe,24))};static#t=this.\u0275pipe=qn({name:"date",type:t,pure:!0,standalone:!0})}return t})(),La=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})();const rU="browser";function iU(t){return"server"===t}let Poe=(()=>{class t{static#e=this.\u0275prov=z({token:t,providedIn:"root",factory:()=>new Foe(W(Gt),window)})}return t})();class Foe{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Loe(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class ase extends pie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class RI extends ase{static makeCurrent(){!function fie(t){hI||(hI=t)}(new RI)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function cse(){return Mh=Mh||document.querySelector("base"),Mh?Mh.getAttribute("href"):null}();return null==n?null:function use(t){__=__||document.createElement("a"),__.setAttribute("href",t);const e=__.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Mh=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function toe(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let __,Mh=null,dse=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();const kI=new te("EventManagerPlugins");let uU=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new B(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(W(kI),W(Ee))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();class lU{constructor(e){this._doc=e}}const PI="ng-app-id";let dU=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=iU(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${PI}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(PI),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(PI,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(W(Gt),W(Im),W(bF,8),W(Mo))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();const FI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},LI=/%COMP%/g,gse=new te("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function fU(t,e){return e.map(n=>n.replace(LI,t))}let pU=(()=>{class t{constructor(n,r,i,o,s,a,c,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=iU(a),this.defaultRenderer=new VI(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ii.ShadowDom&&(r={...r,encapsulation:Ii.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof mU?i.applyToHost(n):i instanceof BI&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Ii.Emulated:o=new mU(c,u,r,this.appId,l,s,a,d);break;case Ii.ShadowDom:return new vse(c,u,n,r,s,a,this.nonce,d);default:o=new BI(c,u,r,l,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(W(uU),W(dU),W(Im),W(gse),W(Gt),W(Mo),W(Ee),W(bF))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();class VI{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(FI[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(gU(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(gU(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=FI[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=FI[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Is.DashCase|Is.Important)?e.style.setProperty(n,r,i&Is.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Is.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Ds().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function gU(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class vse extends VI{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=fU(i.id,i.styles);for(const l of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class BI extends VI{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?fU(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class mU extends BI{constructor(e,n,r,i,o,s,a,c){const u=i+"-"+r.id;super(e,n,r,o,s,a,c,u),this.contentAttr=function mse(t){return"_ngcontent-%COMP%".replace(LI,t)}(u),this.hostAttr=function _se(t){return"_nghost-%COMP%".replace(LI,t)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let bse=(()=>{class t extends lU{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(W(Gt))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();const _U=["alt","control","meta","shift"],wse={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ise={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Tse=(()=>{class t extends lU{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ds().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),_U.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=wse[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),_U.forEach(s=>{s!==i&&(0,Ise[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(W(Gt))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();const vU=[{provide:Mo,useValue:rU},{provide:vF,useValue:function Ese(){RI.makeCurrent()},multi:!0},{provide:Gt,useFactory:function Dse(){return function hJ(t){D1=t}(document),document},deps:[]}],Sse=lB(Xre,"browser",vU),Ase=new te(""),bU=[{provide:Xm,useClass:class lse{addToWindow(e){at.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new B(5103,!1);return o},at.getAllAngularTestabilities=()=>e.getAllTestabilities(),at.getAllAngularRootElements=()=>e.getAllRootElements(),at.frameworkStabilizers||(at.frameworkStabilizers=[]),at.frameworkStabilizers.push(r=>{const i=at.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Ds().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:oB,useClass:eI,deps:[Ee,tI,Xm]},{provide:eI,useClass:eI,deps:[Ee,tI,Xm]}],wU=[{provide:k1,useValue:"root"},{provide:Ro,useFactory:function Cse(){return new Ro},deps:[]},{provide:kI,useClass:bse,multi:!0,deps:[Gt,Ee,Mo]},{provide:kI,useClass:Tse,multi:!0,deps:[Gt]},pU,dU,uU,{provide:K1,useExisting:pU},{provide:class Voe{},useClass:dse,deps:[]},[]];let xse=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Im,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(W(Ase,12))};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({providers:[...wU,...bU],imports:[La,eie]})}return t})(),IU=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(W(Gt))};static#t=this.\u0275prov=z({token:t,factory:function(r){let i=null;return i=r?new r:function Ose(){return new IU(W(Gt))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;let CU=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(r){let i=null;return i=r?new(r||t):W(DU),i},providedIn:"root"})}return t})(),DU=(()=>{class t extends CU{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case si.NONE:return r;case si.HTML:return Zi(r,"HTML")?$r(r):uF(this._doc,String(r)).toString();case si.STYLE:return Zi(r,"Style")?$r(r):r;case si.SCRIPT:if(Zi(r,"Script"))return $r(r);throw new B(5200,!1);case si.URL:return Zi(r,"URL")?$r(r):mm(String(r));case si.RESOURCE_URL:if(Zi(r,"ResourceURL"))return $r(r);throw new B(5201,!1);default:throw new B(5202,!1)}}bypassSecurityTrustHtml(n){return function vJ(t){return new fJ(t)}(n)}bypassSecurityTrustStyle(n){return function bJ(t){return new pJ(t)}(n)}bypassSecurityTrustScript(n){return function wJ(t){return new gJ(t)}(n)}bypassSecurityTrustUrl(n){return function IJ(t){return new mJ(t)}(n)}bypassSecurityTrustResourceUrl(n){return function TJ(t){return new _J(t)}(n)}static#e=this.\u0275fac=function(r){return new(r||t)(W(Gt))};static#t=this.\u0275prov=z({token:t,factory:function(r){let i=null;return i=r?new r:function Pse(t){return new DU(t.get(Gt))}(W(Xt)),i},providedIn:"root"})}return t})();const{isArray:Lse}=Array,{getPrototypeOf:Vse,prototype:Bse,keys:Use}=Object;function AU(t){if(1===t.length){const e=t[0];if(Lse(e))return{args:e,keys:null};if(function jse(t){return t&&"object"==typeof t&&Vse(t)===Bse}(e)){const n=Use(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:$se}=Array;function jI(t){return Oe(e=>function Hse(t,e){return $se(e)?t(...e):t(e)}(t,e))}function xU(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function $I(...t){const e=Sd(t),n=Sg(t),{args:r,keys:i}=AU(t);if(0===r.length)return _n([],e);const o=new Be(function Gse(t,e,n=bi){return r=>{NU(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)NU(e,()=>{const u=_n(t[c],e);let l=!1;u.subscribe(st(r,d=>{o[c]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>xU(i,s):bi));return n?o.pipe(jI(n)):o}function NU(t,e,n){t?Co(n,t,e):e()}const y_=ds(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Rh(...t){return function zse(){return tu(1)}()(_n(t,Sd(t)))}function HI(t){return new Be(e=>{sn(t()).subscribe(e)})}function kh(t,e){const n=Ie(t)?t:()=>t,r=i=>i.error(n());return new Be(e?i=>e.schedule(r,0,i):r)}function GI(){return Tt((t,e)=>{let n=null;t._refCount++;const r=st(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class OU extends Be{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Cd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Bt;const n=this.getSubject();e.add(this.source.subscribe(st(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Bt.EMPTY)}return e}refCount(){return GI()(this)}}function vn(t){return t<=0?()=>ni:Tt((e,n)=>{let r=0;e.subscribe(st(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function bn(t,e){return Tt((n,r)=>{let i=0;n.subscribe(st(r,o=>t.call(e,o,i++)&&r.next(o)))})}function v_(t){return Tt((e,n)=>{let r=!1;e.subscribe(st(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function RU(t=qse){return Tt((e,n)=>{let r=!1;e.subscribe(st(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function qse(){return new y_}function Va(t,e){const n=arguments.length>=2;return r=>r.pipe(t?bn((i,o)=>t(i,o,r)):bi,vn(1),n?v_(e):RU(()=>new y_))}function Ph(t,e){return Ie(e)?an(t,e,1):an(t,1)}function dn(t,e,n){const r=Ie(t)||e||n?{next:t,error:e,complete:n}:t;return r?Tt((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(st(o,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),o.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):bi}function Ba(t){return Tt((e,n)=>{let o,r=null,i=!1;r=e.subscribe(st(n,void 0,void 0,s=>{o=sn(t(s,Ba(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function zI(t){return t<=0?()=>ni:Tt((e,n)=>{let r=[];e.subscribe(st(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function qI(t){return Oe(()=>t)}function WI(t){return Tt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function bt(t){return Tt((e,n)=>{sn(t).subscribe(st(n,()=>n.complete(),ga)),!n.closed&&e.subscribe(n)})}const ve="primary",Fh=Symbol("RouteTitle");class Qse{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function tl(t){return new Qse(t)}function Jse(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ro(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!kU(t[i],e[i]))return!1;return!0}function kU(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function PU(t){return t.length>0?t[t.length-1]:null}function As(t){return function Fse(t){return!!t&&(t instanceof Be||Ie(t.lift)&&Ie(t.subscribe))}(t)?t:fh(t)?_n(Promise.resolve(t)):ce(t)}const Xse={exact:function VU(t,e,n){if(!Ua(t.segments,e.segments)||!b_(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!VU(t.children[r],e.children[r],n))return!1;return!0},subset:BU},FU={exact:function eae(t,e){return ro(t,e)},subset:function tae(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>kU(t[n],e[n]))},ignored:()=>!0};function LU(t,e,n){return Xse[n.paths](t.root,e.root,n.matrixParams)&&FU[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function BU(t,e,n){return UU(t,e,e.segments,n)}function UU(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Ua(i,n)||e.hasChildren()||!b_(i,n,r))}if(t.segments.length===n.length){if(!Ua(t.segments,n)||!b_(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!BU(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Ua(t.segments,i)&&b_(t.segments,i,r)&&t.children[ve])&&UU(t.children[ve],e,o,r)}}function b_(t,e,n){return e.every((r,i)=>FU[n](t[i].parameters,r.parameters))}class nl{constructor(e=new tt([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tl(this.queryParams)),this._queryParamMap}toString(){return iae.serialize(this)}}class tt{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return w_(this)}}class Lh{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=tl(this.parameters)),this._parameterMap}toString(){return HU(this)}}function Ua(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Vh=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return new KI},providedIn:"root"})}return t})();class KI{parse(e){const n=new gae(e);return new nl(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Bh(e.root,!0)}`,r=function aae(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${I_(n)}=${I_(i)}`).join("&"):`${I_(n)}=${I_(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function oae(t){return encodeURI(t)}(e.fragment)}`:""}`}}const iae=new KI;function w_(t){return t.segments.map(e=>HU(e)).join("/")}function Bh(t,e){if(!t.hasChildren())return w_(t);if(e){const n=t.children[ve]?Bh(t.children[ve],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ve&&r.push(`${i}:${Bh(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function rae(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ve&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ve&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ve?[Bh(t.children[ve],!1)]:[`${i}:${Bh(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ve]?`${w_(t)}/${n[0]}`:`${w_(t)}/(${n.join("//")})`}}function jU(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function I_(t){return jU(t).replace(/%3B/gi,";")}function YI(t){return jU(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function T_(t){return decodeURIComponent(t)}function $U(t){return T_(t.replace(/\+/g,"%20"))}function HU(t){return`${YI(t.path)}${function sae(t){return Object.keys(t).map(e=>`;${YI(e)}=${YI(t[e])}`).join("")}(t.parameters)}`}const cae=/^[^\/()?;#]+/;function QI(t){const e=t.match(cae);return e?e[0]:""}const uae=/^[^\/()?;=#]+/,dae=/^[^=?&#]+/,fae=/^[^&#]+/;class gae{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tt([],{}):new tt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ve]=new tt(e,n)),r}parseSegment(){const e=QI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new Lh(T_(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function lae(t){const e=t.match(uae);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=QI(this.remaining);i&&(r=i,this.capture(r))}e[T_(n)]=T_(r)}parseQueryParam(e){const n=function hae(t){const e=t.match(dae);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function pae(t){const e=t.match(fae);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=$U(n),o=$U(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=QI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new B(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ve);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[ve]:new tt([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}}function GU(t){return t.segments.length>0?new tt([],{[ve]:t}):t}function zU(t){const e={};for(const r of Object.keys(t.children)){const o=zU(t.children[r]);if(r===ve&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function mae(t){if(1===t.numberOfChildren&&t.children[ve]){const e=t.children[ve];return new tt(t.segments.concat(e.segments),e.children)}return t}(new tt(t.segments,e))}function ja(t){return t instanceof nl}function qU(t){let e;const i=GU(function n(o){const s={};for(const c of o.children){const u=n(c);s[c.outlet]=u}const a=new tt(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function WU(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return JI(i,i,i,n,r);const o=function yae(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new YU(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new YU(n,e,r)}(e);if(o.toRoot())return JI(i,i,new tt([],{}),n,r);const s=function vae(t,e,n){if(t.isAbsolute)return new C_(e,!0,0);if(!n)return new C_(e,!1,NaN);if(null===n.parent)return new C_(n,!0,0);const r=E_(t.commands[0])?0:1;return function bae(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new C_(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?jh(s.segmentGroup,s.index,o.commands):QU(s.segmentGroup,s.index,o.commands);return JI(i,s.segmentGroup,a,n,r)}function E_(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Uh(t){return"object"==typeof t&&null!=t&&t.outlets}function JI(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),s=t===e?n:KU(t,e,n);const a=GU(zU(s));return new nl(a,o,i)}function KU(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:KU(o,e,n)}),new tt(t.segments,r)}class YU{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&E_(r[0]))throw new B(4003,!1);const i=r.find(Uh);if(i&&i!==PU(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class C_{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function QU(t,e,n){if(t||(t=new tt([],{})),0===t.segments.length&&t.hasChildren())return jh(t,e,n);const r=function Iae(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(Uh(a))break;const c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!ZU(c,u,s))return o;r+=2}else{if(!ZU(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new tt(t.segments.slice(0,r.pathIndex),{});return o.children[ve]=new tt(t.segments.slice(r.pathIndex),t.children),jh(o,0,i)}return r.match&&0===i.length?new tt(t.segments,{}):r.match&&!t.hasChildren()?ZI(t,e,n):r.match?jh(t,0,i):ZI(t,e,n)}function jh(t,e,n){if(0===n.length)return new tt(t.segments,{});{const r=function wae(t){return Uh(t[0])?t[0].outlets:{[ve]:t}}(n),i={};if(Object.keys(r).some(o=>o!==ve)&&t.children[ve]&&1===t.numberOfChildren&&0===t.children[ve].segments.length){const o=jh(t.children[ve],e,n);return new tt(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=QU(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new tt(t.segments,i)}}function ZI(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Uh(o)){const c=Tae(o.outlets);return new tt(r,c)}if(0===i&&E_(n[0])){r.push(new Lh(t.segments[e].path,JU(n[0]))),i++;continue}const s=Uh(o)?o.outlets[ve]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&E_(a)?(r.push(new Lh(s,JU(a))),i+=2):(r.push(new Lh(s,{})),i++)}return new tt(r,{})}function Tae(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=ZI(new tt([],{}),0,r))}),e}function JU(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function ZU(t,e,n){return t==n.path&&ro(e,n.parameters)}const $h="imperative";class io{constructor(e,n){this.id=e,this.url=n}}class D_ extends io{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xs extends io{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Hh extends io{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rl extends io{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class S_ extends io{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class XU extends io{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Eae extends io{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cae extends io{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Dae extends io{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sae extends io{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Aae{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xae{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Nae{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oae{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mae{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rae{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class e4{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class XI{}class eT{constructor(e){this.url=e}}class kae{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Gh,this.attachRef=null}}let Gh=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new kae,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class t4{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=tT(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=tT(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=nT(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return nT(e,this._root).map(n=>n.value)}}function tT(t,e){if(t===e.value)return e;for(const n of e.children){const r=tT(t,n);if(r)return r}return null}function nT(t,e){if(t===e.value)return[e];for(const n of e.children){const r=nT(t,n);if(r.length)return r.unshift(e),r}return[]}class Bo{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function il(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class n4 extends t4{constructor(e,n){super(e),this.snapshot=n,rT(this,e)}toString(){return this.snapshot.toString()}}function r4(t,e){const n=function Pae(t,e){const s=new A_([],{},{},"",{},ve,e,null,{});return new o4("",new Bo(s,[]))}(0,e),r=new vr([new Lh("",{})]),i=new vr({}),o=new vr({}),s=new vr({}),a=new vr(""),c=new Uo(r,i,s,a,o,ve,e,n.root);return c.snapshot=n.root,new n4(new Bo(c,[]),n)}class Uo{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Oe(u=>u[Fh]))??ce(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Oe(e=>tl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Oe(e=>tl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function i4(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Fae(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class A_{get title(){return this.data?.[Fh]}constructor(e,n,r,i,o,s,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=tl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class o4 extends t4{constructor(e,n){super(n),this.url=e,rT(this,n)}toString(){return s4(this._root)}}function rT(t,e){e.value._routerState=t,e.children.forEach(n=>rT(t,n))}function s4(t){const e=t.children.length>0?` { ${t.children.map(s4).join(", ")} } `:"";return`${t.value}${e}`}function iT(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ro(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ro(e.params,n.params)||t.paramsSubject.next(n.params),function Zse(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ro(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),ro(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function oT(t,e){const n=ro(t.params,e.params)&&function nae(t,e){return Ua(t,e)&&t.every((n,r)=>ro(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||oT(t.parent,e.parent))}let x_=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ve,this.activateEvents=new R,this.deactivateEvents=new R,this.attachEvents=new R,this.detachEvents=new R,this.parentContexts=K(Gh),this.location=K(li),this.changeDetector=K(Ni),this.environmentInjector=K(Cr),this.inputBinder=K(N_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Lae(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=H({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[kn]})}return t})();class Lae{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Uo?this.route:e===Gh?this.childContexts:this.parent.get(e,n)}}const N_=new te("");let a4=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=$I([r.queryParams,r.params,r.data]).pipe(wi(([o,s,a],c)=>(a={...o,...s,...a},0===c?ce(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function hie(t){const e=Me(t);if(!e)return null;const n=new ah(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();function zh(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Bae(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return zh(t,r,i);return zh(t,r)})}(t,e,n);return new Bo(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>zh(t,a)),s}}const r=function Uae(t){return new Uo(new vr(t.url),new vr(t.params),new vr(t.queryParams),new vr(t.fragment),new vr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>zh(t,o));return new Bo(r,i)}}const sT="ngNavigationCancelingError";function c4(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=ja(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=u4(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function u4(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[sT]=!0,r.cancellationCode=e,n&&(r.url=n),r}function l4(t){return t&&t[sT]}let d4=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ke({type:t,selectors:[["ng-component"]],standalone:!0,features:[Gr],decls:1,vars:0,template:function(r,i){1&r&&F(0,"router-outlet")},dependencies:[x_],encapsulation:2})}return t})();function aT(t){const e=t.children&&t.children.map(aT),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ve&&(n.component=d4),n}function Ri(t){return t.outlet||ve}function qh(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Kae{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),iT(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=il(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=il(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=il(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=il(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Rae(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Oae(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(iT(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),iT(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=qh(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class h4{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class O_{constructor(e,n){this.component=e,this.route=n}}function Yae(t,e,n){const r=t._root;return Wh(r,e?e._root:null,n,[r.value])}function ol(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function NK(t){return null!==Mg(t)}(t)?e.get(t):t:r}function Wh(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=il(e);return t.children.forEach(s=>{(function Jae(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function Zae(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ua(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ua(t.url,e.url)||!ro(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!oT(t,e)||!ro(t.queryParams,e.queryParams);default:return!oT(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new h4(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Wh(t,e,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new O_(a.outlet.component,s))}else s&&Kh(e,a,i),i.canActivateChecks.push(new h4(r)),Wh(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Kh(a,n.getContext(s),i)),i}function Kh(t,e,n){const r=il(t),i=t.value;Object.entries(r).forEach(([o,s])=>{Kh(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new O_(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Yh(t){return"function"==typeof t}function f4(t){return t instanceof y_||"EmptyError"===t?.name}const M_=Symbol("INITIAL_VALUE");function sl(){return wi(t=>$I(t.map(e=>e.pipe(vn(1),function MU(...t){const e=Sd(t);return Tt((n,r)=>{(e?Rh(t,n,e):Rh(t,n)).subscribe(r)})}(M_)))).pipe(Oe(e=>{for(const n of e)if(!0!==n){if(n===M_)return M_;if(!1===n||n instanceof nl)return n}return!0}),bn(e=>e!==M_),vn(1)))}function p4(t){return function bg(...t){return wg(t)}(dn(e=>{if(ja(e))throw c4(0,e)}),Oe(e=>!0===e))}class R_{constructor(e){this.segmentGroup=e||null}}class g4{constructor(e){this.urlTree=e}}function al(t){return kh(new R_(t))}function m4(t){return kh(new g4(t))}class yce{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new B(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ce(r);if(i.numberOfChildren>1||!i.children[ve])return kh(new B(4e3,!1));i=i.children[ve]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new nl(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new tt(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const cT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vce(t,e,n,r,i){const o=uT(t,e,n);return o.matched?(r=function $ae(t,e){return t.providers&&!t._injector&&(t._injector=Pw(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function gce(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?ce(i.map(s=>{const a=ol(s,t);return As(function ice(t){return t&&Yh(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(sl(),p4()):ce(!0)}(r,e,n).pipe(Oe(s=>!0===s?o:{...cT}))):ce(o)}function uT(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...cT}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Jse)(n,t,e);if(!i)return{...cT};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function _4(t,e,n,r){return n.length>0&&function Ice(t,e,n){return n.some(r=>k_(t,e,r)&&Ri(r)!==ve)}(t,n,r)?{segmentGroup:new tt(e,wce(r,new tt(n,t.children))),slicedSegments:[]}:0===n.length&&function Tce(t,e,n){return n.some(r=>k_(t,e,r))}(t,n,r)?{segmentGroup:new tt(t.segments,bce(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new tt(t.segments,t.children),slicedSegments:n}}function bce(t,e,n,r,i){const o={};for(const s of r)if(k_(t,n,s)&&!i[Ri(s)]){const a=new tt([],{});o[Ri(s)]=a}return{...i,...o}}function wce(t,e){const n={};n[ve]=e;for(const r of t)if(""===r.path&&Ri(r)!==ve){const i=new tt([],{});n[Ri(r)]=i}return n}function k_(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Sce{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new yce(this.urlSerializer,this.urlTree)}noMatchError(e){return new B(4002,!1)}recognize(){const e=_4(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ve).pipe(Ba(n=>{if(n instanceof g4)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof R_?this.noMatchError(n):n}),Oe(n=>{const r=new A_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ve,this.rootComponentType,null,{}),i=new Bo(r,n),o=new o4("",i),s=function _ae(t,e,n=null,r=null){return WU(qU(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ve).pipe(Ba(r=>{throw r instanceof R_?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=i4(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return _n(i).pipe(Ph(o=>{const s=r.children[o],a=function qae(t,e){const n=t.filter(r=>Ri(r)===e);return n.push(...t.filter(r=>Ri(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),function Kse(t,e){return Tt(function Wse(t,e,n,r,i){return(o,s)=>{let a=n,c=e,u=0;o.subscribe(st(s,l=>{const d=u++;c=a?t(c,l,d):(a=!0,l),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(t,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),v_(null),function Yse(t,e){const n=arguments.length>=2;return r=>r.pipe(t?bn((i,o)=>t(i,o,r)):bi,zI(1),n?v_(e):RU(()=>new y_))}(),an(o=>{if(null===o)return al(r);const s=y4(o);return function Ace(t){t.sort((e,n)=>e.value.outlet===ve?-1:n.value.outlet===ve?1:e.value.outlet.localeCompare(n.value.outlet))}(s),ce(s)}))}processSegment(e,n,r,i,o,s){return _n(n).pipe(Ph(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Ba(c=>{if(c instanceof R_)return ce(null);throw c}))),Va(a=>!!a),Ba(a=>{if(f4(a))return function Cce(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?ce([]):al(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function Ece(t,e,n,r){return!!(Ri(t)===r||r!==ve&&k_(e,n,t))&&("**"===t.path||uT(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):al(i):al(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?m4(o):this.applyRedirects.lineralizeSegments(r,o).pipe(an(s=>{const a=new tt(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:l}=uT(n,i,o);if(!a)return al(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return i.redirectTo.startsWith("/")?m4(d):this.applyRedirects.lineralizeSegments(i,d).pipe(an(h=>this.processSegment(e,r,n,h.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?PU(i).parameters:{};a=ce({snapshot:new A_(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,v4(r),Ri(r),r.component??r._loadedComponent??null,r,b4(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=vce(n,r,i,e).pipe(Oe(({matched:c,consumedSegments:u,remainingSegments:l,parameters:d})=>c?{snapshot:new A_(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,v4(r),Ri(r),r.component??r._loadedComponent??null,r,b4(r)),consumedSegments:u,remainingSegments:l}:null));return a.pipe(wi(c=>null===c?al(n):this.getChildConfig(e=r._injector??e,r,i).pipe(wi(({routes:u})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=c,{segmentGroup:g,slicedSegments:y}=_4(n,h,f,u);if(0===y.length&&g.hasChildren())return this.processChildren(l,u,g).pipe(Oe(I=>null===I?null:[new Bo(d,I)]));if(0===u.length&&0===y.length)return ce([new Bo(d,[])]);const v=Ri(r)===o;return this.processSegment(l,u,g,y,v?ve:o,!0).pipe(Oe(I=>[new Bo(d,I)]))}))))}getChildConfig(e,n,r){return n.children?ce({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?ce({routes:n._loadedRoutes,injector:n._loadedInjector}):function pce(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?ce(!0):ce(i.map(s=>{const a=ol(s,t);return As(function ece(t){return t&&Yh(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(sl(),p4())}(e,n,r).pipe(an(i=>i?this.configLoader.loadChildren(e,n).pipe(dn(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function _ce(t){return kh(u4(!1,3))}())):ce({routes:[],injector:e})}}function xce(t){const e=t.value.routeConfig;return e&&""===e.path}function y4(t){const e=[],n=new Set;for(const r of t){if(!xce(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=y4(r.children);e.push(new Bo(r.value,i))}return e.filter(r=>!n.has(r))}function v4(t){return t.data||{}}function b4(t){return t.resolve||{}}function w4(t){return"string"==typeof t.title||null===t.title}function lT(t){return wi(e=>{const n=t(e);return n?_n(n).pipe(Oe(()=>e)):ce(e)})}const cl=new te("ROUTES");let dT=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=K(tB)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ce(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=As(n.loadComponent()).pipe(Oe(I4),dn(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),WI(()=>{this.componentLoaders.delete(n)})),i=new OU(r,()=>new Fe).pipe(GI());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ce({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function Fce(t,e,n,r){return As(t.loadChildren()).pipe(Oe(I4),an(i=>i instanceof uV||Array.isArray(i)?ce(i):_n(e.compileModuleAsync(i))),Oe(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(cl,[],{optional:!0,self:!0}).flat()),{routes:s.map(aT),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(WI(()=>{this.childrenLoaders.delete(r)})),s=new OU(o,()=>new Fe).pipe(GI());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function I4(t){return function Lce(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let P_=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Fe,this.transitionAbortSubject=new Fe,this.configLoader=K(dT),this.environmentInjector=K(Cr),this.urlSerializer=K(Vh),this.rootContexts=K(Gh),this.inputBindingEnabled=null!==K(N_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ce(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new xae(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Aae(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new vr({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:$h,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(bn(o=>0!==o.id),Oe(o=>({...o,extractedUrl:n.urlHandlingStrategy.extract(o.rawUrl)})),wi(o=>{this.currentTransition=o;let s=!1,a=!1;return ce(o).pipe(dn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),wi(c=>{const u=c.currentBrowserUrl.toString(),l=!n.navigated||c.extractedUrl.toString()!==u||u!==c.currentUrlTree.toString();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new rl(c.id,this.urlSerializer.serialize(c.rawUrl),h,0)),c.resolve(null),ni}if(n.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ce(c).pipe(wi(h=>{const f=this.transitions?.getValue();return this.events.next(new D_(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?ni:Promise.resolve(h)}),function Nce(t,e,n,r,i,o){return an(s=>function Dce(t,e,n,r,i,o,s="emptyOnly"){return new Sce(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(Oe(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),dn(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new XU(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:h,extractedUrl:f,source:g,restoredState:y,extras:v}=c,I=new D_(h,this.urlSerializer.serialize(f),g,y);this.events.next(I);const w=r4(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:w,urlAfterRedirects:f,extras:{...v,skipLocationChange:!1,replaceUrl:!1}},ce(o)}{const h="";return this.events.next(new rl(c.id,this.urlSerializer.serialize(c.extractedUrl),h,1)),c.resolve(null),ni}}),dn(c=>{const u=new Eae(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Oe(c=>(this.currentTransition=o={...c,guards:Yae(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function sce(t,e){return an(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?ce({...n,guardsResult:!0}):function ace(t,e,n,r){return _n(t).pipe(an(i=>function fce(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?ce(o.map(a=>{const c=qh(e)??i,u=ol(a,c);return As(function rce(t){return t&&Yh(t.canDeactivate)}(u)?u.canDeactivate(t,e,n,r):c.runInContext(()=>u(t,e,n,r))).pipe(Va())})).pipe(sl()):ce(!0)}(i.component,i.route,n,e,r)),Va(i=>!0!==i,!0))}(s,r,i,t).pipe(an(a=>a&&function Xae(t){return"boolean"==typeof t}(a)?function cce(t,e,n,r){return _n(e).pipe(Ph(i=>Rh(function lce(t,e){return null!==t&&e&&e(new Nae(t)),ce(!0)}(i.route.parent,r),function uce(t,e){return null!==t&&e&&e(new Mae(t)),ce(!0)}(i.route,r),function hce(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Qae(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>HI(()=>ce(s.guards.map(c=>{const u=qh(s.node)??n,l=ol(c,u);return As(function nce(t){return t&&Yh(t.canActivateChild)}(l)?l.canActivateChild(r,t):u.runInContext(()=>l(r,t))).pipe(Va())})).pipe(sl())));return ce(o).pipe(sl())}(t,i.path,n),function dce(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ce(!0);const i=r.map(o=>HI(()=>{const s=qh(e)??n,a=ol(o,s);return As(function tce(t){return t&&Yh(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(Va())}));return ce(i).pipe(sl())}(t,i.route,n))),Va(i=>!0!==i,!0))}(r,o,t,e):ce(a)),Oe(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),dn(c=>{if(o.guardsResult=c.guardsResult,ja(c.guardsResult))throw c4(0,c.guardsResult);const u=new Cae(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),bn(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),lT(c=>{if(c.guards.canActivateChecks.length)return ce(c).pipe(dn(u=>{const l=new Dae(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),wi(u=>{let l=!1;return ce(u).pipe(function Oce(t,e){return an(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ce(n);let o=0;return _n(i).pipe(Ph(s=>function Mce(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!w4(i)&&(o[Fh]=i.title),function Rce(t,e,n,r){const i=function kce(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return ce({});const o={};return _n(i).pipe(an(s=>function Pce(t,e,n,r){const i=qh(e)??r,o=ol(t,i);return As(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(Va(),dn(a=>{o[s]=a}))),zI(1),qI(o),Ba(s=>f4(s)?ni:kh(s)))}(o,t,e,r).pipe(Oe(s=>(t._resolvedData=s,t.data=i4(t,n).resolve,i&&w4(i)&&(t.data[Fh]=i.title),null)))}(s.route,r,t,e)),dn(()=>o++),zI(1),an(s=>o===i.length?ce(n):ni))})}(n.paramsInheritanceStrategy,this.environmentInjector),dn({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(u,"",2)}}))}),dn(u=>{const l=new Sae(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}))}),lT(c=>{const u=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(dn(h=>{l.component=h}),Oe(()=>{})));for(const h of l.children)d.push(...u(h));return d};return $I(u(c.targetSnapshot.root)).pipe(v_(),vn(1))}),lT(()=>this.afterPreactivation()),Oe(c=>{const u=function Vae(t,e,n){const r=zh(t,e._root,n?n._root:void 0);return new n4(r,e)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:u},o}),dn(()=>{this.events.next(new XI)}),((t,e,n,r)=>Oe(i=>(new Kae(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),vn(1),dn({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xs(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),n.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),bt(this.transitionAbortSubject.pipe(dn(c=>{throw c}))),WI(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Ba(c=>{if(a=!0,l4(c))this.events.next(new Hh(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function jae(t){return l4(t)&&ja(t.url)}(c)?this.events.next(new eT(c.url)):o.resolve(!1);else{this.events.next(new S_(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(c))}catch(u){o.reject(u)}}return ni}))}))}cancelNavigationTransition(n,r,i){const o=new Hh(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function T4(t){return t!==$h}let E4=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ve);return r}getResolvedTitleForRoute(n){return n.data[Fh]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return K(Vce)},providedIn:"root"})}return t})(),Vce=(()=>{class t extends E4{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(W(IU))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Bce=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return K(jce)},providedIn:"root"})}return t})();class Uce{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let jce=(()=>{class t extends Uce{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Ht(t)))(i||t)}}();static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const F_=new te("",{providedIn:"root",factory:()=>({})});let $ce=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return K(Hce)},providedIn:"root"})}return t})(),Hce=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Qh=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Qh||{});function C4(t,e){t.events.pipe(bn(n=>n instanceof xs||n instanceof Hh||n instanceof S_||n instanceof rl),Oe(n=>n instanceof xs||n instanceof rl?Qh.COMPLETE:n instanceof Hh&&(0===n.code||1===n.code)?Qh.REDIRECTING:Qh.FAILED),bn(n=>n!==Qh.REDIRECTING),vn(1)).subscribe(()=>{e()})}function Gce(t){throw t}function zce(t,e,n){return e.parse("/")}const qce={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Wce={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let wn=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=K(XV),this.isNgZoneEnabled=!1,this._events=new Fe,this.options=K(F_,{optional:!0})||{},this.pendingTasks=K(eB),this.errorHandler=this.options.errorHandler||Gce,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||zce,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=K($ce),this.routeReuseStrategy=K(Bce),this.titleStrategy=K(E4),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=K(cl,{optional:!0})?.flat()??[],this.navigationTransitions=K(P_),this.urlSerializer=K(Vh),this.location=K(gI),this.componentInputBindingEnabled=!!K(N_,{optional:!0}),this.eventsSubscription=new Bt,this.isNgZoneEnabled=K(Ee)instanceof Ee&&Ee.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new nl,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=r4(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(D4(r)&&this._events.next(r));if(r instanceof D_)T4(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof rl)this.rawUrlTree=i.rawUrl;else if(r instanceof XU){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof XI)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Hh)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof eT){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||T4(i.source)};this.scheduleNavigation(o,$h,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof S_&&this.restoreHistory(i,!0),r instanceof xs&&(this.navigated=!0),D4(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),$h,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(aT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...o};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}null!==l&&(l=this.removeEmptyProps(l));try{d=qU(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return WU(d,n,l,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ja(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,$h,null,r)}navigate(n,r={skipLocationChange:!1}){return function Kce(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new B(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...qce}:!1===r?{...Wce}:r,ja(n))return LU(this.currentUrlTree,n,i);const o=this.parseUrl(n);return LU(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((d,h)=>{a=d,c=h});const l=this.pendingTasks.add();return C4(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function D4(t){return!(t instanceof XI||t instanceof eT)}let ki=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Fe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof xs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function lF(t,e,n){return function VJ(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?ym:Da}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(b(wn),b(Uo),function Ta(t){return function eQ(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(iP(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(Pn(),t)}("tabindex"),b(Dr),b(je),b(Fa))};static#t=this.\u0275dir=H({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&oe("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Ye("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Zu],skipLocationChange:["skipLocationChange","skipLocationChange",Zu],replaceUrl:["replaceUrl","replaceUrl",Zu],routerLink:"routerLink"},standalone:!0,features:[EL,kn]})}return t})();class S4{}let Jce=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(bn(n=>n instanceof xs),Ph(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Pw(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return _n(i).pipe(tu())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):ce(null);const o=i.pipe(an(s=>null===s?ce(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?_n([o,this.loader.loadComponent(r)]).pipe(tu()):o})}static#e=this.\u0275fac=function(r){return new(r||t)(W(wn),W(tB),W(Cr),W(S4),W(dT))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const hT=new te("");let A4=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof D_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof xs?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof rl&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof e4&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new e4(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function JF(){throw new Error("invalid")}()};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();function jo(t,e){return{\u0275kind:t,\u0275providers:e}}function N4(){const t=K(Xt);return e=>{const n=t.get(Cs);if(e!==n.components[0])return;const r=t.get(wn),i=t.get(O4);1===t.get(fT)&&r.initialNavigation(),t.get(M4,null,De.Optional)?.setUpPreloading(),t.get(hT,null,De.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const O4=new te("",{factory:()=>new Fe}),fT=new te("",{providedIn:"root",factory:()=>1}),M4=new te("");function tue(t){return jo(0,[{provide:M4,useExisting:Jce},{provide:S4,useExisting:t}])}const R4=new te("ROUTER_FORROOT_GUARD"),rue=[gI,{provide:Vh,useClass:KI},wn,Gh,{provide:Uo,useFactory:function x4(t){return t.routerState.root},deps:[wn]},dT,[]];function iue(){return new cB("Router",wn)}let ul=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[rue,[],{provide:cl,multi:!0,useValue:n},{provide:R4,useFactory:cue,deps:[[wn,new Tr,new tm]]},{provide:F_,useValue:r||{}},r?.useHash?{provide:Fa,useClass:_ie}:{provide:Fa,useClass:VB},{provide:hT,useFactory:()=>{const t=K(Poe),e=K(Ee),n=K(F_),r=K(P_),i=K(Vh);return n.scrollOffset&&t.setOffset(n.scrollOffset),new A4(i,r,t,e,n)}},r?.preloadingStrategy?tue(r.preloadingStrategy).\u0275providers:[],{provide:cB,multi:!0,useFactory:iue},r?.initialNavigation?uue(r):[],r?.bindToComponentInputs?jo(8,[a4,{provide:N_,useExisting:a4}]).\u0275providers:[],[{provide:k4,useFactory:N4},{provide:iI,multi:!0,useExisting:k4}]]}}static forChild(n){return{ngModule:t,providers:[{provide:cl,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(W(R4,8))};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})();function cue(t){return"guarded"}function uue(t){return["disabled"===t.initialNavigation?jo(3,[{provide:Qw,multi:!0,useFactory:()=>{const e=K(wn);return()=>{e.setUpLocationChangeListener()}}},{provide:fT,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?jo(2,[{provide:fT,useValue:0},{provide:Qw,multi:!0,deps:[Xt],useFactory:e=>{const n=e.get(gie,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(wn),o=e.get(O4);C4(i,()=>{r(!0)}),e.get(P_).afterPreactivation=()=>(r(!0),o.closed?ce(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const k4=new te("");function P4(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(u){return void n(u)}a.done?e(c):Promise.resolve(c).then(r,i)}function p(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(c){P4(o,r,i,s,a,"next",c)}function a(c){P4(o,r,i,s,a,"throw",c)}s(void 0)})}}let F4=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(Dr),b(je))};static#t=this.\u0275dir=H({type:t})}return t})(),$a=(()=>{class t extends F4{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Ht(t)))(i||t)}}();static#t=this.\u0275dir=H({type:t,features:[Ge]})}return t})();const Wr=new te("NgValueAccessor"),fue={provide:Wr,useExisting:Ce(()=>Ns),multi:!0},gue=new te("CompositionEventMode");let Ns=(()=>{class t extends F4{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function pue(){const t=Ds()?Ds().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(Dr),b(je),b(gue,8))};static#t=this.\u0275dir=H({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&oe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[it([fue]),Ge]})}return t})();function Os(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function V4(t){return null!=t&&"number"==typeof t.length}const Fn=new te("NgValidators"),Ms=new te("NgAsyncValidators"),mue=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class He{static min(e){return function B4(t){return e=>{if(Os(e.value)||Os(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function U4(t){return e=>{if(Os(e.value)||Os(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function j4(t){return Os(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function $4(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function H4(t){return Os(t.value)||mue.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function G4(t){return e=>Os(e.value)||!V4(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function z4(t){return e=>V4(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function q4(t){if(!t)return L_;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Os(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Z4(e)}static composeAsync(e){return X4(e)}}function L_(t){return null}function W4(t){return null!=t}function K4(t){return fh(t)?_n(t):t}function Y4(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function Q4(t,e){return e.map(n=>n(t))}function J4(t){return t.map(e=>function _ue(t){return!t.validate}(e)?e:n=>e.validate(n))}function Z4(t){if(!t)return null;const e=t.filter(W4);return 0==e.length?null:function(n){return Y4(Q4(n,e))}}function pT(t){return null!=t?Z4(J4(t)):null}function X4(t){if(!t)return null;const e=t.filter(W4);return 0==e.length?null:function(n){return function due(...t){const e=Sg(t),{args:n,keys:r}=AU(t),i=new Be(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let c=s,u=s;for(let l=0;l<s;l++){let d=!1;sn(n[l]).subscribe(st(o,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||o.next(r?xU(r,a):a),o.complete())}))}});return e?i.pipe(jI(e)):i}(Q4(n,e).map(K4)).pipe(Oe(Y4))}}function gT(t){return null!=t?X4(J4(t)):null}function ej(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function tj(t){return t._rawValidators}function nj(t){return t._rawAsyncValidators}function mT(t){return t?Array.isArray(t)?t:[t]:[]}function V_(t,e){return Array.isArray(t)?t.includes(e):t===e}function rj(t,e){const n=mT(e);return mT(t).forEach(i=>{V_(n,i)||n.push(i)}),n}function ij(t,e){return mT(e).filter(n=>!V_(t,n))}class oj{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=pT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=gT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class lr extends oj{get formDirective(){return null}get path(){return null}}class Rs extends oj{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class sj{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ll=(()=>{class t extends sj{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(Rs,2))};static#t=this.\u0275dir=H({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&$e("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ge]})}return t})(),dl=(()=>{class t extends sj{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(lr,10))};static#t=this.\u0275dir=H({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&$e("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ge]})}return t})();const Jh="VALID",U_="INVALID",hl="PENDING",Zh="DISABLED";function vT(t){return(j_(t)?t.validators:t)||null}function bT(t,e){return(j_(e)?e.asyncValidators:t)||null}function j_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function cj(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new B(1e3,"");if(!r[n])throw new B(1001,"")}function uj(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new B(1002,"")})}class $_{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Jh}get invalid(){return this.status===U_}get pending(){return this.status==hl}get disabled(){return this.status===Zh}get enabled(){return this.status!==Zh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(rj(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(rj(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ij(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ij(e,this._rawAsyncValidators))}hasValidator(e){return V_(this._rawValidators,e)}hasAsyncValidator(e){return V_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=hl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Zh,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Jh,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jh||this.status===hl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zh:Jh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=hl,this._hasOwnPendingAsyncValidator=!0;const n=K4(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new R,this.statusChanges=new R}_calculateStatus(){return this._allControlsDisabled()?Zh:this.errors?U_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hl)?hl:this._anyControlsHaveStatus(U_)?U_:Jh}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){j_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function wue(t){return Array.isArray(t)?pT(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Iue(t){return Array.isArray(t)?gT(t):t||null}(this._rawAsyncValidators)}}class Xh extends $_{constructor(e,n,r){super(vT(n),bT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){uj(this,0,e),Object.keys(e).forEach(r=>{cj(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class lj extends Xh{}const Ha=new te("CallSetDisabledState",{providedIn:"root",factory:()=>ef}),ef="always";function H_(t,e){return[...e.path,t]}function tf(t,e,n=ef){wT(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Eue(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&dj(t,e)})}(t,e),function Due(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Cue(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&dj(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Tue(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function G_(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),q_(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function z_(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function wT(t,e){const n=tj(t);null!==e.validator?t.setValidators(ej(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=nj(t);null!==e.asyncValidator?t.setAsyncValidators(ej(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();z_(e._rawValidators,i),z_(e._rawAsyncValidators,i)}function q_(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=tj(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(null!==e.asyncValidator){const i=nj(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}const r=()=>{};return z_(e._rawValidators,r),z_(e._rawAsyncValidators,r),n}function dj(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function pj(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function gj(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const rf=class extends $_{constructor(e=null,n,r){super(vT(n),bT(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),j_(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=gj(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){pj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){pj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){gj(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let mj=(()=>{class t extends lr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return H_(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Ht(t)))(i||t)}}();static#t=this.\u0275dir=H({type:t,features:[Ge]})}return t})(),fl=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=H({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})();const Pue={provide:Wr,useExisting:Ce(()=>W_),multi:!0};let W_=(()=>{class t extends $a{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Ht(t)))(i||t)}}();static#t=this.\u0275dir=H({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&oe("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[it([Pue]),Ge]})}return t})(),bj=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})();const DT=new te("NgModelWithFormControlWarning"),Uue={provide:lr,useExisting:Ce(()=>ks)};let ks=(()=>{class t extends lr{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new R,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(q_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return tf(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){G_(n.control||null,n,!1),function Nue(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function fj(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(G_(r||null,n),(t=>t instanceof rf)(i)&&(tf(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function hj(t,e){wT(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function Sue(t,e){return q_(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){wT(this.form,this),this._oldForm&&q_(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(b(Fn,10),b(Ms,10),b(Ha,8))};static#t=this.\u0275dir=H({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&oe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[it([Uue]),Ge,kn]})}return t})();const jue={provide:lr,useExisting:Ce(()=>sf)};let sf=(()=>{class t extends mj{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){Ej(this._parent)}static#e=this.\u0275fac=function(r){return new(r||t)(b(lr,13),b(Fn,10),b(Ms,10))};static#t=this.\u0275dir=H({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[it([jue]),Ge]})}return t})();const $ue={provide:lr,useExisting:Ce(()=>af)};let af=(()=>{class t extends lr{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return H_(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Ej(this._parent)}static#e=this.\u0275fac=function(r){return new(r||t)(b(lr,13),b(Fn,10),b(Ms,10))};static#t=this.\u0275dir=H({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[it([$ue]),Ge]})}return t})();function Ej(t){return!(t instanceof sf||t instanceof ks||t instanceof af)}const Hue={provide:Rs,useExisting:Ce(()=>Ga)};let Ga=(()=>{class t extends Rs{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new R,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function ET(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Ns?n=o:function xue(t){return Object.getPrototypeOf(t.constructor)===$a}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){this._added||this._setUpControl(),function TT(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return H_(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||t)(b(lr,13),b(Fn,10),b(Ms,10),b(Wr,10),b(DT,8))};static#n=this.\u0275dir=H({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[it([Hue]),Ge,kn]})}return t})();const Gue={provide:Wr,useExisting:Ce(()=>cf),multi:!0};function Cj(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let cf=(()=>{class t extends $a{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=Cj(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function zue(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Ht(t)))(i||t)}}();static#t=this.\u0275dir=H({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&oe("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[it([Gue]),Ge]})}return t})(),ST=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(Cj(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(b(je),b(Dr),b(cf,9))};static#t=this.\u0275dir=H({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})();const que={provide:Wr,useExisting:Ce(()=>AT),multi:!0};function Dj(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let AT=(()=>{class t extends $a{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const u=this._getOptionValue(s[a].value);i.push(u)}}else{const s=r.options;for(let a=0;a<s.length;a++){const c=s[a];if(c.selected){const u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function Wue(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Ht(t)))(i||t)}}();static#t=this.\u0275dir=H({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&oe("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[it([que]),Ge]})}return t})(),xT=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(Dj(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(Dj(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(b(je),b(Dr),b(AT,9))};static#t=this.\u0275dir=H({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})(),Fj=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({imports:[bj]})}return t})();class Lj extends $_{constructor(e,n,r){super(vT(n),bT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){uj(this,0,e),e.forEach((r,i)=>{cj(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Vj(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let uf=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let o={};return Vj(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Xh(i,o)}record(n,r=null){const i=this._reduceControls(n);return new lj(i,r)}control(n,r,i){let o={};return this.useNonNullable?(Vj(r)?o=r:(o.validators=r,o.asyncValidators=i),new rf(n,{...o,nonNullable:!0})):new rf(n,r,i)}array(n,r,i){const o=n.map(s=>this._createControl(s));return new Lj(o,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof rf||n instanceof $_?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),K_=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Ha,useValue:n.callSetDisabledState??ef}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({imports:[Fj]})}return t})(),OT=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:DT,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Ha,useValue:n.callSetDisabledState??ef}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({imports:[Fj]})}return t})();const Bj=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Uj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;c||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Bj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==d)throw new ole;r.push(o<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ole extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Y_=function(t){return function(t){const e=Bj(t);return Uj.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Q_=function(t){try{return Uj.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},J_=()=>{try{return function cle(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Q_(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},Hj=()=>{var t;return null===(t=J_())||void 0===t?void 0:t.config},Gj=t=>{var e;return null===(e=J_())||void 0===e?void 0:e[`_${t}`]};class zj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function In(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class Ps extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lf.prototype.create)}}class lf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function ble(t,e){return t.replace(wle,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Ps(i,`${this.serviceName}: ${s} (${i}).`,r)}}const wle=/\{\$([^}]+)}/g;function X_(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Wj(o)&&Wj(s)){if(!X_(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Wj(t){return null!==t&&"object"==typeof t}function ey(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function df(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function hf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class Ele{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Cle(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=RT),void 0===i.error&&(i.error=RT),void 0===i.complete&&(i.complete=RT);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RT(){}function Fs(t){return t&&t._delegate?t._delegate:t}class pl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qa="[DEFAULT]";class Ole{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Rle(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:qa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return p(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=qa){return this.instances.has(e)}getOptions(e=qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===qa?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=qa){return this.component?this.component.multipleInstances?e:qa:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class kle{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ole(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const PT=[];var xe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(xe||{});const Kj={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},Ple=xe.INFO,Fle={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},Lle=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Fle[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ls{constructor(e){this.name=e,this._logLevel=Ple,this._logHandler=Lle,this._userLogHandler=null,PT.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Kj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const Vle=(t,e)=>e.some(n=>t instanceof n);let Yj,Qj;const Jj=new WeakMap,FT=new WeakMap,Zj=new WeakMap,LT=new WeakMap,VT=new WeakMap;let BT={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return FT.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Zj.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function zle(t){return"function"==typeof t?function Gle(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ule(){return Qj||(Qj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(UT(this),e),Vs(Jj.get(this))}:function(...e){return Vs(t.apply(UT(this),e))}:function(e,...n){const r=t.call(UT(this),e,...n);return Zj.set(r,e.sort?e.sort():[e]),Vs(r)}}(t):(t instanceof IDBTransaction&&function $le(t){if(FT.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});FT.set(t,e)}(t),Vle(t,function Ble(){return Yj||(Yj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,BT):t)}function Vs(t){if(t instanceof IDBRequest)return function jle(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Vs(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Jj.set(n,t)}).catch(()=>{}),VT.set(e,t),e}(t);if(LT.has(t))return LT.get(t);const e=zle(t);return e!==t&&(LT.set(t,e),VT.set(e,t)),e}const UT=t=>VT.get(t);function Xj(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Vs(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Vs(s.result),c.oldVersion,c.newVersion,Vs(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const qle=["get","getKey","getAll","getAllKeys","count"],Wle=["put","add","delete","clear"],jT=new Map;function e5(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(jT.get(e))return jT.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Wle.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!qle.includes(n))return;const o=function(){var s=p(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return s.apply(this,arguments)}}();return jT.set(e,o),o}!function Hle(t){BT=t(BT)}(t=>({...t,get:(e,n,r)=>e5(e,n)||t.get(e,n,r),has:(e,n)=>!!e5(e,n)||t.has(e,n)}));class Kle{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Yle(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const $T="@firebase/app",Wa=new Ls("@firebase/app"),ty="[DEFAULT]",wde={[$T]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ka=new Map,ny=new Map;function Ide(t,e){try{t.container.addComponent(e)}catch(n){Wa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ff(t){const e=t.name;if(ny.has(e))return Wa.debug(`There were multiple attempts to register component ${e}.`),!1;ny.set(e,t);for(const n of Ka.values())Ide(n,t);return!0}function HT(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const $o=new lf("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ede{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $o.create("app-deleted",{appName:this._name})}}const pf="10.8.1";function n5(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:ty,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw $o.create("bad-app-name",{appName:String(i)});if(n||(n=Hj()),!n)throw $o.create("no-options");const o=Ka.get(i);if(o){if(X_(n,o.options)&&X_(r,o.config))return o;throw $o.create("duplicate-app",{appName:i})}const s=new kle(i);for(const c of ny.values())s.addComponent(c);const a=new Ede(n,r,s);return Ka.set(i,a),a}function gl(t,e,n){var r;let i=null!==(r=wde[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Wa.warn(a.join(" "))}ff(new pl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Dde="firebase-heartbeat-database",Sde=1,gf="firebase-heartbeat-store";let zT=null;function r5(){return zT||(zT=Xj(Dde,Sde,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(gf)}catch(n){console.warn(n)}}}).catch(t=>{throw $o.create("idb-open",{originalErrorMessage:t.message})})),zT}function qT(){return(qT=p(function*(t){try{const n=(yield r5()).transaction(gf),r=yield n.objectStore(gf).get(o5(t));return yield n.done,r}catch(e){if(e instanceof Ps)Wa.warn(e.message);else{const n=$o.create("idb-get",{originalErrorMessage:e?.message});Wa.warn(n.message)}}})).apply(this,arguments)}function i5(t,e){return WT.apply(this,arguments)}function WT(){return(WT=p(function*(t,e){try{const r=(yield r5()).transaction(gf,"readwrite");yield r.objectStore(gf).put(e,o5(t)),yield r.done}catch(n){if(n instanceof Ps)Wa.warn(n.message);else{const r=$o.create("idb-set",{originalErrorMessage:n?.message});Wa.warn(r.message)}}})).apply(this,arguments)}function o5(t){return`${t.name}!${t.options.appId}`}class Ode{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Rde(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return p(function*(){var n,r;const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=s5();if((null!=(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==s&&!e._heartbeatsCache.heartbeats.some(a=>a.date===s))return e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return p(function*(){var n;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=s5(),{heartbeatsToSend:i,unsentEntries:o}=function Mde(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),a5(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),a5(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Y_(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function s5(){return(new Date).toISOString().substring(0,10)}class Rde{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(function*(){return!!function _le(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function yle(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return p(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function Ade(t){return qT.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var n=this;return p(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return i5(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return p(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return i5(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function a5(t){return Y_(JSON.stringify({version:2,heartbeats:t})).length}!function kde(t){ff(new pl("platform-logger",e=>new Kle(e),"PRIVATE")),ff(new pl("heartbeat",e=>new Ode(e),"PRIVATE")),gl($T,"0.9.28",t),gl($T,"0.9.28","esm2017"),gl("fire-js","")}("");const Pde=function c5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},u5=new lf("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ry=new Ls("@firebase/auth");function iy(t,...e){ry.logLevel<=xe.ERROR&&ry.error(`Auth (${pf}): ${t}`,...e)}function xr(t,...e){throw KT(t,...e)}function oo(t,...e){return KT(t,...e)}function KT(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return u5.create(t,...e)}function G(t,e,...n){if(!t)throw KT(e,...n)}function so(t){const e="INTERNAL ASSERTION FAILED: "+t;throw iy(e),new Error(e)}function Bs(t,e){t||so(e)}function mf(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function d5(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function Lde(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function YT(){return"http:"===d5()||"https:"===d5()}()||function ple(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class _f{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bs(n>e,"Short delay should be less than long delay!"),this.isMobile=function hle(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}()||function gle(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return Lde()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function QT(t,e){Bs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class h5{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void so("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void so("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void so("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Bde={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ude=new _f(3e4,6e4);function ht(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ft(t,e,n,r){return JT.apply(this,arguments)}function JT(){return(JT=p(function*(t,e,n,r,i={}){return f5(t,i,p(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=ey(Object.assign({key:t.config.apiKey},s)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),h5.fetch()(p5(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function f5(t,e,n){return ZT.apply(this,arguments)}function ZT(){return(ZT=p(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Bde),e);try{const i=new $de(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw yf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw yf(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw yf(t,"email-already-in-use",s);if("USER_DISABLED"===c)throw yf(t,"user-disabled",s);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw function l5(t,e,n){const r=Object.assign(Object.assign({},Pde()),{[e]:n});return new lf("auth","Firebase",r).create(e,{appName:t.name})}(t,l,u);xr(t,l)}}catch(i){if(i instanceof Ps)throw i;xr(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Ho(t,e,n,r){return XT.apply(this,arguments)}function XT(){return(XT=p(function*(t,e,n,r,i={}){const o=yield ft(t,e,n,r,i);return"mfaPendingCredential"in o&&xr(t,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function p5(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?QT(t.config,i):`${t.config.apiScheme}://${i}`}function jde(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $de{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(oo(this.auth,"network-request-failed")),Ude.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=oo(t,e,r);return i.customData._tokenResponse=n,i}function m5(t){return void 0!==t&&void 0!==t.enterprise}class _5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return jde(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function y5(t,e){return tE.apply(this,arguments)}function tE(){return(tE=p(function*(t,e){return ft(t,"GET","/v2/recaptchaConfig",ht(t,e))})).apply(this,arguments)}function nE(){return(nE=p(function*(t,e){return ft(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function iE(){return(iE=p(function*(t,e){return ft(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function vf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function oE(){return(oE=p(function*(t,e=!1){const n=Fs(t),r=yield n.getIdToken(e),i=oy(r);G(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:vf(sE(i.auth_time)),issuedAtTime:vf(sE(i.iat)),expirationTime:vf(sE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function sE(t){return 1e3*Number(t)}function oy(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return iy("JWT malformed, contained fewer than 3 sections"),null;try{const i=Q_(n);return i?JSON.parse(i):(iy("Failed to decode base64 JWT payload"),null)}catch(i){return iy("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Go(t,e){return aE.apply(this,arguments)}function aE(){return(aE=p(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Ps&&function Yde({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Qde{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(p(function*(){yield n.iteration()}),r)}iteration(){var e=this;return p(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class v5{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vf(this.lastLoginAt),this.creationTime=vf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function bf(t){return cE.apply(this,arguments)}function cE(){return cE=p(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Go(t,function qde(t,e){return iE.apply(this,arguments)}(n,{idToken:r}));G(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function Xde(t){return t.map(e=>{var{providerId:n}=e,r=Xc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function Zde(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),l=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new v5(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),cE.apply(this,arguments)}function uE(){return(uE=p(function*(t){const e=Fs(t);yield bf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function lE(){return(lE=p(function*(t,e){const n=yield f5(t,{},p(function*(){const r=ey({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=p5(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",h5.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}function dE(){return(dE=p(function*(t,e){return ft(t,"POST","/v2/accounts:revokeToken",ht(t,e))})).apply(this,arguments)}class wf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Kde(t){const e=oy(t);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return p(function*(){return G(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return p(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function ehe(t,e){return lE.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new wf;return r&&(G("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(G("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(G("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wf,this.toJSON())}_performRefresh(){return so("not implemented")}}function Us(t,e){G("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Ya{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Xc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qde(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new v5(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return p(function*(){const r=yield Go(n,n.stsTokenManager.getToken(n.auth,e));return G(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Wde(t){return oE.apply(this,arguments)}(this,e)}reload(){return function Jde(t){return uE.apply(this,arguments)}(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ya(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return p(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield bf(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return p(function*(){const n=yield e.getIdToken();return yield Go(e,function Gde(t,e){return nE.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,u,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,g=null!==(s=n.photoURL)&&void 0!==s?s:void 0,y=null!==(a=n.tenantId)&&void 0!==a?a:void 0,v=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,I=null!==(u=n.createdAt)&&void 0!==u?u:void 0,w=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:O,emailVerified:k,isAnonymous:$,providerData:Y,stsTokenManager:ae}=n;G(O&&ae,e,"internal-error");const me=wf.fromJSON(this.name,ae);G("string"==typeof O,e,"internal-error"),Us(d,e.name),Us(h,e.name),G("boolean"==typeof k,e,"internal-error"),G("boolean"==typeof $,e,"internal-error"),Us(f,e.name),Us(g,e.name),Us(y,e.name),Us(v,e.name),Us(I,e.name),Us(w,e.name);const Ve=new Ya({uid:O,auth:e,email:h,emailVerified:k,displayName:d,isAnonymous:$,photoURL:g,phoneNumber:f,tenantId:y,stsTokenManager:me,createdAt:I,lastLoginAt:w});return Y&&Array.isArray(Y)&&(Ve.providerData=Y.map(yt=>Object.assign({},yt))),v&&(Ve._redirectEventId=v),Ve}static _fromIdTokenResponse(e,n,r=!1){return p(function*(){const i=new wf;i.updateFromServerResponse(n);const o=new Ya({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield bf(o),o})()}}const b5=new Map;function zo(t){Bs(t instanceof Function,"Expected a class definition");let e=b5.get(t);return e?(Bs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,b5.set(t,e),e)}const w5=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(function*(){return!0})()}_set(n,r){var i=this;return p(function*(){i.storage[n]=r})()}_get(n){var r=this;return p(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return p(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function sy(t,e,n){return`firebase:${t}:${e}:${n}`}class _l{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=sy(this.userKey,i.apiKey,o),this.fullPersistenceKey=sy("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return p(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Ya._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return p(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(function*(){if(!n.length)return new _l(zo(w5),e,r);const i=(yield Promise.all(n.map(function(){var u=p(function*(l){if(yield l._isAvailable())return l});return function(l){return u.apply(this,arguments)}}()))).filter(u=>u);let o=i[0]||zo(w5);const s=sy(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const l=yield u._get(s);if(l){const d=Ya._fromJSON(e,l);u!==o&&(a=d),o=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var u=p(function*(l){if(l!==o)try{yield l._remove(s)}catch{}});return function(l){return u.apply(this,arguments)}}())),new _l(o,e,r)):new _l(o,e,r)})()}}function I5(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(C5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(T5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(S5(e))return"Blackberry";if(A5(e))return"Webos";if(hE(e))return"Safari";if((e.includes("chrome/")||E5(e))&&!e.includes("edge/"))return"Chrome";if(D5(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function T5(t=In()){return/firefox\//i.test(t)}function hE(t=In()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function E5(t=In()){return/crios\//i.test(t)}function C5(t=In()){return/iemobile/i.test(t)}function D5(t=In()){return/android/i.test(t)}function S5(t=In()){return/blackberry/i.test(t)}function A5(t=In()){return/webos/i.test(t)}function ay(t=In()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function x5(t=In()){return ay(t)||D5(t)||A5(t)||S5(t)||/windows phone/i.test(t)||C5(t)}function N5(t,e=[]){let n;switch(t){case"Browser":n=I5(In());break;case"Worker":n=`${I5(In())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pf}/${r}`}class ohe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return p(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function fE(){return(fE=p(function*(t,e={}){return ft(t,"GET","/v2/passwordPolicy",ht(t,e))})).apply(this,arguments)}class che{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(n=c.meetsMinPasswordLength)||void 0===n||n),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(o=c.containsUppercaseLetter)||void 0===o||o),c.isValid&&(c.isValid=null===(s=c.containsNumericCharacter)||void 0===s||s),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class uhe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O5(this),this.idTokenSubscription=new O5(this),this.beforeStateQueue=new ohe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=zo(n)),this._initializationPromise=this.queue(p(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield _l.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return p(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return p(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,u=yield n.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(o=u.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return G(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return p(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return p(function*(){try{yield bf(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Vde(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return p(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return p(function*(){const r=e?Fs(e):null;return r&&G(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return p(function*(){if(!r._deleted)return e&&G(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(p(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return p(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(p(function*(){yield n.assertedPersistence.setPersistence(zo(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return p(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return p(function*(){const n=yield function she(t){return fE.apply(this,arguments)}(e),r=new che(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new lf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){var n=this;return p(function*(){if(n.currentUser){const r=yield n.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=n.tenantId&&(i.tenantId=n.tenantId),yield function the(t,e){return dE.apply(this,arguments)}(n,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return p(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return p(function*(){if(!n.redirectPersistenceManager){const r=e&&zo(e)||n._popupRedirectResolver;G(r,n,"argument-error"),n.redirectPersistenceManager=yield _l.create(n,[zo(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return p(function*(){var r,i;return n._isInitialized&&(yield n.queue(p(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return p(function*(){if(e===n.currentUser)return n.queue(p(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof n){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}{const c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){var n=this;return p(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=N5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return p(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return p(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Fde(t,...e){ry.logLevel<=xe.WARN&&ry.warn(`Auth (${pf}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function qt(t){return Fs(t)}class O5{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Tle(t,e){const n=new Ele(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let If={loadJS:()=>p(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pE(t){return If.loadJS(t)}function M5(t){return`__${t}${Math.floor(1e6*Math.random())}`}class R5{constructor(e){this.type="recaptcha-enterprise",this.auth=qt(e)}verify(e="verify",n=!1){var r=this;return p(function*(){function o(){return o=p(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=p(function*(u,l){y5(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new _5(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,u(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(u,l){return c.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,c,u){const l=window.grecaptcha;m5(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(u=>{if(!n&&m5(window.grecaptcha))s(u,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));let l=function hhe(){return If.recaptchaEnterpriseScript}();0!==l.length&&(l+=u),pE(l).then(()=>{s(u,a,c)}).catch(d=>{c(d)})}}).catch(u=>{c(u)})})})()}}function k5(t,e,n){return gE.apply(this,arguments)}function gE(){return(gE=p(function*(t,e,n,r=!1){const i=new R5(t);let o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}const s=Object.assign({},e);return Object.assign(s,r?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}function Tf(t,e,n,r){return mE.apply(this,arguments)}function mE(){return mE=p(function*(t,e,n,r){var i;if(null!==(i=t._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=yield k5(t,e,n,"getOobCode"===n);return r(t,o)}return r(t,e).catch(function(){var o=p(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield k5(t,e,n,"getOobCode"===n);return r(t,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}())}),mE.apply(this,arguments)}function P5(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function F5(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class L5{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return so("not implemented")}_getIdTokenResponse(e){return so("not implemented")}_linkToIdToken(e,n){return so("not implemented")}_getReauthenticationResolver(e){return so("not implemented")}}function The(t,e){return bE.apply(this,arguments)}function bE(){return(bE=p(function*(t,e){return ft(t,"POST","/v1/accounts:signUp",e)})).apply(this,arguments)}function Che(t,e){return IE.apply(this,arguments)}function IE(){return(IE=p(function*(t,e){return Ho(t,"POST","/v1/accounts:signInWithPassword",ht(t,e))})).apply(this,arguments)}function TE(){return(TE=p(function*(t,e){return ft(t,"POST","/v1/accounts:sendOobCode",ht(t,e))})).apply(this,arguments)}function She(t,e){return CE.apply(this,arguments)}function CE(){return(CE=p(function*(t,e){return function cy(t,e){return TE.apply(this,arguments)}(t,e)})).apply(this,arguments)}function AE(){return(AE=p(function*(t,e){return Ho(t,"POST","/v1/accounts:signInWithEmailLink",ht(t,e))})).apply(this,arguments)}function xE(){return(xE=p(function*(t,e){return Ho(t,"POST","/v1/accounts:signInWithEmailLink",ht(t,e))})).apply(this,arguments)}class Ef extends L5{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ef(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ef(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return p(function*(){switch(n.signInMethod){case"password":return Tf(e,{returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Che);case"emailLink":return function Nhe(t,e){return AE.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:xr(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return p(function*(){switch(r.signInMethod){case"password":return Tf(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",The);case"emailLink":return function Ohe(t,e){return xE.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:xr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function qo(t,e){return NE.apply(this,arguments)}function NE(){return(NE=p(function*(t,e){return Ho(t,"POST","/v1/accounts:signInWithIdp",ht(t,e))})).apply(this,arguments)}class Sf{constructor(e){var n,r,i,o,s,a;const c=df(hf(e)),u=null!==(n=c.apiKey)&&void 0!==n?n:null,l=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function Vhe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);G(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function Bhe(t){const e=df(hf(t)).link,n=e?df(hf(e)).deep_link_id:null,r=df(hf(t)).deep_link_id;return(r?df(hf(r)).link:null)||r||n||e||t}(e);try{return new Sf(n)}catch{return null}}}let B5=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Ef._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Sf.parseLink(r);return G(i,"argument-error"),Ef._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class js{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Uhe extends js{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function U5(t,e){return FE.apply(this,arguments)}function FE(){return(FE=p(function*(t,e){return Ho(t,"POST","/v1/accounts:signUp",ht(t,e))})).apply(this,arguments)}class pi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return p(function*(){const o=yield Ya._fromIdTokenResponse(e,r,i),s=j5(r);return new pi({user:o,providerId:s,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return p(function*(){yield e._updateTokensIfNecessary(r,!0);const i=j5(r);return new pi({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function j5(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class ly extends Ps{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ly.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ly(e,n,r,i)}}function $5(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?ly._fromErrorAndOperation(t,o,e,r):o})}function UE(){return(UE=p(function*(t,e,n=!1){const r=yield Go(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return pi._forOperation(t,"link",r)})).apply(this,arguments)}function $E(){return($E=p(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=yield Go(t,$5(r,i,e,t),n);G(o.idToken,r,"internal-error");const s=oy(o.idToken);G(s,r,"internal-error");const{sub:a}=s;return G(t.uid===a,r,"user-mismatch"),pi._forOperation(t,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&xr(r,"user-mismatch"),o}})).apply(this,arguments)}function z5(t,e){return HE.apply(this,arguments)}function HE(){return(HE=p(function*(t,e,n=!1){const r="signIn",i=yield $5(t,r,e),o=yield pi._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})).apply(this,arguments)}function GE(t,e){return zE.apply(this,arguments)}function zE(){return(zE=p(function*(t,e){return z5(qt(t),e)})).apply(this,arguments)}function XE(t){return eC.apply(this,arguments)}function eC(){return(eC=p(function*(t){const e=qt(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function tC(){return(tC=p(function*(t,e,n){const r=qt(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&function hy(t,e,n){var r;G((null===(r=n.url)||void 0===r?void 0:r.length)>0,t,"invalid-continue-uri"),G(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(G(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(G(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}(r,i,n),yield Tf(r,i,"getOobCode",She)})).apply(this,arguments)}function sC(){return(sC=p(function*(t,e,n){const r=qt(t),s=yield Tf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",U5).catch(c=>{throw"auth/password-does-not-meet-requirements"===c.code&&XE(t),c}),a=yield pi._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})).apply(this,arguments)}const fy="__sak";class W5{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fy,"1"),this.storage.removeItem(fy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ffe=(()=>{class t extends W5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function lfe(){const t=In();return hE(t)||ay(t)}()&&function ihe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=x5(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function rhe(){return function mle(){const t=In();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===n.newValue||n.newValue===n.oldValue?o():setTimeout(o,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,o=this;return p(function*(){yield i().call(o,n,r),o.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return p(function*(){const o=yield r().call(i,n);return i.localCache[n]=JSON.stringify(o),o})()}_remove(n){var r=()=>super._remove,i=this;return p(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),K5=(()=>{class t extends W5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let gfe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return p(function*(){const i=n,{eventId:o,eventType:s,data:a}=i.data,c=r.handlersMap[s];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const u=Array.from(c).map(function(){var d=p(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function pfe(t){return Promise.all(t.map(function(){var e=p(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(u);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function IC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class mfe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return p(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((c,u)=>{const l=IC("",20);o.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(f.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function tn(){return window}function TC(){return typeof tn().WorkerGlobalScope<"u"&&"function"==typeof tn().importScripts}function EC(){return(EC=p(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Y5="firebaseLocalStorageDb",py="firebaseLocalStorage",Q5="fbase_key";class xf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gy(t,e){return t.transaction([py],e?"readwrite":"readonly").objectStore(py)}function CC(){const t=indexedDB.open(Y5,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(py,{keyPath:Q5})}catch(i){n(i)}}),t.addEventListener("success",p(function*(){const r=t.result;r.objectStoreNames.contains(py)?e(r):(r.close(),yield function Ife(){const t=indexedDB.deleteDatabase(Y5);return new xf(t).toPromise()}(),e(yield CC()))}))})}function J5(t,e,n){return DC.apply(this,arguments)}function DC(){return(DC=p(function*(t,e,n){const r=gy(t,!0).put({[Q5]:e,value:n});return new xf(r).toPromise()})).apply(this,arguments)}function SC(){return(SC=p(function*(t,e){const n=gy(t,!1).get(e),r=yield new xf(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function Z5(t,e){const n=gy(t,!0).delete(e);return new xf(n).toPromise()}const Dfe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return p(function*(){return n.db||(n.db=yield CC()),n.db})()}_withRetries(n){var r=this;return p(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield n(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return p(function*(){return TC()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return p(function*(){n.receiver=gfe._getInstance(function bfe(){return TC()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=p(function*(i,o){return{keyProcessed:(yield n._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=p(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return p(function*(){var r,i;if(n.activeServiceWorker=yield function yfe(){return EC.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new mfe(n.activeServiceWorker);const o=yield n.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return p(function*(){if(r.sender&&r.activeServiceWorker&&function vfe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return p(function*(){try{if(!indexedDB)return!1;const n=yield CC();return yield J5(n,fy,"1"),yield Z5(n,fy),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return p(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return p(function*(){return i._withPendingWrite(p(function*(){return yield i._withRetries(o=>J5(o,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return p(function*(){const i=yield r._withRetries(o=>function Tfe(t,e){return SC.apply(this,arguments)}(o,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return p(function*(){return r._withPendingWrite(p(function*(){return yield r._withRetries(i=>Z5(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return p(function*(){const r=yield n._withRetries(s=>{const a=gy(s,!1).getAll();return new xf(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],o=new Set;if(0!==r.length)for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(n.localCache[s])!==JSON.stringify(a)&&(n.notifyListeners(s,a),i.push(s));for(const s of Object.keys(n.localCache))n.localCache[s]&&!o.has(s)&&(n.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(p(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();M5("rcb"),new _f(3e4,6e4);class FC extends L5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jfe(t){return z5(t.auth,new FC(t),t.bypassAuthState)}function $fe(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),function G5(t,e){return $E.apply(this,arguments)}(n,new FC(t),t.bypassAuthState)}function Hfe(t){return LC.apply(this,arguments)}function LC(){return(LC=p(function*(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),function BE(t,e){return UE.apply(this,arguments)}(n,new FC(t),t.bypassAuthState)})).apply(this,arguments)}class Gfe{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=p(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return p(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:c}=e;if(a)return void n.reject(a);const u={auth:n.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(u))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jfe;case"linkViaPopup":case"linkViaRedirect":return Hfe;case"reauthViaPopup":case"reauthViaRedirect":return $fe;default:xr(this.auth,"internal-error")}}resolve(e){Bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new _f(2e3,1e4);const zfe="pendingRedirect",Nf=new Map;class qfe extends Gfe{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return p(function*(){let r=Nf.get(n.auth._key());if(!r){try{const o=(yield function Wfe(t,e){return $C.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}Nf.set(n.auth._key(),r)}return n.bypassAuthState||Nf.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return p(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return p(function*(){})()}cleanUp(){}}function $C(){return($C=p(function*(t,e){const n=function t$(t){return sy(zfe,t.config.apiKey,t.name)}(e),r=function e$(t){return zo(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Kfe(t,e){Nf.set(t._key(),e)}function n$(t,e){return YC.apply(this,arguments)}function YC(){return(YC=p(function*(t,e,n=!1){const r=qt(t),i=function Ja(t,e){return e?zo(e):(G(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),s=yield new qfe(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class Xfe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function epe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return o$(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!o$(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(oo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(i$(e))}saveEventToCache(e){this.cachedEventUids.add(i$(e)),this.lastProcessedEventTime=Date.now()}}function i$(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function o$({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function JC(){return(JC=p(function*(t,e={}){return ft(t,"GET","/v1/projects",e)})).apply(this,arguments)}const npe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rpe=/^https?/;function ZC(){return ZC=p(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function tpe(t){return JC.apply(this,arguments)}(t);for(const n of e)try{if(ope(n))return}catch{}xr(t,"unauthorized-domain")}),ZC.apply(this,arguments)}function ope(t){const e=mf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return""===s.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!rpe.test(n))return!1;if(npe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const spe=new _f(3e4,6e4);function s$(){const t=tn().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let _y=null;const upe=new _f(5e3,15e3),lpe="__/auth/iframe",dpe="emulator/auth/iframe",hpe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fpe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ppe(t){const e=t.config;G(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?QT(e,dpe):`https://${t.config.authDomain}/${lpe}`,r={apiKey:e.apiKey,appName:t.name,v:pf},i=fpe.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ey(r).slice(1)}`}function XC(){return XC=p(function*(t){const e=yield function cpe(t){return _y=_y||function ape(t){return new Promise((e,n)=>{var r,i,o;function s(){s$(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{s$(),n(oo(t,"network-request-failed"))},timeout:spe.get()})}if(null!==(i=null===(r=tn().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=tn().gapi)||void 0===o||!o.load){const a=M5("iframefcb");return tn()[a]=()=>{gapi.load?s():n(oo(t,"network-request-failed"))},pE(`${function fhe(){return If.gapiScript}()}?onload=${a}`).catch(c=>n(c))}s()}}).catch(e=>{throw _y=null,e})}(t),_y}(t),n=tn().gapi;return G(n,t,"internal-error"),e.open({where:document.body,url:ppe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hpe,dontclear:!0},r=>new Promise(function(){var i=p(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=oo(t,"network-request-failed"),c=tn().setTimeout(()=>{s(a)},upe.get());function u(){tn().clearTimeout(c),o(r)}r.ping(u).then(u,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),XC.apply(this,arguments)}const mpe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class a${constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Tpe="__/auth/handler",Epe="emulator/auth/handler",Cpe=encodeURIComponent("fac");function c$(t,e,n,r,i,o){return eD.apply(this,arguments)}function eD(){return(eD=p(function*(t,e,n,r,i,o){G(t.config.authDomain,t,"auth-domain-config-required"),G(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:pf,eventId:i};if(e instanceof js){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",function Ile(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(o||{}))s[l]=d}if(e instanceof Uhe){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(s.scopes=l.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const c=yield t._getAppCheckToken(),u=c?`#${Cpe}=${encodeURIComponent(c)}`:"";return`${function Dpe({config:t}){return t.emulator?QT(t,Epe):`https://${t.authDomain}/${Tpe}`}(t)}?${ey(a).slice(1)}${u}`})).apply(this,arguments)}const tD="webStorageSupport",Ape=class Spe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=K5,this._completeRedirectFn=n$,this._overrideRedirectResult=Kfe}_openPopup(e,n,r,i){var o=this;return p(function*(){var s;Bs(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield c$(e,n,r,mf(),i);return function wpe(t,e,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},mpe),{width:r.toString(),height:i.toString(),top:o,left:s}),u=In().toLowerCase();n&&(a=E5(u)?"_blank":n),T5(u)&&(e=e||"http://localhost",c.scrollbars="yes");const l=Object.entries(c).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(function nhe(t=In()){var e;return ay(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function Ipe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new a$(null);const d=window.open(e||"",a,l);G(d,t,"popup-blocked");try{d.focus()}catch{}return new a$(d)}(e,a,IC())})()}_openRedirect(e,n,r,i){var o=this;return p(function*(){return yield o._originValidation(e),function _fe(t){tn().location.href=t}(yield c$(e,n,r,mf(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Bs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return p(function*(){const r=yield function gpe(t){return XC.apply(this,arguments)}(e),i=new Xfe(e);return r.register("authEvent",o=>(G(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tD,{type:tD},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[tD];void 0!==s&&n(!!s),xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function ipe(t){return ZC.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return x5()||hE()||ay()}};var d$="@firebase/auth";class xpe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return p(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Rpe=Gj("authIdTokenMaxAge")||300;let f$=null;const kpe=t=>function(){var e=p(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Rpe)return;const o=r?.token;f$!==o&&(f$=o,yield fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function vy(t=function Cde(t=ty){const e=Ka.get(t);if(!e&&t===ty&&Hj())return n5();if(!e)throw $o.create("no-app",{appName:t});return e}()){const e=HT(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function _he(t,e){const n=HT(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(X_(n.getOptions(),e??{}))return i;xr(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Ape,persistence:[Dfe,ffe,K5]}),r=Gj("authTokenSyncURL");if(r){const o=kpe(r);(function ife(t,e,n){Fs(t).beforeAuthStateChanged(e,n)})(n,o,()=>o(n.currentUser)),function rfe(t,e,n,r){Fs(t).onIdTokenChanged(e,n,r)}(n,s=>o(s))}const i=(t=>{var e,n;return null===(n=null===(e=J_())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})("auth");return i&&function vhe(t,e,n){const r=qt(t);G(r._canInitEmulator,r,"emulator-config-failed"),G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,o=P5(e),{host:s,port:a}=function bhe(t){const e=P5(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:F5(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:F5(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function whe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}(function lhe(t){If=t})({loadJS:t=>new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=oo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function Ppe(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Ope(t){ff(new pl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;G(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:N5(t)},u=new uhe(r,i,o,c);return function yhe(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(zo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ff(new pl("auth-internal",e=>{const n=qt(e.getProvider("auth").getImmediate());return new xpe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gl(d$,"1.6.1",function Npe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(t)),gl(d$,"1.6.1","esm2017")}("Browser");const p$=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},iD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;c||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(p$(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==d)throw new Bpe;r.push(o<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Bpe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const by=function(t){return function(t){const e=p$(t);return iD.encodeByteArray(e,!0)}(t).replace(/\./g,"")},wy=function(t){try{return iD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Iy=()=>{try{return function $pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wy(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},m$=()=>{var t;return null===(t=Iy())||void 0===t?void 0:t.config};class Ty{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Kr(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function oD(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Za(){try{return"object"==typeof indexedDB}catch{return!1}}function Of(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}function sD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Pi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ao.prototype.create)}}class ao{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function ege(t,e){return t.replace(tge,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Pi(i,`${this.serviceName}: ${s} (${i}).`,r)}}const tge=/\{\$([^}]+)}/g;function aD(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(y$(o)&&y$(s)){if(!aD(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function y$(t){return null!==t&&"object"==typeof t}function v$(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class rge{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function ige(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=cD),void 0===i.error&&(i.error=cD),void 0===i.complete&&(i.complete=cD);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cD(){}const oge=1e3,sge=2,age=144e5,cge=.5;function lD(t,e=oge,n=sge){const r=e*Math.pow(n,t),i=Math.round(cge*r*(Math.random()-.5)*2);return Math.min(age,r+i)}function dr(t){return t&&t._delegate?t._delegate:t}class Jn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xa="[DEFAULT]";class lge{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ty;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function hge(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Xa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Xa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return p(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Xa){return this.instances.has(e)}getOptions(e=Xa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Xa?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Xa){return this.component?this.component.multipleInstances?e:Xa:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fge{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lge(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}class pge{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function gge(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const dD="@firebase/app",ec=new Ls("@firebase/app"),Cy="[DEFAULT]",jge={[dD]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},tc=new Map,Dy=new Map;function $ge(t,e){try{t.container.addComponent(e)}catch(n){ec.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hr(t){const e=t.name;if(Dy.has(e))return ec.debug(`There were multiple attempts to register component ${e}.`),!1;Dy.set(e,t);for(const n of tc.values())$ge(n,t);return!0}function Sy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Wo=new ao("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Gge{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wo.create("app-deleted",{appName:this._name})}}const Mf="9.23.0";function w$(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Cy,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Wo.create("bad-app-name",{appName:String(i)});if(n||(n=m$()),!n)throw Wo.create("no-options");const o=tc.get(i);if(o){if(aD(n,o.options)&&aD(r,o.config))return o;throw Wo.create("duplicate-app",{appName:i})}const s=new fge(i);for(const c of Dy.values())s.addComponent(c);const a=new Gge(n,r,s);return tc.set(i,a),a}function I$(t=Cy){const e=tc.get(t);if(!e&&t===Cy&&m$())return w$();if(!e)throw Wo.create("no-app",{appName:t});return e}function T$(){return Array.from(tc.values())}function Wt(t,e,n){var r;let i=null!==(r=jge[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ec.warn(a.join(" "))}hr(new Jn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const zge="firebase-heartbeat-database",qge=1,Rf="firebase-heartbeat-store";let fD=null;function E$(){return fD||(fD=Xj(zge,qge,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Rf)}}).catch(t=>{throw Wo.create("idb-open",{originalErrorMessage:t.message})})),fD}function pD(){return(pD=p(function*(t){try{return yield(yield E$()).transaction(Rf).objectStore(Rf).get(D$(t))}catch(e){if(e instanceof Pi)ec.warn(e.message);else{const n=Wo.create("idb-get",{originalErrorMessage:e?.message});ec.warn(n.message)}}})).apply(this,arguments)}function C$(t,e){return gD.apply(this,arguments)}function gD(){return(gD=p(function*(t,e){try{const r=(yield E$()).transaction(Rf,"readwrite");yield r.objectStore(Rf).put(e,D$(t)),yield r.done}catch(n){if(n instanceof Pi)ec.warn(n.message);else{const r=Wo.create("idb-set",{originalErrorMessage:n?.message});ec.warn(r.message)}}})).apply(this,arguments)}function D$(t){return`${t.name}!${t.options.appId}`}class Qge{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Zge(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return p(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=S$();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(o=>o.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return p(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=S$(),{heartbeatsToSend:r,unsentEntries:i}=function Jge(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),A$(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),A$(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=by(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function S$(){return(new Date).toISOString().substring(0,10)}class Zge{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(function*(){return!!Za()&&Of().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return p(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Wge(t){return pD.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return p(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return C$(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return p(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return C$(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function A$(t){return by(JSON.stringify({version:2,heartbeats:t})).length}!function Xge(t){hr(new Jn("platform-logger",e=>new pge(e),"PRIVATE")),hr(new Jn("heartbeat",e=>new Qge(e),"PRIVATE")),Wt(dD,"0.9.13",t),Wt(dD,"0.9.13","esm2017"),Wt("fire-js","")}(""),Wt("firebase","9.23.0","app");const nme=(t,e)=>e.some(n=>t instanceof n);let x$,N$;const O$=new WeakMap,mD=new WeakMap,M$=new WeakMap,_D=new WeakMap,yD=new WeakMap;let vD={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return mD.get(t);if("objectStoreNames"===e)return t.objectStoreNames||M$.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $s(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function ume(t){return"function"==typeof t?function cme(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ime(){return N$||(N$=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(bD(this),e),$s(O$.get(this))}:function(...e){return $s(t.apply(bD(this),e))}:function(e,...n){const r=t.call(bD(this),e,...n);return M$.set(r,e.sort?e.sort():[e]),$s(r)}}(t):(t instanceof IDBTransaction&&function sme(t){if(mD.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});mD.set(t,e)}(t),nme(t,function rme(){return x$||(x$=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,vD):t)}function $s(t){if(t instanceof IDBRequest)return function ome(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n($s(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&O$.set(n,t)}).catch(()=>{}),yD.set(e,t),e}(t);if(_D.has(t))return _D.get(t);const e=ume(t);return e!==t&&(_D.set(t,e),yD.set(e,t)),e}const bD=t=>yD.get(t),dme=["get","getKey","getAll","getAllKeys","count"],hme=["put","add","delete","clear"],wD=new Map;function R$(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(wD.get(e))return wD.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hme.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!dme.includes(n))return;const o=function(){var s=p(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return s.apply(this,arguments)}}();return wD.set(e,o),o}!function ame(t){vD=t(vD)}(t=>({...t,get:(e,n,r)=>R$(e,n)||t.get(e,n,r),has:(e,n)=>!!R$(e,n)||t.has(e,n)}));const k$="@firebase/installations",ID="0.6.4",P$=1e4,F$=`w:${ID}`,L$="FIS_v2",fme="https://firebaseinstallations.googleapis.com/v1",pme=36e5,Ko=new ao("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function V$(t){return t instanceof Pi&&t.code.includes("request-failed")}function TD({projectId:t}){return`${fme}/projects/${t}/installations`}function B$(t){return{token:t.token,requestStatus:2,expiresIn:yme(t.expiresIn),creationTime:Date.now()}}function ED(t,e){return CD.apply(this,arguments)}function CD(){return(CD=p(function*(t,e){const r=(yield e.json()).error;return Ko.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function U$({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function DD(t){return SD.apply(this,arguments)}function SD(){return(SD=p(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function yme(t){return Number(t.replace("s","000"))}function AD(){return(AD=p(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=TD(t),i=U$(t),o=e.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:L$,appId:t.appId,sdkVersion:F$})},c=yield DD(()=>fetch(r,a));if(c.ok){const u=yield c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:B$(u.authToken)}}throw yield ED("Create Installation",c)})).apply(this,arguments)}function $$(t){return new Promise(e=>{setTimeout(e,t)})}const Ime=/^[cdef][\w-]{21}$/,xD="";function Tme(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Eme(t){return function wme(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Ime.test(n)?n:xD}catch{return xD}}function yl(t){return`${t.appName}!${t.appId}`}const vl=new Map;function H$(t,e){const n=yl(t);G$(n,e),function Sme(t,e){const n=function z$(){return!nc&&"BroadcastChannel"in self&&(nc=new BroadcastChannel("[Firebase] FID Change"),nc.onmessage=t=>{G$(t.data.key,t.data.fid)}),nc}();n&&n.postMessage({key:t,fid:e}),function q$(){0===vl.size&&nc&&(nc.close(),nc=null)}()}(n,e)}function G$(t,e){const n=vl.get(t);if(n)for(const r of n)r(e)}let nc=null;const Ame="firebase-installations-database",xme=1,rc="firebase-installations-store";let ND=null;function OD(){return ND||(ND=function lme(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=$s(s);return r&&s.addEventListener("upgradeneeded",c=>{r($s(s.result),c.oldVersion,c.newVersion,$s(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Ame,xme,{upgrade:(t,e)=>{0===e&&t.createObjectStore(rc)}})),ND}function Ay(t,e){return MD.apply(this,arguments)}function MD(){return(MD=p(function*(t,e){const n=yl(t),i=(yield OD()).transaction(rc,"readwrite"),o=i.objectStore(rc),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&H$(t,e.fid),e})).apply(this,arguments)}function RD(t){return kD.apply(this,arguments)}function kD(){return(kD=p(function*(t){const e=yl(t),r=(yield OD()).transaction(rc,"readwrite");yield r.objectStore(rc).delete(e),yield r.done})).apply(this,arguments)}function kf(t,e){return PD.apply(this,arguments)}function PD(){return(PD=p(function*(t,e){const n=yl(t),i=(yield OD()).transaction(rc,"readwrite"),o=i.objectStore(rc),s=yield o.get(n),a=e(s);return void 0===a?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&H$(t,a.fid),a})).apply(this,arguments)}function FD(t){return LD.apply(this,arguments)}function LD(){return LD=p(function*(t){let e;const n=yield kf(t.appConfig,r=>{const i=function Nme(t){return K$(t||{fid:Tme(),registrationStatus:0})}(r),o=function Ome(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ko.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Mme(t,e){return VD.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Rme(t)}:{installationEntry:e}}(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===xD?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),LD.apply(this,arguments)}function VD(){return VD=p(function*(t,e){try{const n=yield function bme(t,e){return AD.apply(this,arguments)}(t,e);return Ay(t.appConfig,n)}catch(n){throw V$(n)&&409===n.customData.serverCode?yield RD(t.appConfig):yield Ay(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),VD.apply(this,arguments)}function Rme(t){return BD.apply(this,arguments)}function BD(){return(BD=p(function*(t){let e=yield W$(t.appConfig);for(;1===e.registrationStatus;)yield $$(100),e=yield W$(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield FD(t);return r||n}return e})).apply(this,arguments)}function W$(t){return kf(t,e=>{if(!e)throw Ko.create("installation-not-found");return K$(e)})}function K$(t){return function kme(t){return 1===t.registrationStatus&&t.registrationTime+P$<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function UD(){return(UD=p(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Fme(t,{fid:e}){return`${TD(t)}/${e}/authTokens:generate`}(t,n),i=function j$(t,{refreshToken:e}){const n=U$(t);return n.append("Authorization",function vme(t){return`${L$} ${t}`}(e)),n}(t,n),o=e.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:F$,appId:t.appId}})},c=yield DD(()=>fetch(r,a));if(c.ok)return B$(yield c.json());throw yield ED("Generate Auth Token",c)})).apply(this,arguments)}function jD(t){return $D.apply(this,arguments)}function $D(){return $D=p(function*(t,e=!1){let n;const r=yield kf(t.appConfig,o=>{if(!Q$(o))throw Ko.create("not-registered");const s=o.authToken;if(!e&&function Bme(t){return 2===t.requestStatus&&!function Ume(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+pme}(t)}(s))return o;if(1===s.requestStatus)return n=function Lme(t,e){return HD.apply(this,arguments)}(t,e),o;{if(!navigator.onLine)throw Ko.create("app-offline");const a=function jme(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(o);return n=function Vme(t,e){return GD.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),$D.apply(this,arguments)}function HD(){return(HD=p(function*(t,e){let n=yield Y$(t.appConfig);for(;1===n.authToken.requestStatus;)yield $$(100),n=yield Y$(t.appConfig);const r=n.authToken;return 0===r.requestStatus?jD(t,e):r})).apply(this,arguments)}function Y$(t){return kf(t,e=>{if(!Q$(e))throw Ko.create("not-registered");return function $me(t){return 1===t.requestStatus&&t.requestTime+P$<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function GD(){return GD=p(function*(t,e){try{const n=yield function Pme(t,e){return UD.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Ay(t.appConfig,r),n}catch(n){if(!V$(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Ay(t.appConfig,r)}else yield RD(t.appConfig);throw n}}),GD.apply(this,arguments)}function Q$(t){return void 0!==t&&2===t.registrationStatus}function zD(){return(zD=p(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield FD(e);return r?r.catch(console.error):jD(e).catch(console.error),n.fid})).apply(this,arguments)}function qD(){return qD=p(function*(t,e=!1){const n=t;return yield function zme(t){return WD.apply(this,arguments)}(n),(yield jD(n,e)).token}),qD.apply(this,arguments)}function WD(){return(WD=p(function*(t){const{registrationPromise:e}=yield FD(t);e&&(yield e)})).apply(this,arguments)}function QD(t){return Ko.create("missing-app-config-values",{valueName:t})}const J$="installations",Qme=t=>{const e=t.getProvider("app").getImmediate(),n=function Kme(t){if(!t||!t.options)throw QD("App Configuration");if(!t.name)throw QD("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw QD(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Sy(e,"heartbeat"),_delete:()=>Promise.resolve()}},Jme=t=>{const n=Sy(t.getProvider("app").getImmediate(),J$).getImmediate();return{getId:()=>function Hme(t){return zD.apply(this,arguments)}(n),getToken:i=>function Gme(t){return qD.apply(this,arguments)}(n,i)}};(function Zme(){hr(new Jn(J$,Qme,"PUBLIC")),hr(new Jn("installations-internal",Jme,"PRIVATE"))})(),Wt(k$,ID),Wt(k$,ID,"esm2017");const JD="@firebase/remote-config",Nr=new ao("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class u_e{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return p(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield n.client.fetch(e),s=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(n.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function l_e(t=navigator){return t.languages&&t.languages[0]||t.language}class d_e{constructor(e,n,r,i,o,s){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}fetch(e){var n=this;return p(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:l_e()},u={method:"POST",headers:a,body:JSON.stringify(c)},l=fetch(s,u),d=new Promise((I,w)=>{e.signal.addEventListener(()=>{const O=new Error("The operation was aborted.");O.name="AbortError",w(O)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(I){let w="fetch-client-network";throw"AbortError"===I?.name&&(w="fetch-timeout"),Nr.create(w,{originalErrorMessage:I?.message})}let f=h.status;const g=h.headers.get("ETag")||void 0;let y,v;if(200===h.status){let I;try{I=yield h.json()}catch(w){throw Nr.create("fetch-client-parse",{originalErrorMessage:w?.message})}y=I.entries,v=I.state}if("INSTANCE_STATE_UNSPECIFIED"===v?f=500:"NO_CHANGE"===v?f=304:("NO_TEMPLATE"===v||"EMPTY_CONFIG"===v)&&(y={}),304!==f&&200!==f)throw Nr.create("fetch-status",{httpStatus:f});return{status:f,eTag:g,config:y}})()}}class p_e{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return p(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return p(function*(){yield function h_e(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Nr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const o=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function f_e(t){if(!(t instanceof Pi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const s={throttleEndTimeMillis:Date.now()+lD(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(s),i.attemptFetch(e,s)}})()}}class __e{constructor(e,n,r,i,o){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ny(t,e){const n=t.target.error||void 0;return Nr.create(e,{originalErrorMessage:n&&n?.message})}const ic="app_namespace_store";class w_e{constructor(e,n,r,i=function b_e(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Ny(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ic,{keyPath:"compositeKey"})}}catch(n){e(Nr.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return p(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([ic],"readonly").objectStore(ic),c=n.createCompositeKey(e);try{const u=a.get(c);u.onerror=l=>{o(Ny(l,"storage-get"))},u.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(u){o(Nr.create("storage-get",{originalErrorMessage:u?.message}))}})})()}set(e,n){var r=this;return p(function*(){const i=yield r.openDbPromise;return new Promise((o,s)=>{const c=i.transaction([ic],"readwrite").objectStore(ic),u=r.createCompositeKey(e);try{const l=c.put({compositeKey:u,value:n});l.onerror=d=>{s(Ny(d,"storage-set"))},l.onsuccess=()=>{o()}}catch(l){s(Nr.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return p(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([ic],"readwrite").objectStore(ic),c=n.createCompositeKey(e);try{const u=a.delete(c);u.onerror=l=>{o(Ny(l,"storage-delete"))},u.onsuccess=()=>{i()}}catch(u){o(Nr.create("storage-delete",{originalErrorMessage:u?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class I_e{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return p(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield n;o&&(e.lastFetchStatus=o);const s=yield r;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function E_e(){return nS.apply(this,arguments)}function nS(){return(nS=p(function*(){if(!Za())return!1;try{return yield Of()}catch{return!1}})).apply(this,arguments)}!function T_e(){hr(new Jn("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Nr.create("registration-window");if(!Za())throw Nr.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=r.options;if(!o)throw Nr.create("registration-project-id");if(!s)throw Nr.create("registration-api-key");if(!a)throw Nr.create("registration-app-id");const c=new w_e(a,r.name,n=n||"firebase"),u=new I_e(c),l=new Ls(JD);l.logLevel=xe.ERROR;const d=new d_e(i,Mf,n,o,s,a),h=new p_e(d,c),f=new u_e(h,c,u,l),g=new __e(r,f,u,c,l);return function s_e(t){const e=dr(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(g),g},"PUBLIC").setMultipleInstances(!0)),Wt(JD,"0.4.4"),Wt(JD,"0.4.4","esm2017")}();const C_e=(t,e)=>e.some(n=>t instanceof n);let tH,nH;const rH=new WeakMap,rS=new WeakMap,iH=new WeakMap,iS=new WeakMap,oS=new WeakMap;let sS={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return rS.get(t);if("objectStoreNames"===e)return t.objectStoreNames||iH.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yo(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function M_e(t){return"function"==typeof t?function O_e(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function S_e(){return nH||(nH=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(aS(this),e),Yo(rH.get(this))}:function(...e){return Yo(t.apply(aS(this),e))}:function(e,...n){const r=t.call(aS(this),e,...n);return iH.set(r,e.sort?e.sort():[e]),Yo(r)}}(t):(t instanceof IDBTransaction&&function x_e(t){if(rS.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});rS.set(t,e)}(t),C_e(t,function D_e(){return tH||(tH=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,sS):t)}function Yo(t){if(t instanceof IDBRequest)return function A_e(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Yo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&rH.set(n,t)}).catch(()=>{}),oS.set(e,t),e}(t);if(iS.has(t))return iS.get(t);const e=M_e(t);return e!==t&&(iS.set(t,e),oS.set(e,t)),e}const aS=t=>oS.get(t);function oH(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Yo(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Yo(s.result),c.oldVersion,c.newVersion,Yo(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function cS(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Yo(n).then(()=>{})}const R_e=["get","getKey","getAll","getAllKeys","count"],k_e=["put","add","delete","clear"],uS=new Map;function sH(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(uS.get(e))return uS.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=k_e.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!R_e.includes(n))return;const o=function(){var s=p(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return s.apply(this,arguments)}}();return uS.set(e,o),o}!function N_e(t){sS=t(sS)}(t=>({...t,get:(e,n,r)=>sH(e,n)||t.get(e,n,r),has:(e,n)=>!!sH(e,n)||t.has(e,n)}));const P_e="/firebase-messaging-sw.js",F_e="/firebase-cloud-messaging-push-scope",aH="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",L_e="https://fcmregistrations.googleapis.com/v1",cH="google.c.a.c_id",V_e="google.c.a.c_l",B_e="google.c.a.ts";var Oy=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Oy||{});function Qo(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $_e(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const lS="fcm_token_details_db",H_e=5,uH="fcm_token_object_Store";function dS(){return dS=p(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(lS))return null;let e=null;return(yield oH(lS,H_e,{upgrade:(r=p(function*(i,o,s,a){var c;if(o<2||!i.objectStoreNames.contains(uH))return;const u=a.objectStore(uH),l=yield u.index("fcmSenderId").get(t);if(yield u.clear(),l)if(2===o){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Qo(d.vapidKey)}}}else if(3===o){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Qo(d.auth),p256dh:Qo(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Qo(d.vapidKey)}}}else if(4===o){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Qo(d.auth),p256dh:Qo(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Qo(d.vapidKey)}}}}),function(o,s,a,c){return r.apply(this,arguments)})})).close(),yield cS(lS),yield cS("fcm_vapid_details_db"),yield cS("undefined"),function z_e(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),dS.apply(this,arguments)}const q_e="firebase-messaging-database",W_e=1,oc="firebase-messaging-store";let hS=null;function fS(){return hS||(hS=oH(q_e,W_e,{upgrade:(t,e)=>{0===e&&t.createObjectStore(oc)}})),hS}function lH(t){return pS.apply(this,arguments)}function pS(){return pS=p(function*(t){const e=yS(t),r=yield(yield fS()).transaction(oc).objectStore(oc).get(e);if(r)return r;{const i=yield function G_e(t){return dS.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield gS(t,i),i}}),pS.apply(this,arguments)}function gS(t,e){return mS.apply(this,arguments)}function mS(){return(mS=p(function*(t,e){const n=yS(t),i=(yield fS()).transaction(oc,"readwrite");return yield i.objectStore(oc).put(e,n),yield i.done,e})).apply(this,arguments)}function _S(){return(_S=p(function*(t){const e=yS(t),r=(yield fS()).transaction(oc,"readwrite");yield r.objectStore(oc).delete(e),yield r.done})).apply(this,arguments)}function yS({appConfig:t}){return t.appId}const Ln=new ao("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Q_e(t,e){return vS.apply(this,arguments)}function vS(){return(vS=p(function*(t,e){const n=yield TS(t),r=hH(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(IS(t.appConfig),i)).json()}catch(s){throw Ln.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw Ln.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Ln.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function bS(){return(bS=p(function*(t,e){const n=yield TS(t),r=hH(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${IS(t.appConfig)}/${e.token}`,i)).json()}catch(s){throw Ln.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw Ln.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Ln.create("token-update-no-token");return o.token})).apply(this,arguments)}function dH(t,e){return wS.apply(this,arguments)}function wS(){return(wS=p(function*(t,e){const r={method:"DELETE",headers:yield TS(t)};try{const o=yield(yield fetch(`${IS(t.appConfig)}/${e}`,r)).json();if(o.error)throw Ln.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw Ln.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function IS({projectId:t}){return`${L_e}/projects/${t}/registrations`}function TS(t){return ES.apply(this,arguments)}function ES(){return(ES=p(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function hH({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==aH&&(i.web.applicationPubKey=r),i}const Z_e=6048e5;function CS(){return CS=p(function*(t){const e=yield function tye(t,e){return xS.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Qo(e.getKey("auth")),p256dh:Qo(e.getKey("p256dh"))},r=yield lH(t.firebaseDependencies);if(r){if(function nye(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+Z_e?function eye(t,e){return SS.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield dH(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return pH(t.firebaseDependencies,n)}return pH(t.firebaseDependencies,n)}),CS.apply(this,arguments)}function DS(){return DS=p(function*(t){const e=yield lH(t.firebaseDependencies);e&&(yield dH(t.firebaseDependencies,e.token),yield function K_e(t){return _S.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),DS.apply(this,arguments)}function SS(){return SS=p(function*(t,e){try{const n=yield function J_e(t,e){return bS.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield gS(t.firebaseDependencies,r),n}catch(n){throw yield function fH(t){return DS.apply(this,arguments)}(t),n}}),SS.apply(this,arguments)}function pH(t,e){return AS.apply(this,arguments)}function AS(){return(AS=p(function*(t,e){const r={token:yield Q_e(t,e),createTime:Date.now(),subscriptionOptions:e};return yield gS(t,r),r.token})).apply(this,arguments)}function xS(){return(xS=p(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$_e(e)})})).apply(this,arguments)}function gH(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function rye(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const o=e.notification.icon;o&&(t.notification.icon=o)}(e,t),function iye(t,e){e.data&&(t.data=e.data)}(e,t),function oye(t,e){var n,r,i,o,s;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(t.fcmOptions.link=a);const c=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}(e,t),e}function mH(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function NS(t){return Ln.create("missing-app-config-values",{valueName:t})}mH("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),mH("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class cye{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function aye(t){if(!t||!t.options)throw NS("App Configuration Object");if(!t.name)throw NS("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw NS(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function OS(){return(OS=p(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(P_e,{scope:F_e}),t.swRegistration.update().catch(()=>{})}catch(e){throw Ln.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function MS(){return(MS=p(function*(t,e){if(!e&&!t.swRegistration&&(yield function _H(t){return OS.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Ln.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function RS(){return(RS=p(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=aH)})).apply(this,arguments)}function kS(){return kS=p(function*(t,e){if(!navigator)throw Ln.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ln.create("permission-blocked");return yield function lye(t,e){return RS.apply(this,arguments)}(t,e?.vapidKey),yield function uye(t,e){return MS.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function X_e(t){return CS.apply(this,arguments)}(t)}),kS.apply(this,arguments)}function PS(){return(PS=p(function*(t,e,n){const r=function hye(t){switch(t){case Oy.NOTIFICATION_CLICKED:return"notification_open";case Oy.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[cH],message_name:n[V_e],message_time:n[B_e],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function FS(){return FS=p(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Oy.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(gH(n)):t.onMessageHandler.next(gH(n)));const r=n.data;(function sye(t){return"object"==typeof t&&!!t&&cH in t})(r)&&"1"===r["google.c.a.e"]&&(yield function dye(t,e,n){return PS.apply(this,arguments)}(t,n.messageType,r))}),FS.apply(this,arguments)}const vH="@firebase/messaging",pye=t=>{const e=new cye(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function fye(t,e){return FS.apply(this,arguments)}(e,n)),e},gye=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function yH(t,e){return kS.apply(this,arguments)}(e,r)}};function wH(){return LS.apply(this,arguments)}function LS(){return(LS=p(function*(){try{yield Of()}catch{return!1}return typeof window<"u"&&Za()&&sD()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function mye(){hr(new Jn("messaging",pye,"PUBLIC")),hr(new Jn("messaging-internal",gye,"PRIVATE")),Wt(vH,"0.12.4"),Wt(vH,"0.12.4","esm2017")}();const My="analytics",vye="firebase_id",bye="origin",wye=6e4,Iye="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",US="https://www.googletagmanager.com/gtag/js",Tn=new Ls("@firebase/analytics"),fr=new ao("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Eye(t){if(!t.startsWith(US)){const e=fr.create("invalid-gtag-resource",{gtagURL:t});return Tn.warn(e.message),""}return t}function IH(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function jS(){return(jS=p(function*(t,e,n,r,i,o){const s=r[i];try{if(s)yield e[s];else{const c=(yield IH(n)).find(u=>u.measurementId===i);c&&(yield e[c.appId])}}catch(a){Tn.error(a)}t("config",i,o)})).apply(this,arguments)}function $S(){return($S=p(function*(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield IH(n);for(const c of s){const u=a.find(d=>d.measurementId===c),l=u&&e[u.appId];if(!l){o=[];break}o.push(l)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){Tn.error(o)}})).apply(this,arguments)}const Rye=30,TH=new class Pye{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Fye(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function HS(){return(HS=p(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Fye(r)},o=Iye.replace("{app-id}",n),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const c=yield s.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw fr.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function GS(){return(GS=p(function*(t,e=TH,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw fr.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw fr.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new jye;return setTimeout(p(function*(){a.abort()}),void 0!==n?n:wye),EH({appId:r,apiKey:i,measurementId:o},s,a,e)})).apply(this,arguments)}function EH(t,e,n){return zS.apply(this,arguments)}function zS(){return zS=p(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=TH){var o;const{appId:s,measurementId:a}=t;try{yield function Bye(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(fr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return Tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw c}try{const c=yield function Lye(t){return HS.apply(this,arguments)}(t);return i.deleteThrottleMetadata(s),c}catch(c){const u=c;if(!function Uye(t){if(!(t instanceof Pi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u)){if(i.deleteThrottleMetadata(s),a)return Tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:s,measurementId:a};throw c}const l=503===Number(null===(o=u?.customData)||void 0===o?void 0:o.httpStatus)?lD(n,i.intervalMillis,Rye):lD(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(s,d),Tn.debug(`Calling attemptFetch again in ${l} millis`),EH(t,d,r,i)}}),zS.apply(this,arguments)}class jye{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let qS,XS;function WS(){return(WS=p(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const o=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function eA(){return(eA=p(function*(){if(!Za())return Tn.warn(fr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Of()}catch(t){return Tn.warn(fr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function tA(){return tA=p(function*(t,e,n,r,i,o,s){var a;const c=function Vye(t){return GS.apply(this,arguments)}(t);c.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Tn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Tn.error(f)),e.push(c);const u=function Kye(){return eA.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([c,u]);(function Mye(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(US)&&n.src.includes(t))return n;return null})(o)||function Dye(t,e){const n=function Cye(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Eye}),r=document.createElement("script"),i=`${US}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,l.measurementId),XS&&(i("consent","default",XS),function CH(t){XS=t}(void 0)),i("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h[bye]="firebase",h.update=!0,null!=d&&(h[vye]=d),i("config",l.measurementId,h),qS&&(i("set",qS),function DH(t){qS=t}(void 0)),l.measurementId}),tA.apply(this,arguments)}class Qye{constructor(e){this.app=e}_delete(){return delete co[this.app.options.appId],Promise.resolve()}}let co={},SH=[];const AH={};let NH,uo,Ry="dataLayer",nA=!1;function Zye(t,e,n){!function Jye(){const t=[];if(oD()&&t.push("This is a browser extension environment."),sD()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=fr.create("invalid-analytics-context",{errorInfo:e});Tn.warn(n.message)}}();const r=t.options.appId;if(!r)throw fr.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw fr.create("no-api-key");Tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=co[r])throw fr.create("already-exists",{id:r});if(!nA){!function Sye(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Ry);const{wrappedGtag:o,gtagCore:s}=function Oye(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function Nye(t,e,n,r){function o(){return o=p(function*(s,...a){try{if("event"===s){const[c,u]=a;yield function xye(t,e,n,r,i){return $S.apply(this,arguments)}(t,e,n,c,u)}else if("config"===s){const[c,u]=a;yield function Aye(t,e,n,r,i,o){return jS.apply(this,arguments)}(t,e,n,r,c,u)}else if("consent"===s){const[c]=a;t("consent","update",c)}else if("get"===s){const[c,u,l]=a;t("get",c,u,l)}else if("set"===s){const[c]=a;t("set",c)}else t(s,...a)}catch(c){Tn.error(c)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(co,SH,AH,Ry,"gtag");uo=o,NH=s,nA=!0}return co[r]=function Yye(t,e,n,r,i,o,s){return tA.apply(this,arguments)}(t,SH,AH,e,NH,Ry,n),new Qye(t)}function eve(){return rA.apply(this,arguments)}function rA(){return(rA=p(function*(){if(oD()||!sD()||!Za())return!1;try{return yield Of()}catch{return!1}})).apply(this,arguments)}const OH="@firebase/analytics";!function nve(){hr(new Jn(My,(e,{options:n})=>Zye(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),hr(new Jn("analytics-internal",function t(e){try{const n=e.getProvider(My).getImmediate();return{logEvent:(r,i,o)=>function tve(t,e,n,r){t=dr(t),function $ye(t,e,n,r,i){return WS.apply(this,arguments)}(uo,co[t.app.options.appId],e,n,r).catch(i=>Tn.error(i))}(n,r,i,o)}}catch(n){throw fr.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Wt(OH,"0.10.0"),Wt(OH,"0.10.0","esm2017")}();class rve extends Bt{constructor(e,n){super()}schedule(e,n=0){return this}}const ky={setInterval(t,e,...n){const{delegate:r}=ky;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=ky;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class RH extends rve{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return ky.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&ky.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,hs(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const oA={now:()=>(oA.delegate||Date).now(),delegate:void 0};class Pf{constructor(e,n=Pf.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Pf.now=oA.now;class kH extends Pf{constructor(e,n=Pf.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const sve=new class ove extends kH{}(class ive extends RH{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),sA=new kH(RH),ave=sA,aA=new Mu("7.6.1"),cA="__angularfire_symbol__analyticsIsSupportedValue",uA="__angularfire_symbol__analyticsIsSupported",lA="__angularfire_symbol__remoteConfigIsSupportedValue",dA="__angularfire_symbol__remoteConfigIsSupported",hA="__angularfire_symbol__messagingIsSupportedValue",fA="__angularfire_symbol__messagingIsSupported";globalThis[uA]||(globalThis[uA]=eve().then(t=>globalThis[cA]=t).catch(()=>globalThis[cA]=!1)),globalThis[fA]||(globalThis[fA]=wH().then(t=>globalThis[hA]=t).catch(()=>globalThis[hA]=!1)),globalThis[dA]||(globalThis[dA]=E_e().then(t=>globalThis[lA]=t).catch(()=>globalThis[lA]=!1));const mA=(t,e)=>{const n=e?[e]:T$(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};function bl(){}class PH{constructor(e,n=sve){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class cve{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bl,{},bl,bl)),n.pipe(dn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let FH=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new PH(Zone.current)),this.insideAngular=n.run(()=>new PH(Zone.current,sA)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(W(Ee))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function sc(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function ac(t){return sc().ngZone.run(()=>t())}function lve(t){return sc(),function dve(t){return function(n){return(n=n.lift(new cve(t.ngZone))).pipe(xg(t.outsideAngular),Ag(t.insideAngular))}}(sc())(t)}const hve=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ac(()=>t.apply(void 0,r))},gi=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||(n=ac(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bl,{},bl,bl)))),r[o]=hve(r[o],n));const i=function uve(t){return sc().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Be){const o=sc();return i.pipe(xg(o.outsideAngular),Ag(o.insideAngular))}return ac(()=>i)}return i instanceof Be?i.pipe(lve):i instanceof Promise?ac(()=>new Promise((o,s)=>i.then(a=>ac(()=>o(a)),a=>ac(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:ac(()=>i)};class wl{constructor(e){return e}}class LH{constructor(){return T$()}}const _A=new te("angularfire2._apps"),pve={provide:wl,useFactory:function fve(t){return t&&1===t.length?t[0]:new wl(I$())},deps:[[new Tr,_A]]},gve={provide:LH,deps:[[new Tr,_A]]};function mve(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new wl(r)}}let _ve=(()=>{class t{constructor(n){Wt("angularfire",aA.full,"core"),Wt("angularfire",aA.full,"app"),Wt("angular",Y1.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(W(Mo))},t.\u0275mod=Te({type:t}),t.\u0275inj=we({providers:[pve,gve]}),t})();function yve(t,...e){return{ngModule:_ve,providers:[{provide:_A,useFactory:mve(t),multi:!0,deps:[Ee,Xt,FH,...e]}]}}const vve=gi(w$,!0);const bve=function VH(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},BH=new ao("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Py=new Ls("@firebase/auth");function Fy(t,...e){Py.logLevel<=xe.ERROR&&Py.error(`Auth (${Mf}): ${t}`,...e)}function Or(t,...e){throw yA(t,...e)}function lo(t,...e){return yA(t,...e)}function yA(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return BH.create(t,...e)}function q(t,e,...n){if(!t)throw yA(e,...n)}function ho(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fy(e),new Error(e)}function Hs(t,e){t||ho(e)}function jH(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Lf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hs(n>e,"Short delay should be less than long delay!"),this.isMobile=function Qpe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kr())}()||function Zpe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Ive(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function vA(){return"http:"===jH()||"https:"===jH()}()||oD()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class $H{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ho("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ho("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ho("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Eve={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Cve=new Lf(3e4,6e4);function Pt(t,e,n,r){return wA.apply(this,arguments)}function wA(){return(wA=p(function*(t,e,n,r,i={}){return HH(t,i,p(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=v$(Object.assign({key:t.config.apiKey},s)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),$H.fetch()(GH(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function HH(t,e,n){return IA.apply(this,arguments)}function IA(){return(IA=p(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Eve),e);try{const i=new Dve(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Vf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Vf(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw Vf(t,"email-already-in-use",s);if("USER_DISABLED"===c)throw Vf(t,"user-disabled",s);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw function UH(t,e,n){const r=Object.assign(Object.assign({},bve()),{[e]:n});return new ao("auth","Firebase",r).create(e,{appName:t.name})}(t,l,u);Or(t,l)}}catch(i){if(i instanceof Pi)throw i;Or(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function GH(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function bA(t,e){Hs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class Dve{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(lo(this.auth,"network-request-failed")),Cve.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=lo(t,e,r);return i.customData._tokenResponse=n,i}function EA(){return(EA=p(function*(t,e){return Pt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function DA(){return(DA=p(function*(t,e){return Pt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Bf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function SA(){return(SA=p(function*(t,e=!1){const n=dr(t),r=yield n.getIdToken(e),i=Ly(r);q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Bf(AA(i.auth_time)),issuedAtTime:Bf(AA(i.iat)),expirationTime:Bf(AA(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function AA(t){return 1e3*Number(t)}function Ly(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Fy("JWT malformed, contained fewer than 3 sections"),null;try{const i=wy(n);return i?JSON.parse(i):(Fy("Failed to decode base64 JWT payload"),null)}catch(i){return Fy("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Zo(t,e){return xA.apply(this,arguments)}function xA(){return(xA=p(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Pi&&function Mve({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Rve{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(p(function*(){yield n.iteration()}),r)}iteration(){var e=this;return p(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class zH{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bf(this.lastLoginAt),this.creationTime=Bf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Uf(t){return NA.apply(this,arguments)}function NA(){return NA=p(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Zo(t,function xve(t,e){return DA.apply(this,arguments)}(n,{idToken:r}));q(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function Fve(t){return t.map(e=>{var{providerId:n}=e,r=Xc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function Pve(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),l=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new zH(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),NA.apply(this,arguments)}function OA(){return(OA=p(function*(t){const e=dr(t);yield Uf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function MA(){return(MA=p(function*(t,e){const n=yield HH(t,{},p(function*(){const r=v$({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=GH(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",$H.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class jf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Ove(t){const e=Ly(t);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return p(function*(){return q(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return p(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function Lve(t,e){return MA.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new jf;return r&&(q("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(q("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(q("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jf,this.toJSON())}_performRefresh(){return ho("not implemented")}}function Gs(t,e){q("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class cc{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Xc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rve(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new zH(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return p(function*(){const r=yield Zo(n,n.stsTokenManager.getToken(n.auth,e));return q(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Nve(t){return SA.apply(this,arguments)}(this,e)}reload(){return function kve(t){return OA.apply(this,arguments)}(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return p(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Uf(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return p(function*(){const n=yield e.getIdToken();return yield Zo(e,function Sve(t,e){return EA.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,u,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,g=null!==(s=n.photoURL)&&void 0!==s?s:void 0,y=null!==(a=n.tenantId)&&void 0!==a?a:void 0,v=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,I=null!==(u=n.createdAt)&&void 0!==u?u:void 0,w=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:O,emailVerified:k,isAnonymous:$,providerData:Y,stsTokenManager:ae}=n;q(O&&ae,e,"internal-error");const me=jf.fromJSON(this.name,ae);q("string"==typeof O,e,"internal-error"),Gs(d,e.name),Gs(h,e.name),q("boolean"==typeof k,e,"internal-error"),q("boolean"==typeof $,e,"internal-error"),Gs(f,e.name),Gs(g,e.name),Gs(y,e.name),Gs(v,e.name),Gs(I,e.name),Gs(w,e.name);const Ve=new cc({uid:O,auth:e,email:h,emailVerified:k,displayName:d,isAnonymous:$,photoURL:g,phoneNumber:f,tenantId:y,stsTokenManager:me,createdAt:I,lastLoginAt:w});return Y&&Array.isArray(Y)&&(Ve.providerData=Y.map(yt=>Object.assign({},yt))),v&&(Ve._redirectEventId=v),Ve}static _fromIdTokenResponse(e,n,r=!1){return p(function*(){const i=new jf;i.updateFromServerResponse(n);const o=new cc({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Uf(o),o})()}}const qH=new Map;function Xo(t){Hs(t instanceof Function,"Expected a class definition");let e=qH.get(t);return e?(Hs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qH.set(t,e),e)}const WH=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(function*(){return!0})()}_set(n,r){var i=this;return p(function*(){i.storage[n]=r})()}_get(n){var r=this;return p(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return p(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Vy(t,e,n){return`firebase:${t}:${e}:${n}`}class Tl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Vy(this.userKey,i.apiKey,o),this.fullPersistenceKey=Vy("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return p(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?cc._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return p(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(function*(){if(!n.length)return new Tl(Xo(WH),e,r);const i=(yield Promise.all(n.map(function(){var u=p(function*(l){if(yield l._isAvailable())return l});return function(l){return u.apply(this,arguments)}}()))).filter(u=>u);let o=i[0]||Xo(WH);const s=Vy(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const l=yield u._get(s);if(l){const d=cc._fromJSON(e,l);u!==o&&(a=d),o=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var u=p(function*(l){if(l!==o)try{yield l._remove(s)}catch{}});return function(l){return u.apply(this,arguments)}}())),new Tl(o,e,r)):new Tl(o,e,r)})()}}function KH(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function JH(t=Kr()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function YH(t=Kr()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function XH(t=Kr()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function eG(t=Kr()){return/webos/i.test(t)}(e))return"Webos";if(function RA(t=Kr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function QH(t=Kr()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function ZH(t=Kr()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function tG(t,e=[]){let n;switch(t){case"Browser":n=KH(Kr());break;case"Worker":n=`${KH(Kr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mf}/${r}`}function nG(t,e){return PA.apply(this,arguments)}function PA(){return(PA=p(function*(t,e){return Pt(t,"GET","/v2/recaptchaConfig",function xt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}function iG(t){return void 0!==t&&void 0!==t.enterprise}class oG{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class aG{constructor(e){this.type="recaptcha-enterprise",this.auth=En(e)}verify(e="verify",n=!1){var r=this;return p(function*(){function o(){return o=p(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=p(function*(u,l){nG(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new oG(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,u(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(u,l){return c.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,c,u){const l=window.grecaptcha;iG(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(u=>{if(!n&&iG(window.grecaptcha))s(u,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));(function FA(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=lo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function jve(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+u).then(()=>{s(u,a,c)}).catch(l=>{c(l)})}}).catch(u=>{c(u)})})})()}}class zve{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return p(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class qve{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cG(this),this.idTokenSubscription=new cG(this),this.beforeStateQueue=new zve(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BH,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Xo(n)),this._initializationPromise=this.queue(p(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Tl.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return p(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return p(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,u=yield n.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(o=u.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return q(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return p(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return p(function*(){try{yield Uf(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Tve(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return p(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return p(function*(){const r=e?dr(e):null;return r&&q(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return p(function*(){if(!r._deleted)return e&&q(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(p(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return p(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(p(function*(){yield n.assertedPersistence.setPersistence(Xo(e))}))}initializeRecaptchaConfig(){var e=this;return p(function*(){const n=yield nG(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new oG(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new aG(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ao("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return p(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return p(function*(){if(!n.redirectPersistenceManager){const r=e&&Xo(e)||n._popupRedirectResolver;q(r,n,"argument-error"),n.redirectPersistenceManager=yield Tl.create(n,[Xo(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return p(function*(){var r,i;return n._isInitialized&&(yield n.queue(p(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return p(function*(){if(e===n.currentUser)return n.queue(p(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return q(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return p(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tG(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return p(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return p(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function wve(t,...e){Py.logLevel<=xe.WARN&&Py.warn(`Auth (${Mf}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function En(t){return dr(t)}class cG{constructor(e){this.auth=e,this.observer=null,this.addObserver=function nge(t,e){const n=new rge(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function sG(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new Lf(3e4,6e4),new Lf(2e3,1e4),new Lf(3e4,6e4),new Lf(5e3,15e3),encodeURIComponent("fac");var LG="@firebase/auth";class Vbe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return p(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Iy(),function Ube(t){hr(new Jn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;q(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tG(t)},u=new qve(r,i,o,c);return function Kve(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Xo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hr(new Jn("auth-internal",e=>{const n=En(e.getProvider("auth").getImmediate());return new Vbe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wt(LG,"0.23.2",function Bbe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Wt(LG,"0.23.2","esm2017")}("Browser");class jG{constructor(){return mA("auth")}}const EN=new Map,$G={activated:!1,tokenObservers:[]},Wbe={initialized:!1,enabled:!1};function Ft(t){return EN.get(t)||Object.assign({},$G)}function Jy(){return Wbe}const CN="https://content-firebaseappcheck.googleapis.com/v1",Jbe="exchangeDebugToken",HG={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Xbe{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return p(function*(){n.stop();try{n.pending=new Ty,yield function e1e(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Ty,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Vn=new ao("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function DN(t){if(!Ft(t).activated)throw Vn.create("use-before-activation",{appName:t.name})}function ev(t,e){return AN.apply(this,arguments)}function AN(){return AN=p(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(t,o)}catch(d){throw Vn.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw Vn.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw Vn.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw Vn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=1e3*Number(c[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+u,issuedAtTimeMillis:l}}),AN.apply(this,arguments)}function GG(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${CN}/projects/${n}/apps/${r}:${Jbe}?key=${i}`,body:{debug_token:e}}}const i1e="firebase-app-check-database",o1e=1,qf="firebase-app-check-store";let tv=null;function xN(){return xN=p(function*(t,e){const r=(yield function qG(){return tv||(tv=new Promise((t,e)=>{try{const n=indexedDB.open(i1e,o1e);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Vn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(qf,{keyPath:"compositeKey"})}}catch(n){e(Vn.create("storage-open",{originalErrorMessage:n?.message}))}}),tv)}()).transaction(qf,"readwrite"),o=r.objectStore(qf).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(Vn.create("storage-set",{originalErrorMessage:null===(u=c.target.error)||void 0===u?void 0:u.message}))}})}),xN.apply(this,arguments)}const Wf=new Ls("@firebase/app-check");function MN(t,e){return Za()?function a1e(t,e){return function WG(t,e){return xN.apply(this,arguments)}(function YG(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Wf.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function kN(){return Jy().enabled}function PN(){return FN.apply(this,arguments)}function FN(){return FN=p(function*(){const t=Jy();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),FN.apply(this,arguments)}const f1e={error:"UNKNOWN_ERROR"};function p1e(t){return iD.encodeString(JSON.stringify(t),!1)}function nv(t){return LN.apply(this,arguments)}function LN(){return LN=p(function*(t,e=!1){const n=t.app;DN(n);const r=Ft(n);let o,i=r.token;if(i&&!Cl(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Cl(c)?i=c:yield MN(n,void 0))}if(!e&&i&&Cl(i))return{token:i.token};let a,s=!1;if(kN()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ev(GG(n,yield PN()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const c=yield r.exchangeTokenPromise;return yield MN(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield Ft(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?Wf.warn(c.message):Wf.error(c),o=c}return i?o?a=Cl(i)?{token:i.token,internalError:o}:XG(o):(a={token:i.token},r.token=i,yield MN(n,i)):a=XG(o),s&&function ZG(t,e){const n=Ft(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),LN.apply(this,arguments)}function VN(){return VN=p(function*(t){const e=t.app;DN(e);const{provider:n}=Ft(e);if(kN()){const r=yield PN(),{token:i}=yield ev(GG(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),VN.apply(this,arguments)}function UN(t,e){const n=Ft(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function JG(t){const{app:e}=t,n=Ft(e);let r=n.tokenRefresher;r||(r=function g1e(t){const{app:e}=t;return new Xbe(p(function*(){let r;if(r=Ft(e).token?yield nv(t,!0):yield nv(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Ft(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},HG.RETRIAL_MIN_WAIT,HG.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Cl(t){return t.expireTimeMillis-Date.now()>0}function XG(t){return{token:p1e(f1e),error:t}}class m1e{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Ft(this.app);for(const n of e)UN(this.app,n.next);return Promise.resolve()}}const a6="app-check-internal";!function N1e(){hr(new Jn("app-check",t=>function _1e(t,e){return new m1e(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(a6).initialize()})),hr(new Jn(a6,t=>function y1e(t){return{getToken:e=>nv(t,e),getLimitedUseToken:()=>function QG(t){return VN.apply(this,arguments)}(t),addTokenListener:e=>function BN(t,e,n,r){const{app:i}=t,o=Ft(i);if(o.tokenObservers=[...o.tokenObservers,{next:n,error:r,type:e}],o.token&&Cl(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),JG(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>JG(t))}(t,"INTERNAL",e),removeTokenListener:e=>UN(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Wt("@firebase/app-check","0.8.0")}();class u6{constructor(){return mA("app-check")}}typeof window<"u"&&window;var X,P1e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fi={},zN=zN||{},ge=P1e||self;function iv(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Kf(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var qN="closure_uid_"+(1e9*Math.random()>>>0),L1e=0;function V1e(t,e,n){return t.call.apply(t.bind,arguments)}function B1e(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Zn(t,e,n){return(Zn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?V1e:B1e).apply(null,arguments)}function ov(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Cn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function qs(){this.s=this.s,this.o=this.o}qs.prototype.s=!1,qs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function F1e(t){Object.prototype.hasOwnProperty.call(t,qN)&&t[qN]||(t[qN]=++L1e)}(this)},qs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const l6=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function WN(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function d6(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(iv(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Xn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Xn.prototype.h=function(){this.defaultPrevented=!0};var j1e=function(){if(!ge.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ge.addEventListener("test",()=>{},e),ge.removeEventListener("test",()=>{},e)}catch{}return t}();function Yf(t){return/^[\s\xa0]*$/.test(t)}function sv(){var t=ge.navigator;return t&&(t=t.userAgent)?t:""}function fo(t){return-1!=sv().indexOf(t)}function KN(t){return KN[" "](t),t}KN[" "]=function(){};var QN,H1e=fo("Opera"),Dl=fo("Trident")||fo("MSIE"),h6=fo("Edge"),YN=h6||Dl,f6=fo("Gecko")&&!(-1!=sv().toLowerCase().indexOf("webkit")&&!fo("Edge"))&&!(fo("Trident")||fo("MSIE"))&&!fo("Edge"),G1e=-1!=sv().toLowerCase().indexOf("webkit")&&!fo("Edge");function p6(){var t=ge.document;return t?t.documentMode:void 0}e:{var JN="",ZN=function(){var t=sv();return f6?/rv:([^\);]+)(\)|;)/.exec(t):h6?/Edge\/([\d\.]+)/.exec(t):Dl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):G1e?/WebKit\/(\S+)/.exec(t):H1e?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(ZN&&(JN=ZN?ZN[1]:""),Dl){var XN=p6();if(null!=XN&&XN>parseFloat(JN)){QN=String(XN);break e}}QN=JN}var z1e=ge.document&&Dl&&(p6()||parseInt(QN,10))||void 0;function Qf(t,e){if(Xn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(f6){e:{try{KN(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:q1e[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Qf.$.h.call(this)}}Cn(Qf,Xn);var q1e={2:"touch",3:"pen",4:"mouse"};Qf.prototype.h=function(){Qf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Jf="closure_listenable_"+(1e6*Math.random()|0),W1e=0;function K1e(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++W1e,this.fa=this.ia=!1}function av(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function tO(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function m6(t){const e={};for(const n in t)e[n]=t[n];return e}const _6="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function y6(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<_6.length;o++)n=_6[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function cv(t){this.src=t,this.g={},this.h=0}function nO(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=l6(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(av(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function rO(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}cv.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=rO(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new K1e(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var iO="closure_lm_"+(1e6*Math.random()|0),oO={};function v6(t,e,n,r,i){if(r&&r.once)return w6(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)v6(t,e[o],n,r,i);return null}return n=uO(n),t&&t[Jf]?t.O(e,n,Kf(r)?!!r.capture:!!r,i):b6(t,e,n,!1,r,i)}function b6(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Kf(i)?!!i.capture:!!i,a=aO(t);if(a||(t[iO]=a=new cv(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function Q1e(){const e=J1e;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)j1e||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(T6(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function w6(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)w6(t,e[o],n,r,i);return null}return n=uO(n),t&&t[Jf]?t.P(e,n,Kf(r)?!!r.capture:!!r,i):b6(t,e,n,!0,r,i)}function I6(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)I6(t,e[o],n,r,i);else r=Kf(r)?!!r.capture:!!r,n=uO(n),t&&t[Jf]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=rO(o=t.g[e],n,r,i))&&(av(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=aO(t))&&(e=t.g[e.toString()],t=-1,e&&(t=rO(e,n,r,i)),(n=-1<t?e[t]:null)&&sO(n))}function sO(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Jf])nO(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(T6(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=aO(e))?(nO(n,t),0==n.h&&(n.src=null,e[iO]=null)):av(t)}}}function T6(t){return t in oO?oO[t]:oO[t]="on"+t}function J1e(t,e){if(t.fa)t=!0;else{e=new Qf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&sO(t),t=n.call(r,e)}return t}function aO(t){return(t=t[iO])instanceof cv?t:null}var cO="__closure_events_fn_"+(1e9*Math.random()>>>0);function uO(t){return"function"==typeof t?t:(t[cO]||(t[cO]=function(e){return t.handleEvent(e)}),t[cO])}function Dn(){qs.call(this),this.i=new cv(this),this.S=this,this.J=null}function Bn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Xn(e,t);else if(e instanceof Xn)e.target=e.target||t;else{var i=e;y6(e=new Xn(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=uv(s,r,!0,e)&&i}if(i=uv(s=e.g=t,r,!0,e)&&i,i=uv(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=uv(s=e.g=n[o],r,!1,e)&&i}function uv(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&nO(t.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Cn(Dn,qs),Dn.prototype[Jf]=!0,Dn.prototype.removeEventListener=function(t,e,n,r){I6(this,t,e,n,r)},Dn.prototype.N=function(){if(Dn.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)av(n[r]);delete t.g[e],t.h--}}this.J=null},Dn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Dn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var lO=ge.JSON.stringify;function X1e(){var t=dO;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var E6=new class Z1e{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new twe,t=>t.reset());class twe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function nwe(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function rwe(t){ge.setTimeout(()=>{throw t},0)}let Zf,Xf=!1,dO=new class ewe{constructor(){this.h=this.g=null}add(e,n){const r=E6.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},C6=()=>{const t=ge.Promise.resolve(void 0);Zf=()=>{t.then(iwe)}};var iwe=()=>{for(var t;t=X1e();){try{t.h.call(t.g)}catch(n){rwe(n)}var e=E6;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Xf=!1};function lv(t,e){Dn.call(this),this.h=t||1,this.g=e||ge,this.j=Zn(this.qb,this),this.l=Date.now()}function hO(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function fO(t,e,n){if("function"==typeof t)n&&(t=Zn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Zn(t.handleEvent,t)}return 2147483647<Number(e)?-1:ge.setTimeout(t,e||0)}function D6(t){t.g=fO(()=>{t.g=null,t.i&&(t.i=!1,D6(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Cn(lv,Dn),(X=lv.prototype).ga=!1,X.T=null,X.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Bn(this,"tick"),this.ga&&(hO(this),this.start()))}},X.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},X.N=function(){lv.$.N.call(this),hO(this),delete this.g};class owe extends qs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:D6(this)}N(){super.N(),this.g&&(ge.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ep(t){qs.call(this),this.h=t,this.g={}}Cn(ep,qs);var S6=[];function A6(t,e,n,r){Array.isArray(n)||(n&&(S6[0]=n.toString()),n=S6);for(var i=0;i<n.length;i++){var o=v6(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function x6(t){tO(t.g,function(e,n){this.g.hasOwnProperty(n)&&sO(e)},t),t.g={}}function dv(){this.g=!0}function Sl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function uwe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return lO(n)}catch{return e}}(t,n)+(r?" "+r:"")})}ep.prototype.N=function(){ep.$.N.call(this),x6(this)},ep.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},dv.prototype.Ea=function(){this.g=!1},dv.prototype.info=function(){};var hc={},N6=null;function hv(){return N6=N6||new Dn}function O6(t){Xn.call(this,hc.Ta,t)}function tp(t){const e=hv();Bn(e,new O6(e))}function M6(t,e){Xn.call(this,hc.STAT_EVENT,t),this.stat=e}function pr(t){const e=hv();Bn(e,new M6(e,t))}function R6(t,e){Xn.call(this,hc.Ua,t),this.size=e}function np(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ge.setTimeout(function(){t()},e)}hc.Ta="serverreachability",Cn(O6,Xn),hc.STAT_EVENT="statevent",Cn(M6,Xn),hc.Ua="timingevent",Cn(R6,Xn);var fv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},k6={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function pO(){}function F6(){}pO.prototype.h=null;var _O,rp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function gO(){Xn.call(this,"d")}function mO(){Xn.call(this,"c")}function pv(){}function ip(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ep(this),this.P=lwe,this.V=new lv(t=YN?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new L6}function L6(){this.i=null,this.g="",this.h=!1}Cn(gO,Xn),Cn(mO,Xn),Cn(pv,pO),pv.prototype.g=function(){return new XMLHttpRequest},pv.prototype.i=function(){return{}},_O=new pv;var lwe=45e3,yO={},gv={};function vO(t,e,n){t.L=1,t.v=vv(ts(e)),t.s=n,t.S=!0,V6(t,null)}function V6(t,e){t.G=Date.now(),op(t),t.A=ts(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),K6(n.i,"t",r),t.C=0,n=t.l.J,t.h=new L6,t.g=y7(t.l,n?e:null,!t.s),0<t.O&&(t.M=new owe(Zn(t.Pa,t,t.g),t.O)),A6(t.U,t.g,"readystatechange",t.nb),e=t.I?m6(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),tp(),function swe(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");s=2<=d.length&&"type"==d[1]?s+(l+"=")+u+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.W,t.s)}function B6(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function U6(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=dwe(t,n),i==gv){4==e&&(t.o=4,pr(14),r=!1),Sl(t.j,t.m,null,"[Incomplete Response]");break}if(i==yO){t.o=4,pr(15),Sl(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Sl(t.j,t.m,i,null),bO(t,i)}B6(t)&&i!=gv&&i!=yO&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,pr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),SO(e),e.M=!0,pr(11))):(Sl(t.j,t.m,n,"[Invalid Chunked Response]"),fc(t),sp(t))}function dwe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?gv:(n=Number(e.substring(n,r)),isNaN(n)?yO:(r+=1)+n>e.length?gv:(e=e.slice(r,r+n),t.C=r+n,e))}function op(t){t.Y=Date.now()+t.P,j6(t,t.P)}function j6(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=np(Zn(t.lb,t),e)}function mv(t){t.B&&(ge.clearTimeout(t.B),t.B=null)}function sp(t){0==t.l.H||t.J||p7(t.l,t)}function fc(t){mv(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,hO(t.V),x6(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function bO(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||wO(n.i,t)))if(!t.K&&wO(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Cv(n),Tv(n)}DO(n),pr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=np(Zn(n.ib,n),6e3));if(1>=J6(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else gc(n,11)}else if((t.K||n.g==t)&&Cv(n),!Yf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const l=u[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=u[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var o=r.i;o.g||-1==g.indexOf("spdy")&&-1==g.indexOf("quic")&&-1==g.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(IO(o,o.h),o.h=null))}if(r.F){const y=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,pt(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=_7(r,r.J?r.pa:null,r.Y),s.K){Z6(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.B&&(mv(a),op(a)),r.g=s}else h7(r);0<n.j.length&&Ev(n)}else"stop"!=u[0]&&"close"!=u[0]||gc(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?gc(n,7):CO(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}tp()}catch{}}function $6(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(iv(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function fwe(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(iv(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function hwe(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(iv(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(X=ip.prototype).setTimeout=function(t){this.P=t},X.nb=function(t){t=t.target;const e=this.M;e&&3==po(t)?e.l():this.Pa(t)},X.Pa=function(t){try{if(t==this.g)e:{const l=po(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||YN||this.g&&(this.h.h||this.g.ja()||s7(this.g)))){this.J||4!=l||7==e||tp(),mv(this);var n=this.g.da();this.ca=n;t:if(B6(this)){var r=s7(this.g);t="";var i=r.length,o=4==po(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){fc(this),sp(this);var s="";break t}this.h.i=new ge.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function awe(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yf(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,pr(12),fc(this),sp(this);break e}Sl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bO(this,n)}this.S?(U6(this,l,s),YN&&this.i&&3==l&&(A6(this.U,this.V,"tick",this.mb),this.V.start())):(Sl(this.j,this.m,s,null),bO(this,s)),4==l&&fc(this),this.i&&!this.J&&(4==l?p7(this.l,this):(this.i=!1,op(this)))}else(function Owe(t){const e={};t=(t.g&&2<=po(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Yf(t[r]))continue;var n=nwe(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function Y1e(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,pr(12)):(this.o=0,pr(13)),fc(this),sp(this)}}}catch{}},X.mb=function(){if(this.g){var t=po(this.g),e=this.g.ja();this.C<e.length&&(mv(this),U6(this,t,e),this.i&&4!=t&&op(this))}},X.cancel=function(){this.J=!0,fc(this)},X.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function cwe(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(tp(),pr(17)),fc(this),this.o=2,sp(this)):j6(this,this.Y-t)};var H6=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pc(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof pc){this.h=t.h,_v(this,t.j),this.s=t.s,this.g=t.g,yv(this,t.m),this.l=t.l;var e=t.i,n=new up;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),G6(this,n),this.o=t.o}else t&&(e=String(t).match(H6))?(this.h=!1,_v(this,e[1]||"",!0),this.s=ap(e[2]||""),this.g=ap(e[3]||"",!0),yv(this,e[4]),this.l=ap(e[5]||"",!0),G6(this,e[6]||"",!0),this.o=ap(e[7]||"")):(this.h=!1,this.i=new up(null,this.h))}function ts(t){return new pc(t)}function _v(t,e,n){t.j=n?ap(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function yv(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function G6(t,e,n){e instanceof up?(t.i=e,function bwe(t,e){e&&!t.j&&(Ws(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(q6(this,r),K6(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=cp(e,ywe)),t.i=new up(e,t.h))}function pt(t,e,n){t.i.set(e,n)}function vv(t){return pt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ap(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function cp(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,gwe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function gwe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}pc.prototype.toString=function(){var t=[],e=this.j;e&&t.push(cp(e,z6,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(cp(e,z6,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(cp(n,"/"==n.charAt(0)?_we:mwe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",cp(n,vwe)),t.join("")};var z6=/[#\/\?@]/g,mwe=/[#\?:]/g,_we=/[#\?]/g,ywe=/[#\?@]/g,vwe=/#/g;function up(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ws(t){t.g||(t.g=new Map,t.h=0,t.i&&function pwe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function q6(t,e){Ws(t),e=Al(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function W6(t,e){return Ws(t),e=Al(t,e),t.g.has(e)}function K6(t,e,n){q6(t,e),0<n.length&&(t.i=null,t.g.set(Al(t,e),WN(n)),t.h+=n.length)}function Al(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Y6(t){this.l=t||Iwe,t=ge.PerformanceNavigationTiming?0<(t=ge.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ge.g&&ge.g.Ka&&ge.g.Ka()&&ge.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(X=up.prototype).add=function(t,e){Ws(this),this.i=null,t=Al(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},X.forEach=function(t,e){Ws(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},X.ta=function(){Ws(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},X.Z=function(t){Ws(this);let e=[];if("string"==typeof t)W6(this,t)&&(e=e.concat(this.g.get(Al(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},X.set=function(t,e){return Ws(this),this.i=null,W6(this,t=Al(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},X.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},X.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var Iwe=10;function Q6(t){return!!t.h||!!t.g&&t.g.size>=t.j}function J6(t){return t.h?1:t.g?t.g.size:0}function wO(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function IO(t,e){t.g?t.g.add(e):t.h=e}function Z6(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function X6(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return WN(t.i)}Y6.prototype.cancel=function(){if(this.i=X6(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Twe=class{stringify(t){return ge.JSON.stringify(t,void 0)}parse(t){return ge.JSON.parse(t,void 0)}};function Ewe(){this.g=new Twe}function Cwe(t,e,n){const r=n||"";try{$6(t,function(i,o){let s=i;Kf(i)&&(s=lO(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function bv(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function lp(t){this.l=t.fc||null,this.j=t.ob||!1}function wv(t,e){Dn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=TO,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Cn(lp,pO),lp.prototype.g=function(){return new wv(this.l,this.j)},lp.prototype.i=function(t){return function(){return t}}({}),Cn(wv,Dn);var TO=0;function e7(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function dp(t){t.readyState=4,t.l=null,t.j=null,t.A=null,hp(t)}function hp(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(X=wv.prototype).open=function(t,e){if(this.readyState!=TO)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,hp(this)},X.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ge).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},X.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dp(this)),this.readyState=TO},X.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,hp(this)),this.g&&(this.readyState=3,hp(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ge.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;e7(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},X.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?dp(this):hp(this),3==this.readyState&&e7(this)}},X.Za=function(t){this.g&&(this.response=this.responseText=t,dp(this))},X.Ya=function(t){this.g&&(this.response=t,dp(this))},X.ka=function(){this.g&&dp(this)},X.setRequestHeader=function(t,e){this.v.append(t,e)},X.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},X.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(wv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Swe=ge.JSON.parse;function Lt(t){Dn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=t7,this.L=this.M=!1}Cn(Lt,Dn);var t7="",Awe=/^https?$/i,xwe=["POST","PUT"];function n7(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,r7(t),Iv(t)}function r7(t){t.F||(t.F=!0,Bn(t,"complete"),Bn(t,"error"))}function i7(t){if(t.h&&typeof zN<"u"&&(!t.C[1]||4!=po(t)||2!=t.da()))if(t.v&&4==po(t))fO(t.La,0,t);else if(Bn(t,"readystatechange"),4==po(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(H6)[1]||null;!i&&ge.self&&ge.self.location&&(i=ge.self.location.protocol.slice(0,-1)),r=!Awe.test(i?i.toLowerCase():"")}n=r}if(n)Bn(t,"complete"),Bn(t,"success");else{t.m=6;try{var o=2<po(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",r7(t)}}finally{Iv(t)}}}function Iv(t,e){if(t.g){o7(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Bn(t,"ready");try{n.onreadystatechange=r}catch{}}}function o7(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ge.clearTimeout(t.A),t.A=null)}function po(t){return t.g?t.g.readyState:0}function s7(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case t7:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function a7(t){let e="";return tO(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function EO(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=a7(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):pt(t,e,n))}function fp(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function c7(t){this.Ga=0,this.j=[],this.l=new dv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=fp("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=fp("baseRetryDelayMs",5e3,t),this.hb=fp("retryDelaySeedMs",1e4,t),this.eb=fp("forwardChannelMaxRetries",2,t),this.xa=fp("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Y6(t&&t.concurrentRequestLimit),this.Ja=new Ewe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function CO(t){if(u7(t),3==t.H){var e=t.W++,n=ts(t.I);if(pt(n,"SID",t.K),pt(n,"RID",e),pt(n,"TYPE","terminate"),pp(t,n),(e=new ip(t,t.l,e)).L=2,e.v=vv(ts(n)),n=!1,ge.navigator&&ge.navigator.sendBeacon)try{n=ge.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ge.Image&&((new Image).src=e.v,n=!0),n||(e.g=y7(e.l,null),e.g.ha(e.v)),e.G=Date.now(),op(e)}m7(t)}function Tv(t){t.g&&(SO(t),t.g.cancel(),t.g=null)}function u7(t){Tv(t),t.u&&(ge.clearTimeout(t.u),t.u=null),Cv(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ge.clearTimeout(t.m),t.m=null)}function Ev(t){if(!Q6(t.i)&&!t.m){t.m=!0;var e=t.Na;Zf||C6(),Xf||(Zf(),Xf=!0),dO.add(e,t),t.C=0}}function l7(t,e){var n;n=e?e.m:t.W++;const r=ts(t.I);pt(r,"SID",t.K),pt(r,"RID",n),pt(r,"AID",t.V),pp(t,r),t.o&&t.s&&EO(r,t.o,t.s),n=new ip(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=d7(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),IO(t.i,n),vO(n,r,e)}function pp(t,e){t.na&&tO(t.na,function(n,r){pt(e,r,n)}),t.h&&$6({},function(n,r){pt(e,r,n)})}function d7(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Zn(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let u=i[c].g;const l=i[c].map;if(u-=o,0>u)o=Math.max(0,i[c].g-100),a=!1;else try{Cwe(l,s,"req"+u+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function h7(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Zf||C6(),Xf||(Zf(),Xf=!0),dO.add(e,t),t.A=0}}function DO(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=np(Zn(t.Ma,t),g7(t,t.A)),t.A++,0))}function SO(t){null!=t.B&&(ge.clearTimeout(t.B),t.B=null)}function f7(t){t.g=new ip(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=ts(t.wa);pt(e,"RID","rpc"),pt(e,"SID",t.K),pt(e,"AID",t.V),pt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&pt(e,"TO",t.qa),pt(e,"TYPE","xmlhttp"),pp(t,e),t.o&&t.s&&EO(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=vv(ts(e)),n.s=null,n.S=!0,V6(n,t)}function Cv(t){null!=t.v&&(ge.clearTimeout(t.v),t.v=null)}function p7(t,e){var n=null;if(t.g==e){Cv(t),SO(t),t.g=null;var r=2}else{if(!wO(t.i,e))return;n=e.F,Z6(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Bn(r=hv(),new R6(r,n)),Ev(t)}else h7(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Mwe(t,e){return!(J6(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=np(Zn(t.Na,t,e),g7(t,t.C)),t.C++,0)))}(t,e)||2==r&&DO(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:gc(t,5);break;case 4:gc(t,10);break;case 3:gc(t,6);break;default:gc(t,2)}}function g7(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function gc(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Zn(t.pb,t);n||(n=new pc("//www.google.com/images/cleardot.gif"),ge.location&&"http"==ge.location.protocol||_v(n,"https"),vv(n)),function Dwe(t,e){const n=new dv;if(ge.Image){const r=new Image;r.onload=ov(bv,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ov(bv,n,r,"TestLoadImage: error",!1,e),r.onabort=ov(bv,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ov(bv,n,r,"TestLoadImage: timeout",!1,e),ge.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else pr(2);t.H=0,t.h&&t.h.za(e),m7(t),u7(t)}function m7(t){if(t.H=0,t.ma=[],t.h){const e=X6(t.i);(0!=e.length||0!=t.j.length)&&(d6(t.ma,e),d6(t.ma,t.j),t.i.i.length=0,WN(t.j),t.j.length=0),t.h.ya()}}function _7(t,e,n){var r=n instanceof pc?ts(n):new pc(n);if(""!=r.g)e&&(r.g=e+"."+r.g),yv(r,r.m);else{var i=ge.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new pc(null);r&&_v(o,r),e&&(o.g=e),i&&yv(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&pt(r,n,e),pt(r,"VER",t.ra),pp(t,r),r}function y7(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Lt(n&&t.Ha&&!t.va?new lp({ob:!0}):t.va)).Oa(t.J),e}function v7(){}function Dv(){if(Dl&&!(10<=Number(z1e)))throw Error("Environmental error: no available transport.")}function Yr(t,e){Dn.call(this),this.g=new c7(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Yf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Yf(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new xl(this)}function b7(t){gO.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function w7(){mO.call(this),this.status=1}function xl(t){this.g=t}function Li(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function AO(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function nt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(X=Lt.prototype).Oa=function(t){this.M=t},X.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():_O.g(),this.C=function P6(t){return t.h||(t.h=t.i())}(this.u?this.u:_O),this.g.onreadystatechange=Zn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void n7(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=ge.FormData&&t instanceof ge.FormData,!(0<=l6(xwe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{o7(this),0<this.B&&((this.L=function Nwe(t){return Dl&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zn(this.ua,this)):this.A=fO(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){n7(this,o)}},X.ua=function(){typeof zN<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Bn(this,"timeout"),this.abort(8))},X.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Bn(this,"complete"),Bn(this,"abort"),Iv(this))},X.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Iv(this,!0)),Lt.$.N.call(this)},X.La=function(){this.s||(this.G||this.v||this.l?i7(this):this.kb())},X.kb=function(){i7(this)},X.isActive=function(){return!!this.g},X.da=function(){try{return 2<po(this)?this.g.status:-1}catch{return-1}},X.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},X.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Swe(e)}},X.Ia=function(){return this.m},X.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(X=c7.prototype).ra=8,X.H=1,X.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ip(this,this.l,t);let o=this.s;if(this.U&&(o?(o=m6(o),y6(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=d7(this,i,e),pt(n=ts(this.I),"RID",t),pt(n,"CVER",22),this.F&&pt(n,"X-HTTP-Session-Id",this.F),pp(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(a7(o)))+"&"+e:this.o&&EO(n,this.o,o)),IO(this.i,i),this.bb&&pt(n,"TYPE","init"),this.P?(pt(n,"$req",e),pt(n,"SID","null"),i.aa=!0,vO(i,n,null)):vO(i,n,e),this.H=2}}else 3==this.H&&(t?l7(this,t):0==this.j.length||Q6(this.i)||l7(this))},X.Ma=function(){if(this.u=null,f7(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=np(Zn(this.jb,this),t)}},X.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,pr(10),Tv(this),f7(this))},X.ib=function(){null!=this.v&&(this.v=null,Tv(this),DO(this),pr(19))},X.pb=function(t){t?(this.l.info("Successfully pinged google.com"),pr(2)):(this.l.info("Failed to ping google.com"),pr(1))},X.isActive=function(){return!!this.h&&this.h.isActive(this)},(X=v7.prototype).Ba=function(){},X.Aa=function(){},X.za=function(){},X.ya=function(){},X.isActive=function(){return!0},X.Va=function(){},Dv.prototype.g=function(t,e){return new Yr(t,e)},Cn(Yr,Dn),Yr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;pr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=_7(t,null,t.Y),Ev(t)},Yr.prototype.close=function(){CO(this.g)},Yr.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=lO(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Ev(e)},Yr.prototype.N=function(){this.g.h=null,delete this.j,CO(this.g),delete this.g,Yr.$.N.call(this)},Cn(b7,gO),Cn(w7,mO),Cn(xl,v7),xl.prototype.Ba=function(){Bn(this.g,"a")},xl.prototype.Aa=function(t){Bn(this.g,new b7(t))},xl.prototype.za=function(t){Bn(this.g,new w7)},xl.prototype.ya=function(){Bn(this.g,"b")},Cn(Li,function Rwe(){this.blockSize=-1}),Li.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Li.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)AO(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){AO(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){AO(this,r),i=0;break}}this.h=i,this.i+=e},Li.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var kwe={};function xO(t){return-128<=t&&128>t?function $1e(t,e){var n=kwe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new nt([0|e],0>e?-1:0)}):new nt([0|t],0>t?-1:0)}function go(t){if(isNaN(t)||!isFinite(t))return Nl;if(0>t)return Un(go(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=NO;return new nt(e,0)}var NO=4294967296,Nl=xO(0),OO=xO(1),T7=xO(16777216);function ns(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function _i(t){return-1==t.h}function Un(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new nt(n,~t.h).add(OO)}function Sv(t,e){return t.add(Un(e))}function Av(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function gp(t,e){this.g=t,this.h=e}function xv(t,e){if(ns(e))throw Error("division by zero");if(ns(t))return new gp(Nl,Nl);if(_i(t))return e=xv(Un(t),e),new gp(Un(e.g),Un(e.h));if(_i(e))return e=xv(t,Un(e)),new gp(Un(e.g),e.h);if(30<t.g.length){if(_i(t)||_i(e))throw Error("slowDivide_ only works with positive integers.");for(var n=OO,r=e;0>=r.X(t);)n=E7(n),r=E7(r);var i=Ol(n,1),o=Ol(r,1);for(r=Ol(r,2),n=Ol(n,2);!ns(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Ol(r,1),n=Ol(n,1)}return e=Sv(t,i.R(e)),new gp(i,e)}for(i=Nl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=go(n)).R(e);_i(s)||0<s.X(t);)s=(o=go(n-=r)).R(e);ns(o)&&(o=OO),i=i.add(o),t=Sv(t,s)}return new gp(i,t)}function E7(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new nt(n,t.h)}function Ol(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new nt(i,t.h)}(X=nt.prototype).ea=function(){if(_i(this))return-Un(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:NO+r)*e,e*=NO}return t},X.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(ns(this))return"0";if(_i(this))return"-"+Un(this).toString(t);for(var e=go(Math.pow(t,6)),n=this,r="";;){var i=xv(n,e).g,o=((0<(n=Sv(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(ns(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},X.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},X.X=function(t){return _i(t=Sv(this,t))?-1:ns(t)?0:1},X.abs=function(){return _i(this)?Un(this):this},X.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new nt(n,-2147483648&n[n.length-1]?-1:0)},X.R=function(t){if(ns(this)||ns(t))return Nl;if(_i(this))return _i(t)?Un(this).R(Un(t)):Un(Un(this).R(t));if(_i(t))return Un(this.R(Un(t)));if(0>this.X(T7)&&0>t.X(T7))return go(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=s*c,Av(n,2*r+2*i),n[2*r+2*i+1]+=o*c,Av(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Av(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Av(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new nt(n,0)},X.gb=function(t){return xv(this,t).h},X.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new nt(n,this.h&t.h)},X.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new nt(n,this.h|t.h)},X.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new nt(n,this.h^t.h)},Dv.prototype.createWebChannel=Dv.prototype.g,Yr.prototype.send=Yr.prototype.u,Yr.prototype.open=Yr.prototype.m,Yr.prototype.close=Yr.prototype.close,fv.NO_ERROR=0,fv.TIMEOUT=8,fv.HTTP_ERROR=6,k6.COMPLETE="complete",F6.EventType=rp,rp.OPEN="a",rp.CLOSE="b",rp.ERROR="c",rp.MESSAGE="d",Dn.prototype.listen=Dn.prototype.O,Lt.prototype.listenOnce=Lt.prototype.P,Lt.prototype.getLastError=Lt.prototype.Sa,Lt.prototype.getLastErrorCode=Lt.prototype.Ia,Lt.prototype.getStatus=Lt.prototype.da,Lt.prototype.getResponseJson=Lt.prototype.Wa,Lt.prototype.getResponseText=Lt.prototype.ja,Lt.prototype.send=Lt.prototype.ha,Lt.prototype.setWithCredentials=Lt.prototype.Oa,Li.prototype.digest=Li.prototype.l,Li.prototype.reset=Li.prototype.reset,Li.prototype.update=Li.prototype.j,nt.prototype.add=nt.prototype.add,nt.prototype.multiply=nt.prototype.R,nt.prototype.modulo=nt.prototype.gb,nt.prototype.compare=nt.prototype.X,nt.prototype.toNumber=nt.prototype.ea,nt.prototype.toString=nt.prototype.toString,nt.prototype.getBits=nt.prototype.D,nt.fromNumber=go,nt.fromString=function I7(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Un(I7(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=go(Math.pow(e,8)),r=Nl,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=go(Math.pow(e,o)),r=r.R(o).add(go(s))):r=(r=r.R(n)).add(go(s))}return r};var Pwe=Fi.createWebChannelTransport=function(){return new Dv},Fwe=Fi.getStatEventTarget=function(){return hv()},MO=Fi.ErrorCode=fv,Lwe=Fi.EventType=k6,Vwe=Fi.Event=hc,C7=Fi.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Bwe=Fi.FetchXmlHttpFactory=lp,Nv=Fi.WebChannel=F6,Uwe=Fi.XhrIo=Lt,jwe=Fi.Md5=Li,Ml=Fi.Integer=nt;const D7="@firebase/firestore";class Sn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");let Rl="9.23.0";const Ks=new Ls("@firebase/firestore");function RO(){return Ks.logLevel}function j(t,...e){if(Ks.logLevel<=xe.DEBUG){const n=e.map(kO);Ks.debug(`Firestore (${Rl}): ${t}`,...n)}}function Kt(t,...e){if(Ks.logLevel<=xe.ERROR){const n=e.map(kO);Ks.error(`Firestore (${Rl}): ${t}`,...n)}}function Vi(t,...e){if(Ks.logLevel<=xe.WARN){const n=e.map(kO);Ks.warn(`Firestore (${Rl}): ${t}`,...n)}}function kO(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function ne(t="Unexpected state"){const e=`FIRESTORE (${Rl}) INTERNAL ASSERTION FAILED: `+t;throw Kt(e),new Error(e)}function ie(t,e){t||ne()}function Z(t,e){return t}const x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class V extends Pi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class S7{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $we{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Sn.UNAUTHENTICATED))}shutdown(){}}class Hwe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Gwe{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new hn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new hn,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(p(function*(){yield u.promise,yield o(r.currentUser)}))},c=u=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new hn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ie("string"==typeof r.accessToken),new S7(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ie(null===e||"string"==typeof e),new Sn(e)}}class zwe{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class qwe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new zwe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class A7{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wwe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=o=>{null!=o.error&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,j("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ie("string"==typeof n.token),this.T=n.token,new A7(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Kwe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class x7{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Kwe(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function kl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Nt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new V(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Nt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new se(e)}static min(){return new se(new Nt(0,0))}static max(){return new se(new Nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class mp{constructor(e,n,r){void 0===n?n=0:n>e.length&&ne(),void 0===r?r=e.length-n:r>e.length-n&&ne(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===mp.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mp?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ke extends mp{construct(e,n,r){return new ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new V(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ke(n)}static emptyPath(){return new ke([])}}const Ywe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends mp{construct(e,n,r){return new Yt(e,n,r)}static isValidIdentifier(e){return Ywe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Yt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new V(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new V(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new V(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new V(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}class J{constructor(e){this.path=e}static fromPath(e){return new J(ke.fromString(e))}static fromName(e){return new J(ke.fromString(e).popFirst(5))}static empty(){return new J(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ke.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new ke(e.slice()))}}function M7(t){return new Qr(t.readTime,t.key,-1)}class Qr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qr(se.min(),J.empty(),-1)}static max(){return new Qr(se.max(),J.empty(),-1)}}function FO(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=J.comparator(t.documentKey,e.documentKey),0!==n?n:he(t.largestBatchId,e.largestBatchId))}const R7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zwe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ys(t){return LO.apply(this,arguments)}function LO(){return LO=p(function*(t){if(t.code!==x.FAILED_PRECONDITION||t.message!==R7)throw t;j("LocalStore","Unexpectedly lost primary lease")}),LO.apply(this,arguments)}class A{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new A((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof A?n:A.resolve(n)}catch(n){return A.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):A.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):A.reject(n)}static resolve(e){return new A((n,r)=>{n(e)})}static reject(e){return new A((n,r)=>{r(e)})}static waitFor(e){return new A((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=A.resolve(!1);for(const r of e)n=n.next(i=>i?A.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new A((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const u=c;n(e[u]).next(l=>{s[u]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new A((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}function Qs(t){return"IndexedDbTransactionError"===t.name}let Jr=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function vp(t){return null==t}function bp(t){return 0===t&&1/t==-1/0}function $7(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Js(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function H7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class dt{constructor(e,n){this.comparator=e,this.root=n||jn.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jn.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pv(this.root,e,this.comparator,!0)}}class Pv{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??jn.RED,this.left=i??jn.EMPTY,this.right=o??jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new jn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return jn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();const e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}}jn.EMPTY=null,jn.RED=!0,jn.BLACK=!1,jn.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(t,e,n,r,i){return this}insert(t,e,n){return new jn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new G7(this.data.getIterator())}getIteratorFrom(e){return new G7(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gt(this.comparator);return n.data=e,n}}class G7{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mr{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Mr([])}unionWith(e){let n=new gt(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return kl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class z7 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new z7("Invalid base64 string: "+i):i}}(e);return new fn(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const wIe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(t){if(ie(!!t),"string"==typeof t){let e=0;const n=wIe.exec(t);if(ie(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function rs(t){return"string"==typeof t?fn.fromBase64String(t):fn.fromUint8Array(t)}function Fv(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Lv(t){const e=t.mapValue.fields.__previous_value__;return Fv(e)?Lv(e):e}function wp(t){const e=Zs(t.mapValue.fields.__local_write_time__.timestampValue);return new Nt(e.seconds,e.nanos)}class IIe{constructor(e,n,r,i,o,s,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class yc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new yc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof yc&&e.projectId===this.projectId&&e.database===this.database}}const Xs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ea(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Fv(t)?4:Y7(t)?9007199254740991:10:ne()}function _o(t,e){if(t===e)return!0;const n=ea(t);if(n!==ea(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wp(t).isEqual(wp(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=Zs(r.timestampValue),s=Zs(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,rs(t.bytesValue).isEqual(rs(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Vt(r.geoPointValue.latitude)===Vt(i.geoPointValue.latitude)&&Vt(r.geoPointValue.longitude)===Vt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Vt(r.integerValue)===Vt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Vt(r.doubleValue),s=Vt(i.doubleValue);return o===s?bp(o)===bp(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return kl(t.arrayValue.values||[],e.arrayValue.values||[],_o);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if($7(o)!==$7(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(void 0===s[a]||!_o(o[a],s[a])))return!1;return!0}(t,e);default:return ne()}var i}function Ip(t,e){return void 0!==(t.values||[]).find(n=>_o(n,e))}function ta(t,e){if(t===e)return 0;const n=ea(t),r=ea(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(i,o){const s=Vt(i.integerValue||i.doubleValue),a=Vt(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return q7(t.timestampValue,e.timestampValue);case 4:return q7(wp(t),wp(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(i,o){const s=rs(i),a=rs(o);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let c=0;c<s.length&&c<a.length;c++){const u=he(s[c],a[c]);if(0!==u)return u}return he(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const s=he(Vt(i.latitude),Vt(o.latitude));return 0!==s?s:he(Vt(i.longitude),Vt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let c=0;c<s.length&&c<a.length;++c){const u=ta(s[c],a[c]);if(u)return u}return he(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Xs.mapValue&&o===Xs.mapValue)return 0;if(i===Xs.mapValue)return 1;if(o===Xs.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),c=o.fields||{},u=Object.keys(c);a.sort(),u.sort();for(let l=0;l<a.length&&l<u.length;++l){const d=he(a[l],u[l]);if(0!==d)return d;const h=ta(s[a[l]],c[u[l]]);if(0!==h)return h}return he(a.length,u.length)}(t.mapValue,e.mapValue);default:throw ne()}}function q7(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return he(t,e);const n=Zs(t),r=Zs(e),i=he(n.seconds,r.seconds);return 0!==i?i:he(n.nanos,r.nanos)}function Fl(t){return UO(t)}function UO(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Zs(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?rs(t.bytesValue).toBase64():"referenceValue"in t?J.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=UO(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${UO(r.fields[a])}`;return o+"}"}(t.mapValue):ne();var e}function vc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function jO(t){return!!t&&"integerValue"in t}function Tp(t){return!!t&&"arrayValue"in t}function W7(t){return!!t&&"nullValue"in t}function K7(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uv(t){return!!t&&"mapValue"in t}function Ep(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Js(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ep(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ep(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Y7(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Uv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ep(n)}setAll(e){let n=Yt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ep(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Uv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _o(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Uv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Js(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new $n(Ep(this.value))}}function Z7(t){const e=[];return Js(t.fields,(n,r)=>{const i=new Yt([n]);if(Uv(r)){const o=Z7(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Mr(e)}class mt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new mt(e,0,se.min(),se.min(),se.min(),$n.empty(),0)}static newFoundDocument(e,n,r,i){return new mt(e,1,n,se.min(),r,i,0)}static newNoDocument(e,n){return new mt(e,2,n,se.min(),se.min(),$n.empty(),0)}static newUnknownDocument(e,n){return new mt(e,3,n,se.min(),se.min(),$n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class na{constructor(e,n){this.position=e,this.inclusive=n}}function X7(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?J.comparator(J.fromName(s.referenceValue),n.key):ta(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function e8(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_o(t.position[n],e.position[n]))return!1;return!0}class Ll{constructor(e,n="asc"){this.field=e,this.dir=n}}function CIe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class t8{}class Ae extends t8{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new DIe(e,n,r):"array-contains"===n?new xIe(e,r):"in"===n?new a8(e,r):"not-in"===n?new NIe(e,r):"array-contains-any"===n?new OIe(e,r):new Ae(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new SIe(e,r):new AIe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ta(n,this.value)):null!==n&&ea(this.value)===ea(n)&&this.matchesComparison(ta(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class rt extends t8{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new rt(e,n)}matches(e){return Vl(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Vl(t){return"and"===t.op}function HO(t){return function n8(t){for(const e of t.filters)if(e instanceof rt)return!1;return!0}(t)&&Vl(t)}function GO(t){if(t instanceof Ae)return t.field.canonicalString()+t.op.toString()+Fl(t.value);if(HO(t))return t.filters.map(e=>GO(e)).join(",");{const e=t.filters.map(n=>GO(n)).join(",");return`${t.op}(${e})`}}function r8(t,e){return t instanceof Ae?(n=t,(r=e)instanceof Ae&&n.op===r.op&&n.field.isEqual(r.field)&&_o(n.value,r.value)):t instanceof rt?function(n,r){return r instanceof rt&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,o,s)=>i&&r8(o,r.filters[s]),!0)}(t,e):void ne();var n,r}function o8(t){return t instanceof Ae?function(e){return`${e.field.canonicalString()} ${e.op} ${Fl(e.value)}`}(t):t instanceof rt?function(e){return e.op.toString()+" {"+e.getFilters().map(o8).join(" ,")+"}"}(t):"Filter"}class DIe extends Ae{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class SIe extends Ae{constructor(e,n){super(e,"in",n),this.keys=s8(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class AIe extends Ae{constructor(e,n){super(e,"not-in",n),this.keys=s8(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function s8(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class xIe extends Ae{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Tp(n)&&Ip(n.arrayValue,this.value)}}class a8 extends Ae{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Ip(this.value.arrayValue,n)}}class NIe extends Ae{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ip(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Ip(this.value.arrayValue,n)}}class OIe extends Ae{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Tp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ip(this.value.arrayValue,r))}}class MIe{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function zO(t,e=null,n=[],r=[],i=null,o=null,s=null){return new MIe(t,e,n,r,i,o,s)}function bc(t){const e=Z(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>GO(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),vp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Fl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Fl(r)).join(",")),e.dt=n}return e.dt}function Cp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!CIe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!r8(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!e8(t.startAt,e.startAt)&&e8(t.endAt,e.endAt)}function jv(t){return J.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class is{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.wt=null,this._t=null}}function Bl(t){return new is(t)}function d8(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function qO(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Hv(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function WO(t){return null!==t.collectionGroup}function wc(t){const e=Z(t);if(null===e.wt){e.wt=[];const n=Hv(e),r=qO(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Ll(n)),e.wt.push(new Ll(Yt.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ll(Yt.keyField(),o))}}}return e.wt}function gr(t){const e=Z(t);if(!e._t)if("F"===e.limitType)e._t=zO(e.path,e.collectionGroup,wc(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of wc(e))n.push(new Ll(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new na(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new na(e.startAt.position,e.startAt.inclusive):null;e._t=zO(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function KO(t,e){e.getFirstInequalityField(),Hv(t);const n=t.filters.concat([e]);return new is(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Gv(t,e,n){return new is(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dp(t,e){return Cp(gr(t),gr(e))&&t.limitType===e.limitType}function h8(t){return`${bc(gr(t))}|lt:${t.limitType}`}function YO(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>o8(r)).join(", ")}]`),vp(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Fl(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Fl(r)).join(",")),`Target(${n})`}(gr(t))}; limitType=${t.limitType})`}function Sp(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):J.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of wc(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,o,s){const a=X7(i,o,s);return i.inclusive?a<=0:a<0}(n.startAt,wc(n),r)||n.endAt&&!function(i,o,s){const a=X7(i,o,s);return i.inclusive?a>=0:a>0}(n.endAt,wc(n),r)));var n,r}function p8(t){return(e,n)=>{let r=!1;for(const i of wc(t)){const o=RIe(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function RIe(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(i,o,s){const a=o.data.field(i),c=s.data.field(i);return null!==a&&null!==c?ta(a,c):ne()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}class os{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Js(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return H7(this.inner)}size(){return this.innerSize}}const kIe=new dt(J.comparator);function Rr(){return kIe}const g8=new dt(J.comparator);function Ap(...t){let e=g8;for(const n of t)e=e.insert(n.key,n);return e}function m8(t){let e=g8;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function yo(){return xp()}function _8(){return xp()}function xp(){return new os(t=>t.toString(),(t,e)=>t.isEqual(e))}const PIe=new dt(J.comparator),FIe=new gt(J.comparator);function be(...t){let e=FIe;for(const n of t)e=e.add(n);return e}const LIe=new gt(he);function y8(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bp(e)?"-0":e}}function v8(t){return{integerValue:""+t}}function b8(t,e){return function P7(t){return"number"==typeof t&&Number.isInteger(t)&&!bp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?v8(e):y8(t,e)}class zv{constructor(){this._=void 0}}function VIe(t,e,n){return t instanceof Ul?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Fv(i)&&(i=Lv(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Ic?I8(t,e):t instanceof Tc?T8(t,e):function(r,i){const o=w8(r,i),s=E8(o)+E8(r.gt);return jO(o)&&jO(r.gt)?v8(s):y8(r.serializer,s)}(t,e)}function BIe(t,e,n){return t instanceof Ic?I8(t,e):t instanceof Tc?T8(t,e):n}function w8(t,e){return t instanceof jl?jO(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Ul extends zv{}class Ic extends zv{constructor(e){super(),this.elements=e}}function I8(t,e){const n=C8(e);for(const r of t.elements)n.some(i=>_o(i,r))||n.push(r);return{arrayValue:{values:n}}}class Tc extends zv{constructor(e){super(),this.elements=e}}function T8(t,e){let n=C8(e);for(const r of t.elements)n=n.filter(i=>!_o(i,r));return{arrayValue:{values:n}}}class jl extends zv{constructor(e,n){super(),this.serializer=e,this.gt=n}}function E8(t){return Vt(t.integerValue||t.doubleValue)}function C8(t){return Tp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class jIe{constructor(e,n){this.version=e,this.transformResults=n}}class wt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wt}static exists(e){return new wt(void 0,e)}static updateTime(e){return new wt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qv(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Wv{}function D8(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Hl(t.key,wt.none()):new $l(t.key,t.data,wt.none());{const n=t.data,r=$n.empty();let i=new gt(Yt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new ss(t.key,r,new Mr(i.toArray()),wt.none())}}function $Ie(t,e,n){t instanceof $l?function(r,i,o){const s=r.value.clone(),a=x8(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof ss?function(r,i,o){if(!qv(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=x8(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(A8(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Op(t,e,n,r){return t instanceof $l?function(i,o,s,a){if(!qv(i.precondition,o))return s;const c=i.value.clone(),u=N8(i.fieldTransforms,a,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ss?function(i,o,s,a){if(!qv(i.precondition,o))return s;const c=N8(i.fieldTransforms,a,o),u=o.data;return u.setAll(A8(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null===s?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(s=n,qv(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function HIe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=w8(r.transform,i||null);null!=o&&(null===n&&(n=$n.empty()),n.set(r.field,o))}return n||null}function S8(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&kl(n,r,(i,o)=>function UIe(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Ic&&r instanceof Ic||n instanceof Tc&&r instanceof Tc?kl(n.elements,r.elements,_o):n instanceof jl&&r instanceof jl?_o(n.gt,r.gt):n instanceof Ul&&r instanceof Ul);var n,r}(i,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class $l extends Wv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ss extends Wv{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function A8(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function x8(t,e,n){const r=new Map;ie(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,BIe(s,a,n[i]))}return r}function N8(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,VIe(o,s,e))}return r}class Hl extends Wv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JO extends Wv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ZO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&$Ie(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Op(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Op(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_8();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const c=D8(s,a);null!==c&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&kl(this.mutations,e.mutations,(n,r)=>S8(n,r))&&kl(this.baseMutations,e.baseMutations,(n,r)=>S8(n,r))}}class XO{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ie(e.mutations.length===r.length);let i=PIe;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new XO(e,n,r,i)}}class eM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class zIe{constructor(e,n){this.count=e,this.unchangedNames=n}}var rn,Pe;function M8(t){if(void 0===t)return Kt("GRPC error has no .code"),x.UNKNOWN;switch(t){case rn.OK:return x.OK;case rn.CANCELLED:return x.CANCELLED;case rn.UNKNOWN:return x.UNKNOWN;case rn.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case rn.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case rn.INTERNAL:return x.INTERNAL;case rn.UNAVAILABLE:return x.UNAVAILABLE;case rn.UNAUTHENTICATED:return x.UNAUTHENTICATED;case rn.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case rn.NOT_FOUND:return x.NOT_FOUND;case rn.ALREADY_EXISTS:return x.ALREADY_EXISTS;case rn.PERMISSION_DENIED:return x.PERMISSION_DENIED;case rn.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case rn.ABORTED:return x.ABORTED;case rn.OUT_OF_RANGE:return x.OUT_OF_RANGE;case rn.UNIMPLEMENTED:return x.UNIMPLEMENTED;case rn.DATA_LOSS:return x.DATA_LOSS;default:return ne()}}(Pe=rn||(rn={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";class tM{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Kv}static getOrCreateInstance(){return null===Kv&&(Kv=new tM),Kv}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Kv=null;const qIe=new Ml([4294967295,4294967295],0);function k8(t){const e=function R8(){return new TextEncoder}().encode(t),n=new jwe;return n.update(e),new Uint8Array(n.digest())}function P8(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ml([n,r],0),new Ml([i,o],0)]}class nM{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mp(`Invalid padding: ${n}`);if(r<0)throw new Mp(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Mp(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Mp(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Ml.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Ml.fromNumber(r)));return 1===i.compare(qIe)&&(i=new Ml([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=k8(e),[r,i]=P8(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);if(!this.At(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new nM(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.It)return;const n=k8(e),[r,i]=P8(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);this.Rt(s)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Mp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,kp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rp(se.min(),i,new dt(he),Rr(),be())}}class kp{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new kp(r,n,be(),be(),be())}}class Yv{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class F8{constructor(e,n){this.targetId=e,this.Vt=n}}class L8{constructor(e,n,r=fn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class V8{constructor(){this.St=0,this.Dt=U8(),this.Ct=fn.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=be(),n=be(),r=be();return this.Dt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ne()}}),new kp(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=U8()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class WIe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Rr(),this.zt=B8(),this.Wt=new dt(he)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,o=this.se(r);if(o){const s=o.target;if(jv(s))if(0===i){const a=new J(s.path);this.Yt(r,a,mt.newNoDocument(a,se.min()))}else ie(1===i);else{const a=this.ie(r);if(a!==i){const c=this.re(e,a);0!==c&&(this.ee(r),this.Wt=this.Wt.insert(r,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=tM.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(u,l,d){var h,f,g,y,v,I;const w={localCacheCount:l,existenceFilterCount:d.count},O=d.unchangedNames;return O&&(w.bloomFilter={applied:0===u,hashCount:null!==(h=O?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(y=null===(g=null===(f=O?.bits)||void 0===f?void 0:f.bitmap)||void 0===g?void 0:g.length)&&void 0!==y?y:0,padding:null!==(I=null===(v=O?.bits)||void 0===v?void 0:v.padding)&&void 0!==I?I:0}),w}(c,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=r;let c,u;try{c=rs(o).toUint8Array()}catch(l){if(l instanceof z7)return Vi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{u=new nM(c,s,a)}catch(l){return Vi(l instanceof Mp?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===u.It?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;n.vt(a)||(this.Yt(e,o,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&jv(a.target)){const c=new J(a.target.path);null!==this.jt.get(c)||this.ae(s,c)||this.Yt(s,c,mt.newNoDocument(c,e))}o.Mt&&(n.set(s,o.Ot()),o.Ft())}});let r=be();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const u=this.se(c);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const i=new Rp(e,n,this.Wt,this.jt,r);return this.jt=Rr(),this.zt=B8(),this.Wt=new dt(he),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new V8,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new gt(he),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||j("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new V8),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function B8(){return new dt(J.comparator)}function U8(){return new dt(J.comparator)}const KIe={asc:"ASCENDING",desc:"DESCENDING"},YIe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QIe={and:"AND",or:"OR"};class JIe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rM(t,e){return t.useProto3Json||vp(e)?e:{value:e}}function Gl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function j8(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ZIe(t,e){return Gl(t,e.toTimestamp())}function Qt(t){return ie(!!t),se.fromTimestamp(function(e){const n=Zs(e);return new Nt(n.seconds,n.nanos)}(t))}function iM(t,e){return(n=t,new ke(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function $8(t){const e=ke.fromString(t);return ie(J8(e)),e}function Pp(t,e){return iM(t.databaseId,e.path)}function vo(t,e){const n=$8(e);if(n.get(1)!==t.databaseId.projectId)throw new V(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(G8(n))}function oM(t,e){return iM(t.databaseId,e)}function Fp(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function G8(t){return ie(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function z8(t,e,n){return{name:Pp(t,e),fields:n.value.mapValue.fields}}function W8(t,e){return{documents:[oM(t,e.path)]}}function aM(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=oM(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=oM(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return Q8(rt.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(0!==c.length)return c.map(u=>{return{field:ra((l=u).field),direction:rTe(l.dir)};var l})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=rM(t,e.limit);var a,c;return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),n}function K8(t){let e=function H8(t){const e=$8(t);return 4===e.length?ke.emptyPath():G8(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ie(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=function(l){const d=Y8(l);return d instanceof rt&&HO(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(l=>{return new Ll(zl((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,vp(d)?null:d}(n.limit));let c=null;var l;n.startAt&&(c=new na((l=n.startAt).values||[],!!l.before));let u=null;return n.endAt&&(u=function(l){return new na(l.values||[],!l.before)}(n.endAt)),function l8(t,e,n,r,i,o,s,a){return new is(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",c,u)}function Y8(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=zl(e.unaryFilter.field);return Ae.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=zl(e.unaryFilter.field);return Ae.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=zl(e.unaryFilter.field);return Ae.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=zl(e.unaryFilter.field);return Ae.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(t):void 0!==t.fieldFilter?function(e){return Ae.create(zl(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return rt.create(e.compositeFilter.filters.map(n=>Y8(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ne()}}(e.compositeFilter.op))}(t):ne()}function rTe(t){return KIe[t]}function iTe(t){return YIe[t]}function oTe(t){return QIe[t]}function ra(t){return{fieldPath:t.canonicalString()}}function zl(t){return Yt.fromServerFormat(t.fieldPath)}function Q8(t){return t instanceof Ae?function(e){if("=="===e.op){if(K7(e.value))return{unaryFilter:{field:ra(e.field),op:"IS_NAN"}};if(W7(e.value))return{unaryFilter:{field:ra(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(K7(e.value))return{unaryFilter:{field:ra(e.field),op:"IS_NOT_NAN"}};if(W7(e.value))return{unaryFilter:{field:ra(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ra(e.field),op:iTe(e.op),value:e.value}}}(t):t instanceof rt?function(e){const n=e.getFilters().map(r=>Q8(r));return 1===n.length?n[0]:{compositeFilter:{op:oTe(e.op),filters:n}}}(t):ne()}function sTe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function J8(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class as{constructor(e,n,r,i,o=se.min(),s=se.min(),a=fn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Z8{constructor(e){this.fe=e}}function cM(t){const e=K8({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Gv(e,e.limit,"L"):e}class Sc{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Vt(e.integerValue));else if("doubleValue"in e){const r=Vt(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),bp(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(rs(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?Y7(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):ne()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),J.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Sc.Ve=new Sc;class gTe{constructor(){this.rn=new pM}addToCollectionParentIndex(e,n){return this.rn.add(n),A.resolve()}getCollectionParents(e,n){return A.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return A.resolve()}deleteFieldIndex(e,n){return A.resolve()}getDocumentsMatchingTarget(e,n){return A.resolve(null)}getIndexType(e,n){return A.resolve(0)}getFieldIndexes(e,n){return A.resolve([])}getNextCollectionGroupToUpdate(e){return A.resolve(null)}getMinOffset(e,n){return A.resolve(Qr.min())}getMinOffsetFromCollectionGroup(e,n){return A.resolve(Qr.min())}updateCollectionGroup(e,n,r){return A.resolve()}updateIndexEntries(e,n){return A.resolve()}}class pM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new gt(ke.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gt(ke.comparator)).toArray()}}new Uint8Array(0);class tr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new tr(e,tr.DEFAULT_COLLECTION_PERCENTILE,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}tr.DEFAULT_COLLECTION_PERCENTILE=10,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tr.DEFAULT=new tr(41943040,tr.DEFAULT_COLLECTION_PERCENTILE,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tr.DISABLED=new tr(-1,0,0);class xc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new xc(0)}static Mn(){return new xc(-1)}}class wTe{constructor(){this.changes=new os(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?A.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ETe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Ez{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Op(r.mutation,i,Mr.empty(),Nt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){const i=yo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ap();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=yo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Rr();const s=xp(),a=xp();return n.forEach((c,u)=>{const l=r.get(u.key);i.has(u.key)&&(void 0===l||l.mutation instanceof ss)?o=o.insert(u.key,u):void 0!==l?(s.set(u.key,l.mutation.getFieldMask()),Op(l.mutation,u,l.mutation.getFieldMask(),Nt.now())):s.set(u.key,Mr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,l)=>s.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new ETe(l,null!==(d=s.get(u))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=xp();let i=new dt((s,a)=>s-a),o=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(c=>{const u=n.get(c);if(null===u)return;let l=r.get(c)||Mr.empty();l=a.applyToLocalView(u,l),r.set(c,l);const d=(i.get(a.batchId)||be()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,l=c.value,d=_8();l.forEach(h=>{if(!o.has(h)){const f=D8(n.get(h),r.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return A.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return J.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):WO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):A.resolve(yo());let a=-1,c=o;return s.next(u=>A.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?A.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,be())).next(l=>({batchId:a,changes:m8(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=Ap();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=Ap();return this.indexManager.getCollectionParents(e,i).next(s=>A.forEach(s,a=>{const c=(u=n,l=a.child(i),new is(l,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt));var u,l;return this.getDocumentsMatchingCollectionQuery(e,c,r).next(u=>{u.forEach((l,d)=>{o=o.insert(l,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(o=>{i.forEach((a,c)=>{const u=c.getKey();null===o.get(u)&&(o=o.insert(u,mt.newInvalidDocument(u)))});let s=Ap();return o.forEach((a,c)=>{const u=i.get(a);void 0!==u&&Op(u.mutation,c,Mr.empty(),Nt.now()),Sp(n,c)&&(s=s.insert(a,c))}),s})}}class CTe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return A.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Qt(r.createTime)}),A.resolve()}getNamedQuery(e,n){return A.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:cM(r.bundledQuery),readTime:Qt(r.readTime)}),A.resolve();var r}}class DTe{constructor(){this.overlays=new dt(J.comparator),this.ls=new Map}getOverlay(e,n){return A.resolve(this.overlays.get(n))}getOverlays(e,n){const r=yo();return A.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.we(e,n,o)}),A.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),A.resolve()}getOverlaysForCollection(e,n,r){const i=yo(),o=n.length+1,s=new J(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return A.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new dt((u,l)=>u-l);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=o.get(u.largestBatchId);null===l&&(l=yo(),o=o.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}const a=yo(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return A.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new eM(n,r));let o=this.ls.get(n);void 0===o&&(o=be(),this.ls.set(n,o)),this.ls.set(n,o.add(r.key))}}class gM{constructor(){this.fs=new gt(xn.ds),this.ws=new gt(xn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new xn(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new xn(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new J(new ke([])),r=new xn(n,e),i=new xn(n,e+1),o=[];return this.ws.forEachInRange([r,i],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new J(new ke([])),r=new xn(n,e),i=new xn(n,e+1);let o=be();return this.ws.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new xn(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class xn{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return J.comparator(e.key,n.key)||he(e.As,n.As)}static _s(e,n){return he(e.As,n.As)||J.comparator(e.key,n.key)}}class STe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new gt(xn.ds)}checkEmpty(e){return A.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.vs;this.vs++;const s=new ZO(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Rs=this.Rs.add(new xn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return A.resolve(s)}lookupMutationBatch(e,n){return A.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),o=i<0?0:i;return A.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return A.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return A.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new xn(n,0),i=new xn(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],s=>{const a=this.Ps(s.As);o.push(a)}),A.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gt(he);return n.forEach(i=>{const o=new xn(i,0),s=new xn(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{r=r.add(a.As)})}),A.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;J.isDocumentKey(o)||(o=o.child(""));const s=new xn(new J(o),0);let a=new gt(he);return this.Rs.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.As)),!0)},s),A.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){ie(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return A.forEach(n.mutations,i=>{const o=new xn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new xn(n,0),i=this.Rs.firstAfterOrEqual(r);return A.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return A.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class ATe{constructor(e){this.Ds=e,this.docs=new dt(J.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return A.resolve(r?r.document.mutableCopy():mt.newInvalidDocument(n))}getEntries(e,n){let r=Rr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():mt.newInvalidDocument(i))}),A.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Rr();const s=n.path,a=new J(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:l}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||FO(M7(l),r)<=0||(i.has(l.key)||Sp(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return A.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ne()}Cs(e,n){return A.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xTe(this)}getSize(e){return A.resolve(this.size)}}class xTe extends wTe{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),A.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class NTe{constructor(e){this.persistence=e,this.xs=new os(n=>bc(n),Cp),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Ns=0,this.ks=new gM,this.targetCount=0,this.Ms=xc.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),A.resolve()}getLastRemoteSnapshotVersion(e){return A.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return A.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),A.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),A.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new xc(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,A.resolve()}updateTargetData(e,n){return this.Fn(n),A.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,A.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),A.waitFor(o).next(()=>i)}getTargetCount(e){return A.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return A.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),A.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),A.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),A.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return A.resolve(r)}containsKey(e,n){return A.resolve(this.ks.containsKey(n))}}class mM{constructor(e,n){this.$s={},this.overlays={},this.Os=new Jr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new NTe(this),this.indexManager=new gTe,this.remoteDocumentCache=new ATe(r=>this.referenceDelegate.Ls(r)),this.serializer=new Z8(n),this.qs=new CTe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DTe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new STe(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);const i=new OTe(this.Os.next());return this.referenceDelegate.Us(),r(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(e,n){return A.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class OTe extends Zwe{constructor(e){super(),this.currentSequenceNumber=e}}class o0{constructor(e){this.persistence=e,this.Qs=new gM,this.js=null}static zs(e){return new o0(e)}get Ws(){if(this.js)return this.js;throw ne()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),A.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),A.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),A.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return A.forEach(this.Ws,r=>{const i=J.fromPath(r);return this.Hs(e,i).next(o=>{o||n.removeEntry(i,se.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return A.or([()=>A.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class bM{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=be(),i=be();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new bM(e,n.fromCache,r,i)}}class Dz{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(o=>o||this.Gi(e,n,i,r)).next(o=>o||this.Qi(e,n))}Ki(e,n){if(d8(n))return A.resolve(null);let r=gr(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Gv(n,null,"F"),r=gr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=be(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ji(n,a);return this.zi(n,u,s,c.readTime)?this.Ki(e,Gv(n,null,"F")):this.Wi(e,u,n,c)}))})))}Gi(e,n,r,i){return d8(n)||i.isEqual(se.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(o=>{const s=this.ji(n,o);return this.zi(n,s,r,i)?this.Qi(e,n):(RO()<=xe.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),YO(n)),this.Wi(e,s,n,function O7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=se.fromTimestamp(1e9===r?new Nt(n+1,0):new Nt(n,r));return new Qr(i,J.empty(),e)}(i,-1)))})}ji(e,n){let r=new gt(p8(e));return n.forEach((i,o)=>{Sp(e,o)&&(r=r.add(o))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(e,n){return RO()<=xe.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",YO(n)),this.Ui.getDocumentsMatchingQuery(e,n,Qr.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class RTe{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new dt(he),this.Yi=new os(o=>bc(o),Cp),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ez(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function Az(t,e){return wM.apply(this,arguments)}function wM(){return wM=p(function*(t,e){const n=Z(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let c=be();for(const u of i){s.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}for(const u of o){a.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({er:u,removedBatchIds:s,addedBatchIds:a}))})})}),wM.apply(this,arguments)}function xz(t){const e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function FTe(t,e){const n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Yl(t,e,n){return IM.apply(this,arguments)}function IM(){return IM=p(function*(t,e,n){const r=Z(t),i=r.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Qs(s))throw s;j("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),IM.apply(this,arguments)}function c0(t,e,n){const r=Z(t);let i=se.min(),o=be();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,c,u){const l=Z(a),d=l.Yi.get(u);return void 0!==d?A.resolve(l.Ji.get(d)):l.Bs.getTargetData(c,u)}(r,s,gr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,e,n?i:se.min(),n?o:be())).next(a=>(function Rz(t,e,n){let r=t.Xi.get(e)||se.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Xi.set(e,r)}(r,function f8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:o})))}class SM{constructor(){this.activeTargetIds=function QO(){return LIe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Fz{constructor(){this.Hr=new SM,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new SM,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class BTe{Yr(e){}shutdown(){}}class Lz{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let d0=null;function xM(){return null===d0?d0=268435456+Math.round(2147483648*Math.random()):d0++,"0x"+d0.toString(16)}const UTe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jTe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const nr="WebChannelConnection";class $Te extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,o){const s=xM(),a=this.To(e,n);j("RestConnection",`Sending RPC '${e}' ${s}:`,a,r);const c={};return this.Eo(c,i,o),this.Ao(e,a,c,r).then(u=>(j("RestConnection",`Received RPC '${e}' ${s}: `,u),u),u=>{throw Vi("RestConnection",`RPC '${e}' ${s} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,o,s){return this.Io(e,n,r,i,o)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Rl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}To(e,n){return`${this.mo}/v1/${n}:${UTe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const o=xM();return new Promise((s,a)=>{const c=new Uwe;c.setWithCredentials(!0),c.listenOnce(Lwe.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case MO.NO_ERROR:const l=c.getResponseJson();j(nr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case MO.TIMEOUT:j(nr,`RPC '${e}' ${o} timed out`),a(new V(x.DEADLINE_EXCEEDED,"Request time out"));break;case MO.HTTP_ERROR:const d=c.getStatus();if(j(nr,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const g=function(y){const v=y.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(v)>=0?v:x.UNKNOWN}(f.status);a(new V(g,f.message))}else a(new V(x.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new V(x.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{j(nr,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);j(nr,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=xM(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Pwe(),a=Fwe(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new Bwe({})),this.Eo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const l=o.join("");j(nr,`Creating RPC '${e}' stream ${i}: ${l}`,c);const d=s.createWebChannel(l,c);let h=!1,f=!1;const g=new jTe({ro:v=>{f?j(nr,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(j(nr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),j(nr,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},oo:()=>d.close()}),y=(v,I,w)=>{v.listen(I,O=>{try{w(O)}catch(k){setTimeout(()=>{throw k},0)}})};return y(d,Nv.EventType.OPEN,()=>{f||j(nr,`RPC '${e}' stream ${i} transport opened.`)}),y(d,Nv.EventType.CLOSE,()=>{f||(f=!0,j(nr,`RPC '${e}' stream ${i} transport closed`),g.wo())}),y(d,Nv.EventType.ERROR,v=>{f||(f=!0,Vi(nr,`RPC '${e}' stream ${i} transport errored:`,v),g.wo(new V(x.UNAVAILABLE,"The operation could not be completed")))}),y(d,Nv.EventType.MESSAGE,v=>{var I;if(!f){const w=v.data[0];ie(!!w);const k=w.error||(null===(I=w[0])||void 0===I?void 0:I.error);if(k){j(nr,`RPC '${e}' stream ${i} received error:`,k);const $=k.status;let Y=function(me){const Ve=rn[me];if(void 0!==Ve)return M8(Ve)}($),ae=k.message;void 0===Y&&(Y=x.INTERNAL,ae="Unknown error status: "+$+" with message "+k.message),f=!0,g.wo(new V(Y,ae)),d.close()}else j(nr,`RPC '${e}' stream ${i} received:`,w),g._o(w)}}),y(a,Vwe.STAT_EVENT,v=>{v.stat===C7.PROXY?j(nr,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===C7.NOPROXY&&j(nr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.fo()},0),g}}function h0(){return typeof document<"u"?document:null}function qp(t){return new JIe(t,!0)}class NM{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Bz{constructor(e,n,r,i,o,s,a,c){this.ii=e,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new NM(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return p(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return p(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return p(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(Kt(n.toString()),Kt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===x.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new V(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(p(function*(){e.state=0,e.start()}))}tu(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HTe extends Bz{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function eTe(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:ne(),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(ie(void 0===u||"string"==typeof u),fn.fromBase64String(u||"")):(ie(void 0===u||u instanceof Uint8Array),fn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=void 0===c.code?x.UNKNOWN:M8(c.code);return new V(u,c.message||"")}(s);n=new L8(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=vo(t,r.document.name),o=Qt(r.document.updateTime),s=r.document.createTime?Qt(r.document.createTime):se.min(),a=new $n({mapValue:{fields:r.document.fields}}),c=mt.newFoundDocument(i,o,s,a);n=new Yv(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=vo(t,r.document),o=r.readTime?Qt(r.readTime):se.min(),s=mt.newNoDocument(i,o);n=new Yv([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=vo(t,r.document);n=new Yv([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ne();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new zIe(i,o);n=new F8(r.targetId,s)}}var c;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return se.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?se.min():o.readTime?Qt(o.readTime):se.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Fp(this.serializer),n.addTarget=function(i,o){let s;const a=o.target;if(s=jv(a)?{documents:W8(i,a)}:{query:aM(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=j8(i,o.resumeToken);const c=rM(i,o.expectedCount);null!==c&&(s.expectedCount=c)}else if(o.snapshotVersion.compareTo(se.min())>0){s.readTime=Gl(i,o.snapshotVersion.toTimestamp());const c=rM(i,o.expectedCount);null!==c&&(s.expectedCount=c)}return s}(this.serializer,e);const r=function nTe(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Fp(this.serializer),n.removeTarget=e,this.Wo(n)}}class GTe extends Bz{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function tTe(t,e){return t&&t.length>0?(ie(void 0!==e),t.map(n=>function(r,i){let o=Qt(r.updateTime?r.updateTime:i);return o.isEqual(se.min())&&(o=Qt(i)),new jIe(o,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Qt(e.commitTime);return this.listener.cu(r,n)}return ie(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Fp(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Lp(t,e){let n;if(e instanceof $l)n={update:z8(t,e.key,e.value)};else if(e instanceof Hl)n={delete:Pp(t,e.key)};else if(e instanceof ss)n={update:z8(t,e.key,e.data),updateMask:sTe(e.fieldMask)};else{if(!(e instanceof JO))return ne();n={verify:Pp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof Ul)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Ic)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Tc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof jl)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw ne()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:ZIe(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ne()),n;var i}(this.serializer,r))};this.Wo(n)}}class zTe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new V(x.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(e,n,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new V(x.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,n,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(x.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class WTe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Kt(n),this.mu=!1):j("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class KTe{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(a=>{r.enqueueAndForget(p(function*(){var c;aa(s)&&(j("RemoteStore","Restarting streams for network reachability change."),yield(c=p(function*(u){const l=Z(u);l.vu.add(4),yield Ql(l),l.bu.set("Unknown"),l.vu.delete(4),yield Wp(l)}),function(u){return c.apply(this,arguments)})(s))}))}),this.bu=new WTe(r,i)}}function Wp(t){return MM.apply(this,arguments)}function MM(){return MM=p(function*(t){if(aa(t))for(const e of t.Ru)yield e(!0)}),MM.apply(this,arguments)}function Ql(t){return RM.apply(this,arguments)}function RM(){return RM=p(function*(t){for(const e of t.Ru)yield e(!1)}),RM.apply(this,arguments)}function f0(t,e){const n=Z(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),FM(n)?PM(n):Zl(n).Ko()&&kM(n,e))}function Kp(t,e){const n=Z(t),r=Zl(n);n.Au.delete(e),r.Ko()&&Uz(n,e),0===n.Au.size&&(r.Ko()?r.jo():aa(n)&&n.bu.set("Unknown"))}function kM(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zl(t).su(e)}function Uz(t,e){t.Vu.qt(e),Zl(t).iu(e)}function PM(t){t.Vu=new WIe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Zl(t).start(),t.bu.gu()}function FM(t){return aa(t)&&!Zl(t).Uo()&&t.Au.size>0}function aa(t){return 0===Z(t).vu.size}function jz(t){t.Vu=void 0}function YTe(t){return LM.apply(this,arguments)}function LM(){return LM=p(function*(t){t.Au.forEach((e,n)=>{kM(t,e)})}),LM.apply(this,arguments)}function QTe(t,e){return VM.apply(this,arguments)}function VM(){return VM=p(function*(t,e){jz(t),FM(t)?(t.bu.Iu(e),PM(t)):t.bu.set("Unknown")}),VM.apply(this,arguments)}function JTe(t,e,n){return BM.apply(this,arguments)}function BM(){return BM=p(function*(t,e,n){if(t.bu.set("Online"),e instanceof L8&&2===e.state&&e.cause)try{yield(r=p(function*(i,o){const s=o.cause;for(const a of o.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,o){return r.apply(this,arguments)})(t,e)}catch(r){j("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield p0(t,r)}else if(e instanceof Yv?t.Vu.Ht(e):e instanceof F8?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(se.min()))try{const r=yield xz(t.localStore);n.compareTo(r)>=0&&(yield function(i,o){const s=i.Vu.ce(o);return s.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(c);u&&i.Au.set(c,u.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,c)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(fn.EMPTY_BYTE_STRING,u.snapshotVersion)),Uz(i,a);const l=new as(u.target,a,c,u.sequenceNumber);kM(i,l)}),i.remoteSyncer.applyRemoteEvent(s)}(t,n))}catch(r){j("RemoteStore","Failed to raise snapshot:",r),yield p0(t,r)}var r}),BM.apply(this,arguments)}function p0(t,e,n){return UM.apply(this,arguments)}function UM(){return UM=p(function*(t,e,n){if(!Qs(e))throw e;t.vu.add(1),yield Ql(t),t.bu.set("Offline"),n||(n=()=>xz(t.localStore)),t.asyncQueue.enqueueRetryable(p(function*(){j("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Wp(t)}))}),UM.apply(this,arguments)}function $z(t,e){return e().catch(n=>p0(t,n,e))}function Jl(t){return jM.apply(this,arguments)}function jM(){return jM=p(function*(t){const e=Z(t),n=ca(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;ZTe(e);)try{const i=yield FTe(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,XTe(e,i)}catch(i){yield p0(e,i)}Hz(e)&&Gz(e)}),jM.apply(this,arguments)}function ZTe(t){return aa(t)&&t.Eu.length<10}function XTe(t,e){t.Eu.push(e);const n=ca(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Hz(t){return aa(t)&&!ca(t).Uo()&&t.Eu.length>0}function Gz(t){ca(t).start()}function eEe(t){return $M.apply(this,arguments)}function $M(){return $M=p(function*(t){ca(t).hu()}),$M.apply(this,arguments)}function tEe(t){return HM.apply(this,arguments)}function HM(){return HM=p(function*(t){const e=ca(t);for(const n of t.Eu)e.uu(n.mutations)}),HM.apply(this,arguments)}function nEe(t,e,n){return GM.apply(this,arguments)}function GM(){return GM=p(function*(t,e,n){const r=t.Eu.shift(),i=XO.from(r,e,n);yield $z(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Jl(t)}),GM.apply(this,arguments)}function rEe(t,e){return zM.apply(this,arguments)}function zM(){return zM=p(function*(t,e){var n;e&&ca(t).ou&&(yield(n=p(function*(r,i){if(function O8(t){switch(t){default:return ne();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}(o=i.code)&&o!==x.ABORTED){const s=r.Eu.shift();ca(r).Qo(),yield $z(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Jl(r)}var o}),function(r,i){return n.apply(this,arguments)})(t,e)),Hz(t)&&Gz(t)}),zM.apply(this,arguments)}function zz(t,e){return qM.apply(this,arguments)}function qM(){return qM=p(function*(t,e){const n=Z(t);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");const r=aa(n);n.vu.add(3),yield Ql(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Wp(n)}),qM.apply(this,arguments)}function KM(){return KM=p(function*(t,e){const n=Z(t);e?(n.vu.delete(2),yield Wp(n)):e||(n.vu.add(2),yield Ql(n),n.bu.set("Unknown"))}),KM.apply(this,arguments)}function Zl(t){return t.Su||(t.Su=function(e,n,r){const i=Z(e);return i.fu(),new HTe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:YTe.bind(null,t),ao:QTe.bind(null,t),nu:JTe.bind(null,t)}),t.Ru.push(function(){var e=p(function*(n){n?(t.Su.Qo(),FM(t)?PM(t):t.bu.set("Unknown")):(yield t.Su.stop(),jz(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function ca(t){return t.Du||(t.Du=function(e,n,r){const i=Z(e);return i.fu(),new GTe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:eEe.bind(null,t),ao:rEe.bind(null,t),au:tEe.bind(null,t),cu:nEe.bind(null,t)}),t.Ru.push(function(){var e=p(function*(n){n?(t.Du.Qo(),yield Jl(t)):(yield t.Du.stop(),t.Eu.length>0&&(j("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class YM{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new hn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new YM(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new V(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xl(t,e){if(Kt("AsyncQueue",`${e}: ${t}`),Qs(t))return new V(x.UNAVAILABLE,`${e}: ${t}`);throw t}class ed{constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=Ap(),this.sortedSet=new dt(this.comparator)}static emptySet(e){return new ed(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ed)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new ed;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class qz{constructor(){this.Cu=new dt(J.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):ne():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class td{constructor(e,n,r,i,o,s,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new td(e,n,ed.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class iEe{constructor(){this.Nu=void 0,this.listeners=[]}}class oEe{constructor(){this.queries=new os(e=>h8(e),Dp),this.onlineState="Unknown",this.ku=new Set}}function QM(t,e){return JM.apply(this,arguments)}function JM(){return JM=p(function*(t,e){const n=Z(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new iEe),i)try{o.Nu=yield n.onListen(r)}catch(s){const a=Xl(s,`Initialization of query '${YO(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Mu(n.onlineState),o.Nu&&e.$u(o.Nu)&&eR(n)}),JM.apply(this,arguments)}function ZM(t,e){return XM.apply(this,arguments)}function XM(){return XM=p(function*(t,e){const n=Z(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),XM.apply(this,arguments)}function sEe(t,e){const n=Z(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.listeners)a.$u(i)&&(r=!0);s.Nu=i}}r&&eR(n)}function aEe(t,e,n){const r=Z(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function eR(t){t.ku.forEach(e=>{e.next()})}class tR{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new td(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=td.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Yz{constructor(e){this.key=e}}class Qz{constructor(e){this.key=e}}class Jz{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=be(),this.mutatedKeys=be(),this.tc=p8(e),this.ec=new ed(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new qz,i=n?n.ec:this.ec;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Sp(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),y=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;h&&f?h.data.isEqual(f.data)?g!==y&&(r.track({type:3,doc:f}),v=!0):this.rc(h,f)||(r.track({type:2,doc:f}),v=!0,(c&&this.tc(f,c)>0||u&&this.tc(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),v=!0):h&&!f&&(r.track({type:1,doc:h}),v=!0,(c||u)&&(a=!0)),v&&(f?(s=s.add(f),o=y?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const l="F"===this.query.limitType?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ec:s,ic:r,zi:a,mutatedKeys:o}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((u,l)=>function(d,h){const f=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return f(d)-f(h)}(u.type,l.type)||this.tc(u.doc,l.doc)),this.oc(r);const s=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,0!==o.length||c?{snapshot:new td(this.query,e.ec,i,o,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new qz,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=be(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new Qz(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new Yz(r))}),n}hc(e){this.Yu=e.ir,this.Zu=be();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return td.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class lEe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class dEe{constructor(e){this.key=e,this.fc=!1}}class hEe{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new os(a=>h8(a),Dp),this._c=new Map,this.mc=new Set,this.gc=new dt(J.comparator),this.yc=new Map,this.Ic=new gM,this.Tc={},this.Ec=new Map,this.Ac=xc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function fEe(t,e){return nR.apply(this,arguments)}function nR(){return nR=p(function*(t,e){const n=function CR(t){const e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zz.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IEe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mEe.bind(null,e),e.dc.nu=sEe.bind(null,e.eventManager),e.dc.Pc=aEe.bind(null,e.eventManager),e}(t);let r,i;const o=n.wc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const s=yield function Kl(t,e){const n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(o=>o?(i=o,A.resolve(i)):n.Bs.allocateTargetId(r).next(s=>(i=new as(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,gr(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield function rR(t,e,n,r,i){return iR.apply(this,arguments)}(n,e,r,"current"===a,s.resumeToken),n.isPrimaryClient&&f0(n.remoteStore,s)}return i}),nR.apply(this,arguments)}function iR(){return iR=p(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(g=p(function*(y,v,I,w){let O=v.view.sc(I);O.zi&&(O=yield c0(y.localStore,v.query,!1).then(({documents:Y})=>v.view.sc(Y,O)));const k=w&&w.targetChanges.get(v.targetId),$=v.view.applyChanges(O,y.isPrimaryClient,k);return pR(y,v.targetId,$.cc),$.snapshot}),function(y,v,I,w){return g.apply(this,arguments)})(t,d,h,f);var g};const o=yield c0(t.localStore,e,!0),s=new Jz(e,o.ir),a=s.sc(o.documents),c=kp.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),u=s.applyChanges(a,t.isPrimaryClient,c);pR(t,n,u.cc);const l=new lEe(e,n,s);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}),iR.apply(this,arguments)}function pEe(t,e){return oR.apply(this,arguments)}function oR(){return oR=p(function*(t,e){const n=Z(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(o=>!Dp(o,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Yl(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Kp(n.remoteStore,r.targetId),nd(n,r.targetId)}).catch(Ys))):(nd(n,r.targetId),yield Yl(n.localStore,r.targetId,!0))}),oR.apply(this,arguments)}function sR(){return sR=p(function*(t,e,n){const r=function DR(t){const e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_Ee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yEe.bind(null,e),e}(t);try{const i=yield function(o,s){const a=Z(o),c=Nt.now(),u=s.reduce((h,f)=>h.add(f.key),be());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Rr(),g=be();return a.Zi.getEntries(h,u).next(y=>{f=y,f.forEach((v,I)=>{I.isValidDocument()||(g=g.add(v))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(y=>{l=y;const v=[];for(const I of s){const w=HIe(I,l.get(I.key).overlayedDocument);null!=w&&v.push(new ss(I.key,w,Z7(w.value.mapValue),wt.exists(!0)))}return a.mutationQueue.addMutationBatch(h,c,v,s)}).next(y=>{d=y;const v=y.applyToLocalDocumentSet(l,g);return a.documentOverlayCache.saveOverlays(h,y.batchId,v)})}).then(()=>({batchId:d.batchId,changes:m8(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let c=o.Tc[o.currentUser.toKey()];c||(c=new dt(he)),c=c.insert(s,a),o.Tc[o.currentUser.toKey()]=c}(r,i.batchId,n),yield cs(r,i.changes),yield Jl(r.remoteStore)}catch(i){const o=Xl(i,"Failed to persist write");n.reject(o)}}),sR.apply(this,arguments)}function Zz(t,e){return aR.apply(this,arguments)}function aR(){return aR=p(function*(t,e){const n=Z(t);try{const r=yield function PTe(t,e){const n=Z(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(o,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(o,l.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var g,y,v;null!==e.targetMismatches.get(d)?f=f.withResumeToken(fn.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),y=f,v=l,(0===(g=h).resumeToken.approximateByteSize()||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(o,f))});let c=Rr(),u=be();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(function Nz(t,e,n){let r=be(),i=be();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Rr();return n.forEach((a,c)=>{const u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(se.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||0===c.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):j("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{nr:s,sr:i}})}(o,s,e.documentUpdates).next(l=>{c=l.nr,u=l.sr})),!r.isEqual(se.min())){const l=n.Bs.getLastRemoteSnapshotVersion(o).next(d=>n.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return A.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.Ji=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.yc.get(o);s&&(ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.fc=!0:i.modifiedDocuments.size>0?ie(s.fc):i.removedDocuments.size>0&&(ie(s.fc),s.fc=!1))}),yield cs(n,r,e)}catch(r){yield Ys(r)}}),aR.apply(this,arguments)}function Xz(t,e,n){const r=Z(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=Z(o);a.onlineState=s;let c=!1;a.queries.forEach((u,l)=>{for(const d of l.listeners)d.Mu(s)&&(c=!0)}),c&&eR(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function mEe(t,e,n){return cR.apply(this,arguments)}function cR(){return cR=p(function*(t,e,n){const r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),o=i&&i.key;if(o){let s=new dt(J.comparator);s=s.insert(o,mt.newNoDocument(o,se.min()));const a=be().add(o),c=new Rp(se.min(),new Map,new dt(he),s,a);yield Zz(r,c),r.gc=r.gc.remove(o),r.yc.delete(e),gR(r)}else yield Yl(r.localStore,e,!1).then(()=>nd(r,e,n)).catch(Ys)}),cR.apply(this,arguments)}function _Ee(t,e){return uR.apply(this,arguments)}function uR(){return uR=p(function*(t,e){const n=Z(t),r=e.batch.batchId;try{const i=yield function kTe(t,e){const n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,c,u){const l=c.batch,d=l.keys();let h=A.resolve();return d.forEach(f=>{h=h.next(()=>u.getEntry(a,f)).next(g=>{const y=c.docVersions.get(f);ie(null!==y),g.version.compareTo(y)<0&&(l.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,l))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=be();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(a=a.add(s.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);fR(n,r,null),hR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield cs(n,i)}catch(i){yield Ys(i)}}),uR.apply(this,arguments)}function yEe(t,e,n){return lR.apply(this,arguments)}function lR(){return lR=p(function*(t,e,n){const r=Z(t);try{const i=yield function(o,s){const a=Z(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return a.mutationQueue.lookupMutationBatch(c,s).next(l=>(ie(null!==l),u=l.keys(),a.mutationQueue.removeMutationBatch(c,l))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,u,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>a.localDocuments.getDocuments(c,u))})}(r.localStore,e);fR(r,e,n),hR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield cs(r,i)}catch(i){yield Ys(i)}}),lR.apply(this,arguments)}function hR(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function fR(t,e,n){const r=Z(t);let i=r.Tc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function nd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||e9(t,r)})}function e9(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Kp(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),gR(t))}function pR(t,e,n){for(const r of n)r instanceof Yz?(t.Ic.addReference(r.key,e),bEe(t,r)):r instanceof Qz?(j("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||e9(t,r.key)):ne()}function bEe(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(j("SyncEngine","New document in limbo: "+n),t.mc.add(r),gR(t))}function gR(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new J(ke.fromString(e)),r=t.Ac.next();t.yc.set(r,new dEe(n)),t.gc=t.gc.insert(n,r),f0(t.remoteStore,new as(gr(Bl(n.path)),r,"TargetPurposeLimboResolution",Jr.ct))}}function cs(t,e,n){return mR.apply(this,arguments)}function mR(){return mR=p(function*(t,e,n){const r=Z(t),i=[],o=[],s=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,c)=>{s.push(r.Rc(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);const l=bM.Li(c.targetId,u);o.push(l)}}))}),yield Promise.all(s),r.dc.nu(i),yield(a=p(function*(c,u){const l=Z(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>A.forEach(u,h=>A.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>A.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Qs(d))throw d;j("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),y=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,y)}}}),function(c,u){return a.apply(this,arguments)})(r.localStore,o))}),mR.apply(this,arguments)}function wEe(t,e){return _R.apply(this,arguments)}function _R(){return _R=p(function*(t,e){const n=Z(t);if(!n.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());const r=yield Az(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(s=>{s.forEach(a=>{a.reject(new V(x.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield cs(n,r.er)}var i}),_R.apply(this,arguments)}function IEe(t,e){const n=Z(t),r=n.yc.get(e);if(r&&r.fc)return be().add(r.key);{let i=be();const o=n._c.get(e);if(!o)return i;for(const s of o){const a=n.wc.get(s);i=i.unionWith(a.view.nc)}return i}}class g0{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return p(function*(){n.serializer=qp(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function Sz(t,e,n,r){return new RTe(t,e,n,r)}(this.persistence,new Dz,e.initialUser,this.serializer)}createPersistence(e){return new mM(o0.zs,this.serializer)}createSharedClientState(e){return new Fz}terminate(){var e=this;return p(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class rd{initialize(e,n){var r=this;return p(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Xz(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=wEe.bind(null,r.syncEngine),yield function WM(t,e){return KM.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new oEe}createDatastore(e){const n=qp(e.databaseInfo.databaseId),r=new $Te(e.databaseInfo);return new zTe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>Xz(this.syncEngine,a,0),s=Lz.D()?new Lz:new BTe,new KTe(n,r,i,o,s);var n,r,i,o,s}createSyncEngine(e,n){return function(r,i,o,s,a,c,u){const l=new hEe(r,i,o,s,a,c);return u&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=p(function*(n){const r=Z(n);j("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Ql(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class m0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Kt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class PEe{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Sn.UNAUTHENTICATED,this.clientId=x7.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=p(function*(a){j("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(j("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return p(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new hn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(p(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Xl(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function _0(t,e){return SR.apply(this,arguments)}function SR(){return SR=p(function*(t,e){t.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=p(function*(o){r.isEqual(o)||(yield Az(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),SR.apply(this,arguments)}function AR(t,e){return xR.apply(this,arguments)}function xR(){return xR=p(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function NR(t){return OR.apply(this,arguments)}(t);j("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>zz(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>zz(e.remoteStore,o)),t._onlineComponents=e}),xR.apply(this,arguments)}function OR(){return OR=p(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{yield _0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function s9(t){return"FirebaseError"===t.name?t.code===x.FAILED_PRECONDITION||t.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Vi("Error using user provided cache. Falling back to memory cache: "+n),yield _0(t,new g0)}}else j("FirestoreClient","Using default OfflineComponentProvider"),yield _0(t,new g0);return t._offlineComponents}),OR.apply(this,arguments)}function y0(t){return MR.apply(this,arguments)}function MR(){return MR=p(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),yield AR(t,t._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),yield AR(t,new rd))),t._onlineComponents}),MR.apply(this,arguments)}function id(t){return kR.apply(this,arguments)}function kR(){return kR=p(function*(t){const e=yield y0(t),n=e.eventManager;return n.onListen=fEe.bind(null,e.syncEngine),n.onUnlisten=pEe.bind(null,e.syncEngine),n}),kR.apply(this,arguments)}function h9(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const f9=new Map;function PR(t,e,n){if(!n)throw new V(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function p9(t){if(!J.isDocumentKey(t))throw new V(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function g9(t){if(J.isDocumentKey(t))throw new V(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function b0(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":ne()}function Ne(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=b0(t);throw new V(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class _9{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new V(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new V(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function GEe(t,e,n,r){if(!0===e&&!0===r)throw new V(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=h9(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new V(x.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new V(x.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new V(x.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _9({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new V(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new V(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _9(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new $we;switch(n.type){case"firstParty":return new qwe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new V(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=f9.get(e);n&&(j("ComponentProvider","Removing Datastore"),f9.delete(e),n.terminate())}(this),Promise.resolve()}}class Jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jt(this.firestore,e,this._key)}}class Hn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Hn(this.firestore,e,this._query)}}class bo extends Hn{constructor(e,n,r){super(e,n,Bl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new J(e))}withConverter(e){return new bo(this.firestore,e,this._path)}}function qEe(t,e,...n){if(t=dr(t),PR("collection","path",e),t instanceof Yp){const r=ke.fromString(e,...n);return g9(r),new bo(t,null,r)}{if(!(t instanceof Jt||t instanceof bo))throw new V(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return g9(r),new bo(t.firestore,null,r)}}function y9(t,e,...n){if(t=dr(t),1===arguments.length&&(e=x7.A()),PR("doc","path",e),t instanceof Yp){const r=ke.fromString(e,...n);return p9(r),new Jt(t,null,new J(r))}{if(!(t instanceof Jt||t instanceof bo))throw new V(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return p9(r),new Jt(t.firestore,t instanceof bo?t.converter:null,new J(r))}}class WEe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new NM(this,"async_queue_retry"),this.Xc=()=>{const n=h0();n&&j("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=h0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=h0();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new hn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return p(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Qs(n))throw n;j("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Kt("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=YM.createAndSchedule(this,e,n,r,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&ne()}verifyOperationInProgress(){}sa(){var e=this;return p(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class _t extends Yp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new WEe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||b9(this),this._firestoreClient.terminate()}}function YEe(t,e){const r="string"==typeof t?t:e||"(default)",i=Sy("object"==typeof t?t:I$(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=Iy())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");o&&function zEe(t,e,n,r={}){var i;const o=(t=Ne(t,Yp))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Vi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Sn.MOCK_USER;else{a=function Ype(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[by(JSON.stringify({alg:"none",type:"JWT"})),by(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new V(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Sn(u)}t._authCredentials=new Hwe(new S7(a,c))}}(i,...o)}return i}function on(t){return t._firestoreClient||b9(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function b9(t){var e,n,r;const i=t._freezeSettings(),o=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new IIe(t._databaseId,a,t._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,h9(u.experimentalLongPollingOptions),u.useFetchStreams));var a,u;t._firestoreClient=new PEe(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Oc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oc(fn.fromBase64String(e))}catch(n){throw new V(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Oc(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class od{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new V(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class LR{constructor(e){this._methodName=e}}class VR{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}const JEe=/^__.*__$/;class ZEe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new ss(e,this.data,this.fieldMask,n,this.fieldTransforms):new $l(e,this.data,n,this.fieldTransforms)}}class T9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ss(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function E9(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}class w0{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new w0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return T0(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(E9(this.ca)&&JEe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class XEe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qp(e)}ya(e,n,r,i=!1){return new w0({ca:e,methodName:n,ga:r,path:Yt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sd(t){const e=t._freezeSettings(),n=qp(t._databaseId);return new XEe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function BR(t,e,n,r,i,o={}){const s=t.ya(o.merge||o.mergeFields?2:0,e,n,i);jR("Data must be an object, but it was:",s,r);const a=x9(r,s);let c,u;if(o.merge)c=new Mr(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const l=[];for(const d of o.mergeFields){const h=Zp(e,d,n);if(!s.contains(h))throw new V(x.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);O9(l,h)||l.push(h)}c=new Mr(l),u=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=s.fieldTransforms;return new ZEe(new $n(a),c,u)}class Jp extends LR{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jp}}function Mc(t,e){if(N9(t=dr(t)))return jR("Unsupported field value:",e,t),x9(t,e);if(t instanceof LR)return function(n,r){if(!E9(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const s of n){let a=Mc(s,r.wa(o));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=dr(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return b8(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Nt.fromDate(n);return{timestampValue:Gl(r.serializer,i)}}if(n instanceof Nt){const i=new Nt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Gl(r.serializer,i)}}if(n instanceof VR)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Oc)return{bytesValue:j8(r.serializer,n._byteString)};if(n instanceof Jt){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:iM(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${b0(n)}`)}(t,e)}function x9(t,e){const n={};return H7(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Js(t,(r,i)=>{const o=Mc(i,e.ha(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function N9(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Nt||t instanceof VR||t instanceof Oc||t instanceof Jt||t instanceof LR)}function jR(t,e,n){if(!N9(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=b0(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Zp(t,e,n){if((e=dr(e))instanceof od)return e._internalPath;if("string"==typeof e)return I0(t,e);throw T0("Field path arguments must be of type string or ",t,!1,void 0,n)}const rCe=new RegExp("[~\\*/\\[\\]]");function I0(t,e,n){if(e.search(rCe)>=0)throw T0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new od(...e.split("."))._internalPath}catch{throw T0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function T0(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new V(x.INVALID_ARGUMENT,a+t+c)}function O9(t,e){return t.some(n=>n.isEqual(e))}class $R{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new iCe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(E0("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class iCe extends $R{data(){return super.data()}}function E0(t,e){return"string"==typeof e?I0(t,e):e instanceof od?e._internalPath:e._delegate._internalPath}class HR{}class oCe extends HR{}function sCe(t,e,...n){let r=[];e instanceof HR&&r.push(e),r=r.concat(n),function(i){const o=i.filter(a=>a instanceof ad).length,s=i.filter(a=>a instanceof Xp).length;if(o>1||o>0&&s>0)throw new V(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Xp extends oCe{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Xp(e,n,r)}_apply(e){const n=this._parse(e);return F9(e._query,n),new Hn(e.firestore,e.converter,KO(e._query,n))}_parse(e){const n=sd(e.firestore);return function(i,o,s,a,c,u,l){let d;if(c.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new V(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){P9(l,u);const h=[];for(const f of l)h.push(k9(a,i,f));d={arrayValue:{values:h}}}else d=k9(a,i,l)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||P9(l,u),d=function A9(t,e,n,r=!1){return Mc(n,t.ya(r?4:3,e))}(s,"where",l,"in"===u||"not-in"===u);return Ae.create(c,u,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function aCe(t,e,n){const r=e,i=E0("where",t);return Xp._create(i,r,n)}class ad extends HR{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ad(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:rt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let o=r;const s=i.getFlattenedFilters();for(const a of s)F9(o,a),o=KO(o,a)}(e._query,n),new Hn(e.firestore,e.converter,KO(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function k9(t,e,n){if("string"==typeof(n=dr(n))){if(""===n)throw new V(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WO(e)&&-1!==n.indexOf("/"))throw new V(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ke.fromString(n));if(!J.isDocumentKey(r))throw new V(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vc(t,new J(r))}if(n instanceof Jt)return vc(t,n._key);throw new V(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${b0(n)}.`)}function P9(t,e){if(!Array.isArray(t)||0===t.length)throw new V(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function F9(t,e){if(e.isInequality()){const r=Hv(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new V(x.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=qO(t);null!==o&&function L9(t,e,n){if(!n.isEqual(e))throw new V(x.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,i,o)}const n=function(r,i){for(const o of r)for(const s of o.getFlattenedFilters())if(i.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new V(x.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class cCe{convertValue(e,n="none"){switch(ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Js(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new VR(Vt(e.latitude),Vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Lv(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wp(e));default:return null}}convertTimestamp(e){const n=Zs(e);return new Nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ke.fromString(e);ie(J8(r));const i=new yc(r.get(1),r.get(3)),o=new J(r.popFirst(5));return i.isEqual(n)||Kt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function zR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Rc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cd extends $R{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new A0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(E0("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class A0 extends cd{data(e={}){return super.data(e)}}class ud{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Rc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new A0(this._firestore,this._userDataWriter,r.key,r,new Rc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>({type:"added",doc:new A0(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Rc(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||3!==s.type).map(s=>{const a=new A0(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Rc(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return 0!==s.type&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),1!==s.type&&(o=o.add(s.doc),u=o.indexOf(s.doc.key)),{type:lCe(s.type),doc:a,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function lCe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}function dCe(t){t=Ne(t,Jt);const e=Ne(t.firestore,_t);return function l9(t,e,n={}){const r=new hn;return t.asyncQueue.enqueueAndForget(p(function*(){return function(i,o,s,a,c){const u=new m0({next:d=>{o.enqueueAndForget(()=>ZM(i,l));const h=d.docs.has(s);!h&&d.fromCache?c.reject(new V(x.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?c.reject(new V(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),l=new tR(Bl(s.path),u,{includeMetadataChanges:!0,Ku:!0});return QM(i,l)}(yield id(t),t.asyncQueue,e,n,r)})),r.promise}(on(e),t._key).then(n=>function qR(t,e,n){const r=n.docs.get(e._key),i=new ua(t);return new cd(t,i,e._key,r,new Rc(n.hasPendingWrites,n.fromCache),e.converter)}(e,t,n))}class ua extends cCe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,n)}}function hCe(t){t=Ne(t,Hn);const e=Ne(t.firestore,_t),n=on(e),r=new ua(e);return function M9(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new V(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),function d9(t,e,n={}){const r=new hn;return t.asyncQueue.enqueueAndForget(p(function*(){return function(i,o,s,a,c){const u=new m0({next:d=>{o.enqueueAndForget(()=>ZM(i,l)),d.fromCache&&"server"===a.source?c.reject(new V(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),l=new tR(s,u,{includeMetadataChanges:!0,Ku:!0});return QM(i,l)}(yield id(t),t.asyncQueue,e,n,r)})),r.promise}(n,t._query).then(i=>new ud(e,r,t,i))}function fCe(t,e,n){t=Ne(t,Jt);const r=Ne(t.firestore,_t),i=zR(t.converter,e,n);return eg(r,[BR(sd(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,wt.none())])}function pCe(t,e,n,...r){t=Ne(t,Jt);const i=Ne(t.firestore,_t),o=sd(i);let s;return s="string"==typeof(e=dr(e))||e instanceof od?function S9(t,e,n,r,i,o){const s=t.ya(1,e,n),a=[Zp(e,r,n)],c=[i];if(o.length%2!=0)throw new V(x.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(Zp(e,o[h])),c.push(o[h+1]);const u=[],l=$n.empty();for(let h=a.length-1;h>=0;--h)if(!O9(u,a[h])){const f=a[h];let g=c[h];g=dr(g);const y=s.da(f);if(g instanceof Jp)u.push(f);else{const v=Mc(g,y);null!=v&&(u.push(f),l.set(f,v))}}const d=new Mr(u);return new T9(l,d,s.fieldTransforms)}(o,"updateDoc",t._key,e,n,r):function D9(t,e,n,r){const i=t.ya(1,e,n);jR("Data must be an object, but it was:",i,r);const o=[],s=$n.empty();Js(r,(c,u)=>{const l=I0(e,c,n);u=dr(u);const d=i.da(l);if(u instanceof Jp)o.push(l);else{const h=Mc(u,d);null!=h&&(o.push(l),s.set(l,h))}});const a=new Mr(o);return new T9(s,a,i.fieldTransforms)}(o,"updateDoc",t._key,e),eg(i,[s.toMutation(t._key,wt.exists(!0))])}function gCe(t){return eg(Ne(t.firestore,_t),[new Hl(t._key,wt.none())])}function mCe(t,e){const n=Ne(t.firestore,_t),r=y9(t),i=zR(t.converter,e);return eg(n,[BR(sd(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,wt.exists(!1))]).then(()=>r)}function eg(t,e){return function(n,r){const i=new hn;return n.asyncQueue.enqueueAndForget(p(function*(){return function gEe(t,e,n){return sR.apply(this,arguments)}(yield function RR(t){return y0(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(on(t),e)}!function(t,e=!0){Rl=Mf,hr(new Jn("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),s=new _t(new Gwe(n.getProvider("auth-internal")),new Wwe(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new V(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yc(a.options.projectId,c)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),Wt(D7,"3.13.0",t),Wt(D7,"3.13.0","esm2017")}();class yi{constructor(e){return e}}const U9="firestore",WR=new te("angularfire2.firestore-instances");function NCe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new yi(r)}}const OCe={provide:class ACe{constructor(){return mA(U9)}},deps:[[new Tr,WR]]},MCe={provide:yi,useFactory:function xCe(t,e){const n=function gA(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(U9,t,e);return n&&new yi(n)},deps:[[new Tr,WR],wl]};let RCe=(()=>{class t{constructor(){Wt("angularfire",aA.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=we({providers:[MCe,OCe]}),t})();function kCe(t,...e){return{ngModule:RCe,providers:[{provide:WR,useFactory:NCe(t),multi:!0,deps:[Ee,Xt,FH,LH,[new Tr,jG],[new Tr,u6],...e]}]}}const j9=gi(mCe,!0),tg=gi(qEe,!0),PCe=gi(gCe,!0),kc=gi(y9,!0),KR=gi(dCe,!0),YR=gi(hCe,!0),FCe=gi(YEe,!0),$9=gi(sCe,!0),LCe=gi(fCe,!0),H9=gi(pCe,!0),G9=gi(aCe,!0);let us=(()=>{class t{constructor(n,r){this.firestore=n,this.router=r,this.userDataSubject=new vr(null),this.userData$=this.userDataSubject.asObservable();const i=localStorage.getItem("user");if(i){const o=JSON.parse(i);this.userDataSubject.next(o)}}registerUser(n,r,i){var o=this;return p(function*(){try{const s=yield o.createUserWithEmailAndPassword(n,r),a=s.user.uid;yield o.addAdditionalAuthData(a,i),yield o.saveUserData(s.user,i),o.router.navigate(["recipes-list"])}catch(s){o.handleError(s)}})()}loginUser(n,r){var i=this;return p(function*(){try{const o=yield i.signInWithEmailAndPassword(n,r),s=o.user.uid,a=yield i.getAdditionalAuthDataById(s);yield i.saveUserData(o.user,a),i.router.navigate(["recipes-list"])}catch(o){i.handleError(o)}})()}logoutUser(){var n=this;return p(function*(){try{yield n.signOutAuth(),yield n.clearUserData(),n.router.navigate(["login"])}catch(r){n.handleError(r)}})()}forgotPassword(n){var r=this;return p(function*(){try{yield r.sendPasswordResetEmail(n),window.alert("Password reset email sent, check your inbox."),r.router.navigate(["login"])}catch(i){r.handleError(i),window.alert(i)}})()}sendPasswordResetEmail(n){return function qhe(t,e,n){return tC.apply(this,arguments)}(vy(),n)}createUserWithEmailAndPassword(n,r){return function Khe(t,e,n){return sC.apply(this,arguments)}(vy(),n,r)}signInWithEmailAndPassword(n,r){return function Yhe(t,e,n){return GE(Fs(t),B5.credential(e,n)).catch(function(){var r=p(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&XE(t),i});return function(i){return r.apply(this,arguments)}}())}(vy(),n,r)}signOutAuth(){return function ofe(t){return Fs(t).signOut()}(vy())}addAdditionalAuthData(n,r){return LCe(kc(this.firestore,"Auth",n),r)}getAdditionalAuthDataById(n){var r=this;return p(function*(){const i=kc(r.firestore,"Auth",n),o=yield KR(i);return o.exists()?o.data():null})()}saveUserData(n,r){return new Promise((i,o)=>{if(n&&r){const s={...n,...r};localStorage.setItem("user",JSON.stringify(s)),this.userDataSubject.next(s),i()}else localStorage.setItem("user","null"),this.userDataSubject.next(null),o()})}clearUserData(){return new Promise((n,r)=>{localStorage.removeItem("user"),this.userDataSubject.next(null),n()})}handleError(n){if(n instanceof Error){const i=n.message;console.error(`Error (${n.name}): ${i}`),alert(i)}else console.error("Unknown error:",n),alert(n)}static#e=this.\u0275fac=function(r){return new(r||t)(W(yi),W(wn))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function VCe(t,e){1&t&&(m(0,"div",19),T(1," Email is required! "),_())}function BCe(t,e){1&t&&(m(0,"div",19),T(1," Please enter a valid email address! "),_())}function UCe(t,e){if(1&t&&(m(0,"div"),N(1,VCe,2,0,"div",18),N(2,BCe,2,0,"div",18),_()),2&t){const n=U();let r,i;E(1),D("ngIf",null==(r=n.registerForm.get("email"))||null==r.errors?null:r.errors.required),E(1),D("ngIf",null==(i=n.registerForm.get("email"))||null==i.errors?null:i.errors.email)}}function jCe(t,e){1&t&&(m(0,"div",19),T(1," Password is required! "),_())}function $Ce(t,e){1&t&&(m(0,"div",19),T(1," Password must be at least 6 characters long! "),_())}function HCe(t,e){if(1&t&&(m(0,"div"),N(1,jCe,2,0,"div",18),N(2,$Ce,2,0,"div",18),_()),2&t){const n=U();let r,i;E(1),D("ngIf",null==(r=n.registerForm.get("password"))||null==r.errors?null:r.errors.required),E(1),D("ngIf",null==(i=n.registerForm.get("password"))||null==i.errors?null:i.errors.minlength)}}function GCe(t,e){1&t&&(m(0,"div",19),T(1," Repeat password is required! "),_())}function zCe(t,e){1&t&&(m(0,"div",19),T(1," Repeat password must be at least 6 characters long! "),_())}function qCe(t,e){if(1&t&&(m(0,"div"),N(1,GCe,2,0,"div",18),N(2,zCe,2,0,"div",18),_()),2&t){const n=U();let r,i;E(1),D("ngIf",null==(r=n.registerForm.get("repeatPassword"))||null==r.errors?null:r.errors.required),E(1),D("ngIf",null==(i=n.registerForm.get("repeatPassword"))||null==i.errors?null:i.errors.minlength)}}function WCe(t,e){1&t&&(m(0,"div",19),T(1," First name is required! "),_())}function KCe(t,e){if(1&t&&(m(0,"div"),N(1,WCe,2,0,"div",18),_()),2&t){const n=U();let r;E(1),D("ngIf",null==(r=n.registerForm.get("firstName"))||null==r.errors?null:r.errors.required)}}function YCe(t,e){1&t&&(m(0,"div",19),T(1," Last name is required! "),_())}function QCe(t,e){if(1&t&&(m(0,"div"),N(1,YCe,2,0,"div",18),_()),2&t){const n=U();let r;E(1),D("ngIf",null==(r=n.registerForm.get("lastName"))||null==r.errors?null:r.errors.required)}}let JCe=(()=>{class t{constructor(n,r,i){this.userService=n,this.fb=r,this.router=i,this.registerForm=this.fb.group({email:["",[He.required,He.email]],password:["",[He.required,He.minLength(6)]],repeatPassword:["",He.required],firstName:["",He.required],lastName:["",He.required],isActive:[!0,He.required],isAdmin:[!1,He.required]})}submitRegisterForm(){var n=this;return p(function*(){if(n.registerForm.valid){const{email:r,password:i,repeatPassword:o,...s}=n.registerForm.value;if(i!==o)return void alert("Password do not match!");try{yield n.userService.registerUser(r,i,s)}catch(a){alert(a)}}})()}static#e=this.\u0275fac=function(r){return new(r||t)(b(us),b(uf),b(wn))};static#t=this.\u0275cmp=Ke({type:t,selectors:[["app-register"]],decls:31,vars:6,consts:[[1,"main-short"],[1,"wrapper"],[1,"title"],[3,"formGroup","ngSubmit"],["for","email"],["type","email","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","new-password"],["for","repeatPassword"],["type","password","id","repeatPassword","formControlName","repeatPassword","autocomplete","new-password"],["for","firstName"],["type","text","id","firstName","formControlName","firstName"],["for","lastName"],["type","text","id","lastName","formControlName","lastName"],["type","submit",1,"button",2,"width","100%","margin-top","20px"],["href","#","routerLink","/login"],[1,"hint"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(m(0,"div",0)(1,"div",1)(2,"h1",2),T(3,"Registration"),_(),m(4,"form",3),oe("ngSubmit",function(){return i.submitRegisterForm()}),m(5,"label",4),T(6,"Email:"),_(),F(7,"input",5),N(8,UCe,3,2,"div",6),m(9,"label",7),T(10,"Password:"),_(),F(11,"input",8),N(12,HCe,3,2,"div",6),m(13,"label",9),T(14,"Repeat password:"),_(),F(15,"input",10),N(16,qCe,3,2,"div",6),m(17,"label",11),T(18,"First name:"),_(),F(19,"input",12),N(20,KCe,2,1,"div",6),m(21,"label",13),T(22,"Last Name:"),_(),F(23,"input",14),N(24,QCe,2,1,"div",6),m(25,"button",15),T(26,"Submit"),_(),F(27,"hr"),m(28,"a",16)(29,"div",17),T(30,"Already registered?"),_()()()()()),2&r){let o,s,a,c,u;E(4),D("formGroup",i.registerForm),E(4),D("ngIf",(null==(o=i.registerForm.get("email"))?null:o.invalid)&&(null==(o=i.registerForm.get("email"))?null:o.touched)),E(4),D("ngIf",(null==(s=i.registerForm.get("password"))?null:s.invalid)&&(null==(s=i.registerForm.get("password"))?null:s.touched)),E(4),D("ngIf",(null==(a=i.registerForm.get("repeatPassword"))?null:a.invalid)&&(null==(a=i.registerForm.get("repeatPassword"))?null:a.touched)),E(4),D("ngIf",(null==(c=i.registerForm.get("firstName"))?null:c.invalid)&&(null==(c=i.registerForm.get("firstName"))?null:c.touched)),E(4),D("ngIf",(null==(u=i.registerForm.get("lastName"))?null:u.invalid)&&(null==(u=i.registerForm.get("lastName"))?null:u.touched))}},dependencies:[Qn,fl,Ns,ll,dl,ks,Ga,ki],styles:[".checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--mainBackgroundColor);border:none}}"]})}return t})();function ZCe(t,e){1&t&&(m(0,"div",14),T(1," Email is required! "),_())}function XCe(t,e){1&t&&(m(0,"div",14),T(1," Invalid email! "),_())}function eDe(t,e){if(1&t&&(m(0,"div"),N(1,ZCe,2,0,"div",15),N(2,XCe,2,0,"div",15),_()),2&t){const n=U();let r,i;E(1),D("ngIf",null==(r=n.logInForm.get("email"))||null==r.errors?null:r.errors.required),E(1),D("ngIf",null==(i=n.logInForm.get("email"))||null==i.errors?null:i.errors.email)}}function tDe(t,e){1&t&&(m(0,"div",14),T(1," Password is required! "),_())}function nDe(t,e){1&t&&(m(0,"div",14),T(1," Password must be at least 6 characters long! "),_())}function rDe(t,e){if(1&t&&(m(0,"div"),N(1,tDe,2,0,"div",15),N(2,nDe,2,0,"div",15),_()),2&t){const n=U();let r,i;E(1),D("ngIf",null==(r=n.logInForm.get("password"))||null==r.errors?null:r.errors.required),E(1),D("ngIf",null==(i=n.logInForm.get("password"))||null==i.errors?null:i.errors.minlength)}}function iDe(t,e){if(1&t&&(m(0,"div"),T(1),_()),2&t){const n=U();E(1),Rt(n.loginError)}}let oDe=(()=>{class t{constructor(n,r,i,o){this.userService=n,this.fb=r,this.route=i,this.router=o,this.loginError=null,this.returnUrl=null,this.logInForm=this.fb.group({email:["",[He.required,He.email]],password:["",[He.required,He.minLength(6)]]})}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}submitLogInForm(){var n=this;return p(function*(){if(n.logInForm.valid){const{email:r,password:i}=n.logInForm.value;try{yield n.userService.loginUser(r,i);const o=n.returnUrl||"/category";yield n.router.navigateByUrl(o)}catch(o){console.log(o)}}})()}static#e=this.\u0275fac=function(r){return new(r||t)(b(us),b(uf),b(Uo),b(wn))};static#t=this.\u0275cmp=Ke({type:t,selectors:[["app-login"]],decls:28,vars:4,consts:[[1,"main-short"],[1,"wrapper"],[1,"title"],[3,"formGroup","ngSubmit"],[1,"formGroup"],["for","email"],["type","text","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","current-password"],["type","submit",1,"button",2,"width","100%"],["href","#","routerLink","/register"],[1,"hint"],["href","#","routerLink","/forgot-password"],[1,"errors"],["class","errors",4,"ngIf"]],template:function(r,i){if(1&r&&(m(0,"div",0)(1,"div",1)(2,"h1",2),T(3,"Login"),_(),m(4,"form",3),oe("ngSubmit",function(){return i.submitLogInForm()}),m(5,"div",4)(6,"label",5),T(7,"Email"),_(),F(8,"input",6),N(9,eDe,3,2,"div",7),_(),m(10,"div",4)(11,"label",8),T(12,"Password"),_(),F(13,"input",9),N(14,rDe,3,2,"div",7),_(),F(15,"br"),m(16,"div",4)(17,"button",10),T(18,"Submit"),_()(),N(19,iDe,2,1,"div",7),F(20,"hr"),m(21,"div")(22,"a",11)(23,"div",12),T(24,"Don't have a Registration yet?"),_()(),m(25,"a",13)(26,"div",14),T(27,"Forgot your password?"),_()()()()()()),2&r){let o,s;E(4),D("formGroup",i.logInForm),E(5),D("ngIf",(null==(o=i.logInForm.get("email"))?null:o.invalid)&&(null==(o=i.logInForm.get("email"))?null:o.touched)),E(5),D("ngIf",(null==(s=i.logInForm.get("password"))?null:s.invalid)&&(null==(s=i.logInForm.get("password"))?null:s.touched)),E(5),D("ngIf",i.loginError)}},dependencies:[Qn,fl,Ns,ll,dl,ks,Ga,ki],styles:["@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--mainBackgroundColor);border:none}}"]})}return t})(),sDe=(()=>{class t{constructor(n){this.userService=n}static#e=this.\u0275fac=function(r){return new(r||t)(b(us))};static#t=this.\u0275cmp=Ke({type:t,selectors:[["app-forgot-password"]],decls:16,vars:0,consts:[[1,"main-short"],[1,"wrapper"],[1,"title"],[1,"hint"],[1,"formGroup"],["type","email","placeholder","Email","required","",1,"formControl"],["passwordResetEmail",""],[1,"errors"],[1,"buttons"],["type","submit","value","\u0418\u0437\u043f\u0440\u0430\u0442\u0438 \u0438\u043c\u0435\u0439\u043b",1,"button",3,"click"],["href","#","routerLink","/login"]],template:function(r,i){if(1&r){const o=Mt();m(0,"div",0)(1,"div",1)(2,"h3",2),T(3,"Forgotten password"),_(),m(4,"p",3),T(5," Please enter your email address so we can send you a password reset email. "),_(),m(6,"div",4),F(7,"input",5,6),_(),m(9,"p",7),T(10,"If you can't find the email, please check your spam folder!"),_(),m(11,"div",8)(12,"input",9),oe("click",function(){Et(o);const a=ci(8);return Ct(i.userService.forgotPassword(a.value))}),_(),m(13,"a",10)(14,"div",3),T(15,"Return to Login"),_()()()()()}},dependencies:[ki],styles:[".buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.wrapper[_ngcontent-%COMP%]{padding:0 5%;max-width:600px;margin:0 auto}"]})}return t})(),aDe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ke({type:t,selectors:[["app-carousel"]],decls:24,vars:0,consts:[["id","carouselExampleAutoplaying","data-bs-ride","carousel",1,"carousel","slide"],[1,"overlay"],[1,"info"],[1,"title"],[1,"subtitle"],["routerLink","/recipes-list",1,"infoBtn"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://www.aveeno.com/sites/aveeno_us_2/files/healingherbswithmortaran_687349.jpg","alt","...",1,"carousel-img","d-block","w-100"],[1,"carousel-item"],["src","https://imgix-prod.sgs.com/-/media/sgscorp/images/connectivity-and-products/aromatics-pexels.cdn.en-MU.1.jpg","alt","...",1,"carousel-img","d-block","w-100"],["src","https://images.pexels.com/photos/1793035/pexels-photo-1793035.jpeg","alt","...",1,"carousel-img","d-block","w-100"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),T(4,"Welcome to our Healing Herbal Recipe Community!"),_(),m(5,"div",4),T(6," Explore a wealth of new herbal recipes designed for healing right here. Upon registration, you'll gain access to not only adding your favorite healing recipes but also rating and commenting on the ones that resonate with you. Join us in nurturing wellness through the power of herbal remedies! "),_(),m(7,"a",5),T(8,"READ MORE"),_()()(),m(9,"div",6)(10,"div",7),F(11,"img",8),_(),m(12,"div",9),F(13,"img",10),_(),m(14,"div",9),F(15,"img",11),_()(),m(16,"button",12),F(17,"span",13),m(18,"span",14),T(19,"Previous"),_()(),m(20,"button",15),F(21,"span",16),m(22,"span",14),T(23,"Next"),_()()())},dependencies:[ki],styles:[".carousel[_ngcontent-%COMP%]{max-height:92vh;overflow:hidden}.carousel-img[_ngcontent-%COMP%]{height:100vh;object-fit:cover}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{z-index:9}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0 50% 0 0;background-color:#a7575e99;z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:47%;right:10%;top:40%;transform:translate(2%,-27%);color:var(--mainWhiteColor);text-align:left}.title[_ngcontent-%COMP%]{font-size:32px;padding-bottom:20px;font-weight:900;line-height:35px;color:var(--backgroundColor);text-align:left}.subtitle[_ngcontent-%COMP%]{font-style:italic;color:var(--backgroundColor)}.infoBtn[_ngcontent-%COMP%]{background-color:var(--backgroundColor);color:var(--textColor);padding:13px 35px;font-size:14px;margin-top:40px;display:inline-block;font-weight:700;font-family:Roboto,sans-serif;border:1px solid transparent}.infoBtn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:transparent;border:1px solid var(--backgroundColor);color:var(--mainWhiteColor)}@media (max-width: 460px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#a7575e99;z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.infoBtn[_ngcontent-%COMP%]{margin-top:10px}.title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900;text-align:center}}@media (min-width: 461px) and (max-width: 767px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#a7575e99;z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.infoBtn[_ngcontent-%COMP%]{margin-top:10px}.title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900}}@media (min-width: 768px) and (max-width: 1023px){.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor)}}"]})}return t})(),z9=(()=>{class t{constructor(n){this.firestore=n}getRecipes(){const r=tg(this.firestore,"Recipe");return new Be(i=>{YR(r).then(o=>{const s=[];o.forEach(a=>{const u={...a.data(),id:a.id};s.push(u)}),i.next(s),i.complete()}).catch(o=>{i.error(o)})})}getRecipeByUID(n){var r=this;return p(function*(){try{const i=tg(r.firestore,"Recipe"),o=$9(i,G9("uid","==",n)),s=yield YR(o),a=[];return s.forEach(c=>{const l={...c.data(),id:c.id};a.push(l)}),a}catch(i){return console.error("Error retrieving recipes:",i),[]}})()}static#e=this.\u0275fac=function(r){return new(r||t)(W(yi))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const cDe=function(t){return["/recipe",t]};function uDe(t,e){if(1&t&&(m(0,"div")(1,"a",5)(2,"div",6)(3,"div",7),F(4,"img",8),_(),m(5,"p",9),T(6),_()()()()),2&t){const n=e.$implicit;E(1),D("routerLink",Ra(4,cDe,n.id)),E(3),ph("alt",n.title),D("src",n.image_recipe[0].image_recipe,Da),E(2),Rt(n.title)}}let lDe=(()=>{class t{constructor(n){this.recipeService=n,this.recipes=[]}ngOnInit(){this.getRecipes()}getRecipes(){this.recipeService.getRecipes().subscribe({next:n=>{this.recipes=n.sort((r,i)=>r.title.localeCompare(i.title))},error:n=>{console.error("Error fetching recipes:",n)}})}static#e=this.\u0275fac=function(r){return new(r||t)(b(z9))};static#t=this.\u0275cmp=Ke({type:t,selectors:[["app-recipes-list"]],decls:6,vars:1,consts:[[1,"main-long"],[1,"recipes-list"],[1,"title"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"]],template:function(r,i){1&r&&(m(0,"main",0)(1,"section",1)(2,"h2",2),T(3,"Recipes"),_(),m(4,"div",3),N(5,uDe,7,6,"div",4),_()()()),2&r&&(E(5),D("ngForOf",i.recipes))},dependencies:[qr,ki],styles:[".recipe-list[_ngcontent-%COMP%]{max-width:1200px;position:relative;margin:0 auto 100px;display:grid;grid-template-columns:repeat(4,1fr);row-gap:20px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-title[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);background:var(--mainRGBAColor);background:rgba(167,87,94,.8);color:var(--backgroundColor);font-size:18px;font-weight:900;padding:0 5px;margin:0;text-align:center;width:100%;text-transform:uppercase;top:80%;height:30%;font-family:var(--titleFont);line-height:20px;font-family:Caveat,cursive;display:flex;align-items:center;justify-content:center;transition:top 1s ease-in-out}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;top:0%;height:30%;color:var(--textColor);background:var(--backgroundColor);transition:1s ease-in-out;box-shadow:1px 5px 15px #a7575e}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 4% 0 2%;row-gap:30px}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:16px;height:30%}}@media (min-width: 461px) and (max-width: 767px){.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 80px 0 2%;row-gap:30px}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:18px;height:30%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);padding:0 10% 0 1%;column-gap:10px;row-gap:30px}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:18px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);padding:0 10% 0 1%;column-gap:10px;row-gap:30px}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:18px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return t})();gl("firebase","10.8.1","app");const N0_firebaseConfig={apiKey:"AIzaSyCVbXDjBGUwaOrn1CZYGIwce1dYPKpR7PA",authDomain:"the-natural-way.firebaseapp.com",projectId:"the-natural-way",storageBucket:"the-natural-way.appspot.com",messagingSenderId:"778711637280",appId:"1:778711637280:web:30b52ea2a4e159578fcb45"},N0_cloudinaryConfig_cloudName="dsla98vyk",N0_cloudinaryConfig_uploadPreset="the_natural_way";n5(N0_firebaseConfig);let q9=(()=>{class t{constructor(){this.cloudName=N0_cloudinaryConfig_cloudName,this.uploadPreset=N0_cloudinaryConfig_uploadPreset,this.imageUploaded=new R}ngOnInit(){this.myWidget=cloudinary.createUploadWidget({cloudName:this.cloudName,uploadPreset:this.uploadPreset,maxImageWidth:500},(n,r)=>{!n&&r&&"success"===r.event&&(console.log("Done! Here is the image info: ",r.info),this.onImagesUploaded(r.info.secure_url))})}onImagesUploaded(n){this.imageUploaded.emit(n)}openWidget(){this.myWidget.open()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ke({type:t,selectors:[["app-image-upload"]],outputs:{imageUploaded:"imageUploaded"},decls:4,vars:0,consts:[["id","upload_widget",1,"button-img",3,"click"],[1,"fa-solid","fa-plus","fa-beat-fade"]],template:function(r,i){1&r&&(m(0,"div")(1,"button",0),oe("click",function(){return i.openWidget()}),F(2,"i",1),T(3," Add images (optional) "),_()())}})}return t})();function fDe(t,e){1&t&&(m(0,"div",25),T(1," Please fill in the title! "),_())}function pDe(t,e){if(1&t&&(m(0,"div"),N(1,fDe,2,0,"div",24),_()),2&t){const n=U();let r;E(1),D("ngIf",null==(r=n.recipeForm.get("title"))||null==r.errors?null:r.errors.required)}}function gDe(t,e){1&t&&(m(0,"div",25),T(1," Please fill in a subtitle! "),_())}function mDe(t,e){if(1&t&&(m(0,"div"),N(1,gDe,2,0,"div",24),_()),2&t){const n=U();let r;E(1),D("ngIf",null==(r=n.recipeForm.get("subtitle"))||null==r.errors?null:r.errors.required)}}function _De(t,e){1&t&&(m(0,"div",25),T(1," Please fill in the method of preparation! "),_())}function yDe(t,e){if(1&t&&(m(0,"div"),N(1,_De,2,0,"div",24),_()),2&t){const n=U();let r;E(1),D("ngIf",null==(r=n.recipeForm.get("description"))||null==r.errors?null:r.errors.required)}}function vDe(t,e){if(1&t){const n=Mt();m(0,"app-image-upload",26),oe("imageUploaded",function(i){return Et(n),Ct(U().addImageToForm(i))}),_()}}function bDe(t,e){if(1&t&&F(0,"img",33),2&t){const n=U().index;let i;D("src",null==(i=U().image_recipe.controls[n].get("image_recipe"))?null:i.value,Da)}}function wDe(t,e){if(1&t){const n=Mt();m(0,"div",27)(1,"label",13),T(2,"Images:"),_(),m(3,"p",11),T(4,"Added image"),_(),m(5,"div",28),F(6,"input",29),m(7,"button",30),oe("click",function(){const o=Et(n).index;return Ct(U().removeImage(o))}),F(8,"i",31),_()(),N(9,bDe,1,1,"img",32),F(10,"br")(11,"br"),_()}if(2&t){const n=e.index,r=U();let i;D("formGroupName",n),E(9),D("ngIf",null==(i=r.image_recipe.controls[n].get("image_recipe"))?null:i.value)}}function IDe(t,e){if(1&t){const n=Mt();m(0,"div",27)(1,"label",13),T(2,"Video:"),_(),m(3,"p",11),T(4,"Add youtube video link here"),_(),m(5,"div",28),F(6,"input",34),m(7,"button",30),oe("click",function(){const o=Et(n).index;return Ct(U().removeVideo(o))}),F(8,"i",31),_()()()}2&t&&D("formGroupName",e.index)}function TDe(t,e){1&t&&(m(0,"div",25),T(1," Please enter an ingredient name! "),_())}function EDe(t,e){if(1&t&&(m(0,"div"),N(1,TDe,2,0,"div",24),_()),2&t){const n=U().index,r=U();let i;E(1),D("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".name"))||null==i.errors?null:i.errors.required)}}function CDe(t,e){1&t&&(m(0,"div",25),T(1," Please fill in the quantity of the ingredient! "),_())}function DDe(t,e){if(1&t&&(m(0,"div"),N(1,CDe,2,0,"div",24),_()),2&t){const n=U().index,r=U();let i;E(1),D("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".amount"))||null==i.errors?null:i.errors.required)}}function SDe(t,e){1&t&&(m(0,"div",25),T(1," Please select a unit of measurement! "),_())}function ADe(t,e){if(1&t&&(m(0,"div"),N(1,SDe,2,0,"div",24),_()),2&t){const n=U().index,r=U();let i;E(1),D("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".unit"))||null==i.errors?null:i.errors.required)}}function xDe(t,e){if(1&t){const n=Mt();m(0,"div",27)(1,"div",35)(2,"div",36),F(3,"hr"),m(4,"p"),T(5),_(),F(6,"hr"),_(),m(7,"button",37),oe("click",function(){const o=Et(n).index;return Ct(U().removeIngredient(o))}),F(8,"i",31),_(),m(9,"label",38),T(10,"Name"),_(),F(11,"input",39),N(12,EDe,2,1,"div",8),m(13,"div",40)(14,"div",41)(15,"label",42),T(16,"Quantity"),_(),F(17,"input",43),_(),m(18,"div",44)(19,"label",45),T(20,"Unit\xa0*"),_(),m(21,"select",46)(22,"option",47),T(23,"Please Choose..."),_(),m(24,"option",48),T(25,"Tea spoon"),_(),m(26,"option",49),T(27,"Tablespoon"),_(),m(28,"option",50),T(29,"Tea cup"),_(),m(30,"option",51),T(31,"Coffee cup"),_(),m(32,"option",52),T(33,"Gram"),_(),m(34,"option",53),T(35,"Kilogram"),_(),m(36,"option",54),T(37,"Milliliter"),_(),m(38,"option",55),T(39,"Liter"),_(),m(40,"option",56),T(41,"Pieces"),_()()(),m(42,"div",57)(43,"label",58),T(44,"Order\xa0**"),_(),F(45,"input",59),_()(),m(46,"p",11),T(47,"* In which we measure the ingredient"),_(),m(48,"p",11),T(49," ** The order in which the ingredients appear in the recipe "),_(),N(50,DDe,2,1,"div",8),N(51,ADe,2,1,"div",8),_()()}if(2&t){const n=e.index,r=U();let i,o,s;D("formGroupName",n),E(5),Ai("\xa0\xa0Ingredient\xa0",n+1,"\xa0"),E(7),D("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".name"))?null:i.touched),E(38),D("ngIf",null==(o=r.recipeForm.get("ingredients."+n+".amount"))?null:o.touched),E(1),D("ngIf",null==(s=r.recipeForm.get("ingredients."+n+".unit"))?null:s.touched)}}let NDe=(()=>{class t{constructor(n,r,i,o,s,a){this.fb=r,this.router=i,this.userService=o,this.el=s,this.renderer=a,this.editorConfig={},this.fullName="",this.userData=null,this.currentOrderIndex=1,this.firestore=n,this.recipeForm=this.fb.group({is_active:[!1],title:["",[He.required]],subtitle:["",[He.required]],description:["",[He.required]],summary:[""],like:[0],author:[""],uid:[""],image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([this.fb.group({name:["",[He.required]],amount:[null,[He.required]],unit:["",[He.required]],order_index:[0]})])}),this.userService.userData$.subscribe({next:c=>{c?this.userData=c:console.log(`Cant found user with this UID ${c.uid}`)},error:c=>{console.log(c)}})}ngOnInit(){this.editorConfig={content_style:"body { background-color: #f6f4f9; }",content_css:"default",base_url:"/tinymce",suffix:".min",menubar:!1,height:300,toolbar:"undo redo | formatselect | bold italic backcolor |           alignleft aligncenter alignright alignjustify |           bullist numlist outdent indent | removeformat "}}addImageToForm(n){this.recipeForm.get("image_recipe").push(this.fb.group({image_recipe:n}))}removeImage(n){this.recipeForm.get("image_recipe").removeAt(n)}addVideo(){this.recipeForm.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(n){this.recipeForm.get("video_recipe").removeAt(n)}addPreparation(){this.recipeForm.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(n){this.recipeForm.get("preparation_method").removeAt(n)}addIngredient(){this.recipeForm.get("ingredients").push(this.fb.group({name:["",[He.required]],amount:[null,[He.required]],unit:["",[He.required]],order_index:this.currentOrderIndex})),this.currentOrderIndex++,console.log(this.currentOrderIndex)}removeIngredient(n){this.recipeForm.get("ingredients").removeAt(n)}get ingredients(){return this.recipeForm.get("ingredients")}get image_recipe(){return this.recipeForm.get("image_recipe")}get video_recipe(){return this.recipeForm.get("video_recipe")}get preparation_method(){return this.recipeForm.get("preparation_method")}onSubmit(){this.recipeForm.invalid?alert("The form is not valid. Please fill in all required fields."):(this.recipeForm.patchValue({author:this.userData.firstName+" "+this.userData.lastName}),this.recipeForm.patchValue({uid:this.userData.uid}),this.addRecipe(this.recipeForm.value),this.recipeForm.reset())}addRecipe(n){j9(tg(this.firestore,"Recipe"),n).then(i=>{console.log("Document written with ID: ",i.id),this.router.navigate(["/recipe",i.id])}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||t)(b(yi),b(uf),b(wn),b(us),b(je),b(Dr))};static#t=this.\u0275cmp=Ke({type:t,selectors:[["app-recipe-create"]],decls:47,vars:8,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[3,"formGroup"],[1,"title-wrapper"],[1,"title","add-recipe"],[1,"subtitle"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["type","text","id","subtitle","formControlName","subtitle"],["for","description"],[1,"hint"],["name","text","id","description","formControlName","description","cols","30","rows","5"],["for","summary"],["type","text","id","summary","formControlName","summary"],[1,"img-video"],[3,"imageUploaded",4,"ngIf"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["type","button",1,"button-img",3,"click"],[1,"fa-solid","fa-plus","fa-beat-fade"],["formArrayName","ingredients",1,"ingredients"],["type","button",1,"button",2,"width","100%",3,"click"],["class","errors",4,"ngIf"],[1,"errors"],[3,"imageUploaded"],[3,"formGroupName"],[1,"input-flex"],["type","text","id","image_recipe","formControlName","image_recipe"],["type","button",1,"removeInput",3,"click"],[1,"fa-solid","fa-xmark","fa-beat-fade"],["alt","Image Preview","class","image-preview",3,"src",4,"ngIf"],["alt","Image Preview",1,"image-preview",3,"src"],["type","text","id","video_recipe","formControlName","video_recipe","placeholder","Paste the video link here"],[1,"ingredient"],[1,"divider"],["type","button",1,"removeIngredient",3,"click"],["for","name"],["type","text","id","name","formControlName","name"],[1,"quantity-unit-index-wrapper"],[1,"quantity"],["for","amount"],["type","number","id","amount","formControlName","amount"],[1,"unit"],["for","ingredient_unit"],["id","ingredient_unit","formControlName","unit"],["value","","disabled","","selected","","hidden",""],["value","ts."],["value","tbs."],["value","tc."],["value","cc."],["value","gr."],["value","kg."],["value","ml."],["value","l."],["value","pieces"],[1,"order-index"],["for","ingredient_order_index"],["type","number","id","ingredient_order_index","formControlName","order_index"]],template:function(r,i){if(1&r&&(m(0,"div",0),F(1,"div",1),m(2,"div",2)(3,"form",3)(4,"div",4)(5,"h1",5),T(6,"Add a Recipe"),_()(),m(7,"h4",6),T(8," Uploading personal recipes is easy! Add yours to your favorites, share with friends, family, or the our community. "),_(),m(9,"label"),T(10," Recipe Title "),F(11,"input",7),_(),N(12,pDe,2,1,"div",8),m(13,"label"),T(14," Subtitle "),F(15,"input",9),_(),N(16,mDe,2,1,"div",8),m(17,"div")(18,"label",10),T(19,"Method of preparation"),_(),m(20,"p",11),T(21,"Explain how to make your recipe"),_(),F(22,"textarea",12),_(),N(23,yDe,2,1,"div",8),m(24,"div")(25,"label",13),T(26,"Summary (optional):"),_(),m(27,"p",11),T(28,"Add any helpful tips about ingredient substitutions, serving, or storage here. "),_(),F(29,"input",14),_(),m(30,"div",15),F(31,"br"),N(32,vDe,1,0,"app-image-upload",16),m(33,"div",17),N(34,wDe,12,2,"div",18),_(),m(35,"div",19),N(36,IDe,9,1,"div",18),m(37,"button",20),oe("click",function(){return i.addVideo()}),F(38,"i",21),T(39," Add a video link (optional) "),_()()(),m(40,"div",22),N(41,xDe,52,5,"div",18),_(),m(42,"button",20),oe("click",function(){return i.addIngredient()}),F(43,"i",21),T(44," Add one more ingredient "),_(),m(45,"button",23),oe("click",function(){return i.onSubmit()}),T(46," Submit Recipe "),_()()()()),2&r){let o,s,a;E(3),D("formGroup",i.recipeForm),E(9),D("ngIf",null==(o=i.recipeForm.get("title"))?null:o.touched),E(4),D("ngIf",null==(s=i.recipeForm.get("subtitle"))?null:s.touched),E(7),D("ngIf",null==(a=i.recipeForm.get("description"))?null:a.touched),E(9),D("ngIf",0==i.image_recipe.length),E(2),D("ngForOf",i.image_recipe.controls),E(2),D("ngForOf",i.video_recipe.controls),E(5),D("ngForOf",i.ingredients.controls)}},dependencies:[qr,Qn,fl,ST,xT,Ns,W_,cf,ll,dl,ks,Ga,sf,af,q9],styles:['.headerImage[_ngcontent-%COMP%]{background-image:url(https://www.sunrider.co.in/wp-content/uploads/2021/07/banner-1.png);height:150px;background-position:bottom}.title-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding-bottom:10px}.add-recipe[_ngcontent-%COMP%]:before{background:linear-gradient(to bottom,transparent 35%,var(--textColor) 35%,var(--textColor) 65%,transparent 65%),linear-gradient(to right,transparent 35%,var(--textColor) 35%,var(--textColor) 65%,transparent 65%);content:"";width:25px;height:25px;align-content:center;flex-wrap:nowrap;flex-direction:row}.add-recipe[_ngcontent-%COMP%]{display:flex;box-shadow:inset 0 -24px #e7ab46;padding-bottom:10px;font-weight:900;color:var(--mainBlackColor)}.subtitle[_ngcontent-%COMP%]{font: 400 16px/24px Source Sans Pro,sans-serif;letter-spacing:0;color:var(--mainBlackColor)}.tiny[_ngcontent-%COMP%]{margin:20px 0}.ingredient[_ngcontent-%COMP%]{background-color:#f8f9fa;box-shadow:0 1px 3px #0000004d;padding:20px;margin-bottom:30px;position:relative}.removeIngredient[_ngcontent-%COMP%]{all:unset;color:red;cursor:pointer;margin-top:20px;text-align:right}.removeIngredient[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.removeIngredient[_ngcontent-%COMP%]{position:absolute;top:-5px;right:16px}.quantity-unit-index-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;margin:20px 0;text-align:center;align-items:flex-end;gap:10px}.quantity[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .order-index[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .box[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:unset}.quantity[_ngcontent-%COMP%], .order-index[_ngcontent-%COMP%]{flex-basis:50px}.unit[_ngcontent-%COMP%]{flex-grow:5}.fa-xmark[_ngcontent-%COMP%]{color:var(--textColor);border-radius:50%;border:2px solid var(--textColor);padding:4px 6px}.fa-xmark[_ngcontent-%COMP%]:hover{background-color:var(--textColor);color:var(--backgroundColor);border-color:var(--backgroundColor);transition:1s ease-in-out}.unit[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:var(--mainRGBAColor);color:var(--backgroundColor);-webkit-appearance:button;outline:none;height:45px;border-bottom:1px solid var(--mainWhiteColor)}.removeInput[_ngcontent-%COMP%]{all:unset;color:red;cursor:pointer;text-align:right}.removeInput[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.box[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:30px}.ingredient_order_index[_ngcontent-%COMP%]{width:unset}.addIngredient[_ngcontent-%COMP%]{all:unset;color:var(--mainGreenColor);cursor:pointer;margin:0 0 20px 30px}.addIngredient[_ngcontent-%COMP%]:hover{background-color:unset;color:var(--mainRedColor);box-shadow:unset}form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}label[_ngcontent-%COMP%]{font-weight:700;color:var(--mainBlackColor);margin-top:30px}option[data-checked][_ngcontent-%COMP%]{background-color:#00f;color:#fff}.selected[_ngcontent-%COMP%]{background-color:red}option[_ngcontent-%COMP%]{padding:20px 0;background-color:var(--mainColor);color:var(--mainWhiteColor)}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:hover{background-color:var(--mainColor);color:red}.input-flex[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:unset}.input-flex[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:baseline;margin-bottom:20px}']})}return t})(),W9=(()=>{class t{constructor(n){this.firestore=n}getRecipeById(n){var r=this;return p(function*(){const i=kc(r.firestore,"Recipe",n),o=yield KR(i);return o.exists()?o.data():null})()}static#e=this.\u0275fac=function(r){return new(r||t)(W(yi))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),K9=(()=>{class t{constructor(n){this.firestore=n,this.commentAddedSubject=new Fe}getCommentsForRecipe(n){var r=this;return p(function*(){try{const i=tg(r.firestore,"Comments"),o=$9(i,G9("recipeId","==",n)),s=yield YR(o),a=[];return s.forEach(c=>{const u=c.data();a.push({create_time:u.create_time,name:u.name,recipeId:u.recipeId,text:u.text,uid:u.uid,id:c.id})}),a.sort((c,u)=>{const l=c.create_time.toDate();return u.create_time.toDate()-l}),a}catch(i){return console.error("Error retrieving comments:",i),[]}})()}addComment(n){var r=this;return p(function*(){try{const i="Comments",o=yield j9(tg(r.firestore,i),n);return r.commentAddedSubject.next(),o.id}catch(i){return console.error("Error adding comment:",i),null}})()}deleteComment(n){var r=this;return p(function*(){try{const o=kc(r.firestore,"Comments",n);yield PCe(o),console.log("Comment deleted successfully:",n)}catch(i){console.error("Error deleting comment:",i)}})()}getCommentById(n){var r=this;return p(function*(){const i=kc(r.firestore,"Comments",n),o=yield KR(i);if(o.exists()){const s=o.data();return console.log(s.recipeId),o.data()}return null})()}editComment(n,r){var i=this;return p(function*(){try{const s=kc(i.firestore,"Comments",n);yield H9(s,r),console.log("Comment edited successfully:",n)}catch(o){console.error("Error editing comment:",o)}})()}getCommentAddedObservable(){return this.commentAddedSubject.asObservable()}static#e=this.\u0275fac=function(r){return new(r||t)(W(yi))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ODe(t,e){1&t&&(m(0,"div",9),T(1," Please write your comment here! "),_())}function MDe(t,e){if(1&t&&(m(0,"div"),N(1,ODe,2,0,"div",8),_()),2&t){const n=U();let r;E(1),D("ngIf",null==(r=n.commentForm.get("text"))||null==r.errors?null:r.errors.required)}}let RDe=(()=>{class t{constructor(n,r,i,o){this.fb=n,this.commentService=i,this.userService=o,this.timestamp=new Date,this.fullName="",this.userData=null,this.firestore=r}ngOnInit(){this.commentForm=this.fb.group({name:[""],text:["",He.required],recipeId:[this.recipeId],create_time:[this.timestamp],uid:[""]}),this.userService.userData$.subscribe({next:n=>{n?(this.userData=n,this.fullName=this.userData.firstName+" "+this.userData.lastName):this.fullName="Anonymous"},error:n=>{console.log(n)}})}onSubmit(){var n=this;return p(function*(){if(n.timestamp=new Date,n.commentForm.valid){n.commentForm.patchValue({name:n.fullName}),n.commentForm.patchValue({recipeId:n.recipeId}),n.commentForm.patchValue({create_time:n.timestamp}),n.commentForm.patchValue({uid:n.userData.uid});try{(yield n.commentService.addComment(n.commentForm.value))?(alert("You have successfully added your comment"),n.commentForm.reset()):console.error("Error adding comment.")}catch(r){console.error("An error occurred while submitting the comment:",r)}}})()}static#e=this.\u0275fac=function(r){return new(r||t)(b(uf),b(yi),b(K9),b(us))};static#t=this.\u0275cmp=Ke({type:t,selectors:[["app-comment-form"]],inputs:{recipeId:"recipeId"},decls:15,vars:2,consts:[[1,"commentWrapper"],["id","commentForm",3,"formGroup","ngSubmit"],[1,"divider"],[1,"form-group"],["for","text"],["id","text","formControlName","text",1,"form-control"],[4,"ngIf"],["type","submit",1,"button",2,"width","100%"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(m(0,"div",0)(1,"form",1),oe("ngSubmit",function(){return i.onSubmit()}),m(2,"div",2),F(3,"hr"),m(4,"p"),T(5,"\xa0\xa0Comment\xa0\xa0"),_(),F(6,"hr"),_(),m(7,"div",3)(8,"label",4),T(9,"Comment (required):"),_(),F(10,"textarea",5),_(),N(11,MDe,2,1,"div",6),F(12,"br"),m(13,"button",7),T(14,"Submit"),_()()()),2&r){let o;E(1),D("formGroup",i.commentForm),E(10),D("ngIf",null==(o=i.commentForm.get("text"))?null:o.touched)}},dependencies:[Qn,fl,Ns,ll,dl,ks,Ga],styles:["form#commentForm[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:100%;border:unset}"]})}return t})(),Y9=(()=>{class t{constructor(n){this.sanitizer=n}transform(n){let r;if(n.startsWith("https://m."))r=new URLSearchParams(n.split("?")[1]).get("v")||"";else{const o=n.split("/");r=o[o.length-1]}return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+r)}static#e=this.\u0275fac=function(r){return new(r||t)(b(CU,16))};static#t=this.\u0275pipe=qn({name:"safeUrl",type:t,pure:!0})}return t})();function kDe(t,e){if(1&t&&(m(0,"div",22),T(1),_()),2&t){const n=U();E(1),Ai(" ",null==n.recipe?null:n.recipe.summary," ")}}function PDe(t,e){1&t&&(m(0,"div"),F(1,"br"),_())}function FDe(t,e){if(1&t&&(m(0,"li"),F(1,"img",25),_()),2&t){const n=e.$implicit;E(1),D("src",n.image_recipe,Da)}}function LDe(t,e){if(1&t&&(m(0,"ul",23),N(1,FDe,2,1,"li",24),_()),2&t){const n=U();E(1),D("ngForOf",null==n.recipe?null:n.recipe.image_recipe)}}function VDe(t,e){1&t&&(m(0,"div",8),F(1,"hr"),m(2,"p"),T(3,"\xa0\xa0Ingredients\xa0\xa0"),_(),F(4,"hr"),_())}function BDe(t,e){if(1&t&&(m(0,"li"),T(1),_()),2&t){const n=U().$implicit;E(1),Dw(" ",n.name," - ",n.amount," ",n.unit," ")}}function UDe(t,e){if(1&t&&(m(0,"ul",26),N(1,BDe,2,3,"li",5),_()),2&t){const n=U();E(1),D("ngIf",null==n.recipe?null:n.recipe.ingredients)}}function jDe(t,e){if(1&t&&(m(0,"li"),F(1,"iframe",28),Yu(2,"safeUrl"),_()),2&t){const n=e.$implicit;E(1),D("src",Eh(2,1,n.video_recipe),ym)}}function $De(t,e){if(1&t&&(m(0,"div",27)(1,"div",8),F(2,"hr"),m(3,"p"),T(4,"\xa0\xa0Video\xa0\xa0"),_(),F(5,"hr"),_(),F(6,"br"),m(7,"ul"),N(8,jDe,3,3,"li",24),_()()),2&t){const n=U();E(8),D("ngForOf",null==n.recipe?null:n.recipe.video_recipe)}}function HDe(t,e){if(1&t){const n=Mt();m(0,"button",21),oe("click",function(){return Et(n),Ct(U().toggleCommentForm())}),T(1," Would you like to comment? "),_()}}function GDe(t,e){if(1&t){const n=Mt();m(0,"button",21),oe("click",function(){return Et(n),Ct(U().toggleCommentForm())}),T(1," Hide comment form "),_()}}function zDe(t,e){if(1&t&&(m(0,"div"),F(1,"app-comment-form",29),_()),2&t){const n=U();E(1),D("recipeId",n.recipeId)}}function qDe(t,e){1&t&&(m(0,"div",8),F(1,"hr"),m(2,"p"),T(3,"\xa0\xa0Comments\xa0\xa0"),_(),F(4,"hr"),_())}function WDe(t,e){if(1&t&&(m(0,"ul")(1,"li"),T(2),_(),m(3,"li"),T(4),_(),m(5,"li",31)(6,"p"),T(7),Yu(8,"date"),_()()()),2&t){const n=e.$implicit;E(2),Rt(n.name),E(2),Rt(n.text),E(3),Ai(" ",IV(8,3,n.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," ")}}function KDe(t,e){if(1&t&&(m(0,"section",30),N(1,WDe,9,6,"ul",24),_()),2&t){const n=U();E(1),D("ngForOf",n.comments)}}let YDe=(()=>{class t{constructor(n,r,i,o,s,a){var c=this;this.route=n,this.recipeService=r,this.commentService=i,this.userService=o,this.firestore=s,this.router=a,this.recipe=null,this.recipeId="",this.comments=[],this.showCommentForm=!1,this.route.paramMap.subscribe(function(){var u=p(function*(l){const d=l.get("id");if(c.recipeId=d,d)try{c.recipe=yield c.recipeService.getRecipeById(d),c.comments=yield i.getCommentsForRecipe(d)}catch(h){console.error("An error occurred while retrieving the recipe:",h)}else console.error("Recipe ID not provided.")});return function(l){return u.apply(this,arguments)}}()),i.getCommentAddedObservable().subscribe(()=>{console.log("Comment successfully added."),this.loadCommentsForRecipe()})}navigateToRecipeEdit(){this.router.navigate(["/dashboard/recipe-edit",this.recipeId])}ngOnInit(){this.userService.userData$.subscribe(n=>{this.userData=n})}toggleCommentForm(){this.showCommentForm=!this.showCommentForm}loadCommentsForRecipe(){var n=this;return p(function*(){n.recipeId&&(n.comments=yield n.commentService.getCommentsForRecipe(n.recipeId))})()}static#e=this.\u0275fac=function(r){return new(r||t)(b(Uo),b(W9),b(K9),b(us),b(yi),b(wn))};static#t=this.\u0275cmp=Ke({type:t,selectors:[["app-recipe"]],decls:40,vars:14,consts:[[1,"mainLong"],[1,"recipe-container"],[1,"recipe-title"],[1,"recipe-subtitle"],["class","recipe-summary",4,"ngIf"],[4,"ngIf"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],[1,"divider"],[1,"recipe-description-text","description"],["class","divider",4,"ngIf"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-videos",4,"ngIf"],["class","button-img",3,"click",4,"ngIf"],["class","comments",4,"ngIf"],["href","javascript:history.back()",1,"back-button"],[1,"button-box"],[1,"button-elem"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],["viewBox","0 0 46 40"],[1,"button-img",3,"click"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","Image of a recipe",3,"src"],[1,"recipe-ingredients"],[1,"recipe-videos"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"],[3,"recipeId"],[1,"comments"],[1,"comments-last"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"h1",2),T(3),_(),m(4,"h3",3),T(5),_(),N(6,kDe,2,1,"div",4),N(7,PDe,2,0,"div",5),m(8,"div",6),N(9,LDe,2,1,"ul",7),m(10,"div",8),F(11,"hr"),m(12,"p"),T(13,"\xa0\xa0Preparation\xa0\xa0"),_(),F(14,"hr"),_(),F(15,"br"),m(16,"p",9),T(17),_(),F(18,"br"),N(19,VDe,5,0,"div",10),F(20,"br"),N(21,UDe,2,1,"ul",11),N(22,$De,9,1,"div",12),N(23,HDe,2,0,"button",13),N(24,GDe,2,0,"button",13),N(25,zDe,2,1,"div",5),N(26,qDe,5,0,"div",10),N(27,KDe,2,1,"section",14),F(28,"hr"),T(29," Go Back "),m(30,"a",15)(31,"div",16)(32,"span",17),bs(),m(33,"svg",18),F(34,"path",19),_()(),fu(),m(35,"span",17),bs(),m(36,"svg",20),F(37,"path",19),_()()()(),fu(),m(38,"button",21),oe("click",function(){return i.navigateToRecipeEdit()}),T(39,"Edit"),_()()()()),2&r&&(E(3),Rt(null==i.recipe?null:i.recipe.title),E(2),Rt(null==i.recipe?null:i.recipe.subtitle),E(1),D("ngIf",null==i.recipe?null:i.recipe.summary),E(1),D("ngIf",!(null!=i.recipe&&i.recipe.summary)),E(2),D("ngIf",(null==i.recipe?null:i.recipe.image_recipe)&&(null==i.recipe||null==i.recipe.image_recipe?null:i.recipe.image_recipe.length)>0),E(8),Ai(" ",null==i.recipe?null:i.recipe.description," "),E(2),D("ngIf",null==i.recipe?null:i.recipe.ingredients),E(2),D("ngForOf",null==i.recipe?null:i.recipe.ingredients),E(1),D("ngIf",(null==i.recipe?null:i.recipe.video_recipe)&&(null==i.recipe||null==i.recipe.video_recipe?null:i.recipe.video_recipe.length)>0),E(1),D("ngIf",!i.showCommentForm),E(1),D("ngIf",i.showCommentForm),E(1),D("ngIf",i.showCommentForm),E(1),D("ngIf",i.comments.length>0),E(1),D("ngIf",i.comments.length>0))},dependencies:[qr,Qn,RDe,tU,Y9],styles:[".recipe-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.recipe-title[_ngcontent-%COMP%]{font-size:26px;text-align:center;font-family:var(--titleFont)}.recipe-subtitle[_ngcontent-%COMP%], .recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic;white-space:pre-wrap}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}ul.recipe-image[_ngcontent-%COMP%]{padding-left:unset}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.btn[_ngcontent-%COMP%]   .fa-solid[_ngcontent-%COMP%]{color:var(--mainWhiteColor)}"]})}return t})(),QDe=(()=>{class t{transform(n){return new Date(parseInt(n,10)).toLocaleString()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275pipe=qn({name:"timestampFormat",type:t,pure:!0})}return t})(),JDe=(()=>{class t{constructor(n){this.userService=n}ngOnInit(){this.userService.userData$.subscribe(n=>{this.user=n})}static#e=this.\u0275fac=function(r){return new(r||t)(b(us))};static#t=this.\u0275cmp=Ke({type:t,selectors:[["app-user-info"]],decls:32,vars:9,consts:[[1,"main-short"],[1,"wrapper"],[1,"title"],[1,"user-details"],[1,"detail"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"h1",2),T(3,"Info"),_(),m(4,"div",3)(5,"div",4)(6,"span"),T(7,"Email:"),_(),m(8,"span"),T(9),_()(),m(10,"div",4)(11,"span"),T(12,"First name:"),_(),m(13,"span"),T(14),_()(),m(15,"div",4)(16,"span"),T(17,"Last name:"),_(),m(18,"span"),T(19),_()(),m(20,"div",4)(21,"span"),T(22,"Created at:"),_(),m(23,"span"),T(24),Yu(25,"timestampFormat"),_()(),m(26,"div",4)(27,"span"),T(28,"Last login:"),_(),m(29,"span"),T(30),Yu(31,"timestampFormat"),_()()()()()),2&r&&(E(9),Rt(i.user.email),E(5),Rt(i.user.firstName),E(5),Rt(i.user.lastName),E(5),Rt(Eh(25,5,i.user.metadata.createdAt)),E(6),Rt(Eh(31,7,i.user.metadata.lastLoginAt)))},dependencies:[QDe],styles:[".wrapper[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}.nav-link[_ngcontent-%COMP%]{background-color:var(--textColor);border:1px solid var(--mainBlackColor)}.user-details[_ngcontent-%COMP%]{background-color:var(--mainColor);color:var(--mainWhiteColor);display:flex;flex-direction:column;align-items:center;padding:20px;border:1px solid var(--borderColor);border-radius:8px;box-shadow:0 2px 4px #0000001a}.detail[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;margin-bottom:10px}.detail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){margin-left:10px}.wrapper[_ngcontent-%COMP%]{padding:0 5%}"]})}return t})();function ZDe(t,e){1&t&&(m(0,"div")(1,"main",2)(2,"h1",3),T(3,"You have no recipes added yet!"),_()()())}const XDe=function(t){return["/recipe",t]};function eSe(t,e){if(1&t&&(m(0,"div")(1,"a",8)(2,"div",9)(3,"div",10),F(4,"img",11),_(),m(5,"p",12),T(6),_()()()()),2&t){const n=e.$implicit;E(1),D("routerLink",Ra(4,XDe,n.id)),E(3),ph("alt",n.title),D("src",n.image_recipe[0].image_recipe,Da),E(2),Rt(n.title)}}function tSe(t,e){if(1&t&&(m(0,"main",4)(1,"section",5)(2,"h2",3),T(3),_(),m(4,"div",6),N(5,eSe,7,6,"div",7),_()()()),2&t){const n=U();E(3),Ai(" Recipes by ",n.userData.firstName+" "+n.userData.lastName," "),E(2),D("ngForOf",n.recipes)}}let nSe=(()=>{class t{constructor(n,r,i){this.userService=n,this.firestore=r,this.recipeService=i,this.userData=null,this.recipes=[],this.emptyRecipes=!0}ngOnInit(){this.userService.userData$.subscribe({next:n=>{n?(this.userData=n,console.log(n.uid),this.loadRecipesByUID(n.uid),console.log(this.emptyRecipes)):console.log(`Cant found user with this UID ${n.uid}`)},error:n=>{console.log(n)}})}loadRecipesByUID(n){var r=this;return p(function*(){try{const i=yield r.recipeService.getRecipeByUID(n);console.log(i),r.recipes=i,i&&(r.emptyRecipes=!1)}catch(i){console.error("Error fetching recipes:",i)}})()}static#e=this.\u0275fac=function(r){return new(r||t)(b(us),b(yi),b(z9))};static#t=this.\u0275cmp=Ke({type:t,selectors:[["app-user-recipes"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["recipesList",""],[1,"main-short"],[1,"title"],[1,"main-long"],[1,"recipes-list"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"]],template:function(r,i){if(1&r&&(N(0,ZDe,4,0,"div",0),N(1,tSe,6,2,"ng-template",null,1,di)),2&r){const o=ci(2);D("ngIf",0===i.recipes.length)("ngIfElse",o)}},dependencies:[qr,Qn,ki],styles:[".recipe-list[_ngcontent-%COMP%]{max-width:1200px;position:relative;margin:0 auto;display:grid;grid-template-columns:repeat(4,1fr)}.recipe-item[_ngcontent-%COMP%]{border:1px solid var(--mainWhiteColor);margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-title[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);background:var(--backgroundColor);color:var(--mainBlackColor);font-weight:600;padding:0 5px;margin:0;text-align:center;width:100%;top:70%;height:30%;font-family:var(--titleFont);text-transform:capitalize;display:flex;align-items:center;justify-content:center}.recipe-item[_ngcontent-%COMP%]:hover{transform:scale(.95);transition:1s ease-in-out}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;top:2%;height:30%;color:var(--mainBlackColor);background:var(--mainMagnoliaColor);transition:1s ease-in-out}@media (max-width: 460px){.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 5%}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px;height:25%;top:75%}}@media (min-width: 461px) and (max-width: 767px){.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 10%}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:16px;height:20%;top:79%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);padding:0 5%;column-gap:10px}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);padding:0 5%;column-gap:10px}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return t})(),rSe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ke({type:t,selectors:[["app-dashboard"]],decls:17,vars:0,consts:[[1,"nav","nav-tabs"],[1,"nav-item"],["aria-current","page","routerLink","/dashboard/user-recipes","href","#",1,"nav-link"],["aria-current","page","routerLink","/dashboard/recipe-create","href","#",1,"nav-link"],["aria-current","page","routerLink","/dashboard/user-info","href","#",1,"nav-link"]],template:function(r,i){1&r&&(m(0,"ul",0)(1,"li",1)(2,"a",2),T(3,"My recipes"),_()(),m(4,"li",1)(5,"a",3),T(6,"Create recipe"),_()(),m(7,"li",1)(8,"a",4),T(9,"Favorite recipes"),_()(),m(10,"li",1)(11,"a",4),T(12,"My comments"),_()(),m(13,"li",1)(14,"a",4),T(15,"Profile"),_()()(),F(16,"router-outlet"))},dependencies:[x_,ki]})}return t})();function iSe(t,e){1&t&&(m(0,"div",29),T(1," Please fill in the title! "),_())}function oSe(t,e){if(1&t&&(m(0,"div"),N(1,iSe,2,0,"div",28),_()),2&t){const n=U();let r;E(1),D("ngIf",null==(r=n.recipeEdit.get("title"))||null==r.errors?null:r.errors.required)}}function sSe(t,e){1&t&&(m(0,"div",29),T(1," Please fill in a subtitle! "),_())}function aSe(t,e){if(1&t&&(m(0,"div"),N(1,sSe,2,0,"div",28),_()),2&t){const n=U();let r;E(1),D("ngIf",null==(r=n.recipeEdit.get("subtitle"))||null==r.errors?null:r.errors.required)}}function cSe(t,e){1&t&&(m(0,"div",29),T(1," Please fill in the method of preparation! "),_())}function uSe(t,e){if(1&t&&(m(0,"div"),N(1,cSe,2,0,"div",28),_()),2&t){const n=U();let r;E(1),D("ngIf",null==(r=n.recipeEdit.get("description"))||null==r.errors?null:r.errors.required)}}function lSe(t,e){if(1&t&&F(0,"img",36),2&t){const n=U().index;let i;D("src",null==(i=U().image_recipe.controls[n].get("image_recipe"))?null:i.value,Da)}}function dSe(t,e){if(1&t){const n=Mt();m(0,"div",30)(1,"p",11),T(2,"Added image"),_(),m(3,"label",31),T(4,"\u0421\u043d\u0438\u043c\u043a\u0430"),_(),F(5,"input",32),N(6,lSe,1,1,"img",33),m(7,"button",34),oe("click",function(){const o=Et(n).index;return Ct(U().removeImage(o))}),F(8,"i",35),T(9,"\xa0Remove added image "),_()()}if(2&t){const n=e.index,r=U();let i;D("formGroupName",n),E(3),D("for","image_recipe"+n),E(2),D("id","image_recipe"+n),E(1),D("ngIf",null==(i=r.image_recipe.controls[n].get("image_recipe"))?null:i.value)}}function hSe(t,e){if(1&t&&(m(0,"div"),F(1,"iframe",38),Yu(2,"safeUrl"),_()),2&t){const n=U().index,r=U();let i;E(1),D("src",Eh(2,1,null==(i=r.video_recipe.controls[n].get("video_recipe"))?null:i.value),ym)}}function fSe(t,e){if(1&t){const n=Mt();m(0,"div",30)(1,"label",31),T(2,"Video"),_(),F(3,"input",37),N(4,hSe,3,3,"div",6),m(5,"button",34),oe("click",function(){const o=Et(n).index;return Ct(U().removeVideo(o))}),F(6,"i",35),T(7,"\xa0Remove the video link "),_()()}if(2&t){const n=e.index,r=U();let i;D("formGroupName",n),E(1),D("for","video_recipe"+n),E(2),D("id","video_recipe"+n),E(1),D("ngIf",null==(i=r.video_recipe.controls[n].get("video_recipe"))?null:i.value)}}function pSe(t,e){1&t&&(m(0,"div",29),T(1," Please enter an ingredient name! "),_())}function gSe(t,e){if(1&t&&(m(0,"div"),N(1,pSe,2,0,"div",28),_()),2&t){const n=U().index,r=U();let i;E(1),D("ngIf",null==(i=r.recipeEdit.get("ingredients."+n+".name"))||null==i.errors?null:i.errors.required)}}function mSe(t,e){1&t&&(m(0,"div",29),T(1," Please fill in the quantity of the ingredient! "),_())}function _Se(t,e){if(1&t&&(m(0,"div"),N(1,mSe,2,0,"div",28),_()),2&t){const n=U().index,r=U();let i;E(1),D("ngIf",null==(i=r.recipeEdit.get("ingredients."+n+".amount"))||null==i.errors?null:i.errors.required)}}function ySe(t,e){1&t&&(m(0,"div",29),T(1," Please select a unit of measurement! "),_())}function vSe(t,e){if(1&t&&(m(0,"div"),N(1,ySe,2,0,"div",28),_()),2&t){const n=U().index,r=U();let i;E(1),D("ngIf",null==(i=r.recipeEdit.get("ingredients."+n+".unit"))||null==i.errors?null:i.errors.required)}}function bSe(t,e){if(1&t){const n=Mt();m(0,"div",30)(1,"div",39)(2,"div",40),F(3,"hr"),m(4,"p"),T(5,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0430\xa0\xa0"),_(),F(6,"hr"),_(),m(7,"label",31),T(8,"Name (required):"),_(),F(9,"input",41),N(10,gSe,2,1,"div",6),m(11,"label",31),T(12,"Quantity (required):"),_(),F(13,"input",42),N(14,_Se,2,1,"div",6),m(15,"label",31),T(16,"Unit of measurement (required):"),_(),m(17,"p",11),T(18,"In which we measure the ingredient"),_(),m(19,"select",43)(20,"option",44),T(21,"Tea spoon"),_(),m(22,"option",45),T(23,"Tablespoon"),_(),m(24,"option",46),T(25,"Tea cup"),_(),m(26,"option",47),T(27,"Coffee cup"),_(),m(28,"option",48),T(29,"Gram"),_(),m(30,"option",49),T(31,"Kilogram"),_(),m(32,"option",50),T(33,"Milliliter"),_(),m(34,"option",51),T(35,"Liter"),_(),m(36,"option",52),T(37,"Pieces"),_()(),N(38,vSe,2,1,"div",6),m(39,"label",31),T(40,"Order index:"),_(),m(41,"p",11),T(42," The order in which the ingredients appear in the recipe "),_(),F(43,"input",53)(44,"hr"),m(45,"button",34),oe("click",function(){const o=Et(n).index;return Ct(U().removeIngredient(o))}),F(46,"i",35),T(47,"\xa0Remove the ingredient "),_()()()}if(2&t){const n=e.index,r=U();let i,o,s;D("formGroupName",n),E(7),D("for","name"+n),E(2),D("id","name"+n),E(1),D("ngIf",null==(i=r.recipeEdit.get("ingredients."+n+".name"))?null:i.touched),E(1),D("for","amount"+n),E(2),D("id","amount"+n),E(1),D("ngIf",null==(o=r.recipeEdit.get("ingredients."+n+".amount"))?null:o.touched),E(1),D("for","unit"+n),E(4),D("id","unit"+n),E(19),D("ngIf",null==(s=r.recipeEdit.get("ingredients."+n+".unit"))?null:s.touched),E(1),D("for","order_index"+n),E(4),D("id","order_index"+n)}}const wSe=[{path:"",pathMatch:"full",component:aDe},{path:"register",component:JCe},{path:"login",component:oDe},{path:"forgot-password",component:sDe},{path:"dashboard",component:rSe,children:[{path:"user-recipes",component:nSe},{path:"recipe-create",component:NDe},{path:"recipe-edit/:id",component:(()=>{class t{constructor(n,r,i,o,s){this.route=n,this.router=r,this.fb=i,this.recipeService=o,this.recipe=null,this.recipeId="",this.firestore=s}initializeForm(){this.recipeEdit=this.fb.group({is_active:[!1],title:["",[He.required]],subtitle:["",[He.required]],description:["",[He.required]],summary:[""],like:[0],author:[""],uid:[""],image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([])})}loadData(){var n=this;return p(function*(){n.route.paramMap.subscribe(function(){var r=p(function*(i){const o=i.get("id");if(n.recipeId=o,o)try{n.recipe=yield n.recipeService.getRecipeById(o),n.patchFormWithRecipeData()}catch(s){throw console.error("An error occurred while retrieving the recipe:",s),s}else console.error("Recipe ID not provided.")});return function(i){return r.apply(this,arguments)}}())})()}patchFormWithRecipeData(){if(this.recipe&&this.recipeEdit){const n=this.recipeEdit.get("ingredients"),r=this.recipeEdit.get("image_recipe"),i=this.recipeEdit.get("video_recipe"),o=this.recipeEdit.get("preparation_method");n.clear(),r.clear(),i.clear(),o.clear(),this.recipe.ingredients.forEach(s=>{n.push(this.fb.group({name:[s.name,[He.required]],amount:[s.amount,[He.required]],unit:[s.unit,[He.required]],order_index:[s.order_index]}))}),this.recipe.image_recipe&&this.recipe.image_recipe.length>0&&this.recipe.image_recipe.forEach(s=>{r.push(this.fb.group({image_recipe:[s.image_recipe]}))}),this.recipe.video_recipe&&this.recipe.video_recipe.length>0&&this.recipe.video_recipe.forEach(s=>{i.push(this.fb.group({video_recipe:[s.video_recipe]}))}),this.recipe.preparation_method&&this.recipe.preparation_method.length>0&&this.recipe.preparation_method.forEach(s=>{o.push(this.fb.group({preparation_method:[s.preparation_method]}))}),this.recipeEdit.patchValue({title:this.recipe.title,summary:this.recipe.summary,description:this.recipe.description,is_active:this.recipe.is_active,subtitle:this.recipe.subtitle,like:this.recipe.like,author:this.recipe.author,uid:this.recipe.uid})}}ngOnInit(){var n=this;return p(function*(){n.initializeForm(),yield n.loadData()})()}addImageToForm(n){this.recipeEdit.get("image_recipe").push(this.fb.group({image_recipe:n}))}removeImage(n){this.recipeEdit.get("image_recipe").removeAt(n)}addVideo(){this.recipeEdit.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(n){this.recipeEdit.get("video_recipe").removeAt(n)}addPreparation(){this.recipeEdit.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(n){this.recipeEdit.get("preparation_method").removeAt(n)}addIngredient(){this.recipeEdit.get("ingredients").push(this.fb.group({name:["",[He.required]],amount:["",[He.required]],unit:["",[He.required]],order_index:[0]}))}removeIngredient(n){this.recipeEdit.get("ingredients").removeAt(n)}get ingredients(){return this.recipeEdit.get("ingredients")}get image_recipe(){return this.recipeEdit.get("image_recipe")}get video_recipe(){return this.recipeEdit.get("video_recipe")}get preparation_method(){return this.recipeEdit.get("preparation_method")}onSubmit(){this.recipeEdit.invalid?alert("The form is not valid. Please fill in all required fields."):(this.addRecipe(this.recipeEdit.value),this.recipeEdit.reset())}addRecipe(n){const i=kc(this.firestore,"Recipe",this.recipeId);H9(i,n),this.router.navigate(["/recipe",this.recipeId])}static#e=this.\u0275fac=function(r){return new(r||t)(b(Uo),b(wn),b(uf),b(W9),b(yi))};static#t=this.\u0275cmp=Ke({type:t,selectors:[["app-recipe-edit"]],decls:51,vars:7,consts:[[1,"main-long"],[1,"wrapper"],[1,"title"],[3,"formGroup"],["for","title"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["type","text","id","subtitle","formControlName","subtitle"],["for","description"],["name","text","id","description","formControlName","description","cols","30","rows","10"],["for","summary"],[1,"hint"],["type","text","id","summary","formControlName","summary"],[3,"imageUploaded"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["type","button",1,"button-img",3,"click"],["formArrayName","ingredients"],["type","button-img",1,"addIngredient",3,"click"],[1,"fa-solid","fa-plus","fa-beat-fade"],["type","button",1,"button",2,"width","100%",3,"click"],["href","javascript:history.back()",1,"back-button"],[1,"button-box"],[1,"button-elem"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],["viewBox","0 0 46 40"],["class","errors",4,"ngIf"],[1,"errors"],[3,"formGroupName"],[3,"for"],["type","text","formControlName","image_recipe",3,"id"],["alt","Image Preview","class","image-preview",3,"src",4,"ngIf"],["type","button",1,"removeIngredient",3,"click"],[1,"fa-solid","fa-trash","fa-shake"],["alt","Image Preview",1,"image-preview",3,"src"],["type","text","formControlName","video_recipe",3,"id"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"],[1,"ingredient"],[1,"divider"],["type","text","formControlName","name",3,"id"],["type","number","formControlName","amount",3,"id"],["formControlName","unit",3,"id"],["value","ts."],["value","tbs."],["value","tc."],["value","cc."],["value","gr."],["value","kg."],["value","ml."],["value","l."],["value","pieces"],["type","number","formControlName","order_index",3,"id"]],template:function(r,i){if(1&r&&(m(0,"div",0)(1,"div",1)(2,"h1",2),T(3,"Edit a recipe"),_(),m(4,"form",3)(5,"label",4),T(6," Title (required): "),_(),F(7,"input",5),N(8,oSe,2,1,"div",6),m(9,"label"),T(10," Subtitle (required): "),F(11,"input",7),_(),N(12,aSe,2,1,"div",6),m(13,"div")(14,"label",8),T(15,"Method of preparation (required):"),_(),F(16,"textarea",9),_(),N(17,uSe,2,1,"div",6),m(18,"div")(19,"label",10),T(20,"Summary:"),_(),m(21,"p",11),T(22,"Recipe summary"),_(),F(23,"input",12),_(),m(24,"div"),F(25,"br"),m(26,"app-image-upload",13),oe("imageUploaded",function(s){return i.addImageToForm(s)}),_(),m(27,"div",14),N(28,dSe,10,4,"div",15),_(),m(29,"div",16),N(30,fSe,8,4,"div",15),m(31,"button",17),oe("click",function(){return i.addVideo()}),T(32," Add a video link to a recipe "),_()()(),m(33,"div",18),N(34,bSe,48,12,"div",15),_(),F(35,"br"),m(36,"button",19),oe("click",function(){return i.addIngredient()}),F(37,"i",20),T(38," Add one more ingredient "),_(),m(39,"button",21),oe("click",function(){return i.onSubmit()}),T(40,"Save the changes"),_(),F(41,"hr"),T(42," Go Back "),m(43,"a",22)(44,"div",23)(45,"span",24),bs(),m(46,"svg",25),F(47,"path",26),_()(),fu(),m(48,"span",24),bs(),m(49,"svg",27),F(50,"path",26),_()()()()()()()),2&r){let o,s,a;E(4),D("formGroup",i.recipeEdit),E(4),D("ngIf",null==(o=i.recipeEdit.get("title"))?null:o.touched),E(4),D("ngIf",null==(s=i.recipeEdit.get("subtitle"))?null:s.touched),E(5),D("ngIf",null==(a=i.recipeEdit.get("description"))?null:a.touched),E(11),D("ngForOf",i.image_recipe.controls),E(2),D("ngForOf",i.video_recipe.controls),E(4),D("ngForOf",i.ingredients.controls)}},dependencies:[qr,Qn,fl,ST,xT,Ns,W_,cf,ll,dl,ks,Ga,sf,af,q9,Y9],styles:[".tiny[_ngcontent-%COMP%]{margin:20px 0}.addIngredient[_ngcontent-%COMP%]{all:unset;color:var(--mainGreenColor);cursor:pointer;margin:0 0 20px 30px}.addIngredient[_ngcontent-%COMP%]:hover{background-color:unset;color:var(--mainRedColor);box-shadow:unset}form[_ngcontent-%COMP%]{max-width:600px;margin:0 auto 50px;padding:20px;background-color:var(--backgroundColor);border-radius:10px}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--mainBackgroundColor);border:none}}"]})}return t})()},{path:"user-info",component:JDe}]},{path:"recipes-list",component:lDe},{path:"recipe/:id",component:YDe}];let ISe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({imports:[ul.forRoot(wSe,{useHash:!0}),ul]})}return t})(),TSe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ke({type:t,selectors:[["app-footer"]],decls:25,vars:0,consts:[[1,"footer"],[1,"footer-links"],["href","/about"],["href","/contact"],["href","/terms"],["href","/privacy"],[1,"social-icons"],["href","https://www.facebook.com"],[1,"fa-brands","fa-facebook","fa-flip"],["href","https://www.twitter.com"],[1,"fa-brands","fa-x-twitter","fa-flip"],["href","https://www.instagram.com"],[1,"fa-brands","fa-instagram","fa-flip"],[1,"copyright"],[1,"projectInfo"]],template:function(r,i){1&r&&(m(0,"footer",0)(1,"div",1)(2,"a",2),T(3,"About Us"),_(),T(4," | "),m(5,"a",3),T(6,"Contact Us"),_(),T(7," | "),m(8,"a",4),T(9,"Terms of Service"),_(),T(10," | "),m(11,"a",5),T(12,"Privacy Policy"),_()(),m(13,"div",6)(14,"a",7),F(15,"i",8),_(),m(16,"a",9),F(17,"i",10),_(),m(18,"a",11),F(19,"i",12),_()(),m(20,"div",13)(21,"div",14),T(22," This project was developed to meet the requirements of the Angular Project Assignment within the 'Angular - February 2024' course at SoftUni. "),_(),m(23,"span"),T(24," \xa9 2024 The Natural Way. All Rights Reserved. "),_()()())},styles:[".footer[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:20px;color:#333;font-size:14px;text-align:center}.footer-links[_ngcontent-%COMP%]{padding:20px 0}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none;margin:0 10px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none;margin:0 10px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#3b5998}.copyright[_ngcontent-%COMP%]{margin-top:20px;font-size:12px;color:#999}.projectInfo[_ngcontent-%COMP%]{margin-bottom:10px}"]})}return t})();function ESe(t,e){1&t&&(m(0,"li",14)(1,"a",15),F(2,"i",26),_(),m(3,"ul",16)(4,"li")(5,"a",27),T(6,"Register"),_()(),m(7,"li")(8,"a",28),T(9,"Login"),_()(),m(10,"li"),F(11,"hr",18),_(),m(12,"li")(13,"a",19),T(14,"Something else here"),_()()()())}function CSe(t,e){if(1&t){const n=Mt();m(0,"li",14)(1,"a",15)(2,"span"),T(3),_()(),m(4,"ul",16)(5,"li")(6,"a",29),T(7,"My recipes"),_()(),m(8,"li")(9,"a",30),T(10,"Create recipe"),_()(),m(11,"li")(12,"a",19),T(13,"Favorite recipes"),_()(),m(14,"li")(15,"a",19),T(16,"My comments"),_()(),m(17,"li")(18,"a",31),T(19,"Profile"),_()(),m(20,"li")(21,"a",32),oe("click",function(){return Et(n),Ct(U().logout())}),T(22,"Logout"),_()()()()}if(2&t){const n=U();E(3),Rt(n.getUserDisplayName())}}let DSe=(()=>{class t{constructor(n){this.userService=n,this.isMenuOpen=!1,this.userData=null,this.userDataSubject=new vr(null),this.userDataSubscription=this.userDataSubject.subscribe(r=>{this.userData=r,console.log(this.userData)})}ngOnInit(){this.userService.userData$.subscribe({next:n=>{n?(this.userDataSubject.next(n),console.log("You have a user:",n)):(this.userDataSubject.next(null),console.log("You have no user."))},error:n=>{console.log(n)}})}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}closeMenu(){this.isMenuOpen=!1}logout(){this.userService.logoutUser()}getUserDisplayName(){return this.userData?this.userData.lastName:"Anonymous"}static#e=this.\u0275fac=function(r){return new(r||t)(b(us))};static#t=this.\u0275cmp=Ke({type:t,selectors:[["app-header"]],decls:40,vars:2,consts:[[1,"navbar","navbar-dark","navbar-expand-lg"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["viewBox","0 0 200.92045542674032 200.92045542674032","height","50","width","50"],["d","M0 100.46c0-55.483 44.978-100.46 100.46-100.46 55.483 0 100.46 44.978 100.46 100.46 0 55.483-44.978 100.46-100.46 100.46-55.483 0-100.46-44.978-100.46-100.46zM100.46 193.437c51.35 0 92.977-41.627 92.977-92.977 0-51.35-41.627-92.977-92.977-92.977-51.35 0-92.977 41.627-92.977 92.977 0 51.35 41.627 92.977 92.977 92.977z","data-fill-palette-color","accent","fill","#a7575e","stroke","transparent"],["rx","99.45562543623646","ry","99.45562543623646","cx","100.46022771337016","cy","100.46022771337016","fill","#a7575e","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,43.57436241056036,43.35758026693677)"],["viewBox","0 0 113.7717306056196 114.20529489286677","height","114.20529489286677","width","113.7717306056196"],["xmlns","http://www.w3.org/2000/svg","data-name","Layer 1","viewBox","1.190000057220459 1.002901315689087 97.62506866455078 97.99710083007812","x","0","y","0","height","114.20529489286677","width","113.7717306056196","data-fill-palette-color","quaternary","id","b-0",1,"icon-b-0"],["d","M79.28 26.63a0.3 0.3 0 0 0 0-0.07 0.28 0.28 0 0 0-0.48-0.19l-7 7a20.24 20.24 0 0 0-6 13v1.87a37.5 37.5 0 0 1 1.67 5.15H54.79a32.9 32.9 0 0 0-5.43-15.13 26.9 26.9 0 0 1-7.74 5.77 22.2 22.2 0 0 1-6.34 2.06c-9.9 1.51-22.3-5-28.35-41.61a1.86 1.86 0 0 1 1.55-2.05c47.44-6.69 50.2 11.7 47.85 22.85a51.5 51.5 0 0 0-19.69-6.14h-0.11a0.43 0.43 0 0 0-0.18 0.76l11.58 8.5 5.84 4.31a37.3 37.3 0 0 1 6.08 5.85 24.8 24.8 0 0 1 5-6.15 17.7 17.7 0 0 1-2.54-5 14.8 14.8 0 0 1-0.65-4.41c0-6.65 5.53-14.14 30.18-14.44a1.23 1.23 0 0 1 1.24 1.23c-0.38 31.82-12.74 31.78-19.82 29.12a34.2 34.2 0 0 0 6.02-12.28M28.65 93h34.63a16.16 16.16 0 0 0 12.18-5.54l21.68-24.79a6.79 6.79 0 0 0-0.79-9.7 6.55 6.55 0 0 0-4.2-1.49 7.24 7.24 0 0 0-5.38 2.43l-10.2 11.35v0.16a11.85 11.85 0 0 1-11.89 11.26H52.21a2.54 2.54 0 1 1 0-5.08h12.47a6.72 6.72 0 0 0 6.81-6.34A6.54 6.54 0 0 0 65 58.52H44.19l-3.37-1.18a23.42 23.42 0 0 0-24.26 5.49L1.19 78.1 22.64 99Z","fill","#e5e5e5","data-fill-palette-color","quaternary"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","button"],[1,"navbar-toggler-icon"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","my-2","my-lg-0","navbar-nav-scroll",2,"--bs-scroll-height","350px"],[1,"nav-item","dropdown"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-btn","nav-link","dropdown-toggle","button"],[1,"dropdown-menu"],["href","#","routerLink","/recipes-list",1,"dropdown-item"],[1,"dropdown-divider"],["href","#",1,"dropdown-item"],["class","nav-item dropdown",4,"ngIf"],[1,"fa-solid","fa-magnifying-glass"],[1,"dropdown-menu","search"],["role","search",1,"d-flex","w-100"],["type","search","aria-label","Search",1,"form-control","me-2"],["type","submit",1,"search","button"],[1,"fa-solid","fa-user"],["routerLink","/register",1,"dropdown-item"],["routerLink","/login",1,"dropdown-item"],["routerLink","/dashboard//user-recipes","href","#",1,"dropdown-item"],["routerLink","/dashboard//recipe-create",1,"dropdown-item"],["routerLink","/dashboard/user-info",1,"dropdown-item"],[1,"dropdown-item",3,"click"]],template:function(r,i){1&r&&(m(0,"nav",0)(1,"div",1)(2,"a",2),bs(),m(3,"svg",3)(4,"g"),F(5,"path",4)(6,"ellipse",5),_(),m(7,"g",6)(8,"svg",7)(9,"g")(10,"svg",8),F(11,"path",9),_()()()()(),fu(),m(12,"span"),T(13," The Natural Way "),_()(),m(14,"button",10),F(15,"span",11),_(),m(16,"div",12)(17,"ul",13)(18,"li",14)(19,"a",15),T(20," Recipes "),_(),m(21,"ul",16)(22,"li")(23,"a",17),T(24,"Recipes list"),_()(),m(25,"li"),F(26,"hr",18),_(),m(27,"li")(28,"a",19),T(29,"Something else here"),_()()()(),N(30,ESe,15,0,"li",20),N(31,CSe,23,1,"li",20),m(32,"li",14)(33,"a",15),F(34,"i",21),_(),m(35,"ul",22)(36,"form",23),F(37,"input",24),m(38,"button",25),T(39,"Search"),_()()()()()()()()),2&r&&(E(30),D("ngIf",!i.userData),E(1),D("ngIf",i.userData))},dependencies:[Qn,ki],styles:["nav.navbar[_ngcontent-%COMP%]{min-height:8vh;background-color:var(--backgroundColor);background-color:#f8f9fa;box-shadow:1px 5px 15px #a7575e}.container-fluid[_ngcontent-%COMP%]{max-width:1024px;color:var(--textColor)}a.navbar-brand[_ngcontent-%COMP%]{display:flex;gap:10px;font-family:Caveat,cursive;font-weight:400;font-size:32px;color:var(--textColor)}button.navbar-toggler[_ngcontent-%COMP%]{background-color:var(--textColor);border:1px solid var(--backgroundColor)}.navbar-toggler[_ngcontent-%COMP%]   span.navbar-toggler-icon[_ngcontent-%COMP%]{color:var(--backgroundColor);background-color:var(--textColor)}button.navbar-toggler[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem var(--textColor)}ul.navbar-nav[_ngcontent-%COMP%]{position:relative;z-index:100;display:flex;gap:18px;width:100%;justify-content:flex-end}a.nav-btn.nav-link.dropdown-toggle.button[_ngcontent-%COMP%]{min-width:150px}ul.navbar-nav[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:1px solid var(--textColor);margin-top:18px}a.dropdown-item[_ngcontent-%COMP%]{color:var(--textColor)}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:focus{background-color:var(--textColor);color:var(--backgroundColor)}form.d-flex[_ngcontent-%COMP%]{padding:0 auto}.form-control[_ngcontent-%COMP%]{border:1px solid var(--textColor);border-radius:8px;background-color:var(--backgroundColor)}.form-control[_ngcontent-%COMP%]:focus{border:1px solid var(--textColor);box-shadow:unset;outline:unset;background-color:#f6f4f9;border-color:var(--textColor)}@media (max-width: 460px){.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{background-color:var(--backgroundColor);padding:20px;border-radius:8px}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{border:unset;width:100%}form.d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:15px}}@media (min-width: 461px) and (max-width: 767px){.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{background-color:var(--backgroundColor);padding:20px;border-radius:8px}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{border:unset;width:100%}.dropdown-menu.search.show[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{max-width:unset}}@media (min-width: 768px) and (max-width: 1023px){.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{padding:20px;border-radius:8px}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{border:unset}.dropdown-menu.search.show[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{max-width:unset}}@media (min-width: 1024px) and (max-width: 1440px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:1000px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}.container-fluid[_ngcontent-%COMP%]{padding:unset;max-width:1200px;padding:0 1%;color:var(--textColor)}}@media (min-width: 1441px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:1000px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}.container-fluid[_ngcontent-%COMP%]{padding:unset;max-width:1200px;color:var(--textColor)}}"]})}return t})();function SSe(t,e){if(1&t){const n=Mt();m(0,"button",8),oe("click",function(){return Et(n),Ct(U().scrollToTop())}),F(1,"i",9),_()}}let ASe=(()=>{class t{constructor(){this.showScrollButton=!1}onWindowScroll(){this.showScrollButton=window.pageYOffset>300}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ke({type:t,selectors:[["app-scroll-to-top"]],hostBindings:function(r,i){1&r&&oe("scroll",function(){return i.onWindowScroll()},0,LF)},decls:10,vars:1,consts:[[1,"buttons"],["class","to-top",3,"click",4,"ngIf"],["href","javascript:history.back()",1,"back-button"],[1,"button-box"],[1,"button-elem"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],["viewBox","0 0 46 40"],[1,"to-top",3,"click"],[1,"fa-solid","fa-chevron-up","fa-beat-fade"]],template:function(r,i){1&r&&(m(0,"div",0),N(1,SSe,2,0,"button",1),m(2,"a",2)(3,"div",3)(4,"span",4),bs(),m(5,"svg",5),F(6,"path",6),_()(),fu(),m(7,"span",4),bs(),m(8,"svg",7),F(9,"path",6),_()()()()()),2&r&&(E(1),D("ngIf",i.showScrollButton))},dependencies:[Qn],styles:[".buttons[_ngcontent-%COMP%]{display:flex;gap:10px;position:fixed;bottom:120px;right:10px;flex-direction:column;align-items:center}.to-top[_ngcontent-%COMP%]{background-color:var(--mainRGBAColor);color:var(--backgroundColor);border:3px solid var(--backgroundColor);border-radius:50%;width:60px;height:60px;font-size:16px;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{color:var(--textColor);background-color:var(--backgroundColor);box-shadow:0 0 15px #a7575e}button[_ngcontent-%COMP%]:focus{outline:none}button.ng-hidden[_ngcontent-%COMP%]{display:none}"]})}return t})(),xSe=(()=>{class t{constructor(){this.title="The-Natural-Way"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ke({type:t,selectors:[["app-root"]],decls:4,vars:0,template:function(r,i){1&r&&F(0,"app-header")(1,"app-scroll-to-top")(2,"router-outlet")(3,"app-footer")},dependencies:[x_,TSe,DSe,ASe],styles:[".logo-svg[_ngcontent-%COMP%]{background-color:var(--mainGreenColor);min-height:80vh}"]})}return t})(),NSe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({imports:[La,ul]})}return t})();const OSe=["addListener","removeListener"],MSe=["addEventListener","removeEventListener"],RSe=["on","off"];function pn(t,e,n,r){if(Ie(n)&&(r=n,n=void 0),r)return pn(t,e,n).pipe(jI(r));const[i,o]=function FSe(t){return Ie(t.addEventListener)&&Ie(t.removeEventListener)}(t)?MSe.map(s=>a=>t[s](e,a,n)):function kSe(t){return Ie(t.addListener)&&Ie(t.removeListener)}(t)?OSe.map(Q9(t,e)):function PSe(t){return Ie(t.on)&&Ie(t.off)}(t)?RSe.map(Q9(t,e)):[];if(!i&&yb(t))return an(s=>pn(s,e,n))(sn(t));if(!i)throw new TypeError("Invalid event target");return new Be(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function Q9(t,e){return n=>r=>t[n](e,r)}class LSe extends Fe{constructor(e=1/0,n=1/0,r=oA){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=n.now();let a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}}function BSe(t,e){}const O0=()=>{const t=typeof window<"u"?window:void 0;return t&&t.tinymce?t.tinymce:null};let USe=(()=>{class t{constructor(){this.onBeforePaste=new R,this.onBlur=new R,this.onClick=new R,this.onContextMenu=new R,this.onCopy=new R,this.onCut=new R,this.onDblclick=new R,this.onDrag=new R,this.onDragDrop=new R,this.onDragEnd=new R,this.onDragGesture=new R,this.onDragOver=new R,this.onDrop=new R,this.onFocus=new R,this.onFocusIn=new R,this.onFocusOut=new R,this.onKeyDown=new R,this.onKeyPress=new R,this.onKeyUp=new R,this.onMouseDown=new R,this.onMouseEnter=new R,this.onMouseLeave=new R,this.onMouseMove=new R,this.onMouseOut=new R,this.onMouseOver=new R,this.onMouseUp=new R,this.onPaste=new R,this.onSelectionChange=new R,this.onActivate=new R,this.onAddUndo=new R,this.onBeforeAddUndo=new R,this.onBeforeExecCommand=new R,this.onBeforeGetContent=new R,this.onBeforeRenderUI=new R,this.onBeforeSetContent=new R,this.onChange=new R,this.onClearUndos=new R,this.onDeactivate=new R,this.onDirty=new R,this.onExecCommand=new R,this.onGetContent=new R,this.onHide=new R,this.onInit=new R,this.onInitNgModel=new R,this.onLoadContent=new R,this.onNodeChange=new R,this.onPostProcess=new R,this.onPostRender=new R,this.onPreInit=new R,this.onPreProcess=new R,this.onProgressState=new R,this.onRedo=new R,this.onRemove=new R,this.onReset=new R,this.onResizeEditor=new R,this.onSaveContent=new R,this.onSetAttrib=new R,this.onObjectResizeStart=new R,this.onObjectResized=new R,this.onObjectSelected=new R,this.onSetContent=new R,this.onShow=new R,this.onSubmit=new R,this.onUndo=new R,this.onVisualAid=new R}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=H({type:t,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),t})();const J9=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],M0=(t,e,n)=>pn(t,e).pipe(bt(n)),Z9=(t,e)=>"string"==typeof t?t.split(",").map(n=>n.trim()):Array.isArray(t)?t:e;let X9=0;const eq=t=>typeof t<"u"&&"textarea"===t.tagName.toLowerCase(),tq=t=>typeof t>"u"||""===t?[]:Array.isArray(t)?t:t.split(" "),GSe=(t,e)=>tq(t).concat(tq(e)),zSe=()=>{},nq=t=>null==t,qSe=(()=>{let t={script$:null};return{load:(r,i)=>t.script$||(t.script$=HI(()=>{const o=r.createElement("script");return o.referrerPolicy="origin",o.type="application/javascript",o.src=i,r.head.appendChild(o),pn(o,"load").pipe(vn(1),qI(void 0))}).pipe(function VSe(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=t??1/0,bb({connector:()=>new LSe(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}({bufferSize:1,refCount:!0}))),reinitialize:()=>{t={script$:null}}}})(),iq=new te("TINYMCE_SCRIPT_SRC"),WSe={provide:Wr,useExisting:Ce(()=>oq),multi:!0};let oq=(()=>{class t extends USe{constructor(n,r,i,o){super(),this.platformId=i,this.tinymceScriptSrc=o,this.cloudChannel="6",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=zSe,this.destroy$=new Fe,this.initialise=()=>{const s={...this.init,selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,plugins:GSe(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:a=>{this._editor=a,M0(a,"init",this.destroy$).subscribe(()=>{this.initEditor(a)}),((t,e,n)=>{(t=>{const e=Z9(t.ignoreEvents,[]);return Z9(t.allowedEvents,J9).filter(r=>J9.includes(r)&&!e.includes(r))})(t).forEach(i=>{const o=t[i];M0(e,i.substring(2),n).subscribe(s=>{o.observers.length>0&&t.ngZone.run(()=>o.emit({event:s,editor:e}))})})})(this,a,this.destroy$),this.init&&"function"==typeof this.init.setup&&this.init.setup(a)}};eq(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{O0().init(s)})},this._elementRef=n,this.ngZone=r}set disabled(n){this._disabled=n,this._editor&&this._editor.initialized&&("function"==typeof this._editor.mode?.set?this._editor.mode.set(n?"readonly":"design"):this._editor.setMode(n?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(n){this._editor&&this._editor.initialized?this._editor.setContent(nq(n)?"":n):this.initialValue=null===n?void 0:n}registerOnChange(n){this.onChangeCallback=n}registerOnTouched(n){this.onTouchedCallback=n}setDisabledState(n){this.disabled=n}ngAfterViewInit(){(function koe(t){return t===rU})(this.platformId)&&(this.id=this.id||(t=>{const n=(new Date).getTime(),r=Math.floor(1e9*Math.random());return X9++,"tiny-angular_"+r+X9+String(n)})(),this.inline=void 0!==this.inline?!1!==this.inline:!!this.init?.inline,this.createElement(),null!==O0()?this.initialise():this._element&&this._element.ownerDocument&&qSe.load(this._element.ownerDocument,this.getScriptSrc()).pipe(bt(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),null!==O0()&&O0().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,eq(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}getScriptSrc(){return nq(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(n){M0(n,"blur",this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.onTouchedCallback())}),M0(n,this.modelEvents,this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.emitOnChange(n))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{n.setContent(this.initialValue),n.getContent()!==this.initialValue&&this.emitOnChange(n),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(n)})}emitOnChange(n){this.onChangeCallback&&this.onChangeCallback(n.getContent({format:this.outputFormat}))}}return t.\u0275fac=function(n){return new(n||t)(b(je),b(Ee),b(Mo),b(iq,8))},t.\u0275cmp=Ke({type:t,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[it([WSe]),Ge,Gr],decls:1,vars:0,template:function(n,r){1&n&&N(0,BSe,0,0,"ng-template")},dependencies:[La,K_],styles:["[_nghost-%COMP%]{display:block}"]}),t})(),QR=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=we({imports:[oq]}),t})(),sq=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({imports:[La,QR,ul]})}return t})(),KSe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=we({imports:[[]]}),t})();const{isArray:QSe}=Array;function cq(t){return 1===t.length&&QSe(t[0])?t[0]:t}function JR(...t){const e=Sg(t),n=cq(t);return n.length?new Be(r=>{let i=n.map(()=>[]),o=n.map(()=>!1);r.add(()=>{i=o=null});for(let s=0;!r.closed&&s<n.length;s++)sn(n[s]).subscribe(st(r,a=>{if(i[s].push(a),i.every(c=>c.length)){const c=i.map(u=>u.shift());r.next(e?e(...c):c),i.some((u,l)=>!u.length&&o[l])&&r.complete()}},()=>{o[s]=!0,!i[s].length&&r.complete()}));return()=>{i=o=null}}):ni}function ZR(...t){const e=Sg(t);return Tt((n,r)=>{const i=t.length,o=new Array(i);let s=t.map(()=>!1),a=!1;for(let c=0;c<i;c++)sn(t[c]).subscribe(st(r,u=>{o[c]=u,!a&&!s[c]&&(s[c]=!0,(a=s.every(bi))&&(s=null))},ga));n.subscribe(st(r,c=>{if(a){const u=[c,...o];r.next(e?e(...u):u)}}))})}Math,Math,Math;const Axe=["*"],iNe=["dialog"];function Lc(t){return"string"==typeof t}function Vc(t){return null!=t}function gd(t){return(t||document.body).getBoundingClientRect()}const jq={animation:!0,transitionTimerDelayMs:5},QNe=()=>{},{transitionTimerDelayMs:JNe}=jq,ug=new Map,Fr=(t,e,n,r)=>{let i=r.context||{};const o=ug.get(e);if(o)switch(r.runningTransition){case"continue":return ni;case"stop":t.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),ug.delete(e)}const s=n(e,r.animation,i)||QNe;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>s()),ce(void 0).pipe(function KNe(t){return e=>new Be(n=>e.subscribe({next:s=>t.run(()=>n.next(s)),error:s=>t.run(()=>n.error(s)),complete:()=>t.run(()=>n.complete())}))}(t));const a=new Fe,c=new Fe,u=a.pipe(function ZSe(...t){return e=>Rh(e,ce(...t))}(!0));ug.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:i});const l=function YNe(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const d=pn(e,"transitionend").pipe(bt(u),bn(({target:f})=>f===e));(function uq(...t){return 1===(t=cq(t)).length?sn(t[0]):new Be(function JSe(t){return e=>{let n=[];for(let r=0;n&&!e.closed&&r<t.length;r++)n.push(sn(t[r]).subscribe(st(e,i=>{if(n){for(let o=0;o<n.length;o++)o!==r&&n[o].unsubscribe();n=null}e.next(i)})))}}(t))})(function aq(t=0,e,n=ave){let r=-1;return null!=e&&(Hk(e)?n=e:r=e),new Be(i=>{let o=function YSe(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(l+JNe).pipe(bt(u)),d,c).pipe(bt(u)).subscribe(()=>{ug.delete(e),t.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let U0=(()=>{class t{constructor(){this.animation=jq.animation}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Qq=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),Jq=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),eW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),tW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})();var ot=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}(ot||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const cW=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function uW(t){const e=Array.from(t.querySelectorAll(cW)).filter(n=>-1!==n.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let IW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),CW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})();class Hc{constructor(e,n,r){this.nodes=e,this.viewRef=n,this.componentRef=r}}let QOe=(()=>{class t{constructor(n,r){this._el=n,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(vn(1)).subscribe(()=>{Fr(this._zone,this._el.nativeElement,(n,r)=>{r&&gd(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Fr(this._zone,this._el.nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(r){return new(r||t)(b(je),b(Ee))};static#t=this.\u0275cmp=Ke({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,i){2&r&&(Na("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),$e("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Gr],decls:0,vars:0,template:function(r,i){},encapsulation:2})}return t})();class DW{update(e){}close(e){}dismiss(e){}}const JOe=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],ZOe=["animation","backdropClass"];class XOe{_applyWindowOptions(e,n){JOe.forEach(r=>{Vc(n[r])&&(e[r]=n[r])})}_applyBackdropOptions(e,n){ZOe.forEach(r=>{Vc(n[r])&&(e[r]=n[r])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(bt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(bt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,n,r,i){this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Fe,this._dismissed=new Fe,this._hidden=new Fe,e.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const n=this._beforeDismiss();!function Vq(t){return t&&t.then}(n)?!1!==n&&this._dismiss(e):n.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ce(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),JR(e,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Dk=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(Dk||{});let eMe=(()=>{class t{constructor(n,r,i){this._document=n,this._elRef=r,this._zone=i,this._closed$=new Fe,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new R,this.shown=new Fe,this.hidden=new Fe}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Lc(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(vn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:n}=this._elRef,r={animation:this.animation,runningTransition:"stop"},s=JR(Fr(this._zone,n,()=>n.classList.remove("show"),r),Fr(this._zone,this._dialogEl.nativeElement,()=>{},r));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const n={animation:this.animation,runningTransition:"continue"};JR(Fr(this._zone,this._elRef.nativeElement,(o,s)=>{s&&gd(o),o.classList.add("show")},n),Fr(this._zone,this._dialogEl.nativeElement,()=>{},n)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{pn(n,"keydown").pipe(bt(this._closed$),bn(i=>i.which===ot.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(Dk.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;pn(this._dialogEl.nativeElement,"mousedown").pipe(bt(this._closed$),dn(()=>r=!1),wi(()=>pn(n,"mouseup").pipe(bt(this._closed$),vn(1))),bn(({target:i})=>n===i)).subscribe(()=>{r=!0}),pn(n,"click").pipe(bt(this._closed$)).subscribe(({target:i})=>{n===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(Dk.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){const r=n.querySelector("[ngbAutofocus]"),i=uW(n)[0];(r||i||n).focus()}}_restoreFocus(){const n=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&n.contains(r)?r:n,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Fr(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(r){return new(r||t)(b(Gt),b(je),b(Ee))};static#t=this.\u0275cmp=Ke({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(r,i){if(1&r&&ka(iNe,7),2&r){let o;Xe(o=function et(){return function Fne(t,e){return t[Wi].queries[e].queryList}(P(),YP())}())&&(i._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,i){2&r&&(Ye("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),Na("modal d-block"+(i.windowClass?" "+i.windowClass:"")),$e("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Gr],ngContentSelectors:Axe,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(r,i){1&r&&(function WL(t){const e=P()[$t][Wn];if(!e.projection){const r=e.projection=qd(t?t.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=t?see(o,t):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}(),m(0,"div",0,1)(2,"div",2),function KL(t,e=0,n){const r=P(),i=Re(),o=Fu(i,Se+t,16,null,n||null);null===o.projection&&(o.projection=e),Kb(),(!r[Ao]||du())&&32!=(32&o.flags)&&function oJ(t,e,n){J2(e[pe],0,e,n,w1(t,n,e),z2(n.parent||e[Wn],n,e))}(i,r,o)}(3),_()()),2&r&&Na("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return t})(),tMe=(()=>{class t{constructor(n){this._document=n}hide(){const n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:o,paddingRight:s}=i;if(n>0){const a=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${a+n}px`}return i.overflow="hidden",()=>{n>0&&(i.paddingRight=s),i.overflow=o}}static#e=this.\u0275fac=function(r){return new(r||t)(W(Gt))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),nMe=(()=>{class t{constructor(n,r,i,o,s,a,c){this._applicationRef=n,this._injector=r,this._environmentInjector=i,this._document=o,this._scrollBar=s,this._rendererFactory=a,this._ngZone=c,this._activeWindowCmptHasChanged=new Fe,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new R,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const u=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{t.runOutsideAngular(()=>{const i=pn(e,"focusin").pipe(bt(n),Oe(o=>o.target));pn(e,"keydown").pipe(bt(n),bn(o=>o.which===ot.Tab),ZR(i)).subscribe(([o,s])=>{const[a,c]=uW(e);(s===a||s===e)&&o.shiftKey&&(c.focus(),o.preventDefault()),s===c&&!o.shiftKey&&(a.focus(),o.preventDefault())}),r&&pn(e,"click").pipe(bt(n),ZR(i),Oe(o=>o[1])).subscribe(o=>o.focus())})})(this._ngZone,u.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(u.location.nativeElement)}})}_restoreScrollBar(){const n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,r,i){const o=i.container instanceof HTMLElement?i.container:Vc(i.container)?this._document.querySelector(i.container):this._document.body,s=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new DW,c=(n=i.injector||n).get(Cr,null)||this._environmentInjector,u=this._getContentRef(n,c,r,a,i);let l=!1!==i.backdrop?this._attachBackdrop(o):void 0,d=this._attachWindowComponent(o,u.nodes),h=new XOe(d,u,l,i.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(d),h.hidden.pipe(vn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=f=>{h.close(f)},a.dismiss=f=>{h.dismiss(f)},a.update=f=>{h.update(f)},h.update(i),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),l&&l.instance&&l.changeDetectorRef.detectChanges(),d.changeDetectorRef.detectChanges(),h}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(r=>r.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let r=dI(QOe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),n.appendChild(r.location.nativeElement),r}_attachWindowComponent(n,r){let i=dI(eMe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),n.appendChild(i.location.nativeElement),i}_getContentRef(n,r,i,o,s){return i?i instanceof St?this._createFromTemplateRef(i,o):Lc(i)?this._createFromString(i):this._createFromComponent(n,r,i,o,s):new Hc([])}_createFromTemplateRef(n,r){const o=n.createEmbeddedView({$implicit:r,close(s){r.close(s)},dismiss(s){r.dismiss(s)}});return this._applicationRef.attachView(o),new Hc([o.rootNodes],o)}_createFromString(n){const r=this._document.createTextNode(`${n}`);return new Hc([[r]])}_createFromComponent(n,r,i,o,s){const c=dI(i,{environmentInjector:r,elementInjector:Xt.create({providers:[{provide:DW,useValue:o}],parent:n})}),u=c.location.nativeElement;return s.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new Hc([[u]],c.hostView,c)}_setAriaHidden(n){const r=n.parentElement;r&&n!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==n&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,r)=>{n?r.setAttribute("aria-hidden",n):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){const r=()=>{const i=this._modalRefs.indexOf(n);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(r,r)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{const r=this._windowCmpts.indexOf(n);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(r){return new(r||t)(W(Cs),W(Xt),W(Cr),W(Gt),W(tMe),W(K1),W(Ee))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),rMe=(()=>{class t{constructor(n){this._ngbConfig=n,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}static#e=this.\u0275fac=function(r){return new(r||t)(W(U0))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),iMe=(()=>{class t{constructor(n,r,i){this._injector=n,this._modalStack=r,this._config=i}open(n,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,n,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(r){return new(r||t)(W(Xt),W(nMe),W(rMe))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),SW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({providers:[iMe]})}return t})(),NW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),VW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),BW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),UW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),jW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),$W=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),HW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),GW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),zW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})();new te("live announcer delay",{providedIn:"root",factory:function vMe(){return 100}});let qW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})(),WW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({})}return t})();const wMe=[Qq,Jq,eW,tW,IW,CW,SW,NW,WW,VW,BW,UW,jW,$W,HW,GW,zW,qW];let IMe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({imports:[wMe,Qq,Jq,eW,tW,IW,CW,SW,NW,WW,VW,BW,UW,jW,$W,HW,GW,zW,qW]})}return t})(),TMe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({imports:[La,OT,K_]})}return t})(),EMe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({imports:[La,OT,K_,sq,QR,ul,TMe]})}return t})(),CMe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t});static#n=this.\u0275inj=we({imports:[La,K_,OT,ul]})}return t})(),DMe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Te({type:t,bootstrap:[xSe]});static#n=this.\u0275inj=we({providers:[{provide:iq,useValue:"tinymce/tinymce.min.js"}],imports:[xse,ISe,NSe,sq,EMe,CMe,yve(()=>vve(N0_firebaseConfig)),kCe(()=>FCe()),KSe,IMe,QR]})}return t})();Sse().bootstrapModule(DMe).catch(t=>console.error(t))},614:()=>{const Ie=":";const Dg=function(S,...C){if(Dg.translate){const L=Dg.translate(S,C);S=L[0],C=L[1]}let M=pb(S[0],S.raw[0]);for(let L=1;L<S.length;L++)M+=C[L-1]+pb(S[L],S.raw[L]);return M},Rk=":";function pb(S,C){return C.charAt(0)===Rk?S.substring(function Cd(S,C){for(let M=1,L=1;M<S.length;M++,L++)if("\\"===C[L])L++;else if(S[M]===Ie)return M;throw new Error(`Unterminated $localize metadata block in "${C}".`)}(S,C)+1):S}globalThis.$localize=Dg}},Ie=>{var ds=hs=>Ie(Ie.s=hs);ds(614),ds(825)}]);