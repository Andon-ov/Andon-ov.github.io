(self.webpackChunkThe_Natural_Way=self.webpackChunkThe_Natural_Way||[]).push([[179],{8726:($t,Ge,B)=>{"use strict";B.d(Ge,{Ot:()=>he,ZF:()=>Rt,hX:()=>Ue,z6:()=>se});var m=B(4097),Q=B(9468),d=B(559);class he{constructor(qe){return qe}}class se{constructor(){return(0,m.C6)()}}const Ne=new Q.OlP("angularfire2._apps"),we={provide:he,useFactory:function _e(Te){return Te&&1===Te.length?Te[0]:new he((0,m.Mq)())},deps:[[new Q.FiY,Ne]]},te={provide:se,deps:[[new Q.FiY,Ne]]};function oe(Te){return(qe,ht)=>{const Ke=qe.runOutsideAngular(()=>Te(ht));return new he(Ke)}}let Ae=(()=>{class Te{constructor(ht){(0,m.KN)("angularfire",d.q4.full,"core"),(0,m.KN)("angularfire",d.q4.full,"app"),(0,m.KN)("angular",Q.q4F.full,ht.toString())}}return Te.\u0275fac=function(ht){return new(ht||Te)(Q.LFG(Q.Lbi))},Te.\u0275mod=Q.oAB({type:Te}),Te.\u0275inj=Q.cJS({providers:[we,te]}),Te})();function Ue(Te,...qe){return{ngModule:Ae,providers:[{provide:Ne,useFactory:oe(Te),multi:!0,deps:[Q.R0b,Q.zs3,d.HU,...qe]}]}}const Rt=(0,d.u3)(m.ZF,!0)},3477:($t,Ge,B)=>{"use strict";B.d(Ge,{gg:()=>nC,ET:()=>cM,Ab:()=>lM,vr:()=>dM,hJ:()=>hM,oe:()=>fM,JU:()=>pM,QT:()=>gM,PL:()=>mM,ad:()=>yM,b9:()=>_M,Xo:()=>vM,Cm:()=>uM,IO:()=>EM,pl:()=>IM,TQ:()=>wM,r7:()=>bM,ar:()=>TM});var m=B(559),Q=B(9468),d=B(8726),he=B(4097),se=B(5861),de=B(229),_e=B(7592),Ne=B(7582),we=B(7879),te=B(6820);const en=function Rt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ft=new de.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),qe=new we.Yd("@firebase/auth");function Ke(n,...e){qe.logLevel<=we.in.ERROR&&qe.error(`Auth (${_e.Jn}): ${n}`,...e)}function Se(n,...e){throw gn(n,...e)}function ge(n,...e){return gn(n,...e)}function gn(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return ft.create(n,...e)}function yt(n,e,...t){if(!n)throw gn(e,...t)}function sn(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ke(e),new Error(e)}function vn(n,e){n||sn(e)}function Jn(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Je{constructor(e,t){this.shortDelay=e,this.longDelay=t,vn(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,de.uI)()||(0,de.b$)()}get(){return function $e(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Zn(){return"http:"===Jn()||"https:"===Jn()}()||(0,de.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class et{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void sn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void sn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void sn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const It={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Vt=new Je(3e4,6e4);function Xt(n,e,t,i){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,se.Z)(function*(n,e,t,i,a={}){return jt(n,a,(0,se.Z)(function*(){let c={},h={};i&&("GET"===e?h=i:c={body:JSON.stringify(i)});const w=(0,de.xO)(Object.assign({key:n.config.apiKey},h)).slice(1),N=yield n._getAdditionalHeaders();return N["Content-Type"]="application/json",n.languageCode&&(N["X-Firebase-Locale"]=n.languageCode),et.fetch()(cr(n,n.config.apiHost,t,w),Object.assign({method:e,headers:N,referrerPolicy:"no-referrer"},c))}))})).apply(this,arguments)}function jt(n,e,t){return _t.apply(this,arguments)}function _t(){return(_t=(0,se.Z)(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},It),e);try{const a=new Pe(n),c=yield Promise.race([t(),a.promise]);a.clearNetworkTimeout();const h=yield c.json();if("needConfirmation"in h)throw De(n,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const w=c.ok?h.errorMessage:h.error.message,[N,j]=w.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===N)throw De(n,"credential-already-in-use",h);if("EMAIL_EXISTS"===N)throw De(n,"email-already-in-use",h);if("USER_DISABLED"===N)throw De(n,"user-disabled",h);const ne=i[N]||N.toLowerCase().replace(/[_\s]+/g,"-");if(j)throw function Ve(n,e,t){const i=Object.assign(Object.assign({},en()),{[e]:t});return new de.LL("auth","Firebase",i).create(e,{appName:n.name})}(n,ne,j);Se(n,ne)}}catch(a){if(a instanceof de.ZR)throw a;Se(n,"network-request-failed",{message:String(a)})}})).apply(this,arguments)}function cr(n,e,t,i){const a=`${e}${t}?${i}`;return n.config.emulator?function je(n,e){vn(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,a):`${n.config.apiScheme}://${a}`}class Pe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ge(this.auth,"network-request-failed")),Vt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function De(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=ge(n,e,i);return a.customData._tokenResponse=t,a}function Et(){return(Et=(0,se.Z)(function*(n,e){return Xt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function mn(){return(mn=(0,se.Z)(function*(n,e){return Xt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Dn(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function mr(){return(mr=(0,se.Z)(function*(n,e=!1){const t=(0,de.m9)(n),i=yield t.getIdToken(e),a=lr(i);yt(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const c="object"==typeof a.firebase?a.firebase:void 0,h=c?.sign_in_provider;return{claims:a,token:i,authTime:Dn(rn(a.auth_time)),issuedAtTime:Dn(rn(a.iat)),expirationTime:Dn(rn(a.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}})).apply(this,arguments)}function rn(n){return 1e3*Number(n)}function lr(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return Ke("JWT malformed, contained fewer than 3 sections"),null;try{const a=(0,de.tV)(t);return a?JSON.parse(a):(Ke("Failed to decode base64 JWT payload"),null)}catch(a){return Ke("Caught error parsing JWT payload as JSON",a?.toString()),null}}function bn(n,e){return zn.apply(this,arguments)}function zn(){return(zn=(0,se.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof de.ZR&&function qn({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class Xn{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const a=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout((0,se.Z)(function*(){yield t.iteration()}),i)}iteration(){var e=this;return(0,se.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class On{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dn(this.lastLoginAt),this.creationTime=Dn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function qr(n){return Qt.apply(this,arguments)}function Qt(){return Qt=(0,se.Z)(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),a=yield bn(n,function pr(n,e){return mn.apply(this,arguments)}(t,{idToken:i}));yt(a?.users.length,t,"internal-error");const c=a.users[0];n._notifyReloadListener(c);const h=null!==(e=c.providerUserInfo)&&void 0!==e&&e.length?function dt(n){return n.map(e=>{var{providerId:t}=e,i=(0,Ne._T)(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(c.providerUserInfo):[],w=function xr(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}(n.providerData,h),ne=!!n.isAnonymous&&!(n.email&&c.passwordHash||w?.length),me={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:w,metadata:new On(c.createdAt,c.lastLoginAt),isAnonymous:ne};Object.assign(n,me)}),Qt.apply(this,arguments)}function Nr(){return(Nr=(0,se.Z)(function*(n){const e=(0,de.m9)(n);yield qr(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function ot(){return(ot=(0,se.Z)(function*(n,e){const t=yield jt(n,{},(0,se.Z)(function*(){const i=(0,de.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:c}=n.config,h=cr(n,a,"/v1/token",`key=${c}`),w=yield n._getAdditionalHeaders();return w["Content-Type"]="application/x-www-form-urlencoded",et.fetch()(h,{method:"POST",headers:w,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Ot{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){yt(e.idToken,"internal-error"),yt(typeof e.idToken<"u","internal-error"),yt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Er(n){const e=lr(n);return yt(e,"internal-error"),yt(typeof e.exp<"u","internal-error"),yt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return(0,se.Z)(function*(){return yt(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return(0,se.Z)(function*(){const{accessToken:a,refreshToken:c,expiresIn:h}=yield function xe(n,e){return ot.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(a,c,Number(h))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:c}=t,h=new Ot;return i&&(yt("string"==typeof i,"internal-error",{appName:e}),h.refreshToken=i),a&&(yt("string"==typeof a,"internal-error",{appName:e}),h.accessToken=a),c&&(yt("number"==typeof c,"internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ot,this.toJSON())}_performRefresh(){return sn("not implemented")}}function Zt(n,e){yt("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Jt{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,c=(0,Ne._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new On(c.createdAt||void 0,c.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,se.Z)(function*(){const i=yield bn(t,t.stsTokenManager.getToken(t.auth,e));return yt(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function dn(n){return mr.apply(this,arguments)}(this,e)}reload(){return function vi(n){return Nr.apply(this,arguments)}(this)}_assign(e){this!==e&&(yt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Jt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return(0,se.Z)(function*(){let a=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),a=!0),t&&(yield qr(i)),yield i.auth._persistUserIfCurrent(i),a&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return(0,se.Z)(function*(){const t=yield e.getIdToken();return yield bn(e,function rt(n,e){return Et.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,c,h,w,N,j,ne;const me=null!==(i=t.displayName)&&void 0!==i?i:void 0,Qe=null!==(a=t.email)&&void 0!==a?a:void 0,vt=null!==(c=t.phoneNumber)&&void 0!==c?c:void 0,Bt=null!==(h=t.photoURL)&&void 0!==h?h:void 0,fn=null!==(w=t.tenantId)&&void 0!==w?w:void 0,_n=null!==(N=t._redirectEventId)&&void 0!==N?N:void 0,br=null!==(j=t.createdAt)&&void 0!==j?j:void 0,Kr=null!==(ne=t.lastLoginAt)&&void 0!==ne?ne:void 0,{uid:Mr,emailVerified:Ao,isAnonymous:lo,providerData:qi,stsTokenManager:hu}=t;yt(Mr&&hu,e,"internal-error");const _f=Ot.fromJSON(this.name,hu);yt("string"==typeof Mr,e,"internal-error"),Zt(me,e.name),Zt(Qe,e.name),yt("boolean"==typeof Ao,e,"internal-error"),yt("boolean"==typeof lo,e,"internal-error"),Zt(vt,e.name),Zt(Bt,e.name),Zt(fn,e.name),Zt(_n,e.name),Zt(br,e.name),Zt(Kr,e.name);const mv=new Jt({uid:Mr,auth:e,email:Qe,emailVerified:Ao,displayName:me,isAnonymous:lo,photoURL:Bt,phoneNumber:vt,tenantId:fn,stsTokenManager:_f,createdAt:br,lastLoginAt:Kr});return qi&&Array.isArray(qi)&&(mv.providerData=qi.map(CM=>Object.assign({},CM))),_n&&(mv._redirectEventId=_n),mv}static _fromIdTokenResponse(e,t,i=!1){return(0,se.Z)(function*(){const a=new Ot;a.updateFromServerResponse(t);const c=new Jt({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return yield qr(c),c})()}}const Wn=new Map;function Y(n){vn(n instanceof Function,"Expected a class definition");let e=Wn.get(n);return e?(vn(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Wn.set(n,e),e)}const $=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,se.Z)(function*(){return!0})()}_set(t,i){var a=this;return(0,se.Z)(function*(){a.storage[t]=i})()}_get(t){var i=this;return(0,se.Z)(function*(){const a=i.storage[t];return void 0===a?null:a})()}_remove(t){var i=this;return(0,se.Z)(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function q(n,e,t){return`firebase:${n}:${e}:${t}`}class G{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:c}=this.auth;this.fullUserKey=q(this.userKey,a.apiKey,c),this.fullPersistenceKey=q("persistence",a.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,se.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Jt._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,se.Z)(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return(0,se.Z)(function*(){if(!t.length)return new G(Y($),e,i);const a=(yield Promise.all(t.map(function(){var j=(0,se.Z)(function*(ne){if(yield ne._isAvailable())return ne});return function(ne){return j.apply(this,arguments)}}()))).filter(j=>j);let c=a[0]||Y($);const h=q(i,e.config.apiKey,e.name);let w=null;for(const j of t)try{const ne=yield j._get(h);if(ne){const me=Jt._fromJSON(e,ne);j!==c&&(w=me),c=j;break}}catch{}const N=a.filter(j=>j._shouldAllowMigration);return c._shouldAllowMigration&&N.length?(c=N[0],w&&(yield c._set(h,w.toJSON())),yield Promise.all(t.map(function(){var j=(0,se.Z)(function*(ne){if(ne!==c)try{yield ne._remove(h)}catch{}});return function(ne){return j.apply(this,arguments)}}())),new G(c,e,i)):new G(c,e,i)})()}}function Ce(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function hn(n=(0,de.z$)()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function nt(n=(0,de.z$)()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function nn(n=(0,de.z$)()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function Ln(n=(0,de.z$)()){return/webos/i.test(n)}(e))return"Webos";if(function Mt(n=(0,de.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function ln(n=(0,de.z$)()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function Rn(n=(0,de.z$)()){return/android/i.test(n)}(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function U(n,e=[]){let t;switch(n){case"Browser":t=Ce((0,de.z$)());break;case"Worker":t=`${Ce((0,de.z$)())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${_e.Jn}/${i}`}function Be(n,e){return We.apply(this,arguments)}function We(){return(We=(0,se.Z)(function*(n,e){return Xt(n,"GET","/v2/recaptchaConfig",function Gt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}(n,e))})).apply(this,arguments)}function St(n){return void 0!==n&&void 0!==n.enterprise}class Fn{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}class Ks{constructor(e){this.type="recaptcha-enterprise",this.auth=Ei(e)}verify(e="verify",t=!1){var i=this;return(0,se.Z)(function*(){function c(){return c=(0,se.Z)(function*(w){if(!t){if(null==w.tenantId&&null!=w._agentRecaptchaConfig)return w._agentRecaptchaConfig.siteKey;if(null!=w.tenantId&&void 0!==w._tenantRecaptchaConfigs[w.tenantId])return w._tenantRecaptchaConfigs[w.tenantId].siteKey}return new Promise(function(){var N=(0,se.Z)(function*(j,ne){Be(w,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(me=>{if(void 0!==me.recaptchaKey){const Qe=new Fn(me);return null==w.tenantId?w._agentRecaptchaConfig=Qe:w._tenantRecaptchaConfigs[w.tenantId]=Qe,j(Qe.siteKey)}ne(new Error("recaptcha Enterprise site key undefined"))}).catch(me=>{ne(me)})});return function(j,ne){return N.apply(this,arguments)}}())}),c.apply(this,arguments)}function h(w,N,j){const ne=window.grecaptcha;St(ne)?ne.enterprise.ready(()=>{ne.enterprise.execute(w,{action:e}).then(me=>{N(me)}).catch(()=>{N("NO_RECAPTCHA")})}):j(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((w,N)=>{(function a(w){return c.apply(this,arguments)})(i.auth).then(j=>{if(!t&&St(window.grecaptcha))h(j,w,N);else{if(typeof window>"u")return void N(new Error("RecaptchaVerifier is only supported in browser"));(function Cr(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const c=ge("internal-error");c.customData=a,t(c)},i.type="text/javascript",i.charset="UTF-8",function er(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})})("https://www.google.com/recaptcha/enterprise.js?render="+j).then(()=>{h(j,w,N)}).catch(ne=>{N(ne)})}}).catch(j=>{N(j)})})})()}}class ks{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=c=>new Promise((h,w)=>{try{h(e(c))}catch(N){w(N)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,se.Z)(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const a of t.queue)yield a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const c of i)try{c()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}})()}}class ia{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sa(this),this.idTokenSubscription=new sa(this),this.beforeStateQueue=new ks(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ft,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=Y(t)),this._initializationPromise=this.queue((0,se.Z)(function*(){var a,c;if(!i._deleted&&(i.persistenceManager=yield G.create(i,e),!i._deleted)){if(null!==(a=i._popupRedirectResolver)&&void 0!==a&&a._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(c=i.currentUser)||void 0===c?void 0:c.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,se.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,se.Z)(function*(){var i;const a=yield t.assertedPersistence.getCurrentUser();let c=a,h=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const w=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,N=c?._redirectEventId,j=yield t.tryRedirectSignIn(e);(!w||w===N)&&j?.user&&(c=j.user,h=!0)}if(!c)return t.directlySetCurrentUser(null);if(!c._redirectEventId){if(h)try{yield t.beforeStateQueue.runMiddleware(c)}catch(w){c=a,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(w))}return c?t.reloadAndSetCurrentUserOrClear(c):t.directlySetCurrentUser(null)}return yt(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===c._redirectEventId?t.directlySetCurrentUser(c):t.reloadAndSetCurrentUserOrClear(c)})()}tryRedirectSignIn(e){var t=this;return(0,se.Z)(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,se.Z)(function*(){try{yield qr(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function ze(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,se.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,se.Z)(function*(){const i=e?(0,de.m9)(e):null;return i&&yt(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return(0,se.Z)(function*(){if(!i._deleted)return e&&yt(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue((0,se.Z)(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,se.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,se.Z)(function*(){yield t.assertedPersistence.setPersistence(Y(e))}))}initializeRecaptchaConfig(){var e=this;return(0,se.Z)(function*(){const t=yield Be(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new Fn(t);null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.emailPasswordEnabled&&new Ks(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new de.LL("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return(0,se.Z)(function*(){const a=yield i.getOrInitRedirectPersistenceManager(t);return null===e?a.removeCurrentUser():a.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,se.Z)(function*(){if(!t.redirectPersistenceManager){const i=e&&Y(e)||t._popupRedirectResolver;yt(i,t,"argument-error"),t.redirectPersistenceManager=yield G.create(t,[Y(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,se.Z)(function*(){var i,a;return t._isInitialized&&(yield t.queue((0,se.Z)(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(a=t.redirectUser)||void 0===a?void 0:a._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,se.Z)(function*(){if(e===t.currentUser)return t.queue((0,se.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const c="function"==typeof t?t:t.next.bind(t),h=this._isInitialized?Promise.resolve():this._initializationPromise;return yt(h,this,"internal-error"),h.then(()=>c(this.currentUser)),"function"==typeof t?e.addObserver(t,i,a):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,se.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=U(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,se.Z)(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const a=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();a&&(i["X-Firebase-Client"]=a);const c=yield e._getAppCheckToken();return c&&(i["X-Firebase-AppCheck"]=c),i})()}_getAppCheckToken(){var e=this;return(0,se.Z)(function*(){var t;const i=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return i?.error&&function ht(n,...e){qe.logLevel<=we.in.WARN&&qe.warn(`Auth (${_e.Jn}): ${n}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function Ei(n){return(0,de.m9)(n)}class sa{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,de.ne)(t=>this.observer=t)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function ws(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new Je(3e4,6e4),new Je(2e3,1e4),new Je(3e4,6e4),new Je(5e3,15e3),encodeURIComponent("fac");var Id="@firebase/auth";class ph{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,se.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,de.Pz)("authIdTokenMaxAge"),function bo(n){(0,_e.Xd)(new te.wA("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:w}=i.options;yt(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const N={apiKey:h,authDomain:w,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:U(n)},j=new ia(i,a,c,N);return function Ys(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Y);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}(j,t),j},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),(0,_e.Xd)(new te.wA("auth-internal",e=>{const t=Ei(e.getProvider("auth").getImmediate());return new ph(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,_e.KN)(Id,"0.23.2",function Zp(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,_e.KN)(Id,"0.23.2","esm2017")}("Browser");class Td{constructor(){return(0,m.vb)("auth")}}const Lm=new Map,tg={activated:!1,tokenObservers:[]},wv={initialized:!1,enabled:!1};function is(n){return Lm.get(n)||Object.assign({},tg)}function Md(){return wv}const kf="https://content-firebaseappcheck.googleapis.com/v1",Ih="exchangeDebugToken",v={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class p{constructor(e,t,i,a,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=a,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=a,a>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,se.Z)(function*(){t.stop();try{t.pending=new de.BH,yield function I(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new de.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const K=new de.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function be(n){if(!is(n).activated)throw K.create("use-before-activation",{appName:n.name})}function Pt(n,e){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,se.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});if(a){const me=yield a.getHeartbeatsHeader();me&&(i["X-Firebase-Client"]=me)}const c={method:"POST",body:JSON.stringify(e),headers:i};let h,w;try{h=yield fetch(n,c)}catch(me){throw K.create("fetch-network-error",{originalErrorMessage:me?.message})}if(200!==h.status)throw K.create("fetch-status-error",{httpStatus:h.status});try{w=yield h.json()}catch(me){throw K.create("fetch-parse-error",{originalErrorMessage:me?.message})}const N=w.ttl.match(/^([\d.]+)(s)$/);if(!N||!N[2]||isNaN(Number(N[1])))throw K.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const j=1e3*Number(N[1]),ne=Date.now();return{token:w.token,expireTimeMillis:ne+j,issuedAtTimeMillis:ne}})).apply(this,arguments)}function $n(n,e){const{projectId:t,appId:i,apiKey:a}=n.options;return{url:`${kf}/projects/${t}/apps/${i}:${Ih}?key=${a}`,body:{debug_token:e}}}const hr="firebase-app-check-database",Hi=1,Qi="firebase-app-check-store";let ss=null;function Yu(){return(Yu=(0,se.Z)(function*(n,e){const i=(yield function Os(){return ss||(ss=new Promise((n,e)=>{try{const t=indexedDB.open(hr,Hi);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var a;e(K.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Qi,{keyPath:"compositeKey"})}}catch(t){e(K.create("storage-open",{originalErrorMessage:t?.message}))}}),ss)}()).transaction(Qi,"readwrite"),c=i.objectStore(Qi).put({compositeKey:n,value:e});return new Promise((h,w)=>{c.onsuccess=N=>{h()},i.onerror=N=>{var j;w(K.create("storage-set",{originalErrorMessage:null===(j=N.target.error)||void 0===j?void 0:j.message}))}})})).apply(this,arguments)}const Xl=new we.Yd("@firebase/app-check");function jn(n,e){return(0,de.hl)()?function xu(n,e){return function Tc(n,e){return Yu.apply(this,arguments)}(function _l(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Xl.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function vs(){return Md().enabled}function ru(){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,se.Z)(function*(){const n=Md();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ji={error:"UNKNOWN_ERROR"};function Um(n){return de.US.encodeString(JSON.stringify(n),!1)}function rg(n){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,se.Z)(function*(n,e=!1){const t=n.app;be(t);const i=is(t);let c,a=i.token;if(a&&!El(a)&&(i.token=void 0,a=void 0),!a){const N=yield i.cachedTokenPromise;N&&(El(N)?a=N:yield jn(t,void 0))}if(!e&&a&&El(a))return{token:a.token};let w,h=!1;if(vs()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Pt($n(t,yield ru()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),h=!0);const N=yield i.exchangeTokenPromise;return yield jn(t,N),i.token=N,{token:N.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),h=!0),a=yield is(t).exchangeTokenPromise}catch(N){"appCheck/throttled"===N.code?Xl.warn(N.message):Xl.error(N),c=N}return a?c?w=El(a)?{token:a.token,internalError:c}:bv(c):(w={token:a.token},i.token=a,yield jn(t,a)):w=bv(c),h&&function ig(n,e){const t=is(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,w),w})).apply(this,arguments)}function vl(n){return wa.apply(this,arguments)}function wa(){return(wa=(0,se.Z)(function*(n){const e=n.app;be(e);const{provider:t}=is(e);if(vs()){const i=yield ru(),{token:a}=yield Pt($n(e,i),n.heartbeatServiceProvider);return{token:a}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function xd(n,e){const t=is(n),i=t.tokenObservers.filter(a=>a.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function Vm(n){const{app:e}=n,t=is(e);let i=t.tokenRefresher;i||(i=function NI(n){const{app:e}=n;return new p((0,se.Z)(function*(){let i;if(i=is(e).token?yield rg(n,!0):yield rg(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=is(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},v.RETRIAL_MIN_WAIT,v.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function El(n){return n.expireTimeMillis-Date.now()>0}function bv(n){return{token:Um(Ji),error:n}}class Tv{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=is(this.app);for(const t of e)xd(this.app,t.next);return Promise.resolve()}}const $I="app-check-internal";!function dC(){(0,_e.Xd)(new te.wA("app-check",n=>function Bm(n,e){return new Tv(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider($I).initialize()})),(0,_e.Xd)(new te.wA($I,n=>function kI(n){return{getToken:e=>rg(n,e),getLimitedUseToken:()=>vl(n),addTokenListener:e=>function ed(n,e,t,i){const{app:a}=n,c=is(a);if(c.tokenObservers=[...c.tokenObservers,{next:t,error:i,type:e}],c.token&&El(c.token)){const w=c.token;Promise.resolve().then(()=>{t({token:w.token}),Vm(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>Vm(n))}(n,"INTERNAL",e),removeTokenListener:e=>xd(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,_e.KN)("@firebase/app-check","0.8.0")}();class Il{constructor(){return(0,m.vb)("app-check")}}typeof window<"u"&&window;var pn,HI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Cc={},GI=GI||{},vr=HI||self;function Pv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function bh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var zI="closure_uid_"+(1e9*Math.random()>>>0),QS=0;function qI(n,e,t){return n.call.apply(n.bind,arguments)}function yC(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,i),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function Ua(n,e,t){return(Ua=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qI:yC).apply(null,arguments)}function qm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Qo(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,a,c){for(var h=Array(arguments.length-2),w=2;w<arguments.length;w++)h[w-2]=arguments[w];return e.prototype[a].apply(i,h)}}function td(){this.s=this.s,this.o=this.o}td.prototype.s=!1,td.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Rv(n){Object.prototype.hasOwnProperty.call(n,zI)&&n[zI]||(n[zI]=++QS)}(this)},td.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Nv=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function ug(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function WI(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Pv(i)){const a=n.length||0,c=i.length||0;n.length=a+c;for(let h=0;h<c;h++)n[a+h]=i[h]}else n.push(i)}}function zs(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}zs.prototype.h=function(){this.defaultPrevented=!0};var ZI=function(){if(!vr.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{vr.addEventListener("test",()=>{},e),vr.removeEventListener("test",()=>{},e)}catch{}return n}();function cg(n){return/^[\s\xa0]*$/.test(n)}function Vf(){var n=vr.navigator;return n&&(n=n.userAgent)?n:""}function Dc(n){return-1!=Vf().indexOf(n)}function kv(n){return kv[" "](n),n}kv[" "]=function(){};var Zm,n,vC=Dc("Opera"),Bf=Dc("Trident")||Dc("MSIE"),Lv=Dc("Edge"),KI=Lv||Bf,EC=Dc("Gecko")&&!(-1!=Vf().toLowerCase().indexOf("webkit")&&!Dc("Edge"))&&!(Dc("Trident")||Dc("MSIE"))&&!Dc("Edge"),lg=-1!=Vf().toLowerCase().indexOf("webkit")&&!Dc("Edge");function $f(){var n=vr.document;return n?n.documentMode:void 0}e:{var Km="",dg=(n=Vf(),EC?/rv:([^\);]+)(\)|;)/.exec(n):Lv?/Edge\/([\d\.]+)/.exec(n):Bf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):lg?/WebKit\/(\S+)/.exec(n):vC?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(dg&&(Km=dg?dg[1]:""),Bf){var Ym=$f();if(null!=Ym&&Ym>parseFloat(Km)){Zm=String(Ym);break e}}Zm=Km}var YI=vr.document&&Bf&&($f()||parseInt(Zm,10))||void 0;function Pd(n,e){if(zs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(EC){e:{try{kv(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:JS[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Pd.$.h.call(this)}}Qo(Pd,zs);var JS={2:"touch",3:"pen",4:"mouse"};Pd.prototype.h=function(){Pd.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Th="closure_listenable_"+(1e6*Math.random()|0),IC=0;function Vv(n,e,t,i,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=a,this.key=++IC,this.fa=this.ia=!1}function hg(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Qm(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function QI(n){const e={};for(const t in n)e[t]=n[t];return e}const Jm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fg(n,e){let t,i;for(let a=1;a<arguments.length;a++){for(t in i=arguments[a],i)n[t]=i[t];for(let c=0;c<Jm.length;c++)t=Jm[c],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Xm(n){this.src=n,this.g={},this.h=0}function pg(n,e){var t=e.type;if(t in n.g){var c,i=n.g[t],a=Nv(i,e);(c=0<=a)&&Array.prototype.splice.call(i,a,1),c&&(hg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function jf(n,e,t,i){for(var a=0;a<n.length;++a){var c=n[a];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==i)return a}return-1}Xm.prototype.add=function(n,e,t,i,a){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var h=jf(n,e,i,a);return-1<h?(e=n[h],t||(e.ia=!1)):((e=new Vv(e,this.src,c,!!i,a)).ia=t,n.push(e)),e};var Sc="closure_lm_"+(1e6*Math.random()|0),Rd={};function ey(n,e,t,i,a){if(i&&i.once)return Bv(n,e,t,i,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)ey(n,e[c],t,i,a);return null}return t=jv(t),n&&n[Th]?n.O(e,t,bh(i)?!!i.capture:!!i,a):JI(n,e,t,!1,i,a)}function JI(n,e,t,i,a,c){if(!e)throw Error("Invalid event type");var h=bh(a)?!!a.capture:!!a,w=gg(n);if(w||(n[Sc]=w=new Xm(n)),(t=w.add(e,t,i,h,c)).proxy)return t;if(i=function wC(){const e=bC;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)ZI||(a=h),void 0===a&&(a=!1),n.addEventListener(e.toString(),i,a);else if(n.attachEvent)n.attachEvent(XI(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function Bv(n,e,t,i,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)Bv(n,e[c],t,i,a);return null}return t=jv(t),n&&n[Th]?n.P(e,t,bh(i)?!!i.capture:!!i,a):JI(n,e,t,!0,i,a)}function Dh(n,e,t,i,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)Dh(n,e[c],t,i,a);else i=bh(i)?!!i.capture:!!i,t=jv(t),n&&n[Th]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=jf(c=n.g[e],t,i,a))&&(hg(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=gg(n))&&(e=n.g[e.toString()],n=-1,e&&(n=jf(e,t,i,a)),(t=-1<n?e[n]:null)&&$v(t))}function $v(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Th])pg(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(XI(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=gg(e))?(pg(t,n),0==t.h&&(t.src=null,e[Sc]=null)):hg(n)}}}function XI(n){return n in Rd?Rd[n]:Rd[n]="on"+n}function bC(n,e){if(n.fa)n=!0;else{e=new Pd(e,this);var t=n.listener,i=n.la||n.src;n.ia&&$v(n),n=t.call(i,e)}return n}function gg(n){return(n=n[Sc])instanceof Xm?n:null}var ty="__closure_events_fn_"+(1e9*Math.random()>>>0);function jv(n){return"function"==typeof n?n:(n[ty]||(n[ty]=function(e){return n.handleEvent(e)}),n[ty])}function $o(){td.call(this),this.i=new Xm(this),this.S=this,this.J=null}function jo(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new zs(e,n);else if(e instanceof zs)e.target=e.target||n;else{var a=e;fg(e=new zs(i,n),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var h=e.g=t[c];a=Hv(h,i,!0,e)&&a}if(a=Hv(h=e.g=n,i,!0,e)&&a,a=Hv(h,i,!1,e)&&a,t)for(c=0;c<t.length;c++)a=Hv(h=e.g=t[c],i,!1,e)&&a}function Hv(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var h=e[c];if(h&&!h.fa&&h.capture==t){var w=h.listener,N=h.la||h.src;h.ia&&pg(n.i,h),a=!1!==w.call(N,i)&&a}}return a&&!i.defaultPrevented}Qo($o,td),$o.prototype[Th]=!0,$o.prototype.removeEventListener=function(n,e,t,i){Dh(this,n,e,t,i)},$o.prototype.N=function(){if($o.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)hg(t[i]);delete n.g[e],n.h--}}this.J=null},$o.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},$o.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Gv=vr.JSON.stringify;function CC(){var n=mg;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var DC=new class TC{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ny,n=>n.reset());class ny{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function SC(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function zv(n){vr.setTimeout(()=>{throw n},0)}let Sh,wl=!1,mg=new class XS{constructor(){this.h=this.g=null}add(e,t){const i=DC.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},ry=()=>{const n=vr.Promise.resolve(void 0);Sh=()=>{n.then(yg)}};var yg=()=>{for(var n;n=CC();){try{n.h.call(n.g)}catch(t){zv(t)}var e=DC;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}wl=!1};function Ah(n,e){$o.call(this),this.h=n||1,this.g=e||vr,this.j=Ua(this.qb,this),this.l=Date.now()}function Nd(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function _g(n,e,t){if("function"==typeof n)t&&(n=Ua(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ua(n.handleEvent,n)}return 2147483647<Number(e)?-1:vr.setTimeout(n,e||0)}function iy(n){n.g=_g(()=>{n.g=null,n.i&&(n.i=!1,iy(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Qo(Ah,$o),(pn=Ah.prototype).ga=!1,pn.T=null,pn.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),jo(this,"tick"),this.ga&&(Nd(this),this.start()))}},pn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pn.N=function(){Ah.$.N.call(this),Nd(this),delete this.g};class sy extends td{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:iy(this)}N(){super.N(),this.g&&(vr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oy(n){td.call(this),this.h=n,this.g={}}Qo(oy,td);var ay=[];function Hf(n,e,t,i){Array.isArray(t)||(t&&(ay[0]=t.toString()),t=ay);for(var a=0;a<t.length;a++){var c=ey(e,t[a],i||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function ew(n){Qm(n.g,function(e,t){this.g.hasOwnProperty(t)&&$v(e)},n),n.g={}}function vg(){this.g=!0}function kd(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function xC(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var a=i[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var h=1;h<a.length;h++)a[h]=""}}}return Gv(t)}catch{return e}}(n,t)+(i?" "+i:"")})}oy.prototype.N=function(){oy.$.N.call(this),ew(this)},oy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vg.prototype.Ea=function(){this.g=!1},vg.prototype.info=function(){};var Mh={},OC=null;function uy(){return OC=OC||new $o}function Eg(n){zs.call(this,Mh.Ta,n)}function xh(n){const e=uy();jo(e,new Eg(e))}function nw(n,e){zs.call(this,Mh.STAT_EVENT,n),this.stat=e}function Va(n){const e=uy();jo(e,new nw(e,n))}function cy(n,e){zs.call(this,Mh.Ua,n),this.size=e}function Ld(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return vr.setTimeout(function(){n()},e)}Mh.Ta="serverreachability",Qo(Eg,zs),Mh.STAT_EVENT="statevent",Qo(nw,zs),Mh.Ua="timingevent",Qo(cy,zs);var ly={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},qv={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Wv(){}function PC(){}Wv.prototype.h=null;var Fd,Ig={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Gf(){zs.call(this,"d")}function Kv(){zs.call(this,"c")}function Ud(){}function wg(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new oy(this),this.P=RC,this.V=new Ah(n=KI?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Yv}function Yv(){this.i=null,this.g="",this.h=!1}Qo(Gf,zs),Qo(Kv,zs),Qo(Ud,Wv),Ud.prototype.g=function(){return new XMLHttpRequest},Ud.prototype.i=function(){return{}},Fd=new Ud;var RC=45e3,Qv={},dy={};function hy(n,e,t){n.L=1,n.v=yy(bl(e)),n.s=t,n.S=!0,Jv(n,null)}function Jv(n,e){n.G=Date.now(),zf(n),n.A=bl(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),_y(t.i,"t",i),n.C=0,t=n.l.J,n.h=new Yv,n.g=c0(n.l,t?e:null,!n.s),0<n.O&&(n.M=new sy(Ua(n.Pa,n,n.g),n.O)),Hf(n.U,n.g,"readystatechange",n.nb),e=n.I?QI(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),xh(),function AC(n,e,t,i,a,c){n.info(function(){if(n.g)if(c)for(var h="",w=c.split("&"),N=0;N<w.length;N++){var j=w[N].split("=");if(1<j.length){var ne=j[0];j=j[1];var me=ne.split("_");h=2<=me.length&&"type"==me[1]?h+(ne+"=")+j+"&":h+(ne+"=redacted&")}}else h=null;else h=c;return"XMLHTTP REQ ("+i+") [attempt "+a+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.W,n.s)}function fy(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function NC(n,e,t){let a,i=!0;for(;!n.J&&n.C<t.length;){if(a=py(n,t),a==dy){4==e&&(n.o=4,Va(14),i=!1),kd(n.j,n.m,null,"[Incomplete Response]");break}if(a==Qv){n.o=4,Va(15),kd(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}kd(n.j,n.m,a,null),my(n,a)}fy(n)&&a!=dy&&a!=Qv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Va(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Pg(e),e.M=!0,Va(11))):(kd(n.j,n.m,t,"[Invalid Chunked Response]"),Oh(n),qf(n))}function py(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?dy:(t=Number(e.substring(t,i)),isNaN(t)?Qv:(i+=1)+t>e.length?dy:(e=e.slice(i,i+t),n.C=i+t,e))}function zf(n){n.Y=Date.now()+n.P,rw(n,n.P)}function rw(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ld(Ua(n.lb,n),e)}function gy(n){n.B&&(vr.clearTimeout(n.B),n.B=null)}function qf(n){0==n.l.H||n.J||u0(n.l,n)}function Oh(n){gy(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Nd(n.V),ew(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function my(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||vy(t.i,n)))if(!n.K&&vy(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var a=i;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Xf(t),Mg(t)}Ty(t),Va(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=Ld(Ua(t.ib,t),6e3));if(1>=r0(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Lh(t,11)}else if((n.K||t.g==n)&&Xf(t),!cg(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let j=a[e];if(t.V=j[0],j=j[1],2==t.H)if("c"==j[0]){t.K=j[1],t.pa=j[2];const ne=j[3];null!=ne&&(t.ra=ne,t.l.info("VER="+t.ra));const me=j[4];null!=me&&(t.Ga=me,t.l.info("SVER="+t.Ga));const Qe=j[5];null!=Qe&&"number"==typeof Qe&&0<Qe&&(t.L=i=1.5*Qe,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const vt=n.g;if(vt){const Bt=vt.g?vt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bt){var c=i.i;c.g||-1==Bt.indexOf("spdy")&&-1==Bt.indexOf("quic")&&-1==Bt.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(Ey(c,c.h),c.h=null))}if(i.F){const fn=vt.g?vt.g.getResponseHeader("X-HTTP-Session-Id"):null;fn&&(i.Da=fn,Di(i.I,i.F,fn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var h=n;if((i=t).wa=yw(i,i.J?i.pa:null,i.Y),h.K){Rh(i.i,h);var w=h,N=i.L;N&&w.setTimeout(N),w.B&&(gy(w),zf(w)),i.g=h}else Jf(i);0<t.j.length&&xg(t)}else"stop"!=j[0]&&"close"!=j[0]||Lh(t,7);else 3==t.H&&("stop"==j[0]||"close"==j[0]?"stop"==j[0]?Lh(t,7):wy(t):"noop"!=j[0]&&t.h&&t.h.Aa(j),t.A=0)}xh()}catch{}}function FC(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Pv(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function LC(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Pv(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function kC(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Pv(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),a=i.length,c=0;c<a;c++)e.call(void 0,i[c],t&&t[c],n)}(pn=wg.prototype).setTimeout=function(n){this.P=n},pn.nb=function(n){n=n.target;const e=this.M;e&&3==Qu(n)?e.l():this.Pa(n)},pn.Pa=function(n){try{if(n==this.g)e:{const ne=Qu(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ne)&&(3!=ne||KI||this.g&&(this.h.h||this.g.ja()||a0(this.g)))){this.J||4!=ne||7==e||xh(),gy(this);var t=this.g.da();this.ca=t;t:if(fy(this)){var i=a0(this.g);n="";var a=i.length,c=4==Qu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Oh(this),qf(this);var h="";break t}this.h.i=new vr.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:c&&e==a-1});i.splice(0,a),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ja();if(this.i=200==t,function MC(n,e,t,i,a,c,h){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+h})}(this.j,this.u,this.A,this.m,this.W,ne,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var w,N=this.g;if((w=N.g?N.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cg(w)){var j=w;break t}}j=null}if(!(t=j)){this.i=!1,this.o=3,Va(12),Oh(this),qf(this);break e}kd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,my(this,t)}this.S?(NC(this,ne,h),KI&&this.i&&3==ne&&(Hf(this.U,this.V,"tick",this.mb),this.V.start())):(kd(this.j,this.m,h,null),my(this,h)),4==ne&&Oh(this),this.i&&!this.J&&(4==ne?u0(this.l,this):(this.i=!1,zf(this)))}else(function pw(n){const e={};n=(n.g&&2<=Qu(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(cg(n[i]))continue;var t=SC(n[i]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const c=e[a]||[];e[a]=c,c.push(t)}!function Ch(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<h.indexOf("Unknown SID")?(this.o=3,Va(12)):(this.o=0,Va(13)),Oh(this),qf(this)}}}catch{}},pn.mb=function(){if(this.g){var n=Qu(this.g),e=this.g.ja();this.C<e.length&&(gy(this),NC(this,n,e),this.i&&4!=n&&zf(this))}},pn.cancel=function(){this.J=!0,Oh(this)},pn.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function tw(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(xh(),Va(17)),Oh(this),this.o=2,qf(this)):rw(this,this.Y-n)};var Xv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ba){this.h=n.h,e0(this,n.j),this.s=n.s,this.g=n.g,Wf(this,n.m),this.l=n.l;var e=n.i,t=new Cg;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),nd(this,t),this.o=n.o}else n&&(e=String(n).match(Xv))?(this.h=!1,e0(this,e[1]||"",!0),this.s=bg(e[2]||""),this.g=bg(e[3]||"",!0),Wf(this,e[4]),this.l=bg(e[5]||"",!0),nd(this,e[6]||"",!0),this.o=bg(e[7]||"")):(this.h=!1,this.i=new Cg(null,this.h))}function bl(n){return new ba(n)}function e0(n,e,t){n.j=t?bg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Wf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function nd(n,e,t){e instanceof Cg?(n.i=e,function uw(n,e){e&&!n.j&&(Tl(n),n.i=null,n.g.forEach(function(t,i){var a=i.toLowerCase();i!=a&&(ow(this,i),_y(this,a,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Tg(e,eA)),n.i=new Cg(e,n.h))}function Di(n,e,t){n.i.set(e,t)}function yy(n){return Di(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function bg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Tg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,t0),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function t0(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ba.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Tg(e,Wc,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Tg(e,Wc,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Tg(t,"/"==t.charAt(0)?UC:sw,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Tg(t,Jo)),n.join("")};var Wc=/[#\/\?@]/g,sw=/[#\?:]/g,UC=/[#\?]/g,eA=/[#\?@]/g,Jo=/#/g;function Cg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Tl(n){n.g||(n.g=new Map,n.h=0,n.i&&function iw(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),a=null;if(0<=i){var c=n[t].substring(0,i);a=n[t].substring(i+1)}else c=n[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ow(n,e){Tl(n),e=Ph(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function aw(n,e){return Tl(n),e=Ph(n,e),n.g.has(e)}function _y(n,e,t){ow(n,e),0<t.length&&(n.i=null,n.g.set(Ph(n,e),ug(t)),n.h+=t.length)}function Ph(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function n0(n){this.l=n||cw,n=vr.PerformanceNavigationTiming?0<(n=vr.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(vr.g&&vr.g.Ka&&vr.g.Ka()&&vr.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(pn=Cg.prototype).add=function(n,e){Tl(this),this.i=null,n=Ph(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},pn.forEach=function(n,e){Tl(this),this.g.forEach(function(t,i){t.forEach(function(a){n.call(e,a,i,this)},this)},this)},pn.ta=function(){Tl(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const a=n[i];for(let c=0;c<a.length;c++)t.push(e[i])}return t},pn.Z=function(n){Tl(this);let e=[];if("string"==typeof n)aw(this,n)&&(e=e.concat(this.g.get(Ph(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},pn.set=function(n,e){return Tl(this),this.i=null,aw(this,n=Ph(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},pn.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},pn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const c=encodeURIComponent(String(i)),h=this.Z(i);for(i=0;i<h.length;i++){var a=c;""!==h[i]&&(a+="="+encodeURIComponent(String(h[i]))),n.push(a)}}return this.i=n.join("&")};var cw=10;function lw(n){return!!n.h||!!n.g&&n.g.size>=n.j}function r0(n){return n.h?1:n.g?n.g.size:0}function vy(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Ey(n,e){n.g?n.g.add(e):n.h=e}function Rh(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Cl(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return ug(n.i)}n0.prototype.cancel=function(){if(this.i=Cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Zf=class{stringify(n){return vr.JSON.stringify(n,void 0)}parse(n){return vr.JSON.parse(n,void 0)}};function BC(){this.g=new Zf}function $C(n,e,t){const i=t||"";try{FC(n,function(a,c){let h=a;bh(a)&&(h=Gv(a)),e.push(i+c+"="+encodeURIComponent(h))})}catch(a){throw e.push(i+"type="+encodeURIComponent("_badmap")),a}}function Dg(n,e,t,i,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(i)}catch{}}function Nh(n){this.l=n.fc||null,this.j=n.ob||!1}function Vd(n,e){$o.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Kf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qo(Nh,Wv),Nh.prototype.g=function(){return new Vd(this.l,this.j)},Nh.prototype.i=function(n){return function(){return n}}({}),Qo(Vd,$o);var Kf=0;function s0(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Yf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Sg(n)}function Sg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(pn=Vd.prototype).open=function(n,e){if(this.readyState!=Kf)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Sg(this)},pn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||vr).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},pn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yf(this)),this.readyState=Kf},pn.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Sg(this)),this.g&&(this.readyState=3,Sg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof vr.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;s0(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},pn.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Yf(this):Sg(this),3==this.readyState&&s0(this)}},pn.Za=function(n){this.g&&(this.response=this.responseText=n,Yf(this))},pn.Ya=function(n){this.g&&(this.response=n,Yf(this))},pn.ka=function(){this.g&&Yf(this)},pn.setRequestHeader=function(n,e){this.v.append(n,e)},pn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},pn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Vd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var jC=vr.JSON.parse;function qs(n){$o.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=hw,this.L=this.M=!1}Qo(qs,$o);var hw="",fw=/^https?$/i,tA=["POST","PUT"];function GC(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,zC(n),Ag(n)}function zC(n){n.F||(n.F=!0,jo(n,"complete"),jo(n,"error"))}function o0(n){if(n.h&&typeof GI<"u"&&(!n.C[1]||4!=Qu(n)||2!=n.da()))if(n.v&&4==Qu(n))_g(n.La,0,n);else if(jo(n,"readystatechange"),4==Qu(n)){n.h=!1;try{const h=n.da();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===h){var a=String(n.I).match(Xv)[1]||null;!a&&vr.self&&vr.self.location&&(a=vr.self.location.protocol.slice(0,-1)),i=!fw.test(a?a.toLowerCase():"")}t=i}if(t)jo(n,"complete"),jo(n,"success");else{n.m=6;try{var c=2<Qu(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.da()+"]",zC(n)}}finally{Ag(n)}}}function Ag(n,e){if(n.g){qC(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||jo(n,"ready");try{t.onreadystatechange=i}catch{}}}function qC(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(vr.clearTimeout(n.A),n.A=null)}function Qu(n){return n.g?n.g.readyState:0}function a0(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case hw:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function gw(n){let e="";return Qm(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function Iy(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=gw(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Di(n,e,t))}function Qf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function gr(n){this.Ga=0,this.j=[],this.l=new vg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Qf("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Qf("baseRetryDelayMs",5e3,n),this.hb=Qf("retryDelaySeedMs",1e4,n),this.eb=Qf("forwardChannelMaxRetries",2,n),this.xa=Qf("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new n0(n&&n.concurrentRequestLimit),this.Ja=new BC,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function wy(n){if(kh(n),3==n.H){var e=n.W++,t=bl(n.I);if(Di(t,"SID",n.K),Di(t,"RID",e),Di(t,"TYPE","terminate"),Dl(n,t),(e=new wg(n,n.l,e)).L=2,e.v=yy(bl(t)),t=!1,vr.navigator&&vr.navigator.sendBeacon)try{t=vr.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&vr.Image&&((new Image).src=e.v,t=!0),t||(e.g=c0(e.l,null),e.g.ha(e.v)),e.G=Date.now(),zf(e)}mw(n)}function Mg(n){n.g&&(Pg(n),n.g.cancel(),n.g=null)}function kh(n){Mg(n),n.u&&(vr.clearTimeout(n.u),n.u=null),Xf(n),n.i.cancel(),n.m&&("number"==typeof n.m&&vr.clearTimeout(n.m),n.m=null)}function xg(n){if(!lw(n.i)&&!n.m){n.m=!0;var e=n.Na;Sh||ry(),wl||(Sh(),wl=!0),mg.add(e,n),n.C=0}}function Og(n,e){var t;t=e?e.m:n.W++;const i=bl(n.I);Di(i,"SID",n.K),Di(i,"RID",t),Di(i,"AID",n.V),Dl(n,i),n.o&&n.s&&Iy(i,n.o,n.s),t=new wg(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=by(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Ey(n.i,t),hy(t,i,e)}function Dl(n,e){n.na&&Qm(n.na,function(t,i){Di(e,i,t)}),n.h&&FC({},function(t,i){Di(e,i,t)})}function by(n,e,t){t=Math.min(n.j.length,t);var i=n.h?Ua(n.h.Va,n.h,n):null;e:{var a=n.j;let c=-1;for(;;){const h=["count="+t];-1==c?0<t?(c=a[0].g,h.push("ofs="+c)):c=0:h.push("ofs="+c);let w=!0;for(let N=0;N<t;N++){let j=a[N].g;const ne=a[N].map;if(j-=c,0>j)c=Math.max(0,a[N].g-100),w=!1;else try{$C(ne,h,"req"+j+"_")}catch{i&&i(ne)}}if(w){i=h.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function Jf(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Sh||ry(),wl||(Sh(),wl=!0),mg.add(e,n),n.A=0}}function Ty(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Ld(Ua(n.Ma,n),Dy(n,n.A)),n.A++,0))}function Pg(n){null!=n.B&&(vr.clearTimeout(n.B),n.B=null)}function Cy(n){n.g=new wg(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=bl(n.wa);Di(e,"RID","rpc"),Di(e,"SID",n.K),Di(e,"AID",n.V),Di(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Di(e,"TO",n.qa),Di(e,"TYPE","xmlhttp"),Dl(n,e),n.o&&n.s&&Iy(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=yy(bl(e)),t.s=null,t.S=!0,Jv(t,n)}function Xf(n){null!=n.v&&(vr.clearTimeout(n.v),n.v=null)}function u0(n,e){var t=null;if(n.g==e){Xf(n),Pg(n),n.g=null;var i=2}else{if(!vy(n.i,e))return;t=e.F,Rh(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=n.C;jo(i=uy(),new cy(i,t)),xg(n)}else Jf(n);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==i&&function WC(n,e){return!(r0(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Ld(Ua(n.Na,n,e),Dy(n,n.C)),n.C++,0)))}(n,e)||2==i&&Ty(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:Lh(n,5);break;case 4:Lh(n,10);break;case 3:Lh(n,6);break;default:Lh(n,2)}}function Dy(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Lh(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=Ua(n.pb,n);t||(t=new ba("//www.google.com/images/cleardot.gif"),vr.location&&"http"==vr.location.protocol||e0(t,"https"),yy(t)),function dw(n,e){const t=new vg;if(vr.Image){const i=new Image;i.onload=qm(Dg,t,i,"TestLoadImage: loaded",!0,e),i.onerror=qm(Dg,t,i,"TestLoadImage: error",!1,e),i.onabort=qm(Dg,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=qm(Dg,t,i,"TestLoadImage: timeout",!1,e),vr.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Va(2);n.H=0,n.h&&n.h.za(e),mw(n),kh(n)}function mw(n){if(n.H=0,n.ma=[],n.h){const e=Cl(n.i);(0!=e.length||0!=n.j.length)&&(WI(n.ma,e),WI(n.ma,n.j),n.i.i.length=0,ug(n.j),n.j.length=0),n.h.ya()}}function yw(n,e,t){var i=t instanceof ba?bl(t):new ba(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Wf(i,i.m);else{var a=vr.location;i=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new ba(null);i&&e0(c,i),e&&(c.g=e),a&&Wf(c,a),t&&(c.l=t),i=c}return e=n.Da,(t=n.F)&&e&&Di(i,t,e),Di(i,"VER",n.ra),Dl(n,i),i}function c0(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new qs(t&&n.Ha&&!n.va?new Nh({ob:!0}):n.va)).Oa(n.J),e}function _w(){}function Sy(){if(Bf&&!(10<=Number(YI)))throw Error("Environmental error: no available transport.")}function Ju(n,e){$o.call(this),this.g=new gr(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!cg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!cg(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Fh(this)}function vw(n){Gf.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function l0(){Kv.call(this),this.status=1}function Fh(n){this.g=n}function Zc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function iu(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)i[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)i[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=n.g[3],h=(e=n.g[0])+(c^(t=n.g[1])&((a=n.g[2])^c))+i[0]+3614090360&4294967295;h=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=t+(h<<7&4294967295|h>>>25))+((h=c+(a^e&(t^a))+i[1]+3905402710&4294967295)<<12&4294967295|h>>>20))+((h=a+(t^c&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|h>>>15))+((h=t+(e^a&(c^e))+i[3]+3250441966&4294967295)<<22&4294967295|h>>>10))+((h=e+(c^t&(a^c))+i[4]+4118548399&4294967295)<<7&4294967295|h>>>25))+((h=c+(a^e&(t^a))+i[5]+1200080426&4294967295)<<12&4294967295|h>>>20))+((h=a+(t^c&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|h>>>15))+((h=t+(e^a&(c^e))+i[7]+4249261313&4294967295)<<22&4294967295|h>>>10))+((h=e+(c^t&(a^c))+i[8]+1770035416&4294967295)<<7&4294967295|h>>>25))+((h=c+(a^e&(t^a))+i[9]+2336552879&4294967295)<<12&4294967295|h>>>20))+((h=a+(t^c&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|h>>>15))+((h=t+(e^a&(c^e))+i[11]+2304563134&4294967295)<<22&4294967295|h>>>10))+((h=e+(c^t&(a^c))+i[12]+1804603682&4294967295)<<7&4294967295|h>>>25))+((h=c+(a^e&(t^a))+i[13]+4254626195&4294967295)<<12&4294967295|h>>>20))+((h=a+(t^c&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|h>>>15))+((h=t+(e^a&(c^e))+i[15]+1236535329&4294967295)<<22&4294967295|h>>>10))+((h=e+(a^c&(t^a))+i[1]+4129170786&4294967295)<<5&4294967295|h>>>27))+((h=c+(t^a&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|h>>>23))+((h=a+(e^t&(c^e))+i[11]+643717713&4294967295)<<14&4294967295|h>>>18))+((h=t+(c^e&(a^c))+i[0]+3921069994&4294967295)<<20&4294967295|h>>>12))+((h=e+(a^c&(t^a))+i[5]+3593408605&4294967295)<<5&4294967295|h>>>27))+((h=c+(t^a&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|h>>>23))+((h=a+(e^t&(c^e))+i[15]+3634488961&4294967295)<<14&4294967295|h>>>18))+((h=t+(c^e&(a^c))+i[4]+3889429448&4294967295)<<20&4294967295|h>>>12))+((h=e+(a^c&(t^a))+i[9]+568446438&4294967295)<<5&4294967295|h>>>27))+((h=c+(t^a&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|h>>>23))+((h=a+(e^t&(c^e))+i[3]+4107603335&4294967295)<<14&4294967295|h>>>18))+((h=t+(c^e&(a^c))+i[8]+1163531501&4294967295)<<20&4294967295|h>>>12))+((h=e+(a^c&(t^a))+i[13]+2850285829&4294967295)<<5&4294967295|h>>>27))+((h=c+(t^a&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|h>>>23))+((h=a+(e^t&(c^e))+i[7]+1735328473&4294967295)<<14&4294967295|h>>>18))+((h=t+(c^e&(a^c))+i[12]+2368359562&4294967295)<<20&4294967295|h>>>12))+((h=e+(t^a^c)+i[5]+4294588738&4294967295)<<4&4294967295|h>>>28))+((h=c+(e^t^a)+i[8]+2272392833&4294967295)<<11&4294967295|h>>>21))+((h=a+(c^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|h>>>16))+((h=t+(a^c^e)+i[14]+4259657740&4294967295)<<23&4294967295|h>>>9))+((h=e+(t^a^c)+i[1]+2763975236&4294967295)<<4&4294967295|h>>>28))+((h=c+(e^t^a)+i[4]+1272893353&4294967295)<<11&4294967295|h>>>21))+((h=a+(c^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|h>>>16))+((h=t+(a^c^e)+i[10]+3200236656&4294967295)<<23&4294967295|h>>>9))+((h=e+(t^a^c)+i[13]+681279174&4294967295)<<4&4294967295|h>>>28))+((h=c+(e^t^a)+i[0]+3936430074&4294967295)<<11&4294967295|h>>>21))+((h=a+(c^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|h>>>16))+((h=t+(a^c^e)+i[6]+76029189&4294967295)<<23&4294967295|h>>>9))+((h=e+(t^a^c)+i[9]+3654602809&4294967295)<<4&4294967295|h>>>28))+((h=c+(e^t^a)+i[12]+3873151461&4294967295)<<11&4294967295|h>>>21))+((h=a+(c^e^t)+i[15]+530742520&4294967295)<<16&4294967295|h>>>16))+((h=t+(a^c^e)+i[2]+3299628645&4294967295)<<23&4294967295|h>>>9))+((h=e+(a^(t|~c))+i[0]+4096336452&4294967295)<<6&4294967295|h>>>26))+((h=c+(t^(e|~a))+i[7]+1126891415&4294967295)<<10&4294967295|h>>>22))+((h=a+(e^(c|~t))+i[14]+2878612391&4294967295)<<15&4294967295|h>>>17))+((h=t+(c^(a|~e))+i[5]+4237533241&4294967295)<<21&4294967295|h>>>11))+((h=e+(a^(t|~c))+i[12]+1700485571&4294967295)<<6&4294967295|h>>>26))+((h=c+(t^(e|~a))+i[3]+2399980690&4294967295)<<10&4294967295|h>>>22))+((h=a+(e^(c|~t))+i[10]+4293915773&4294967295)<<15&4294967295|h>>>17))+((h=t+(c^(a|~e))+i[1]+2240044497&4294967295)<<21&4294967295|h>>>11))+((h=e+(a^(t|~c))+i[8]+1873313359&4294967295)<<6&4294967295|h>>>26))+((h=c+(t^(e|~a))+i[15]+4264355552&4294967295)<<10&4294967295|h>>>22))+((h=a+(e^(c|~t))+i[6]+2734768916&4294967295)<<15&4294967295|h>>>17))+((h=t+(c^(a|~e))+i[13]+1309151649&4294967295)<<21&4294967295|h>>>11))+((c=(e=t+((h=e+(a^(t|~c))+i[4]+4149444226&4294967295)<<6&4294967295|h>>>26))+((h=c+(t^(e|~a))+i[11]+3174756917&4294967295)<<10&4294967295|h>>>22))^((a=c+((h=a+(e^(c|~t))+i[2]+718787259&4294967295)<<15&4294967295|h>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(a+(h<<21&4294967295|h>>>11))&4294967295,n.g[2]=n.g[2]+a&4294967295,n.g[3]=n.g[3]+c&4294967295}function Si(n,e){this.h=e;for(var t=[],i=!0,a=n.length-1;0<=a;a--){var c=0|n[a];i&&c==e||(t[a]=c,i=!1)}this.g=t}(pn=qs.prototype).Oa=function(n){this.M=n},pn.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Fd.g(),this.C=function Zv(n){return n.h||(n.h=n.i())}(this.u?this.u:Fd),this.g.onreadystatechange=Ua(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(c){return void GC(this,c)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var a in i)t.set(a,i[a]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const c of i.keys())t.set(c,i.get(c))}i=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=vr.FormData&&n instanceof vr.FormData,!(0<=Nv(tA,e))||i||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,h]of t)this.g.setRequestHeader(c,h);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{qC(this),0<this.B&&((this.L=function HC(n){return Bf&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ua(this.ua,this)):this.A=_g(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){GC(this,c)}},pn.ua=function(){typeof GI<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jo(this,"timeout"),this.abort(8))},pn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,jo(this,"complete"),jo(this,"abort"),Ag(this))},pn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ag(this,!0)),qs.$.N.call(this)},pn.La=function(){this.s||(this.G||this.v||this.l?o0(this):this.kb())},pn.kb=function(){o0(this)},pn.isActive=function(){return!!this.g},pn.da=function(){try{return 2<Qu(this)?this.g.status:-1}catch{return-1}},pn.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},pn.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),jC(e)}},pn.Ia=function(){return this.m},pn.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(pn=gr.prototype).ra=8,pn.H=1,pn.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const a=new wg(this,this.l,n);let c=this.s;if(this.U&&(c?(c=QI(c),fg(c,this.U)):c=this.U),null!==this.o||this.O||(a.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=by(this,a,e),Di(t=bl(this.I),"RID",n),Di(t,"CVER",22),this.F&&Di(t,"X-HTTP-Session-Id",this.F),Dl(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(gw(c)))+"&"+e:this.o&&Iy(t,this.o,c)),Ey(this.i,a),this.bb&&Di(t,"TYPE","init"),this.P?(Di(t,"$req",e),Di(t,"SID","null"),a.aa=!0,hy(a,t,null)):hy(a,t,e),this.H=2}}else 3==this.H&&(n?Og(this,n):0==this.j.length||lw(this.i)||Og(this))},pn.Ma=function(){if(this.u=null,Cy(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Ld(Ua(this.jb,this),n)}},pn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Va(10),Mg(this),Cy(this))},pn.ib=function(){null!=this.v&&(this.v=null,Mg(this),Ty(this),Va(19))},pn.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Va(2)):(this.l.info("Failed to ping google.com"),Va(1))},pn.isActive=function(){return!!this.h&&this.h.isActive(this)},(pn=_w.prototype).Ba=function(){},pn.Aa=function(){},pn.za=function(){},pn.ya=function(){},pn.isActive=function(){return!0},pn.Va=function(){},Sy.prototype.g=function(n,e){return new Ju(n,e)},Qo(Ju,$o),Ju.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Va(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=yw(n,null,n.Y),xg(n)},Ju.prototype.close=function(){wy(this.g)},Ju.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Gv(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&xg(e)},Ju.prototype.N=function(){this.g.h=null,delete this.j,wy(this.g),delete this.g,Ju.$.N.call(this)},Qo(vw,Gf),Qo(l0,Kv),Qo(Fh,_w),Fh.prototype.Ba=function(){jo(this.g,"a")},Fh.prototype.Aa=function(n){jo(this.g,new vw(n))},Fh.prototype.za=function(n){jo(this.g,new l0)},Fh.prototype.ya=function(){jo(this.g,"b")},Qo(Zc,function ZC(){this.blockSize=-1}),Zc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Zc.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,a=this.h,c=0;c<e;){if(0==a)for(;c<=t;)iu(this,n,c),c+=this.blockSize;if("string"==typeof n){for(;c<e;)if(i[a++]=n.charCodeAt(c++),a==this.blockSize){iu(this,i),a=0;break}}else for(;c<e;)if(i[a++]=n[c++],a==this.blockSize){iu(this,i),a=0;break}}this.h=a,this.i+=e},Zc.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var KC={};function Ew(n){return-128<=n&&128>n?function _C(n,e){var t=KC;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Si([0|e],0>e?-1:0)}):new Si([0|n],0>n?-1:0)}function Ac(n){if(isNaN(n)||!isFinite(n))return ep;if(0>n)return Ho(Ac(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=h0;return new Si(e,0)}var h0=4294967296,ep=Ew(0),f0=Ew(1),p0=Ew(16777216);function rd(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Mc(n){return-1==n.h}function Ho(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Si(t,~n.h).add(f0)}function Ay(n,e){return n.add(Ho(e))}function My(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Rg(n,e){this.g=n,this.h=e}function xy(n,e){if(rd(e))throw Error("division by zero");if(rd(n))return new Rg(ep,ep);if(Mc(n))return e=xy(Ho(n),e),new Rg(Ho(e.g),Ho(e.h));if(Mc(e))return e=xy(n,Ho(e)),new Rg(Ho(e.g),e.h);if(30<n.g.length){if(Mc(n)||Mc(e))throw Error("slowDivide_ only works with positive integers.");for(var t=f0,i=e;0>=i.X(n);)t=Iw(t),i=Iw(i);var a=su(t,1),c=su(i,1);for(i=su(i,2),t=su(t,2);!rd(i);){var h=c.add(i);0>=h.X(n)&&(a=a.add(t),c=h),i=su(i,1),t=su(t,1)}return e=Ay(n,a.R(e)),new Rg(a,e)}for(a=ep;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),h=(c=Ac(t)).R(e);Mc(h)||0<h.X(n);)h=(c=Ac(t-=i)).R(e);rd(c)&&(c=f0),a=a.add(c),n=Ay(n,h)}return new Rg(a,n)}function Iw(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Si(t,n.h)}function su(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,a=[],c=0;c<i;c++)a[c]=0<e?n.D(c+t)>>>e|n.D(c+t+1)<<32-e:n.D(c+t);return new Si(a,n.h)}(pn=Si.prototype).ea=function(){if(Mc(this))return-Ho(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:h0+i)*e,e*=h0}return n},pn.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(rd(this))return"0";if(Mc(this))return"-"+Ho(this).toString(n);for(var e=Ac(Math.pow(n,6)),t=this,i="";;){var a=xy(t,e).g,c=((0<(t=Ay(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(rd(t=a))return c+i;for(;6>c.length;)c="0"+c;i=c+i}},pn.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},pn.X=function(n){return Mc(n=Ay(this,n))?-1:rd(n)?0:1},pn.abs=function(){return Mc(this)?Ho(this):this},pn.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,a=0;a<=e;a++){var c=i+(65535&this.D(a))+(65535&n.D(a)),h=(c>>>16)+(this.D(a)>>>16)+(n.D(a)>>>16);i=h>>>16,t[a]=(h&=65535)<<16|(c&=65535)}return new Si(t,-2147483648&t[t.length-1]?-1:0)},pn.R=function(n){if(rd(this)||rd(n))return ep;if(Mc(this))return Mc(n)?Ho(this).R(Ho(n)):Ho(Ho(this).R(n));if(Mc(n))return Ho(this.R(Ho(n)));if(0>this.X(p0)&&0>n.X(p0))return Ac(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var a=0;a<n.g.length;a++){var c=this.D(i)>>>16,h=65535&this.D(i),w=n.D(a)>>>16,N=65535&n.D(a);t[2*i+2*a]+=h*N,My(t,2*i+2*a),t[2*i+2*a+1]+=c*N,My(t,2*i+2*a+1),t[2*i+2*a+1]+=h*w,My(t,2*i+2*a+1),t[2*i+2*a+2]+=c*w,My(t,2*i+2*a+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Si(t,0)},pn.gb=function(n){return xy(this,n).h},pn.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Si(t,this.h&n.h)},pn.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Si(t,this.h|n.h)},pn.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Si(t,this.h^n.h)},Sy.prototype.createWebChannel=Sy.prototype.g,Ju.prototype.send=Ju.prototype.u,Ju.prototype.open=Ju.prototype.m,Ju.prototype.close=Ju.prototype.close,ly.NO_ERROR=0,ly.TIMEOUT=8,ly.HTTP_ERROR=6,qv.COMPLETE="complete",PC.EventType=Ig,Ig.OPEN="a",Ig.CLOSE="b",Ig.ERROR="c",Ig.MESSAGE="d",$o.prototype.listen=$o.prototype.O,qs.prototype.listenOnce=qs.prototype.P,qs.prototype.getLastError=qs.prototype.Sa,qs.prototype.getLastErrorCode=qs.prototype.Ia,qs.prototype.getStatus=qs.prototype.da,qs.prototype.getResponseJson=qs.prototype.Wa,qs.prototype.getResponseText=qs.prototype.ja,qs.prototype.send=qs.prototype.ha,qs.prototype.setWithCredentials=qs.prototype.Oa,Zc.prototype.digest=Zc.prototype.l,Zc.prototype.reset=Zc.prototype.reset,Zc.prototype.update=Zc.prototype.j,Si.prototype.add=Si.prototype.add,Si.prototype.multiply=Si.prototype.R,Si.prototype.modulo=Si.prototype.gb,Si.prototype.compare=Si.prototype.X,Si.prototype.toNumber=Si.prototype.ea,Si.prototype.toString=Si.prototype.toString,Si.prototype.getBits=Si.prototype.D,Si.fromNumber=Ac,Si.fromString=function d0(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Ho(d0(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ac(Math.pow(e,8)),i=ep,a=0;a<n.length;a+=8){var c=Math.min(8,n.length-a),h=parseInt(n.substring(a,a+c),e);8>c?(c=Ac(Math.pow(e,c)),i=i.R(c).add(Ac(h))):i=(i=i.R(t)).add(Ac(h))}return i};var g0=Cc.createWebChannelTransport=function(){return new Sy},YC=Cc.getStatEventTarget=function(){return uy()},Oy=Cc.ErrorCode=ly,QC=Cc.EventType=qv,ww=Cc.Event=Mh,m0=Cc.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Py=Cc.FetchXmlHttpFactory=Nh,tp=Cc.WebChannel=PC,nA=Cc.XhrIo=qs,bw=Cc.Md5=Zc,Uh=Cc.Integer=Si;const y0="@firebase/firestore";class Go{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Go.UNAUTHENTICATED=new Go(null),Go.GOOGLE_CREDENTIALS=new Go("google-credentials-uid"),Go.FIRST_PARTY=new Go("first-party-uid"),Go.MOCK_USER=new Go("mock-user");let Bd="9.23.0";const Ba=new we.Yd("@firebase/firestore");function _0(){return Ba.logLevel}function Ut(n,...e){if(Ba.logLevel<=we.in.DEBUG){const t=e.map(v0);Ba.debug(`Firestore (${Bd}): ${n}`,...t)}}function ro(n,...e){if(Ba.logLevel<=we.in.ERROR){const t=e.map(v0);Ba.error(`Firestore (${Bd}): ${n}`,...t)}}function xc(n,...e){if(Ba.logLevel<=we.in.WARN){const t=e.map(v0);Ba.warn(`Firestore (${Bd}): ${n}`,...t)}}function v0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Cn(n="Unexpected state"){const e=`FIRESTORE (${Bd}) INTERNAL ASSERTION FAILED: `+n;throw ro(e),new Error(e)}function Mn(n,e){n||Cn()}function an(n,e){return n}const mt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Lt extends de.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Co{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class E0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Go.UNAUTHENTICATED))}shutdown(){}}class eD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Tw{constructor(e){this.t=e,this.currentUser=Go.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let a=this.i;const c=j=>this.i!==a?(a=this.i,t(j)):Promise.resolve();let h=new Co;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Co,e.enqueueRetryable(()=>c(this.currentUser))};const w=()=>{const j=h;e.enqueueRetryable((0,se.Z)(function*(){yield j.promise,yield c(i.currentUser)}))},N=j=>{Ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=j,this.auth.addAuthTokenListener(this.o),w()};this.t.onInit(j=>N(j)),setTimeout(()=>{if(!this.auth){const j=this.t.getImmediate({optional:!0});j?N(j):(Ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Co)}},0),w()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Mn("string"==typeof i.accessToken),new E0(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Mn(null===e||"string"==typeof e),new Go(e)}}class Cw{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=Go.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Ng{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new Cw(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Go.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Dw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sw{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=c=>{null!=c.error&&Ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.T;return this.T=c.token,Ut("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>i(c))};const a=c=>{Ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?a(c):Ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Mn("string"==typeof t.token),this.T=t.token,new Dw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function nD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class Aw{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const a=nD(40);for(let c=0;c<a.length;++c)i.length<20&&a[c]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(a[c]%62))}return i}}function or(n,e){return n<e?-1:n>e?1:0}function np(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}class Ns{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Lt(mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Lt(mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Lt(mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Lt(mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ns.fromMillis(Date.now())}static fromDate(e){return Ns.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Ns(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?or(this.nanoseconds,e.nanoseconds):or(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Hn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Hn(e)}static min(){return new Hn(new Ns(0,0))}static max(){return new Hn(new Ns(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class kg{constructor(e,t,i){void 0===t?t=0:t>e.length&&Cn(),void 0===i?i=e.length-t:i>e.length-t&&Cn(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===kg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof kg?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const c=e.get(a),h=t.get(a);if(c<h)return-1;if(c>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Jr extends kg{construct(e,t,i){return new Jr(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Lt(mt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new Jr(t)}static emptyPath(){return new Jr([])}}const rD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class io extends kg{construct(e,t,i){return new io(e,t,i)}static isValidIdentifier(e){return rD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),io.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new io(["__name__"])}static fromServerFormat(e){const t=[];let i="",a=0;const c=()=>{if(0===i.length)throw new Lt(mt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;a<e.length;){const w=e[a];if("\\"===w){if(a+1===e.length)throw new Lt(mt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const N=e[a+1];if("\\"!==N&&"."!==N&&"`"!==N)throw new Lt(mt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=N,a+=2}else"`"===w?(h=!h,a++):"."!==w||h?(i+=w,a++):(c(),a++)}if(c(),h)throw new Lt(mt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new io(t)}static emptyPath(){return new io([])}}class un{constructor(e){this.path=e}static fromPath(e){return new un(Jr.fromString(e))}static fromName(e){return new un(Jr.fromString(e).popFirst(5))}static empty(){return new un(Jr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Jr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Jr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new un(new Jr(e.slice()))}}function Ow(n){return new Xu(n.readTime,n.key,-1)}class Xu{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Xu(Hn.min(),un.empty(),-1)}static max(){return new Xu(Hn.max(),un.empty(),-1)}}function Ny(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=un.comparator(n.documentKey,e.documentKey),0!==t?t:or(n.largestBatchId,e.largestBatchId))}const w0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Vh(n){return ky.apply(this,arguments)}function ky(){return ky=(0,se.Z)(function*(n){if(n.code!==mt.FAILED_PRECONDITION||n.message!==w0)throw n;Ut("LocalStore","Unexpectedly lost primary lease")}),ky.apply(this,arguments)}class ut{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Cn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ut((i,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ut?t:ut.resolve(t)}catch(t){return ut.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ut.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ut.reject(t)}static resolve(e){return new ut((t,i)=>{t(e)})}static reject(e){return new ut((t,i)=>{i(e)})}static waitFor(e){return new ut((t,i)=>{let a=0,c=0,h=!1;e.forEach(w=>{++a,w.next(()=>{++c,h&&c===a&&t()},N=>i(N))}),h=!0,c===a&&t()})}static or(e){let t=ut.resolve(!1);for(const i of e)t=t.next(a=>a?ut.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,c)=>{i.push(t.call(this,a,c))}),this.waitFor(i)}static mapArray(e,t){return new ut((i,a)=>{const c=e.length,h=new Array(c);let w=0;for(let N=0;N<c;N++){const j=N;t(e[j]).next(ne=>{h[j]=ne,++w,w===c&&i(h)},ne=>a(ne))}})}static doWhile(e,t){return new ut((i,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):i()};c()})}}function Al(n){return"IndexedDbTransactionError"===n.name}let Es=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>i.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function $h(n){return null==n}function Ml(n){return 0===n&&1/n==-1/0}function op(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function xl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ug(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Gi{constructor(e,t){this.comparator=e,this.root=t||ea.EMPTY}insert(e,t){return new Gi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ea.BLACK,null,null))}remove(e){return new Gi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ea.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(0===a)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $d(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $d(this.root,e,this.comparator,!1)}getReverseIterator(){return new $d(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $d(this.root,e,this.comparator,!0)}}class $d{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ea{constructor(e,t,i,a,c){this.key=e,this.value=t,this.color=i??ea.RED,this.left=a??ea.EMPTY,this.right=c??ea.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,c){return new ea(e??this.key,t??this.value,i??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const c=i(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,i),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ea.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return ea.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ea.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ea.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Cn();const e=this.left.check();if(e!==this.right.check())throw Cn();return e+(this.isRed()?0:1)}}ea.EMPTY=null,ea.RED=!0,ea.BLACK=!1,ea.EMPTY=new class{constructor(){this.size=0}get key(){throw Cn()}get value(){throw Cn()}get color(){throw Cn()}get left(){throw Cn()}get right(){throw Cn()}copy(n,e,t,i,a){return this}insert(n,e,t){return new ea(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class os{constructor(e){this.comparator=e,this.data=new Gi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ap(this.data.getIterator())}getIteratorFrom(e){return new ap(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof os)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=i.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new os(this.comparator);return t.data=e,t}}class ap{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Pu{constructor(e){this.fields=e,e.sort(io.comparator)}static empty(){return new Pu([])}unionWith(e){let t=new os(io.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Pu(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return np(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class jw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class oo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new jw("Invalid base64 string: "+a):a}}(e);return new oo(t)}static fromUint8Array(e){const t=function(i){let a="";for(let c=0;c<i.length;++c)a+=String.fromCharCode(i[c]);return a}(e);return new oo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return or(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}oo.EMPTY_BYTE_STRING=new oo("");const Fy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kc(n){if(Mn(!!n),"string"==typeof n){let e=0;const t=Fy.exec(n);if(Mn(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ao(n.seconds),nanos:ao(n.nanos)}}function ao(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function sd(n){return"string"==typeof n?oo.fromBase64String(n):oo.fromUint8Array(n)}function Uy(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function cp(n){const e=n.mapValue.fields.__previous_value__;return Uy(e)?cp(e):e}function Vg(n){const e=Kc(n.mapValue.fields.__local_write_time__.timestampValue);return new Ns(e.seconds,e.nanos)}class Hw{constructor(e,t,i,a,c,h,w,N,j){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=w,this.longPollingOptions=N,this.useFetchStreams=j}}class qh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new qh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof qh&&e.projectId===this.projectId&&e.database===this.database}}const jd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function od(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Uy(n)?4:zw(n)?9007199254740991:10:Cn()}function Yc(n,e){if(n===e)return!0;const t=od(n);if(t!==od(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Vg(n).isEqual(Vg(e));case 3:return function(i,a){if("string"==typeof i.timestampValue&&"string"==typeof a.timestampValue&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const c=Kc(i.timestampValue),h=Kc(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,sd(n.bytesValue).isEqual(sd(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return ao(i.geoPointValue.latitude)===ao(a.geoPointValue.latitude)&&ao(i.geoPointValue.longitude)===ao(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return ao(i.integerValue)===ao(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const c=ao(i.doubleValue),h=ao(a.doubleValue);return c===h?Ml(c)===Ml(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return np(n.arrayValue.values||[],e.arrayValue.values||[],Yc);case 10:return function(i,a){const c=i.mapValue.fields||{},h=a.mapValue.fields||{};if(op(c)!==op(h))return!1;for(const w in c)if(c.hasOwnProperty(w)&&(void 0===h[w]||!Yc(c[w],h[w])))return!1;return!0}(n,e);default:return Cn()}var a}function $g(n,e){return void 0!==(n.values||[]).find(t=>Yc(t,e))}function Hd(n,e){if(n===e)return 0;const t=od(n),i=od(e);if(t!==i)return or(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return or(n.booleanValue,e.booleanValue);case 2:return function(a,c){const h=ao(a.integerValue||a.doubleValue),w=ao(c.integerValue||c.doubleValue);return h<w?-1:h>w?1:h===w?0:isNaN(h)?isNaN(w)?0:-1:1}(n,e);case 3:return Gw(n.timestampValue,e.timestampValue);case 4:return Gw(Vg(n),Vg(e));case 5:return or(n.stringValue,e.stringValue);case 6:return function(a,c){const h=sd(a),w=sd(c);return h.compareTo(w)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const h=a.split("/"),w=c.split("/");for(let N=0;N<h.length&&N<w.length;N++){const j=or(h[N],w[N]);if(0!==j)return j}return or(h.length,w.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const h=or(ao(a.latitude),ao(c.latitude));return 0!==h?h:or(ao(a.longitude),ao(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,c){const h=a.values||[],w=c.values||[];for(let N=0;N<h.length&&N<w.length;++N){const j=Hd(h[N],w[N]);if(j)return j}return or(h.length,w.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===jd.mapValue&&c===jd.mapValue)return 0;if(a===jd.mapValue)return 1;if(c===jd.mapValue)return-1;const h=a.fields||{},w=Object.keys(h),N=c.fields||{},j=Object.keys(N);w.sort(),j.sort();for(let ne=0;ne<w.length&&ne<j.length;++ne){const me=or(w[ne],j[ne]);if(0!==me)return me;const Qe=Hd(h[w[ne]],N[j[ne]]);if(0!==Qe)return Qe}return or(w.length,j.length)}(n.mapValue,e.mapValue);default:throw Cn()}}function Gw(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return or(n,e);const t=Kc(n),i=Kc(e),a=or(t.seconds,i.seconds);return 0!==a?a:or(t.nanos,i.nanos)}function Wh(n){return jg(n)}function jg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const a=Kc(i);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?sd(n.bytesValue).toBase64():"referenceValue"in n?un.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let a="[",c=!0;for(const h of i.values||[])c?c=!1:a+=",",a+=jg(h);return a+"]"}(n.arrayValue):"mapValue"in n?function(i){const a=Object.keys(i.fields||{}).sort();let c="{",h=!0;for(const w of a)h?h=!1:c+=",",c+=`${w}:${jg(i.fields[w])}`;return c+"}"}(n.mapValue):Cn();var e}function Zh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function dp(n){return!!n&&"integerValue"in n}function Gd(n){return!!n&&"arrayValue"in n}function Vy(n){return!!n&&"nullValue"in n}function D0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function By(n){return!!n&&"mapValue"in n}function Hg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return xl(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Hg(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Hg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function zw(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ta{constructor(e){this.value=e}static empty(){return new Ta({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!By(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hg(t)}setAll(e){let t=io.emptyPath(),i={},a=[];e.forEach((h,w)=>{if(!t.isImmediateParentOf(w)){const N=this.getFieldsMap(t);this.applyChanges(N,i,a),i={},a=[],t=w.popLast()}h?i[w.lastSegment()]=Hg(h):a.push(w.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,i,a)}delete(e){const t=this.field(e.popLast());By(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];By(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){xl(t,(a,c)=>e[a]=c);for(const a of i)delete e[a]}clone(){return new Ta(Hg(this.value))}}function qw(n){const e=[];return xl(n.fields,(t,i)=>{const a=new io([t]);if(By(i)){const c=qw(i.mapValue).fields;if(0===c.length)e.push(a);else for(const h of c)e.push(a.child(h))}else e.push(a)}),new Pu(e)}class Xi{constructor(e,t,i,a,c,h,w){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=c,this.data=h,this.documentState=w}static newInvalidDocument(e){return new Xi(e,0,Hn.min(),Hn.min(),Hn.min(),Ta.empty(),0)}static newFoundDocument(e,t,i,a){return new Xi(e,1,t,Hn.min(),i,a,0)}static newNoDocument(e,t){return new Xi(e,2,t,Hn.min(),Hn.min(),Ta.empty(),0)}static newUnknownDocument(e,t){return new Xi(e,3,t,Hn.min(),Hn.min(),Ta.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Hn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ta.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ta.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Hn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Xi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ol{constructor(e,t){this.position=e,this.inclusive=t}}function M0(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const c=e[a],h=n.position[a];if(i=c.field.isKeyField()?un.comparator(un.fromName(h.referenceValue),t.key):Hd(h,t.data.field(c.field)),"desc"===c.dir&&(i*=-1),0!==i)break}return i}function Hy(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Yc(n.position[t],e.position[t]))return!1;return!0}class Kh{constructor(e,t="asc"){this.field=e,this.dir=t}}function mD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class x0{}class zr extends x0{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new Zw(e,t,i):"array-contains"===t?new Qw(e,i):"in"===t?new L0(e,i):"not-in"===t?new Gy(e,i):"array-contains-any"===t?new zd(e,i):new zr(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new Kw(e,i):new Yw(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Hd(t,this.value)):null!==t&&od(this.value)===od(t)&&this.matchesComparison(Hd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Cn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class _i extends x0{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new _i(e,t)}matches(e){return Yh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Yh(n){return"and"===n.op}function P0(n){return function Ww(n){for(const e of n.filters)if(e instanceof _i)return!1;return!0}(n)&&Yh(n)}function Gg(n){if(n instanceof zr)return n.field.canonicalString()+n.op.toString()+Wh(n.value);if(P0(n))return n.filters.map(e=>Gg(e)).join(",");{const e=n.filters.map(t=>Gg(t)).join(",");return`${n.op}(${e})`}}function zg(n,e){return n instanceof zr?(t=n,(i=e)instanceof zr&&t.op===i.op&&t.field.isEqual(i.field)&&Yc(t.value,i.value)):n instanceof _i?function(t,i){return i instanceof _i&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((a,c,h)=>a&&zg(c,i.filters[h]),!0)}(n,e):void Cn();var t,i}function N0(n){return n instanceof zr?`${(e=n).field.canonicalString()} ${e.op} ${Wh(e.value)}`:n instanceof _i?function(e){return e.op.toString()+" {"+e.getFilters().map(N0).join(" ,")+"}"}(n):"Filter";var e}class Zw extends zr{constructor(e,t,i){super(e,t,i),this.key=un.fromName(i.referenceValue)}matches(e){const t=un.comparator(e.key,this.key);return this.matchesComparison(t)}}class Kw extends zr{constructor(e,t){super(e,"in",t),this.keys=k0(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Yw extends zr{constructor(e,t){super(e,"not-in",t),this.keys=k0(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function k0(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>un.fromName(i.referenceValue))}class Qw extends zr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Gd(t)&&$g(t.arrayValue,this.value)}}class L0 extends zr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&$g(this.value.arrayValue,t)}}class Gy extends zr{constructor(e,t){super(e,"not-in",t)}matches(e){if($g(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!$g(this.value.arrayValue,t)}}class zd extends zr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Gd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>$g(this.value.arrayValue,i))}}class yD{constructor(e,t=null,i=[],a=[],c=null,h=null,w=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=c,this.startAt=h,this.endAt=w,this.dt=null}}function F0(n,e=null,t=[],i=[],a=null,c=null,h=null){return new yD(n,e,t,i,a,c,h)}function ad(n){const e=an(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Gg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(a=i).field.canonicalString()+a.dir;var a}).join(","),$h(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Wh(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Wh(i)).join(",")),e.dt=t}return e.dt}function Qc(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!mD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!zg(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Hy(n.startAt,e.startAt)&&Hy(n.endAt,e.endAt)}function hp(n){return un.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class qd{constructor(e,t=null,i=[],a=[],c=null,h="F",w=null,N=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=c,this.limitType=h,this.startAt=w,this.endAt=N,this.wt=null,this._t=null}}function fp(n){return new qd(n)}function U0(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function V0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Ws(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Wy(n){return null!==n.collectionGroup}function Qh(n){const e=an(n);if(null===e.wt){e.wt=[];const t=Ws(e),i=V0(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new Kh(t)),e.wt.push(new Kh(io.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.wt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Kh(io.keyField(),c))}}}return e.wt}function au(n){const e=an(n);if(!e._t)if("F"===e.limitType)e._t=F0(e.path,e.collectionGroup,Qh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of Qh(e))t.push(new Kh(c.field,"desc"===c.dir?"asc":"desc"));const i=e.endAt?new Ol(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Ol(e.startAt.position,e.startAt.inclusive):null;e._t=F0(e.path,e.collectionGroup,t,e.filters,e.limit,i,a)}return e._t}function Zy(n,e){e.getFirstInequalityField(),Ws(n);const t=n.filters.concat([e]);return new qd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ky(n,e,t){return new qd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function pp(n,e){return Qc(au(n),au(e))&&n.limitType===e.limitType}function B0(n){return`${ad(au(n))}|lt:${n.limitType}`}function Wd(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>N0(i)).join(", ")}]`),$h(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(a=i).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Wh(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Wh(i)).join(",")),`Target(${t})`}(au(n))}; limitType=${n.limitType})`}function qg(n,e){return e.isFoundDocument()&&function(t,i){const a=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):un.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,i){for(const a of Qh(t))if(!a.field.isKeyField()&&null===i.data.field(a.field))return!1;return!0}(n,e)&&function(t,i){for(const a of t.filters)if(!a.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(a,c,h){const w=M0(a,c,h);return a.inclusive?w<=0:w<0}(t.startAt,Qh(t),i)||t.endAt&&!function(a,c,h){const w=M0(a,c,h);return a.inclusive?w>=0:w>0}(t.endAt,Qh(t),i)));var t,i}function $0(n){return(e,t)=>{let i=!1;for(const a of Qh(n)){const c=vD(a,e,t);if(0!==c)return c;i=i||a.field.isKeyField()}return 0}}function vD(n,e,t){const i=n.field.isKeyField()?un.comparator(e.key,t.key):function(a,c,h){const w=c.data.field(a),N=h.data.field(a);return null!==w&&null!==N?Hd(w,N):Cn()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Cn()}}class Pl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[a,c]of i)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(void 0===a)return this.inner[i]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return 1===i.length?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){xl(this.inner,(t,i)=>{for(const[a,c]of i)e(a,c)})}isEmpty(){return Ug(this.inner)}size(){return this.innerSize}}const aA=new Gi(un.comparator);function uu(){return aA}const Yy=new Gi(un.comparator);function Ru(...n){let e=Yy;for(const t of n)e=e.insert(t.key,t);return e}function eb(n){let e=Yy;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Rl(){return cu()}function Jc(){return cu()}function cu(){return new Pl(n=>n.toString(),(n,e)=>n.isEqual(e))}const Xc=new Gi(un.comparator),tb=new os(un.comparator);function wr(...n){let e=tb;for(const t of n)e=e.add(t);return e}const ED=new os(or);function nb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ml(e)?"-0":e}}function rb(n){return{integerValue:""+n}}function Qy(n,e){return function jh(n){return"number"==typeof n&&Number.isInteger(n)&&!Ml(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?rb(e):nb(n,e)}class Zd{constructor(){this._=void 0}}function ID(n,e,t){return n instanceof gp?function(i,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Uy(a)&&(a=cp(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):n instanceof Kd?H0(n,e):n instanceof Nl?ob(n,e):function(i,a){const c=sb(i,a),h=G0(c)+G0(i.gt);return dp(c)&&dp(i.gt)?rb(h):nb(i.serializer,h)}(n,e)}function ib(n,e,t){return n instanceof Kd?H0(n,e):n instanceof Nl?ob(n,e):t}function sb(n,e){return n instanceof Jh?dp(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class gp extends Zd{}class Kd extends Zd{constructor(e){super(),this.elements=e}}function H0(n,e){const t=z0(e);for(const i of n.elements)t.some(a=>Yc(a,i))||t.push(i);return{arrayValue:{values:t}}}class Nl extends Zd{constructor(e){super(),this.elements=e}}function ob(n,e){let t=z0(e);for(const i of n.elements)t=t.filter(a=>!Yc(a,i));return{arrayValue:{values:t}}}class Jh extends Zd{constructor(e,t){super(),this.serializer=e,this.gt=t}}function G0(n){return ao(n.integerValue||n.doubleValue)}function z0(n){return Gd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Wg{constructor(e,t){this.field=e,this.transform=t}}class q0{constructor(e,t){this.version=e,this.transformResults=t}}class zi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zi}static exists(e){return new zi(void 0,e)}static updateTime(e){return new zi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class mp{}function W0(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new _p(n.key,zi.none()):new Xh(n.key,n.data,zi.none());{const t=n.data,i=Ta.empty();let a=new os(io.comparator);for(let c of e.fields)if(!a.has(c)){let h=t.field(c);null===h&&c.length>1&&(c=c.popLast(),h=t.field(c)),null===h?i.delete(c):i.set(c,h),a=a.add(c)}return new ud(n.key,i,new Pu(a.toArray()),zi.none())}}function ab(n,e,t){n instanceof Xh?function(i,a,c){const h=i.value.clone(),w=lb(i.fieldTransforms,a,c.transformResults);h.setAll(w),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof ud?function(i,a,c){if(!Zg(i.precondition,a))return void a.convertToUnknownDocument(c.version);const h=lb(i.fieldTransforms,a,c.transformResults),w=a.data;w.setAll(cb(i)),w.setAll(h),a.convertToFoundDocument(c.version,w).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function yp(n,e,t,i){return n instanceof Xh?function(a,c,h,w){if(!Zg(a.precondition,c))return h;const N=a.value.clone(),j=db(a.fieldTransforms,w,c);return N.setAll(j),c.convertToFoundDocument(c.version,N).setHasLocalMutations(),null}(n,e,t,i):n instanceof ud?function(a,c,h,w){if(!Zg(a.precondition,c))return h;const N=db(a.fieldTransforms,w,c),j=c.data;return j.setAll(cb(a)),j.setAll(N),c.convertToFoundDocument(c.version,j).setHasLocalMutations(),null===h?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(ne=>ne.field))}(n,e,t,i):(h=t,Zg(n.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h);var c,h}function ub(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),c=sb(i.transform,a||null);null!=c&&(null===t&&(t=Ta.empty()),t.set(i.field,c))}return t||null}function Z0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&np(t,i,(a,c)=>function wD(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Kd&&i instanceof Kd||t instanceof Nl&&i instanceof Nl?np(t.elements,i.elements,Yc):t instanceof Jh&&i instanceof Jh?Yc(t.gt,i.gt):t instanceof gp&&i instanceof gp);var t,i}(a,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Xh extends mp{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ud extends mp{constructor(e,t,i,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function cb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function lb(n,e,t){const i=new Map;Mn(n.length===t.length);for(let a=0;a<t.length;a++){const c=n[a],h=c.transform,w=e.data.field(c.field);i.set(c.field,ib(h,w,t[a]))}return i}function db(n,e,t){const i=new Map;for(const a of n){const c=a.transform,h=t.data.field(a.field);i.set(a.field,ID(c,h,e))}return i}class _p extends mp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class K0 extends mp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Y0{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&ab(c,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=yp(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=yp(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Jc();return this.mutations.forEach(a=>{const c=e.get(a.key),h=c.overlayedDocument;let w=this.applyToLocalView(h,c.mutatedFields);w=t.has(a.key)?null:w;const N=W0(h,w);null!==N&&i.set(a.key,N),h.isValidDocument()||h.convertToNoDocument(Hn.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),wr())}isEqual(e){return this.batchId===e.batchId&&np(this.mutations,e.mutations,(t,i)=>Z0(t,i))&&np(this.baseMutations,e.baseMutations,(t,i)=>Z0(t,i))}}class Q0{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){Mn(e.mutations.length===i.length);let a=Xc;const c=e.mutations;for(let h=0;h<c.length;h++)a=a.insert(c[h].key,i[h].version);return new Q0(e,t,i,a)}}class J0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class TD{constructor(e,t){this.count=e,this.unchangedNames=t}}var So,Xr;function fb(n){if(void 0===n)return ro("GRPC error has no .code"),mt.UNKNOWN;switch(n){case So.OK:return mt.OK;case So.CANCELLED:return mt.CANCELLED;case So.UNKNOWN:return mt.UNKNOWN;case So.DEADLINE_EXCEEDED:return mt.DEADLINE_EXCEEDED;case So.RESOURCE_EXHAUSTED:return mt.RESOURCE_EXHAUSTED;case So.INTERNAL:return mt.INTERNAL;case So.UNAVAILABLE:return mt.UNAVAILABLE;case So.UNAUTHENTICATED:return mt.UNAUTHENTICATED;case So.INVALID_ARGUMENT:return mt.INVALID_ARGUMENT;case So.NOT_FOUND:return mt.NOT_FOUND;case So.ALREADY_EXISTS:return mt.ALREADY_EXISTS;case So.PERMISSION_DENIED:return mt.PERMISSION_DENIED;case So.FAILED_PRECONDITION:return mt.FAILED_PRECONDITION;case So.ABORTED:return mt.ABORTED;case So.OUT_OF_RANGE:return mt.OUT_OF_RANGE;case So.UNIMPLEMENTED:return mt.UNIMPLEMENTED;case So.DATA_LOSS:return mt.DATA_LOSS;default:return Cn()}}(Xr=So||(So={}))[Xr.OK=0]="OK",Xr[Xr.CANCELLED=1]="CANCELLED",Xr[Xr.UNKNOWN=2]="UNKNOWN",Xr[Xr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xr[Xr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xr[Xr.NOT_FOUND=5]="NOT_FOUND",Xr[Xr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xr[Xr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xr[Xr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xr[Xr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xr[Xr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xr[Xr.ABORTED=10]="ABORTED",Xr[Xr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xr[Xr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xr[Xr.INTERNAL=13]="INTERNAL",Xr[Xr.UNAVAILABLE=14]="UNAVAILABLE",Xr[Xr.DATA_LOSS=15]="DATA_LOSS";class X0{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Jy}static getOrCreateInstance(){return null===Jy&&(Jy=new X0),Jy}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Jy=null;const gb=new Uh([4294967295,4294967295],0);function eE(n){const e=function pb(){return new TextEncoder}().encode(n),t=new bw;return t.update(e),new Uint8Array(t.digest())}function tE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Uh([t,i],0),new Uh([a,c],0)]}class Xy{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new vp(`Invalid padding: ${t}`);if(i<0)throw new vp(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new vp(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new vp(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Uh.fromNumber(this.It)}Et(e,t,i){let a=e.add(t.multiply(Uh.fromNumber(i)));return 1===a.compare(gb)&&(a=new Uh([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=eE(e),[i,a]=tE(t);for(let c=0;c<this.hashCount;c++){const h=this.Et(i,a,c);if(!this.At(h))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new Xy(c,a,t);return i.forEach(w=>h.insert(w)),h}insert(e){if(0===this.It)return;const t=eE(e),[i,a]=tE(t);for(let c=0;c<this.hashCount;c++){const h=this.Et(i,a,c);this.Rt(h)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class vp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ep{constructor(e,t,i,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Ip.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Ep(Hn.min(),a,new Gi(or),uu(),wr())}}class Ip{constructor(e,t,i,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Ip(i,t,wr(),wr(),wr())}}class Kg{constructor(e,t,i,a){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=a}}class nE{constructor(e,t){this.targetId=e,this.Vt=t}}class rE{constructor(e,t,i=oo.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class iE{constructor(){this.St=0,this.Dt=yb(),this.Ct=oo.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=wr(),t=wr(),i=wr();return this.Dt.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Cn()}}),new Ip(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=yb()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class ef{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=uu(),this.zt=mb(),this.Wt=new Gi(or)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:Cn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,a)=>{this.te(a)&&t(a)})}ne(e){var t;const i=e.targetId,a=e.Vt.count,c=this.se(i);if(c){const h=c.target;if(hp(h))if(0===a){const w=new un(h.path);this.Yt(i,w,Xi.newNoDocument(w,Hn.min()))}else Mn(1===a);else{const w=this.ie(i);if(w!==a){const N=this.re(e,w);0!==N&&(this.ee(i),this.Wt=this.Wt.insert(i,2===N?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=X0.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(j,ne,me){var Qe,vt,Bt,fn,_n,br;const Kr={localCacheCount:ne,existenceFilterCount:me.count},Mr=me.unchangedNames;return Mr&&(Kr.bloomFilter={applied:0===j,hashCount:null!==(Qe=Mr?.hashCount)&&void 0!==Qe?Qe:0,bitmapLength:null!==(fn=null===(Bt=null===(vt=Mr?.bits)||void 0===vt?void 0:vt.bitmap)||void 0===Bt?void 0:Bt.length)&&void 0!==fn?fn:0,padding:null!==(br=null===(_n=Mr?.bits)||void 0===_n?void 0:_n.padding)&&void 0!==br?br:0}),Kr}(N,w,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:a}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:c="",padding:h=0},hashCount:w=0}=i;let N,j;try{N=sd(c).toUint8Array()}catch(ne){if(ne instanceof jw)return xc("Decoding the base64 bloom filter in existence filter failed ("+ne.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw ne}try{j=new Xy(N,h,w)}catch(ne){return xc(ne instanceof vp?"BloomFilter error: ":"Applying bloom filter failed: ",ne),1}return 0===j.It?1:a!==t-this.oe(e.targetId,j)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let a=0;return i.forEach(c=>{const h=this.Gt.ue(),w=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;t.vt(w)||(this.Yt(e,c,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((c,h)=>{const w=this.se(h);if(w){if(c.current&&hp(w.target)){const N=new un(w.target.path);null!==this.jt.get(N)||this.ae(h,N)||this.Yt(h,N,Xi.newNoDocument(N,e))}c.Mt&&(t.set(h,c.Ot()),c.Ft())}});let i=wr();this.zt.forEach((c,h)=>{let w=!0;h.forEachWhile(N=>{const j=this.se(N);return!j||"TargetPurposeLimboResolution"===j.purpose||(w=!1,!1)}),w&&(i=i.add(c))}),this.jt.forEach((c,h)=>h.setReadTime(e));const a=new Ep(e,t,this.Wt,this.jt,i);return this.jt=uu(),this.zt=mb(),this.Wt=new Gi(or),a}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new iE,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new os(or),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ut("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new iE),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function mb(){return new Gi(un.comparator)}function yb(){return new Gi(un.comparator)}const wp={asc:"ASCENDING",desc:"DESCENDING"},uA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sE={and:"AND",or:"OR"};class cA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function e_(n,e){return n.useProto3Json||$h(e)?e:{value:e}}function tf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CD(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function bp(n,e){return tf(n,e.toTimestamp())}function uo(n){return Mn(!!n),Hn.fromTimestamp(function(e){const t=Kc(e);return new Ns(t.seconds,t.nanos)}(n))}function oE(n,e){return(t=n,new Jr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function _b(n){const e=Jr.fromString(n);return Mn(Dp(e)),e}function kl(n,e){return oE(n.databaseId,e.path)}function Ll(n,e){const t=_b(e);if(t.get(1)!==n.databaseId.projectId)throw new Lt(mt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Lt(mt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new un(DD(t))}function Tp(n,e){return oE(n.databaseId,e)}function ta(n){return new Jr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function DD(n){return Mn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function aE(n,e,t){return{name:kl(n,e),fields:t.value.mapValue.fields}}function Ib(n,e){return{documents:[Tp(n,e.path)]}}function cE(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Tp(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Tp(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const a=function(N){if(0!==N.length)return lE(_i.create(N,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(N){if(0!==N.length)return N.map(j=>{return{field:cd((ne=j).field),direction:AD(ne.dir)};var ne})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=e_(n,e.limit);var w,N;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt={before:(w=e.startAt).inclusive,values:w.position}),e.endAt&&(t.structuredQuery.endAt={before:!(N=e.endAt).inclusive,values:N.position}),t}function wb(n){let e=function Yg(n){const e=_b(n);return 4===e.length?Jr.emptyPath():DD(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){Mn(1===i);const ne=t.from[0];ne.allDescendants?a=ne.collectionId:e=e.child(ne.collectionId)}let c=[];t.where&&(c=function(ne){const me=bb(ne);return me instanceof _i&&P0(me)?me.getFilters():[me]}(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(ne=>{return new Kh(nf((me=ne).field),function(Qe){switch(Qe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(me.direction));var me}));let w=null;t.limit&&(w=function(ne){let me;return me="object"==typeof ne?ne.value:ne,$h(me)?null:me}(t.limit));let N=null;var ne;t.startAt&&(N=new Ol((ne=t.startAt).values||[],!!ne.before));let j=null;return t.endAt&&(j=function(ne){return new Ol(ne.values||[],!ne.before)}(t.endAt)),function Jw(n,e,t,i,a,c,h,w){return new qd(n,e,t,i,a,c,h,w)}(e,a,h,c,w,"F",N,j)}function bb(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=nf(e.unaryFilter.field);return zr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=nf(e.unaryFilter.field);return zr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=nf(e.unaryFilter.field);return zr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=nf(e.unaryFilter.field);return zr.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Cn()}}(n):void 0!==n.fieldFilter?zr.create(nf((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Cn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return _i.create(e.compositeFilter.filters.map(t=>bb(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Cn()}}(e.compositeFilter.op))}(n):Cn();var e}function AD(n){return wp[n]}function MD(n){return uA[n]}function n_(n){return sE[n]}function cd(n){return{fieldPath:n.canonicalString()}}function nf(n){return io.fromServerFormat(n.fieldPath)}function lE(n){return n instanceof zr?function(e){if("=="===e.op){if(D0(e.value))return{unaryFilter:{field:cd(e.field),op:"IS_NAN"}};if(Vy(e.value))return{unaryFilter:{field:cd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(D0(e.value))return{unaryFilter:{field:cd(e.field),op:"IS_NOT_NAN"}};if(Vy(e.value))return{unaryFilter:{field:cd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cd(e.field),op:MD(e.op),value:e.value}}}(n):n instanceof _i?function(e){const t=e.getFilters().map(i=>lE(i));return 1===t.length?t[0]:{compositeFilter:{op:n_(e.op),filters:t}}}(n):Cn()}function xD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Dp(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ec{constructor(e,t,i,a,c=Hn.min(),h=Hn.min(),w=oo.EMPTY_BYTE_STRING,N=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=w,this.expectedCount=N}withSequenceNumber(e){return new ec(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ec(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ec(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ec(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Tb{constructor(e){this.fe=e}}function dE(n){const e=wb({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Ky(e,e.limit,"L"):e}class Jd{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(ao(e.integerValue));else if("doubleValue"in e){const i=ao(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),Ml(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(sd(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?zw(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Cn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const a of Object.keys(i))this.Te(a,t),this.me(i[a],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const a of i)this.me(a,t)}ve(e,t){this.ye(t,37),un.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Jd.Ve=new Jd;class VD{constructor(){this.rn=new a_}addToCollectionParentIndex(e,t){return this.rn.add(t),ut.resolve()}getCollectionParents(e,t){return ut.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ut.resolve()}deleteFieldIndex(e,t){return ut.resolve()}getDocumentsMatchingTarget(e,t){return ut.resolve(null)}getIndexType(e,t){return ut.resolve(0)}getFieldIndexes(e,t){return ut.resolve([])}getNextCollectionGroupToUpdate(e){return ut.resolve(null)}getMinOffset(e,t){return ut.resolve(Xu.min())}getMinOffsetFromCollectionGroup(e,t){return ut.resolve(Xu.min())}updateCollectionGroup(e,t,i){return ut.resolve()}updateIndexEntries(e,t){return ut.resolve()}}class a_{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new os(Jr.comparator),c=!a.has(i);return this.index[t]=a.add(i),c}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new os(Jr.comparator)).toArray()}}new Uint8Array(0);class ja{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new ja(e,ja.DEFAULT_COLLECTION_PERCENTILE,ja.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ja.DEFAULT_COLLECTION_PERCENTILE=10,ja.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ja.DEFAULT=new ja(41943040,ja.DEFAULT_COLLECTION_PERCENTILE,ja.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ja.DISABLED=new ja(-1,0,0);class eh{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new eh(0)}static Mn(){return new eh(-1)}}class HD{constructor(){this.changes=new Pl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?ut.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class IE{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class h_{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==i&&yp(i.mutation,a,Pu.empty(),Ns.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,wr()).next(()=>i))}getLocalViewOfDocuments(e,t,i=wr()){const a=Rl();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(c=>{let h=Ru();return c.forEach((w,N)=>{h=h.insert(w,N.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=Rl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,wr()))}populateOverlays(e,t,i){const a=[];return i.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((h,w)=>{t.set(h,w)})})}computeViews(e,t,i,a){let c=uu();const h=cu(),w=cu();return t.forEach((N,j)=>{const ne=i.get(j.key);a.has(j.key)&&(void 0===ne||ne.mutation instanceof ud)?c=c.insert(j.key,j):void 0!==ne?(h.set(j.key,ne.mutation.getFieldMask()),yp(ne.mutation,j,ne.mutation.getFieldMask(),Ns.now())):h.set(j.key,Pu.empty())}),this.recalculateAndSaveOverlays(e,c).next(N=>(N.forEach((j,ne)=>h.set(j,ne)),t.forEach((j,ne)=>{var me;return w.set(j,new IE(ne,null!==(me=h.get(j))&&void 0!==me?me:null))}),w))}recalculateAndSaveOverlays(e,t){const i=cu();let a=new Gi((h,w)=>h-w),c=wr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const w of h)w.keys().forEach(N=>{const j=t.get(N);if(null===j)return;let ne=i.get(N)||Pu.empty();ne=w.applyToLocalView(j,ne),i.set(N,ne);const me=(a.get(w.batchId)||wr()).add(N);a=a.insert(w.batchId,me)})}).next(()=>{const h=[],w=a.getReverseIterator();for(;w.hasNext();){const N=w.getNext(),j=N.key,ne=N.value,me=Jc();ne.forEach(Qe=>{if(!c.has(Qe)){const vt=W0(t.get(Qe),i.get(Qe));null!==vt&&me.set(Qe,vt),c=c.add(Qe)}}),h.push(this.documentOverlayCache.saveOverlays(e,j,me))}return ut.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return un.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Wy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var a}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(c=>{const h=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-c.size):ut.resolve(Rl());let w=-1,N=c;return h.next(j=>ut.forEach(j,(ne,me)=>(w<me.largestBatchId&&(w=me.largestBatchId),c.get(ne)?ut.resolve():this.remoteDocumentCache.getEntry(e,ne).next(Qe=>{N=N.insert(ne,Qe)}))).next(()=>this.populateOverlays(e,j,c)).next(()=>this.computeViews(e,N,j,wr())).next(ne=>({batchId:w,changes:eb(ne)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new un(t)).next(i=>{let a=Ru();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const a=t.collectionGroup;let c=Ru();return this.indexManager.getCollectionParents(e,a).next(h=>ut.forEach(h,w=>{const N=(j=t,ne=w.child(a),new qd(ne,null,j.explicitOrderBy.slice(),j.filters.slice(),j.limit,j.limitType,j.startAt,j.endAt));var j,ne;return this.getDocumentsMatchingCollectionQuery(e,N,i).next(j=>{j.forEach((ne,me)=>{c=c.insert(ne,me)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a))).next(c=>{a.forEach((w,N)=>{const j=N.getKey();null===c.get(j)&&(c=c.insert(j,Xi.newInvalidDocument(j)))});let h=Ru();return c.forEach((w,N)=>{const j=a.get(w);void 0!==j&&yp(j.mutation,N,Pu.empty(),Ns.now()),qg(t,N)&&(h=h.insert(w,N))}),h})}}class WD{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ut.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:uo(i.createTime)}),ut.resolve()}getNamedQuery(e,t){return ut.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:dE(i.bundledQuery),readTime:uo(i.readTime)}),ut.resolve();var i}}class Vb{constructor(){this.overlays=new Gi(un.comparator),this.ls=new Map}getOverlay(e,t){return ut.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Rl();return ut.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&i.set(a,c)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,c)=>{this.we(e,t,c)}),ut.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.ls.get(i);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.ls.delete(i)),ut.resolve()}getOverlaysForCollection(e,t,i){const a=Rl(),c=t.length+1,h=new un(t.child("")),w=this.overlays.getIteratorFrom(h);for(;w.hasNext();){const N=w.getNext().value,j=N.getKey();if(!t.isPrefixOf(j.path))break;j.path.length===c&&N.largestBatchId>i&&a.set(N.getKey(),N)}return ut.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let c=new Gi((j,ne)=>j-ne);const h=this.overlays.getIterator();for(;h.hasNext();){const j=h.getNext().value;if(j.getKey().getCollectionGroup()===t&&j.largestBatchId>i){let ne=c.get(j.largestBatchId);null===ne&&(ne=Rl(),c=c.insert(j.largestBatchId,ne)),ne.set(j.getKey(),j)}}const w=Rl(),N=c.getIterator();for(;N.hasNext()&&(N.getNext().value.forEach((j,ne)=>w.set(j,ne)),!(w.size()>=a)););return ut.resolve(w)}we(e,t,i){const a=this.overlays.get(i.key);if(null!==a){const h=this.ls.get(a.largestBatchId).delete(i.key);this.ls.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new J0(t,i));let c=this.ls.get(t);void 0===c&&(c=wr(),this.ls.set(t,c)),this.ls.set(t,c.add(i.key))}}class f_{constructor(){this.fs=new os(na.ds),this.ws=new os(na._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new na(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new na(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new un(new Jr([])),i=new na(t,e),a=new na(t,e+1),c=[];return this.ws.forEachInRange([i,a],h=>{this.ys(h),c.push(h.key)}),c}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new un(new Jr([])),i=new na(t,e),a=new na(t,e+1);let c=wr();return this.ws.forEachInRange([i,a],h=>{c=c.add(h.key)}),c}containsKey(e){const t=new na(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class na{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return un.comparator(e.key,t.key)||or(e.As,t.As)}static _s(e,t){return or(e.As,t.As)||un.comparator(e.key,t.key)}}class Bb{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new os(na.ds)}checkEmpty(e){return ut.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,a){const c=this.vs;this.vs++;const h=new Y0(c,t,i,a);this.mutationQueue.push(h);for(const w of a)this.Rs=this.Rs.add(new na(w.key,c)),this.indexManager.addToCollectionParentIndex(e,w.key.path.popLast());return ut.resolve(h)}lookupMutationBatch(e,t){return ut.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),c=a<0?0:a;return ut.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ut.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ut.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new na(t,0),a=new na(t,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([i,a],h=>{const w=this.Ps(h.As);c.push(w)}),ut.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new os(or);return t.forEach(a=>{const c=new na(a,0),h=new na(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,h],w=>{i=i.add(w.As)})}),ut.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let c=i;un.isDocumentKey(c)||(c=c.child(""));const h=new na(new un(c),0);let w=new os(or);return this.Rs.forEachWhile(N=>{const j=N.key.path;return!!i.isPrefixOf(j)&&(j.length===a&&(w=w.add(N.As)),!0)},h),ut.resolve(this.Vs(w))}Vs(e){const t=[];return e.forEach(i=>{const a=this.Ps(i);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){Mn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return ut.forEach(t.mutations,a=>{const c=new na(a.key,t.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new na(t,0),a=this.Rs.firstAfterOrEqual(i);return ut.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return ut.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class wE{constructor(e){this.Ds=e,this.docs=new Gi(un.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),c=a?a.size:0,h=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ut.resolve(i?i.document.mutableCopy():Xi.newInvalidDocument(t))}getEntries(e,t){let i=uu();return t.forEach(a=>{const c=this.docs.get(a);i=i.insert(a,c?c.document.mutableCopy():Xi.newInvalidDocument(a))}),ut.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let c=uu();const h=t.path,w=new un(h.child("")),N=this.docs.getIteratorFrom(w);for(;N.hasNext();){const{key:j,value:{document:ne}}=N.getNext();if(!h.isPrefixOf(j.path))break;j.path.length>h.length+1||Ny(Ow(ne),i)<=0||(a.has(ne.key)||qg(t,ne))&&(c=c.insert(ne.key,ne.mutableCopy()))}return ut.resolve(c)}getAllFromCollectionGroup(e,t,i,a){Cn()}Cs(e,t){return ut.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new $b(this)}getSize(e){return ut.resolve(this.size)}}class $b extends HD{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(i)}),ut.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class jb{constructor(e){this.persistence=e,this.xs=new Pl(t=>ad(t),Qc),this.lastRemoteSnapshotVersion=Hn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new f_,this.targetCount=0,this.Ms=eh.kn()}forEachTarget(e,t){return this.xs.forEach((i,a)=>t(a)),ut.resolve()}getLastRemoteSnapshotVersion(e){return ut.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ut.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ut.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),ut.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new eh(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ut.resolve()}updateTargetData(e,t){return this.Fn(t),ut.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ut.resolve()}removeTargets(e,t,i){let a=0;const c=[];return this.xs.forEach((h,w)=>{w.sequenceNumber<=t&&null===i.get(w.targetId)&&(this.xs.delete(h),c.push(this.removeMatchingKeysForTargetId(e,w.targetId)),a++)}),ut.waitFor(c).next(()=>a)}getTargetCount(e){return ut.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return ut.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),ut.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(h=>{c.push(a.markPotentiallyOrphaned(e,h))}),ut.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ut.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return ut.resolve(i)}containsKey(e,t){return ut.resolve(this.ks.containsKey(t))}}class p_{constructor(e,t){this.$s={},this.overlays={},this.Os=new Es(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new jb(this),this.indexManager=new VD,this.remoteDocumentCache=new wE(i=>this.referenceDelegate.Ls(i)),this.serializer=new Tb(t),this.qs=new WD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Vb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new Bb(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){Ut("MemoryPersistence","Starting transaction:",e);const a=new Hb(this.Os.next());return this.referenceDelegate.Us(),i(a).next(c=>this.referenceDelegate.Ks(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Gs(e,t){return ut.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class Hb extends oD{constructor(e){super(),this.currentSequenceNumber=e}}class g_{constructor(e){this.persistence=e,this.Qs=new f_,this.js=null}static zs(e){return new g_(e)}get Ws(){if(this.js)return this.js;throw Cn()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),ut.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),ut.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ut.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.Ws.add(c.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ut.forEach(this.Ws,i=>{const a=un.fromPath(i);return this.Hs(e,a).next(c=>{c||t.removeEntry(a,Hn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ut.or([()=>ut.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class qb{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=a}static Li(e,t){let i=wr(),a=wr();for(const c of t.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new qb(e,t.fromCache,i,a)}}class Wb{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,a){return this.Ki(e,t).next(c=>c||this.Gi(e,t,a,i)).next(c=>c||this.Qi(e,t))}Ki(e,t){if(U0(t))return ut.resolve(null);let i=au(t);return this.indexManager.getIndexType(e,i).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=Ky(t,null,"F"),i=au(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(c=>{const h=wr(...c);return this.Ui.getDocuments(e,h).next(w=>this.indexManager.getMinOffset(e,i).next(N=>{const j=this.ji(t,w);return this.zi(t,j,h,N.readTime)?this.Ki(e,Ky(t,null,"F")):this.Wi(e,j,t,N)}))})))}Gi(e,t,i,a){return U0(t)||a.isEqual(Hn.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(c=>{const h=this.ji(t,c);return this.zi(t,h,i,a)?this.Qi(e,t):(_0()<=we.in.DEBUG&&Ut("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Wd(t)),this.Wi(e,h,t,function xw(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Hn.fromTimestamp(1e9===i?new Ns(t+1,0):new Ns(t,i));return new Xu(a,un.empty(),e)}(a,-1)))})}ji(e,t){let i=new os($0(e));return t.forEach((a,c)=>{qg(e,c)&&(i=i.add(c))}),i}zi(e,t,i,a){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Qi(e,t){return _0()<=we.in.DEBUG&&Ut("QueryEngine","Using full collection scan to execute query:",Wd(t)),this.Ui.getDocumentsMatchingQuery(e,t,Xu.min())}Wi(e,t,i,a){return this.Ui.getDocumentsMatchingQuery(e,i,a).next(c=>(t.forEach(h=>{c=c.insert(h.key,h)}),c))}}class KD{constructor(e,t,i,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new Gi(or),this.Yi=new Pl(c=>ad(c),Qc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new h_(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function TE(n,e){return v_.apply(this,arguments)}function v_(){return v_=(0,se.Z)(function*(n,e){const t=an(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(c=>(a=c,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(c=>{const h=[],w=[];let N=wr();for(const j of a){h.push(j.batchId);for(const ne of j.mutations)N=N.add(ne.key)}for(const j of c){w.push(j.batchId);for(const ne of j.mutations)N=N.add(ne.key)}return t.localDocuments.getDocuments(i,N).next(j=>({er:j,removedBatchIds:h,addedBatchIds:w}))})})}),v_.apply(this,arguments)}function CE(n){const e=an(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function QD(n,e){const t=an(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Fp(n,e,t){return af.apply(this,arguments)}function af(){return af=(0,se.Z)(function*(n,e,t){const i=an(n),a=i.Ji.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",c,h=>i.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!Al(h))throw h;Ut("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(a.target)}),af.apply(this,arguments)}function sm(n,e,t){const i=an(n);let a=Hn.min(),c=wr();return i.persistence.runTransaction("Execute query","readonly",h=>function(w,N,j){const ne=an(w),me=ne.Yi.get(j);return void 0!==me?ut.resolve(ne.Ji.get(me)):ne.Bs.getTargetData(N,j)}(i,h,au(e)).next(w=>{if(w)return a=w.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(h,w.targetId).next(N=>{c=N})}).next(()=>i.Hi.getDocumentsMatchingQuery(h,e,t?a:Hn.min(),t?c:wr())).next(w=>(function AE(n,e,t){let i=n.Xi.get(e)||Hn.min();t.forEach((a,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)}),n.Xi.set(e,i)}(i,function Xw(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),w),{documents:w,ir:c})))}class xE{constructor(){this.activeTargetIds=function j0(){return ED}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xb{constructor(){this.Hr=new xE,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new xE,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dA{Yr(e){}shutdown(){}}class eT{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ut("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ut("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let OE=null;function cf(){return null===OE?OE=268435456+Math.round(2147483648*Math.random()):OE++,"0x"+OE.toString(16)}const eS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tS{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ha="WebChannelConnection";class T_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,a,c){const h=cf(),w=this.To(e,t);Ut("RestConnection",`Sending RPC '${e}' ${h}:`,w,i);const N={};return this.Eo(N,a,c),this.Ao(e,w,N,i).then(j=>(Ut("RestConnection",`Received RPC '${e}' ${h}: `,j),j),j=>{throw xc("RestConnection",`RPC '${e}' ${h} failed with error: `,j,"url: ",w,"request:",i),j})}vo(e,t,i,a,c,h){return this.Io(e,t,i,a,c)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Bd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),i&&i.headers.forEach((a,c)=>e[c]=a)}To(e,t){return`${this.mo}/v1/${t}:${eS[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,a){const c=cf();return new Promise((h,w)=>{const N=new nA;N.setWithCredentials(!0),N.listenOnce(QC.COMPLETE,()=>{try{switch(N.getLastErrorCode()){case Oy.NO_ERROR:const ne=N.getResponseJson();Ut(Ha,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(ne)),h(ne);break;case Oy.TIMEOUT:Ut(Ha,`RPC '${e}' ${c} timed out`),w(new Lt(mt.DEADLINE_EXCEEDED,"Request time out"));break;case Oy.HTTP_ERROR:const me=N.getStatus();if(Ut(Ha,`RPC '${e}' ${c} failed with status:`,me,"response text:",N.getResponseText()),me>0){let Qe=N.getResponseJson();Array.isArray(Qe)&&(Qe=Qe[0]);const vt=Qe?.error;if(vt&&vt.status&&vt.message){const Bt=function(fn){const _n=fn.toLowerCase().replace(/_/g,"-");return Object.values(mt).indexOf(_n)>=0?_n:mt.UNKNOWN}(vt.status);w(new Lt(Bt,vt.message))}else w(new Lt(mt.UNKNOWN,"Server responded with status "+N.getStatus()))}else w(new Lt(mt.UNAVAILABLE,"Connection failed."));break;default:Cn()}}finally{Ut(Ha,`RPC '${e}' ${c} completed.`)}});const j=JSON.stringify(a);Ut(Ha,`RPC '${e}' ${c} sending request:`,a),N.send(t,"POST",j,i,15)})}Ro(e,t,i){const a=cf(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=g0(),w=YC(),N={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},j=this.longPollingOptions.timeoutSeconds;void 0!==j&&(N.longPollingTimeout=Math.round(1e3*j)),this.useFetchStreams&&(N.xmlHttpFactory=new Py({})),this.Eo(N.initMessageHeaders,t,i),N.encodeInitMessageHeaders=!0;const ne=c.join("");Ut(Ha,`Creating RPC '${e}' stream ${a}: ${ne}`,N);const me=h.createWebChannel(ne,N);let Qe=!1,vt=!1;const Bt=new tS({ro:_n=>{vt?Ut(Ha,`Not sending because RPC '${e}' stream ${a} is closed:`,_n):(Qe||(Ut(Ha,`Opening RPC '${e}' stream ${a} transport.`),me.open(),Qe=!0),Ut(Ha,`RPC '${e}' stream ${a} sending:`,_n),me.send(_n))},oo:()=>me.close()}),fn=(_n,br,Kr)=>{_n.listen(br,Mr=>{try{Kr(Mr)}catch(Ao){setTimeout(()=>{throw Ao},0)}})};return fn(me,tp.EventType.OPEN,()=>{vt||Ut(Ha,`RPC '${e}' stream ${a} transport opened.`)}),fn(me,tp.EventType.CLOSE,()=>{vt||(vt=!0,Ut(Ha,`RPC '${e}' stream ${a} transport closed`),Bt.wo())}),fn(me,tp.EventType.ERROR,_n=>{vt||(vt=!0,xc(Ha,`RPC '${e}' stream ${a} transport errored:`,_n),Bt.wo(new Lt(mt.UNAVAILABLE,"The operation could not be completed")))}),fn(me,tp.EventType.MESSAGE,_n=>{var br;if(!vt){const Kr=_n.data[0];Mn(!!Kr);const Ao=Kr.error||(null===(br=Kr[0])||void 0===br?void 0:br.error);if(Ao){Ut(Ha,`RPC '${e}' stream ${a} received error:`,Ao);const lo=Ao.status;let qi=function(_f){const mv=So[_f];if(void 0!==mv)return fb(mv)}(lo),hu=Ao.message;void 0===qi&&(qi=mt.INTERNAL,hu="Unknown error status: "+lo+" with message "+Ao.message),vt=!0,Bt.wo(new Lt(qi,hu)),me.close()}else Ut(Ha,`RPC '${e}' stream ${a} received:`,Kr),Bt._o(Kr)}}),fn(w,ww.STAT_EVENT,_n=>{_n.stat===m0.PROXY?Ut(Ha,`RPC '${e}' stream ${a} detected buffering proxy`):_n.stat===m0.NOPROXY&&Ut(Ha,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Bt.fo()},0),Bt}}function C_(){return typeof document<"u"?document:null}function Up(n){return new cA(n,!0)}class Vp{constructor(e,t,i=1e3,a=1.5,c=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=a,this.Vo=c,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-i);a>0&&Ut("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class tT{constructor(e,t,i,a,c,h,w,N){this.ii=e,this.$o=i,this.Oo=a,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=w,this.listener=N,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Vp(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,se.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,se.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,se.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===mt.RESOURCE_EXHAUSTED?(ro(t.toString()),ro("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===mt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.Fo===t&&this.Zo(i,a)},i=>{e(()=>{const a=new Lt(mt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(a)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{i(()=>this.tu(a))}),this.stream.onMessage(a=>{i(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,se.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ut("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ut("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nS extends tT{constructor(e,t,i,a,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,h),this.serializer=c}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function vb(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(N=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===N?1:"REMOVE"===N?2:"CURRENT"===N?3:"RESET"===N?4:Cn(),a=e.targetChange.targetIds||[],c=function(N,j){return N.useProto3Json?(Mn(void 0===j||"string"==typeof j),oo.fromBase64String(j||"")):(Mn(void 0===j||j instanceof Uint8Array),oo.fromUint8Array(j||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,w=h&&function(N){const j=void 0===N.code?mt.UNKNOWN:fb(N.code);return new Lt(j,N.message||"")}(h);t=new rE(i,a,c,w||null)}else if("documentChange"in e){const i=e.documentChange,a=Ll(n,i.document.name),c=uo(i.document.updateTime),h=i.document.createTime?uo(i.document.createTime):Hn.min(),w=new Ta({mapValue:{fields:i.document.fields}}),N=Xi.newFoundDocument(a,c,h,w);t=new Kg(i.targetIds||[],i.removedTargetIds||[],N.key,N)}else if("documentDelete"in e){const i=e.documentDelete,a=Ll(n,i.document),c=i.readTime?uo(i.readTime):Hn.min(),h=Xi.newNoDocument(a,c);t=new Kg([],i.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const i=e.documentRemove,a=Ll(n,i.document);t=new Kg([],i.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Cn();{const i=e.filter,{count:a=0,unchangedNames:c}=i,h=new TD(a,c);t=new nE(i.targetId,h)}}var N;return t}(this.serializer,e),i=function(a){if(!("targetChange"in a))return Hn.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Hn.min():c.readTime?uo(c.readTime):Hn.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=ta(this.serializer),t.addTarget=function(a,c){let h;const w=c.target;if(h=hp(w)?{documents:Ib(a,w)}:{query:cE(a,w)},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=CD(a,c.resumeToken);const N=e_(a,c.expectedCount);null!==N&&(h.expectedCount=N)}else if(c.snapshotVersion.compareTo(Hn.min())>0){h.readTime=tf(a,c.snapshotVersion.toTimestamp());const N=e_(a,c.expectedCount);null!==N&&(h.expectedCount=N)}return h}(this.serializer,e);const i=function Qg(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Cn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=ta(this.serializer),t.removeTarget=e,this.Wo(t)}}class nT extends tT{constructor(e,t,i,a,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,h),this.serializer=c,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Mn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Eb(n,e){return n&&n.length>0?(Mn(void 0!==e),n.map(t=>function(i,a){let c=uo(i.updateTime?i.updateTime:a);return c.isEqual(Hn.min())&&(c=uo(a)),new q0(c,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=uo(e.commitTime);return this.listener.cu(i,t)}return Mn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=ta(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function Cp(n,e){let t;if(e instanceof Xh)t={update:aE(n,e.key,e.value)};else if(e instanceof _p)t={delete:kl(n,e.key)};else if(e instanceof ud)t={update:aE(n,e.key,e.data),updateMask:xD(e.fieldMask)};else{if(!(e instanceof K0))return Cn();t={verify:kl(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,c){const h=c.transform;if(h instanceof gp)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Kd)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Nl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Jh)return{fieldPath:c.field.canonicalString(),increment:h.gt};throw Cn()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:bp(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Cn()),t;var a}(this.serializer,i))};this.Wo(t)}}class rS extends class{}{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new Lt(mt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Io(e,t,i,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Lt(mt.UNKNOWN,a.toString())})}vo(e,t,i,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.vo(e,t,i,c,h,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Lt(mt.UNKNOWN,c.toString())})}terminate(){this.lu=!0}}class S_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ro(t),this.mu=!1):Ut("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class sS{constructor(e,t,i,a,c){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=c,this.Pu.Yr(w=>{i.enqueueAndForget((0,se.Z)(function*(){var N;Fl(h)&&(Ut("RemoteStore","Restarting streams for network reachability change."),yield(N=(0,se.Z)(function*(j){const ne=an(j);ne.vu.add(4),yield lf(ne),ne.bu.set("Unknown"),ne.vu.delete(4),yield um(ne)}),function(j){return N.apply(this,arguments)})(h))}))}),this.bu=new S_(i,a)}}function um(n){return A_.apply(this,arguments)}function A_(){return A_=(0,se.Z)(function*(n){if(Fl(n))for(const e of n.Ru)yield e(!0)}),A_.apply(this,arguments)}function lf(n){return cm.apply(this,arguments)}function cm(){return cm=(0,se.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),cm.apply(this,arguments)}function lm(n,e){const t=an(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),kE(t)?NE(t):pm(t).Ko()&&M_(t,e))}function dm(n,e){const t=an(n),i=pm(t);t.Au.delete(e),i.Ko()&&RE(t,e),0===t.Au.size&&(i.Ko()?i.jo():Fl(t)&&t.bu.set("Unknown"))}function M_(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Hn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}pm(n).su(e)}function RE(n,e){n.Vu.qt(e),pm(n).iu(e)}function NE(n){n.Vu=new ef({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),pm(n).start(),n.bu.gu()}function kE(n){return Fl(n)&&!pm(n).Uo()&&n.Au.size>0}function Fl(n){return 0===an(n).vu.size}function x_(n){n.Vu=void 0}function rT(n){return hm.apply(this,arguments)}function hm(){return hm=(0,se.Z)(function*(n){n.Au.forEach((e,t)=>{M_(n,e)})}),hm.apply(this,arguments)}function LE(n,e){return FE.apply(this,arguments)}function FE(){return FE=(0,se.Z)(function*(n,e){x_(n),kE(n)?(n.bu.Iu(e),NE(n)):n.bu.set("Unknown")}),FE.apply(this,arguments)}function oS(n,e,t){return UE.apply(this,arguments)}function UE(){return UE=(0,se.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof rE&&2===e.state&&e.cause)try{yield(i=(0,se.Z)(function*(a,c){const h=c.cause;for(const w of c.targetIds)a.Au.has(w)&&(yield a.remoteSyncer.rejectListen(w,h),a.Au.delete(w),a.Vu.removeTarget(w))}),function(a,c){return i.apply(this,arguments)})(n,e)}catch(i){Ut("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield O_(n,i)}else if(e instanceof Kg?n.Vu.Ht(e):e instanceof nE?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Hn.min()))try{const i=yield CE(n.localStore);t.compareTo(i)>=0&&(yield function(a,c){const h=a.Vu.ce(c);return h.targetChanges.forEach((w,N)=>{if(w.resumeToken.approximateByteSize()>0){const j=a.Au.get(N);j&&a.Au.set(N,j.withResumeToken(w.resumeToken,c))}}),h.targetMismatches.forEach((w,N)=>{const j=a.Au.get(w);if(!j)return;a.Au.set(w,j.withResumeToken(oo.EMPTY_BYTE_STRING,j.snapshotVersion)),RE(a,w);const ne=new ec(j.target,w,N,j.sequenceNumber);M_(a,ne)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(i){Ut("RemoteStore","Failed to raise snapshot:",i),yield O_(n,i)}var i}),UE.apply(this,arguments)}function O_(n,e,t){return P_.apply(this,arguments)}function P_(){return P_=(0,se.Z)(function*(n,e,t){if(!Al(e))throw e;n.vu.add(1),yield lf(n),n.bu.set("Offline"),t||(t=()=>CE(n.localStore)),n.asyncQueue.enqueueRetryable((0,se.Z)(function*(){Ut("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield um(n)}))}),P_.apply(this,arguments)}function R_(n,e){return e().catch(t=>O_(n,t,e))}function df(n){return VE.apply(this,arguments)}function VE(){return VE=(0,se.Z)(function*(n){const e=an(n),t=hf(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;iT(e);)try{const a=yield QD(e.localStore,i);if(null===a){0===e.Eu.length&&t.jo();break}i=a.batchId,sT(e,a)}catch(a){yield O_(e,a)}oT(e)&&BE(e)}),VE.apply(this,arguments)}function iT(n){return Fl(n)&&n.Eu.length<10}function sT(n,e){n.Eu.push(e);const t=hf(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function oT(n){return Fl(n)&&!hf(n).Uo()&&n.Eu.length>0}function BE(n){hf(n).start()}function aT(n){return $E.apply(this,arguments)}function $E(){return $E=(0,se.Z)(function*(n){hf(n).hu()}),$E.apply(this,arguments)}function uT(n){return N_.apply(this,arguments)}function N_(){return N_=(0,se.Z)(function*(n){const e=hf(n);for(const t of n.Eu)e.uu(t.mutations)}),N_.apply(this,arguments)}function lu(n,e,t){return nh.apply(this,arguments)}function nh(){return nh=(0,se.Z)(function*(n,e,t){const i=n.Eu.shift(),a=Q0.from(i,e,t);yield R_(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield df(n)}),nh.apply(this,arguments)}function aS(n,e){return jE.apply(this,arguments)}function jE(){return jE=(0,se.Z)(function*(n,e){var t;e&&hf(n).ou&&(yield(t=(0,se.Z)(function*(i,a){if(function hb(n){switch(n){default:return Cn();case mt.CANCELLED:case mt.UNKNOWN:case mt.DEADLINE_EXCEEDED:case mt.RESOURCE_EXHAUSTED:case mt.INTERNAL:case mt.UNAVAILABLE:case mt.UNAUTHENTICATED:return!1;case mt.INVALID_ARGUMENT:case mt.NOT_FOUND:case mt.ALREADY_EXISTS:case mt.PERMISSION_DENIED:case mt.FAILED_PRECONDITION:case mt.ABORTED:case mt.OUT_OF_RANGE:case mt.UNIMPLEMENTED:case mt.DATA_LOSS:return!0}}(c=a.code)&&c!==mt.ABORTED){const h=i.Eu.shift();hf(i).Qo(),yield R_(i,()=>i.remoteSyncer.rejectFailedWrite(h.batchId,a)),yield df(i)}var c}),function(i,a){return t.apply(this,arguments)})(n,e)),oT(n)&&BE(n)}),jE.apply(this,arguments)}function uS(n,e){return cT.apply(this,arguments)}function cT(){return cT=(0,se.Z)(function*(n,e){const t=an(n);t.asyncQueue.verifyOperationInProgress(),Ut("RemoteStore","RemoteStore received new credentials");const i=Fl(t);t.vu.add(3),yield lf(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield um(t)}),cT.apply(this,arguments)}function fm(){return fm=(0,se.Z)(function*(n,e){const t=an(n);e?(t.vu.delete(2),yield um(t)):e||(t.vu.add(2),yield lf(t),t.bu.set("Unknown"))}),fm.apply(this,arguments)}function pm(n){return n.Su||(n.Su=function(e,t,i){const a=an(e);return a.fu(),new nS(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{uo:rT.bind(null,n),ao:LE.bind(null,n),nu:oS.bind(null,n)}),n.Ru.push(function(){var e=(0,se.Z)(function*(t){t?(n.Su.Qo(),kE(n)?NE(n):n.bu.set("Unknown")):(yield n.Su.stop(),x_(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function hf(n){return n.Du||(n.Du=function(e,t,i){const a=an(e);return a.fu(),new nT(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{uo:aT.bind(null,n),ao:aS.bind(null,n),au:uT.bind(null,n),cu:lu.bind(null,n)}),n.Ru.push(function(){var e=(0,se.Z)(function*(t){t?(n.Du.Qo(),yield df(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ut("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class lT{constructor(e,t,i,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=c,this.deferred=new Co,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,i,a,c){const h=Date.now()+i,w=new lT(e,t,h,a,c);return w.start(i),w}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Lt(mt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ul(n,e){if(ro("AsyncQueue",`${e}: ${n}`),Al(n))return new Lt(mt.UNAVAILABLE,`${e}: ${n}`);throw n}class Bp{constructor(e){this.comparator=e?(t,i)=>e(t,i)||un.comparator(t.key,i.key):(t,i)=>un.comparator(t.key,i.key),this.keyedMap=Ru(),this.sortedSet=new Gi(this.comparator)}static emptySet(e){return new Bp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bp)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=i.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Bp;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class L_{constructor(){this.Cu=new Gi(un.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Cn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class $p{constructor(e,t,i,a,c,h,w,N,j){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=w,this.excludesMetadataChanges=N,this.hasCachedResults=j}static fromInitialDocuments(e,t,i,a,c){const h=[];return t.forEach(w=>{h.push({type:0,doc:w})}),new $p(e,t,Bp.emptySet(t),h,i,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class dT{constructor(){this.Nu=void 0,this.listeners=[]}}class cS{constructor(){this.queries=new Pl(e=>B0(e),pp),this.onlineState="Unknown",this.ku=new Set}}function HE(n,e){return GE.apply(this,arguments)}function GE(){return GE=(0,se.Z)(function*(n,e){const t=an(n),i=e.query;let a=!1,c=t.queries.get(i);if(c||(a=!0,c=new dT),a)try{c.Nu=yield t.onListen(i)}catch(h){const w=Ul(h,`Initialization of query '${Wd(e.query)}' failed`);return void e.onError(w)}t.queries.set(i,c),c.listeners.push(e),e.Mu(t.onlineState),c.Nu&&e.$u(c.Nu)&&mm(t)}),GE.apply(this,arguments)}function gm(n,e){return F_.apply(this,arguments)}function F_(){return F_=(0,se.Z)(function*(n,e){const t=an(n),i=e.query;let a=!1;const c=t.queries.get(i);if(c){const h=c.listeners.indexOf(e);h>=0&&(c.listeners.splice(h,1),a=0===c.listeners.length)}if(a)return t.queries.delete(i),t.onUnlisten(i)}),F_.apply(this,arguments)}function lS(n,e){const t=an(n);let i=!1;for(const a of e){const h=t.queries.get(a.query);if(h){for(const w of h.listeners)w.$u(a)&&(i=!0);h.Nu=a}}i&&mm(t)}function U_(n,e,t){const i=an(n),a=i.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);i.queries.delete(e)}function mm(n){n.ku.forEach(e=>{e.next()})}class hT{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)3!==a.type&&i.push(a);e=new $p(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=$p.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class mT{constructor(e){this.key=e}}class zE{constructor(e){this.key=e}}class V_{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=wr(),this.mutatedKeys=wr(),this.tc=$0(e),this.ec=new Bp(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new L_,a=t?t.ec:this.ec;let c=t?t.mutatedKeys:this.mutatedKeys,h=a,w=!1;const N="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,j="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((ne,me)=>{const Qe=a.get(ne),vt=qg(this.query,me)?me:null,Bt=!!Qe&&this.mutatedKeys.has(Qe.key),fn=!!vt&&(vt.hasLocalMutations||this.mutatedKeys.has(vt.key)&&vt.hasCommittedMutations);let _n=!1;Qe&&vt?Qe.data.isEqual(vt.data)?Bt!==fn&&(i.track({type:3,doc:vt}),_n=!0):this.rc(Qe,vt)||(i.track({type:2,doc:vt}),_n=!0,(N&&this.tc(vt,N)>0||j&&this.tc(vt,j)<0)&&(w=!0)):!Qe&&vt?(i.track({type:0,doc:vt}),_n=!0):Qe&&!vt&&(i.track({type:1,doc:Qe}),_n=!0,(N||j)&&(w=!0)),_n&&(vt?(h=h.add(vt),c=fn?c.add(ne):c.delete(ne)):(h=h.delete(ne),c=c.delete(ne)))}),null!==this.query.limit)for(;h.size>this.query.limit;){const ne="F"===this.query.limitType?h.last():h.first();h=h.delete(ne.key),c=c.delete(ne.key),i.track({type:1,doc:ne})}return{ec:h,ic:i,zi:w,mutatedKeys:c}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const c=e.ic.xu();c.sort((j,ne)=>function(me,Qe){const vt=Bt=>{switch(Bt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Cn()}};return vt(me)-vt(Qe)}(j.type,ne.type)||this.tc(j.doc,ne.doc)),this.oc(i);const h=t?this.uc():[],w=0===this.Zu.size&&this.current?1:0,N=w!==this.Xu;return this.Xu=w,0!==c.length||N?{snapshot:new $p(this.query,e.ec,a,c,e.mutatedKeys,0===w,N,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:h}:{cc:h}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new L_,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=wr(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new zE(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new mT(i))}),t}hc(e){this.Yu=e.ir,this.Zu=wr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return $p.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class hA{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class dS{constructor(e){this.key=e,this.fc=!1}}class fA{constructor(e,t,i,a,c,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.dc={},this.wc=new Pl(w=>B0(w),pp),this._c=new Map,this.mc=new Set,this.gc=new Gi(un.comparator),this.yc=new Map,this.Ic=new f_,this.Tc={},this.Ec=new Map,this.Ac=eh.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function hS(n,e){return qE.apply(this,arguments)}function qE(){return qE=(0,se.Z)(function*(n,e){const t=function rI(n){const e=an(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JE.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fS.bind(null,e),e.dc.nu=lS.bind(null,e.eventManager),e.dc.Pc=U_.bind(null,e.eventManager),e}(n);let i,a;const c=t.wc.get(e);if(c)i=c.targetId,t.sharedClientState.addLocalQueryTarget(i),a=c.view.lc();else{const h=yield function Lp(n,e){const t=an(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Bs.getTargetData(i,e).next(c=>c?(a=c,ut.resolve(a)):t.Bs.allocateTargetId(i).next(h=>(a=new ec(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Ji.get(i.targetId);return(null===a||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}(t.localStore,au(e)),w=t.sharedClientState.addLocalQueryTarget(h.targetId);i=h.targetId,a=yield function WE(n,e,t,i,a){return B_.apply(this,arguments)}(t,e,i,"current"===w,h.resumeToken),t.isPrimaryClient&&lm(t.remoteStore,h)}return a}),qE.apply(this,arguments)}function B_(){return B_=(0,se.Z)(function*(n,e,t,i,a){n.Rc=(me,Qe,vt)=>{return(Bt=(0,se.Z)(function*(fn,_n,br,Kr){let Mr=_n.view.sc(br);Mr.zi&&(Mr=yield sm(fn.localStore,_n.query,!1).then(({documents:qi})=>_n.view.sc(qi,Mr)));const Ao=Kr&&Kr.targetChanges.get(_n.targetId),lo=_n.view.applyChanges(Mr,fn.isPrimaryClient,Ao);return TT(fn,_n.targetId,lo.cc),lo.snapshot}),function(fn,_n,br,Kr){return Bt.apply(this,arguments)})(n,me,Qe,vt);var Bt};const c=yield sm(n.localStore,e,!0),h=new V_(e,c.ir),w=h.sc(c.documents),N=Ip.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,a),j=h.applyChanges(w,n.isPrimaryClient,N);TT(n,t,j.cc);const ne=new hA(e,t,h);return n.wc.set(e,ne),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),j.snapshot}),B_.apply(this,arguments)}function yT(n,e){return ZE.apply(this,arguments)}function ZE(){return ZE=(0,se.Z)(function*(n,e){const t=an(n),i=t.wc.get(e),a=t._c.get(i.targetId);if(a.length>1)return t._c.set(i.targetId,a.filter(c=>!pp(c,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Fp(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),dm(t.remoteStore,i.targetId),ym(t,i.targetId)}).catch(Vh))):(ym(t,i.targetId),yield Fp(t.localStore,i.targetId,!0))}),ZE.apply(this,arguments)}function $_(){return $_=(0,se.Z)(function*(n,e,t){const i=function iI(n){const e=an(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ET.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IT.bind(null,e),e}(n);try{const a=yield function(c,h){const w=an(c),N=Ns.now(),j=h.reduce((Qe,vt)=>Qe.add(vt.key),wr());let ne,me;return w.persistence.runTransaction("Locally write mutations","readwrite",Qe=>{let vt=uu(),Bt=wr();return w.Zi.getEntries(Qe,j).next(fn=>{vt=fn,vt.forEach((_n,br)=>{br.isValidDocument()||(Bt=Bt.add(_n))})}).next(()=>w.localDocuments.getOverlayedDocuments(Qe,vt)).next(fn=>{ne=fn;const _n=[];for(const br of h){const Kr=ub(br,ne.get(br.key).overlayedDocument);null!=Kr&&_n.push(new ud(br.key,Kr,qw(Kr.value.mapValue),zi.exists(!0)))}return w.mutationQueue.addMutationBatch(Qe,N,_n,h)}).next(fn=>{me=fn;const _n=fn.applyToLocalDocumentSet(ne,Bt);return w.documentOverlayCache.saveOverlays(Qe,fn.batchId,_n)})}).then(()=>({batchId:me.batchId,changes:eb(ne)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,h,w){let N=c.Tc[c.currentUser.toKey()];N||(N=new Gi(or)),N=N.insert(h,w),c.Tc[c.currentUser.toKey()]=N}(i,a.batchId,t),yield rh(i,a.changes),yield df(i.remoteStore)}catch(a){const c=Ul(a,"Failed to persist write");t.reject(c)}}),$_.apply(this,arguments)}function vT(n,e){return KE.apply(this,arguments)}function KE(){return KE=(0,se.Z)(function*(n,e){const t=an(n);try{const i=yield function Kb(n,e){const t=an(n),i=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const w=[];e.targetChanges.forEach((ne,me)=>{const Qe=a.get(me);if(!Qe)return;w.push(t.Bs.removeMatchingKeys(c,ne.removedDocuments,me).next(()=>t.Bs.addMatchingKeys(c,ne.addedDocuments,me)));let vt=Qe.withSequenceNumber(c.currentSequenceNumber);var Bt,fn,_n;null!==e.targetMismatches.get(me)?vt=vt.withResumeToken(oo.EMPTY_BYTE_STRING,Hn.min()).withLastLimboFreeSnapshotVersion(Hn.min()):ne.resumeToken.approximateByteSize()>0&&(vt=vt.withResumeToken(ne.resumeToken,i)),a=a.insert(me,vt),fn=vt,_n=ne,(0===(Bt=Qe).resumeToken.approximateByteSize()||fn.snapshotVersion.toMicroseconds()-Bt.snapshotVersion.toMicroseconds()>=3e8||_n.addedDocuments.size+_n.modifiedDocuments.size+_n.removedDocuments.size>0)&&w.push(t.Bs.updateTargetData(c,vt))});let N=uu(),j=wr();if(e.documentUpdates.forEach(ne=>{e.resolvedLimboDocuments.has(ne)&&w.push(t.persistence.referenceDelegate.updateLimboDocument(c,ne))}),w.push(function Yb(n,e,t){let i=wr(),a=wr();return t.forEach(c=>i=i.add(c)),e.getEntries(n,i).next(c=>{let h=uu();return t.forEach((w,N)=>{const j=c.get(w);N.isFoundDocument()!==j.isFoundDocument()&&(a=a.add(w)),N.isNoDocument()&&N.version.isEqual(Hn.min())?(e.removeEntry(w,N.readTime),h=h.insert(w,N)):!j.isValidDocument()||N.version.compareTo(j.version)>0||0===N.version.compareTo(j.version)&&j.hasPendingWrites?(e.addEntry(N),h=h.insert(w,N)):Ut("LocalStore","Ignoring outdated watch update for ",w,". Current version:",j.version," Watch version:",N.version)}),{nr:h,sr:a}})}(c,h,e.documentUpdates).next(ne=>{N=ne.nr,j=ne.sr})),!i.isEqual(Hn.min())){const ne=t.Bs.getLastRemoteSnapshotVersion(c).next(me=>t.Bs.setTargetsMetadata(c,c.currentSequenceNumber,i));w.push(ne)}return ut.waitFor(w).next(()=>h.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,N,j)).next(()=>N)}).then(c=>(t.Ji=a,c))}(t.localStore,e);e.targetChanges.forEach((a,c)=>{const h=t.yc.get(c);h&&(Mn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.fc=!0:a.modifiedDocuments.size>0?Mn(h.fc):a.removedDocuments.size>0&&(Mn(h.fc),h.fc=!1))}),yield rh(t,i,e)}catch(i){yield Vh(i)}}),KE.apply(this,arguments)}function YE(n,e,t){const i=an(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const a=[];i.wc.forEach((c,h)=>{const w=h.view.Mu(e);w.snapshot&&a.push(w.snapshot)}),function(c,h){const w=an(c);w.onlineState=h;let N=!1;w.queries.forEach((j,ne)=>{for(const me of ne.listeners)me.Mu(h)&&(N=!0)}),N&&mm(w)}(i.eventManager,e),a.length&&i.dc.nu(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function fS(n,e,t){return j_.apply(this,arguments)}function j_(){return j_=(0,se.Z)(function*(n,e,t){const i=an(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.yc.get(e),c=a&&a.key;if(c){let h=new Gi(un.comparator);h=h.insert(c,Xi.newNoDocument(c,Hn.min()));const w=wr().add(c),N=new Ep(Hn.min(),new Map,new Gi(or),h,w);yield vT(i,N),i.gc=i.gc.remove(c),i.yc.delete(e),CT(i)}else yield Fp(i.localStore,e,!1).then(()=>ym(i,e,t)).catch(Vh)}),j_.apply(this,arguments)}function ET(n,e){return H_.apply(this,arguments)}function H_(){return H_=(0,se.Z)(function*(n,e){const t=an(n),i=e.batch.batchId;try{const a=yield function YD(n,e){const t=an(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),c=t.Zi.newChangeBuffer({trackRemovals:!0});return function(h,w,N,j){const ne=N.batch,me=ne.keys();let Qe=ut.resolve();return me.forEach(vt=>{Qe=Qe.next(()=>j.getEntry(w,vt)).next(Bt=>{const fn=N.docVersions.get(vt);Mn(null!==fn),Bt.version.compareTo(fn)<0&&(ne.applyToRemoteDocument(Bt,N),Bt.isValidDocument()&&(Bt.setReadTime(N.commitVersion),j.addEntry(Bt)))})}),Qe.next(()=>h.mutationQueue.removeMutationBatch(w,ne))}(t,i,e,c).next(()=>c.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let w=wr();for(let N=0;N<h.mutationResults.length;++N)h.mutationResults[N].transformResults.length>0&&(w=w.add(h.batch.mutations[N].key));return w}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}(t.localStore,e);bT(t,i,null),G_(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield rh(t,a)}catch(a){yield Vh(a)}}),H_.apply(this,arguments)}function IT(n,e,t){return QE.apply(this,arguments)}function QE(){return QE=(0,se.Z)(function*(n,e,t){const i=an(n);try{const a=yield function(c,h){const w=an(c);return w.persistence.runTransaction("Reject batch","readwrite-primary",N=>{let j;return w.mutationQueue.lookupMutationBatch(N,h).next(ne=>(Mn(null!==ne),j=ne.keys(),w.mutationQueue.removeMutationBatch(N,ne))).next(()=>w.mutationQueue.performConsistencyCheck(N)).next(()=>w.documentOverlayCache.removeOverlaysForBatchId(N,j,h)).next(()=>w.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(N,j)).next(()=>w.localDocuments.getDocuments(N,j))})}(i.localStore,e);bT(i,e,t),G_(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield rh(i,a)}catch(a){yield Vh(a)}}),QE.apply(this,arguments)}function G_(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function bT(n,e,t){const i=an(n);let a=i.Tc[i.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),i.Tc[i.currentUser.toKey()]=a}}function ym(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||gS(n,i)})}function gS(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(dm(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),CT(n))}function TT(n,e,t){for(const i of t)i instanceof mT?(n.Ic.addReference(i.key,e),pA(n,i)):i instanceof zE?(Ut("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||gS(n,i.key)):Cn()}function pA(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(Ut("SyncEngine","New document in limbo: "+t),n.mc.add(i),CT(n))}function CT(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new un(Jr.fromString(e)),i=n.Ac.next();n.yc.set(i,new dS(t)),n.gc=n.gc.insert(t,i),lm(n.remoteStore,new ec(au(fp(t.path)),i,"TargetPurposeLimboResolution",Es.ct))}}function rh(n,e,t){return DT.apply(this,arguments)}function DT(){return DT=(0,se.Z)(function*(n,e,t){const i=an(n),a=[],c=[],h=[];var w;i.wc.isEmpty()||(i.wc.forEach((w,N)=>{h.push(i.Rc(N,e,t).then(j=>{if((j||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(N.targetId,j?.fromCache?"not-current":"current"),j){a.push(j);const ne=qb.Li(N.targetId,j);c.push(ne)}}))}),yield Promise.all(h),i.dc.nu(a),yield(w=(0,se.Z)(function*(N,j){const ne=an(N);try{yield ne.persistence.runTransaction("notifyLocalViewChanges","readwrite",me=>ut.forEach(j,Qe=>ut.forEach(Qe.Fi,vt=>ne.persistence.referenceDelegate.addReference(me,Qe.targetId,vt)).next(()=>ut.forEach(Qe.Bi,vt=>ne.persistence.referenceDelegate.removeReference(me,Qe.targetId,vt)))))}catch(me){if(!Al(me))throw me;Ut("LocalStore","Failed to update sequence numbers: "+me)}for(const me of j){const Qe=me.targetId;if(!me.fromCache){const vt=ne.Ji.get(Qe),fn=vt.withLastLimboFreeSnapshotVersion(vt.snapshotVersion);ne.Ji=ne.Ji.insert(Qe,fn)}}}),function(N,j){return w.apply(this,arguments)})(i.localStore,c))}),DT.apply(this,arguments)}function gA(n,e){return z_.apply(this,arguments)}function z_(){return z_=(0,se.Z)(function*(n,e){const t=an(n);if(!t.currentUser.isEqual(e)){Ut("SyncEngine","User change. New user:",e.toKey());const i=yield TE(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(h=>{h.forEach(w=>{w.reject(new Lt(mt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield rh(t,i.er)}var a}),z_.apply(this,arguments)}function JE(n,e){const t=an(n),i=t.yc.get(e);if(i&&i.fc)return wr().add(i.key);{let a=wr();const c=t._c.get(e);if(!c)return a;for(const h of c){const w=t.wc.get(h);a=a.unionWith(w.view.nc)}return a}}class K_{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,se.Z)(function*(){t.serializer=Up(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function Zb(n,e,t,i){return new KD(n,e,t,i)}(this.persistence,new Wb,e.initialUser,this.serializer)}createPersistence(e){return new p_(g_.zs,this.serializer)}createSharedClientState(e){return new Xb}terminate(){var e=this;return(0,se.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class jp{initialize(e,t){var i=this;return(0,se.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=a=>YE(i.syncEngine,a,1),i.remoteStore.remoteSyncer.handleCredentialChange=gA.bind(null,i.syncEngine),yield function k_(n,e){return fm.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new cS}createDatastore(e){const t=Up(e.databaseInfo.databaseId),i=new T_(e.databaseInfo);return new rS(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,a=e.asyncQueue,c=w=>YE(this.syncEngine,w,0),h=eT.D()?new eT:new dA,new sS(t,i,a,c,h);var t,i,a,c,h}createSyncEngine(e,t){return function(i,a,c,h,w,N,j){const ne=new fA(i,a,c,h,w,N);return j&&(ne.vc=!0),ne}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,se.Z)(function*(t){const i=an(t);Ut("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield lf(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class Q_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ro("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class bS{constructor(e,t,i,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=Go.UNAUTHENTICATED,this.clientId=Aw.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var h=(0,se.Z)(function*(w){Ut("FirestoreClient","Received user=",w.uid),yield c.authCredentialListener(w),c.user=w});return function(w){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(i,h=>(Ut("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}getConfiguration(){var e=this;return(0,se.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Lt(mt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Co;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,se.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Ul(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function J_(n,e){return sI.apply(this,arguments)}function sI(){return sI=(0,se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ut("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,se.Z)(function*(c){i.isEqual(c)||(yield TE(e.localStore,c),i=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),sI.apply(this,arguments)}function oI(n,e){return X_.apply(this,arguments)}function X_(){return X_=(0,se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function aI(n){return uI.apply(this,arguments)}(n);Ut("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(a=>uS(e.remoteStore,a)),n.setAppCheckTokenChangeListener((a,c)=>uS(e.remoteStore,c)),n._onlineComponents=e}),X_.apply(this,arguments)}function uI(){return uI=(0,se.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ut("FirestoreClient","Using user provided OfflineComponentProvider");try{yield J_(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function ev(n){return"FirebaseError"===n.name?n.code===mt.FAILED_PRECONDITION||n.code===mt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;xc("Error using user provided cache. Falling back to memory cache: "+t),yield J_(n,new K_)}}else Ut("FirestoreClient","Using default OfflineComponentProvider"),yield J_(n,new K_);return n._offlineComponents}),uI.apply(this,arguments)}function _m(n){return tv.apply(this,arguments)}function tv(){return tv=(0,se.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ut("FirestoreClient","Using user provided OnlineComponentProvider"),yield oI(n,n._uninitializedComponentsProvider._online)):(Ut("FirestoreClient","Using default OnlineComponentProvider"),yield oI(n,new jp))),n._onlineComponents}),tv.apply(this,arguments)}function gf(n){return lI.apply(this,arguments)}function lI(){return lI=(0,se.Z)(function*(n){const e=yield _m(n),t=e.eventManager;return t.onListen=hS.bind(null,e.syncEngine),t.onUnlisten=yT.bind(null,e.syncEngine),t}),lI.apply(this,arguments)}function FT(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const UT=new Map;function iv(n,e,t){if(!t)throw new Lt(mt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function fI(n){if(!un.isDocumentKey(n))throw new Lt(mt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function VT(n){if(un.isDocumentKey(n))throw new Lt(mt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vm(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Cn()}function ei(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Lt(mt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vm(n);throw new Lt(mt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class pI{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Lt(mt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Lt(mt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function vA(n,e,t,i){if(!0===e&&!0===i)throw new Lt(mt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=FT(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new Lt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Lt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Lt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hp{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Lt(mt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Lt(mt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pI(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new XC;switch(t.type){case"firstParty":return new Ng(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Lt(mt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=UT.get(e);t&&(Ut("ComponentProvider","Removing Datastore"),UT.delete(e),t.terminate())}(this),Promise.resolve()}}class Zs{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new du(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zs(this.firestore,e,this._key)}}class ra{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ra(this.firestore,e,this._query)}}class du extends ra{constructor(e,t,i){super(e,t,fp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zs(this.firestore,null,new un(e))}withConverter(e){return new du(this.firestore,e,this._path)}}function ov(n,e,...t){if(n=(0,de.m9)(n),iv("collection","path",e),n instanceof Hp){const i=Jr.fromString(e,...t);return VT(i),new du(n,null,i)}{if(!(n instanceof Zs||n instanceof du))throw new Lt(mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Jr.fromString(e,...t));return VT(i),new du(n.firestore,null,i)}}function gI(n,e,...t){if(n=(0,de.m9)(n),1===arguments.length&&(e=Aw.A()),iv("doc","path",e),n instanceof Hp){const i=Jr.fromString(e,...t);return fI(i),new Zs(n,null,new un(i))}{if(!(n instanceof Zs||n instanceof du))throw new Lt(mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Jr.fromString(e,...t));return fI(i),new Zs(n.firestore,n instanceof du?n.converter:null,new un(i))}}class IA{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Vp(this,"async_queue_retry"),this.Xc=()=>{const t=C_();t&&Ut("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=C_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=C_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Co;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,se.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Al(t))throw t;Ut("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,ro("INTERNAL UNHANDLED ERROR: ",function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),h}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=lT.createAndSchedule(this,e,t,i,c=>this.na(c));return this.zc.push(a),a}Zc(){this.Wc&&Cn()}verifyOperationInProgress(){}sa(){var e=this;return(0,se.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Is extends Hp{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new IA,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||$T(this),this._firestoreClient.terminate()}}function bA(n,e){const t="object"==typeof n?n:(0,_e.Mq)(),i="string"==typeof n?n:e||"(default)",a=(0,_e.qX)(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const c=(0,de.P0)("firestore");c&&function SS(n,e,t,i={}){var a;const c=(n=ei(n,Hp))._getSettings(),h=`${e}:${t}`;if("firestore.googleapis.com"!==c.host&&c.host!==h&&xc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},c),{host:h,ssl:!1})),i.mockUserToken){let w,N;if("string"==typeof i.mockUserToken)w=i.mockUserToken,N=Go.MOCK_USER;else{w=(0,de.Sg)(i.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const j=i.mockUserToken.sub||i.mockUserToken.user_id;if(!j)throw new Lt(mt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new Go(j)}n._authCredentials=new eD(new E0(w,N))}}(a,...c)}return a}function co(n){return n._firestoreClient||$T(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function $T(n){var e,t,i;const a=n._freezeSettings(),c=(w=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Hw(n._databaseId,w,n._persistenceKey,(j=a).host,j.ssl,j.experimentalForceLongPolling,j.experimentalAutoDetectLongPolling,FT(j.experimentalLongPollingOptions),j.useFetchStreams));var w,j;n._firestoreClient=new bS(n._authCredentials,n._appCheckCredentials,n._queue,c),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=a.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}class sh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sh(oo.fromBase64String(e))}catch(t){throw new Lt(mt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new sh(oo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class oh{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Lt(mt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new io(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Em{constructor(e){this._methodName=e}}class Im{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Lt(mt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Lt(mt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return or(this._lat,e._lat)||or(this._long,e._long)}}const yI=/^__.*__$/;class uv{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new ud(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xh(e,this.data,t,this.fieldTransforms)}}class OS{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ud(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function PS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Cn()}}class _I{constructor(e,t,i,a,c,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,void 0===c&&this.ua(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new _I(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:i,la:!1});return a.fa(e),a}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:i,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return hv(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(PS(this.ca)&&yI.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class GT{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Up(e)}ya(e,t,i,a=!1){return new _I({ca:e,methodName:t,ga:i,path:io.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zp(n){const e=n._freezeSettings(),t=Up(n._databaseId);return new GT(n._databaseId,!!e.ignoreUndefinedProperties,t)}function vI(n,e,t,i,a,c={}){const h=n.ya(c.merge||c.mergeFields?2:0,e,t,a);wI("Data must be an object, but it was:",h,i);const w=II(i,h);let N,j;if(c.merge)N=new Pu(h.fieldMask),j=h.fieldTransforms;else if(c.mergeFields){const ne=[];for(const me of c.mergeFields){const Qe=bm(e,me,t);if(!h.contains(Qe))throw new Lt(mt.INVALID_ARGUMENT,`Field '${Qe}' is specified in your field mask but missing from your input data.`);KT(ne,Qe)||ne.push(Qe)}N=new Pu(ne),j=h.fieldTransforms.filter(me=>N.covers(me.field))}else N=null,j=h.fieldTransforms;return new uv(new Ta(w),N,j)}class wm extends Em{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wm}}function zT(n,e,t){return new _I({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class qT extends Em{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=zT(this,e,!0),i=this.pa.map(c=>qp(c,t)),a=new Kd(i);return new Wg(e.path,a)}isEqual(e){return this===e}}class WT extends Em{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=zT(this,e,!0),i=this.pa.map(c=>qp(c,t)),a=new Nl(i);return new Wg(e.path,a)}isEqual(e){return this===e}}function lv(n,e,t,i=!1){return qp(t,n.ya(i?4:3,e))}function qp(n,e){if(dv(n=(0,de.m9)(n)))return wI("Unsupported field value:",e,n),II(n,e);if(n instanceof Em)return function(t,i){if(!PS(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const a=[];let c=0;for(const h of t){let w=qp(h,i.wa(c));null==w&&(w={nullValue:"NULL_VALUE"}),a.push(w),c++}return{arrayValue:{values:a}}}(n,e)}return function(t,i){if(null===(t=(0,de.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Qy(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Ns.fromDate(t);return{timestampValue:tf(i.serializer,a)}}if(t instanceof Ns){const a=new Ns(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:tf(i.serializer,a)}}if(t instanceof Im)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof sh)return{bytesValue:CD(i.serializer,t._byteString)};if(t instanceof Zs){const a=i.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw i._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:oE(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${vm(t)}`)}(n,e)}function II(n,e){const t={};return Ug(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xl(n,(i,a)=>{const c=qp(a,e.ha(i));null!=c&&(t[i]=c)}),{mapValue:{fields:t}}}function dv(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ns||n instanceof Im||n instanceof sh||n instanceof Zs||n instanceof Em)}function wI(n,e,t){if(!dv(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=vm(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function bm(n,e,t){if((e=(0,de.m9)(e))instanceof oh)return e._internalPath;if("string"==typeof e)return bI(n,e);throw hv("Field path arguments must be of type string or ",n,!1,void 0,t)}const AA=new RegExp("[~\\*/\\[\\]]");function bI(n,e,t){if(e.search(AA)>=0)throw hv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new oh(...e.split("."))._internalPath}catch{throw hv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function hv(n,e,t,i,a){const c=i&&!i.isEmpty(),h=void 0!==a;let w=`Function ${e}() called with invalid data`;t&&(w+=" (via `toFirestore()`)"),w+=". ";let N="";return(c||h)&&(N+=" (found",c&&(N+=` in field ${i}`),h&&(N+=` in document ${a}`),N+=")"),new Lt(mt.INVALID_ARGUMENT,w+n+N)}function KT(n,e){return n.some(t=>t.isEqual(e))}class TI{constructor(e,t,i,a,c){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Zs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new NS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Tm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class NS extends TI{data(){return super.data()}}function Tm(n,e){return"string"==typeof e?bI(n,e):e instanceof oh?e._internalPath:e._delegate._internalPath}class DI{}class Cm extends DI{}function YT(n,e,...t){let i=[];e instanceof DI&&i.push(e),i=i.concat(t),function(a){const c=a.filter(w=>w instanceof ah).length,h=a.filter(w=>w instanceof fv).length;if(c>1||c>0&&h>0)throw new Lt(mt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class fv extends Cm{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new fv(e,t,i)}_apply(e){const t=this._parse(e);return jS(e._query,t),new ra(e.firestore,e.converter,Zy(e._query,t))}_parse(e){const t=zp(e.firestore);return function(a,c,h,w,N,j,ne){let me;if(N.isKeyField()){if("array-contains"===j||"array-contains-any"===j)throw new Lt(mt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${j}' queries on documentId().`);if("in"===j||"not-in"===j){JT(ne,j);const Qe=[];for(const vt of ne)Qe.push(QT(w,a,vt));me={arrayValue:{values:Qe}}}else me=QT(w,a,ne)}else"in"!==j&&"not-in"!==j&&"array-contains-any"!==j||JT(ne,j),me=lv(h,"where",ne,"in"===j||"not-in"===j);return zr.create(N,j,me)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function kS(n,e,t){const i=e,a=Tm("where",n);return fv._create(a,i,t)}class ah extends DI{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ah(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:_i.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,a){let c=i;const h=a.getFlattenedFilters();for(const w of h)jS(c,w),c=Zy(c,w)}(e._query,t),new ra(e.firestore,e.converter,Zy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class SI extends Cm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new SI(e,t)}_apply(e){const t=function(i,a,c){if(null!==i.startAt)throw new Lt(mt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Lt(mt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new Kh(a,c);return function(w,N){if(null===V0(w)){const j=Ws(w);null!==j&&HS(0,j,N.field)}}(i,h),h}(e._query,this._field,this._direction);return new ra(e.firestore,e.converter,function(i,a){const c=i.explicitOrderBy.concat([a]);return new qd(i.path,i.collectionGroup,c,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function pv(n,e="asc"){const t=e,i=Tm("orderBy",n);return SI._create(i,t)}class gv extends Cm{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new gv(e,t,i)}_apply(e){return new ra(e.firestore,e.converter,Ky(e._query,this._limit,this._limitType))}}function US(n){return function sv(n,e){if(e<=0)throw new Lt(mt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}("limit",n),gv._create("limit",n,"F")}class Dm extends Cm{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Dm(e,t,i)}_apply(e){const t=function $S(n,e,t,i){if(t[0]=(0,de.m9)(t[0]),t[0]instanceof TI)return function(a,c,h,w,N){if(!w)throw new Lt(mt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const j=[];for(const ne of Qh(a))if(ne.field.isKeyField())j.push(Zh(c,w.key));else{const me=w.data.field(ne.field);if(Uy(me))throw new Lt(mt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ne.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===me){const Qe=ne.field.canonicalString();throw new Lt(mt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Qe}' (used as the orderBy) does not exist.`)}j.push(me)}return new Ol(j,N)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const a=zp(n.firestore);return function(c,h,w,N,j,ne){const me=c.explicitOrderBy;if(j.length>me.length)throw new Lt(mt.INVALID_ARGUMENT,`Too many arguments provided to ${N}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Qe=[];for(let vt=0;vt<j.length;vt++){const Bt=j[vt];if(me[vt].field.isKeyField()){if("string"!=typeof Bt)throw new Lt(mt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${N}(), but got a ${typeof Bt}`);if(!Wy(c)&&-1!==Bt.indexOf("/"))throw new Lt(mt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${N}() must be a plain document ID, but '${Bt}' contains a slash.`);const fn=c.path.child(Jr.fromString(Bt));if(!un.isDocumentKey(fn))throw new Lt(mt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${N}() must result in a valid document path, but '${fn}' is not because it contains an odd number of segments.`);const _n=new un(fn);Qe.push(Zh(h,_n))}else{const fn=lv(w,N,Bt);Qe.push(fn)}}return new Ol(Qe,ne)}(n._query,n.firestore._databaseId,a,e,t,i)}}(e,this.type,this._docOrFields,this._inclusive);return new ra(e.firestore,e.converter,(a=t,new qd((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)));var i,a}}function BS(...n){return Dm._create("startAfter",n,!1)}function QT(n,e,t){if("string"==typeof(t=(0,de.m9)(t))){if(""===t)throw new Lt(mt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wy(e)&&-1!==t.indexOf("/"))throw new Lt(mt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Jr.fromString(t));if(!un.isDocumentKey(i))throw new Lt(mt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Zh(n,new un(i))}if(t instanceof Zs)return Zh(n,t._key);throw new Lt(mt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vm(t)}.`)}function JT(n,e){if(!Array.isArray(n)||0===n.length)throw new Lt(mt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jS(n,e){if(e.isInequality()){const i=Ws(n),a=e.field;if(null!==i&&!i.isEqual(a))throw new Lt(mt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${a.toString()}'`);const c=V0(n);null!==c&&HS(0,a,c)}const t=function(i,a){for(const c of i)for(const h of c.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Lt(mt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function HS(n,e,t){if(!t.isEqual(e))throw new Lt(mt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class xA{convertValue(e,t="none"){switch(od(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ao(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(sd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Cn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return xl(e,(a,c)=>{i[a]=this.convertValue(c,t)}),i}convertGeoPoint(e){return new Im(ao(e.latitude),ao(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=cp(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Vg(e));default:return null}}convertTimestamp(e){const t=Kc(e);return new Ns(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Jr.fromString(e);Mn(Dp(i));const a=new qh(i.get(1),i.get(3)),c=new un(i.popFirst(5));return a.isEqual(t)||ro(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function XT(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class yf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sm extends TI{constructor(e,t,i,a,c,h){super(e,t,i,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new r(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Tm("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class r extends Sm{data(e={}){return super.data(e)}}class s{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new yf(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new r(this._firestore,this._userDataWriter,i.key,i,new yf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Lt(mt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map(h=>({type:"added",doc:new r(i._firestore,i._userDataWriter,h.doc.key,h.doc,new yf(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:c++}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(h=>a||3!==h.type).map(h=>{const w=new r(i._firestore,i._userDataWriter,h.doc.key,h.doc,new yf(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let N=-1,j=-1;return 0!==h.type&&(N=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),1!==h.type&&(c=c.add(h.doc),j=c.indexOf(h.doc.key)),{type:o(h.type),doc:w,oldIndex:N,newIndex:j}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function o(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Cn()}}function l(n){n=ei(n,Zs);const e=ei(n.firestore,Is);return function rv(n,e,t={}){const i=new Co;return n.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return function(a,c,h,w,N){const j=new Q_({next:me=>{c.enqueueAndForget(()=>gm(a,ne));const Qe=me.docs.has(h);!Qe&&me.fromCache?N.reject(new Lt(mt.UNAVAILABLE,"Failed to get document because the client is offline.")):Qe&&me.fromCache&&w&&"server"===w.source?N.reject(new Lt(mt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):N.resolve(me)},error:me=>N.reject(me)}),ne=new hT(fp(h.path),j,{includeMetadataChanges:!0,Ku:!0});return HE(a,ne)}(yield gf(n),n.asyncQueue,e,t,i)})),i.promise}(co(e),n._key).then(t=>function At(n,e,t){const i=t.docs.get(e._key),a=new f(n);return new Sm(n,a,e._key,i,new yf(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class f extends xA{constructor(e){super(),this.firestore=e}convertBytes(e){return new sh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zs(this.firestore,null,t)}}function O(n){n=ei(n,ra);const e=ei(n.firestore,Is),t=co(e),i=new f(e);return function CI(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Lt(mt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function kT(n,e,t={}){const i=new Co;return n.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return function(a,c,h,w,N){const j=new Q_({next:me=>{c.enqueueAndForget(()=>gm(a,ne)),me.fromCache&&"server"===w.source?N.reject(new Lt(mt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):N.resolve(me)},error:me=>N.reject(me)}),ne=new hT(h,j,{includeMetadataChanges:!0,Ku:!0});return HE(a,ne)}(yield gf(n),n.asyncQueue,e,t,i)})),i.promise}(t,n._query).then(a=>new s(e,i,n,a))}function ye(n,e,t){n=ei(n,Zs);const i=ei(n.firestore,Is),a=XT(n.converter,e,t);return An(i,[vI(zp(i),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,zi.none())])}function Fe(n,e,t,...i){n=ei(n,Zs);const a=ei(n.firestore,Is),c=zp(a);let h;return h="string"==typeof(e=(0,de.m9)(e))||e instanceof oh?function EI(n,e,t,i,a,c){const h=n.ya(1,e,t),w=[bm(e,i,t)],N=[a];if(c.length%2!=0)throw new Lt(mt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Qe=0;Qe<c.length;Qe+=2)w.push(bm(e,c[Qe])),N.push(c[Qe+1]);const j=[],ne=Ta.empty();for(let Qe=w.length-1;Qe>=0;--Qe)if(!KT(j,w[Qe])){const vt=w[Qe];let Bt=N[Qe];Bt=(0,de.m9)(Bt);const fn=h.da(vt);if(Bt instanceof wm)j.push(vt);else{const _n=qp(Bt,fn);null!=_n&&(j.push(vt),ne.set(vt,_n))}}const me=new Pu(j);return new OS(ne,me,h.fieldTransforms)}(c,"updateDoc",n._key,e,t,i):function ZT(n,e,t,i){const a=n.ya(1,e,t);wI("Data must be an object, but it was:",a,i);const c=[],h=Ta.empty();xl(i,(N,j)=>{const ne=bI(e,N,t);j=(0,de.m9)(j);const me=a.da(ne);if(j instanceof wm)c.push(ne);else{const Qe=qp(j,me);null!=Qe&&(c.push(ne),h.set(ne,Qe))}});const w=new Pu(c);return new OS(h,w,a.fieldTransforms)}(c,"updateDoc",n._key,e),An(a,[h.toMutation(n._key,zi.exists(!0))])}function Ye(n){return An(ei(n.firestore,Is),[new _p(n._key,zi.none())])}function Tt(n,e){const t=ei(n.firestore,Is),i=gI(n),a=XT(n.converter,e);return An(t,[vI(zp(n.firestore),"addDoc",i._key,a,null!==n.converter,{}).toMutation(i._key,zi.exists(!1))]).then(()=>i)}function An(n,e){return function(t,i){const a=new Co;return t.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return function _T(n,e,t){return $_.apply(this,arguments)}(yield function nv(n){return _m(n).then(e=>e.syncEngine)}(t),i,a)})),a.promise}(co(n),e)}function eM(...n){return new qT("arrayUnion",n)}function tM(...n){return new WT("arrayRemove",n)}!function(n,e=!0){Bd=_e.Jn,(0,_e.Xd)(new te.wA("firestore",(t,{instanceIdentifier:i,options:a})=>{const c=t.getProvider("app").getImmediate(),h=new Is(new Tw(t.getProvider("auth-internal")),new Sw(t.getProvider("app-check-internal")),function(w,N){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new Lt(mt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qh(w.options.projectId,N)}(c,i),c);return a=Object.assign({useFetchStreams:e},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),(0,_e.KN)(y0,"3.13.0",n),(0,_e.KN)(y0,"3.13.0","esm2017")}();class nC{constructor(e){return e}}const LA="firestore",zS=new Q.OlP("angularfire2.firestore-instances");function iM(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new nC(i)}}const sM={provide:class nM{constructor(){return(0,m.vb)(LA)}},deps:[[new Q.FiY,zS]]},oM={provide:nC,useFactory:function rM(n,e){const t=(0,m.JM)(LA,n,e);return t&&new nC(t)},deps:[[new Q.FiY,zS],d.Ot]};let aM=(()=>{class n{constructor(){(0,he.KN)("angularfire",m.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q.oAB({type:n}),n.\u0275inj=Q.cJS({providers:[oM,sM]}),n})();function uM(n,...e){return{ngModule:aM,providers:[{provide:zS,useFactory:iM(n),multi:!0,deps:[Q.R0b,Q.zs3,m.HU,d.z6,[new Q.FiY,Td],[new Q.FiY,Il],...e]}]}}const cM=(0,m.u3)(Tt,!0),lM=(0,m.u3)(tM,!0),dM=(0,m.u3)(eM,!0),hM=(0,m.u3)(ov,!0),fM=(0,m.u3)(Ye,!0),pM=(0,m.u3)(gI,!0),gM=(0,m.u3)(l,!0),mM=(0,m.u3)(O,!0),yM=(0,m.u3)(bA,!0),_M=(0,m.u3)(US,!0),vM=(0,m.u3)(pv,!0),EM=(0,m.u3)(YT,!0),IM=(0,m.u3)(ye,!0),wM=(0,m.u3)(BS,!0),bM=(0,m.u3)(Fe,!0),TM=(0,m.u3)(kS,!0)},559:($t,Ge,B)=>{"use strict";B.d(Ge,{q4:()=>ll,HU:()=>vc,vb:()=>Vc,JM:()=>Hl,u3:()=>Ec});var m=B(9468),Q=B(4097),d=B(5861),he=B(7592),se=B(229),de=B(6820),_e=B(7879);const Ne=(A,k)=>k.some(ee=>A instanceof ee);let we,te;const Ue=new WeakMap,Oe=new WeakMap,Xe=new WeakMap,Dt=new WeakMap,Rt=new WeakMap;let ft={get(A,k,ee){if(A instanceof IDBTransaction){if("done"===k)return Oe.get(A);if("objectStoreNames"===k)return A.objectStoreNames||Xe.get(A);if("store"===k)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return Ke(A[k])},set:(A,k,ee)=>(A[k]=ee,!0),has:(A,k)=>A instanceof IDBTransaction&&("done"===k||"store"===k)||k in A};function ht(A){return"function"==typeof A?function qe(A){return A!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ae(){return te||(te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(A)?function(...k){return A.apply(Se(this),k),Ke(Ue.get(this))}:function(...k){return Ke(A.apply(Se(this),k))}:function(k,...ee){const pe=A.call(Se(this),k,...ee);return Xe.set(pe,k.sort?k.sort():[k]),Ke(pe)}}(A):(A instanceof IDBTransaction&&function en(A){if(Oe.has(A))return;const k=new Promise((ee,pe)=>{const ke=()=>{A.removeEventListener("complete",Ze),A.removeEventListener("error",gt),A.removeEventListener("abort",gt)},Ze=()=>{ee(),ke()},gt=()=>{pe(A.error||new DOMException("AbortError","AbortError")),ke()};A.addEventListener("complete",Ze),A.addEventListener("error",gt),A.addEventListener("abort",gt)});Oe.set(A,k)}(A),Ne(A,function oe(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(A,ft):A)}function Ke(A){if(A instanceof IDBRequest)return function xt(A){const k=new Promise((ee,pe)=>{const ke=()=>{A.removeEventListener("success",Ze),A.removeEventListener("error",gt)},Ze=()=>{ee(Ke(A.result)),ke()},gt=()=>{pe(A.error),ke()};A.addEventListener("success",Ze),A.addEventListener("error",gt)});return k.then(ee=>{ee instanceof IDBCursor&&Ue.set(ee,A)}).catch(()=>{}),Rt.set(k,A),k}(A);if(Dt.has(A))return Dt.get(A);const k=ht(A);return k!==A&&(Dt.set(A,k),Rt.set(k,A)),k}const Se=A=>Rt.get(A),pt=["get","getKey","getAll","getAllKeys","count"],gn=["put","add","delete","clear"],yt=new Map;function sn(A,k){if(!(A instanceof IDBDatabase)||k in A||"string"!=typeof k)return;if(yt.get(k))return yt.get(k);const ee=k.replace(/FromIndex$/,""),pe=k!==ee,ke=gn.includes(ee);if(!(ee in(pe?IDBIndex:IDBObjectStore).prototype)||!ke&&!pt.includes(ee))return;const Ze=function(){var gt=(0,d.Z)(function*(qt,...Ht){const yn=this.transaction(qt,ke?"readwrite":"readonly");let kn=yn.store;return pe&&(kn=kn.index(Ht.shift())),(yield Promise.all([kn[ee](...Ht),ke&&yn.done]))[0]});return function(Ht){return gt.apply(this,arguments)}}();return yt.set(k,Ze),Ze}!function Te(A){ft=A(ft)}(A=>({...A,get:(k,ee,pe)=>sn(k,ee)||A.get(k,ee,pe),has:(k,ee)=>!!sn(k,ee)||A.has(k,ee)}));const vn="@firebase/installations",xn="0.6.4",Zn=1e4,Jn=`w:${xn}`,$e="FIS_v2",ze="https://firebaseinstallations.googleapis.com/v1",Je=36e5,Vt=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Gt(A){return A instanceof se.ZR&&A.code.includes("request-failed")}function Xt({projectId:A}){return`${ze}/projects/${A}/installations`}function Wt(A){return{token:A.token,requestStatus:2,expiresIn:De(A.expiresIn),creationTime:Date.now()}}function jt(A,k){return _t.apply(this,arguments)}function _t(){return(_t=(0,d.Z)(function*(A,k){const pe=(yield k.json()).error;return Vt.create("request-failed",{requestName:A,serverCode:pe.code,serverMessage:pe.message,serverStatus:pe.status})})).apply(this,arguments)}function wn({apiKey:A}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A})}function cr(A){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,d.Z)(function*(A){const k=yield A();return k.status>=500&&k.status<600?A():k})).apply(this,arguments)}function De(A){return Number(A.replace("s","000"))}function bt(){return(bt=(0,d.Z)(function*({appConfig:A,heartbeatServiceProvider:k},{fid:ee}){const pe=Xt(A),ke=wn(A),Ze=k.getImmediate({optional:!0});if(Ze){const yn=yield Ze.getHeartbeatsHeader();yn&&ke.append("x-firebase-client",yn)}const qt={method:"POST",headers:ke,body:JSON.stringify({fid:ee,authVersion:$e,appId:A.appId,sdkVersion:Jn})},Ht=yield cr(()=>fetch(pe,qt));if(Ht.ok){const yn=yield Ht.json();return{fid:yn.fid||ee,registrationStatus:2,refreshToken:yn.refreshToken,authToken:Wt(yn.authToken)}}throw yield jt("Create Installation",Ht)})).apply(this,arguments)}function kt(A){return new Promise(k=>{setTimeout(k,A)})}const mn=/^[cdef][\w-]{21}$/,Dn="";function tn(){try{const A=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(A),A[0]=112+A[0]%16;const ee=function dn(A){return function pr(A){return btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_")}(A).substr(0,22)}(A);return mn.test(ee)?ee:Dn}catch{return Dn}}function mr(A){return`${A.appName}!${A.appId}`}const rn=new Map;function lr(A,k){const ee=mr(A);zn(ee,k),function qn(A,k){const ee=function On(){return!Xn&&"BroadcastChannel"in self&&(Xn=new BroadcastChannel("[Firebase] FID Change"),Xn.onmessage=A=>{zn(A.data.key,A.data.fid)}),Xn}();ee&&ee.postMessage({key:A,fid:k}),function qr(){0===rn.size&&Xn&&(Xn.close(),Xn=null)}()}(ee,k)}function zn(A,k){const ee=rn.get(A);if(ee)for(const pe of ee)pe(k)}let Xn=null;const Qt="firebase-installations-database",vi=1,Nr="firebase-installations-store";let xr=null;function dt(){return xr||(xr=function ge(A,k,{blocked:ee,upgrade:pe,blocking:ke,terminated:Ze}={}){const gt=indexedDB.open(A,k),qt=Ke(gt);return pe&&gt.addEventListener("upgradeneeded",Ht=>{pe(Ke(gt.result),Ht.oldVersion,Ht.newVersion,Ke(gt.transaction))}),ee&&gt.addEventListener("blocked",()=>ee()),qt.then(Ht=>{Ze&&Ht.addEventListener("close",()=>Ze()),ke&&Ht.addEventListener("versionchange",()=>ke())}).catch(()=>{}),qt}(Qt,vi,{upgrade:(A,k)=>{0===k&&A.createObjectStore(Nr)}})),xr}function xe(A,k){return ot.apply(this,arguments)}function ot(){return(ot=(0,d.Z)(function*(A,k){const ee=mr(A),ke=(yield dt()).transaction(Nr,"readwrite"),Ze=ke.objectStore(Nr),gt=yield Ze.get(ee);return yield Ze.put(k,ee),yield ke.done,(!gt||gt.fid!==k.fid)&&lr(A,k.fid),k})).apply(this,arguments)}function Ot(A){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,d.Z)(function*(A){const k=mr(A),pe=(yield dt()).transaction(Nr,"readwrite");yield pe.objectStore(Nr).delete(k),yield pe.done})).apply(this,arguments)}function Jt(A,k){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,d.Z)(function*(A,k){const ee=mr(A),ke=(yield dt()).transaction(Nr,"readwrite"),Ze=ke.objectStore(Nr),gt=yield Ze.get(ee),qt=k(gt);return void 0===qt?yield Ze.delete(ee):yield Ze.put(qt,ee),yield ke.done,qt&&(!gt||gt.fid!==qt.fid)&&lr(A,qt.fid),qt})).apply(this,arguments)}function Y(A){return F.apply(this,arguments)}function F(){return F=(0,d.Z)(function*(A){let k;const ee=yield Jt(A.appConfig,pe=>{const ke=function $(A){return hn(A||{fid:tn(),registrationStatus:0})}(pe),Ze=function q(A,k){if(0===k.registrationStatus){if(!navigator.onLine)return{installationEntry:k,registrationPromise:Promise.reject(Vt.create("app-offline"))};const ee={fid:k.fid,registrationStatus:1,registrationTime:Date.now()},pe=function G(A,k){return Ce.apply(this,arguments)}(A,ee);return{installationEntry:ee,registrationPromise:pe}}return 1===k.registrationStatus?{installationEntry:k,registrationPromise:nt(A)}:{installationEntry:k}}(A,ke);return k=Ze.registrationPromise,Ze.installationEntry});return ee.fid===Dn?{installationEntry:yield k}:{installationEntry:ee,registrationPromise:k}}),F.apply(this,arguments)}function Ce(){return Ce=(0,d.Z)(function*(A,k){try{const ee=yield function Et(A,k){return bt.apply(this,arguments)}(A,k);return xe(A.appConfig,ee)}catch(ee){throw Gt(ee)&&409===ee.customData.serverCode?yield Ot(A.appConfig):yield xe(A.appConfig,{fid:k.fid,registrationStatus:0}),ee}}),Ce.apply(this,arguments)}function nt(A){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,d.Z)(function*(A){let k=yield ln(A.appConfig);for(;1===k.registrationStatus;)yield kt(100),k=yield ln(A.appConfig);if(0===k.registrationStatus){const{installationEntry:ee,registrationPromise:pe}=yield Y(A);return pe||ee}return k})).apply(this,arguments)}function ln(A){return Jt(A,k=>{if(!k)throw Vt.create("installation-not-found");return hn(k)})}function hn(A){return function Rn(A){return 1===A.registrationStatus&&A.registrationTime+Zn<Date.now()}(A)?{fid:A.fid,registrationStatus:0}:A}function Ln(){return(Ln=(0,d.Z)(function*({appConfig:A,heartbeatServiceProvider:k},ee){const pe=function Vr(A,{fid:k}){return`${Xt(A)}/${k}/authTokens:generate`}(A,ee),ke=function Kn(A,{refreshToken:k}){const ee=wn(A);return ee.append("Authorization",function rt(A){return`${$e} ${A}`}(k)),ee}(A,ee),Ze=k.getImmediate({optional:!0});if(Ze){const yn=yield Ze.getHeartbeatsHeader();yn&&ke.append("x-firebase-client",yn)}const qt={method:"POST",headers:ke,body:JSON.stringify({installation:{sdkVersion:Jn,appId:A.appId}})},Ht=yield cr(()=>fetch(pe,qt));if(Ht.ok)return Wt(yield Ht.json());throw yield jt("Generate Auth Token",Ht)})).apply(this,arguments)}function ar(A){return as.apply(this,arguments)}function as(){return as=(0,d.Z)(function*(A,k=!1){let ee;const pe=yield Jt(A.appConfig,Ze=>{if(!ve(Ze))throw Vt.create("not-registered");const gt=Ze.authToken;if(!k&&function Be(A){return 2===A.requestStatus&&!function We(A){const k=Date.now();return k<A.creationTime||A.creationTime+A.expiresIn<k+Je}(A)}(gt))return Ze;if(1===gt.requestStatus)return ee=function ho(A,k){return Le.apply(this,arguments)}(A,k),Ze;{if(!navigator.onLine)throw Vt.create("app-offline");const qt=function it(A){const k={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},A),{authToken:k})}(Ze);return ee=function U(A,k){return le.apply(this,arguments)}(A,qt),qt}});return ee?yield ee:pe.authToken}),as.apply(this,arguments)}function Le(){return(Le=(0,d.Z)(function*(A,k){let ee=yield Tn(A.appConfig);for(;1===ee.authToken.requestStatus;)yield kt(100),ee=yield Tn(A.appConfig);const pe=ee.authToken;return 0===pe.requestStatus?ar(A,k):pe})).apply(this,arguments)}function Tn(A){return Jt(A,k=>{if(!ve(k))throw Vt.create("not-registered");return function St(A){return 1===A.requestStatus&&A.requestTime+Zn<Date.now()}(k.authToken)?Object.assign(Object.assign({},k),{authToken:{requestStatus:0}}):k})}function le(){return le=(0,d.Z)(function*(A,k){try{const ee=yield function nn(A,k){return Ln.apply(this,arguments)}(A,k),pe=Object.assign(Object.assign({},k),{authToken:ee});return yield xe(A.appConfig,pe),ee}catch(ee){if(!Gt(ee)||401!==ee.customData.serverCode&&404!==ee.customData.serverCode){const pe=Object.assign(Object.assign({},k),{authToken:{requestStatus:0}});yield xe(A.appConfig,pe)}else yield Ot(A.appConfig);throw ee}}),le.apply(this,arguments)}function ve(A){return void 0!==A&&2===A.registrationStatus}function er(){return(er=(0,d.Z)(function*(A){const k=A,{installationEntry:ee,registrationPromise:pe}=yield Y(k);return pe?pe.catch(console.error):ar(k).catch(console.error),ee.fid})).apply(this,arguments)}function ws(){return ws=(0,d.Z)(function*(A,k=!1){const ee=A;return yield function Mi(A){return Mo.apply(this,arguments)}(ee),(yield ar(ee,k)).token}),ws.apply(this,arguments)}function Mo(){return(Mo=(0,d.Z)(function*(A){const{registrationPromise:k}=yield Y(A);k&&(yield k)})).apply(this,arguments)}function Ls(A){return Vt.create("missing-app-config-values",{valueName:A})}const Ys="installations",Ir=A=>{const k=A.getProvider("app").getImmediate(),ee=function sa(A){if(!A||!A.options)throw Ls("App Configuration");if(!A.name)throw Ls("App Name");const k=["projectId","apiKey","appId"];for(const ee of k)if(!A.options[ee])throw Ls(ee);return{appName:A.name,projectId:A.options.projectId,apiKey:A.options.apiKey,appId:A.options.appId}}(k);return{app:k,appConfig:ee,heartbeatServiceProvider:(0,he.qX)(k,"heartbeat"),_delete:()=>Promise.resolve()}},jr=A=>{const k=A.getProvider("app").getImmediate(),ee=(0,he.qX)(k,Ys).getImmediate();return{getId:()=>function Fn(A){return er.apply(this,arguments)}(ee),getToken:ke=>function Cr(A){return ws.apply(this,arguments)}(ee,ke)}};(function fo(){(0,he.Xd)(new de.wA(Ys,Ir,"PUBLIC")),(0,he.Xd)(new de.wA("installations-internal",jr,"PRIVATE"))})(),(0,he.KN)(vn,xn),(0,he.KN)(vn,xn,"esm2017");const Wi="@firebase/remote-config",Oi=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class fi{constructor(k,ee,pe,ke){this.client=k,this.storage=ee,this.storageCache=pe,this.logger=ke}isCachedDataFresh(k,ee){if(!ee)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const pe=Date.now()-ee,ke=pe<=k;return this.logger.debug(`Config fetch cache check. Cache age millis: ${pe}. Cache max age millis (minimumFetchIntervalMillis setting): ${k}. Is cache hit: ${ke}.`),ke}fetch(k){var ee=this;return(0,d.Z)(function*(){const[pe,ke]=yield Promise.all([ee.storage.getLastSuccessfulFetchTimestampMillis(),ee.storage.getLastSuccessfulFetchResponse()]);if(ke&&ee.isCachedDataFresh(k.cacheMaxAgeMillis,pe))return ke;k.eTag=ke&&ke.eTag;const Ze=yield ee.client.fetch(k),gt=[ee.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ze.status&&gt.push(ee.storage.setLastSuccessfulFetchResponse(Ze)),yield Promise.all(gt),Ze})()}}function za(A=navigator){return A.languages&&A.languages[0]||A.language}class Zi{constructor(k,ee,pe,ke,Ze,gt){this.firebaseInstallations=k,this.sdkVersion=ee,this.namespace=pe,this.projectId=ke,this.apiKey=Ze,this.appId=gt}fetch(k){var ee=this;return(0,d.Z)(function*(){const[pe,ke]=yield Promise.all([ee.firebaseInstallations.getId(),ee.firebaseInstallations.getToken()]),gt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ee.projectId}/namespaces/${ee.namespace}:fetch?key=${ee.apiKey}`,qt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":k.eTag||"*"},Ht={sdk_version:ee.sdkVersion,app_instance_id:pe,app_instance_id_token:ke,app_id:ee.appId,language_code:za()},yn={method:"POST",headers:qt,body:JSON.stringify(Ht)},kn=fetch(gt,yn),Yn=new Promise((_a,nu)=>{k.signal.addEventListener(()=>{const Ed=new Error("The operation was aborted.");Ed.name="AbortError",nu(Ed)})});let ns;try{yield Promise.race([kn,Yn]),ns=yield kn}catch(_a){let nu="fetch-client-network";throw"AbortError"===_a?.name&&(nu="fetch-timeout"),Oi.create(nu,{originalErrorMessage:_a?.message})}let _s=ns.status;const Zu=ns.headers.get("ETag")||void 0;let Ic,$c;if(200===ns.status){let _a;try{_a=yield ns.json()}catch(nu){throw Oi.create("fetch-client-parse",{originalErrorMessage:nu?.message})}Ic=_a.entries,$c=_a.state}if("INSTANCE_STATE_UNSPECIFIED"===$c?_s=500:"NO_CHANGE"===$c?_s=304:("NO_TEMPLATE"===$c||"EMPTY_CONFIG"===$c)&&(Ic={}),304!==_s&&200!==_s)throw Oi.create("fetch-status",{httpStatus:_s});return{status:_s,eTag:Zu,config:Ic}})()}}class Un{constructor(k,ee){this.client=k,this.storage=ee}fetch(k){var ee=this;return(0,d.Z)(function*(){const pe=(yield ee.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ee.attemptFetch(k,pe)})()}attemptFetch(k,{throttleEndTimeMillis:ee,backoffCount:pe}){var ke=this;return(0,d.Z)(function*(){yield function Dr(A,k){return new Promise((ee,pe)=>{const ke=Math.max(k-Date.now(),0),Ze=setTimeout(ee,ke);A.addEventListener(()=>{clearTimeout(Ze),pe(Oi.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(k.signal,ee);try{const Ze=yield ke.client.fetch(k);return yield ke.storage.deleteThrottleMetadata(),Ze}catch(Ze){if(!function zt(A){if(!(A instanceof se.ZR&&A.customData))return!1;const k=Number(A.customData.httpStatus);return 429===k||500===k||503===k||504===k}(Ze))throw Ze;const gt={throttleEndTimeMillis:Date.now()+(0,se.$s)(pe),backoffCount:pe+1};return yield ke.storage.setThrottleMetadata(gt),ke.attemptFetch(k,gt)}})()}}class ko{constructor(k,ee,pe,ke,Ze){this.app=k,this._client=ee,this._storageCache=pe,this._storage=ke,this._logger=Ze,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Wr(A,k){const ee=A.target.error||void 0;return Oi.create(k,{originalErrorMessage:ee&&ee?.message})}const Pi="app_namespace_store";class Vn{constructor(k,ee,pe,ke=function Ri(){return new Promise((A,k)=>{try{const ee=indexedDB.open("firebase_remote_config",1);ee.onerror=pe=>{k(Wr(pe,"storage-open"))},ee.onsuccess=pe=>{A(pe.target.result)},ee.onupgradeneeded=pe=>{0===pe.oldVersion&&pe.target.result.createObjectStore(Pi,{keyPath:"compositeKey"})}}catch(ee){k(Oi.create("storage-open",{originalErrorMessage:ee?.message}))}})}()){this.appId=k,this.appName=ee,this.namespace=pe,this.openDbPromise=ke}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(k){return this.set("last_fetch_status",k)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(k){return this.set("last_successful_fetch_timestamp_millis",k)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(k){return this.set("last_successful_fetch_response",k)}getActiveConfig(){return this.get("active_config")}setActiveConfig(k){return this.set("active_config",k)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(k){return this.set("active_config_etag",k)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(k){return this.set("throttle_metadata",k)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(k){var ee=this;return(0,d.Z)(function*(){const pe=yield ee.openDbPromise;return new Promise((ke,Ze)=>{const qt=pe.transaction([Pi],"readonly").objectStore(Pi),Ht=ee.createCompositeKey(k);try{const yn=qt.get(Ht);yn.onerror=kn=>{Ze(Wr(kn,"storage-get"))},yn.onsuccess=kn=>{const Yn=kn.target.result;ke(Yn?Yn.value:void 0)}}catch(yn){Ze(Oi.create("storage-get",{originalErrorMessage:yn?.message}))}})})()}set(k,ee){var pe=this;return(0,d.Z)(function*(){const ke=yield pe.openDbPromise;return new Promise((Ze,gt)=>{const Ht=ke.transaction([Pi],"readwrite").objectStore(Pi),yn=pe.createCompositeKey(k);try{const kn=Ht.put({compositeKey:yn,value:ee});kn.onerror=Yn=>{gt(Wr(Yn,"storage-set"))},kn.onsuccess=()=>{Ze()}}catch(kn){gt(Oi.create("storage-set",{originalErrorMessage:kn?.message}))}})})()}delete(k){var ee=this;return(0,d.Z)(function*(){const pe=yield ee.openDbPromise;return new Promise((ke,Ze)=>{const qt=pe.transaction([Pi],"readwrite").objectStore(Pi),Ht=ee.createCompositeKey(k);try{const yn=qt.delete(Ht);yn.onerror=kn=>{Ze(Wr(kn,"storage-delete"))},yn.onsuccess=()=>{ke()}}catch(yn){Ze(Oi.create("storage-delete",{originalErrorMessage:yn?.message}))}})})()}createCompositeKey(k){return[this.appId,this.appName,this.namespace,k].join()}}class Us{constructor(k){this.storage=k}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var k=this;return(0,d.Z)(function*(){const ee=k.storage.getLastFetchStatus(),pe=k.storage.getLastSuccessfulFetchTimestampMillis(),ke=k.storage.getActiveConfig(),Ze=yield ee;Ze&&(k.lastFetchStatus=Ze);const gt=yield pe;gt&&(k.lastSuccessfulFetchTimestampMillis=gt);const qt=yield ke;qt&&(k.activeConfig=qt)})()}setLastFetchStatus(k){return this.lastFetchStatus=k,this.storage.setLastFetchStatus(k)}setLastSuccessfulFetchTimestampMillis(k){return this.lastSuccessfulFetchTimestampMillis=k,this.storage.setLastSuccessfulFetchTimestampMillis(k)}setActiveConfig(k){return this.activeConfig=k,this.storage.setActiveConfig(k)}}function wi(){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,d.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}!function ai(){(0,he.Xd)(new de.wA("remote-config",function A(k,{instanceIdentifier:ee}){const pe=k.getProvider("app").getImmediate(),ke=k.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Oi.create("registration-window");if(!(0,se.hl)())throw Oi.create("indexed-db-unavailable");const{projectId:Ze,apiKey:gt,appId:qt}=pe.options;if(!Ze)throw Oi.create("registration-project-id");if(!gt)throw Oi.create("registration-api-key");if(!qt)throw Oi.create("registration-app-id");const Ht=new Vn(qt,pe.name,ee=ee||"firebase"),yn=new Us(Ht),kn=new _e.Yd(Wi);kn.logLevel=_e.in.ERROR;const Yn=new Zi(ke,he.Jn,ee,Ze,gt,qt),ns=new Un(Yn,Ht),_s=new fi(ns,Ht,yn,kn),Zu=new ko(pe,_s,yn,Ht,kn);return function No(A){const k=(0,se.m9)(A);k._initializePromise||(k._initializePromise=k._storageCache.loadFromStorage().then(()=>{k._isInitializationComplete=!0}))}(Zu),Zu},"PUBLIC").setMultipleInstances(!0)),(0,he.KN)(Wi,"0.4.4"),(0,he.KN)(Wi,"0.4.4","esm2017")}();const Fr=(A,k)=>k.some(ee=>A instanceof ee);let mo,qa;const Bs=new WeakMap,$s=new WeakMap,Gn=new WeakMap,nc=new WeakMap,Ts=new WeakMap;let Ds={get(A,k,ee){if(A instanceof IDBTransaction){if("done"===k)return $s.get(A);if("objectStoreNames"===k)return A.objectStoreNames||Gn.get(A);if("store"===k)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return Ni(A[k])},set:(A,k,ee)=>(A[k]=ee,!0),has:(A,k)=>A instanceof IDBTransaction&&("done"===k||"store"===k)||k in A};function Yr(A){return"function"==typeof A?function ui(A){return A!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ki(){return qa||(qa=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(A)?function(...k){return A.apply(di(this),k),Ni(Bs.get(this))}:function(...k){return Ni(A.apply(di(this),k))}:function(k,...ee){const pe=A.call(di(this),k,...ee);return Gn.set(pe,k.sort?k.sort():[k]),Ni(pe)}}(A):(A instanceof IDBTransaction&&function ri(A){if($s.has(A))return;const k=new Promise((ee,pe)=>{const ke=()=>{A.removeEventListener("complete",Ze),A.removeEventListener("error",gt),A.removeEventListener("abort",gt)},Ze=()=>{ee(),ke()},gt=()=>{pe(A.error||new DOMException("AbortError","AbortError")),ke()};A.addEventListener("complete",Ze),A.addEventListener("error",gt),A.addEventListener("abort",gt)});$s.set(A,k)}(A),Fr(A,function Js(){return mo||(mo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(A,Ds):A)}function Ni(A){if(A instanceof IDBRequest)return function Cs(A){const k=new Promise((ee,pe)=>{const ke=()=>{A.removeEventListener("success",Ze),A.removeEventListener("error",gt)},Ze=()=>{ee(Ni(A.result)),ke()},gt=()=>{pe(A.error),ke()};A.addEventListener("success",Ze),A.addEventListener("error",gt)});return k.then(ee=>{ee instanceof IDBCursor&&Bs.set(ee,A)}).catch(()=>{}),Ts.set(k,A),k}(A);if(nc.has(A))return nc.get(A);const k=Yr(A);return k!==A&&(nc.set(A,k),Ts.set(k,A)),k}const di=A=>Ts.get(A);function ki(A,k,{blocked:ee,upgrade:pe,blocking:ke,terminated:Ze}={}){const gt=indexedDB.open(A,k),qt=Ni(gt);return pe&&gt.addEventListener("upgradeneeded",Ht=>{pe(Ni(gt.result),Ht.oldVersion,Ht.newVersion,Ni(gt.transaction))}),ee&&gt.addEventListener("blocked",()=>ee()),qt.then(Ht=>{Ze&&Ht.addEventListener("close",()=>Ze()),ke&&Ht.addEventListener("versionchange",()=>ke())}).catch(()=>{}),qt}function Li(A,{blocked:k}={}){const ee=indexedDB.deleteDatabase(A);return k&&ee.addEventListener("blocked",()=>k()),Ni(ee).then(()=>{})}const cs=["get","getKey","getAll","getAllKeys","count"],ts=["put","add","delete","clear"],Fi=new Map;function ci(A,k){if(!(A instanceof IDBDatabase)||k in A||"string"!=typeof k)return;if(Fi.get(k))return Fi.get(k);const ee=k.replace(/FromIndex$/,""),pe=k!==ee,ke=ts.includes(ee);if(!(ee in(pe?IDBIndex:IDBObjectStore).prototype)||!ke&&!cs.includes(ee))return;const Ze=function(){var gt=(0,d.Z)(function*(qt,...Ht){const yn=this.transaction(qt,ke?"readwrite":"readonly");let kn=yn.store;return pe&&(kn=kn.index(Ht.shift())),(yield Promise.all([kn[ee](...Ht),ke&&yn.done]))[0]});return function(Ht){return gt.apply(this,arguments)}}();return Fi.set(k,Ze),Ze}!function yo(A){Ds=A(Ds)}(A=>({...A,get:(k,ee,pe)=>ci(k,ee)||A.get(k,ee,pe),has:(k,ee)=>!!ci(k,ee)||A.has(k,ee)}));const js="/firebase-messaging-sw.js",zo="/firebase-cloud-messaging-push-scope",Wa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ss="https://fcmregistrations.googleapis.com/v1",sr="google.c.a.c_id",ls="google.c.a.c_l",fu="google.c.a.ts";var L=function(A){return A.PUSH_RECEIVED="push-received",A.NOTIFICATION_CLICKED="notification-clicked",A}(L||{});function ae(A){const k=new Uint8Array(A);return btoa(String.fromCharCode(...k)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Me(A){const ee=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),pe=atob(ee),ke=new Uint8Array(pe.length);for(let Ze=0;Ze<pe.length;++Ze)ke[Ze]=pe.charCodeAt(Ze);return ke}const on="fcm_token_details_db",Nn=5,$i="fcm_token_object_Store";function bi(){return bi=(0,d.Z)(function*(A){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ze=>Ze.name).includes(on))return null;let k=null;return(yield ki(on,Nn,{upgrade:(pe=(0,d.Z)(function*(ke,Ze,gt,qt){var Ht;if(Ze<2||!ke.objectStoreNames.contains($i))return;const yn=qt.objectStore($i),kn=yield yn.index("fcmSenderId").get(A);if(yield yn.clear(),kn)if(2===Ze){const Yn=kn;if(!Yn.auth||!Yn.p256dh||!Yn.endpoint)return;k={token:Yn.fcmToken,createTime:null!==(Ht=Yn.createTime)&&void 0!==Ht?Ht:Date.now(),subscriptionOptions:{auth:Yn.auth,p256dh:Yn.p256dh,endpoint:Yn.endpoint,swScope:Yn.swScope,vapidKey:"string"==typeof Yn.vapidKey?Yn.vapidKey:ae(Yn.vapidKey)}}}else if(3===Ze){const Yn=kn;k={token:Yn.fcmToken,createTime:Yn.createTime,subscriptionOptions:{auth:ae(Yn.auth),p256dh:ae(Yn.p256dh),endpoint:Yn.endpoint,swScope:Yn.swScope,vapidKey:ae(Yn.vapidKey)}}}else if(4===Ze){const Yn=kn;k={token:Yn.fcmToken,createTime:Yn.createTime,subscriptionOptions:{auth:ae(Yn.auth),p256dh:ae(Yn.p256dh),endpoint:Yn.endpoint,swScope:Yn.swScope,vapidKey:ae(Yn.vapidKey)}}}}),function(Ze,gt,qt,Ht){return pe.apply(this,arguments)})})).close(),yield Li(on),yield Li("fcm_vapid_details_db"),yield Li("undefined"),function Zr(A){if(!A||!A.subscriptionOptions)return!1;const{subscriptionOptions:k}=A;return"number"==typeof A.createTime&&A.createTime>0&&"string"==typeof A.token&&A.token.length>0&&"string"==typeof k.auth&&k.auth.length>0&&"string"==typeof k.p256dh&&k.p256dh.length>0&&"string"==typeof k.endpoint&&k.endpoint.length>0&&"string"==typeof k.swScope&&k.swScope.length>0&&"string"==typeof k.vapidKey&&k.vapidKey.length>0}(k)?k:null;var pe}),bi.apply(this,arguments)}const Sa="firebase-messaging-database",ca=1,qo="firebase-messaging-store";let pu=null;function Aa(){return pu||(pu=ki(Sa,ca,{upgrade:(A,k)=>{0===k&&A.createObjectStore(qo)}})),pu}function As(A){return Oc.apply(this,arguments)}function Oc(){return Oc=(0,d.Z)(function*(A){const k=hs(A),pe=yield(yield Aa()).transaction(qo).objectStore(qo).get(k);if(pe)return pe;{const ke=yield function ds(A){return bi.apply(this,arguments)}(A.appConfig.senderId);if(ke)return yield _o(A,ke),ke}}),Oc.apply(this,arguments)}function _o(A,k){return gi.apply(this,arguments)}function gi(){return(gi=(0,d.Z)(function*(A,k){const ee=hs(A),ke=(yield Aa()).transaction(qo,"readwrite");return yield ke.objectStore(qo).put(k,ee),yield ke.done,k})).apply(this,arguments)}function Ti(){return(Ti=(0,d.Z)(function*(A){const k=hs(A),pe=(yield Aa()).transaction(qo,"readwrite");yield pe.objectStore(qo).delete(k),yield pe.done})).apply(this,arguments)}function hs({appConfig:A}){return A.appId}const mi=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function gu(A,k){return Za.apply(this,arguments)}function Za(){return(Za=(0,d.Z)(function*(A,k){const ee=yield Zo(A),pe=Lo(k),ke={method:"POST",headers:ee,body:JSON.stringify(pe)};let Ze;try{Ze=yield(yield fetch(Bu(A.appConfig),ke)).json()}catch(gt){throw mi.create("token-subscribe-failed",{errorInfo:gt?.toString()})}if(Ze.error)throw mi.create("token-subscribe-failed",{errorInfo:Ze.error.message});if(!Ze.token)throw mi.create("token-subscribe-no-token");return Ze.token})).apply(this,arguments)}function Hs(){return(Hs=(0,d.Z)(function*(A,k){const ee=yield Zo(A),pe=Lo(k.subscriptionOptions),ke={method:"PATCH",headers:ee,body:JSON.stringify(pe)};let Ze;try{Ze=yield(yield fetch(`${Bu(A.appConfig)}/${k.token}`,ke)).json()}catch(gt){throw mi.create("token-update-failed",{errorInfo:gt?.toString()})}if(Ze.error)throw mi.create("token-update-failed",{errorInfo:Ze.error.message});if(!Ze.token)throw mi.create("token-update-no-token");return Ze.token})).apply(this,arguments)}function Vu(A,k){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,d.Z)(function*(A,k){const pe={method:"DELETE",headers:yield Zo(A)};try{const Ze=yield(yield fetch(`${Bu(A.appConfig)}/${k}`,pe)).json();if(Ze.error)throw mi.create("token-unsubscribe-failed",{errorInfo:Ze.error.message})}catch(ke){throw mi.create("token-unsubscribe-failed",{errorInfo:ke?.toString()})}})).apply(this,arguments)}function Bu({projectId:A}){return`${Ss}/projects/${A}/registrations`}function Zo(A){return mu.apply(this,arguments)}function mu(){return(mu=(0,d.Z)(function*({appConfig:A,installations:k}){const ee=yield k.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${ee}`})})).apply(this,arguments)}function Lo({p256dh:A,auth:k,endpoint:ee,vapidKey:pe}){const ke={web:{endpoint:ee,auth:k,p256dh:A}};return pe!==Wa&&(ke.web.applicationPubKey=pe),ke}const Io=6048e5;function yu(){return yu=(0,d.Z)(function*(A){const k=yield function Xs(A,k){return ic.apply(this,arguments)}(A.swRegistration,A.vapidKey),ee={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:k.endpoint,auth:ae(k.getKey("auth")),p256dh:ae(k.getKey("p256dh"))},pe=yield As(A.firebaseDependencies);if(pe){if(function M(A,k){return k.vapidKey===A.vapidKey&&k.endpoint===A.endpoint&&k.auth===A.auth&&k.p256dh===A.p256dh}(pe.subscriptionOptions,ee))return Date.now()>=pe.createTime+Io?function _u(A,k){return el.apply(this,arguments)}(A,{token:pe.token,createTime:Date.now(),subscriptionOptions:ee}):pe.token;try{yield Vu(A.firebaseDependencies,pe.token)}catch(ke){console.warn(ke)}return rc(A.firebaseDependencies,ee)}return rc(A.firebaseDependencies,ee)}),yu.apply(this,arguments)}function Ka(){return Ka=(0,d.Z)(function*(A){const k=yield As(A.firebaseDependencies);k&&(yield Vu(A.firebaseDependencies,k.token),yield function Wo(A){return Ti.apply(this,arguments)}(A.firebaseDependencies));const ee=yield A.swRegistration.pushManager.getSubscription();return!ee||ee.unsubscribe()}),Ka.apply(this,arguments)}function el(){return el=(0,d.Z)(function*(A,k){try{const ee=yield function Pc(A,k){return Hs.apply(this,arguments)}(A.firebaseDependencies,k),pe=Object.assign(Object.assign({},k),{token:ee,createTime:Date.now()});return yield _o(A.firebaseDependencies,pe),ee}catch(ee){throw yield function la(A){return Ka.apply(this,arguments)}(A),ee}}),el.apply(this,arguments)}function rc(A,k){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,d.Z)(function*(A,k){const pe={token:yield gu(A,k),createTime:Date.now(),subscriptionOptions:k};return yield _o(A,pe),pe.token})).apply(this,arguments)}function ic(){return(ic=(0,d.Z)(function*(A,k){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Me(k)})})).apply(this,arguments)}function re(A){const k={from:A.from,collapseKey:A.collapse_key,messageId:A.fcmMessageId};return function V(A,k){if(!k.notification)return;A.notification={};const ee=k.notification.title;ee&&(A.notification.title=ee);const pe=k.notification.body;pe&&(A.notification.body=pe);const ke=k.notification.image;ke&&(A.notification.image=ke);const Ze=k.notification.icon;Ze&&(A.notification.icon=Ze)}(k,A),function X(A,k){k.data&&(A.data=k.data)}(k,A),function Ie(A,k){var ee,pe,ke,Ze,gt;if(!(k.fcmOptions||null!==(ee=k.notification)&&void 0!==ee&&ee.click_action))return;A.fcmOptions={};const qt=null!==(ke=null===(pe=k.fcmOptions)||void 0===pe?void 0:pe.link)&&void 0!==ke?ke:null===(Ze=k.notification)||void 0===Ze?void 0:Ze.click_action;qt&&(A.fcmOptions.link=qt);const Ht=null===(gt=k.fcmOptions)||void 0===gt?void 0:gt.analytics_label;Ht&&(A.fcmOptions.analyticsLabel=Ht)}(k,A),k}function Ct(A,k){const ee=[];for(let pe=0;pe<A.length;pe++)ee.push(A.charAt(pe)),pe<k.length&&ee.push(k.charAt(pe));return ee.join("")}function Sr(A){return mi.create("missing-app-config-values",{valueName:A})}Ct("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ct("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ar{constructor(k,ee,pe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ke=function En(A){if(!A||!A.options)throw Sr("App Configuration Object");if(!A.name)throw Sr("App Name");const k=["projectId","apiKey","appId","messagingSenderId"],{options:ee}=A;for(const pe of k)if(!ee[pe])throw Sr(pe);return{appName:A.name,projectId:ee.projectId,apiKey:ee.apiKey,appId:ee.appId,senderId:ee.messagingSenderId}}(k);this.firebaseDependencies={app:k,appConfig:ke,installations:ee,analyticsProvider:pe}}_delete(){return Promise.resolve()}}function Qn(){return(Qn=(0,d.Z)(function*(A){try{A.swRegistration=yield navigator.serviceWorker.register(js,{scope:zo}),A.swRegistration.update().catch(()=>{})}catch(k){throw mi.create("failed-service-worker-registration",{browserErrorMessage:k?.message})}})).apply(this,arguments)}function Br(){return(Br=(0,d.Z)(function*(A,k){if(!k&&!A.swRegistration&&(yield function Tr(A){return Qn.apply(this,arguments)}(A)),k||!A.swRegistration){if(!(k instanceof ServiceWorkerRegistration))throw mi.create("invalid-sw-registration");A.swRegistration=k}})).apply(this,arguments)}function eo(){return(eo=(0,d.Z)(function*(A,k){k?A.vapidKey=k:A.vapidKey||(A.vapidKey=Wa)})).apply(this,arguments)}function ps(){return ps=(0,d.Z)(function*(A,k){if(!navigator)throw mi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw mi.create("permission-blocked");return yield function hi(A,k){return eo.apply(this,arguments)}(A,k?.vapidKey),yield function Qr(A,k){return Br.apply(this,arguments)}(A,k?.serviceWorkerRegistration),function wo(A){return yu.apply(this,arguments)}(A)}),ps.apply(this,arguments)}function Fo(){return(Fo=(0,d.Z)(function*(A,k,ee){const pe=function da(A){switch(A){case L.NOTIFICATION_CLICKED:return"notification_open";case L.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(k);(yield A.firebaseDependencies.analyticsProvider.get()).logEvent(pe,{message_id:ee[sr],message_name:ee[ls],message_time:ee[fu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Rc(){return Rc=(0,d.Z)(function*(A,k){const ee=k.data;if(!ee.isFirebaseMessaging)return;A.onMessageHandler&&ee.messageType===L.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler(re(ee)):A.onMessageHandler.next(re(ee)));const pe=ee.data;(function ct(A){return"object"==typeof A&&!!A&&sr in A})(pe)&&"1"===pe["google.c.a.e"]&&(yield function Ms(A,k,ee){return Fo.apply(this,arguments)}(A,ee.messageType,pe))}),Rc.apply(this,arguments)}const Vl="@firebase/messaging",$u=A=>{const k=new Ar(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),A.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ee=>function Uo(A,k){return Rc.apply(this,arguments)}(k,ee)),k},vu=A=>{const k=A.getProvider("messaging").getImmediate();return{getToken:pe=>function fs(A,k){return ps.apply(this,arguments)}(k,pe)}};function sc(){return oc.apply(this,arguments)}function oc(){return(oc=(0,d.Z)(function*(){try{yield(0,se.eu)()}catch{return!1}return typeof window<"u"&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function li(){(0,he.Xd)(new de.wA("messaging",$u,"PUBLIC")),(0,he.Xd)(new de.wA("messaging-internal",vu,"PRIVATE")),(0,he.KN)(Vl,"0.12.4"),(0,he.KN)(Vl,"0.12.4","esm2017")}();const ha="analytics",ju="firebase_id",rl="origin",yi=6e4,Eu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xa="https://www.googletagmanager.com/gtag/js",si=new _e.Yd("@firebase/analytics"),gs=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function fa(A){if(!A.startsWith(xa)){const k=gs.create("invalid-gtag-resource",{gtagURL:A});return si.warn(k.message),""}return A}function Qa(A){return Promise.all(A.map(k=>k.catch(ee=>ee)))}function Ja(){return(Ja=(0,d.Z)(function*(A,k,ee,pe,ke,Ze){const gt=pe[ke];try{if(gt)yield k[gt];else{const Ht=(yield Qa(ee)).find(yn=>yn.measurementId===ke);Ht&&(yield k[Ht.appId])}}catch(qt){si.error(qt)}A("config",ke,Ze)})).apply(this,arguments)}function uc(){return(uc=(0,d.Z)(function*(A,k,ee,pe,ke){try{let Ze=[];if(ke&&ke.send_to){let gt=ke.send_to;Array.isArray(gt)||(gt=[gt]);const qt=yield Qa(ee);for(const Ht of gt){const yn=qt.find(Yn=>Yn.measurementId===Ht),kn=yn&&k[yn.appId];if(!kn){Ze=[];break}Ze.push(kn)}}0===Ze.length&&(Ze=Object.values(k)),yield Promise.all(Ze),A("event",pe,ke||{})}catch(Ze){si.error(Ze)}})).apply(this,arguments)}const yr=30,Vi=new class hd{constructor(k={},ee=1e3){this.throttleMetadata=k,this.intervalMillis=ee}getThrottleMetadata(k){return this.throttleMetadata[k]}setThrottleMetadata(k,ee){this.throttleMetadata[k]=ee}deleteThrottleMetadata(k){delete this.throttleMetadata[k]}};function Bl(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function ms(){return(ms=(0,d.Z)(function*(A){var k;const{appId:ee,apiKey:pe}=A,ke={method:"GET",headers:Bl(pe)},Ze=Eu.replace("{app-id}",ee),gt=yield fetch(Ze,ke);if(200!==gt.status&&304!==gt.status){let qt="";try{const Ht=yield gt.json();null!==(k=Ht.error)&&void 0!==k&&k.message&&(qt=Ht.error.message)}catch{}throw gs.create("config-fetch-failed",{httpStatus:gt.status,responseMessage:qt})}return gt.json()})).apply(this,arguments)}function Pa(){return(Pa=(0,d.Z)(function*(A,k=Vi,ee){const{appId:pe,apiKey:ke,measurementId:Ze}=A.options;if(!pe)throw gs.create("no-app-id");if(!ke){if(Ze)return{measurementId:Ze,appId:pe};throw gs.create("no-api-key")}const gt=k.getThrottleMetadata(pe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},qt=new Vo;return setTimeout((0,d.Z)(function*(){qt.abort()}),void 0!==ee?ee:yi),dc({appId:pe,apiKey:ke,measurementId:Ze},gt,qt,k)})).apply(this,arguments)}function dc(A,k,ee){return bu.apply(this,arguments)}function bu(){return bu=(0,d.Z)(function*(A,{throttleEndTimeMillis:k,backoffCount:ee},pe,ke=Vi){var Ze;const{appId:gt,measurementId:qt}=A;try{yield function Ra(A,k){return new Promise((ee,pe)=>{const ke=Math.max(k-Date.now(),0),Ze=setTimeout(ee,ke);A.addEventListener(()=>{clearTimeout(Ze),pe(gs.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(pe,k)}catch(Ht){if(qt)return si.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${qt} provided in the "measurementId" field in the local Firebase config. [${Ht?.message}]`),{appId:gt,measurementId:qt};throw Ht}try{const Ht=yield function wu(A){return ms.apply(this,arguments)}(A);return ke.deleteThrottleMetadata(gt),Ht}catch(Ht){const yn=Ht;if(!function ys(A){if(!(A instanceof se.ZR&&A.customData))return!1;const k=Number(A.customData.httpStatus);return 429===k||500===k||503===k||504===k}(yn)){if(ke.deleteThrottleMetadata(gt),qt)return si.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${qt} provided in the "measurementId" field in the local Firebase config. [${yn?.message}]`),{appId:gt,measurementId:qt};throw Ht}const kn=503===Number(null===(Ze=yn?.customData)||void 0===Ze?void 0:Ze.httpStatus)?(0,se.$s)(ee,ke.intervalMillis,yr):(0,se.$s)(ee,ke.intervalMillis),Yn={throttleEndTimeMillis:Date.now()+kn,backoffCount:ee+1};return ke.setThrottleMetadata(gt,Yn),si.debug(`Calling attemptFetch again in ${kn} millis`),dc(A,Yn,pe,ke)}}),bu.apply(this,arguments)}class Vo{constructor(){this.listeners=[]}addEventListener(k){this.listeners.push(k)}abort(){this.listeners.forEach(k=>k())}}let hc,st;function Bo(){return(Bo=(0,d.Z)(function*(A,k,ee,pe,ke){if(ke&&ke.global)A("event",ee,pe);else{const Ze=yield k;A("event",ee,Object.assign(Object.assign({},pe),{send_to:Ze}))}})).apply(this,arguments)}function Ur(){return(Ur=(0,d.Z)(function*(){if(!(0,se.hl)())return si.warn(gs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(A){return si.warn(gs.create("indexeddb-unavailable",{errorInfo:A?.toString()}).message),!1}return!0})).apply(this,arguments)}function to(){return to=(0,d.Z)(function*(A,k,ee,pe,ke,Ze,gt){var qt;const Ht=function lc(A){return Pa.apply(this,arguments)}(A);Ht.then(_s=>{ee[_s.measurementId]=_s.appId,A.options.measurementId&&_s.measurementId!==A.options.measurementId&&si.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${_s.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_s=>si.error(_s)),k.push(Ht);const yn=function tr(){return Ur.apply(this,arguments)}().then(_s=>{if(_s)return pe.getId()}),[kn,Yn]=yield Promise.all([Ht,yn]);(function wt(A){const k=window.document.getElementsByTagName("script");for(const ee of Object.values(k))if(ee.src&&ee.src.includes(xa)&&ee.src.includes(A))return ee;return null})(Ze)||function ac(A,k){const ee=function il(A,k){let ee;return window.trustedTypes&&(ee=window.trustedTypes.createPolicy(A,k)),ee}("firebase-js-sdk-policy",{createScriptURL:fa}),pe=document.createElement("script"),ke=`${xa}?l=${A}&id=${k}`;pe.src=ee?ee?.createScriptURL(ke):ke,pe.async=!0,document.head.appendChild(pe)}(Ze,kn.measurementId),st&&(ke("consent","default",st),function tt(A){st=A}(void 0)),ke("js",new Date);const ns=null!==(qt=gt?.config)&&void 0!==qt?qt:{};return ns[rl]="firebase",ns.update=!0,null!=Yn&&(ns[ju]=Yn),ke("config",kn.measurementId,ns),hc&&(ke("set",hc),function Kt(A){hc=A}(void 0)),kn.measurementId}),to.apply(this,arguments)}class pc{constructor(k){this.app=k}_delete(){return delete $r[this.app.options.appId],Promise.resolve()}}let $r={},ga=[];const _r={};let pd,Ko,Xa="dataLayer",Fc=!1;function Tu(A,k,ee){!function uh(){const A=[];if((0,se.ru)()&&A.push("This is a browser extension environment."),(0,se.zI)()||A.push("Cookies are not available."),A.length>0){const k=A.map((pe,ke)=>`(${ke+1}) ${pe}`).join(" "),ee=gs.create("invalid-analytics-context",{errorInfo:k});si.warn(ee.message)}}();const pe=A.options.appId;if(!pe)throw gs.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw gs.create("no-api-key");si.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=$r[pe])throw gs.create("already-exists",{id:pe});if(!Fc){!function Iu(A){let k=[];Array.isArray(window[A])?k=window[A]:window[A]=k}(Xa);const{wrappedGtag:Ze,gtagCore:gt}=function cc(A,k,ee,pe,ke){let Ze=function(...gt){window[pe].push(arguments)};return window[ke]&&"function"==typeof window[ke]&&(Ze=window[ke]),window[ke]=function sl(A,k,ee,pe){function Ze(){return Ze=(0,d.Z)(function*(gt,...qt){try{if("event"===gt){const[Ht,yn]=qt;yield function kc(A,k,ee,pe,ke){return uc.apply(this,arguments)}(A,k,ee,Ht,yn)}else if("config"===gt){const[Ht,yn]=qt;yield function Oa(A,k,ee,pe,ke,Ze){return Ja.apply(this,arguments)}(A,k,ee,pe,Ht,yn)}else if("consent"===gt){const[Ht]=qt;A("consent","update",Ht)}else if("get"===gt){const[Ht,yn,kn]=qt;A("get",Ht,yn,kn)}else if("set"===gt){const[Ht]=qt;A("set",Ht)}else A(gt,...qt)}catch(Ht){si.error(Ht)}}),Ze.apply(this,arguments)}return function ke(gt){return Ze.apply(this,arguments)}}(Ze,A,k,ee),{gtagCore:Ze,wrappedGtag:window[ke]}}($r,ga,_r,Xa,"gtag");Ko=Ze,pd=gt,Fc=!0}return $r[pe]=function dr(A,k,ee,pe,ke,Ze,gt){return to.apply(this,arguments)}(A,ga,_r,k,pd,Xa,ee),new pc(A)}function Gu(){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,d.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}const If="@firebase/analytics";!function wf(){(0,he.Xd)(new de.wA(ha,(k,{options:ee})=>Tu(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),ee),"PUBLIC")),(0,he.Xd)(new de.wA("analytics-internal",function A(k){try{const ee=k.getProvider(ha).getImmediate();return{logEvent:(pe,ke,Ze)=>function $l(A,k,ee,pe){A=(0,se.m9)(A),function pa(A,k,ee,pe,ke){return Bo.apply(this,arguments)}(Ko,$r[A.app.options.appId],k,ee,pe).catch(ke=>si.error(ke))}(ee,pe,ke,Ze)}}catch(ee){throw gs.create("interop-component-reg-failed",{reason:ee})}},"PRIVATE")),(0,he.KN)(If,"0.10.0"),(0,he.KN)(If,"0.10.0","esm2017")}();var ul=B(2381),lh=B(6321),Na=B(5592),ya=B(9397),cl=B(5137),zu=B(3093);const ll=new m.GfV("7.6.1"),Su="__angularfire_symbol__analyticsIsSupportedValue",yd="__angularfire_symbol__analyticsIsSupported",yc="__angularfire_symbol__remoteConfigIsSupportedValue",dl="__angularfire_symbol__remoteConfigIsSupported",Au="__angularfire_symbol__messagingIsSupportedValue",xs="__angularfire_symbol__messagingIsSupported";function Hl(A,k,ee){if(k){if(1===k.length)return k[0];const Ze=k.filter(gt=>gt.app===ee);if(1===Ze.length)return Ze[0]}return ee.container.getProvider(A).getImmediate({optional:!0})}globalThis[yd]||(globalThis[yd]=Gu().then(A=>globalThis[Su]=A).catch(()=>globalThis[Su]=!1)),globalThis[xs]||(globalThis[xs]=sc().then(A=>globalThis[Au]=A).catch(()=>globalThis[Au]=!1)),globalThis[dl]||(globalThis[dl]=wi().then(A=>globalThis[yc]=A).catch(()=>globalThis[yc]=!1));const Vc=(A,k)=>{const ee=k?[k]:(0,Q.C6)(),pe=[];return ee.forEach(ke=>{ke.container.getProvider(A).instances.forEach(gt=>{pe.includes(gt)||pe.push(gt)})}),pe};function ka(){}class _d{constructor(k,ee=ul.N){this.zone=k,this.delegate=ee}now(){return this.delegate.now()}schedule(k,ee,pe){const ke=this.zone;return this.delegate.schedule(function(gt){ke.runGuarded(()=>{k.apply(this,[gt])})},ee,pe)}}class vd{constructor(k){this.zone=k,this.task=null}call(k,ee){const pe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ka,{},ka,ka)),ee.pipe((0,ya.b)({next:pe,complete:pe,error:pe})).subscribe(k).add(pe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let vc=(()=>{class A{constructor(ee){this.ngZone=ee,this.outsideAngular=ee.runOutsideAngular(()=>new _d(Zone.current)),this.insideAngular=ee.run(()=>new _d(Zone.current,lh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return A.\u0275fac=function(ee){return new(ee||A)(m.LFG(m.R0b))},A.\u0275prov=m.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function qu(){const A=globalThis.\u0275AngularFireScheduler;if(!A)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return A}function Yo(A){return qu().ngZone.run(()=>A())}function fl(A){return qu(),function tu(A){return function(ee){return(ee=ee.lift(new vd(A.ngZone))).pipe((0,cl.R)(A.outsideAngular),(0,zu.Q)(A.insideAngular))}}(qu())(A)}const Bc=(A,k)=>function(){const pe=arguments;return k&&setTimeout(()=>{"scheduled"===k.state&&k.invoke()},10),Yo(()=>A.apply(void 0,pe))},Ec=(A,k)=>function(){let ee;const pe=arguments;for(let Ze=0;Ze<arguments.length;Ze++)"function"==typeof pe[Ze]&&(k&&(ee||(ee=Yo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ka,{},ka,ka)))),pe[Ze]=Bc(pe[Ze],ee));const ke=function bf(A){return qu().ngZone.runOutsideAngular(()=>A())}(()=>A.apply(this,pe));if(!k){if(ke instanceof Na.y){const Ze=qu();return ke.pipe((0,cl.R)(Ze.outsideAngular),(0,zu.Q)(Ze.insideAngular))}return Yo(()=>ke)}return ke instanceof Na.y?ke.pipe(fl):ke instanceof Promise?Yo(()=>new Promise((Ze,gt)=>ke.then(qt=>Yo(()=>Ze(qt)),qt=>Yo(()=>gt(qt))))):"function"==typeof ke&&ee?function(){return setTimeout(()=>{ee&&"scheduled"===ee.state&&ee.invoke()},10),ke.apply(this,arguments)}:Yo(()=>ke)}},229:($t,Ge,B)=>{"use strict";B.d(Ge,{$s:()=>Ot,BH:()=>ht,L:()=>we,LL:()=>It,P0:()=>ft,Pz:()=>qe,Sg:()=>Ke,US:()=>de,ZR:()=>et,aH:()=>Te,b$:()=>yt,eu:()=>ze,hl:()=>$e,m9:()=>Wn,ne:()=>mr,ru:()=>gn,tV:()=>te,uI:()=>ge,vZ:()=>bt,xO:()=>mn,z$:()=>Se,zI:()=>Je});const he=function(Y){const F=[];let $=0;for(let q=0;q<Y.length;q++){let G=Y.charCodeAt(q);G<128?F[$++]=G:G<2048?(F[$++]=G>>6|192,F[$++]=63&G|128):55296==(64512&G)&&q+1<Y.length&&56320==(64512&Y.charCodeAt(q+1))?(G=65536+((1023&G)<<10)+(1023&Y.charCodeAt(++q)),F[$++]=G>>18|240,F[$++]=G>>12&63|128,F[$++]=G>>6&63|128,F[$++]=63&G|128):(F[$++]=G>>12|224,F[$++]=G>>6&63|128,F[$++]=63&G|128)}return F},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Y,F){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let G=0;G<Y.length;G+=3){const Ce=Y[G],nt=G+1<Y.length,Mt=nt?Y[G+1]:0,ln=G+2<Y.length,hn=ln?Y[G+2]:0;let Ln=(15&Mt)<<2|hn>>6,Vr=63&hn;ln||(Vr=64,nt||(Ln=64)),q.push($[Ce>>2],$[(3&Ce)<<4|Mt>>4],$[Ln],$[Vr])}return q.join("")},encodeString(Y,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(Y):this.encodeByteArray(he(Y),F)},decodeString(Y,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(Y):function(Y){const F=[];let $=0,q=0;for(;$<Y.length;){const G=Y[$++];if(G<128)F[q++]=String.fromCharCode(G);else if(G>191&&G<224){const Ce=Y[$++];F[q++]=String.fromCharCode((31&G)<<6|63&Ce)}else if(G>239&&G<365){const ln=((7&G)<<18|(63&Y[$++])<<12|(63&Y[$++])<<6|63&Y[$++])-65536;F[q++]=String.fromCharCode(55296+(ln>>10)),F[q++]=String.fromCharCode(56320+(1023&ln))}else{const Ce=Y[$++],nt=Y[$++];F[q++]=String.fromCharCode((15&G)<<12|(63&Ce)<<6|63&nt)}}return F.join("")}(this.decodeStringToByteArray(Y,F))},decodeStringToByteArray(Y,F){this.init_();const $=F?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let G=0;G<Y.length;){const Ce=$[Y.charAt(G++)],Mt=G<Y.length?$[Y.charAt(G)]:0;++G;const hn=G<Y.length?$[Y.charAt(G)]:64;++G;const nn=G<Y.length?$[Y.charAt(G)]:64;if(++G,null==Ce||null==Mt||null==hn||null==nn)throw new _e;q.push(Ce<<2|Mt>>4),64!==hn&&(q.push(Mt<<4&240|hn>>2),64!==nn&&q.push(hn<<6&192|nn))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}};class _e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const we=function(Y){return function(Y){const F=he(Y);return de.encodeByteArray(F,!0)}(Y).replace(/\./g,"")},te=function(Y){try{return de.decodeString(Y,!0)}catch(F){console.error("base64Decode failed: ",F)}return null},xt=()=>{try{return function Oe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Y=process.env.__FIREBASE_DEFAULTS__;return Y?JSON.parse(Y):void 0})()||(()=>{if(typeof document>"u")return;let Y;try{Y=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=Y&&te(Y[1]);return F&&JSON.parse(F)})()}catch(Y){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Y}`)}},ft=Y=>{const F=(Y=>{var F,$;return null===($=null===(F=xt())||void 0===F?void 0:F.emulatorHosts)||void 0===$?void 0:$[Y]})(Y);if(!F)return;const $=F.lastIndexOf(":");if($<=0||$+1===F.length)throw new Error(`Invalid host ${F} with no separate hostname and port!`);const q=parseInt(F.substring($+1),10);return"["===F[0]?[F.substring(1,$-1),q]:[F.substring(0,$),q]},Te=()=>{var Y;return null===(Y=xt())||void 0===Y?void 0:Y.config},qe=Y=>{var F;return null===(F=xt())||void 0===F?void 0:F[`_${Y}`]};class ht{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,$)=>{this.resolve=F,this.reject=$})}wrapCallback(F){return($,q)=>{$?this.reject($):this.resolve(q),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F($):F($,q))}}}function Ke(Y,F){if(Y.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const q=F||"demo-project",G=Y.iat||0,Ce=Y.sub||Y.user_id;if(!Ce)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const nt=Object.assign({iss:`https://securetoken.google.com/${q}`,aud:q,iat:G,exp:G+3600,auth_time:G,sub:Ce,user_id:Ce,firebase:{sign_in_provider:"custom",identities:{}}},Y);return[we(JSON.stringify({alg:"none",type:"JWT"})),we(JSON.stringify(nt)),""].join(".")}function Se(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ge(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Se())}function gn(){const Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function yt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function $e(){try{return"object"==typeof indexedDB}catch{return!1}}function ze(){return new Promise((Y,F)=>{try{let $=!0;const q="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open(q);G.onsuccess=()=>{G.result.close(),$||self.indexedDB.deleteDatabase(q),Y(!0)},G.onupgradeneeded=()=>{$=!1},G.onerror=()=>{var Ce;F((null===(Ce=G.error)||void 0===Ce?void 0:Ce.message)||"")}}catch($){F($)}})}function Je(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class et extends Error{constructor(F,$,q){super($),this.code=F,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,et.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,It.prototype.create)}}class It{constructor(F,$,q){this.service=F,this.serviceName=$,this.errors=q}create(F,...$){const q=$[0]||{},G=`${this.service}/${F}`,Ce=this.errors[F],nt=Ce?function Vt(Y,F){return Y.replace(Gt,($,q)=>{const G=F[q];return null!=G?String(G):`<${q}?>`})}(Ce,q):"Error";return new et(G,`${this.serviceName}: ${nt} (${G}).`,q)}}const Gt=/\{\$([^}]+)}/g;function bt(Y,F){if(Y===F)return!0;const $=Object.keys(Y),q=Object.keys(F);for(const G of $){if(!q.includes(G))return!1;const Ce=Y[G],nt=F[G];if(kt(Ce)&&kt(nt)){if(!bt(Ce,nt))return!1}else if(Ce!==nt)return!1}for(const G of q)if(!$.includes(G))return!1;return!0}function kt(Y){return null!==Y&&"object"==typeof Y}function mn(Y){const F=[];for(const[$,q]of Object.entries(Y))Array.isArray(q)?q.forEach(G=>{F.push(encodeURIComponent($)+"="+encodeURIComponent(G))}):F.push(encodeURIComponent($)+"="+encodeURIComponent(q));return F.length?"&"+F.join("&"):""}function mr(Y,F){const $=new rn(Y,F);return $.subscribe.bind($)}class rn{constructor(F,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{F(this)}).catch(q=>{this.error(q)})}next(F){this.forEachObserver($=>{$.next(F)})}error(F){this.forEachObserver($=>{$.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,$,q){let G;if(void 0===F&&void 0===$&&void 0===q)throw new Error("Missing Observer.");G=function Er(Y,F){if("object"!=typeof Y||null===Y)return!1;for(const $ of F)if($ in Y&&"function"==typeof Y[$])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:$,complete:q},void 0===G.next&&(G.next=bn),void 0===G.error&&(G.error=bn),void 0===G.complete&&(G.complete=bn);const Ce=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?G.error(this.finalError):G.complete()}catch{}}),this.observers.push(G),Ce}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,F)}sendOne(F,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{$(this.observers[F])}catch(q){typeof console<"u"&&console.error&&console.error(q)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bn(){}const xr=1e3,dt=2,xe=144e5,ot=.5;function Ot(Y,F=xr,$=dt){const q=F*Math.pow($,Y),G=Math.round(ot*q*(Math.random()-.5)*2);return Math.min(xe,q+G)}function Wn(Y){return Y&&Y._delegate?Y._delegate:Y}},9058:($t,Ge,B)=>{"use strict";B.d(Ge,{BH:()=>ht,L:()=>we,LL:()=>It,Pz:()=>qe,ZR:()=>et,aH:()=>Te,b$:()=>yt,eu:()=>ze,hl:()=>$e,m9:()=>Wn,ne:()=>mr,pd:()=>tn,q4:()=>en,ru:()=>gn,tV:()=>te,uI:()=>ge,vZ:()=>bt,w1:()=>vn,xO:()=>mn,xb:()=>rt,z$:()=>Se,zd:()=>Dn});const he=function(Y){const F=[];let $=0;for(let q=0;q<Y.length;q++){let G=Y.charCodeAt(q);G<128?F[$++]=G:G<2048?(F[$++]=G>>6|192,F[$++]=63&G|128):55296==(64512&G)&&q+1<Y.length&&56320==(64512&Y.charCodeAt(q+1))?(G=65536+((1023&G)<<10)+(1023&Y.charCodeAt(++q)),F[$++]=G>>18|240,F[$++]=G>>12&63|128,F[$++]=G>>6&63|128,F[$++]=63&G|128):(F[$++]=G>>12|224,F[$++]=G>>6&63|128,F[$++]=63&G|128)}return F},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Y,F){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let G=0;G<Y.length;G+=3){const Ce=Y[G],nt=G+1<Y.length,Mt=nt?Y[G+1]:0,ln=G+2<Y.length,hn=ln?Y[G+2]:0;let Ln=(15&Mt)<<2|hn>>6,Vr=63&hn;ln||(Vr=64,nt||(Ln=64)),q.push($[Ce>>2],$[(3&Ce)<<4|Mt>>4],$[Ln],$[Vr])}return q.join("")},encodeString(Y,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(Y):this.encodeByteArray(he(Y),F)},decodeString(Y,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(Y):function(Y){const F=[];let $=0,q=0;for(;$<Y.length;){const G=Y[$++];if(G<128)F[q++]=String.fromCharCode(G);else if(G>191&&G<224){const Ce=Y[$++];F[q++]=String.fromCharCode((31&G)<<6|63&Ce)}else if(G>239&&G<365){const ln=((7&G)<<18|(63&Y[$++])<<12|(63&Y[$++])<<6|63&Y[$++])-65536;F[q++]=String.fromCharCode(55296+(ln>>10)),F[q++]=String.fromCharCode(56320+(1023&ln))}else{const Ce=Y[$++],nt=Y[$++];F[q++]=String.fromCharCode((15&G)<<12|(63&Ce)<<6|63&nt)}}return F.join("")}(this.decodeStringToByteArray(Y,F))},decodeStringToByteArray(Y,F){this.init_();const $=F?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let G=0;G<Y.length;){const Ce=$[Y.charAt(G++)],Mt=G<Y.length?$[Y.charAt(G)]:0;++G;const hn=G<Y.length?$[Y.charAt(G)]:64;++G;const nn=G<Y.length?$[Y.charAt(G)]:64;if(++G,null==Ce||null==Mt||null==hn||null==nn)throw new _e;q.push(Ce<<2|Mt>>4),64!==hn&&(q.push(Mt<<4&240|hn>>2),64!==nn&&q.push(hn<<6&192|nn))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}};class _e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const we=function(Y){return function(Y){const F=he(Y);return de.encodeByteArray(F,!0)}(Y).replace(/\./g,"")},te=function(Y){try{return de.decodeString(Y,!0)}catch(F){console.error("base64Decode failed: ",F)}return null},xt=()=>{try{return function Oe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Y=process.env.__FIREBASE_DEFAULTS__;return Y?JSON.parse(Y):void 0})()||(()=>{if(typeof document>"u")return;let Y;try{Y=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=Y&&te(Y[1]);return F&&JSON.parse(F)})()}catch(Y){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Y}`)}},en=Y=>{var F,$;return null===($=null===(F=xt())||void 0===F?void 0:F.emulatorHosts)||void 0===$?void 0:$[Y]},Te=()=>{var Y;return null===(Y=xt())||void 0===Y?void 0:Y.config},qe=Y=>{var F;return null===(F=xt())||void 0===F?void 0:F[`_${Y}`]};class ht{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,$)=>{this.resolve=F,this.reject=$})}wrapCallback(F){return($,q)=>{$?this.reject($):this.resolve(q),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F($):F($,q))}}}function Se(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ge(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Se())}function gn(){const Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function yt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function vn(){const Y=Se();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function $e(){try{return"object"==typeof indexedDB}catch{return!1}}function ze(){return new Promise((Y,F)=>{try{let $=!0;const q="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open(q);G.onsuccess=()=>{G.result.close(),$||self.indexedDB.deleteDatabase(q),Y(!0)},G.onupgradeneeded=()=>{$=!1},G.onerror=()=>{var Ce;F((null===(Ce=G.error)||void 0===Ce?void 0:Ce.message)||"")}}catch($){F($)}})}class et extends Error{constructor(F,$,q){super($),this.code=F,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,et.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,It.prototype.create)}}class It{constructor(F,$,q){this.service=F,this.serviceName=$,this.errors=q}create(F,...$){const q=$[0]||{},G=`${this.service}/${F}`,Ce=this.errors[F],nt=Ce?function Vt(Y,F){return Y.replace(Gt,($,q)=>{const G=F[q];return null!=G?String(G):`<${q}?>`})}(Ce,q):"Error";return new et(G,`${this.serviceName}: ${nt} (${G}).`,q)}}const Gt=/\{\$([^}]+)}/g;function rt(Y){for(const F in Y)if(Object.prototype.hasOwnProperty.call(Y,F))return!1;return!0}function bt(Y,F){if(Y===F)return!0;const $=Object.keys(Y),q=Object.keys(F);for(const G of $){if(!q.includes(G))return!1;const Ce=Y[G],nt=F[G];if(kt(Ce)&&kt(nt)){if(!bt(Ce,nt))return!1}else if(Ce!==nt)return!1}for(const G of q)if(!$.includes(G))return!1;return!0}function kt(Y){return null!==Y&&"object"==typeof Y}function mn(Y){const F=[];for(const[$,q]of Object.entries(Y))Array.isArray(q)?q.forEach(G=>{F.push(encodeURIComponent($)+"="+encodeURIComponent(G))}):F.push(encodeURIComponent($)+"="+encodeURIComponent(q));return F.length?"&"+F.join("&"):""}function Dn(Y){const F={};return Y.replace(/^\?/,"").split("&").forEach(q=>{if(q){const[G,Ce]=q.split("=");F[decodeURIComponent(G)]=decodeURIComponent(Ce)}}),F}function tn(Y){const F=Y.indexOf("?");if(!F)return"";const $=Y.indexOf("#",F);return Y.substring(F,$>0?$:void 0)}function mr(Y,F){const $=new rn(Y,F);return $.subscribe.bind($)}class rn{constructor(F,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{F(this)}).catch(q=>{this.error(q)})}next(F){this.forEachObserver($=>{$.next(F)})}error(F){this.forEachObserver($=>{$.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,$,q){let G;if(void 0===F&&void 0===$&&void 0===q)throw new Error("Missing Observer.");G=function Er(Y,F){if("object"!=typeof Y||null===Y)return!1;for(const $ of F)if($ in Y&&"function"==typeof Y[$])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:$,complete:q},void 0===G.next&&(G.next=bn),void 0===G.error&&(G.error=bn),void 0===G.complete&&(G.complete=bn);const Ce=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?G.error(this.finalError):G.complete()}catch{}}),this.observers.push(G),Ce}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,F)}sendOne(F,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{$(this.observers[F])}catch(q){typeof console<"u"&&console.error&&console.error(q)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bn(){}function Wn(Y){return Y&&Y._delegate?Y._delegate:Y}},1816:($t,Ge,B)=>{"use strict";B.d(Ge,{y:()=>d});var m=B(8645),Q=B(9468);let d=(()=>{class he{constructor(){this.modalMessageSource=new m.x,this.modalMessage$=this.modalMessageSource.asObservable()}sendModalMessage(de){this.modalMessageSource.next(de)}static#e=this.\u0275fac=function(_e){return new(_e||he)};static#t=this.\u0275prov=Q.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"})}return he})()},2732:($t,Ge,B)=>{"use strict";B.d(Ge,{Q:()=>d});var m=B(9468),Q=B(6593);let d=(()=>{class he{constructor(de){this.sanitizer=de}transform(de){let _e;if(de.startsWith("https://m."))_e=new URLSearchParams(de.split("?")[1]).get("v")||"";else{const we=de.split("/");_e=we[we.length-1]}return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+_e)}static#e=this.\u0275fac=function(_e){return new(_e||he)(m.Y36(Q.H7,16))};static#t=this.\u0275pipe=m.Yjl({name:"safeUrl",type:he,pure:!0})}return he})()},2772:($t,Ge,B)=>{"use strict";B.d(Ge,{r:()=>de});var m=B(6814),Q=B(1705),d=B(95),he=B(3752),se=B(9468);let de=(()=>{class _e{static#e=this.\u0275fac=function(te){return new(te||_e)};static#t=this.\u0275mod=se.oAB({type:_e});static#n=this.\u0275inj=se.cJS({imports:[m.ez,Q.Bz,d.u5,d.UX,he.bB]})}return _e})()},8850:($t,Ge,B)=>{"use strict";B.d(Ge,{O:()=>de});var m=B(5861),Q=B(3477),d=B(8645),he=B(9468),se=B(4456);let de=(()=>{class _e{constructor(we,te){this.firestore=we,this.globalErrorHandler=te,this.commentAddedSubject=new d.x,this.collectionName="Comments"}getCommentsByQuery(we,te){var oe=this;return(0,m.Z)(function*(){try{const Ae=(0,Q.hJ)(oe.firestore,oe.collectionName),Ue=(0,Q.IO)(Ae,(0,Q.ar)(we,"==",te)),Oe=yield(0,Q.PL)(Ue),Xe=[];return Oe.forEach(Dt=>{const{create_time:Rt,name:xt,recipeId:en,comment:ft,uid:Te}=Dt.data();Xe.push({create_time:Rt,name:xt,recipeId:en,comment:ft,uid:Te,id:Dt.id})}),Xe.sort((Dt,Rt)=>{const xt=Dt.create_time.toDate();return Rt.create_time.toDate().getTime()-xt.getTime()}),Xe}catch(Ae){return oe.globalErrorHandler.handleError(Ae),[]}})()}getCommentsForRecipe(we){var te=this;return(0,m.Z)(function*(){return te.getCommentsByQuery("recipeId",we)})()}getCommentsForUser(we){var te=this;return(0,m.Z)(function*(){return te.getCommentsByQuery("uid",we)})()}addComment(we){var te=this;return(0,m.Z)(function*(){try{const oe=yield(0,Q.ET)((0,Q.hJ)(te.firestore,te.collectionName),we);return te.commentAddedSubject.next(),oe.id}catch(oe){return te.globalErrorHandler.handleError(oe),null}})()}deleteComment(we){var te=this;return(0,m.Z)(function*(){try{const oe=(0,Q.JU)(te.firestore,te.collectionName,we);yield(0,Q.oe)(oe),console.log("Comment deleted successfully:",we)}catch(oe){throw te.globalErrorHandler.handleError(oe),oe}})()}getCommentById(we){var te=this;return(0,m.Z)(function*(){const oe=(0,Q.JU)(te.firestore,te.collectionName,we),Ae=yield(0,Q.QT)(oe);if(Ae.exists()){const Ue=Ae.data();return console.log(Ue.recipeId),Ae.data()}return null})()}editComment(we,te){var oe=this;return(0,m.Z)(function*(){const Ue=(0,Q.JU)(oe.firestore,"Comments",te),Oe={...we};try{yield(0,Q.r7)(Ue,Oe)}catch(Xe){throw oe.globalErrorHandler.handleError(Xe),Xe}})()}getCommentAddedObservable(){return this.commentAddedSubject.asObservable()}static#e=this.\u0275fac=function(te){return new(te||_e)(he.LFG(Q.gg),he.LFG(se.r))};static#t=this.\u0275prov=he.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})()},3424:($t,Ge,B)=>{"use strict";B.d(Ge,{l:()=>d});var m=B(95),Q=B(9468);let d=(()=>{class he{markFormGroupTouched(de){Object.values(de.controls).forEach(_e=>{_e instanceof m.NI?_e.markAsTouched():_e instanceof m.cw&&this.markFormGroupTouched(_e)})}markFormArrayControlsTouched(de){for(let _e=0;_e<de.length;_e++){const Ne=de.at(_e);this.markFormGroupTouched(Ne)}}getFormGroupErrors(de){let _e="";return Object.keys(de.controls).forEach(Ne=>{const we=de.get(Ne)?.errors;we&&Object.keys(we).forEach(te=>{_e+=`${Ne} ${this.getControlErrorMessage(te,we[te])}\n`})}),_e}getControlErrorMessage(de,_e){switch(de){case"required":return"-> this field is required.";case"minlength":return`-> Minimum length is ${_e.requiredLength}.`;case"maxlength":return`-> Maximum length is ${_e.requiredLength}.`;default:return""}}static#e=this.\u0275fac=function(_e){return new(_e||he)};static#t=this.\u0275prov=Q.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"})}return he})()},4456:($t,Ge,B)=>{"use strict";B.d(Ge,{r:()=>d});var m=B(9468),Q=B(1816);let d=(()=>{class he{constructor(de){this.alertService=de}handleError(de){if(de instanceof Error){const _e=de.name,Ne=de.message;console.error(`Error (${_e}): ${Ne}`),this.alertService.sendModalMessage(`Error (${_e}): \n\n         ${Ne}`)}else this.alertService.sendModalMessage(`Unknown error occurred:\n      \n${de}`)}static#e=this.\u0275fac=function(_e){return new(_e||he)(m.LFG(Q.y))};static#t=this.\u0275prov=m.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"})}return he})()},3585:($t,Ge,B)=>{"use strict";B.d(Ge,{j:()=>te});var m=B(5861),Q=B(3477),d=B(5619),he=B(6973),se=B(305),_e=B(9468),Ne=B(1705),we=B(4456);let te=(()=>{class oe{constructor(Ue,Oe,Xe){this.firestore=Ue,this.router=Oe,this.globalErrorHandler=Xe,this.lastDocSubject=new d.X(void 0),this.lastDoc$=this.lastDocSubject.asObservable(),this.collectionName="Recipe",this.paginateNumber=12}getRecipes(){var Ue=this;return(0,m.Z)(function*(){try{let Oe=(0,Q.IO)((0,Q.hJ)(Ue.firestore,Ue.collectionName),(0,Q.Xo)("title"),(0,Q.ar)("public","==",!0));Oe=(0,Q.IO)(Oe,(0,Q.b9)(Ue.paginateNumber));const Xe=yield(0,Q.PL)(Oe);let Dt=[];return Xe.forEach(xt=>{const ft={...xt.data(),id:xt.id};ft.public&&Dt.push(ft)}),Ue.lastDocSubject.next(Xe.docs[Xe.docs.length-1]),{data:Dt}}catch(Oe){throw Ue.globalErrorHandler.handleError(Oe),Oe}})()}getRecipesLoadMore(){var Ue=this;return(0,m.Z)(function*(){try{const Oe=yield function de(oe,Ae){const Ue="object"==typeof Ae;return new Promise((Oe,Xe)=>{const Dt=new se.Hp({next:Rt=>{Oe(Rt),Dt.unsubscribe()},error:Xe,complete:()=>{Ue?Oe(Ae.defaultValue):Xe(new he.K)}});oe.subscribe(Dt)})}(Ue.lastDoc$);let Xe=(0,Q.IO)((0,Q.hJ)(Ue.firestore,Ue.collectionName),(0,Q.Xo)("title"),(0,Q.ar)("public","==",!0));Oe&&(Xe=(0,Q.IO)(Xe,(0,Q.TQ)(Oe))),Xe=(0,Q.IO)(Xe,(0,Q.b9)(Ue.paginateNumber));const Dt=yield(0,Q.PL)(Xe);let Rt=[];Dt.forEach(ft=>{const qe={...ft.data(),id:ft.id};qe.public&&Rt.push(qe)});const xt=Dt.size===Ue.paginateNumber;return Ue.lastDocSubject.next(Dt.docs[Dt.docs.length-1]),{data:Rt,hasMore:xt}}catch(Oe){throw Ue.globalErrorHandler.handleError(Oe),Oe}})()}getRecipeById(Ue){var Oe=this;return(0,m.Z)(function*(){try{const Xe=(0,Q.JU)(Oe.firestore,Oe.collectionName,Ue),Dt=yield(0,Q.QT)(Xe);if(Dt.exists()){let Rt=Dt.data();return Rt.id||(Rt={...Rt,id:Ue}),Rt}return null}catch(Xe){throw Oe.globalErrorHandler.handleError(Xe),Xe}})()}getRecipeByUID(Ue){var Oe=this;return(0,m.Z)(function*(){try{const Xe=(0,Q.hJ)(Oe.firestore,Oe.collectionName),Dt=(0,Q.IO)(Xe,(0,Q.ar)("uid","==",Ue)),Rt=yield(0,Q.PL)(Dt),xt=[];return Rt.forEach(en=>{const Te={...en.data(),id:en.id};xt.push(Te)}),xt}catch(Xe){throw Oe.globalErrorHandler.handleError(Xe),Xe}})()}searchRecipesByTitle(Ue){var Oe=this;return(0,m.Z)(function*(){try{let Xe=(0,Q.IO)((0,Q.hJ)(Oe.firestore,Oe.collectionName),(0,Q.Xo)("title"));const Dt=yield(0,Q.PL)(Xe);let Rt=[];return Dt.forEach(xt=>{const ft={...xt.data(),id:xt.id};Rt.push(ft)}),Ue&&(Rt=Rt.filter(xt=>xt.title.toLowerCase().includes(Ue.toLowerCase()))),{data:Rt}}catch(Xe){throw Oe.globalErrorHandler.handleError(Xe),Xe}})()}updateRecipeLikes(Ue,Oe,Xe){var Dt=this;return(0,m.Z)(function*(){const Rt=(0,Q.JU)(Dt.firestore,Dt.collectionName,Ue);try{Xe?(console.log("remove"),yield(0,Q.r7)(Rt,{likes:(0,Q.Ab)(Oe)})):(console.log("add"),yield(0,Q.r7)(Rt,{likes:(0,Q.vr)(Oe)})),console.log("Recipe likes updated successfully")}catch(xt){throw Dt.globalErrorHandler.handleError(xt),xt}})()}deleteRecipe(Ue){var Oe=this;return(0,m.Z)(function*(){try{const Xe=(0,Q.JU)(Oe.firestore,Oe.collectionName,Ue);yield(0,Q.oe)(Xe),console.log("Recipe deleted successfully:",Ue)}catch(Xe){throw Oe.globalErrorHandler.handleError(Xe),Xe}})()}addRecipe(Ue){(0,Q.ET)((0,Q.hJ)(this.firestore,this.collectionName),Ue).then(Oe=>{console.log("Document written with ID: ",Oe.id),this.router.navigate(["/recipe",Oe.id])}).catch(Oe=>{throw this.globalErrorHandler.handleError(Oe),Oe})}updateRecipe(Ue,Oe){if(Oe){const Xe=(0,Q.JU)(this.firestore,this.collectionName,Oe),Dt={...Ue};(0,Q.r7)(Xe,Dt).then(()=>{console.log("Document successfully updated"),this.router.navigate(["/recipe",Oe])}).catch(Rt=>{this.globalErrorHandler.handleError(Rt)})}else this.globalErrorHandler.handleError("Invalid recipe id.")}static#e=this.\u0275fac=function(Oe){return new(Oe||oe)(_e.LFG(Q.gg),_e.LFG(Ne.F0),_e.LFG(we.r))};static#t=this.\u0275prov=_e.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"})}return oe})()},6499:($t,Ge,B)=>{"use strict";B.d(Ge,{K:()=>xm});var m=B(5861),Q=B(9058),d=B(4303),he=B(7879),se=B(7582),de=B(4537);const Xe=function Ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Dt=new Q.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xt=new he.Yd("@firebase/auth");function ft(D,...g){xt.logLevel<=he.in.ERROR&&xt.error(`Auth (${d.Jn}): ${D}`,...g)}function Te(D,...g){throw Se(D,...g)}function qe(D,...g){return Se(D,...g)}function Se(D,...g){if("string"!=typeof D){const _=g[0],S=[...g.slice(1)];return S[0]&&(S[0].appName=D.name),D._errorFactory.create(_,...S)}return Dt.create(D,...g)}function ge(D,g,..._){if(!D)throw Se(g,..._)}function Ve(D){const g="INTERNAL ASSERTION FAILED: "+D;throw ft(g),new Error(g)}function pt(D,g){D||Ve(g)}function gn(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function sn(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class Zn{constructor(g,_){this.shortDelay=g,this.longDelay=_,pt(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,Q.uI)()||(0,Q.b$)()}get(){return function vn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function yt(){return"http:"===sn()||"https:"===sn()}()||(0,Q.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Jn(D,g){pt(D.emulator,"Emulator should always be set here");const{url:_}=D.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class $e{static initialize(g,_,S){this.fetchImpl=g,_&&(this.headersImpl=_),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ze={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Je=new Zn(3e4,6e4);function je(D,g){return D.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:D.tenantId}):g}function et(D,g,_,S){return It.apply(this,arguments)}function It(){return(It=(0,m.Z)(function*(D,g,_,S,Z={}){return Vt(D,Z,(0,m.Z)(function*(){let ce={},Re={};S&&("GET"===g?Re=S:ce={body:JSON.stringify(S)});const at=(0,Q.xO)(Object.assign({key:D.config.apiKey},Re)).slice(1),Nt=yield D._getAdditionalHeaders();return Nt["Content-Type"]="application/json",D.languageCode&&(Nt["X-Firebase-Locale"]=D.languageCode),$e.fetch()(jt(D,D.config.apiHost,_,at),Object.assign({method:g,headers:Nt,referrerPolicy:"no-referrer"},ce))}))})).apply(this,arguments)}function Vt(D,g,_){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,m.Z)(function*(D,g,_){D._canInitEmulator=!1;const S=Object.assign(Object.assign({},ze),g);try{const Z=new wn(D),ce=yield Promise.race([_(),Z.promise]);Z.clearNetworkTimeout();const Re=yield ce.json();if("needConfirmation"in Re)throw Kn(D,"account-exists-with-different-credential",Re);if(ce.ok&&!("errorMessage"in Re))return Re;{const at=ce.ok?Re.errorMessage:Re.error.message,[Nt,In]=at.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Nt)throw Kn(D,"credential-already-in-use",Re);if("EMAIL_EXISTS"===Nt)throw Kn(D,"email-already-in-use",Re);if("USER_DISABLED"===Nt)throw Kn(D,"user-disabled",Re);const Bn=S[Nt]||Nt.toLowerCase().replace(/[_\s]+/g,"-");if(In)throw function ht(D,g,_){const S=Object.assign(Object.assign({},Xe()),{[g]:_});return new Q.LL("auth","Firebase",S).create(g,{appName:D.name})}(D,Bn,In);Te(D,Bn)}}catch(Z){if(Z instanceof Q.ZR)throw Z;Te(D,"network-request-failed",{message:String(Z)})}})).apply(this,arguments)}function Xt(D,g,_,S){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,m.Z)(function*(D,g,_,S,Z={}){const ce=yield et(D,g,_,S,Z);return"mfaPendingCredential"in ce&&Te(D,"multi-factor-auth-required",{_serverResponse:ce}),ce})).apply(this,arguments)}function jt(D,g,_,S){const Z=`${g}${_}?${S}`;return D.config.emulator?Jn(D.config,Z):`${D.config.apiScheme}://${Z}`}function _t(D){switch(D){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,S)=>{this.timer=setTimeout(()=>S(qe(this.auth,"network-request-failed")),Je.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kn(D,g,_){const S={appName:D.name};_.email&&(S.email=_.email),_.phoneNumber&&(S.phoneNumber=_.phoneNumber);const Z=qe(D,g,S);return Z.customData._tokenResponse=_,Z}function Pe(D){return void 0!==D&&void 0!==D.enterprise}class De{constructor(g){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=g.recaptchaEnforcementState}getProviderEnforcementState(g){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const _ of this.recaptchaEnforcementState)if(_.provider&&_.provider===g)return _t(_.enforcementState);return null}isProviderEnabled(g){return"ENFORCE"===this.getProviderEnforcementState(g)||"AUDIT"===this.getProviderEnforcementState(g)}}function bt(D,g){return kt.apply(this,arguments)}function kt(){return(kt=(0,m.Z)(function*(D,g){return et(D,"GET","/v2/recaptchaConfig",je(D,g))})).apply(this,arguments)}function mn(){return(mn=(0,m.Z)(function*(D,g){return et(D,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function mr(){return(mr=(0,m.Z)(function*(D,g){return et(D,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function rn(D){if(D)try{const g=new Date(Number(D));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function bn(){return(bn=(0,m.Z)(function*(D,g=!1){const _=(0,Q.m9)(D),S=yield _.getIdToken(g),Z=qn(S);ge(Z&&Z.exp&&Z.auth_time&&Z.iat,_.auth,"internal-error");const ce="object"==typeof Z.firebase?Z.firebase:void 0,Re=ce?.sign_in_provider;return{claims:Z,token:S,authTime:rn(zn(Z.auth_time)),issuedAtTime:rn(zn(Z.iat)),expirationTime:rn(zn(Z.exp)),signInProvider:Re||null,signInSecondFactor:ce?.sign_in_second_factor||null}})).apply(this,arguments)}function zn(D){return 1e3*Number(D)}function qn(D){const[g,_,S]=D.split(".");if(void 0===g||void 0===_||void 0===S)return ft("JWT malformed, contained fewer than 3 sections"),null;try{const Z=(0,Q.tV)(_);return Z?JSON.parse(Z):(ft("Failed to decode base64 JWT payload"),null)}catch(Z){return ft("Caught error parsing JWT payload as JSON",Z?.toString()),null}}function On(D,g){return qr.apply(this,arguments)}function qr(){return(qr=(0,m.Z)(function*(D,g,_=!1){if(_)return g;try{return yield g}catch(S){throw S instanceof Q.ZR&&function Qt({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}(S)&&D.auth.currentUser===D&&(yield D.auth.signOut()),S}})).apply(this,arguments)}class vi{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const Z=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,Z)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const S=this.getInterval(g);this.timerId=setTimeout((0,m.Z)(function*(){yield _.iteration()}),S)}iteration(){var g=this;return(0,m.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&g.schedule(!0))}g.schedule()})()}}class Nr{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=rn(this.lastLoginAt),this.creationTime=rn(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function xr(D){return dt.apply(this,arguments)}function dt(){return dt=(0,m.Z)(function*(D){var g;const _=D.auth,S=yield D.getIdToken(),Z=yield On(D,function dn(D,g){return mr.apply(this,arguments)}(_,{idToken:S}));ge(Z?.users.length,_,"internal-error");const ce=Z.users[0];D._notifyReloadListener(ce);const Re=null!==(g=ce.providerUserInfo)&&void 0!==g&&g.length?function Zt(D){return D.map(g=>{var{providerId:_}=g,S=(0,se._T)(g,["providerId"]);return{providerId:_,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}(ce.providerUserInfo):[],at=function Ot(D,g){return[...D.filter(S=>!g.some(Z=>Z.providerId===S.providerId)),...g]}(D.providerData,Re),Bn=!!D.isAnonymous&&!(D.email&&ce.passwordHash||at?.length),Or={uid:ce.localId,displayName:ce.displayName||null,photoURL:ce.photoUrl||null,email:ce.email||null,emailVerified:ce.emailVerified||!1,phoneNumber:ce.phoneNumber||null,tenantId:ce.tenantId||null,providerData:at,metadata:new Nr(ce.createdAt,ce.lastLoginAt),isAnonymous:Bn};Object.assign(D,Or)}),dt.apply(this,arguments)}function ot(){return(ot=(0,m.Z)(function*(D){const g=(0,Q.m9)(D);yield xr(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Wn(){return(Wn=(0,m.Z)(function*(D,g){const _=yield Vt(D,{},(0,m.Z)(function*(){const S=(0,Q.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:Z,apiKey:ce}=D.config,Re=jt(D,Z,"/v1/token",`key=${ce}`),at=yield D._getAdditionalHeaders();return at["Content-Type"]="application/x-www-form-urlencoded",$e.fetch()(Re,{method:"POST",headers:at,body:S})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}function F(){return(F=(0,m.Z)(function*(D,g){return et(D,"POST","/v2/accounts:revokeToken",je(D,g))})).apply(this,arguments)}class ${constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ge(g.idToken,"internal-error"),ge(typeof g.idToken<"u","internal-error"),ge(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Xn(D){const g=qn(D);return ge(g,"internal-error"),ge(typeof g.exp<"u","internal-error"),ge(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var S=this;return(0,m.Z)(function*(){return ge(!S.accessToken||S.refreshToken,g,"user-token-expired"),_||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(g,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var S=this;return(0,m.Z)(function*(){const{accessToken:Z,refreshToken:ce,expiresIn:Re}=yield function Jt(D,g){return Wn.apply(this,arguments)}(g,_);S.updateTokensAndExpiration(Z,ce,Number(Re))})()}updateTokensAndExpiration(g,_,S){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(g,_){const{refreshToken:S,accessToken:Z,expirationTime:ce}=_,Re=new $;return S&&(ge("string"==typeof S,"internal-error",{appName:g}),Re.refreshToken=S),Z&&(ge("string"==typeof Z,"internal-error",{appName:g}),Re.accessToken=Z),ce&&(ge("number"==typeof ce,"internal-error",{appName:g}),Re.expirationTime=ce),Re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new $,this.toJSON())}_performRefresh(){return Ve("not implemented")}}function q(D,g){ge("string"==typeof D||typeof D>"u","internal-error",{appName:g})}class G{constructor(g){var{uid:_,auth:S,stsTokenManager:Z}=g,ce=(0,se._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=S,this.stsTokenManager=Z,this.accessToken=Z.accessToken,this.displayName=ce.displayName||null,this.email=ce.email||null,this.emailVerified=ce.emailVerified||!1,this.phoneNumber=ce.phoneNumber||null,this.photoURL=ce.photoURL||null,this.isAnonymous=ce.isAnonymous||!1,this.tenantId=ce.tenantId||null,this.providerData=ce.providerData?[...ce.providerData]:[],this.metadata=new Nr(ce.createdAt||void 0,ce.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,m.Z)(function*(){const S=yield On(_,_.stsTokenManager.getToken(_.auth,g));return ge(S,_.auth,"internal-error"),_.accessToken!==S&&(_.accessToken=S,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),S})()}getIdTokenResult(g){return function Er(D){return bn.apply(this,arguments)}(this,g)}reload(){return function xe(D){return ot.apply(this,arguments)}(this)}_assign(g){this!==g&&(ge(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const _=new G(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(g){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var S=this;return(0,m.Z)(function*(){let Z=!1;g.idToken&&g.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(g),Z=!0),_&&(yield xr(S)),yield S.auth._persistUserIfCurrent(S),Z&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var g=this;return(0,m.Z)(function*(){const _=yield g.getIdToken();return yield On(g,function pr(D,g){return mn.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var S,Z,ce,Re,at,Nt,In,Bn;const Or=null!==(S=_.displayName)&&void 0!==S?S:void 0,va=null!==(Z=_.email)&&void 0!==Z?Z:void 0,bc=null!==(ce=_.phoneNumber)&&void 0!==ce?ce:void 0,Pf=null!==(Re=_.photoURL)&&void 0!==Re?Re:void 0,Om=null!==(at=_.tenantId)&&void 0!==at?at:void 0,Ad=null!==(Nt=_._redirectEventId)&&void 0!==Nt?Nt:void 0,Pm=null!==(In=_.createdAt)&&void 0!==In?In:void 0,Rm=null!==(Bn=_.lastLoginAt)&&void 0!==Bn?Bn:void 0,{uid:yh,emailVerified:Nm,isAnonymous:km,providerData:Rf,stsTokenManager:yl}=_;ge(yh&&yl,g,"internal-error");const _h=$.fromJSON(this.name,yl);ge("string"==typeof yh,g,"internal-error"),q(Or,g.name),q(va,g.name),ge("boolean"==typeof Nm,g,"internal-error"),ge("boolean"==typeof km,g,"internal-error"),q(bc,g.name),q(Pf,g.name),q(Om,g.name),q(Ad,g.name),q(Pm,g.name),q(Rm,g.name);const Yl=new G({uid:yh,auth:g,email:va,emailVerified:Nm,displayName:Or,isAnonymous:km,photoURL:Pf,phoneNumber:bc,tenantId:Om,stsTokenManager:_h,createdAt:Pm,lastLoginAt:Rm});return Rf&&Array.isArray(Rf)&&(Yl.providerData=Rf.map(Nf=>Object.assign({},Nf))),Ad&&(Yl._redirectEventId=Ad),Yl}static _fromIdTokenResponse(g,_,S=!1){return(0,m.Z)(function*(){const Z=new $;Z.updateFromServerResponse(_);const ce=new G({uid:_.localId,auth:g,stsTokenManager:Z,isAnonymous:S});return yield xr(ce),ce})()}}const Ce=new Map;function nt(D){pt(D instanceof Function,"Expected a class definition");let g=Ce.get(D);return g?(pt(g instanceof D,"Instance stored in cache mismatched with class"),g):(g=new D,Ce.set(D,g),g)}const ln=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(_,S){var Z=this;return(0,m.Z)(function*(){Z.storage[_]=S})()}_get(_){var S=this;return(0,m.Z)(function*(){const Z=S.storage[_];return void 0===Z?null:Z})()}_remove(_){var S=this;return(0,m.Z)(function*(){delete S.storage[_]})()}_addListener(_,S){}_removeListener(_,S){}}return D.type="NONE",D})();function hn(D,g,_){return`firebase:${D}:${g}:${_}`}class Rn{constructor(g,_,S){this.persistence=g,this.auth=_,this.userKey=S;const{config:Z,name:ce}=this.auth;this.fullUserKey=hn(this.userKey,Z.apiKey,ce),this.fullPersistenceKey=hn("persistence",Z.apiKey,ce),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,m.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?G._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,m.Z)(function*(){if(_.persistence===g)return;const S=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,S?_.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,S="authUser"){return(0,m.Z)(function*(){if(!_.length)return new Rn(nt(ln),g,S);const Z=(yield Promise.all(_.map(function(){var In=(0,m.Z)(function*(Bn){if(yield Bn._isAvailable())return Bn});return function(Bn){return In.apply(this,arguments)}}()))).filter(In=>In);let ce=Z[0]||nt(ln);const Re=hn(S,g.config.apiKey,g.name);let at=null;for(const In of _)try{const Bn=yield In._get(Re);if(Bn){const Or=G._fromJSON(g,Bn);In!==ce&&(at=Or),ce=In;break}}catch{}const Nt=Z.filter(In=>In._shouldAllowMigration);return ce._shouldAllowMigration&&Nt.length?(ce=Nt[0],at&&(yield ce._set(Re,at.toJSON())),yield Promise.all(_.map(function(){var In=(0,m.Z)(function*(Bn){if(Bn!==ce)try{yield Bn._remove(Re)}catch{}});return function(Bn){return In.apply(this,arguments)}}())),new Rn(ce,g,S)):new Rn(ce,g,S)})()}}function nn(D){const g=D.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(as(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Ln(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Le(g))return"Blackberry";if(Tn(g))return"Webos";if(Vr(g))return"Safari";if((g.includes("chrome/")||ar(g))&&!g.includes("edge/"))return"Chrome";if(ho(g))return"Android";{const S=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function Ln(D=(0,Q.z$)()){return/firefox\//i.test(D)}function Vr(D=(0,Q.z$)()){const g=D.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function ar(D=(0,Q.z$)()){return/crios\//i.test(D)}function as(D=(0,Q.z$)()){return/iemobile/i.test(D)}function ho(D=(0,Q.z$)()){return/android/i.test(D)}function Le(D=(0,Q.z$)()){return/blackberry/i.test(D)}function Tn(D=(0,Q.z$)()){return/webos/i.test(D)}function U(D=(0,Q.z$)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function We(D=(0,Q.z$)()){return U(D)||ho(D)||Tn(D)||Le(D)||/windows phone/i.test(D)||as(D)}function St(D,g=[]){let _;switch(D){case"Browser":_=nn((0,Q.z$)());break;case"Worker":_=`${nn((0,Q.z$)())}-${D}`;break;default:_=D}const S=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${d.Jn}/${S}`}class Fn{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const S=ce=>new Promise((Re,at)=>{try{Re(g(ce))}catch(Nt){at(Nt)}});S.onAbort=_,this.queue.push(S);const Z=this.queue.length-1;return()=>{this.queue[Z]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,m.Z)(function*(){if(_.auth.currentUser===g)return;const S=[];try{for(const Z of _.queue)yield Z(g),Z.onAbort&&S.push(Z.onAbort)}catch(Z){S.reverse();for(const ce of S)try{ce()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:Z?.message})}})()}}function Cr(){return(Cr=(0,m.Z)(function*(D,g={}){return et(D,"GET","/v2/passwordPolicy",je(D,g))})).apply(this,arguments)}class Mi{constructor(g){var _,S,Z,ce;const Re=g.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(_=Re.minPasswordLength)&&void 0!==_?_:6,Re.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Re.maxPasswordLength),void 0!==Re.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Re.containsLowercaseCharacter),void 0!==Re.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Re.containsUppercaseCharacter),void 0!==Re.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Re.containsNumericCharacter),void 0!==Re.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Re.containsNonAlphanumericCharacter),this.enforcementState=g.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Z=null===(S=g.allowedNonAlphanumericCharacters)||void 0===S?void 0:S.join(""))&&void 0!==Z?Z:"",this.forceUpgradeOnSignin=null!==(ce=g.forceUpgradeOnSignin)&&void 0!==ce&&ce,this.schemaVersion=g.schemaVersion}validatePassword(g){var _,S,Z,ce,Re,at;const Nt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(g,Nt),this.validatePasswordCharacterOptions(g,Nt),Nt.isValid&&(Nt.isValid=null===(_=Nt.meetsMinPasswordLength)||void 0===_||_),Nt.isValid&&(Nt.isValid=null===(S=Nt.meetsMaxPasswordLength)||void 0===S||S),Nt.isValid&&(Nt.isValid=null===(Z=Nt.containsLowercaseLetter)||void 0===Z||Z),Nt.isValid&&(Nt.isValid=null===(ce=Nt.containsUppercaseLetter)||void 0===ce||ce),Nt.isValid&&(Nt.isValid=null===(Re=Nt.containsNumericCharacter)||void 0===Re||Re),Nt.isValid&&(Nt.isValid=null===(at=Nt.containsNonAlphanumericCharacter)||void 0===at||at),Nt}validatePasswordLengthOptions(g,_){const S=this.customStrengthOptions.minPasswordLength,Z=this.customStrengthOptions.maxPasswordLength;S&&(_.meetsMinPasswordLength=g.length>=S),Z&&(_.meetsMaxPasswordLength=g.length<=Z)}validatePasswordCharacterOptions(g,_){let S;this.updatePasswordCharacterOptionsStatuses(_,!1,!1,!1,!1);for(let Z=0;Z<g.length;Z++)S=g.charAt(Z),this.updatePasswordCharacterOptionsStatuses(_,S>="a"&&S<="z",S>="A"&&S<="Z",S>="0"&&S<="9",this.allowedNonAlphanumericCharacters.includes(S))}updatePasswordCharacterOptionsStatuses(g,_,S,Z,ce){this.customStrengthOptions.containsLowercaseLetter&&(g.containsLowercaseLetter||(g.containsLowercaseLetter=_)),this.customStrengthOptions.containsUppercaseLetter&&(g.containsUppercaseLetter||(g.containsUppercaseLetter=S)),this.customStrengthOptions.containsNumericCharacter&&(g.containsNumericCharacter||(g.containsNumericCharacter=Z)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(g.containsNonAlphanumericCharacter||(g.containsNonAlphanumericCharacter=ce))}}class Mo{constructor(g,_,S,Z){this.app=g,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=S,this.config=Z,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ks(this),this.idTokenSubscription=new Ks(this),this.beforeStateQueue=new Fn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=Z.sdkClientVersion}_initializeWithPersistence(g,_){var S=this;return _&&(this._popupRedirectResolver=nt(_)),this._initializationPromise=this.queue((0,m.Z)(function*(){var Z,ce;if(!S._deleted&&(S.persistenceManager=yield Rn.create(S,g),!S._deleted)){if(null!==(Z=S._popupRedirectResolver)&&void 0!==Z&&Z._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(_),S.lastNotifiedUid=(null===(ce=S.currentUser)||void 0===ce?void 0:ce.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,m.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,m.Z)(function*(){var S;const Z=yield _.assertedPersistence.getCurrentUser();let ce=Z,Re=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const at=null===(S=_.redirectUser)||void 0===S?void 0:S._redirectEventId,Nt=ce?._redirectEventId,In=yield _.tryRedirectSignIn(g);(!at||at===Nt)&&In?.user&&(ce=In.user,Re=!0)}if(!ce)return _.directlySetCurrentUser(null);if(!ce._redirectEventId){if(Re)try{yield _.beforeStateQueue.runMiddleware(ce)}catch(at){ce=Z,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(at))}return ce?_.reloadAndSetCurrentUserOrClear(ce):_.directlySetCurrentUser(null)}return ge(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===ce._redirectEventId?_.directlySetCurrentUser(ce):_.reloadAndSetCurrentUserOrClear(ce)})()}tryRedirectSignIn(g){var _=this;return(0,m.Z)(function*(){let S=null;try{S=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,m.Z)(function*(){try{yield xr(g)}catch(S){if("auth/network-request-failed"!==S?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function xn(){if(typeof navigator>"u")return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var g=this;return(0,m.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,m.Z)(function*(){const S=g?(0,Q.m9)(g):null;return S&&ge(S.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(S&&S._clone(_))})()}_updateCurrentUser(g,_=!1){var S=this;return(0,m.Z)(function*(){if(!S._deleted)return g&&ge(S.tenantId===g.tenantId,S,"tenant-id-mismatch"),_||(yield S.beforeStateQueue.runMiddleware(g)),S.queue((0,m.Z)(function*(){yield S.directlySetCurrentUser(g),S.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,m.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,m.Z)(function*(){yield _.assertedPersistence.setPersistence(nt(g))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(g){var _=this;return(0,m.Z)(function*(){_._getPasswordPolicyInternal()||(yield _._updatePasswordPolicy());const S=_._getPasswordPolicyInternal();return S.schemaVersion!==_.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(_._errorFactory.create("unsupported-password-policy-schema-version",{})):S.validatePassword(g)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var g=this;return(0,m.Z)(function*(){const _=yield function er(D){return Cr.apply(this,arguments)}(g),S=new Mi(_);null===g.tenantId?g._projectPasswordPolicy=S:g._tenantPasswordPolicies[g.tenantId]=S})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new Q.LL("auth","Firebase",g())}onAuthStateChanged(g,_,S){return this.registerStateListener(this.authStateSubscription,g,_,S)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,S){return this.registerStateListener(this.idTokenSubscription,g,_,S)}authStateReady(){return new Promise((g,_)=>{if(this.currentUser)g();else{const S=this.onAuthStateChanged(()=>{S(),g()},_)}})}revokeAccessToken(g){var _=this;return(0,m.Z)(function*(){if(_.currentUser){const S=yield _.currentUser.getIdToken(),Z={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:g,idToken:S};null!=_.tenantId&&(Z.tenantId=_.tenantId),yield function Y(D,g){return F.apply(this,arguments)}(_,Z)}})()}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var S=this;return(0,m.Z)(function*(){const Z=yield S.getOrInitRedirectPersistenceManager(_);return null===g?Z.removeCurrentUser():Z.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,m.Z)(function*(){if(!_.redirectPersistenceManager){const S=g&&nt(g)||_._popupRedirectResolver;ge(S,_,"argument-error"),_.redirectPersistenceManager=yield Rn.create(_,[nt(S._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,m.Z)(function*(){var S,Z;return _._isInitialized&&(yield _.queue((0,m.Z)(function*(){}))),(null===(S=_._currentUser)||void 0===S?void 0:S._redirectEventId)===g?_._currentUser:(null===(Z=_.redirectUser)||void 0===Z?void 0:Z._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,m.Z)(function*(){if(g===_.currentUser)return _.queue((0,m.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,S,Z){if(this._deleted)return()=>{};const ce="function"==typeof _?_:_.next.bind(_);let Re=!1;const at=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(at,this,"internal-error"),at.then(()=>{Re||ce(this.currentUser)}),"function"==typeof _){const Nt=g.addObserver(_,S,Z);return()=>{Re=!0,Nt()}}{const Nt=g.addObserver(_);return()=>{Re=!0,Nt()}}}directlySetCurrentUser(g){var _=this;return(0,m.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=St(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,m.Z)(function*(){var _;const S={"X-Client-Version":g.clientVersion};g.app.options.appId&&(S["X-Firebase-gmpid"]=g.app.options.appId);const Z=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();Z&&(S["X-Firebase-Client"]=Z);const ce=yield g._getAppCheckToken();return ce&&(S["X-Firebase-AppCheck"]=ce),S})()}_getAppCheckToken(){var g=this;return(0,m.Z)(function*(){var _;const S=yield null===(_=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return S?.error&&function en(D,...g){xt.logLevel<=he.in.WARN&&xt.warn(`Auth (${d.Jn}): ${D}`,...g)}(`Error while retrieving App Check token: ${S.error}`),S?.token})()}}function ti(D){return(0,Q.m9)(D)}class Ks{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,Q.ne)(_=>this.observer=_)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xi={loadJS:()=>(0,m.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ks(D){return xi.loadJS(D)}function Ls(D){return`__${D}${Math.floor(1e6*Math.random())}`}class Ir{constructor(g){this.type="recaptcha-enterprise",this.auth=ti(g)}verify(g="verify",_=!1){var S=this;return(0,m.Z)(function*(){function ce(){return ce=(0,m.Z)(function*(at){if(!_){if(null==at.tenantId&&null!=at._agentRecaptchaConfig)return at._agentRecaptchaConfig.siteKey;if(null!=at.tenantId&&void 0!==at._tenantRecaptchaConfigs[at.tenantId])return at._tenantRecaptchaConfigs[at.tenantId].siteKey}return new Promise(function(){var Nt=(0,m.Z)(function*(In,Bn){bt(at,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Or=>{if(void 0!==Or.recaptchaKey){const va=new De(Or);return null==at.tenantId?at._agentRecaptchaConfig=va:at._tenantRecaptchaConfigs[at.tenantId]=va,In(va.siteKey)}Bn(new Error("recaptcha Enterprise site key undefined"))}).catch(Or=>{Bn(Or)})});return function(In,Bn){return Nt.apply(this,arguments)}}())}),ce.apply(this,arguments)}function Re(at,Nt,In){const Bn=window.grecaptcha;Pe(Bn)?Bn.enterprise.ready(()=>{Bn.enterprise.execute(at,{action:g}).then(Or=>{Nt(Or)}).catch(()=>{Nt("NO_RECAPTCHA")})}):In(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((at,Nt)=>{(function Z(at){return ce.apply(this,arguments)})(S.auth).then(In=>{if(!_&&Pe(window.grecaptcha))Re(In,at,Nt);else{if(typeof window>"u")return void Nt(new Error("RecaptchaVerifier is only supported in browser"));let Bn=function Ei(){return xi.recaptchaEnterpriseScript}();0!==Bn.length&&(Bn+=In),ks(Bn).then(()=>{Re(In,at,Nt)}).catch(Or=>{Nt(Or)})}}).catch(In=>{Nt(In)})})})()}}function jr(D,g,_){return fo.apply(this,arguments)}function fo(){return(fo=(0,m.Z)(function*(D,g,_,S=!1){const Z=new Ir(D);let ce;try{ce=yield Z.verify(_)}catch{ce=yield Z.verify(_,!0)}const Re=Object.assign({},g);return Object.assign(Re,S?{captchaResp:ce}:{captchaResponse:ce}),Object.assign(Re,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Re,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Re})).apply(this,arguments)}function Wi(D,g,_,S){return po.apply(this,arguments)}function po(){return po=(0,m.Z)(function*(D,g,_,S){var Z;if(null!==(Z=D._getRecaptchaConfig())&&void 0!==Z&&Z.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ce=yield jr(D,g,_,"getOobCode"===_);return S(D,ce)}return S(D,g).catch(function(){var ce=(0,m.Z)(function*(Re){if("auth/missing-recaptcha-token"===Re.code){console.log(`${_} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const at=yield jr(D,g,_,"getOobCode"===_);return S(D,at)}return Promise.reject(Re)});return function(Re){return ce.apply(this,arguments)}}())}),po.apply(this,arguments)}function oa(D){const g=D.indexOf(":");return g<0?"":D.substr(0,g+1)}function Oo(D){if(!D)return null;const g=Number(D);return isNaN(g)?null:g}class Po{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return Ve("not implemented")}_getIdTokenResponse(g){return Ve("not implemented")}_linkToIdToken(g,_){return Ve("not implemented")}_getReauthenticationResolver(g){return Ve("not implemented")}}function aa(D,g){return go.apply(this,arguments)}function go(){return(go=(0,m.Z)(function*(D,g){return et(D,"POST","/v1/accounts:signUp",g)})).apply(this,arguments)}function Ii(D,g){return es.apply(this,arguments)}function es(){return(es=(0,m.Z)(function*(D,g){return Xt(D,"POST","/v1/accounts:signInWithPassword",je(D,g))})).apply(this,arguments)}function us(){return(us=(0,m.Z)(function*(D,g){return et(D,"POST","/v1/accounts:sendOobCode",je(D,g))})).apply(this,arguments)}function za(D,g){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,m.Z)(function*(D,g){return function kr(D,g){return us.apply(this,arguments)}(D,g)})).apply(this,arguments)}function ko(){return(ko=(0,m.Z)(function*(D,g){return Xt(D,"POST","/v1/accounts:signInWithEmailLink",je(D,g))})).apply(this,arguments)}function Pi(){return(Pi=(0,m.Z)(function*(D,g){return Xt(D,"POST","/v1/accounts:signInWithEmailLink",je(D,g))})).apply(this,arguments)}class ur extends Po{constructor(g,_,S,Z=null){super("password",S),this._email=g,this._password=_,this._tenantId=Z}static _fromEmailAndPassword(g,_){return new ur(g,_,"password")}static _fromEmailAndCode(g,_,S=null){return new ur(g,_,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,m.Z)(function*(){switch(_.signInMethod){case"password":return Wi(g,{returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ii);case"emailLink":return function pi(D,g){return ko.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:Te(g,"internal-error")}})()}_linkToIdToken(g,_){var S=this;return(0,m.Z)(function*(){switch(S.signInMethod){case"password":return Wi(g,{idToken:_,returnSecureToken:!0,email:S._email,password:S._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aa);case"emailLink":return function Wr(D,g){return Pi.apply(this,arguments)}(g,{idToken:_,email:S._email,oobCode:S._password});default:Te(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function oi(D,g){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,m.Z)(function*(D,g){return Xt(D,"POST","/v1/accounts:signInWithIdp",je(D,g))})).apply(this,arguments)}class Gn{constructor(g){var _,S,Z,ce,Re,at;const Nt=(0,Q.zd)((0,Q.pd)(g)),In=null!==(_=Nt.apiKey)&&void 0!==_?_:null,Bn=null!==(S=Nt.oobCode)&&void 0!==S?S:null,Or=function Bs(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Z=Nt.mode)&&void 0!==Z?Z:null);ge(In&&Bn&&Or,"argument-error"),this.apiKey=In,this.operation=Or,this.code=Bn,this.continueUrl=null!==(ce=Nt.continueUrl)&&void 0!==ce?ce:null,this.languageCode=null!==(Re=Nt.languageCode)&&void 0!==Re?Re:null,this.tenantId=null!==(at=Nt.tenantId)&&void 0!==at?at:null}static parseLink(g){const _=function $s(D){const g=(0,Q.zd)((0,Q.pd)(D)).link,_=g?(0,Q.zd)((0,Q.pd)(g)).deep_link_id:null,S=(0,Q.zd)((0,Q.pd)(D)).deep_link_id;return(S?(0,Q.zd)((0,Q.pd)(S)).link:null)||S||_||g||D}(g);try{return new Gn(_)}catch{return null}}}let Ts=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(_,S){return ur._fromEmailAndPassword(_,S)}static credentialWithLink(_,S){const Z=Gn.parseLink(S);return ge(Z,"argument-error"),ur._fromEmailAndCode(_,Z.code,Z.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class Cs{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class ri extends Cs{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}function ts(D,g){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,m.Z)(function*(D,g){return Xt(D,"POST","/v1/accounts:signUp",je(D,g))})).apply(this,arguments)}class ci{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,S,Z=!1){return(0,m.Z)(function*(){const ce=yield G._fromIdTokenResponse(g,S,Z),Re=js(S);return new ci({user:ce,providerId:Re,_tokenResponse:S,operationType:_})})()}static _forOperation(g,_,S){return(0,m.Z)(function*(){yield g._updateTokensIfNecessary(S,!0);const Z=js(S);return new ci({user:g,providerId:Z,_tokenResponse:S,operationType:_})})()}}function js(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}class Ss extends Q.ZR{constructor(g,_,S,Z){var ce;super(_.code,_.message),this.operationType=S,this.user=Z,Object.setPrototypeOf(this,Ss.prototype),this.customData={appName:g.name,tenantId:null!==(ce=g.tenantId)&&void 0!==ce?ce:void 0,_serverResponse:_.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(g,_,S,Z){return new Ss(g,_,S,Z)}}function sr(D,g,_,S){return("reauthenticate"===g?_._getReauthenticationResolver(D):_._getIdTokenResponse(D)).catch(ce=>{throw"auth/multi-factor-auth-required"===ce.code?Ss._fromErrorAndOperation(D,ce,g,S):ce})}function L(){return(L=(0,m.Z)(function*(D,g,_=!1){const S=yield On(D,g._linkToIdToken(D.auth,yield D.getIdToken()),_);return ci._forOperation(D,"link",S)})).apply(this,arguments)}function Nn(){return(Nn=(0,m.Z)(function*(D,g,_=!1){const{auth:S}=D,Z="reauthenticate";try{const ce=yield On(D,sr(S,Z,g,D),_);ge(ce.idToken,S,"internal-error");const Re=qn(ce.idToken);ge(Re,S,"internal-error");const{sub:at}=Re;return ge(D.uid===at,S,"user-mismatch"),ci._forOperation(D,Z,ce)}catch(ce){throw"auth/user-not-found"===ce?.code&&Te(S,"user-mismatch"),ce}})).apply(this,arguments)}function $i(D,g){return ds.apply(this,arguments)}function ds(){return(ds=(0,m.Z)(function*(D,g,_=!1){const S="signIn",Z=yield sr(D,S,g),ce=yield ci._fromIdTokenResponse(D,S,Z);return _||(yield D._updateCurrentUser(ce.user)),ce})).apply(this,arguments)}function bi(D,g){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,m.Z)(function*(D,g){return $i(ti(D),g)})).apply(this,arguments)}function vo(D){return mi.apply(this,arguments)}function mi(){return(mi=(0,m.Z)(function*(D){const g=ti(D);g._getPasswordPolicyInternal()&&(yield g._updatePasswordPolicy())})).apply(this,arguments)}function Za(){return(Za=(0,m.Z)(function*(D,g,_){const S=ti(D),Z={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};_&&function hs(D,g,_){var S;ge((null===(S=_.url)||void 0===S?void 0:S.length)>0,D,"invalid-continue-uri"),ge(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ge(_.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(ge(_.android.packageName.length>0,D,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}(S,Z,_),yield Wi(S,Z,"getOobCode",za)})).apply(this,arguments)}function wo(){return(wo=(0,m.Z)(function*(D,g,_){const S=ti(D),Re=yield Wi(S,{returnSecureToken:!0,email:g,password:_,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ts).catch(Nt=>{throw"auth/password-does-not-meet-requirements"===Nt.code&&vo(D),Nt}),at=yield ci._fromIdTokenResponse(S,"signIn",Re);return yield S._updateCurrentUser(at.user),at})).apply(this,arguments)}function ji(){return(ji=(0,m.Z)(function*(D){return(0,Q.m9)(D).delete()})).apply(this,arguments)}const Pn="__sak";class gs{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Pn,"1"),this.storage.removeItem(Pn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Iu=(()=>{class D extends gs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,S)=>this.onStorageEvent(_,S),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function fa(){const D=(0,Q.z$)();return Vr(D)||U(D)}()&&function it(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=We(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const S of Object.keys(this.listeners)){const Z=this.storage.getItem(S),ce=this.localCache[S];Z!==ce&&_(S,ce,Z)}}onStorageEvent(_,S=!1){if(!_.key)return void this.forAllChangedKeys((at,Nt,In)=>{this.notifyListeners(at,In)});const Z=_.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const at=this.storage.getItem(Z);if(_.newValue!==at)null!==_.newValue?this.storage.setItem(Z,_.newValue):this.storage.removeItem(Z);else if(this.localCache[Z]===_.newValue&&!S)return}const ce=()=>{const at=this.storage.getItem(Z);!S&&this.localCache[Z]===at||this.notifyListeners(Z,at)},Re=this.storage.getItem(Z);!function Be(){return(0,Q.w1)()&&10===document.documentMode}()||Re===_.newValue||_.newValue===_.oldValue?ce():setTimeout(ce,10)}notifyListeners(_,S){this.localCache[_]=S;const Z=this.listeners[_];if(Z)for(const ce of Array.from(Z))ce(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,S,Z)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:S,newValue:Z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(S)}_removeListener(_,S){this.listeners[_]&&(this.listeners[_].delete(S),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,S){var Z=()=>super._set,ce=this;return(0,m.Z)(function*(){yield Z().call(ce,_,S),ce.localCache[_]=JSON.stringify(S)})()}_get(_){var S=()=>super._get,Z=this;return(0,m.Z)(function*(){const ce=yield S().call(Z,_);return Z.localCache[_]=JSON.stringify(ce),ce})()}_remove(_){var S=()=>super._remove,Z=this;return(0,m.Z)(function*(){yield S().call(Z,_),delete Z.localCache[_]})()}}return D.type="LOCAL",D})(),Ja=(()=>{class D extends gs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,S){}_removeListener(_,S){}}return D.type="SESSION",D})();let uc=(()=>{class D{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const S=this.receivers.find(ce=>ce.isListeningto(_));if(S)return S;const Z=new D(_);return this.receivers.push(Z),Z}isListeningto(_){return this.eventTarget===_}handleEvent(_){var S=this;return(0,m.Z)(function*(){const Z=_,{eventId:ce,eventType:Re,data:at}=Z.data,Nt=S.handlersMap[Re];if(!Nt?.size)return;Z.ports[0].postMessage({status:"ack",eventId:ce,eventType:Re});const In=Array.from(Nt).map(function(){var Or=(0,m.Z)(function*(va){return va(Z.origin,at)});return function(va){return Or.apply(this,arguments)}}()),Bn=yield function kc(D){return Promise.all(D.map(function(){var g=(0,m.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(S){return{fulfilled:!1,reason:S}}});return function(_){return g.apply(this,arguments)}}()))}(In);Z.ports[0].postMessage({status:"done",eventId:ce,eventType:Re,response:Bn})})()}_subscribe(_,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(S)}_unsubscribe(_,S){this.handlersMap[_]&&S&&this.handlersMap[_].delete(S),(!S||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function sl(D="",g=10){let _="";for(let S=0;S<g;S++)_+=Math.floor(10*Math.random());return D+_}class cc{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,S=50){var Z=this;return(0,m.Z)(function*(){const ce=typeof MessageChannel<"u"?new MessageChannel:null;if(!ce)throw new Error("connection_unavailable");let Re,at;return new Promise((Nt,In)=>{const Bn=sl("",20);ce.port1.start();const Or=setTimeout(()=>{In(new Error("unsupported_event"))},S);at={messageChannel:ce,onMessage(va){const bc=va;if(bc.data.eventId===Bn)switch(bc.data.status){case"ack":clearTimeout(Or),Re=setTimeout(()=>{In(new Error("timeout"))},3e3);break;case"done":clearTimeout(Re),Nt(bc.data.response);break;default:clearTimeout(Or),clearTimeout(Re),In(new Error("invalid_response"))}}},Z.handlers.add(at),ce.port1.addEventListener("message",at.onMessage),Z.target.postMessage({eventType:g,eventId:Bn,data:_},[ce.port2])}).finally(()=>{at&&Z.removeMessageHandler(at)})})()}}function wt(){return window}function Lc(){return typeof wt().WorkerGlobalScope<"u"&&"function"==typeof wt().importScripts}function Vi(){return(Vi=(0,m.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ms="firebaseLocalStorageDb",Pa="firebaseLocalStorage",dc="fbase_key";class bu{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Ra(D,g){return D.transaction([Pa],g?"readwrite":"readonly").objectStore(Pa)}function Vo(){const D=indexedDB.open(ms,1);return new Promise((g,_)=>{D.addEventListener("error",()=>{_(D.error)}),D.addEventListener("upgradeneeded",()=>{const S=D.result;try{S.createObjectStore(Pa,{keyPath:dc})}catch(Z){_(Z)}}),D.addEventListener("success",(0,m.Z)(function*(){const S=D.result;S.objectStoreNames.contains(Pa)?g(S):(S.close(),yield function ys(){const D=indexedDB.deleteDatabase(ms);return new bu(D).toPromise()}(),g(yield Vo()))}))})}function hc(D,g,_){return pa.apply(this,arguments)}function pa(){return(pa=(0,m.Z)(function*(D,g,_){const S=Ra(D,!0).put({[dc]:g,value:_});return new bu(S).toPromise()})).apply(this,arguments)}function fc(){return(fc=(0,m.Z)(function*(D,g){const _=Ra(D,!1).get(g),S=yield new bu(_).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function Hu(D,g){const _=Ra(D,!0).delete(g);return new bu(_).toPromise()}const b=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,m.Z)(function*(){return _.db||(_.db=yield Vo()),_.db})()}_withRetries(_){var S=this;return(0,m.Z)(function*(){let Z=0;for(;;)try{const ce=yield S._openDb();return yield _(ce)}catch(ce){if(Z++>3)throw ce;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,m.Z)(function*(){return Lc()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,m.Z)(function*(){_.receiver=uc._getInstance(function wu(){return Lc()?self:null}()),_.receiver._subscribe("keyChanged",function(){var S=(0,m.Z)(function*(Z,ce){return{keyProcessed:(yield _._poll()).includes(ce.key)}});return function(Z,ce){return S.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var S=(0,m.Z)(function*(Z,ce){return["keyChanged"]});return function(Z,ce){return S.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,m.Z)(function*(){var S,Z;if(_.activeServiceWorker=yield function hd(){return Vi.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new cc(_.activeServiceWorker);const ce=yield _.sender._send("ping",{},800);ce&&null!==(S=ce[0])&&void 0!==S&&S.fulfilled&&null!==(Z=ce[0])&&void 0!==Z&&Z.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var S=this;return(0,m.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function Bl(){var D;return(null===(D=navigator?.serviceWorker)||void 0===D?void 0:D.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:_},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Vo();return yield hc(_,Pn,"1"),yield Hu(_,Pn),!0}catch{}return!1})()}_withPendingWrite(_){var S=this;return(0,m.Z)(function*(){S.pendingWrites++;try{yield _()}finally{S.pendingWrites--}})()}_set(_,S){var Z=this;return(0,m.Z)(function*(){return Z._withPendingWrite((0,m.Z)(function*(){return yield Z._withRetries(ce=>hc(ce,_,S)),Z.localCache[_]=S,Z.notifyServiceWorker(_)}))})()}_get(_){var S=this;return(0,m.Z)(function*(){const Z=yield S._withRetries(ce=>function Bo(D,g){return fc.apply(this,arguments)}(ce,_));return S.localCache[_]=Z,Z})()}_remove(_){var S=this;return(0,m.Z)(function*(){return S._withPendingWrite((0,m.Z)(function*(){return yield S._withRetries(Z=>Hu(Z,_)),delete S.localCache[_],S.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,m.Z)(function*(){const S=yield _._withRetries(Re=>{const at=Ra(Re,!1).getAll();return new bu(at).toPromise()});if(!S)return[];if(0!==_.pendingWrites)return[];const Z=[],ce=new Set;if(0!==S.length)for(const{fbase_key:Re,value:at}of S)ce.add(Re),JSON.stringify(_.localCache[Re])!==JSON.stringify(at)&&(_.notifyListeners(Re,at),Z.push(Re));for(const Re of Object.keys(_.localCache))_.localCache[Re]&&!ce.has(Re)&&(_.notifyListeners(Re,null),Z.push(Re));return Z})()}notifyListeners(_,S){this.localCache[_]=S;const Z=this.listeners[_];if(Z)for(const ce of Array.from(Z))ce(S)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(S)}_removeListener(_,S){this.listeners[_]&&(this.listeners[_].delete(S),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();Ls("rcb"),new Zn(3e4,6e4);class Du extends Po{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return oi(g,this._buildIdpRequest())}_linkToIdToken(g,_){return oi(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return oi(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function Uc(D){return $i(D.auth,new Du(D),D.bypassAuthState)}function al(D){const{auth:g,user:_}=D;return ge(_,g,"internal-error"),function on(D,g){return Nn.apply(this,arguments)}(_,new Du(D),D.bypassAuthState)}function $l(D){return mc.apply(this,arguments)}function mc(){return(mc=(0,m.Z)(function*(D){const{auth:g,user:_}=D;return ge(_,g,"internal-error"),function J(D,g){return L.apply(this,arguments)}(_,new Du(D),D.bypassAuthState)})).apply(this,arguments)}class If{constructor(g,_,S,Z,ce=!1){this.auth=g,this.resolver=S,this.user=Z,this.bypassAuthState=ce,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,m.Z)(function*(S,Z){g.pendingPromise={resolve:S,reject:Z};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(ce){g.reject(ce)}});return function(S,Z){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,m.Z)(function*(){const{urlResponse:S,sessionId:Z,postBody:ce,tenantId:Re,error:at,type:Nt}=g;if(at)return void _.reject(at);const In={auth:_.auth,requestUri:S,sessionId:Z,tenantId:Re||void 0,postBody:ce||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Nt)(In))}catch(Bn){_.reject(Bn)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Uc;case"linkViaPopup":case"linkViaRedirect":return $l;case"reauthViaPopup":case"reauthViaRedirect":return al;default:Te(this.auth,"internal-error")}}resolve(g){pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Zn(2e3,1e4);const ll="pendingRedirect",Su=new Map;class yd extends If{constructor(g,_,S=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,S),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,m.Z)(function*(){let S=Su.get(_.auth._key());if(!S){try{const ce=(yield function yc(D,g){return dl.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;S=()=>Promise.resolve(ce)}catch(Z){S=()=>Promise.reject(Z)}Su.set(_.auth._key(),S)}return _.bypassAuthState||Su.set(_.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,S=this;return(0,m.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(S,g);if("unknown"!==g.type){if(g.eventId){const Z=yield S.auth._redirectUserForId(g.eventId);if(Z)return S.user=Z,_().call(S,g);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function dl(){return(dl=(0,m.Z)(function*(D,g){const _=function dh(D){return hn(ll,D.config.apiKey,D.name)}(g),S=function hl(D){return nt(D._redirectPersistence)}(D);if(!(yield S._isAvailable()))return!1;const Z="true"===(yield S._get(_));return yield S._remove(_),Z})).apply(this,arguments)}function _c(D,g){Su.set(D._key(),g)}function fl(D,g){return tu.apply(this,arguments)}function tu(){return(tu=(0,m.Z)(function*(D,g,_=!1){const S=ti(D),Z=function ma(D,g){return g?nt(g):(ge(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}(S,g),Re=yield new yd(S,Z,_).execute();return Re&&!_&&(delete Re.user._redirectEventId,yield S._persistUserIfCurrent(Re.user),yield S._setRedirectUser(null,g)),Re})).apply(this,arguments)}class k{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(g,S)&&(_=!0,this.sendToConsumer(g,S),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function ke(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pe(D);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var S;if(g.error&&!pe(g)){const Z=(null===(S=g.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";_.onError(qe(this.auth,Z))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const S=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&S}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ee(g))}saveEventToCache(g){this.cachedEventUids.add(ee(g)),this.lastProcessedEventTime=Date.now()}}function ee(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(g=>g).join("-")}function pe({type:D,error:g}){return"unknown"===D&&"auth/no-auth-event"===g?.code}function gt(){return(gt=(0,m.Z)(function*(D,g={}){return et(D,"GET","/v1/projects",g)})).apply(this,arguments)}const qt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ht=/^https?/;function kn(){return kn=(0,m.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:g}=yield function Ze(D){return gt.apply(this,arguments)}(D);for(const _ of g)try{if(Yn(_))return}catch{}Te(D,"unauthorized-domain")}),kn.apply(this,arguments)}function Yn(D){const g=gn(),{protocol:_,hostname:S}=new URL(g);if(D.startsWith("chrome-extension://")){const Re=new URL(D);return""===Re.hostname&&""===S?"chrome-extension:"===_&&D.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&Re.hostname===S}if(!Ht.test(_))return!1;if(qt.test(D))return S===D;const Z=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Z+"|"+Z+")$","i").test(S)}const ns=new Zn(3e4,6e4);function _s(){const D=wt().___jsl;if(D?.H)for(const g of Object.keys(D.H))if(D.H[g].r=D.H[g].r||[],D.H[g].L=D.H[g].L||[],D.H[g].r=[...D.H[g].L],D.CP)for(let _=0;_<D.CP.length;_++)D.CP[_]=null}let Ic=null;const _a=new Zn(5e3,15e3),nu="__/auth/iframe",Ed="emulator/auth/iframe",Tf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cf(D){const g=D.config;ge(g.authDomain,D,"auth-domain-config-required");const _=g.emulator?Jn(g,Ed):`https://${D.config.authDomain}/${nu}`,S={apiKey:g.apiKey,appName:D.name,v:d.Jn},Z=Mu.get(D.config.apiHost);Z&&(S.eid=Z);const ce=D._getFrameworks();return ce.length&&(S.fw=ce.join(",")),`${_}?${(0,Q.xO)(S).slice(1)}`}function rs(){return rs=(0,m.Z)(function*(D){const g=yield function $c(D){return Ic=Ic||function Zu(D){return new Promise((g,_)=>{var S,Z,ce;function Re(){_s(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{_s(),_(qe(D,"network-request-failed"))},timeout:ns.get()})}if(null!==(Z=null===(S=wt().gapi)||void 0===S?void 0:S.iframes)&&void 0!==Z&&Z.Iframe)g(gapi.iframes.getContext());else{if(null===(ce=wt().gapi)||void 0===ce||!ce.load){const at=Ls("iframefcb");return wt()[at]=()=>{gapi.load?Re():_(qe(D,"network-request-failed"))},ks(`${function sa(){return xi.gapiScript}()}?onload=${at}`).catch(Nt=>_(Nt))}Re()}}).catch(g=>{throw Ic=null,g})}(D),Ic}(D),_=wt().gapi;return ge(_,D,"internal-error"),g.open({where:document.body,url:Cf(D),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tf,dontclear:!0},S=>new Promise(function(){var Z=(0,m.Z)(function*(ce,Re){yield S.restyle({setHideOnLeave:!1});const at=qe(D,"network-request-failed"),Nt=wt().setTimeout(()=>{Re(at)},_a.get());function In(){wt().clearTimeout(Nt),ce(S)}S.ping(In).then(In,()=>{Re(at)})});return function(ce,Re){return Z.apply(this,arguments)}}()))}),rs.apply(this,arguments)}const fh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class gl{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Id="__/auth/handler",Df="emulator/auth/handler",ph=encodeURIComponent("fac");function Zp(D,g,_,S,Z,ce){return bo.apply(this,arguments)}function bo(){return(bo=(0,m.Z)(function*(D,g,_,S,Z,ce){ge(D.config.authDomain,D,"auth-domain-config-required"),ge(D.config.apiKey,D,"invalid-api-key");const Re={apiKey:D.config.apiKey,appName:D.name,authType:_,redirectUrl:S,v:d.Jn,eventId:Z};if(g instanceof Cs){g.setDefaultLanguage(D.languageCode),Re.providerId=g.providerId||"",(0,Q.xb)(g.getCustomParameters())||(Re.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Bn,Or]of Object.entries(ce||{}))Re[Bn]=Or}if(g instanceof ri){const Bn=g.getScopes().filter(Or=>""!==Or);Bn.length>0&&(Re.scopes=Bn.join(","))}D.tenantId&&(Re.tid=D.tenantId);const at=Re;for(const Bn of Object.keys(at))void 0===at[Bn]&&delete at[Bn];const Nt=yield D._getAppCheckToken(),In=Nt?`#${ph}=${encodeURIComponent(Nt)}`:"";return`${function wd({config:D}){return D.emulator?Jn(D,Df):`https://${D.authDomain}/${Id}`}(D)}?${(0,Q.xO)(at).slice(1)}${In}`})).apply(this,arguments)}const wc="webStorageSupport",gh=class bd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ja,this._completeRedirectFn=fl,this._overrideRedirectResult=_c}_openPopup(g,_,S,Z){var ce=this;return(0,m.Z)(function*(){var Re;pt(null===(Re=ce.eventManagers[g._key()])||void 0===Re?void 0:Re.manager,"_initialize() not called before _openPopup()");const at=yield Zp(g,_,S,gn(),Z);return function Ku(D,g,_,S=500,Z=600){const ce=Math.max((window.screen.availHeight-Z)/2,0).toString(),Re=Math.max((window.screen.availWidth-S)/2,0).toString();let at="";const Nt=Object.assign(Object.assign({},fh),{width:S.toString(),height:Z.toString(),top:ce,left:Re}),In=(0,Q.z$)().toLowerCase();_&&(at=ar(In)?"_blank":_),Ln(In)&&(g=g||"http://localhost",Nt.scrollbars="yes");const Bn=Object.entries(Nt).reduce((va,[bc,Pf])=>`${va}${bc}=${Pf},`,"");if(function ve(D=(0,Q.z$)()){var g;return U(D)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(In)&&"_self"!==at)return function Fa(D,g){const _=document.createElement("a");_.href=D,_.target=g;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(S)}(g||"",at),new gl(null);const Or=window.open(g||"",at,Bn);ge(Or,D,"popup-blocked");try{Or.focus()}catch{}return new gl(Or)}(g,at,sl())})()}_openRedirect(g,_,S,Z){var ce=this;return(0,m.Z)(function*(){return yield ce._originValidation(g),function yr(D){wt().location.href=D}(yield Zp(g,_,S,gn(),Z)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:Z,promise:ce}=this.eventManagers[_];return Z?Promise.resolve(Z):(pt(ce,"If manager is not set, promise should be"),ce)}const S=this.initAndGetManager(g);return this.eventManagers[_]={promise:S},S.catch(()=>{delete this.eventManagers[_]}),S}initAndGetManager(g){var _=this;return(0,m.Z)(function*(){const S=yield function Gl(D){return rs.apply(this,arguments)}(g),Z=new k(g);return S.register("authEvent",ce=>(ge(ce?.authEvent,g,"invalid-auth-event"),{status:Z.onEvent(ce.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:Z},_.iframes[g._key()]=S,Z})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(wc,{type:wc},Z=>{var ce;const Re=null===(ce=Z?.[0])||void 0===ce?void 0:ce[wc];void 0!==Re&&_(!!Re),Te(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function yn(D){return kn.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return We()||Vr()||U()}};var Zl="@firebase/auth";class ml{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,m.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(S=>{g(S?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);_&&(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Of=(0,Q.Pz)("authIdTokenMaxAge")||300;let Cd=null;const Dd=D=>function(){var g=(0,m.Z)(function*(_){const S=_&&(yield _.getIdTokenResult()),Z=S&&((new Date).getTime()-Date.parse(S.issuedAtTime))/1e3;if(Z&&Z>Of)return;const ce=S?.token;Cd!==ce&&(Cd=ce,yield fetch(D,{method:ce?"POST":"DELETE",headers:ce?{Authorization:`Bearer ${ce}`}:{}}))});return function(_){return g.apply(this,arguments)}}();function Kl(D=(0,d.Mq)()){const g=(0,d.qX)(D,"auth");if(g.isInitialized())return g.getImmediate();const _=function Lu(D,g){const _=(0,d.qX)(D,"auth");if(_.isInitialized()){const Z=_.getImmediate(),ce=_.getOptions();if((0,Q.vZ)(ce,g??{}))return Z;Te(Z,"already-initialized")}return _.initialize({options:g})}(D,{popupRedirectResolver:gh,persistence:[b,Iu,Ja]}),S=(0,Q.Pz)("authTokenSyncURL");if(S&&S.match(/^\/[^\/].*/)){const ce=Dd(S);(function vu(D,g,_){(0,Q.m9)(D).beforeAuthStateChanged(g,_)})(_,ce,()=>ce(_.currentUser)),function $u(D,g,_,S){(0,Q.m9)(D).onIdTokenChanged(g,_,S)}(_,Re=>ce(Re))}const Z=(0,Q.q4)("auth");return Z&&function Fu(D,g,_){const S=ti(D);ge(S._canInitEmulator,S,"emulator-config-failed"),ge(/^https?:\/\//.test(g),S,"invalid-emulator-scheme");const Z=!!_?.disableWarnings,ce=oa(g),{host:Re,port:at}=function Ga(D){const g=oa(D),_=/(\/\/)?([^?#/]+)/.exec(D.substr(g.length));if(!_)return{host:"",port:null};const S=_[2].split("@").pop()||"",Z=/^(\[[^\]]+\])(:|$)/.exec(S);if(Z){const ce=Z[1];return{host:ce,port:Oo(S.substr(ce.length+1))}}{const[ce,Re]=S.split(":");return{host:ce,port:Oo(Re)}}}(g);S.config.emulator={url:`${ce}//${Re}${null===at?"":`:${at}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:Re,port:at,protocol:ce.replace(":",""),options:Object.freeze({disableWarnings:Z})}),Z||function Da(){function D(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}(_,`http://${Z}`),_}(function xo(D){xi=D})({loadJS:D=>new Promise((g,_)=>{const S=document.createElement("script");S.setAttribute("src",D),S.onload=g,S.onerror=Z=>{const ce=qe("internal-error");ce.customData=Z,_(ce)},S.type="text/javascript",S.charset="UTF-8",function Am(){var D,g;return null!==(g=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==g?g:document}().appendChild(S)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function mh(D){(0,d.Xd)(new de.wA("auth",(g,{options:_})=>{const S=g.getProvider("app").getImmediate(),Z=g.getProvider("heartbeat"),ce=g.getProvider("app-check-internal"),{apiKey:Re,authDomain:at}=S.options;ge(Re&&!Re.includes(":"),"invalid-api-key",{appName:S.name});const Nt={apiKey:Re,authDomain:at,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:St(D)},In=new Mo(S,Z,ce,Nt);return function Oi(D,g){const _=g?.persistence||[],S=(Array.isArray(_)?_:[_]).map(nt);g?.errorMap&&D._updateErrorMap(g.errorMap),D._initializeWithPersistence(S,g?.popupRedirectResolver)}(In,_),In},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,S)=>{g.getProvider("auth-internal").initialize()})),(0,d.Xd)(new de.wA("auth-internal",g=>{const _=ti(g.getProvider("auth").getImmediate());return new ml(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,d.KN)(Zl,"1.6.2",function Kp(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(D)),(0,d.KN)(Zl,"1.6.2","esm2017")}("Browser");var Mm=B(5619),Gc=B(8180),no=B(3477),Sd=B(9468),Yp=B(1705),Qp=B(4456);let xm=(()=>{class D{constructor(_,S,Z){this.firestore=_,this.router=S,this.globalErrorHandler=Z,this.userDataSubject=new Mm.X(null),this.userData$=this.userDataSubject.asObservable(),this.collectionName="Auth";const ce=localStorage.getItem("user");if(ce){const Re=JSON.parse(ce);this.userDataSubject.next(Re)}}registerUser(_,S,Z){var ce=this;return(0,m.Z)(function*(){try{const Re=yield ce.createUserWithEmailAndPassword(_,S),at=Re.user.uid;yield ce.addAdditionalAuthData(at,Z),yield ce.saveUserData(Re.user,Z),ce.router.navigate(["recipes-list"])}catch(Re){ce.globalErrorHandler.handleError(Re)}})()}loginUser(_,S){var Z=this;return(0,m.Z)(function*(){try{const ce=yield Z.signInWithEmailAndPassword(_,S),Re=ce.user.uid,at=yield Z.getAdditionalAuthDataById(Re);yield Z.saveUserData(ce.user,at),yield Z.router.navigate(["recipes-list"])}catch(ce){Z.globalErrorHandler.handleError(ce)}})()}logoutUser(){var _=this;return(0,m.Z)(function*(){try{yield _.signOutAuth(),yield _.clearUserData(),_.router.navigate(["login"])}catch(S){console.error(S)}})()}deleteUserAccount(){var _=this;return(0,m.Z)(function*(){try{const Z=Kl().currentUser;Z?(yield function nl(D){return ji.apply(this,arguments)}(Z),yield _.deleteAdditionalAuthData(Z.uid),yield _.clearUserData(),_.router.navigate(["login"])):console.error("No user found to delete.")}catch(S){console.error("No user found to delete.",S)}})()}forgotPassword(_){var S=this;return(0,m.Z)(function*(){try{yield S.sendPasswordResetEmail(_),S.globalErrorHandler.handleError("Password reset email sent, check your inbox."),yield S.router.navigate(["login"])}catch(Z){S.globalErrorHandler.handleError(Z)}})()}updateFavoriteRecipes(_,S,Z){var ce=this;return(0,m.Z)(function*(){const Re=(0,no.JU)(ce.firestore,ce.collectionName,S);try{Z?(console.log("remove"),yield(0,no.r7)(Re,{favoriteRecipes:(0,no.Ab)(_)})):(console.log("add"),yield(0,no.r7)(Re,{favoriteRecipes:(0,no.vr)(_)})),console.log("Favorite recipes updated successfully");const at=yield ce.getAdditionalAuthDataById(S);ce.userData$.pipe((0,Gc.q)(1)).subscribe(Nt=>{Nt?ce.saveUserData(Nt,at).then(()=>console.log("User data saved successfully")).catch(()=>console.error("Failed to save user data")):console.error("User is null")})}catch(at){ce.globalErrorHandler.handleError(at)}})()}sendPasswordResetEmail(_){return function gu(D,g,_){return Za.apply(this,arguments)}(Kl(),_)}createUserWithEmailAndPassword(_,S){return function Io(D,g,_){return wo.apply(this,arguments)}(Kl(),_,S)}signInWithEmailAndPassword(_,S){return function yu(D,g,_){return bi((0,Q.m9)(D),Ts.credential(g,_)).catch(function(){var S=(0,m.Z)(function*(Z){throw"auth/password-does-not-meet-requirements"===Z.code&&vo(D),Z});return function(Z){return S.apply(this,arguments)}}())}(Kl(),_,S)}signOutAuth(){return function ii(D){return(0,Q.m9)(D).signOut()}(Kl())}addAdditionalAuthData(_,S){return(0,no.pl)((0,no.JU)(this.firestore,this.collectionName,_),S)}getAdditionalAuthDataById(_){var S=this;return(0,m.Z)(function*(){const Z=(0,no.JU)(S.firestore,S.collectionName,_),ce=yield(0,no.QT)(Z);return ce.exists()?ce.data():null})()}updateAdditionalAuthData(_,S){if(S){const Z=(0,no.JU)(this.firestore,this.collectionName,S),ce={..._};(0,no.r7)(Z,ce).then(()=>{console.log("Document successfully updated"),this.router.navigate(["/dashboard/user-info"])}).then(()=>{this.userData$.pipe((0,Gc.q)(1)).subscribe(Re=>{Re?this.saveUserData(Re,_).then(()=>console.log("User data saved successfully")).catch(()=>console.error("Failed to save user data")):console.error("User is null")})}).catch(Re=>{this.globalErrorHandler.handleError(Re)})}else this.globalErrorHandler.handleError("Invalid uid.")}deleteAdditionalAuthData(_){var S=this;return(0,m.Z)(function*(){try{const Z=(0,no.JU)(S.firestore,S.collectionName,_);yield(0,no.oe)(Z),console.log("Recipe deleted successfully:",_)}catch(Z){throw S.globalErrorHandler.handleError(Z),Z}})()}saveUserData(_,S){return new Promise((Z,ce)=>{if(_&&S){const Re={..._,...S};localStorage.setItem("user",JSON.stringify(Re)),this.userDataSubject.next(Re),Z()}else localStorage.setItem("user","null"),this.userDataSubject.next(null),ce()})}clearUserData(){return new Promise((_,S)=>{localStorage.removeItem("user"),this.userDataSubject.next(null),_()})}static#e=this.\u0275fac=function(S){return new(S||D)(Sd.LFG(no.gg),Sd.LFG(Yp.F0),Sd.LFG(Qp.r))};static#t=this.\u0275prov=Sd.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})()},9286:($t,Ge,B)=>{"use strict";B.d(Ge,{N:()=>he});var m=B(4303);(0,m.KN)("firebase","10.9.0","app");const he={firebaseConfig:{apiKey:"AIzaSyCVbXDjBGUwaOrn1CZYGIwce1dYPKpR7PA",authDomain:"the-natural-way.firebaseapp.com",projectId:"the-natural-way",storageBucket:"the-natural-way.appspot.com",messagingSenderId:"778711637280",appId:"1:778711637280:web:30b52ea2a4e159578fcb45"},cloudinaryConfig:{cloudName:"dsla98vyk",apiKey:"587566495847865",apiSecret:"sJLzQzouizKo51b9Mv0bI8a5pCI",uploadPreset:"the_natural_way"}};(0,m.ZF)(he.firebaseConfig)},9608:($t,Ge,B)=>{"use strict";var m=B(6593),Q=B(1705),d=B(9468),he=B(4664),se=B(7398),de=B(2096),_e=B(6499),Ne=B(4456),te=B(5861),oe=B(95),Ae=B(3424),Ue=B(6814);function Oe(v,y){1&v&&(d.TgZ(0,"div",22),d._uU(1," Email is required! "),d.qZA())}function Xe(v,y){1&v&&(d.TgZ(0,"div",22),d._uU(1," Please enter a valid email address! "),d.qZA())}function Dt(v,y){if(1&v&&(d.TgZ(0,"div"),d.YNc(1,Oe,2,0,"div",21),d.YNc(2,Xe,2,0,"div",21),d.qZA()),2&v){const p=d.oxw();let I,P;d.xp6(1),d.Q6J("ngIf",null==(I=p.registerForm.get("email"))||null==I.errors?null:I.errors.required),d.xp6(1),d.Q6J("ngIf",null==(P=p.registerForm.get("email"))||null==P.errors?null:P.errors.email)}}function Rt(v,y){1&v&&(d.TgZ(0,"div",22),d._uU(1," Password is required! "),d.qZA())}function xt(v,y){1&v&&(d.TgZ(0,"div",22),d._uU(1," Password must be at least 6 characters long! "),d.qZA())}function en(v,y){if(1&v&&(d.TgZ(0,"div"),d.YNc(1,Rt,2,0,"div",21),d.YNc(2,xt,2,0,"div",21),d.qZA()),2&v){const p=d.oxw();let I,P;d.xp6(1),d.Q6J("ngIf",null==(I=p.registerForm.get("password"))||null==I.errors?null:I.errors.required),d.xp6(1),d.Q6J("ngIf",null==(P=p.registerForm.get("password"))||null==P.errors?null:P.errors.minlength)}}function ft(v,y){1&v&&(d.TgZ(0,"div",22),d._uU(1," Repeat password is required! "),d.qZA())}function Te(v,y){1&v&&(d.TgZ(0,"div",22),d._uU(1," Repeat password must be at least 6 characters long! "),d.qZA())}function qe(v,y){if(1&v&&(d.TgZ(0,"div"),d.YNc(1,ft,2,0,"div",21),d.YNc(2,Te,2,0,"div",21),d.qZA()),2&v){const p=d.oxw();let I,P;d.xp6(1),d.Q6J("ngIf",null==(I=p.registerForm.get("repeatPassword"))||null==I.errors?null:I.errors.required),d.xp6(1),d.Q6J("ngIf",null==(P=p.registerForm.get("repeatPassword"))||null==P.errors?null:P.errors.minlength)}}function ht(v,y){1&v&&(d.TgZ(0,"div",22),d._uU(1," First name is required! "),d.qZA())}function Ke(v,y){if(1&v&&(d.TgZ(0,"div"),d.YNc(1,ht,2,0,"div",21),d.qZA()),2&v){const p=d.oxw();let I;d.xp6(1),d.Q6J("ngIf",null==(I=p.registerForm.get("firstName"))||null==I.errors?null:I.errors.required)}}function Se(v,y){1&v&&(d.TgZ(0,"div",22),d._uU(1," Last name is required! "),d.qZA())}function ge(v,y){if(1&v&&(d.TgZ(0,"div"),d.YNc(1,Se,2,0,"div",21),d.qZA()),2&v){const p=d.oxw();let I;d.xp6(1),d.Q6J("ngIf",null==(I=p.registerForm.get("lastName"))||null==I.errors?null:I.errors.required)}}let Ve=(()=>{class v{constructor(p,I,P,K){this.userService=p,this.fb=I,this.formErrorCheckService=P,this.globalErrorHandler=K,this.registerForm=this.fb.group({email:["",[oe.kI.required,oe.kI.email]],password:["",[oe.kI.required,oe.kI.minLength(6)]],repeatPassword:["",oe.kI.required],firstName:["",oe.kI.required],lastName:["",oe.kI.required],isActive:[!0,oe.kI.required],isAdmin:[!1,oe.kI.required],favoriteRecipes:this.fb.array([])})}submitRegisterForm(){var p=this;return(0,te.Z)(function*(){if(p.registerForm.valid){p.formErrorCheckService.markFormGroupTouched(p.registerForm);const{email:I,password:P,repeatPassword:K,...fe}=p.registerForm.value;if(P!==K)return void p.globalErrorHandler.handleError("Password do not match!");try{yield p.userService.registerUser(I,P,fe)}catch(be){p.globalErrorHandler.handleError(be)}}else{const I=p.formErrorCheckService.getFormGroupErrors(p.registerForm);p.globalErrorHandler.handleError(I)}})()}static#e=this.\u0275fac=function(I){return new(I||v)(d.Y36(_e.K),d.Y36(oe.qu),d.Y36(Ae.l),d.Y36(Ne.r))};static#t=this.\u0275cmp=d.Xpm({type:v,selectors:[["app-register"]],decls:33,vars:6,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],["data-aos","fade-up","data-aos-duration","3000",3,"formGroup","ngSubmit"],[1,"title-wrapper"],[1,"title-form"],["for","email"],["type","email","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","new-password"],["for","repeatPassword"],["type","password","id","repeatPassword","formControlName","repeatPassword","autocomplete","new-password"],["for","firstName"],["type","text","id","firstName","formControlName","firstName"],["for","lastName"],["type","text","id","lastName","formControlName","lastName"],["type","submit",1,"button",2,"width","100%","margin-top","20px"],[1,"hr"],["href","#","routerLink","/login"],[1,"hint"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(I,P){if(1&I&&(d.TgZ(0,"div",0),d._UZ(1,"div",1),d.TgZ(2,"div",2)(3,"form",3),d.NdJ("ngSubmit",function(){return P.submitRegisterForm()}),d.TgZ(4,"div",4)(5,"h1",5),d._uU(6,"Registration"),d.qZA()(),d.TgZ(7,"label",6),d._uU(8,"Email:"),d.qZA(),d._UZ(9,"input",7),d.YNc(10,Dt,3,2,"div",8),d.TgZ(11,"label",9),d._uU(12,"Password:"),d.qZA(),d._UZ(13,"input",10),d.YNc(14,en,3,2,"div",8),d.TgZ(15,"label",11),d._uU(16,"Repeat password:"),d.qZA(),d._UZ(17,"input",12),d.YNc(18,qe,3,2,"div",8),d.TgZ(19,"label",13),d._uU(20,"First name:"),d.qZA(),d._UZ(21,"input",14),d.YNc(22,Ke,2,1,"div",8),d.TgZ(23,"label",15),d._uU(24,"Last Name:"),d.qZA(),d._UZ(25,"input",16),d.YNc(26,ge,2,1,"div",8),d.TgZ(27,"button",17),d._uU(28," Submit "),d.qZA(),d._UZ(29,"hr",18),d.TgZ(30,"a",19)(31,"div",20),d._uU(32,"Already registered?"),d.qZA()()()()()),2&I){let K,fe,be,He,lt;d.xp6(3),d.Q6J("formGroup",P.registerForm),d.xp6(7),d.Q6J("ngIf",(null==(K=P.registerForm.get("email"))?null:K.invalid)&&(null==(K=P.registerForm.get("email"))?null:K.touched)),d.xp6(4),d.Q6J("ngIf",(null==(fe=P.registerForm.get("password"))?null:fe.invalid)&&(null==(fe=P.registerForm.get("password"))?null:fe.touched)),d.xp6(4),d.Q6J("ngIf",(null==(be=P.registerForm.get("repeatPassword"))?null:be.invalid)&&(null==(be=P.registerForm.get("repeatPassword"))?null:be.touched)),d.xp6(4),d.Q6J("ngIf",(null==(He=P.registerForm.get("firstName"))?null:He.invalid)&&(null==(He=P.registerForm.get("firstName"))?null:He.touched)),d.xp6(4),d.Q6J("ngIf",(null==(lt=P.registerForm.get("lastName"))?null:lt.invalid)&&(null==(lt=P.registerForm.get("lastName"))?null:lt.touched))}},dependencies:[Ue.O5,Q.rH,oe._Y,oe.Fj,oe.JJ,oe.JL,oe.sg,oe.u],styles:[".checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:none}}"]})}return v})();function pt(v,y){1&v&&(d.TgZ(0,"div",17),d._uU(1," Email is required! "),d.qZA())}function gn(v,y){1&v&&(d.TgZ(0,"div",17),d._uU(1," Invalid email! "),d.qZA())}function yt(v,y){if(1&v&&(d.TgZ(0,"div"),d.YNc(1,pt,2,0,"div",18),d.YNc(2,gn,2,0,"div",18),d.qZA()),2&v){const p=d.oxw();let I,P;d.xp6(1),d.Q6J("ngIf",null==(I=p.logInForm.get("email"))||null==I.errors?null:I.errors.required),d.xp6(1),d.Q6J("ngIf",null==(P=p.logInForm.get("email"))||null==P.errors?null:P.errors.email)}}function sn(v,y){1&v&&(d.TgZ(0,"div",17),d._uU(1," Password is required! "),d.qZA())}function vn(v,y){1&v&&(d.TgZ(0,"div",17),d._uU(1," Password must be at least 6 characters long! "),d.qZA())}function xn(v,y){if(1&v&&(d.TgZ(0,"div"),d.YNc(1,sn,2,0,"div",18),d.YNc(2,vn,2,0,"div",18),d.qZA()),2&v){const p=d.oxw();let I,P;d.xp6(1),d.Q6J("ngIf",null==(I=p.logInForm.get("password"))||null==I.errors?null:I.errors.required),d.xp6(1),d.Q6J("ngIf",null==(P=p.logInForm.get("password"))||null==P.errors?null:P.errors.minlength)}}function Zn(v,y){if(1&v&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&v){const p=d.oxw();d.xp6(1),d.Oqu(p.loginError)}}let Jn=(()=>{class v{constructor(p,I,P,K,fe,be){this.userService=p,this.fb=I,this.route=P,this.router=K,this.formErrorCheckService=fe,this.globalErrorHandler=be,this.loginError=null,this.returnUrl=null,this.logInForm=this.fb.group({email:["",[oe.kI.required,oe.kI.email]],password:["",[oe.kI.required,oe.kI.minLength(6)]]})}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/login"}submitLogInForm(){var p=this;return(0,te.Z)(function*(){if(p.formErrorCheckService.markFormGroupTouched(p.logInForm),p.logInForm.valid){const{email:I,password:P}=p.logInForm.value;try{yield p.userService.loginUser(I,P);const K=p.returnUrl||"/";yield p.router.navigateByUrl(K)}catch(K){p.globalErrorHandler.handleError(K)}}else{const I=p.formErrorCheckService.getFormGroupErrors(p.logInForm);p.globalErrorHandler.handleError(I)}})()}static#e=this.\u0275fac=function(I){return new(I||v)(d.Y36(_e.K),d.Y36(oe.qu),d.Y36(Q.gz),d.Y36(Q.F0),d.Y36(Ae.l),d.Y36(Ne.r))};static#t=this.\u0275cmp=d.Xpm({type:v,selectors:[["app-login"]],decls:30,vars:4,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],["data-aos","fade-up","data-aos-duration","3000",3,"formGroup","ngSubmit"],[1,"title-wrapper"],[1,"title-form"],[1,"formGroup"],["for","email"],["type","text","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","current-password"],["type","submit",1,"button",2,"width","100%"],[1,"hr"],["href","#","routerLink","/register"],[1,"hint"],["href","#","routerLink","/forgot-password"],[1,"errors"],["class","errors",4,"ngIf"]],template:function(I,P){if(1&I&&(d.TgZ(0,"div",0),d._UZ(1,"div",1),d.TgZ(2,"div",2)(3,"form",3),d.NdJ("ngSubmit",function(){return P.submitLogInForm()}),d.TgZ(4,"div",4)(5,"h1",5),d._uU(6,"Login"),d.qZA()(),d.TgZ(7,"div",6)(8,"label",7),d._uU(9,"Email"),d.qZA(),d._UZ(10,"input",8),d.YNc(11,yt,3,2,"div",9),d.qZA(),d.TgZ(12,"div",6)(13,"label",10),d._uU(14,"Password"),d.qZA(),d._UZ(15,"input",11),d.YNc(16,xn,3,2,"div",9),d.qZA(),d._UZ(17,"br"),d.TgZ(18,"div",6)(19,"button",12),d._uU(20,"Submit"),d.qZA()(),d.YNc(21,Zn,2,1,"div",9),d._UZ(22,"hr",13),d.TgZ(23,"div")(24,"a",14)(25,"div",15),d._uU(26,"Don't have a Registration yet?"),d.qZA()(),d.TgZ(27,"a",16)(28,"div",17),d._uU(29,"Forgot your password?"),d.qZA()()()()()()),2&I){let K,fe;d.xp6(3),d.Q6J("formGroup",P.logInForm),d.xp6(8),d.Q6J("ngIf",(null==(K=P.logInForm.get("email"))?null:K.invalid)&&(null==(K=P.logInForm.get("email"))?null:K.touched)),d.xp6(5),d.Q6J("ngIf",(null==(fe=P.logInForm.get("password"))?null:fe.invalid)&&(null==(fe=P.logInForm.get("password"))?null:fe.touched)),d.xp6(5),d.Q6J("ngIf",P.loginError)}},dependencies:[Ue.O5,Q.rH,oe._Y,oe.Fj,oe.JJ,oe.JL,oe.sg,oe.u],styles:["form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:none}}"]})}return v})();var $e=B(3585);const ze=function(v){return["/recipe",v]};function Je(v,y){if(1&v&&(d.TgZ(0,"a",10)(1,"div",11)(2,"div",12),d._UZ(3,"img",13),d.qZA(),d.TgZ(4,"p",14),d._uU(5),d.qZA()()()),2&v){const p=d.oxw().$implicit;d.Q6J("routerLink",d.VKq(4,ze,p.id)),d.xp6(3),d.s9C("alt",p.title),d.Q6J("src",p.image_recipe[0].image_recipe,d.LSH),d.xp6(2),d.Oqu(p.title)}}function je(v,y){if(1&v&&(d.TgZ(0,"div"),d.YNc(1,Je,6,6,"a",9),d.qZA()),2&v){const p=y.$implicit;d.xp6(1),d.Q6J("ngIf",p.public)}}function et(v,y){if(1&v){const p=d.EpF();d.TgZ(0,"div")(1,"button",15),d.NdJ("click",function(){d.CHM(p);const P=d.oxw();return d.KtG(P.getRecipesLoadMore())}),d._uU(2," Load More "),d.qZA()()}}function It(v,y){1&v&&(d.TgZ(0,"p")(1,"i"),d._uU(2," All recipes are now displayed! "),d.qZA()())}let Vt=(()=>{class v{constructor(p){this.recipeService=p,this.recipes=[],this.showLoadMoreButton=!0}ngOnInit(){var p=this;return(0,te.Z)(function*(){yield p.getRecipes(),p.showLoadMoreButton=!0})()}getRecipesLoadMore(){var p=this;return(0,te.Z)(function*(){const{data:I,hasMore:P}=yield p.recipeService.getRecipesLoadMore();p.showLoadMoreButton=P,p.recipes.push(...I)})()}getRecipes(){var p=this;return(0,te.Z)(function*(){const{data:I}=yield p.recipeService.getRecipes();p.recipes.push(...I)})()}static#e=this.\u0275fac=function(I){return new(I||v)(d.Y36($e.j))};static#t=this.\u0275cmp=d.Xpm({type:v,selectors:[["app-recipes-list"]],decls:13,vars:3,consts:[[1,"main-long"],[1,"headerImage"],["data-aos","fade-up","data-aos-duration","3000",1,"wrapper-list"],[1,"header-wrapper",2,"text-align","center"],[1,"title",2,"font-size","36px","line-height","1.2"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["allRecipesShown",""],[3,"routerLink",4,"ngIf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"],[1,"button-img",3,"click"]],template:function(I,P){if(1&I&&(d.TgZ(0,"main",0),d._UZ(1,"div",1),d.TgZ(2,"div",2)(3,"div",3)(4,"h1",4),d._uU(5,"Recipes"),d.qZA(),d.TgZ(6,"p"),d._uU(7,"Explore our herbal recipes for vitality and well-being."),d.qZA()(),d.TgZ(8,"div",5),d.YNc(9,je,2,1,"div",6),d.qZA(),d.YNc(10,et,3,0,"div",7),d.YNc(11,It,3,0,"ng-template",null,8,d.W1O),d.qZA()()),2&I){const K=d.MAs(12);d.xp6(9),d.Q6J("ngForOf",P.recipes),d.xp6(1),d.Q6J("ngIf",P.showLoadMoreButton)("ngIfElse",K)}},dependencies:[Ue.sg,Ue.O5,Q.rH],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:30px;column-gap:10px;margin-bottom:50px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill;border-radius:4px}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 461px) and (max-width: 767px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return v})();var Gt=B(8850),Xt=B(3477);function Wt(v,y){1&v&&(d.TgZ(0,"div",8),d._uU(1," Please write a comment! "),d.qZA())}function jt(v,y){1&v&&(d.TgZ(0,"div",8),d._uU(1," Comment must be at least 10 characters long. "),d.qZA())}function _t(v,y){1&v&&(d.TgZ(0,"div",8),d._uU(1," Comment cannot exceed 500 characters. "),d.qZA())}function wn(v,y){if(1&v&&(d.TgZ(0,"div"),d.YNc(1,Wt,2,0,"div",7),d.YNc(2,jt,2,0,"div",7),d.YNc(3,_t,2,0,"div",7),d.qZA()),2&v){const p=d.oxw();let I,P,K;d.xp6(1),d.Q6J("ngIf",null==(I=p.commentForm.get("comment"))||null==I.errors?null:I.errors.required),d.xp6(1),d.Q6J("ngIf",null==(P=p.commentForm.get("comment"))||null==P.errors?null:P.errors.minlength),d.xp6(1),d.Q6J("ngIf",null==(K=p.commentForm.get("comment"))||null==K.errors?null:K.errors.maxlength)}}let Kn=(()=>{class v{constructor(p,I,P,K,fe){this.fb=p,this.commentService=I,this.userService=P,this.globalErrorHandler=K,this.timestamp=new Date,this.fullName="",this.firestore=fe}ngOnInit(){this.commentForm=this.fb.group({name:[""],comment:["",[oe.kI.required,oe.kI.minLength(10),oe.kI.maxLength(500)]],recipeId:[this.recipeId],create_time:[this.timestamp],uid:[""]}),this.userService.userData$.subscribe({next:p=>{p?(this.userData=p,this.fullName=this.userData.firstName+" "+this.userData.lastName):this.fullName="Anonymous"},error:p=>{this.globalErrorHandler.handleError(p)}})}onSubmit(){var p=this;return(0,te.Z)(function*(){if(p.timestamp=new Date,p.commentForm.valid){p.commentForm.patchValue({name:p.fullName}),p.commentForm.patchValue({recipeId:p.recipeId}),p.commentForm.patchValue({create_time:p.timestamp}),p.userData&&p.commentForm.patchValue({uid:p.userData.uid});try{(yield p.commentService.addComment(p.commentForm.value))?p.commentForm.reset():p.globalErrorHandler.handleError("Error adding comment.")}catch(I){p.globalErrorHandler.handleError(I)}}})()}static#e=this.\u0275fac=function(I){return new(I||v)(d.Y36(oe.qu),d.Y36(Gt.O),d.Y36(_e.K),d.Y36(Ne.r),d.Y36(Xt.gg))};static#t=this.\u0275cmp=d.Xpm({type:v,selectors:[["app-comment-form"]],inputs:{recipeId:"recipeId"},decls:9,vars:2,consts:[[1,"commentWrapper"],["id","commentForm",3,"formGroup","ngSubmit"],[1,"form-group"],["placeholder","Write your comment ...","id","comment","formControlName","comment",1,"header-user-search"],["type","submit",1,"header-user-action","header-user-action-btn"],[1,"fa-regular","fa-paper-plane"],[4,"ngIf"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(I,P){if(1&I&&(d.TgZ(0,"div",0)(1,"form",1),d.NdJ("ngSubmit",function(){return P.onSubmit()}),d._UZ(2,"br"),d.TgZ(3,"div",2),d._UZ(4,"input",3),d.TgZ(5,"button",4),d._UZ(6,"i",5),d.qZA()(),d.YNc(7,wn,4,3,"div",6),d._UZ(8,"br"),d.qZA()()),2&I){let K;d.xp6(1),d.Q6J("formGroup",P.commentForm),d.xp6(6),d.Q6J("ngIf",null==(K=P.commentForm.get("comment"))?null:K.touched)}},dependencies:[Ue.O5,oe._Y,oe.Fj,oe.JJ,oe.JL,oe.sg,oe.u],styles:["form#commentForm[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:100%;margin-top:10px}.form-group[_ngcontent-%COMP%]{position:relative}.header-user-search[_ngcontent-%COMP%]{width:100%;padding:0 20px;height:40px;border:1px solid #c6c6c6;border-radius:20px;background:var(--mainWhiteColor);resize:none}.header-user-action[_ngcontent-%COMP%]{border-radius:50%;background:var(--mainYellowColor);width:40px;height:40px;border:unset}.header-user-action-btn[_ngcontent-%COMP%]{position:absolute;right:0;top:0;bottom:0}"]})}return v})();var cr=B(2732);function Pe(v,y){1&v&&d._UZ(0,"br")}function De(v,y){1&v&&(d.TgZ(0,"div"),d._UZ(1,"br"),d.qZA())}function rt(v,y){if(1&v&&(d.TgZ(0,"div",24),d._uU(1),d.YNc(2,De,2,0,"div",7),d.qZA()),2&v){const p=d.oxw();d.xp6(1),d.hij(" ",null==p.recipe?null:p.recipe.summary," "),d.xp6(1),d.Q6J("ngIf",!(null!=p.recipe&&p.recipe.summary))}}function Et(v,y){if(1&v){const p=d.EpF();d.TgZ(0,"span",25),d.NdJ("click",function(){d.CHM(p);const P=d.oxw();return d.KtG(P.navigateToRecipeDelete())}),d._UZ(1,"i",26),d.qZA()}}function bt(v,y){if(1&v){const p=d.EpF();d.TgZ(0,"span",25),d.NdJ("click",function(){d.CHM(p);const P=d.oxw();return d.KtG(P.navigateToRecipeEdit())}),d._UZ(1,"i",27),d.qZA()}}function kt(v,y){if(1&v&&(d.TgZ(0,"li"),d._UZ(1,"img",31),d.qZA()),2&v){const p=y.$implicit;d.xp6(1),d.Q6J("src",p.image_recipe,d.LSH)}}function pr(v,y){if(1&v&&(d.TgZ(0,"ul",28),d.YNc(1,kt,2,1,"li",29),d.TgZ(2,"div",30),d._uU(3),d.qZA()()),2&v){const p=d.oxw();d.xp6(1),d.Q6J("ngForOf",null==p.recipe?null:p.recipe.image_recipe),d.xp6(2),d.hij(" Added by ",null==p.recipe?null:p.recipe.author," ")}}function mn(v,y){if(1&v&&(d.TgZ(0,"div"),d._UZ(1,"i",32),d._uU(2,"\xa0"),d.TgZ(3,"span",33),d._uU(4),d.qZA()()),2&v){const p=d.oxw();d.xp6(4),d.Oqu(null==p.recipe||null==p.recipe.likes?null:p.recipe.likes.length)}}function Dn(v,y){if(1&v&&(d.TgZ(0,"div"),d._UZ(1,"i",34),d._uU(2,"\xa0"),d.TgZ(3,"span",35),d._uU(4),d.qZA()()),2&v){const p=d.oxw();d.xp6(4),d.Oqu(p.comments.length)}}function tn(v,y){1&v&&(d.ynx(0),d._UZ(1,"i",32),d.BQk())}function dn(v,y){1&v&&d._UZ(0,"i",41)}function mr(v,y){if(1&v){const p=d.EpF();d.TgZ(0,"button",38),d.NdJ("click",function(){d.CHM(p);const P=d.oxw(2);return d.KtG(P.updateRecipeLikes())}),d.YNc(1,tn,2,0,"ng-container",39),d.YNc(2,dn,1,0,"ng-template",null,40,d.W1O),d.qZA()}if(2&v){const p=d.MAs(3),I=d.oxw(2);d.xp6(1),d.Q6J("ngIf",I.userData&&I.recipe&&I.recipe.likes&&(null==I.userData?null:I.userData.uid)&&I.recipe.likes.includes(I.userData.uid))("ngIfElse",p)}}function rn(v,y){1&v&&(d.ynx(0),d._UZ(1,"i",42),d.BQk())}function lr(v,y){1&v&&d._UZ(0,"i",43)}function Er(v,y){if(1&v){const p=d.EpF();d.TgZ(0,"button",38),d.NdJ("click",function(){d.CHM(p);const P=d.oxw(2);return d.KtG(P.updateFavoriteRecipes())}),d.YNc(1,rn,2,0,"ng-container",39),d.YNc(2,lr,1,0,"ng-template",null,40,d.W1O),d.qZA()}if(2&v){const p=d.MAs(3),I=d.oxw(2);d.xp6(1),d.Q6J("ngIf",I.recipe&&I.userData&&I.userData.favoriteRecipes&&I.userData.favoriteRecipes.includes(I.recipeId||""))("ngIfElse",p)}}function bn(v,y){if(1&v){const p=d.EpF();d.TgZ(0,"button",38),d.NdJ("click",function(){d.CHM(p);const P=d.oxw(2);return d.KtG(P.toggleCommentForm())}),d._UZ(1,"i",44),d.qZA()}}function zn(v,y){if(1&v){const p=d.EpF();d.TgZ(0,"button",38),d.NdJ("click",function(){d.CHM(p);const P=d.oxw(2);return d.KtG(P.toggleCommentForm())}),d._UZ(1,"i",34),d.qZA()}}function qn(v,y){if(1&v&&(d.TgZ(0,"div",36),d.YNc(1,mr,4,2,"button",37),d.YNc(2,Er,4,2,"button",37),d.YNc(3,bn,2,0,"button",37),d.YNc(4,zn,2,0,"button",37),d.qZA()),2&v){const p=d.oxw();d.xp6(1),d.Q6J("ngIf",p.userData),d.xp6(1),d.Q6J("ngIf",p.userData),d.xp6(1),d.Q6J("ngIf",!p.showCommentForm),d.xp6(1),d.Q6J("ngIf",p.showCommentForm)}}function Xn(v,y){if(1&v&&(d.TgZ(0,"div"),d._UZ(1,"app-comment-form",45),d.qZA()),2&v){const p=d.oxw();d.xp6(1),d.Q6J("recipeId",p.recipeId)}}function On(v,y){1&v&&(d.TgZ(0,"div",16),d._UZ(1,"hr"),d.TgZ(2,"p"),d._uU(3,"\xa0\xa0Ingredients\xa0\xa0"),d.qZA(),d._UZ(4,"hr"),d.qZA())}function qr(v,y){if(1&v&&(d.TgZ(0,"li",48),d._uU(1),d.qZA()),2&v){const p=d.oxw().$implicit;d.xp6(1),d.lnq(" ",p.name," - ",p.amount," ",p.unit," ")}}function Qt(v,y){if(1&v&&(d.TgZ(0,"ul",46),d.YNc(1,qr,2,3,"li",47),d.qZA()),2&v){const p=d.oxw();d.xp6(1),d.Q6J("ngIf",null==p.recipe?null:p.recipe.ingredients)}}function vi(v,y){if(1&v&&(d.TgZ(0,"li"),d._UZ(1,"iframe",50),d.ALo(2,"safeUrl"),d.qZA()),2&v){const p=y.$implicit;d.xp6(1),d.Q6J("src",d.lcZ(2,1,p.video_recipe),d.uOi)}}function Nr(v,y){if(1&v&&(d.TgZ(0,"div",49)(1,"div",16),d._UZ(2,"hr"),d.TgZ(3,"p"),d._uU(4,"\xa0\xa0Video\xa0\xa0"),d.qZA(),d._UZ(5,"hr"),d.qZA(),d._UZ(6,"br"),d.TgZ(7,"ul"),d.YNc(8,vi,3,3,"li",29),d.qZA()()),2&v){const p=d.oxw();d.xp6(8),d.Q6J("ngForOf",null==p.recipe?null:p.recipe.video_recipe)}}function xr(v,y){1&v&&(d.TgZ(0,"div",16),d._UZ(1,"hr"),d.TgZ(2,"p"),d._uU(3,"\xa0\xa0Comments\xa0\xa0"),d.qZA(),d._UZ(4,"hr"),d.qZA())}function dt(v,y){if(1&v){const p=d.EpF();d.TgZ(0,"span",25),d.NdJ("click",function(){d.CHM(p);const P=d.oxw().$implicit,K=d.oxw(2);return d.KtG(K.deleteComment(P.id))}),d._UZ(1,"i",26),d.qZA()}}function xe(v,y){if(1&v){const p=d.EpF();d.TgZ(0,"span",25),d.NdJ("click",function(){d.CHM(p);const P=d.oxw().$implicit,K=d.oxw(2);return d.KtG(K.navigateToCommentEdit(P.id))}),d._UZ(1,"i",27),d.qZA()}}function ot(v,y){if(1&v&&(d.TgZ(0,"ul")(1,"li",48),d._uU(2),d.qZA(),d.TgZ(3,"li"),d._uU(4),d.qZA(),d.TgZ(5,"li",52)(6,"p"),d._uU(7),d.ALo(8,"date"),d.qZA(),d.TgZ(9,"div",53),d.YNc(10,dt,2,0,"span",10),d.YNc(11,xe,2,0,"span",10),d.qZA()(),d._UZ(12,"hr",54),d.qZA()),2&v){const p=y.$implicit,I=d.oxw(2);d.xp6(2),d.Oqu(p.name),d.xp6(2),d.Oqu(p.comment),d.xp6(3),d.hij(" ",d.xi3(8,5,p.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," "),d.xp6(3),d.Q6J("ngIf",I.userData&&p.uid==I.userData.uid),d.xp6(1),d.Q6J("ngIf",I.userData&&p.uid==I.userData.uid)}}function Ot(v,y){if(1&v&&(d.TgZ(0,"section",51),d.YNc(1,ot,13,8,"ul",29),d.qZA()),2&v){const p=d.oxw();d.xp6(1),d.Q6J("ngForOf",p.comments)}}let Zt=(()=>{class v{constructor(p,I,P,K,fe,be){var He=this;this.route=p,this.recipeService=I,this.commentService=P,this.userService=K,this.router=fe,this.globalErrorHandler=be,this.recipe=null,this.recipeId="",this.comments=[],this.showCommentForm=!1,this.route.paramMap.subscribe(function(){var lt=(0,te.Z)(function*(Pt){He.recipeId=Pt.get("id")});return function(Pt){return lt.apply(this,arguments)}}()),P.getCommentAddedObservable().subscribe((0,te.Z)(function*(){console.log("Comment successfully added."),yield He.loadCommentsForRecipe()}))}loadRecipeData(){var p=this;return(0,te.Z)(function*(){if(p.recipeId)try{p.recipe=yield p.recipeService.getRecipeById(p.recipeId),p.comments=yield p.commentService.getCommentsForRecipe(p.recipeId)}catch(I){p.globalErrorHandler.handleError(I)}})()}navigateToRecipeEdit(){var p=this;return(0,te.Z)(function*(){yield p.router.navigate(["/dashboard/recipe-edit",p.recipeId])})()}navigateToRecipeDelete(){var p=this;return(0,te.Z)(function*(){yield p.router.navigate(["/dashboard/recipe-delete",p.recipeId])})()}ngOnInit(){var p=this;return(0,te.Z)(function*(){yield p.loadRecipeData(),p.userService.userData$.subscribe(I=>{I&&(p.userData=I)})})()}toggleCommentForm(){this.showCommentForm=!this.showCommentForm}navigateToCommentEdit(p){var I=this;return(0,te.Z)(function*(){yield I.router.navigate(["/dashboard/comment-edit",p])})()}deleteComment(p){var I=this;return(0,te.Z)(function*(){try{yield I.commentService.deleteComment(p),yield I.loadRecipeData()}catch(P){I.globalErrorHandler.handleError(P)}})()}updateRecipeLikes(){var p=this;return(0,te.Z)(function*(){if(!p.recipe)return void p.globalErrorHandler.handleError("Recipe data is missing.");if(!p.userData)return void p.globalErrorHandler.handleError("User is not logged in.");let I=p.recipe.likes.includes(p.userData.uid);yield p.recipeService.updateRecipeLikes(p.recipeId,p.userData.uid,I),yield p.loadRecipeData()})()}updateFavoriteRecipes(){var p=this;return(0,te.Z)(function*(){if(p.recipe){if(p.userData&&p.recipeId){let I=p.userData.favoriteRecipes.includes(p.recipeId);yield p.userService.updateFavoriteRecipes(p.recipeId,p.userData.uid,I),yield p.loadRecipeData()}}else p.globalErrorHandler.handleError("Recipe data is missing.")})()}loadCommentsForRecipe(){var p=this;return(0,te.Z)(function*(){p.recipeId&&(p.comments=yield p.commentService.getCommentsForRecipe(p.recipeId))})()}static#e=this.\u0275fac=function(I){return new(I||v)(d.Y36(Q.gz),d.Y36($e.j),d.Y36(Gt.O),d.Y36(_e.K),d.Y36(Q.F0),d.Y36(Ne.r))};static#t=this.\u0275cmp=d.Xpm({type:v,selectors:[["app-recipe"]],decls:40,vars:17,consts:[[1,"mainLong"],[1,"headerImage"],[1,"wrapper-list"],["data-aos","fade-up","data-aos-duration","3000",1,"recipe-container"],[1,"title-wrapper"],[1,"title"],[1,"recipe-subtitle"],[4,"ngIf"],["class","recipe-summary",4,"ngIf"],[1,"commentBtnWrapper",2,"justify-content","flex-end"],["class","button-img",3,"click",4,"ngIf"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],[1,"recipe-info"],["class","buttons-grid",4,"ngIf"],["data-aos","fade-up","data-aos-duration","3000",1,"description-wrapper"],[1,"divider"],[1,"recipe-description-text","description",2,"color","var(--mainGreyColor)"],["data-aos","fade-up","data-aos-duration","3000",1,"ingredients-wrapper"],["class","divider",4,"ngIf"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-videos",4,"ngIf"],["data-aos","fade-up","data-aos-duration","3000",1,"comments-wrapper"],["class","comments",4,"ngIf"],[1,"recipe-summary"],[1,"button-img",3,"click"],[1,"fa-solid","fa-trash"],[1,"fa-regular","fa-pen-to-square"],[1,"recipe-image"],[4,"ngFor","ngForOf"],[2,"font-size","12px","color","var(--mainGreyColor)"],["alt","Image of a recipe","data-aos","fade-up",3,"src"],[1,"fa-solid","fa-thumbs-up"],[1,"badge","rounded-pill","text-bg-success"],[1,"fa-solid","fa-comment",2,"color","var(--mainYellowColor)"],[1,"badge","rounded-pill","text-bg-warning"],[1,"buttons-grid"],["class","",3,"click",4,"ngIf"],[1,"",3,"click"],[4,"ngIf","ngIfElse"],["notLiked",""],[1,"fa-regular","fa-thumbs-up"],[1,"fa-solid","fa-heart",2,"color","var(--mainRedColor)"],[1,"fa-regular","fa-heart",2,"color","var(--mainRedColor)"],[1,"fa-regular","fa-comment",2,"color","var(--mainYellowColor)"],[3,"recipeId"],[1,"recipe-ingredients"],["style","color: var(--mainGreyColor)",4,"ngIf"],[2,"color","var(--mainGreyColor)"],[1,"recipe-videos"],["width","560","height","315","allowfullscreen","",3,"src"],[1,"comments"],[1,"comments-last"],[1,"commentBtnWrapper"],[1,"hr"]],template:function(I,P){1&I&&(d.TgZ(0,"div",0),d._UZ(1,"div",1),d.TgZ(2,"div",2)(3,"div",3)(4,"div")(5,"div",4)(6,"h1",5),d._uU(7),d.qZA()(),d.TgZ(8,"h3",6),d._uU(9),d.qZA(),d.YNc(10,Pe,1,0,"br",7),d.YNc(11,rt,3,2,"div",8),d.TgZ(12,"div",9),d.YNc(13,Et,2,0,"span",10),d.YNc(14,bt,2,0,"span",10),d.qZA()(),d.TgZ(15,"div",11),d.YNc(16,pr,4,2,"ul",12),d.TgZ(17,"div",13),d.YNc(18,mn,5,1,"div",7),d.YNc(19,Dn,5,1,"div",7),d.qZA(),d.YNc(20,qn,5,4,"div",14),d.YNc(21,Xn,2,1,"div",7),d.TgZ(22,"div",15)(23,"div",16),d._UZ(24,"hr"),d.TgZ(25,"p"),d._uU(26,"\xa0\xa0Description\xa0\xa0"),d.qZA(),d._UZ(27,"hr"),d.qZA(),d._UZ(28,"br"),d.TgZ(29,"p",17),d._uU(30),d.qZA(),d._UZ(31,"br"),d.qZA(),d.TgZ(32,"div",18),d.YNc(33,On,5,0,"div",19),d._UZ(34,"br"),d.YNc(35,Qt,2,1,"ul",20),d.qZA(),d.YNc(36,Nr,9,1,"div",21),d.TgZ(37,"div",22),d.YNc(38,xr,5,0,"div",19),d.YNc(39,Ot,2,1,"section",23),d.qZA()()()()()),2&I&&(d.xp6(7),d.Oqu(null==P.recipe?null:P.recipe.title),d.xp6(2),d.Oqu(null==P.recipe?null:P.recipe.subtitle),d.xp6(1),d.Q6J("ngIf",!(null!=P.recipe&&P.recipe.summary)),d.xp6(1),d.Q6J("ngIf",null==P.recipe?null:P.recipe.summary),d.xp6(2),d.Q6J("ngIf",P.userData&&P.userData.uid==(null==P.recipe?null:P.recipe.uid)),d.xp6(1),d.Q6J("ngIf",P.userData&&P.userData.uid==(null==P.recipe?null:P.recipe.uid)),d.xp6(2),d.Q6J("ngIf",(null==P.recipe?null:P.recipe.image_recipe)&&(null==P.recipe||null==P.recipe.image_recipe?null:P.recipe.image_recipe.length)>0),d.xp6(2),d.Q6J("ngIf",(null==P.recipe||null==P.recipe.likes?null:P.recipe.likes.length)>0),d.xp6(1),d.Q6J("ngIf",P.comments&&P.comments.length>0),d.xp6(1),d.Q6J("ngIf",P.userData),d.xp6(1),d.Q6J("ngIf",P.showCommentForm),d.xp6(9),d.hij("",null==P.recipe?null:P.recipe.description," "),d.xp6(3),d.Q6J("ngIf",null==P.recipe?null:P.recipe.ingredients),d.xp6(2),d.Q6J("ngForOf",null==P.recipe?null:P.recipe.ingredients),d.xp6(1),d.Q6J("ngIf",(null==P.recipe?null:P.recipe.video_recipe)&&(null==P.recipe||null==P.recipe.video_recipe?null:P.recipe.video_recipe.length)>0),d.xp6(2),d.Q6J("ngIf",P.comments.length>0),d.xp6(1),d.Q6J("ngIf",P.comments.length>0))},dependencies:[Ue.sg,Ue.O5,Kn,Ue.uU,cr.Q],styles:[".recipe-container[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:800px;margin:-50px auto 50px;padding:32px;box-shadow:0 1px 3px #0000004d}.title[_ngcontent-%COMP%]{font-size:28px}.recipe-subtitle[_ngcontent-%COMP%]{font-size:14px;margin-top:-10px;color:var(--mainGreyColor);font-style:italic;white-space:pre-wrap}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic;white-space:pre-wrap}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}ul.recipe-image[_ngcontent-%COMP%]{padding-left:unset}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.recipe-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px;padding:0 10px}.buttons-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);border-radius:8px;box-shadow:0 1px 3px #0000004d;overflow:hidden}.buttons-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:unset;background-color:var(--backgroundColor);transition:.5s ease-in-out}.buttons-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--mainMagnoliaColor)}.buttons-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:var(--backgroundColor)}.buttons-grid[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--textColor)}.like-wrapper[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:baseline}.comments[_ngcontent-%COMP%]{border:1px solid var(--mainMagnoliaColor);margin:30px 0;padding:20px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:10px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:5px}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--mainGreyColor)}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--backgroundColor);padding-left:5px;border-radius:5px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--mainMagnoliaColor);font-style:italic;border-radius:5px}.comments-last[_ngcontent-%COMP%]{display:flex;justify-content:space-between}@media (max-width: 640px){.buttons-img[_ngcontent-%COMP%]{flex-direction:column-reverse}.buttons[_ngcontent-%COMP%]{display:flex;padding:unset;width:100%;justify-content:space-around;align-items:stretch;gap:10px}.like-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between}}"]})}return v})();function Jt(v,y){1&v&&(d.TgZ(0,"div")(1,"main",2),d._UZ(2,"div",3),d.TgZ(3,"div",4)(4,"div",5)(5,"div",6)(6,"h1",7),d._uU(7," We're sorry, but we couldn't find the result you're looking for! "),d.qZA()()()()()())}const Wn=function(v){return["/recipe",v]};function Y(v,y){if(1&v&&(d.TgZ(0,"div")(1,"a",12)(2,"div",13)(3,"div",14),d._UZ(4,"img",15),d.qZA(),d.TgZ(5,"p",16),d._uU(6),d.qZA()()()()),2&v){const p=y.$implicit;d.xp6(1),d.Q6J("routerLink",d.VKq(4,Wn,p.id)),d.xp6(3),d.s9C("alt",p.title),d.Q6J("src",p.image_recipe[0].image_recipe,d.LSH),d.xp6(2),d.Oqu(p.title)}}function F(v,y){if(1&v&&(d.TgZ(0,"main",8),d._UZ(1,"div",3),d.TgZ(2,"div",9)(3,"div",6)(4,"h1",7),d._uU(5,"Result"),d.qZA()(),d.TgZ(6,"div",10),d.YNc(7,Y,7,6,"div",11),d.qZA()()()),2&v){const p=d.oxw();d.xp6(7),d.Q6J("ngForOf",p.recipes)}}let $=(()=>{class v{constructor(p,I){this.recipeService=p,this.route=I,this.recipes=[],this.result=!1}ngOnInit(){this.route.queryParams.subscribe(p=>{const I=p.search;I&&this.searchRecipesByTitle(I)})}searchRecipesByTitle(p){var I=this;return(0,te.Z)(function*(){const{data:P}=yield I.recipeService.searchRecipesByTitle(p);P.length>0?(I.recipes.push(...P),I.result=!0):I.result=!1})()}static#e=this.\u0275fac=function(I){return new(I||v)(d.Y36($e.j),d.Y36(Q.gz))};static#t=this.\u0275cmp=d.Xpm({type:v,selectors:[["app-recipe-search"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["recipesList",""],[1,"main-short"],[1,"headerImage"],["data-aos","fade-up","data-aos-duration","3000",1,"wrapper"],[1,"empty"],[1,"title-wrapper"],[1,"title"],[1,"main-long"],["data-aos","fade-up","data-aos-duration","3000",1,"wrapper-list"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"]],template:function(I,P){if(1&I&&(d.YNc(0,Jt,8,0,"div",0),d.YNc(1,F,8,1,"ng-template",null,1,d.W1O)),2&I){const K=d.MAs(2);d.Q6J("ngIf",!P.result)("ngIfElse",K)}},dependencies:[Ue.sg,Ue.O5,Q.rH],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:20px;margin-bottom:50px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 461px) and (max-width: 767px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return v})();const q=(v,y)=>{const p=(0,d.f3M)(_e.K),I=(0,d.f3M)(Q.F0);return p.userData$.pipe((0,se.U)(P=>!P||(I.navigate(["/recipes-list"]),!1)))};let G=(()=>{class v{static#e=this.\u0275fac=function(I){return new(I||v)};static#t=this.\u0275cmp=d.Xpm({type:v,selectors:[["app-about-us"]],decls:22,vars:0,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],[2,"color","var(--mainGreyColor)"]],template:function(I,P){1&I&&(d.TgZ(0,"div",0),d._UZ(1,"div",1),d.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),d._uU(6,"About Us"),d.qZA()(),d.TgZ(7,"div",6)(8,"p"),d._uU(9,"Welcome to our Healing Herbal Recipe Community!"),d.qZA(),d.TgZ(10,"p"),d._uU(11," Hello and welcome to our cozy corner dedicated to the power of herbs for health and well-being! We are passionate enthusiasts of herbal healing recipes and have decided to create this space where people from all over the world can come together to share their knowledge, experience, and love for herbal remedies. "),d.qZA(),d.TgZ(12,"p"),d._uU(13," We believe in the healing power of nature and strive to provide our users with a wealth of resources and inspiring ideas to improve their health and well-being. Our mission is to create a space where people can find recipes and support from the community to feel healthier and stronger. "),d.qZA(),d.TgZ(14,"p"),d._uU(15," Join us today and become part of our Healing Herbal Recipe Community! Together, we can achieve good heath and well-being through the power of nature and community. "),d.qZA(),d.TgZ(16,"p"),d._uU(17," Thank you for choosing to be part of our journey towards health and harmony! "),d.qZA(),d.TgZ(18,"p"),d._uU(19,"With love and gratitude,"),d.qZA(),d.TgZ(20,"p"),d._uU(21,"The Natural Way Team"),d.qZA()()()()())}})}return v})(),Ce=(()=>{class v{static#e=this.\u0275fac=function(I){return new(I||v)};static#t=this.\u0275cmp=d.Xpm({type:v,selectors:[["app-privacy-policy"]],decls:46,vars:0,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],[2,"color","var(--mainGreyColor)"],[2,"font-style","italic"],["routerLink","/contact"]],template:function(I,P){1&I&&(d.TgZ(0,"div",0),d._UZ(1,"div",1),d.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),d._uU(6,"Privacy Policy"),d.qZA()(),d.TgZ(7,"div",6)(8,"p",7),d._uU(9,"Last updated: 29.03.2024"),d.qZA(),d.TgZ(10,"p"),d._uU(11,' Welcome to the Privacy Policy of "The Natural Way". Our Privacy Policy explains how we collect, use, and disclose the personal information we receive from visitors to our Website. '),d.qZA(),d.TgZ(12,"h5"),d._uU(13,"1. Collection of Information"),d.qZA(),d.TgZ(14,"p"),d._uU(15," When you visit the Website, we may collect certain information from and about you. This information may include, but is not limited to: "),d.TgZ(16,"span",7),d._uU(17," Personal data such as names, email addresses, mailing addresses, etc., that you voluntarily provide to us through contact forms or account registration. Information about your computer, including IP address, browser type, operating system, and similar data for trend analysis, Website management, and protection against abuse. "),d.qZA()(),d.TgZ(18,"h5"),d._uU(19,"2. Use of Information"),d.qZA(),d.TgZ(20,"p"),d._uU(21," We use the collected information to provide and improve the Website, interact with users, analyze trends, and provide personalized content and advertisements. "),d.qZA(),d.TgZ(22,"h5"),d._uU(23,"3. Disclosure of Information"),d.qZA(),d.TgZ(24,"p"),d._uU(25," We may disclose personal information to our partners, service providers, and other third parties when necessary to provide services and perform tasks related to Website management. "),d.qZA(),d.TgZ(26,"h5"),d._uU(27,"4. Cookies and Similar Technologies"),d.qZA(),d.TgZ(28,"p"),d._uU(29," Our Cookie Policy explains how we use cookies and similar technologies that may be used on our Website. "),d.qZA(),d.TgZ(30,"h5"),d._uU(31,"5. Changes to the Privacy Policy"),d.qZA(),d.TgZ(32,"p"),d._uU(33," We may update this Privacy Policy from time to time. Any changes to this Privacy Policy will be posted on this page. "),d.qZA(),d.TgZ(34,"h5"),d._uU(35,"6. Linked Services and Websites"),d.qZA(),d.TgZ(36,"p"),d._uU(37," The Website may contain links to other websites and services that are not under our control. We are not responsible for the content and practices of these websites, and we encourage you to review the privacy policies of each website you visit. "),d.qZA(),d.TgZ(38,"h5"),d._uU(39,"7. Contact Information"),d.qZA(),d.TgZ(40,"p"),d._uU(41," For additional information regarding our Privacy Policy, please contact us at "),d.TgZ(42,"span")(43,"a",8),d._uU(44,"Contact Us"),d.qZA(),d._uU(45," page. "),d.qZA()()()()()())},dependencies:[Q.rH]})}return v})(),nt=(()=>{class v{static#e=this.\u0275fac=function(I){return new(I||v)};static#t=this.\u0275cmp=d.Xpm({type:v,selectors:[["app-contact-us"]],decls:28,vars:0,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],[2,"color","var(--mainGreyColor)"],["href","mailto:andon.ov@yahoo.com"],[1,"hr"]],template:function(I,P){1&I&&(d.TgZ(0,"div",0),d._UZ(1,"div",1),d.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),d._uU(6,"Contact Us"),d.qZA()(),d.TgZ(7,"div",6)(8,"p"),d._uU(9," For any inquiries or questions, please feel free to contact us. We're here to help! "),d.qZA(),d.TgZ(10,"div")(11,"p")(12,"strong"),d._uU(13,"Address:"),d.qZA(),d._uU(14," San Stefano , Burgas, Bulgaria"),d.qZA(),d.TgZ(15,"p")(16,"strong"),d._uU(17,"Phone:"),d.qZA(),d._uU(18," +359 885 996789"),d.qZA(),d.TgZ(19,"p")(20,"strong"),d._uU(21,"Email:"),d.qZA(),d.TgZ(22,"a",7),d._uU(23," Andon.ov@yahoo.com"),d.qZA()()(),d._UZ(24,"hr",8),d.TgZ(25,"div")(26,"p"),d._uU(27," This project was developed to meet the requirements of the Angular Project Assignment within the 'Angular - February 2024' course at SoftUni. "),d.qZA()()()()()())}})}return v})(),Mt=(()=>{class v{constructor(p){this.userService=p}static#e=this.\u0275fac=function(I){return new(I||v)(d.Y36(_e.K))};static#t=this.\u0275cmp=d.Xpm({type:v,selectors:[["app-forgot-password"]],decls:19,vars:0,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],["data-aos","fade-up","data-aos-duration","3000",1,"form-wrapper"],[1,"title-wrapper",2,"flex-direction","column"],[1,"title"],[1,"hint"],[1,"formGroup"],["type","email","placeholder","Email","required","",1,"formControl"],["passwordResetEmail",""],[1,"errors"],[1,"buttons"],["type","submit","value","Send email",1,"button",3,"click"],["href","#","routerLink","/login"]],template:function(I,P){if(1&I){const K=d.EpF();d.TgZ(0,"div",0),d._UZ(1,"div",1),d.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),d._uU(6,"Forgotten password"),d.qZA()(),d.TgZ(7,"p",6),d._uU(8," Please enter your email address so we can send you a password reset email. "),d.qZA(),d.TgZ(9,"div",7),d._UZ(10,"input",8,9),d.qZA(),d.TgZ(12,"p",10),d._uU(13," If you can't find the email, please check your spam folder! "),d.qZA(),d.TgZ(14,"div",11)(15,"input",12),d.NdJ("click",function(){d.CHM(K);const be=d.MAs(11);return d.KtG(P.userService.forgotPassword(be.value))}),d.qZA(),d.TgZ(16,"a",13)(17,"div",6),d._uU(18,"Return to Login"),d.qZA()()()()()()}},dependencies:[Q.rH],styles:[".form-wrapper[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.wrapper[_ngcontent-%COMP%]{padding:0 5%;max-width:600px;margin:0 auto}"]})}return v})(),ln=(()=>{class v{static#e=this.\u0275fac=function(I){return new(I||v)};static#t=this.\u0275cmp=d.Xpm({type:v,selectors:[["app-page-not-found"]],decls:12,vars:0,consts:[[1,"main-short"],[1,"headerImage"],["data-aos","fade-up","data-aos-duration","3000",1,"wrapper"],[1,"empty"],[1,"title-wrapper"],[1,"title"],[1,"emptyInfo",2,"margin-bottom","10px"],["routerLink","/",1,"button-img"]],template:function(I,P){1&I&&(d.TgZ(0,"main",0),d._UZ(1,"div",1),d.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),d._uU(6,"Page not Found!"),d.qZA()(),d.TgZ(7,"div",6)(8,"p"),d._uU(9,"We're sorry, but the page you're looking for cannot be found."),d.qZA()(),d.TgZ(10,"a",7),d._uU(11,"Back to Home"),d.qZA()()()())},dependencies:[Q.rH]})}return v})();var hn=B(3752);function Rn(v,y){1&v&&d._UZ(0,"img",7)}function nn(v,y){1&v&&d._UZ(0,"img",8)}function Ln(v,y){1&v&&d._UZ(0,"img",9)}let Vr=(()=>{class v{constructor(){this.customOptions={loop:!0,margin:10,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!1,autoplay:!0,autoplayTimeout:5e3,navSpeed:700,navText:["",""],responsive:{0:{items:1},400:{items:2},740:{items:3},940:{items:4}},nav:!0}}static#e=this.\u0275fac=function(I){return new(I||v)};static#t=this.\u0275cmp=d.Xpm({type:v,selectors:[["app-carousel"]],decls:12,vars:1,consts:[[1,"carousel"],[1,"info"],["data-aos","fade-down","data-aos-duration","3000",1,"carousel-title"],["data-aos","fade-left","data-aos-duration","3000",1,"subtitle"],["routerLink","/recipes-list","data-aos","fade-up","data-aos-duration","3000",1,"infoBtn"],[3,"options"],["carouselSlide",""],["src","https://images.pexels.com/photos/1638280/pexels-photo-1638280.jpeg","alt","carousel-img",1,"carousel-img"],["src","https://imgix-prod.sgs.com/-/media/sgscorp/images/connectivity-and-products/aromatics-pexels.cdn.en-MU.1.jpg","alt","carousel-img",1,"carousel-img"],["src","https://www.aveeno.com/sites/aveeno_us_2/files/healingherbswithmortaran_687349.jpg","alt","carousel-img",1,"carousel-img"]],template:function(I,P){1&I&&(d.TgZ(0,"div",0)(1,"div",1)(2,"div",2),d._uU(3," Welcome! "),d.qZA(),d.TgZ(4,"div",3),d._uU(5," Explore our curated herbal recipes for vitality and well-being. Register to save favorites, comment, and like recipes. Join us and contribute your own recipes for a community dedicated to herbal remedies! "),d.qZA(),d.TgZ(6,"a",4),d._uU(7,"Recipes"),d.qZA()(),d.TgZ(8,"owl-carousel-o",5),d.YNc(9,Rn,1,0,"ng-template",6),d.YNc(10,nn,1,0,"ng-template",6),d.YNc(11,Ln,1,0,"ng-template",6),d.qZA()()),2&I&&(d.xp6(8),d.Q6J("options",P.customOptions))},dependencies:[Q.rH,hn.Fy,hn.Mp],styles:[".carousel[_ngcontent-%COMP%]{border-radius:16px;overflow:hidden}.carousel-img[_ngcontent-%COMP%]{height:80vh;object-fit:cover;object-position:center}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{z-index:9}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0 50% 0 0;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{z-index:2;position:absolute;display:flex;flex-direction:column;text-align:left;padding:50px;justify-content:center;align-items:flex-start;max-width:500px;max-height:500px;margin:32px;border-radius:16px;background-color:var(--mainRGBAColor)}.carousel-title[_ngcontent-%COMP%]{font-size:30px;padding-bottom:20px;font-weight:900;text-align:left;box-shadow:unset}.subtitle[_ngcontent-%COMP%]{font-size:18px;font-weight:400;margin-bottom:25px}.infoBtn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;text-align:center;background:var(--backgroundColor);color:var(--textColor);border-radius:24px;padding:0 25px;font-weight:700;font-size:17px;height:48px;transition:.3s ease-in-out}.infoBtn[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.1)}@media (max-width: 460px){.carousel[_ngcontent-%COMP%]{border-radius:0;height:93vh}.carousel-img[_ngcontent-%COMP%]{height:97vh}.info[_ngcontent-%COMP%]{inset:0;color:var(--mainWhiteColor);justify-content:flex-start;align-items:center;max-width:unset;max-height:unset;margin:unset;padding:150px 16px 16px;border-radius:unset}.subtitle[_ngcontent-%COMP%]{max-width:100%}}@media (min-width: 461px) and (max-width: 767px){.info[_ngcontent-%COMP%]{position:absolute;inset:0;color:var(--mainWhiteColor);max-width:unset;max-height:unset;margin:unset}}"]})}return v})();const as=[{path:"",pathMatch:"full",component:(()=>{class v{static#e=this.\u0275fac=function(I){return new(I||v)};static#t=this.\u0275cmp=d.Xpm({type:v,selectors:[["app-hero"]],decls:3,vars:0,consts:[[1,"main-long"],[1,"hero"]],template:function(I,P){1&I&&(d.TgZ(0,"main",0)(1,"section",1),d._UZ(2,"app-carousel"),d.qZA()())},dependencies:[Vr],styles:[".hero[_ngcontent-%COMP%]{max-width:1920px;margin:0 auto;padding:50px;height:93vh;color:var(--mainWhiteColor)}@media (max-width: 460px){.hero[_ngcontent-%COMP%]{padding:unset}}"]})}return v})()},{path:"register",component:Ve,canActivate:[q]},{path:"login",component:Jn,canActivate:[q]},{path:"forgot-password",component:Mt},{path:"recipes-list",component:Vt},{path:"recipe-search",component:$},{path:"recipe/:id",component:Zt},{path:"about",component:G},{path:"privacy-policy",component:Ce},{path:"contact",component:nt},{path:"dashboard",loadChildren:()=>B.e(691).then(B.bind(B,7691)).then(v=>v.PrivateModule),canActivate:[(v,y)=>{const p=(0,d.f3M)(_e.K),I=(0,d.f3M)(Q.F0),P=(0,d.f3M)(Ne.r);return p.userData$.pipe((0,he.w)(K=>(0,de.of)(!!K&&K.isActive)),(0,se.U)(K=>!!K||(P.handleError("Unauthorized Access:\n          \n Please ensure you have appropriate permissions to view this content."),I.createUrlTree(["/login"],{queryParams:{returnUrl:y.url}}))))}]},{path:"**",component:ln}];let ho=(()=>{class v{static#e=this.\u0275fac=function(I){return new(I||v)};static#t=this.\u0275mod=d.oAB({type:v});static#n=this.\u0275inj=d.cJS({imports:[Q.Bz.forRoot(as,{useHash:!0}),Q.Bz]})}return v})();var Le=B(9402);let Tn=(()=>{class v{static#e=this.\u0275fac=function(I){return new(I||v)};static#t=this.\u0275cmp=d.Xpm({type:v,selectors:[["app-footer"]],decls:24,vars:0,consts:[[1,"footer"],[1,"footer-main"],[1,"footer-links"],["routerLink","/about"],["routerLink","/contact"],["routerLink","/privacy-policy"],[1,"social-icons"],["href","https://github.com/andon-ov","target","_blank"],[1,"fa-brands","fa-github"],["href","https://linkedin.com/in/andon-ov","target","_blank"],[1,"fa-brands","fa-linkedin"],[1,"copyright"],[1,"projectInfo"],["target","_blank","href","https://softuni.bg/"]],template:function(I,P){1&I&&(d.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"a",3),d._uU(4,"About Us"),d.qZA(),d._uU(5," | "),d.TgZ(6,"a",4),d._uU(7,"Contact Us"),d.qZA(),d._uU(8," | "),d.TgZ(9,"a",5),d._uU(10,"Privacy Policy"),d.qZA()(),d.TgZ(11,"div",6)(12,"a",7),d._UZ(13,"i",8),d.qZA(),d.TgZ(14,"a",9),d._UZ(15,"i",10),d.qZA()()(),d.TgZ(16,"div",11)(17,"div",12),d._uU(18," This project was developed to meet the requirements of the Angular Project Assignment within the 'Angular - February 2024' course at "),d.TgZ(19,"a",13),d._uU(20,"SoftUni"),d.qZA(),d._uU(21,". "),d.qZA(),d.TgZ(22,"span"),d._uU(23," \xa9 2024 The Natural Way. All Rights Reserved. "),d.qZA()()())},dependencies:[Q.rH],styles:[".footer[_ngcontent-%COMP%]{background-color:var(--aliceBlueColor);color:#333;font-size:14px;text-align:center}.footer-main[_ngcontent-%COMP%]{background-color:var(--mainGreyColor);color:var(--mainWhiteColor);padding:20px}.footer-links[_ngcontent-%COMP%]{padding:20px 0;text-align:center}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainWhiteColor);text-decoration:none;margin:0 10px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--mainBlackColor)}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--backgroundColor);text-decoration:none;margin:0 10px;font-size:22px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{transform:scale(1.3);transition:.3s ease-in-out}.copyright[_ngcontent-%COMP%]{padding:20px;font-size:12px;color:#999}.projectInfo[_ngcontent-%COMP%]{margin-bottom:10px}"]})}return v})();var U=B(5619);function le(v,y){if(1&v){const p=d.EpF();d.TgZ(0,"li")(1,"a",23),d.NdJ("click",function(){d.CHM(p);const P=d.oxw();return d.KtG(P.closeMenu())}),d._uU(2,"Login"),d.qZA()()}}function ve(v,y){if(1&v){const p=d.EpF();d.TgZ(0,"li")(1,"a",24),d.NdJ("click",function(){d.CHM(p);const P=d.oxw();return d.KtG(P.closeMenu())}),d.TgZ(2,"span",25),d._uU(3),d.qZA()()()}if(2&v){const p=d.oxw();d.xp6(3),d.Oqu(p.getUserDisplayName())}}function Be(v,y){if(1&v){const p=d.EpF();d.TgZ(0,"div",26)(1,"form",27),d.NdJ("ngSubmit",function(){d.CHM(p);const P=d.oxw();return d.KtG(P.onSubmit())}),d.TgZ(2,"div",28),d._UZ(3,"input",29),d.TgZ(4,"button",30),d.NdJ("click",function(){d.CHM(p);const P=d.oxw();return d.KtG(P.closeMenu())}),d._UZ(5,"i",31),d.qZA()()()()}if(2&v){const p=d.oxw();d.xp6(1),d.Q6J("formGroup",p.searchForm)}}function We(v,y){1&v&&(d.TgZ(0,"div",34),d._uU(1," What are you searching for? "),d.qZA())}function it(v,y){1&v&&(d.TgZ(0,"div",34),d._uU(1," Min length is a 3 char! "),d.qZA())}function St(v,y){if(1&v&&(d.TgZ(0,"div",32),d.YNc(1,We,2,0,"div",33),d.YNc(2,it,2,0,"div",33),d.qZA()),2&v){const p=d.oxw();let I,P;d.xp6(1),d.Q6J("ngIf",null==(I=p.searchForm.get("search"))||null==I.errors?null:I.errors.required),d.xp6(1),d.Q6J("ngIf",null==(P=p.searchForm.get("search"))||null==P.errors?null:P.errors.minlength)}}function Fn(v,y){if(1&v){const p=d.EpF();d.TgZ(0,"a",35),d.NdJ("click",function(){d.CHM(p);const P=d.oxw();return d.KtG(P.logout())}),d._uU(1,"Logout"),d.qZA()}}const er=function(v,y){return{"fa-x":v,"fa-bars":y}};let Cr=(()=>{class v{constructor(p,I,P,K,fe,be){this.userService=p,this.router=I,this.fb=P,this.elementRef=K,this.formErrorCheckService=fe,this.globalErrorHandler=be,this.searchForm=this.fb.group({search:[""]}),this.isMenuOpen=!1,this.isSearchOpen=!1,this.userDataSubject=new U.X(null),this.userDataSubscription=this.userDataSubject.subscribe(He=>{this.userData=He})}ngOnInit(){this.userService.userData$.subscribe({next:p=>{p?(this.userDataSubject.next(p),console.log("You have a user!",p)):(this.userDataSubject.next(null),console.log("You have no user!"))},error:p=>{this.globalErrorHandler.handleError(p)}}),this.router.events.subscribe(p=>{if(p instanceof Q.m2){const I=this.elementRef.nativeElement.querySelector("#navbarScroll");I&&I.classList.remove("show")}})}onSubmit(){var p=this;return(0,te.Z)(function*(){if(p.searchForm.valid){let I=p.searchForm.value;I&&I.search?(yield p.router.navigate(["/recipe-search"],{queryParams:{search:I.search.trim()}}),p.searchForm.reset()):p.globalErrorHandler.handleError("Query search value is null or undefined.")}else{const I=p.formErrorCheckService.getFormGroupErrors(p.searchForm);p.globalErrorHandler.handleError(I)}})()}ngOnDestroy(){this.userDataSubscription&&this.userDataSubscription.unsubscribe()}logout(){var p=this;return(0,te.Z)(function*(){yield p.userService.logoutUser()})()}getUserDisplayName(){return this.userData?this.userData.lastName:"Anonymous"}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}closeMenu(){this.isMenuOpen=!1}toggleSearch(){this.isSearchOpen=!this.isSearchOpen}static#e=this.\u0275fac=function(I){return new(I||v)(d.Y36(_e.K),d.Y36(Q.F0),d.Y36(oe.qu),d.Y36(d.SBq),d.Y36(Ae.l),d.Y36(Ne.r))};static#t=this.\u0275cmp=d.Xpm({type:v,selectors:[["app-header"]],decls:31,vars:11,consts:[[1,"navbar"],[1,"container-fluid"],[1,"navbar-nav"],[1,"brand"],["href","#","data-aos","fade-right","data-aos-duration","3000",1,"navbar-brand"],["viewBox","0 0 200.92045542674032 200.92045542674032","height","50","width","50",1,"svg-logo"],["d","M0 100.46c0-55.483 44.978-100.46 100.46-100.46 55.483 0 100.46 44.978 100.46 100.46 0 55.483-44.978 100.46-100.46 100.46-55.483 0-100.46-44.978-100.46-100.46zM100.46 193.437c51.35 0 92.977-41.627 92.977-92.977 0-51.35-41.627-92.977-92.977-92.977-51.35 0-92.977 41.627-92.977 92.977 0 51.35 41.627 92.977 92.977 92.977z","data-fill-palette-color","accent","fill","var(--aliceBlueColor)","stroke","transparent"],["rx","99.45562543623646","ry","99.45562543623646","cx","100.46022771337016","cy","100.46022771337016","fill","var(--textColor)","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,43.57436241056036,43.35758026693677)"],["viewBox","0 0 113.7717306056196 114.20529489286677","height","114.20529489286677","width","113.7717306056196"],["xmlns","http://www.w3.org/2000/svg","data-name","Layer 1","viewBox","1.190000057220459 1.002901315689087 97.62506866455078 97.99710083007812","x","0","y","0","height","114.20529489286677","width","113.7717306056196","data-fill-palette-color","quaternary","id","b-0",1,"icon-b-0"],["d","M79.28 26.63a0.3 0.3 0 0 0 0-0.07 0.28 0.28 0 0 0-0.48-0.19l-7 7a20.24 20.24 0 0 0-6 13v1.87a37.5 37.5 0 0 1 1.67 5.15H54.79a32.9 32.9 0 0 0-5.43-15.13 26.9 26.9 0 0 1-7.74 5.77 22.2 22.2 0 0 1-6.34 2.06c-9.9 1.51-22.3-5-28.35-41.61a1.86 1.86 0 0 1 1.55-2.05c47.44-6.69 50.2 11.7 47.85 22.85a51.5 51.5 0 0 0-19.69-6.14h-0.11a0.43 0.43 0 0 0-0.18 0.76l11.58 8.5 5.84 4.31a37.3 37.3 0 0 1 6.08 5.85 24.8 24.8 0 0 1 5-6.15 17.7 17.7 0 0 1-2.54-5 14.8 14.8 0 0 1-0.65-4.41c0-6.65 5.53-14.14 30.18-14.44a1.23 1.23 0 0 1 1.24 1.23c-0.38 31.82-12.74 31.78-19.82 29.12a34.2 34.2 0 0 0 6.02-12.28M28.65 93h34.63a16.16 16.16 0 0 0 12.18-5.54l21.68-24.79a6.79 6.79 0 0 0-0.79-9.7 6.55 6.55 0 0 0-4.2-1.49 7.24 7.24 0 0 0-5.38 2.43l-10.2 11.35v0.16a11.85 11.85 0 0 1-11.89 11.26H52.21a2.54 2.54 0 1 1 0-5.08h12.47a6.72 6.72 0 0 0 6.81-6.34A6.54 6.54 0 0 0 65 58.52H44.19l-3.37-1.18a23.42 23.42 0 0 0-24.26 5.49L1.19 78.1 22.64 99Z","fill","var(--aliceBlueColor)","data-fill-palette-color","quaternary"],["routerLink","/",1,"logoText",3,"click"],[1,"burger",3,"click"],[1,"fa-solid",2,"color","var(--mainBlackColor)",3,"ngClass"],[1,"menu"],["routerLink","/recipes-list",1,"navigation",3,"click"],[4,"ngIf"],[1,"dropdown",3,"click"],[1,"navigation","search-btn"],["class","search",4,"ngIf"],["class","search-errors",4,"ngIf"],["class","nav-item navigation",3,"click",4,"ngIf"],["routerLink","/login",1,"nav-item","navigation",3,"click"],["routerLink","/dashboard/user-info",1,"nav-item","dropdown",3,"click"],[1,"navigation"],[1,"search"],[3,"formGroup","ngSubmit"],[1,"input-wrapper"],["type","search","aria-label","Search","formControlName","search","required","","minlength","3","placeholder","Search...",1,"header-user-search"],["type","submit",1,"search-btn",3,"click"],[1,"fa-solid","fa-magnifying-glass"],[1,"search-errors"],["class","errors",4,"ngIf"],[1,"errors"],[1,"nav-item","navigation",3,"click"]],template:function(I,P){if(1&I&&(d.TgZ(0,"nav",0)(1,"div",1)(2,"ul",2)(3,"li",3)(4,"a",4),d.O4$(),d.TgZ(5,"svg",5)(6,"g"),d._UZ(7,"path",6)(8,"ellipse",7),d.qZA(),d.TgZ(9,"g",8)(10,"svg",9)(11,"g")(12,"svg",10),d._UZ(13,"path",11),d.qZA()()()()(),d.kcU(),d.TgZ(14,"span",12),d.NdJ("click",function(){return P.closeMenu()}),d._uU(15,"natural\xa0way"),d.qZA()()(),d.TgZ(16,"li",13),d.NdJ("click",function(){return P.toggleMenu()}),d._UZ(17,"i",14),d.qZA()(),d.TgZ(18,"ul",15)(19,"li")(20,"a",16),d.NdJ("click",function(){return P.closeMenu()}),d._uU(21," Recipes "),d.qZA()(),d.YNc(22,le,3,0,"li",17),d.YNc(23,ve,4,1,"li",17),d.TgZ(24,"li",18),d.NdJ("click",function(){return P.toggleSearch()}),d.TgZ(25,"a",19),d._uU(26," Search "),d.qZA()(),d.YNc(27,Be,6,1,"div",20),d.YNc(28,St,3,2,"div",21),d.TgZ(29,"li"),d.YNc(30,Fn,2,0,"a",22),d.qZA()()()()),2&I){let K;d.xp6(17),d.Q6J("ngClass",d.WLB(8,er,P.isMenuOpen,!P.isMenuOpen)),d.xp6(1),d.ekj("is-open",P.isMenuOpen),d.xp6(4),d.Q6J("ngIf",!P.userData),d.xp6(1),d.Q6J("ngIf",P.userData),d.xp6(4),d.Q6J("ngIf",P.isSearchOpen),d.xp6(1),d.Q6J("ngIf",(null==(K=P.searchForm.get("search"))?null:K.touched)&&P.isSearchOpen),d.xp6(2),d.Q6J("ngIf",P.userData)}},dependencies:[Ue.mk,Ue.O5,Q.rH,oe._Y,oe.Fj,oe.JJ,oe.JL,oe.Q7,oe.wO,oe.sg,oe.u],styles:[".navbar[_ngcontent-%COMP%]{background-color:var(--aliceBlueColor);box-shadow:0 25px 50px -12px #00000040;position:relative;z-index:10}.container-fluid[_ngcontent-%COMP%]{max-width:1024px;display:flex;justify-content:space-between;margin:0 auto}.navbar-nav[_ngcontent-%COMP%]{position:relative;display:flex;gap:40px;width:100%;align-items:center;justify-content:space-between;min-height:10vh}.navbar-brand[_ngcontent-%COMP%]{display:flex;gap:10px;font-family:Nunito Sans,sans-serif;font-weight:900;font-size:28px;line-height:20px;color:var(--textColor);align-items:center}.burger[_ngcontent-%COMP%]{display:none}.fa-solid[_ngcontent-%COMP%]{transition:transform .3s ease}.fa-x[_ngcontent-%COMP%]{transform:rotate(90deg)}.menu[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center}li[_ngcontent-%COMP%]:hover{cursor:pointer}.navigation[_ngcontent-%COMP%]{color:var(--mainBlackColor);font-size:14px;font-weight:600;text-transform:uppercase;transition:.3s ease-in-out;line-height:92px}.navigation[_ngcontent-%COMP%]:hover{color:var(--textColor)}.search[_ngcontent-%COMP%]{position:absolute;top:100%;z-index:1;background-color:var(--backgroundColor);box-shadow:0 2px 5px #0003;padding:5px;transition:opacity .3s ease-in-out}.search[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;align-items:center}.input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%}.search[_ngcontent-%COMP%]   input.header-user-search[_ngcontent-%COMP%]{flex:1;padding:8px;border:1px solid #ccc;border-radius:3px;width:100%}.search[_ngcontent-%COMP%]   input.header-user-search[_ngcontent-%COMP%]:focus-visible{outline:unset}.search[_ngcontent-%COMP%]   button.search-btn[_ngcontent-%COMP%]{padding:8px;background-color:var(--textColor);color:var(--mainWhiteColor);border:none;border-radius:3px;cursor:pointer;position:absolute;right:5px}.search-errors[_ngcontent-%COMP%]{position:absolute;bottom:10px}@media (max-width: 991px){.navbar-nav[_ngcontent-%COMP%]{position:relative;gap:40px;padding:0 5%}.burger[_ngcontent-%COMP%]{display:block}.menu[_ngcontent-%COMP%]{background-color:transparent;padding:0 50px;position:absolute;left:0;top:10vh;width:100vw;height:0;overflow:hidden;display:flex;flex-direction:column;align-items:stretch;gap:10px;z-index:10;transition:height .5s ease-in-out,background-color .5s ease-in-out}.menu.is-open[_ngcontent-%COMP%]{background-color:var(--mainWhiteColor);height:90vh;padding:50px}.search[_ngcontent-%COMP%]{position:static;width:unset}.search-errors[_ngcontent-%COMP%]{position:absolute;top:280px}.navigation[_ngcontent-%COMP%]{padding:5px 0;line-height:30px;border-bottom:1px solid var(--textColor);border-top:1px solid var(--textColor);transition:.3s ease-in-out}.navigation[_ngcontent-%COMP%]:hover{padding:5px;border:1px solid var(--textColor)}}@media (min-width: 992px) and (max-width: 1440px){.container-fluid[_ngcontent-%COMP%]{max-width:1200px;padding:0 3%;color:var(--textColor)}}@media (min-width: 1441px){.container-fluid[_ngcontent-%COMP%]{padding:unset;max-width:1200px;color:var(--textColor)}}"]})}return v})();function ws(v,y){if(1&v){const p=d.EpF();d.TgZ(0,"div",1)(1,"button",2),d.NdJ("click",function(){d.CHM(p);const P=d.oxw();return d.KtG(P.scrollToTop())}),d.TgZ(2,"div",3)(3,"span",4),d.O4$(),d.TgZ(4,"svg",5),d._UZ(5,"path",6),d.qZA()(),d.kcU(),d.TgZ(6,"span",7),d.O4$(),d.TgZ(7,"svg",8),d._UZ(8,"path",6),d.qZA()()()(),d.kcU(),d.TgZ(9,"a",9)(10,"div",10)(11,"span",7),d.O4$(),d.TgZ(12,"svg",5),d._UZ(13,"path",6),d.qZA()(),d.kcU(),d.TgZ(14,"span",7),d.O4$(),d.TgZ(15,"svg",8),d._UZ(16,"path",6),d.qZA()()()()()}}let Mi=(()=>{class v{constructor(){this.showScrollButton=!1}onWindowScroll(){this.showScrollButton=window.pageYOffset>300}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static#e=this.\u0275fac=function(I){return new(I||v)};static#t=this.\u0275cmp=d.Xpm({type:v,selectors:[["app-scroll-to-top"]],hostBindings:function(I,P){1&I&&d.NdJ("scroll",function(){return P.onWindowScroll()},!1,d.Jf7)},decls:1,vars:1,consts:[["class","buttons",4,"ngIf"],[1,"buttons"],[1,"back-button",3,"click"],[1,"button-box-up"],[1,"button-elem-up"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],[1,"button-elem"],["viewBox","0 0 46 40"],["href","javascript:history.back()",1,"back-button"],[1,"button-box"]],template:function(I,P){1&I&&d.YNc(0,ws,17,0,"div",0),2&I&&d.Q6J("ngIf",P.showScrollButton)},dependencies:[Ue.O5],styles:[".buttons[_ngcontent-%COMP%]{display:flex;gap:10px;position:fixed;bottom:120px;right:10px;flex-direction:column;align-items:center;z-index:10}button[_ngcontent-%COMP%]:focus{outline:none}button.ng-hidden[_ngcontent-%COMP%]{display:none}"]})}return v})();var Mo=B(1816);const ti=function(v){return{show:v}};let Ks=(()=>{class v{constructor(p){this.modalService=p,this.showModal=!1}ngOnInit(){this.modalMessageSubscription=this.modalService.modalMessage$.subscribe(p=>{this.modalMessage=p,console.log(p),this.showModal=!0})}ngOnDestroy(){this.modalMessageSubscription&&this.modalMessageSubscription.unsubscribe()}hideModal(){this.showModal=!1}static#e=this.\u0275fac=function(I){return new(I||v)(d.Y36(Mo.y))};static#t=this.\u0275cmp=d.Xpm({type:v,selectors:[["app-custom-alert"]],decls:13,vars:4,consts:[["tabindex","-1","role","dialog",1,"modal",3,"ngClass"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"button-img",3,"click"]],template:function(I,P){1&I&&(d.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),d._uU(5,"Important Notification!"),d.qZA()(),d.TgZ(6,"div",5)(7,"i"),d._uU(8),d.qZA()(),d.TgZ(9,"div",6),d._UZ(10,"br"),d.TgZ(11,"button",7),d.NdJ("click",function(){return P.hideModal()}),d._uU(12,"Close"),d.qZA()()()()()),2&I&&(d.Q6J("ngClass",d.VKq(2,ti,P.showModal)),d.xp6(8),d.Oqu(P.modalMessage))},dependencies:[Ue.mk],styles:[".modal[_ngcontent-%COMP%]{display:none;overflow:hidden;position:fixed;inset:0;z-index:15;outline:0;padding:50px}.modal-content[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column;color:var(--textColor);justify-content:center;align-items:center}.modal.show[_ngcontent-%COMP%]{display:block;background-color:var(--backgroundColor)}.modal-body[_ngcontent-%COMP%]{white-space:pre-wrap}"]})}return v})(),xi=(()=>{class v{constructor(){this.title="The-Natural-Way"}ngOnInit(){Le.init()}static#e=this.\u0275fac=function(I){return new(I||v)};static#t=this.\u0275cmp=d.Xpm({type:v,selectors:[["app-root"]],decls:5,vars:0,template:function(I,P){1&I&&d._UZ(0,"app-header")(1,"app-scroll-to-top")(2,"app-custom-alert")(3,"router-outlet")(4,"app-footer")},dependencies:[Q.lC,Tn,Cr,Mi,Ks]})}return v})();var xo=B(9286),ks=B(8726);let Ys=(()=>{class v{}return v.\u0275fac=function(p){return new(p||v)},v.\u0275mod=d.oAB({type:v}),v.\u0275inj=d.cJS({imports:[[]]}),v})();var bs=B(2772),Ir=B(6825);function fo(v){return new d.vHH(3e3,!1)}function ur(v){switch(v.length){case 0:return new Ir.ZN;case 1:return v[0];default:return new Ir.ZE(v)}}function oi(v,y,p=new Map,I=new Map){const P=[],K=[];let fe=-1,be=null;if(y.forEach(He=>{const lt=He.get("offset"),Pt=lt==fe,Yt=Pt&&be||new Map;He.forEach((Pr,nr)=>{let $n=nr,hr=Pr;if("offset"!==nr)switch($n=v.normalizePropertyName($n,P),hr){case Ir.k1:hr=p.get(nr);break;case Ir.l3:hr=I.get(nr);break;default:hr=v.normalizeStyleValue(nr,$n,hr,P)}Yt.set($n,hr)}),Pt||K.push(Yt),be=Yt,fe=lt}),P.length)throw function us(v){return new d.vHH(3502,!1)}();return K}function Ri(v,y,p,I){switch(y){case"start":v.onStart(()=>I(p&&Vn(p,"start",v)));break;case"done":v.onDone(()=>I(p&&Vn(p,"done",v)));break;case"destroy":v.onDestroy(()=>I(p&&Vn(p,"destroy",v)))}}function Vn(v,y,p){const K=Us(v.element,v.triggerName,v.fromState,v.toState,y||v.phaseName,p.totalTime??v.totalTime,!!p.disabled),fe=v._data;return null!=fe&&(K._data=fe),K}function Us(v,y,p,I,P="",K=0,fe){return{element:v,triggerName:y,fromState:p,toState:I,phaseName:P,totalTime:K,disabled:!!fe}}function ai(v,y,p){let I=v.get(y);return I||v.set(y,I=p),I}function Qs(v){const y=v.indexOf(":");return[v.substring(1,y),v.slice(y+1)]}const Hr=(()=>typeof document>"u"?null:document.documentElement)();function wi(v){const y=v.parentNode||v.host||null;return y===Hr?null:y}let Fr=null,mo=!1;function Bs(v,y){for(;y;){if(y===v)return!0;y=wi(y)}return!1}function $s(v,y,p){if(p)return Array.from(v.querySelectorAll(y));const I=v.querySelector(y);return I?[I]:[]}let nc=(()=>{class v{validateStyleProperty(p){return function qa(v){Fr||(Fr=function Ki(){return typeof document<"u"?document.body:null}()||{},mo=!!Fr.style&&"WebkitAppearance"in Fr.style);let y=!0;return Fr.style&&!function Vs(v){return"ebkit"==v.substring(1,6)}(v)&&(y=v in Fr.style,!y&&mo&&(y="Webkit"+v.charAt(0).toUpperCase()+v.slice(1)in Fr.style)),y}(p)}matchesElement(p,I){return!1}containsElement(p,I){return Bs(p,I)}getParentElement(p){return wi(p)}query(p,I,P){return $s(p,I,P)}computeStyle(p,I,P){return P||""}animate(p,I,P,K,fe,be=[],He){return new Ir.ZN(P,K)}static#e=this.\u0275fac=function(I){return new(I||v)};static#t=this.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac})}return v})(),Ts=(()=>{class v{static#e=this.NOOP=new nc}return v})();const Cs=1e3,yo="ng-enter",ui="ng-leave",Yr="ng-trigger",Ni=".ng-trigger",di="ng-animating",ki=".ng-animating";function Li(v){if("number"==typeof v)return v;const y=v.match(/^(-?[\.\d]+)(m?s)/);return!y||y.length<2?0:cs(parseFloat(y[1]),y[2])}function cs(v,y){return"s"===y?v*Cs:v}function ts(v,y,p){return v.hasOwnProperty("duration")?v:function Fi(v,y,p){let P,K=0,fe="";if("string"==typeof v){const be=v.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===be)return y.push(fo()),{duration:0,delay:0,easing:""};P=cs(parseFloat(be[1]),be[2]);const He=be[3];null!=He&&(K=cs(parseFloat(He),be[4]));const lt=be[5];lt&&(fe=lt)}else P=v;if(!p){let be=!1,He=y.length;P<0&&(y.push(function Wi(){return new d.vHH(3100,!1)}()),be=!0),K<0&&(y.push(function po(){return new d.vHH(3101,!1)}()),be=!0),be&&y.splice(He,0,fo())}return{duration:P,delay:K,easing:fe}}(v,y,p)}function ci(v,y={}){return Object.keys(v).forEach(p=>{y[p]=v[p]}),y}function js(v){const y=new Map;return Object.keys(v).forEach(p=>{y.set(p,v[p])}),y}function Ss(v,y=new Map,p){if(p)for(let[I,P]of p)y.set(I,P);for(let[I,P]of v)y.set(I,P);return y}function sr(v,y,p){y.forEach((I,P)=>{const K=Nn(P);p&&!p.has(P)&&p.set(P,v.style[K]),v.style[K]=I})}function ls(v,y){y.forEach((p,I)=>{const P=Nn(I);v.style[P]=""})}function fu(v){return Array.isArray(v)?1==v.length?v[0]:(0,Ir.vP)(v):v}const J=new RegExp("{{\\s*(.+?)\\s*}}","g");function L(v){let y=[];if("string"==typeof v){let p;for(;p=J.exec(v);)y.push(p[1]);J.lastIndex=0}return y}function ae(v,y,p){const I=v.toString(),P=I.replace(J,(K,fe)=>{let be=y[fe];return null==be&&(p.push(function Bi(v){return new d.vHH(3003,!1)}()),be=""),be.toString()});return P==I?v:P}function Me(v){const y=[];let p=v.next();for(;!p.done;)y.push(p.value),p=v.next();return y}const on=/-+([a-z0-9])/g;function Nn(v){return v.replace(on,(...y)=>y[1].toUpperCase())}function Zr(v,y,p){switch(y.type){case 7:return v.visitTrigger(y,p);case 0:return v.visitState(y,p);case 1:return v.visitTransition(y,p);case 2:return v.visitSequence(y,p);case 3:return v.visitGroup(y,p);case 4:return v.visitAnimate(y,p);case 5:return v.visitKeyframes(y,p);case 6:return v.visitStyle(y,p);case 8:return v.visitReference(y,p);case 9:return v.visitAnimateChild(y,p);case 10:return v.visitAnimateRef(y,p);case 11:return v.visitQuery(y,p);case 12:return v.visitStagger(y,p);default:throw function Lu(v){return new d.vHH(3004,!1)}()}}function Sa(v,y){return window.getComputedStyle(v)[y]}const _o="*";function gi(v,y){const p=[];return"string"==typeof v?v.split(/\s*,\s*/).forEach(I=>function Wo(v,y,p){if(":"==v[0]){const He=function Ti(v,y){switch(v){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(p,I)=>parseFloat(I)>parseFloat(p);case":decrement":return(p,I)=>parseFloat(I)<parseFloat(p);default:return y.push(function ni(v){return new d.vHH(3016,!1)}()),"* => *"}}(v,p);if("function"==typeof He)return void y.push(He);v=He}const I=v.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==I||I.length<4)return p.push(function ir(v){return new d.vHH(3015,!1)}()),y;const P=I[1],K=I[2],fe=I[3];y.push(mi(P,fe));"<"==K[0]&&!(P==_o&&fe==_o)&&y.push(mi(fe,P))}(I,p,y)):p.push(v),p}const hs=new Set(["true","1"]),vo=new Set(["false","0"]);function mi(v,y){const p=hs.has(v)||vo.has(v),I=hs.has(y)||vo.has(y);return(P,K)=>{let fe=v==_o||v==P,be=y==_o||y==K;return!fe&&p&&"boolean"==typeof P&&(fe=P?hs.has(v):vo.has(v)),!be&&I&&"boolean"==typeof K&&(be=K?hs.has(y):vo.has(y)),fe&&be}}const Za=new RegExp("s*:selfs*,?","g");function Pc(v,y,p,I){return new Vu(v).build(y,p,I)}class Vu{constructor(y){this._driver=y}build(y,p,I){const P=new Zo(p);return this._resetContextStyleTimingState(P),Zr(this,fu(y),P)}_resetContextStyleTimingState(y){y.currentQuerySelector="",y.collectedStyles=new Map,y.collectedStyles.set("",new Map),y.currentTime=0}visitTrigger(y,p){let I=p.queryCount=0,P=p.depCount=0;const K=[],fe=[];return"@"==y.name.charAt(0)&&p.errors.push(function Fu(){return new d.vHH(3006,!1)}()),y.definitions.forEach(be=>{if(this._resetContextStyleTimingState(p),0==be.type){const He=be,lt=He.name;lt.toString().split(/\s*,\s*/).forEach(Pt=>{He.name=Pt,K.push(this.visitState(He,p))}),He.name=lt}else if(1==be.type){const He=this.visitTransition(be,p);I+=He.queryCount,P+=He.depCount,fe.push(He)}else p.errors.push(function oa(){return new d.vHH(3007,!1)}())}),{type:7,name:y.name,states:K,transitions:fe,queryCount:I,depCount:P,options:null}}visitState(y,p){const I=this.visitStyle(y.styles,p),P=y.options&&y.options.params||null;if(I.containsDynamicStyles){const K=new Set,fe=P||{};I.styles.forEach(be=>{be instanceof Map&&be.forEach(He=>{L(He).forEach(lt=>{fe.hasOwnProperty(lt)||K.add(lt)})})}),K.size&&(Me(K.values()),p.errors.push(function Ga(v,y){return new d.vHH(3008,!1)}()))}return{type:0,name:y.name,style:I,options:P?{params:P}:null}}visitTransition(y,p){p.queryCount=0,p.depCount=0;const I=Zr(this,fu(y.animation),p);return{type:1,matchers:gi(y.expr,p.errors),animation:I,queryCount:p.queryCount,depCount:p.depCount,options:Io(y.options)}}visitSequence(y,p){return{type:2,steps:y.steps.map(I=>Zr(this,I,p)),options:Io(y.options)}}visitGroup(y,p){const I=p.currentTime;let P=0;const K=y.steps.map(fe=>{p.currentTime=I;const be=Zr(this,fe,p);return P=Math.max(P,p.currentTime),be});return p.currentTime=P,{type:3,steps:K,options:Io(y.options)}}visitAnimate(y,p){const I=function Lo(v,y){if(v.hasOwnProperty("duration"))return v;if("number"==typeof v)return wo(ts(v,y).duration,0,"");const p=v;if(p.split(/\s+/).some(K=>"{"==K.charAt(0)&&"{"==K.charAt(1))){const K=wo(0,0,"");return K.dynamic=!0,K.strValue=p,K}const P=ts(p,y);return wo(P.duration,P.delay,P.easing)}(y.timings,p.errors);p.currentAnimateTimings=I;let P,K=y.styles?y.styles:(0,Ir.oB)({});if(5==K.type)P=this.visitKeyframes(K,p);else{let fe=y.styles,be=!1;if(!fe){be=!0;const lt={};I.easing&&(lt.easing=I.easing),fe=(0,Ir.oB)(lt)}p.currentTime+=I.duration+I.delay;const He=this.visitStyle(fe,p);He.isEmptyStep=be,P=He}return p.currentAnimateTimings=null,{type:4,timings:I,style:P,options:null}}visitStyle(y,p){const I=this._makeStyleAst(y,p);return this._validateStyleAst(I,p),I}_makeStyleAst(y,p){const I=[],P=Array.isArray(y.styles)?y.styles:[y.styles];for(let be of P)"string"==typeof be?be===Ir.l3?I.push(be):p.errors.push(new d.vHH(3002,!1)):I.push(js(be));let K=!1,fe=null;return I.forEach(be=>{if(be instanceof Map&&(be.has("easing")&&(fe=be.get("easing"),be.delete("easing")),!K))for(let He of be.values())if(He.toString().indexOf("{{")>=0){K=!0;break}}),{type:6,styles:I,easing:fe,offset:y.offset,containsDynamicStyles:K,options:null}}_validateStyleAst(y,p){const I=p.currentAnimateTimings;let P=p.currentTime,K=p.currentTime;I&&K>0&&(K-=I.duration+I.delay),y.styles.forEach(fe=>{"string"!=typeof fe&&fe.forEach((be,He)=>{const lt=p.collectedStyles.get(p.currentQuerySelector),Pt=lt.get(He);let Yt=!0;Pt&&(K!=P&&K>=Pt.startTime&&P<=Pt.endTime&&(p.errors.push(function Po(v,y,p,I,P){return new d.vHH(3010,!1)}()),Yt=!1),K=Pt.startTime),Yt&&lt.set(He,{startTime:K,endTime:P}),p.options&&function W(v,y,p){const I=y.params||{},P=L(v);P.length&&P.forEach(K=>{I.hasOwnProperty(K)||p.push(function ku(v){return new d.vHH(3001,!1)}())})}(be,p.options,p.errors)})})}visitKeyframes(y,p){const I={type:5,styles:[],options:null};if(!p.currentAnimateTimings)return p.errors.push(function Uu(){return new d.vHH(3011,!1)}()),I;let K=0;const fe=[];let be=!1,He=!1,lt=0;const Pt=y.steps.map(Qi=>{const Gs=this._makeStyleAst(Qi,p);let ss=null!=Gs.offset?Gs.offset:function mu(v){if("string"==typeof v)return null;let y=null;if(Array.isArray(v))v.forEach(p=>{if(p instanceof Map&&p.has("offset")){const I=p;y=parseFloat(I.get("offset")),I.delete("offset")}});else if(v instanceof Map&&v.has("offset")){const p=v;y=parseFloat(p.get("offset")),p.delete("offset")}return y}(Gs.styles),Os=0;return null!=ss&&(K++,Os=Gs.offset=ss),He=He||Os<0||Os>1,be=be||Os<lt,lt=Os,fe.push(Os),Gs});He&&p.errors.push(function Fs(){return new d.vHH(3012,!1)}()),be&&p.errors.push(function Ro(){return new d.vHH(3200,!1)}());const Yt=y.steps.length;let Pr=0;K>0&&K<Yt?p.errors.push(function No(){return new d.vHH(3202,!1)}()):0==K&&(Pr=1/(Yt-1));const nr=Yt-1,$n=p.currentTime,hr=p.currentAnimateTimings,Hi=hr.duration;return Pt.forEach((Qi,Gs)=>{const ss=Pr>0?Gs==nr?1:Pr*Gs:fe[Gs],Os=ss*Hi;p.currentTime=$n+hr.delay+Os,hr.duration=Os,this._validateStyleAst(Qi,p),Qi.offset=ss,I.styles.push(Qi)}),I}visitReference(y,p){return{type:8,animation:Zr(this,fu(y.animation),p),options:Io(y.options)}}visitAnimateChild(y,p){return p.depCount++,{type:9,options:Io(y.options)}}visitAnimateRef(y,p){return{type:10,animation:this.visitReference(y.animation,p),options:Io(y.options)}}visitQuery(y,p){const I=p.currentQuerySelector,P=y.options||{};p.queryCount++,p.currentQuery=y;const[K,fe]=function Eo(v){const y=!!v.split(/\s*,\s*/).find(p=>":self"==p);return y&&(v=v.replace(Za,"")),v=v.replace(/@\*/g,Ni).replace(/@\w+/g,p=>Ni+"-"+p.slice(1)).replace(/:animating/g,ki),[v,y]}(y.selector);p.currentQuerySelector=I.length?I+" "+K:K,ai(p.collectedStyles,p.currentQuerySelector,new Map);const be=Zr(this,fu(y.animation),p);return p.currentQuery=null,p.currentQuerySelector=I,{type:11,selector:K,limit:P.limit||0,optional:!!P.optional,includeSelf:fe,animation:be,originalSelector:y.selector,options:Io(y.options)}}visitStagger(y,p){p.currentQuery||p.errors.push(function aa(){return new d.vHH(3013,!1)}());const I="full"===y.timings?{duration:0,delay:0,easing:"full"}:ts(y.timings,p.errors,!0);return{type:12,animation:Zr(this,fu(y.animation),p),timings:I,options:null}}}class Zo{constructor(y){this.errors=y,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Io(v){return v?(v=ci(v)).params&&(v.params=function Bu(v){return v?ci(v):null}(v.params)):v={},v}function wo(v,y,p){return{duration:v,delay:y,easing:p}}function yu(v,y,p,I,P,K,fe=null,be=!1){return{type:1,element:v,keyframes:y,preStyleProps:p,postStyleProps:I,duration:P,delay:K,totalTime:P+K,easing:fe,subTimeline:be}}class la{constructor(){this._map=new Map}get(y){return this._map.get(y)||[]}append(y,p){let I=this._map.get(y);I||this._map.set(y,I=[]),I.push(...p)}has(y){return this._map.has(y)}clear(){this._map.clear()}}const el=new RegExp(":enter","g"),Ya=new RegExp(":leave","g");function Xs(v,y,p,I,P,K=new Map,fe=new Map,be,He,lt=[]){return(new ic).buildKeyframes(v,y,p,I,P,K,fe,be,He,lt)}class ic{buildKeyframes(y,p,I,P,K,fe,be,He,lt,Pt=[]){lt=lt||new la;const Yt=new re(y,p,lt,P,K,Pt,[]);Yt.options=He;const Pr=He.delay?Li(He.delay):0;Yt.currentTimeline.delayNextStep(Pr),Yt.currentTimeline.setStyles([fe],null,Yt.errors,He),Zr(this,I,Yt);const nr=Yt.timelines.filter($n=>$n.containsAnimation());if(nr.length&&be.size){let $n;for(let hr=nr.length-1;hr>=0;hr--){const Hi=nr[hr];if(Hi.element===p){$n=Hi;break}}$n&&!$n.allowOnlyTimelineStyles()&&$n.setStyles([be],null,Yt.errors,He)}return nr.length?nr.map($n=>$n.buildKeyframes()):[yu(p,[],[],[],0,Pr,"",!1)]}visitTrigger(y,p){}visitState(y,p){}visitTransition(y,p){}visitAnimateChild(y,p){const I=p.subInstructions.get(p.element);if(I){const P=p.createSubContext(y.options),K=p.currentTimeline.currentTime,fe=this._visitSubInstructions(I,P,P.options);K!=fe&&p.transformIntoNewTimeline(fe)}p.previousNode=y}visitAnimateRef(y,p){const I=p.createSubContext(y.options);I.transformIntoNewTimeline(),this._applyAnimationRefDelays([y.options,y.animation.options],p,I),this.visitReference(y.animation,I),p.transformIntoNewTimeline(I.currentTimeline.currentTime),p.previousNode=y}_applyAnimationRefDelays(y,p,I){for(const P of y){const K=P?.delay;if(K){const fe="number"==typeof K?K:Li(ae(K,P?.params??{},p.errors));I.delayNextStep(fe)}}}_visitSubInstructions(y,p,I){let K=p.currentTimeline.currentTime;const fe=null!=I.duration?Li(I.duration):null,be=null!=I.delay?Li(I.delay):null;return 0!==fe&&y.forEach(He=>{const lt=p.appendInstructionToTimeline(He,fe,be);K=Math.max(K,lt.duration+lt.delay)}),K}visitReference(y,p){p.updateOptions(y.options,!0),Zr(this,y.animation,p),p.previousNode=y}visitSequence(y,p){const I=p.subContextCount;let P=p;const K=y.options;if(K&&(K.params||K.delay)&&(P=p.createSubContext(K),P.transformIntoNewTimeline(),null!=K.delay)){6==P.previousNode.type&&(P.currentTimeline.snapshotCurrentStyles(),P.previousNode=M);const fe=Li(K.delay);P.delayNextStep(fe)}y.steps.length&&(y.steps.forEach(fe=>Zr(this,fe,P)),P.currentTimeline.applyStylesToKeyframe(),P.subContextCount>I&&P.transformIntoNewTimeline()),p.previousNode=y}visitGroup(y,p){const I=[];let P=p.currentTimeline.currentTime;const K=y.options&&y.options.delay?Li(y.options.delay):0;y.steps.forEach(fe=>{const be=p.createSubContext(y.options);K&&be.delayNextStep(K),Zr(this,fe,be),P=Math.max(P,be.currentTimeline.currentTime),I.push(be.currentTimeline)}),I.forEach(fe=>p.currentTimeline.mergeTimelineCollectedStyles(fe)),p.transformIntoNewTimeline(P),p.previousNode=y}_visitTiming(y,p){if(y.dynamic){const I=y.strValue;return ts(p.params?ae(I,p.params,p.errors):I,p.errors)}return{duration:y.duration,delay:y.delay,easing:y.easing}}visitAnimate(y,p){const I=p.currentAnimateTimings=this._visitTiming(y.timings,p),P=p.currentTimeline;I.delay&&(p.incrementTime(I.delay),P.snapshotCurrentStyles());const K=y.style;5==K.type?this.visitKeyframes(K,p):(p.incrementTime(I.duration),this.visitStyle(K,p),P.applyStylesToKeyframe()),p.currentAnimateTimings=null,p.previousNode=y}visitStyle(y,p){const I=p.currentTimeline,P=p.currentAnimateTimings;!P&&I.hasCurrentStyleProperties()&&I.forwardFrame();const K=P&&P.easing||y.easing;y.isEmptyStep?I.applyEmptyStep(K):I.setStyles(y.styles,K,p.errors,p.options),p.previousNode=y}visitKeyframes(y,p){const I=p.currentAnimateTimings,P=p.currentTimeline.duration,K=I.duration,be=p.createSubContext().currentTimeline;be.easing=I.easing,y.styles.forEach(He=>{be.forwardTime((He.offset||0)*K),be.setStyles(He.styles,He.easing,p.errors,p.options),be.applyStylesToKeyframe()}),p.currentTimeline.mergeTimelineCollectedStyles(be),p.transformIntoNewTimeline(P+K),p.previousNode=y}visitQuery(y,p){const I=p.currentTimeline.currentTime,P=y.options||{},K=P.delay?Li(P.delay):0;K&&(6===p.previousNode.type||0==I&&p.currentTimeline.hasCurrentStyleProperties())&&(p.currentTimeline.snapshotCurrentStyles(),p.previousNode=M);let fe=I;const be=p.invokeQuery(y.selector,y.originalSelector,y.limit,y.includeSelf,!!P.optional,p.errors);p.currentQueryTotal=be.length;let He=null;be.forEach((lt,Pt)=>{p.currentQueryIndex=Pt;const Yt=p.createSubContext(y.options,lt);K&&Yt.delayNextStep(K),lt===p.element&&(He=Yt.currentTimeline),Zr(this,y.animation,Yt),Yt.currentTimeline.applyStylesToKeyframe(),fe=Math.max(fe,Yt.currentTimeline.currentTime)}),p.currentQueryIndex=0,p.currentQueryTotal=0,p.transformIntoNewTimeline(fe),He&&(p.currentTimeline.mergeTimelineCollectedStyles(He),p.currentTimeline.snapshotCurrentStyles()),p.previousNode=y}visitStagger(y,p){const I=p.parentContext,P=p.currentTimeline,K=y.timings,fe=Math.abs(K.duration),be=fe*(p.currentQueryTotal-1);let He=fe*p.currentQueryIndex;switch(K.duration<0?"reverse":K.easing){case"reverse":He=be-He;break;case"full":He=I.currentStaggerTime}const Pt=p.currentTimeline;He&&Pt.delayNextStep(He);const Yt=Pt.currentTime;Zr(this,y.animation,p),p.previousNode=y,I.currentStaggerTime=P.currentTime-Yt+(P.startTime-I.currentTimeline.startTime)}}const M={};class re{constructor(y,p,I,P,K,fe,be,He){this._driver=y,this.element=p,this.subInstructions=I,this._enterClassName=P,this._leaveClassName=K,this.errors=fe,this.timelines=be,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=M,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=He||new V(this._driver,p,0),be.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(y,p){if(!y)return;const I=y;let P=this.options;null!=I.duration&&(P.duration=Li(I.duration)),null!=I.delay&&(P.delay=Li(I.delay));const K=I.params;if(K){let fe=P.params;fe||(fe=this.options.params={}),Object.keys(K).forEach(be=>{(!p||!fe.hasOwnProperty(be))&&(fe[be]=ae(K[be],fe,this.errors))})}}_copyOptions(){const y={};if(this.options){const p=this.options.params;if(p){const I=y.params={};Object.keys(p).forEach(P=>{I[P]=p[P]})}}return y}createSubContext(y=null,p,I){const P=p||this.element,K=new re(this._driver,P,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(P,I||0));return K.previousNode=this.previousNode,K.currentAnimateTimings=this.currentAnimateTimings,K.options=this._copyOptions(),K.updateOptions(y),K.currentQueryIndex=this.currentQueryIndex,K.currentQueryTotal=this.currentQueryTotal,K.parentContext=this,this.subContextCount++,K}transformIntoNewTimeline(y){return this.previousNode=M,this.currentTimeline=this.currentTimeline.fork(this.element,y),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(y,p,I){const P={duration:p??y.duration,delay:this.currentTimeline.currentTime+(I??0)+y.delay,easing:""},K=new X(this._driver,y.element,y.keyframes,y.preStyleProps,y.postStyleProps,P,y.stretchStartingKeyframe);return this.timelines.push(K),P}incrementTime(y){this.currentTimeline.forwardTime(this.currentTimeline.duration+y)}delayNextStep(y){y>0&&this.currentTimeline.delayNextStep(y)}invokeQuery(y,p,I,P,K,fe){let be=[];if(P&&be.push(this.element),y.length>0){y=(y=y.replace(el,"."+this._enterClassName)).replace(Ya,"."+this._leaveClassName);let lt=this._driver.query(this.element,y,1!=I);0!==I&&(lt=I<0?lt.slice(lt.length+I,lt.length):lt.slice(0,I)),be.push(...lt)}return!K&&0==be.length&&fe.push(function go(v){return new d.vHH(3014,!1)}()),be}}class V{constructor(y,p,I,P){this._driver=y,this.element=p,this.startTime=I,this._elementTimelineStylesLookup=P,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(p),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(p,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(y){const p=1===this._keyframes.size&&this._pendingStyles.size;this.duration||p?(this.forwardTime(this.currentTime+y),p&&this.snapshotCurrentStyles()):this.startTime+=y}fork(y,p){return this.applyStylesToKeyframe(),new V(this._driver,y,p||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(y){this.applyStylesToKeyframe(),this.duration=y,this._loadKeyframe()}_updateStyle(y,p){this._localTimelineStyles.set(y,p),this._globalTimelineStyles.set(y,p),this._styleSummary.set(y,{time:this.currentTime,value:p})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(y){y&&this._previousKeyframe.set("easing",y);for(let[p,I]of this._globalTimelineStyles)this._backFill.set(p,I||Ir.l3),this._currentKeyframe.set(p,Ir.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(y,p,I,P){p&&this._previousKeyframe.set("easing",p);const K=P&&P.params||{},fe=function ct(v,y){const p=new Map;let I;return v.forEach(P=>{if("*"===P){I=I||y.keys();for(let K of I)p.set(K,Ir.l3)}else Ss(P,p)}),p}(y,this._globalTimelineStyles);for(let[be,He]of fe){const lt=ae(He,K,I);this._pendingStyles.set(be,lt),this._localTimelineStyles.has(be)||this._backFill.set(be,this._globalTimelineStyles.get(be)??Ir.l3),this._updateStyle(be,lt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((y,p)=>{this._currentKeyframe.set(p,y)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((y,p)=>{this._currentKeyframe.has(p)||this._currentKeyframe.set(p,y)}))}snapshotCurrentStyles(){for(let[y,p]of this._localTimelineStyles)this._pendingStyles.set(y,p),this._updateStyle(y,p)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const y=[];for(let p in this._currentKeyframe)y.push(p);return y}mergeTimelineCollectedStyles(y){y._styleSummary.forEach((p,I)=>{const P=this._styleSummary.get(I);(!P||p.time>P.time)&&this._updateStyle(I,p.value)})}buildKeyframes(){this.applyStylesToKeyframe();const y=new Set,p=new Set,I=1===this._keyframes.size&&0===this.duration;let P=[];this._keyframes.forEach((be,He)=>{const lt=Ss(be,new Map,this._backFill);lt.forEach((Pt,Yt)=>{Pt===Ir.k1?y.add(Yt):Pt===Ir.l3&&p.add(Yt)}),I||lt.set("offset",He/this.duration),P.push(lt)});const K=y.size?Me(y.values()):[],fe=p.size?Me(p.values()):[];if(I){const be=P[0],He=new Map(be);be.set("offset",0),He.set("offset",1),P=[be,He]}return yu(this.element,P,K,fe,this.duration,this.startTime,this.easing,!1)}}class X extends V{constructor(y,p,I,P,K,fe,be=!1){super(y,p,fe.delay),this.keyframes=I,this.preStyleProps=P,this.postStyleProps=K,this._stretchStartingKeyframe=be,this.timings={duration:fe.duration,delay:fe.delay,easing:fe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let y=this.keyframes,{delay:p,duration:I,easing:P}=this.timings;if(this._stretchStartingKeyframe&&p){const K=[],fe=I+p,be=p/fe,He=Ss(y[0]);He.set("offset",0),K.push(He);const lt=Ss(y[0]);lt.set("offset",Ie(be)),K.push(lt);const Pt=y.length-1;for(let Yt=1;Yt<=Pt;Yt++){let Pr=Ss(y[Yt]);const nr=Pr.get("offset");Pr.set("offset",Ie((p+nr*I)/fe)),K.push(Pr)}I=fe,p=0,P="",y=K}return yu(this.element,y,this.preStyleProps,this.postStyleProps,I,p,P,!0)}}function Ie(v,y=3){const p=Math.pow(10,y-1);return Math.round(v*p)/p}class En{}const Ar=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Tr extends En{normalizePropertyName(y,p){return Nn(y)}normalizeStyleValue(y,p,I,P){let K="";const fe=I.toString().trim();if(Ar.has(p)&&0!==I&&"0"!==I)if("number"==typeof I)K="px";else{const be=I.match(/^[+-]?[\d\.]+([a-z]*)$/);be&&0==be[1].length&&P.push(function Oi(v,y){return new d.vHH(3005,!1)}())}return fe+K}}function Qn(v,y,p,I,P,K,fe,be,He,lt,Pt,Yt,Pr){return{type:0,element:v,triggerName:y,isRemovalTransition:P,fromState:p,fromStyles:K,toState:I,toStyles:fe,timelines:be,queriedElements:He,preStyleProps:lt,postStyleProps:Pt,totalTime:Yt,errors:Pr}}const Qr={};class Br{constructor(y,p,I){this._triggerName=y,this.ast=p,this._stateStyles=I}match(y,p,I,P){return function eo(v,y,p,I,P){return v.some(K=>K(y,p,I,P))}(this.ast.matchers,y,p,I,P)}buildStyles(y,p,I){let P=this._stateStyles.get("*");return void 0!==y&&(P=this._stateStyles.get(y?.toString())||P),P?P.buildStyles(p,I):new Map}build(y,p,I,P,K,fe,be,He,lt,Pt){const Yt=[],Pr=this.ast.options&&this.ast.options.params||Qr,$n=this.buildStyles(I,be&&be.params||Qr,Yt),hr=He&&He.params||Qr,Hi=this.buildStyles(P,hr,Yt),Qi=new Set,Gs=new Map,ss=new Map,Os="void"===P,Ql={params:fs(hr,Pr),delay:this.ast.options?.delay},xu=Pt?[]:Xs(y,p,this.ast.animation,K,fe,$n,Hi,Ql,lt,Yt);let To=0;if(xu.forEach(Tc=>{To=Math.max(Tc.duration+Tc.delay,To)}),Yt.length)return Qn(p,this._triggerName,I,P,Os,$n,Hi,[],[],Gs,ss,To,Yt);xu.forEach(Tc=>{const Yu=Tc.element,ng=ai(Gs,Yu,new Set);Tc.preStyleProps.forEach(_l=>ng.add(_l));const Jl=ai(ss,Yu,new Set);Tc.postStyleProps.forEach(_l=>Jl.add(_l)),Yu!==p&&Qi.add(Yu)});const zc=Me(Qi.values());return Qn(p,this._triggerName,I,P,Os,$n,Hi,xu,zc,Gs,ss,To)}}function fs(v,y){const p=ci(y);for(const I in v)v.hasOwnProperty(I)&&null!=v[I]&&(p[I]=v[I]);return p}class ps{constructor(y,p,I){this.styles=y,this.defaultParams=p,this.normalizer=I}buildStyles(y,p){const I=new Map,P=ci(this.defaultParams);return Object.keys(y).forEach(K=>{const fe=y[K];null!==fe&&(P[K]=fe)}),this.styles.styles.forEach(K=>{"string"!=typeof K&&K.forEach((fe,be)=>{fe&&(fe=ae(fe,P,p));const He=this.normalizer.normalizePropertyName(be,p);fe=this.normalizer.normalizeStyleValue(be,He,fe,p),I.set(be,fe)})}),I}}class Fo{constructor(y,p,I){this.name=y,this.ast=p,this._normalizer=I,this.transitionFactories=[],this.states=new Map,p.states.forEach(P=>{this.states.set(P.name,new ps(P.style,P.options&&P.options.params||{},I))}),Uo(this.states,"true","1"),Uo(this.states,"false","0"),p.transitions.forEach(P=>{this.transitionFactories.push(new Br(y,P,this.states))}),this.fallbackTransition=function da(v,y,p){return new Br(v,{type:1,animation:{type:2,steps:[],options:null},matchers:[(fe,be)=>!0],options:null,queryCount:0,depCount:0},y)}(y,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(y,p,I,P){return this.transitionFactories.find(fe=>fe.match(y,p,I,P))||null}matchStyles(y,p,I){return this.fallbackTransition.buildStyles(y,p,I)}}function Uo(v,y,p){v.has(y)?v.has(p)||v.set(p,v.get(y)):v.has(p)&&v.set(y,v.get(p))}const Rc=new la;class Vl{constructor(y,p,I){this.bodyNode=y,this._driver=p,this._normalizer=I,this._animations=new Map,this._playersById=new Map,this.players=[]}register(y,p){const I=[],K=Pc(this._driver,p,I,[]);if(I.length)throw function ua(v){return new d.vHH(3503,!1)}();this._animations.set(y,K)}_buildPlayer(y,p,I){const P=y.element,K=oi(this._normalizer,y.keyframes,p,I);return this._driver.animate(P,K,y.duration,y.delay,y.easing,[],!0)}create(y,p,I={}){const P=[],K=this._animations.get(y);let fe;const be=new Map;if(K?(fe=Xs(this._driver,p,K,yo,ui,new Map,new Map,I,Rc,P),fe.forEach(Pt=>{const Yt=ai(be,Pt.element,new Map);Pt.postStyleProps.forEach(Pr=>Yt.set(Pr,null))})):(P.push(function fi(){return new d.vHH(3300,!1)}()),fe=[]),P.length)throw function za(v){return new d.vHH(3504,!1)}();be.forEach((Pt,Yt)=>{Pt.forEach((Pr,nr)=>{Pt.set(nr,this._driver.computeStyle(Yt,nr,Ir.l3))})});const lt=ur(fe.map(Pt=>{const Yt=be.get(Pt.element);return this._buildPlayer(Pt,new Map,Yt)}));return this._playersById.set(y,lt),lt.onDestroy(()=>this.destroy(y)),this.players.push(lt),lt}destroy(y){const p=this._getPlayer(y);p.destroy(),this._playersById.delete(y);const I=this.players.indexOf(p);I>=0&&this.players.splice(I,1)}_getPlayer(y){const p=this._playersById.get(y);if(!p)throw function Zi(v){return new d.vHH(3301,!1)}();return p}listen(y,p,I,P){const K=Us(p,"","","");return Ri(this._getPlayer(y),I,K,P),()=>{}}command(y,p,I,P){if("register"==I)return void this.register(y,P[0]);if("create"==I)return void this.create(y,p,P[0]||{});const K=this._getPlayer(y);switch(I){case"play":K.play();break;case"pause":K.pause();break;case"reset":K.reset();break;case"restart":K.restart();break;case"finish":K.finish();break;case"init":K.init();break;case"setPosition":K.setPosition(parseFloat(P[0]));break;case"destroy":this.destroy(y)}}}const Yi="ng-animate-queued",vu="ng-animate-disabled",ii=[],tl={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nl={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ji="__ng_removed";class Ui{get params(){return this.options.params}constructor(y,p=""){this.namespaceId=p;const I=y&&y.hasOwnProperty("value");if(this.value=function yi(v){return v??null}(I?y.value:y),I){const K=ci(y);delete K.value,this.options=K}else this.options={};this.options.params||(this.options.params={})}absorbOptions(y){const p=y.params;if(p){const I=this.options.params;Object.keys(p).forEach(P=>{null==I[P]&&(I[P]=p[P])})}}}const Ma="void",Nc=new Ui(Ma);class vf{constructor(y,p,I){this.id=y,this.hostElement=p,this._engine=I,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+y,fa(p,this._hostClassName)}listen(y,p,I,P){if(!this._triggers.has(p))throw function Dr(v,y){return new d.vHH(3302,!1)}();if(null==I||0==I.length)throw function zt(v){return new d.vHH(3303,!1)}();if(!function xa(v){return"start"==v||"done"==v}(I))throw function Un(v,y){return new d.vHH(3400,!1)}();const K=ai(this._elementListeners,y,[]),fe={name:p,phase:I,callback:P};K.push(fe);const be=ai(this._engine.statesByElement,y,new Map);return be.has(p)||(fa(y,Yr),fa(y,Yr+"-"+p),be.set(p,Nc)),()=>{this._engine.afterFlush(()=>{const He=K.indexOf(fe);He>=0&&K.splice(He,1),this._triggers.has(p)||be.delete(p)})}}register(y,p){return!this._triggers.has(y)&&(this._triggers.set(y,p),!0)}_getTrigger(y){const p=this._triggers.get(y);if(!p)throw function Lr(v){return new d.vHH(3401,!1)}();return p}trigger(y,p,I,P=!0){const K=this._getTrigger(p),fe=new ju(this.id,p,y);let be=this._engine.statesByElement.get(y);be||(fa(y,Yr),fa(y,Yr+"-"+p),this._engine.statesByElement.set(y,be=new Map));let He=be.get(p);const lt=new Ui(I,this.id);if(!(I&&I.hasOwnProperty("value"))&&He&&lt.absorbOptions(He.options),be.set(p,lt),He||(He=Nc),lt.value!==Ma&&He.value===lt.value){if(!function Oa(v,y){const p=Object.keys(v),I=Object.keys(y);if(p.length!=I.length)return!1;for(let P=0;P<p.length;P++){const K=p[P];if(!y.hasOwnProperty(K)||v[K]!==y[K])return!1}return!0}(He.params,lt.params)){const hr=[],Hi=K.matchStyles(He.value,He.params,hr),Qi=K.matchStyles(lt.value,lt.params,hr);hr.length?this._engine.reportError(hr):this._engine.afterFlush(()=>{ls(y,Hi),sr(y,Qi)})}return}const Pr=ai(this._engine.playersByElement,y,[]);Pr.forEach(hr=>{hr.namespaceId==this.id&&hr.triggerName==p&&hr.queued&&hr.destroy()});let nr=K.matchTransition(He.value,lt.value,y,lt.params),$n=!1;if(!nr){if(!P)return;nr=K.fallbackTransition,$n=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:p,transition:nr,fromState:He,toState:lt,player:fe,isFallbackTransition:$n}),$n||(fa(y,Yi),fe.onStart(()=>{Qa(y,Yi)})),fe.onDone(()=>{let hr=this.players.indexOf(fe);hr>=0&&this.players.splice(hr,1);const Hi=this._engine.playersByElement.get(y);if(Hi){let Qi=Hi.indexOf(fe);Qi>=0&&Hi.splice(Qi,1)}}),this.players.push(fe),Pr.push(fe),fe}deregister(y){this._triggers.delete(y),this._engine.statesByElement.forEach(p=>p.delete(y)),this._elementListeners.forEach((p,I)=>{this._elementListeners.set(I,p.filter(P=>P.name!=y))})}clearElementCache(y){this._engine.statesByElement.delete(y),this._elementListeners.delete(y);const p=this._engine.playersByElement.get(y);p&&(p.forEach(I=>I.destroy()),this._engine.playersByElement.delete(y))}_signalRemovalForInnerTriggers(y,p){const I=this._engine.driver.query(y,Ni,!0);I.forEach(P=>{if(P[ji])return;const K=this._engine.fetchNamespacesByElement(P);K.size?K.forEach(fe=>fe.triggerLeaveAnimation(P,p,!1,!0)):this.clearElementCache(P)}),this._engine.afterFlushAnimationsDone(()=>I.forEach(P=>this.clearElementCache(P)))}triggerLeaveAnimation(y,p,I,P){const K=this._engine.statesByElement.get(y),fe=new Map;if(K){const be=[];if(K.forEach((He,lt)=>{if(fe.set(lt,He.value),this._triggers.has(lt)){const Pt=this.trigger(y,lt,Ma,P);Pt&&be.push(Pt)}}),be.length)return this._engine.markElementAsRemoved(this.id,y,!0,p,fe),I&&ur(be).onDone(()=>this._engine.processLeaveNode(y)),!0}return!1}prepareLeaveAnimationListeners(y){const p=this._elementListeners.get(y),I=this._engine.statesByElement.get(y);if(p&&I){const P=new Set;p.forEach(K=>{const fe=K.name;if(P.has(fe))return;P.add(fe);const He=this._triggers.get(fe).fallbackTransition,lt=I.get(fe)||Nc,Pt=new Ui(Ma),Yt=new ju(this.id,fe,y);this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:fe,transition:He,fromState:lt,toState:Pt,player:Yt,isFallbackTransition:!0})})}}removeNode(y,p){const I=this._engine;if(y.childElementCount&&this._signalRemovalForInnerTriggers(y,p),this.triggerLeaveAnimation(y,p,!0))return;let P=!1;if(I.totalAnimations){const K=I.players.length?I.playersByQueriedElement.get(y):[];if(K&&K.length)P=!0;else{let fe=y;for(;fe=fe.parentNode;)if(I.statesByElement.get(fe)){P=!0;break}}}if(this.prepareLeaveAnimationListeners(y),P)I.markElementAsRemoved(this.id,y,!1,p);else{const K=y[ji];(!K||K===tl)&&(I.afterFlush(()=>this.clearElementCache(y)),I.destroyInnerAnimations(y),I._onRemovalComplete(y,p))}}insertNode(y,p){fa(y,this._hostClassName)}drainQueuedTransitions(y){const p=[];return this._queue.forEach(I=>{const P=I.player;if(P.destroyed)return;const K=I.element,fe=this._elementListeners.get(K);fe&&fe.forEach(be=>{if(be.name==I.triggerName){const He=Us(K,I.triggerName,I.fromState.value,I.toState.value);He._data=y,Ri(I.player,be.phase,He,be.callback)}}),P.markedForDestroy?this._engine.afterFlush(()=>{P.destroy()}):p.push(I)}),this._queue=[],p.sort((I,P)=>{const K=I.transition.ast.depCount,fe=P.transition.ast.depCount;return 0==K||0==fe?K-fe:this._engine.driver.containsElement(I.element,P.element)?1:-1})}destroy(y){this.players.forEach(p=>p.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,y)}}class ha{_onRemovalComplete(y,p){this.onRemovalComplete(y,p)}constructor(y,p,I){this.bodyNode=y,this.driver=p,this._normalizer=I,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(P,K)=>{}}get queuedPlayers(){const y=[];return this._namespaceList.forEach(p=>{p.players.forEach(I=>{I.queued&&y.push(I)})}),y}createNamespace(y,p){const I=new vf(y,p,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,p)?this._balanceNamespaceList(I,p):(this.newHostElements.set(p,I),this.collectEnterElement(p)),this._namespaceLookup[y]=I}_balanceNamespaceList(y,p){const I=this._namespaceList,P=this.namespacesByHostElement;if(I.length-1>=0){let fe=!1,be=this.driver.getParentElement(p);for(;be;){const He=P.get(be);if(He){const lt=I.indexOf(He);I.splice(lt+1,0,y),fe=!0;break}be=this.driver.getParentElement(be)}fe||I.unshift(y)}else I.push(y);return P.set(p,y),y}register(y,p){let I=this._namespaceLookup[y];return I||(I=this.createNamespace(y,p)),I}registerTrigger(y,p,I){let P=this._namespaceLookup[y];P&&P.register(p,I)&&this.totalAnimations++}destroy(y,p){y&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const I=this._fetchNamespace(y);this.namespacesByHostElement.delete(I.hostElement);const P=this._namespaceList.indexOf(I);P>=0&&this._namespaceList.splice(P,1),I.destroy(p),delete this._namespaceLookup[y]}))}_fetchNamespace(y){return this._namespaceLookup[y]}fetchNamespacesByElement(y){const p=new Set,I=this.statesByElement.get(y);if(I)for(let P of I.values())if(P.namespaceId){const K=this._fetchNamespace(P.namespaceId);K&&p.add(K)}return p}trigger(y,p,I,P){if(Eu(p)){const K=this._fetchNamespace(y);if(K)return K.trigger(p,I,P),!0}return!1}insertNode(y,p,I,P){if(!Eu(p))return;const K=p[ji];if(K&&K.setForRemoval){K.setForRemoval=!1,K.setForMove=!0;const fe=this.collectedLeaveElements.indexOf(p);fe>=0&&this.collectedLeaveElements.splice(fe,1)}if(y){const fe=this._fetchNamespace(y);fe&&fe.insertNode(p,I)}P&&this.collectEnterElement(p)}collectEnterElement(y){this.collectedEnterElements.push(y)}markElementAsDisabled(y,p){p?this.disabledNodes.has(y)||(this.disabledNodes.add(y),fa(y,vu)):this.disabledNodes.has(y)&&(this.disabledNodes.delete(y),Qa(y,vu))}removeNode(y,p,I){if(Eu(p)){const P=y?this._fetchNamespace(y):null;P?P.removeNode(p,I):this.markElementAsRemoved(y,p,!1,I);const K=this.namespacesByHostElement.get(p);K&&K.id!==y&&K.removeNode(p,I)}else this._onRemovalComplete(p,I)}markElementAsRemoved(y,p,I,P,K){this.collectedLeaveElements.push(p),p[ji]={namespaceId:y,setForRemoval:P,hasAnimation:I,removedBeforeQueried:!1,previousTriggersValues:K}}listen(y,p,I,P,K){return Eu(p)?this._fetchNamespace(y).listen(p,I,P,K):()=>{}}_buildInstruction(y,p,I,P,K){return y.transition.build(this.driver,y.element,y.fromState.value,y.toState.value,I,P,y.fromState.options,y.toState.options,p,K)}destroyInnerAnimations(y){let p=this.driver.query(y,Ni,!0);p.forEach(I=>this.destroyActiveAnimationsForElement(I)),0!=this.playersByQueriedElement.size&&(p=this.driver.query(y,ki,!0),p.forEach(I=>this.finishActiveQueriedAnimationOnElement(I)))}destroyActiveAnimationsForElement(y){const p=this.playersByElement.get(y);p&&p.forEach(I=>{I.queued?I.markedForDestroy=!0:I.destroy()})}finishActiveQueriedAnimationOnElement(y){const p=this.playersByQueriedElement.get(y);p&&p.forEach(I=>I.finish())}whenRenderingDone(){return new Promise(y=>{if(this.players.length)return ur(this.players).onDone(()=>y());y()})}processLeaveNode(y){const p=y[ji];if(p&&p.setForRemoval){if(y[ji]=tl,p.namespaceId){this.destroyInnerAnimations(y);const I=this._fetchNamespace(p.namespaceId);I&&I.clearElementCache(y)}this._onRemovalComplete(y,p.setForRemoval)}y.classList?.contains(vu)&&this.markElementAsDisabled(y,!1),this.driver.query(y,".ng-animate-disabled",!0).forEach(I=>{this.markElementAsDisabled(I,!1)})}flush(y=-1){let p=[];if(this.newHostElements.size&&(this.newHostElements.forEach((I,P)=>this._balanceNamespaceList(I,P)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let I=0;I<this.collectedEnterElements.length;I++)fa(this.collectedEnterElements[I],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const I=[];try{p=this._flushAnimations(I,y)}finally{for(let P=0;P<I.length;P++)I[P]()}}else for(let I=0;I<this.collectedLeaveElements.length;I++)this.processLeaveNode(this.collectedLeaveElements[I]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(I=>I()),this._flushFns=[],this._whenQuietFns.length){const I=this._whenQuietFns;this._whenQuietFns=[],p.length?ur(p).onDone(()=>{I.forEach(P=>P())}):I.forEach(P=>P())}}reportError(y){throw function pi(v){return new d.vHH(3402,!1)}()}_flushAnimations(y,p){const I=new la,P=[],K=new Map,fe=[],be=new Map,He=new Map,lt=new Map,Pt=new Set;this.disabledNodes.forEach(Sn=>{Pt.add(Sn);const jn=this.driver.query(Sn,".ng-animate-queued",!0);for(let rr=0;rr<jn.length;rr++)Pt.add(jn[rr])});const Yt=this.bodyNode,Pr=Array.from(this.statesByElement.keys()),nr=gs(Pr,this.collectedEnterElements),$n=new Map;let hr=0;nr.forEach((Sn,jn)=>{const rr=yo+hr++;$n.set(jn,rr),Sn.forEach(Gr=>fa(Gr,rr))});const Hi=[],Qi=new Set,Gs=new Set;for(let Sn=0;Sn<this.collectedLeaveElements.length;Sn++){const jn=this.collectedLeaveElements[Sn],rr=jn[ji];rr&&rr.setForRemoval&&(Hi.push(jn),Qi.add(jn),rr.hasAnimation?this.driver.query(jn,".ng-star-inserted",!0).forEach(Gr=>Qi.add(Gr)):Gs.add(jn))}const ss=new Map,Os=gs(Pr,Array.from(Qi));Os.forEach((Sn,jn)=>{const rr=ui+hr++;ss.set(jn,rr),Sn.forEach(Gr=>fa(Gr,rr))}),y.push(()=>{nr.forEach((Sn,jn)=>{const rr=$n.get(jn);Sn.forEach(Gr=>Qa(Gr,rr))}),Os.forEach((Sn,jn)=>{const rr=ss.get(jn);Sn.forEach(Gr=>Qa(Gr,rr))}),Hi.forEach(Sn=>{this.processLeaveNode(Sn)})});const Ql=[],xu=[];for(let Sn=this._namespaceList.length-1;Sn>=0;Sn--)this._namespaceList[Sn].drainQueuedTransitions(p).forEach(rr=>{const Gr=rr.player,vs=rr.element;if(Ql.push(Gr),this.collectedEnterElements.length){const Rs=vs[ji];if(Rs&&Rs.setForMove){if(Rs.previousTriggersValues&&Rs.previousTriggersValues.has(rr.triggerName)){const vl=Rs.previousTriggersValues.get(rr.triggerName),wa=this.statesByElement.get(rr.element);if(wa&&wa.has(rr.triggerName)){const ed=wa.get(rr.triggerName);ed.value=vl,wa.set(rr.triggerName,ed)}}return void Gr.destroy()}}const ru=!Yt||!this.driver.containsElement(Yt,vs),Ps=ss.get(vs),qc=$n.get(vs),Ji=this._buildInstruction(rr,I,qc,Ps,ru);if(Ji.errors&&Ji.errors.length)return void xu.push(Ji);if(ru)return Gr.onStart(()=>ls(vs,Ji.fromStyles)),Gr.onDestroy(()=>sr(vs,Ji.toStyles)),void P.push(Gr);if(rr.isFallbackTransition)return Gr.onStart(()=>ls(vs,Ji.fromStyles)),Gr.onDestroy(()=>sr(vs,Ji.toStyles)),void P.push(Gr);const Um=[];Ji.timelines.forEach(Rs=>{Rs.stretchStartingKeyframe=!0,this.disabledNodes.has(Rs.element)||Um.push(Rs)}),Ji.timelines=Um,I.append(vs,Ji.timelines),fe.push({instruction:Ji,player:Gr,element:vs}),Ji.queriedElements.forEach(Rs=>ai(be,Rs,[]).push(Gr)),Ji.preStyleProps.forEach((Rs,vl)=>{if(Rs.size){let wa=He.get(vl);wa||He.set(vl,wa=new Set),Rs.forEach((ed,xd)=>wa.add(xd))}}),Ji.postStyleProps.forEach((Rs,vl)=>{let wa=lt.get(vl);wa||lt.set(vl,wa=new Set),Rs.forEach((ed,xd)=>wa.add(xd))})});if(xu.length){const Sn=[];xu.forEach(jn=>{Sn.push(function Wr(v,y){return new d.vHH(3505,!1)}())}),Ql.forEach(jn=>jn.destroy()),this.reportError(Sn)}const To=new Map,zc=new Map;fe.forEach(Sn=>{const jn=Sn.element;I.has(jn)&&(zc.set(jn,jn),this._beforeAnimationBuild(Sn.player.namespaceId,Sn.instruction,To))}),P.forEach(Sn=>{const jn=Sn.element;this._getPreviousPlayers(jn,!1,Sn.namespaceId,Sn.triggerName,null).forEach(Gr=>{ai(To,jn,[]).push(Gr),Gr.destroy()})});const Tc=Hi.filter(Sn=>Ja(Sn,He,lt)),Yu=new Map;Pn(Yu,this.driver,Gs,lt,Ir.l3).forEach(Sn=>{Ja(Sn,He,lt)&&Tc.push(Sn)});const Jl=new Map;nr.forEach((Sn,jn)=>{Pn(Jl,this.driver,new Set(Sn),He,Ir.k1)}),Tc.forEach(Sn=>{const jn=Yu.get(Sn),rr=Jl.get(Sn);Yu.set(Sn,new Map([...jn?.entries()??[],...rr?.entries()??[]]))});const _l=[],Xl=[],wh={};fe.forEach(Sn=>{const{element:jn,player:rr,instruction:Gr}=Sn;if(I.has(jn)){if(Pt.has(jn))return rr.onDestroy(()=>sr(jn,Gr.toStyles)),rr.disabled=!0,rr.overrideTotalTime(Gr.totalTime),void P.push(rr);let vs=wh;if(zc.size>1){let Ps=jn;const qc=[];for(;Ps=Ps.parentNode;){const Ji=zc.get(Ps);if(Ji){vs=Ji;break}qc.push(Ps)}qc.forEach(Ji=>zc.set(Ji,vs))}const ru=this._buildAnimation(rr.namespaceId,Gr,To,K,Jl,Yu);if(rr.setRealPlayer(ru),vs===wh)_l.push(rr);else{const Ps=this.playersByElement.get(vs);Ps&&Ps.length&&(rr.parentPlayer=ur(Ps)),P.push(rr)}}else ls(jn,Gr.fromStyles),rr.onDestroy(()=>sr(jn,Gr.toStyles)),Xl.push(rr),Pt.has(jn)&&P.push(rr)}),Xl.forEach(Sn=>{const jn=K.get(Sn.element);if(jn&&jn.length){const rr=ur(jn);Sn.setRealPlayer(rr)}}),P.forEach(Sn=>{Sn.parentPlayer?Sn.syncPlayerEvents(Sn.parentPlayer):Sn.destroy()});for(let Sn=0;Sn<Hi.length;Sn++){const jn=Hi[Sn],rr=jn[ji];if(Qa(jn,ui),rr&&rr.hasAnimation)continue;let Gr=[];if(be.size){let ru=be.get(jn);ru&&ru.length&&Gr.push(...ru);let Ps=this.driver.query(jn,ki,!0);for(let qc=0;qc<Ps.length;qc++){let Ji=be.get(Ps[qc]);Ji&&Ji.length&&Gr.push(...Ji)}}const vs=Gr.filter(ru=>!ru.destroyed);vs.length?il(this,jn,vs):this.processLeaveNode(jn)}return Hi.length=0,_l.forEach(Sn=>{this.players.push(Sn),Sn.onDone(()=>{Sn.destroy();const jn=this.players.indexOf(Sn);this.players.splice(jn,1)}),Sn.play()}),_l}afterFlush(y){this._flushFns.push(y)}afterFlushAnimationsDone(y){this._whenQuietFns.push(y)}_getPreviousPlayers(y,p,I,P,K){let fe=[];if(p){const be=this.playersByQueriedElement.get(y);be&&(fe=be)}else{const be=this.playersByElement.get(y);if(be){const He=!K||K==Ma;be.forEach(lt=>{lt.queued||!He&&lt.triggerName!=P||fe.push(lt)})}}return(I||P)&&(fe=fe.filter(be=>!(I&&I!=be.namespaceId||P&&P!=be.triggerName))),fe}_beforeAnimationBuild(y,p,I){const K=p.element,fe=p.isRemovalTransition?void 0:y,be=p.isRemovalTransition?void 0:p.triggerName;for(const He of p.timelines){const lt=He.element,Pt=lt!==K,Yt=ai(I,lt,[]);this._getPreviousPlayers(lt,Pt,fe,be,p.toState).forEach(nr=>{const $n=nr.getRealPlayer();$n.beforeDestroy&&$n.beforeDestroy(),nr.destroy(),Yt.push(nr)})}ls(K,p.fromStyles)}_buildAnimation(y,p,I,P,K,fe){const be=p.triggerName,He=p.element,lt=[],Pt=new Set,Yt=new Set,Pr=p.timelines.map($n=>{const hr=$n.element;Pt.add(hr);const Hi=hr[ji];if(Hi&&Hi.removedBeforeQueried)return new Ir.ZN($n.duration,$n.delay);const Qi=hr!==He,Gs=function ac(v){const y=[];return Iu(v,y),y}((I.get(hr)||ii).map(To=>To.getRealPlayer())).filter(To=>!!To.element&&To.element===hr),ss=K.get(hr),Os=fe.get(hr),Ql=oi(this._normalizer,$n.keyframes,ss,Os),xu=this._buildPlayer($n,Ql,Gs);if($n.subTimeline&&P&&Yt.add(hr),Qi){const To=new ju(y,be,hr);To.setRealPlayer(xu),lt.push(To)}return xu});lt.forEach($n=>{ai(this.playersByQueriedElement,$n.element,[]).push($n),$n.onDone(()=>function rl(v,y,p){let I=v.get(y);if(I){if(I.length){const P=I.indexOf(p);I.splice(P,1)}0==I.length&&v.delete(y)}return I}(this.playersByQueriedElement,$n.element,$n))}),Pt.forEach($n=>fa($n,di));const nr=ur(Pr);return nr.onDestroy(()=>{Pt.forEach($n=>Qa($n,di)),sr(He,p.toStyles)}),Yt.forEach($n=>{ai(P,$n,[]).push(nr)}),nr}_buildPlayer(y,p,I){return p.length>0?this.driver.animate(y.element,p,y.duration,y.delay,y.easing,I):new Ir.ZN(y.duration,y.delay)}}class ju{constructor(y,p,I){this.namespaceId=y,this.triggerName=p,this.element=I,this._player=new Ir.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(y){this._containsRealPlayer||(this._player=y,this._queuedCallbacks.forEach((p,I)=>{p.forEach(P=>Ri(y,I,void 0,P))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(y.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(y){this.totalTime=y}syncPlayerEvents(y){const p=this._player;p.triggerCallback&&y.onStart(()=>p.triggerCallback("start")),y.onDone(()=>this.finish()),y.onDestroy(()=>this.destroy())}_queueEvent(y,p){ai(this._queuedCallbacks,y,[]).push(p)}onDone(y){this.queued&&this._queueEvent("done",y),this._player.onDone(y)}onStart(y){this.queued&&this._queueEvent("start",y),this._player.onStart(y)}onDestroy(y){this.queued&&this._queueEvent("destroy",y),this._player.onDestroy(y)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(y){this.queued||this._player.setPosition(y)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(y){const p=this._player;p.triggerCallback&&p.triggerCallback(y)}}function Eu(v){return v&&1===v.nodeType}function si(v,y){const p=v.style.display;return v.style.display=y??"none",p}function Pn(v,y,p,I,P){const K=[];p.forEach(He=>K.push(si(He)));const fe=[];I.forEach((He,lt)=>{const Pt=new Map;He.forEach(Yt=>{const Pr=y.computeStyle(lt,Yt,P);Pt.set(Yt,Pr),(!Pr||0==Pr.length)&&(lt[ji]=nl,fe.push(lt))}),v.set(lt,Pt)});let be=0;return p.forEach(He=>si(He,K[be++])),fe}function gs(v,y){const p=new Map;if(v.forEach(be=>p.set(be,[])),0==y.length)return p;const P=new Set(y),K=new Map;function fe(be){if(!be)return 1;let He=K.get(be);if(He)return He;const lt=be.parentNode;return He=p.has(lt)?lt:P.has(lt)?1:fe(lt),K.set(be,He),He}return y.forEach(be=>{const He=fe(be);1!==He&&p.get(He).push(be)}),p}function fa(v,y){v.classList?.add(y)}function Qa(v,y){v.classList?.remove(y)}function il(v,y,p){ur(p).onDone(()=>v.processLeaveNode(y))}function Iu(v,y){for(let p=0;p<v.length;p++){const I=v[p];I instanceof Ir.ZE?Iu(I.players,y):y.push(I)}}function Ja(v,y,p){const I=p.get(v);if(!I)return!1;let P=y.get(v);return P?I.forEach(K=>P.add(K)):y.set(v,I),p.delete(v),!0}class kc{constructor(y,p,I){this.bodyNode=y,this._driver=p,this._normalizer=I,this._triggerCache={},this.onRemovalComplete=(P,K)=>{},this._transitionEngine=new ha(y,p,I),this._timelineEngine=new Vl(y,p,I),this._transitionEngine.onRemovalComplete=(P,K)=>this.onRemovalComplete(P,K)}registerTrigger(y,p,I,P,K){const fe=y+"-"+P;let be=this._triggerCache[fe];if(!be){const He=[],Pt=Pc(this._driver,K,He,[]);if(He.length)throw function kr(v,y){return new d.vHH(3404,!1)}();be=function Ms(v,y,p){return new Fo(v,y,p)}(P,Pt,this._normalizer),this._triggerCache[fe]=be}this._transitionEngine.registerTrigger(p,P,be)}register(y,p){this._transitionEngine.register(y,p)}destroy(y,p){this._transitionEngine.destroy(y,p)}onInsert(y,p,I,P){this._transitionEngine.insertNode(y,p,I,P)}onRemove(y,p,I){this._transitionEngine.removeNode(y,p,I)}disableAnimations(y,p){this._transitionEngine.markElementAsDisabled(y,p)}process(y,p,I,P){if("@"==I.charAt(0)){const[K,fe]=Qs(I);this._timelineEngine.command(K,p,fe,P)}else this._transitionEngine.trigger(y,p,I,P)}listen(y,p,I,P,K){if("@"==I.charAt(0)){const[fe,be]=Qs(I);return this._timelineEngine.listen(fe,p,be,K)}return this._transitionEngine.listen(y,p,I,P,K)}flush(y=-1){this._transitionEngine.flush(y)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(y){this._transitionEngine.afterFlushAnimationsDone(y)}}let sl=(()=>{class v{static#e=this.initialStylesByElement=new WeakMap;constructor(p,I,P){this._element=p,this._startStyles=I,this._endStyles=P,this._state=0;let K=v.initialStylesByElement.get(p);K||v.initialStylesByElement.set(p,K=new Map),this._initialStyles=K}start(){this._state<1&&(this._startStyles&&sr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(sr(this._element,this._initialStyles),this._endStyles&&(sr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(v.initialStylesByElement.delete(this._element),this._startStyles&&(ls(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ls(this._element,this._endStyles),this._endStyles=null),sr(this._element,this._initialStyles),this._state=3)}}return v})();function cc(v){let y=null;return v.forEach((p,I)=>{(function wt(v){return"display"===v||"position"===v})(I)&&(y=y||new Map,y.set(I,p))}),y}class yr{constructor(y,p,I,P){this.element=y,this.keyframes=p,this.options=I,this._specialStyles=P,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=I.duration,this._delay=I.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const y=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,y,this.options),this._finalKeyframe=y.length?y[y.length-1]:new Map;const p=()=>this._onFinish();this.domPlayer.addEventListener("finish",p),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",p)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(y){const p=[];return y.forEach(I=>{p.push(Object.fromEntries(I))}),p}_triggerWebAnimation(y,p,I){return y.animate(this._convertKeyframesToObject(p),I)}onStart(y){this._originalOnStartFns.push(y),this._onStartFns.push(y)}onDone(y){this._originalOnDoneFns.push(y),this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(y=>y()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}setPosition(y){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=y*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const y=new Map;this.hasStarted()&&this._finalKeyframe.forEach((I,P)=>{"offset"!==P&&y.set(P,this._finished?I:Sa(this.element,P))}),this.currentSnapshot=y}triggerCallback(y){const p="start"===y?this._onStartFns:this._onDoneFns;p.forEach(I=>I()),p.length=0}}class Lc{validateStyleProperty(y){return!0}validateAnimatableStyleProperty(y){return!0}matchesElement(y,p){return!1}containsElement(y,p){return Bs(y,p)}getParentElement(y){return wi(y)}query(y,p,I){return $s(y,p,I)}computeStyle(y,p,I){return window.getComputedStyle(y)[p]}animate(y,p,I,P,K,fe=[]){const He={duration:I,delay:P,fill:0==P?"both":"forwards"};K&&(He.easing=K);const lt=new Map,Pt=fe.filter(nr=>nr instanceof yr);(function ds(v,y){return 0===v||0===y})(I,P)&&Pt.forEach(nr=>{nr.currentSnapshot.forEach(($n,hr)=>lt.set(hr,$n))});let Yt=function zo(v){return v.length?v[0]instanceof Map?v:v.map(y=>js(y)):[]}(p).map(nr=>Ss(nr));Yt=function bi(v,y,p){if(p.size&&y.length){let I=y[0],P=[];if(p.forEach((K,fe)=>{I.has(fe)||P.push(fe),I.set(fe,K)}),P.length)for(let K=1;K<y.length;K++){let fe=y[K];P.forEach(be=>fe.set(be,Sa(v,be)))}}return y}(y,Yt,lt);const Pr=function uc(v,y){let p=null,I=null;return Array.isArray(y)&&y.length?(p=cc(y[0]),y.length>1&&(I=cc(y[y.length-1]))):y instanceof Map&&(p=cc(y)),p||I?new sl(v,p,I):null}(y,Yt);return new yr(y,Yt,He,Pr)}}let hd=(()=>{class v extends Ir._j{constructor(p,I){super(),this._nextAnimationId=0,this._renderer=p.createRenderer(I.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(p){const I=this._nextAnimationId.toString();this._nextAnimationId++;const P=Array.isArray(p)?(0,Ir.vP)(p):p;return wu(this._renderer,null,I,"register",[P]),new Vi(I,this._renderer)}static#e=this.\u0275fac=function(I){return new(I||v)(d.LFG(d.FYo),d.LFG(Ue.K0))};static#t=this.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac})}return v})();class Vi extends Ir.LC{constructor(y,p){super(),this._id=y,this._renderer=p}create(y,p){return new Bl(this._id,y,p||{},this._renderer)}}class Bl{constructor(y,p,I,P){this.id=y,this.element=p,this._renderer=P,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",I)}_listen(y,p){return this._renderer.listen(this.element,`@@${this.id}:${y}`,p)}_command(y,...p){return wu(this._renderer,this.element,this.id,y,p)}onDone(y){this._listen("done",y)}onStart(y){this._listen("start",y)}onDestroy(y){this._listen("destroy",y)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(y){this._command("setPosition",y)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function wu(v,y,p,I,P){return v.setProperty(y,`@@${p}:${I}`,P)}const lc="@.disabled";let Pa=(()=>{class v{constructor(p,I,P){this.delegate=p,this.engine=I,this._zone=P,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,I.onRemovalComplete=(K,fe)=>{const be=fe?.parentNode(K);be&&fe.removeChild(be,K)}}createRenderer(p,I){const K=this.delegate.createRenderer(p,I);if(!(p&&I&&I.data&&I.data.animation)){let Pt=this._rendererCache.get(K);return Pt||(Pt=new dc("",K,this.engine,()=>this._rendererCache.delete(K)),this._rendererCache.set(K,Pt)),Pt}const fe=I.id,be=I.id+"-"+this._currentId;this._currentId++,this.engine.register(be,p);const He=Pt=>{Array.isArray(Pt)?Pt.forEach(He):this.engine.registerTrigger(fe,be,p,Pt.name,Pt)};return I.data.animation.forEach(He),new bu(this,be,K,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(p,I,P){p>=0&&p<this._microtaskId?this._zone.run(()=>I(P)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(K=>{const[fe,be]=K;fe(be)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([I,P]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(I){return new(I||v)(d.LFG(d.FYo),d.LFG(kc),d.LFG(d.R0b))};static#t=this.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac})}return v})();class dc{constructor(y,p,I,P){this.namespaceId=y,this.delegate=p,this.engine=I,this._onDestroy=P}get data(){return this.delegate.data}destroyNode(y){this.delegate.destroyNode?.(y)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(y,p){return this.delegate.createElement(y,p)}createComment(y){return this.delegate.createComment(y)}createText(y){return this.delegate.createText(y)}appendChild(y,p){this.delegate.appendChild(y,p),this.engine.onInsert(this.namespaceId,p,y,!1)}insertBefore(y,p,I,P=!0){this.delegate.insertBefore(y,p,I),this.engine.onInsert(this.namespaceId,p,y,P)}removeChild(y,p,I){this.engine.onRemove(this.namespaceId,p,this.delegate)}selectRootElement(y,p){return this.delegate.selectRootElement(y,p)}parentNode(y){return this.delegate.parentNode(y)}nextSibling(y){return this.delegate.nextSibling(y)}setAttribute(y,p,I,P){this.delegate.setAttribute(y,p,I,P)}removeAttribute(y,p,I){this.delegate.removeAttribute(y,p,I)}addClass(y,p){this.delegate.addClass(y,p)}removeClass(y,p){this.delegate.removeClass(y,p)}setStyle(y,p,I,P){this.delegate.setStyle(y,p,I,P)}removeStyle(y,p,I){this.delegate.removeStyle(y,p,I)}setProperty(y,p,I){"@"==p.charAt(0)&&p==lc?this.disableAnimations(y,!!I):this.delegate.setProperty(y,p,I)}setValue(y,p){this.delegate.setValue(y,p)}listen(y,p,I){return this.delegate.listen(y,p,I)}disableAnimations(y,p){this.engine.disableAnimations(y,p)}}class bu extends dc{constructor(y,p,I,P,K){super(p,I,P,K),this.factory=y,this.namespaceId=p}setProperty(y,p,I){"@"==p.charAt(0)?"."==p.charAt(1)&&p==lc?this.disableAnimations(y,I=void 0===I||!!I):this.engine.process(this.namespaceId,y,p.slice(1),I):this.delegate.setProperty(y,p,I)}listen(y,p,I){if("@"==p.charAt(0)){const P=function Ra(v){switch(v){case"body":return document.body;case"document":return document;case"window":return window;default:return v}}(y);let K=p.slice(1),fe="";return"@"!=K.charAt(0)&&([K,fe]=function ys(v){const y=v.indexOf(".");return[v.substring(0,y),v.slice(y+1)]}(K)),this.engine.listen(this.namespaceId,P,K,fe,be=>{this.factory.scheduleListenerCallback(be._data||-1,I,be)})}return this.delegate.listen(y,p,I)}}const Bo=[{provide:Ir._j,useClass:hd},{provide:En,useFactory:function hc(){return new Tr}},{provide:kc,useClass:(()=>{class v extends kc{constructor(p,I,P,K){super(p.body,I,P)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(I){return new(I||v)(d.LFG(Ue.K0),d.LFG(Ts),d.LFG(En),d.LFG(d.z2F))};static#t=this.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac})}return v})()},{provide:d.FYo,useFactory:function pa(v,y,p){return new Pa(v,y,p)},deps:[m.se,kc,d.R0b]}],fc=[{provide:Ts,useFactory:()=>new Lc},{provide:d.QbO,useValue:"BrowserAnimations"},...Bo],Hu=[{provide:Ts,useClass:nc},{provide:d.QbO,useValue:"NoopAnimations"},...Bo];let fd=(()=>{class v{static withConfig(p){return{ngModule:v,providers:p.disableAnimations?Hu:fc}}static#e=this.\u0275fac=function(I){return new(I||v)};static#t=this.\u0275mod=d.oAB({type:v});static#n=this.\u0275inj=d.cJS({providers:fc,imports:[m.b2]})}return v})();var R=B(5592),H=B(8645),ue=B(2381),Ee=B(3093),st=B(9360),tt=B(8251),Kt=B(4829),tr=B(2737),Ur=B(2420),dr=B(9940),pc=B(6424),ga=B(3997);class Ko extends Error{constructor(y,p){super(function Fc(v,y){return`NG0${Math.abs(v)}${y?": "+y:""}`}(y,p)),this.code=y}}let Ci=null;function Cu(v){const y=Ci;return Ci=v,y}function fl(v,y){const p=!y?.manualCleanup;p&&!y?.injector&&(0,d.gHi)(fl);const I=p?y?.injector?.get(d.ktI)??(0,d.f3M)(d.ktI):null;let P;return P=(0,d.tdS)(y?.requireSync?{kind:0}:{kind:1,value:y?.initialValue}),function qu(v){const y=Cu(null);try{return v()}finally{Cu(y)}}(()=>{const K=v.subscribe({next:fe=>P.set({kind:1,value:fe}),error:fe=>P.set({kind:2,error:fe})});I?.onDestroy(K.unsubscribe.bind(K))}),(0,d.Flj)(()=>{const K=P();switch(K.kind){case 1:return K.value;case 2:throw K.error;case 0:throw new Ko(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}const tu={},yn="@ngrx/store/init";let kn=(()=>{class v extends U.X{constructor(){super({type:yn})}next(p){if("function"==typeof p)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof p>"u")throw new TypeError("Actions must be objects");if(typeof p.type>"u")throw new TypeError("Actions must have a type property");super.next(p)}complete(){}ngOnDestroy(){super.complete()}static#e=this.\u0275fac=function(I){return new(I||v)};static#t=this.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac})}return v})();const Yn=[kn],ns=new d.OlP("@ngrx/store Internal Root Guard"),_s=new d.OlP("@ngrx/store Internal Initial State"),Zu=new d.OlP("@ngrx/store Initial State"),Ic=new d.OlP("@ngrx/store Reducer Factory"),$c=new d.OlP("@ngrx/store Internal Reducer Factory Provider"),_a=new d.OlP("@ngrx/store Initial Reducers"),nu=new d.OlP("@ngrx/store Internal Initial Reducers"),Ed=new d.OlP("@ngrx/store Store Features"),Tf=new d.OlP("@ngrx/store Internal Store Reducers"),Mu=new d.OlP("@ngrx/store Internal Feature Reducers"),Cf=new d.OlP("@ngrx/store Internal Feature Configs"),Gl=new d.OlP("@ngrx/store Internal Store Features"),rs=new d.OlP("@ngrx/store Internal Feature Reducers Token"),fh=new d.OlP("@ngrx/store Feature Reducers"),zl=new d.OlP("@ngrx/store User Provided Meta Reducers"),ql=new d.OlP("@ngrx/store Meta Reducers"),La=new d.OlP("@ngrx/store Internal Resolved Meta Reducers"),pl=new d.OlP("@ngrx/store User Runtime Checks Config"),gl=new d.OlP("@ngrx/store Internal User Runtime Checks Config"),Ku=new d.OlP("@ngrx/store Internal Runtime Checks"),Fa=new d.OlP("@ngrx/store Check if Action types are unique");function ph(v,y={}){const p=Object.keys(v),I={};for(let K=0;K<p.length;K++){const fe=p[K];"function"==typeof v[fe]&&(I[fe]=v[fe])}const P=Object.keys(I);return function(fe,be){fe=void 0===fe?y:fe;let He=!1;const lt={};for(let Pt=0;Pt<P.length;Pt++){const Yt=P[Pt],nr=fe[Yt],$n=(0,I[Yt])(nr,be);lt[Yt]=$n,He=He||$n!==nr}return He?lt:fe}}function bo(...v){return function(y){if(0===v.length)return y;const p=v[v.length-1];return v.slice(0,-1).reduceRight((P,K)=>K(P),p(y))}}function wd(v,y){return Array.isArray(y)&&y.length>0&&(v=bo.apply(null,[...y,v])),(p,I)=>{const P=v(p);return(K,fe)=>P(K=void 0===K?I:K,fe)}}new d.OlP("@ngrx/store Root Store Provider"),new d.OlP("@ngrx/store Feature State Provider");class bd extends R.y{}class gh extends kn{}let jc=(()=>{class v extends U.X{get currentReducers(){return this.reducers}constructor(p,I,P,K){super(K(P,I)),this.dispatcher=p,this.initialState=I,this.reducers=P,this.reducerFactory=K}addFeature(p){this.addFeatures([p])}addFeatures(p){const I=p.reduce((P,{reducers:K,reducerFactory:fe,metaReducers:be,initialState:He,key:lt})=>{const Pt="function"==typeof K?function wc(v){const y=Array.isArray(v)&&v.length>0?bo(...v):p=>p;return(p,I)=>(p=y(p),(P,K)=>p(P=void 0===P?I:P,K))}(be)(K,He):wd(fe,be)(K,He);return P[lt]=Pt,P},{});this.addReducers(I)}removeFeature(p){this.removeFeatures([p])}removeFeatures(p){this.removeReducers(p.map(I=>I.key))}addReducer(p,I){this.addReducers({[p]:I})}addReducers(p){this.reducers={...this.reducers,...p},this.updateReducers(Object.keys(p))}removeReducer(p){this.removeReducers([p])}removeReducers(p){p.forEach(I=>{this.reducers=function Zp(v,y){return Object.keys(v).filter(p=>p!==y).reduce((p,I)=>Object.assign(p,{[I]:v[I]}),{})}(this.reducers,I)}),this.updateReducers(p)}updateReducers(p){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:p})}ngOnDestroy(){this.complete()}static#e=this.\u0275fac=function(I){return new(I||v)(d.LFG(gh),d.LFG(Zu),d.LFG(_a),d.LFG(Ic))};static#t=this.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac})}return v})();const Sf=[jc,{provide:bd,useExisting:jc},{provide:gh,useExisting:kn}];let Td=(()=>{class v extends H.x{ngOnDestroy(){this.complete()}static#e=this.\u0275fac=function(){let p;return function(P){return(p||(p=d.n5z(v)))(P||v)}}();static#t=this.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac})}return v})();const Af=[Td];class Wl extends R.y{}let Hc=(()=>{class v extends U.X{static#e=this.INIT=yn;constructor(p,I,P,K){super(K);const be=p.pipe((0,Ee.Q)(ue.N)).pipe(function to(...v){const y=(0,dr.jO)(v);return(0,st.e)((p,I)=>{const P=v.length,K=new Array(P);let fe=v.map(()=>!1),be=!1;for(let He=0;He<P;He++)(0,Kt.Xf)(v[He]).subscribe((0,tt.x)(I,lt=>{K[He]=lt,!be&&!fe[He]&&(fe[He]=!0,(be=fe.every(tr.y))&&(fe=null))},Ur.Z));p.subscribe((0,tt.x)(I,He=>{if(be){const lt=[He,...K];I.next(y?y(...lt):lt)}}))})}(I)),lt=be.pipe((0,pc.R)(Zl,{state:K}));this.stateSubscription=lt.subscribe(({state:Pt,action:Yt})=>{this.next(Pt),P.next(Yt)}),this.state=fl(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static#t=this.\u0275fac=function(I){return new(I||v)(d.LFG(kn),d.LFG(bd),d.LFG(Td),d.LFG(Zu))};static#n=this.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac})}return v})();function Zl(v={state:void 0},[y,p]){const{state:I}=v;return{state:p(I,y),action:y}}const Mf=[Hc,{provide:Wl,useExisting:Hc}];let ml=(()=>{class v extends R.y{constructor(p,I,P){super(),this.actionsObserver=I,this.reducerManager=P,this.source=p,this.state=p.state}select(p,...I){return mh.call(null,p,...I)(this)}selectSignal(p,I){return(0,d.Flj)(()=>p(this.state()),{equal:I?.equal||((P,K)=>P===K)})}lift(p){const I=new v(this,this.actionsObserver,this.reducerManager);return I.operator=p,I}dispatch(p){this.actionsObserver.next(p)}next(p){this.actionsObserver.next(p)}error(p){this.actionsObserver.error(p)}complete(){this.actionsObserver.complete()}addReducer(p,I){this.reducerManager.addReducer(p,I)}removeReducer(p){this.reducerManager.removeReducer(p)}static#e=this.\u0275fac=function(I){return new(I||v)(d.LFG(Wl),d.LFG(kn),d.LFG(jc))};static#t=this.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac})}return v})();const Kp=[ml];function mh(v,y,...p){return function(P){let K;if("string"==typeof v){const fe=[y,...p].filter(Boolean);K=P.pipe(function $r(...v){const y=v.length;if(0===y)throw new Error("list of properties cannot be empty.");return(0,se.U)(p=>{let I=p;for(let P=0;P<y;P++){const K=I?.[v[P]];if(!(typeof K<"u"))return;I=K}return I})}(v,...fe))}else{if("function"!=typeof v)throw new TypeError(`Unexpected type '${typeof v}' in select operator, expected 'string' or 'function'`);K=P.pipe((0,se.U)(fe=>v(fe,y)))}return K.pipe((0,ga.x)())}}const xf="https://ngrx.io/guide/store/configuration/runtime-checks";function Of(v){return void 0===v}function Cd(v){return null===v}function Dd(v){return Array.isArray(v)}function Gc(v){return"object"==typeof v&&null!==v}function Yp(v){return"function"==typeof v}function Ad(v){return v instanceof d.OlP?(0,d.f3M)(v):v}function Pm(v,y){return y.map((p,I)=>{if(v[I]instanceof d.OlP){const P=(0,d.f3M)(v[I]);return{key:p.key,reducerFactory:P.reducerFactory?P.reducerFactory:ph,metaReducers:P.metaReducers?P.metaReducers:[],initialState:P.initialState}}return p})}function Rm(v){return v.map(y=>y instanceof d.OlP?(0,d.f3M)(y):y)}function yh(v){return"function"==typeof v?v():v}function Nm(v,y){return v.concat(y)}function km(){if((0,d.f3M)(ml,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function yl(v){Object.freeze(v);const y=Yp(v);return Object.getOwnPropertyNames(v).forEach(p=>{if(!p.startsWith("\u0275")&&function xm(v,y){return Object.prototype.hasOwnProperty.call(v,y)}(v,p)&&(!y||"caller"!==p&&"callee"!==p&&"arguments"!==p)){const I=v[p];(Gc(I)||Yp(I))&&!Object.isFrozen(I)&&yl(I)}}),v}function Yl(v,y=[]){return(Of(v)||Cd(v))&&0===y.length?{path:["root"],value:v}:Object.keys(v).reduce((I,P)=>{if(I)return I;const K=v[P];return function Qp(v){return Yp(v)&&v.hasOwnProperty("\u0275cmp")}(K)?I:!(Of(K)||Cd(K)||function Mm(v){return"number"==typeof v}(K)||function Am(v){return"boolean"==typeof v}(K)||function Kl(v){return"string"==typeof v}(K)||Dd(K))&&(function Sd(v){if(!function no(v){return Gc(v)&&!Dd(v)}(v))return!1;const y=Object.getPrototypeOf(v);return y===Object.prototype||null===y}(K)?Yl(K,[...y,P]):{path:[...y,P],value:K})},!1)}function Nf(v,y){if(!1===v)return;const p=v.path.join("."),I=new Error(`Detected unserializable ${y} at "${p}". ${xf}#strict${y}serializability`);throw I.value=v.value,I.unserializablePath=p,I}function vh(v){return(0,d.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...v}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function vv({strictActionSerializability:v,strictStateSerializability:y}){return p=>v||y?function _h(v,y){return function(p,I){y.action(I)&&Nf(Yl(I),"action");const P=v(p,I);return y.state()&&Nf(Yl(P),"state"),P}}(p,{action:I=>v&&!Eh(I),state:()=>y}):p}function Ev({strictActionImmutability:v,strictStateImmutability:y}){return p=>v||y?function Rf(v,y){return function(p,I){const P=y.action(I)?yl(I):I,K=v(p,P);return y.state()?yl(K):K}}(p,{action:I=>v&&!Eh(I),state:()=>y}):p}function Eh(v){return v.type.startsWith("@ngrx")}function Jp({strictActionWithinNgZone:v}){return y=>v?function _v(v,y){return function(p,I){if(y.action(I)&&!d.R0b.isInAngularZone())throw new Error(`Action '${I.type}' running outside NgZone. ${xf}#strictactionwithinngzone`);return v(p,I)}}(y,{action:p=>v&&!Eh(p)}):y}function Xp(v){return[{provide:gl,useValue:v},{provide:pl,useFactory:MI,deps:[gl]},{provide:Ku,deps:[pl],useFactory:vh},{provide:ql,multi:!0,deps:[Ku],useFactory:Ev},{provide:ql,multi:!0,deps:[Ku],useFactory:vv},{provide:ql,multi:!0,deps:[Ku],useFactory:Jp}]}function Iv(){return[{provide:Fa,multi:!0,deps:[Ku],useFactory:xI}]}function MI(v){return v}function xI(v){if(!v.strictActionTypeUniqueness)return;const y=Object.entries(tu).filter(([,p])=>p>1).map(([p])=>p);if(y.length)throw new Error(`Action types are registered more than once, ${y.map(p=>`"${p}"`).join(", ")}. ${xf}#strictactiontypeuniqueness`)}function eg(v={},y={}){return[{provide:ns,useFactory:km},{provide:_s,useValue:y.initialState},{provide:Zu,useFactory:yh,deps:[_s]},{provide:nu,useValue:v},{provide:Tf,useExisting:v instanceof d.OlP?v:nu},{provide:_a,deps:[nu,[new d.tBr(Tf)]],useFactory:Ad},{provide:zl,useValue:y.metaReducers?y.metaReducers:[]},{provide:La,deps:[ql,zl],useFactory:Nm},{provide:$c,useValue:y.reducerFactory?y.reducerFactory:ph},{provide:Ic,deps:[$c,La],useFactory:wd},Yn,Sf,Af,Mf,Kp,Xp(y.runtimeChecks),Iv()]}function is(v,y,p={}){return[{provide:Cf,multi:!0,useValue:v instanceof Object?{}:p},{provide:Ed,multi:!0,useValue:{key:v instanceof Object?v.name:v,reducerFactory:p instanceof d.OlP||!p.reducerFactory?ph:p.reducerFactory,metaReducers:p instanceof d.OlP||!p.metaReducers?[]:p.metaReducers,initialState:p instanceof d.OlP||!p.initialState?void 0:p.initialState}},{provide:Gl,deps:[Cf,Ed],useFactory:Pm},{provide:Mu,multi:!0,useValue:v instanceof Object?v.reducer:y},{provide:rs,multi:!0,useExisting:y instanceof d.OlP?y:Mu},{provide:fh,multi:!0,deps:[Mu,[new d.tBr(rs)]],useFactory:Rm},Iv()]}let Ea=(()=>{class v{constructor(p,I,P,K,fe,be){}static#e=this.\u0275fac=function(I){return new(I||v)(d.LFG(kn),d.LFG(bd),d.LFG(Td),d.LFG(ml),d.LFG(ns,8),d.LFG(Fa,8))};static#t=this.\u0275mod=d.oAB({type:v});static#n=this.\u0275inj=d.cJS({})}return v})(),Md=(()=>{class v{constructor(p,I,P,K,fe){this.features=p,this.featureReducers=I,this.reducerManager=P;const be=p.map((He,lt)=>{const Yt=I.shift()[lt];return{...He,reducers:Yt,initialState:yh(He.initialState)}});P.addFeatures(be)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static#e=this.\u0275fac=function(I){return new(I||v)(d.LFG(Gl),d.LFG(fh),d.LFG(jc),d.LFG(Ea),d.LFG(Fa,8))};static#t=this.\u0275mod=d.oAB({type:v});static#n=this.\u0275inj=d.cJS({})}return v})(),kf=(()=>{class v{static forRoot(p,I){return{ngModule:Ea,providers:[...eg(p,I)]}}static forFeature(p,I,P={}){return{ngModule:Md,providers:[...is(p,I,P)]}}static#e=this.\u0275fac=function(I){return new(I||v)};static#t=this.\u0275mod=d.oAB({type:v});static#n=this.\u0275inj=d.cJS({})}return v})(),Ih=(()=>{class v{static#e=this.\u0275fac=function(I){return new(I||v)};static#t=this.\u0275mod=d.oAB({type:v,bootstrap:[xi]});static#n=this.\u0275inj=d.cJS({imports:[m.b2,ho,bs.r,fd,(0,ks.hX)(()=>(0,ks.ZF)(xo.N.firebaseConfig)),(0,Xt.Cm)(()=>(0,Xt.ad)()),Ys,kf.forRoot({},{})]})}return v})();m.q6().bootstrapModule(Ih).catch(v=>console.error(v))},9402:function($t){$t.exports=function(Ge){function B(Q){if(m[Q])return m[Q].exports;var d=m[Q]={exports:{},id:Q,loaded:!1};return Ge[Q].call(d.exports,d,d.exports,B),d.loaded=!0,d.exports}var m={};return B.m=Ge,B.c=m,B.p="dist/",B(0)}([function(Ge,B,m){"use strict";function Q(Ve){return Ve&&Ve.__esModule?Ve:{default:Ve}}var d=Object.assign||function(Ve){for(var pt=1;pt<arguments.length;pt++){var gn=arguments[pt];for(var yt in gn)Object.prototype.hasOwnProperty.call(gn,yt)&&(Ve[yt]=gn[yt])}return Ve},se=(Q(m(1)),m(6)),de=Q(se),Ne=Q(m(7)),te=Q(m(8)),Ae=Q(m(9)),Oe=Q(m(10)),Dt=Q(m(11)),xt=Q(m(14)),en=[],ft=!1,Te={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},qe=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(ft=!0),ft)return en=(0,Dt.default)(en,Te),(0,Oe.default)(en,Te.once),en},ht=function(){en=(0,xt.default)(),qe()};Ge.exports={init:function(Ve){Te=d(Te,Ve),en=(0,xt.default)();var pt=document.all&&!window.atob;return function(Ve){return!0===Ve||"mobile"===Ve&&Ae.default.mobile()||"phone"===Ve&&Ae.default.phone()||"tablet"===Ve&&Ae.default.tablet()||"function"==typeof Ve&&!0===Ve()}(Te.disable)||pt?void en.forEach(function(Ve,pt){Ve.node.removeAttribute("data-aos"),Ve.node.removeAttribute("data-aos-easing"),Ve.node.removeAttribute("data-aos-duration"),Ve.node.removeAttribute("data-aos-delay")}):(Te.disableMutationObserver||te.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),Te.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",Te.easing),document.querySelector("body").setAttribute("data-aos-duration",Te.duration),document.querySelector("body").setAttribute("data-aos-delay",Te.delay),"DOMContentLoaded"===Te.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?qe(!0):"load"===Te.startEvent?window.addEventListener(Te.startEvent,function(){qe(!0)}):document.addEventListener(Te.startEvent,function(){qe(!0)}),window.addEventListener("resize",(0,Ne.default)(qe,Te.debounceDelay,!0)),window.addEventListener("orientationchange",(0,Ne.default)(qe,Te.debounceDelay,!0)),window.addEventListener("scroll",(0,de.default)(function(){(0,Oe.default)(en,Te.once)},Te.throttleDelay)),Te.disableMutationObserver||te.default.ready("[data-aos]",ht),en)},refresh:qe,refreshHard:ht}},function(Ge,B){},,,,,function(Ge,B){(function(m){"use strict";function Q(Se,ge,Ve){function pt(_t){var wn=ze,Kn=Je;return ze=Je=void 0,Gt=_t,et=Se.apply(Kn,wn)}function sn(_t){var wn=_t-Vt;return void 0===Vt||wn>=ge||wn<0||Wt&&_t-Gt>=je}function vn(){var _t=Ke();return sn(_t)?xn(_t):void(It=setTimeout(vn,function yt(_t){var cr=ge-(_t-Vt);return Wt?ht(cr,je-(_t-Gt)):cr}(_t)))}function xn(_t){return It=void 0,jt&&ze?pt(_t):(ze=Je=void 0,et)}function $e(){var _t=Ke(),wn=sn(_t);if(ze=arguments,Je=this,Vt=_t,wn){if(void 0===It)return function gn(_t){return Gt=_t,It=setTimeout(vn,ge),Xt?pt(_t):et}(Vt);if(Wt)return It=setTimeout(vn,ge),pt(Vt)}return void 0===It&&(It=setTimeout(vn,ge)),et}var ze,Je,je,et,It,Vt,Gt=0,Xt=!1,Wt=!1,jt=!0;if("function"!=typeof Se)throw new TypeError(we);return ge=_e(ge)||0,he(Ve)&&(Xt=!!Ve.leading,je=(Wt="maxWait"in Ve)?qe(_e(Ve.maxWait)||0,ge):je,jt="trailing"in Ve?!!Ve.trailing:jt),$e.cancel=function Zn(){void 0!==It&&clearTimeout(It),Gt=0,ze=Vt=Je=It=void 0},$e.flush=function Jn(){return void 0===It?et:xn(Ke())},$e}function he(Se){var ge=typeof Se>"u"?"undefined":Ne(Se);return!!Se&&("object"==ge||"function"==ge)}function de(Se){return"symbol"==(typeof Se>"u"?"undefined":Ne(Se))||function se(Se){return!!Se&&"object"==(typeof Se>"u"?"undefined":Ne(Se))}(Se)&&Te.call(Se)==oe}function _e(Se){if("number"==typeof Se)return Se;if(de(Se))return te;if(he(Se)){var ge="function"==typeof Se.valueOf?Se.valueOf():Se;Se=he(ge)?ge+"":ge}if("string"!=typeof Se)return 0===Se?Se:+Se;Se=Se.replace(Ae,"");var Ve=Oe.test(Se);return Ve||Xe.test(Se)?Dt(Se.slice(2),Ve?2:8):Ue.test(Se)?te:+Se}var Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Se){return typeof Se}:function(Se){return Se&&"function"==typeof Symbol&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se},we="Expected a function",te=NaN,oe="[object Symbol]",Ae=/^\s+|\s+$/g,Ue=/^[-+]0x[0-9a-f]+$/i,Oe=/^0b[01]+$/i,Xe=/^0o[0-7]+$/i,Dt=parseInt,Rt="object"==(typeof m>"u"?"undefined":Ne(m))&&m&&m.Object===Object&&m,xt="object"==(typeof self>"u"?"undefined":Ne(self))&&self&&self.Object===Object&&self,en=Rt||xt||Function("return this")(),Te=Object.prototype.toString,qe=Math.max,ht=Math.min,Ke=function(){return en.Date.now()};Ge.exports=function d(Se,ge,Ve){var pt=!0,gn=!0;if("function"!=typeof Se)throw new TypeError(we);return he(Ve)&&(pt="leading"in Ve?!!Ve.leading:pt,gn="trailing"in Ve?!!Ve.trailing:gn),Q(Se,ge,{leading:pt,maxWait:ge,trailing:gn})}}).call(B,function(){return this}())},function(Ge,B){(function(m){"use strict";function d(Ke){var Se=typeof Ke>"u"?"undefined":_e(Ke);return!!Ke&&("object"==Se||"function"==Se)}function se(Ke){return"symbol"==(typeof Ke>"u"?"undefined":_e(Ke))||function he(Ke){return!!Ke&&"object"==(typeof Ke>"u"?"undefined":_e(Ke))}(Ke)&&ft.call(Ke)==te}function de(Ke){if("number"==typeof Ke)return Ke;if(se(Ke))return we;if(d(Ke)){var Se="function"==typeof Ke.valueOf?Ke.valueOf():Ke;Ke=d(Se)?Se+"":Se}if("string"!=typeof Ke)return 0===Ke?Ke:+Ke;Ke=Ke.replace(oe,"");var ge=Ue.test(Ke);return ge||Oe.test(Ke)?Xe(Ke.slice(2),ge?2:8):Ae.test(Ke)?we:+Ke}var _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ke){return typeof Ke}:function(Ke){return Ke&&"function"==typeof Symbol&&Ke.constructor===Symbol&&Ke!==Symbol.prototype?"symbol":typeof Ke},Ne="Expected a function",we=NaN,te="[object Symbol]",oe=/^\s+|\s+$/g,Ae=/^[-+]0x[0-9a-f]+$/i,Ue=/^0b[01]+$/i,Oe=/^0o[0-7]+$/i,Xe=parseInt,Dt="object"==(typeof m>"u"?"undefined":_e(m))&&m&&m.Object===Object&&m,Rt="object"==(typeof self>"u"?"undefined":_e(self))&&self&&self.Object===Object&&self,xt=Dt||Rt||Function("return this")(),ft=Object.prototype.toString,Te=Math.max,qe=Math.min,ht=function(){return xt.Date.now()};Ge.exports=function Q(Ke,Se,ge){function Ve(jt){var _t=$e,wn=ze;return $e=ze=void 0,Vt=jt,je=Ke.apply(wn,_t)}function yt(jt){var _t=jt-It;return void 0===It||_t>=Se||_t<0||Xt&&jt-Vt>=Je}function sn(){var jt=ht();return yt(jt)?vn(jt):void(et=setTimeout(sn,function gn(jt){var Kn=Se-(jt-It);return Xt?qe(Kn,Je-(jt-Vt)):Kn}(jt)))}function vn(jt){return et=void 0,Wt&&$e?Ve(jt):($e=ze=void 0,je)}function Jn(){var jt=ht(),_t=yt(jt);if($e=arguments,ze=this,It=jt,_t){if(void 0===et)return function pt(jt){return Vt=jt,et=setTimeout(sn,Se),Gt?Ve(jt):je}(It);if(Xt)return et=setTimeout(sn,Se),Ve(It)}return void 0===et&&(et=setTimeout(sn,Se)),je}var $e,ze,Je,je,et,It,Vt=0,Gt=!1,Xt=!1,Wt=!0;if("function"!=typeof Ke)throw new TypeError(Ne);return Se=de(Se)||0,d(ge)&&(Gt=!!ge.leading,Je=(Xt="maxWait"in ge)?Te(de(ge.maxWait)||0,Se):Je,Wt="trailing"in ge?!!ge.trailing:Wt),Jn.cancel=function xn(){void 0!==et&&clearTimeout(et),Vt=0,$e=It=ze=et=void 0},Jn.flush=function Zn(){return void 0===et?je:vn(ht())},Jn}}).call(B,function(){return this}())},function(Ge,B){"use strict";function m(_e){var Ne=void 0,we=void 0;for(Ne=0;Ne<_e.length;Ne+=1)if((we=_e[Ne]).dataset&&we.dataset.aos||we.children&&m(we.children))return!0;return!1}function Q(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function se(_e){_e&&_e.forEach(function(Ne){var we=Array.prototype.slice.call(Ne.addedNodes),te=Array.prototype.slice.call(Ne.removedNodes);if(m(we.concat(te)))return de()})}Object.defineProperty(B,"__esModule",{value:!0});var de=function(){};B.default={isSupported:function d(){return!!Q()},ready:function he(_e,Ne){var we=window.document,oe=new(Q())(se);de=Ne,oe.observe(we.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}}},function(Ge,B){"use strict";function Q(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(B,"__esModule",{value:!0});var d=function(){function we(te,oe){for(var Ae=0;Ae<oe.length;Ae++){var Ue=oe[Ae];Ue.enumerable=Ue.enumerable||!1,Ue.configurable=!0,"value"in Ue&&(Ue.writable=!0),Object.defineProperty(te,Ue.key,Ue)}}return function(te,oe,Ae){return oe&&we(te.prototype,oe),Ae&&we(te,Ae),te}}(),he=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,se=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,de=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,_e=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,Ne=function(){function we(){!function m(we,te){if(!(we instanceof te))throw new TypeError("Cannot call a class as a function")}(this,we)}return d(we,[{key:"phone",value:function(){var te=Q();return!(!he.test(te)&&!se.test(te.substr(0,4)))}},{key:"mobile",value:function(){var te=Q();return!(!de.test(te)&&!_e.test(te.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),we}();B.default=new Ne},function(Ge,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0});B.default=function(d,he){var se=window.pageYOffset,de=window.innerHeight;d.forEach(function(_e,Ne){!function(d,he,se){var de=d.node.getAttribute("data-aos-once");he>d.position?d.node.classList.add("aos-animate"):typeof de<"u"&&("false"===de||!se&&"true"!==de)&&d.node.classList.remove("aos-animate")}(_e,de+se,he)})}},function(Ge,B,m){"use strict";Object.defineProperty(B,"__esModule",{value:!0});var he=function Q(de){return de&&de.__esModule?de:{default:de}}(m(12));B.default=function(de,_e){return de.forEach(function(Ne,we){Ne.node.classList.add("aos-init"),Ne.position=(0,he.default)(Ne.node,_e.offset)}),de}},function(Ge,B,m){"use strict";Object.defineProperty(B,"__esModule",{value:!0});var he=function Q(de){return de&&de.__esModule?de:{default:de}}(m(13));B.default=function(de,_e){var Ne=0,we=0,te=window.innerHeight,oe={offset:de.getAttribute("data-aos-offset"),anchor:de.getAttribute("data-aos-anchor"),anchorPlacement:de.getAttribute("data-aos-anchor-placement")};switch(oe.offset&&!isNaN(oe.offset)&&(we=parseInt(oe.offset)),oe.anchor&&document.querySelectorAll(oe.anchor)&&(de=document.querySelectorAll(oe.anchor)[0]),Ne=(0,he.default)(de).top,oe.anchorPlacement){case"top-bottom":break;case"center-bottom":Ne+=de.offsetHeight/2;break;case"bottom-bottom":Ne+=de.offsetHeight;break;case"top-center":Ne+=te/2;break;case"bottom-center":Ne+=te/2+de.offsetHeight;break;case"center-center":Ne+=te/2+de.offsetHeight/2;break;case"top-top":Ne+=te;break;case"bottom-top":Ne+=de.offsetHeight+te;break;case"center-top":Ne+=de.offsetHeight/2+te}return oe.anchorPlacement||oe.offset||isNaN(_e)||(we=_e),Ne+we}},function(Ge,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=function(Q){for(var d=0,he=0;Q&&!isNaN(Q.offsetLeft)&&!isNaN(Q.offsetTop);)d+=Q.offsetLeft-("BODY"!=Q.tagName?Q.scrollLeft:0),he+=Q.offsetTop-("BODY"!=Q.tagName?Q.scrollTop:0),Q=Q.offsetParent;return{top:he,left:d}}},function(Ge,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=function(Q){return Q=Q||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(Q,function(d){return{node:d}})}}])},5619:($t,Ge,B)=>{"use strict";B.d(Ge,{X:()=>Q});var m=B(8645);class Q extends m.x{constructor(he){super(),this._value=he}get value(){return this.getValue()}_subscribe(he){const se=super._subscribe(he);return!se.closed&&he.next(this._value),se}getValue(){const{hasError:he,thrownError:se,_value:de}=this;if(he)throw se;return this._throwIfClosed(),de}next(he){super.next(this._value=he)}}},5592:($t,Ge,B)=>{"use strict";B.d(Ge,{y:()=>Ne});var m=B(305),Q=B(7394),d=B(4850),he=B(8407),se=B(2653),de=B(4674),_e=B(1441);let Ne=(()=>{class Ae{constructor(Oe){Oe&&(this._subscribe=Oe)}lift(Oe){const Xe=new Ae;return Xe.source=this,Xe.operator=Oe,Xe}subscribe(Oe,Xe,Dt){const Rt=function oe(Ae){return Ae&&Ae instanceof m.Lv||function te(Ae){return Ae&&(0,de.m)(Ae.next)&&(0,de.m)(Ae.error)&&(0,de.m)(Ae.complete)}(Ae)&&(0,Q.Nn)(Ae)}(Oe)?Oe:new m.Hp(Oe,Xe,Dt);return(0,_e.x)(()=>{const{operator:xt,source:en}=this;Rt.add(xt?xt.call(Rt,en):en?this._subscribe(Rt):this._trySubscribe(Rt))}),Rt}_trySubscribe(Oe){try{return this._subscribe(Oe)}catch(Xe){Oe.error(Xe)}}forEach(Oe,Xe){return new(Xe=we(Xe))((Dt,Rt)=>{const xt=new m.Hp({next:en=>{try{Oe(en)}catch(ft){Rt(ft),xt.unsubscribe()}},error:Rt,complete:Dt});this.subscribe(xt)})}_subscribe(Oe){var Xe;return null===(Xe=this.source)||void 0===Xe?void 0:Xe.subscribe(Oe)}[d.L](){return this}pipe(...Oe){return(0,he.U)(Oe)(this)}toPromise(Oe){return new(Oe=we(Oe))((Xe,Dt)=>{let Rt;this.subscribe(xt=>Rt=xt,xt=>Dt(xt),()=>Xe(Rt))})}}return Ae.create=Ue=>new Ae(Ue),Ae})();function we(Ae){var Ue;return null!==(Ue=Ae??se.config.Promise)&&void 0!==Ue?Ue:Promise}},8645:($t,Ge,B)=>{"use strict";B.d(Ge,{x:()=>_e});var m=B(5592),Q=B(7394);const he=(0,B(2306).d)(we=>function(){we(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=B(9039),de=B(1441);let _e=(()=>{class we extends m.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(oe){const Ae=new Ne(this,this);return Ae.operator=oe,Ae}_throwIfClosed(){if(this.closed)throw new he}next(oe){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ae of this.currentObservers)Ae.next(oe)}})}error(oe){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=oe;const{observers:Ae}=this;for(;Ae.length;)Ae.shift().error(oe)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:oe}=this;for(;oe.length;)oe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var oe;return(null===(oe=this.observers)||void 0===oe?void 0:oe.length)>0}_trySubscribe(oe){return this._throwIfClosed(),super._trySubscribe(oe)}_subscribe(oe){return this._throwIfClosed(),this._checkFinalizedStatuses(oe),this._innerSubscribe(oe)}_innerSubscribe(oe){const{hasError:Ae,isStopped:Ue,observers:Oe}=this;return Ae||Ue?Q.Lc:(this.currentObservers=null,Oe.push(oe),new Q.w0(()=>{this.currentObservers=null,(0,se.P)(Oe,oe)}))}_checkFinalizedStatuses(oe){const{hasError:Ae,thrownError:Ue,isStopped:Oe}=this;Ae?oe.error(Ue):Oe&&oe.complete()}asObservable(){const oe=new m.y;return oe.source=this,oe}}return we.create=(te,oe)=>new Ne(te,oe),we})();class Ne extends _e{constructor(te,oe){super(),this.destination=te,this.source=oe}next(te){var oe,Ae;null===(Ae=null===(oe=this.destination)||void 0===oe?void 0:oe.next)||void 0===Ae||Ae.call(oe,te)}error(te){var oe,Ae;null===(Ae=null===(oe=this.destination)||void 0===oe?void 0:oe.error)||void 0===Ae||Ae.call(oe,te)}complete(){var te,oe;null===(oe=null===(te=this.destination)||void 0===te?void 0:te.complete)||void 0===oe||oe.call(te)}_subscribe(te){var oe,Ae;return null!==(Ae=null===(oe=this.source)||void 0===oe?void 0:oe.subscribe(te))&&void 0!==Ae?Ae:Q.Lc}}},305:($t,Ge,B)=>{"use strict";B.d(Ge,{Hp:()=>Dt,Lv:()=>Ae});var m=B(4674),Q=B(7394),d=B(2653),he=B(3894),se=B(2420);const de=we("C",void 0,void 0);function we(Te,qe,ht){return{kind:Te,value:qe,error:ht}}var te=B(7599),oe=B(1441);class Ae extends Q.w0{constructor(qe){super(),this.isStopped=!1,qe?(this.destination=qe,(0,Q.Nn)(qe)&&qe.add(this)):this.destination=ft}static create(qe,ht,Ke){return new Dt(qe,ht,Ke)}next(qe){this.isStopped?en(function Ne(Te){return we("N",Te,void 0)}(qe),this):this._next(qe)}error(qe){this.isStopped?en(function _e(Te){return we("E",void 0,Te)}(qe),this):(this.isStopped=!0,this._error(qe))}complete(){this.isStopped?en(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(qe){this.destination.next(qe)}_error(qe){try{this.destination.error(qe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function Oe(Te,qe){return Ue.call(Te,qe)}class Xe{constructor(qe){this.partialObserver=qe}next(qe){const{partialObserver:ht}=this;if(ht.next)try{ht.next(qe)}catch(Ke){Rt(Ke)}}error(qe){const{partialObserver:ht}=this;if(ht.error)try{ht.error(qe)}catch(Ke){Rt(Ke)}else Rt(qe)}complete(){const{partialObserver:qe}=this;if(qe.complete)try{qe.complete()}catch(ht){Rt(ht)}}}class Dt extends Ae{constructor(qe,ht,Ke){let Se;if(super(),(0,m.m)(qe)||!qe)Se={next:qe??void 0,error:ht??void 0,complete:Ke??void 0};else{let ge;this&&d.config.useDeprecatedNextContext?(ge=Object.create(qe),ge.unsubscribe=()=>this.unsubscribe(),Se={next:qe.next&&Oe(qe.next,ge),error:qe.error&&Oe(qe.error,ge),complete:qe.complete&&Oe(qe.complete,ge)}):Se=qe}this.destination=new Xe(Se)}}function Rt(Te){d.config.useDeprecatedSynchronousErrorHandling?(0,oe.O)(Te):(0,he.h)(Te)}function en(Te,qe){const{onStoppedNotification:ht}=d.config;ht&&te.z.setTimeout(()=>ht(Te,qe))}const ft={closed:!0,next:se.Z,error:function xt(Te){throw Te},complete:se.Z}},7394:($t,Ge,B)=>{"use strict";B.d(Ge,{Lc:()=>de,w0:()=>se,Nn:()=>_e});var m=B(4674);const d=(0,B(2306).d)(we=>function(oe){we(this),this.message=oe?`${oe.length} errors occurred during unsubscription:\n${oe.map((Ae,Ue)=>`${Ue+1}) ${Ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=oe});var he=B(9039);class se{constructor(te){this.initialTeardown=te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let te;if(!this.closed){this.closed=!0;const{_parentage:oe}=this;if(oe)if(this._parentage=null,Array.isArray(oe))for(const Oe of oe)Oe.remove(this);else oe.remove(this);const{initialTeardown:Ae}=this;if((0,m.m)(Ae))try{Ae()}catch(Oe){te=Oe instanceof d?Oe.errors:[Oe]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const Oe of Ue)try{Ne(Oe)}catch(Xe){te=te??[],Xe instanceof d?te=[...te,...Xe.errors]:te.push(Xe)}}if(te)throw new d(te)}}add(te){var oe;if(te&&te!==this)if(this.closed)Ne(te);else{if(te instanceof se){if(te.closed||te._hasParent(this))return;te._addParent(this)}(this._finalizers=null!==(oe=this._finalizers)&&void 0!==oe?oe:[]).push(te)}}_hasParent(te){const{_parentage:oe}=this;return oe===te||Array.isArray(oe)&&oe.includes(te)}_addParent(te){const{_parentage:oe}=this;this._parentage=Array.isArray(oe)?(oe.push(te),oe):oe?[oe,te]:te}_removeParent(te){const{_parentage:oe}=this;oe===te?this._parentage=null:Array.isArray(oe)&&(0,he.P)(oe,te)}remove(te){const{_finalizers:oe}=this;oe&&(0,he.P)(oe,te),te instanceof se&&te._removeParent(this)}}se.EMPTY=(()=>{const we=new se;return we.closed=!0,we})();const de=se.EMPTY;function _e(we){return we instanceof se||we&&"closed"in we&&(0,m.m)(we.remove)&&(0,m.m)(we.add)&&(0,m.m)(we.unsubscribe)}function Ne(we){(0,m.m)(we)?we():we.unsubscribe()}},2653:($t,Ge,B)=>{"use strict";B.d(Ge,{config:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:($t,Ge,B)=>{"use strict";B.d(Ge,{z:()=>se});var m=B(7537),d=B(9940),he=B(2459);function se(...de){return function Q(){return(0,m.J)(1)}()((0,he.D)(de,(0,d.yG)(de)))}},6232:($t,Ge,B)=>{"use strict";B.d(Ge,{E:()=>Q});const Q=new(B(5592).y)(se=>se.complete())},2459:($t,Ge,B)=>{"use strict";B.d(Ge,{D:()=>qe});var m=B(4829),Q=B(3093),d=B(5137),de=B(5592),Ne=B(4971),we=B(4674),te=B(7103);function Ae(ht,Ke){if(!ht)throw new Error("Iterable cannot be null");return new de.y(Se=>{(0,te.f)(Se,Ke,()=>{const ge=ht[Symbol.asyncIterator]();(0,te.f)(Se,Ke,()=>{ge.next().then(Ve=>{Ve.done?Se.complete():Se.next(Ve.value)})},0,!0)})})}var Ue=B(8382),Oe=B(4026),Xe=B(4266),Dt=B(3664),Rt=B(5726),xt=B(9853),en=B(541);function qe(ht,Ke){return Ke?function Te(ht,Ke){if(null!=ht){if((0,Ue.c)(ht))return function he(ht,Ke){return(0,m.Xf)(ht).pipe((0,d.R)(Ke),(0,Q.Q)(Ke))}(ht,Ke);if((0,Xe.z)(ht))return function _e(ht,Ke){return new de.y(Se=>{let ge=0;return Ke.schedule(function(){ge===ht.length?Se.complete():(Se.next(ht[ge++]),Se.closed||this.schedule())})})}(ht,Ke);if((0,Oe.t)(ht))return function se(ht,Ke){return(0,m.Xf)(ht).pipe((0,d.R)(Ke),(0,Q.Q)(Ke))}(ht,Ke);if((0,Rt.D)(ht))return Ae(ht,Ke);if((0,Dt.T)(ht))return function oe(ht,Ke){return new de.y(Se=>{let ge;return(0,te.f)(Se,Ke,()=>{ge=ht[Ne.h](),(0,te.f)(Se,Ke,()=>{let Ve,pt;try{({value:Ve,done:pt}=ge.next())}catch(gn){return void Se.error(gn)}pt?Se.complete():Se.next(Ve)},0,!0)}),()=>(0,we.m)(ge?.return)&&ge.return()})}(ht,Ke);if((0,en.L)(ht))return function ft(ht,Ke){return Ae((0,en.Q)(ht),Ke)}(ht,Ke)}throw(0,xt.z)(ht)}(ht,Ke):(0,m.Xf)(ht)}},4829:($t,Ge,B)=>{"use strict";B.d(Ge,{Xf:()=>Ue});var m=B(7582),Q=B(4266),d=B(4026),he=B(5592),se=B(8382),de=B(5726),_e=B(9853),Ne=B(3664),we=B(541),te=B(4674),oe=B(3894),Ae=B(4850);function Ue(Te){if(Te instanceof he.y)return Te;if(null!=Te){if((0,se.c)(Te))return function Oe(Te){return new he.y(qe=>{const ht=Te[Ae.L]();if((0,te.m)(ht.subscribe))return ht.subscribe(qe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,Q.z)(Te))return function Xe(Te){return new he.y(qe=>{for(let ht=0;ht<Te.length&&!qe.closed;ht++)qe.next(Te[ht]);qe.complete()})}(Te);if((0,d.t)(Te))return function Dt(Te){return new he.y(qe=>{Te.then(ht=>{qe.closed||(qe.next(ht),qe.complete())},ht=>qe.error(ht)).then(null,oe.h)})}(Te);if((0,de.D)(Te))return xt(Te);if((0,Ne.T)(Te))return function Rt(Te){return new he.y(qe=>{for(const ht of Te)if(qe.next(ht),qe.closed)return;qe.complete()})}(Te);if((0,we.L)(Te))return function en(Te){return xt((0,we.Q)(Te))}(Te)}throw(0,_e.z)(Te)}function xt(Te){return new he.y(qe=>{(function ft(Te,qe){var ht,Ke,Se,ge;return(0,m.mG)(this,void 0,void 0,function*(){try{for(ht=(0,m.KL)(Te);!(Ke=yield ht.next()).done;)if(qe.next(Ke.value),qe.closed)return}catch(Ve){Se={error:Ve}}finally{try{Ke&&!Ke.done&&(ge=ht.return)&&(yield ge.call(ht))}finally{if(Se)throw Se.error}}qe.complete()})})(Te,qe).catch(ht=>qe.error(ht))})}},3019:($t,Ge,B)=>{"use strict";B.d(Ge,{T:()=>de});var m=B(7537),Q=B(4829),d=B(6232),he=B(9940),se=B(2459);function de(..._e){const Ne=(0,he.yG)(_e),we=(0,he._6)(_e,1/0),te=_e;return te.length?1===te.length?(0,Q.Xf)(te[0]):(0,m.J)(we)((0,se.D)(te,Ne)):d.E}},2096:($t,Ge,B)=>{"use strict";B.d(Ge,{of:()=>d});var m=B(9940),Q=B(2459);function d(...he){const se=(0,m.yG)(he);return(0,Q.D)(he,se)}},8251:($t,Ge,B)=>{"use strict";B.d(Ge,{x:()=>Q});var m=B(305);function Q(he,se,de,_e,Ne){return new d(he,se,de,_e,Ne)}class d extends m.Lv{constructor(se,de,_e,Ne,we,te){super(se),this.onFinalize=we,this.shouldUnsubscribe=te,this._next=de?function(oe){try{de(oe)}catch(Ae){se.error(Ae)}}:super._next,this._error=Ne?function(oe){try{Ne(oe)}catch(Ae){se.error(Ae)}finally{this.unsubscribe()}}:super._error,this._complete=_e?function(){try{_e()}catch(oe){se.error(oe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},3572:($t,Ge,B)=>{"use strict";B.d(Ge,{d:()=>d});var m=B(9360),Q=B(8251);function d(he){return(0,m.e)((se,de)=>{let _e=!1;se.subscribe((0,Q.x)(de,Ne=>{_e=!0,de.next(Ne)},()=>{_e||de.next(he),de.complete()}))})}},3997:($t,Ge,B)=>{"use strict";B.d(Ge,{x:()=>he});var m=B(2737),Q=B(9360),d=B(8251);function he(de,_e=m.y){return de=de??se,(0,Q.e)((Ne,we)=>{let te,oe=!0;Ne.subscribe((0,d.x)(we,Ae=>{const Ue=_e(Ae);(oe||!de(te,Ue))&&(oe=!1,te=Ue,we.next(Ae))}))})}function se(de,_e){return de===_e}},2181:($t,Ge,B)=>{"use strict";B.d(Ge,{h:()=>d});var m=B(9360),Q=B(8251);function d(he,se){return(0,m.e)((de,_e)=>{let Ne=0;de.subscribe((0,Q.x)(_e,we=>he.call(se,we,Ne++)&&_e.next(we)))})}},1374:($t,Ge,B)=>{"use strict";B.d(Ge,{P:()=>_e});var m=B(6973),Q=B(2181),d=B(8180),he=B(3572),se=B(3026),de=B(2737);function _e(Ne,we){const te=arguments.length>=2;return oe=>oe.pipe(Ne?(0,Q.h)((Ae,Ue)=>Ne(Ae,Ue,oe)):de.y,(0,d.q)(1),te?(0,he.d)(we):(0,se.T)(()=>new m.K))}},7398:($t,Ge,B)=>{"use strict";B.d(Ge,{U:()=>d});var m=B(9360),Q=B(8251);function d(he,se){return(0,m.e)((de,_e)=>{let Ne=0;de.subscribe((0,Q.x)(_e,we=>{_e.next(he.call(se,we,Ne++))}))})}},975:($t,Ge,B)=>{"use strict";B.d(Ge,{h:()=>Q});var m=B(7398);function Q(d){return(0,m.U)(()=>d)}},7537:($t,Ge,B)=>{"use strict";B.d(Ge,{J:()=>d});var m=B(1631),Q=B(2737);function d(he=1/0){return(0,m.z)(Q.y,he)}},1631:($t,Ge,B)=>{"use strict";B.d(Ge,{z:()=>Ne});var m=B(7398),Q=B(4829),d=B(9360),he=B(7103),se=B(8251),_e=B(4674);function Ne(we,te,oe=1/0){return(0,_e.m)(te)?Ne((Ae,Ue)=>(0,m.U)((Oe,Xe)=>te(Ae,Oe,Ue,Xe))((0,Q.Xf)(we(Ae,Ue))),oe):("number"==typeof te&&(oe=te),(0,d.e)((Ae,Ue)=>function de(we,te,oe,Ae,Ue,Oe,Xe,Dt){const Rt=[];let xt=0,en=0,ft=!1;const Te=()=>{ft&&!Rt.length&&!xt&&te.complete()},qe=Ke=>xt<Ae?ht(Ke):Rt.push(Ke),ht=Ke=>{Oe&&te.next(Ke),xt++;let Se=!1;(0,Q.Xf)(oe(Ke,en++)).subscribe((0,se.x)(te,ge=>{Ue?.(ge),Oe?qe(ge):te.next(ge)},()=>{Se=!0},void 0,()=>{if(Se)try{for(xt--;Rt.length&&xt<Ae;){const ge=Rt.shift();Xe?(0,he.f)(te,Xe,()=>ht(ge)):ht(ge)}Te()}catch(ge){te.error(ge)}}))};return we.subscribe((0,se.x)(te,qe,()=>{ft=!0,Te()})),()=>{Dt?.()}}(Ae,Ue,we,oe)))}},3093:($t,Ge,B)=>{"use strict";B.d(Ge,{Q:()=>he});var m=B(7103),Q=B(9360),d=B(8251);function he(se,de=0){return(0,Q.e)((_e,Ne)=>{_e.subscribe((0,d.x)(Ne,we=>(0,m.f)(Ne,se,()=>Ne.next(we),de),()=>(0,m.f)(Ne,se,()=>Ne.complete(),de),we=>(0,m.f)(Ne,se,()=>Ne.error(we),de)))})}},6424:($t,Ge,B)=>{"use strict";B.d(Ge,{R:()=>d});var m=B(9360),Q=B(9732);function d(he,se){return(0,m.e)((0,Q.U)(he,se,arguments.length>=2,!0))}},9732:($t,Ge,B)=>{"use strict";B.d(Ge,{U:()=>Q});var m=B(8251);function Q(d,he,se,de,_e){return(Ne,we)=>{let te=se,oe=he,Ae=0;Ne.subscribe((0,m.x)(we,Ue=>{const Oe=Ae++;oe=te?d(oe,Ue,Oe):(te=!0,Ue),de&&we.next(oe)},_e&&(()=>{te&&we.next(oe),we.complete()})))}}},5137:($t,Ge,B)=>{"use strict";B.d(Ge,{R:()=>Q});var m=B(9360);function Q(d,he=0){return(0,m.e)((se,de)=>{de.add(d.schedule(()=>se.subscribe(de),he))})}},4664:($t,Ge,B)=>{"use strict";B.d(Ge,{w:()=>he});var m=B(4829),Q=B(9360),d=B(8251);function he(se,de){return(0,Q.e)((_e,Ne)=>{let we=null,te=0,oe=!1;const Ae=()=>oe&&!we&&Ne.complete();_e.subscribe((0,d.x)(Ne,Ue=>{we?.unsubscribe();let Oe=0;const Xe=te++;(0,m.Xf)(se(Ue,Xe)).subscribe(we=(0,d.x)(Ne,Dt=>Ne.next(de?de(Ue,Dt,Xe,Oe++):Dt),()=>{we=null,Ae()}))},()=>{oe=!0,Ae()}))})}},8180:($t,Ge,B)=>{"use strict";B.d(Ge,{q:()=>he});var m=B(6232),Q=B(9360),d=B(8251);function he(se){return se<=0?()=>m.E:(0,Q.e)((de,_e)=>{let Ne=0;de.subscribe((0,d.x)(_e,we=>{++Ne<=se&&(_e.next(we),se<=Ne&&_e.complete())}))})}},9397:($t,Ge,B)=>{"use strict";B.d(Ge,{b:()=>se});var m=B(4674),Q=B(9360),d=B(8251),he=B(2737);function se(de,_e,Ne){const we=(0,m.m)(de)||_e||Ne?{next:de,error:_e,complete:Ne}:de;return we?(0,Q.e)((te,oe)=>{var Ae;null===(Ae=we.subscribe)||void 0===Ae||Ae.call(we);let Ue=!0;te.subscribe((0,d.x)(oe,Oe=>{var Xe;null===(Xe=we.next)||void 0===Xe||Xe.call(we,Oe),oe.next(Oe)},()=>{var Oe;Ue=!1,null===(Oe=we.complete)||void 0===Oe||Oe.call(we),oe.complete()},Oe=>{var Xe;Ue=!1,null===(Xe=we.error)||void 0===Xe||Xe.call(we,Oe),oe.error(Oe)},()=>{var Oe,Xe;Ue&&(null===(Oe=we.unsubscribe)||void 0===Oe||Oe.call(we)),null===(Xe=we.finalize)||void 0===Xe||Xe.call(we)}))}):he.y}},3026:($t,Ge,B)=>{"use strict";B.d(Ge,{T:()=>he});var m=B(6973),Q=B(9360),d=B(8251);function he(de=se){return(0,Q.e)((_e,Ne)=>{let we=!1;_e.subscribe((0,d.x)(Ne,te=>{we=!0,Ne.next(te)},()=>we?Ne.complete():Ne.error(de())))})}function se(){return new m.K}},1954:($t,Ge,B)=>{"use strict";B.d(Ge,{o:()=>se});var m=B(7394);class Q extends m.w0{constructor(_e,Ne){super()}schedule(_e,Ne=0){return this}}const d={setInterval(de,_e,...Ne){const{delegate:we}=d;return we?.setInterval?we.setInterval(de,_e,...Ne):setInterval(de,_e,...Ne)},clearInterval(de){const{delegate:_e}=d;return(_e?.clearInterval||clearInterval)(de)},delegate:void 0};var he=B(9039);class se extends Q{constructor(_e,Ne){super(_e,Ne),this.scheduler=_e,this.work=Ne,this.pending=!1}schedule(_e,Ne=0){var we;if(this.closed)return this;this.state=_e;const te=this.id,oe=this.scheduler;return null!=te&&(this.id=this.recycleAsyncId(oe,te,Ne)),this.pending=!0,this.delay=Ne,this.id=null!==(we=this.id)&&void 0!==we?we:this.requestAsyncId(oe,this.id,Ne),this}requestAsyncId(_e,Ne,we=0){return d.setInterval(_e.flush.bind(_e,this),we)}recycleAsyncId(_e,Ne,we=0){if(null!=we&&this.delay===we&&!1===this.pending)return Ne;null!=Ne&&d.clearInterval(Ne)}execute(_e,Ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const we=this._execute(_e,Ne);if(we)return we;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_e,Ne){let te,we=!1;try{this.work(_e)}catch(oe){we=!0,te=oe||new Error("Scheduled action threw falsy error")}if(we)return this.unsubscribe(),te}unsubscribe(){if(!this.closed){const{id:_e,scheduler:Ne}=this,{actions:we}=Ne;this.work=this.state=this.scheduler=null,this.pending=!1,(0,he.P)(we,this),null!=_e&&(this.id=this.recycleAsyncId(Ne,_e,null)),this.delay=null,super.unsubscribe()}}}},9931:($t,Ge,B)=>{"use strict";B.d(Ge,{v:()=>d});const m={now:()=>(m.delegate||Date).now(),delegate:void 0};class Q{constructor(se,de=Q.now){this.schedulerActionCtor=se,this.now=de}schedule(se,de=0,_e){return new this.schedulerActionCtor(this,se).schedule(_e,de)}}Q.now=m.now;class d extends Q{constructor(se,de=Q.now){super(se,de),this.actions=[],this._active=!1}flush(se){const{actions:de}=this;if(this._active)return void de.push(se);let _e;this._active=!0;do{if(_e=se.execute(se.state,se.delay))break}while(se=de.shift());if(this._active=!1,_e){for(;se=de.shift();)se.unsubscribe();throw _e}}}},6321:($t,Ge,B)=>{"use strict";B.d(Ge,{P:()=>he,z:()=>d});var m=B(1954);const d=new(B(9931).v)(m.o),he=d},2381:($t,Ge,B)=>{"use strict";B.d(Ge,{N:()=>se});var m=B(1954),d=B(9931);const se=new class he extends d.v{}(class Q extends m.o{constructor(Ne,we){super(Ne,we),this.scheduler=Ne,this.work=we}schedule(Ne,we=0){return we>0?super.schedule(Ne,we):(this.delay=we,this.state=Ne,this.scheduler.flush(this),this)}execute(Ne,we){return we>0||this.closed?super.execute(Ne,we):this._execute(Ne,we)}requestAsyncId(Ne,we,te=0){return null!=te&&te>0||null==te&&this.delay>0?super.requestAsyncId(Ne,we,te):(Ne.flush(this),0)}})},7599:($t,Ge,B)=>{"use strict";B.d(Ge,{z:()=>m});const m={setTimeout(Q,d,...he){const{delegate:se}=m;return se?.setTimeout?se.setTimeout(Q,d,...he):setTimeout(Q,d,...he)},clearTimeout(Q){const{delegate:d}=m;return(d?.clearTimeout||clearTimeout)(Q)},delegate:void 0}},4971:($t,Ge,B)=>{"use strict";B.d(Ge,{h:()=>Q});const Q=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:($t,Ge,B)=>{"use strict";B.d(Ge,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:($t,Ge,B)=>{"use strict";B.d(Ge,{K:()=>Q});const Q=(0,B(2306).d)(d=>function(){d(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:($t,Ge,B)=>{"use strict";B.d(Ge,{_6:()=>de,jO:()=>he,yG:()=>se});var m=B(4674),Q=B(671);function d(_e){return _e[_e.length-1]}function he(_e){return(0,m.m)(d(_e))?_e.pop():void 0}function se(_e){return(0,Q.K)(d(_e))?_e.pop():void 0}function de(_e,Ne){return"number"==typeof d(_e)?_e.pop():Ne}},7453:($t,Ge,B)=>{"use strict";B.d(Ge,{D:()=>se});const{isArray:m}=Array,{getPrototypeOf:Q,prototype:d,keys:he}=Object;function se(_e){if(1===_e.length){const Ne=_e[0];if(m(Ne))return{args:Ne,keys:null};if(function de(_e){return _e&&"object"==typeof _e&&Q(_e)===d}(Ne)){const we=he(Ne);return{args:we.map(te=>Ne[te]),keys:we}}}return{args:_e,keys:null}}},9039:($t,Ge,B)=>{"use strict";function m(Q,d){if(Q){const he=Q.indexOf(d);0<=he&&Q.splice(he,1)}}B.d(Ge,{P:()=>m})},2306:($t,Ge,B)=>{"use strict";function m(Q){const he=Q(se=>{Error.call(se),se.stack=(new Error).stack});return he.prototype=Object.create(Error.prototype),he.prototype.constructor=he,he}B.d(Ge,{d:()=>m})},2714:($t,Ge,B)=>{"use strict";function m(Q,d){return Q.reduce((he,se,de)=>(he[se]=d[de],he),{})}B.d(Ge,{n:()=>m})},1441:($t,Ge,B)=>{"use strict";B.d(Ge,{O:()=>he,x:()=>d});var m=B(2653);let Q=null;function d(se){if(m.config.useDeprecatedSynchronousErrorHandling){const de=!Q;if(de&&(Q={errorThrown:!1,error:null}),se(),de){const{errorThrown:_e,error:Ne}=Q;if(Q=null,_e)throw Ne}}else se()}function he(se){m.config.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=se)}},7103:($t,Ge,B)=>{"use strict";function m(Q,d,he,se=0,de=!1){const _e=d.schedule(function(){he(),de?Q.add(this.schedule(null,se)):this.unsubscribe()},se);if(Q.add(_e),!de)return _e}B.d(Ge,{f:()=>m})},2737:($t,Ge,B)=>{"use strict";function m(Q){return Q}B.d(Ge,{y:()=>m})},4266:($t,Ge,B)=>{"use strict";B.d(Ge,{z:()=>m});const m=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},5726:($t,Ge,B)=>{"use strict";B.d(Ge,{D:()=>Q});var m=B(4674);function Q(d){return Symbol.asyncIterator&&(0,m.m)(d?.[Symbol.asyncIterator])}},4674:($t,Ge,B)=>{"use strict";function m(Q){return"function"==typeof Q}B.d(Ge,{m:()=>m})},8382:($t,Ge,B)=>{"use strict";B.d(Ge,{c:()=>d});var m=B(4850),Q=B(4674);function d(he){return(0,Q.m)(he[m.L])}},3664:($t,Ge,B)=>{"use strict";B.d(Ge,{T:()=>d});var m=B(4971),Q=B(4674);function d(he){return(0,Q.m)(he?.[m.h])}},4026:($t,Ge,B)=>{"use strict";B.d(Ge,{t:()=>Q});var m=B(4674);function Q(d){return(0,m.m)(d?.then)}},541:($t,Ge,B)=>{"use strict";B.d(Ge,{L:()=>he,Q:()=>d});var m=B(7582),Q=B(4674);function d(se){return(0,m.FC)(this,arguments,function*(){const _e=se.getReader();try{for(;;){const{value:Ne,done:we}=yield(0,m.qq)(_e.read());if(we)return yield(0,m.qq)(void 0);yield yield(0,m.qq)(Ne)}}finally{_e.releaseLock()}})}function he(se){return(0,Q.m)(se?.getReader)}},671:($t,Ge,B)=>{"use strict";B.d(Ge,{K:()=>Q});var m=B(4674);function Q(d){return d&&(0,m.m)(d.schedule)}},9360:($t,Ge,B)=>{"use strict";B.d(Ge,{A:()=>Q,e:()=>d});var m=B(4674);function Q(he){return(0,m.m)(he?.lift)}function d(he){return se=>{if(Q(se))return se.lift(function(de){try{return he(de,this)}catch(_e){this.error(_e)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:($t,Ge,B)=>{"use strict";B.d(Ge,{Z:()=>he});var m=B(7398);const{isArray:Q}=Array;function he(se){return(0,m.U)(de=>function d(se,de){return Q(de)?se(...de):se(de)}(se,de))}},2420:($t,Ge,B)=>{"use strict";function m(){}B.d(Ge,{Z:()=>m})},8407:($t,Ge,B)=>{"use strict";B.d(Ge,{U:()=>d,z:()=>Q});var m=B(2737);function Q(...he){return d(he)}function d(he){return 0===he.length?m.y:1===he.length?he[0]:function(de){return he.reduce((_e,Ne)=>Ne(_e),de)}}},3894:($t,Ge,B)=>{"use strict";B.d(Ge,{h:()=>d});var m=B(2653),Q=B(7599);function d(he){Q.z.setTimeout(()=>{const{onUnhandledError:se}=m.config;if(!se)throw he;se(he)})}},9853:($t,Ge,B)=>{"use strict";function m(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}B.d(Ge,{z:()=>m})},6825:($t,Ge,B)=>{"use strict";B.d(Ge,{LC:()=>Q,SB:()=>we,X$:()=>he,ZE:()=>xt,ZN:()=>Rt,_j:()=>m,eR:()=>oe,jt:()=>se,k1:()=>en,l3:()=>d,oB:()=>Ne,vP:()=>_e});class m{}class Q{}const d="*";function he(ft,Te){return{type:7,name:ft,definitions:Te,options:{}}}function se(ft,Te=null){return{type:4,styles:Te,timings:ft}}function _e(ft,Te=null){return{type:2,steps:ft,options:Te}}function Ne(ft){return{type:6,styles:ft,offset:null}}function we(ft,Te,qe){return{type:0,name:ft,styles:Te,options:qe}}function oe(ft,Te,qe=null){return{type:1,expr:ft,animation:Te,options:qe}}class Rt{constructor(Te=0,qe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Te+qe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Te=>Te()),this._onDoneFns=[])}onStart(Te){this._originalOnStartFns.push(Te),this._onStartFns.push(Te)}onDone(Te){this._originalOnDoneFns.push(Te),this._onDoneFns.push(Te)}onDestroy(Te){this._onDestroyFns.push(Te)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Te=>Te()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Te=>Te()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Te){this._position=this.totalTime?Te*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Te){const qe="start"==Te?this._onStartFns:this._onDoneFns;qe.forEach(ht=>ht()),qe.length=0}}class xt{constructor(Te){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Te;let qe=0,ht=0,Ke=0;const Se=this.players.length;0==Se?queueMicrotask(()=>this._onFinish()):this.players.forEach(ge=>{ge.onDone(()=>{++qe==Se&&this._onFinish()}),ge.onDestroy(()=>{++ht==Se&&this._onDestroy()}),ge.onStart(()=>{++Ke==Se&&this._onStart()})}),this.totalTime=this.players.reduce((ge,Ve)=>Math.max(ge,Ve.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Te=>Te()),this._onDoneFns=[])}init(){this.players.forEach(Te=>Te.init())}onStart(Te){this._onStartFns.push(Te)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Te=>Te()),this._onStartFns=[])}onDone(Te){this._onDoneFns.push(Te)}onDestroy(Te){this._onDestroyFns.push(Te)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Te=>Te.play())}pause(){this.players.forEach(Te=>Te.pause())}restart(){this.players.forEach(Te=>Te.restart())}finish(){this._onFinish(),this.players.forEach(Te=>Te.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Te=>Te.destroy()),this._onDestroyFns.forEach(Te=>Te()),this._onDestroyFns=[])}reset(){this.players.forEach(Te=>Te.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Te){const qe=Te*this.totalTime;this.players.forEach(ht=>{const Ke=ht.totalTime?Math.min(1,qe/ht.totalTime):1;ht.setPosition(Ke)})}getPosition(){const Te=this.players.reduce((qe,ht)=>null===qe||ht.totalTime>qe.totalTime?ht:qe,null);return null!=Te?Te.getPosition():0}beforeDestroy(){this.players.forEach(Te=>{Te.beforeDestroy&&Te.beforeDestroy()})}triggerCallback(Te){const qe="start"==Te?this._onStartFns:this._onDoneFns;qe.forEach(ht=>ht()),qe.length=0}}const en="!"},6814:($t,Ge,B)=>{"use strict";B.d(Ge,{Do:()=>Dt,EM:()=>ai,HT:()=>he,JF:()=>Vs,K0:()=>de,Mx:()=>Fn,NF:()=>ur,O5:()=>ks,PC:()=>Wi,PM:()=>oi,S$:()=>Ue,V_:()=>Ne,Ye:()=>Rt,b0:()=>Xe,bD:()=>pi,ez:()=>Lr,mk:()=>ws,q:()=>d,sg:()=>Ks,tP:()=>po,uU:()=>aa,w_:()=>se});var m=B(9468);let Q=null;function d(){return Q}function he(M){Q||(Q=M)}class se{}const de=new m.OlP("DocumentToken");let _e=(()=>{class M{historyGo(V){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||M)};static#t=this.\u0275prov=m.Yz7({token:M,factory:function(){return(0,m.f3M)(we)},providedIn:"platform"})}return M})();const Ne=new m.OlP("Location Initialized");let we=(()=>{class M extends _e{constructor(){super(),this._doc=(0,m.f3M)(de),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return d().getBaseHref(this._doc)}onPopState(V){const X=d().getGlobalEventTarget(this._doc,"window");return X.addEventListener("popstate",V,!1),()=>X.removeEventListener("popstate",V)}onHashChange(V){const X=d().getGlobalEventTarget(this._doc,"window");return X.addEventListener("hashchange",V,!1),()=>X.removeEventListener("hashchange",V)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(V){this._location.pathname=V}pushState(V,X,Ie){this._history.pushState(V,X,Ie)}replaceState(V,X,Ie){this._history.replaceState(V,X,Ie)}forward(){this._history.forward()}back(){this._history.back()}historyGo(V=0){this._history.go(V)}getState(){return this._history.state}static#e=this.\u0275fac=function(X){return new(X||M)};static#t=this.\u0275prov=m.Yz7({token:M,factory:function(){return new M},providedIn:"platform"})}return M})();function te(M,re){if(0==M.length)return re;if(0==re.length)return M;let V=0;return M.endsWith("/")&&V++,re.startsWith("/")&&V++,2==V?M+re.substring(1):1==V?M+re:M+"/"+re}function oe(M){const re=M.match(/#|\?|$/),V=re&&re.index||M.length;return M.slice(0,V-("/"===M[V-1]?1:0))+M.slice(V)}function Ae(M){return M&&"?"!==M[0]?"?"+M:M}let Ue=(()=>{class M{historyGo(V){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||M)};static#t=this.\u0275prov=m.Yz7({token:M,factory:function(){return(0,m.f3M)(Xe)},providedIn:"root"})}return M})();const Oe=new m.OlP("appBaseHref");let Xe=(()=>{class M extends Ue{constructor(V,X){super(),this._platformLocation=V,this._removeListenerFns=[],this._baseHref=X??this._platformLocation.getBaseHrefFromDOM()??(0,m.f3M)(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}prepareExternalUrl(V){return te(this._baseHref,V)}path(V=!1){const X=this._platformLocation.pathname+Ae(this._platformLocation.search),Ie=this._platformLocation.hash;return Ie&&V?`${X}${Ie}`:X}pushState(V,X,Ie,ct){const Ct=this.prepareExternalUrl(Ie+Ae(ct));this._platformLocation.pushState(V,X,Ct)}replaceState(V,X,Ie,ct){const Ct=this.prepareExternalUrl(Ie+Ae(ct));this._platformLocation.replaceState(V,X,Ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){this._platformLocation.historyGo?.(V)}static#e=this.\u0275fac=function(X){return new(X||M)(m.LFG(_e),m.LFG(Oe,8))};static#t=this.\u0275prov=m.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})(),Dt=(()=>{class M extends Ue{constructor(V,X){super(),this._platformLocation=V,this._baseHref="",this._removeListenerFns=[],null!=X&&(this._baseHref=X)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}path(V=!1){let X=this._platformLocation.hash;return null==X&&(X="#"),X.length>0?X.substring(1):X}prepareExternalUrl(V){const X=te(this._baseHref,V);return X.length>0?"#"+X:X}pushState(V,X,Ie,ct){let Ct=this.prepareExternalUrl(Ie+Ae(ct));0==Ct.length&&(Ct=this._platformLocation.pathname),this._platformLocation.pushState(V,X,Ct)}replaceState(V,X,Ie,ct){let Ct=this.prepareExternalUrl(Ie+Ae(ct));0==Ct.length&&(Ct=this._platformLocation.pathname),this._platformLocation.replaceState(V,X,Ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){this._platformLocation.historyGo?.(V)}static#e=this.\u0275fac=function(X){return new(X||M)(m.LFG(_e),m.LFG(Oe,8))};static#t=this.\u0275prov=m.Yz7({token:M,factory:M.\u0275fac})}return M})(),Rt=(()=>{class M{constructor(V){this._subject=new m.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=V;const X=this._locationStrategy.getBaseHref();this._basePath=function Te(M){if(new RegExp("^(https?:)?//").test(M)){const[,V]=M.split(/\/\/[^\/]+/);return V}return M}(oe(ft(X))),this._locationStrategy.onPopState(Ie=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ie.state,type:Ie.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(V=!1){return this.normalize(this._locationStrategy.path(V))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(V,X=""){return this.path()==this.normalize(V+Ae(X))}normalize(V){return M.stripTrailingSlash(function en(M,re){if(!M||!re.startsWith(M))return re;const V=re.substring(M.length);return""===V||["/",";","?","#"].includes(V[0])?V:re}(this._basePath,ft(V)))}prepareExternalUrl(V){return V&&"/"!==V[0]&&(V="/"+V),this._locationStrategy.prepareExternalUrl(V)}go(V,X="",Ie=null){this._locationStrategy.pushState(Ie,"",V,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+Ae(X)),Ie)}replaceState(V,X="",Ie=null){this._locationStrategy.replaceState(Ie,"",V,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+Ae(X)),Ie)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(V=0){this._locationStrategy.historyGo?.(V)}onUrlChange(V){return this._urlChangeListeners.push(V),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(X=>{this._notifyUrlChangeListeners(X.url,X.state)})),()=>{const X=this._urlChangeListeners.indexOf(V);this._urlChangeListeners.splice(X,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(V="",X){this._urlChangeListeners.forEach(Ie=>Ie(V,X))}subscribe(V,X,Ie){return this._subject.subscribe({next:V,error:X,complete:Ie})}static#e=this.normalizeQueryParams=Ae;static#t=this.joinWithSlash=te;static#n=this.stripTrailingSlash=oe;static#r=this.\u0275fac=function(X){return new(X||M)(m.LFG(Ue))};static#i=this.\u0275prov=m.Yz7({token:M,factory:function(){return function xt(){return new Rt((0,m.LFG)(Ue))}()},providedIn:"root"})}return M})();function ft(M){return M.replace(/\/index.html$/,"")}var Se=function(M){return M[M.Format=0]="Format",M[M.Standalone=1]="Standalone",M}(Se||{}),ge=function(M){return M[M.Narrow=0]="Narrow",M[M.Abbreviated=1]="Abbreviated",M[M.Wide=2]="Wide",M[M.Short=3]="Short",M}(ge||{}),Ve=function(M){return M[M.Short=0]="Short",M[M.Medium=1]="Medium",M[M.Long=2]="Long",M[M.Full=3]="Full",M}(Ve||{}),pt=function(M){return M[M.Decimal=0]="Decimal",M[M.Group=1]="Group",M[M.List=2]="List",M[M.PercentSign=3]="PercentSign",M[M.PlusSign=4]="PlusSign",M[M.MinusSign=5]="MinusSign",M[M.Exponential=6]="Exponential",M[M.SuperscriptingExponent=7]="SuperscriptingExponent",M[M.PerMille=8]="PerMille",M[M.Infinity=9]="Infinity",M[M.NaN=10]="NaN",M[M.TimeSeparator=11]="TimeSeparator",M[M.CurrencyDecimal=12]="CurrencyDecimal",M[M.CurrencyGroup=13]="CurrencyGroup",M}(pt||{});function ze(M,re){return Pe((0,m.cg1)(M)[m.wAp.DateFormat],re)}function Je(M,re){return Pe((0,m.cg1)(M)[m.wAp.TimeFormat],re)}function je(M,re){return Pe((0,m.cg1)(M)[m.wAp.DateTimeFormat],re)}function et(M,re){const V=(0,m.cg1)(M),X=V[m.wAp.NumberSymbols][re];if(typeof X>"u"){if(re===pt.CurrencyDecimal)return V[m.wAp.NumberSymbols][pt.Decimal];if(re===pt.CurrencyGroup)return V[m.wAp.NumberSymbols][pt.Group]}return X}function _t(M){if(!M[m.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${M[m.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Pe(M,re){for(let V=re;V>-1;V--)if(typeof M[V]<"u")return M[V];throw new Error("Locale data API: locale data undefined")}function De(M){const[re,V]=M.split(":");return{hours:+re,minutes:+V}}const kt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,pr={},mn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Dn=function(M){return M[M.Short=0]="Short",M[M.ShortGMT=1]="ShortGMT",M[M.Long=2]="Long",M[M.Extended=3]="Extended",M}(Dn||{}),tn=function(M){return M[M.FullYear=0]="FullYear",M[M.Month=1]="Month",M[M.Date=2]="Date",M[M.Hours=3]="Hours",M[M.Minutes=4]="Minutes",M[M.Seconds=5]="Seconds",M[M.FractionalSeconds=6]="FractionalSeconds",M[M.Day=7]="Day",M}(tn||{}),dn=function(M){return M[M.DayPeriods=0]="DayPeriods",M[M.Days=1]="Days",M[M.Months=2]="Months",M[M.Eras=3]="Eras",M}(dn||{});function mr(M,re,V,X){let Ie=function F(M){if(q(M))return M;if("number"==typeof M&&!isNaN(M))return new Date(M);if("string"==typeof M){if(M=M.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(M)){const[Ie,ct=1,Ct=1]=M.split("-").map(En=>+En);return rn(Ie,ct-1,Ct)}const V=parseFloat(M);if(!isNaN(M-V))return new Date(V);let X;if(X=M.match(kt))return function $(M){const re=new Date(0);let V=0,X=0;const Ie=M[8]?re.setUTCFullYear:re.setFullYear,ct=M[8]?re.setUTCHours:re.setHours;M[9]&&(V=Number(M[9]+M[10]),X=Number(M[9]+M[11])),Ie.call(re,Number(M[1]),Number(M[2])-1,Number(M[3]));const Ct=Number(M[4]||0)-V,En=Number(M[5]||0)-X,Sr=Number(M[6]||0),Ar=Math.floor(1e3*parseFloat("0."+(M[7]||0)));return ct.call(re,Ct,En,Sr,Ar),re}(X)}const re=new Date(M);if(!q(re))throw new Error(`Unable to convert "${M}" into a date`);return re}(M);re=lr(V,re)||re;let En,Ct=[];for(;re;){if(En=mn.exec(re),!En){Ct.push(re);break}{Ct=Ct.concat(En.slice(1));const Tr=Ct.pop();if(!Tr)break;re=Tr}}let Sr=Ie.getTimezoneOffset();X&&(Sr=Jt(X,Sr),Ie=function Y(M,re,V){const X=V?-1:1,Ie=M.getTimezoneOffset();return function Wn(M,re){return(M=new Date(M.getTime())).setMinutes(M.getMinutes()+re),M}(M,X*(Jt(re,Ie)-Ie))}(Ie,X,!0));let Ar="";return Ct.forEach(Tr=>{const Qn=function Zt(M){if(Ot[M])return Ot[M];let re;switch(M){case"G":case"GG":case"GGG":re=On(dn.Eras,ge.Abbreviated);break;case"GGGG":re=On(dn.Eras,ge.Wide);break;case"GGGGG":re=On(dn.Eras,ge.Narrow);break;case"y":re=qn(tn.FullYear,1,0,!1,!0);break;case"yy":re=qn(tn.FullYear,2,0,!0,!0);break;case"yyy":re=qn(tn.FullYear,3,0,!1,!0);break;case"yyyy":re=qn(tn.FullYear,4,0,!1,!0);break;case"Y":re=ot(1);break;case"YY":re=ot(2,!0);break;case"YYY":re=ot(3);break;case"YYYY":re=ot(4);break;case"M":case"L":re=qn(tn.Month,1,1);break;case"MM":case"LL":re=qn(tn.Month,2,1);break;case"MMM":re=On(dn.Months,ge.Abbreviated);break;case"MMMM":re=On(dn.Months,ge.Wide);break;case"MMMMM":re=On(dn.Months,ge.Narrow);break;case"LLL":re=On(dn.Months,ge.Abbreviated,Se.Standalone);break;case"LLLL":re=On(dn.Months,ge.Wide,Se.Standalone);break;case"LLLLL":re=On(dn.Months,ge.Narrow,Se.Standalone);break;case"w":re=xe(1);break;case"ww":re=xe(2);break;case"W":re=xe(1,!0);break;case"d":re=qn(tn.Date,1);break;case"dd":re=qn(tn.Date,2);break;case"c":case"cc":re=qn(tn.Day,1);break;case"ccc":re=On(dn.Days,ge.Abbreviated,Se.Standalone);break;case"cccc":re=On(dn.Days,ge.Wide,Se.Standalone);break;case"ccccc":re=On(dn.Days,ge.Narrow,Se.Standalone);break;case"cccccc":re=On(dn.Days,ge.Short,Se.Standalone);break;case"E":case"EE":case"EEE":re=On(dn.Days,ge.Abbreviated);break;case"EEEE":re=On(dn.Days,ge.Wide);break;case"EEEEE":re=On(dn.Days,ge.Narrow);break;case"EEEEEE":re=On(dn.Days,ge.Short);break;case"a":case"aa":case"aaa":re=On(dn.DayPeriods,ge.Abbreviated);break;case"aaaa":re=On(dn.DayPeriods,ge.Wide);break;case"aaaaa":re=On(dn.DayPeriods,ge.Narrow);break;case"b":case"bb":case"bbb":re=On(dn.DayPeriods,ge.Abbreviated,Se.Standalone,!0);break;case"bbbb":re=On(dn.DayPeriods,ge.Wide,Se.Standalone,!0);break;case"bbbbb":re=On(dn.DayPeriods,ge.Narrow,Se.Standalone,!0);break;case"B":case"BB":case"BBB":re=On(dn.DayPeriods,ge.Abbreviated,Se.Format,!0);break;case"BBBB":re=On(dn.DayPeriods,ge.Wide,Se.Format,!0);break;case"BBBBB":re=On(dn.DayPeriods,ge.Narrow,Se.Format,!0);break;case"h":re=qn(tn.Hours,1,-12);break;case"hh":re=qn(tn.Hours,2,-12);break;case"H":re=qn(tn.Hours,1);break;case"HH":re=qn(tn.Hours,2);break;case"m":re=qn(tn.Minutes,1);break;case"mm":re=qn(tn.Minutes,2);break;case"s":re=qn(tn.Seconds,1);break;case"ss":re=qn(tn.Seconds,2);break;case"S":re=qn(tn.FractionalSeconds,1);break;case"SS":re=qn(tn.FractionalSeconds,2);break;case"SSS":re=qn(tn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":re=Qt(Dn.Short);break;case"ZZZZZ":re=Qt(Dn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":re=Qt(Dn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":re=Qt(Dn.Long);break;default:return null}return Ot[M]=re,re}(Tr);Ar+=Qn?Qn(Ie,V,Sr):"''"===Tr?"'":Tr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Ar}function rn(M,re,V){const X=new Date(0);return X.setFullYear(M,re,V),X.setHours(0,0,0),X}function lr(M,re){const V=function yt(M){return(0,m.cg1)(M)[m.wAp.LocaleId]}(M);if(pr[V]=pr[V]||{},pr[V][re])return pr[V][re];let X="";switch(re){case"shortDate":X=ze(M,Ve.Short);break;case"mediumDate":X=ze(M,Ve.Medium);break;case"longDate":X=ze(M,Ve.Long);break;case"fullDate":X=ze(M,Ve.Full);break;case"shortTime":X=Je(M,Ve.Short);break;case"mediumTime":X=Je(M,Ve.Medium);break;case"longTime":X=Je(M,Ve.Long);break;case"fullTime":X=Je(M,Ve.Full);break;case"short":const Ie=lr(M,"shortTime"),ct=lr(M,"shortDate");X=Er(je(M,Ve.Short),[Ie,ct]);break;case"medium":const Ct=lr(M,"mediumTime"),En=lr(M,"mediumDate");X=Er(je(M,Ve.Medium),[Ct,En]);break;case"long":const Sr=lr(M,"longTime"),Ar=lr(M,"longDate");X=Er(je(M,Ve.Long),[Sr,Ar]);break;case"full":const Tr=lr(M,"fullTime"),Qn=lr(M,"fullDate");X=Er(je(M,Ve.Full),[Tr,Qn])}return X&&(pr[V][re]=X),X}function Er(M,re){return re&&(M=M.replace(/\{([^}]+)}/g,function(V,X){return null!=re&&X in re?re[X]:V})),M}function bn(M,re,V="-",X,Ie){let ct="";(M<0||Ie&&M<=0)&&(Ie?M=1-M:(M=-M,ct=V));let Ct=String(M);for(;Ct.length<re;)Ct="0"+Ct;return X&&(Ct=Ct.slice(Ct.length-re)),ct+Ct}function qn(M,re,V=0,X=!1,Ie=!1){return function(ct,Ct){let En=function Xn(M,re){switch(M){case tn.FullYear:return re.getFullYear();case tn.Month:return re.getMonth();case tn.Date:return re.getDate();case tn.Hours:return re.getHours();case tn.Minutes:return re.getMinutes();case tn.Seconds:return re.getSeconds();case tn.FractionalSeconds:return re.getMilliseconds();case tn.Day:return re.getDay();default:throw new Error(`Unknown DateType value "${M}".`)}}(M,ct);if((V>0||En>-V)&&(En+=V),M===tn.Hours)0===En&&-12===V&&(En=12);else if(M===tn.FractionalSeconds)return function zn(M,re){return bn(M,3).substring(0,re)}(En,re);const Sr=et(Ct,pt.MinusSign);return bn(En,re,Sr,X,Ie)}}function On(M,re,V=Se.Format,X=!1){return function(Ie,ct){return function qr(M,re,V,X,Ie,ct){switch(V){case dn.Months:return function xn(M,re,V){const X=(0,m.cg1)(M),ct=Pe([X[m.wAp.MonthsFormat],X[m.wAp.MonthsStandalone]],re);return Pe(ct,V)}(re,Ie,X)[M.getMonth()];case dn.Days:return function vn(M,re,V){const X=(0,m.cg1)(M),ct=Pe([X[m.wAp.DaysFormat],X[m.wAp.DaysStandalone]],re);return Pe(ct,V)}(re,Ie,X)[M.getDay()];case dn.DayPeriods:const Ct=M.getHours(),En=M.getMinutes();if(ct){const Ar=function wn(M){const re=(0,m.cg1)(M);return _t(re),(re[m.wAp.ExtraData][2]||[]).map(X=>"string"==typeof X?De(X):[De(X[0]),De(X[1])])}(re),Tr=function Kn(M,re,V){const X=(0,m.cg1)(M);_t(X);const ct=Pe([X[m.wAp.ExtraData][0],X[m.wAp.ExtraData][1]],re)||[];return Pe(ct,V)||[]}(re,Ie,X),Qn=Ar.findIndex(Qr=>{if(Array.isArray(Qr)){const[Br,hi]=Qr,eo=Ct>=Br.hours&&En>=Br.minutes,fs=Ct<hi.hours||Ct===hi.hours&&En<hi.minutes;if(Br.hours<hi.hours){if(eo&&fs)return!0}else if(eo||fs)return!0}else if(Qr.hours===Ct&&Qr.minutes===En)return!0;return!1});if(-1!==Qn)return Tr[Qn]}return function sn(M,re,V){const X=(0,m.cg1)(M),ct=Pe([X[m.wAp.DayPeriodsFormat],X[m.wAp.DayPeriodsStandalone]],re);return Pe(ct,V)}(re,Ie,X)[Ct<12?0:1];case dn.Eras:return function Zn(M,re){return Pe((0,m.cg1)(M)[m.wAp.Eras],re)}(re,X)[M.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${V}`)}}(Ie,ct,M,re,V,X)}}function Qt(M){return function(re,V,X){const Ie=-1*X,ct=et(V,pt.MinusSign),Ct=Ie>0?Math.floor(Ie/60):Math.ceil(Ie/60);switch(M){case Dn.Short:return(Ie>=0?"+":"")+bn(Ct,2,ct)+bn(Math.abs(Ie%60),2,ct);case Dn.ShortGMT:return"GMT"+(Ie>=0?"+":"")+bn(Ct,1,ct);case Dn.Long:return"GMT"+(Ie>=0?"+":"")+bn(Ct,2,ct)+":"+bn(Math.abs(Ie%60),2,ct);case Dn.Extended:return 0===X?"Z":(Ie>=0?"+":"")+bn(Ct,2,ct)+":"+bn(Math.abs(Ie%60),2,ct);default:throw new Error(`Unknown zone width "${M}"`)}}}const vi=0,Nr=4;function dt(M){return rn(M.getFullYear(),M.getMonth(),M.getDate()+(Nr-M.getDay()))}function xe(M,re=!1){return function(V,X){let Ie;if(re){const ct=new Date(V.getFullYear(),V.getMonth(),1).getDay()-1,Ct=V.getDate();Ie=1+Math.floor((Ct+ct)/7)}else{const ct=dt(V),Ct=function xr(M){const re=rn(M,vi,1).getDay();return rn(M,0,1+(re<=Nr?Nr:Nr+7)-re)}(ct.getFullYear()),En=ct.getTime()-Ct.getTime();Ie=1+Math.round(En/6048e5)}return bn(Ie,M,et(X,pt.MinusSign))}}function ot(M,re=!1){return function(V,X){return bn(dt(V).getFullYear(),M,et(X,pt.MinusSign),re)}}const Ot={};function Jt(M,re){M=M.replace(/:/g,"");const V=Date.parse("Jan 01, 1970 00:00:00 "+M)/6e4;return isNaN(V)?re:V}function q(M){return M instanceof Date&&!isNaN(M.valueOf())}function Fn(M,re){re=encodeURIComponent(re);for(const V of M.split(";")){const X=V.indexOf("="),[Ie,ct]=-1==X?[V,""]:[V.slice(0,X),V.slice(X+1)];if(Ie.trim()===re)return decodeURIComponent(ct)}return null}const er=/\s+/,Cr=[];let ws=(()=>{class M{constructor(V,X,Ie,ct){this._iterableDiffers=V,this._keyValueDiffers=X,this._ngEl=Ie,this._renderer=ct,this.initialClasses=Cr,this.stateMap=new Map}set klass(V){this.initialClasses=null!=V?V.trim().split(er):Cr}set ngClass(V){this.rawClass="string"==typeof V?V.trim().split(er):V}ngDoCheck(){for(const X of this.initialClasses)this._updateState(X,!0);const V=this.rawClass;if(Array.isArray(V)||V instanceof Set)for(const X of V)this._updateState(X,!0);else if(null!=V)for(const X of Object.keys(V))this._updateState(X,!!V[X]);this._applyStateDiff()}_updateState(V,X){const Ie=this.stateMap.get(V);void 0!==Ie?(Ie.enabled!==X&&(Ie.changed=!0,Ie.enabled=X),Ie.touched=!0):this.stateMap.set(V,{enabled:X,changed:!0,touched:!0})}_applyStateDiff(){for(const V of this.stateMap){const X=V[0],Ie=V[1];Ie.changed?(this._toggleClass(X,Ie.enabled),Ie.changed=!1):Ie.touched||(Ie.enabled&&this._toggleClass(X,!1),this.stateMap.delete(X)),Ie.touched=!1}}_toggleClass(V,X){(V=V.trim()).length>0&&V.split(er).forEach(Ie=>{X?this._renderer.addClass(this._ngEl.nativeElement,Ie):this._renderer.removeClass(this._ngEl.nativeElement,Ie)})}static#e=this.\u0275fac=function(X){return new(X||M)(m.Y36(m.ZZ4),m.Y36(m.aQg),m.Y36(m.SBq),m.Y36(m.Qsj))};static#t=this.\u0275dir=m.lG2({type:M,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return M})();class ti{constructor(re,V,X,Ie){this.$implicit=re,this.ngForOf=V,this.index=X,this.count=Ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ks=(()=>{class M{set ngForOf(V){this._ngForOf=V,this._ngForOfDirty=!0}set ngForTrackBy(V){this._trackByFn=V}get ngForTrackBy(){return this._trackByFn}constructor(V,X,Ie){this._viewContainer=V,this._template=X,this._differs=Ie,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(V){V&&(this._template=V)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const V=this._ngForOf;!this._differ&&V&&(this._differ=this._differs.find(V).create(this.ngForTrackBy))}if(this._differ){const V=this._differ.diff(this._ngForOf);V&&this._applyChanges(V)}}_applyChanges(V){const X=this._viewContainer;V.forEachOperation((Ie,ct,Ct)=>{if(null==Ie.previousIndex)X.createEmbeddedView(this._template,new ti(Ie.item,this._ngForOf,-1,-1),null===Ct?void 0:Ct);else if(null==Ct)X.remove(null===ct?void 0:ct);else if(null!==ct){const En=X.get(ct);X.move(En,Ct),xi(En,Ie)}});for(let Ie=0,ct=X.length;Ie<ct;Ie++){const En=X.get(Ie).context;En.index=Ie,En.count=ct,En.ngForOf=this._ngForOf}V.forEachIdentityChange(Ie=>{xi(X.get(Ie.currentIndex),Ie)})}static ngTemplateContextGuard(V,X){return!0}static#e=this.\u0275fac=function(X){return new(X||M)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))};static#t=this.\u0275dir=m.lG2({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return M})();function xi(M,re){M.context.$implicit=re.item}let ks=(()=>{class M{constructor(V,X){this._viewContainer=V,this._context=new ia,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=X}set ngIf(V){this._context.$implicit=this._context.ngIf=V,this._updateView()}set ngIfThen(V){Ei("ngIfThen",V),this._thenTemplateRef=V,this._thenViewRef=null,this._updateView()}set ngIfElse(V){Ei("ngIfElse",V),this._elseTemplateRef=V,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(V,X){return!0}static#e=this.\u0275fac=function(X){return new(X||M)(m.Y36(m.s_b),m.Y36(m.Rgc))};static#t=this.\u0275dir=m.lG2({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return M})();class ia{constructor(){this.$implicit=null,this.ngIf=null}}function Ei(M,re){if(re&&!re.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,m.AaK)(re)}'.`)}let Wi=(()=>{class M{constructor(V,X,Ie){this._ngEl=V,this._differs=X,this._renderer=Ie,this._ngStyle=null,this._differ=null}set ngStyle(V){this._ngStyle=V,!this._differ&&V&&(this._differ=this._differs.find(V).create())}ngDoCheck(){if(this._differ){const V=this._differ.diff(this._ngStyle);V&&this._applyChanges(V)}}_setStyle(V,X){const[Ie,ct]=V.split("."),Ct=-1===Ie.indexOf("-")?void 0:m.JOm.DashCase;null!=X?this._renderer.setStyle(this._ngEl.nativeElement,Ie,ct?`${X}${ct}`:X,Ct):this._renderer.removeStyle(this._ngEl.nativeElement,Ie,Ct)}_applyChanges(V){V.forEachRemovedItem(X=>this._setStyle(X.key,null)),V.forEachAddedItem(X=>this._setStyle(X.key,X.currentValue)),V.forEachChangedItem(X=>this._setStyle(X.key,X.currentValue))}static#e=this.\u0275fac=function(X){return new(X||M)(m.Y36(m.SBq),m.Y36(m.aQg),m.Y36(m.Qsj))};static#t=this.\u0275dir=m.lG2({type:M,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return M})(),po=(()=>{class M{constructor(V){this._viewContainerRef=V,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(V){if(V.ngTemplateOutlet||V.ngTemplateOutletInjector){const X=this._viewContainerRef;if(this._viewRef&&X.remove(X.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Ie,ngTemplateOutletContext:ct,ngTemplateOutletInjector:Ct}=this;this._viewRef=X.createEmbeddedView(Ie,ct,Ct?{injector:Ct}:void 0)}else this._viewRef=null}else this._viewRef&&V.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(X){return new(X||M)(m.Y36(m.s_b))};static#t=this.\u0275dir=m.lG2({type:M,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[m.TTD]})}return M})();const Ro=new m.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),No=new m.OlP("DATE_PIPE_DEFAULT_OPTIONS");let aa=(()=>{class M{constructor(V,X,Ie){this.locale=V,this.defaultTimezone=X,this.defaultOptions=Ie}transform(V,X,Ie,ct){if(null==V||""===V||V!=V)return null;try{return mr(V,X??this.defaultOptions?.dateFormat??"mediumDate",ct||this.locale,Ie??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Ct){throw function Bi(M,re){return new m.vHH(2100,!1)}()}}static#e=this.\u0275fac=function(X){return new(X||M)(m.Y36(m.soG,16),m.Y36(Ro,24),m.Y36(No,24))};static#t=this.\u0275pipe=m.Yjl({name:"date",type:M,pure:!0,standalone:!0})}return M})(),Lr=(()=>{class M{static#e=this.\u0275fac=function(X){return new(X||M)};static#t=this.\u0275mod=m.oAB({type:M});static#n=this.\u0275inj=m.cJS({})}return M})();const pi="browser",ko="server";function ur(M){return M===pi}function oi(M){return M===ko}let ai=(()=>{class M{static#e=this.\u0275prov=(0,m.Yz7)({token:M,providedIn:"root",factory:()=>new Qs((0,m.LFG)(de),window)})}return M})();class Qs{constructor(re,V){this.document=re,this.window=V,this.offset=()=>[0,0]}setOffset(re){this.offset=Array.isArray(re)?()=>re:re}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(re){this.supportsScrolling()&&this.window.scrollTo(re[0],re[1])}scrollToAnchor(re){if(!this.supportsScrolling())return;const V=function Hr(M,re){const V=M.getElementById(re)||M.getElementsByName(re)[0];if(V)return V;if("function"==typeof M.createTreeWalker&&M.body&&"function"==typeof M.body.attachShadow){const X=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let Ie=X.currentNode;for(;Ie;){const ct=Ie.shadowRoot;if(ct){const Ct=ct.getElementById(re)||ct.querySelector(`[name="${re}"]`);if(Ct)return Ct}Ie=X.nextNode()}}return null}(this.document,re);V&&(this.scrollToElement(V),V.focus())}setHistoryScrollRestoration(re){this.supportsScrolling()&&(this.window.history.scrollRestoration=re)}scrollToElement(re){const V=re.getBoundingClientRect(),X=V.left+this.window.pageXOffset,Ie=V.top+this.window.pageYOffset,ct=this.offset();this.window.scrollTo(X-ct[0],Ie-ct[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Vs{}},9468:($t,Ge,B)=>{"use strict";B.d(Ge,{QbO:()=>Gv,tb:()=>hI,AFp:()=>ty,ip1:()=>z_,hGG:()=>KT,z2F:()=>du,Ojb:()=>TC,sBO:()=>$T,Sil:()=>tI,EJc:()=>eI,ktI:()=>Di,Xts:()=>$f,SBq:()=>Ud,lqb:()=>Sc,qLn:()=>nd,vpe:()=>Wc,tBr:()=>Mf,XFs:()=>rn,OlP:()=>Qt,zs3:()=>ba,ZZ4:()=>lv,aQg:()=>dv,soG:()=>q_,YKP:()=>Np,h0i:()=>tc,PXZ:()=>DS,R0b:()=>Jo,FiY:()=>ml,Lbi:()=>jo,g9A:()=>$o,Qsj:()=>RC,FYo:()=>Yv,JOm:()=>Xp,q3G:()=>zs,tp0:()=>mh,Rgc:()=>cf,dDg:()=>RT,eoX:()=>gf,q4F:()=>Jv,GfV:()=>hy,s_b:()=>S_,ifc:()=>We,gHi:()=>py,VuI:()=>JT,Flj:()=>yu,MMx:()=>f_,Lck:()=>Ub,eFA:()=>fI,Gpc:()=>en,f3M:()=>ar,X6Q:()=>wA,$WT:()=>es,_c5:()=>hv,qFp:()=>yf,tdS:()=>re,rg0:()=>Ar,c2e:()=>ST,zSh:()=>Jm,HDt:()=>W_,wAp:()=>bp,vHH:()=>Se,lri:()=>cI,rWj:()=>nv,JZr:()=>Ke,EiD:()=>Nv,mCW:()=>Ov,qzn:()=>ag,JVY:()=>qS,pB0:()=>pC,eBb:()=>WS,L6k:()=>hC,LAX:()=>fC,cg1:()=>sE,kL8:()=>e_,dqk:()=>Xn,Z0I:()=>bt,eJc:()=>fm,QGY:()=>Ol,F4k:()=>M0,RDi:()=>VI,AaK:()=>Dt,z3N:()=>Il,qOj:()=>rp,Xq5:()=>ut,TTD:()=>eo,_Bn:()=>EE,jDz:()=>Bb,xp6:()=>wy,uIk:()=>$h,ekj:()=>Yy,Suo:()=>iT,Xpm:()=>Oo,lG2:()=>aa,Yz7:()=>Pe,cJS:()=>rt,oAB:()=>Fs,Yjl:()=>go,Y36:()=>kh,_UZ:()=>Vy,BQk:()=>jy,ynx:()=>$y,qZA:()=>Gd,TgZ:()=>dp,EpF:()=>Xi,n5z:()=>ee,LFG:()=>Ln,$8M:()=>gt,$Z:()=>xg,NdJ:()=>Hy,CRH:()=>sT,kcU:()=>pd,O4$:()=>Xa,oxw:()=>Yh,ALo:()=>E_,lcZ:()=>ME,xi3:()=>I_,Q6J:()=>jg,s9C:()=>Gg,MGl:()=>zg,VKq:()=>TE,WLB:()=>v_,l5B:()=>CE,qbA:()=>Kb,iGM:()=>df,MAs:()=>Wh,KtG:()=>hd,evT:()=>vy,Jf7:()=>r0,CHM:()=>Lc,oJD:()=>ZI,uOi:()=>Dc,LSH:()=>Vf,P3R:()=>Lv,YNc:()=>Bg,W1O:()=>N_,_uU:()=>G0,Oqu:()=>q0,hij:()=>zi,lnq:()=>mp});var m=B(8645),Q=B(7394),d=B(5592),he=B(3019),se=B(5619),de=B(2096),_e=B(4829),Ne=B(305),we=B(9360);function te(r={}){const{connector:s=(()=>new m.x),resetOnError:o=!0,resetOnComplete:u=!0,resetOnRefCountZero:l=!0}=r;return f=>{let E,T,O,z=0,ie=!1,ye=!1;const Fe=()=>{T?.unsubscribe(),T=void 0},Ye=()=>{Fe(),E=O=void 0,ie=ye=!1},Tt=()=>{const Ft=E;Ye(),Ft?.unsubscribe()};return(0,we.e)((Ft,cn)=>{z++,!ye&&!ie&&Fe();const An=O=O??s();cn.add(()=>{z--,0===z&&!ye&&!ie&&(T=oe(Tt,l))}),An.subscribe(cn),!E&&z>0&&(E=new Ne.Hp({next:At=>An.next(At),error:At=>{ye=!0,Fe(),T=oe(Ye,o,At),An.error(At)},complete:()=>{ie=!0,Fe(),T=oe(Ye,u),An.complete()}}),(0,_e.Xf)(Ft).subscribe(E))})(f)}}function oe(r,s,...o){if(!0===s)return void r();if(!1===s)return;const u=new Ne.Hp({next:()=>{u.unsubscribe(),r()}});return(0,_e.Xf)(s(...o)).subscribe(u)}var Ae=B(4664),Ue=B(3997);function Oe(r){for(let s in r)if(r[s]===Oe)return s;throw Error("Could not find renamed property on target object.")}function Xe(r,s){for(const o in s)s.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=s[o])}function Dt(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(Dt).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function Rt(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const xt=Oe({__forward_ref__:Oe});function en(r){return r.__forward_ref__=en,r.toString=function(){return Dt(this())},r}function ft(r){return Te(r)?r():r}function Te(r){return"function"==typeof r&&r.hasOwnProperty(xt)&&r.__forward_ref__===en}function qe(r){return r&&!!r.\u0275providers}const Ke="https://g.co/ng/security#xss";class Se extends Error{constructor(s,o){super(function ge(r,s){return`NG0${Math.abs(r)}${s?": "+s:""}`}(s,o)),this.code=s}}function Ve(r){return"string"==typeof r?r:null==r?"":String(r)}function vn(r,s){throw new Se(-201,!1)}function jt(r,s){null==r&&function _t(r,s,o,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${o} ${u} ${s} <=Actual]`))}(s,r,null,"!=")}function Pe(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function rt(r){return{providers:r.providers||[],imports:r.imports||[]}}function Et(r){return kt(r,Dn)||kt(r,dn)}function bt(r){return null!==Et(r)}function kt(r,s){return r.hasOwnProperty(s)?r[s]:null}function mn(r){return r&&(r.hasOwnProperty(tn)||r.hasOwnProperty(mr))?r[tn]:null}const Dn=Oe({\u0275prov:Oe}),tn=Oe({\u0275inj:Oe}),dn=Oe({ngInjectableDef:Oe}),mr=Oe({ngInjectorDef:Oe});var rn=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(rn||{});let lr;function Er(){return lr}function bn(r){const s=lr;return lr=r,s}function zn(r,s,o){const u=Et(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&rn.Optional?null:void 0!==s?s:void vn(Dt(r))}const Xn=globalThis;class Qt{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Pe({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const F={},$="__NG_DI_FLAG__",q="ngTempTokenPath",Ce=/\n/gm,Mt="__source";let ln;function Rn(r){const s=ln;return ln=r,s}function nn(r,s=rn.Default){if(void 0===ln)throw new Se(-203,!1);return null===ln?zn(r,void 0,s):ln.get(r,s&rn.Optional?null:void 0,s)}function Ln(r,s=rn.Default){return(Er()||nn)(ft(r),s)}function ar(r,s=rn.Default){return Ln(r,as(s))}function as(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function ho(r){const s=[];for(let o=0;o<r.length;o++){const u=ft(r[o]);if(Array.isArray(u)){if(0===u.length)throw new Se(900,!1);let l,f=rn.Default;for(let E=0;E<u.length;E++){const T=u[E],O=Tn(T);"number"==typeof O?-1===O?l=T.token:f|=O:l=T}s.push(Ln(l,f))}else s.push(Ln(u))}return s}function Le(r,s){return r[$]=s,r.prototype[$]=s,r}function Tn(r){return r[$]}function ve(r){return{toString:r}.toString()}var Be=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(Be||{}),We=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(We||{});const it={},St=[],Fn=Oe({\u0275cmp:Oe}),er=Oe({\u0275dir:Oe}),Cr=Oe({\u0275pipe:Oe}),ws=Oe({\u0275mod:Oe}),Mi=Oe({\u0275fac:Oe}),Mo=Oe({__NG_ELEMENT_ID__:Oe}),ti=Oe({__NG_ENV_ID__:Oe});function Ks(r,s,o){let u=r.length;for(;;){const l=r.indexOf(s,o);if(-1===l)return l;if(0===l||r.charCodeAt(l-1)<=32){const f=s.length;if(l+f===u||r.charCodeAt(l+f)<=32)return l}o=l+1}}function xi(r,s,o){let u=0;for(;u<o.length;){const l=o[u];if("number"==typeof l){if(0!==l)break;u++;const f=o[u++],E=o[u++],T=o[u++];r.setAttribute(s,E,T,f)}else{const f=l,E=o[++u];ks(f)?r.setProperty(s,f,E):r.setAttribute(s,f,E),u++}}return u}function xo(r){return 3===r||4===r||6===r}function ks(r){return 64===r.charCodeAt(0)}function ia(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let o=-1;for(let u=0;u<s.length;u++){const l=s[u];"number"==typeof l?o=l:0===o||Ei(r,o,l,null,-1===o||2===o?s[++u]:null)}}return r}function Ei(r,s,o,u,l){let f=0,E=r.length;if(-1===s)E=-1;else for(;f<r.length;){const T=r[f++];if("number"==typeof T){if(T===s){E=-1;break}if(T>s){E=f-1;break}}}for(;f<r.length;){const T=r[f];if("number"==typeof T)break;if(T===o){if(null===u)return void(null!==l&&(r[f+1]=l));if(u===r[f+1])return void(r[f+2]=l)}f++,null!==u&&f++,null!==l&&f++}-1!==E&&(r.splice(E,0,s),f=E+1),r.splice(f++,0,o),null!==u&&r.splice(f++,0,u),null!==l&&r.splice(f++,0,l)}const sa="ng-template";function Ls(r,s,o){let u=0,l=!0;for(;u<r.length;){let f=r[u++];if("string"==typeof f&&l){const E=r[u++];if(o&&"class"===f&&-1!==Ks(E.toLowerCase(),s,0))return!0}else{if(1===f){for(;u<r.length&&"string"==typeof(f=r[u++]);)if(f.toLowerCase()===s)return!0;return!1}"number"==typeof f&&(l=!1)}}return!1}function Ys(r){return 4===r.type&&r.value!==sa}function bs(r,s,o){return s===(4!==r.type||o?r.value:sa)}function Ir(r,s,o){let u=4;const l=r.attrs||[],f=function ku(r){for(let s=0;s<r.length;s++)if(xo(r[s]))return s;return r.length}(l);let E=!1;for(let T=0;T<s.length;T++){const O=s[T];if("number"!=typeof O){if(!E)if(4&u){if(u=2|1&u,""!==O&&!bs(r,O,o)||""===O&&1===s.length){if(jr(u))return!1;E=!0}}else{const z=8&u?O:s[++T];if(8&u&&null!==r.attrs){if(!Ls(r.attrs,z,o)){if(jr(u))return!1;E=!0}continue}const ye=fo(8&u?"class":O,l,Ys(r),o);if(-1===ye){if(jr(u))return!1;E=!0;continue}if(""!==z){let Fe;Fe=ye>f?"":l[ye+1].toLowerCase();const Ye=8&u?Fe:null;if(Ye&&-1!==Ks(Ye,z,0)||2&u&&z!==Fe){if(jr(u))return!1;E=!0}}}}else{if(!E&&!jr(u)&&!jr(O))return!1;if(E&&jr(O))continue;E=!1,u=O|1&u}}return jr(u)||E}function jr(r){return 0==(1&r)}function fo(r,s,o,u){if(null===s)return-1;let l=0;if(u||!o){let f=!1;for(;l<s.length;){const E=s[l];if(E===r)return l;if(3===E||6===E)f=!0;else{if(1===E||2===E){let T=s[++l];for(;"string"==typeof T;)T=s[++l];continue}if(4===E)break;if(0===E){l+=4;continue}}l+=f?1:2}return-1}return function Bi(r,s){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const u=r[o];if("number"==typeof u)return-1;if(u===s)return o;o++}return-1}(s,r)}function Wi(r,s,o=!1){for(let u=0;u<s.length;u++)if(Ir(r,s[u],o))return!0;return!1}function Oi(r,s){return r?":not("+s.trim()+")":s}function Fu(r){let s=r[0],o=1,u=2,l="",f=!1;for(;o<r.length;){let E=r[o];if("string"==typeof E)if(2&u){const T=r[++o];l+="["+E+(T.length>0?'="'+T+'"':"")+"]"}else 8&u?l+="."+E:4&u&&(l+=" "+E);else""!==l&&!jr(E)&&(s+=Oi(f,l),l=""),u=E,f=f||!jr(u);o++}return""!==l&&(s+=Oi(f,l)),s}function Oo(r){return ve(()=>{const s=us(r),o={...s,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===Be.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||We.Emulated,styles:r.styles||St,_:null,schemas:r.schemas||null,tView:null,id:""};ua(o);const u=r.dependencies;return o.directiveDefs=fi(u,!1),o.pipeDefs=fi(u,!0),o.id=function Zi(r){let s=0;const o=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const l of o)s=Math.imul(31,s)+l.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(o),o})}function Po(r){return ir(r)||ni(r)}function Uu(r){return null!==r}function Fs(r){return ve(()=>({type:r.type,bootstrap:r.bootstrap||St,declarations:r.declarations||St,imports:r.imports||St,exports:r.exports||St,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function No(r,s){if(null==r)return it;const o={};for(const u in r)if(r.hasOwnProperty(u)){let l=r[u],f=l;Array.isArray(l)&&(f=l[1],l=l[0]),o[l]=u,s&&(s[l]=f)}return o}function aa(r){return ve(()=>{const s=us(r);return ua(s),s})}function go(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function ir(r){return r[Fn]||null}function ni(r){return r[er]||null}function Ii(r){return r[Cr]||null}function es(r){const s=ir(r)||ni(r)||Ii(r);return null!==s&&s.standalone}function kr(r,s){const o=r[ws]||null;if(!o&&!0===s)throw new Error(`Type ${Dt(r)} does not have '\u0275mod' property.`);return o}function us(r){const s={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:r.inputs||it,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||St,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:No(r.inputs,s),outputs:No(r.outputs)}}function ua(r){r.features?.forEach(s=>s(r))}function fi(r,s){if(!r)return null;const o=s?Ii:Po;return()=>("function"==typeof r?r():r).map(u=>o(u)).filter(Uu)}const Dr=0,zt=1,Un=2,Lr=3,pi=4,ko=5,Wr=6,Pi=7,ur=8,oi=9,Ri=10,Vn=11,Us=12,ai=13,Qs=14,Hr=15,wi=16,Vs=17,Fr=18,mo=19,qa=20,Js=21,Ki=22,Bs=23,$s=24,Gn=25,Ts=1,Cs=2,ri=7,yo=9,Yr=11;function di(r){return Array.isArray(r)&&"object"==typeof r[Ts]}function ki(r){return Array.isArray(r)&&!0===r[Ts]}function Li(r){return 0!=(4&r.flags)}function cs(r){return r.componentOffset>-1}function ts(r){return 1==(1&r.flags)}function Fi(r){return!!r.template}function ci(r){return 0!=(512&r[Un])}function Aa(r,s){return r.hasOwnProperty(Mi)?r[Mi]:null}const As=Symbol("SIGNAL");function _o(r,s){return(null===r||"object"!=typeof r)&&Object.is(r,s)}let gi=null,Wo=!1;function Ti(r){const s=gi;return gi=r,s}const hs={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function vo(r){if(Wo)throw new Error("");if(null===gi)return;const s=gi.nextProducerIndex++;Io(gi),s<gi.producerNode.length&&gi.producerNode[s]!==r&&Lo(gi)&&mu(gi.producerNode[s],gi.producerIndexOfThis[s]),gi.producerNode[s]!==r&&(gi.producerNode[s]=r,gi.producerIndexOfThis[s]=Lo(gi)?Zo(r,gi,s):0),gi.producerLastReadVersion[s]=r.version}function mi(r){if(!Lo(r)||r.dirty){if(!r.producerMustRecompute(r)&&!Eo(r))return void(r.dirty=!1);r.producerRecomputeValue(r),r.dirty=!1}}function gu(r){if(void 0===r.liveConsumerNode)return;const s=Wo;Wo=!0;try{for(const o of r.liveConsumerNode)o.dirty||Pc(o)}finally{Wo=s}}function Za(){return!1!==gi?.consumerAllowSignalWrites}function Pc(r){r.dirty=!0,gu(r),r.consumerMarkedDirty?.(r)}function Hs(r){return r&&(r.nextProducerIndex=0),Ti(r)}function Vu(r,s){if(Ti(s),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(Lo(r))for(let o=r.nextProducerIndex;o<r.producerNode.length;o++)mu(r.producerNode[o],r.producerIndexOfThis[o]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function Eo(r){Io(r);for(let s=0;s<r.producerNode.length;s++){const o=r.producerNode[s],u=r.producerLastReadVersion[s];if(u!==o.version||(mi(o),u!==o.version))return!0}return!1}function Bu(r){if(Io(r),Lo(r))for(let s=0;s<r.producerNode.length;s++)mu(r.producerNode[s],r.producerIndexOfThis[s]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function Zo(r,s,o){if(wo(r),Io(r),0===r.liveConsumerNode.length)for(let u=0;u<r.producerNode.length;u++)r.producerIndexOfThis[u]=Zo(r.producerNode[u],r,u);return r.liveConsumerIndexOfThis.push(o),r.liveConsumerNode.push(s)-1}function mu(r,s){if(wo(r),Io(r),1===r.liveConsumerNode.length)for(let u=0;u<r.producerNode.length;u++)mu(r.producerNode[u],r.producerIndexOfThis[u]);const o=r.liveConsumerNode.length-1;if(r.liveConsumerNode[s]=r.liveConsumerNode[o],r.liveConsumerIndexOfThis[s]=r.liveConsumerIndexOfThis[o],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,s<r.liveConsumerNode.length){const u=r.liveConsumerIndexOfThis[s],l=r.liveConsumerNode[s];Io(l),l.producerIndexOfThis[u]=s}}function Lo(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function Io(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}function wo(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}function yu(r,s){const o=Object.create(el);o.computation=r,s?.equal&&(o.equal=s.equal);const u=()=>{if(mi(o),vo(o),o.value===_u)throw o.error;return o.value};return u[As]=o,u}const la=Symbol("UNSET"),Ka=Symbol("COMPUTING"),_u=Symbol("ERRORED"),el=(()=>({...hs,value:la,dirty:!0,error:null,equal:_o,producerMustRecompute:r=>r.value===la||r.value===Ka,producerRecomputeValue(r){if(r.value===Ka)throw new Error("Detected cycle in computations.");const s=r.value;r.value=Ka;const o=Hs(r);let u;try{u=r.computation()}catch(l){u=_u,r.error=l}finally{Vu(r,o)}s!==la&&s!==_u&&u!==_u&&r.equal(s,u)?r.value=s:(r.value=u,r.version++)}}))();let Ya=function rc(){throw new Error};function Xs(){Ya()}let M=null;function re(r,s){const o=Object.create(X);function u(){return vo(o),o.value}return o.value=r,s?.equal&&(o.equal=s.equal),u.set=ct,u.update=Ct,u.mutate=En,u.asReadonly=Sr,u[As]=o,u}const X=(()=>({...hs,equal:_o,readonlyFn:void 0}))();function Ie(r){r.version++,gu(r),M?.()}function ct(r){const s=this[As];Za()||Xs(),s.equal(s.value,r)||(s.value=r,Ie(s))}function Ct(r){Za()||Xs(),ct.call(this,r(this[As].value))}function En(r){const s=this[As];Za()||Xs(),r(s.value),Ie(s)}function Sr(){const r=this[As];if(void 0===r.readonlyFn){const s=()=>this();s[As]=r,r.readonlyFn=s}return r.readonlyFn}function Ar(r){const s=Ti(null);try{return r()}finally{Ti(s)}}const Qn=()=>{},Qr=(()=>({...hs,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{r.schedule(r.ref)},hasRun:!1,cleanupFn:Qn}))();class hi{constructor(s,o,u){this.previousValue=s,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function eo(){return fs}function fs(r){return r.type.prototype.ngOnChanges&&(r.setInput=Ms),ps}function ps(){const r=da(this),s=r?.current;if(s){const o=r.previous;if(o===it)r.previous=s;else for(let u in s)o[u]=s[u];r.current=null,this.ngOnChanges(s)}}function Ms(r,s,o,u){const l=this.declaredInputs[o],f=da(r)||function Uo(r,s){return r[Fo]=s}(r,{previous:it,current:null}),E=f.current||(f.current={}),T=f.previous,O=T[l];E[l]=new hi(O&&O.currentValue,s,T===it),r[u]=s}eo.ngInherit=!0;const Fo="__ngSimpleChanges__";function da(r){return r[Fo]||null}const Yi=function(r,s,o){},$u="svg";function li(r){for(;Array.isArray(r);)r=r[Dr];return r}function oc(r,s){return li(s[r])}function ii(r,s){return li(s[r.index])}function nl(r,s){return r.data[s]}function ji(r,s){return r[s]}function Ui(r,s){const o=s[r];return di(o)?o:o[Dr]}function ha(r,s){return null==s?null:r[s]}function ju(r){r[Vs]=0}function rl(r){1024&r[Un]||(r[Un]|=1024,Eu(r,1))}function yi(r){1024&r[Un]&&(r[Un]&=-1025,Eu(r,-1))}function Eu(r,s){let o=r[Lr];if(null===o)return;o[ko]+=s;let u=o;for(o=o[Lr];null!==o&&(1===s&&1===u[ko]||-1===s&&0===u[ko]);)o[ko]+=s,u=o,o=o[Lr]}function xa(r,s){if(256==(256&r[Un]))throw new Se(911,!1);null===r[Js]&&(r[Js]=[]),r[Js].push(s)}const Pn={lFrame:Kt(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Iu(){return Pn.bindingsEnabled}function wt(){return Pn.lFrame.lView}function yr(){return Pn.lFrame.tView}function Lc(r){return Pn.lFrame.contextLView=r,r[ur]}function hd(r){return Pn.lFrame.contextLView=null,r}function Vi(){let r=Bl();for(;null!==r&&64===r.type;)r=r.parent;return r}function Bl(){return Pn.lFrame.currentTNode}function ms(r,s){const o=Pn.lFrame;o.currentTNode=r,o.isParent=s}function lc(){return Pn.lFrame.isParent}function Pa(){Pn.lFrame.isParent=!1}function ys(){const r=Pn.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function pa(){return Pn.lFrame.bindingIndex++}function Bo(r){const s=Pn.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,o}function fd(r,s){const o=Pn.lFrame;o.bindingIndex=o.bindingRootIndex=r,x(s)}function x(r){Pn.lFrame.currentDirectiveIndex=r}function R(){return Pn.lFrame.currentQueryIndex}function H(r){Pn.lFrame.currentQueryIndex=r}function ue(r){const s=r[zt];return 2===s.type?s.declTNode:1===s.type?r[Wr]:null}function Ee(r,s,o){if(o&rn.SkipSelf){let l=s,f=r;for(;!(l=l.parent,null!==l||o&rn.Host||(l=ue(f),null===l||(f=f[Qs],10&l.type))););if(null===l)return!1;s=l,r=f}const u=Pn.lFrame=tt();return u.currentTNode=s,u.lView=r,!0}function st(r){const s=tt(),o=r[zt];Pn.lFrame=s,s.currentTNode=o.firstChild,s.lView=r,s.tView=o,s.contextLView=r,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function tt(){const r=Pn.lFrame,s=null===r?null:r.child;return null===s?Kt(r):s}function Kt(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function tr(){const r=Pn.lFrame;return Pn.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Ur=tr;function dr(){const r=tr();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function $r(){return Pn.lFrame.selectedIndex}function ga(r){Pn.lFrame.selectedIndex=r}function _r(){const r=Pn.lFrame;return nl(r.tView,r.selectedIndex)}function Xa(){Pn.lFrame.currentNamespace=$u}function pd(){!function Ko(){Pn.lFrame.currentNamespace=null}()}let eu=!0;function uh(){return eu}function Tu(r){eu=r}function ol(r,s){for(let o=s.directiveStart,u=s.directiveEnd;o<u;o++){const f=r.data[o].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:T,ngAfterViewInit:O,ngAfterViewChecked:z,ngOnDestroy:ie}=f;E&&(r.contentHooks??=[]).push(-o,E),T&&((r.contentHooks??=[]).push(o,T),(r.contentCheckHooks??=[]).push(o,T)),O&&(r.viewHooks??=[]).push(-o,O),z&&((r.viewHooks??=[]).push(o,z),(r.viewCheckHooks??=[]).push(o,z)),null!=ie&&(r.destroyHooks??=[]).push(o,ie)}}function Gu(r,s,o){Cu(r,s,3,o)}function Ci(r,s,o,u){(3&r[Un])===o&&Cu(r,s,o,u)}function gc(r,s){let o=r[Un];(3&o)===s&&(o&=8191,o+=1,r[Un]=o)}function Cu(r,s,o,u){const f=u??-1,E=s.length-1;let T=0;for(let O=void 0!==u?65535&r[Vs]:0;O<E;O++)if("number"==typeof s[O+1]){if(T=s[O],null!=u&&T>=u)break}else s[O]<0&&(r[Vs]+=65536),(T<f||-1==f)&&(ma(r,o,s,O),r[Vs]=(4294901760&r[Vs])+O+2),O++}function gd(r,s){Yi(4,r,s);const o=Ti(null);try{s.call(r)}finally{Ti(o),Yi(5,r,s)}}function ma(r,s,o,u){const l=o[u]<0,f=o[u+1],T=r[l?-o[u]:o[u]];l?r[Un]>>13<r[Vs]>>16&&(3&r[Un])===s&&(r[Un]+=8192,gd(T,f)):gd(T,f)}const Du=-1;class Uc{constructor(s,o,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function Na(r){return r!==Du}function ya(r){return 32767&r}function zu(r,s){let o=function cl(r){return r>>16}(r),u=s;for(;o>0;)u=u[Qs],o--;return u}let ll=!0;function Su(r){const s=ll;return ll=r,s}const yc=255,dl=5;let Au=0;const xs={};function _c(r,s){const o=dh(r,s);if(-1!==o)return o;const u=s[zt];u.firstCreatePass&&(r.injectorIndex=s.length,hl(u.data,r),hl(s,null),hl(u.blueprint,null));const l=Hl(r,s),f=r.injectorIndex;if(Na(l)){const E=ya(l),T=zu(l,s),O=T[zt].data;for(let z=0;z<8;z++)s[f+z]=T[E+z]|O[E+z]}return s[f+8]=l,f}function hl(r,s){r.push(0,0,0,0,0,0,0,0,s)}function dh(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function Hl(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,u=null,l=s;for(;null!==l;){if(u=Ze(l),null===u)return Du;if(o++,l=l[Qs],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return Du}function Vc(r,s,o){!function jl(r,s,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(Mo)&&(u=o[Mo]),null==u&&(u=o[Mo]=Au++);const l=u&yc;s.data[r+(l>>dl)]|=1<<l}(r,s,o)}function _d(r,s,o){if(o&rn.Optional||void 0!==r)return r;vn()}function vd(r,s,o,u){if(o&rn.Optional&&void 0===u&&(u=null),!(o&(rn.Self|rn.Host))){const l=r[oi],f=bn(void 0);try{return l?l.get(s,u,o&rn.Optional):zn(s,u,o&rn.Optional)}finally{bn(f)}}return _d(u,0,o)}function vc(r,s,o,u=rn.Default,l){if(null!==r){if(2048&s[Un]&&!(u&rn.Self)){const E=function ke(r,s,o,u,l){let f=r,E=s;for(;null!==f&&null!==E&&2048&E[Un]&&!(512&E[Un]);){const T=qu(f,E,o,u|rn.Self,xs);if(T!==xs)return T;let O=f.parent;if(!O){const z=E[qa];if(z){const ie=z.get(o,xs,u);if(ie!==xs)return ie}O=Ze(E),E=E[Qs]}f=O}return l}(r,s,o,u,xs);if(E!==xs)return E}const f=qu(r,s,o,u,xs);if(f!==xs)return f}return vd(s,o,u,l)}function qu(r,s,o,u,l){const f=function hh(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(Mo)?r[Mo]:void 0;return"number"==typeof s?s>=0?s&yc:k:s}(o);if("function"==typeof f){if(!Ee(s,r,u))return u&rn.Host?_d(l,0,u):vd(s,o,u,l);try{let E;if(E=f(u),null!=E||u&rn.Optional)return E;vn()}finally{Ur()}}else if("number"==typeof f){let E=null,T=dh(r,s),O=Du,z=u&rn.Host?s[Hr][Wr]:null;for((-1===T||u&rn.SkipSelf)&&(O=-1===T?Hl(r,s):s[T+8],O!==Du&&tu(u,!1)?(E=s[zt],T=ya(O),s=zu(O,s)):T=-1);-1!==T;){const ie=s[zt];if(fl(f,T,ie.data)){const ye=bf(T,s,o,E,u,z);if(ye!==xs)return ye}O=s[T+8],O!==Du&&tu(u,s[zt].data[T+8]===z)&&fl(f,T,s)?(E=ie,T=ya(O),s=zu(O,s)):T=-1}}return l}function bf(r,s,o,u,l,f){const E=s[zt],T=E.data[r+8],ie=Yo(T,E,o,null==u?cs(T)&&ll:u!=E&&0!=(3&T.type),l&rn.Host&&f===T);return null!==ie?Wu(s,E,ie,T):xs}function Yo(r,s,o,u,l){const f=r.providerIndexes,E=s.data,T=1048575&f,O=r.directiveStart,ie=f>>20,Fe=l?T+ie:r.directiveEnd;for(let Ye=u?T:T+ie;Ye<Fe;Ye++){const Tt=E[Ye];if(Ye<O&&o===Tt||Ye>=O&&Tt.type===o)return Ye}if(l){const Ye=E[O];if(Ye&&Fi(Ye)&&Ye.type===o)return O}return null}function Wu(r,s,o,u){let l=r[o];const f=s.data;if(function al(r){return r instanceof Uc}(l)){const E=l;E.resolving&&function gn(r,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new Se(-200,`Circular dependency in DI detected for ${r}${o}`)}(function pt(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Ve(r)}(f[o]));const T=Su(E.canSeeViewProviders);E.resolving=!0;const z=E.injectImpl?bn(E.injectImpl):null;Ee(r,u,rn.Default);try{l=r[o]=E.factory(void 0,f,r,u),s.firstCreatePass&&o>=u.directiveStart&&function ch(r,s,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:f}=s.type.prototype;if(u){const E=fs(s);(o.preOrderHooks??=[]).push(r,E),(o.preOrderCheckHooks??=[]).push(r,E)}l&&(o.preOrderHooks??=[]).push(0-r,l),f&&((o.preOrderHooks??=[]).push(r,f),(o.preOrderCheckHooks??=[]).push(r,f))}(o,f[o],s)}finally{null!==z&&bn(z),Su(T),E.resolving=!1,Ur()}}return l}function fl(r,s,o){return!!(o[s+(r>>dl)]&1<<r)}function tu(r,s){return!(r&rn.Self||r&rn.Host&&s)}class A{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,u){return vc(this._tNode,this._lView,s,as(u),o)}}function k(){return new A(Vi(),wt())}function ee(r){return ve(()=>{const s=r.prototype.constructor,o=s[Mi]||pe(s),u=Object.prototype;let l=Object.getPrototypeOf(r.prototype).constructor;for(;l&&l!==u;){const f=l[Mi]||pe(l);if(f&&f!==o)return f;l=Object.getPrototypeOf(l)}return f=>new f})}function pe(r){return Te(r)?()=>{const s=pe(ft(r));return s&&s()}:Aa(r)}function Ze(r){const s=r[zt],o=s.type;return 2===o?s.declTNode:1===o?r[Wr]:null}function gt(r){return function ka(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const o=r.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const f=o[l];if(xo(f))break;if(0===f)l+=2;else if("number"==typeof f)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(f===s)return o[l+1];l+=2}}}return null}(Vi(),r)}const Ht="__parameters__";function ns(r,s,o){return ve(()=>{const u=function Yn(r){return function(...o){if(r){const u=r(...o);for(const l in u)this[l]=u[l]}}}(s);function l(...f){if(this instanceof l)return u.apply(this,f),this;const E=new l(...f);return T.annotation=E,T;function T(O,z,ie){const ye=O.hasOwnProperty(Ht)?O[Ht]:Object.defineProperty(O,Ht,{value:[]})[Ht];for(;ye.length<=ie;)ye.push(null);return(ye[ie]=ye[ie]||[]).push(E),O}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=r,l.annotationCls=l,l})}function pl(r,s){r.forEach(o=>Array.isArray(o)?pl(o,s):s(o))}function gl(r,s,o){s>=r.length?r.push(o):r.splice(s,0,o)}function Ku(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function bo(r,s,o){let u=wc(r,s);return u>=0?r[1|u]=o:(u=~u,function ph(r,s,o,u){let l=r.length;if(l==s)r.push(o,u);else if(1===l)r.push(u,r[0]),r[0]=o;else{for(l--,r.push(r[l-1],r[l]);l>s;)r[l]=r[l-2],l--;r[s]=o,r[s+1]=u}}(r,u,s,o)),u}function wd(r,s){const o=wc(r,s);if(o>=0)return r[1|o]}function wc(r,s){return function gh(r,s,o){let u=0,l=r.length>>o;for(;l!==u;){const f=u+(l-u>>1),E=r[f<<o];if(s===E)return f<<o;E>s?l=f:u=f+1}return~(l<<o)}(r,s,1)}const Mf=Le(ns("Inject",r=>({token:r})),-1),ml=Le(ns("Optional"),8),mh=Le(ns("SkipSelf"),4);function Eh(r){return 128==(128&r.flags)}var Xp=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(Xp||{});const Iv=/^>|^->|<!--|-->|--!>|<!-$/g,MI=/(<|>)/g,xI="\u200b$1\u200b";const eg=new Map;let PI=0;const Fm="__ngContext__";function Ia(r,s){di(s)?(r[Fm]=s[mo],function Lm(r){eg.set(r[mo],r)}(s)):r[Fm]=s}let Pt;function Yt(r,s){return Pt(r,s)}function nr(r){const s=r[Lr];return ki(s)?s[Lr]:s}function Hi(r){return Gs(r[Us])}function Qi(r){return Gs(r[pi])}function Gs(r){for(;null!==r&&!ki(r);)r=r[pi];return r}function ss(r,s,o,u,l){if(null!=u){let f,E=!1;ki(u)?f=u:di(u)&&(E=!0,u=u[Dr]);const T=li(u);0===r&&null!==o?null==l?qc(s,o,T):Ps(s,o,T,l||null,!0):1===r&&null!==o?Ps(s,o,T,l||null,!0):2===r?function Bm(r,s,o){const u=Rs(r,s);u&&function Um(r,s,o,u){r.removeChild(s,o,u)}(r,u,s,o)}(s,T,E):3===r&&s.destroyNode(T),null!=f&&function iC(r,s,o,u,l){const f=o[ri];f!==li(o)&&ss(s,r,u,f,l);for(let T=Yr;T<o.length;T++){const O=o[T];sg(O[zt],O,r,s,u,f)}}(s,r,f,o,l)}}function xu(r,s){return r.createComment(function OI(r){return r.replace(Iv,s=>s.replace(MI,xI))}(s))}function To(r,s,o){return r.createElement(s,o)}function Xl(r,s){const o=r[yo],u=o.indexOf(s);yi(s),o.splice(u,1)}function wh(r,s){if(r.length<=Yr)return;const o=Yr+s,u=r[o];if(u){const l=u[wi];null!==l&&l!==r&&Xl(l,u),s>0&&(r[o-1][pi]=u[pi]);const f=Ku(r,Yr+s);!function zc(r,s){sg(r,s,s[Vn],2,null,null),s[Dr]=null,s[Wr]=null}(u[zt],u);const E=f[Fr];null!==E&&E.detachView(f[zt]),u[Lr]=null,u[pi]=null,u[Un]&=-129}return u}function Sn(r,s){if(!(256&s[Un])){const o=s[Vn];s[Bs]&&Bu(s[Bs]),s[$s]&&Bu(s[$s]),o.destroyNode&&sg(r,s,o,3,null,null),function ng(r){let s=r[Us];if(!s)return jn(r[zt],r);for(;s;){let o=null;if(di(s))o=s[Us];else{const u=s[Yr];u&&(o=u)}if(!o){for(;s&&!s[pi]&&s!==r;)di(s)&&jn(s[zt],s),s=s[Lr];null===s&&(s=r),di(s)&&jn(s[zt],s),o=s&&s[pi]}s=o}}(s)}}function jn(r,s){if(!(256&s[Un])){s[Un]&=-129,s[Un]|=256,function Gr(r,s){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let u=0;u<o.length;u+=2){const l=s[o[u]];if(!(l instanceof Uc)){const f=o[u+1];if(Array.isArray(f))for(let E=0;E<f.length;E+=2){const T=l[f[E]],O=f[E+1];Yi(4,T,O);try{O.call(T)}finally{Yi(5,T,O)}}else{Yi(4,l,f);try{f.call(l)}finally{Yi(5,l,f)}}}}}(r,s),function rr(r,s){const o=r.cleanup,u=s[Pi];if(null!==o)for(let f=0;f<o.length-1;f+=2)if("string"==typeof o[f]){const E=o[f+3];E>=0?u[E]():u[-E].unsubscribe(),f+=2}else o[f].call(u[o[f+1]]);null!==u&&(s[Pi]=null);const l=s[Js];if(null!==l){s[Js]=null;for(let f=0;f<l.length;f++)(0,l[f])()}}(r,s),1===s[zt].type&&s[Vn].destroy();const o=s[wi];if(null!==o&&ki(s[Lr])){o!==s[Lr]&&Xl(o,s);const u=s[Fr];null!==u&&u.detachView(r)}!function wv(r){eg.delete(r[mo])}(s)}}function vs(r,s,o){return function ru(r,s,o){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return o[Dr];{const{componentOffset:l}=u;if(l>-1){const{encapsulation:f}=r.data[u.directiveStart+l];if(f===We.None||f===We.Emulated)return null}return ii(u,o)}}(r,s.parent,o)}function Ps(r,s,o,u,l){r.insertBefore(s,o,u,l)}function qc(r,s,o){r.appendChild(s,o)}function Ji(r,s,o,u,l){null!==u?Ps(r,s,o,u,l):qc(r,s,o)}function Rs(r,s){return r.parentNode(s)}let Vm,Lf,jm,Hm,xd=function ed(r,s,o){return 40&r.type?ii(r,o):null};function ig(r,s,o,u){const l=vs(r,u,s),f=s[Vn],T=function wa(r,s,o){return xd(r,s,o)}(u.parent||s[Wr],u,s);if(null!=l)if(Array.isArray(o))for(let O=0;O<o.length;O++)Ji(f,l,o[O],T,!1);else Ji(f,l,o,T,!1);void 0!==Vm&&Vm(f,u,s,o,l)}function El(r,s){if(null!==s){const o=s.type;if(3&o)return ii(s,r);if(4&o)return Tv(-1,r[s.index]);if(8&o){const u=s.child;if(null!==u)return El(r,u);{const l=r[s.index];return ki(l)?Tv(-1,l):li(l)}}if(32&o)return Yt(s,r)()||li(r[s.index]);{const u=bv(r,s);return null!==u?Array.isArray(u)?u[0]:El(nr(r[Hr]),u):El(r,s.next)}}return null}function bv(r,s){return null!==s?r[Hr][Wr].projection[s.projection]:null}function Tv(r,s){const o=Yr+r+1;if(o<s.length){const u=s[o],l=u[zt].firstChild;if(null!==l)return El(u,l)}return s[ri]}function Cv(r,s,o,u,l,f,E){for(;null!=o;){const T=u[o.index],O=o.type;if(E&&0===s&&(T&&Ia(li(T),u),o.flags|=2),32!=(32&o.flags))if(8&O)Cv(r,s,o.child,u,l,f,!1),ss(s,r,l,T,f);else if(32&O){const z=Yt(o,u);let ie;for(;ie=z();)ss(s,r,l,ie,f);ss(s,r,l,T,f)}else 16&O?LI(r,s,u,o,l,f):ss(s,r,l,T,f);o=E?o.projectionNext:o.next}}function sg(r,s,o,u,l,f){Cv(o,u,r.firstChild,s,l,f,!1)}function LI(r,s,o,u,l,f){const E=o[Hr],O=E[Wr].projection[u.projection];if(Array.isArray(O))for(let z=0;z<O.length;z++)ss(s,r,l,O[z],f);else{let z=O;const ie=E[Lr];Eh(u)&&(z.flags|=128),Cv(r,s,z,ie,l,f,!0)}}function Dv(r,s,o){""===o?r.removeAttribute(s,"class"):r.setAttribute(s,"class",o)}function Sv(r,s,o){const{mergedAttrs:u,classes:l,styles:f}=o;null!==u&&xi(r,s,u),null!==l&&Dv(r,s,l),null!==f&&function $m(r,s,o){r.setAttribute(s,"style",o)}(r,s,f)}function Ff(r){return function Av(){if(void 0===Lf&&(Lf=null,Xn.trustedTypes))try{Lf=Xn.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Lf}()?.createHTML(r)||r}function VI(r){jm=r}function og(){if(void 0!==jm)return jm;if(typeof document<"u")return document;throw new Se(210,!1)}function BI(){if(void 0===Hm&&(Hm=null,Xn.trustedTypes))try{Hm=Xn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Hm}function uC(r){return BI()?.createHTML(r)||r}function cC(r){return BI()?.createScriptURL(r)||r}class Uf{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ke})`}}class lC extends Uf{getTypeName(){return"HTML"}}class $I extends Uf{getTypeName(){return"Style"}}class dC extends Uf{getTypeName(){return"Script"}}class jI extends Uf{getTypeName(){return"URL"}}class Mv extends Uf{getTypeName(){return"ResourceURL"}}function Il(r){return r instanceof Uf?r.changingThisBreaksApplicationSecurity:r}function ag(r,s){const o=function xv(r){return r instanceof Uf&&r.getTypeName()||null}(r);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see ${Ke})`)}return o===s}function qS(r){return new lC(r)}function hC(r){return new $I(r)}function WS(r){return new dC(r)}function fC(r){return new jI(r)}function pC(r){return new Mv(r)}class ZS{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(Ff(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch{return null}}}class mC{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const o=this.inertDocument.createElement("template");return o.innerHTML=Ff(s),o}}const YS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ov(r){return(r=String(r)).match(YS)?r:"unsafe:"+r}function Od(r){const s={};for(const o of r.split(","))s[o]=!0;return s}function zm(...r){const s={};for(const o of r)for(const u in o)o.hasOwnProperty(u)&&(s[u]=!0);return s}const HI=Od("area,br,col,hr,img,wbr"),Cc=Od("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pn=Od("rp,rt"),bh=zm(HI,zm(Cc,Od("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zm(pn,Od("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zm(pn,Cc)),Rv=Od("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qI=zm(Rv,Od("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Od("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),yC=Od("script,style,template");class Ua{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let l=this.checkClobberedElement(o,o.nextSibling);if(l){o=l;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!bh.hasOwnProperty(o))return this.sanitizedSomething=!0,!yC.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=s.attributes;for(let l=0;l<u.length;l++){const f=u.item(l),E=f.name,T=E.toLowerCase();if(!qI.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let O=f.value;Rv[T]&&(O=Ov(O)),this.buf.push(" ",E,'="',td(O),'"')}return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();bh.hasOwnProperty(o)&&!HI.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(td(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const qm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Qo=/([^\#-~ |!])/g;function td(r){return r.replace(/&/g,"&amp;").replace(qm,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Qo,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Wm;function Nv(r,s){let o=null;try{Wm=Wm||function gC(r){const s=new mC(r);return function KS(){try{return!!(new window.DOMParser).parseFromString(Ff(""),"text/html")}catch{return!1}}()?new ZS(s):s}(r);let u=s?String(s):"";o=Wm.getInertBodyElement(u);let l=5,f=u;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,u=f,f=o.innerHTML,o=Wm.getInertBodyElement(u)}while(u!==f);return Ff((new Ua).sanitizeChildren(ug(o)||o))}finally{if(o){const u=ug(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function ug(r){return"content"in r&&function WI(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var zs=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(zs||{});function ZI(r){const s=lg();return s?uC(s.sanitize(zs.HTML,r)||""):ag(r,"HTML")?uC(Il(r)):Nv(og(),Ve(r))}function Vf(r){const s=lg();return s?s.sanitize(zs.URL,r)||"":ag(r,"URL")?Il(r):Ov(Ve(r))}function Dc(r){const s=lg();if(s)return cC(s.sanitize(zs.RESOURCE_URL,r)||"");if(ag(r,"ResourceURL"))return cC(Il(r));throw new Se(904,!1)}function Lv(r,s,o){return function Bf(r,s){return"src"===s&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===s&&("base"===r||"link"===r)?Dc:Vf}(s,o)(r)}function lg(){const r=wt();return r&&r[Ri].sanitizer}const $f=new Qt("ENVIRONMENT_INITIALIZER"),Zm=new Qt("INJECTOR",-1),Km=new Qt("INJECTOR_DEF_TYPES");class dg{get(s,o=F){if(o===F){const u=new Error(`NullInjectorError: No provider for ${Dt(s)}!`);throw u.name="NullInjectorError",u}return o}}function Fv(...r){return{\u0275providers:Uv(0,r),\u0275fromNgModule:!0}}function Uv(r,...s){const o=[],u=new Set;let l;const f=E=>{o.push(E)};return pl(s,E=>{const T=E;Pd(T,f,[],u)&&(l||=[],l.push(T))}),void 0!==l&&YI(l,f),o}function YI(r,s){for(let o=0;o<r.length;o++){const{ngModule:u,providers:l}=r[o];Th(l,f=>{s(f,u)})}}function Pd(r,s,o,u){if(!(r=ft(r)))return!1;let l=null,f=mn(r);const E=!f&&ir(r);if(f||E){if(E&&!E.standalone)return!1;l=r}else{const O=r.ngModule;if(f=mn(O),!f)return!1;l=O}const T=u.has(l);if(E){if(T)return!1;if(u.add(l),E.dependencies){const O="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const z of O)Pd(z,s,o,u)}}else{if(!f)return!1;{if(null!=f.imports&&!T){let z;u.add(l);try{pl(f.imports,ie=>{Pd(ie,s,o,u)&&(z||=[],z.push(ie))})}finally{}void 0!==z&&YI(z,s)}if(!T){const z=Aa(l)||(()=>new l);s({provide:l,useFactory:z,deps:St},l),s({provide:Km,useValue:l,multi:!0},l),s({provide:$f,useValue:()=>Ln(l),multi:!0},l)}const O=f.providers;if(null!=O&&!T){const z=r;Th(O,ie=>{s(ie,z)})}}}return l!==r&&void 0!==r.providers}function Th(r,s){for(let o of r)qe(o)&&(o=o.\u0275providers),Array.isArray(o)?Th(o,s):s(o)}const IC=Oe({provide:String,useValue:Oe});function Vv(r){return null!==r&&"object"==typeof r&&IC in r}function Ch(r){return"function"==typeof r}const Jm=new Qt("Set Injector scope."),fg={},Xm={};let pg;function jf(){return void 0===pg&&(pg=new dg),pg}class Sc{}class Rd extends Sc{get destroyed(){return this._destroyed}constructor(s,o,u,l){super(),this.parent=o,this.source=u,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gg(s,E=>this.processProvider(E)),this.records.set(Zm,Dh(void 0,this)),l.has("environment")&&this.records.set(Sc,Dh(void 0,this));const f=this.records.get(Jm);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Km.multi,St,rn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of s)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const o=Rn(this),u=bn(void 0);try{return s()}finally{Rn(o),bn(u)}}get(s,o=F,u=rn.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(ti))return s[ti](this);u=as(u);const f=Rn(this),E=bn(void 0);try{if(!(u&rn.SkipSelf)){let O=this.records.get(s);if(void 0===O){const z=function bC(r){return"function"==typeof r||"object"==typeof r&&r instanceof Qt}(s)&&Et(s);O=z&&this.injectableDefInScope(z)?Dh(ey(s),fg):null,this.records.set(s,O)}if(null!=O)return this.hydrate(s,O)}return(u&rn.Self?jf():this.parent).get(s,o=u&rn.Optional&&o===F?null:o)}catch(T){if("NullInjectorError"===T.name){if((T[q]=T[q]||[]).unshift(Dt(s)),f)throw T;return function U(r,s,o,u){const l=r[q];throw s[Mt]&&l.unshift(s[Mt]),r.message=function le(r,s,o,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let l=Dt(s);if(Array.isArray(s))l=s.map(Dt).join(" -> ");else if("object"==typeof s){let f=[];for(let E in s)if(s.hasOwnProperty(E)){let T=s[E];f.push(E+":"+("string"==typeof T?JSON.stringify(T):Dt(T)))}l=`{${f.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${r.replace(Ce,"\n  ")}`}("\n"+r.message,l,o,u),r.ngTokenPath=l,r[q]=null,r}(T,s,"R3InjectorError",this.source)}throw T}finally{bn(E),Rn(f)}}resolveInjectorInitializers(){const s=Rn(this),o=bn(void 0);try{const l=this.get($f.multi,St,rn.Self);for(const f of l)f()}finally{Rn(s),bn(o)}}toString(){const s=[],o=this.records;for(const u of o.keys())s.push(Dt(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Se(205,!1)}processProvider(s){let o=Ch(s=ft(s))?s:ft(s&&s.provide);const u=function wC(r){return Vv(r)?Dh(void 0,r.useValue):Dh(Bv(r),fg)}(s);if(Ch(s)||!0!==s.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=Dh(void 0,fg,!0),l.factory=()=>ho(l.multi),this.records.set(o,l)),o=s,l.multi.push(s)}this.records.set(o,u)}hydrate(s,o){return o.value===fg&&(o.value=Xm,o.value=o.factory()),"object"==typeof o.value&&o.value&&function XI(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=ft(s.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(s){const o=this._onDestroyHooks.indexOf(s);-1!==o&&this._onDestroyHooks.splice(o,1)}}function ey(r){const s=Et(r),o=null!==s?s.factory:Aa(r);if(null!==o)return o;if(r instanceof Qt)throw new Se(204,!1);if(r instanceof Function)return function JI(r){const s=r.length;if(s>0)throw function Fa(r,s){const o=[];for(let u=0;u<r;u++)o.push(s);return o}(s,"?"),new Se(204,!1);const o=function pr(r){return r&&(r[Dn]||r[dn])||null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new Se(204,!1)}function Bv(r,s,o){let u;if(Ch(r)){const l=ft(r);return Aa(l)||ey(l)}if(Vv(r))u=()=>ft(r.useValue);else if(function Qm(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...ho(r.deps||[]));else if(function hg(r){return!(!r||!r.useExisting)}(r))u=()=>Ln(ft(r.useExisting));else{const l=ft(r&&(r.useClass||r.provide));if(!function $v(r){return!!r.deps}(r))return Aa(l)||ey(l);u=()=>new l(...ho(r.deps))}return u}function Dh(r,s,o=!1){return{factory:r,value:s,multi:o?[]:void 0}}function gg(r,s){for(const o of r)Array.isArray(o)?gg(o,s):o&&qe(o)?gg(o.\u0275providers,s):s(o)}const ty=new Qt("AppId",{providedIn:"root",factory:()=>jv}),jv="ng",$o=new Qt("Platform Initializer"),jo=new Qt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Gv=new Qt("AnimationModuleType"),TC=new Qt("CSP nonce",{providedIn:"root",factory:()=>og().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let vg=(r,s,o)=>null;function kd(r,s,o=!1){return vg(r,s,o)}class ly{}class qv{}class Ig{resolveComponentFactory(s){throw function Wv(r){const s=Error(`No component factory found for ${Dt(r)}.`);return s.ngComponent=r,s}(s)}}let Gf=(()=>{class r{static#e=this.NULL=new Ig}return r})();function Kv(){return Fd(Vi(),wt())}function Fd(r,s){return new Ud(ii(r,s))}let Ud=(()=>{class r{constructor(o){this.nativeElement=o}static#e=this.__NG_ELEMENT_ID__=Kv}return r})();function wg(r){return r instanceof Ud?r.nativeElement:r}class Yv{}let RC=(()=>{class r{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Qv(){const r=wt(),o=Ui(Vi().index,r);return(di(o)?o:r)[Vn]}()}return r})(),dy=(()=>{class r{static#e=this.\u0275prov=Pe({token:r,providedIn:"root",factory:()=>null})}return r})();class hy{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Jv=new hy("16.2.12"),fy={};function py(r){if(!Er()&&!function hn(){return ln}())throw new Se(-203,!1)}function Xv(r,s=null,o=null,u){const l=iw(r,s,o,u);return l.resolveInjectorInitializers(),l}function iw(r,s=null,o=null,u,l=new Set){const f=[o||St,Fv(r)];return u=u||("object"==typeof r?void 0:Dt(r)),new Rd(f,s||jf(),u||null,l)}let ba=(()=>{class r{static#e=this.THROW_IF_NOT_FOUND=F;static#t=this.NULL=new dg;static create(o,u){if(Array.isArray(o))return Xv({name:""},u,o,"");{const l=o.name??"";return Xv({name:l},o.parent,o.providers,l)}}static#n=this.\u0275prov=Pe({token:r,providedIn:"any",factory:()=>Ln(Zm)});static#r=this.__NG_ELEMENT_ID__=-1}return r})();function Wf(r){return r.ngOriginalError}class nd{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s);this._console.error("ERROR",s),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&Wf(s);for(;o&&Wf(o);)o=Wf(o);return o||null}}let Di=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=bg;static#t=this.__NG_ENV_ID__=o=>o}return r})();class yy extends Di{constructor(s){super(),this._lView=s}onDestroy(s){return xa(this._lView,s),()=>function si(r,s){if(null===r[Js])return;const o=r[Js].indexOf(s);-1!==o&&r[Js].splice(o,1)}(this._lView,s)}}function bg(){return new yy(wt())}function t0(r){return s=>{setTimeout(r,void 0,s)}}const Wc=class Tg extends m.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,u){let l=s,f=o||(()=>null),E=u;if(s&&"object"==typeof s){const O=s;l=O.next?.bind(O),f=O.error?.bind(O),E=O.complete?.bind(O)}this.__isAsync&&(f=t0(f),l&&(l=t0(l)),E&&(E=t0(E)));const T=super.subscribe({next:l,error:f,complete:E});return s instanceof Q.w0&&s.add(T),T}};function sw(...r){}class Jo{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wc(!1),this.onMicrotaskEmpty=new Wc(!1),this.onStable=new Wc(!1),this.onError=new Wc(!1),typeof Zone>"u")throw new Se(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function UC(){const r="function"==typeof Xn.requestAnimationFrame;let s=Xn[r?"requestAnimationFrame":"setTimeout"],o=Xn[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function aw(r){const s=()=>{!function ow(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Xn,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,_y(r),r.isCheckStableRunning=!0,Tl(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),_y(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,f,E,T)=>{if(function lw(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(T))return o.invokeTask(l,f,E,T);try{return Ph(r),o.invokeTask(l,f,E,T)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||r.shouldCoalesceRunChangeDetection)&&s(),uw(r)}},onInvoke:(o,u,l,f,E,T,O)=>{try{return Ph(r),o.invoke(l,f,E,T,O)}finally{r.shouldCoalesceRunChangeDetection&&s(),uw(r)}},onHasTask:(o,u,l,f)=>{o.hasTask(l,f),u===l&&("microTask"==f.change?(r._hasPendingMicrotasks=f.microTask,_y(r),Tl(r)):"macroTask"==f.change&&(r.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,u,l,f)=>(o.handleError(l,f),r.runOutsideAngular(()=>r.onError.emit(f)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Jo.isInAngularZone())throw new Se(909,!1)}static assertNotInAngularZone(){if(Jo.isInAngularZone())throw new Se(909,!1)}run(s,o,u){return this._inner.run(s,o,u)}runTask(s,o,u,l){const f=this._inner,E=f.scheduleEventTask("NgZoneEvent: "+l,s,Cg,sw,sw);try{return f.runTask(E,o,u)}finally{f.cancelTask(E)}}runGuarded(s,o,u){return this._inner.runGuarded(s,o,u)}runOutsideAngular(s){return this._outer.run(s)}}const Cg={};function Tl(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function _y(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function Ph(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function uw(r){r._nesting--,Tl(r)}class VC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wc,this.onMicrotaskEmpty=new Wc,this.onStable=new Wc,this.onError=new Wc}run(s,o,u){return s.apply(o,u)}runGuarded(s,o,u){return s.apply(o,u)}runOutsideAngular(s){return s()}runTask(s,o,u,l){return s.apply(o,u)}}const n0=new Qt("",{providedIn:"root",factory:cw});function cw(){const r=ar(Jo);let s=!0;const o=new d.y(l=>{s=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{l.next(s),l.complete()})}),u=new d.y(l=>{let f;r.runOutsideAngular(()=>{f=r.onStable.subscribe(()=>{Jo.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(s=!0,l.next(!0))})})});const E=r.onUnstable.subscribe(()=>{Jo.assertInAngularZone(),s&&(s=!1,r.runOutsideAngular(()=>{l.next(!1)}))});return()=>{f.unsubscribe(),E.unsubscribe()}});return(0,he.T)(o,u.pipe(te()))}function r0(r){return r.ownerDocument.defaultView}function vy(r){return r.ownerDocument}function Cl(r){return r instanceof Function?r():r}let Nh=(()=>{class r{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Pe({token:r,providedIn:"root",factory:()=>new r})}return r})();function Vd(r){for(;r;){r[Un]|=64;const s=nr(r);if(ci(r)&&!s)return r;r=s}return null}const Yf=new Qt("",{providedIn:"root",factory:()=>!1});let Qu=null;function a0(r,s){return r[s]??Qf()}function pw(r,s){const o=Qf();o.producerNode?.length&&(r[s]=Qu,o.lView=r,Qu=Iy())}const gw={...hs,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{Vd(r.lView)},lView:null};function Iy(){return Object.create(gw)}function Qf(){return Qu??=Iy(),Qu}const gr={};function wy(r){Mg(yr(),wt(),$r()+r,!1)}function Mg(r,s,o,u){if(!u)if(3==(3&s[Un])){const f=r.preOrderCheckHooks;null!==f&&Gu(s,f,o)}else{const f=r.preOrderHooks;null!==f&&Ci(s,f,0,o)}ga(o)}function kh(r,s=rn.Default){const o=wt();return null===o?Ln(r,s):vc(Vi(),o,ft(r),s)}function xg(){throw new Error("invalid")}function Og(r,s,o,u,l,f,E,T,O,z,ie){const ye=s.blueprint.slice();return ye[Dr]=l,ye[Un]=140|u,(null!==z||r&&2048&r[Un])&&(ye[Un]|=2048),ju(ye),ye[Lr]=ye[Qs]=r,ye[ur]=o,ye[Ri]=E||r&&r[Ri],ye[Vn]=T||r&&r[Vn],ye[oi]=O||r&&r[oi]||null,ye[Wr]=f,ye[mo]=function RI(){return PI++}(),ye[Ki]=ie,ye[qa]=z,ye[Hr]=2==s.type?r[Hr]:ye,ye}function Dl(r,s,o,u,l){let f=r.data[s];if(null===f)f=function by(r,s,o,u,l){const f=Bl(),E=lc(),O=r.data[s]=function vw(r,s,o,u,l,f){let E=s?s.injectorIndex:-1,T=0;return function Oa(){return null!==Pn.skipHydrationRootTNode}()&&(T|=128),{type:o,index:u,insertBeforeIndex:null,injectorIndex:E,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:T,providerIndexes:0,value:l,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?f:f&&f.parent,o,s,u,l);return null===r.firstChild&&(r.firstChild=O),null!==f&&(E?null==f.child&&null!==O.parent&&(f.child=O):null===f.next&&(f.next=O,O.prev=f)),O}(r,s,o,u,l),function fc(){return Pn.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=o,f.value=u,f.attrs=l;const E=function wu(){const r=Pn.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}();f.injectorIndex=null===E?-1:E.injectorIndex}return ms(f,!0),f}function Jf(r,s,o,u){if(0===o)return-1;const l=s.length;for(let f=0;f<o;f++)s.push(u),r.blueprint.push(u),r.data.push(null);return l}function Ty(r,s,o,u,l){const f=a0(s,Bs),E=$r(),T=2&u;try{ga(-1),T&&s.length>Gn&&Mg(r,s,Gn,!1),Yi(T?2:0,l);const z=T?f:null,ie=Hs(z);try{null!==z&&(z.dirty=!1),o(u,l)}finally{Vu(z,ie)}}finally{T&&null===s[Bs]&&pw(s,Bs),ga(E),Yi(T?3:1,l)}}function Pg(r,s,o){if(Li(s)){const u=Ti(null);try{const f=s.directiveEnd;for(let E=s.directiveStart;E<f;E++){const T=r.data[E];T.contentQueries&&T.contentQueries(1,o[E],E)}}finally{Ti(u)}}}function Cy(r,s,o){Iu()&&(function f0(r,s,o,u){const l=o.directiveStart,f=o.directiveEnd;cs(o)&&function Iw(r,s,o){const u=ii(s,r),l=u0(o);let E=16;o.signals?E=4096:o.onPush&&(E=64);const T=Py(r,Og(r,l,null,E,u,s,null,r[Ri].rendererFactory.createRenderer(u,o),null,null,null));r[s.index]=T}(s,o,r.data[l+o.componentOffset]),r.firstCreatePass||_c(o,s),Ia(u,s);const E=o.initialInputs;for(let T=l;T<f;T++){const O=r.data[T],z=Wu(s,r,T,o);Ia(z,s),null!==E&&YC(0,T-l,z,O,0,E),Fi(O)&&(Ui(o.index,s)[ur]=Wu(s,r,T,o))}}(r,s,o,ii(o,s)),64==(64&o.flags)&&p0(r,s,o))}function Xf(r,s,o=ii){const u=s.localNames;if(null!==u){let l=s.index+1;for(let f=0;f<u.length;f+=2){const E=u[f+1],T=-1===E?o(s,r):r[E];r[l++]=T}}}function u0(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=Dy(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):s}function Dy(r,s,o,u,l,f,E,T,O,z,ie){const ye=Gn+u,Fe=ye+l,Ye=function Lh(r,s){const o=[];for(let u=0;u<s;u++)o.push(u<r?null:gr);return o}(ye,Fe),Tt="function"==typeof z?z():z;return Ye[zt]={type:r,blueprint:Ye,template:o,queries:null,viewQuery:T,declTNode:s,data:Ye.slice().fill(null,ye),bindingStartIndex:ye,expandoStartIndex:Fe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:O,consts:Tt,incompleteFirstPass:!1,ssrId:ie}}let c0=r=>null;function l0(r,s,o,u){for(let l in r)if(r.hasOwnProperty(l)){o=null===o?{}:o;const f=r[l];null===u?Fh(o,s,l,f):u.hasOwnProperty(l)&&Fh(o,s,u[l],f)}return o}function Fh(r,s,o,u){r.hasOwnProperty(o)?r[o].push(s,u):r[o]=[s,u]}function iu(r,s,o,u,l,f,E,T){const O=ii(s,o);let ie,z=s.inputs;!T&&null!=z&&(ie=z[u])?(Bd(r,o,ie,u,l),cs(s)&&function Si(r,s){const o=Ui(s,r);16&o[Un]||(o[Un]|=64)}(o,s.index)):3&s.type&&(u=function Zc(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),l=null!=E?E(l,s.value||"",u):l,f.setProperty(O,u,l))}function Ac(r,s,o,u){if(Iu()){const l=null===u?null:{"":-1},f=function Mc(r,s){const o=r.directiveRegistry;let u=null,l=null;if(o)for(let f=0;f<o.length;f++){const E=o[f];if(Wi(s,E.selectors,!1))if(u||(u=[]),Fi(E))if(null!==E.findHostDirectiveDefs){const T=[];l=l||new Map,E.findHostDirectiveDefs(E,T,l),u.unshift(...T,E),Ho(r,s,T.length)}else u.unshift(E),Ho(r,s,0);else l=l||new Map,E.findHostDirectiveDefs?.(E,u,l),u.push(E)}return null===u?null:[u,l]}(r,o);let E,T;null===f?E=T=null:[E,T]=f,null!==E&&d0(r,s,o,E,l,T),l&&function Ay(r,s,o){if(s){const u=r.localNames=[];for(let l=0;l<s.length;l+=2){const f=o[s[l+1]];if(null==f)throw new Se(-301,!1);u.push(s[l],f)}}}(o,u,l)}o.mergedAttrs=ia(o.mergedAttrs,o.attrs)}function d0(r,s,o,u,l,f){for(let z=0;z<u.length;z++)Vc(_c(o,s),r,u[z].type);!function Rg(r,s,o){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+o,r.providerIndexes=s}(o,r.data.length,u.length);for(let z=0;z<u.length;z++){const ie=u[z];ie.providersResolver&&ie.providersResolver(ie)}let E=!1,T=!1,O=Jf(r,s,u.length,null);for(let z=0;z<u.length;z++){const ie=u[z];o.mergedAttrs=ia(o.mergedAttrs,ie.hostAttrs),xy(r,o,s,O,ie),My(O,ie,l),null!==ie.contentQueries&&(o.flags|=4),(null!==ie.hostBindings||null!==ie.hostAttrs||0!==ie.hostVars)&&(o.flags|=64);const ye=ie.type.prototype;!E&&(ye.ngOnChanges||ye.ngOnInit||ye.ngDoCheck)&&((r.preOrderHooks??=[]).push(o.index),E=!0),!T&&(ye.ngOnChanges||ye.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(o.index),T=!0),O++}!function ZC(r,s,o){const l=s.directiveEnd,f=r.data,E=s.attrs,T=[];let O=null,z=null;for(let ie=s.directiveStart;ie<l;ie++){const ye=f[ie],Fe=o?o.get(ye):null,Tt=Fe?Fe.outputs:null;O=l0(ye.inputs,ie,O,Fe?Fe.inputs:null),z=l0(ye.outputs,ie,z,Tt);const Ft=null===O||null===E||Ys(s)?null:QC(O,ie,E);T.push(Ft)}null!==O&&(O.hasOwnProperty("class")&&(s.flags|=8),O.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=T,s.inputs=O,s.outputs=z}(r,o,f)}function p0(r,s,o){const u=o.directiveStart,l=o.directiveEnd,f=o.index,E=function C(){return Pn.lFrame.currentDirectiveIndex}();try{ga(f);for(let T=u;T<l;T++){const O=r.data[T],z=s[T];x(T),(null!==O.hostBindings||0!==O.hostVars||null!==O.hostAttrs)&&rd(O,z)}}finally{ga(-1),x(E)}}function rd(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function Ho(r,s,o){s.componentOffset=o,(r.components??=[]).push(s.index)}function My(r,s,o){if(o){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)o[s.exportAs[u]]=r;Fi(s)&&(o[""]=r)}}function xy(r,s,o,u,l){r.data[u]=l;const f=l.factory||(l.factory=Aa(l.type)),E=new Uc(f,Fi(l),kh);r.blueprint[u]=E,o[u]=E,function h0(r,s,o,u,l){const f=l.hostBindings;if(f){let E=r.hostBindingOpCodes;null===E&&(E=r.hostBindingOpCodes=[]);const T=~s.index;(function ep(r){let s=r.length;for(;s>0;){const o=r[--s];if("number"==typeof o&&o<0)return o}return 0})(E)!=T&&E.push(T),E.push(o,u,f)}}(r,s,u,Jf(r,o,l.hostVars,gr),l)}function su(r,s,o,u,l,f){const E=ii(r,s);!function g0(r,s,o,u,l,f,E){if(null==f)r.removeAttribute(s,l,o);else{const T=null==E?Ve(f):E(f,u||"",l);r.setAttribute(s,l,T,o)}}(s[Vn],E,f,r.value,o,u,l)}function YC(r,s,o,u,l,f){const E=f[s];if(null!==E)for(let T=0;T<E.length;)Oy(u,o,E[T++],E[T++],E[T++])}function Oy(r,s,o,u,l){const f=Ti(null);try{const E=r.inputTransforms;null!==E&&E.hasOwnProperty(u)&&(l=E[u].call(s,l)),null!==r.setInput?r.setInput(s,l,o,u):s[u]=l}finally{Ti(f)}}function QC(r,s,o){let u=null,l=0;for(;l<o.length;){const f=o[l];if(0!==f)if(5!==f){if("number"==typeof f)break;if(r.hasOwnProperty(f)){null===u&&(u=[]);const E=r[f];for(let T=0;T<E.length;T+=2)if(E[T]===s){u.push(f,E[T+1],o[l+1]);break}}l+=2}else l+=2;else l+=4}return u}function ww(r,s,o,u){return[r,!0,!1,s,null,0,u,o,null,null,null]}function m0(r,s){const o=r.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const f=o[u+1];if(-1!==f){const E=r.data[f];H(o[u]),E.contentQueries(2,s[f],f)}}}function Py(r,s){return r[Us]?r[ai][pi]=s:r[Us]=s,r[ai]=s,s}function tp(r,s,o){H(0);const u=Ti(null);try{s(r,o)}finally{Ti(u)}}function bw(r){return r[Pi]||(r[Pi]=[])}function Uh(r){return r.cleanup||(r.cleanup=[])}function Go(r,s){const o=r[oi],u=o?o.get(nd,null):null;u&&u.handleError(s)}function Bd(r,s,o,u,l){for(let f=0;f<o.length;){const E=o[f++],T=o[f++];Oy(r.data[E],s[E],u,T,l)}}function Ba(r,s,o){const u=oc(s,r);!function Ql(r,s,o){r.setValue(s,o)}(r[Vn],u,o)}function _0(r,s){const o=Ui(s,r),u=o[zt];!function rA(r,s){for(let o=s.length;o<r.blueprint.length;o++)s.push(r.blueprint[o])}(u,o);const l=o[Dr];null!==l&&null===o[Ki]&&(o[Ki]=kd(l,o[oi])),Ut(u,o,o[ur])}function Ut(r,s,o){st(s);try{const u=r.viewQuery;null!==u&&tp(1,u,o);const l=r.template;null!==l&&Ty(r,s,l,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&m0(r,s),r.staticViewQueries&&tp(2,r.viewQuery,o);const f=r.components;null!==f&&function ro(r,s){for(let o=0;o<s.length;o++)_0(r,s[o])}(s,f)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{s[Un]&=-5,dr()}}let xc=(()=>{class r{constructor(){this.all=new Set,this.queue=new Map}create(o,u,l){const f=typeof Zone>"u"?null:Zone.current,E=function Tr(r,s,o){const u=Object.create(Qr);o&&(u.consumerAllowSignalWrites=!0),u.fn=r,u.schedule=s;const l=E=>{u.cleanupFn=E};return u.ref={notify:()=>Pc(u),run:()=>{if(u.dirty=!1,u.hasRun&&!Eo(u))return;u.hasRun=!0;const E=Hs(u);try{u.cleanupFn(),u.cleanupFn=Qn,u.fn(l)}finally{Vu(u,E)}},cleanup:()=>u.cleanupFn()},u.ref}(o,z=>{this.all.has(z)&&this.queue.set(z,f)},l);let T;this.all.add(E),E.notify();const O=()=>{E.cleanup(),T?.(),this.all.delete(E),this.queue.delete(E)};return T=u?.onDestroy(O),{destroy:O}}flush(){if(0!==this.queue.size)for(const[o,u]of this.queue)this.queue.delete(o),u?u.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Pe({token:r,providedIn:"root",factory:()=>new r})}return r})();function Cn(r,s,o){let u=o?r.styles:null,l=o?r.classes:null,f=0;if(null!==s)for(let E=0;E<s.length;E++){const T=s[E];"number"==typeof T?f=T:1==f?l=Rt(l,T):2==f&&(u=Rt(u,T+": "+s[++E]+";"))}o?r.styles=u:r.stylesWithoutHost=u,o?r.classes=l:r.classesWithoutHost=l}function Mn(r,s,o,u,l=!1){for(;null!==o;){const f=s[o.index];null!==f&&u.push(li(f)),ki(f)&&JC(f,u);const E=o.type;if(8&E)Mn(r,s,o.child,u);else if(32&E){const T=Yt(o,s);let O;for(;O=T();)u.push(O)}else if(16&E){const T=bv(s,o);if(Array.isArray(T))u.push(...T);else{const O=nr(s[Hr]);Mn(O[zt],O,T,u,!0)}}o=l?o.projectionNext:o.next}return u}function JC(r,s){for(let o=Yr;o<r.length;o++){const u=r[o],l=u[zt].firstChild;null!==l&&Mn(u[zt],u,l,s)}r[ri]!==r[Dr]&&s.push(r[ri])}function an(r,s,o,u=!0){const l=s[Ri],f=l.rendererFactory,E=l.afterRenderEventManager;f.begin?.(),E?.begin();try{Co(r,s,r.template,o)}catch(O){throw u&&Go(s,O),O}finally{f.end?.(),l.effectManager?.flush(),E?.end()}}function Co(r,s,o,u){const l=s[Un];if(256!=(256&l)){s[Ri].effectManager?.flush(),st(s);try{ju(s),function hc(r){return Pn.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&Ty(r,s,o,2,u);const E=3==(3&l);if(E){const z=r.preOrderCheckHooks;null!==z&&Gu(s,z,null)}else{const z=r.preOrderHooks;null!==z&&Ci(s,z,0,null),gc(s,0)}if(function XC(r){for(let s=Hi(r);null!==s;s=Qi(s)){if(!s[Cs])continue;const o=s[yo];for(let u=0;u<o.length;u++){rl(o[u])}}}(s),E0(s,2),null!==r.contentQueries&&m0(r,s),E){const z=r.contentCheckHooks;null!==z&&Gu(s,z)}else{const z=r.contentHooks;null!==z&&Ci(s,z,1),gc(s,1)}!function WC(r,s){const o=r.hostBindingOpCodes;if(null===o)return;const u=a0(s,$s);try{for(let l=0;l<o.length;l++){const f=o[l];if(f<0)ga(~f);else{const E=f,T=o[++l],O=o[++l];fd(T,E),u.dirty=!1;const z=Hs(u);try{O(2,s[E])}finally{Vu(u,z)}}}}finally{null===s[$s]&&pw(s,$s),ga(-1)}}(r,s);const T=r.components;null!==T&&Cw(s,T,0);const O=r.viewQuery;if(null!==O&&tp(2,O,u),E){const z=r.viewCheckHooks;null!==z&&Gu(s,z)}else{const z=r.viewHooks;null!==z&&Ci(s,z,2),gc(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[Un]&=-73,yi(s)}finally{dr()}}}function E0(r,s){for(let o=Hi(r);null!==o;o=Qi(o))for(let u=Yr;u<o.length;u++)Tw(o[u],s)}function eD(r,s,o){Tw(Ui(s,r),o)}function Tw(r,s){if(!function Nc(r){return 128==(128&r[Un])}(r))return;const o=r[zt],u=r[Un];if(80&u&&0===s||1024&u||2===s)Co(o,r,o.template,r[ur]);else if(r[ko]>0){E0(r,1);const l=o.components;null!==l&&Cw(r,l,1)}}function Cw(r,s,o){for(let u=0;u<s.length;u++)eD(r,s[u],o)}class Ng{get rootNodes(){const s=this._lView,o=s[zt];return Mn(o,s,o.firstChild,[])}constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ur]}set context(s){this._lView[ur]=s}get destroyed(){return 256==(256&this._lView[Un])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Lr];if(ki(s)){const o=s[8],u=o?o.indexOf(this):-1;u>-1&&(wh(s,u),Ku(o,u))}this._attachedToViewContainer=!1}Sn(this._lView[zt],this._lView)}onDestroy(s){xa(this._lView,s)}markForCheck(){Vd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Un]&=-129}reattach(){this._lView[Un]|=128}detectChanges(){an(this._lView[zt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Yu(r,s){sg(r,s,s[Vn],2,null,null)}(this._lView[zt],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Se(902,!1);this._appRef=s}}class Dw extends Ng{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;an(s[zt],s,s[ur],!1)}checkNoChanges(){}get context(){return null}}class Sw extends Gf{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=ir(s);return new or(o,this.ngModule)}}function tD(r){const s=[];for(let o in r)r.hasOwnProperty(o)&&s.push({propName:r[o],templateName:o});return s}class Aw{constructor(s,o){this.injector=s,this.parentInjector=o}get(s,o,u){u=as(u);const l=this.injector.get(s,fy,u);return l!==fy||o===fy?l:this.parentInjector.get(s,o,u)}}class or extends qv{get inputs(){const s=this.componentDef,o=s.inputTransforms,u=tD(s.inputs);if(null!==o)for(const l of u)o.hasOwnProperty(l.propName)&&(l.transform=o[l.propName]);return u}get outputs(){return tD(this.componentDef.outputs)}constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function oa(r){return r.map(Fu).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}create(s,o,u,l){let f=(l=l||this.ngModule)instanceof Sc?l:l?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const E=f?new Aw(s,f):s,T=E.get(Yv,null);if(null===T)throw new Se(407,!1);const ye={rendererFactory:T,sanitizer:E.get(dy,null),effectManager:E.get(xc,null),afterRenderEventManager:E.get(Nh,null)},Fe=T.createRenderer(null,this.componentDef),Ye=this.componentDef.selectors[0][0]||"div",Tt=u?function mw(r,s,o,u){const f=u.get(Yf,!1)||o===We.ShadowDom,E=r.selectRootElement(s,f);return function yw(r){c0(r)}(E),E}(Fe,u,this.componentDef.encapsulation,E):To(Fe,Ye,function nD(r){const s=r.toLowerCase();return"svg"===s?$u:"math"===s?"math":null}(Ye)),An=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let At=null;null!==Tt&&(At=kd(Tt,E,!0));const fr=Dy(0,null,null,1,0,null,null,null,null,null,null),Rr=Og(null,fr,null,An,null,null,ye,Fe,E,null,At);let Ai,Nu;st(Rr);try{const dd=this.componentDef;let Wp,eC=null;dd.findHostDirectiveDefs?(Wp=[],eC=new Map,dd.findHostDirectiveDefs(dd,Wp,eC),Wp.push(dd)):Wp=[dd];const RA=function Mw(r,s){const o=r[zt],u=Gn;return r[u]=s,Dl(o,u,2,"#host",null)}(Rr,Tt),NA=function Ns(r,s,o,u,l,f,E){const T=l[zt];!function Hn(r,s,o,u){for(const l of r)s.mergedAttrs=ia(s.mergedAttrs,l.hostAttrs);null!==s.mergedAttrs&&(Cn(s,s.mergedAttrs,!0),null!==o&&Sv(u,o,s))}(u,r,s,E);let O=null;null!==s&&(O=kd(s,l[oi]));const z=f.rendererFactory.createRenderer(s,o);let ie=16;o.signals?ie=4096:o.onPush&&(ie=64);const ye=Og(l,u0(o),null,ie,l[r.index],r,f,z,null,null,O);return T.firstCreatePass&&Ho(T,r,u.length-1),Py(l,ye),l[r.index]=ye}(RA,Tt,dd,Wp,Rr,ye,Fe);Nu=nl(fr,Gn),Tt&&function Jr(r,s,o,u){if(u)xi(r,o,["ng-version",Jv.full]);else{const{attrs:l,classes:f}=function Ga(r){const s=[],o=[];let u=1,l=2;for(;u<r.length;){let f=r[u];if("string"==typeof f)2===l?""!==f&&s.push(f,r[++u]):8===l&&o.push(f);else{if(!jr(l))break;l=f}u++}return{attrs:s,classes:o}}(s.selectors[0]);l&&xi(r,o,l),f&&f.length>0&&Dv(r,o,f.join(" "))}}(Fe,dd,Tt,u),void 0!==o&&function rD(r,s,o){const u=r.projection=[];for(let l=0;l<s.length;l++){const f=o[l];u.push(null!=f?Array.from(f):null)}}(Nu,this.ngContentSelectors,o),Ai=function kg(r,s,o,u,l,f){const E=Vi(),T=l[zt],O=ii(E,l);d0(T,l,E,o,null,u);for(let ie=0;ie<o.length;ie++)Ia(Wu(l,T,E.directiveStart+ie,E),l);p0(T,l,E),O&&Ia(O,l);const z=Wu(l,T,E.directiveStart+E.componentOffset,E);if(r[ur]=l[ur]=z,null!==f)for(const ie of f)ie(z,s);return Pg(T,E,r),z}(NA,dd,Wp,eC,Rr,[io]),Ut(fr,Rr,null)}finally{dr()}return new np(this.componentType,Ai,Fd(Nu,Rr),Rr,Nu)}}class np extends ly{constructor(s,o,u,l,f){super(),this.location=u,this._rootLView=l,this._tNode=f,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new Dw(l),this.componentType=s}setInput(s,o){const u=this._tNode.inputs;let l;if(null!==u&&(l=u[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),o))return;const f=this._rootLView;Bd(f[zt],f,l,s,o),this.previousInputValues.set(s,o),Vd(Ui(this._tNode.index,f))}}get injector(){return new A(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function io(){const r=Vi();ol(wt()[zt],r)}function rp(r){let s=function un(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const u=[r];for(;s;){let l;if(Fi(r))l=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Se(903,!1);l=s.\u0275dir}if(l){if(o){u.push(l);const E=r;E.inputs=Sl(r.inputs),E.inputTransforms=Sl(r.inputTransforms),E.declaredInputs=Sl(r.declaredInputs),E.outputs=Sl(r.outputs);const T=l.hostBindings;T&&sD(r,T);const O=l.viewQuery,z=l.contentQueries;if(O&&iD(r,O),z&&Ry(r,z),Xe(r.inputs,l.inputs),Xe(r.declaredInputs,l.declaredInputs),Xe(r.outputs,l.outputs),null!==l.inputTransforms&&(null===E.inputTransforms&&(E.inputTransforms={}),Xe(E.inputTransforms,l.inputTransforms)),Fi(l)&&l.data.animation){const ie=r.data;ie.animation=(ie.animation||[]).concat(l.data.animation)}}const f=l.features;if(f)for(let E=0;E<f.length;E++){const T=f[E];T&&T.ngInherit&&T(r),T===rp&&(o=!1)}}s=Object.getPrototypeOf(s)}!function I0(r){let s=0,o=null;for(let u=r.length-1;u>=0;u--){const l=r[u];l.hostVars=s+=l.hostVars,l.hostAttrs=ia(l.hostAttrs,o=ia(o,l.hostAttrs))}}(u)}function Sl(r){return r===it?{}:r===St?[]:r}function iD(r,s){const o=r.viewQuery;r.viewQuery=o?(u,l)=>{s(u,l),o(u,l)}:s}function Ry(r,s){const o=r.contentQueries;r.contentQueries=o?(u,l,f)=>{s(u,l,f),o(u,l,f)}:s}function sD(r,s){const o=r.hostBindings;r.hostBindings=o?(u,l)=>{s(u,l),o(u,l)}:s}function ut(r){const s=r.inputConfig,o={};for(const u in s)if(s.hasOwnProperty(u)){const l=s[u];Array.isArray(l)&&l[2]&&(o[u]=l[2])}r.inputTransforms=o}function Ou(r){return!!Al(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function Al(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function $a(r,s,o){return r[s]=o}function Xo(r,s,o){return!Object.is(r[s],o)&&(r[s]=o,!0)}function Bh(r,s,o,u){const l=Xo(r,s,o);return Xo(r,s+1,u)||l}function Es(r,s,o,u,l,f){const E=Bh(r,s,o,u);return Bh(r,s+2,l,f)||E}function $h(r,s,o,u){const l=wt();return Xo(l,pa(),s)&&(yr(),su(_r(),l,r,s,o,u)),$h}function jh(r,s,o,u){return Xo(r,pa(),o)?s+Ve(o)+u:gr}function sp(r,s,o,u,l,f,E,T){const z=function Ly(r,s,o,u,l){const f=Bh(r,s,o,u);return Xo(r,s+2,l)||f}(r,function Vo(){return Pn.lFrame.bindingIndex}(),o,l,E);return Bo(3),z?s+Ve(o)+u+Ve(l)+f+Ve(E)+T:gr}function Bg(r,s,o,u,l,f,E,T){const O=wt(),z=yr(),ie=r+Gn,ye=z.firstCreatePass?function jd(r,s,o,u,l,f,E,T,O){const z=s.consts,ie=Dl(s,r,4,E||null,ha(z,T));Ac(s,o,ie,ha(z,O)),ol(s,ie);const ye=ie.tView=Dy(2,ie,u,l,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,z,null);return null!==s.queries&&(s.queries.template(s,ie),ye.queries=s.queries.embeddedTView(ie)),ie}(ie,z,O,s,o,u,l,f,E):z.data[ie];ms(ye,!1);const Fe=od(z,O,ye,r);uh()&&ig(z,O,Fe,ye),Ia(Fe,O),Py(O,O[ie]=ww(Fe,O,Fe,ye)),ts(ye)&&Cy(z,O,ye),null!=E&&Xf(O,ye,T)}let od=function Yc(r,s,o,u){return Tu(!0),s[Vn].createComment("")};function Wh(r){return ji(function dc(){return Pn.lFrame.contextLView}(),Gn+r)}function jg(r,s,o){const u=wt();return Xo(u,pa(),s)&&iu(yr(),_r(),u,r,s,u[Vn],o,!1),jg}function lp(r,s,o,u,l){const E=l?"class":"style";Bd(r,o,s.inputs[E],E,u)}function dp(r,s,o,u){const l=wt(),f=yr(),E=Gn+r,T=l[Vn],O=f.firstCreatePass?function Zh(r,s,o,u,l,f){const E=s.consts,O=Dl(s,r,2,u,ha(E,l));return Ac(s,o,O,ha(E,f)),null!==O.attrs&&Cn(O,O.attrs,!1),null!==O.mergedAttrs&&Cn(O,O.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,O),O}(E,f,l,s,o,u):f.data[E],z=D0(f,l,O,T,s,r);l[E]=z;const ie=ts(O);return ms(O,!0),Sv(T,z,O),32!=(32&O.flags)&&uh()&&ig(f,l,z,O),0===function Qa(){return Pn.lFrame.elementDepthCount}()&&Ia(z,l),function il(){Pn.lFrame.elementDepthCount++}(),ie&&(Cy(f,l,O),Pg(f,O,l)),null!==u&&Xf(l,O),dp}function Gd(){let r=Vi();lc()?Pa():(r=r.parent,ms(r,!1));const s=r;(function Ja(r){return Pn.skipHydrationRootTNode===r})(s)&&function cc(){Pn.skipHydrationRootTNode=null}(),function ac(){Pn.lFrame.elementDepthCount--}();const o=yr();return o.firstCreatePass&&(ol(o,r),Li(r)&&o.queries.elementEnd(r)),null!=s.classesWithoutHost&&function md(r){return 0!=(8&r.flags)}(s)&&lp(o,s,wt(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function wf(r){return 0!=(16&r.flags)}(s)&&lp(o,s,wt(),s.stylesWithoutHost,!1),Gd}function Vy(r,s,o,u){return dp(r,s,o,u),Gd(),Vy}let D0=(r,s,o,u,l,f)=>(Tu(!0),To(u,l,function Fc(){return Pn.lFrame.currentNamespace}()));function $y(r,s,o){const u=wt(),l=yr(),f=r+Gn,E=l.firstCreatePass?function zw(r,s,o,u,l){const f=s.consts,E=ha(f,u),T=Dl(s,r,8,"ng-container",E);return null!==E&&Cn(T,E,!0),Ac(s,o,T,ha(f,l)),null!==s.queries&&s.queries.elementStart(s,T),T}(f,l,u,s,o):l.data[f];ms(E,!0);const T=A0(l,u,E,r);return u[f]=T,uh()&&ig(l,u,T,E),Ia(T,u),ts(E)&&(Cy(l,u,E),Pg(l,E,u)),null!=o&&Xf(u,E),$y}function jy(){let r=Vi();const s=yr();return lc()?Pa():(r=r.parent,ms(r,!1)),s.firstCreatePass&&(ol(s,r),Li(r)&&s.queries.elementEnd(r)),jy}let A0=(r,s,o,u)=>(Tu(!0),xu(s[Vn],""));function Xi(){return wt()}function Ol(r){return!!r&&"function"==typeof r.then}function M0(r){return!!r&&"function"==typeof r.subscribe}function Hy(r,s,o,u){const l=wt(),f=yr(),E=Vi();return function x0(r,s,o,u,l,f,E){const T=ts(u),z=r.firstCreatePass&&Uh(r),ie=s[ur],ye=bw(s);let Fe=!0;if(3&u.type||E){const Ft=ii(u,s),cn=E?E(Ft):Ft,An=ye.length,At=E?Rr=>E(li(Rr[u.index])):u.index;let fr=null;if(!E&&T&&(fr=function mD(r,s,o,u){const l=r.cleanup;if(null!=l)for(let f=0;f<l.length-1;f+=2){const E=l[f];if(E===o&&l[f+1]===u){const T=s[Pi],O=l[f+2];return T.length>O?T[O]:null}"string"==typeof E&&(f+=2)}return null}(r,s,l,u.index)),null!==fr)(fr.__ngLastListenerFn__||fr).__ngNextListenerFn__=f,fr.__ngLastListenerFn__=f,Fe=!1;else{f=_i(u,s,ie,f,!1);const Rr=o.listen(cn,l,f);ye.push(f,Rr),z&&z.push(l,At,An,An+1)}}else f=_i(u,s,ie,f,!1);const Ye=u.outputs;let Tt;if(Fe&&null!==Ye&&(Tt=Ye[l])){const Ft=Tt.length;if(Ft)for(let cn=0;cn<Ft;cn+=2){const Ai=s[Tt[cn]][Tt[cn+1]].subscribe(f),Nu=ye.length;ye.push(f,Ai),z&&z.push(l,u.index,Nu,-(Nu+1))}}}(f,l,l[Vn],E,r,s,u),Hy}function zr(r,s,o,u){try{return Yi(6,s,o),!1!==o(u)}catch(l){return Go(r,l),!1}finally{Yi(7,s,o)}}function _i(r,s,o,u,l){return function f(E){if(E===Function)return u;Vd(r.componentOffset>-1?Ui(r.index,s):s);let O=zr(s,o,u,E),z=f.__ngNextListenerFn__;for(;z;)O=zr(s,o,z,E)&&O,z=z.__ngNextListenerFn__;return l&&!1===O&&E.preventDefault(),O}}function Yh(r=1){return function to(r){return(Pn.lFrame.contextLView=function pc(r,s){for(;r>0;)s=s[Qs],r--;return s}(r,Pn.lFrame.contextLView))[ur]}(r)}function Gg(r,s,o){return zg(r,"",s,"",o),Gg}function zg(r,s,o,u,l){const f=wt(),E=jh(f,s,o,u);return E!==gr&&iu(yr(),_r(),f,r,E,f[Vn],l,!1),zg}function Gy(r,s){return r<<17|s<<2}function zd(r){return r>>17&32767}function ad(r){return 2|r}function Qc(r){return(131068&r)>>2}function hp(r,s){return-131069&r|s<<2}function qy(r){return 1|r}function U0(r,s,o,u,l){const f=r[o+1],E=null===s;let T=u?zd(f):Qc(f),O=!1;for(;0!==T&&(!1===O||E);){const ie=r[T+1];V0(r[T],s)&&(O=!0,r[T+1]=u?qy(ie):ad(ie)),T=u?zd(ie):Qc(ie)}O&&(r[o+1]=u?ad(f):qy(f))}function V0(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&wc(r,s)>=0}function Yy(r,s){return function cu(r,s,o,u){const l=wt(),f=yr(),E=Bo(2);f.firstUpdatePass&&function wr(r,s,o,u){const l=r.data;if(null===l[o+1]){const f=l[$r()],E=function tb(r,s){return s>=r.expandoStartIndex}(r,o);(function Jh(r,s){return 0!=(r.flags&(s?8:16))})(f,u)&&null===s&&!E&&(s=!1),s=function ED(r,s,o,u){const l=function b(r){const s=Pn.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let f=u?s.residualClasses:s.residualStyles;if(null===l)0===(u?s.classBindings:s.styleBindings)&&(o=Zd(o=Qy(null,r,s,o,u),s.attrs,u),f=null);else{const E=s.directiveStylingLast;if(-1===E||r[E]!==l)if(o=Qy(l,r,s,o,u),null===f){let O=function j0(r,s,o){const u=o?s.classBindings:s.styleBindings;if(0!==Qc(u))return r[zd(u)]}(r,s,u);void 0!==O&&Array.isArray(O)&&(O=Qy(null,r,s,O[1],u),O=Zd(O,s.attrs,u),function nb(r,s,o,u){r[zd(o?s.classBindings:s.styleBindings)]=u}(r,s,u,O))}else f=function rb(r,s,o){let u;const l=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<l;f++)u=Zd(u,r[f].hostAttrs,o);return Zd(u,s.attrs,o)}(r,s,u)}return void 0!==f&&(u?s.residualClasses=f:s.residualStyles=f),o}(l,f,s,u),function Jw(r,s,o,u,l,f){let E=f?s.classBindings:s.styleBindings,T=zd(E),O=Qc(E);r[u]=o;let ie,z=!1;if(Array.isArray(o)?(ie=o[1],(null===ie||wc(o,ie)>0)&&(z=!0)):ie=o,l)if(0!==O){const Fe=zd(r[T+1]);r[u+1]=Gy(Fe,T),0!==Fe&&(r[Fe+1]=hp(r[Fe+1],u)),r[T+1]=function F0(r,s){return 131071&r|s<<17}(r[T+1],u)}else r[u+1]=Gy(T,0),0!==T&&(r[T+1]=hp(r[T+1],u)),T=u;else r[u+1]=Gy(O,0),0===T?T=u:r[O+1]=hp(r[O+1],u),O=u;z&&(r[u+1]=ad(r[u+1])),U0(r,ie,u,!0),U0(r,ie,u,!1),function fp(r,s,o,u,l){const f=l?r.residualClasses:r.residualStyles;null!=f&&"string"==typeof s&&wc(f,s)>=0&&(o[u+1]=qy(o[u+1]))}(s,ie,r,u,f),E=Gy(T,O),f?s.classBindings=E:s.styleBindings=E}(l,f,s,o,E,u)}}(f,r,E,u),s!==gr&&Xo(l,E,s)&&function Kd(r,s,o,u,l,f,E,T){if(!(3&s.type))return;const O=r.data,z=O[T+1],ie=function zy(r){return 1==(1&r)}(z)?H0(O,s,o,l,Qc(z),E):void 0;Nl(ie)||(Nl(f)||function yD(r){return 2==(2&r)}(z)&&(f=H0(O,null,o,l,T,E)),function sC(r,s,o,u,l){if(s)l?r.addClass(o,u):r.removeClass(o,u);else{let f=-1===u.indexOf("-")?void 0:Xp.DashCase;null==l?r.removeStyle(o,u,f):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),f|=Xp.Important),r.setStyle(o,u,l,f))}}(u,E,oc($r(),o),l,f))}(f,f.data[$r()],l,l[Vn],r,l[E+1]=function ob(r,s){return null==r||""===r||("string"==typeof s?r+=s:"object"==typeof r&&(r=Dt(Il(r)))),r}(s,o),u,E)}(r,s,null,!0),Yy}function Qy(r,s,o,u,l){let f=null;const E=o.directiveEnd;let T=o.directiveStylingLast;for(-1===T?T=o.directiveStart:T++;T<E&&(f=s[T],u=Zd(u,f.hostAttrs,l),f!==r);)T++;return null!==r&&(o.directiveStylingLast=T),u}function Zd(r,s,o){const u=o?1:2;let l=-1;if(null!==s)for(let f=0;f<s.length;f++){const E=s[f];"number"==typeof E?l=E:l===u&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),bo(r,E,!!o||s[++f]))}return void 0===r?null:r}function H0(r,s,o,u,l,f){const E=null===s;let T;for(;l>0;){const O=r[l],z=Array.isArray(O),ie=z?O[1]:O,ye=null===ie;let Fe=o[l+1];Fe===gr&&(Fe=ye?St:void 0);let Ye=ye?wd(Fe,u):ie===u?Fe:void 0;if(z&&!Nl(Ye)&&(Ye=wd(O,u)),Nl(Ye)&&(T=Ye,E))return T;const Tt=r[l+1];l=E?zd(Tt):Qc(Tt)}if(null!==s){let O=f?s.residualClasses:s.residualStyles;null!=O&&(T=wd(O,u))}return T}function Nl(r){return void 0!==r}function G0(r,s=""){const o=wt(),u=yr(),l=r+Gn,f=u.firstCreatePass?Dl(u,l,1,s,null):u.data[l],E=z0(u,o,f,s,r);o[l]=E,uh()&&ig(u,o,E,f),ms(f,!1)}let z0=(r,s,o,u,l)=>(Tu(!0),function Os(r,s){return r.createText(s)}(s[Vn],u));function q0(r){return zi("",r,""),q0}function zi(r,s,o){const u=wt(),l=jh(u,r,s,o);return l!==gr&&Ba(u,$r(),l),zi}function mp(r,s,o,u,l,f,E){const T=wt(),O=sp(T,r,s,o,u,l,f,E);return O!==gr&&Ba(T,$r(),O),mp}const ef=void 0;var yb=["en",[["a","p"],["AM","PM"],ef],[["AM","PM"],ef,ef],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ef,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ef,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ef,"{1} 'at' {0}",ef],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function mb(r){const o=Math.floor(Math.abs(r)),u=r.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let wp={};function sE(r){const s=function uo(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=tf(s);if(o)return o;const u=s.split("-")[0];if(o=tf(u),o)return o;if("en"===u)return yb;throw new Se(701,!1)}function e_(r){return sE(r)[bp.PluralCase]}function tf(r){return r in wp||(wp[r]=Xn.ng&&Xn.ng.common&&Xn.ng.common.locales&&Xn.ng.common.locales[r]),wp[r]}var bp=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(bp||{});const kl="en-US";let aE=kl;function vE(r,s,o,u,l){if(r=ft(r),Array.isArray(r))for(let f=0;f<r.length;f++)vE(r[f],s,o,u,l);else{const f=yr(),E=wt(),T=Vi();let O=Ch(r)?r:ft(r.provide);const z=Bv(r),ie=1048575&T.providerIndexes,ye=T.directiveStart,Fe=T.providerIndexes>>20;if(Ch(r)||!r.multi){const Ye=new Uc(z,l,kh),Tt=Rp(O,s,l?ie:ie+Fe,ye);-1===Tt?(Vc(_c(T,E),f,O),l_(f,r,s.length),s.push(O),T.directiveStart++,T.directiveEnd++,l&&(T.providerIndexes+=1048576),o.push(Ye),E.push(Ye)):(o[Tt]=Ye,E[Tt]=Ye)}else{const Ye=Rp(O,s,ie+Fe,ye),Tt=Rp(O,s,ie,ie+Fe),cn=Tt>=0&&o[Tt];if(l&&!cn||!l&&!(Ye>=0&&o[Ye])){Vc(_c(T,E),f,O);const An=function zD(r,s,o,u,l){const f=new Uc(r,o,kh);return f.multi=[],f.index=s,f.componentProviders=0,Fb(f,l,u&&!o),f}(l?GD:HD,o.length,l,u,z);!l&&cn&&(o[Tt].providerFactory=An),l_(f,r,s.length,0),s.push(O),T.directiveStart++,T.directiveEnd++,l&&(T.providerIndexes+=1048576),o.push(An),E.push(An)}else l_(f,r,Ye>-1?Ye:Tt,Fb(o[l?Tt:Ye],z,!l&&u));!l&&u&&cn&&o[Tt].componentProviders++}}}function l_(r,s,o,u){const l=Ch(s),f=function QI(r){return!!r.useClass}(s);if(l||f){const O=(f?ft(s.useClass):s).prototype.ngOnDestroy;if(O){const z=r.destroyHooks||(r.destroyHooks=[]);if(!l&&s.multi){const ie=z.indexOf(o);-1===ie?z.push(o,[u,O]):z[ie+1].push(u,O)}else z.push(o,O)}}}function Fb(r,s,o){return o&&r.componentProviders++,r.multi.push(s)-1}function Rp(r,s,o,u){for(let l=o;l<u;l++)if(s[l]===r)return l;return-1}function HD(r,s,o,u){return d_(this.multi,[])}function GD(r,s,o,u){const l=this.multi;let f;if(this.providerFactory){const E=this.providerFactory.componentProviders,T=Wu(o,o[zt],this.providerFactory.index,u);f=T.slice(0,E),d_(l,f);for(let O=E;O<T.length;O++)f.push(T[O])}else f=[],d_(l,f);return f}function d_(r,s){for(let o=0;o<r.length;o++)s.push((0,r[o])());return s}function EE(r,s=[]){return o=>{o.providersResolver=(u,l)=>function Lb(r,s,o){const u=yr();if(u.firstCreatePass){const l=Fi(r);vE(o,u.data,u.blueprint,l,!0),vE(s,u.data,u.blueprint,l,!1)}}(u,l?l(r):r,s)}}class tc{}class Np{}function Ub(r,s){return new IE(r,s??null,[])}class IE extends tc{constructor(s,o,u){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Sw(this);const l=kr(s);this._bootstrapComponents=Cl(l.bootstrap),this._r3Injector=iw(s,o,[{provide:tc,useValue:this},{provide:Gf,useValue:this.componentFactoryResolver},...u],Dt(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class h_ extends Np{constructor(s){super(),this.moduleType=s}create(s){return new IE(this.moduleType,s,[])}}class Vb extends tc{constructor(s){super(),this.componentFactoryResolver=new Sw(this),this.instance=null;const o=new Rd([...s.providers,{provide:tc,useValue:this},{provide:Gf,useValue:this.componentFactoryResolver}],s.parent||jf(),s.debugName,new Set(["environment"]));this.injector=o,s.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function f_(r,s,o=null){return new Vb({providers:r,parent:s,debugName:o,runEnvironmentInitializers:!0}).injector}let na=(()=>{class r{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const u=Uv(0,o.type),l=u.length>0?f_([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,l)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Pe({token:r,providedIn:"environment",factory:()=>new r(Ln(Sc))})}return r})();function Bb(r){r.getStandaloneInjector=s=>s.get(na).getOrCreateStandaloneInjector(r)}function TE(r,s,o,u){return sm(wt(),ys(),r,s,o,u)}function v_(r,s,o,u,l){return DE(wt(),ys(),r,s,o,u,l)}function CE(r,s,o,u,l,f,E){return function AE(r,s,o,u,l,f,E,T,O){const z=s+o;return Es(r,z,l,f,E,T)?$a(r,z+4,O?u.call(O,l,f,E,T):u(l,f,E,T)):af(r,z+4)}(wt(),ys(),r,s,o,u,l,f,E)}function Kb(r,s,o,u,l,f,E,T){const O=ys()+r,z=wt(),ie=Es(z,O,o,u,l,f);return Xo(z,O+4,E)||ie?$a(z,O+5,T?s.call(T,o,u,l,f,E):s(o,u,l,f,E)):function ip(r,s){return r[s]}(z,O+5)}function af(r,s){const o=r[s];return o===gr?void 0:o}function sm(r,s,o,u,l,f){const E=s+o;return Xo(r,E,l)?$a(r,E+1,f?u.call(f,l):u(l)):af(r,E+1)}function DE(r,s,o,u,l,f,E){const T=s+o;return Bh(r,T,l,f)?$a(r,T+2,E?u.call(E,l,f):u(l,f)):af(r,T+2)}function E_(r,s){const o=yr();let u;const l=r+Gn;o.firstCreatePass?(u=function JD(r,s){if(s)for(let o=s.length-1;o>=0;o--){const u=s[o];if(r===u.name)return u}}(s,o.pipeRegistry),o.data[l]=u,u.onDestroy&&(o.destroyHooks??=[]).push(l,u.onDestroy)):u=o.data[l];const f=u.factory||(u.factory=Aa(u.type)),T=bn(kh);try{const O=Su(!1),z=f();return Su(O),function Gw(r,s,o,u){o>=r.data.length&&(r.data[o]=null,r.blueprint[o]=null),s[o]=u}(o,wt(),l,z),z}finally{bn(T)}}function ME(r,s,o){const u=r+Gn,l=wt(),f=ji(l,u);return uf(l,u)?sm(l,ys(),s,f.transform,o,f):f.transform(o)}function I_(r,s,o,u){const l=r+Gn,f=wt(),E=ji(f,l);return uf(f,l)?DE(f,ys(),s,E.transform,o,u,E):E.transform(o,u)}function uf(r,s){return r[zt].data[s].pure}function xE(){return this._results[Symbol.iterator]()}class am{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Wc)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=am.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=xE)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const u=this;u.dirty=!1;const l=function La(r){return r.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function ql(r,s,o){if(r.length!==s.length)return!1;for(let u=0;u<r.length;u++){let l=r[u],f=s[u];if(o&&(l=o(l),f=o(f)),f!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function eT(r,s,o,u=!0){const l=s[zt];if(function Jl(r,s,o,u){const l=Yr+u,f=o.length;u>0&&(o[l-1][pi]=s),u<f-Yr?(s[pi]=o[l],gl(o,Yr+u,s)):(o.push(s),s[pi]=null),s[Lr]=o;const E=s[wi];null!==E&&o!==E&&function _l(r,s){const o=r[yo];s[Hr]!==s[Lr][Lr][Hr]&&(r[Cs]=!0),null===o?r[yo]=[s]:o.push(s)}(E,s);const T=s[Fr];null!==T&&T.insertView(r),s[Un]|=128}(l,s,r,o),u){const f=Tv(o,r),E=s[Vn],T=Rs(E,r[ri]);null!==T&&function Tc(r,s,o,u,l,f){u[Dr]=l,u[Wr]=s,sg(r,u,o,1,l,f)}(l,r[Wr],E,s,T,f)}}let cf=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=Ha}return r})();const eS=cf,tS=class extends eS{constructor(s,o,u){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,o){return this.createEmbeddedViewImpl(s,o)}createEmbeddedViewImpl(s,o,u){const l=function Xb(r,s,o,u){const l=s.tView,T=Og(r,l,o,4096&r[Un]?4096:16,null,s,null,null,null,u?.injector??null,u?.hydrationInfo??null);T[wi]=r[s.index];const z=r[Fr];return null!==z&&(T[Fr]=z.createEmbeddedView(l)),Ut(l,T,o),T}(this._declarationLView,this._declarationTContainer,s,{injector:o,hydrationInfo:u});return new Ng(l)}};function Ha(){return T_(Vi(),wt())}function T_(r,s){return 4&r.type?new tS(s,r,Fd(r,s)):null}let S_=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=sS}return r})();function sS(){return lm(Vi(),wt())}const um=S_,A_=class extends um{constructor(s,o,u){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=u}get element(){return Fd(this._hostTNode,this._hostLView)}get injector(){return new A(this._hostTNode,this._hostLView)}get parentInjector(){const s=Hl(this._hostTNode,this._hostLView);if(Na(s)){const o=zu(s,this._hostLView),u=ya(s);return new A(o[zt].data[u+8],o)}return new A(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=lf(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-Yr}createEmbeddedView(s,o,u){let l,f;"number"==typeof u?l=u:null!=u&&(l=u.index,f=u.injector);const T=s.createEmbeddedViewImpl(o||{},f,null);return this.insertImpl(T,l,false),T}createComponent(s,o,u,l,f){const E=s&&!function zl(r){return"function"==typeof r}(s);let T;if(E)T=o;else{const Ft=o||{};T=Ft.index,u=Ft.injector,l=Ft.projectableNodes,f=Ft.environmentInjector||Ft.ngModuleRef}const O=E?s:new or(ir(s)),z=u||this.parentInjector;if(!f&&null==O.ngModule){const cn=(E?z:this.parentInjector).get(Sc,null);cn&&(f=cn)}ir(O.componentType??{});const Ye=O.create(z,l,null,f);return this.insertImpl(Ye.hostView,T,false),Ye}insert(s,o){return this.insertImpl(s,o,!1)}insertImpl(s,o,u){const l=s._lView;if(function vf(r){return ki(r[Lr])}(l)){const O=this.indexOf(s);if(-1!==O)this.detach(O);else{const z=l[Lr],ie=new A_(z,z[Wr],z[Lr]);ie.detach(ie.indexOf(s))}}const E=this._adjustIndex(o),T=this._lContainer;return eT(T,l,E,!u),s.attachToViewContainerRef(),gl(cm(T),E,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=lf(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),u=wh(this._lContainer,o);u&&(Ku(cm(this._lContainer),o),Sn(u[zt],u))}detach(s){const o=this._adjustIndex(s,-1),u=wh(this._lContainer,o);return u&&null!=Ku(cm(this._lContainer),o)?new Ng(u):null}_adjustIndex(s,o=0){return s??this.length+o}};function lf(r){return r[8]}function cm(r){return r[8]||(r[8]=[])}function lm(r,s){let o;const u=s[r.index];return ki(u)?o=u:(o=ww(u,s,null,r),s[r.index]=o,Py(s,o)),M_(o,s,r,u),new A_(o,r,s)}let M_=function RE(r,s,o,u){if(r[ri])return;let l;l=8&o.type?li(u):function dm(r,s){const o=r[Vn],u=o.createComment(""),l=ii(s,r);return Ps(o,Rs(o,l),u,function vl(r,s){return r.nextSibling(s)}(o,l),!1),u}(s,o),r[ri]=l};class Fl{constructor(s){this.queryList=s,this.matches=null}clone(){return new Fl(this.queryList)}setDirty(){this.queryList.setDirty()}}class x_{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const u=null!==s.contentQueries?s.contentQueries[0]:o.length,l=[];for(let f=0;f<u;f++){const E=o.getByIndex(f);l.push(this.queries[E.indexInDeclarationView].clone())}return new x_(l)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==uT(s,o).matches&&this.queries[o].setDirty()}}class rT{constructor(s,o,u=null){this.predicate=s,this.flags=o,this.read=u}}class hm{constructor(s=[]){this.queries=s}elementStart(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,f=this.getByIndex(u).embeddedTView(s,l);f&&(f.indexInDeclarationView=u,null!==o?o.push(f):o=[f])}return null!==o?new hm(o):null}template(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class LE{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new LE(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const f=u[l];this.matchTNodeWithReadOption(s,o,FE(o,f)),this.matchTNodeWithReadOption(s,o,Yo(o,s,f,!1,!1))}else u===cf?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,Yo(o,s,u,!1,!1))}matchTNodeWithReadOption(s,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===Ud||l===S_||l===cf&&4&o.type)this.addMatch(o.index,-2);else{const f=Yo(o,s,l,!1,!1);null!==f&&this.addMatch(o.index,f)}else this.addMatch(o.index,u)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function FE(r,s){const o=r.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===s)return o[u+1];return null}function UE(r,s,o,u){return-1===o?function oS(r,s){return 11&r.type?Fd(r,s):4&r.type?T_(r,s):null}(s,r):-2===o?function O_(r,s,o){return o===Ud?Fd(s,r):o===cf?T_(s,r):o===S_?lm(s,r):void 0}(r,s,u):Wu(r,r[zt],o,s)}function P_(r,s,o,u){const l=s[Fr].queries[u];if(null===l.matches){const f=r.data,E=o.matches,T=[];for(let O=0;O<E.length;O+=2){const z=E[O];T.push(z<0?null:UE(s,f[z],E[O+1],o.metadata.read))}l.matches=T}return l.matches}function R_(r,s,o,u){const l=r.queries.getByIndex(o),f=l.matches;if(null!==f){const E=P_(r,s,l,o);for(let T=0;T<f.length;T+=2){const O=f[T];if(O>0)u.push(E[T/2]);else{const z=f[T+1],ie=s[-O];for(let ye=Yr;ye<ie.length;ye++){const Fe=ie[ye];Fe[wi]===Fe[Lr]&&R_(Fe[zt],Fe,z,u)}if(null!==ie[yo]){const ye=ie[yo];for(let Fe=0;Fe<ye.length;Fe++){const Ye=ye[Fe];R_(Ye[zt],Ye,z,u)}}}}}return u}function df(r){const s=wt(),o=yr(),u=R();H(u+1);const l=uT(o,u);if(r.dirty&&function Ma(r){return 4==(4&r[Un])}(s)===(2==(2&l.metadata.flags))){if(null===l.matches)r.reset([]);else{const f=l.crossesNgTemplate?R_(o,s,u,[]):P_(o,s,l,u);r.reset(f,wg),r.notifyOnChanges()}return!0}return!1}function iT(r,s,o,u){const l=yr();if(l.firstCreatePass){const f=Vi();(function aT(r,s,o){null===r.queries&&(r.queries=new hm),r.queries.track(new LE(s,o))})(l,new rT(s,o,u),f.index),function $E(r,s){const o=r.contentQueries||(r.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,s)}(l,r),2==(2&o)&&(l.staticContentQueries=!0)}!function BE(r,s,o){const u=new am(4==(4&o));(function Ju(r,s,o,u){const l=bw(s);l.push(o),r.firstCreatePass&&Uh(r).push(u,l.length-1)})(r,s,u,u.destroy),null===s[Fr]&&(s[Fr]=new x_),s[Fr].queries.push(new Fl(u))}(l,wt(),o)}function sT(){return function oT(r,s){return r[Fr].queries[s].queryList}(wt(),R())}function uT(r,s){return r.queries.getByIndex(s)}function N_(r,s){return T_(r,s)}function fm(r){return!!kr(r)}const z_=new Qt("Application Initializer");let JE=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,u)=>{this.resolve=o,this.reject=u}),this.appInits=ar(z_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const l of this.appInits){const f=l();if(Ol(f))o.push(f);else if(M0(f)){const E=new Promise((T,O)=>{f.subscribe({complete:T,error:O})});o.push(E)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}static#e=this.\u0275fac=function(u){return new(u||r)};static#t=this.\u0275prov=Pe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),ST=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}static#e=this.\u0275fac=function(u){return new(u||r)};static#t=this.\u0275prov=Pe({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();const q_=new Qt("LocaleId",{providedIn:"root",factory:()=>ar(q_,rn.Optional|rn.SkipSelf)||function XE(){return typeof $localize<"u"&&$localize.locale||kl}()}),eI=new Qt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let W_=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new se.X(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(u){return new(u||r)};static#t=this.\u0275prov=Pe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class MT{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}let tI=(()=>{class r{compileModuleSync(o){return new h_(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),f=Cl(kr(o).declarations).reduce((E,T)=>{const O=ir(T);return O&&E.push(new or(O)),E},[]);return new MT(u,f)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static#e=this.\u0275fac=function(u){return new(u||r)};static#t=this.\u0275prov=Pe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const cI=new Qt(""),nv=new Qt("");let dI,RT=(()=>{class r{constructor(o,u,l){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,dI||(function lI(r){dI=r}(l),l.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Jo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let f=-1;u&&u>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==f),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:f,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,l){return[]}static#e=this.\u0275fac=function(u){return new(u||r)(Ln(Jo),Ln(gf),Ln(nv))};static#t=this.\u0275prov=Pe({token:r,factory:r.\u0275fac})}return r})(),gf=(()=>{class r{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return dI?.findTestabilityInTree(this,o,u)??null}static#e=this.\u0275fac=function(u){return new(u||r)};static#t=this.\u0275prov=Pe({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})(),ih=null;const NT=new Qt("AllowMultipleToken"),rv=new Qt("PlatformDestroyListeners"),hI=new Qt("appBootstrapListener");class DS{constructor(s,o){this.name=s,this.token=o}}function fI(r,s,o=[]){const u=`Platform: ${s}`,l=new Qt(u);return(f=[])=>{let E=sv();if(!E||E.injector.get(NT,!1)){const T=[...o,...f,{provide:l,useValue:!0}];r?r(T):function FT(r){if(ih&&!ih.get(NT,!1))throw new Se(400,!1);(function LT(){!function ic(r){Ya=r}(()=>{throw new Se(600,!1)})})(),ih=r;const s=r.get(pI);(function iv(r){r.get($o,null)?.forEach(o=>o())})(r)}(function vm(r=[],s){return ba.create({name:s,providers:[{provide:Jm,useValue:"platform"},{provide:rv,useValue:new Set([()=>ih=null])},...r]})}(T,u))}return function VT(r){const s=sv();if(!s)throw new Se(401,!1);return s}()}}function sv(){return ih?.get(pI)??null}let pI=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const l=function SS(r="zone.js",s){return"noop"===r?new VC:"zone.js"===r?new Jo(s):r}(u?.ngZone,function Hp(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return l.run(()=>{const f=function WD(r,s,o){return new IE(r,s,o)}(o.moduleType,this.injector,function av(r){return[{provide:Jo,useFactory:r},{provide:$f,multi:!0,useFactory:()=>{const s=ar(BT,{optional:!0});return()=>s.initialize()}},{provide:gI,useFactory:EA},{provide:n0,useFactory:cw}]}(()=>l)),E=f.injector.get(nd,null);return l.runOutsideAngular(()=>{const T=l.onError.subscribe({next:O=>{E.handleError(O)}});f.onDestroy(()=>{ov(this._modules,f),T.unsubscribe()})}),function Zs(r,s,o){try{const u=o();return Ol(u)?u.catch(l=>{throw s.runOutsideAngular(()=>r.handleError(l)),l}):u}catch(u){throw s.runOutsideAngular(()=>r.handleError(u)),u}}(E,l,()=>{const T=f.injector.get(JE);return T.runInitializers(),T.donePromise.then(()=>(function uE(r){jt(r,"Expected localeId to be defined"),"string"==typeof r&&(aE=r.toLowerCase().replace(/_/g,"-"))}(f.injector.get(q_,kl)||kl),this._moduleDoBootstrap(f),f))})})}bootstrapModule(o,u=[]){const l=ra({},u);return function kT(r,s,o){const u=new h_(o);return Promise.resolve(u)}(0,0,o).then(f=>this.bootstrapModuleFactory(f,l))}_moduleDoBootstrap(o){const u=o.injector.get(du);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new Se(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Se(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(rv,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(u){return new(u||r)(Ln(ba))};static#t=this.\u0275prov=Pe({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();function ra(r,s){return Array.isArray(s)?s.reduce(ra,r):{...r,...s}}let du=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ar(gI),this.zoneIsStable=ar(n0),this.componentTypes=[],this.components=[],this.isStable=ar(W_).hasPendingTasks.pipe((0,Ae.w)(o=>o?(0,de.of)(!1):this.zoneIsStable),(0,Ue.x)(),te()),this._injector=ar(Sc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,u){const l=o instanceof qv;if(!this._injector.get(JE).done)throw!l&&es(o),new Se(405,!1);let E;E=l?o:this._injector.get(Gf).resolveComponentFactory(o),this.componentTypes.push(E.componentType);const T=function CS(r){return r.isBoundToModule}(E)?void 0:this._injector.get(tc),z=E.create(ba.NULL,[],u||E.selector,T),ie=z.location.nativeElement,ye=z.injector.get(cI,null);return ye?.registerApplication(ie),z.onDestroy(()=>{this.detachView(z.hostView),ov(this.components,z),ye?.unregisterApplication(ie)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new Se(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;ov(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(hI,[]);u.push(...this._bootstrapListeners),u.forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>ov(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Se(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(u){return new(u||r)};static#t=this.\u0275prov=Pe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function ov(r,s){const o=r.indexOf(s);o>-1&&r.splice(o,1)}const gI=new Qt("",{providedIn:"root",factory:()=>ar(nd).handleError.bind(void 0)});function EA(){const r=ar(Jo),s=ar(nd);return o=>r.runOutsideAngular(()=>s.handleError(o))}let BT=(()=>{class r{constructor(){this.zone=ar(Jo),this.applicationRef=ar(du)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(u){return new(u||r)};static#t=this.\u0275prov=Pe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function wA(){return!1}let $T=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=TA}return r})();function TA(r){return function CA(r,s,o){if(cs(r)&&!o){const u=Ui(r.index,s);return new Ng(u,u)}return 47&r.type?new Ng(s[Hr],s):null}(Vi(),wt(),16==(16&r))}class GT{constructor(){}supports(s){return Ou(s)}create(s){return new vI(s)}}const zp=(r,s)=>s;class vI{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||zp}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,u=this._removalsHead,l=0,f=null;for(;o||u;){const E=!u||o&&o.currentIndex<qT(u,l,f)?o:u,T=qT(E,l,f),O=E.currentIndex;if(E===u)l--,u=u._nextRemoved;else if(o=o._next,null==E.previousIndex)l++;else{f||(f=[]);const z=T-l,ie=O-l;if(z!=ie){for(let Fe=0;Fe<z;Fe++){const Ye=Fe<f.length?f[Fe]:f[Fe]=0,Tt=Ye+Fe;ie<=Tt&&Tt<z&&(f[Fe]=Ye+1)}f[E.previousIndex]=ie-z}}T!==O&&s(E,T,O)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!Ou(s))throw new Se(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let l,f,E,o=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let T=0;T<this.length;T++)f=s[T],E=this._trackByFn(T,f),null!==o&&Object.is(o.trackById,E)?(u&&(o=this._verifyReinsertion(o,f,E,T)),Object.is(o.item,f)||this._addIdentityChange(o,f)):(o=this._mismatch(o,f,E,T),u=!0),o=o._next}else l=0,function Fg(r,s){if(Array.isArray(r))for(let o=0;o<r.length;o++)s(r[o]);else{const o=r[Symbol.iterator]();let u;for(;!(u=o.next()).done;)s(u.value)}}(s,T=>{E=this._trackByFn(l,T),null!==o&&Object.is(o.trackById,E)?(u&&(o=this._verifyReinsertion(o,T,E,l)),Object.is(o.item,T)||this._addIdentityChange(o,T)):(o=this._mismatch(o,T,E,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,u,l){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,f,l)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,f,l)):s=this._addAfter(new wm(o,u),f,l),s}_verifyReinsertion(s,o,u,l){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==f?s=this._reinsertAfter(f,s._prev,l):s.currentIndex!=l&&(s.currentIndex=l,this._addToMoves(s,l)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const l=s._prevRemoved,f=s._nextRemoved;return null===l?this._removalsHead=f:l._nextRemoved=f,null===f?this._removalsTail=l:f._prevRemoved=l,this._insertAfter(s,o,u),this._addToMoves(s,u),s}_moveAfter(s,o,u){return this._unlink(s),this._insertAfter(s,o,u),this._addToMoves(s,u),s}_addAfter(s,o,u){return this._insertAfter(s,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,u){const l=null===o?this._itHead:o._next;return s._next=l,s._prev=o,null===l?this._itTail=s:l._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new cv),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,u=s._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cv),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class wm{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zT{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const o=s._prevDup,u=s._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class cv{constructor(){this.map=new Map}put(s){const o=s.trackById;let u=this.map.get(o);u||(u=new zT,this.map.set(o,u)),u.add(s)}get(s,o){const l=this.map.get(s);return l?l.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qT(r,s,o){const u=r.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+s+l}class WT{constructor(){}supports(s){return s instanceof Map||Al(s)}create(){return new RS}}class RS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||Al(s)))throw new Se(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const f=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,f)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const u=s._prev;return o._next=s,o._prev=u,s._prev=o,u&&(u._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const l=this._records.get(s);this._maybeAddToChanges(l,o);const f=l._prev,E=l._next;return f&&(f._next=E),E&&(E._prev=f),l._next=null,l._prev=null,l}const u=new ZT(s);return this._records.set(s,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(u=>o(s[u],u))}}class ZT{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function EI(){return new lv([new GT])}let lv=(()=>{class r{static#e=this.\u0275prov=Pe({token:r,providedIn:"root",factory:EI});constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||EI()),deps:[[r,new mh,new ml]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new Se(901,!1)}}return r})();function II(){return new dv([new WT])}let dv=(()=>{class r{static#e=this.\u0275prov=Pe({token:r,providedIn:"root",factory:II});constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||II()),deps:[[r,new mh,new ml]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new Se(901,!1)}}return r})();const hv=fI(null,"core",[]);let KT=(()=>{class r{constructor(o){}static#e=this.\u0275fac=function(u){return new(u||r)(Ln(du))};static#t=this.\u0275mod=Fs({type:r});static#n=this.\u0275inj=rt({})}return r})();function JT(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function yf(r){const s=ir(r);if(!s)return null;const o=new or(s);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},7592:($t,Ge,B)=>{"use strict";B.d(Ge,{C6:()=>De,Jn:()=>Kn,KN:()=>bt,Mq:()=>Pe,Xd:()=>Vt,ZF:()=>cr,qX:()=>Gt});var m=B(5861),Q=B(6820),d=B(7879),he=B(229),se=B(1878);class de{constructor(xe){this.container=xe}getPlatformInfoString(){return this.container.getProviders().map(ot=>{if(function _e(dt){const xe=dt.getComponent();return"VERSION"===xe?.type}(ot)){const Ot=ot.getImmediate();return`${Ot.library}/${Ot.version}`}return null}).filter(ot=>ot).join(" ")}}const Ne="@firebase/app",te=new d.Yd("@firebase/app"),$e="[DEFAULT]",ze={[Ne]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Je=new Map,je=new Map;function et(dt,xe){try{dt.container.addComponent(xe)}catch(ot){te.debug(`Component ${xe.name} failed to register with FirebaseApp ${dt.name}`,ot)}}function Vt(dt){const xe=dt.name;if(je.has(xe))return te.debug(`There were multiple attempts to register component ${xe}.`),!1;je.set(xe,dt);for(const ot of Je.values())et(ot,dt);return!0}function Gt(dt,xe){const ot=dt.container.getProvider("heartbeat").getImmediate({optional:!0});return ot&&ot.triggerHeartbeat(),dt.container.getProvider(xe)}const _t=new he.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class wn{constructor(xe,ot,Ot){this._isDeleted=!1,this._options=Object.assign({},xe),this._config=Object.assign({},ot),this._name=ot.name,this._automaticDataCollectionEnabled=ot.automaticDataCollectionEnabled,this._container=Ot,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this.checkDestroyed(),this._automaticDataCollectionEnabled=xe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(xe){this._isDeleted=xe}checkDestroyed(){if(this.isDeleted)throw _t.create("app-deleted",{appName:this._name})}}const Kn="9.23.0";function cr(dt,xe={}){let ot=dt;"object"!=typeof xe&&(xe={name:xe});const Ot=Object.assign({name:$e,automaticDataCollectionEnabled:!1},xe),Zt=Ot.name;if("string"!=typeof Zt||!Zt)throw _t.create("bad-app-name",{appName:String(Zt)});if(ot||(ot=(0,he.aH)()),!ot)throw _t.create("no-options");const Jt=Je.get(Zt);if(Jt){if((0,he.vZ)(ot,Jt.options)&&(0,he.vZ)(Ot,Jt.config))return Jt;throw _t.create("duplicate-app",{appName:Zt})}const Wn=new Q.H0(Zt);for(const F of je.values())Wn.addComponent(F);const Y=new wn(ot,Ot,Wn);return Je.set(Zt,Y),Y}function Pe(dt=$e){const xe=Je.get(dt);if(!xe&&dt===$e&&(0,he.aH)())return cr();if(!xe)throw _t.create("no-app",{appName:dt});return xe}function De(){return Array.from(Je.values())}function bt(dt,xe,ot){var Ot;let Zt=null!==(Ot=ze[dt])&&void 0!==Ot?Ot:dt;ot&&(Zt+=`-${ot}`);const Jt=Zt.match(/\s|\//),Wn=xe.match(/\s|\//);if(Jt||Wn){const Y=[`Unable to register library "${Zt}" with version "${xe}":`];return Jt&&Y.push(`library name "${Zt}" contains illegal characters (whitespace or "/")`),Jt&&Wn&&Y.push("and"),Wn&&Y.push(`version name "${xe}" contains illegal characters (whitespace or "/")`),void te.warn(Y.join(" "))}Vt(new Q.wA(`${Zt}-version`,()=>({library:Zt,version:xe}),"VERSION"))}const mn="firebase-heartbeat-database",Dn=1,tn="firebase-heartbeat-store";let dn=null;function mr(){return dn||(dn=(0,se.X3)(mn,Dn,{upgrade:(dt,xe)=>{0===xe&&dt.createObjectStore(tn)}}).catch(dt=>{throw _t.create("idb-open",{originalErrorMessage:dt.message})})),dn}function lr(){return(lr=(0,m.Z)(function*(dt){try{return yield(yield mr()).transaction(tn).objectStore(tn).get(zn(dt))}catch(xe){if(xe instanceof he.ZR)te.warn(xe.message);else{const ot=_t.create("idb-get",{originalErrorMessage:xe?.message});te.warn(ot.message)}}})).apply(this,arguments)}function Er(dt,xe){return bn.apply(this,arguments)}function bn(){return(bn=(0,m.Z)(function*(dt,xe){try{const Ot=(yield mr()).transaction(tn,"readwrite");yield Ot.objectStore(tn).put(xe,zn(dt)),yield Ot.done}catch(ot){if(ot instanceof he.ZR)te.warn(ot.message);else{const Ot=_t.create("idb-set",{originalErrorMessage:ot?.message});te.warn(Ot.message)}}})).apply(this,arguments)}function zn(dt){return`${dt.name}!${dt.options.appId}`}class On{constructor(xe){this.container=xe,this._heartbeatsCache=null;const ot=this.container.getProvider("app").getImmediate();this._storage=new vi(ot),this._heartbeatsCachePromise=this._storage.read().then(Ot=>(this._heartbeatsCache=Ot,Ot))}triggerHeartbeat(){var xe=this;return(0,m.Z)(function*(){const Ot=xe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Zt=qr();if(null===xe._heartbeatsCache&&(xe._heartbeatsCache=yield xe._heartbeatsCachePromise),xe._heartbeatsCache.lastSentHeartbeatDate!==Zt&&!xe._heartbeatsCache.heartbeats.some(Jt=>Jt.date===Zt))return xe._heartbeatsCache.heartbeats.push({date:Zt,agent:Ot}),xe._heartbeatsCache.heartbeats=xe._heartbeatsCache.heartbeats.filter(Jt=>{const Wn=new Date(Jt.date).valueOf();return Date.now()-Wn<=2592e6}),xe._storage.overwrite(xe._heartbeatsCache)})()}getHeartbeatsHeader(){var xe=this;return(0,m.Z)(function*(){if(null===xe._heartbeatsCache&&(yield xe._heartbeatsCachePromise),null===xe._heartbeatsCache||0===xe._heartbeatsCache.heartbeats.length)return"";const ot=qr(),{heartbeatsToSend:Ot,unsentEntries:Zt}=function Qt(dt,xe=1024){const ot=[];let Ot=dt.slice();for(const Zt of dt){const Jt=ot.find(Wn=>Wn.agent===Zt.agent);if(Jt){if(Jt.dates.push(Zt.date),Nr(ot)>xe){Jt.dates.pop();break}}else if(ot.push({agent:Zt.agent,dates:[Zt.date]}),Nr(ot)>xe){ot.pop();break}Ot=Ot.slice(1)}return{heartbeatsToSend:ot,unsentEntries:Ot}}(xe._heartbeatsCache.heartbeats),Jt=(0,he.L)(JSON.stringify({version:2,heartbeats:Ot}));return xe._heartbeatsCache.lastSentHeartbeatDate=ot,Zt.length>0?(xe._heartbeatsCache.heartbeats=Zt,yield xe._storage.overwrite(xe._heartbeatsCache)):(xe._heartbeatsCache.heartbeats=[],xe._storage.overwrite(xe._heartbeatsCache)),Jt})()}}function qr(){return(new Date).toISOString().substring(0,10)}class vi{constructor(xe){this.app=xe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,he.hl)()&&(0,he.eu)().then(()=>!0).catch(()=>!1)})()}read(){var xe=this;return(0,m.Z)(function*(){return(yield xe._canUseIndexedDBPromise)&&(yield function rn(dt){return lr.apply(this,arguments)}(xe.app))||{heartbeats:[]}})()}overwrite(xe){var ot=this;return(0,m.Z)(function*(){var Ot;if(yield ot._canUseIndexedDBPromise){const Jt=yield ot.read();return Er(ot.app,{lastSentHeartbeatDate:null!==(Ot=xe.lastSentHeartbeatDate)&&void 0!==Ot?Ot:Jt.lastSentHeartbeatDate,heartbeats:xe.heartbeats})}})()}add(xe){var ot=this;return(0,m.Z)(function*(){var Ot;if(yield ot._canUseIndexedDBPromise){const Jt=yield ot.read();return Er(ot.app,{lastSentHeartbeatDate:null!==(Ot=xe.lastSentHeartbeatDate)&&void 0!==Ot?Ot:Jt.lastSentHeartbeatDate,heartbeats:[...Jt.heartbeats,...xe.heartbeats]})}})()}}function Nr(dt){return(0,he.L)(JSON.stringify({version:2,heartbeats:dt})).length}!function xr(dt){Vt(new Q.wA("platform-logger",xe=>new de(xe),"PRIVATE")),Vt(new Q.wA("heartbeat",xe=>new On(xe),"PRIVATE")),bt(Ne,"0.9.13",dt),bt(Ne,"0.9.13","esm2017"),bt("fire-js","")}("")},6820:($t,Ge,B)=>{"use strict";B.d(Ge,{H0:()=>Ne,wA:()=>d});var m=B(5861),Q=B(229);class d{constructor(te,oe,Ae){this.name=te,this.instanceFactory=oe,this.type=Ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const he="[DEFAULT]";class se{constructor(te,oe){this.name=te,this.container=oe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const oe=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(oe)){const Ae=new Q.BH;if(this.instancesDeferred.set(oe,Ae),this.isInitialized(oe)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:oe});Ue&&Ae.resolve(Ue)}catch{}}return this.instancesDeferred.get(oe).promise}getImmediate(te){var oe;const Ae=this.normalizeInstanceIdentifier(te?.identifier),Ue=null!==(oe=te?.optional)&&void 0!==oe&&oe;if(!this.isInitialized(Ae)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ae})}catch(Oe){if(Ue)return null;throw Oe}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function _e(we){return"EAGER"===we.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:he})}catch{}for(const[oe,Ae]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(oe);try{const Oe=this.getOrInitializeService({instanceIdentifier:Ue});Ae.resolve(Oe)}catch{}}}}clearInstance(te=he){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,m.Z)(function*(){const oe=Array.from(te.instances.values());yield Promise.all([...oe.filter(Ae=>"INTERNAL"in Ae).map(Ae=>Ae.INTERNAL.delete()),...oe.filter(Ae=>"_delete"in Ae).map(Ae=>Ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=he){return this.instances.has(te)}getOptions(te=he){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:oe={}}=te,Ae=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(Ae))throw Error(`${this.name}(${Ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:Ae,options:oe});for(const[Oe,Xe]of this.instancesDeferred.entries())Ae===this.normalizeInstanceIdentifier(Oe)&&Xe.resolve(Ue);return Ue}onInit(te,oe){var Ae;const Ue=this.normalizeInstanceIdentifier(oe),Oe=null!==(Ae=this.onInitCallbacks.get(Ue))&&void 0!==Ae?Ae:new Set;Oe.add(te),this.onInitCallbacks.set(Ue,Oe);const Xe=this.instances.get(Ue);return Xe&&te(Xe,Ue),()=>{Oe.delete(te)}}invokeOnInitCallbacks(te,oe){const Ae=this.onInitCallbacks.get(oe);if(Ae)for(const Ue of Ae)try{Ue(te,oe)}catch{}}getOrInitializeService({instanceIdentifier:te,options:oe={}}){let Ae=this.instances.get(te);if(!Ae&&this.component&&(Ae=this.component.instanceFactory(this.container,{instanceIdentifier:(we=te,we===he?void 0:we),options:oe}),this.instances.set(te,Ae),this.instancesOptions.set(te,oe),this.invokeOnInitCallbacks(Ae,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,Ae)}catch{}var we;return Ae||null}normalizeInstanceIdentifier(te=he){return this.component?this.component.multipleInstances?te:he:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ne{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const oe=this.getProvider(te.name);if(oe.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);oe.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const oe=new se(te,this);return this.providers.set(te,oe),oe}getProviders(){return Array.from(this.providers.values())}}},4097:($t,Ge,B)=>{"use strict";B.d(Ge,{C6:()=>m.C6,KN:()=>m.KN,Mq:()=>m.Mq,ZF:()=>m.ZF});var m=B(7592);(0,m.KN)("firebase","9.23.0","app")},95:($t,Ge,B)=>{"use strict";B.d(Ge,{Wl:()=>Rt,Fj:()=>Te,CE:()=>zt,qu:()=>zo,NI:()=>jr,u:()=>pi,cw:()=>ln,sg:()=>fi,x0:()=>Zi,u5:()=>ls,wO:()=>Ds,JJ:()=>tn,JL:()=>dn,YN:()=>oi,wV:()=>Fs,UX:()=>fu,Q7:()=>Gn,EJ:()=>ur,kI:()=>Ve,_Y:()=>Po,Kr:()=>Hr});var m=B(9468),Q=B(6814),d=B(2459),he=B(5592),se=B(7453),de=B(4829),_e=B(9940),Ne=B(8251),we=B(7400),te=B(2714),Ae=B(7398);let Ue=(()=>{class W{constructor(L,ae){this._renderer=L,this._elementRef=ae,this.onChange=Me=>{},this.onTouched=()=>{}}setProperty(L,ae){this._renderer.setProperty(this._elementRef.nativeElement,L,ae)}registerOnTouched(L){this.onTouched=L}registerOnChange(L){this.onChange=L}setDisabledState(L){this.setProperty("disabled",L)}static#e=this.\u0275fac=function(ae){return new(ae||W)(m.Y36(m.Qsj),m.Y36(m.SBq))};static#t=this.\u0275dir=m.lG2({type:W})}return W})(),Oe=(()=>{class W extends Ue{static#e=this.\u0275fac=function(){let L;return function(Me){return(L||(L=m.n5z(W)))(Me||W)}}();static#t=this.\u0275dir=m.lG2({type:W,features:[m.qOj]})}return W})();const Xe=new m.OlP("NgValueAccessor"),Dt={provide:Xe,useExisting:(0,m.Gpc)(()=>Rt),multi:!0};let Rt=(()=>{class W extends Oe{writeValue(L){this.setProperty("checked",L)}static#e=this.\u0275fac=function(){let L;return function(Me){return(L||(L=m.n5z(W)))(Me||W)}}();static#t=this.\u0275dir=m.lG2({type:W,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ae,Me){1&ae&&m.NdJ("change",function(Nn){return Me.onChange(Nn.target.checked)})("blur",function(){return Me.onTouched()})},features:[m._Bn([Dt]),m.qOj]})}return W})();const xt={provide:Xe,useExisting:(0,m.Gpc)(()=>Te),multi:!0},ft=new m.OlP("CompositionEventMode");let Te=(()=>{class W extends Ue{constructor(L,ae,Me){super(L,ae),this._compositionMode=Me,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function en(){const W=(0,Q.q)()?(0,Q.q)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(L){this.setProperty("value",L??"")}_handleInput(L){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(L)}_compositionStart(){this._composing=!0}_compositionEnd(L){this._composing=!1,this._compositionMode&&this.onChange(L)}static#e=this.\u0275fac=function(ae){return new(ae||W)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(ft,8))};static#t=this.\u0275dir=m.lG2({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ae,Me){1&ae&&m.NdJ("input",function(Nn){return Me._handleInput(Nn.target.value)})("blur",function(){return Me.onTouched()})("compositionstart",function(){return Me._compositionStart()})("compositionend",function(Nn){return Me._compositionEnd(Nn.target.value)})},features:[m._Bn([xt]),m.qOj]})}return W})();function qe(W){return null==W||("string"==typeof W||Array.isArray(W))&&0===W.length}function ht(W){return null!=W&&"number"==typeof W.length}const Ke=new m.OlP("NgValidators"),Se=new m.OlP("NgAsyncValidators"),ge=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ve{static min(J){return function pt(W){return J=>{if(qe(J.value)||qe(W))return null;const L=parseFloat(J.value);return!isNaN(L)&&L<W?{min:{min:W,actual:J.value}}:null}}(J)}static max(J){return function gn(W){return J=>{if(qe(J.value)||qe(W))return null;const L=parseFloat(J.value);return!isNaN(L)&&L>W?{max:{max:W,actual:J.value}}:null}}(J)}static required(J){return yt(J)}static requiredTrue(J){return function sn(W){return!0===W.value?null:{required:!0}}(J)}static email(J){return function vn(W){return qe(W.value)||ge.test(W.value)?null:{email:!0}}(J)}static minLength(J){return xn(J)}static maxLength(J){return function Zn(W){return J=>ht(J.value)&&J.value.length>W?{maxlength:{requiredLength:W,actualLength:J.value.length}}:null}(J)}static pattern(J){return function Jn(W){if(!W)return $e;let J,L;return"string"==typeof W?(L="","^"!==W.charAt(0)&&(L+="^"),L+=W,"$"!==W.charAt(W.length-1)&&(L+="$"),J=new RegExp(L)):(L=W.toString(),J=W),ae=>{if(qe(ae.value))return null;const Me=ae.value;return J.test(Me)?null:{pattern:{requiredPattern:L,actualValue:Me}}}}(J)}static nullValidator(J){return null}static compose(J){return Gt(J)}static composeAsync(J){return Wt(J)}}function yt(W){return qe(W.value)?{required:!0}:null}function xn(W){return J=>qe(J.value)||!ht(J.value)?null:J.value.length<W?{minlength:{requiredLength:W,actualLength:J.value.length}}:null}function $e(W){return null}function ze(W){return null!=W}function Je(W){return(0,m.QGY)(W)?(0,d.D)(W):W}function je(W){let J={};return W.forEach(L=>{J=null!=L?{...J,...L}:J}),0===Object.keys(J).length?null:J}function et(W,J){return J.map(L=>L(W))}function Vt(W){return W.map(J=>function It(W){return!W.validate}(J)?J:L=>J.validate(L))}function Gt(W){if(!W)return null;const J=W.filter(ze);return 0==J.length?null:function(L){return je(et(L,J))}}function Xt(W){return null!=W?Gt(Vt(W)):null}function Wt(W){if(!W)return null;const J=W.filter(ze);return 0==J.length?null:function(L){return function oe(...W){const J=(0,_e.jO)(W),{args:L,keys:ae}=(0,se.D)(W),Me=new he.y(on=>{const{length:Nn}=L;if(!Nn)return void on.complete();const $i=new Array(Nn);let ds=Nn,bi=Nn;for(let Zr=0;Zr<Nn;Zr++){let Sa=!1;(0,de.Xf)(L[Zr]).subscribe((0,Ne.x)(on,ca=>{Sa||(Sa=!0,bi--),$i[Zr]=ca},()=>ds--,void 0,()=>{(!ds||!Sa)&&(bi||on.next(ae?(0,te.n)(ae,$i):$i),on.complete())}))}});return J?Me.pipe((0,we.Z)(J)):Me}(et(L,J).map(Je)).pipe((0,Ae.U)(je))}}function jt(W){return null!=W?Wt(Vt(W)):null}function _t(W,J){return null===W?[J]:Array.isArray(W)?[...W,J]:[W,J]}function wn(W){return W._rawValidators}function Kn(W){return W._rawAsyncValidators}function cr(W){return W?Array.isArray(W)?W:[W]:[]}function Pe(W,J){return Array.isArray(W)?W.includes(J):W===J}function De(W,J){const L=cr(J);return cr(W).forEach(Me=>{Pe(L,Me)||L.push(Me)}),L}function rt(W,J){return cr(J).filter(L=>!Pe(W,L))}class Et{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(J){this._rawValidators=J||[],this._composedValidatorFn=Xt(this._rawValidators)}_setAsyncValidators(J){this._rawAsyncValidators=J||[],this._composedAsyncValidatorFn=jt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(J){this._onDestroyCallbacks.push(J)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(J=>J()),this._onDestroyCallbacks=[]}reset(J=void 0){this.control&&this.control.reset(J)}hasError(J,L){return!!this.control&&this.control.hasError(J,L)}getError(J,L){return this.control?this.control.getError(J,L):null}}class bt extends Et{get formDirective(){return null}get path(){return null}}class kt extends Et{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class pr{constructor(J){this._cd=J}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let tn=(()=>{class W extends pr{constructor(L){super(L)}static#e=this.\u0275fac=function(ae){return new(ae||W)(m.Y36(kt,2))};static#t=this.\u0275dir=m.lG2({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ae,Me){2&ae&&m.ekj("ng-untouched",Me.isUntouched)("ng-touched",Me.isTouched)("ng-pristine",Me.isPristine)("ng-dirty",Me.isDirty)("ng-valid",Me.isValid)("ng-invalid",Me.isInvalid)("ng-pending",Me.isPending)},features:[m.qOj]})}return W})(),dn=(()=>{class W extends pr{constructor(L){super(L)}static#e=this.\u0275fac=function(ae){return new(ae||W)(m.Y36(bt,10))};static#t=this.\u0275dir=m.lG2({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ae,Me){2&ae&&m.ekj("ng-untouched",Me.isUntouched)("ng-touched",Me.isTouched)("ng-pristine",Me.isPristine)("ng-dirty",Me.isDirty)("ng-valid",Me.isValid)("ng-invalid",Me.isInvalid)("ng-pending",Me.isPending)("ng-submitted",Me.isSubmitted)},features:[m.qOj]})}return W})();const Ot="VALID",Zt="INVALID",Jt="PENDING",Wn="DISABLED";function Y(W){return(G(W)?W.validators:W)||null}function $(W,J){return(G(J)?J.asyncValidators:W)||null}function G(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}function Ce(W,J,L){const ae=W.controls;if(!(J?Object.keys(ae):ae).length)throw new m.vHH(1e3,"");if(!ae[L])throw new m.vHH(1001,"")}function nt(W,J,L){W._forEachChild((ae,Me)=>{if(void 0===L[Me])throw new m.vHH(1002,"")})}class Mt{constructor(J,L){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(J),this._assignAsyncValidators(L)}get validator(){return this._composedValidatorFn}set validator(J){this._rawValidators=this._composedValidatorFn=J}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(J){this._rawAsyncValidators=this._composedAsyncValidatorFn=J}get parent(){return this._parent}get valid(){return this.status===Ot}get invalid(){return this.status===Zt}get pending(){return this.status==Jt}get disabled(){return this.status===Wn}get enabled(){return this.status!==Wn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(J){this._assignValidators(J)}setAsyncValidators(J){this._assignAsyncValidators(J)}addValidators(J){this.setValidators(De(J,this._rawValidators))}addAsyncValidators(J){this.setAsyncValidators(De(J,this._rawAsyncValidators))}removeValidators(J){this.setValidators(rt(J,this._rawValidators))}removeAsyncValidators(J){this.setAsyncValidators(rt(J,this._rawAsyncValidators))}hasValidator(J){return Pe(this._rawValidators,J)}hasAsyncValidator(J){return Pe(this._rawAsyncValidators,J)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(J={}){this.touched=!0,this._parent&&!J.onlySelf&&this._parent.markAsTouched(J)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(J=>J.markAllAsTouched())}markAsUntouched(J={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(L=>{L.markAsUntouched({onlySelf:!0})}),this._parent&&!J.onlySelf&&this._parent._updateTouched(J)}markAsDirty(J={}){this.pristine=!1,this._parent&&!J.onlySelf&&this._parent.markAsDirty(J)}markAsPristine(J={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(L=>{L.markAsPristine({onlySelf:!0})}),this._parent&&!J.onlySelf&&this._parent._updatePristine(J)}markAsPending(J={}){this.status=Jt,!1!==J.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!J.onlySelf&&this._parent.markAsPending(J)}disable(J={}){const L=this._parentMarkedDirty(J.onlySelf);this.status=Wn,this.errors=null,this._forEachChild(ae=>{ae.disable({...J,onlySelf:!0})}),this._updateValue(),!1!==J.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...J,skipPristineCheck:L}),this._onDisabledChange.forEach(ae=>ae(!0))}enable(J={}){const L=this._parentMarkedDirty(J.onlySelf);this.status=Ot,this._forEachChild(ae=>{ae.enable({...J,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:J.emitEvent}),this._updateAncestors({...J,skipPristineCheck:L}),this._onDisabledChange.forEach(ae=>ae(!1))}_updateAncestors(J){this._parent&&!J.onlySelf&&(this._parent.updateValueAndValidity(J),J.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(J){this._parent=J}getRawValue(){return this.value}updateValueAndValidity(J={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ot||this.status===Jt)&&this._runAsyncValidator(J.emitEvent)),!1!==J.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!J.onlySelf&&this._parent.updateValueAndValidity(J)}_updateTreeValidity(J={emitEvent:!0}){this._forEachChild(L=>L._updateTreeValidity(J)),this.updateValueAndValidity({onlySelf:!0,emitEvent:J.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wn:Ot}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(J){if(this.asyncValidator){this.status=Jt,this._hasOwnPendingAsyncValidator=!0;const L=Je(this.asyncValidator(this));this._asyncValidationSubscription=L.subscribe(ae=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ae,{emitEvent:J})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(J,L={}){this.errors=J,this._updateControlsErrors(!1!==L.emitEvent)}get(J){let L=J;return null==L||(Array.isArray(L)||(L=L.split(".")),0===L.length)?null:L.reduce((ae,Me)=>ae&&ae._find(Me),this)}getError(J,L){const ae=L?this.get(L):this;return ae&&ae.errors?ae.errors[J]:null}hasError(J,L){return!!this.getError(J,L)}get root(){let J=this;for(;J._parent;)J=J._parent;return J}_updateControlsErrors(J){this.status=this._calculateStatus(),J&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(J)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?Wn:this.errors?Zt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Jt)?Jt:this._anyControlsHaveStatus(Zt)?Zt:Ot}_anyControlsHaveStatus(J){return this._anyControls(L=>L.status===J)}_anyControlsDirty(){return this._anyControls(J=>J.dirty)}_anyControlsTouched(){return this._anyControls(J=>J.touched)}_updatePristine(J={}){this.pristine=!this._anyControlsDirty(),this._parent&&!J.onlySelf&&this._parent._updatePristine(J)}_updateTouched(J={}){this.touched=this._anyControlsTouched(),this._parent&&!J.onlySelf&&this._parent._updateTouched(J)}_registerOnCollectionChange(J){this._onCollectionChange=J}_setUpdateStrategy(J){G(J)&&null!=J.updateOn&&(this._updateOn=J.updateOn)}_parentMarkedDirty(J){return!J&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(J){return null}_assignValidators(J){this._rawValidators=Array.isArray(J)?J.slice():J,this._composedValidatorFn=function F(W){return Array.isArray(W)?Xt(W):W||null}(this._rawValidators)}_assignAsyncValidators(J){this._rawAsyncValidators=Array.isArray(J)?J.slice():J,this._composedAsyncValidatorFn=function q(W){return Array.isArray(W)?jt(W):W||null}(this._rawAsyncValidators)}}class ln extends Mt{constructor(J,L,ae){super(Y(L),$(ae,L)),this.controls=J,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(J,L){return this.controls[J]?this.controls[J]:(this.controls[J]=L,L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange),L)}addControl(J,L,ae={}){this.registerControl(J,L),this.updateValueAndValidity({emitEvent:ae.emitEvent}),this._onCollectionChange()}removeControl(J,L={}){this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),delete this.controls[J],this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}setControl(J,L,ae={}){this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),delete this.controls[J],L&&this.registerControl(J,L),this.updateValueAndValidity({emitEvent:ae.emitEvent}),this._onCollectionChange()}contains(J){return this.controls.hasOwnProperty(J)&&this.controls[J].enabled}setValue(J,L={}){nt(this,0,J),Object.keys(J).forEach(ae=>{Ce(this,!0,ae),this.controls[ae].setValue(J[ae],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(J,L={}){null!=J&&(Object.keys(J).forEach(ae=>{const Me=this.controls[ae];Me&&Me.patchValue(J[ae],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(J={},L={}){this._forEachChild((ae,Me)=>{ae.reset(J?J[Me]:null,{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this._reduceChildren({},(J,L,ae)=>(J[ae]=L.getRawValue(),J))}_syncPendingControls(){let J=this._reduceChildren(!1,(L,ae)=>!!ae._syncPendingControls()||L);return J&&this.updateValueAndValidity({onlySelf:!0}),J}_forEachChild(J){Object.keys(this.controls).forEach(L=>{const ae=this.controls[L];ae&&J(ae,L)})}_setUpControls(){this._forEachChild(J=>{J.setParent(this),J._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(J){for(const[L,ae]of Object.entries(this.controls))if(this.contains(L)&&J(ae))return!0;return!1}_reduceValue(){return this._reduceChildren({},(L,ae,Me)=>((ae.enabled||this.disabled)&&(L[Me]=ae.value),L))}_reduceChildren(J,L){let ae=J;return this._forEachChild((Me,on)=>{ae=L(ae,Me,on)}),ae}_allControlsDisabled(){for(const J of Object.keys(this.controls))if(this.controls[J].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(J){return this.controls.hasOwnProperty(J)?this.controls[J]:null}}class nn extends ln{}const Vr=new m.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ar}),ar="always";function as(W,J){return[...J.path,W]}function ho(W,J,L=ar){le(W,J),J.valueAccessor.writeValue(W.value),(W.disabled||"always"===L)&&J.valueAccessor.setDisabledState?.(W.disabled),function Be(W,J){J.valueAccessor.registerOnChange(L=>{W._pendingValue=L,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&it(W,J)})}(W,J),function St(W,J){const L=(ae,Me)=>{J.valueAccessor.writeValue(ae),Me&&J.viewToModelUpdate(ae)};W.registerOnChange(L),J._registerOnDestroy(()=>{W._unregisterOnChange(L)})}(W,J),function We(W,J){J.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&it(W,J),"submit"!==W.updateOn&&W.markAsTouched()})}(W,J),function U(W,J){if(J.valueAccessor.setDisabledState){const L=ae=>{J.valueAccessor.setDisabledState(ae)};W.registerOnDisabledChange(L),J._registerOnDestroy(()=>{W._unregisterOnDisabledChange(L)})}}(W,J)}function Le(W,J,L=!0){const ae=()=>{};J.valueAccessor&&(J.valueAccessor.registerOnChange(ae),J.valueAccessor.registerOnTouched(ae)),ve(W,J),W&&(J._invokeOnDestroyCallbacks(),W._registerOnCollectionChange(()=>{}))}function Tn(W,J){W.forEach(L=>{L.registerOnValidatorChange&&L.registerOnValidatorChange(J)})}function le(W,J){const L=wn(W);null!==J.validator?W.setValidators(_t(L,J.validator)):"function"==typeof L&&W.setValidators([L]);const ae=Kn(W);null!==J.asyncValidator?W.setAsyncValidators(_t(ae,J.asyncValidator)):"function"==typeof ae&&W.setAsyncValidators([ae]);const Me=()=>W.updateValueAndValidity();Tn(J._rawValidators,Me),Tn(J._rawAsyncValidators,Me)}function ve(W,J){let L=!1;if(null!==W){if(null!==J.validator){const Me=wn(W);if(Array.isArray(Me)&&Me.length>0){const on=Me.filter(Nn=>Nn!==J.validator);on.length!==Me.length&&(L=!0,W.setValidators(on))}}if(null!==J.asyncValidator){const Me=Kn(W);if(Array.isArray(Me)&&Me.length>0){const on=Me.filter(Nn=>Nn!==J.asyncValidator);on.length!==Me.length&&(L=!0,W.setAsyncValidators(on))}}}const ae=()=>{};return Tn(J._rawValidators,ae),Tn(J._rawAsyncValidators,ae),L}function it(W,J){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),J.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function bs(W,J){const L=W.indexOf(J);L>-1&&W.splice(L,1)}function Ir(W){return"object"==typeof W&&null!==W&&2===Object.keys(W).length&&"value"in W&&"disabled"in W}const jr=class extends Mt{constructor(J=null,L,ae){super(Y(L),$(ae,L)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(J),this._setUpdateStrategy(L),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),G(L)&&(L.nonNullable||L.initialValueIsDefault)&&(this.defaultValue=Ir(J)?J.value:J)}setValue(J,L={}){this.value=this._pendingValue=J,this._onChange.length&&!1!==L.emitModelToViewChange&&this._onChange.forEach(ae=>ae(this.value,!1!==L.emitViewToModelChange)),this.updateValueAndValidity(L)}patchValue(J,L={}){this.setValue(J,L)}reset(J=this.defaultValue,L={}){this._applyFormState(J),this.markAsPristine(L),this.markAsUntouched(L),this.setValue(this.value,L),this._pendingChange=!1}_updateValue(){}_anyControls(J){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(J){this._onChange.push(J)}_unregisterOnChange(J){bs(this._onChange,J)}registerOnDisabledChange(J){this._onDisabledChange.push(J)}_unregisterOnDisabledChange(J){bs(this._onDisabledChange,J)}_forEachChild(J){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(J){Ir(J)?(this.value=this._pendingValue=J.value,J.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=J}};let po=(()=>{class W extends bt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return as(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let L;return function(Me){return(L||(L=m.n5z(W)))(Me||W)}}();static#t=this.\u0275dir=m.lG2({type:W,features:[m.qOj]})}return W})(),Po=(()=>{class W{static#e=this.\u0275fac=function(ae){return new(ae||W)};static#t=this.\u0275dir=m.lG2({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return W})();const Uu={provide:Xe,useExisting:(0,m.Gpc)(()=>Fs),multi:!0};let Fs=(()=>{class W extends Oe{writeValue(L){this.setProperty("value",L??"")}registerOnChange(L){this.onChange=ae=>{L(""==ae?null:parseFloat(ae))}}static#e=this.\u0275fac=function(){let L;return function(Me){return(L||(L=m.n5z(W)))(Me||W)}}();static#t=this.\u0275dir=m.lG2({type:W,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ae,Me){1&ae&&m.NdJ("input",function(Nn){return Me.onChange(Nn.target.value)})("blur",function(){return Me.onTouched()})},features:[m._Bn([Uu]),m.qOj]})}return W})(),aa=(()=>{class W{static#e=this.\u0275fac=function(ae){return new(ae||W)};static#t=this.\u0275mod=m.oAB({type:W});static#n=this.\u0275inj=m.cJS({})}return W})();const es=new m.OlP("NgModelWithFormControlWarning"),ua={provide:bt,useExisting:(0,m.Gpc)(()=>fi)};let fi=(()=>{class W extends bt{constructor(L,ae,Me){super(),this.callSetDisabledState=Me,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new m.vpe,this._setValidators(L),this._setAsyncValidators(ae)}ngOnChanges(L){this._checkFormPresent(),L.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ve(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(L){const ae=this.form.get(L.path);return ho(ae,L,this.callSetDisabledState),ae.updateValueAndValidity({emitEvent:!1}),this.directives.push(L),ae}getControl(L){return this.form.get(L.path)}removeControl(L){Le(L.control||null,L,!1),function ia(W,J){const L=W.indexOf(J);L>-1&&W.splice(L,1)}(this.directives,L)}addFormGroup(L){this._setUpFormContainer(L)}removeFormGroup(L){this._cleanUpFormContainer(L)}getFormGroup(L){return this.form.get(L.path)}addFormArray(L){this._setUpFormContainer(L)}removeFormArray(L){this._cleanUpFormContainer(L)}getFormArray(L){return this.form.get(L.path)}updateModel(L,ae){this.form.get(L.path).setValue(ae)}onSubmit(L){return this.submitted=!0,function xo(W,J){W._syncPendingControls(),J.forEach(L=>{const ae=L.control;"submit"===ae.updateOn&&ae._pendingChange&&(L.viewToModelUpdate(ae._pendingValue),ae._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(L),"dialog"===L?.target?.method}onReset(){this.resetForm()}resetForm(L=void 0){this.form.reset(L),this.submitted=!1}_updateDomValue(){this.directives.forEach(L=>{const ae=L.control,Me=this.form.get(L.path);ae!==Me&&(Le(ae||null,L),(W=>W instanceof jr)(Me)&&(ho(Me,L,this.callSetDisabledState),L.control=Me))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(L){const ae=this.form.get(L.path);(function Fn(W,J){le(W,J)})(ae,L),ae.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(L){if(this.form){const ae=this.form.get(L.path);ae&&function er(W,J){return ve(W,J)}(ae,L)&&ae.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){le(this.form,this),this._oldForm&&ve(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(ae){return new(ae||W)(m.Y36(Ke,10),m.Y36(Se,10),m.Y36(Vr,8))};static#t=this.\u0275dir=m.lG2({type:W,selectors:[["","formGroup",""]],hostBindings:function(ae,Me){1&ae&&m.NdJ("submit",function(Nn){return Me.onSubmit(Nn)})("reset",function(){return Me.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([ua]),m.qOj,m.TTD]})}return W})();const za={provide:bt,useExisting:(0,m.Gpc)(()=>Zi)};let Zi=(()=>{class W extends po{constructor(L,ae,Me){super(),this.name=null,this._parent=L,this._setValidators(ae),this._setAsyncValidators(Me)}_checkParentType(){Un(this._parent)}static#e=this.\u0275fac=function(ae){return new(ae||W)(m.Y36(bt,13),m.Y36(Ke,10),m.Y36(Se,10))};static#t=this.\u0275dir=m.lG2({type:W,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[m._Bn([za]),m.qOj]})}return W})();const Dr={provide:bt,useExisting:(0,m.Gpc)(()=>zt)};let zt=(()=>{class W extends bt{constructor(L,ae,Me){super(),this.name=null,this._parent=L,this._setValidators(ae),this._setAsyncValidators(Me)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return as(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Un(this._parent)}static#e=this.\u0275fac=function(ae){return new(ae||W)(m.Y36(bt,13),m.Y36(Ke,10),m.Y36(Se,10))};static#t=this.\u0275dir=m.lG2({type:W,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[m._Bn([Dr]),m.qOj]})}return W})();function Un(W){return!(W instanceof Zi||W instanceof fi||W instanceof zt)}const Lr={provide:kt,useExisting:(0,m.Gpc)(()=>pi)};let pi=(()=>{class W extends kt{set isDisabled(L){}static#e=this._ngModelWarningSentOnce=!1;constructor(L,ae,Me,on,Nn){super(),this._ngModelWarningConfig=Nn,this._added=!1,this.name=null,this.update=new m.vpe,this._ngModelWarningSent=!1,this._parent=L,this._setValidators(ae),this._setAsyncValidators(Me),this.valueAccessor=function ks(W,J){if(!J)return null;let L,ae,Me;return Array.isArray(J),J.forEach(on=>{on.constructor===Te?L=on:function xi(W){return Object.getPrototypeOf(W.constructor)===Oe}(on)?ae=on:Me=on}),Me||ae||L||null}(0,on)}ngOnChanges(L){this._added||this._setUpControl(),function Ks(W,J){if(!W.hasOwnProperty("model"))return!1;const L=W.model;return!!L.isFirstChange()||!Object.is(J,L.currentValue)}(L,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}get path(){return as(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(ae){return new(ae||W)(m.Y36(bt,13),m.Y36(Ke,10),m.Y36(Se,10),m.Y36(Xe,10),m.Y36(es,8))};static#n=this.\u0275dir=m.lG2({type:W,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[m._Bn([Lr]),m.qOj,m.TTD]})}return W})();const ko={provide:Xe,useExisting:(0,m.Gpc)(()=>ur),multi:!0};function Wr(W,J){return null==W?`${J}`:(J&&"object"==typeof J&&(J="Object"),`${W}: ${J}`.slice(0,50))}let ur=(()=>{class W extends Oe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){this.value=L;const Me=Wr(this._getOptionId(L),L);this.setProperty("value",Me)}registerOnChange(L){this.onChange=ae=>{this.value=this._getOptionValue(ae),L(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(L){for(const ae of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ae),L))return ae;return null}_getOptionValue(L){const ae=function Pi(W){return W.split(":")[0]}(L);return this._optionMap.has(ae)?this._optionMap.get(ae):L}static#e=this.\u0275fac=function(){let L;return function(Me){return(L||(L=m.n5z(W)))(Me||W)}}();static#t=this.\u0275dir=m.lG2({type:W,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ae,Me){1&ae&&m.NdJ("change",function(Nn){return Me.onChange(Nn.target.value)})("blur",function(){return Me.onTouched()})},inputs:{compareWith:"compareWith"},features:[m._Bn([ko]),m.qOj]})}return W})(),oi=(()=>{class W{constructor(L,ae,Me){this._element=L,this._renderer=ae,this._select=Me,this._select&&(this.id=this._select._registerOption())}set ngValue(L){null!=this._select&&(this._select._optionMap.set(this.id,L),this._setElementValue(Wr(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._setElementValue(L),this._select&&this._select.writeValue(this._select.value)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ae){return new(ae||W)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(ur,9))};static#t=this.\u0275dir=m.lG2({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return W})();const Ri={provide:Xe,useExisting:(0,m.Gpc)(()=>Qs),multi:!0};function Vn(W,J){return null==W?`${J}`:("string"==typeof J&&(J=`'${J}'`),J&&"object"==typeof J&&(J="Object"),`${W}: ${J}`.slice(0,50))}let Qs=(()=>{class W extends Oe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){let ae;if(this.value=L,Array.isArray(L)){const Me=L.map(on=>this._getOptionId(on));ae=(on,Nn)=>{on._setSelected(Me.indexOf(Nn.toString())>-1)}}else ae=(Me,on)=>{Me._setSelected(!1)};this._optionMap.forEach(ae)}registerOnChange(L){this.onChange=ae=>{const Me=[],on=ae.selectedOptions;if(void 0!==on){const Nn=on;for(let $i=0;$i<Nn.length;$i++){const bi=this._getOptionValue(Nn[$i].value);Me.push(bi)}}else{const Nn=ae.options;for(let $i=0;$i<Nn.length;$i++){const ds=Nn[$i];if(ds.selected){const bi=this._getOptionValue(ds.value);Me.push(bi)}}}this.value=Me,L(Me)}}_registerOption(L){const ae=(this._idCounter++).toString();return this._optionMap.set(ae,L),ae}_getOptionId(L){for(const ae of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ae)._value,L))return ae;return null}_getOptionValue(L){const ae=function Us(W){return W.split(":")[0]}(L);return this._optionMap.has(ae)?this._optionMap.get(ae)._value:L}static#e=this.\u0275fac=function(){let L;return function(Me){return(L||(L=m.n5z(W)))(Me||W)}}();static#t=this.\u0275dir=m.lG2({type:W,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ae,Me){1&ae&&m.NdJ("change",function(Nn){return Me.onChange(Nn.target)})("blur",function(){return Me.onTouched()})},inputs:{compareWith:"compareWith"},features:[m._Bn([Ri]),m.qOj]})}return W})(),Hr=(()=>{class W{constructor(L,ae,Me){this._element=L,this._renderer=ae,this._select=Me,this._select&&(this.id=this._select._registerOption(this))}set ngValue(L){null!=this._select&&(this._value=L,this._setElementValue(Vn(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._select?(this._value=L,this._setElementValue(Vn(this.id,L)),this._select.writeValue(this._select.value)):this._setElementValue(L)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}_setSelected(L){this._renderer.setProperty(this._element.nativeElement,"selected",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ae){return new(ae||W)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(Qs,9))};static#t=this.\u0275dir=m.lG2({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return W})();let Fr=(()=>{class W{constructor(){this._validator=$e}ngOnChanges(L){if(this.inputName in L){const ae=this.normalizeInput(L[this.inputName].currentValue);this._enabled=this.enabled(ae),this._validator=this._enabled?this.createValidator(ae):$e,this._onChange&&this._onChange()}}validate(L){return this._validator(L)}registerOnValidatorChange(L){this._onChange=L}enabled(L){return null!=L}static#e=this.\u0275fac=function(ae){return new(ae||W)};static#t=this.\u0275dir=m.lG2({type:W,features:[m.TTD]})}return W})();const Bs={provide:Ke,useExisting:(0,m.Gpc)(()=>Gn),multi:!0};let Gn=(()=>{class W extends Fr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=m.VuI,this.createValidator=L=>yt}enabled(L){return L}static#e=this.\u0275fac=function(){let L;return function(Me){return(L||(L=m.n5z(W)))(Me||W)}}();static#t=this.\u0275dir=m.lG2({type:W,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ae,Me){2&ae&&m.uIk("required",Me._enabled?"":null)},inputs:{required:"required"},features:[m._Bn([Bs]),m.qOj]})}return W})();const ri={provide:Ke,useExisting:(0,m.Gpc)(()=>Ds),multi:!0};let Ds=(()=>{class W extends Fr{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=L=>function wi(W){return"number"==typeof W?W:parseInt(W,10)}(L),this.createValidator=L=>xn(L)}static#e=this.\u0275fac=function(){let L;return function(Me){return(L||(L=m.n5z(W)))(Me||W)}}();static#t=this.\u0275dir=m.lG2({type:W,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(ae,Me){2&ae&&m.uIk("minlength",Me._enabled?Me.minlength:null)},inputs:{minlength:"minlength"},features:[m._Bn([ri]),m.qOj]})}return W})(),cs=(()=>{class W{static#e=this.\u0275fac=function(ae){return new(ae||W)};static#t=this.\u0275mod=m.oAB({type:W});static#n=this.\u0275inj=m.cJS({imports:[aa]})}return W})();class ts extends Mt{constructor(J,L,ae){super(Y(L),$(ae,L)),this.controls=J,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(J){return this.controls[this._adjustIndex(J)]}push(J,L={}){this.controls.push(J),this._registerControl(J),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}insert(J,L,ae={}){this.controls.splice(J,0,L),this._registerControl(L),this.updateValueAndValidity({emitEvent:ae.emitEvent})}removeAt(J,L={}){let ae=this._adjustIndex(J);ae<0&&(ae=0),this.controls[ae]&&this.controls[ae]._registerOnCollectionChange(()=>{}),this.controls.splice(ae,1),this.updateValueAndValidity({emitEvent:L.emitEvent})}setControl(J,L,ae={}){let Me=this._adjustIndex(J);Me<0&&(Me=0),this.controls[Me]&&this.controls[Me]._registerOnCollectionChange(()=>{}),this.controls.splice(Me,1),L&&(this.controls.splice(Me,0,L),this._registerControl(L)),this.updateValueAndValidity({emitEvent:ae.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(J,L={}){nt(this,0,J),J.forEach((ae,Me)=>{Ce(this,!1,Me),this.at(Me).setValue(ae,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(J,L={}){null!=J&&(J.forEach((ae,Me)=>{this.at(Me)&&this.at(Me).patchValue(ae,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(J=[],L={}){this._forEachChild((ae,Me)=>{ae.reset(J[Me],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this.controls.map(J=>J.getRawValue())}clear(J={}){this.controls.length<1||(this._forEachChild(L=>L._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:J.emitEvent}))}_adjustIndex(J){return J<0?J+this.length:J}_syncPendingControls(){let J=this.controls.reduce((L,ae)=>!!ae._syncPendingControls()||L,!1);return J&&this.updateValueAndValidity({onlySelf:!0}),J}_forEachChild(J){this.controls.forEach((L,ae)=>{J(L,ae)})}_updateValue(){this.value=this.controls.filter(J=>J.enabled||this.disabled).map(J=>J.value)}_anyControls(J){return this.controls.some(L=>L.enabled&&J(L))}_setUpControls(){this._forEachChild(J=>this._registerControl(J))}_allControlsDisabled(){for(const J of this.controls)if(J.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(J){J.setParent(this),J._registerOnCollectionChange(this._onCollectionChange)}_find(J){return this.at(J)??null}}function js(W){return!!W&&(void 0!==W.asyncValidators||void 0!==W.validators||void 0!==W.updateOn)}let zo=(()=>{class W{constructor(){this.useNonNullable=!1}get nonNullable(){const L=new W;return L.useNonNullable=!0,L}group(L,ae=null){const Me=this._reduceControls(L);let on={};return js(ae)?on=ae:null!==ae&&(on.validators=ae.validator,on.asyncValidators=ae.asyncValidator),new ln(Me,on)}record(L,ae=null){const Me=this._reduceControls(L);return new nn(Me,ae)}control(L,ae,Me){let on={};return this.useNonNullable?(js(ae)?on=ae:(on.validators=ae,on.asyncValidators=Me),new jr(L,{...on,nonNullable:!0})):new jr(L,ae,Me)}array(L,ae,Me){const on=L.map(Nn=>this._createControl(Nn));return new ts(on,ae,Me)}_reduceControls(L){const ae={};return Object.keys(L).forEach(Me=>{ae[Me]=this._createControl(L[Me])}),ae}_createControl(L){return L instanceof jr||L instanceof Mt?L:Array.isArray(L)?this.control(L[0],L.length>1?L[1]:null,L.length>2?L[2]:null):this.control(L)}static#e=this.\u0275fac=function(ae){return new(ae||W)};static#t=this.\u0275prov=m.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})(),ls=(()=>{class W{static withConfig(L){return{ngModule:W,providers:[{provide:Vr,useValue:L.callSetDisabledState??ar}]}}static#e=this.\u0275fac=function(ae){return new(ae||W)};static#t=this.\u0275mod=m.oAB({type:W});static#n=this.\u0275inj=m.cJS({imports:[cs]})}return W})(),fu=(()=>{class W{static withConfig(L){return{ngModule:W,providers:[{provide:es,useValue:L.warnOnNgModelWithFormControl??"always"},{provide:Vr,useValue:L.callSetDisabledState??ar}]}}static#e=this.\u0275fac=function(ae){return new(ae||W)};static#t=this.\u0275mod=m.oAB({type:W});static#n=this.\u0275inj=m.cJS({imports:[cs]})}return W})()},2614:()=>{"use strict";const $t=":";const wn=function(Pe,...De){if(wn.translate){const Et=wn.translate(Pe,De);Pe=Et[0],De=Et[1]}let rt=cr(Pe[0],Pe.raw[0]);for(let Et=1;Et<Pe.length;Et++)rt+=De[Et-1]+cr(Pe[Et],Pe.raw[Et]);return rt},Kn=":";function cr(Pe,De){return De.charAt(0)===Kn?Pe.substring(function ze(Pe,De){for(let rt=1,Et=1;rt<Pe.length;rt++,Et++)if("\\"===De[Et])Et++;else if(Pe[rt]===$t)return rt;throw new Error(`Unterminated $localize metadata block in "${De}".`)}(Pe,De)+1):Pe}globalThis.$localize=wn},6593:($t,Ge,B)=>{"use strict";B.d(Ge,{Dx:()=>kt,H7:()=>vi,b2:()=>Pe,q6:()=>_t,se:()=>ge});var m=B(9468),Q=B(6814);class d extends Q.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class he extends d{static makeCurrent(){(0,Q.HT)(new he)}onAndCancel($,q,G){return $.addEventListener(q,G),()=>{$.removeEventListener(q,G)}}dispatchEvent($,q){$.dispatchEvent(q)}remove($){$.parentNode&&$.parentNode.removeChild($)}createElement($,q){return(q=q||this.getDefaultDocument()).createElement($)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode($){return $.nodeType===Node.ELEMENT_NODE}isShadowRoot($){return $ instanceof DocumentFragment}getGlobalEventTarget($,q){return"window"===q?window:"document"===q?$:"body"===q?$.body:null}getBaseHref($){const q=function de(){return se=se||document.querySelector("base"),se?se.getAttribute("href"):null}();return null==q?null:function Ne(F){_e=_e||document.createElement("a"),_e.setAttribute("href",F);const $=_e.pathname;return"/"===$.charAt(0)?$:`/${$}`}(q)}resetBaseElement(){se=null}getUserAgent(){return window.navigator.userAgent}getCookie($){return(0,Q.Mx)(document.cookie,$)}}let _e,se=null,te=(()=>{class F{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(G){return new(G||F)};static#t=this.\u0275prov=m.Yz7({token:F,factory:F.\u0275fac})}return F})();const oe=new m.OlP("EventManagerPlugins");let Ae=(()=>{class F{constructor(q,G){this._zone=G,this._eventNameToPlugin=new Map,q.forEach(Ce=>{Ce.manager=this}),this._plugins=q.slice().reverse()}addEventListener(q,G,Ce){return this._findPluginFor(G).addEventListener(q,G,Ce)}getZone(){return this._zone}_findPluginFor(q){let G=this._eventNameToPlugin.get(q);if(G)return G;if(G=this._plugins.find(nt=>nt.supports(q)),!G)throw new m.vHH(5101,!1);return this._eventNameToPlugin.set(q,G),G}static#e=this.\u0275fac=function(G){return new(G||F)(m.LFG(oe),m.LFG(m.R0b))};static#t=this.\u0275prov=m.Yz7({token:F,factory:F.\u0275fac})}return F})();class Ue{constructor($){this._doc=$}}const Oe="ng-app-id";let Xe=(()=>{class F{constructor(q,G,Ce,nt={}){this.doc=q,this.appId=G,this.nonce=Ce,this.platformId=nt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,Q.PM)(nt),this.resetHostNodes()}addStyles(q){for(const G of q)1===this.changeUsageCount(G,1)&&this.onStyleAdded(G)}removeStyles(q){for(const G of q)this.changeUsageCount(G,-1)<=0&&this.onStyleRemoved(G)}ngOnDestroy(){const q=this.styleNodesInDOM;q&&(q.forEach(G=>G.remove()),q.clear());for(const G of this.getAllStyles())this.onStyleRemoved(G);this.resetHostNodes()}addHost(q){this.hostNodes.add(q);for(const G of this.getAllStyles())this.addStyleToHost(q,G)}removeHost(q){this.hostNodes.delete(q)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(q){for(const G of this.hostNodes)this.addStyleToHost(G,q)}onStyleRemoved(q){const G=this.styleRef;G.get(q)?.elements?.forEach(Ce=>Ce.remove()),G.delete(q)}collectServerRenderedStyles(){const q=this.doc.head?.querySelectorAll(`style[${Oe}="${this.appId}"]`);if(q?.length){const G=new Map;return q.forEach(Ce=>{null!=Ce.textContent&&G.set(Ce.textContent,Ce)}),G}return null}changeUsageCount(q,G){const Ce=this.styleRef;if(Ce.has(q)){const nt=Ce.get(q);return nt.usage+=G,nt.usage}return Ce.set(q,{usage:G,elements:[]}),G}getStyleElement(q,G){const Ce=this.styleNodesInDOM,nt=Ce?.get(G);if(nt?.parentNode===q)return Ce.delete(G),nt.removeAttribute(Oe),nt;{const Mt=this.doc.createElement("style");return this.nonce&&Mt.setAttribute("nonce",this.nonce),Mt.textContent=G,this.platformIsServer&&Mt.setAttribute(Oe,this.appId),Mt}}addStyleToHost(q,G){const Ce=this.getStyleElement(q,G);q.appendChild(Ce);const nt=this.styleRef,Mt=nt.get(G)?.elements;Mt?Mt.push(Ce):nt.set(G,{elements:[Ce],usage:1})}resetHostNodes(){const q=this.hostNodes;q.clear(),q.add(this.doc.head)}static#e=this.\u0275fac=function(G){return new(G||F)(m.LFG(Q.K0),m.LFG(m.AFp),m.LFG(m.Ojb,8),m.LFG(m.Lbi))};static#t=this.\u0275prov=m.Yz7({token:F,factory:F.\u0275fac})}return F})();const Dt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Rt=/%COMP%/g,qe=new m.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Se(F,$){return $.map(q=>q.replace(Rt,F))}let ge=(()=>{class F{constructor(q,G,Ce,nt,Mt,ln,hn,Rn=null){this.eventManager=q,this.sharedStylesHost=G,this.appId=Ce,this.removeStylesOnCompDestroy=nt,this.doc=Mt,this.platformId=ln,this.ngZone=hn,this.nonce=Rn,this.rendererByCompId=new Map,this.platformIsServer=(0,Q.PM)(ln),this.defaultRenderer=new Ve(q,Mt,hn,this.platformIsServer)}createRenderer(q,G){if(!q||!G)return this.defaultRenderer;this.platformIsServer&&G.encapsulation===m.ifc.ShadowDom&&(G={...G,encapsulation:m.ifc.Emulated});const Ce=this.getOrCreateRenderer(q,G);return Ce instanceof xn?Ce.applyToHost(q):Ce instanceof vn&&Ce.applyStyles(),Ce}getOrCreateRenderer(q,G){const Ce=this.rendererByCompId;let nt=Ce.get(G.id);if(!nt){const Mt=this.doc,ln=this.ngZone,hn=this.eventManager,Rn=this.sharedStylesHost,nn=this.removeStylesOnCompDestroy,Ln=this.platformIsServer;switch(G.encapsulation){case m.ifc.Emulated:nt=new xn(hn,Rn,G,this.appId,nn,Mt,ln,Ln);break;case m.ifc.ShadowDom:return new sn(hn,Rn,q,G,Mt,ln,this.nonce,Ln);default:nt=new vn(hn,Rn,G,nn,Mt,ln,Ln)}Ce.set(G.id,nt)}return nt}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(G){return new(G||F)(m.LFG(Ae),m.LFG(Xe),m.LFG(m.AFp),m.LFG(qe),m.LFG(Q.K0),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(m.Ojb))};static#t=this.\u0275prov=m.Yz7({token:F,factory:F.\u0275fac})}return F})();class Ve{constructor($,q,G,Ce){this.eventManager=$,this.doc=q,this.ngZone=G,this.platformIsServer=Ce,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement($,q){return q?this.doc.createElementNS(Dt[q]||q,$):this.doc.createElement($)}createComment($){return this.doc.createComment($)}createText($){return this.doc.createTextNode($)}appendChild($,q){(yt($)?$.content:$).appendChild(q)}insertBefore($,q,G){$&&(yt($)?$.content:$).insertBefore(q,G)}removeChild($,q){$&&$.removeChild(q)}selectRootElement($,q){let G="string"==typeof $?this.doc.querySelector($):$;if(!G)throw new m.vHH(-5104,!1);return q||(G.textContent=""),G}parentNode($){return $.parentNode}nextSibling($){return $.nextSibling}setAttribute($,q,G,Ce){if(Ce){q=Ce+":"+q;const nt=Dt[Ce];nt?$.setAttributeNS(nt,q,G):$.setAttribute(q,G)}else $.setAttribute(q,G)}removeAttribute($,q,G){if(G){const Ce=Dt[G];Ce?$.removeAttributeNS(Ce,q):$.removeAttribute(`${G}:${q}`)}else $.removeAttribute(q)}addClass($,q){$.classList.add(q)}removeClass($,q){$.classList.remove(q)}setStyle($,q,G,Ce){Ce&(m.JOm.DashCase|m.JOm.Important)?$.style.setProperty(q,G,Ce&m.JOm.Important?"important":""):$.style[q]=G}removeStyle($,q,G){G&m.JOm.DashCase?$.style.removeProperty(q):$.style[q]=""}setProperty($,q,G){$[q]=G}setValue($,q){$.nodeValue=q}listen($,q,G){if("string"==typeof $&&!($=(0,Q.q)().getGlobalEventTarget(this.doc,$)))throw new Error(`Unsupported event target ${$} for event ${q}`);return this.eventManager.addEventListener($,q,this.decoratePreventDefault(G))}decoratePreventDefault($){return q=>{if("__ngUnwrap__"===q)return $;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>$(q)):$(q))&&q.preventDefault()}}}function yt(F){return"TEMPLATE"===F.tagName&&void 0!==F.content}class sn extends Ve{constructor($,q,G,Ce,nt,Mt,ln,hn){super($,nt,Mt,hn),this.sharedStylesHost=q,this.hostEl=G,this.shadowRoot=G.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Rn=Se(Ce.id,Ce.styles);for(const nn of Rn){const Ln=document.createElement("style");ln&&Ln.setAttribute("nonce",ln),Ln.textContent=nn,this.shadowRoot.appendChild(Ln)}}nodeOrShadowRoot($){return $===this.hostEl?this.shadowRoot:$}appendChild($,q){return super.appendChild(this.nodeOrShadowRoot($),q)}insertBefore($,q,G){return super.insertBefore(this.nodeOrShadowRoot($),q,G)}removeChild($,q){return super.removeChild(this.nodeOrShadowRoot($),q)}parentNode($){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot($)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class vn extends Ve{constructor($,q,G,Ce,nt,Mt,ln,hn){super($,nt,Mt,ln),this.sharedStylesHost=q,this.removeStylesOnCompDestroy=Ce,this.styles=hn?Se(hn,G.styles):G.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class xn extends vn{constructor($,q,G,Ce,nt,Mt,ln,hn){const Rn=Ce+"-"+G.id;super($,q,G,nt,Mt,ln,hn,Rn),this.contentAttr=function ht(F){return"_ngcontent-%COMP%".replace(Rt,F)}(Rn),this.hostAttr=function Ke(F){return"_nghost-%COMP%".replace(Rt,F)}(Rn)}applyToHost($){this.applyStyles(),this.setAttribute($,this.hostAttr,"")}createElement($,q){const G=super.createElement($,q);return super.setAttribute(G,this.contentAttr,""),G}}let Zn=(()=>{class F extends Ue{constructor(q){super(q)}supports(q){return!0}addEventListener(q,G,Ce){return q.addEventListener(G,Ce,!1),()=>this.removeEventListener(q,G,Ce)}removeEventListener(q,G,Ce){return q.removeEventListener(G,Ce)}static#e=this.\u0275fac=function(G){return new(G||F)(m.LFG(Q.K0))};static#t=this.\u0275prov=m.Yz7({token:F,factory:F.\u0275fac})}return F})();const Jn=["alt","control","meta","shift"],$e={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ze={alt:F=>F.altKey,control:F=>F.ctrlKey,meta:F=>F.metaKey,shift:F=>F.shiftKey};let Je=(()=>{class F extends Ue{constructor(q){super(q)}supports(q){return null!=F.parseEventName(q)}addEventListener(q,G,Ce){const nt=F.parseEventName(G),Mt=F.eventCallback(nt.fullKey,Ce,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,Q.q)().onAndCancel(q,nt.domEventName,Mt))}static parseEventName(q){const G=q.toLowerCase().split("."),Ce=G.shift();if(0===G.length||"keydown"!==Ce&&"keyup"!==Ce)return null;const nt=F._normalizeKey(G.pop());let Mt="",ln=G.indexOf("code");if(ln>-1&&(G.splice(ln,1),Mt="code."),Jn.forEach(Rn=>{const nn=G.indexOf(Rn);nn>-1&&(G.splice(nn,1),Mt+=Rn+".")}),Mt+=nt,0!=G.length||0===nt.length)return null;const hn={};return hn.domEventName=Ce,hn.fullKey=Mt,hn}static matchEventFullKeyCode(q,G){let Ce=$e[q.key]||q.key,nt="";return G.indexOf("code.")>-1&&(Ce=q.code,nt="code."),!(null==Ce||!Ce)&&(Ce=Ce.toLowerCase()," "===Ce?Ce="space":"."===Ce&&(Ce="dot"),Jn.forEach(Mt=>{Mt!==Ce&&(0,ze[Mt])(q)&&(nt+=Mt+".")}),nt+=Ce,nt===G)}static eventCallback(q,G,Ce){return nt=>{F.matchEventFullKeyCode(nt,q)&&Ce.runGuarded(()=>G(nt))}}static _normalizeKey(q){return"esc"===q?"escape":q}static#e=this.\u0275fac=function(G){return new(G||F)(m.LFG(Q.K0))};static#t=this.\u0275prov=m.Yz7({token:F,factory:F.\u0275fac})}return F})();const _t=(0,m.eFA)(m._c5,"browser",[{provide:m.Lbi,useValue:Q.bD},{provide:m.g9A,useValue:function Gt(){he.makeCurrent()},multi:!0},{provide:Q.K0,useFactory:function Wt(){return(0,m.RDi)(document),document},deps:[]}]),wn=new m.OlP(""),Kn=[{provide:m.rWj,useClass:class we{addToWindow($){m.dqk.getAngularTestability=(G,Ce=!0)=>{const nt=$.findTestabilityInTree(G,Ce);if(null==nt)throw new m.vHH(5103,!1);return nt},m.dqk.getAllAngularTestabilities=()=>$.getAllTestabilities(),m.dqk.getAllAngularRootElements=()=>$.getAllRootElements(),m.dqk.frameworkStabilizers||(m.dqk.frameworkStabilizers=[]),m.dqk.frameworkStabilizers.push(G=>{const Ce=m.dqk.getAllAngularTestabilities();let nt=Ce.length,Mt=!1;const ln=function(hn){Mt=Mt||hn,nt--,0==nt&&G(Mt)};Ce.forEach(hn=>{hn.whenStable(ln)})})}findTestabilityInTree($,q,G){return null==q?null:$.getTestability(q)??(G?(0,Q.q)().isShadowRoot(q)?this.findTestabilityInTree($,q.host,!0):this.findTestabilityInTree($,q.parentElement,!0):null)}},deps:[]},{provide:m.lri,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]},{provide:m.dDg,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]}],cr=[{provide:m.zSh,useValue:"root"},{provide:m.qLn,useFactory:function Xt(){return new m.qLn},deps:[]},{provide:oe,useClass:Zn,multi:!0,deps:[Q.K0,m.R0b,m.Lbi]},{provide:oe,useClass:Je,multi:!0,deps:[Q.K0]},ge,Xe,Ae,{provide:m.FYo,useExisting:ge},{provide:Q.JF,useClass:te,deps:[]},[]];let Pe=(()=>{class F{constructor(q){}static withServerTransition(q){return{ngModule:F,providers:[{provide:m.AFp,useValue:q.appId}]}}static#e=this.\u0275fac=function(G){return new(G||F)(m.LFG(wn,12))};static#t=this.\u0275mod=m.oAB({type:F});static#n=this.\u0275inj=m.cJS({providers:[...cr,...Kn],imports:[Q.ez,m.hGG]})}return F})(),kt=(()=>{class F{constructor(q){this._doc=q}getTitle(){return this._doc.title}setTitle(q){this._doc.title=q||""}static#e=this.\u0275fac=function(G){return new(G||F)(m.LFG(Q.K0))};static#t=this.\u0275prov=m.Yz7({token:F,factory:function(G){let Ce=null;return Ce=G?new G:function bt(){return new kt((0,m.LFG)(Q.K0))}(),Ce},providedIn:"root"})}return F})();typeof window<"u"&&window;let vi=(()=>{class F{static#e=this.\u0275fac=function(G){return new(G||F)};static#t=this.\u0275prov=m.Yz7({token:F,factory:function(G){let Ce=null;return Ce=G?new(G||F):m.LFG(xr),Ce},providedIn:"root"})}return F})(),xr=(()=>{class F extends vi{constructor(q){super(),this._doc=q}sanitize(q,G){if(null==G)return null;switch(q){case m.q3G.NONE:return G;case m.q3G.HTML:return(0,m.qzn)(G,"HTML")?(0,m.z3N)(G):(0,m.EiD)(this._doc,String(G)).toString();case m.q3G.STYLE:return(0,m.qzn)(G,"Style")?(0,m.z3N)(G):G;case m.q3G.SCRIPT:if((0,m.qzn)(G,"Script"))return(0,m.z3N)(G);throw new m.vHH(5200,!1);case m.q3G.URL:return(0,m.qzn)(G,"URL")?(0,m.z3N)(G):(0,m.mCW)(String(G));case m.q3G.RESOURCE_URL:if((0,m.qzn)(G,"ResourceURL"))return(0,m.z3N)(G);throw new m.vHH(5201,!1);default:throw new m.vHH(5202,!1)}}bypassSecurityTrustHtml(q){return(0,m.JVY)(q)}bypassSecurityTrustStyle(q){return(0,m.L6k)(q)}bypassSecurityTrustScript(q){return(0,m.eBb)(q)}bypassSecurityTrustUrl(q){return(0,m.LAX)(q)}bypassSecurityTrustResourceUrl(q){return(0,m.pB0)(q)}static#e=this.\u0275fac=function(G){return new(G||F)(m.LFG(Q.K0))};static#t=this.\u0275prov=m.Yz7({token:F,factory:function(G){let Ce=null;return Ce=G?new G:function Nr(F){return new xr(F.get(Q.K0))}(m.LFG(m.zs3)),Ce},providedIn:"root"})}return F})()},1705:($t,Ge,B)=>{"use strict";B.d(Ge,{gz:()=>Zi,m2:()=>jr,F0:()=>ii,rH:()=>ji,Bz:()=>ms,lC:()=>ur});var m=B(9468),Q=B(5592),d=B(4674),se=B(2459),de=B(2096),_e=B(5619),Ne=B(7453),we=B(2737),te=B(7400),oe=B(9940),Ae=B(2714),Ue=B(8251),Oe=B(7103);function Xe(...C){const x=(0,oe.yG)(C),b=(0,oe.jO)(C),{args:R,keys:H}=(0,Ne.D)(C);if(0===R.length)return(0,se.D)([],x);const ue=new Q.y(function Dt(C,x,b=we.y){return R=>{Rt(x,()=>{const{length:H}=C,ue=new Array(H);let Ee=H,st=H;for(let tt=0;tt<H;tt++)Rt(x,()=>{const Kt=(0,se.D)(C[tt],x);let tr=!1;Kt.subscribe((0,Ue.x)(R,Ur=>{ue[tt]=Ur,tr||(tr=!0,st--),st||R.next(b(ue.slice()))},()=>{--Ee||R.complete()}))},R)},R)}}(R,x,H?Ee=>(0,Ae.n)(H,Ee):we.y));return b?ue.pipe((0,te.Z)(b)):ue}function Rt(C,x,b){C?(0,Oe.f)(b,C,x):x()}var xt=B(6973),en=B(5211),ft=B(4829);function Te(C){return new Q.y(x=>{(0,ft.Xf)(C()).subscribe(x)})}var qe=B(8407);function ht(C,x){const b=(0,d.m)(C)?C:()=>C,R=H=>H.error(b());return new Q.y(x?H=>x.schedule(R,0,H):R)}var Ke=B(6232),Se=B(7394),ge=B(9360);function Ve(){return(0,ge.e)((C,x)=>{let b=null;C._refCount++;const R=(0,Ue.x)(x,void 0,void 0,void 0,()=>{if(!C||C._refCount<=0||0<--C._refCount)return void(b=null);const H=C._connection,ue=b;b=null,H&&(!ue||H===ue)&&H.unsubscribe(),x.unsubscribe()});C.subscribe(R),R.closed||(b=C.connect())})}class pt extends Q.y{constructor(x,b){super(),this.source=x,this.subjectFactory=b,this._subject=null,this._refCount=0,this._connection=null,(0,ge.A)(x)&&(this.lift=x.lift)}_subscribe(x){return this.getSubject().subscribe(x)}getSubject(){const x=this._subject;return(!x||x.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:x}=this;this._subject=this._connection=null,x?.unsubscribe()}connect(){let x=this._connection;if(!x){x=this._connection=new Se.w0;const b=this.getSubject();x.add(this.source.subscribe((0,Ue.x)(b,void 0,()=>{this._teardown(),b.complete()},R=>{this._teardown(),b.error(R)},()=>this._teardown()))),x.closed&&(this._connection=null,x=Se.w0.EMPTY)}return x}refCount(){return Ve()(this)}}var gn=B(8645),yt=B(6814),sn=B(7398),vn=B(4664),xn=B(8180),Jn=B(2181),$e=B(1631),ze=B(1374);function Je(C,x){return(0,d.m)(x)?(0,$e.z)(C,x,1):(0,$e.z)(C,1)}var je=B(9397);function et(C){return(0,ge.e)((x,b)=>{let ue,R=null,H=!1;R=x.subscribe((0,Ue.x)(b,void 0,void 0,Ee=>{ue=(0,ft.Xf)(C(Ee,et(C)(x))),R?(R.unsubscribe(),R=null,ue.subscribe(b)):H=!0})),H&&(R.unsubscribe(),R=null,ue.subscribe(b))})}var It=B(6424),Vt=B(3572);function Gt(C){return C<=0?()=>Ke.E:(0,ge.e)((x,b)=>{let R=[];x.subscribe((0,Ue.x)(b,H=>{R.push(H),C<R.length&&R.shift()},()=>{for(const H of R)b.next(H);b.complete()},void 0,()=>{R=null}))})}var Xt=B(3026),jt=B(975);function _t(C){return(0,ge.e)((x,b)=>{try{x.subscribe(b)}finally{b.add(C)}})}var wn=B(2420),cr=B(7537),Pe=B(6593);const De="primary",rt=Symbol("RouteTitle");class Et{constructor(x){this.params=x||{}}has(x){return Object.prototype.hasOwnProperty.call(this.params,x)}get(x){if(this.has(x)){const b=this.params[x];return Array.isArray(b)?b[0]:b}return null}getAll(x){if(this.has(x)){const b=this.params[x];return Array.isArray(b)?b:[b]}return[]}get keys(){return Object.keys(this.params)}}function bt(C){return new Et(C)}function kt(C,x,b){const R=b.path.split("/");if(R.length>C.length||"full"===b.pathMatch&&(x.hasChildren()||R.length<C.length))return null;const H={};for(let ue=0;ue<R.length;ue++){const Ee=R[ue],st=C[ue];if(Ee.startsWith(":"))H[Ee.substring(1)]=st;else if(Ee!==st.path)return null}return{consumed:C.slice(0,R.length),posParams:H}}function mn(C,x){const b=C?Object.keys(C):void 0,R=x?Object.keys(x):void 0;if(!b||!R||b.length!=R.length)return!1;let H;for(let ue=0;ue<b.length;ue++)if(H=b[ue],!Dn(C[H],x[H]))return!1;return!0}function Dn(C,x){if(Array.isArray(C)&&Array.isArray(x)){if(C.length!==x.length)return!1;const b=[...C].sort(),R=[...x].sort();return b.every((H,ue)=>R[ue]===H)}return C===x}function tn(C){return C.length>0?C[C.length-1]:null}function dn(C){return function he(C){return!!C&&(C instanceof Q.y||(0,d.m)(C.lift)&&(0,d.m)(C.subscribe))}(C)?C:(0,m.QGY)(C)?(0,se.D)(Promise.resolve(C)):(0,de.of)(C)}const mr={exact:function bn(C,x,b){if(!xr(C.segments,x.segments)||!On(C.segments,x.segments,b)||C.numberOfChildren!==x.numberOfChildren)return!1;for(const R in x.children)if(!C.children[R]||!bn(C.children[R],x.children[R],b))return!1;return!0},subset:qn},rn={exact:function Er(C,x){return mn(C,x)},subset:function zn(C,x){return Object.keys(x).length<=Object.keys(C).length&&Object.keys(x).every(b=>Dn(C[b],x[b]))},ignored:()=>!0};function lr(C,x,b){return mr[b.paths](C.root,x.root,b.matrixParams)&&rn[b.queryParams](C.queryParams,x.queryParams)&&!("exact"===b.fragment&&C.fragment!==x.fragment)}function qn(C,x,b){return Xn(C,x,x.segments,b)}function Xn(C,x,b,R){if(C.segments.length>b.length){const H=C.segments.slice(0,b.length);return!(!xr(H,b)||x.hasChildren()||!On(H,b,R))}if(C.segments.length===b.length){if(!xr(C.segments,b)||!On(C.segments,b,R))return!1;for(const H in x.children)if(!C.children[H]||!qn(C.children[H],x.children[H],R))return!1;return!0}{const H=b.slice(0,C.segments.length),ue=b.slice(C.segments.length);return!!(xr(C.segments,H)&&On(C.segments,H,R)&&C.children[De])&&Xn(C.children[De],x,ue,R)}}function On(C,x,b){return x.every((R,H)=>rn[b](C[H].parameters,R.parameters))}class qr{constructor(x=new Qt([],{}),b={},R=null){this.root=x,this.queryParams=b,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bt(this.queryParams)),this._queryParamMap}toString(){return Ot.serialize(this)}}class Qt{constructor(x,b){this.segments=x,this.children=b,this.parent=null,Object.values(b).forEach(R=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zt(this)}}class vi{constructor(x,b){this.path=x,this.parameters=b}get parameterMap(){return this._parameterMap||(this._parameterMap=bt(this.parameters)),this._parameterMap}toString(){return Ce(this)}}function xr(C,x){return C.length===x.length&&C.every((b,R)=>b.path===x[R].path)}let xe=(()=>{class C{static#e=this.\u0275fac=function(R){return new(R||C)};static#t=this.\u0275prov=m.Yz7({token:C,factory:function(){return new ot},providedIn:"root"})}return C})();class ot{parse(x){const b=new ho(x);return new qr(b.parseRootSegment(),b.parseQueryParams(),b.parseFragment())}serialize(x){const b=`/${Jt(x.root,!0)}`,R=function Mt(C){const x=Object.keys(C).map(b=>{const R=C[b];return Array.isArray(R)?R.map(H=>`${Y(b)}=${Y(H)}`).join("&"):`${Y(b)}=${Y(R)}`}).filter(b=>!!b);return x.length?`?${x.join("&")}`:""}(x.queryParams);return`${b}${R}${"string"==typeof x.fragment?`#${function F(C){return encodeURI(C)}(x.fragment)}`:""}`}}const Ot=new ot;function Zt(C){return C.segments.map(x=>Ce(x)).join("/")}function Jt(C,x){if(!C.hasChildren())return Zt(C);if(x){const b=C.children[De]?Jt(C.children[De],!1):"",R=[];return Object.entries(C.children).forEach(([H,ue])=>{H!==De&&R.push(`${H}:${Jt(ue,!1)}`)}),R.length>0?`${b}(${R.join("//")})`:b}{const b=function dt(C,x){let b=[];return Object.entries(C.children).forEach(([R,H])=>{R===De&&(b=b.concat(x(H,R)))}),Object.entries(C.children).forEach(([R,H])=>{R!==De&&(b=b.concat(x(H,R)))}),b}(C,(R,H)=>H===De?[Jt(C.children[De],!1)]:[`${H}:${Jt(R,!1)}`]);return 1===Object.keys(C.children).length&&null!=C.children[De]?`${Zt(C)}/${b[0]}`:`${Zt(C)}/(${b.join("//")})`}}function Wn(C){return encodeURIComponent(C).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Y(C){return Wn(C).replace(/%3B/gi,";")}function $(C){return Wn(C).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function q(C){return decodeURIComponent(C)}function G(C){return q(C.replace(/\+/g,"%20"))}function Ce(C){return`${$(C.path)}${function nt(C){return Object.keys(C).map(x=>`;${$(x)}=${$(C[x])}`).join("")}(C.parameters)}`}const ln=/^[^\/()?;#]+/;function hn(C){const x=C.match(ln);return x?x[0]:""}const Rn=/^[^\/()?;=#]+/,Ln=/^[^=?&#]+/,ar=/^[^&#]+/;class ho{constructor(x){this.url=x,this.remaining=x}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qt([],{}):new Qt([],this.parseChildren())}parseQueryParams(){const x={};if(this.consumeOptional("?"))do{this.parseQueryParam(x)}while(this.consumeOptional("&"));return x}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const x=[];for(this.peekStartsWith("(")||x.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),x.push(this.parseSegment());let b={};this.peekStartsWith("/(")&&(this.capture("/"),b=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(x.length>0||Object.keys(b).length>0)&&(R[De]=new Qt(x,b)),R}parseSegment(){const x=hn(this.remaining);if(""===x&&this.peekStartsWith(";"))throw new m.vHH(4009,!1);return this.capture(x),new vi(q(x),this.parseMatrixParams())}parseMatrixParams(){const x={};for(;this.consumeOptional(";");)this.parseParam(x);return x}parseParam(x){const b=function nn(C){const x=C.match(Rn);return x?x[0]:""}(this.remaining);if(!b)return;this.capture(b);let R="";if(this.consumeOptional("=")){const H=hn(this.remaining);H&&(R=H,this.capture(R))}x[q(b)]=q(R)}parseQueryParam(x){const b=function Vr(C){const x=C.match(Ln);return x?x[0]:""}(this.remaining);if(!b)return;this.capture(b);let R="";if(this.consumeOptional("=")){const Ee=function as(C){const x=C.match(ar);return x?x[0]:""}(this.remaining);Ee&&(R=Ee,this.capture(R))}const H=G(b),ue=G(R);if(x.hasOwnProperty(H)){let Ee=x[H];Array.isArray(Ee)||(Ee=[Ee],x[H]=Ee),Ee.push(ue)}else x[H]=ue}parseParens(x){const b={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=hn(this.remaining),H=this.remaining[R.length];if("/"!==H&&")"!==H&&";"!==H)throw new m.vHH(4010,!1);let ue;R.indexOf(":")>-1?(ue=R.slice(0,R.indexOf(":")),this.capture(ue),this.capture(":")):x&&(ue=De);const Ee=this.parseChildren();b[ue]=1===Object.keys(Ee).length?Ee[De]:new Qt([],Ee),this.consumeOptional("//")}return b}peekStartsWith(x){return this.remaining.startsWith(x)}consumeOptional(x){return!!this.peekStartsWith(x)&&(this.remaining=this.remaining.substring(x.length),!0)}capture(x){if(!this.consumeOptional(x))throw new m.vHH(4011,!1)}}function Le(C){return C.segments.length>0?new Qt([],{[De]:C}):C}function Tn(C){const x={};for(const R of Object.keys(C.children)){const ue=Tn(C.children[R]);if(R===De&&0===ue.segments.length&&ue.hasChildren())for(const[Ee,st]of Object.entries(ue.children))x[Ee]=st;else(ue.segments.length>0||ue.hasChildren())&&(x[R]=ue)}return function U(C){if(1===C.numberOfChildren&&C.children[De]){const x=C.children[De];return new Qt(C.segments.concat(x.segments),x.children)}return C}(new Qt(C.segments,x))}function le(C){return C instanceof qr}function Be(C){let x;const H=Le(function b(ue){const Ee={};for(const tt of ue.children){const Kt=b(tt);Ee[tt.outlet]=Kt}const st=new Qt(ue.url,Ee);return ue===C&&(x=st),st}(C.root));return x??H}function We(C,x,b,R){let H=C;for(;H.parent;)H=H.parent;if(0===x.length)return Fn(H,H,H,b,R);const ue=function ws(C){if("string"==typeof C[0]&&1===C.length&&"/"===C[0])return new Cr(!0,0,C);let x=0,b=!1;const R=C.reduce((H,ue,Ee)=>{if("object"==typeof ue&&null!=ue){if(ue.outlets){const st={};return Object.entries(ue.outlets).forEach(([tt,Kt])=>{st[tt]="string"==typeof Kt?Kt.split("/"):Kt}),[...H,{outlets:st}]}if(ue.segmentPath)return[...H,ue.segmentPath]}return"string"!=typeof ue?[...H,ue]:0===Ee?(ue.split("/").forEach((st,tt)=>{0==tt&&"."===st||(0==tt&&""===st?b=!0:".."===st?x++:""!=st&&H.push(st))}),H):[...H,ue]},[]);return new Cr(b,x,R)}(x);if(ue.toRoot())return Fn(H,H,new Qt([],{}),b,R);const Ee=function Mo(C,x,b){if(C.isAbsolute)return new Mi(x,!0,0);if(!b)return new Mi(x,!1,NaN);if(null===b.parent)return new Mi(b,!0,0);const R=it(C.commands[0])?0:1;return function ti(C,x,b){let R=C,H=x,ue=b;for(;ue>H;){if(ue-=H,R=R.parent,!R)throw new m.vHH(4005,!1);H=R.segments.length}return new Mi(R,!1,H-ue)}(b,b.segments.length-1+R,C.numberOfDoubleDots)}(ue,H,C),st=Ee.processChildren?xo(Ee.segmentGroup,Ee.index,ue.commands):xi(Ee.segmentGroup,Ee.index,ue.commands);return Fn(H,Ee.segmentGroup,st,b,R)}function it(C){return"object"==typeof C&&null!=C&&!C.outlets&&!C.segmentPath}function St(C){return"object"==typeof C&&null!=C&&C.outlets}function Fn(C,x,b,R,H){let Ee,ue={};R&&Object.entries(R).forEach(([tt,Kt])=>{ue[tt]=Array.isArray(Kt)?Kt.map(tr=>`${tr}`):`${Kt}`}),Ee=C===x?b:er(C,x,b);const st=Le(Tn(Ee));return new qr(st,ue,H)}function er(C,x,b){const R={};return Object.entries(C.children).forEach(([H,ue])=>{R[H]=ue===x?b:er(ue,x,b)}),new Qt(C.segments,R)}class Cr{constructor(x,b,R){if(this.isAbsolute=x,this.numberOfDoubleDots=b,this.commands=R,x&&R.length>0&&it(R[0]))throw new m.vHH(4003,!1);const H=R.find(St);if(H&&H!==tn(R))throw new m.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mi{constructor(x,b,R){this.segmentGroup=x,this.processChildren=b,this.index=R}}function xi(C,x,b){if(C||(C=new Qt([],{})),0===C.segments.length&&C.hasChildren())return xo(C,x,b);const R=function ks(C,x,b){let R=0,H=x;const ue={match:!1,pathIndex:0,commandIndex:0};for(;H<C.segments.length;){if(R>=b.length)return ue;const Ee=C.segments[H],st=b[R];if(St(st))break;const tt=`${st}`,Kt=R<b.length-1?b[R+1]:null;if(H>0&&void 0===tt)break;if(tt&&Kt&&"object"==typeof Kt&&void 0===Kt.outlets){if(!Ls(tt,Kt,Ee))return ue;R+=2}else{if(!Ls(tt,{},Ee))return ue;R++}H++}return{match:!0,pathIndex:H,commandIndex:R}}(C,x,b),H=b.slice(R.commandIndex);if(R.match&&R.pathIndex<C.segments.length){const ue=new Qt(C.segments.slice(0,R.pathIndex),{});return ue.children[De]=new Qt(C.segments.slice(R.pathIndex),C.children),xo(ue,0,H)}return R.match&&0===H.length?new Qt(C.segments,{}):R.match&&!C.hasChildren()?ia(C,x,b):R.match?xo(C,0,H):ia(C,x,b)}function xo(C,x,b){if(0===b.length)return new Qt(C.segments,{});{const R=function Ks(C){return St(C[0])?C[0].outlets:{[De]:C}}(b),H={};if(Object.keys(R).some(ue=>ue!==De)&&C.children[De]&&1===C.numberOfChildren&&0===C.children[De].segments.length){const ue=xo(C.children[De],x,b);return new Qt(C.segments,ue.children)}return Object.entries(R).forEach(([ue,Ee])=>{"string"==typeof Ee&&(Ee=[Ee]),null!==Ee&&(H[ue]=xi(C.children[ue],x,Ee))}),Object.entries(C.children).forEach(([ue,Ee])=>{void 0===R[ue]&&(H[ue]=Ee)}),new Qt(C.segments,H)}}function ia(C,x,b){const R=C.segments.slice(0,x);let H=0;for(;H<b.length;){const ue=b[H];if(St(ue)){const tt=Ei(ue.outlets);return new Qt(R,tt)}if(0===H&&it(b[0])){R.push(new vi(C.segments[x].path,sa(b[0]))),H++;continue}const Ee=St(ue)?ue.outlets[De]:`${ue}`,st=H<b.length-1?b[H+1]:null;Ee&&st&&it(st)?(R.push(new vi(Ee,sa(st))),H+=2):(R.push(new vi(Ee,{})),H++)}return new Qt(R,{})}function Ei(C){const x={};return Object.entries(C).forEach(([b,R])=>{"string"==typeof R&&(R=[R]),null!==R&&(x[b]=ia(new Qt([],{}),0,R))}),x}function sa(C){const x={};return Object.entries(C).forEach(([b,R])=>x[b]=`${R}`),x}function Ls(C,x,b){return C==b.path&&mn(x,b.parameters)}const Ys="imperative";class bs{constructor(x,b){this.id=x,this.url=b}}class Ir extends bs{constructor(x,b,R="imperative",H=null){super(x,b),this.type=0,this.navigationTrigger=R,this.restoredState=H}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class jr extends bs{constructor(x,b,R){super(x,b),this.urlAfterRedirects=R,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fo extends bs{constructor(x,b,R,H){super(x,b),this.reason=R,this.code=H,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Wi extends bs{constructor(x,b,R,H){super(x,b),this.reason=R,this.code=H,this.type=16}}class po extends bs{constructor(x,b,R,H){super(x,b),this.error=R,this.target=H,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ku extends bs{constructor(x,b,R,H){super(x,b),this.urlAfterRedirects=R,this.state=H,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bi extends bs{constructor(x,b,R,H){super(x,b),this.urlAfterRedirects=R,this.state=H,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lu extends bs{constructor(x,b,R,H,ue){super(x,b),this.urlAfterRedirects=R,this.state=H,this.shouldActivate=ue,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Oi extends bs{constructor(x,b,R,H){super(x,b),this.urlAfterRedirects=R,this.state=H,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fu extends bs{constructor(x,b,R,H){super(x,b),this.urlAfterRedirects=R,this.state=H,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oa{constructor(x){this.route=x,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ga{constructor(x){this.route=x,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Oo{constructor(x){this.snapshot=x,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Da{constructor(x){this.snapshot=x,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Po{constructor(x){this.snapshot=x,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Uu{constructor(x){this.snapshot=x,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fs{constructor(x,b,R){this.routerEvent=x,this.position=b,this.anchor=R,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ro{}class No{constructor(x){this.url=x}}class go{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ir,this.attachRef=null}}let ir=(()=>{class C{constructor(){this.contexts=new Map}onChildOutletCreated(b,R){const H=this.getOrCreateContext(b);H.outlet=R,this.contexts.set(b,H)}onChildOutletDestroyed(b){const R=this.getContext(b);R&&(R.outlet=null,R.attachRef=null)}onOutletDeactivated(){const b=this.contexts;return this.contexts=new Map,b}onOutletReAttached(b){this.contexts=b}getOrCreateContext(b){let R=this.getContext(b);return R||(R=new go,this.contexts.set(b,R)),R}getContext(b){return this.contexts.get(b)||null}static#e=this.\u0275fac=function(R){return new(R||C)};static#t=this.\u0275prov=m.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();class ni{constructor(x){this._root=x}get root(){return this._root.value}parent(x){const b=this.pathFromRoot(x);return b.length>1?b[b.length-2]:null}children(x){const b=Ii(x,this._root);return b?b.children.map(R=>R.value):[]}firstChild(x){const b=Ii(x,this._root);return b&&b.children.length>0?b.children[0].value:null}siblings(x){const b=es(x,this._root);return b.length<2?[]:b[b.length-2].children.map(H=>H.value).filter(H=>H!==x)}pathFromRoot(x){return es(x,this._root).map(b=>b.value)}}function Ii(C,x){if(C===x.value)return x;for(const b of x.children){const R=Ii(C,b);if(R)return R}return null}function es(C,x){if(C===x.value)return[x];for(const b of x.children){const R=es(C,b);if(R.length)return R.unshift(x),R}return[]}class kr{constructor(x,b){this.value=x,this.children=b}toString(){return`TreeNode(${this.value})`}}function us(C){const x={};return C&&C.children.forEach(b=>x[b.value.outlet]=b),x}class ua extends ni{constructor(x,b){super(x),this.snapshot=b,pi(this,x)}toString(){return this.snapshot.toString()}}function fi(C,x){const b=function za(C,x){const Ee=new Un([],{},{},"",{},De,x,null,{});return new Lr("",new kr(Ee,[]))}(0,x),R=new _e.X([new vi("",{})]),H=new _e.X({}),ue=new _e.X({}),Ee=new _e.X({}),st=new _e.X(""),tt=new Zi(R,H,Ee,st,ue,De,x,b.root);return tt.snapshot=b.root,new ua(new kr(tt,[]),b)}class Zi{constructor(x,b,R,H,ue,Ee,st,tt){this.urlSubject=x,this.paramsSubject=b,this.queryParamsSubject=R,this.fragmentSubject=H,this.dataSubject=ue,this.outlet=Ee,this.component=st,this._futureSnapshot=tt,this.title=this.dataSubject?.pipe((0,sn.U)(Kt=>Kt[rt]))??(0,de.of)(void 0),this.url=x,this.params=b,this.queryParams=R,this.fragment=H,this.data=ue}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,sn.U)(x=>bt(x)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,sn.U)(x=>bt(x)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Dr(C,x="emptyOnly"){const b=C.pathFromRoot;let R=0;if("always"!==x)for(R=b.length-1;R>=1;){const H=b[R],ue=b[R-1];if(H.routeConfig&&""===H.routeConfig.path)R--;else{if(ue.component)break;R--}}return function zt(C){return C.reduce((x,b)=>({params:{...x.params,...b.params},data:{...x.data,...b.data},resolve:{...b.data,...x.resolve,...b.routeConfig?.data,...b._resolvedData}}),{params:{},data:{},resolve:{}})}(b.slice(R))}class Un{get title(){return this.data?.[rt]}constructor(x,b,R,H,ue,Ee,st,tt,Kt){this.url=x,this.params=b,this.queryParams=R,this.fragment=H,this.data=ue,this.outlet=Ee,this.component=st,this.routeConfig=tt,this._resolve=Kt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Lr extends ni{constructor(x,b){super(b),this.url=x,pi(this,b)}toString(){return ko(this._root)}}function pi(C,x){x.value._routerState=C,x.children.forEach(b=>pi(C,b))}function ko(C){const x=C.children.length>0?` { ${C.children.map(ko).join(", ")} } `:"";return`${C.value}${x}`}function Wr(C){if(C.snapshot){const x=C.snapshot,b=C._futureSnapshot;C.snapshot=b,mn(x.queryParams,b.queryParams)||C.queryParamsSubject.next(b.queryParams),x.fragment!==b.fragment&&C.fragmentSubject.next(b.fragment),mn(x.params,b.params)||C.paramsSubject.next(b.params),function pr(C,x){if(C.length!==x.length)return!1;for(let b=0;b<C.length;++b)if(!mn(C[b],x[b]))return!1;return!0}(x.url,b.url)||C.urlSubject.next(b.url),mn(x.data,b.data)||C.dataSubject.next(b.data)}else C.snapshot=C._futureSnapshot,C.dataSubject.next(C._futureSnapshot.data)}function Pi(C,x){const b=mn(C.params,x.params)&&function Nr(C,x){return xr(C,x)&&C.every((b,R)=>mn(b.parameters,x[R].parameters))}(C.url,x.url);return b&&!(!C.parent!=!x.parent)&&(!C.parent||Pi(C.parent,x.parent))}let ur=(()=>{class C{constructor(){this.activated=null,this._activatedRoute=null,this.name=De,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.attachEvents=new m.vpe,this.detachEvents=new m.vpe,this.parentContexts=(0,m.f3M)(ir),this.location=(0,m.f3M)(m.s_b),this.changeDetector=(0,m.f3M)(m.sBO),this.environmentInjector=(0,m.f3M)(m.lqb),this.inputBinder=(0,m.f3M)(Ri,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(b){if(b.name){const{firstChange:R,previousValue:H}=b.name;if(R)return;this.isTrackedInParentContexts(H)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(H)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(b){return this.parentContexts.getContext(b)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const b=this.parentContexts.getContext(this.name);b?.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new m.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new m.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new m.vHH(4012,!1);this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(b.instance),b}attach(b,R){this.activated=b,this._activatedRoute=R,this.location.insert(b.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(b.instance)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,R){if(this.isActivated)throw new m.vHH(4013,!1);this._activatedRoute=b;const H=this.location,Ee=b.snapshot.component,st=this.parentContexts.getOrCreateContext(this.name).children,tt=new oi(b,st,H.injector);this.activated=H.createComponent(Ee,{index:H.length,injector:tt,environmentInjector:R??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(R){return new(R||C)};static#t=this.\u0275dir=m.lG2({type:C,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[m.TTD]})}return C})();class oi{constructor(x,b,R){this.route=x,this.childContexts=b,this.parent=R}get(x,b){return x===Zi?this.route:x===ir?this.childContexts:this.parent.get(x,b)}}const Ri=new m.OlP("");let Vn=(()=>{class C{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(b){this.unsubscribeFromRouteData(b),this.subscribeToRouteData(b)}unsubscribeFromRouteData(b){this.outletDataSubscriptions.get(b)?.unsubscribe(),this.outletDataSubscriptions.delete(b)}subscribeToRouteData(b){const{activatedRoute:R}=b,H=Xe([R.queryParams,R.params,R.data]).pipe((0,vn.w)(([ue,Ee,st],tt)=>(st={...ue,...Ee,...st},0===tt?(0,de.of)(st):Promise.resolve(st)))).subscribe(ue=>{if(!b.isActivated||!b.activatedComponentRef||b.activatedRoute!==R||null===R.component)return void this.unsubscribeFromRouteData(b);const Ee=(0,m.qFp)(R.component);if(Ee)for(const{templateName:st}of Ee.inputs)b.activatedComponentRef.setInput(st,ue[st]);else this.unsubscribeFromRouteData(b)});this.outletDataSubscriptions.set(b,H)}static#e=this.\u0275fac=function(R){return new(R||C)};static#t=this.\u0275prov=m.Yz7({token:C,factory:C.\u0275fac})}return C})();function ai(C,x,b){if(b&&C.shouldReuseRoute(x.value,b.value.snapshot)){const R=b.value;R._futureSnapshot=x.value;const H=function Qs(C,x,b){return x.children.map(R=>{for(const H of b.children)if(C.shouldReuseRoute(R.value,H.value.snapshot))return ai(C,R,H);return ai(C,R)})}(C,x,b);return new kr(R,H)}{if(C.shouldAttach(x.value)){const ue=C.retrieve(x.value);if(null!==ue){const Ee=ue.route;return Ee.value._futureSnapshot=x.value,Ee.children=x.children.map(st=>ai(C,st)),Ee}}const R=function Hr(C){return new Zi(new _e.X(C.url),new _e.X(C.params),new _e.X(C.queryParams),new _e.X(C.fragment),new _e.X(C.data),C.outlet,C.component,C)}(x.value),H=x.children.map(ue=>ai(C,ue));return new kr(R,H)}}const wi="ngNavigationCancelingError";function Vs(C,x){const{redirectTo:b,navigationBehaviorOptions:R}=le(x)?{redirectTo:x,navigationBehaviorOptions:void 0}:x,H=Fr(!1,0,x);return H.url=b,H.navigationBehaviorOptions=R,H}function Fr(C,x,b){const R=new Error("NavigationCancelingError: "+(C||""));return R[wi]=!0,R.cancellationCode=x,b&&(R.url=b),R}function qa(C){return C&&C[wi]}let Js=(()=>{class C{static#e=this.\u0275fac=function(R){return new(R||C)};static#t=this.\u0275cmp=m.Xpm({type:C,selectors:[["ng-component"]],standalone:!0,features:[m.jDz],decls:1,vars:0,template:function(R,H){1&R&&m._UZ(0,"router-outlet")},dependencies:[ur],encapsulation:2})}return C})();function yo(C){const x=C.children&&C.children.map(yo),b=x?{...C,children:x}:{...C};return!b.component&&!b.loadComponent&&(x||b.loadChildren)&&b.outlet&&b.outlet!==De&&(b.component=Js),b}function ui(C){return C.outlet||De}function Ni(C){if(!C)return null;if(C.routeConfig?._injector)return C.routeConfig._injector;for(let x=C.parent;x;x=x.parent){const b=x.routeConfig;if(b?._loadedInjector)return b._loadedInjector;if(b?._injector)return b._injector}return null}class Li{constructor(x,b,R,H,ue){this.routeReuseStrategy=x,this.futureState=b,this.currState=R,this.forwardEvent=H,this.inputBindingEnabled=ue}activate(x){const b=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(b,R,x),Wr(this.futureState.root),this.activateChildRoutes(b,R,x)}deactivateChildRoutes(x,b,R){const H=us(b);x.children.forEach(ue=>{const Ee=ue.value.outlet;this.deactivateRoutes(ue,H[Ee],R),delete H[Ee]}),Object.values(H).forEach(ue=>{this.deactivateRouteAndItsChildren(ue,R)})}deactivateRoutes(x,b,R){const H=x.value,ue=b?b.value:null;if(H===ue)if(H.component){const Ee=R.getContext(H.outlet);Ee&&this.deactivateChildRoutes(x,b,Ee.children)}else this.deactivateChildRoutes(x,b,R);else ue&&this.deactivateRouteAndItsChildren(b,R)}deactivateRouteAndItsChildren(x,b){x.value.component&&this.routeReuseStrategy.shouldDetach(x.value.snapshot)?this.detachAndStoreRouteSubtree(x,b):this.deactivateRouteAndOutlet(x,b)}detachAndStoreRouteSubtree(x,b){const R=b.getContext(x.value.outlet),H=R&&x.value.component?R.children:b,ue=us(x);for(const Ee of Object.keys(ue))this.deactivateRouteAndItsChildren(ue[Ee],H);if(R&&R.outlet){const Ee=R.outlet.detach(),st=R.children.onOutletDeactivated();this.routeReuseStrategy.store(x.value.snapshot,{componentRef:Ee,route:x,contexts:st})}}deactivateRouteAndOutlet(x,b){const R=b.getContext(x.value.outlet),H=R&&x.value.component?R.children:b,ue=us(x);for(const Ee of Object.keys(ue))this.deactivateRouteAndItsChildren(ue[Ee],H);R&&(R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated()),R.attachRef=null,R.route=null)}activateChildRoutes(x,b,R){const H=us(b);x.children.forEach(ue=>{this.activateRoutes(ue,H[ue.value.outlet],R),this.forwardEvent(new Uu(ue.value.snapshot))}),x.children.length&&this.forwardEvent(new Da(x.value.snapshot))}activateRoutes(x,b,R){const H=x.value,ue=b?b.value:null;if(Wr(H),H===ue)if(H.component){const Ee=R.getOrCreateContext(H.outlet);this.activateChildRoutes(x,b,Ee.children)}else this.activateChildRoutes(x,b,R);else if(H.component){const Ee=R.getOrCreateContext(H.outlet);if(this.routeReuseStrategy.shouldAttach(H.snapshot)){const st=this.routeReuseStrategy.retrieve(H.snapshot);this.routeReuseStrategy.store(H.snapshot,null),Ee.children.onOutletReAttached(st.contexts),Ee.attachRef=st.componentRef,Ee.route=st.route.value,Ee.outlet&&Ee.outlet.attach(st.componentRef,st.route.value),Wr(st.route.value),this.activateChildRoutes(x,null,Ee.children)}else{const st=Ni(H.snapshot);Ee.attachRef=null,Ee.route=H,Ee.injector=st,Ee.outlet&&Ee.outlet.activateWith(H,Ee.injector),this.activateChildRoutes(x,null,Ee.children)}}else this.activateChildRoutes(x,null,R)}}class cs{constructor(x){this.path=x,this.route=this.path[this.path.length-1]}}class ts{constructor(x,b){this.component=x,this.route=b}}function Fi(C,x,b){const R=C._root;return zo(R,x?x._root:null,b,[R.value])}function js(C,x){const b=Symbol(),R=x.get(C,b);return R===b?"function"!=typeof C||(0,m.Z0I)(C)?x.get(C):C:R}function zo(C,x,b,R,H={canDeactivateChecks:[],canActivateChecks:[]}){const ue=us(x);return C.children.forEach(Ee=>{(function Wa(C,x,b,R,H={canDeactivateChecks:[],canActivateChecks:[]}){const ue=C.value,Ee=x?x.value:null,st=b?b.getContext(C.value.outlet):null;if(Ee&&ue.routeConfig===Ee.routeConfig){const tt=function Ss(C,x,b){if("function"==typeof b)return b(C,x);switch(b){case"pathParamsChange":return!xr(C.url,x.url);case"pathParamsOrQueryParamsChange":return!xr(C.url,x.url)||!mn(C.queryParams,x.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Pi(C,x)||!mn(C.queryParams,x.queryParams);default:return!Pi(C,x)}}(Ee,ue,ue.routeConfig.runGuardsAndResolvers);tt?H.canActivateChecks.push(new cs(R)):(ue.data=Ee.data,ue._resolvedData=Ee._resolvedData),zo(C,x,ue.component?st?st.children:null:b,R,H),tt&&st&&st.outlet&&st.outlet.isActivated&&H.canDeactivateChecks.push(new ts(st.outlet.component,Ee))}else Ee&&sr(x,st,H),H.canActivateChecks.push(new cs(R)),zo(C,null,ue.component?st?st.children:null:b,R,H)})(Ee,ue[Ee.value.outlet],b,R.concat([Ee.value]),H),delete ue[Ee.value.outlet]}),Object.entries(ue).forEach(([Ee,st])=>sr(st,b.getContext(Ee),H)),H}function sr(C,x,b){const R=us(C),H=C.value;Object.entries(R).forEach(([ue,Ee])=>{sr(Ee,H.component?x?x.children.getContext(ue):null:x,b)}),b.canDeactivateChecks.push(new ts(H.component&&x&&x.outlet&&x.outlet.isActivated?x.outlet.component:null,H))}function ls(C){return"function"==typeof C}function $i(C){return C instanceof xt.K||"EmptyError"===C?.name}const ds=Symbol("INITIAL_VALUE");function bi(){return(0,vn.w)(C=>Xe(C.map(x=>x.pipe((0,xn.q)(1),function Zn(...C){const x=(0,oe.yG)(C);return(0,ge.e)((b,R)=>{(x?(0,en.z)(C,b,x):(0,en.z)(C,b)).subscribe(R)})}(ds)))).pipe((0,sn.U)(x=>{for(const b of x)if(!0!==b){if(b===ds)return ds;if(!1===b||b instanceof qr)return b}return!0}),(0,Jn.h)(x=>x!==ds),(0,xn.q)(1)))}function gi(C){return(0,qe.z)((0,je.b)(x=>{if(le(x))throw Vs(0,x)}),(0,sn.U)(x=>!0===x))}class Ti{constructor(x){this.segmentGroup=x||null}}class hs{constructor(x){this.urlTree=x}}function vo(C){return ht(new Ti(C))}function mi(C){return ht(new hs(C))}class Pc{constructor(x,b){this.urlSerializer=x,this.urlTree=b}noMatchError(x){return new m.vHH(4002,!1)}lineralizeSegments(x,b){let R=[],H=b.root;for(;;){if(R=R.concat(H.segments),0===H.numberOfChildren)return(0,de.of)(R);if(H.numberOfChildren>1||!H.children[De])return ht(new m.vHH(4e3,!1));H=H.children[De]}}applyRedirectCommands(x,b,R){return this.applyRedirectCreateUrlTree(b,this.urlSerializer.parse(b),x,R)}applyRedirectCreateUrlTree(x,b,R,H){const ue=this.createSegmentGroup(x,b.root,R,H);return new qr(ue,this.createQueryParams(b.queryParams,this.urlTree.queryParams),b.fragment)}createQueryParams(x,b){const R={};return Object.entries(x).forEach(([H,ue])=>{if("string"==typeof ue&&ue.startsWith(":")){const st=ue.substring(1);R[H]=b[st]}else R[H]=ue}),R}createSegmentGroup(x,b,R,H){const ue=this.createSegments(x,b.segments,R,H);let Ee={};return Object.entries(b.children).forEach(([st,tt])=>{Ee[st]=this.createSegmentGroup(x,tt,R,H)}),new Qt(ue,Ee)}createSegments(x,b,R,H){return b.map(ue=>ue.path.startsWith(":")?this.findPosParam(x,ue,H):this.findOrReturn(ue,R))}findPosParam(x,b,R){const H=R[b.path.substring(1)];if(!H)throw new m.vHH(4001,!1);return H}findOrReturn(x,b){let R=0;for(const H of b){if(H.path===x.path)return b.splice(R),H;R++}return x}}const Hs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Vu(C,x,b,R,H){const ue=Eo(C,x,b);return ue.matched?(R=function Ki(C,x){return C.providers&&!C._injector&&(C._injector=(0,m.MMx)(C.providers,x,`Route: ${C.path}`)),C._injector??x}(x,R),function Wo(C,x,b,R){const H=x.canMatch;if(!H||0===H.length)return(0,de.of)(!0);const ue=H.map(Ee=>{const st=js(Ee,C);return dn(function Me(C){return C&&ls(C.canMatch)}(st)?st.canMatch(x,b):C.runInContext(()=>st(x,b)))});return(0,de.of)(ue).pipe(bi(),gi())}(R,x,b).pipe((0,sn.U)(Ee=>!0===Ee?ue:{...Hs}))):(0,de.of)(ue)}function Eo(C,x,b){if(""===x.path)return"full"===x.pathMatch&&(C.hasChildren()||b.length>0)?{...Hs}:{matched:!0,consumedSegments:[],remainingSegments:b,parameters:{},positionalParamSegments:{}};const H=(x.matcher||kt)(b,C,x);if(!H)return{...Hs};const ue={};Object.entries(H.posParams??{}).forEach(([st,tt])=>{ue[st]=tt.path});const Ee=H.consumed.length>0?{...ue,...H.consumed[H.consumed.length-1].parameters}:ue;return{matched:!0,consumedSegments:H.consumed,remainingSegments:b.slice(H.consumed.length),parameters:Ee,positionalParamSegments:H.posParams??{}}}function Bu(C,x,b,R){return b.length>0&&function Lo(C,x,b){return b.some(R=>wo(C,x,R)&&ui(R)!==De)}(C,b,R)?{segmentGroup:new Qt(x,mu(R,new Qt(b,C.children))),slicedSegments:[]}:0===b.length&&function Io(C,x,b){return b.some(R=>wo(C,x,R))}(C,b,R)?{segmentGroup:new Qt(C.segments,Zo(C,0,b,R,C.children)),slicedSegments:b}:{segmentGroup:new Qt(C.segments,C.children),slicedSegments:b}}function Zo(C,x,b,R,H){const ue={};for(const Ee of R)if(wo(C,b,Ee)&&!H[ui(Ee)]){const st=new Qt([],{});ue[ui(Ee)]=st}return{...H,...ue}}function mu(C,x){const b={};b[De]=x;for(const R of C)if(""===R.path&&ui(R)!==De){const H=new Qt([],{});b[ui(R)]=H}return b}function wo(C,x,b){return(!(C.hasChildren()||x.length>0)||"full"!==b.pathMatch)&&""===b.path}class _u{constructor(x,b,R,H,ue,Ee,st){this.injector=x,this.configLoader=b,this.rootComponentType=R,this.config=H,this.urlTree=ue,this.paramsInheritanceStrategy=Ee,this.urlSerializer=st,this.allowRedirects=!0,this.applyRedirects=new Pc(this.urlSerializer,this.urlTree)}noMatchError(x){return new m.vHH(4002,!1)}recognize(){const x=Bu(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,x,De).pipe(et(b=>{if(b instanceof hs)return this.allowRedirects=!1,this.urlTree=b.urlTree,this.match(b.urlTree);throw b instanceof Ti?this.noMatchError(b):b}),(0,sn.U)(b=>{const R=new Un([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},De,this.rootComponentType,null,{}),H=new kr(R,b),ue=new Lr("",H),Ee=function ve(C,x,b=null,R=null){return We(Be(C),x,b,R)}(R,[],this.urlTree.queryParams,this.urlTree.fragment);return Ee.queryParams=this.urlTree.queryParams,ue.url=this.urlSerializer.serialize(Ee),this.inheritParamsAndData(ue._root),{state:ue,tree:Ee}}))}match(x){return this.processSegmentGroup(this.injector,this.config,x.root,De).pipe(et(R=>{throw R instanceof Ti?this.noMatchError(R):R}))}inheritParamsAndData(x){const b=x.value,R=Dr(b,this.paramsInheritanceStrategy);b.params=Object.freeze(R.params),b.data=Object.freeze(R.data),x.children.forEach(H=>this.inheritParamsAndData(H))}processSegmentGroup(x,b,R,H){return 0===R.segments.length&&R.hasChildren()?this.processChildren(x,b,R):this.processSegment(x,b,R,R.segments,H,!0)}processChildren(x,b,R){const H=[];for(const ue of Object.keys(R.children))"primary"===ue?H.unshift(ue):H.push(ue);return(0,se.D)(H).pipe(Je(ue=>{const Ee=R.children[ue],st=function Yr(C,x){const b=C.filter(R=>ui(R)===x);return b.push(...C.filter(R=>ui(R)!==x)),b}(b,ue);return this.processSegmentGroup(x,st,Ee,ue)}),(0,It.R)((ue,Ee)=>(ue.push(...Ee),ue)),(0,Vt.d)(null),function Wt(C,x){const b=arguments.length>=2;return R=>R.pipe(C?(0,Jn.h)((H,ue)=>C(H,ue,R)):we.y,Gt(1),b?(0,Vt.d)(x):(0,Xt.T)(()=>new xt.K))}(),(0,$e.z)(ue=>{if(null===ue)return vo(R);const Ee=Ya(ue);return function el(C){C.sort((x,b)=>x.value.outlet===De?-1:b.value.outlet===De?1:x.value.outlet.localeCompare(b.value.outlet))}(Ee),(0,de.of)(Ee)}))}processSegment(x,b,R,H,ue,Ee){return(0,se.D)(b).pipe(Je(st=>this.processSegmentAgainstRoute(st._injector??x,b,st,R,H,ue,Ee).pipe(et(tt=>{if(tt instanceof Ti)return(0,de.of)(null);throw tt}))),(0,ze.P)(st=>!!st),et(st=>{if($i(st))return function la(C,x,b){return 0===x.length&&!C.children[b]}(R,H,ue)?(0,de.of)([]):vo(R);throw st}))}processSegmentAgainstRoute(x,b,R,H,ue,Ee,st){return function yu(C,x,b,R){return!!(ui(C)===R||R!==De&&wo(x,b,C))&&("**"===C.path||Eo(x,C,b).matched)}(R,H,ue,Ee)?void 0===R.redirectTo?this.matchSegmentAgainstRoute(x,H,R,ue,Ee,st):st&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(x,H,b,R,ue,Ee):vo(H):vo(H)}expandSegmentAgainstRouteUsingRedirect(x,b,R,H,ue,Ee){return"**"===H.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(x,R,H,Ee):this.expandRegularSegmentAgainstRouteUsingRedirect(x,b,R,H,ue,Ee)}expandWildCardWithParamsAgainstRouteUsingRedirect(x,b,R,H){const ue=this.applyRedirects.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?mi(ue):this.applyRedirects.lineralizeSegments(R,ue).pipe((0,$e.z)(Ee=>{const st=new Qt(Ee,{});return this.processSegment(x,b,st,Ee,H,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(x,b,R,H,ue,Ee){const{matched:st,consumedSegments:tt,remainingSegments:Kt,positionalParamSegments:tr}=Eo(b,H,ue);if(!st)return vo(b);const Ur=this.applyRedirects.applyRedirectCommands(tt,H.redirectTo,tr);return H.redirectTo.startsWith("/")?mi(Ur):this.applyRedirects.lineralizeSegments(H,Ur).pipe((0,$e.z)(dr=>this.processSegment(x,R,b,dr.concat(Kt),Ee,!1)))}matchSegmentAgainstRoute(x,b,R,H,ue,Ee){let st;if("**"===R.path){const tt=H.length>0?tn(H).parameters:{},Kt=new Un(H,tt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ic(R),ui(R),R.component??R._loadedComponent??null,R,M(R));st=(0,de.of)({snapshot:Kt,consumedSegments:[],remainingSegments:[]}),b.children={}}else st=Vu(b,R,H,x).pipe((0,sn.U)(({matched:tt,consumedSegments:Kt,remainingSegments:tr,parameters:Ur})=>tt?{snapshot:new Un(Kt,Ur,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ic(R),ui(R),R.component??R._loadedComponent??null,R,M(R)),consumedSegments:Kt,remainingSegments:tr}:null));return st.pipe((0,vn.w)(tt=>null===tt?vo(b):this.getChildConfig(x=R._injector??x,R,H).pipe((0,vn.w)(({routes:Kt})=>{const tr=R._loadedInjector??x,{snapshot:Ur,consumedSegments:dr,remainingSegments:to}=tt,{segmentGroup:pc,slicedSegments:$r}=Bu(b,dr,to,Kt);if(0===$r.length&&pc.hasChildren())return this.processChildren(tr,Kt,pc).pipe((0,sn.U)(_r=>null===_r?null:[new kr(Ur,_r)]));if(0===Kt.length&&0===$r.length)return(0,de.of)([new kr(Ur,[])]);const ga=ui(R)===ue;return this.processSegment(tr,Kt,pc,$r,ga?De:ue,!0).pipe((0,sn.U)(_r=>[new kr(Ur,_r)]))}))))}getChildConfig(x,b,R){return b.children?(0,de.of)({routes:b.children,injector:x}):b.loadChildren?void 0!==b._loadedRoutes?(0,de.of)({routes:b._loadedRoutes,injector:b._loadedInjector}):function _o(C,x,b,R){const H=x.canLoad;if(void 0===H||0===H.length)return(0,de.of)(!0);const ue=H.map(Ee=>{const st=js(Ee,C);return dn(function W(C){return C&&ls(C.canLoad)}(st)?st.canLoad(x,b):C.runInContext(()=>st(x,b)))});return(0,de.of)(ue).pipe(bi(),gi())}(x,b,R).pipe((0,$e.z)(H=>H?this.configLoader.loadChildren(x,b).pipe((0,je.b)(ue=>{b._loadedRoutes=ue.routes,b._loadedInjector=ue.injector})):function Za(C){return ht(Fr(!1,3))}())):(0,de.of)({routes:[],injector:x})}}function rc(C){const x=C.value.routeConfig;return x&&""===x.path}function Ya(C){const x=[],b=new Set;for(const R of C){if(!rc(R)){x.push(R);continue}const H=x.find(ue=>R.value.routeConfig===ue.value.routeConfig);void 0!==H?(H.children.push(...R.children),b.add(H)):x.push(R)}for(const R of b){const H=Ya(R.children);x.push(new kr(R.value,H))}return x.filter(R=>!b.has(R))}function ic(C){return C.data||{}}function M(C){return C.resolve||{}}function En(C){return"string"==typeof C.title||null===C.title}function Sr(C){return(0,vn.w)(x=>{const b=C(x);return b?(0,se.D)(b).pipe((0,sn.U)(()=>x)):(0,de.of)(x)})}const Ar=new m.OlP("ROUTES");let Tr=(()=>{class C{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,m.f3M)(m.Sil)}loadComponent(b){if(this.componentLoaders.get(b))return this.componentLoaders.get(b);if(b._loadedComponent)return(0,de.of)(b._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(b);const R=dn(b.loadComponent()).pipe((0,sn.U)(Br),(0,je.b)(ue=>{this.onLoadEndListener&&this.onLoadEndListener(b),b._loadedComponent=ue}),_t(()=>{this.componentLoaders.delete(b)})),H=new pt(R,()=>new gn.x).pipe(Ve());return this.componentLoaders.set(b,H),H}loadChildren(b,R){if(this.childrenLoaders.get(R))return this.childrenLoaders.get(R);if(R._loadedRoutes)return(0,de.of)({routes:R._loadedRoutes,injector:R._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(R);const ue=function Qn(C,x,b,R){return dn(C.loadChildren()).pipe((0,sn.U)(Br),(0,$e.z)(H=>H instanceof m.YKP||Array.isArray(H)?(0,de.of)(H):(0,se.D)(x.compileModuleAsync(H))),(0,sn.U)(H=>{R&&R(C);let ue,Ee,st=!1;return Array.isArray(H)?(Ee=H,!0):(ue=H.create(b).injector,Ee=ue.get(Ar,[],{optional:!0,self:!0}).flat()),{routes:Ee.map(yo),injector:ue}}))}(R,this.compiler,b,this.onLoadEndListener).pipe(_t(()=>{this.childrenLoaders.delete(R)})),Ee=new pt(ue,()=>new gn.x).pipe(Ve());return this.childrenLoaders.set(R,Ee),Ee}static#e=this.\u0275fac=function(R){return new(R||C)};static#t=this.\u0275prov=m.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function Br(C){return function Qr(C){return C&&"object"==typeof C&&"default"in C}(C)?C.default:C}let hi=(()=>{class C{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new gn.x,this.transitionAbortSubject=new gn.x,this.configLoader=(0,m.f3M)(Tr),this.environmentInjector=(0,m.f3M)(m.lqb),this.urlSerializer=(0,m.f3M)(xe),this.rootContexts=(0,m.f3M)(ir),this.inputBindingEnabled=null!==(0,m.f3M)(Ri,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,de.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=H=>this.events.next(new Ga(H)),this.configLoader.onLoadStartListener=H=>this.events.next(new oa(H))}complete(){this.transitions?.complete()}handleNavigationRequest(b){const R=++this.navigationId;this.transitions?.next({...this.transitions.value,...b,id:R})}setupNavigations(b,R,H){return this.transitions=new _e.X({id:0,currentUrlTree:R,currentRawUrl:R,currentBrowserUrl:R,extractedUrl:b.urlHandlingStrategy.extract(R),urlAfterRedirects:b.urlHandlingStrategy.extract(R),rawUrl:R,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ys,restoredState:null,currentSnapshot:H.snapshot,targetSnapshot:null,currentRouterState:H,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Jn.h)(ue=>0!==ue.id),(0,sn.U)(ue=>({...ue,extractedUrl:b.urlHandlingStrategy.extract(ue.rawUrl)})),(0,vn.w)(ue=>{this.currentTransition=ue;let Ee=!1,st=!1;return(0,de.of)(ue).pipe((0,je.b)(tt=>{this.currentNavigation={id:tt.id,initialUrl:tt.rawUrl,extractedUrl:tt.extractedUrl,trigger:tt.source,extras:tt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,vn.w)(tt=>{const Kt=tt.currentBrowserUrl.toString(),tr=!b.navigated||tt.extractedUrl.toString()!==Kt||Kt!==tt.currentUrlTree.toString();if(!tr&&"reload"!==(tt.extras.onSameUrlNavigation??b.onSameUrlNavigation)){const dr="";return this.events.next(new Wi(tt.id,this.urlSerializer.serialize(tt.rawUrl),dr,0)),tt.resolve(null),Ke.E}if(b.urlHandlingStrategy.shouldProcessUrl(tt.rawUrl))return(0,de.of)(tt).pipe((0,vn.w)(dr=>{const to=this.transitions?.getValue();return this.events.next(new Ir(dr.id,this.urlSerializer.serialize(dr.extractedUrl),dr.source,dr.restoredState)),to!==this.transitions?.getValue()?Ke.E:Promise.resolve(dr)}),function re(C,x,b,R,H,ue){return(0,$e.z)(Ee=>function Ka(C,x,b,R,H,ue,Ee="emptyOnly"){return new _u(C,x,b,R,H,Ee,ue).recognize()}(C,x,b,R,Ee.extractedUrl,H,ue).pipe((0,sn.U)(({state:st,tree:tt})=>({...Ee,targetSnapshot:st,urlAfterRedirects:tt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,b.config,this.urlSerializer,b.paramsInheritanceStrategy),(0,je.b)(dr=>{ue.targetSnapshot=dr.targetSnapshot,ue.urlAfterRedirects=dr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:dr.urlAfterRedirects};const to=new ku(dr.id,this.urlSerializer.serialize(dr.extractedUrl),this.urlSerializer.serialize(dr.urlAfterRedirects),dr.targetSnapshot);this.events.next(to)}));if(tr&&b.urlHandlingStrategy.shouldProcessUrl(tt.currentRawUrl)){const{id:dr,extractedUrl:to,source:pc,restoredState:$r,extras:ga}=tt,_r=new Ir(dr,this.urlSerializer.serialize(to),pc,$r);this.events.next(_r);const Xa=fi(0,this.rootComponentType).snapshot;return this.currentTransition=ue={...tt,targetSnapshot:Xa,urlAfterRedirects:to,extras:{...ga,skipLocationChange:!1,replaceUrl:!1}},(0,de.of)(ue)}{const dr="";return this.events.next(new Wi(tt.id,this.urlSerializer.serialize(tt.extractedUrl),dr,1)),tt.resolve(null),Ke.E}}),(0,je.b)(tt=>{const Kt=new Bi(tt.id,this.urlSerializer.serialize(tt.extractedUrl),this.urlSerializer.serialize(tt.urlAfterRedirects),tt.targetSnapshot);this.events.next(Kt)}),(0,sn.U)(tt=>(this.currentTransition=ue={...tt,guards:Fi(tt.targetSnapshot,tt.currentSnapshot,this.rootContexts)},ue)),function Zr(C,x){return(0,$e.z)(b=>{const{targetSnapshot:R,currentSnapshot:H,guards:{canActivateChecks:ue,canDeactivateChecks:Ee}}=b;return 0===Ee.length&&0===ue.length?(0,de.of)({...b,guardsResult:!0}):function Sa(C,x,b,R){return(0,se.D)(C).pipe((0,$e.z)(H=>function Oc(C,x,b,R,H){const ue=x&&x.routeConfig?x.routeConfig.canDeactivate:null;if(!ue||0===ue.length)return(0,de.of)(!0);const Ee=ue.map(st=>{const tt=Ni(x)??H,Kt=js(st,tt);return dn(function ae(C){return C&&ls(C.canDeactivate)}(Kt)?Kt.canDeactivate(C,x,b,R):tt.runInContext(()=>Kt(C,x,b,R))).pipe((0,ze.P)())});return(0,de.of)(Ee).pipe(bi())}(H.component,H.route,b,x,R)),(0,ze.P)(H=>!0!==H,!0))}(Ee,R,H,C).pipe((0,$e.z)(st=>st&&function fu(C){return"boolean"==typeof C}(st)?function ca(C,x,b,R){return(0,se.D)(x).pipe(Je(H=>(0,en.z)(function pu(C,x){return null!==C&&x&&x(new Oo(C)),(0,de.of)(!0)}(H.route.parent,R),function qo(C,x){return null!==C&&x&&x(new Po(C)),(0,de.of)(!0)}(H.route,R),function As(C,x,b){const R=x[x.length-1],ue=x.slice(0,x.length-1).reverse().map(Ee=>function ci(C){const x=C.routeConfig?C.routeConfig.canActivateChild:null;return x&&0!==x.length?{node:C,guards:x}:null}(Ee)).filter(Ee=>null!==Ee).map(Ee=>Te(()=>{const st=Ee.guards.map(tt=>{const Kt=Ni(Ee.node)??b,tr=js(tt,Kt);return dn(function L(C){return C&&ls(C.canActivateChild)}(tr)?tr.canActivateChild(R,C):Kt.runInContext(()=>tr(R,C))).pipe((0,ze.P)())});return(0,de.of)(st).pipe(bi())}));return(0,de.of)(ue).pipe(bi())}(C,H.path,b),function Aa(C,x,b){const R=x.routeConfig?x.routeConfig.canActivate:null;if(!R||0===R.length)return(0,de.of)(!0);const H=R.map(ue=>Te(()=>{const Ee=Ni(x)??b,st=js(ue,Ee);return dn(function J(C){return C&&ls(C.canActivate)}(st)?st.canActivate(x,C):Ee.runInContext(()=>st(x,C))).pipe((0,ze.P)())}));return(0,de.of)(H).pipe(bi())}(C,H.route,b))),(0,ze.P)(H=>!0!==H,!0))}(R,ue,C,x):(0,de.of)(st)),(0,sn.U)(st=>({...b,guardsResult:st})))})}(this.environmentInjector,tt=>this.events.next(tt)),(0,je.b)(tt=>{if(ue.guardsResult=tt.guardsResult,le(tt.guardsResult))throw Vs(0,tt.guardsResult);const Kt=new Lu(tt.id,this.urlSerializer.serialize(tt.extractedUrl),this.urlSerializer.serialize(tt.urlAfterRedirects),tt.targetSnapshot,!!tt.guardsResult);this.events.next(Kt)}),(0,Jn.h)(tt=>!!tt.guardsResult||(this.cancelNavigationTransition(tt,"",3),!1)),Sr(tt=>{if(tt.guards.canActivateChecks.length)return(0,de.of)(tt).pipe((0,je.b)(Kt=>{const tr=new Oi(Kt.id,this.urlSerializer.serialize(Kt.extractedUrl),this.urlSerializer.serialize(Kt.urlAfterRedirects),Kt.targetSnapshot);this.events.next(tr)}),(0,vn.w)(Kt=>{let tr=!1;return(0,de.of)(Kt).pipe(function V(C,x){return(0,$e.z)(b=>{const{targetSnapshot:R,guards:{canActivateChecks:H}}=b;if(!H.length)return(0,de.of)(b);let ue=0;return(0,se.D)(H).pipe(Je(Ee=>function X(C,x,b,R){const H=C.routeConfig,ue=C._resolve;return void 0!==H?.title&&!En(H)&&(ue[rt]=H.title),function Ie(C,x,b,R){const H=function ct(C){return[...Object.keys(C),...Object.getOwnPropertySymbols(C)]}(C);if(0===H.length)return(0,de.of)({});const ue={};return(0,se.D)(H).pipe((0,$e.z)(Ee=>function Ct(C,x,b,R){const H=Ni(x)??R,ue=js(C,H);return dn(ue.resolve?ue.resolve(x,b):H.runInContext(()=>ue(x,b)))}(C[Ee],x,b,R).pipe((0,ze.P)(),(0,je.b)(st=>{ue[Ee]=st}))),Gt(1),(0,jt.h)(ue),et(Ee=>$i(Ee)?Ke.E:ht(Ee)))}(ue,C,x,R).pipe((0,sn.U)(Ee=>(C._resolvedData=Ee,C.data=Dr(C,b).resolve,H&&En(H)&&(C.data[rt]=H.title),null)))}(Ee.route,R,C,x)),(0,je.b)(()=>ue++),Gt(1),(0,$e.z)(Ee=>ue===H.length?(0,de.of)(b):Ke.E))})}(b.paramsInheritanceStrategy,this.environmentInjector),(0,je.b)({next:()=>tr=!0,complete:()=>{tr||this.cancelNavigationTransition(Kt,"",2)}}))}),(0,je.b)(Kt=>{const tr=new Fu(Kt.id,this.urlSerializer.serialize(Kt.extractedUrl),this.urlSerializer.serialize(Kt.urlAfterRedirects),Kt.targetSnapshot);this.events.next(tr)}))}),Sr(tt=>{const Kt=tr=>{const Ur=[];tr.routeConfig?.loadComponent&&!tr.routeConfig._loadedComponent&&Ur.push(this.configLoader.loadComponent(tr.routeConfig).pipe((0,je.b)(dr=>{tr.component=dr}),(0,sn.U)(()=>{})));for(const dr of tr.children)Ur.push(...Kt(dr));return Ur};return Xe(Kt(tt.targetSnapshot.root)).pipe((0,Vt.d)(),(0,xn.q)(1))}),Sr(()=>this.afterPreactivation()),(0,sn.U)(tt=>{const Kt=function Us(C,x,b){const R=ai(C,x._root,b?b._root:void 0);return new ua(R,x)}(b.routeReuseStrategy,tt.targetSnapshot,tt.currentRouterState);return this.currentTransition=ue={...tt,targetRouterState:Kt},ue}),(0,je.b)(()=>{this.events.next(new Ro)}),((C,x,b,R)=>(0,sn.U)(H=>(new Li(x,H.targetRouterState,H.currentRouterState,b,R).activate(C),H)))(this.rootContexts,b.routeReuseStrategy,tt=>this.events.next(tt),this.inputBindingEnabled),(0,xn.q)(1),(0,je.b)({next:tt=>{Ee=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new jr(tt.id,this.urlSerializer.serialize(tt.extractedUrl),this.urlSerializer.serialize(tt.urlAfterRedirects))),b.titleStrategy?.updateTitle(tt.targetRouterState.snapshot),tt.resolve(!0)},complete:()=>{Ee=!0}}),function Kn(C){return(0,ge.e)((x,b)=>{(0,ft.Xf)(C).subscribe((0,Ue.x)(b,()=>b.complete(),wn.Z)),!b.closed&&x.subscribe(b)})}(this.transitionAbortSubject.pipe((0,je.b)(tt=>{throw tt}))),_t(()=>{Ee||st||this.cancelNavigationTransition(ue,"",1),this.currentNavigation?.id===ue.id&&(this.currentNavigation=null)}),et(tt=>{if(st=!0,qa(tt))this.events.next(new fo(ue.id,this.urlSerializer.serialize(ue.extractedUrl),tt.message,tt.cancellationCode)),function mo(C){return qa(C)&&le(C.url)}(tt)?this.events.next(new No(tt.url)):ue.resolve(!1);else{this.events.next(new po(ue.id,this.urlSerializer.serialize(ue.extractedUrl),tt,ue.targetSnapshot??void 0));try{ue.resolve(b.errorHandler(tt))}catch(Kt){ue.reject(Kt)}}return Ke.E}))}))}cancelNavigationTransition(b,R,H){const ue=new fo(b.id,this.urlSerializer.serialize(b.extractedUrl),R,H);this.events.next(ue),b.resolve(!1)}static#e=this.\u0275fac=function(R){return new(R||C)};static#t=this.\u0275prov=m.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function eo(C){return C!==Ys}let fs=(()=>{class C{buildTitle(b){let R,H=b.root;for(;void 0!==H;)R=this.getResolvedTitleForRoute(H)??R,H=H.children.find(ue=>ue.outlet===De);return R}getResolvedTitleForRoute(b){return b.data[rt]}static#e=this.\u0275fac=function(R){return new(R||C)};static#t=this.\u0275prov=m.Yz7({token:C,factory:function(){return(0,m.f3M)(ps)},providedIn:"root"})}return C})(),ps=(()=>{class C extends fs{constructor(b){super(),this.title=b}updateTitle(b){const R=this.buildTitle(b);void 0!==R&&this.title.setTitle(R)}static#e=this.\u0275fac=function(R){return new(R||C)(m.LFG(Pe.Dx))};static#t=this.\u0275prov=m.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})(),Ms=(()=>{class C{static#e=this.\u0275fac=function(R){return new(R||C)};static#t=this.\u0275prov=m.Yz7({token:C,factory:function(){return(0,m.f3M)(da)},providedIn:"root"})}return C})();class Fo{shouldDetach(x){return!1}store(x,b){}shouldAttach(x){return!1}retrieve(x){return null}shouldReuseRoute(x,b){return x.routeConfig===b.routeConfig}}let da=(()=>{class C extends Fo{static#e=this.\u0275fac=function(){let b;return function(H){return(b||(b=m.n5z(C)))(H||C)}}();static#t=this.\u0275prov=m.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const Uo=new m.OlP("",{providedIn:"root",factory:()=>({})});let Rc=(()=>{class C{static#e=this.\u0275fac=function(R){return new(R||C)};static#t=this.\u0275prov=m.Yz7({token:C,factory:function(){return(0,m.f3M)(Vl)},providedIn:"root"})}return C})(),Vl=(()=>{class C{shouldProcessUrl(b){return!0}extract(b){return b}merge(b,R){return b}static#e=this.\u0275fac=function(R){return new(R||C)};static#t=this.\u0275prov=m.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();var Yi=function(C){return C[C.COMPLETE=0]="COMPLETE",C[C.FAILED=1]="FAILED",C[C.REDIRECTING=2]="REDIRECTING",C}(Yi||{});function $u(C,x){C.events.pipe((0,Jn.h)(b=>b instanceof jr||b instanceof fo||b instanceof po||b instanceof Wi),(0,sn.U)(b=>b instanceof jr||b instanceof Wi?Yi.COMPLETE:b instanceof fo&&(0===b.code||1===b.code)?Yi.REDIRECTING:Yi.FAILED),(0,Jn.h)(b=>b!==Yi.REDIRECTING),(0,xn.q)(1)).subscribe(()=>{x()})}function vu(C){throw C}function li(C,x,b){return x.parse("/")}const sc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oc={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ii=(()=>{class C{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,m.f3M)(m.c2e),this.isNgZoneEnabled=!1,this._events=new gn.x,this.options=(0,m.f3M)(Uo,{optional:!0})||{},this.pendingTasks=(0,m.f3M)(m.HDt),this.errorHandler=this.options.errorHandler||vu,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||li,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,m.f3M)(Rc),this.routeReuseStrategy=(0,m.f3M)(Ms),this.titleStrategy=(0,m.f3M)(fs),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,m.f3M)(Ar,{optional:!0})?.flat()??[],this.navigationTransitions=(0,m.f3M)(hi),this.urlSerializer=(0,m.f3M)(xe),this.location=(0,m.f3M)(yt.Ye),this.componentInputBindingEnabled=!!(0,m.f3M)(Ri,{optional:!0}),this.eventsSubscription=new Se.w0,this.isNgZoneEnabled=(0,m.f3M)(m.R0b)instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new qr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=fi(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(b=>{this.lastSuccessfulId=b.id,this.currentPageId=this.browserPageId},b=>{this.console.warn(`Unhandled Navigation Error: ${b}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const b=this.navigationTransitions.events.subscribe(R=>{try{const{currentTransition:H}=this.navigationTransitions;if(null===H)return void(nl(R)&&this._events.next(R));if(R instanceof Ir)eo(H.source)&&(this.browserUrlTree=H.extractedUrl);else if(R instanceof Wi)this.rawUrlTree=H.rawUrl;else if(R instanceof ku){if("eager"===this.urlUpdateStrategy){if(!H.extras.skipLocationChange){const ue=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl);this.setBrowserUrl(ue,H)}this.browserUrlTree=H.urlAfterRedirects}}else if(R instanceof Ro)this.currentUrlTree=H.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl),this.routerState=H.targetRouterState,"deferred"===this.urlUpdateStrategy&&(H.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,H),this.browserUrlTree=H.urlAfterRedirects);else if(R instanceof fo)0!==R.code&&1!==R.code&&(this.navigated=!0),(3===R.code||2===R.code)&&this.restoreHistory(H);else if(R instanceof No){const ue=this.urlHandlingStrategy.merge(R.url,H.currentRawUrl),Ee={skipLocationChange:H.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||eo(H.source)};this.scheduleNavigation(ue,Ys,null,Ee,{resolve:H.resolve,reject:H.reject,promise:H.promise})}R instanceof po&&this.restoreHistory(H,!0),R instanceof jr&&(this.navigated=!0),nl(R)&&this._events.next(R)}catch(H){this.navigationTransitions.transitionAbortSubject.next(H)}});this.eventsSubscription.add(b)}resetRootComponentType(b){this.routerState.root.component=b,this.navigationTransitions.rootComponentType=b}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const b=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ys,b)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(b=>{const R="popstate"===b.type?"popstate":"hashchange";"popstate"===R&&setTimeout(()=>{this.navigateToSyncWithBrowser(b.url,R,b.state)},0)}))}navigateToSyncWithBrowser(b,R,H){const ue={replaceUrl:!0},Ee=H?.navigationId?H:null;if(H){const tt={...H};delete tt.navigationId,delete tt.\u0275routerPageId,0!==Object.keys(tt).length&&(ue.state=tt)}const st=this.parseUrl(b);this.scheduleNavigation(st,R,Ee,ue)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(b){this.config=b.map(yo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(b,R={}){const{relativeTo:H,queryParams:ue,fragment:Ee,queryParamsHandling:st,preserveFragment:tt}=R,Kt=tt?this.currentUrlTree.fragment:Ee;let Ur,tr=null;switch(st){case"merge":tr={...this.currentUrlTree.queryParams,...ue};break;case"preserve":tr=this.currentUrlTree.queryParams;break;default:tr=ue||null}null!==tr&&(tr=this.removeEmptyProps(tr));try{Ur=Be(H?H.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof b[0]||!b[0].startsWith("/"))&&(b=[]),Ur=this.currentUrlTree.root}return We(Ur,b,tr,Kt??null)}navigateByUrl(b,R={skipLocationChange:!1}){const H=le(b)?b:this.parseUrl(b),ue=this.urlHandlingStrategy.merge(H,this.rawUrlTree);return this.scheduleNavigation(ue,Ys,null,R)}navigate(b,R={skipLocationChange:!1}){return function tl(C){for(let x=0;x<C.length;x++)if(null==C[x])throw new m.vHH(4008,!1)}(b),this.navigateByUrl(this.createUrlTree(b,R),R)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){let R;try{R=this.urlSerializer.parse(b)}catch(H){R=this.malformedUriErrorHandler(H,this.urlSerializer,b)}return R}isActive(b,R){let H;if(H=!0===R?{...sc}:!1===R?{...oc}:R,le(b))return lr(this.currentUrlTree,b,H);const ue=this.parseUrl(b);return lr(this.currentUrlTree,ue,H)}removeEmptyProps(b){return Object.keys(b).reduce((R,H)=>{const ue=b[H];return null!=ue&&(R[H]=ue),R},{})}scheduleNavigation(b,R,H,ue,Ee){if(this.disposed)return Promise.resolve(!1);let st,tt,Kt;Ee?(st=Ee.resolve,tt=Ee.reject,Kt=Ee.promise):Kt=new Promise((Ur,dr)=>{st=Ur,tt=dr});const tr=this.pendingTasks.add();return $u(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(tr))}),this.navigationTransitions.handleNavigationRequest({source:R,restoredState:H,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:b,extras:ue,resolve:st,reject:tt,promise:Kt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Kt.catch(Ur=>Promise.reject(Ur))}setBrowserUrl(b,R){const H=this.urlSerializer.serialize(b);if(this.location.isCurrentPathEqualTo(H)||R.extras.replaceUrl){const Ee={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId)};this.location.replaceState(H,"",Ee)}else{const ue={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId+1)};this.location.go(H,"",ue)}}restoreHistory(b,R=!1){if("computed"===this.canceledNavigationResolution){const ue=this.currentPageId-this.browserPageId;0!==ue?this.location.historyGo(ue):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ue&&(this.resetState(b),this.browserUrlTree=b.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=b.currentRouterState,this.currentUrlTree=b.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(b,R){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:R}:{navigationId:b}}static#e=this.\u0275fac=function(R){return new(R||C)};static#t=this.\u0275prov=m.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function nl(C){return!(C instanceof Ro||C instanceof No)}let ji=(()=>{class C{constructor(b,R,H,ue,Ee,st){this.router=b,this.route=R,this.tabIndexAttribute=H,this.renderer=ue,this.el=Ee,this.locationStrategy=st,this.href=null,this.commands=null,this.onChanges=new gn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const tt=Ee.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===tt||"area"===tt,this.isAnchorElement?this.subscription=b.events.subscribe(Kt=>{Kt instanceof jr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(b){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",b)}ngOnChanges(b){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(b){null!=b?(this.commands=Array.isArray(b)?b:[b],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(b,R,H,ue,Ee){return!!(null===this.urlTree||this.isAnchorElement&&(0!==b||R||H||ue||Ee||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const b=null===this.href?null:(0,m.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",b)}applyAttributeValue(b,R){const H=this.renderer,ue=this.el.nativeElement;null!==R?H.setAttribute(ue,b,R):H.removeAttribute(ue,b)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(R){return new(R||C)(m.Y36(ii),m.Y36(Zi),m.$8M("tabindex"),m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(yt.S$))};static#t=this.\u0275dir=m.lG2({type:C,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(R,H){1&R&&m.NdJ("click",function(Ee){return H.onClick(Ee.button,Ee.ctrlKey,Ee.shiftKey,Ee.altKey,Ee.metaKey)}),2&R&&m.uIk("target",H.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",m.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",m.VuI],replaceUrl:["replaceUrl","replaceUrl",m.VuI],routerLink:"routerLink"},standalone:!0,features:[m.Xq5,m.TTD]})}return C})();class Nc{}let ju=(()=>{class C{constructor(b,R,H,ue,Ee){this.router=b,this.injector=H,this.preloadingStrategy=ue,this.loader=Ee}setUpPreloading(){this.subscription=this.router.events.pipe((0,Jn.h)(b=>b instanceof jr),Je(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,R){const H=[];for(const ue of R){ue.providers&&!ue._injector&&(ue._injector=(0,m.MMx)(ue.providers,b,`Route: ${ue.path}`));const Ee=ue._injector??b,st=ue._loadedInjector??Ee;(ue.loadChildren&&!ue._loadedRoutes&&void 0===ue.canLoad||ue.loadComponent&&!ue._loadedComponent)&&H.push(this.preloadConfig(Ee,ue)),(ue.children||ue._loadedRoutes)&&H.push(this.processRoutes(st,ue.children??ue._loadedRoutes))}return(0,se.D)(H).pipe((0,cr.J)())}preloadConfig(b,R){return this.preloadingStrategy.preload(R,()=>{let H;H=R.loadChildren&&void 0===R.canLoad?this.loader.loadChildren(b,R):(0,de.of)(null);const ue=H.pipe((0,$e.z)(Ee=>null===Ee?(0,de.of)(void 0):(R._loadedRoutes=Ee.routes,R._loadedInjector=Ee.injector,this.processRoutes(Ee.injector??b,Ee.routes))));if(R.loadComponent&&!R._loadedComponent){const Ee=this.loader.loadComponent(R);return(0,se.D)([ue,Ee]).pipe((0,cr.J)())}return ue})}static#e=this.\u0275fac=function(R){return new(R||C)(m.LFG(ii),m.LFG(m.Sil),m.LFG(m.lqb),m.LFG(Nc),m.LFG(Tr))};static#t=this.\u0275prov=m.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const rl=new m.OlP("");let yi=(()=>{class C{constructor(b,R,H,ue,Ee={}){this.urlSerializer=b,this.transitions=R,this.viewportScroller=H,this.zone=ue,this.options=Ee,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ee.scrollPositionRestoration=Ee.scrollPositionRestoration||"disabled",Ee.anchorScrolling=Ee.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof Ir?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof jr?(this.lastId=b.id,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.urlAfterRedirects).fragment)):b instanceof Wi&&0===b.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof Fs&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,R){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Fs(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(R){m.$Z()};static#t=this.\u0275prov=m.Yz7({token:C,factory:C.\u0275fac})}return C})();function si(C,x){return{\u0275kind:C,\u0275providers:x}}function il(){const C=(0,m.f3M)(m.zs3);return x=>{const b=C.get(m.z2F);if(x!==b.components[0])return;const R=C.get(ii),H=C.get(ac);1===C.get(Iu)&&R.initialNavigation(),C.get(uc,null,m.XFs.Optional)?.setUpPreloading(),C.get(rl,null,m.XFs.Optional)?.init(),R.resetRootComponentType(b.componentTypes[0]),H.closed||(H.next(),H.complete(),H.unsubscribe())}}const ac=new m.OlP("",{factory:()=>new gn.x}),Iu=new m.OlP("",{providedIn:"root",factory:()=>1}),uc=new m.OlP("");function sl(C){return si(0,[{provide:uc,useExisting:ju},{provide:Nc,useExisting:C}])}const Vi=new m.OlP("ROUTER_FORROOT_GUARD"),Bl=[yt.Ye,{provide:xe,useClass:ot},ii,ir,{provide:Zi,useFactory:function xa(C){return C.routerState.root},deps:[ii]},Tr,[]];function wu(){return new m.PXZ("Router",ii)}let ms=(()=>{class C{constructor(b){}static forRoot(b,R){return{ngModule:C,providers:[Bl,[],{provide:Ar,multi:!0,useValue:b},{provide:Vi,useFactory:bu,deps:[[ii,new m.FiY,new m.tp0]]},{provide:Uo,useValue:R||{}},R?.useHash?{provide:yt.S$,useClass:yt.Do}:{provide:yt.S$,useClass:yt.b0},{provide:rl,useFactory:()=>{const C=(0,m.f3M)(yt.EM),x=(0,m.f3M)(m.R0b),b=(0,m.f3M)(Uo),R=(0,m.f3M)(hi),H=(0,m.f3M)(xe);return b.scrollOffset&&C.setOffset(b.scrollOffset),new yi(H,R,C,x,b)}},R?.preloadingStrategy?sl(R.preloadingStrategy).\u0275providers:[],{provide:m.PXZ,multi:!0,useFactory:wu},R?.initialNavigation?Ra(R):[],R?.bindToComponentInputs?si(8,[Vn,{provide:Ri,useExisting:Vn}]).\u0275providers:[],[{provide:ys,useFactory:il},{provide:m.tb,multi:!0,useExisting:ys}]]}}static forChild(b){return{ngModule:C,providers:[{provide:Ar,multi:!0,useValue:b}]}}static#e=this.\u0275fac=function(R){return new(R||C)(m.LFG(Vi,8))};static#t=this.\u0275mod=m.oAB({type:C});static#n=this.\u0275inj=m.cJS({})}return C})();function bu(C){return"guarded"}function Ra(C){return["disabled"===C.initialNavigation?si(3,[{provide:m.ip1,multi:!0,useFactory:()=>{const x=(0,m.f3M)(ii);return()=>{x.setUpLocationChangeListener()}}},{provide:Iu,useValue:2}]).\u0275providers:[],"enabledBlocking"===C.initialNavigation?si(2,[{provide:Iu,useValue:0},{provide:m.ip1,multi:!0,deps:[m.zs3],useFactory:x=>{const b=x.get(yt.V_,Promise.resolve());return()=>b.then(()=>new Promise(R=>{const H=x.get(ii),ue=x.get(ac);$u(H,()=>{R(!0)}),x.get(hi).afterPreactivation=()=>(R(!0),ue.closed?(0,de.of)(void 0):ue),H.initialNavigation()}))}}]).\u0275providers:[]]}const ys=new m.OlP("")},4303:($t,Ge,B)=>{"use strict";B.d(Ge,{Jn:()=>Kn,KN:()=>bt,Mq:()=>Pe,Xd:()=>Vt,ZF:()=>cr,qX:()=>Gt});var m=B(5861),Q=B(4537),d=B(7879),he=B(9058),se=B(1878);class de{constructor(xe){this.container=xe}getPlatformInfoString(){return this.container.getProviders().map(ot=>{if(function _e(dt){const xe=dt.getComponent();return"VERSION"===xe?.type}(ot)){const Ot=ot.getImmediate();return`${Ot.library}/${Ot.version}`}return null}).filter(ot=>ot).join(" ")}}const Ne="@firebase/app",te=new d.Yd("@firebase/app"),$e="[DEFAULT]",ze={[Ne]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Je=new Map,je=new Map;function et(dt,xe){try{dt.container.addComponent(xe)}catch(ot){te.debug(`Component ${xe.name} failed to register with FirebaseApp ${dt.name}`,ot)}}function Vt(dt){const xe=dt.name;if(je.has(xe))return te.debug(`There were multiple attempts to register component ${xe}.`),!1;je.set(xe,dt);for(const ot of Je.values())et(ot,dt);return!0}function Gt(dt,xe){const ot=dt.container.getProvider("heartbeat").getImmediate({optional:!0});return ot&&ot.triggerHeartbeat(),dt.container.getProvider(xe)}const _t=new he.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class wn{constructor(xe,ot,Ot){this._isDeleted=!1,this._options=Object.assign({},xe),this._config=Object.assign({},ot),this._name=ot.name,this._automaticDataCollectionEnabled=ot.automaticDataCollectionEnabled,this._container=Ot,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this.checkDestroyed(),this._automaticDataCollectionEnabled=xe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(xe){this._isDeleted=xe}checkDestroyed(){if(this.isDeleted)throw _t.create("app-deleted",{appName:this._name})}}const Kn="10.9.0";function cr(dt,xe={}){let ot=dt;"object"!=typeof xe&&(xe={name:xe});const Ot=Object.assign({name:$e,automaticDataCollectionEnabled:!1},xe),Zt=Ot.name;if("string"!=typeof Zt||!Zt)throw _t.create("bad-app-name",{appName:String(Zt)});if(ot||(ot=(0,he.aH)()),!ot)throw _t.create("no-options");const Jt=Je.get(Zt);if(Jt){if((0,he.vZ)(ot,Jt.options)&&(0,he.vZ)(Ot,Jt.config))return Jt;throw _t.create("duplicate-app",{appName:Zt})}const Wn=new Q.H0(Zt);for(const F of je.values())Wn.addComponent(F);const Y=new wn(ot,Ot,Wn);return Je.set(Zt,Y),Y}function Pe(dt=$e){const xe=Je.get(dt);if(!xe&&dt===$e&&(0,he.aH)())return cr();if(!xe)throw _t.create("no-app",{appName:dt});return xe}function bt(dt,xe,ot){var Ot;let Zt=null!==(Ot=ze[dt])&&void 0!==Ot?Ot:dt;ot&&(Zt+=`-${ot}`);const Jt=Zt.match(/\s|\//),Wn=xe.match(/\s|\//);if(Jt||Wn){const Y=[`Unable to register library "${Zt}" with version "${xe}":`];return Jt&&Y.push(`library name "${Zt}" contains illegal characters (whitespace or "/")`),Jt&&Wn&&Y.push("and"),Wn&&Y.push(`version name "${xe}" contains illegal characters (whitespace or "/")`),void te.warn(Y.join(" "))}Vt(new Q.wA(`${Zt}-version`,()=>({library:Zt,version:xe}),"VERSION"))}const mn="firebase-heartbeat-database",Dn=1,tn="firebase-heartbeat-store";let dn=null;function mr(){return dn||(dn=(0,se.X3)(mn,Dn,{upgrade:(dt,xe)=>{if(0===xe)try{dt.createObjectStore(tn)}catch(ot){console.warn(ot)}}}).catch(dt=>{throw _t.create("idb-open",{originalErrorMessage:dt.message})})),dn}function lr(){return(lr=(0,m.Z)(function*(dt){try{const ot=(yield mr()).transaction(tn),Ot=yield ot.objectStore(tn).get(zn(dt));return yield ot.done,Ot}catch(xe){if(xe instanceof he.ZR)te.warn(xe.message);else{const ot=_t.create("idb-get",{originalErrorMessage:xe?.message});te.warn(ot.message)}}})).apply(this,arguments)}function Er(dt,xe){return bn.apply(this,arguments)}function bn(){return(bn=(0,m.Z)(function*(dt,xe){try{const Ot=(yield mr()).transaction(tn,"readwrite");yield Ot.objectStore(tn).put(xe,zn(dt)),yield Ot.done}catch(ot){if(ot instanceof he.ZR)te.warn(ot.message);else{const Ot=_t.create("idb-set",{originalErrorMessage:ot?.message});te.warn(Ot.message)}}})).apply(this,arguments)}function zn(dt){return`${dt.name}!${dt.options.appId}`}class On{constructor(xe){this.container=xe,this._heartbeatsCache=null;const ot=this.container.getProvider("app").getImmediate();this._storage=new vi(ot),this._heartbeatsCachePromise=this._storage.read().then(Ot=>(this._heartbeatsCache=Ot,Ot))}triggerHeartbeat(){var xe=this;return(0,m.Z)(function*(){var ot,Ot;const Jt=xe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Wn=qr();if((null!=(null===(ot=xe._heartbeatsCache)||void 0===ot?void 0:ot.heartbeats)||(xe._heartbeatsCache=yield xe._heartbeatsCachePromise,null!=(null===(Ot=xe._heartbeatsCache)||void 0===Ot?void 0:Ot.heartbeats)))&&xe._heartbeatsCache.lastSentHeartbeatDate!==Wn&&!xe._heartbeatsCache.heartbeats.some(Y=>Y.date===Wn))return xe._heartbeatsCache.heartbeats.push({date:Wn,agent:Jt}),xe._heartbeatsCache.heartbeats=xe._heartbeatsCache.heartbeats.filter(Y=>{const F=new Date(Y.date).valueOf();return Date.now()-F<=2592e6}),xe._storage.overwrite(xe._heartbeatsCache)})()}getHeartbeatsHeader(){var xe=this;return(0,m.Z)(function*(){var ot;if(null===xe._heartbeatsCache&&(yield xe._heartbeatsCachePromise),null==(null===(ot=xe._heartbeatsCache)||void 0===ot?void 0:ot.heartbeats)||0===xe._heartbeatsCache.heartbeats.length)return"";const Ot=qr(),{heartbeatsToSend:Zt,unsentEntries:Jt}=function Qt(dt,xe=1024){const ot=[];let Ot=dt.slice();for(const Zt of dt){const Jt=ot.find(Wn=>Wn.agent===Zt.agent);if(Jt){if(Jt.dates.push(Zt.date),Nr(ot)>xe){Jt.dates.pop();break}}else if(ot.push({agent:Zt.agent,dates:[Zt.date]}),Nr(ot)>xe){ot.pop();break}Ot=Ot.slice(1)}return{heartbeatsToSend:ot,unsentEntries:Ot}}(xe._heartbeatsCache.heartbeats),Wn=(0,he.L)(JSON.stringify({version:2,heartbeats:Zt}));return xe._heartbeatsCache.lastSentHeartbeatDate=Ot,Jt.length>0?(xe._heartbeatsCache.heartbeats=Jt,yield xe._storage.overwrite(xe._heartbeatsCache)):(xe._heartbeatsCache.heartbeats=[],xe._storage.overwrite(xe._heartbeatsCache)),Wn})()}}function qr(){return(new Date).toISOString().substring(0,10)}class vi{constructor(xe){this.app=xe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,he.hl)()&&(0,he.eu)().then(()=>!0).catch(()=>!1)})()}read(){var xe=this;return(0,m.Z)(function*(){if(yield xe._canUseIndexedDBPromise){const Ot=yield function rn(dt){return lr.apply(this,arguments)}(xe.app);return Ot?.heartbeats?Ot:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(xe){var ot=this;return(0,m.Z)(function*(){var Ot;if(yield ot._canUseIndexedDBPromise){const Jt=yield ot.read();return Er(ot.app,{lastSentHeartbeatDate:null!==(Ot=xe.lastSentHeartbeatDate)&&void 0!==Ot?Ot:Jt.lastSentHeartbeatDate,heartbeats:xe.heartbeats})}})()}add(xe){var ot=this;return(0,m.Z)(function*(){var Ot;if(yield ot._canUseIndexedDBPromise){const Jt=yield ot.read();return Er(ot.app,{lastSentHeartbeatDate:null!==(Ot=xe.lastSentHeartbeatDate)&&void 0!==Ot?Ot:Jt.lastSentHeartbeatDate,heartbeats:[...Jt.heartbeats,...xe.heartbeats]})}})()}}function Nr(dt){return(0,he.L)(JSON.stringify({version:2,heartbeats:dt})).length}!function xr(dt){Vt(new Q.wA("platform-logger",xe=>new de(xe),"PRIVATE")),Vt(new Q.wA("heartbeat",xe=>new On(xe),"PRIVATE")),bt(Ne,"0.9.29",dt),bt(Ne,"0.9.29","esm2017"),bt("fire-js","")}("")},4537:($t,Ge,B)=>{"use strict";B.d(Ge,{H0:()=>Ne,wA:()=>d});var m=B(5861),Q=B(9058);class d{constructor(te,oe,Ae){this.name=te,this.instanceFactory=oe,this.type=Ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const he="[DEFAULT]";class se{constructor(te,oe){this.name=te,this.container=oe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const oe=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(oe)){const Ae=new Q.BH;if(this.instancesDeferred.set(oe,Ae),this.isInitialized(oe)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:oe});Ue&&Ae.resolve(Ue)}catch{}}return this.instancesDeferred.get(oe).promise}getImmediate(te){var oe;const Ae=this.normalizeInstanceIdentifier(te?.identifier),Ue=null!==(oe=te?.optional)&&void 0!==oe&&oe;if(!this.isInitialized(Ae)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ae})}catch(Oe){if(Ue)return null;throw Oe}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function _e(we){return"EAGER"===we.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:he})}catch{}for(const[oe,Ae]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(oe);try{const Oe=this.getOrInitializeService({instanceIdentifier:Ue});Ae.resolve(Oe)}catch{}}}}clearInstance(te=he){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,m.Z)(function*(){const oe=Array.from(te.instances.values());yield Promise.all([...oe.filter(Ae=>"INTERNAL"in Ae).map(Ae=>Ae.INTERNAL.delete()),...oe.filter(Ae=>"_delete"in Ae).map(Ae=>Ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=he){return this.instances.has(te)}getOptions(te=he){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:oe={}}=te,Ae=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(Ae))throw Error(`${this.name}(${Ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:Ae,options:oe});for(const[Oe,Xe]of this.instancesDeferred.entries())Ae===this.normalizeInstanceIdentifier(Oe)&&Xe.resolve(Ue);return Ue}onInit(te,oe){var Ae;const Ue=this.normalizeInstanceIdentifier(oe),Oe=null!==(Ae=this.onInitCallbacks.get(Ue))&&void 0!==Ae?Ae:new Set;Oe.add(te),this.onInitCallbacks.set(Ue,Oe);const Xe=this.instances.get(Ue);return Xe&&te(Xe,Ue),()=>{Oe.delete(te)}}invokeOnInitCallbacks(te,oe){const Ae=this.onInitCallbacks.get(oe);if(Ae)for(const Ue of Ae)try{Ue(te,oe)}catch{}}getOrInitializeService({instanceIdentifier:te,options:oe={}}){let Ae=this.instances.get(te);if(!Ae&&this.component&&(Ae=this.component.instanceFactory(this.container,{instanceIdentifier:(we=te,we===he?void 0:we),options:oe}),this.instances.set(te,Ae),this.instancesOptions.set(te,oe),this.invokeOnInitCallbacks(Ae,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,Ae)}catch{}var we;return Ae||null}normalizeInstanceIdentifier(te=he){return this.component?this.component.multipleInstances?te:he:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ne{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const oe=this.getProvider(te.name);if(oe.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);oe.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const oe=new se(te,this);return this.providers.set(te,oe),oe}getProviders(){return Array.from(this.providers.values())}}},7879:($t,Ge,B)=>{"use strict";B.d(Ge,{Yd:()=>_e,in:()=>Q});const m=[];var Q=function(te){return te[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",te}(Q||{});const d={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},he=Q.INFO,se={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},de=(te,oe,...Ae)=>{if(oe<te.logLevel)return;const Ue=(new Date).toISOString(),Oe=se[oe];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${oe})`);console[Oe](`[${Ue}]  ${te.name}:`,...Ae)};class _e{constructor(oe){this.name=oe,this._logLevel=he,this._logHandler=de,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(oe){if(!(oe in Q))throw new TypeError(`Invalid value "${oe}" assigned to \`logLevel\``);this._logLevel=oe}setLogLevel(oe){this._logLevel="string"==typeof oe?d[oe]:oe}get logHandler(){return this._logHandler}set logHandler(oe){if("function"!=typeof oe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=oe}get userLogHandler(){return this._userLogHandler}set userLogHandler(oe){this._userLogHandler=oe}debug(...oe){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...oe),this._logHandler(this,Q.DEBUG,...oe)}log(...oe){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...oe),this._logHandler(this,Q.VERBOSE,...oe)}info(...oe){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...oe),this._logHandler(this,Q.INFO,...oe)}warn(...oe){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...oe),this._logHandler(this,Q.WARN,...oe)}error(...oe){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...oe),this._logHandler(this,Q.ERROR,...oe)}}},1878:($t,Ge,B)=>{"use strict";B.d(Ge,{X3:()=>ft});var m=B(5861);const Q=(ge,Ve)=>Ve.some(pt=>ge instanceof pt);let d,he;const _e=new WeakMap,Ne=new WeakMap,we=new WeakMap,te=new WeakMap,oe=new WeakMap;let Oe={get(ge,Ve,pt){if(ge instanceof IDBTransaction){if("done"===Ve)return Ne.get(ge);if("objectStoreNames"===Ve)return ge.objectStoreNames||we.get(ge);if("store"===Ve)return pt.objectStoreNames[1]?void 0:pt.objectStore(pt.objectStoreNames[0])}return xt(ge[Ve])},set:(ge,Ve,pt)=>(ge[Ve]=pt,!0),has:(ge,Ve)=>ge instanceof IDBTransaction&&("done"===Ve||"store"===Ve)||Ve in ge};function Rt(ge){return"function"==typeof ge?function Dt(ge){return ge!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return he||(he=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ge)?function(...Ve){return ge.apply(en(this),Ve),xt(_e.get(this))}:function(...Ve){return xt(ge.apply(en(this),Ve))}:function(Ve,...pt){const gn=ge.call(en(this),Ve,...pt);return we.set(gn,Ve.sort?Ve.sort():[Ve]),xt(gn)}}(ge):(ge instanceof IDBTransaction&&function Ue(ge){if(Ne.has(ge))return;const Ve=new Promise((pt,gn)=>{const yt=()=>{ge.removeEventListener("complete",sn),ge.removeEventListener("error",vn),ge.removeEventListener("abort",vn)},sn=()=>{pt(),yt()},vn=()=>{gn(ge.error||new DOMException("AbortError","AbortError")),yt()};ge.addEventListener("complete",sn),ge.addEventListener("error",vn),ge.addEventListener("abort",vn)});Ne.set(ge,Ve)}(ge),Q(ge,function se(){return d||(d=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ge,Oe):ge)}function xt(ge){if(ge instanceof IDBRequest)return function Ae(ge){const Ve=new Promise((pt,gn)=>{const yt=()=>{ge.removeEventListener("success",sn),ge.removeEventListener("error",vn)},sn=()=>{pt(xt(ge.result)),yt()},vn=()=>{gn(ge.error),yt()};ge.addEventListener("success",sn),ge.addEventListener("error",vn)});return Ve.then(pt=>{pt instanceof IDBCursor&&_e.set(pt,ge)}).catch(()=>{}),oe.set(Ve,ge),Ve}(ge);if(te.has(ge))return te.get(ge);const Ve=Rt(ge);return Ve!==ge&&(te.set(ge,Ve),oe.set(Ve,ge)),Ve}const en=ge=>oe.get(ge);function ft(ge,Ve,{blocked:pt,upgrade:gn,blocking:yt,terminated:sn}={}){const vn=indexedDB.open(ge,Ve),xn=xt(vn);return gn&&vn.addEventListener("upgradeneeded",Zn=>{gn(xt(vn.result),Zn.oldVersion,Zn.newVersion,xt(vn.transaction),Zn)}),pt&&vn.addEventListener("blocked",Zn=>pt(Zn.oldVersion,Zn.newVersion,Zn)),xn.then(Zn=>{sn&&Zn.addEventListener("close",()=>sn()),yt&&Zn.addEventListener("versionchange",Jn=>yt(Jn.oldVersion,Jn.newVersion,Jn))}).catch(()=>{}),xn}const qe=["get","getKey","getAll","getAllKeys","count"],ht=["put","add","delete","clear"],Ke=new Map;function Se(ge,Ve){if(!(ge instanceof IDBDatabase)||Ve in ge||"string"!=typeof Ve)return;if(Ke.get(Ve))return Ke.get(Ve);const pt=Ve.replace(/FromIndex$/,""),gn=Ve!==pt,yt=ht.includes(pt);if(!(pt in(gn?IDBIndex:IDBObjectStore).prototype)||!yt&&!qe.includes(pt))return;const sn=function(){var vn=(0,m.Z)(function*(xn,...Zn){const Jn=this.transaction(xn,yt?"readwrite":"readonly");let $e=Jn.store;return gn&&($e=$e.index(Zn.shift())),(yield Promise.all([$e[pt](...Zn),yt&&Jn.done]))[0]});return function(Zn){return vn.apply(this,arguments)}}();return Ke.set(Ve,sn),sn}!function Xe(ge){Oe=ge(Oe)}(ge=>({...ge,get:(Ve,pt,gn)=>Se(Ve,pt)||ge.get(Ve,pt,gn),has:(Ve,pt)=>!!Se(Ve,pt)||ge.has(Ve,pt)}))},3752:($t,Ge,B)=>{"use strict";B.d(Ge,{Fy:()=>hn,bB:()=>as,Mp:()=>nt});var m=B(9468),Q=B(6814),d=B(8645),he=B(3019),se=B(2096),de=B(4829),_e=B(5592),Ne=B(1631),we=B(4266),te=B(4674),oe=B(7400);const Ae=["addListener","removeListener"],Ue=["addEventListener","removeEventListener"],Oe=["on","off"];function Xe(Le,Tn,U,le){if((0,te.m)(U)&&(le=U,U=void 0),le)return Xe(Le,Tn,U).pipe((0,oe.Z)(le));const[ve,Be]=function en(Le){return(0,te.m)(Le.addEventListener)&&(0,te.m)(Le.removeEventListener)}(Le)?Ue.map(We=>it=>Le[We](Tn,it,U)):function Rt(Le){return(0,te.m)(Le.addListener)&&(0,te.m)(Le.removeListener)}(Le)?Ae.map(Dt(Le,Tn)):function xt(Le){return(0,te.m)(Le.on)&&(0,te.m)(Le.off)}(Le)?Oe.map(Dt(Le,Tn)):[];if(!ve&&(0,we.z)(Le))return(0,Ne.z)(We=>Xe(We,Tn,U))((0,de.Xf)(Le));if(!ve)throw new TypeError("Invalid event target");return new _e.y(We=>{const it=(...St)=>We.next(1<St.length?St:St[0]);return ve(it),()=>Be(it)})}function Dt(Le,Tn){return U=>le=>Le[U](Tn,le)}var ft=B(2459),Te=B(9397),qe=B(2181),ht=B(4664),Ke=B(1374),Se=B(8180);function ge(Le){return(0,qe.h)((Tn,U)=>Le<=U)}var Ve=B(7398),pt=B(9732),gn=B(9360);const sn=(Le,Tn)=>(Le.push(Tn),Le);var xn=B(6321),Zn=B(5211),Jn=B(8251),$e=B(2420),Je=B(975);function je(Le,Tn){return Tn?U=>(0,Zn.z)(Tn.pipe((0,Se.q)(1),function ze(){return(0,gn.e)((Le,Tn)=>{Le.subscribe((0,Jn.x)(Tn,$e.Z))})}()),U.pipe(je(Le))):(0,Ne.z)((U,le)=>(0,de.Xf)(Le(U,le)).pipe((0,Se.q)(1),(0,Je.h)(U)))}var et=B(671);var Xt=B(1705),Wt=B(6825);function jt(Le,Tn){}const _t=function(Le,Tn){return{$implicit:Le,index:Tn}};function wn(Le,Tn){if(1&Le&&m.YNc(0,jt,0,0,"ng-template",4),2&Le){const U=m.oxw(),le=U.$implicit,ve=U.index,Be=m.oxw();m.Q6J("ngTemplateOutlet",le.tplRef)("ngTemplateOutletContext",m.WLB(2,_t,Be.preparePublicSlide(le),ve))}}const Kn=function(Le,Tn,U,le){return{width:Le,"margin-left":Tn,"margin-right":U,left:le}};function cr(Le,Tn){if(1&Le){const U=m.EpF();m.ynx(0),m.TgZ(1,"div",2),m.NdJ("animationend",function(){const Be=m.CHM(U).$implicit,We=m.oxw();return m.KtG(We.clear(Be.id))}),m.YNc(2,wn,1,5,null,3),m.qZA(),m.BQk()}if(2&Le){const U=Tn.$implicit;m.xp6(1),m.Q6J("ngClass",U.classes)("ngStyle",m.l5B(4,Kn,U.width+"px",U.marginL?U.marginL+"px":"",U.marginR?U.marginR+"px":"",U.left))("@autoHeight",U.heightState),m.xp6(1),m.Q6J("ngIf",U.load)}}const Pe=function(Le,Tn,U,le,ve){return{width:Le,transform:Tn,transition:U,"padding-left":le,"padding-right":ve}},De=function(Le,Tn){return{isMouseDragable:Le,isTouchDragable:Tn}};function rt(Le,Tn){if(1&Le&&(m.TgZ(0,"div",4),m._UZ(1,"owl-stage",5),m.qZA()),2&Le){const U=m.oxw();m.xp6(1),m.Q6J("owlDraggable",m.WLB(3,De,null==U.owlDOMData?null:U.owlDOMData.isMouseDragable,null==U.owlDOMData?null:U.owlDOMData.isTouchDragable))("stageData",U.stageData)("slidesData",U.slidesData)}}const Et=function(Le,Tn){return{active:Le,"owl-dot-text":Tn}};function bt(Le,Tn){if(1&Le){const U=m.EpF();m.TgZ(0,"div",11),m.NdJ("click",function(){const Be=m.CHM(U).$implicit,We=m.oxw(2);return m.KtG(We.moveByDot(Be.id))}),m._UZ(1,"span",12),m.qZA()}if(2&Le){const U=Tn.$implicit;m.Q6J("ngClass",m.WLB(2,Et,U.active,U.showInnerContent)),m.xp6(1),m.Q6J("innerHTML",U.innerContent,m.oJD)}}const kt=function(Le){return{disabled:Le}};function pr(Le,Tn){if(1&Le){const U=m.EpF();m.ynx(0),m.TgZ(1,"div",6)(2,"div",7),m.NdJ("click",function(){m.CHM(U);const ve=m.oxw();return m.KtG(ve.prev())}),m.qZA(),m.TgZ(3,"div",8),m.NdJ("click",function(){m.CHM(U);const ve=m.oxw();return m.KtG(ve.next())}),m.qZA()(),m.TgZ(4,"div",9),m.YNc(5,bt,2,5,"div",10),m.qZA(),m.BQk()}if(2&Le){const U=m.oxw();m.xp6(1),m.Q6J("ngClass",m.VKq(7,kt,null==U.navData?null:U.navData.disabled)),m.xp6(1),m.Q6J("ngClass",m.VKq(9,kt,null==U.navData||null==U.navData.prev?null:U.navData.prev.disabled))("innerHTML",null==U.navData||null==U.navData.prev?null:U.navData.prev.htmlText,m.oJD),m.xp6(1),m.Q6J("ngClass",m.VKq(11,kt,null==U.navData||null==U.navData.next?null:U.navData.next.disabled))("innerHTML",null==U.navData||null==U.navData.next?null:U.navData.next.htmlText,m.oJD),m.xp6(1),m.Q6J("ngClass",m.VKq(13,kt,null==U.dotsData?null:U.dotsData.disabled)),m.xp6(1),m.Q6J("ngForOf",null==U.dotsData?null:U.dotsData.dots)}}const mn=function(Le,Tn,U,le,ve){return{"owl-rtl":Le,"owl-loaded":Tn,"owl-responsive":U,"owl-drag":le,"owl-grab":ve}};class Dn{items=3;skip_validateItems=!1;loop=!1;center=!1;rewind=!1;mouseDrag=!0;touchDrag=!0;pullDrag=!0;freeDrag=!1;margin=0;stagePadding=0;merge=!1;mergeFit=!0;autoWidth=!1;startPosition=0;rtl=!1;smartSpeed=250;fluidSpeed=!1;dragEndSpeed=!1;responsive={};responsiveRefreshRate=200;nav=!1;navText=["prev","next"];navSpeed=!1;slideBy=1;dots=!0;dotsEach=!1;dotsData=!1;dotsSpeed=!1;autoplay=!1;autoplayTimeout=5e3;autoplayHoverPause=!1;autoplaySpeed=!1;autoplayMouseleaveTimeout=1;lazyLoad=!1;lazyLoadEager=0;slideTransition="";animateOut=!1;animateIn=!1;autoHeight=!1;URLhashListener=!1;constructor(){}}class tn{items="number";skip_validateItems="boolean";loop="boolean";center="boolean";rewind="boolean";mouseDrag="boolean";touchDrag="boolean";pullDrag="boolean";freeDrag="boolean";margin="number";stagePadding="number";merge="boolean";mergeFit="boolean";autoWidth="boolean";startPosition="number|string";rtl="boolean";smartSpeed="number";fluidSpeed="boolean";dragEndSpeed="number|boolean";responsive={};responsiveRefreshRate="number";nav="boolean";navText="string[]";navSpeed="number|boolean";slideBy="number|string";dots="boolean";dotsEach="number|boolean";dotsData="boolean";dotsSpeed="number|boolean";autoplay="boolean";autoplayTimeout="number";autoplayHoverPause="boolean";autoplaySpeed="number|boolean";autoplayMouseleaveTimeout="number";lazyLoad="boolean";lazyLoadEager="number";slideTransition="string";animateOut="string|boolean";animateIn="string|boolean";autoHeight="boolean";URLhashListener="boolean";constructor(){}}let dn=(()=>{class Le{errorHandler;constructor(U){this.errorHandler=U}log(U,...le){(0,m.X6Q)()&&console.log(U,...le)}error(U){this.errorHandler.handleError(U)}warn(U,...le){console.warn(U,...le)}static \u0275fac=function(le){return new(le||Le)(m.LFG(m.qLn))};static \u0275prov=m.Yz7({token:Le,factory:Le.\u0275fac})}return Le})();var rn=function(Le){return Le.Event="event",Le.State="state",Le}(rn||{}),lr=function(Le){return Le.Default="default",Le.Inner="inner",Le.Outer="outer",Le}(lr||{});let zn=(()=>{class Le{logger;_viewSettingsShipper$=new d.x;_initializedCarousel$=new d.x;_changeSettingsCarousel$=new d.x;_changedSettingsCarousel$=new d.x;_translateCarousel$=new d.x;_translatedCarousel$=new d.x;_resizeCarousel$=new d.x;_resizedCarousel$=new d.x;_refreshCarousel$=new d.x;_refreshedCarousel$=new d.x;_dragCarousel$=new d.x;_draggedCarousel$=new d.x;settings={items:0};owlDOMData={rtl:!1,isResponsive:!1,isRefreshed:!1,isLoaded:!1,isLoading:!1,isMouseDragable:!1,isGrab:!1,isTouchDragable:!1};stageData={transform:"translate3d(0px,0px,0px)",transition:"0s",width:0,paddingL:0,paddingR:0};slidesData;navData;dotsData;_width;_items=[];_widths=[];_supress={};_plugins={};_current=null;_clones=[];_mergers=[];_speed=null;_coordinates=[];_breakpoint=null;clonedIdPrefix="cloned-";_options={};_invalidated={};get invalidated(){return this._invalidated}_states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}};get states(){return this._states}_pipe=[{filter:["width","items","settings"],run:U=>{U.current=this._items&&this._items[this.relative(this._current)]?.id}},{filter:["width","items","settings"],run:U=>{const le=this.settings.margin||"",Be=this.settings.rtl,We={"margin-left":Be?le:"","margin-right":Be?"":le};!this.settings.autoWidth||this.slidesData.forEach(it=>{it.marginL=We["margin-left"],it.marginR=We["margin-right"]}),U.css=We}},{filter:["width","items","settings"],run:U=>{const le=+(this.width()/this.settings.items).toFixed(3)-this.settings.margin,ve=!this.settings.autoWidth,Be=[];let We=null,it=this._items.length;for(U.items={merge:!1,width:le};it-- >0;)We=this._mergers[it],We=this.settings.mergeFit&&Math.min(We,this.settings.items)||We,U.items.merge=We>1||U.items.merge,Be[it]=ve?le*We:this._items[it].width?this._items[it].width:le;this._widths=Be,this.slidesData.forEach((St,Fn)=>{St.width=this._widths[Fn],St.marginR=U.css["margin-right"],St.marginL=U.css["margin-left"]})}},{filter:["items","settings"],run:()=>{const U=[],le=this._items,ve=this.settings,Be=Math.max(2*ve.items,4),We=2*Math.ceil(le.length/2);let it=[],St=[],Fn=ve.loop&&le.length?ve.rewind?Be:Math.max(Be,We):0;for(Fn/=2;Fn-- >0;)U.push(this.normalize(U.length/2,!0)),it.push({...this.slidesData[U[U.length-1]]}),U.push(this.normalize(le.length-1-(U.length-1)/2,!0)),St.unshift({...this.slidesData[U[U.length-1]]});this._clones=U,it=it.map(er=>(er.id=`${this.clonedIdPrefix}${er.id}`,er.isActive=!1,er.isCloned=!0,er)),St=St.map(er=>(er.id=`${this.clonedIdPrefix}${er.id}`,er.isActive=!1,er.isCloned=!0,er)),this.slidesData=St.concat(this.slidesData).concat(it)}},{filter:["width","items","settings"],run:()=>{const U=this.settings.rtl?1:-1,le=this._clones.length+this._items.length,ve=[];let Be=-1,We=0,it=0;for(;++Be<le;)We=ve[Be-1]||0,it=this._widths[this.relative(Be)]+this.settings.margin,ve.push(We+it*U);this._coordinates=ve}},{filter:["width","items","settings"],run:()=>{const U=this.settings.stagePadding,le=this._coordinates,ve={width:Math.ceil(Math.abs(le[le.length-1]))+2*U,"padding-left":U||"","padding-right":U||""};this.stageData.width=ve.width,this.stageData.paddingL=ve["padding-left"],this.stageData.paddingR=ve["padding-right"]}},{filter:["width","items","settings"],run:U=>{let le=U.current?this.slidesData.findIndex(ve=>ve.id===U.current):0;le=Math.max(this.minimum(),Math.min(this.maximum(),le)),this.reset(le)}},{filter:["position"],run:()=>{this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:()=>{const U=this.settings.rtl?1:-1,le=2*this.settings.stagePadding,ve=[];let Be,We,it,St,Fn,er;if(Be=this.coordinates(this.current()),"number"==typeof Be?Be+=le:Be=0,We=Be+this.width()*U,-1===U&&this.settings.center){const Cr=this._coordinates.filter(ws=>this.settings.items%2==1?ws>=Be:ws>Be);Be=Cr.length?Cr[Cr.length-1]:Be}for(Fn=0,er=this._coordinates.length;Fn<er;Fn++)it=Math.ceil(this._coordinates[Fn-1]||0),St=Math.ceil(Math.abs(this._coordinates[Fn])+le*U),(this._op(it,"<=",Be)&&this._op(it,">",We)||this._op(St,"<",Be)&&this._op(St,">",We))&&ve.push(Fn);this.slidesData.forEach(Cr=>(Cr.isActive=!1,Cr)),ve.forEach(Cr=>{this.slidesData[Cr].isActive=!0}),this.settings.center&&(this.slidesData.forEach(Cr=>(Cr.isCentered=!1,Cr)),this.slidesData[this.current()].isCentered=!0)}}];constructor(U){this.logger=U}getViewCurSettings(){return this._viewSettingsShipper$.asObservable()}getInitializedState(){return this._initializedCarousel$.asObservable()}getChangeState(){return this._changeSettingsCarousel$.asObservable()}getChangedState(){return this._changedSettingsCarousel$.asObservable()}getTranslateState(){return this._translateCarousel$.asObservable()}getTranslatedState(){return this._translatedCarousel$.asObservable()}getResizeState(){return this._resizeCarousel$.asObservable()}getResizedState(){return this._resizedCarousel$.asObservable()}getRefreshState(){return this._refreshCarousel$.asObservable()}getRefreshedState(){return this._refreshedCarousel$.asObservable()}getDragState(){return this._dragCarousel$.asObservable()}getDraggedState(){return this._draggedCarousel$.asObservable()}setOptions(U){const le=new Dn,ve=this._validateOptions(U,le);this._options={...le,...ve}}_validateOptions(U,le){const ve={...U},Be=new tn,We=(it,St)=>(this.logger.log(`options.${St} must be type of ${it}; ${St}=${U[St]} skipped to defaults: ${St}=${le[St]}`),le[St]);for(const it in ve)if(ve.hasOwnProperty(it))if("number"===Be[it])this._isNumeric(ve[it])?(ve[it]=+ve[it],ve[it]="items"===it?this._validateItems(ve[it],ve.skip_validateItems):ve[it]):ve[it]=We(Be[it],it);else if("boolean"===Be[it]&&"boolean"!=typeof ve[it])ve[it]=We(Be[it],it);else if("number|boolean"!==Be[it]||this._isNumberOrBoolean(ve[it]))if("number|string"!==Be[it]||this._isNumberOrString(ve[it]))if("string|boolean"!==Be[it]||this._isStringOrBoolean(ve[it])){if("string[]"===Be[it])if(Array.isArray(ve[it])){let St=!1;ve[it].forEach(Fn=>{St="string"==typeof Fn}),St||(ve[it]=We(Be[it],it))}else ve[it]=We(Be[it],it)}else ve[it]=We(Be[it],it);else ve[it]=We(Be[it],it);else ve[it]=We(Be[it],it);return ve}_validateItems(U,le){let ve=U;return U>this._items.length?le?this.logger.log("The option 'items' in your options is bigger than the number of slides. The navigation got disabled"):(ve=this._items.length,this.logger.log("The option 'items' in your options is bigger than the number of slides. This option is updated to the current number of slides and the navigation got disabled")):U===this._items.length&&(this.settings.dots||this.settings.nav)&&this.logger.log("Option 'items' in your options is equal to the number of slides. So the navigation got disabled"),ve}setCarouselWidth(U){this._width=U}setup(U,le,ve){this.setCarouselWidth(U),this.setItems(le),this._defineSlidesData(),this.setOptions(ve),this.settings={...this._options},this.setOptionsForViewport(),this._trigger("change",{property:{name:"settings",value:this.settings}}),this.invalidate("settings"),this._trigger("changed",{property:{name:"settings",value:this.settings}})}setOptionsForViewport(){const U=this._width,le=this._options.responsive;let ve=-1;if(!Object.keys(le).length)return;if(!U)return void(this.settings.items=1);for(const We in le)le.hasOwnProperty(We)&&+We<=U&&+We>ve&&(ve=Number(We));this.settings={...this._options,...le[ve],items:le[ve]&&le[ve].items?this._validateItems(le[ve].items,this._options.skip_validateItems):this._options.items},delete this.settings.responsive,this.owlDOMData.isResponsive=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag;const Be=[];this._items.forEach(We=>{Be.push(this.settings.merge?We.dataMerge:1)}),this._mergers=Be,this._breakpoint=ve,this.invalidate("settings")}initialize(U){this.enter("initializing"),this.owlDOMData.rtl=this.settings.rtl,this._mergers.length&&(this._mergers=[]),U.forEach(le=>{this._mergers.push(this.settings.merge?le.dataMerge:1)}),this._clones=[],this.reset(this._isNumeric(this.settings.startPosition)?+this.settings.startPosition:0),this.invalidate("items"),this.refresh(),this.owlDOMData.isLoaded=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag,this.sendChanges(),this.leave("initializing"),this._trigger("initialized")}sendChanges(){this._viewSettingsShipper$.next({owlDOMData:this.owlDOMData,stageData:this.stageData,slidesData:this.slidesData,navData:this.navData,dotsData:this.dotsData})}_optionsLogic(){this.settings.autoWidth&&(this.settings.stagePadding=0,this.settings.merge=!1)}update(){let U=0;const le=this._pipe.length,ve=We=>this._invalidated[We],Be={};for(;U<le;){const We=this._pipe[U].filter.filter(ve);(this._invalidated.all||We.length>0)&&this._pipe[U].run(Be),U++}this.slidesData.forEach(We=>We.classes=this.setCurSlideClasses(We)),this.sendChanges(),this._invalidated={},this.is("valid")||this.enter("valid")}width(U){switch(U=U||lr.Default){case lr.Inner:case lr.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}}refresh(){this.enter("refreshing"),this._trigger("refresh"),this._defineSlidesData(),this.setOptionsForViewport(),this._optionsLogic(),this.update(),this.leave("refreshing"),this._trigger("refreshed")}onResize(U){if(!this._items.length)return!1;this.setCarouselWidth(U),this.enter("resizing"),this._trigger("resize"),this.invalidate("width"),this.refresh(),this.leave("resizing"),this._trigger("resized")}prepareDragging(U){let ve,le=null;return ve=this.stageData.transform.replace(/.*\(|\)| |[^,-\d]\w|\)/g,"").split(","),le={x:+ve[0],y:+ve[1]},this.is("animating")&&this.invalidate("position"),"mousedown"===U.type&&(this.owlDOMData.isGrab=!0),this.speed(0),le}enterDragging(){this.enter("dragging"),this._trigger("drag")}defineNewCoordsDrag(U,le){let ve=null,Be=null,We=null;const it=this.difference(le.pointer,this.pointer(U)),St=this.difference(le.stage.start,it);return!!this.is("dragging")&&(this.settings.loop?(ve=this.coordinates(this.minimum()),Be=+this.coordinates(this.maximum()+1)-ve,St.x=((St.x-ve)%Be+Be)%Be+ve):(ve=this.coordinates(this.settings.rtl?this.maximum():this.minimum()),Be=this.coordinates(this.settings.rtl?this.minimum():this.maximum()),We=this.settings.pullDrag?-1*it.x/5:0,St.x=Math.max(Math.min(St.x,ve+We),Be+We)),St)}finishDragging(U,le,ve){const We=this.difference(le.pointer,this.pointer(U)),it=le.stage.current,St=["right","left"][+(this.settings.rtl?We.x<+this.settings.rtl:We.x>+this.settings.rtl)];let Fn,er,Cr;(0!==We.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(+this.settings.dragEndSpeed||this.settings.smartSpeed),Fn=this.closest(it.x,0!==We.x?St:le.direction),er=this.current(),Cr=this.current(-1===Fn?void 0:Fn),er!==Cr&&(this.invalidate("position"),this.update()),le.direction=St,(Math.abs(We.x)>3||(new Date).getTime()-le.time>300)&&ve()),this.is("dragging")&&(this.leave("dragging"),this._trigger("dragged"))}closest(U,le){const Be=this.width();let We=this.coordinates(),it=-1;this.settings.center&&(We=We.map(St=>(0===St&&(St+=1e-6),St)));for(let St=0;St<We.length&&("left"===le&&U>We[St]-30&&U<We[St]+30?it=St:"right"===le&&U>We[St]-Be-30&&U<We[St]-Be+30?it=St+1:this._op(U,"<",We[St])&&this._op(U,">",We[St+1]||We[St]-Be)?it="left"===le?St+1:St:null===le&&U>We[St]-30&&U<We[St]+30&&(it=St),-1===it);St++);return this.settings.loop||(this._op(U,">",We[this.minimum()])?it=U=this.minimum():this._op(U,"<",We[this.maximum()])&&(it=U=this.maximum())),it}animate(U){const le=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),le&&(this.enter("animating"),this._trigger("translate")),this.stageData.transform="translate3d("+U+"px,0px,0px)",this.stageData.transition=this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}is(U){return this._states.current[U]&&this._states.current[U]>0}current(U){return void 0===U?this._current:0!==this._items.length?(U=this.normalize(U),this._current!==U&&(this._trigger("change",{property:{name:"position",value:U}}),this._current=U,this.invalidate("position"),this._trigger("changed",{property:{name:"position",value:this._current}})),this._current):void 0}invalidate(U){return"string"==typeof U&&(this._invalidated[U]=!0,this.is("valid")&&this.leave("valid")),Object.keys(this._invalidated)}reset(U){void 0!==(U=this.normalize(U))&&(this._speed=0,this._current=U,this._suppress(["translate","translated"]),this.animate(this.coordinates(U)),this._release(["translate","translated"]))}normalize(U,le){const ve=this._items.length,Be=le?0:this._clones.length;return!this._isNumeric(U)||ve<1?U=void 0:(U<0||U>=ve+Be)&&(U=((U-Be/2)%ve+ve)%ve+Be/2),U}relative(U){return this.normalize(U-=this._clones.length/2,!0)}maximum(U=!1){const le=this.settings;let Be,We,it,ve=this._coordinates.length;if(le.loop)ve=this._clones.length/2+this._items.length-1;else if(le.autoWidth||le.merge){for(Be=this._items.length,We=this.slidesData[--Be].width,it=this._width;Be-- >0&&(We+=+this.slidesData[Be].width+this.settings.margin,!(We>it)););ve=Be+1}else ve=le.center?this._items.length-1:this._items.length-le.items;return U&&(ve-=this._clones.length/2),Math.max(ve,0)}minimum(U=!1){return U?0:this._clones.length/2}items(U){return void 0===U?this._items.slice():(U=this.normalize(U,!0),[this._items[U]])}mergers(U){return void 0===U?this._mergers.slice():(U=this.normalize(U,!0),this._mergers[U])}clones(U){const le=this._clones.length/2,ve=le+this._items.length,Be=We=>We%2==0?ve+We/2:le-(We+1)/2;return void 0===U?this._clones.map((We,it)=>Be(it)):this._clones.map((We,it)=>We===U?Be(it):null).filter(We=>We)}speed(U){return void 0!==U&&(this._speed=U),this._speed}coordinates(U){let Be,We,le=1,ve=U-1;return void 0===U?(We=this._coordinates.map((it,St)=>this.coordinates(St)),We):(this.settings.center?(this.settings.rtl&&(le=-1,ve=U+1),Be=this._coordinates[U],Be+=(this.width()-Be+(this._coordinates[ve]||0))/2*le):Be=this._coordinates[ve]||0,Be=Math.ceil(Be),Be)}_duration(U,le,ve){return 0===ve?0:Math.min(Math.max(Math.abs(le-U),1),6)*Math.abs(+ve||this.settings.smartSpeed)}to(U,le){let ve=this.current(),Be=null,We=U-this.relative(ve),it=this.maximum(),St=0;const Fn=+(We>0)-+(We<0),er=this._items.length,Cr=this.minimum();this.settings.loop?(!this.settings.rewind&&Math.abs(We)>er/2&&(We+=-1*Fn*er),Be=(((U=ve+We)-Cr)%er+er)%er+Cr,Be!==U&&Be-We<=it&&Be-We>0&&(ve=Be-We,U=Be,St=30,this.reset(ve),this.sendChanges())):this.settings.rewind?(it+=1,U=(U%it+it)%it):U=Math.max(Cr,Math.min(it,U)),setTimeout(()=>{this.speed(this._duration(ve,U,le)),this.current(U),this.update()},St)}next(U){U=U||!1,this.to(this.relative(this.current())+1,U)}prev(U){U=U||!1,this.to(this.relative(this.current())-1,U)}onTransitionEnd(U){if(void 0!==U)return!1;this.leave("animating"),this._trigger("translated")}_viewport(){let U;return this._width?U=this._width:this.logger.log("Can not detect viewport width."),U}setItems(U){this._items=U}_defineSlidesData(){let U;this.slidesData&&this.slidesData.length&&(U=new Map,this.slidesData.forEach(le=>{le.load&&U.set(le.id,le.load)})),this.slidesData=this._items.map(le=>({id:`${le.id}`,isActive:!1,tplRef:le.tplRef,dataMerge:le.dataMerge,width:0,isCloned:!1,load:!!U&&U.get(le.id),hashFragment:le.dataHash}))}setCurSlideClasses(U){const le={active:U.isActive,center:U.isCentered,cloned:U.isCloned,animated:U.isAnimated,"owl-animated-in":U.isDefAnimatedIn,"owl-animated-out":U.isDefAnimatedOut};return this.settings.animateIn&&(le[this.settings.animateIn]=U.isCustomAnimatedIn),this.settings.animateOut&&(le[this.settings.animateOut]=U.isCustomAnimatedOut),le}_op(U,le,ve){const Be=this.settings.rtl;switch(le){case"<":return Be?U>ve:U<ve;case">":return Be?U<ve:U>ve;case">=":return Be?U<=ve:U>=ve;case"<=":return Be?U>=ve:U<=ve}}_trigger(U,le,ve,Be,We){switch(U){case"initialized":this._initializedCarousel$.next(U);break;case"change":this._changeSettingsCarousel$.next(le);break;case"changed":this._changedSettingsCarousel$.next(le);break;case"drag":this._dragCarousel$.next(U);break;case"dragged":this._draggedCarousel$.next(U);break;case"resize":this._resizeCarousel$.next(U);break;case"resized":this._resizedCarousel$.next(U);break;case"refresh":this._refreshCarousel$.next(U);break;case"refreshed":this._refreshedCarousel$.next(U);break;case"translate":this._translateCarousel$.next(U);break;case"translated":this._translatedCarousel$.next(U)}}enter(U){[U].concat(this._states.tags[U]||[]).forEach(le=>{void 0===this._states.current[le]&&(this._states.current[le]=0),this._states.current[le]++})}leave(U){[U].concat(this._states.tags[U]||[]).forEach(le=>{(0===this._states.current[le]||this._states.current[le])&&this._states.current[le]--})}register(U){U.type===rn.State&&(this._states.tags[U.name]=this._states.tags[U.name]?this._states.tags[U.name].concat(U.tags):U.tags,this._states.tags[U.name]=this._states.tags[U.name].filter((le,ve)=>this._states.tags[U.name].indexOf(le)===ve))}_suppress(U){U.forEach(le=>{this._supress[le]=!0})}_release(U){U.forEach(le=>{delete this._supress[le]})}pointer(U){const le={x:null,y:null};return(U=(U=U.originalEvent||U||window.event).touches&&U.touches.length?U.touches[0]:U.changedTouches&&U.changedTouches.length?U.changedTouches[0]:U).pageX?(le.x=U.pageX,le.y=U.pageY):(le.x=U.clientX,le.y=U.clientY),le}_isNumeric(U){return!isNaN(parseFloat(U))}_isNumberOrBoolean(U){return this._isNumeric(U)||"boolean"==typeof U}_isNumberOrString(U){return this._isNumeric(U)||"string"==typeof U}_isStringOrBoolean(U){return"string"==typeof U||"boolean"==typeof U}difference(U,le){return null===U||null===le?{x:0,y:0}:{x:U.x-le.x,y:U.y-le.y}}static \u0275fac=function(le){return new(le||Le)(m.LFG(dn))};static \u0275prov=m.Yz7({token:Le,factory:Le.\u0275fac})}return Le})(),qn=(()=>{class Le{carouselService;navSubscription;_initialized=!1;_pages=[];_navData={disabled:!1,prev:{disabled:!1,htmlText:""},next:{disabled:!1,htmlText:""}};_dotsData={disabled:!1,dots:[]};constructor(U){this.carouselService=U,this.spyDataStreams()}ngOnDestroy(){this.navSubscription.unsubscribe()}spyDataStreams(){const U=this.carouselService.getInitializedState().pipe((0,Te.b)(We=>{this.initialize(),this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),le=this.carouselService.getChangedState().pipe((0,qe.h)(We=>"position"===We.property.name),(0,Te.b)(We=>{this.update()})),ve=this.carouselService.getRefreshedState().pipe((0,Te.b)(()=>{this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),Be=(0,he.T)(U,le,ve);this.navSubscription=Be.subscribe(()=>{})}initialize(){this._navData.disabled=!0,this._navData.prev.htmlText=this.carouselService.settings.navText[0],this._navData.next.htmlText=this.carouselService.settings.navText[1],this._dotsData.disabled=!0,this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}_updateNavPages(){let U,le,ve;const Be=this.carouselService.clones().length/2,We=Be+this.carouselService.items().length,it=this.carouselService.maximum(!0),St=[],Fn=this.carouselService.settings;let er=Fn.center||Fn.autoWidth||Fn.dotsData?1:Math.floor(Number(Fn.dotsEach))||Math.floor(Fn.items);if(er=+er,"page"!==Fn.slideBy&&(Fn.slideBy=Math.min(+Fn.slideBy,Fn.items)),Fn.dots||"page"===Fn.slideBy)for(U=Be,le=0,ve=0;U<We;U++){if(le>=er||0===le){if(St.push({start:Math.min(it,U-Be),end:U-Be+er-1}),Math.min(it,U-Be)===it)break;le=0,++ve}le+=this.carouselService.mergers(this.carouselService.relative(U))}this._pages=St}draw(){let U;const le=this.carouselService.settings,ve=this.carouselService.items(),Be=ve.length<=le.items;if(this._navData.disabled=!le.nav||Be,this._dotsData.disabled=!le.dots||Be,le.dots)if(U=this._pages.length-this._dotsData.dots.length,le.dotsData&&0!==U)this._dotsData.dots=[],ve.forEach(We=>{this._dotsData.dots.push({active:!1,id:`dot-${We.id}`,innerContent:We.dotContent,showInnerContent:!0})});else if(U>0){const We=this._dotsData.dots.length>0?this._dotsData.dots.length:0;for(let it=0;it<U;it++)this._dotsData.dots.push({active:!1,id:`dot-${it+We}`,innerContent:"",showInnerContent:!1})}else U<0&&this._dotsData.dots.splice(U,Math.abs(U));this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}update(){this._updateNavButtons(),this._updateDots()}_updateNavButtons(){const U=this.carouselService.settings,le=U.loop||U.rewind,ve=this.carouselService.relative(this.carouselService.current());U.nav&&(this._navData.prev.disabled=!le&&ve<=this.carouselService.minimum(!0),this._navData.next.disabled=!le&&ve>=this.carouselService.maximum(!0)),this.carouselService.navData=this._navData}_updateDots(){let U;this.carouselService.settings.dots&&(this._dotsData.dots.forEach(le=>{!0===le.active&&(le.active=!1)}),U=this._current(),this._dotsData.dots.length&&(this._dotsData.dots[U].active=!0),this.carouselService.dotsData=this._dotsData)}_current(){const U=this.carouselService.relative(this.carouselService.current());let le;const ve=this._pages.filter((Be,We)=>Be.start<=U&&Be.end>=U).pop();return le=this._pages.findIndex(Be=>Be.start===ve.start&&Be.end===ve.end),le}_getPosition(U){let le,ve;const Be=this.carouselService.settings;return"page"===Be.slideBy?(le=this._current(),ve=this._pages.length,U?++le:--le,le=this._pages[(le%ve+ve)%ve].start):(le=this.carouselService.relative(this.carouselService.current()),ve=this.carouselService.items().length,U?le+=+Be.slideBy:le-=+Be.slideBy),le}next(U){this.carouselService.to(this._getPosition(!0),U)}prev(U){this.carouselService.to(this._getPosition(!1),U)}to(U,le,ve){let Be;!ve&&this._pages.length?(Be=this._pages.length,this.carouselService.to(this._pages[(U%Be+Be)%Be].start,le)):this.carouselService.to(U,le)}moveByDot(U){const le=this._dotsData.dots.findIndex(ve=>U===ve.id);this.to(le,this.carouselService.settings.dotsSpeed)}toSlideById(U){const le=this.carouselService.slidesData.findIndex(ve=>ve.id===U&&!1===ve.isCloned);-1===le||le===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(le),!1)}static \u0275fac=function(le){return new(le||Le)(m.LFG(zn))};static \u0275prov=m.Yz7({token:Le,factory:Le.\u0275fac})}return Le})();const Xn=new m.OlP("WindowToken");class On{get nativeWindow(){throw new Error("Not implemented.")}}const xr=[{provide:On,useClass:(()=>{class Le extends On{constructor(){super()}get nativeWindow(){return window}static \u0275fac=function(le){return new(le||Le)};static \u0275prov=m.Yz7({token:Le,factory:Le.\u0275fac})}return Le})()},{provide:Xn,useFactory:function Qt(Le,Tn){return(0,Q.NF)(Tn)?Le.nativeWindow:{setTimeout:(le,ve)=>{},clearTimeout:le=>{}}},deps:[On,m.Lbi]}],dt=new m.OlP("DocumentToken");class xe{get nativeDocument(){throw new Error("Not implemented.")}}const Wn=[{provide:xe,useClass:(()=>{class Le extends xe{constructor(){super()}get nativeDocument(){return document}static \u0275fac=function(le){return new(le||Le)};static \u0275prov=m.Yz7({token:Le,factory:Le.\u0275fac})}return Le})()},{provide:dt,useFactory:function Ot(Le,Tn){return(0,Q.NF)(Tn)?Le.nativeDocument:{hidden:!1,visibilityState:"visible"}},deps:[xe,m.Lbi]}];let Y=(()=>{class Le{carouselService;ngZone;autoplaySubscription;_timeout=null;_paused=!1;_isArtificialAutoplayTimeout;_isAutoplayStopped=!1;get isAutoplayStopped(){return this._isAutoplayStopped}set isAutoplayStopped(U){this._isAutoplayStopped=U}winRef;docRef;constructor(U,le,ve,Be){this.carouselService=U,this.ngZone=Be,this.winRef=le,this.docRef=ve,this.spyDataStreams()}ngOnDestroy(){this.autoplaySubscription.unsubscribe()}spyDataStreams(){const U=this.carouselService.getInitializedState().pipe((0,Te.b)(()=>{this.carouselService.settings.autoplay&&this.play()})),le=this.carouselService.getChangedState().pipe((0,Te.b)(We=>{this._handleChangeObservable(We)})),ve=this.carouselService.getResizedState().pipe((0,Te.b)(()=>{this.carouselService.settings.autoplay&&!this._isAutoplayStopped?this.play():this.stop()})),Be=(0,he.T)(U,le,ve);this.autoplaySubscription=Be.subscribe(()=>{})}play(U,le){this._paused&&(this._paused=!1,this._setAutoPlayInterval(this.carouselService.settings.autoplayMouseleaveTimeout)),!this.carouselService.is("rotating")&&(this.carouselService.enter("rotating"),this._setAutoPlayInterval())}_getNextTimeout(U,le){return this._timeout&&this.winRef.clearTimeout(this._timeout),this._isArtificialAutoplayTimeout=!!U,this.ngZone.runOutsideAngular(()=>this.winRef.setTimeout(()=>{this.ngZone.run(()=>{this._paused||this.carouselService.is("busy")||this.carouselService.is("interacting")||this.docRef.hidden||this.carouselService.next(le||this.carouselService.settings.autoplaySpeed)})},U||this.carouselService.settings.autoplayTimeout))}_setAutoPlayInterval(U){this._timeout=this._getNextTimeout(U)}stop(){this.carouselService.is("rotating")&&(this._paused=!0,this.winRef.clearTimeout(this._timeout),this.carouselService.leave("rotating"))}pause(){this.carouselService.is("rotating")&&(this._paused=!0)}_handleChangeObservable(U){"settings"===U.property.name?this.carouselService.settings.autoplay?this.play():this.stop():"position"===U.property.name&&this.carouselService.settings.autoplay&&this._setAutoPlayInterval()}_playAfterTranslated(){(0,se.of)("translated").pipe((0,ht.w)(U=>this.carouselService.getTranslatedState()),(0,Ke.P)(),(0,qe.h)(()=>this._isArtificialAutoplayTimeout),(0,Te.b)(()=>this._setAutoPlayInterval())).subscribe(()=>{})}startPausing(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&this.pause()}startPlayingMouseLeave(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}startPlayingTouchEnd(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}static \u0275fac=function(le){return new(le||Le)(m.LFG(zn),m.LFG(Xn),m.LFG(dt),m.LFG(m.R0b))};static \u0275prov=m.Yz7({token:Le,factory:Le.\u0275fac})}return Le})(),F=(()=>{class Le{carouselService;lazyLoadSubscription;constructor(U){this.carouselService=U,this.spyDataStreams()}ngOnDestroy(){this.lazyLoadSubscription.unsubscribe()}spyDataStreams(){const U=this.carouselService.getInitializedState().pipe((0,Te.b)(()=>{const We=this.carouselService.settings&&!this.carouselService.settings.lazyLoad;this.carouselService.slidesData.forEach(it=>it.load=!!We)})),le=this.carouselService.getChangeState(),ve=this.carouselService.getResizedState(),Be=(0,he.T)(U,le,ve).pipe((0,Te.b)(We=>this._defineLazyLoadSlides(We)));this.lazyLoadSubscription=Be.subscribe(()=>{})}_defineLazyLoadSlides(U){if(this.carouselService.settings&&this.carouselService.settings.lazyLoad&&(U.property&&"position"===U.property.name||"initialized"===U||"resized"===U)){const le=this.carouselService.settings,ve=this.carouselService.clones().length;let Be=le.center&&Math.ceil(le.items/2)||le.items,We=le.center&&-1*Be||0,it=(U.property&&void 0!==U.property.value?U.property.value:this.carouselService.current())+We;for(le.lazyLoadEager>0&&(Be+=le.lazyLoadEager,le.loop&&(it-=le.lazyLoadEager,Be++));We++<Be;)this._load(ve/2+this.carouselService.relative(it)),ve&&this.carouselService.clones(this.carouselService.relative(it)).forEach(St=>this._load(St)),it++}}_load(U){this.carouselService.slidesData[U].load||(this.carouselService.slidesData[U].load=!0)}static \u0275fac=function(le){return new(le||Le)(m.LFG(zn))};static \u0275prov=m.Yz7({token:Le,factory:Le.\u0275fac})}return Le})(),$=(()=>{class Le{carouselService;animateSubscription;swapping=!0;previous=void 0;next=void 0;constructor(U){this.carouselService=U,this.spyDataStreams()}ngOnDestroy(){this.animateSubscription.unsubscribe()}spyDataStreams(){const U=this.carouselService.getChangeState().pipe((0,Te.b)(Fn=>{"position"===Fn.property.name&&(this.previous=this.carouselService.current(),this.next=Fn.property.value)})),le=this.carouselService.getDragState(),ve=this.carouselService.getDraggedState(),Be=this.carouselService.getTranslatedState(),We=(0,he.T)(le,ve,Be).pipe((0,Te.b)(Fn=>this.swapping="translated"===Fn)),it=this.carouselService.getTranslateState().pipe((0,Te.b)(Fn=>{this.swapping&&(this.carouselService._options.animateOut||this.carouselService._options.animateIn)&&this._swap()})),St=(0,he.T)(U,it,We).pipe();this.animateSubscription=St.subscribe(()=>{})}_swap(){if(1!==this.carouselService.settings.items)return;let U;this.carouselService.speed(0);const le=this.carouselService.slidesData[this.previous],ve=this.carouselService.slidesData[this.next],Be=this.carouselService.settings.animateIn,We=this.carouselService.settings.animateOut;this.carouselService.current()!==this.previous&&(We&&(U=+this.carouselService.coordinates(this.previous)-+this.carouselService.coordinates(this.next),this.carouselService.slidesData.forEach(it=>{it.id===le.id&&(it.left=`${U}px`,it.isAnimated=!0,it.isDefAnimatedOut=!0,it.isCustomAnimatedOut=!0)})),Be&&this.carouselService.slidesData.forEach(it=>{it.id===ve.id&&(it.isAnimated=!0,it.isDefAnimatedIn=!0,it.isCustomAnimatedIn=!0)}))}clear(U){this.carouselService.slidesData.forEach(le=>{le.id===U&&(le.left="",le.isAnimated=!1,le.isDefAnimatedOut=!1,le.isCustomAnimatedOut=!1,le.isDefAnimatedIn=!1,le.isCustomAnimatedIn=!1,le.classes=this.carouselService.setCurSlideClasses(le))}),this.carouselService.onTransitionEnd()}static \u0275fac=function(le){return new(le||Le)(m.LFG(zn))};static \u0275prov=m.Yz7({token:Le,factory:Le.\u0275fac})}return Le})(),q=(()=>{class Le{carouselService;autoHeightSubscription;constructor(U){this.carouselService=U,this.spyDataStreams()}ngOnDestroy(){this.autoHeightSubscription.unsubscribe()}spyDataStreams(){const U=this.carouselService.getInitializedState().pipe((0,Te.b)(We=>{this.carouselService.settings.autoHeight?this.update():this.carouselService.slidesData.forEach(it=>it.heightState="full")})),le=this.carouselService.getChangedState().pipe((0,Te.b)(We=>{this.carouselService.settings.autoHeight&&"position"===We.property.name&&this.update()})),ve=this.carouselService.getRefreshedState().pipe((0,Te.b)(We=>{this.carouselService.settings.autoHeight&&this.update()})),Be=(0,he.T)(U,le,ve);this.autoHeightSubscription=Be.subscribe(()=>{})}update(){const U=this.carouselService.settings.items;let le=this.carouselService.current(),ve=le+U;this.carouselService.settings.center&&(le=U%2==1?le-(U-1)/2:le-U/2,ve=U%2==1?le+U:le+U+1),this.carouselService.slidesData.forEach((Be,We)=>{Be.heightState=We>=le&&We<ve?"full":"nulled"})}static \u0275fac=function(le){return new(le||Le)(m.LFG(zn))};static \u0275prov=m.Yz7({token:Le,factory:Le.\u0275fac})}return Le})(),G=(()=>{class Le{carouselService;route;router;hashSubscription;currentHashFragment;constructor(U,le,ve){this.carouselService=U,this.route=le,this.router=ve,this.spyDataStreams(),this.route||(this.route={fragment:(0,se.of)("no route").pipe((0,Se.q)(1))}),this.router||(this.router={navigate:(Be,We)=>{}})}ngOnDestroy(){this.hashSubscription.unsubscribe()}spyDataStreams(){const U=this.carouselService.getInitializedState().pipe((0,Te.b)(()=>this.listenToRoute())),le=this.carouselService.getChangedState().pipe((0,Te.b)(Be=>{if(this.carouselService.settings.URLhashListener&&"position"===Be.property.name){const We=this.carouselService.current(),it=this.carouselService.slidesData[We].hashFragment;if(!it||it===this.currentHashFragment)return;this.router.navigate(["./"],{fragment:it,relativeTo:this.route})}})),ve=(0,he.T)(U,le);this.hashSubscription=ve.subscribe(()=>{})}rewind(U){const le=this.carouselService.slidesData.findIndex(ve=>ve.hashFragment===U&&!1===ve.isCloned);-1===le||le===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(le),!1)}listenToRoute(){this.route.fragment.pipe(ge("URLHash"===this.carouselService.settings.startPosition?0:2)).subscribe(le=>{this.currentHashFragment=le,this.rewind(le)})}static \u0275fac=function(le){return new(le||Le)(m.LFG(zn),m.LFG(Xt.gz,8),m.LFG(Xt.F0,8))};static \u0275prov=m.Yz7({token:Le,factory:Le.\u0275fac})}return Le})(),Ce=0,nt=(()=>{class Le{tplRef;id="owl-slide-"+Ce++;_dataMerge=1;set dataMerge(U){this._dataMerge=this.isNumeric(U)?U:1}get dataMerge(){return this._dataMerge}width=0;dotContent="";dataHash="";constructor(U){this.tplRef=U}isNumeric(U){return!isNaN(parseFloat(U))}static \u0275fac=function(le){return new(le||Le)(m.Y36(m.Rgc))};static \u0275dir=m.lG2({type:Le,selectors:[["ng-template","carouselSlide",""]],inputs:{id:"id",dataMerge:"dataMerge",width:"width",dotContent:"dotContent",dataHash:"dataHash"}})}return Le})(),Mt=(()=>{class Le{resizeObservable$;get onResize$(){return this.resizeObservable$}constructor(U,le){this.resizeObservable$=(0,Q.NF)(le)?Xe(U,"resize"):(new d.x).asObservable()}static \u0275fac=function(le){return new(le||Le)(m.LFG(Xn),m.LFG(m.Lbi))};static \u0275prov=m.Yz7({token:Le,factory:Le.\u0275fac})}return Le})(),ln=(()=>{class Le{zone;el;renderer;carouselService;animateService;owlDraggable;stageData;slidesData;listenerMouseMove;listenerTouchMove;listenerOneMouseMove;listenerOneTouchMove;listenerMouseUp;listenerTouchEnd;listenerOneClick;listenerATag;_drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1};_oneDragMove$=new d.x;_oneMoveSubsription;preparePublicSlide=U=>{const le={...U};return delete le.tplRef,le};constructor(U,le,ve,Be,We){this.zone=U,this.el=le,this.renderer=ve,this.carouselService=Be,this.animateService=We}onMouseDown(U){this.owlDraggable.isMouseDragable&&this._onDragStart(U)}onTouchStart(U){if(U.targetTouches.length>=2)return!1;this.owlDraggable.isTouchDragable&&this._onDragStart(U)}onTouchCancel(U){this._onDragEnd(U)}onDragStart(){if(this.owlDraggable.isMouseDragable)return!1}onSelectStart(){if(this.owlDraggable.isMouseDragable)return!1}ngOnInit(){this._oneMoveSubsription=this._oneDragMove$.pipe((0,Ke.P)()).subscribe(()=>{this._sendChanges()})}ngOnDestroy(){this._oneMoveSubsription.unsubscribe()}bindOneMouseTouchMove=U=>{this._oneMouseTouchMove(U)};bindOnDragMove=U=>{this._onDragMove(U)};bindOnDragEnd=U=>{this._onDragEnd(U)};_onDragStart(U){let le=null;3!==U.which&&(le=this._prepareDragging(U),this._drag.time=(new Date).getTime(),this._drag.target=U.target,this._drag.stage.start=le,this._drag.stage.current=le,this._drag.pointer=this._pointer(U),this.listenerMouseUp=this.renderer.listen(document,"mouseup",this.bindOnDragEnd),this.listenerTouchEnd=this.renderer.listen(document,"touchend",this.bindOnDragEnd),this.zone.runOutsideAngular(()=>{this.listenerOneMouseMove=this.renderer.listen(document,"mousemove",this.bindOneMouseTouchMove),this.listenerOneTouchMove=this.renderer.listen(document,"touchmove",this.bindOneMouseTouchMove)}))}_oneMouseTouchMove(U){const le=this._difference(this._drag.pointer,this._pointer(U));this.listenerATag&&this.listenerATag(),!(Math.abs(le.x)<3&&Math.abs(le.y)<3&&this._is("valid"))&&(Math.abs(le.x)<3&&Math.abs(le.x)<Math.abs(le.y)&&this._is("valid")||(this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving=!0,this.blockClickAnchorInDragging(U),this.listenerMouseMove=this.renderer.listen(document,"mousemove",this.bindOnDragMove),this.listenerTouchMove=this.renderer.listen(document,"touchmove",this.bindOnDragMove),U.preventDefault(),this._enterDragging(),this._oneDragMove$.next(U)))}blockClickAnchorInDragging(U){let le=U.target;for(;le&&!(le instanceof HTMLAnchorElement);)le=le.parentElement;le instanceof HTMLAnchorElement&&(this.listenerATag=this.renderer.listen(le,"click",()=>!1))}_onDragMove(U){let le;const ve=this.carouselService.defineNewCoordsDrag(U,this._drag);!1!==ve&&(le=ve,U.preventDefault(),this._drag.stage.current=le,this._animate(le.x-this._drag.stage.start.x))}_animate(U){this.renderer.setStyle(this.el.nativeElement.children[0],"transform",`translate3d(${U}px,0px,0px`),this.renderer.setStyle(this.el.nativeElement.children[0],"transition","0s")}_onDragEnd(U){this.carouselService.owlDOMData.isGrab=!1,this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving&&(this.renderer.setStyle(this.el.nativeElement.children[0],"transform",""),this.renderer.setStyle(this.el.nativeElement.children[0],"transition",this.carouselService.speed(+this.carouselService.settings.dragEndSpeed||this.carouselService.settings.smartSpeed)/1e3+"s"),this._finishDragging(U),this.listenerMouseMove(),this.listenerTouchMove()),this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1},this.listenerMouseUp(),this.listenerTouchEnd()}_prepareDragging(U){return this.carouselService.prepareDragging(U)}_oneClickHandler=()=>{this.listenerOneClick=this.renderer.listen(this._drag.target,"click",()=>!1),this.listenerOneClick()};_finishDragging(U){this.carouselService.finishDragging(U,this._drag,this._oneClickHandler)}_pointer(U){return this.carouselService.pointer(U)}_difference(U,le){return this.carouselService.difference(U,le)}_is(U){return this.carouselService.is(U)}_enter(U){this.carouselService.enter(U)}_sendChanges(){this.carouselService.sendChanges()}onTransitionEnd(){this.carouselService.onTransitionEnd()}_enterDragging(){this.carouselService.enterDragging()}clear(U){this.animateService.clear(U)}static \u0275fac=function(le){return new(le||Le)(m.Y36(m.R0b),m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(zn),m.Y36($))};static \u0275cmp=m.Xpm({type:Le,selectors:[["owl-stage"]],hostBindings:function(le,ve){1&le&&m.NdJ("mousedown",function(We){return ve.onMouseDown(We)})("touchstart",function(We){return ve.onTouchStart(We)})("touchcancel",function(We){return ve.onTouchCancel(We)})("dragstart",function(){return ve.onDragStart()})("selectstart",function(){return ve.onSelectStart()})},inputs:{owlDraggable:"owlDraggable",stageData:"stageData",slidesData:"slidesData"},decls:3,vars:8,consts:[[1,"owl-stage",3,"ngStyle","transitionend"],[4,"ngFor","ngForOf"],[1,"owl-item",3,"ngClass","ngStyle","animationend"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(le,ve){1&le&&(m.TgZ(0,"div")(1,"div",0),m.NdJ("transitionend",function(){return ve.onTransitionEnd()}),m.YNc(2,cr,3,9,"ng-container",1),m.qZA()()),2&le&&(m.xp6(1),m.Q6J("ngStyle",m.qbA(2,Pe,ve.stageData.width+"px",ve.stageData.transform,ve.stageData.transition,ve.stageData.paddingL?ve.stageData.paddingL+"px":"",ve.stageData.paddingR?ve.stageData.paddingR+"px":"")),m.xp6(1),m.Q6J("ngForOf",ve.slidesData))},dependencies:[Q.mk,Q.sg,Q.O5,Q.tP,Q.PC],encapsulation:2,data:{animation:[(0,Wt.X$)("autoHeight",[(0,Wt.SB)("nulled",(0,Wt.oB)({height:0})),(0,Wt.SB)("full",(0,Wt.oB)({height:"*"})),(0,Wt.eR)("full => nulled",[(0,Wt.jt)("700ms 350ms")]),(0,Wt.eR)("nulled => full",[(0,Wt.jt)(350)])])]}})}return Le})(),hn=(()=>{class Le{el;resizeService;carouselService;navigationService;autoplayService;lazyLoadService;animateService;autoHeightService;hashService;logger;changeDetectorRef;slides;translated=new m.vpe;dragging=new m.vpe;change=new m.vpe;changed=new m.vpe;initialized=new m.vpe;carouselWindowWidth;resizeSubscription;_allObservSubscription;_slidesChangesSubscription;owlDOMData;stageData;slidesData=[];navData;dotsData;slidesOutputData;carouselLoaded=!1;options;prevOptions;_viewCurSettings$;_translatedCarousel$;_draggingCarousel$;_changeCarousel$;_changedCarousel$;_initializedCarousel$;_carouselMerge$;docRef;constructor(U,le,ve,Be,We,it,St,Fn,er,Cr,ws,Mi){this.el=U,this.resizeService=le,this.carouselService=ve,this.navigationService=Be,this.autoplayService=We,this.lazyLoadService=it,this.animateService=St,this.autoHeightService=Fn,this.hashService=er,this.logger=Cr,this.changeDetectorRef=ws,this.docRef=Mi}onVisibilityChange(U){if(this.carouselService.settings.autoplay)switch(this.docRef.visibilityState){case"visible":!this.autoplayService.isAutoplayStopped&&this.autoplayService.play();break;case"hidden":this.autoplayService.pause()}}ngOnInit(){this.spyDataStreams(),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}ngOnChanges(){this.prevOptions!==this.options&&(this.prevOptions&&this.slides?.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options),this.carouselService.initialize(this.slides.toArray())):this.prevOptions&&!this.slides?.toArray().length?(this.carouselLoaded=!1,this.logger.log("There are no slides to show. So the carousel won't be re-rendered")):this.carouselLoaded=!1,this.prevOptions=this.options)}ngAfterContentInit(){this.slides.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options),this.carouselService.initialize(this.slides.toArray()),this._winResizeWatcher()):this.logger.log("There are no slides to show. So the carousel won't be rendered"),this._slidesChangesSubscription=this.slides.changes.pipe((0,Te.b)(U=>{this.carouselService.setup(this.carouselWindowWidth,U.toArray(),this.options),this.carouselService.initialize(U.toArray()),U.toArray().length||(this.carouselLoaded=!1),U.toArray().length&&!this.resizeSubscription&&this._winResizeWatcher()})).subscribe(()=>{})}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe(),this._slidesChangesSubscription&&this._slidesChangesSubscription.unsubscribe(),this._allObservSubscription&&this._allObservSubscription.unsubscribe()}spyDataStreams(){this._viewCurSettings$=this.carouselService.getViewCurSettings().pipe((0,Te.b)(U=>{this.owlDOMData=U.owlDOMData,this.stageData=U.stageData,this.slidesData=U.slidesData,this.carouselLoaded||(this.carouselLoaded=!0),this.navData=U.navData,this.dotsData=U.dotsData,this.changeDetectorRef.markForCheck()})),this._initializedCarousel$=this.carouselService.getInitializedState().pipe((0,Te.b)(()=>{this.gatherTranslatedData(),this.initialized.emit(this.slidesOutputData)})),this._translatedCarousel$=this.carouselService.getTranslatedState().pipe((0,Te.b)(()=>{this.gatherTranslatedData(),this.translated.emit(this.slidesOutputData)})),this._changeCarousel$=this.carouselService.getChangeState().pipe((0,Te.b)(()=>{this.gatherTranslatedData(),this.change.emit(this.slidesOutputData)})),this._changedCarousel$=this.carouselService.getChangeState().pipe((0,ht.w)(U=>{const le=(0,se.of)(U).pipe((0,qe.h)(()=>"position"===U.property.name),(0,ht.w)(()=>(0,ft.D)(this.slidesData)),ge(U.property.value),(0,Se.q)(this.carouselService.settings.items),(0,Ve.U)(ve=>{const Be=this.carouselService.clonedIdPrefix,We=ve.id.indexOf(Be)>=0?ve.id.slice(Be.length):ve.id;return{...ve,id:We,isActive:!0}}),function vn(){return(0,gn.e)((Le,Tn)=>{(function yt(Le,Tn){return(0,gn.e)((0,pt.U)(Le,Tn,arguments.length>=2,!1,!0))})(sn,[])(Le).subscribe(Tn)})}(),(0,Ve.U)(ve=>({slides:ve,startPosition:this.carouselService.relative(U.property.value)})));return(0,he.T)(le)}),(0,Te.b)(U=>{this.gatherTranslatedData(),this.changed.emit(U.slides.length?U:this.slidesOutputData)})),this._draggingCarousel$=this.carouselService.getDragState().pipe((0,Te.b)(()=>{this.gatherTranslatedData(),this.dragging.emit({dragging:!0,data:this.slidesOutputData})}),(0,ht.w)(()=>this.carouselService.getDraggedState().pipe((0,Ve.U)(()=>!!this.carouselService.is("animating")))),(0,ht.w)(U=>U?this.carouselService.getTranslatedState().pipe((0,Ke.P)()):(0,se.of)("not animating")),(0,Te.b)(()=>{this.dragging.emit({dragging:!1,data:this.slidesOutputData})})),this._carouselMerge$=(0,he.T)(this._viewCurSettings$,this._translatedCarousel$,this._draggingCarousel$,this._changeCarousel$,this._changedCarousel$,this._initializedCarousel$),this._allObservSubscription=this._carouselMerge$.subscribe(()=>{})}_winResizeWatcher(){Object.keys(this.carouselService._options.responsive).length&&(this.resizeSubscription=this.resizeService.onResize$.pipe((0,qe.h)(()=>this.carouselWindowWidth!==this.el.nativeElement.querySelector(".owl-carousel").clientWidth),function Gt(Le,Tn=xn.z){const U=function Vt(Le=0,Tn,U=xn.P){let le=-1;return null!=Tn&&((0,et.K)(Tn)?U=Tn:le=Tn),new _e.y(ve=>{let Be=function It(Le){return Le instanceof Date&&!isNaN(Le)}(Le)?+Le-U.now():Le;Be<0&&(Be=0);let We=0;return U.schedule(function(){ve.closed||(ve.next(We++),0<=le?this.schedule(void 0,le):ve.complete())},Be)})}(Le,Tn);return je(()=>U)}(this.carouselService.settings.responsiveRefreshRate)).subscribe(()=>{this.carouselService.onResize(this.el.nativeElement.querySelector(".owl-carousel").clientWidth),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}))}onTransitionEnd(){this.carouselService.onTransitionEnd()}next(){this.carouselLoaded&&this.navigationService.next(this.carouselService.settings.navSpeed)}prev(){this.carouselLoaded&&this.navigationService.prev(this.carouselService.settings.navSpeed)}moveByDot(U){this.carouselLoaded&&this.navigationService.moveByDot(U)}to(U){this.carouselLoaded&&this.navigationService.toSlideById(U)}gatherTranslatedData(){let U;const le=this.carouselService.clonedIdPrefix,ve=this.slidesData.filter(Be=>!0===Be.isActive).map(Be=>({id:Be.id.indexOf(le)>=0?Be.id.slice(le.length):Be.id,width:Be.width,marginL:Be.marginL,marginR:Be.marginR,center:Be.isCentered}));U=this.carouselService.relative(this.carouselService.current()),this.slidesOutputData={startPosition:U,slides:ve}}startPausing(){this.autoplayService.startPausing()}startPlayML(){this.autoplayService.startPlayingMouseLeave()}startPlayTE(){this.autoplayService.startPlayingTouchEnd()}stopAutoplay(){this.autoplayService.isAutoplayStopped=!0,this.autoplayService.stop()}startAutoplay(){this.autoplayService.isAutoplayStopped=!1,this.autoplayService.play()}static \u0275fac=function(le){return new(le||Le)(m.Y36(m.SBq),m.Y36(Mt),m.Y36(zn),m.Y36(qn),m.Y36(Y),m.Y36(F),m.Y36($),m.Y36(q),m.Y36(G),m.Y36(dn),m.Y36(m.sBO),m.Y36(dt))};static \u0275cmp=m.Xpm({type:Le,selectors:[["owl-carousel-o"]],contentQueries:function(le,ve,Be){if(1&le&&m.Suo(Be,nt,4),2&le){let We;m.iGM(We=m.CRH())&&(ve.slides=We)}},hostBindings:function(le,ve){1&le&&m.NdJ("visibilitychange",function(We){return ve.onVisibilityChange(We)},!1,m.evT)},inputs:{options:"options"},outputs:{translated:"translated",dragging:"dragging",change:"change",changed:"changed",initialized:"initialized"},features:[m._Bn([qn,Y,zn,F,$,q,G]),m.TTD],decls:4,vars:9,consts:[[1,"owl-carousel","owl-theme",3,"ngClass","mouseover","mouseleave","touchstart","touchend"],["owlCarousel",""],["class","owl-stage-outer",4,"ngIf"],[4,"ngIf"],[1,"owl-stage-outer"],[3,"owlDraggable","stageData","slidesData"],[1,"owl-nav",3,"ngClass"],[1,"owl-prev",3,"ngClass","innerHTML","click"],[1,"owl-next",3,"ngClass","innerHTML","click"],[1,"owl-dots",3,"ngClass"],["class","owl-dot",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"owl-dot",3,"ngClass","click"],[3,"innerHTML"]],template:function(le,ve){1&le&&(m.TgZ(0,"div",0,1),m.NdJ("mouseover",function(){return ve.startPausing()})("mouseleave",function(){return ve.startPlayML()})("touchstart",function(){return ve.startPausing()})("touchend",function(){return ve.startPlayTE()}),m.YNc(2,rt,2,6,"div",2),m.YNc(3,pr,6,15,"ng-container",3),m.qZA()),2&le&&(m.Q6J("ngClass",m.qbA(3,mn,null==ve.owlDOMData?null:ve.owlDOMData.rtl,null==ve.owlDOMData?null:ve.owlDOMData.isLoaded,null==ve.owlDOMData?null:ve.owlDOMData.isResponsive,null==ve.owlDOMData?null:ve.owlDOMData.isMouseDragable,null==ve.owlDOMData?null:ve.owlDOMData.isGrab)),m.xp6(2),m.Q6J("ngIf",ve.carouselLoaded),m.xp6(1),m.Q6J("ngIf",ve.slides.toArray().length))},dependencies:[Q.mk,Q.sg,Q.O5,ln],styles:[".owl-theme[_ngcontent-%COMP%]{display:block}"],changeDetection:0})}return Le})(),as=(()=>{class Le{static \u0275fac=function(le){return new(le||Le)};static \u0275mod=m.oAB({type:Le});static \u0275inj=m.cJS({providers:[xr,Mt,Wn,dn],imports:[Q.ez]})}return Le})()},5861:($t,Ge,B)=>{"use strict";function m(d,he,se,de,_e,Ne,we){try{var te=d[Ne](we),oe=te.value}catch(Ae){return void se(Ae)}te.done?he(oe):Promise.resolve(oe).then(de,_e)}function Q(d){return function(){var he=this,se=arguments;return new Promise(function(de,_e){var Ne=d.apply(he,se);function we(oe){m(Ne,de,_e,we,te,"next",oe)}function te(oe){m(Ne,de,_e,we,te,"throw",oe)}we(void 0)})}}B.d(Ge,{Z:()=>Q})},7582:($t,Ge,B)=>{"use strict";function he($e,ze){var Je={};for(var je in $e)Object.prototype.hasOwnProperty.call($e,je)&&ze.indexOf(je)<0&&(Je[je]=$e[je]);if(null!=$e&&"function"==typeof Object.getOwnPropertySymbols){var et=0;for(je=Object.getOwnPropertySymbols($e);et<je.length;et++)ze.indexOf(je[et])<0&&Object.prototype.propertyIsEnumerable.call($e,je[et])&&(Je[je[et]]=$e[je[et]])}return Je}function Ae($e,ze,Je,je){return new(Je||(Je=Promise))(function(It,Vt){function Gt(jt){try{Wt(je.next(jt))}catch(_t){Vt(_t)}}function Xt(jt){try{Wt(je.throw(jt))}catch(_t){Vt(_t)}}function Wt(jt){jt.done?It(jt.value):function et(It){return It instanceof Je?It:new Je(function(Vt){Vt(It)})}(jt.value).then(Gt,Xt)}Wt((je=je.apply($e,ze||[])).next())})}function Te($e){return this instanceof Te?(this.v=$e,this):new Te($e)}function qe($e,ze,Je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et,je=Je.apply($e,ze||[]),It=[];return et={},Vt("next"),Vt("throw"),Vt("return"),et[Symbol.asyncIterator]=function(){return this},et;function Vt(wn){je[wn]&&(et[wn]=function(Kn){return new Promise(function(cr,Pe){It.push([wn,Kn,cr,Pe])>1||Gt(wn,Kn)})})}function Gt(wn,Kn){try{!function Xt(wn){wn.value instanceof Te?Promise.resolve(wn.value.v).then(Wt,jt):_t(It[0][2],wn)}(je[wn](Kn))}catch(cr){_t(It[0][3],cr)}}function Wt(wn){Gt("next",wn)}function jt(wn){Gt("throw",wn)}function _t(wn,Kn){wn(Kn),It.shift(),It.length&&Gt(It[0][0],It[0][1])}}function Ke($e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,ze=$e[Symbol.asyncIterator];return ze?ze.call($e):($e=function Dt($e){var ze="function"==typeof Symbol&&Symbol.iterator,Je=ze&&$e[ze],je=0;if(Je)return Je.call($e);if($e&&"number"==typeof $e.length)return{next:function(){return $e&&je>=$e.length&&($e=void 0),{value:$e&&$e[je++],done:!$e}}};throw new TypeError(ze?"Object is not iterable.":"Symbol.iterator is not defined.")}($e),Je={},je("next"),je("throw"),je("return"),Je[Symbol.asyncIterator]=function(){return this},Je);function je(It){Je[It]=$e[It]&&function(Vt){return new Promise(function(Gt,Xt){!function et(It,Vt,Gt,Xt){Promise.resolve(Xt).then(function(Wt){It({value:Wt,done:Gt})},Vt)}(Gt,Xt,(Vt=$e[It](Vt)).done,Vt.value)})}}}B.d(Ge,{FC:()=>qe,KL:()=>Ke,_T:()=>he,mG:()=>Ae,qq:()=>Te}),"function"==typeof SuppressedError&&SuppressedError}},$t=>{var Ge=m=>$t($t.s=m);Ge(2614),Ge(9608)}]);