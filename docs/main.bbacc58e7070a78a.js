"use strict";(self.webpackChunkThe_Natural_Way=self.webpackChunkThe_Natural_Way||[]).push([[179],{8726:(Gt,ze,Q)=>{Q.d(ze,{Ot:()=>we,ZF:()=>Lt,hX:()=>et,z6:()=>de});var w=Q(4097),ce=Q(9468),u=Q(6106);class we{constructor(ot){return ot}}class de{constructor(){return(0,w.C6)()}}const He=new ce.OlP("angularfire2._apps"),Ee={provide:we,useFactory:function Oe(mt){return mt&&1===mt.length?mt[0]:new we((0,w.Mq)())},deps:[[new ce.FiY,He]]},re={provide:de,deps:[[new ce.FiY,He]]};function le(mt){return(ot,vt)=>{const _t=ot.runOutsideAngular(()=>mt(vt));return new we(_t)}}let Se=(()=>{class mt{constructor(vt){(0,w.KN)("angularfire",u.q4.full,"core"),(0,w.KN)("angularfire",u.q4.full,"app"),(0,w.KN)("angular",ce.q4F.full,vt.toString())}}return mt.\u0275fac=function(vt){return new(vt||mt)(ce.LFG(ce.Lbi))},mt.\u0275mod=ce.oAB({type:mt}),mt.\u0275inj=ce.cJS({providers:[Ee,re]}),mt})();function et(mt,...ot){return{ngModule:Se,providers:[{provide:He,useFactory:le(mt),multi:!0,deps:[ce.R0b,ce.zs3,u.HU,...ot]}]}}const Lt=(0,u.u3)(w.ZF,!0)},3477:(Gt,ze,Q)=>{Q.d(ze,{gg:()=>TD,ET:()=>lA,Ab:()=>uA,vr:()=>dA,hJ:()=>hA,oe:()=>fA,JU:()=>pA,QT:()=>gA,PL:()=>mA,ad:()=>_A,b9:()=>yA,Xo:()=>vA,Cm:()=>cA,IO:()=>bA,pl:()=>wA,TQ:()=>IA,r7:()=>TA,ar:()=>EA});var w=Q(6106),ce=Q(9468),u=Q(8726),we=Q(4097),de=Q(5861),fe=Q(229),Oe=Q(7592),He=Q(7582),Ee=Q(7879),re=Q(6820);const Sn=function Lt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Mt=new fe.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ot=new Ee.Yd("@firebase/auth");function _t(n,...e){ot.logLevel<=Ee.in.ERROR&&ot.error(`Auth (${Oe.Jn}): ${n}`,...e)}function Ge(n,...e){throw xn(n,...e)}function ve(n,...e){return xn(n,...e)}function xn(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Mt.create(n,...e)}function dt(n,e,...t){if(!n)throw xn(e,...t)}function fn(n){const e="INTERNAL ASSERTION FAILED: "+n;throw _t(e),new Error(e)}function Tn(n,e){n||fn(e)}function pr(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Je{constructor(e,t){this.shortDelay=e,this.longDelay=t,Tn(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,fe.uI)()||(0,fe.b$)()}get(){return function ke(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function nr(){return"http:"===pr()||"https:"===pr()}()||(0,fe.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class nt{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void fn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void fn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void fn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Pt=new Je(3e4,6e4);function pn(n,e,t,i){return yn.apply(this,arguments)}function yn(){return(yn=(0,de.Z)(function*(n,e,t,i,c={}){return dn(n,c,(0,de.Z)(function*(){let p={},_={};i&&("GET"===e?_=i:p={body:JSON.stringify(i)});const E=(0,fe.xO)(Object.assign({key:n.config.apiKey},_)).slice(1),F=yield n._getAdditionalHeaders();return F["Content-Type"]="application/json",n.languageCode&&(F["X-Firebase-Locale"]=n.languageCode),nt.fetch()(Fr(n,n.config.apiHost,t,E),Object.assign({method:e,headers:F,referrerPolicy:"no-referrer"},p))}))})).apply(this,arguments)}function dn(n,e,t){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,de.Z)(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},bt),e);try{const c=new De(n),p=yield Promise.race([t(),c.promise]);c.clearNetworkTimeout();const _=yield p.json();if("needConfirmation"in _)throw xe(n,"account-exists-with-different-credential",_);if(p.ok&&!("errorMessage"in _))return _;{const E=p.ok?_.errorMessage:_.error.message,[F,H]=E.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===F)throw xe(n,"credential-already-in-use",_);if("EMAIL_EXISTS"===F)throw xe(n,"email-already-in-use",_);if("USER_DISABLED"===F)throw xe(n,"user-disabled",_);const te=i[F]||F.toLowerCase().replace(/[_\s]+/g,"-");if(H)throw function Qe(n,e,t){const i=Object.assign(Object.assign({},Sn()),{[e]:t});return new fe.LL("auth","Firebase",i).create(e,{appName:n.name})}(n,te,H);Ge(n,te)}}catch(c){if(c instanceof fe.ZR)throw c;Ge(n,"network-request-failed",{message:String(c)})}})).apply(this,arguments)}function Fr(n,e,t,i){const c=`${e}${t}?${i}`;return n.config.emulator?function Ve(n,e){Tn(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,c):`${n.config.apiScheme}://${c}`}class De{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ve(this.auth,"network-request-failed")),Pt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xe(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const c=ve(n,e,i);return c.customData._tokenResponse=t,c}function at(){return(at=(0,de.Z)(function*(n,e){return pn(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function En(){return(En=(0,de.Z)(function*(n,e){return pn(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function an(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Jn(){return(Jn=(0,de.Z)(function*(n,e=!1){const t=(0,fe.m9)(n),i=yield t.getIdToken(e),c=Cr(i);dt(c&&c.exp&&c.auth_time&&c.iat,t.auth,"internal-error");const p="object"==typeof c.firebase?c.firebase:void 0,_=p?.sign_in_provider;return{claims:c,token:i,authTime:an(tn(c.auth_time)),issuedAtTime:an(tn(c.iat)),expirationTime:an(tn(c.exp)),signInProvider:_||null,signInSecondFactor:p?.sign_in_second_factor||null}})).apply(this,arguments)}function tn(n){return 1e3*Number(n)}function Cr(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return _t("JWT malformed, contained fewer than 3 sections"),null;try{const c=(0,fe.tV)(t);return c?JSON.parse(c):(_t("Failed to decode base64 JWT payload"),null)}catch(c){return _t("Caught error parsing JWT payload as JSON",c?.toString()),null}}function mn(n,e){return rr.apply(this,arguments)}function rr(){return(rr=(0,de.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof fe.ZR&&function Kn({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class ir{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const c=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,c)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout((0,de.Z)(function*(){yield t.iteration()}),i)}iteration(){var e=this;return(0,de.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class jn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=an(this.lastLoginAt),this.creationTime=an(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function mi(n){return An.apply(this,arguments)}function An(){return An=(0,de.Z)(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),c=yield mn(n,function _r(n,e){return En.apply(this,arguments)}(t,{idToken:i}));dt(c?.users.length,t,"internal-error");const p=c.users[0];n._notifyReloadListener(p);const _=null!==(e=p.providerUserInfo)&&void 0!==e&&e.length?function tt(n){return n.map(e=>{var{providerId:t}=e,i=(0,He._T)(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(p.providerUserInfo):[],E=function _i(n,e){return[...n.filter(i=>!e.some(c=>c.providerId===i.providerId)),...e]}(n.providerData,_),te=!!n.isAnonymous&&!(n.email&&p.passwordHash||E?.length),pe={uid:p.localId,displayName:p.displayName||null,photoURL:p.photoUrl||null,email:p.email||null,emailVerified:p.emailVerified||!1,phoneNumber:p.phoneNumber||null,tenantId:p.tenantId||null,providerData:E,metadata:new jn(p.createdAt,p.lastLoginAt),isAnonymous:te};Object.assign(n,pe)}),An.apply(this,arguments)}function Mr(){return(Mr=(0,de.Z)(function*(n){const e=(0,fe.m9)(n);yield mi(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Ze(){return(Ze=(0,de.Z)(function*(n,e){const t=yield dn(n,{},(0,de.Z)(function*(){const i=(0,fe.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:c,apiKey:p}=n.config,_=Fr(n,c,"/v1/token",`key=${p}`),E=yield n._getAdditionalHeaders();return E["Content-Type"]="application/x-www-form-urlencoded",nt.fetch()(_,{method:"POST",headers:E,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class It{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){dt(e.idToken,"internal-error"),dt(typeof e.idToken<"u","internal-error"),dt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function yr(n){const e=Cr(n);return dt(e,"internal-error"),dt(typeof e.exp<"u","internal-error"),dt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return(0,de.Z)(function*(){return dt(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return(0,de.Z)(function*(){const{accessToken:c,refreshToken:p,expiresIn:_}=yield function Ce(n,e){return Ze.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(c,p,Number(_))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:c,expirationTime:p}=t,_=new It;return i&&(dt("string"==typeof i,"internal-error",{appName:e}),_.refreshToken=i),c&&(dt("string"==typeof c,"internal-error",{appName:e}),_.accessToken=c),p&&(dt("number"==typeof p,"internal-error",{appName:e}),_.expirationTime=p),_}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new It,this.toJSON())}_performRefresh(){return fn("not implemented")}}function Wt(n,e){dt("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class qt{constructor(e){var{uid:t,auth:i,stsTokenManager:c}=e,p=(0,He._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ir(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=c,this.accessToken=c.accessToken,this.displayName=p.displayName||null,this.email=p.email||null,this.emailVerified=p.emailVerified||!1,this.phoneNumber=p.phoneNumber||null,this.photoURL=p.photoURL||null,this.isAnonymous=p.isAnonymous||!1,this.tenantId=p.tenantId||null,this.providerData=p.providerData?[...p.providerData]:[],this.metadata=new jn(p.createdAt||void 0,p.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,de.Z)(function*(){const i=yield mn(t,t.stsTokenManager.getToken(t.auth,e));return dt(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function wn(n){return Jn.apply(this,arguments)}(this,e)}reload(){return function Xn(n){return Mr.apply(this,arguments)}(this)}_assign(e){this!==e&&(dt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new qt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return(0,de.Z)(function*(){let c=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),c=!0),t&&(yield mi(i)),yield i.auth._persistUserIfCurrent(i),c&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return(0,de.Z)(function*(){const t=yield e.getIdToken();return yield mn(e,function Re(n,e){return at.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,c,p,_,E,F,H,te;const pe=null!==(i=t.displayName)&&void 0!==i?i:void 0,Be=null!==(c=t.email)&&void 0!==c?c:void 0,ct=null!==(p=t.phoneNumber)&&void 0!==p?p:void 0,kt=null!==(_=t.photoURL)&&void 0!==_?_:void 0,sn=null!==(E=t.tenantId)&&void 0!==E?E:void 0,ln=null!==(F=t._redirectEventId)&&void 0!==F?F:void 0,Dr=null!==(H=t.createdAt)&&void 0!==H?H:void 0,ii=null!==(te=t.lastLoginAt)&&void 0!==te?te:void 0,{uid:kr,emailVerified:qo,isAnonymous:So,providerData:Xi,stsTokenManager:Gc}=t;dt(kr&&Gc,e,"internal-error");const ug=It.fromJSON(this.name,Gc);dt("string"==typeof kr,e,"internal-error"),Wt(pe,e.name),Wt(Be,e.name),dt("boolean"==typeof qo,e,"internal-error"),dt("boolean"==typeof So,e,"internal-error"),Wt(ct,e.name),Wt(kt,e.name),Wt(sn,e.name),Wt(ln,e.name),Wt(Dr,e.name),Wt(ii,e.name);const sb=new qt({uid:kr,auth:e,email:Be,emailVerified:qo,displayName:pe,isAnonymous:So,photoURL:kt,phoneNumber:ct,tenantId:sn,stsTokenManager:ug,createdAt:Dr,lastLoginAt:ii});return Xi&&Array.isArray(Xi)&&(sb.providerData=Xi.map(DA=>Object.assign({},DA))),ln&&(sb._redirectEventId=ln),sb}static _fromIdTokenResponse(e,t,i=!1){return(0,de.Z)(function*(){const c=new It;c.updateFromServerResponse(t);const p=new qt({uid:t.localId,auth:e,stsTokenManager:c,isAnonymous:i});return yield mi(p),p})()}}const Vn=new Map;function K(n){Tn(n instanceof Function,"Expected a class definition");let e=Vn.get(n);return e?(Tn(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Vn.set(n,e),e)}const G=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,de.Z)(function*(){return!0})()}_set(t,i){var c=this;return(0,de.Z)(function*(){c.storage[t]=i})()}_get(t){var i=this;return(0,de.Z)(function*(){const c=i.storage[t];return void 0===c?null:c})()}_remove(t){var i=this;return(0,de.Z)(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function W(n,e,t){return`firebase:${n}:${e}:${t}`}class ${constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:c,name:p}=this.auth;this.fullUserKey=W(this.userKey,c.apiKey,p),this.fullPersistenceKey=W("persistence",c.apiKey,p),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,de.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?qt._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,de.Z)(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return(0,de.Z)(function*(){if(!t.length)return new $(K(G),e,i);const c=(yield Promise.all(t.map(function(){var H=(0,de.Z)(function*(te){if(yield te._isAvailable())return te});return function(te){return H.apply(this,arguments)}}()))).filter(H=>H);let p=c[0]||K(G);const _=W(i,e.config.apiKey,e.name);let E=null;for(const H of t)try{const te=yield H._get(_);if(te){const pe=qt._fromJSON(e,te);H!==p&&(E=pe),p=H;break}}catch{}const F=c.filter(H=>H._shouldAllowMigration);return p._shouldAllowMigration&&F.length?(p=F[0],E&&(yield p._set(_,E.toJSON())),yield Promise.all(t.map(function(){var H=(0,de.Z)(function*(te){if(te!==p)try{yield te._remove(_)}catch{}});return function(te){return H.apply(this,arguments)}}())),new $(p,e,i)):new $(p,e,i)})()}}function be(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function Xt(n=(0,fe.z$)()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function We(n=(0,fe.z$)()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function $t(n=(0,fe.z$)()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function Pn(n=(0,fe.z$)()){return/webos/i.test(n)}(e))return"Webos";if(function Tt(n=(0,fe.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function on(n=(0,fe.z$)()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function Dn(n=(0,fe.z$)()){return/android/i.test(n)}(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function Ra(n,e=[]){let t;switch(n){case"Browser":t=be((0,fe.z$)());break;case"Worker":t=`${be((0,fe.z$)())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Oe.Jn}/${i}`}function oa(n,e){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,de.Z)(function*(n,e){return pn(n,"GET","/v2/recaptchaConfig",function Ht(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}(n,e))})).apply(this,arguments)}function er(n){return void 0!==n&&void 0!==n.enterprise}class $s{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}class Ws{constructor(e){this.type="recaptcha-enterprise",this.auth=Ti(e)}verify(e="verify",t=!1){var i=this;return(0,de.Z)(function*(){function p(){return p=(0,de.Z)(function*(E){if(!t){if(null==E.tenantId&&null!=E._agentRecaptchaConfig)return E._agentRecaptchaConfig.siteKey;if(null!=E.tenantId&&void 0!==E._tenantRecaptchaConfigs[E.tenantId])return E._tenantRecaptchaConfigs[E.tenantId].siteKey}return new Promise(function(){var F=(0,de.Z)(function*(H,te){oa(E,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(pe=>{if(void 0!==pe.recaptchaKey){const Be=new $s(pe);return null==E.tenantId?E._agentRecaptchaConfig=Be:E._tenantRecaptchaConfigs[E.tenantId]=Be,H(Be.siteKey)}te(new Error("recaptcha Enterprise site key undefined"))}).catch(pe=>{te(pe)})});return function(H,te){return F.apply(this,arguments)}}())}),p.apply(this,arguments)}function _(E,F,H){const te=window.grecaptcha;er(te)?te.enterprise.ready(()=>{te.enterprise.execute(E,{action:e}).then(pe=>{F(pe)}).catch(()=>{F("NO_RECAPTCHA")})}):H(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((E,F)=>{(function c(E){return p.apply(this,arguments)})(i.auth).then(H=>{if(!t&&er(window.grecaptcha))_(H,E,F);else{if(typeof window>"u")return void F(new Error("RecaptchaVerifier is only supported in browser"));(function Ao(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=c=>{const p=ve("internal-error");p.customData=c,t(p)},i.type="text/javascript",i.charset="UTF-8",function co(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})})("https://www.google.com/recaptcha/enterprise.js?render="+H).then(()=>{_(H,E,F)}).catch(te=>{F(te)})}}).catch(H=>{F(H)})})})()}}class cs{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=p=>new Promise((_,E)=>{try{_(e(p))}catch(F){E(F)}});i.onAbort=t,this.queue.push(i);const c=this.queue.length-1;return()=>{this.queue[c]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,de.Z)(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const c of t.queue)yield c(e),c.onAbort&&i.push(c.onAbort)}catch(c){i.reverse();for(const p of i)try{p()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:c?.message})}})()}}class Pa{constructor(e,t,i,c){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=c,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tc(this),this.idTokenSubscription=new tc(this),this.beforeStateQueue=new cs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=c.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=K(t)),this._initializationPromise=this.queue((0,de.Z)(function*(){var c,p;if(!i._deleted&&(i.persistenceManager=yield $.create(i,e),!i._deleted)){if(null!==(c=i._popupRedirectResolver)&&void 0!==c&&c._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(p=i.currentUser)||void 0===p?void 0:p.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,de.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,de.Z)(function*(){var i;const c=yield t.assertedPersistence.getCurrentUser();let p=c,_=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const E=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,F=p?._redirectEventId,H=yield t.tryRedirectSignIn(e);(!E||E===F)&&H?.user&&(p=H.user,_=!0)}if(!p)return t.directlySetCurrentUser(null);if(!p._redirectEventId){if(_)try{yield t.beforeStateQueue.runMiddleware(p)}catch(E){p=c,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(E))}return p?t.reloadAndSetCurrentUserOrClear(p):t.directlySetCurrentUser(null)}return dt(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===p._redirectEventId?t.directlySetCurrentUser(p):t.reloadAndSetCurrentUserOrClear(p)})()}tryRedirectSignIn(e){var t=this;return(0,de.Z)(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,de.Z)(function*(){try{yield mi(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function je(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,de.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,de.Z)(function*(){const i=e?(0,fe.m9)(e):null;return i&&dt(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return(0,de.Z)(function*(){if(!i._deleted)return e&&dt(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue((0,de.Z)(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,de.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,de.Z)(function*(){yield t.assertedPersistence.setPersistence(K(e))}))}initializeRecaptchaConfig(){var e=this;return(0,de.Z)(function*(){const t=yield oa(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new $s(t);null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.emailPasswordEnabled&&new Ws(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fe.LL("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return(0,de.Z)(function*(){const c=yield i.getOrInitRedirectPersistenceManager(t);return null===e?c.removeCurrentUser():c.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,de.Z)(function*(){if(!t.redirectPersistenceManager){const i=e&&K(e)||t._popupRedirectResolver;dt(i,t,"argument-error"),t.redirectPersistenceManager=yield $.create(t,[K(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,de.Z)(function*(){var i,c;return t._isInitialized&&(yield t.queue((0,de.Z)(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(c=t.redirectUser)||void 0===c?void 0:c._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,de.Z)(function*(){if(e===t.currentUser)return t.queue((0,de.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,c){if(this._deleted)return()=>{};const p="function"==typeof t?t:t.next.bind(t),_=this._isInitialized?Promise.resolve():this._initializationPromise;return dt(_,this,"internal-error"),_.then(()=>p(this.currentUser)),"function"==typeof t?e.addObserver(t,i,c):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,de.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ra(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,de.Z)(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const c=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();c&&(i["X-Firebase-Client"]=c);const p=yield e._getAppCheckToken();return p&&(i["X-Firebase-AppCheck"]=p),i})()}_getAppCheckToken(){var e=this;return(0,de.Z)(function*(){var t;const i=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return i?.error&&function vt(n,...e){ot.logLevel<=Ee.in.WARN&&ot.warn(`Auth (${Oe.Jn}): ${n}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function Ti(n){return(0,fe.m9)(n)}class tc{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,fe.ne)(t=>this.observer=t)}get next(){return dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function aa(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new Je(3e4,6e4),new Je(2e3,1e4),new Je(3e4,6e4),new Je(5e3,15e3),encodeURIComponent("fac");var f_="@firebase/auth";class gv{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,de.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,fe.Pz)("authIdTokenMaxAge"),function ps(n){(0,Oe.Xd)(new re.wA("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),c=e.getProvider("heartbeat"),p=e.getProvider("app-check-internal"),{apiKey:_,authDomain:E}=i.options;dt(_&&!_.includes(":"),"invalid-api-key",{appName:i.name});const F={apiKey:_,authDomain:E,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ra(n)},H=new Pa(i,c,p,F);return function ka(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(K);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}(H,t),H},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),(0,Oe.Xd)(new re.wA("auth-internal",e=>{const t=Ti(e.getProvider("auth").getImmediate());return new gv(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Oe.KN)(f_,"0.23.2",function p_(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,Oe.KN)(f_,"0.23.2","esm2017")}("Browser");class rd{constructor(){return(0,w.vb)("auth")}}const I_=new Map,T_={activated:!1,tokenObservers:[]},lb={initialized:!1,enabled:!1};function ms(n){return I_.get(n)||Object.assign({},T_)}function Ph(){return lb}const zd="https://content-firebaseappcheck.googleapis.com/v1",Dl="exchangeDebugToken",D_={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Tg{constructor(e,t,i,c,p){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=c,this.upperBound=p,this.pending=null,this.nextErrorWaitInterval=c,c>p)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,de.Z)(function*(){t.stop();try{t.pending=new fe.BH,yield function Cv(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new fe.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Vo=new fe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Eg(n){if(!ms(n).activated)throw Vo.create("use-before-activation",{appName:n.name})}function sd(n,e){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,de.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const pe=yield c.getHeartbeatsHeader();pe&&(i["X-Firebase-Client"]=pe)}const p={method:"POST",body:JSON.stringify(e),headers:i};let _,E;try{_=yield fetch(n,p)}catch(pe){throw Vo.create("fetch-network-error",{originalErrorMessage:pe?.message})}if(200!==_.status)throw Vo.create("fetch-status-error",{httpStatus:_.status});try{E=yield _.json()}catch(pe){throw Vo.create("fetch-parse-error",{originalErrorMessage:pe?.message})}const F=E.ttl.match(/^([\d.]+)(s)$/);if(!F||!F[2]||isNaN(Number(F[1])))throw Vo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${E.ttl}`});const H=1e3*Number(F[1]),te=Date.now();return{token:E.token,expireTimeMillis:te+H,issuedAtTimeMillis:te}})).apply(this,arguments)}function Cg(n,e){const{projectId:t,appId:i,apiKey:c}=n.options;return{url:`${zd}/projects/${t}/apps/${i}:${Dl}?key=${c}`,body:{debug_token:e}}}const Sg="firebase-app-check-database",C_=1,Fh="firebase-app-check-store";let Zl=null;function N_(){return(N_=(0,de.Z)(function*(n,e){const i=(yield function Lh(){return Zl||(Zl=new Promise((n,e)=>{try{const t=indexedDB.open(Sg,C_);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var c;e(Vo.create("storage-open",{originalErrorMessage:null===(c=i.target.error)||void 0===c?void 0:c.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Fh,{keyPath:"compositeKey"})}}catch(t){e(Vo.create("storage-open",{originalErrorMessage:t?.message}))}}),Zl)}()).transaction(Fh,"readwrite"),p=i.objectStore(Fh).put({compositeKey:n,value:e});return new Promise((_,E)=>{p.onsuccess=F=>{_()},i.onerror=F=>{var H;E(Vo.create("storage-set",{originalErrorMessage:null===(H=F.target.error)||void 0===H?void 0:H.message}))}})})).apply(this,arguments)}const Bh=new Ee.Yd("@firebase/app-check");function Vh(n,e){return(0,fe.hl)()?function Ag(n,e){return function Av(n,e){return N_.apply(this,arguments)}(function Ov(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Bh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Uh(){return Ph().enabled}function ep(){return Su.apply(this,arguments)}function Su(){return(Su=(0,de.Z)(function*(){const n=Ph();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const xv={error:"UNKNOWN_ERROR"};function hb(n){return fe.US.encodeString(JSON.stringify(n),!1)}function Rv(n){return tp.apply(this,arguments)}function tp(){return(tp=(0,de.Z)(function*(n,e=!1){const t=n.app;Eg(t);const i=ms(t);let p,c=i.token;if(c&&!Au(c)&&(i.token=void 0,c=void 0),!c){const F=yield i.cachedTokenPromise;F&&(Au(F)?c=F:yield Vh(t,void 0))}if(!e&&c&&Au(c))return{token:c.token};let E,_=!1;if(Uh()){i.exchangeTokenPromise||(i.exchangeTokenPromise=sd(Cg(t,yield ep()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),_=!0);const F=yield i.exchangeTokenPromise;return yield Vh(t,F),i.token=F,{token:F.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),_=!0),c=yield ms(t).exchangeTokenPromise}catch(F){"appCheck/throttled"===F.code?Bh.warn(F.message):Bh.error(F),p=F}return c?p?E=Au(c)?{token:c.token,internalError:p}:Pv(p):(E={token:c.token},i.token=c,yield Vh(t,c)):E=Pv(p),_&&function xg(n,e){const t=ms(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,E),E})).apply(this,arguments)}function fb(n){return x_.apply(this,arguments)}function x_(){return(x_=(0,de.Z)(function*(n){const e=n.app;Eg(e);const{provider:t}=ms(e);if(Uh()){const i=yield ep(),{token:c}=yield sd(Cg(e,i),n.heartbeatServiceProvider);return{token:c}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function P_(n,e){const t=ms(n),i=t.tokenObservers.filter(c=>c.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function k_(n){const{app:e}=n,t=ms(e);let i=t.tokenRefresher;i||(i=function pb(n){const{app:e}=n;return new Tg((0,de.Z)(function*(){let i;if(i=ms(e).token?yield Rv(n,!0):yield Rv(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=ms(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},D_.RETRIAL_MIN_WAIT,D_.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Au(n){return n.expireTimeMillis-Date.now()>0}function Pv(n){return{token:hb(xv),error:n}}class kv{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ms(this.app);for(const t of e)P_(this.app,t.next);return Promise.resolve()}}const Gh="app-check-internal";!function Fg(){(0,Oe.Xd)(new re.wA("app-check",n=>function F_(n,e){return new kv(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Gh).initialize()})),(0,Oe.Xd)(new re.wA(Gh,n=>function Fv(n){return{getToken:e=>Rv(n,e),getLimitedUseToken:()=>fb(n),addTokenListener:e=>function R_(n,e,t,i){const{app:c}=n,p=ms(c);if(p.tokenObservers=[...p.tokenObservers,{next:t,error:i,type:e}],p.token&&Au(p.token)){const E=p.token;Promise.resolve().then(()=>{t({token:E.token}),k_(n)}).catch(()=>{})}p.cachedTokenPromise.then(()=>k_(n))}(n,"INTERNAL",e),removeTokenListener:e=>P_(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Oe.KN)("@firebase/app-check","0.8.0")}();class Da{constructor(){return(0,w.vb)("app-check")}}typeof window<"u"&&window;var nn,vb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Sl={},jv=jv||{},hr=vb||self;function Lg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ad(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var $v="closure_uid_"+(1e9*Math.random()>>>0),H_=0;function bb(n,e,t){return n.call.apply(n.bind,arguments)}function zv(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,i),n.apply(e,c)}}return function(){return n.apply(e,arguments)}}function Ts(n,e,t){return(Ts=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bb:zv).apply(null,arguments)}function G_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Uo(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,c,p){for(var _=Array(arguments.length-2),E=2;E<arguments.length;E++)_[E-2]=arguments[E];return e.prototype[c].apply(i,_)}}function Kl(){this.s=this.s,this.o=this.o}Kl.prototype.s=!1,Kl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function zh(n){Object.prototype.hasOwnProperty.call(n,$v)&&n[$v]||(n[$v]=++H_)}(this)},Kl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const j_=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function sp(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Vg(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Lg(i)){const c=n.length||0,p=i.length||0;n.length=c+p;for(let _=0;_<p;_++)n[c+_]=i[_]}else n.push(i)}}function Es(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Es.prototype.h=function(){this.defaultPrevented=!0};var wb=function(){if(!hr.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{hr.addEventListener("test",()=>{},e),hr.removeEventListener("test",()=>{},e)}catch{}return n}();function op(n){return/^[\s\xa0]*$/.test(n)}function Wh(){var n=hr.navigator;return n&&(n=n.userAgent)?n:""}function rl(n){return-1!=Wh().indexOf(n)}function Ug(n){return Ug[" "](n),n}Ug[" "]=function(){};var Gg,n,Wv=rl("Opera"),qh=rl("Trident")||rl("MSIE"),Hg=rl("Edge"),qv=Hg||qh,ap=rl("Gecko")&&!(-1!=Wh().toLowerCase().indexOf("webkit")&&!rl("Edge"))&&!(rl("Trident")||rl("MSIE"))&&!rl("Edge"),Yl=-1!=Wh().toLowerCase().indexOf("webkit")&&!rl("Edge");function Nu(){var n=hr.document;return n?n.documentMode:void 0}e:{var jg="",cp=(n=Wh(),ap?/rv:([^\);]+)(\)|;)/.exec(n):Hg?/Edge\/([\d\.]+)/.exec(n):qh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Yl?/WebKit\/(\S+)/.exec(n):Wv?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(cp&&(jg=cp?cp[1]:""),qh){var $g=Nu();if(null!=$g&&$g>parseFloat(jg)){Gg=String($g);break e}}Gg=jg}var Tb=hr.document&&qh&&(Nu()||parseInt(Gg,10))||void 0;function Ou(n,e){if(Es.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(ap){e:{try{Ug(e.nodeName);var c=!0;break e}catch{}c=!1}c||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:tT[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ou.$.h.call(this)}}Uo(Ou,Es);var tT={2:"touch",3:"pen",4:"mouse"};Ou.prototype.h=function(){Ou.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var cd="closure_listenable_"+(1e6*Math.random()|0),Kv=0;function zg(n,e,t,i,c){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=c,this.key=++Kv,this.fa=this.ia=!1}function Zh(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function up(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function $_(n){const e={};for(const t in n)e[t]=n[t];return e}const z_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Wg(n,e){let t,i;for(let c=1;c<arguments.length;c++){for(t in i=arguments[c],i)n[t]=i[t];for(let p=0;p<z_.length;p++)t=z_[p],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function dp(n){this.src=n,this.g={},this.h=0}function hp(n,e){var t=e.type;if(t in n.g){var p,i=n.g[t],c=j_(i,e);(p=0<=c)&&Array.prototype.splice.call(i,c,1),p&&(Zh(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Kh(n,e,t,i){for(var c=0;c<n.length;++c){var p=n[c];if(!p.fa&&p.listener==e&&p.capture==!!t&&p.la==i)return c}return-1}dp.prototype.add=function(n,e,t,i,c){var p=n.toString();(n=this.g[p])||(n=this.g[p]=[],this.h++);var _=Kh(n,e,i,c);return-1<_?(e=n[_],t||(e.ia=!1)):((e=new zg(e,this.src,p,!!i,c)).ia=t,n.push(e)),e};var Al="closure_lm_"+(1e6*Math.random()|0),Kd={};function W_(n,e,t,i,c){if(i&&i.once)return qg(n,e,t,i,c);if(Array.isArray(e)){for(var p=0;p<e.length;p++)W_(n,e[p],t,i,c);return null}return t=Z_(t),n&&n[cd]?n.O(e,t,ad(i)?!!i.capture:!!i,c):Eb(n,e,t,!1,i,c)}function Eb(n,e,t,i,c,p){if(!e)throw Error("Invalid event type");var _=ad(c)?!!c.capture:!!c,E=Zg(n);if(E||(n[Al]=E=new dp(n)),(t=E.add(e,t,i,_,p)).proxy)return t;if(i=function nT(){const e=rT;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)wb||(c=_),void 0===c&&(c=!1),n.addEventListener(e.toString(),i,c);else if(n.attachEvent)n.attachEvent(q_(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function qg(n,e,t,i,c){if(Array.isArray(e)){for(var p=0;p<e.length;p++)qg(n,e[p],t,i,c);return null}return t=Z_(t),n&&n[cd]?n.P(e,t,ad(i)?!!i.capture:!!i,c):Eb(n,e,t,!0,i,c)}function Yh(n,e,t,i,c){if(Array.isArray(e))for(var p=0;p<e.length;p++)Yh(n,e[p],t,i,c);else i=ad(i)?!!i.capture:!!i,t=Z_(t),n&&n[cd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Kh(p=n.g[e],t,i,c))&&(Zh(p[t]),Array.prototype.splice.call(p,t,1),0==p.length&&(delete n.g[e],n.h--))):n&&(n=Zg(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Kh(e,t,i,c)),(t=-1<n?e[n]:null)&&Yv(t))}function Yv(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[cd])hp(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(q_(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Zg(e))?(hp(t,n),0==t.h&&(t.src=null,e[Al]=null)):Zh(n)}}}function q_(n){return n in Kd?Kd[n]:Kd[n]="on"+n}function rT(n,e){if(n.fa)n=!0;else{e=new Ou(e,this);var t=n.listener,i=n.la||n.src;n.ia&&Yv(n),n=t.call(i,e)}return n}function Zg(n){return(n=n[Al])instanceof dp?n:null}var fp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Z_(n){return"function"==typeof n?n:(n[fp]||(n[fp]=function(e){return n.handleEvent(e)}),n[fp])}function To(){Kl.call(this),this.i=new dp(this),this.S=this,this.J=null}function Ho(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Es(e,n);else if(e instanceof Es)e.target=e.target||n;else{var c=e;Wg(e=new Es(i,n),c)}if(c=!0,t)for(var p=t.length-1;0<=p;p--){var _=e.g=t[p];c=Qv(_,i,!0,e)&&c}if(c=Qv(_=e.g=n,i,!0,e)&&c,c=Qv(_,i,!1,e)&&c,t)for(p=0;p<t.length;p++)c=Qv(_=e.g=t[p],i,!1,e)&&c}function Qv(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,p=0;p<e.length;++p){var _=e[p];if(_&&!_.fa&&_.capture==t){var E=_.listener,F=_.la||_.src;_.ia&&hp(n.i,_),c=!1!==E.call(F,i)&&c}}return c&&!i.defaultPrevented}Uo(To,Kl),To.prototype[cd]=!0,To.prototype.removeEventListener=function(n,e,t,i){Yh(this,n,e,t,i)},To.prototype.N=function(){if(To.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Zh(t[i]);delete n.g[e],n.h--}}this.J=null},To.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},To.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Jv=hr.JSON.stringify;function sT(){var n=Kg;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var oT=new class iT{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new K_,n=>n.reset());class K_{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Xv(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function e0(n){hr.setTimeout(()=>{throw n},0)}let Qh,Mu=!1,Kg=new class ND{constructor(){this.h=this.g=null}add(e,t){const i=oT.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},Yg=()=>{const n=hr.Promise.resolve(void 0);Qh=()=>{n.then(Qg)}};var Qg=()=>{for(var n;n=sT();){try{n.h.call(n.g)}catch(t){e0(t)}var e=oT;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Mu=!1};function Jh(n,e){To.call(this),this.h=n||1,this.g=e||hr,this.j=Ts(this.qb,this),this.l=Date.now()}function ud(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Jg(n,e,t){if("function"==typeof n)t&&(n=Ts(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ts(n.handleEvent,n)}return 2147483647<Number(e)?-1:hr.setTimeout(n,e||0)}function Y_(n){n.g=Jg(()=>{n.g=null,n.i&&(n.i=!1,Y_(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Uo(Jh,To),(nn=Jh.prototype).ga=!1,nn.T=null,nn.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ho(this,"tick"),this.ga&&(ud(this),this.start()))}},nn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nn.N=function(){Jh.$.N.call(this),ud(this),delete this.g};class pp extends Kl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Y_(this)}N(){super.N(),this.g&&(hr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Q_(n){Kl.call(this),this.h=n,this.g={}}Uo(Q_,Kl);var J_=[];function gp(n,e,t,i){Array.isArray(t)||(t&&(J_[0]=t.toString()),t=J_);for(var c=0;c<t.length;c++){var p=W_(e,t[c],i||n.handleEvent,!1,n.h||n);if(!p)break;n.g[p.key]=p}}function Db(n){up(n.g,function(e,t){this.g.hasOwnProperty(t)&&Yv(e)},n),n.g={}}function Xg(){this.g=!0}function Yd(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function cT(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var c=i[1];if(Array.isArray(c)&&!(1>c.length)){var p=c[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var _=1;_<c.length;_++)c[_]=""}}}return Jv(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Q_.prototype.N=function(){Q_.$.N.call(this),Db(this)},Q_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xg.prototype.Ea=function(){this.g=!1},Xg.prototype.info=function(){};var dd={},lT=null;function X_(){return lT=lT||new To}function em(n){Es.call(this,dd.Ta,n)}function Xh(n){const e=X_();Ho(e,new em(e))}function n0(n,e){Es.call(this,dd.STAT_EVENT,n),this.stat=e}function Wa(n){const e=X_();Ho(e,new n0(e,n))}function ey(n,e){Es.call(this,dd.Ua,n),this.size=e}function Qd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return hr.setTimeout(function(){n()},e)}dd.Ta="serverreachability",Uo(em,Es),dd.STAT_EVENT="statevent",Uo(n0,Es),dd.Ua="timingevent",Uo(ey,Es);var ty={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},tm={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function r0(){}function Sb(){}r0.prototype.h=null;var Jd,nm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function mp(){Es.call(this,"d")}function o0(){Es.call(this,"c")}function Xd(){}function ef(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Q_(this),this.P=Ab,this.V=new Jh(n=qv?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ny}function ny(){this.i=null,this.g="",this.h=!1}Uo(mp,Es),Uo(o0,Es),Uo(Xd,r0),Xd.prototype.g=function(){return new XMLHttpRequest},Xd.prototype.i=function(){return{}},Jd=new Xd;var Ab=45e3,ry={},iy={};function _p(n,e,t){n.L=1,n.v=am(Ql(e)),n.s=t,n.S=!0,sy(n,null)}function sy(n,e){n.G=Date.now(),tf(n),n.A=Ql(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),cm(t.i,"t",i),n.C=0,t=n.l.J,n.h=new ny,n.g=_0(n.l,t?e:null,!n.s),0<n.O&&(n.M=new pp(Ts(n.Pa,n,n.g),n.O)),gp(n.U,n.g,"readystatechange",n.nb),e=n.I?$_(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Xh(),function t0(n,e,t,i,c,p){n.info(function(){if(n.g)if(p)for(var _="",E=p.split("&"),F=0;F<E.length;F++){var H=E[F].split("=");if(1<H.length){var te=H[0];H=H[1];var pe=te.split("_");_=2<=pe.length&&"type"==pe[1]?_+(te+"=")+H+"&":_+(te+"=redacted&")}}else _=null;else _=p;return"XMLHTTP REQ ("+i+") [attempt "+c+"]: "+e+"\n"+t+"\n"+_})}(n.j,n.u,n.A,n.m,n.W,n.s)}function rm(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Nb(n,e,t){let c,i=!0;for(;!n.J&&n.C<t.length;){if(c=im(n,t),c==iy){4==e&&(n.o=4,Wa(14),i=!1),Yd(n.j,n.m,null,"[Incomplete Response]");break}if(c==ry){n.o=4,Wa(15),Yd(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Yd(n.j,n.m,c,null),om(n,c)}rm(n)&&c!=iy&&c!=ry&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Wa(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Sp(e),e.M=!0,Wa(11))):(Yd(n.j,n.m,t,"[Invalid Chunked Response]"),eh(n),nf(n))}function im(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?iy:(t=Number(e.substring(t,i)),isNaN(t)?ry:(i+=1)+t>e.length?iy:(e=e.slice(i,i+t),n.C=i+t,e))}function tf(n){n.Y=Date.now()+n.P,a0(n,n.P)}function a0(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Qd(Ts(n.lb,n),e)}function sm(n){n.B&&(hr.clearTimeout(n.B),n.B=null)}function nf(n){0==n.l.H||n.J||vm(n.l,n)}function eh(n){sm(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,ud(n.V),Db(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function om(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||dm(t.i,n)))if(!n.K&&dm(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var c=i;if(0==c[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;jo(t),Fu(t)}hy(t),Wa(18)}}else t.Fa=c[1],0<t.Fa-t.V&&37500>c[2]&&t.G&&0==t.A&&!t.v&&(t.v=Qd(Ts(t.ib,t),6e3));if(1>=qa(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else sf(t,11)}else if((n.K||t.g==n)&&jo(t),!op(e))for(c=t.Ja.g.parse(e),e=0;e<c.length;e++){let H=c[e];if(t.V=H[0],H=H[1],2==t.H)if("c"==H[0]){t.K=H[1],t.pa=H[2];const te=H[3];null!=te&&(t.ra=te,t.l.info("VER="+t.ra));const pe=H[4];null!=pe&&(t.Ga=pe,t.l.info("SVER="+t.Ga));const Be=H[5];null!=Be&&"number"==typeof Be&&0<Be&&(t.L=i=1.5*Be,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const ct=n.g;if(ct){const kt=ct.g?ct.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kt){var p=i.i;p.g||-1==kt.indexOf("spdy")&&-1==kt.indexOf("quic")&&-1==kt.indexOf("h2")||(p.j=p.l,p.g=new Set,p.h&&(hm(p,p.h),p.h=null))}if(i.F){const sn=ct.g?ct.g.getResponseHeader("X-HTTP-Session-Id"):null;sn&&(i.Da=sn,Ni(i.I,i.F,sn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var _=n;if((i=t).wa=Lb(i,i.J?i.pa:null,i.Y),_.K){Pu(i.i,_);var E=_,F=i.L;F&&E.setTimeout(F),E.B&&(sm(E),tf(E)),i.g=_}else pd(i);0<t.j.length&&sh(t)}else"stop"!=H[0]&&"close"!=H[0]||sf(t,7);else 3==t.H&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?sf(t,7):eu(t):"noop"!=H[0]&&t.h&&t.h.Aa(H),t.A=0)}Xh()}catch{}}function Mb(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Lg(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Ob(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Lg(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function uT(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Lg(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),c=i.length,p=0;p<c;p++)e.call(void 0,i[p],t&&t[p],n)}(nn=ef.prototype).setTimeout=function(n){this.P=n},nn.nb=function(n){n=n.target;const e=this.M;e&&3==Mc(n)?e.l():this.Pa(n)},nn.Pa=function(n){try{if(n==this.g)e:{const te=Mc(this.g);var e=this.g.Ia();if(this.g.da(),!(3>te)&&(3!=te||qv||this.g&&(this.h.h||this.g.ja()||rh(this.g)))){this.J||4!=te||7==e||Xh(),sm(this);var t=this.g.da();this.ca=t;t:if(rm(this)){var i=rh(this.g);n="";var c=i.length,p=4==Mc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){eh(this),nf(this);var _="";break t}this.h.i=new hr.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:p&&e==c-1});i.splice(0,c),this.h.g+=n,this.C=0,_=this.h.g}else _=this.g.ja();if(this.i=200==t,function aT(n,e,t,i,c,p,_){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+c+"]: "+e+"\n"+t+"\n"+p+" "+_})}(this.j,this.u,this.A,this.m,this.W,te,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var E,F=this.g;if((E=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!op(E)){var H=E;break t}}H=null}if(!(t=H)){this.i=!1,this.o=3,Wa(12),eh(this),nf(this);break e}Yd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,om(this,t)}this.S?(Nb(this,te,_),qv&&this.i&&3==te&&(gp(this.U,this.V,"tick",this.mb),this.V.start())):(Yd(this.j,this.m,_,null),om(this,_)),4==te&&eh(this),this.i&&!this.J&&(4==te?vm(this.l,this):(this.i=!1,tf(this)))}else(function dy(n){const e={};n=(n.g&&2<=Mc(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(op(n[i]))continue;var t=Xv(n[i]);const c=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const p=e[c]||[];e[c]=p,p.push(t)}!function ld(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<_.indexOf("Unknown SID")?(this.o=3,Wa(12)):(this.o=0,Wa(13)),eh(this),nf(this)}}}catch{}},nn.mb=function(){if(this.g){var n=Mc(this.g),e=this.g.ja();this.C<e.length&&(sm(this),Nb(this,n,e),this.i&&4!=n&&tf(this))}},nn.cancel=function(){this.J=!0,eh(this)},nn.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Cb(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Xh(),Wa(17)),eh(this),this.o=2,nf(this)):a0(this,this.Y-n)};var oy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function na(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof na){this.h=n.h,ay(this,n.j),this.s=n.s,this.g=n.g,rf(this,n.m),this.l=n.l;var e=n.i,t=new bp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),xu(this,t),this.o=n.o}else n&&(e=String(n).match(oy))?(this.h=!1,ay(this,e[1]||"",!0),this.s=yp(e[2]||""),this.g=yp(e[3]||"",!0),rf(this,e[4]),this.l=yp(e[5]||"",!0),xu(this,e[6]||"",!0),this.o=yp(e[7]||"")):(this.h=!1,this.i=new bp(null,this.h))}function Ql(n){return new na(n)}function ay(n,e,t){n.j=t?yp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function rf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function xu(n,e,t){e instanceof bp?(n.i=e,function Ru(n,e){e&&!n.j&&(Jl(n),n.i=null,n.g.forEach(function(t,i){var c=i.toLowerCase();i!=c&&(u0(this,i),cm(this,c,t))},n)),n.j=e}(n.i,n.h)):(t||(e=vp(e,dT)),n.i=new bp(e,n.h))}function Ni(n,e,t){n.i.set(e,t)}function am(n){return Ni(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function yp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function vp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,cy),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function cy(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}na.prototype.toString=function(){var n=[],e=this.j;e&&n.push(vp(e,Nl,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(vp(e,Nl,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(vp(t,"/"==t.charAt(0)?xb:l0,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",vp(t,Go)),n.join("")};var Nl=/[#\/\?@]/g,l0=/[#\?:]/g,xb=/[#\?]/g,dT=/[#\?@]/g,Go=/#/g;function bp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Jl(n){n.g||(n.g=new Map,n.h=0,n.i&&function c0(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),c=null;if(0<=i){var p=n[t].substring(0,i);c=n[t].substring(i+1)}else p=n[t];e(p,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function u0(n,e){Jl(n),e=th(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Rb(n,e){return Jl(n),e=th(n,e),n.g.has(e)}function cm(n,e,t){u0(n,e),0<t.length&&(n.i=null,n.g.set(th(n,e),sp(t)),n.h+=t.length)}function th(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function wp(n){this.l=n||lm,n=hr.PerformanceNavigationTiming?0<(n=hr.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(hr.g&&hr.g.Ka&&hr.g.Ka()&&hr.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(nn=bp.prototype).add=function(n,e){Jl(this),this.i=null,n=th(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},nn.forEach=function(n,e){Jl(this),this.g.forEach(function(t,i){t.forEach(function(c){n.call(e,c,i,this)},this)},this)},nn.ta=function(){Jl(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const c=n[i];for(let p=0;p<c.length;p++)t.push(e[i])}return t},nn.Z=function(n){Jl(this);let e=[];if("string"==typeof n)Rb(this,n)&&(e=e.concat(this.g.get(th(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},nn.set=function(n,e){return Jl(this),this.i=null,Rb(this,n=th(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},nn.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},nn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const p=encodeURIComponent(String(i)),_=this.Z(i);for(i=0;i<_.length;i++){var c=p;""!==_[i]&&(c+="="+encodeURIComponent(String(_[i]))),n.push(c)}}return this.i=n.join("&")};var lm=10;function um(n){return!!n.h||!!n.g&&n.g.size>=n.j}function qa(n){return n.h?1:n.g?n.g.size:0}function dm(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function hm(n,e){n.g?n.g.add(e):n.h=e}function Pu(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Xl(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return sp(n.i)}wp.prototype.cancel=function(){if(this.i=Xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var il=class{stringify(n){return hr.JSON.stringify(n,void 0)}parse(n){return hr.JSON.parse(n,void 0)}};function h0(){this.g=new il}function Pb(n,e,t){const i=t||"";try{Mb(n,function(c,p){let _=c;ad(c)&&(_=Jv(c)),e.push(i+p+"="+encodeURIComponent(_))})}catch(c){throw e.push(i+"type="+encodeURIComponent("_badmap")),c}}function Ip(n,e,t,i,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(i)}catch{}}function hd(n){this.l=n.fc||null,this.j=n.ob||!1}function ku(n,e){To.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Tp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Uo(hd,r0),hd.prototype.g=function(){return new ku(this.l,this.j)},hd.prototype.i=function(n){return function(){return n}}({}),Uo(ku,To);var Tp=0;function fm(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function fd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ep(n)}function Ep(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(nn=ku.prototype).open=function(n,e){if(this.readyState!=Tp)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ep(this)},nn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||hr).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},nn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fd(this)),this.readyState=Tp},nn.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ep(this)),this.g&&(this.readyState=3,Ep(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof hr.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fm(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},nn.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?fd(this):Ep(this),3==this.readyState&&fm(this)}},nn.Za=function(n){this.g&&(this.response=this.responseText=n,fd(this))},nn.Ya=function(n){this.g&&(this.response=n,fd(this))},nn.ka=function(){this.g&&fd(this)},nn.setRequestHeader=function(n,e){this.v.append(n,e)},nn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},nn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(ku.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var f0=hr.JSON.parse;function Ds(n){To.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=pm,this.L=this.M=!1}Uo(Ds,To);var pm="",Dp=/^https?$/i,ly=["POST","PUT"];function p0(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,uy(n),nh(n)}function uy(n){n.F||(n.F=!0,Ho(n,"complete"),Ho(n,"error"))}function Ol(n){if(n.h&&typeof jv<"u"&&(!n.C[1]||4!=Mc(n)||2!=n.da()))if(n.v&&4==Mc(n))Jg(n.La,0,n);else if(Ho(n,"readystatechange"),4==Mc(n)){n.h=!1;try{const _=n.da();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===_){var c=String(n.I).match(oy)[1]||null;!c&&hr.self&&hr.self.location&&(c=hr.self.location.protocol.slice(0,-1)),i=!Dp.test(c?c.toLowerCase():"")}t=i}if(t)Ho(n,"complete"),Ho(n,"success");else{n.m=6;try{var p=2<Mc(n)?n.g.statusText:""}catch{p=""}n.j=p+" ["+n.da()+"]",uy(n)}}finally{nh(n)}}}function nh(n,e){if(n.g){mm(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Ho(n,"ready");try{t.onreadystatechange=i}catch{}}}function mm(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(hr.clearTimeout(n.A),n.A=null)}function Mc(n){return n.g?n.g.readyState:0}function rh(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case pm:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function g0(n){let e="";return up(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function Cp(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=g0(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ni(n,e,t))}function xc(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function $n(n){this.Ga=0,this.j=[],this.l=new Xg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=xc("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=xc("baseRetryDelayMs",5e3,n),this.hb=xc("retryDelaySeedMs",1e4,n),this.eb=xc("forwardChannelMaxRetries",2,n),this.xa=xc("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new wp(n&&n.concurrentRequestLimit),this.Ja=new h0,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function eu(n){if(ih(n),3==n.H){var e=n.W++,t=Ql(n.I);if(Ni(t,"SID",n.K),Ni(t,"RID",e),Ni(t,"TYPE","terminate"),Rc(n,t),(e=new ef(n,n.l,e)).L=2,e.v=am(Ql(t)),t=!1,hr.navigator&&hr.navigator.sendBeacon)try{t=hr.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&hr.Image&&((new Image).src=e.v,t=!0),t||(e.g=_0(e.l,null),e.g.ha(e.v)),e.G=Date.now(),tf(e)}Fb(n)}function Fu(n){n.g&&(Sp(n),n.g.cancel(),n.g=null)}function ih(n){Fu(n),n.u&&(hr.clearTimeout(n.u),n.u=null),jo(n),n.i.cancel(),n.m&&("number"==typeof n.m&&hr.clearTimeout(n.m),n.m=null)}function sh(n){if(!um(n.i)&&!n.m){n.m=!0;var e=n.Na;Qh||Yg(),Mu||(Qh(),Mu=!0),Kg.add(e,n),n.C=0}}function Lu(n,e){var t;t=e?e.m:n.W++;const i=Ql(n.I);Ni(i,"SID",n.K),Ni(i,"RID",t),Ni(i,"AID",n.V),Rc(n,i),n.o&&n.s&&Cp(i,n.o,n.s),t=new ef(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=_m(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),hm(n.i,t),_p(t,i,e)}function Rc(n,e){n.na&&up(n.na,function(t,i){Ni(e,i,t)}),n.h&&Mb({},function(t,i){Ni(e,i,t)})}function _m(n,e,t){t=Math.min(n.j.length,t);var i=n.h?Ts(n.h.Va,n.h,n):null;e:{var c=n.j;let p=-1;for(;;){const _=["count="+t];-1==p?0<t?(p=c[0].g,_.push("ofs="+p)):p=0:_.push("ofs="+p);let E=!0;for(let F=0;F<t;F++){let H=c[F].g;const te=c[F].map;if(H-=p,0>H)p=Math.max(0,c[F].g-100),E=!1;else try{Pb(te,_,"req"+H+"_")}catch{i&&i(te)}}if(E){i=_.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function pd(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Qh||Yg(),Mu||(Qh(),Mu=!0),Kg.add(e,n),n.A=0}}function hy(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Qd(Ts(n.Ma,n),fy(n,n.A)),n.A++,0))}function Sp(n){null!=n.B&&(hr.clearTimeout(n.B),n.B=null)}function ym(n){n.g=new ef(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ql(n.wa);Ni(e,"RID","rpc"),Ni(e,"SID",n.K),Ni(e,"AID",n.V),Ni(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Ni(e,"TO",n.qa),Ni(e,"TYPE","xmlhttp"),Rc(n,e),n.o&&n.s&&Cp(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=am(Ql(e)),t.s=null,t.S=!0,sy(t,n)}function jo(n){null!=n.v&&(hr.clearTimeout(n.v),n.v=null)}function vm(n,e){var t=null;if(n.g==e){jo(n),Sp(n),n.g=null;var i=2}else{if(!dm(n.i,e))return;t=e.F,Pu(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var c=n.C;Ho(i=X_(),new ey(i,t)),sh(n)}else pd(n);else if(3==(c=e.o)||0==c&&0<e.ca||!(1==i&&function m0(n,e){return!(qa(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Qd(Ts(n.Na,n,e),fy(n,n.C)),n.C++,0)))}(n,e)||2==i&&hy(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),c){case 1:sf(n,5);break;case 4:sf(n,10);break;case 3:sf(n,6);break;default:sf(n,2)}}function fy(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function sf(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=Ts(n.pb,n);t||(t=new na("//www.google.com/images/cleardot.gif"),hr.location&&"http"==hr.location.protocol||ay(t,"https"),am(t)),function kb(n,e){const t=new Xg;if(hr.Image){const i=new Image;i.onload=G_(Ip,t,i,"TestLoadImage: loaded",!0,e),i.onerror=G_(Ip,t,i,"TestLoadImage: error",!1,e),i.onabort=G_(Ip,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=G_(Ip,t,i,"TestLoadImage: timeout",!1,e),hr.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Wa(2);n.H=0,n.h&&n.h.za(e),Fb(n),ih(n)}function Fb(n){if(n.H=0,n.ma=[],n.h){const e=Xl(n.i);(0!=e.length||0!=n.j.length)&&(Vg(n.ma,e),Vg(n.ma,n.j),n.i.i.length=0,sp(n.j),n.j.length=0),n.h.ya()}}function Lb(n,e,t){var i=t instanceof na?Ql(t):new na(t);if(""!=i.g)e&&(i.g=e+"."+i.g),rf(i,i.m);else{var c=hr.location;i=c.protocol,e=e?e+"."+c.hostname:c.hostname,c=+c.port;var p=new na(null);i&&ay(p,i),e&&(p.g=e),c&&rf(p,c),t&&(p.l=t),i=p}return e=n.Da,(t=n.F)&&e&&Ni(i,t,e),Ni(i,"VER",n.ra),Rc(n,i),i}function _0(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ds(t&&n.Ha&&!n.va?new hd({ob:!0}):n.va)).Oa(n.J),e}function Bb(){}function oh(){if(qh&&!(10<=Number(Tb)))throw Error("Environmental error: no available transport.")}function Pc(n,e){To.call(this),this.g=new $n(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!op(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!op(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new tu(this)}function y0(n){mp.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function py(){o0.call(this),this.status=1}function tu(n){this.g=n}function sl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ca(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var c=0;16>c;++c)i[c]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(c=0;16>c;++c)i[c]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var p=n.g[3],_=(e=n.g[0])+(p^(t=n.g[1])&((c=n.g[2])^p))+i[0]+3614090360&4294967295;_=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=t+(_<<7&4294967295|_>>>25))+((_=p+(c^e&(t^c))+i[1]+3905402710&4294967295)<<12&4294967295|_>>>20))+((_=c+(t^p&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^c&(p^e))+i[3]+3250441966&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(c^p))+i[4]+4118548399&4294967295)<<7&4294967295|_>>>25))+((_=p+(c^e&(t^c))+i[5]+1200080426&4294967295)<<12&4294967295|_>>>20))+((_=c+(t^p&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^c&(p^e))+i[7]+4249261313&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(c^p))+i[8]+1770035416&4294967295)<<7&4294967295|_>>>25))+((_=p+(c^e&(t^c))+i[9]+2336552879&4294967295)<<12&4294967295|_>>>20))+((_=c+(t^p&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^c&(p^e))+i[11]+2304563134&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(c^p))+i[12]+1804603682&4294967295)<<7&4294967295|_>>>25))+((_=p+(c^e&(t^c))+i[13]+4254626195&4294967295)<<12&4294967295|_>>>20))+((_=c+(t^p&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^c&(p^e))+i[15]+1236535329&4294967295)<<22&4294967295|_>>>10))+((_=e+(c^p&(t^c))+i[1]+4129170786&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^c&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|_>>>23))+((_=c+(e^t&(p^e))+i[11]+643717713&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(c^p))+i[0]+3921069994&4294967295)<<20&4294967295|_>>>12))+((_=e+(c^p&(t^c))+i[5]+3593408605&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^c&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|_>>>23))+((_=c+(e^t&(p^e))+i[15]+3634488961&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(c^p))+i[4]+3889429448&4294967295)<<20&4294967295|_>>>12))+((_=e+(c^p&(t^c))+i[9]+568446438&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^c&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|_>>>23))+((_=c+(e^t&(p^e))+i[3]+4107603335&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(c^p))+i[8]+1163531501&4294967295)<<20&4294967295|_>>>12))+((_=e+(c^p&(t^c))+i[13]+2850285829&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^c&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|_>>>23))+((_=c+(e^t&(p^e))+i[7]+1735328473&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(c^p))+i[12]+2368359562&4294967295)<<20&4294967295|_>>>12))+((_=e+(t^c^p)+i[5]+4294588738&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^c)+i[8]+2272392833&4294967295)<<11&4294967295|_>>>21))+((_=c+(p^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|_>>>16))+((_=t+(c^p^e)+i[14]+4259657740&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^c^p)+i[1]+2763975236&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^c)+i[4]+1272893353&4294967295)<<11&4294967295|_>>>21))+((_=c+(p^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|_>>>16))+((_=t+(c^p^e)+i[10]+3200236656&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^c^p)+i[13]+681279174&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^c)+i[0]+3936430074&4294967295)<<11&4294967295|_>>>21))+((_=c+(p^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|_>>>16))+((_=t+(c^p^e)+i[6]+76029189&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^c^p)+i[9]+3654602809&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^c)+i[12]+3873151461&4294967295)<<11&4294967295|_>>>21))+((_=c+(p^e^t)+i[15]+530742520&4294967295)<<16&4294967295|_>>>16))+((_=t+(c^p^e)+i[2]+3299628645&4294967295)<<23&4294967295|_>>>9))+((_=e+(c^(t|~p))+i[0]+4096336452&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~c))+i[7]+1126891415&4294967295)<<10&4294967295|_>>>22))+((_=c+(e^(p|~t))+i[14]+2878612391&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(c|~e))+i[5]+4237533241&4294967295)<<21&4294967295|_>>>11))+((_=e+(c^(t|~p))+i[12]+1700485571&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~c))+i[3]+2399980690&4294967295)<<10&4294967295|_>>>22))+((_=c+(e^(p|~t))+i[10]+4293915773&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(c|~e))+i[1]+2240044497&4294967295)<<21&4294967295|_>>>11))+((_=e+(c^(t|~p))+i[8]+1873313359&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~c))+i[15]+4264355552&4294967295)<<10&4294967295|_>>>22))+((_=c+(e^(p|~t))+i[6]+2734768916&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(c|~e))+i[13]+1309151649&4294967295)<<21&4294967295|_>>>11))+((p=(e=t+((_=e+(c^(t|~p))+i[4]+4149444226&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~c))+i[11]+3174756917&4294967295)<<10&4294967295|_>>>22))^((c=p+((_=c+(e^(p|~t))+i[2]+718787259&4294967295)<<15&4294967295|_>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(c+(_<<21&4294967295|_>>>11))&4294967295,n.g[2]=n.g[2]+c&4294967295,n.g[3]=n.g[3]+p&4294967295}function Oi(n,e){this.h=e;for(var t=[],i=!0,c=n.length-1;0<=c;c--){var p=0|n[c];i&&p==e||(t[c]=p,i=!1)}this.g=t}(nn=Ds.prototype).Oa=function(n){this.M=n},nn.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Jd.g(),this.C=function s0(n){return n.h||(n.h=n.i())}(this.u?this.u:Jd),this.g.onreadystatechange=Ts(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(p){return void p0(this,p)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var c in i)t.set(c,i[c]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const p of i.keys())t.set(p,i.get(p))}i=Array.from(t.keys()).find(p=>"content-type"==p.toLowerCase()),c=hr.FormData&&n instanceof hr.FormData,!(0<=j_(ly,e))||i||c||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[p,_]of t)this.g.setRequestHeader(p,_);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{mm(this),0<this.B&&((this.L=function gm(n){return qh&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ts(this.ua,this)):this.A=Jg(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(p){p0(this,p)}},nn.ua=function(){typeof jv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ho(this,"timeout"),this.abort(8))},nn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ho(this,"complete"),Ho(this,"abort"),nh(this))},nn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nh(this,!0)),Ds.$.N.call(this)},nn.La=function(){this.s||(this.G||this.v||this.l?Ol(this):this.kb())},nn.kb=function(){Ol(this)},nn.isActive=function(){return!!this.g},nn.da=function(){try{return 2<Mc(this)?this.g.status:-1}catch{return-1}},nn.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},nn.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),f0(e)}},nn.Ia=function(){return this.m},nn.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(nn=$n.prototype).ra=8,nn.H=1,nn.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const c=new ef(this,this.l,n);let p=this.s;if(this.U&&(p?(p=$_(p),Wg(p,this.U)):p=this.U),null!==this.o||this.O||(c.I=p,p=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=_m(this,c,e),Ni(t=Ql(this.I),"RID",n),Ni(t,"CVER",22),this.F&&Ni(t,"X-HTTP-Session-Id",this.F),Rc(this,t),p&&(this.O?e="headers="+encodeURIComponent(String(g0(p)))+"&"+e:this.o&&Cp(t,this.o,p)),hm(this.i,c),this.bb&&Ni(t,"TYPE","init"),this.P?(Ni(t,"$req",e),Ni(t,"SID","null"),c.aa=!0,_p(c,t,null)):_p(c,t,e),this.H=2}}else 3==this.H&&(n?Lu(this,n):0==this.j.length||um(this.i)||Lu(this))},nn.Ma=function(){if(this.u=null,ym(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Qd(Ts(this.jb,this),n)}},nn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Wa(10),Fu(this),ym(this))},nn.ib=function(){null!=this.v&&(this.v=null,Fu(this),hy(this),Wa(19))},nn.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Wa(2)):(this.l.info("Failed to ping google.com"),Wa(1))},nn.isActive=function(){return!!this.h&&this.h.isActive(this)},(nn=Bb.prototype).Ba=function(){},nn.Aa=function(){},nn.za=function(){},nn.ya=function(){},nn.isActive=function(){return!0},nn.Va=function(){},oh.prototype.g=function(n,e){return new Pc(n,e)},Uo(Pc,To),Pc.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Wa(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Lb(n,null,n.Y),sh(n)},Pc.prototype.close=function(){eu(this.g)},Pc.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Jv(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&sh(e)},Pc.prototype.N=function(){this.g.h=null,delete this.j,eu(this.g),delete this.g,Pc.$.N.call(this)},Uo(y0,mp),Uo(py,o0),Uo(tu,Bb),tu.prototype.Ba=function(){Ho(this.g,"a")},tu.prototype.Aa=function(n){Ho(this.g,new y0(n))},tu.prototype.za=function(n){Ho(this.g,new py)},tu.prototype.ya=function(){Ho(this.g,"b")},Uo(sl,function bm(){this.blockSize=-1}),sl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},sl.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,c=this.h,p=0;p<e;){if(0==c)for(;p<=t;)Ca(this,n,p),p+=this.blockSize;if("string"==typeof n){for(;p<e;)if(i[c++]=n.charCodeAt(p++),c==this.blockSize){Ca(this,i),c=0;break}}else for(;p<e;)if(i[c++]=n[p++],c==this.blockSize){Ca(this,i),c=0;break}}this.h=c,this.i+=e},sl.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var gy={};function my(n){return-128<=n&&128>n?function Ib(n,e){var t=gy;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Oi([0|e],0>e?-1:0)}):new Oi([0|n],0>n?-1:0)}function ol(n){if(isNaN(n)||!isFinite(n))return af;if(0>n)return Hs(ol(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=yy;return new Oi(e,0)}var yy=4294967296,af=my(0),vy=my(1),by=my(16777216);function Za(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function hc(n){return-1==n.h}function Hs(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Oi(t,~n.h).add(vy)}function ah(n,e){return n.add(Hs(e))}function wm(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Ap(n,e){this.g=n,this.h=e}function Im(n,e){if(Za(e))throw Error("division by zero");if(Za(n))return new Ap(af,af);if(hc(n))return e=Im(Hs(n),e),new Ap(Hs(e.g),Hs(e.h));if(hc(e))return e=Im(n,Hs(e)),new Ap(Hs(e.g),e.h);if(30<n.g.length){if(hc(n)||hc(e))throw Error("slowDivide_ only works with positive integers.");for(var t=vy,i=e;0>=i.X(n);)t=v0(t),i=v0(i);var c=Ka(t,1),p=Ka(i,1);for(i=Ka(i,2),t=Ka(t,2);!Za(i);){var _=p.add(i);0>=_.X(n)&&(c=c.add(t),p=_),i=Ka(i,1),t=Ka(t,1)}return e=ah(n,c.R(e)),new Ap(c,e)}for(c=af;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),_=(p=ol(t)).R(e);hc(_)||0<_.X(n);)_=(p=ol(t-=i)).R(e);Za(p)&&(p=vy),c=c.add(p),n=ah(n,_)}return new Ap(c,n)}function v0(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Oi(t,n.h)}function Ka(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,c=[],p=0;p<i;p++)c[p]=0<e?n.D(p+t)>>>e|n.D(p+t+1)<<32-e:n.D(p+t);return new Oi(c,n.h)}(nn=Oi.prototype).ea=function(){if(hc(this))return-Hs(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:yy+i)*e,e*=yy}return n},nn.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Za(this))return"0";if(hc(this))return"-"+Hs(this).toString(n);for(var e=ol(Math.pow(n,6)),t=this,i="";;){var c=Im(t,e).g,p=((0<(t=ah(t,c.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Za(t=c))return p+i;for(;6>p.length;)p="0"+p;i=p+i}},nn.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},nn.X=function(n){return hc(n=ah(this,n))?-1:Za(n)?0:1},nn.abs=function(){return hc(this)?Hs(this):this},nn.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,c=0;c<=e;c++){var p=i+(65535&this.D(c))+(65535&n.D(c)),_=(p>>>16)+(this.D(c)>>>16)+(n.D(c)>>>16);i=_>>>16,t[c]=(_&=65535)<<16|(p&=65535)}return new Oi(t,-2147483648&t[t.length-1]?-1:0)},nn.R=function(n){if(Za(this)||Za(n))return af;if(hc(this))return hc(n)?Hs(this).R(Hs(n)):Hs(Hs(this).R(n));if(hc(n))return Hs(this.R(Hs(n)));if(0>this.X(by)&&0>n.X(by))return ol(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var c=0;c<n.g.length;c++){var p=this.D(i)>>>16,_=65535&this.D(i),E=n.D(c)>>>16,F=65535&n.D(c);t[2*i+2*c]+=_*F,wm(t,2*i+2*c),t[2*i+2*c+1]+=p*F,wm(t,2*i+2*c+1),t[2*i+2*c+1]+=_*E,wm(t,2*i+2*c+1),t[2*i+2*c+2]+=p*E,wm(t,2*i+2*c+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Oi(t,0)},nn.gb=function(n){return Im(this,n).h},nn.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Oi(t,this.h&n.h)},nn.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Oi(t,this.h|n.h)},nn.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Oi(t,this.h^n.h)},oh.prototype.createWebChannel=oh.prototype.g,Pc.prototype.send=Pc.prototype.u,Pc.prototype.open=Pc.prototype.m,Pc.prototype.close=Pc.prototype.close,ty.NO_ERROR=0,ty.TIMEOUT=8,ty.HTTP_ERROR=6,tm.COMPLETE="complete",Sb.EventType=nm,nm.OPEN="a",nm.CLOSE="b",nm.ERROR="c",nm.MESSAGE="d",To.prototype.listen=To.prototype.O,Ds.prototype.listenOnce=Ds.prototype.P,Ds.prototype.getLastError=Ds.prototype.Sa,Ds.prototype.getLastErrorCode=Ds.prototype.Ia,Ds.prototype.getStatus=Ds.prototype.da,Ds.prototype.getResponseJson=Ds.prototype.Wa,Ds.prototype.getResponseText=Ds.prototype.ja,Ds.prototype.send=Ds.prototype.ha,Ds.prototype.setWithCredentials=Ds.prototype.Oa,sl.prototype.digest=sl.prototype.l,sl.prototype.reset=sl.prototype.reset,sl.prototype.update=sl.prototype.j,Oi.prototype.add=Oi.prototype.add,Oi.prototype.multiply=Oi.prototype.R,Oi.prototype.modulo=Oi.prototype.gb,Oi.prototype.compare=Oi.prototype.X,Oi.prototype.toNumber=Oi.prototype.ea,Oi.prototype.toString=Oi.prototype.toString,Oi.prototype.getBits=Oi.prototype.D,Oi.fromNumber=ol,Oi.fromString=function _y(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Hs(_y(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ol(Math.pow(e,8)),i=af,c=0;c<n.length;c+=8){var p=Math.min(8,n.length-c),_=parseInt(n.substring(c,c+p),e);8>p?(p=ol(Math.pow(e,p)),i=i.R(p).add(ol(_))):i=(i=i.R(t)).add(ol(_))}return i};var Np=Sl.createWebChannelTransport=function(){return new oh},Vb=Sl.getStatEventTarget=function(){return X_()},ch=Sl.ErrorCode=ty,wy=Sl.EventType=tm,Op=Sl.Event=dd,Iy=Sl.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Mp=Sl.FetchXmlHttpFactory=hd,cf=Sl.WebChannel=Sb,OD=Sl.XhrIo=Ds,Tm=Sl.Md5=sl,lf=Sl.Integer=Oi;const Ty="@firebase/firestore";class Eo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Eo.UNAUTHENTICATED=new Eo(null),Eo.GOOGLE_CREDENTIALS=new Eo("google-credentials-uid"),Eo.FIRST_PARTY=new Eo("first-party-uid"),Eo.MOCK_USER=new Eo("mock-user");let Bu="9.23.0";const $o=new Ee.Yd("@firebase/firestore");function Em(){return $o.logLevel}function Ot(n,...e){if($o.logLevel<=Ee.in.DEBUG){const t=e.map(Ey);$o.debug(`Firestore (${Bu}): ${n}`,...t)}}function Gs(n,...e){if($o.logLevel<=Ee.in.ERROR){const t=e.map(Ey);$o.error(`Firestore (${Bu}): ${n}`,...t)}}function al(n,...e){if($o.logLevel<=Ee.in.WARN){const t=e.map(Ey);$o.warn(`Firestore (${Bu}): ${n}`,...t)}}function Ey(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function hn(n="Unexpected state"){const e=`FIRESTORE (${Bu}) INTERNAL ASSERTION FAILED: `+n;throw Gs(e),new Error(e)}function In(n,e){n||hn()}function Yt(n,e){return n}const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends fe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class so{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class xp{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ub{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Eo.UNAUTHENTICATED))}shutdown(){}}class Hb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class w0{constructor(e){this.t=e,this.currentUser=Eo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let c=this.i;const p=H=>this.i!==c?(c=this.i,t(H)):Promise.resolve();let _=new so;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new so,e.enqueueRetryable(()=>p(this.currentUser))};const E=()=>{const H=_;e.enqueueRetryable((0,de.Z)(function*(){yield H.promise,yield p(i.currentUser)}))},F=H=>{Ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),E()};this.t.onInit(H=>F(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?F(H):(Ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new so)}},0),E()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(In("string"==typeof i.accessToken),new xp(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return In(null===e||"string"==typeof e),new Eo(e)}}class I0{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=Eo.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class uf{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new I0(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Eo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class T0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cl{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=p=>{null!=p.error&&Ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const _=p.token!==this.T;return this.T=p.token,Ot("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?t(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>i(p))};const c=p=>{Ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.I.onInit(p=>c(p)),setTimeout(()=>{if(!this.appCheck){const p=this.I.getImmediate({optional:!0});p?c(p):Ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(In("string"==typeof t.token),this.T=t.token,new T0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Rp(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class Dm{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const c=Rp(40);for(let p=0;p<c.length;++p)i.length<20&&c[p]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(c[p]%62))}return i}}function Qn(n,e){return n<e?-1:n>e?1:0}function df(n,e,t){return n.length===e.length&&n.every((i,c)=>t(i,e[c]))}class _s{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ct(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ct(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ct(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ct(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _s.fromMillis(Date.now())}static fromDate(e){return _s.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new _s(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qn(this.nanoseconds,e.nanoseconds):Qn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nn(e)}static min(){return new Nn(new _s(0,0))}static max(){return new Nn(new _s(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class gd{constructor(e,t,i){void 0===t?t=0:t>e.length&&hn(),void 0===i?i=e.length-t:i>e.length-t&&hn(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===gd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gd?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let c=0;c<i;c++){const p=e.get(c),_=t.get(c);if(p<_)return-1;if(p>_)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Jr extends gd{construct(e,t,i){return new Jr(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ct(rt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(c=>c.length>0))}return new Jr(t)}static emptyPath(){return new Jr([])}}const E0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cs extends gd{construct(e,t,i){return new Cs(e,t,i)}static isValidIdentifier(e){return E0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Cs(["__name__"])}static fromServerFormat(e){const t=[];let i="",c=0;const p=()=>{if(0===i.length)throw new Ct(rt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let _=!1;for(;c<e.length;){const E=e[c];if("\\"===E){if(c+1===e.length)throw new Ct(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const F=e[c+1];if("\\"!==F&&"."!==F&&"`"!==F)throw new Ct(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=F,c+=2}else"`"===E?(_=!_,c++):"."!==E||_?(i+=E,c++):(p(),c++)}if(p(),_)throw new Ct(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cs(t)}static emptyPath(){return new Cs([])}}class Qt{constructor(e){this.path=e}static fromPath(e){return new Qt(Jr.fromString(e))}static fromName(e){return new Qt(Jr.fromString(e).popFirst(5))}static empty(){return new Qt(Jr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Jr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Jr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qt(new Jr(e.slice()))}}function D0(n){return new fc(n.readTime,n.key,-1)}class fc{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new fc(Nn.min(),Qt.empty(),-1)}static max(){return new fc(Nn.max(),Qt.empty(),-1)}}function ff(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Qt.comparator(n.documentKey,e.documentKey),0!==t?t:Qn(n.largestBatchId,e.largestBatchId))}const Cy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function lh(n){return Sm.apply(this,arguments)}function Sm(){return Sm=(0,de.Z)(function*(n){if(n.code!==rt.FAILED_PRECONDITION||n.message!==Cy)throw n;Ot("LocalStore","Unexpectedly lost primary lease")}),Sm.apply(this,arguments)}class qe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&hn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new qe((i,c)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(i,c)},this.catchCallback=p=>{this.wrapFailure(t,p).next(i,c)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof qe?t:qe.resolve(t)}catch(t){return qe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):qe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):qe.reject(t)}static resolve(e){return new qe((t,i)=>{t(e)})}static reject(e){return new qe((t,i)=>{i(e)})}static waitFor(e){return new qe((t,i)=>{let c=0,p=0,_=!1;e.forEach(E=>{++c,E.next(()=>{++p,_&&p===c&&t()},F=>i(F))}),_=!0,p===c&&t()})}static or(e){let t=qe.resolve(!1);for(const i of e)t=t.next(c=>c?qe.resolve(c):i());return t}static forEach(e,t){const i=[];return e.forEach((c,p)=>{i.push(t.call(this,c,p))}),this.waitFor(i)}static mapArray(e,t){return new qe((i,c)=>{const p=e.length,_=new Array(p);let E=0;for(let F=0;F<p;F++){const H=F;t(e[H]).next(te=>{_[H]=te,++E,E===p&&i(_)},te=>c(te))}})}static doWhile(e,t){return new qe((i,c)=>{const p=()=>{!0===e()?t().next(()=>{p()},c):i()};p()})}}function ru(n){return"IndexedDbTransactionError"===n.name}let ss=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=c=>this.ot(c),this.ut=c=>i.writeSequenceNumber(c))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function _d(n){return null==n}function ll(n){return 0===n&&1/n==-1/0}function Tr(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Gr(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ni(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ar{constructor(e,t){this.comparator=e,this.root=t||Nr.EMPTY}insert(e,t){return new ar(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nr.BLACK,null,null))}remove(e){return new ar(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const c=this.comparator(e,i.key);if(0===c)return t+i.left.size;c<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new os(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new os(this.root,e,this.comparator,!1)}getReverseIterator(){return new os(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new os(this.root,e,this.comparator,!0)}}class os{constructor(e,t,i,c){this.isReverse=c,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=t?i(e.key,t):1,t&&c&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nr{constructor(e,t,i,c,p){this.key=e,this.value=t,this.color=i??Nr.RED,this.left=c??Nr.EMPTY,this.right=p??Nr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,c,p){return new Nr(e??this.key,t??this.value,i??this.color,c??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let c=this;const p=i(e,c.key);return c=p<0?c.copy(null,null,null,c.left.insert(e,t,i),null):0===p?c.copy(null,t,null,null,null):c.copy(null,null,null,null,c.right.insert(e,t,i)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Nr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,c=this;if(t(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,t),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===t(e,c.key)){if(c.right.isEmpty())return Nr.EMPTY;i=c.right.min(),c=c.copy(i.key,i.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,t))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw hn();const e=this.left.check();if(e!==this.right.check())throw hn();return e+(this.isRed()?0:1)}}Nr.EMPTY=null,Nr.RED=!0,Nr.BLACK=!1,Nr.EMPTY=new class{constructor(){this.size=0}get key(){throw hn()}get value(){throw hn()}get color(){throw hn()}get left(){throw hn()}get right(){throw hn()}copy(n,e,t,i,c){return this}insert(n,e,t){return new Nr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xr{constructor(e){this.comparator=e,this.data=new ar(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const c=i.getNext();if(this.comparator(c.key,e[1])>=0)return;t(c.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qa(this.data.getIterator())}getIteratorFrom(e){return new Qa(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Xr)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const c=t.getNext().key,p=i.getNext().key;if(0!==this.comparator(c,p))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Xr(this.comparator);return t.data=e,t}}class Qa{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class en{constructor(e){this.fields=e,e.sort(Cs.comparator)}static empty(){return new en([])}unionWith(e){let t=new Xr(Cs.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new en(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return df(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Gn extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Gn("Invalid base64 string: "+c):c}}(e);return new fr(t)}static fromUint8Array(e){const t=function(i){let c="";for(let p=0;p<i.length;++p)c+=String.fromCharCode(i[p]);return c}(e);return new fr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fr.EMPTY_BYTE_STRING=new fr("");const ia=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mi(n){if(In(!!n),"string"==typeof n){let e=0;const t=ia.exec(n);if(In(!!t),t[1]){let c=t[1];c=(c+"000000000").substr(0,9),e=Number(c)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ri(n.seconds),nanos:ri(n.nanos)}}function ri(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ur(n){return"string"==typeof n?fr.fromBase64String(n):fr.fromUint8Array(n)}function gc(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ul(n){const e=n.mapValue.fields.__previous_value__;return gc(e)?ul(e):e}function Qi(n){const e=Mi(n.mapValue.fields.__local_write_time__.timestampValue);return new _s(e.seconds,e.nanos)}class Aa{constructor(e,t,i,c,p,_,E,F,H){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=c,this.ssl=p,this.forceLongPolling=_,this.autoDetectLongPolling=E,this.longPollingOptions=F,this.useFetchStreams=H}}class Ss{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ss("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ss&&e.projectId===this.projectId&&e.database===this.database}}const kc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Vu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?gc(n)?4:Ny(n)?9007199254740991:10:hn()}function dl(n,e){if(n===e)return!0;const t=Vu(n);if(t!==Vu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Qi(n).isEqual(Qi(e));case 3:return function(i,c){if("string"==typeof i.timestampValue&&"string"==typeof c.timestampValue&&i.timestampValue.length===c.timestampValue.length)return i.timestampValue===c.timestampValue;const p=Mi(i.timestampValue),_=Mi(c.timestampValue);return p.seconds===_.seconds&&p.nanos===_.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return c=e,Ur(n.bytesValue).isEqual(Ur(c.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,c){return ri(i.geoPointValue.latitude)===ri(c.geoPointValue.latitude)&&ri(i.geoPointValue.longitude)===ri(c.geoPointValue.longitude)}(n,e);case 2:return function(i,c){if("integerValue"in i&&"integerValue"in c)return ri(i.integerValue)===ri(c.integerValue);if("doubleValue"in i&&"doubleValue"in c){const p=ri(i.doubleValue),_=ri(c.doubleValue);return p===_?ll(p)===ll(_):isNaN(p)&&isNaN(_)}return!1}(n,e);case 9:return df(n.arrayValue.values||[],e.arrayValue.values||[],dl);case 10:return function(i,c){const p=i.mapValue.fields||{},_=c.mapValue.fields||{};if(Tr(p)!==Tr(_))return!1;for(const E in p)if(p.hasOwnProperty(E)&&(void 0===_[E]||!dl(p[E],_[E])))return!1;return!0}(n,e);default:return hn()}var c}function Lp(n,e){return void 0!==(n.values||[]).find(t=>dl(t,e))}function vd(n,e){if(n===e)return 0;const t=Vu(n),i=Vu(e);if(t!==i)return Qn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qn(n.booleanValue,e.booleanValue);case 2:return function(c,p){const _=ri(c.integerValue||c.doubleValue),E=ri(p.integerValue||p.doubleValue);return _<E?-1:_>E?1:_===E?0:isNaN(_)?isNaN(E)?0:-1:1}(n,e);case 3:return Ay(n.timestampValue,e.timestampValue);case 4:return Ay(Qi(n),Qi(e));case 5:return Qn(n.stringValue,e.stringValue);case 6:return function(c,p){const _=Ur(c),E=Ur(p);return _.compareTo(E)}(n.bytesValue,e.bytesValue);case 7:return function(c,p){const _=c.split("/"),E=p.split("/");for(let F=0;F<_.length&&F<E.length;F++){const H=Qn(_[F],E[F]);if(0!==H)return H}return Qn(_.length,E.length)}(n.referenceValue,e.referenceValue);case 8:return function(c,p){const _=Qn(ri(c.latitude),ri(p.latitude));return 0!==_?_:Qn(ri(c.longitude),ri(p.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(c,p){const _=c.values||[],E=p.values||[];for(let F=0;F<_.length&&F<E.length;++F){const H=vd(_[F],E[F]);if(H)return H}return Qn(_.length,E.length)}(n.arrayValue,e.arrayValue);case 10:return function(c,p){if(c===kc.mapValue&&p===kc.mapValue)return 0;if(c===kc.mapValue)return 1;if(p===kc.mapValue)return-1;const _=c.fields||{},E=Object.keys(_),F=p.fields||{},H=Object.keys(F);E.sort(),H.sort();for(let te=0;te<E.length&&te<H.length;++te){const pe=Qn(E[te],H[te]);if(0!==pe)return pe;const Be=vd(_[E[te]],F[H[te]]);if(0!==Be)return Be}return Qn(E.length,H.length)}(n.mapValue,e.mapValue);default:throw hn()}}function Ay(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Qn(n,e);const t=Mi(n),i=Mi(e),c=Qn(t.seconds,i.seconds);return 0!==c?c:Qn(t.nanos,i.nanos)}function bd(n){return Bp(n)}function Bp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const c=Mi(i);return`time(${c.seconds},${c.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ur(n.bytesValue).toBase64():"referenceValue"in n?Qt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let c="[",p=!0;for(const _ of i.values||[])p?p=!1:c+=",",c+=Bp(_);return c+"]"}(n.arrayValue):"mapValue"in n?function(i){const c=Object.keys(i.fields||{}).sort();let p="{",_=!0;for(const E of c)_?_=!1:p+=",",p+=`${E}:${Bp(i.fields[E])}`;return p+"}"}(n.mapValue):hn();var e}function Fc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Uu(n){return!!n&&"integerValue"in n}function Hu(n){return!!n&&"arrayValue"in n}function Vp(n){return!!n&&"nullValue"in n}function Up(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Hp(n){return!!n&&"mapValue"in n}function yf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Gr(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=yf(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Ny(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ja{constructor(e){this.value=e}static empty(){return new Ja({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Hp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yf(t)}setAll(e){let t=Cs.emptyPath(),i={},c=[];e.forEach((_,E)=>{if(!t.isImmediateParentOf(E)){const F=this.getFieldsMap(t);this.applyChanges(F,i,c),i={},c=[],t=E.popLast()}_?i[E.lastSegment()]=yf(_):c.push(E.lastSegment())});const p=this.getFieldsMap(t);this.applyChanges(p,i,c)}delete(e){const t=this.field(e.popLast());Hp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return dl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let c=t.mapValue.fields[e.get(i)];Hp(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=c),t=c}return t.mapValue.fields}applyChanges(e,t,i){Gr(t,(c,p)=>e[c]=p);for(const c of i)delete e[c]}clone(){return new Ja(yf(this.value))}}function hT(n){const e=[];return Gr(n.fields,(t,i)=>{const c=new Cs([t]);if(Hp(i)){const p=hT(i.mapValue).fields;if(0===p.length)e.push(c);else for(const _ of p)e.push(c.child(_))}else e.push(c)}),new en(e)}class as{constructor(e,t,i,c,p,_,E){this.key=e,this.documentType=t,this.version=i,this.readTime=c,this.createTime=p,this.data=_,this.documentState=E}static newInvalidDocument(e){return new as(e,0,Nn.min(),Nn.min(),Nn.min(),Ja.empty(),0)}static newFoundDocument(e,t,i,c){return new as(e,1,t,Nn.min(),i,c,0)}static newNoDocument(e,t){return new as(e,2,t,Nn.min(),Nn.min(),Ja.empty(),0)}static newUnknownDocument(e,t){return new as(e,3,t,Nn.min(),Nn.min(),Ja.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Nn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ja.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ja.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof as&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new as(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class wd{constructor(e,t){this.position=e,this.inclusive=t}}function Wb(n,e,t){let i=0;for(let c=0;c<n.position.length;c++){const p=e[c],_=n.position[c];if(i=p.field.isKeyField()?Qt.comparator(Qt.fromName(_.referenceValue),t.key):vd(_,t.data.field(p.field)),"desc"===p.dir&&(i*=-1),0!==i)break}return i}function N0(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!dl(n.position[t],e.position[t]))return!1;return!0}class jp{constructor(e,t="asc"){this.field=e,this.dir=t}}function xD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class qb{}class Yr extends qb{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new fT(e,t,i):"array-contains"===t?new mT(e,i):"in"===t?new Xb(e,i):"not-in"===t?new M0(e,i):"array-contains-any"===t?new vf(e,i):new Yr(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new pT(e,i):new gT(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(vd(t,this.value)):null!==t&&Vu(this.value)===Vu(t)&&this.matchesComparison(vd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return hn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ri extends qb{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Ri(e,t)}matches(e){return $p(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function $p(n){return"and"===n.op}function O0(n){return function Kb(n){for(const e of n.filters)if(e instanceof Ri)return!1;return!0}(n)&&$p(n)}function Oy(n){if(n instanceof Yr)return n.field.canonicalString()+n.op.toString()+bd(n.value);if(O0(n))return n.filters.map(e=>Oy(e)).join(",");{const e=n.filters.map(t=>Oy(t)).join(",");return`${n.op}(${e})`}}function My(n,e){return n instanceof Yr?(t=n,(i=e)instanceof Yr&&t.op===i.op&&t.field.isEqual(i.field)&&dl(t.value,i.value)):n instanceof Ri?function(t,i){return i instanceof Ri&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((c,p,_)=>c&&My(p,i.filters[_]),!0)}(n,e):void hn();var t,i}function Qb(n){return n instanceof Yr?`${(e=n).field.canonicalString()} ${e.op} ${bd(e.value)}`:n instanceof Ri?function(e){return e.op.toString()+" {"+e.getFilters().map(Qb).join(" ,")+"}"}(n):"Filter";var e}class fT extends Yr{constructor(e,t,i){super(e,t,i),this.key=Qt.fromName(i.referenceValue)}matches(e){const t=Qt.comparator(e.key,this.key);return this.matchesComparison(t)}}class pT extends Yr{constructor(e,t){super(e,"in",t),this.keys=Jb(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class gT extends Yr{constructor(e,t){super(e,"not-in",t),this.keys=Jb(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Jb(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Qt.fromName(i.referenceValue))}class mT extends Yr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Hu(t)&&Lp(t.arrayValue,this.value)}}class Xb extends Yr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Lp(this.value.arrayValue,t)}}class M0 extends Yr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Lp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Lp(this.value.arrayValue,t)}}class vf extends Yr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Hu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Lp(this.value.arrayValue,i))}}class RD{constructor(e,t=null,i=[],c=[],p=null,_=null,E=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=c,this.limit=p,this.startAt=_,this.endAt=E,this.dt=null}}function ew(n,e=null,t=[],i=[],c=null,p=null,_=null){return new RD(n,e,t,i,c,p,_)}function hh(n){const e=Yt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Oy(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(c=i).field.canonicalString()+c.dir;var c}).join(","),_d(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>bd(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>bd(i)).join(",")),e.dt=t}return e.dt}function Gu(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!xD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!My(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!N0(n.startAt,e.startAt)&&N0(n.endAt,e.endAt)}function Om(n){return Qt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class bf{constructor(e,t=null,i=[],c=[],p=null,_="F",E=null,F=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=c,this.limit=p,this.limitType=_,this.startAt=E,this.endAt=F,this.wt=null,this._t=null}}function Mm(n){return new bf(n)}function tw(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function nw(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function oo(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function P0(n){return null!==n.collectionGroup}function zp(n){const e=Yt(n);if(null===e.wt){e.wt=[];const t=oo(e),i=nw(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new jp(t)),e.wt.push(new jp(Cs.keyField(),"asc"));else{let c=!1;for(const p of e.explicitOrderBy)e.wt.push(p),p.field.isKeyField()&&(c=!0);if(!c){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new jp(Cs.keyField(),p))}}}return e.wt}function Lc(n){const e=Yt(n);if(!e._t)if("F"===e.limitType)e._t=ew(e.path,e.collectionGroup,zp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const p of zp(e))t.push(new jp(p.field,"desc"===p.dir?"asc":"desc"));const i=e.endAt?new wd(e.endAt.position,e.endAt.inclusive):null,c=e.startAt?new wd(e.startAt.position,e.startAt.inclusive):null;e._t=ew(e.path,e.collectionGroup,t,e.filters,e.limit,i,c)}return e._t}function k0(n,e){e.getFirstInequalityField(),oo(n);const t=n.filters.concat([e]);return new bf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function F0(n,e,t){return new bf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xm(n,e){return Gu(Lc(n),Lc(e))&&n.limitType===e.limitType}function rw(n){return`${hh(Lc(n))}|lt:${n.limitType}`}function wf(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>Qb(i)).join(", ")}]`),_d(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(c=i).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>bd(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>bd(i)).join(",")),`Target(${t})`}(Lc(n))}; limitType=${n.limitType})`}function xy(n,e){return e.isFoundDocument()&&function(t,i){const c=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(c):Qt.isDocumentKey(t.path)?t.path.isEqual(c):t.path.isImmediateParentOf(c)}(n,e)&&function(t,i){for(const c of zp(t))if(!c.field.isKeyField()&&null===i.data.field(c.field))return!1;return!0}(n,e)&&function(t,i){for(const c of t.filters)if(!c.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(c,p,_){const E=Wb(c,p,_);return c.inclusive?E<=0:E<0}(t.startAt,zp(t),i)||t.endAt&&!function(c,p,_){const E=Wb(c,p,_);return c.inclusive?E>=0:E>0}(t.endAt,zp(t),i)));var t,i}function iw(n){return(e,t)=>{let i=!1;for(const c of zp(n)){const p=kD(c,e,t);if(0!==p)return p;i=i||c.field.isKeyField()}return 0}}function kD(n,e,t){const i=n.field.isKeyField()?Qt.comparator(e.key,t.key):function(c,p,_){const E=p.data.field(c),F=_.data.field(c);return null!==E&&null!==F?vd(E,F):hn()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return hn()}}class Id{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[c,p]of i)if(this.equalsFn(c,e))return p}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),c=this.inner[i];if(void 0===c)return this.inner[i]=[[e,t]],void this.innerSize++;for(let p=0;p<c.length;p++)if(this.equalsFn(c[p][0],e))return void(c[p]=[e,t]);c.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let c=0;c<i.length;c++)if(this.equalsFn(i[c][0],e))return 1===i.length?delete this.inner[t]:i.splice(c,1),this.innerSize--,!0;return!1}forEach(e){Gr(this.inner,(t,i)=>{for(const[c,p]of i)e(c,p)})}isEmpty(){return ni(this.inner)}size(){return this.innerSize}}const aS=new ar(Qt.comparator);function Bc(){return aS}const L0=new ar(Qt.comparator);function hl(...n){let e=L0;for(const t of n)e=e.insert(t.key,t);return e}function vT(n){let e=L0;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ju(){return Vc()}function $u(){return Vc()}function Vc(){return new Id(n=>n.toString(),(n,e)=>n.isEqual(e))}const zu=new ar(Qt.comparator),bT=new Xr(Qt.comparator);function Er(...n){let e=bT;for(const t of n)e=e.add(t);return e}const FD=new Xr(Qn);function wT(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ll(e)?"-0":e}}function IT(n){return{integerValue:""+n}}function B0(n,e){return function yd(n){return"number"==typeof n&&Number.isInteger(n)&&!ll(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?IT(e):wT(n,e)}class If{constructor(){this._=void 0}}function LD(n,e,t){return n instanceof Rm?function(i,c){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return c&&gc(c)&&(c=ul(c)),c&&(p.fields.__previous_value__=c),{mapValue:p}}(t,e):n instanceof Tf?ow(n,e):n instanceof Td?DT(n,e):function(i,c){const p=ET(i,c),_=aw(p)+aw(i.gt);return Uu(p)&&Uu(i.gt)?IT(_):wT(i.serializer,_)}(n,e)}function TT(n,e,t){return n instanceof Tf?ow(n,e):n instanceof Td?DT(n,e):t}function ET(n,e){return n instanceof Wp?Uu(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Rm extends If{}class Tf extends If{constructor(e){super(),this.elements=e}}function ow(n,e){const t=cw(e);for(const i of n.elements)t.some(c=>dl(c,i))||t.push(i);return{arrayValue:{values:t}}}class Td extends If{constructor(e){super(),this.elements=e}}function DT(n,e){let t=cw(e);for(const i of n.elements)t=t.filter(c=>!dl(c,i));return{arrayValue:{values:t}}}class Wp extends If{constructor(e,t){super(),this.serializer=e,this.gt=t}}function aw(n){return ri(n.integerValue||n.doubleValue)}function cw(n){return Hu(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ry{constructor(e,t){this.field=e,this.transform=t}}class lw{constructor(e,t){this.version=e,this.transformResults=t}}class Ji{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ji}static exists(e){return new Ji(void 0,e)}static updateTime(e){return new Ji(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Py(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Pm{}function uw(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Fm(n.key,Ji.none()):new qp(n.key,n.data,Ji.none());{const t=n.data,i=Ja.empty();let c=new Xr(Cs.comparator);for(let p of e.fields)if(!c.has(p)){let _=t.field(p);null===_&&p.length>1&&(p=p.popLast(),_=t.field(p)),null===_?i.delete(p):i.set(p,_),c=c.add(p)}return new fh(n.key,i,new en(c.toArray()),Ji.none())}}function CT(n,e,t){n instanceof qp?function(i,c,p){const _=i.value.clone(),E=NT(i.fieldTransforms,c,p.transformResults);_.setAll(E),c.convertToFoundDocument(p.version,_).setHasCommittedMutations()}(n,e,t):n instanceof fh?function(i,c,p){if(!Py(i.precondition,c))return void c.convertToUnknownDocument(p.version);const _=NT(i.fieldTransforms,c,p.transformResults),E=c.data;E.setAll(AT(i)),E.setAll(_),c.convertToFoundDocument(p.version,E).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function km(n,e,t,i){return n instanceof qp?function(c,p,_,E){if(!Py(c.precondition,p))return _;const F=c.value.clone(),H=OT(c.fieldTransforms,E,p);return F.setAll(H),p.convertToFoundDocument(p.version,F).setHasLocalMutations(),null}(n,e,t,i):n instanceof fh?function(c,p,_,E){if(!Py(c.precondition,p))return _;const F=OT(c.fieldTransforms,E,p),H=p.data;return H.setAll(AT(c)),H.setAll(F),p.convertToFoundDocument(p.version,H).setHasLocalMutations(),null===_?null:_.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(te=>te.field))}(n,e,t,i):(_=t,Py(n.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):_);var p,_}function ST(n,e){let t=null;for(const i of n.fieldTransforms){const c=e.data.field(i.field),p=ET(i.transform,c||null);null!=p&&(null===t&&(t=Ja.empty()),t.set(i.field,p))}return t||null}function dw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&df(t,i,(c,p)=>function BD(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Tf&&i instanceof Tf||t instanceof Td&&i instanceof Td?df(t.elements,i.elements,dl):t instanceof Wp&&i instanceof Wp?dl(t.gt,i.gt):t instanceof Rm&&i instanceof Rm);var t,i}(c,p))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class qp extends Pm{constructor(e,t,i,c=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class fh extends Pm{constructor(e,t,i,c,p=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=c,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function AT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function NT(n,e,t){const i=new Map;In(n.length===t.length);for(let c=0;c<t.length;c++){const p=n[c],_=p.transform,E=e.data.field(p.field);i.set(p.field,TT(_,E,t[c]))}return i}function OT(n,e,t){const i=new Map;for(const c of n){const p=c.transform,_=t.data.field(c.field);i.set(c.field,LD(p,_,e))}return i}class Fm extends Pm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hw extends Pm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fw{constructor(e,t,i,c){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=c}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let c=0;c<this.mutations.length;c++){const p=this.mutations[c];p.key.isEqual(e.key)&&CT(p,e,i[c])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=km(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=km(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=$u();return this.mutations.forEach(c=>{const p=e.get(c.key),_=p.overlayedDocument;let E=this.applyToLocalView(_,p.mutatedFields);E=t.has(c.key)?null:E;const F=uw(_,E);null!==F&&i.set(c.key,F),_.isValidDocument()||_.convertToNoDocument(Nn.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Er())}isEqual(e){return this.batchId===e.batchId&&df(this.mutations,e.mutations,(t,i)=>dw(t,i))&&df(this.baseMutations,e.baseMutations,(t,i)=>dw(t,i))}}class pw{constructor(e,t,i,c){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=c}static from(e,t,i){In(e.mutations.length===i.length);let c=zu;const p=e.mutations;for(let _=0;_<p.length;_++)c=c.insert(p[_].key,i[_].version);return new pw(e,t,i,c)}}class gw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class UD{constructor(e,t){this.count=e,this.unchangedNames=t}}var Wo,li;function xT(n){if(void 0===n)return Gs("GRPC error has no .code"),rt.UNKNOWN;switch(n){case Wo.OK:return rt.OK;case Wo.CANCELLED:return rt.CANCELLED;case Wo.UNKNOWN:return rt.UNKNOWN;case Wo.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case Wo.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case Wo.INTERNAL:return rt.INTERNAL;case Wo.UNAVAILABLE:return rt.UNAVAILABLE;case Wo.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case Wo.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case Wo.NOT_FOUND:return rt.NOT_FOUND;case Wo.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case Wo.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case Wo.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case Wo.ABORTED:return rt.ABORTED;case Wo.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case Wo.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case Wo.DATA_LOSS:return rt.DATA_LOSS;default:return hn()}}(li=Wo||(Wo={}))[li.OK=0]="OK",li[li.CANCELLED=1]="CANCELLED",li[li.UNKNOWN=2]="UNKNOWN",li[li.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",li[li.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",li[li.NOT_FOUND=5]="NOT_FOUND",li[li.ALREADY_EXISTS=6]="ALREADY_EXISTS",li[li.PERMISSION_DENIED=7]="PERMISSION_DENIED",li[li.UNAUTHENTICATED=16]="UNAUTHENTICATED",li[li.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",li[li.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",li[li.ABORTED=10]="ABORTED",li[li.OUT_OF_RANGE=11]="OUT_OF_RANGE",li[li.UNIMPLEMENTED=12]="UNIMPLEMENTED",li[li.INTERNAL=13]="INTERNAL",li[li.UNAVAILABLE=14]="UNAVAILABLE",li[li.DATA_LOSS=15]="DATA_LOSS";class mw{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return V0}static getOrCreateInstance(){return null===V0&&(V0=new mw),V0}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let V0=null;const PT=new lf([4294967295,4294967295],0);function _w(n){const e=function RT(){return new TextEncoder}().encode(n),t=new Tm;return t.update(e),new Uint8Array(t.digest())}function yw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),c=e.getUint32(8,!0),p=e.getUint32(12,!0);return[new lf([t,i],0),new lf([c,p],0)]}class U0{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Lm(`Invalid padding: ${t}`);if(i<0)throw new Lm(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Lm(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Lm(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=lf.fromNumber(this.It)}Et(e,t,i){let c=e.add(t.multiply(lf.fromNumber(i)));return 1===c.compare(PT)&&(c=new lf([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=_w(e),[i,c]=yw(t);for(let p=0;p<this.hashCount;p++){const _=this.Et(i,c,p);if(!this.At(_))return!1}return!0}static create(e,t,i){const c=e%8==0?0:8-e%8,p=new Uint8Array(Math.ceil(e/8)),_=new U0(p,c,t);return i.forEach(E=>_.insert(E)),_}insert(e){if(0===this.It)return;const t=_w(e),[i,c]=yw(t);for(let p=0;p<this.hashCount;p++){const _=this.Et(i,c,p);this.Rt(_)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Lm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Bm{constructor(e,t,i,c,p){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=c,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const c=new Map;return c.set(e,Vm.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Bm(Nn.min(),c,new ar(Qn),Bc(),Er())}}class Vm{constructor(e,t,i,c,p){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=c,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Vm(i,t,Er(),Er(),Er())}}class ky{constructor(e,t,i,c){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=c}}class vw{constructor(e,t){this.targetId=e,this.Vt=t}}class H0{constructor(e,t,i=fr.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=c}}class bw{constructor(){this.St=0,this.Dt=FT(),this.Ct=fr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Er(),t=Er(),i=Er();return this.Dt.forEach((c,p)=>{switch(p){case 0:e=e.add(c);break;case 2:t=t.add(c);break;case 1:i=i.add(c);break;default:hn()}}),new Vm(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=FT()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Zp{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Bc(),this.zt=kT(),this.Wt=new ar(Qn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:hn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,c)=>{this.te(c)&&t(c)})}ne(e){var t;const i=e.targetId,c=e.Vt.count,p=this.se(i);if(p){const _=p.target;if(Om(_))if(0===c){const E=new Qt(_.path);this.Yt(i,E,as.newNoDocument(E,Nn.min()))}else In(1===c);else{const E=this.ie(i);if(E!==c){const F=this.re(e,E);0!==F&&(this.ee(i),this.Wt=this.Wt.insert(i,2===F?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=mw.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(H,te,pe){var Be,ct,kt,sn,ln,Dr;const ii={localCacheCount:te,existenceFilterCount:pe.count},kr=pe.unchangedNames;return kr&&(ii.bloomFilter={applied:0===H,hashCount:null!==(Be=kr?.hashCount)&&void 0!==Be?Be:0,bitmapLength:null!==(sn=null===(kt=null===(ct=kr?.bits)||void 0===ct?void 0:ct.bitmap)||void 0===kt?void 0:kt.length)&&void 0!==sn?sn:0,padding:null!==(Dr=null===(ln=kr?.bits)||void 0===ln?void 0:ln.padding)&&void 0!==Dr?Dr:0}),ii}(F,E,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:c}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:p="",padding:_=0},hashCount:E=0}=i;let F,H;try{F=Ur(p).toUint8Array()}catch(te){if(te instanceof Gn)return al("Decoding the base64 bloom filter in existence filter failed ("+te.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw te}try{H=new U0(F,_,E)}catch(te){return al(te instanceof Lm?"BloomFilter error: ":"Applying bloom filter failed: ",te),1}return 0===H.It?1:c!==t-this.oe(e.targetId,H)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let c=0;return i.forEach(p=>{const _=this.Gt.ue(),E=`projects/${_.projectId}/databases/${_.database}/documents/${p.path.canonicalString()}`;t.vt(E)||(this.Yt(e,p,null),c++)}),c}ce(e){const t=new Map;this.Qt.forEach((p,_)=>{const E=this.se(_);if(E){if(p.current&&Om(E.target)){const F=new Qt(E.target.path);null!==this.jt.get(F)||this.ae(_,F)||this.Yt(_,F,as.newNoDocument(F,e))}p.Mt&&(t.set(_,p.Ot()),p.Ft())}});let i=Er();this.zt.forEach((p,_)=>{let E=!0;_.forEachWhile(F=>{const H=this.se(F);return!H||"TargetPurposeLimboResolution"===H.purpose||(E=!1,!1)}),E&&(i=i.add(p))}),this.jt.forEach((p,_)=>_.setReadTime(e));const c=new Bm(e,t,this.Wt,this.jt,i);return this.jt=Bc(),this.zt=kT(),this.Wt=new ar(Qn),c}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const c=this.Zt(e);this.ae(e,t)?c.Bt(t,1):c.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new bw,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Xr(Qn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ot("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new bw),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function kT(){return new ar(Qt.comparator)}function FT(){return new ar(Qt.comparator)}const Um={asc:"ASCENDING",desc:"DESCENDING"},cS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ww={and:"AND",or:"OR"};class lS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function G0(n,e){return n.useProto3Json||_d(e)?e:{value:e}}function Kp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HD(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Hm(n,e){return Kp(n,e.toTimestamp())}function Do(n){return In(!!n),Nn.fromTimestamp(function(e){const t=Mi(e);return new _s(t.seconds,t.nanos)}(n))}function Iw(n,e){return(t=n,new Jr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function LT(n){const e=Jr.fromString(n);return In($m(e)),e}function Ed(n,e){return Iw(n.databaseId,e.path)}function Dd(n,e){const t=LT(e);if(t.get(1)!==n.databaseId.projectId)throw new Ct(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ct(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Qt(GD(t))}function Gm(n,e){return Iw(n.databaseId,e)}function Na(n){return new Jr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function GD(n){return In(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Tw(n,e,t){return{name:Ed(n,e),fields:t.value.mapValue.fields}}function UT(n,e){return{documents:[Gm(n,e.path)]}}function Dw(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Gm(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Gm(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const c=function(F){if(0!==F.length)return Cw(Ri.create(F,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const p=function(F){if(0!==F.length)return F.map(H=>{return{field:ph((te=H).field),direction:$D(te.dir)};var te})}(e.orderBy);p&&(t.structuredQuery.orderBy=p);const _=G0(n,e.limit);var E,F;return null!==_&&(t.structuredQuery.limit=_),e.startAt&&(t.structuredQuery.startAt={before:(E=e.startAt).inclusive,values:E.position}),e.endAt&&(t.structuredQuery.endAt={before:!(F=e.endAt).inclusive,values:F.position}),t}function HT(n){let e=function Fy(n){const e=LT(n);return 4===e.length?Jr.emptyPath():GD(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let c=null;if(i>0){In(1===i);const te=t.from[0];te.allDescendants?c=te.collectionId:e=e.child(te.collectionId)}let p=[];t.where&&(p=function(te){const pe=GT(te);return pe instanceof Ri&&O0(pe)?pe.getFilters():[pe]}(t.where));let _=[];t.orderBy&&(_=t.orderBy.map(te=>{return new jp(Yp((pe=te).field),function(Be){switch(Be){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(pe.direction));var pe}));let E=null;t.limit&&(E=function(te){let pe;return pe="object"==typeof te?te.value:te,_d(pe)?null:pe}(t.limit));let F=null;var te;t.startAt&&(F=new wd((te=t.startAt).values||[],!!te.before));let H=null;return t.endAt&&(H=function(te){return new wd(te.values||[],!te.before)}(t.endAt)),function _T(n,e,t,i,c,p,_,E){return new bf(n,e,t,i,c,p,_,E)}(e,c,_,p,E,"F",F,H)}function GT(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Yp(e.unaryFilter.field);return Yr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Yp(e.unaryFilter.field);return Yr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Yp(e.unaryFilter.field);return Yr.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Yp(e.unaryFilter.field);return Yr.create(p,"!=",{nullValue:"NULL_VALUE"});default:return hn()}}(n):void 0!==n.fieldFilter?Yr.create(Yp((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return hn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Ri.create(e.compositeFilter.filters.map(t=>GT(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return hn()}}(e.compositeFilter.op))}(n):hn();var e}function $D(n){return Um[n]}function zD(n){return cS[n]}function $0(n){return ww[n]}function ph(n){return{fieldPath:n.canonicalString()}}function Yp(n){return Cs.fromServerFormat(n.fieldPath)}function Cw(n){return n instanceof Yr?function(e){if("=="===e.op){if(Up(e.value))return{unaryFilter:{field:ph(e.field),op:"IS_NAN"}};if(Vp(e.value))return{unaryFilter:{field:ph(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Up(e.value))return{unaryFilter:{field:ph(e.field),op:"IS_NOT_NAN"}};if(Vp(e.value))return{unaryFilter:{field:ph(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ph(e.field),op:zD(e.op),value:e.value}}}(n):n instanceof Ri?function(e){const t=e.getFilters().map(i=>Cw(i));return 1===t.length?t[0]:{compositeFilter:{op:$0(e.op),filters:t}}}(n):hn()}function WD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function $m(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class xl{constructor(e,t,i,c,p=Nn.min(),_=Nn.min(),E=fr.EMPTY_BYTE_STRING,F=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=c,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=E,this.expectedCount=F}withSequenceNumber(e){return new xl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class jT{constructor(e){this.fe=e}}function Sw(n){const e=HT({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?F0(e,e.limit,"L"):e}class Cf{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(ri(e.integerValue));else if("doubleValue"in e){const i=ri(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),ll(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ur(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?Ny(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):hn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const c of Object.keys(i))this.Te(c,t),this.me(i[c],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const c of i)this.me(c,t)}ve(e,t){this.ye(t,37),Qt.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Cf.Ve=new Cf;class tC{constructor(){this.rn=new K0}addToCollectionParentIndex(e,t){return this.rn.add(t),qe.resolve()}getCollectionParents(e,t){return qe.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return qe.resolve()}deleteFieldIndex(e,t){return qe.resolve()}getDocumentsMatchingTarget(e,t){return qe.resolve(null)}getIndexType(e,t){return qe.resolve(0)}getFieldIndexes(e,t){return qe.resolve([])}getNextCollectionGroupToUpdate(e){return qe.resolve(null)}getMinOffset(e,t){return qe.resolve(fc.min())}getMinOffsetFromCollectionGroup(e,t){return qe.resolve(fc.min())}updateCollectionGroup(e,t,i){return qe.resolve()}updateIndexEntries(e,t){return qe.resolve()}}class K0{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),c=this.index[t]||new Xr(Jr.comparator),p=!c.has(i);return this.index[t]=c.add(i),p}has(e){const t=e.lastSegment(),i=e.popLast(),c=this.index[t];return c&&c.has(i)}getEntries(e){return(this.index[e]||new Xr(Jr.comparator)).toArray()}}new Uint8Array(0);class mc{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new mc(e,mc.DEFAULT_COLLECTION_PERCENTILE,mc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}mc.DEFAULT_COLLECTION_PERCENTILE=10,mc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mc.DEFAULT=new mc(41943040,mc.DEFAULT_COLLECTION_PERCENTILE,mc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mc.DISABLED=new mc(-1,0,0);class Af{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Af(0)}static Mn(){return new Af(-1)}}class iC{constructor(){this.changes=new Id(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,as.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?qe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Lw{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class e1{constructor(e,t,i,c){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=c}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(c=>(i=c,this.remoteDocumentCache.getEntry(e,t))).next(c=>(null!==i&&km(i.mutation,c,en.empty(),_s.now()),c))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Er()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Er()){const c=ju();return this.populateOverlays(e,c,t).next(()=>this.computeViews(e,t,c,i).next(p=>{let _=hl();return p.forEach((E,F)=>{_=_.insert(E,F.overlayedDocument)}),_}))}getOverlayedDocuments(e,t){const i=ju();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Er()))}populateOverlays(e,t,i){const c=[];return i.forEach(p=>{t.has(p)||c.push(p)}),this.documentOverlayCache.getOverlays(e,c).next(p=>{p.forEach((_,E)=>{t.set(_,E)})})}computeViews(e,t,i,c){let p=Bc();const _=Vc(),E=Vc();return t.forEach((F,H)=>{const te=i.get(H.key);c.has(H.key)&&(void 0===te||te.mutation instanceof fh)?p=p.insert(H.key,H):void 0!==te?(_.set(H.key,te.mutation.getFieldMask()),km(te.mutation,H,te.mutation.getFieldMask(),_s.now())):_.set(H.key,en.empty())}),this.recalculateAndSaveOverlays(e,p).next(F=>(F.forEach((H,te)=>_.set(H,te)),t.forEach((H,te)=>{var pe;return E.set(H,new Lw(te,null!==(pe=_.get(H))&&void 0!==pe?pe:null))}),E))}recalculateAndSaveOverlays(e,t){const i=Vc();let c=new ar((_,E)=>_-E),p=Er();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(_=>{for(const E of _)E.keys().forEach(F=>{const H=t.get(F);if(null===H)return;let te=i.get(F)||en.empty();te=E.applyToLocalView(H,te),i.set(F,te);const pe=(c.get(E.batchId)||Er()).add(F);c=c.insert(E.batchId,pe)})}).next(()=>{const _=[],E=c.getReverseIterator();for(;E.hasNext();){const F=E.getNext(),H=F.key,te=F.value,pe=$u();te.forEach(Be=>{if(!p.has(Be)){const ct=uw(t.get(Be),i.get(Be));null!==ct&&pe.set(Be,ct),p=p.add(Be)}}),_.push(this.documentOverlayCache.saveOverlays(e,H,pe))}return qe.waitFor(_)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Qt.isDocumentKey((c=t).path)&&null===c.collectionGroup&&0===c.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):P0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var c}getNextDocuments(e,t,i,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,c).next(p=>{const _=c-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,c-p.size):qe.resolve(ju());let E=-1,F=p;return _.next(H=>qe.forEach(H,(te,pe)=>(E<pe.largestBatchId&&(E=pe.largestBatchId),p.get(te)?qe.resolve():this.remoteDocumentCache.getEntry(e,te).next(Be=>{F=F.insert(te,Be)}))).next(()=>this.populateOverlays(e,H,p)).next(()=>this.computeViews(e,F,H,Er())).next(te=>({batchId:E,changes:vT(te)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Qt(t)).next(i=>{let c=hl();return i.isFoundDocument()&&(c=c.insert(i.key,i)),c})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const c=t.collectionGroup;let p=hl();return this.indexManager.getCollectionParents(e,c).next(_=>qe.forEach(_,E=>{const F=(H=t,te=E.child(c),new bf(te,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,te;return this.getDocumentsMatchingCollectionQuery(e,F,i).next(H=>{H.forEach((te,pe)=>{p=p.insert(te,pe)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,t,i){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,c))).next(p=>{c.forEach((E,F)=>{const H=F.getKey();null===p.get(H)&&(p=p.insert(H,as.newInvalidDocument(H)))});let _=hl();return p.forEach((E,F)=>{const H=c.get(E);void 0!==H&&km(H.mutation,F,en.empty(),_s.now()),xy(t,F)&&(_=_.insert(E,F))}),_})}}class cC{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return qe.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:Do(i.createTime)}),qe.resolve()}getNamedQuery(e,t){return qe.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:Sw(i.bundledQuery),readTime:Do(i.readTime)}),qe.resolve();var i}}class sE{constructor(){this.overlays=new ar(Qt.comparator),this.ls=new Map}getOverlay(e,t){return qe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ju();return qe.forEach(t,c=>this.getOverlay(e,c).next(p=>{null!==p&&i.set(c,p)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((c,p)=>{this.we(e,t,p)}),qe.resolve()}removeOverlaysForBatchId(e,t,i){const c=this.ls.get(i);return void 0!==c&&(c.forEach(p=>this.overlays=this.overlays.remove(p)),this.ls.delete(i)),qe.resolve()}getOverlaysForCollection(e,t,i){const c=ju(),p=t.length+1,_=new Qt(t.child("")),E=this.overlays.getIteratorFrom(_);for(;E.hasNext();){const F=E.getNext().value,H=F.getKey();if(!t.isPrefixOf(H.path))break;H.path.length===p&&F.largestBatchId>i&&c.set(F.getKey(),F)}return qe.resolve(c)}getOverlaysForCollectionGroup(e,t,i,c){let p=new ar((H,te)=>H-te);const _=this.overlays.getIterator();for(;_.hasNext();){const H=_.getNext().value;if(H.getKey().getCollectionGroup()===t&&H.largestBatchId>i){let te=p.get(H.largestBatchId);null===te&&(te=ju(),p=p.insert(H.largestBatchId,te)),te.set(H.getKey(),H)}}const E=ju(),F=p.getIterator();for(;F.hasNext()&&(F.getNext().value.forEach((H,te)=>E.set(H,te)),!(E.size()>=c)););return qe.resolve(E)}we(e,t,i){const c=this.overlays.get(i.key);if(null!==c){const _=this.ls.get(c.largestBatchId).delete(i.key);this.ls.set(c.largestBatchId,_)}this.overlays=this.overlays.insert(i.key,new gw(t,i));let p=this.ls.get(t);void 0===p&&(p=Er(),this.ls.set(t,p)),this.ls.set(t,p.add(i.key))}}class t1{constructor(){this.fs=new Xr(Oa.ds),this.ws=new Xr(Oa._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Oa(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Oa(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new Qt(new Jr([])),i=new Oa(t,e),c=new Oa(t,e+1),p=[];return this.ws.forEachInRange([i,c],_=>{this.ys(_),p.push(_.key)}),p}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Qt(new Jr([])),i=new Oa(t,e),c=new Oa(t,e+1);let p=Er();return this.ws.forEachInRange([i,c],_=>{p=p.add(_.key)}),p}containsKey(e){const t=new Oa(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Oa{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Qt.comparator(e.key,t.key)||Qn(e.As,t.As)}static _s(e,t){return Qn(e.As,t.As)||Qt.comparator(e.key,t.key)}}class oE{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Xr(Oa.ds)}checkEmpty(e){return qe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,c){const p=this.vs;this.vs++;const _=new fw(p,t,i,c);this.mutationQueue.push(_);for(const E of c)this.Rs=this.Rs.add(new Oa(E.key,p)),this.indexManager.addToCollectionParentIndex(e,E.key.path.popLast());return qe.resolve(_)}lookupMutationBatch(e,t){return qe.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const c=this.bs(t+1),p=c<0?0:c;return qe.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return qe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Oa(t,0),c=new Oa(t,Number.POSITIVE_INFINITY),p=[];return this.Rs.forEachInRange([i,c],_=>{const E=this.Ps(_.As);p.push(E)}),qe.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Xr(Qn);return t.forEach(c=>{const p=new Oa(c,0),_=new Oa(c,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([p,_],E=>{i=i.add(E.As)})}),qe.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,c=i.length+1;let p=i;Qt.isDocumentKey(p)||(p=p.child(""));const _=new Oa(new Qt(p),0);let E=new Xr(Qn);return this.Rs.forEachWhile(F=>{const H=F.key.path;return!!i.isPrefixOf(H)&&(H.length===c&&(E=E.add(F.As)),!0)},_),qe.resolve(this.Vs(E))}Vs(e){const t=[];return e.forEach(i=>{const c=this.Ps(i);null!==c&&t.push(c)}),t}removeMutationBatch(e,t){In(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return qe.forEach(t.mutations,c=>{const p=new Oa(c.key,t.batchId);return i=i.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Oa(t,0),c=this.Rs.firstAfterOrEqual(i);return qe.resolve(t.isEqual(c&&c.key))}performConsistencyCheck(e){return qe.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Bw{constructor(e){this.Ds=e,this.docs=new ar(Qt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,c=this.docs.get(i),p=c?c.size:0,_=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:_}),this.size+=_-p,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return qe.resolve(i?i.document.mutableCopy():as.newInvalidDocument(t))}getEntries(e,t){let i=Bc();return t.forEach(c=>{const p=this.docs.get(c);i=i.insert(c,p?p.document.mutableCopy():as.newInvalidDocument(c))}),qe.resolve(i)}getDocumentsMatchingQuery(e,t,i,c){let p=Bc();const _=t.path,E=new Qt(_.child("")),F=this.docs.getIteratorFrom(E);for(;F.hasNext();){const{key:H,value:{document:te}}=F.getNext();if(!_.isPrefixOf(H.path))break;H.path.length>_.length+1||ff(D0(te),i)<=0||(c.has(te.key)||xy(t,te))&&(p=p.insert(te.key,te.mutableCopy()))}return qe.resolve(p)}getAllFromCollectionGroup(e,t,i,c){hn()}Cs(e,t){return qe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new aE(this)}getSize(e){return qe.resolve(this.size)}}class aE extends iC{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,c)=>{c.isValidDocument()?t.push(this.os.addEntry(e,c)):this.os.removeEntry(i)}),qe.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class cE{constructor(e){this.persistence=e,this.xs=new Id(t=>hh(t),Gu),this.lastRemoteSnapshotVersion=Nn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new t1,this.targetCount=0,this.Ms=Af.kn()}forEachTarget(e,t){return this.xs.forEach((i,c)=>t(c)),qe.resolve()}getLastRemoteSnapshotVersion(e){return qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return qe.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),qe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),qe.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Af(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,qe.resolve()}updateTargetData(e,t){return this.Fn(t),qe.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,qe.resolve()}removeTargets(e,t,i){let c=0;const p=[];return this.xs.forEach((_,E)=>{E.sequenceNumber<=t&&null===i.get(E.targetId)&&(this.xs.delete(_),p.push(this.removeMatchingKeysForTargetId(e,E.targetId)),c++)}),qe.waitFor(p).next(()=>c)}getTargetCount(e){return qe.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return qe.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),qe.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const c=this.persistence.referenceDelegate,p=[];return c&&t.forEach(_=>{p.push(c.markPotentiallyOrphaned(e,_))}),qe.waitFor(p)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),qe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return qe.resolve(i)}containsKey(e,t){return qe.resolve(this.ks.containsKey(t))}}class n1{constructor(e,t){this.$s={},this.overlays={},this.Os=new ss(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new cE(this),this.indexManager=new tC,this.remoteDocumentCache=new Bw(i=>this.referenceDelegate.Ls(i)),this.serializer=new jT(t),this.qs=new cC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new oE(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){Ot("MemoryPersistence","Starting transaction:",e);const c=new lE(this.Os.next());return this.referenceDelegate.Us(),i(c).next(p=>this.referenceDelegate.Ks(c).next(()=>p)).toPromise().then(p=>(c.raiseOnCommittedEvent(),p))}Gs(e,t){return qe.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class lE extends C0{constructor(e){super(),this.currentSequenceNumber=e}}class r1{constructor(e){this.persistence=e,this.Qs=new t1,this.js=null}static zs(e){return new r1(e)}get Ws(){if(this.js)return this.js;throw hn()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),qe.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),qe.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),qe.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(c=>this.Ws.add(c.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(c=>{c.forEach(p=>this.Ws.add(p.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qe.forEach(this.Ws,i=>{const c=Qt.fromPath(i);return this.Hs(e,c).next(p=>{p||t.removeEntry(c,Nn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return qe.or([()=>qe.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class hE{constructor(e,t,i,c){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=c}static Li(e,t){let i=Er(),c=Er();for(const p of t.docChanges)switch(p.type){case 0:i=i.add(p.doc.key);break;case 1:c=c.add(p.doc.key)}return new hE(e,t.fromCache,i,c)}}class fE{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,c){return this.Ki(e,t).next(p=>p||this.Gi(e,t,c,i)).next(p=>p||this.Qi(e,t))}Ki(e,t){if(tw(t))return qe.resolve(null);let i=Lc(t);return this.indexManager.getIndexType(e,i).next(c=>0===c?null:(null!==t.limit&&1===c&&(t=F0(t,null,"F"),i=Lc(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(p=>{const _=Er(...p);return this.Ui.getDocuments(e,_).next(E=>this.indexManager.getMinOffset(e,i).next(F=>{const H=this.ji(t,E);return this.zi(t,H,_,F.readTime)?this.Ki(e,F0(t,null,"F")):this.Wi(e,H,t,F)}))})))}Gi(e,t,i,c){return tw(t)||c.isEqual(Nn.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(p=>{const _=this.ji(t,p);return this.zi(t,_,i,c)?this.Qi(e,t):(Em()<=Ee.in.DEBUG&&Ot("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),wf(t)),this.Wi(e,_,t,function kp(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,c=Nn.fromTimestamp(1e9===i?new _s(t+1,0):new _s(t,i));return new fc(c,Qt.empty(),e)}(c,-1)))})}ji(e,t){let i=new Xr(iw(e));return t.forEach((c,p)=>{xy(e,p)&&(i=i.add(p))}),i}zi(e,t,i,c){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const p="F"===e.limitType?t.last():t.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(c)>0)}Qi(e,t){return Em()<=Ee.in.DEBUG&&Ot("QueryEngine","Using full collection scan to execute query:",wf(t)),this.Ui.getDocumentsMatchingQuery(e,t,fc.min())}Wi(e,t,i,c){return this.Ui.getDocumentsMatchingQuery(e,i,c).next(p=>(t.forEach(_=>{p=p.insert(_.key,_)}),p))}}class uC{constructor(e,t,i,c){this.persistence=e,this.Hi=t,this.serializer=c,this.Ji=new ar(Qn),this.Yi=new Id(p=>hh(p),Gu),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new e1(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Uw(n,e){return a1.apply(this,arguments)}function a1(){return a1=(0,de.Z)(function*(n,e){const t=Yt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let c;return t.mutationQueue.getAllMutationBatches(i).next(p=>(c=p,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(p=>{const _=[],E=[];let F=Er();for(const H of c){_.push(H.batchId);for(const te of H.mutations)F=F.add(te.key)}for(const H of p){E.push(H.batchId);for(const te of H.mutations)F=F.add(te.key)}return t.localDocuments.getDocuments(i,F).next(H=>({er:H,removedBatchIds:_,addedBatchIds:E}))})})}),a1.apply(this,arguments)}function mE(n){const e=Yt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function hC(n,e){const t=Yt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function t_(n,e,t){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,de.Z)(function*(n,e,t){const i=Yt(n),c=i.Ji.get(e),p=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",p,_=>i.persistence.referenceDelegate.removeTarget(_,c)))}catch(_){if(!ru(_))throw _;Ot("LocalStore",`Failed to update sequence numbers for target ${e}: ${_}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(c.target)}),Xp.apply(this,arguments)}function zy(n,e,t){const i=Yt(n);let c=Nn.min(),p=Er();return i.persistence.runTransaction("Execute query","readonly",_=>function(E,F,H){const te=Yt(E),pe=te.Yi.get(H);return void 0!==pe?qe.resolve(te.Ji.get(pe)):te.Bs.getTargetData(F,H)}(i,_,Lc(e)).next(E=>{if(E)return c=E.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(_,E.targetId).next(F=>{p=F})}).next(()=>i.Hi.getDocumentsMatchingQuery(_,e,t?c:Nn.min(),t?p:Er())).next(E=>(function jw(n,e,t){let i=n.Xi.get(e)||Nn.min();t.forEach((c,p)=>{p.readTime.compareTo(i)>0&&(i=p.readTime)}),n.Xi.set(e,i)}(i,function yT(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),E),{documents:E,ir:p})))}class zw{constructor(){this.activeTargetIds=function sw(){return FD}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bE{constructor(){this.Hr=new zw,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new zw,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dS{Yr(e){}shutdown(){}}class wE{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ot("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ot("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ww=null;function tg(){return null===Ww?Ww=268435456+Math.round(2147483648*Math.random()):Ww++,"0x"+Ww.toString(16)}const gC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mC{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const _c="WebChannelConnection";class h1 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,c,p){const _=tg(),E=this.To(e,t);Ot("RestConnection",`Sending RPC '${e}' ${_}:`,E,i);const F={};return this.Eo(F,c,p),this.Ao(e,E,F,i).then(H=>(Ot("RestConnection",`Received RPC '${e}' ${_}: `,H),H),H=>{throw al("RestConnection",`RPC '${e}' ${_} failed with error: `,H,"url: ",E,"request:",i),H})}vo(e,t,i,c,p,_){return this.Io(e,t,i,c,p)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Bu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((c,p)=>e[p]=c),i&&i.headers.forEach((c,p)=>e[p]=c)}To(e,t){return`${this.mo}/v1/${t}:${gC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,c){const p=tg();return new Promise((_,E)=>{const F=new OD;F.setWithCredentials(!0),F.listenOnce(wy.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case ch.NO_ERROR:const te=F.getResponseJson();Ot(_c,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(te)),_(te);break;case ch.TIMEOUT:Ot(_c,`RPC '${e}' ${p} timed out`),E(new Ct(rt.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:const pe=F.getStatus();if(Ot(_c,`RPC '${e}' ${p} failed with status:`,pe,"response text:",F.getResponseText()),pe>0){let Be=F.getResponseJson();Array.isArray(Be)&&(Be=Be[0]);const ct=Be?.error;if(ct&&ct.status&&ct.message){const kt=function(sn){const ln=sn.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(ln)>=0?ln:rt.UNKNOWN}(ct.status);E(new Ct(kt,ct.message))}else E(new Ct(rt.UNKNOWN,"Server responded with status "+F.getStatus()))}else E(new Ct(rt.UNAVAILABLE,"Connection failed."));break;default:hn()}}finally{Ot(_c,`RPC '${e}' ${p} completed.`)}});const H=JSON.stringify(c);Ot(_c,`RPC '${e}' ${p} sending request:`,c),F.send(t,"POST",H,i,15)})}Ro(e,t,i){const c=tg(),p=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],_=Np(),E=Vb(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},H=this.longPollingOptions.timeoutSeconds;void 0!==H&&(F.longPollingTimeout=Math.round(1e3*H)),this.useFetchStreams&&(F.xmlHttpFactory=new Mp({})),this.Eo(F.initMessageHeaders,t,i),F.encodeInitMessageHeaders=!0;const te=p.join("");Ot(_c,`Creating RPC '${e}' stream ${c}: ${te}`,F);const pe=_.createWebChannel(te,F);let Be=!1,ct=!1;const kt=new mC({ro:ln=>{ct?Ot(_c,`Not sending because RPC '${e}' stream ${c} is closed:`,ln):(Be||(Ot(_c,`Opening RPC '${e}' stream ${c} transport.`),pe.open(),Be=!0),Ot(_c,`RPC '${e}' stream ${c} sending:`,ln),pe.send(ln))},oo:()=>pe.close()}),sn=(ln,Dr,ii)=>{ln.listen(Dr,kr=>{try{ii(kr)}catch(qo){setTimeout(()=>{throw qo},0)}})};return sn(pe,cf.EventType.OPEN,()=>{ct||Ot(_c,`RPC '${e}' stream ${c} transport opened.`)}),sn(pe,cf.EventType.CLOSE,()=>{ct||(ct=!0,Ot(_c,`RPC '${e}' stream ${c} transport closed`),kt.wo())}),sn(pe,cf.EventType.ERROR,ln=>{ct||(ct=!0,al(_c,`RPC '${e}' stream ${c} transport errored:`,ln),kt.wo(new Ct(rt.UNAVAILABLE,"The operation could not be completed")))}),sn(pe,cf.EventType.MESSAGE,ln=>{var Dr;if(!ct){const ii=ln.data[0];In(!!ii);const qo=ii.error||(null===(Dr=ii[0])||void 0===Dr?void 0:Dr.error);if(qo){Ot(_c,`RPC '${e}' stream ${c} received error:`,qo);const So=qo.status;let Xi=function(ug){const sb=Wo[ug];if(void 0!==sb)return xT(sb)}(So),Gc=qo.message;void 0===Xi&&(Xi=rt.INTERNAL,Gc="Unknown error status: "+So+" with message "+qo.message),ct=!0,kt.wo(new Ct(Xi,Gc)),pe.close()}else Ot(_c,`RPC '${e}' stream ${c} received:`,ii),kt._o(ii)}}),sn(E,Op.STAT_EVENT,ln=>{ln.stat===Iy.PROXY?Ot(_c,`RPC '${e}' stream ${c} detected buffering proxy`):ln.stat===Iy.NOPROXY&&Ot(_c,`RPC '${e}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{kt.fo()},0),kt}}function f1(){return typeof document<"u"?document:null}function n_(n){return new lS(n,!0)}class r_{constructor(e,t,i=1e3,c=1.5,p=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=c,this.Vo=p,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),c=Math.max(0,t-i);c>0&&Ot("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,c,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class IE{constructor(e,t,i,c,p,_,E,F){this.ii=e,this.$o=i,this.Oo=c,this.connection=p,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=E,this.listener=F,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new r_(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,de.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,de.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,de.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===rt.RESOURCE_EXHAUSTED?(Gs(t.toString()),Gs("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===rt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,c])=>{this.Fo===t&&this.Zo(i,c)},i=>{e(()=>{const c=new Ct(rt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(c)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(c=>{i(()=>this.tu(c))}),this.stream.onMessage(c=>{i(()=>this.onMessage(c))})}Go(){var e=this;this.state=5,this.qo.No((0,de.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ot("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ot("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _C extends IE{constructor(e,t,i,c,p,_){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,c,_),this.serializer=p}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function BT(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(F=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===F?1:"REMOVE"===F?2:"CURRENT"===F?3:"RESET"===F?4:hn(),c=e.targetChange.targetIds||[],p=function(F,H){return F.useProto3Json?(In(void 0===H||"string"==typeof H),fr.fromBase64String(H||"")):(In(void 0===H||H instanceof Uint8Array),fr.fromUint8Array(H||new Uint8Array))}(n,e.targetChange.resumeToken),_=e.targetChange.cause,E=_&&function(F){const H=void 0===F.code?rt.UNKNOWN:xT(F.code);return new Ct(H,F.message||"")}(_);t=new H0(i,c,p,E||null)}else if("documentChange"in e){const i=e.documentChange,c=Dd(n,i.document.name),p=Do(i.document.updateTime),_=i.document.createTime?Do(i.document.createTime):Nn.min(),E=new Ja({mapValue:{fields:i.document.fields}}),F=as.newFoundDocument(c,p,_,E);t=new ky(i.targetIds||[],i.removedTargetIds||[],F.key,F)}else if("documentDelete"in e){const i=e.documentDelete,c=Dd(n,i.document),p=i.readTime?Do(i.readTime):Nn.min(),_=as.newNoDocument(c,p);t=new ky([],i.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){const i=e.documentRemove,c=Dd(n,i.document);t=new ky([],i.removedTargetIds||[],c,null)}else{if(!("filter"in e))return hn();{const i=e.filter,{count:c=0,unchangedNames:p}=i,_=new UD(c,p);t=new vw(i.targetId,_)}}var F;return t}(this.serializer,e),i=function(c){if(!("targetChange"in c))return Nn.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?Nn.min():p.readTime?Do(p.readTime):Nn.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Na(this.serializer),t.addTarget=function(c,p){let _;const E=p.target;if(_=Om(E)?{documents:UT(c,E)}:{query:Dw(c,E)},_.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){_.resumeToken=HD(c,p.resumeToken);const F=G0(c,p.expectedCount);null!==F&&(_.expectedCount=F)}else if(p.snapshotVersion.compareTo(Nn.min())>0){_.readTime=Kp(c,p.snapshotVersion.toTimestamp());const F=G0(c,p.expectedCount);null!==F&&(_.expectedCount=F)}return _}(this.serializer,e);const i=function Ly(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return hn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Na(this.serializer),t.removeTarget=e,this.Wo(t)}}class TE extends IE{constructor(e,t,i,c,p,_){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,c,_),this.serializer=p,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(In(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function VT(n,e){return n&&n.length>0?(In(void 0!==e),n.map(t=>function(i,c){let p=Do(i.updateTime?i.updateTime:c);return p.isEqual(Nn.min())&&(p=Do(c)),new lw(p,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Do(e.commitTime);return this.listener.cu(i,t)}return In(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Na(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function jm(n,e){let t;if(e instanceof qp)t={update:Tw(n,e.key,e.value)};else if(e instanceof Fm)t={delete:Ed(n,e.key)};else if(e instanceof fh)t={update:Tw(n,e.key,e.data),updateMask:WD(e.fieldMask)};else{if(!(e instanceof hw))return hn();t={verify:Ed(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(c,p){const _=p.transform;if(_ instanceof Rm)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof Tf)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof Td)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof Wp)return{fieldPath:p.field.canonicalString(),increment:_.gt};throw hn()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:Hm(n,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:hn()),t;var c}(this.serializer,i))};this.Wo(t)}}class yC extends class{}{constructor(e,t,i,c){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=c,this.lu=!1}fu(){if(this.lu)throw new Ct(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.Io(e,t,i,c,p)).catch(c=>{throw"FirebaseError"===c.name?(c.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ct(rt.UNKNOWN,c.toString())})}vo(e,t,i,c){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,_])=>this.connection.vo(e,t,i,p,_,c)).catch(p=>{throw"FirebaseError"===p.name?(p.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Ct(rt.UNKNOWN,p.toString())})}terminate(){this.lu=!0}}class g1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Gs(t),this.mu=!1):Ot("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class bC{constructor(e,t,i,c,p){var _=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=p,this.Pu.Yr(E=>{i.enqueueAndForget((0,de.Z)(function*(){var F;Cd(_)&&(Ot("RemoteStore","Restarting streams for network reachability change."),yield(F=(0,de.Z)(function*(H){const te=Yt(H);te.vu.add(4),yield ng(te),te.bu.set("Unknown"),te.vu.delete(4),yield Zy(te)}),function(H){return F.apply(this,arguments)})(_))}))}),this.bu=new g1(i,c)}}function Zy(n){return m1.apply(this,arguments)}function m1(){return m1=(0,de.Z)(function*(n){if(Cd(n))for(const e of n.Ru)yield e(!0)}),m1.apply(this,arguments)}function ng(n){return Ky.apply(this,arguments)}function Ky(){return Ky=(0,de.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),Ky.apply(this,arguments)}function Yy(n,e){const t=Yt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Yw(t)?Kw(t):ev(t).Ko()&&_1(t,e))}function Qy(n,e){const t=Yt(n),i=ev(t);t.Au.delete(e),i.Ko()&&Zw(t,e),0===t.Au.size&&(i.Ko()?i.jo():Cd(t)&&t.bu.set("Unknown"))}function _1(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Nn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ev(n).su(e)}function Zw(n,e){n.Vu.qt(e),ev(n).iu(e)}function Kw(n){n.Vu=new Zp({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),ev(n).start(),n.bu.gu()}function Yw(n){return Cd(n)&&!ev(n).Uo()&&n.Au.size>0}function Cd(n){return 0===Yt(n).vu.size}function y1(n){n.Vu=void 0}function EE(n){return Jy.apply(this,arguments)}function Jy(){return Jy=(0,de.Z)(function*(n){n.Au.forEach((e,t)=>{_1(n,e)})}),Jy.apply(this,arguments)}function Qw(n,e){return Jw.apply(this,arguments)}function Jw(){return Jw=(0,de.Z)(function*(n,e){y1(n),Yw(n)?(n.bu.Iu(e),Kw(n)):n.bu.set("Unknown")}),Jw.apply(this,arguments)}function wC(n,e,t){return Xw.apply(this,arguments)}function Xw(){return Xw=(0,de.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof H0&&2===e.state&&e.cause)try{yield(i=(0,de.Z)(function*(c,p){const _=p.cause;for(const E of p.targetIds)c.Au.has(E)&&(yield c.remoteSyncer.rejectListen(E,_),c.Au.delete(E),c.Vu.removeTarget(E))}),function(c,p){return i.apply(this,arguments)})(n,e)}catch(i){Ot("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield v1(n,i)}else if(e instanceof ky?n.Vu.Ht(e):e instanceof vw?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Nn.min()))try{const i=yield mE(n.localStore);t.compareTo(i)>=0&&(yield function(c,p){const _=c.Vu.ce(p);return _.targetChanges.forEach((E,F)=>{if(E.resumeToken.approximateByteSize()>0){const H=c.Au.get(F);H&&c.Au.set(F,H.withResumeToken(E.resumeToken,p))}}),_.targetMismatches.forEach((E,F)=>{const H=c.Au.get(E);if(!H)return;c.Au.set(E,H.withResumeToken(fr.EMPTY_BYTE_STRING,H.snapshotVersion)),Zw(c,E);const te=new xl(H.target,E,F,H.sequenceNumber);_1(c,te)}),c.remoteSyncer.applyRemoteEvent(_)}(n,t))}catch(i){Ot("RemoteStore","Failed to raise snapshot:",i),yield v1(n,i)}var i}),Xw.apply(this,arguments)}function v1(n,e,t){return b1.apply(this,arguments)}function b1(){return b1=(0,de.Z)(function*(n,e,t){if(!ru(e))throw e;n.vu.add(1),yield ng(n),n.bu.set("Offline"),t||(t=()=>mE(n.localStore)),n.asyncQueue.enqueueRetryable((0,de.Z)(function*(){Ot("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Zy(n)}))}),b1.apply(this,arguments)}function w1(n,e){return e().catch(t=>v1(n,t,e))}function rg(n){return I1.apply(this,arguments)}function I1(){return I1=(0,de.Z)(function*(n){const e=Yt(n),t=ig(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;DE(e);)try{const c=yield hC(e.localStore,i);if(null===c){0===e.Eu.length&&t.jo();break}i=c.batchId,CE(e,c)}catch(c){yield v1(e,c)}SE(e)&&eI(e)}),I1.apply(this,arguments)}function DE(n){return Cd(n)&&n.Eu.length<10}function CE(n,e){n.Eu.push(e);const t=ig(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function SE(n){return Cd(n)&&!ig(n).Uo()&&n.Eu.length>0}function eI(n){ig(n).start()}function AE(n){return tI.apply(this,arguments)}function tI(){return tI=(0,de.Z)(function*(n){ig(n).hu()}),tI.apply(this,arguments)}function NE(n){return T1.apply(this,arguments)}function T1(){return T1=(0,de.Z)(function*(n){const e=ig(n);for(const t of n.Eu)e.uu(t.mutations)}),T1.apply(this,arguments)}function Uc(n,e,t){return Of.apply(this,arguments)}function Of(){return Of=(0,de.Z)(function*(n,e,t){const i=n.Eu.shift(),c=pw.from(i,e,t);yield w1(n,()=>n.remoteSyncer.applySuccessfulWrite(c)),yield rg(n)}),Of.apply(this,arguments)}function IC(n,e){return nI.apply(this,arguments)}function nI(){return nI=(0,de.Z)(function*(n,e){var t;e&&ig(n).ou&&(yield(t=(0,de.Z)(function*(i,c){if(function MT(n){switch(n){default:return hn();case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0}}(p=c.code)&&p!==rt.ABORTED){const _=i.Eu.shift();ig(i).Qo(),yield w1(i,()=>i.remoteSyncer.rejectFailedWrite(_.batchId,c)),yield rg(i)}var p}),function(i,c){return t.apply(this,arguments)})(n,e)),SE(n)&&eI(n)}),nI.apply(this,arguments)}function TC(n,e){return OE.apply(this,arguments)}function OE(){return OE=(0,de.Z)(function*(n,e){const t=Yt(n);t.asyncQueue.verifyOperationInProgress(),Ot("RemoteStore","RemoteStore received new credentials");const i=Cd(t);t.vu.add(3),yield ng(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Zy(t)}),OE.apply(this,arguments)}function Xy(){return Xy=(0,de.Z)(function*(n,e){const t=Yt(n);e?(t.vu.delete(2),yield Zy(t)):e||(t.vu.add(2),yield ng(t),t.bu.set("Unknown"))}),Xy.apply(this,arguments)}function ev(n){return n.Su||(n.Su=function(e,t,i){const c=Yt(e);return c.fu(),new _C(t,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,i)}(n.datastore,n.asyncQueue,{uo:EE.bind(null,n),ao:Qw.bind(null,n),nu:wC.bind(null,n)}),n.Ru.push(function(){var e=(0,de.Z)(function*(t){t?(n.Su.Qo(),Yw(n)?Kw(n):n.bu.set("Unknown")):(yield n.Su.stop(),y1(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function ig(n){return n.Du||(n.Du=function(e,t,i){const c=Yt(e);return c.fu(),new TE(t,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,i)}(n.datastore,n.asyncQueue,{uo:AE.bind(null,n),ao:IC.bind(null,n),au:NE.bind(null,n),cu:Uc.bind(null,n)}),n.Ru.push(function(){var e=(0,de.Z)(function*(t){t?(n.Du.Qo(),yield rg(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ot("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class ME{constructor(e,t,i,c,p){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=c,this.removalCallback=p,this.deferred=new so,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}static createAndSchedule(e,t,i,c,p){const _=Date.now()+i,E=new ME(e,t,_,c,p);return E.start(i),E}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ct(rt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sd(n,e){if(Gs("AsyncQueue",`${e}: ${n}`),ru(n))return new Ct(rt.UNAVAILABLE,`${e}: ${n}`);throw n}class i_{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Qt.comparator(t.key,i.key):(t,i)=>Qt.comparator(t.key,i.key),this.keyedMap=hl(),this.sortedSet=new ar(this.comparator)}static emptySet(e){return new i_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof i_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const c=t.getNext().key,p=i.getNext().key;if(!c.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new i_;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class D1{constructor(){this.Cu=new ar(Qt.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):hn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class s_{constructor(e,t,i,c,p,_,E,F,H){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=c,this.mutatedKeys=p,this.fromCache=_,this.syncStateChanged=E,this.excludesMetadataChanges=F,this.hasCachedResults=H}static fromInitialDocuments(e,t,i,c,p){const _=[];return t.forEach(E=>{_.push({type:0,doc:E})}),new s_(e,t,i_.emptySet(t),_,i,c,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let c=0;c<t.length;c++)if(t[c].type!==i[c].type||!t[c].doc.isEqual(i[c].doc))return!1;return!0}}class xE{constructor(){this.Nu=void 0,this.listeners=[]}}class EC{constructor(){this.queries=new Id(e=>rw(e),xm),this.onlineState="Unknown",this.ku=new Set}}function rI(n,e){return iI.apply(this,arguments)}function iI(){return iI=(0,de.Z)(function*(n,e){const t=Yt(n),i=e.query;let c=!1,p=t.queries.get(i);if(p||(c=!0,p=new xE),c)try{p.Nu=yield t.onListen(i)}catch(_){const E=Sd(_,`Initialization of query '${wf(e.query)}' failed`);return void e.onError(E)}t.queries.set(i,p),p.listeners.push(e),e.Mu(t.onlineState),p.Nu&&e.$u(p.Nu)&&nv(t)}),iI.apply(this,arguments)}function tv(n,e){return C1.apply(this,arguments)}function C1(){return C1=(0,de.Z)(function*(n,e){const t=Yt(n),i=e.query;let c=!1;const p=t.queries.get(i);if(p){const _=p.listeners.indexOf(e);_>=0&&(p.listeners.splice(_,1),c=0===p.listeners.length)}if(c)return t.queries.delete(i),t.onUnlisten(i)}),C1.apply(this,arguments)}function DC(n,e){const t=Yt(n);let i=!1;for(const c of e){const _=t.queries.get(c.query);if(_){for(const E of _.listeners)E.$u(c)&&(i=!0);_.Nu=c}}i&&nv(t)}function S1(n,e,t){const i=Yt(n),c=i.queries.get(e);if(c)for(const p of c.listeners)p.onError(t);i.queries.delete(e)}function nv(n){n.ku.forEach(e=>{e.next()})}class RE{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const c of e.docChanges)3!==c.type&&i.push(c);e=new s_(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=s_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class LE{constructor(e){this.key=e}}class sI{constructor(e){this.key=e}}class A1{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Er(),this.mutatedKeys=Er(),this.tc=iw(e),this.ec=new i_(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new D1,c=t?t.ec:this.ec;let p=t?t.mutatedKeys:this.mutatedKeys,_=c,E=!1;const F="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,H="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((te,pe)=>{const Be=c.get(te),ct=xy(this.query,pe)?pe:null,kt=!!Be&&this.mutatedKeys.has(Be.key),sn=!!ct&&(ct.hasLocalMutations||this.mutatedKeys.has(ct.key)&&ct.hasCommittedMutations);let ln=!1;Be&&ct?Be.data.isEqual(ct.data)?kt!==sn&&(i.track({type:3,doc:ct}),ln=!0):this.rc(Be,ct)||(i.track({type:2,doc:ct}),ln=!0,(F&&this.tc(ct,F)>0||H&&this.tc(ct,H)<0)&&(E=!0)):!Be&&ct?(i.track({type:0,doc:ct}),ln=!0):Be&&!ct&&(i.track({type:1,doc:Be}),ln=!0,(F||H)&&(E=!0)),ln&&(ct?(_=_.add(ct),p=sn?p.add(te):p.delete(te)):(_=_.delete(te),p=p.delete(te)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const te="F"===this.query.limitType?_.last():_.first();_=_.delete(te.key),p=p.delete(te.key),i.track({type:1,doc:te})}return{ec:_,ic:i,zi:E,mutatedKeys:p}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const c=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const p=e.ic.xu();p.sort((H,te)=>function(pe,Be){const ct=kt=>{switch(kt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return hn()}};return ct(pe)-ct(Be)}(H.type,te.type)||this.tc(H.doc,te.doc)),this.oc(i);const _=t?this.uc():[],E=0===this.Zu.size&&this.current?1:0,F=E!==this.Xu;return this.Xu=E,0!==p.length||F?{snapshot:new s_(this.query,e.ec,c,p,e.mutatedKeys,0===E,F,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:_}:{cc:_}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new D1,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Er(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new sI(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new LE(i))}),t}hc(e){this.Yu=e.ir,this.Zu=Er();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return s_.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class hS{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class CC{constructor(e){this.key=e,this.fc=!1}}class fS{constructor(e,t,i,c,p,_){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=c,this.currentUser=p,this.maxConcurrentLimboResolutions=_,this.dc={},this.wc=new Id(E=>rw(E),xm),this._c=new Map,this.mc=new Set,this.gc=new ar(Qt.comparator),this.yc=new Map,this.Ic=new t1,this.Tc={},this.Ec=new Map,this.Ac=Af.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function SC(n,e){return oI.apply(this,arguments)}function oI(){return oI=(0,de.Z)(function*(n,e){const t=function _I(n){const e=Yt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=UE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AC.bind(null,e),e.dc.nu=DC.bind(null,e.eventManager),e.dc.Pc=S1.bind(null,e.eventManager),e}(n);let i,c;const p=t.wc.get(e);if(p)i=p.targetId,t.sharedClientState.addLocalQueryTarget(i),c=p.view.lc();else{const _=yield function e_(n,e){const t=Yt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let c;return t.Bs.getTargetData(i,e).next(p=>p?(c=p,qe.resolve(c)):t.Bs.allocateTargetId(i).next(_=>(c=new xl(e,_,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,c).next(()=>c))))}).then(i=>{const c=t.Ji.get(i.targetId);return(null===c||i.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}(t.localStore,Lc(e)),E=t.sharedClientState.addLocalQueryTarget(_.targetId);i=_.targetId,c=yield function aI(n,e,t,i,c){return N1.apply(this,arguments)}(t,e,i,"current"===E,_.resumeToken),t.isPrimaryClient&&Yy(t.remoteStore,_)}return c}),oI.apply(this,arguments)}function N1(){return N1=(0,de.Z)(function*(n,e,t,i,c){n.Rc=(pe,Be,ct)=>{return(kt=(0,de.Z)(function*(sn,ln,Dr,ii){let kr=ln.view.sc(Dr);kr.zi&&(kr=yield zy(sn.localStore,ln.query,!1).then(({documents:Xi})=>ln.view.sc(Xi,kr)));const qo=ii&&ii.targetChanges.get(ln.targetId),So=ln.view.applyChanges(kr,sn.isPrimaryClient,qo);return zE(sn,ln.targetId,So.cc),So.snapshot}),function(sn,ln,Dr,ii){return kt.apply(this,arguments)})(n,pe,Be,ct);var kt};const p=yield zy(n.localStore,e,!0),_=new A1(e,p.ir),E=_.sc(p.documents),F=Vm.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,c),H=_.applyChanges(E,n.isPrimaryClient,F);zE(n,t,H.cc);const te=new hS(e,t,_);return n.wc.set(e,te),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),H.snapshot}),N1.apply(this,arguments)}function BE(n,e){return cI.apply(this,arguments)}function cI(){return cI=(0,de.Z)(function*(n,e){const t=Yt(n),i=t.wc.get(e),c=t._c.get(i.targetId);if(c.length>1)return t._c.set(i.targetId,c.filter(p=>!xm(p,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield t_(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Qy(t.remoteStore,i.targetId),rv(t,i.targetId)}).catch(lh))):(rv(t,i.targetId),yield t_(t.localStore,i.targetId,!0))}),cI.apply(this,arguments)}function O1(){return O1=(0,de.Z)(function*(n,e,t){const i=function yI(n){const e=Yt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HE.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GE.bind(null,e),e}(n);try{const c=yield function(p,_){const E=Yt(p),F=_s.now(),H=_.reduce((Be,ct)=>Be.add(ct.key),Er());let te,pe;return E.persistence.runTransaction("Locally write mutations","readwrite",Be=>{let ct=Bc(),kt=Er();return E.Zi.getEntries(Be,H).next(sn=>{ct=sn,ct.forEach((ln,Dr)=>{Dr.isValidDocument()||(kt=kt.add(ln))})}).next(()=>E.localDocuments.getOverlayedDocuments(Be,ct)).next(sn=>{te=sn;const ln=[];for(const Dr of _){const ii=ST(Dr,te.get(Dr.key).overlayedDocument);null!=ii&&ln.push(new fh(Dr.key,ii,hT(ii.value.mapValue),Ji.exists(!0)))}return E.mutationQueue.addMutationBatch(Be,F,ln,_)}).next(sn=>{pe=sn;const ln=sn.applyToLocalDocumentSet(te,kt);return E.documentOverlayCache.saveOverlays(Be,sn.batchId,ln)})}).then(()=>({batchId:pe.batchId,changes:vT(te)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(c.batchId),function(p,_,E){let F=p.Tc[p.currentUser.toKey()];F||(F=new ar(Qn)),F=F.insert(_,E),p.Tc[p.currentUser.toKey()]=F}(i,c.batchId,t),yield Mf(i,c.changes),yield rg(i.remoteStore)}catch(c){const p=Sd(c,"Failed to persist write");t.reject(p)}}),O1.apply(this,arguments)}function UE(n,e){return lI.apply(this,arguments)}function lI(){return lI=(0,de.Z)(function*(n,e){const t=Yt(n);try{const i=yield function dC(n,e){const t=Yt(n),i=e.snapshotVersion;let c=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const _=t.Zi.newChangeBuffer({trackRemovals:!0});c=t.Ji;const E=[];e.targetChanges.forEach((te,pe)=>{const Be=c.get(pe);if(!Be)return;E.push(t.Bs.removeMatchingKeys(p,te.removedDocuments,pe).next(()=>t.Bs.addMatchingKeys(p,te.addedDocuments,pe)));let ct=Be.withSequenceNumber(p.currentSequenceNumber);var kt,sn,ln;null!==e.targetMismatches.get(pe)?ct=ct.withResumeToken(fr.EMPTY_BYTE_STRING,Nn.min()).withLastLimboFreeSnapshotVersion(Nn.min()):te.resumeToken.approximateByteSize()>0&&(ct=ct.withResumeToken(te.resumeToken,i)),c=c.insert(pe,ct),sn=ct,ln=te,(0===(kt=Be).resumeToken.approximateByteSize()||sn.snapshotVersion.toMicroseconds()-kt.snapshotVersion.toMicroseconds()>=3e8||ln.addedDocuments.size+ln.modifiedDocuments.size+ln.removedDocuments.size>0)&&E.push(t.Bs.updateTargetData(p,ct))});let F=Bc(),H=Er();if(e.documentUpdates.forEach(te=>{e.resolvedLimboDocuments.has(te)&&E.push(t.persistence.referenceDelegate.updateLimboDocument(p,te))}),E.push(function _E(n,e,t){let i=Er(),c=Er();return t.forEach(p=>i=i.add(p)),e.getEntries(n,i).next(p=>{let _=Bc();return t.forEach((E,F)=>{const H=p.get(E);F.isFoundDocument()!==H.isFoundDocument()&&(c=c.add(E)),F.isNoDocument()&&F.version.isEqual(Nn.min())?(e.removeEntry(E,F.readTime),_=_.insert(E,F)):!H.isValidDocument()||F.version.compareTo(H.version)>0||0===F.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(F),_=_.insert(E,F)):Ot("LocalStore","Ignoring outdated watch update for ",E,". Current version:",H.version," Watch version:",F.version)}),{nr:_,sr:c}})}(p,_,e.documentUpdates).next(te=>{F=te.nr,H=te.sr})),!i.isEqual(Nn.min())){const te=t.Bs.getLastRemoteSnapshotVersion(p).next(pe=>t.Bs.setTargetsMetadata(p,p.currentSequenceNumber,i));E.push(te)}return qe.waitFor(E).next(()=>_.apply(p)).next(()=>t.localDocuments.getLocalViewOfDocuments(p,F,H)).next(()=>F)}).then(p=>(t.Ji=c,p))}(t.localStore,e);e.targetChanges.forEach((c,p)=>{const _=t.yc.get(p);_&&(In(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?_.fc=!0:c.modifiedDocuments.size>0?In(_.fc):c.removedDocuments.size>0&&(In(_.fc),_.fc=!1))}),yield Mf(t,i,e)}catch(i){yield lh(i)}}),lI.apply(this,arguments)}function uI(n,e,t){const i=Yt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const c=[];i.wc.forEach((p,_)=>{const E=_.view.Mu(e);E.snapshot&&c.push(E.snapshot)}),function(p,_){const E=Yt(p);E.onlineState=_;let F=!1;E.queries.forEach((H,te)=>{for(const pe of te.listeners)pe.Mu(_)&&(F=!0)}),F&&nv(E)}(i.eventManager,e),c.length&&i.dc.nu(c),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function AC(n,e,t){return M1.apply(this,arguments)}function M1(){return M1=(0,de.Z)(function*(n,e,t){const i=Yt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const c=i.yc.get(e),p=c&&c.key;if(p){let _=new ar(Qt.comparator);_=_.insert(p,as.newNoDocument(p,Nn.min()));const E=Er().add(p),F=new Bm(Nn.min(),new Map,new ar(Qn),_,E);yield UE(i,F),i.gc=i.gc.remove(p),i.yc.delete(e),WE(i)}else yield t_(i.localStore,e,!1).then(()=>rv(i,e,t)).catch(lh)}),M1.apply(this,arguments)}function HE(n,e){return x1.apply(this,arguments)}function x1(){return x1=(0,de.Z)(function*(n,e){const t=Yt(n),i=e.batch.batchId;try{const c=yield function gE(n,e){const t=Yt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const c=e.batch.keys(),p=t.Zi.newChangeBuffer({trackRemovals:!0});return function(_,E,F,H){const te=F.batch,pe=te.keys();let Be=qe.resolve();return pe.forEach(ct=>{Be=Be.next(()=>H.getEntry(E,ct)).next(kt=>{const sn=F.docVersions.get(ct);In(null!==sn),kt.version.compareTo(sn)<0&&(te.applyToRemoteDocument(kt,F),kt.isValidDocument()&&(kt.setReadTime(F.commitVersion),H.addEntry(kt)))})}),Be.next(()=>_.mutationQueue.removeMutationBatch(E,te))}(t,i,e,p).next(()=>p.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,c,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(_){let E=Er();for(let F=0;F<_.mutationResults.length;++F)_.mutationResults[F].transformResults.length>0&&(E=E.add(_.batch.mutations[F].key));return E}(e))).next(()=>t.localDocuments.getDocuments(i,c))})}(t.localStore,e);$E(t,i,null),R1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Mf(t,c)}catch(c){yield lh(c)}}),x1.apply(this,arguments)}function GE(n,e,t){return dI.apply(this,arguments)}function dI(){return dI=(0,de.Z)(function*(n,e,t){const i=Yt(n);try{const c=yield function(p,_){const E=Yt(p);return E.persistence.runTransaction("Reject batch","readwrite-primary",F=>{let H;return E.mutationQueue.lookupMutationBatch(F,_).next(te=>(In(null!==te),H=te.keys(),E.mutationQueue.removeMutationBatch(F,te))).next(()=>E.mutationQueue.performConsistencyCheck(F)).next(()=>E.documentOverlayCache.removeOverlaysForBatchId(F,H,_)).next(()=>E.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(F,H)).next(()=>E.localDocuments.getDocuments(F,H))})}(i.localStore,e);$E(i,e,t),R1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Mf(i,c)}catch(c){yield lh(c)}}),dI.apply(this,arguments)}function R1(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function $E(n,e,t){const i=Yt(n);let c=i.Tc[i.currentUser.toKey()];if(c){const p=c.get(e);p&&(t?p.reject(t):p.resolve(),c=c.remove(e)),i.Tc[i.currentUser.toKey()]=c}}function rv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||OC(n,i)})}function OC(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Qy(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),WE(n))}function zE(n,e,t){for(const i of t)i instanceof LE?(n.Ic.addReference(i.key,e),pS(n,i)):i instanceof sI?(Ot("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||OC(n,i.key)):hn()}function pS(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(Ot("SyncEngine","New document in limbo: "+t),n.mc.add(i),WE(n))}function WE(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Qt(Jr.fromString(e)),i=n.Ac.next();n.yc.set(i,new CC(t)),n.gc=n.gc.insert(t,i),Yy(n.remoteStore,new xl(Lc(Mm(t.path)),i,"TargetPurposeLimboResolution",ss.ct))}}function Mf(n,e,t){return qE.apply(this,arguments)}function qE(){return qE=(0,de.Z)(function*(n,e,t){const i=Yt(n),c=[],p=[],_=[];var E;i.wc.isEmpty()||(i.wc.forEach((E,F)=>{_.push(i.Rc(F,e,t).then(H=>{if((H||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(F.targetId,H?.fromCache?"not-current":"current"),H){c.push(H);const te=hE.Li(F.targetId,H);p.push(te)}}))}),yield Promise.all(_),i.dc.nu(c),yield(E=(0,de.Z)(function*(F,H){const te=Yt(F);try{yield te.persistence.runTransaction("notifyLocalViewChanges","readwrite",pe=>qe.forEach(H,Be=>qe.forEach(Be.Fi,ct=>te.persistence.referenceDelegate.addReference(pe,Be.targetId,ct)).next(()=>qe.forEach(Be.Bi,ct=>te.persistence.referenceDelegate.removeReference(pe,Be.targetId,ct)))))}catch(pe){if(!ru(pe))throw pe;Ot("LocalStore","Failed to update sequence numbers: "+pe)}for(const pe of H){const Be=pe.targetId;if(!pe.fromCache){const ct=te.Ji.get(Be),sn=ct.withLastLimboFreeSnapshotVersion(ct.snapshotVersion);te.Ji=te.Ji.insert(Be,sn)}}}),function(F,H){return E.apply(this,arguments)})(i.localStore,p))}),qE.apply(this,arguments)}function gS(n,e){return P1.apply(this,arguments)}function P1(){return P1=(0,de.Z)(function*(n,e){const t=Yt(n);if(!t.currentUser.isEqual(e)){Ot("SyncEngine","User change. New user:",e.toKey());const i=yield Uw(t.localStore,e);t.currentUser=e,(c=t).Ec.forEach(_=>{_.forEach(E=>{E.reject(new Ct(rt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Mf(t,i.er)}var c}),P1.apply(this,arguments)}function hI(n,e){const t=Yt(n),i=t.yc.get(e);if(i&&i.fc)return Er().add(i.key);{let c=Er();const p=t._c.get(e);if(!p)return c;for(const _ of p){const E=t.wc.get(_);c=c.unionWith(E.view.nc)}return c}}class B1{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,de.Z)(function*(){t.serializer=n_(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function pE(n,e,t,i){return new uC(n,e,t,i)}(this.persistence,new fE,e.initialUser,this.serializer)}createPersistence(e){return new n1(r1.zs,this.serializer)}createSharedClientState(e){return new bE}terminate(){var e=this;return(0,de.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class o_{initialize(e,t){var i=this;return(0,de.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=c=>uI(i.syncEngine,c,1),i.remoteStore.remoteSyncer.handleCredentialChange=gS.bind(null,i.syncEngine),yield function E1(n,e){return Xy.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new EC}createDatastore(e){const t=n_(e.databaseInfo.databaseId),i=new h1(e.databaseInfo);return new yC(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,c=e.asyncQueue,p=E=>uI(this.syncEngine,E,0),_=wE.D()?new wE:new dS,new bC(t,i,c,p,_);var t,i,c,p,_}createSyncEngine(e,t){return function(i,c,p,_,E,F,H){const te=new fS(i,c,p,_,E,F);return H&&(te.vc=!0),te}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,de.Z)(function*(t){const i=Yt(t);Ot("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield ng(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class U1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Gs("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class BC{constructor(e,t,i,c){var p=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=c,this.user=Eo.UNAUTHENTICATED,this.clientId=Dm.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var _=(0,de.Z)(function*(E){Ot("FirestoreClient","Received user=",E.uid),yield p.authCredentialListener(E),p.user=E});return function(E){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(i,_=>(Ot("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}getConfiguration(){var e=this;return(0,de.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ct(rt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new so;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,de.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const c=Sd(i,"Failed to shutdown persistence");t.reject(c)}})),t.promise}}function H1(n,e){return vI.apply(this,arguments)}function vI(){return vI=(0,de.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ot("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var c=(0,de.Z)(function*(p){i.isEqual(p)||(yield Uw(e.localStore,p),i=p)});return function(p){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),vI.apply(this,arguments)}function bI(n,e){return G1.apply(this,arguments)}function G1(){return G1=(0,de.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function wI(n){return II.apply(this,arguments)}(n);Ot("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(c=>TC(e.remoteStore,c)),n.setAppCheckTokenChangeListener((c,p)=>TC(e.remoteStore,p)),n._onlineComponents=e}),G1.apply(this,arguments)}function II(){return II=(0,de.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ot("FirestoreClient","Using user provided OfflineComponentProvider");try{yield H1(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function j1(n){return"FirebaseError"===n.name?n.code===rt.FAILED_PRECONDITION||n.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;al("Error using user provided cache. Falling back to memory cache: "+t),yield H1(n,new B1)}}else Ot("FirestoreClient","Using default OfflineComponentProvider"),yield H1(n,new B1);return n._offlineComponents}),II.apply(this,arguments)}function iv(n){return $1.apply(this,arguments)}function $1(){return $1=(0,de.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ot("FirestoreClient","Using user provided OnlineComponentProvider"),yield bI(n,n._uninitializedComponentsProvider._online)):(Ot("FirestoreClient","Using default OnlineComponentProvider"),yield bI(n,new o_))),n._onlineComponents}),$1.apply(this,arguments)}function ag(n){return EI.apply(this,arguments)}function EI(){return EI=(0,de.Z)(function*(n){const e=yield iv(n),t=e.eventManager;return t.onListen=SC.bind(null,e.syncEngine),t.onUnlisten=BE.bind(null,e.syncEngine),t}),EI.apply(this,arguments)}function iD(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const sD=new Map;function q1(n,e,t){if(!t)throw new Ct(rt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function SI(n){if(!Qt.isDocumentKey(n))throw new Ct(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function oD(n){if(Qt.isDocumentKey(n))throw new Ct(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function sv(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":hn()}function ui(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ct(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=sv(n);throw new Ct(rt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class AI{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Ct(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ct(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function vS(n,e,t,i){if(!0===e&&!0===i)throw new Ct(rt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=iD(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new Ct(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Ct(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Ct(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class a_{constructor(e,t,i,c){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ct(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ct(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AI(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Ub;switch(t.type){case"firstParty":return new uf(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ct(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=sD.get(e);t&&(Ot("ComponentProvider","Removing Datastore"),sD.delete(e),t.terminate())}(this),Promise.resolve()}}class ao{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ao(this.firestore,e,this._key)}}class Ma{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ma(this.firestore,e,this._query)}}class Hc extends Ma{constructor(e,t,i){super(e,t,Mm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ao(this.firestore,null,new Qt(e))}withConverter(e){return new Hc(this.firestore,e,this._path)}}function K1(n,e,...t){if(n=(0,fe.m9)(n),q1("collection","path",e),n instanceof a_){const i=Jr.fromString(e,...t);return oD(i),new Hc(n,null,i)}{if(!(n instanceof ao||n instanceof Hc))throw new Ct(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Jr.fromString(e,...t));return oD(i),new Hc(n.firestore,null,i)}}function NI(n,e,...t){if(n=(0,fe.m9)(n),1===arguments.length&&(e=Dm.A()),q1("doc","path",e),n instanceof a_){const i=Jr.fromString(e,...t);return SI(i),new ao(n,null,new Qt(i))}{if(!(n instanceof ao||n instanceof Hc))throw new Ct(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Jr.fromString(e,...t));return SI(i),new ao(n.firestore,n instanceof Hc?n.converter:null,new Qt(i))}}class wS{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new r_(this,"async_queue_retry"),this.Xc=()=>{const t=f1();t&&Ot("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=f1();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=f1();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new so;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,de.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!ru(t))throw t;Ot("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,Gs("INTERNAL UNHANDLED ERROR: ",function(p){let _=p.message||"";return p.stack&&(_=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),_}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const c=ME.createAndSchedule(this,e,t,i,p=>this.na(p));return this.zc.push(c),c}Zc(){this.Wc&&hn()}verifyOperationInProgress(){}sa(){var e=this;return(0,de.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class As extends a_{constructor(e,t,i,c){super(e,t,i,c),this.type="firestore",this._queue=new wS,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||cD(this),this._firestoreClient.terminate()}}function IS(n,e){const t="object"==typeof n?n:(0,Oe.Mq)(),i="string"==typeof n?n:e||"(default)",c=(0,Oe.qX)(t,"firestore").getImmediate({identifier:i});if(!c._initialized){const p=(0,fe.P0)("firestore");p&&function GC(n,e,t,i={}){var c;const p=(n=ui(n,a_))._getSettings(),_=`${e}:${t}`;if("firestore.googleapis.com"!==p.host&&p.host!==_&&al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},p),{host:_,ssl:!1})),i.mockUserToken){let E,F;if("string"==typeof i.mockUserToken)E=i.mockUserToken,F=Eo.MOCK_USER;else{E=(0,fe.Sg)(i.mockUserToken,null===(c=n._app)||void 0===c?void 0:c.options.projectId);const H=i.mockUserToken.sub||i.mockUserToken.user_id;if(!H)throw new Ct(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new Eo(H)}n._authCredentials=new Hb(new xp(E,F))}}(c,...p)}return c}function Co(n){return n._firestoreClient||cD(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function cD(n){var e,t,i;const c=n._freezeSettings(),p=(E=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Aa(n._databaseId,E,n._persistenceKey,(H=c).host,H.ssl,H.experimentalForceLongPolling,H.experimentalAutoDetectLongPolling,iD(H.experimentalLongPollingOptions),H.useFetchStreams));var E,H;n._firestoreClient=new BC(n._authCredentials,n._appCheckCredentials,n._queue,p),null!==(t=c.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=c.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:c.cache.kind,_offline:c.cache._offlineComponentProvider,_online:c.cache._onlineComponentProvider})}class Rf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rf(fr.fromBase64String(e))}catch(t){throw new Ct(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Rf(fr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Pf{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ct(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ov{constructor(e){this._methodName=e}}class av{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ct(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ct(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qn(this._lat,e._lat)||Qn(this._long,e._long)}}const MI=/^__.*__$/;class Q1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new fh(e,this.data,this.fieldMask,t,this.fieldTransforms):new qp(e,this.data,t,this.fieldTransforms)}}class WC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new fh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw hn()}}class xI{constructor(e,t,i,c,p,_){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=c,void 0===p&&this.ua(),this.fieldTransforms=p||[],this.fieldMask=_||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new xI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.aa({path:i,la:!1});return c.fa(e),c}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.aa({path:i,la:!1});return c.ua(),c}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return tb(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(qC(this.ca)&&MI.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class dD{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||n_(e)}ya(e,t,i,c=!1){return new xI({ca:e,methodName:t,ga:i,path:Cs.emptyPath(),la:!1,ma:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function l_(n){const e=n._freezeSettings(),t=n_(n._databaseId);return new dD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function RI(n,e,t,i,c,p={}){const _=n.ya(p.merge||p.mergeFields?2:0,e,t,c);FI("Data must be an object, but it was:",_,i);const E=kI(i,_);let F,H;if(p.merge)F=new en(_.fieldMask),H=_.fieldTransforms;else if(p.mergeFields){const te=[];for(const pe of p.mergeFields){const Be=lv(e,pe,t);if(!_.contains(Be))throw new Ct(rt.INVALID_ARGUMENT,`Field '${Be}' is specified in your field mask but missing from your input data.`);mD(te,Be)||te.push(Be)}F=new en(te),H=_.fieldTransforms.filter(pe=>F.covers(pe.field))}else F=null,H=_.fieldTransforms;return new Q1(new Ja(E),F,H)}class cv extends ov{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cv}}function hD(n,e,t){return new xI({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class fD extends ov{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=hD(this,e,!0),i=this.pa.map(p=>u_(p,t)),c=new Tf(i);return new Ry(e.path,c)}isEqual(e){return this===e}}class pD extends ov{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=hD(this,e,!0),i=this.pa.map(p=>u_(p,t)),c=new Td(i);return new Ry(e.path,c)}isEqual(e){return this===e}}function X1(n,e,t,i=!1){return u_(t,n.ya(i?4:3,e))}function u_(n,e){if(eb(n=(0,fe.m9)(n)))return FI("Unsupported field value:",e,n),kI(n,e);if(n instanceof ov)return function(t,i){if(!qC(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const c=t._toFieldTransform(i);c&&i.fieldTransforms.push(c)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const c=[];let p=0;for(const _ of t){let E=u_(_,i.wa(p));null==E&&(E={nullValue:"NULL_VALUE"}),c.push(E),p++}return{arrayValue:{values:c}}}(n,e)}return function(t,i){if(null===(t=(0,fe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return B0(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const c=_s.fromDate(t);return{timestampValue:Kp(i.serializer,c)}}if(t instanceof _s){const c=new _s(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Kp(i.serializer,c)}}if(t instanceof av)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Rf)return{bytesValue:HD(i.serializer,t._byteString)};if(t instanceof ao){const c=i.databaseId,p=t.firestore._databaseId;if(!p.isEqual(c))throw i._a(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Iw(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${sv(t)}`)}(n,e)}function kI(n,e){const t={};return ni(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gr(n,(i,c)=>{const p=u_(c,e.ha(i));null!=p&&(t[i]=p)}),{mapValue:{fields:t}}}function eb(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof _s||n instanceof av||n instanceof Rf||n instanceof ao||n instanceof ov)}function FI(n,e,t){if(!eb(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=sv(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function lv(n,e,t){if((e=(0,fe.m9)(e))instanceof Pf)return e._internalPath;if("string"==typeof e)return LI(n,e);throw tb("Field path arguments must be of type string or ",n,!1,void 0,t)}const SS=new RegExp("[~\\*/\\[\\]]");function LI(n,e,t){if(e.search(SS)>=0)throw tb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Pf(...e.split("."))._internalPath}catch{throw tb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function tb(n,e,t,i,c){const p=i&&!i.isEmpty(),_=void 0!==c;let E=`Function ${e}() called with invalid data`;t&&(E+=" (via `toFirestore()`)"),E+=". ";let F="";return(p||_)&&(F+=" (found",p&&(F+=` in field ${i}`),_&&(F+=` in document ${c}`),F+=")"),new Ct(rt.INVALID_ARGUMENT,E+n+F)}function mD(n,e){return n.some(t=>t.isEqual(e))}class BI{constructor(e,t,i,c,p){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=c,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new ao(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new KC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(uv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class KC extends BI{data(){return super.data()}}function uv(n,e){return"string"==typeof e?LI(n,e):e instanceof Pf?e._internalPath:e._delegate._internalPath}class UI{}class dv extends UI{}function _D(n,e,...t){let i=[];e instanceof UI&&i.push(e),i=i.concat(t),function(c){const p=c.filter(E=>E instanceof kf).length,_=c.filter(E=>E instanceof nb).length;if(p>1||p>0&&_>0)throw new Ct(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const c of i)n=c._apply(n);return n}class nb extends dv{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new nb(e,t,i)}_apply(e){const t=this._parse(e);return rS(e._query,t),new Ma(e.firestore,e.converter,k0(e._query,t))}_parse(e){const t=l_(e.firestore);return function(c,p,_,E,F,H,te){let pe;if(F.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new Ct(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){vD(te,H);const Be=[];for(const ct of te)Be.push(yD(E,c,ct));pe={arrayValue:{values:Be}}}else pe=yD(E,c,te)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||vD(te,H),pe=X1(_,"where",te,"in"===H||"not-in"===H);return Yr.create(F,H,pe)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function YC(n,e,t){const i=e,c=uv("where",n);return nb._create(c,i,t)}class kf extends UI{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new kf(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Ri.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,c){let p=i;const _=c.getFlattenedFilters();for(const E of _)rS(p,E),p=k0(p,E)}(e._query,t),new Ma(e.firestore,e.converter,k0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class HI extends dv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new HI(e,t)}_apply(e){const t=function(i,c,p){if(null!==i.startAt)throw new Ct(rt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ct(rt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const _=new jp(c,p);return function(E,F){if(null===nw(E)){const H=oo(E);null!==H&&iS(0,H,F.field)}}(i,_),_}(e._query,this._field,this._direction);return new Ma(e.firestore,e.converter,function(i,c){const p=i.explicitOrderBy.concat([c]);return new bf(i.path,i.collectionGroup,p,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function rb(n,e="asc"){const t=e,i=uv("orderBy",n);return HI._create(i,t)}class ib extends dv{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new ib(e,t,i)}_apply(e){return new Ma(e.firestore,e.converter,F0(e._query,this._limit,this._limitType))}}function XC(n){return function Z1(n,e){if(e<=0)throw new Ct(rt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}("limit",n),ib._create("limit",n,"F")}class hv extends dv{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new hv(e,t,i)}_apply(e){const t=function nS(n,e,t,i){if(t[0]=(0,fe.m9)(t[0]),t[0]instanceof BI)return function(c,p,_,E,F){if(!E)throw new Ct(rt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${_}().`);const H=[];for(const te of zp(c))if(te.field.isKeyField())H.push(Fc(p,E.key));else{const pe=E.data.field(te.field);if(gc(pe))throw new Ct(rt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+te.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===pe){const Be=te.field.canonicalString();throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Be}' (used as the orderBy) does not exist.`)}H.push(pe)}return new wd(H,F)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const c=l_(n.firestore);return function(p,_,E,F,H,te){const pe=p.explicitOrderBy;if(H.length>pe.length)throw new Ct(rt.INVALID_ARGUMENT,`Too many arguments provided to ${F}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Be=[];for(let ct=0;ct<H.length;ct++){const kt=H[ct];if(pe[ct].field.isKeyField()){if("string"!=typeof kt)throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${F}(), but got a ${typeof kt}`);if(!P0(p)&&-1!==kt.indexOf("/"))throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${F}() must be a plain document ID, but '${kt}' contains a slash.`);const sn=p.path.child(Jr.fromString(kt));if(!Qt.isDocumentKey(sn))throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${F}() must result in a valid document path, but '${sn}' is not because it contains an odd number of segments.`);const ln=new Qt(sn);Be.push(Fc(_,ln))}else{const sn=X1(E,F,kt);Be.push(sn)}}return new wd(Be,te)}(n._query,n.firestore._databaseId,c,e,t,i)}}(e,this.type,this._docOrFields,this._inclusive);return new Ma(e.firestore,e.converter,(c=t,new bf((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,c,i.endAt)));var i,c}}function tS(...n){return hv._create("startAfter",n,!1)}function yD(n,e,t){if("string"==typeof(t=(0,fe.m9)(t))){if(""===t)throw new Ct(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!P0(e)&&-1!==t.indexOf("/"))throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Jr.fromString(t));if(!Qt.isDocumentKey(i))throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Fc(n,new Qt(i))}if(t instanceof ao)return Fc(n,t._key);throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sv(t)}.`)}function vD(n,e){if(!Array.isArray(n)||0===n.length)throw new Ct(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rS(n,e){if(e.isInequality()){const i=oo(n),c=e.field;if(null!==i&&!i.isEqual(c))throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${c.toString()}'`);const p=nw(n);null!==p&&iS(0,c,p)}const t=function(i,c){for(const p of i)for(const _ of p.getFlattenedFilters())if(c.indexOf(_.op)>=0)return _.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ct(rt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function iS(n,e,t){if(!t.isEqual(e))throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class NS{convertValue(e,t="none"){switch(Vu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ri(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw hn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Gr(e,(c,p)=>{i[c]=this.convertValue(p,t)}),i}convertGeoPoint(e){return new av(ri(e.latitude),ri(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=ul(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Qi(e));default:return null}}convertTimestamp(e){const t=Mi(e);return new _s(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Jr.fromString(e);In($m(i));const c=new Ss(i.get(1),i.get(3)),p=new Qt(i.popFirst(5));return c.isEqual(t)||Gs(`Document ${p} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),p}}function bD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class lg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fv extends BI{constructor(e,t,i,c,p,_){super(e,t,i,c,_),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new r(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(uv("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class r extends fv{data(e={}){return super.data(e)}}class s{constructor(e,t,i,c){this._firestore=e,this._userDataWriter=t,this._snapshot=c,this.metadata=new lg(c.hasPendingWrites,c.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new r(this._firestore,this._userDataWriter,i.key,i,new lg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ct(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,c){if(i._snapshot.oldDocs.isEmpty()){let p=0;return i._snapshot.docChanges.map(_=>({type:"added",doc:new r(i._firestore,i._userDataWriter,_.doc.key,_.doc,new lg(i._snapshot.mutatedKeys.has(_.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:p++}))}{let p=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(_=>c||3!==_.type).map(_=>{const E=new r(i._firestore,i._userDataWriter,_.doc.key,_.doc,new lg(i._snapshot.mutatedKeys.has(_.doc.key),i._snapshot.fromCache),i.query.converter);let F=-1,H=-1;return 0!==_.type&&(F=p.indexOf(_.doc.key),p=p.delete(_.doc.key)),1!==_.type&&(p=p.add(_.doc),H=p.indexOf(_.doc.key)),{type:a(_.type),doc:E,oldIndex:F,newIndex:H}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function a(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return hn()}}function g(n){n=ui(n,ao);const e=ui(n.firestore,As);return function W1(n,e,t={}){const i=new so;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(c,p,_,E,F){const H=new U1({next:pe=>{p.enqueueAndForget(()=>tv(c,te));const Be=pe.docs.has(_);!Be&&pe.fromCache?F.reject(new Ct(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):Be&&pe.fromCache&&E&&"server"===E.source?F.reject(new Ct(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):F.resolve(pe)},error:pe=>F.reject(pe)}),te=new RE(Mm(_.path),H,{includeMetadataChanges:!0,Ku:!0});return rI(c,te)}(yield ag(n),n.asyncQueue,e,t,i)})),i.promise}(Co(e),n._key).then(t=>function wt(n,e,t){const i=t.docs.get(e._key),c=new y(n);return new fv(n,c,e._key,i,new lg(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class y extends NS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ao(this.firestore,null,t)}}function R(n){n=ui(n,Ma);const e=ui(n.firestore,As),t=Co(e),i=new y(e);return function VI(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ct(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function nD(n,e,t={}){const i=new so;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(c,p,_,E,F){const H=new U1({next:pe=>{p.enqueueAndForget(()=>tv(c,te)),pe.fromCache&&"server"===E.source?F.reject(new Ct(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):F.resolve(pe)},error:pe=>F.reject(pe)}),te=new RE(_,H,{includeMetadataChanges:!0,Ku:!0});return rI(c,te)}(yield ag(n),n.asyncQueue,e,t,i)})),i.promise}(t,n._query).then(c=>new s(e,i,n,c))}function me(n,e,t){n=ui(n,ao);const i=ui(n.firestore,As),c=bD(n.converter,e,t);return bn(i,[RI(l_(i),"setDoc",n._key,c,null!==n.converter,t).toMutation(n._key,Ji.none())])}function Me(n,e,t,...i){n=ui(n,ao);const c=ui(n.firestore,As),p=l_(c);let _;return _="string"==typeof(e=(0,fe.m9)(e))||e instanceof Pf?function PI(n,e,t,i,c,p){const _=n.ya(1,e,t),E=[lv(e,i,t)],F=[c];if(p.length%2!=0)throw new Ct(rt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Be=0;Be<p.length;Be+=2)E.push(lv(e,p[Be])),F.push(p[Be+1]);const H=[],te=Ja.empty();for(let Be=E.length-1;Be>=0;--Be)if(!mD(H,E[Be])){const ct=E[Be];let kt=F[Be];kt=(0,fe.m9)(kt);const sn=_.da(ct);if(kt instanceof cv)H.push(ct);else{const ln=u_(kt,sn);null!=ln&&(H.push(ct),te.set(ct,ln))}}const pe=new en(H);return new WC(te,pe,_.fieldTransforms)}(p,"updateDoc",n._key,e,t,i):function gD(n,e,t,i){const c=n.ya(1,e,t);FI("Data must be an object, but it was:",c,i);const p=[],_=Ja.empty();Gr(i,(F,H)=>{const te=LI(e,F,t);H=(0,fe.m9)(H);const pe=c.da(te);if(H instanceof cv)p.push(te);else{const Be=u_(H,pe);null!=Be&&(p.push(te),_.set(te,Be))}});const E=new en(p);return new WC(_,E,c.fieldTransforms)}(p,"updateDoc",n._key,e),bn(c,[_.toMutation(n._key,Ji.exists(!0))])}function Le(n){return bn(ui(n.firestore,As),[new Fm(n._key,Ji.none())])}function pt(n,e){const t=ui(n.firestore,As),i=NI(n),c=bD(n.converter,e);return bn(t,[RI(l_(n.firestore),"addDoc",i._key,c,null!==n.converter,{}).toMutation(i._key,Ji.exists(!1))]).then(()=>i)}function bn(n,e){return function(t,i){const c=new so;return t.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function VE(n,e,t){return O1.apply(this,arguments)}(yield function z1(n){return iv(n).then(e=>e.syncEngine)}(t),i,c)})),c.promise}(Co(n),e)}function eA(...n){return new fD("arrayUnion",n)}function tA(...n){return new pD("arrayRemove",n)}!function(n,e=!0){Bu=Oe.Jn,(0,Oe.Xd)(new re.wA("firestore",(t,{instanceIdentifier:i,options:c})=>{const p=t.getProvider("app").getImmediate(),_=new As(new w0(t.getProvider("auth-internal")),new cl(t.getProvider("app-check-internal")),function(E,F){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new Ct(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ss(E.options.projectId,F)}(p,i),p);return c=Object.assign({useFetchStreams:e},c),_._setSettings(c),_},"PUBLIC").setMultipleInstances(!0)),(0,Oe.KN)(Ty,"3.13.0",n),(0,Oe.KN)(Ty,"3.13.0","esm2017")}();class TD{constructor(e){return e}}const FS="firestore",oS=new ce.OlP("angularfire2.firestore-instances");function iA(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new TD(i)}}const sA={provide:class nA{constructor(){return(0,w.vb)(FS)}},deps:[[new ce.FiY,oS]]},oA={provide:TD,useFactory:function rA(n,e){const t=(0,w.JM)(FS,n,e);return t&&new TD(t)},deps:[[new ce.FiY,oS],u.Ot]};let aA=(()=>{class n{constructor(){(0,we.KN)("angularfire",w.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce.oAB({type:n}),n.\u0275inj=ce.cJS({providers:[oA,sA]}),n})();function cA(n,...e){return{ngModule:aA,providers:[{provide:oS,useFactory:iA(n),multi:!0,deps:[ce.R0b,ce.zs3,w.HU,u.z6,[new ce.FiY,rd],[new ce.FiY,Da],...e]}]}}const lA=(0,w.u3)(pt,!0),uA=(0,w.u3)(tA,!0),dA=(0,w.u3)(eA,!0),hA=(0,w.u3)(K1,!0),fA=(0,w.u3)(Le,!0),pA=(0,w.u3)(NI,!0),gA=(0,w.u3)(g,!0),mA=(0,w.u3)(R,!0),_A=(0,w.u3)(IS,!0),yA=(0,w.u3)(XC,!0),vA=(0,w.u3)(rb,!0),bA=(0,w.u3)(_D,!0),wA=(0,w.u3)(me,!0),IA=(0,w.u3)(tS,!0),TA=(0,w.u3)(Me,!0),EA=(0,w.u3)(YC,!0)},6106:(Gt,ze,Q)=>{Q.d(ze,{q4:()=>yu,HU:()=>Ud,vb:()=>Hf,JM:()=>jl,u3:()=>jf});var w=Q(9468),ce=Q(4097),u=Q(5861),we=Q(7592),de=Q(229),fe=Q(6820),Oe=Q(7879);const He=(O,L)=>L.some(Y=>O instanceof Y);let Ee,re;const et=new WeakMap,Pe=new WeakMap,it=new WeakMap,At=new WeakMap,Lt=new WeakMap;let Mt={get(O,L,Y){if(O instanceof IDBTransaction){if("done"===L)return Pe.get(O);if("objectStoreNames"===L)return O.objectStoreNames||it.get(O);if("store"===L)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return _t(O[L])},set:(O,L,Y)=>(O[L]=Y,!0),has:(O,L)=>O instanceof IDBTransaction&&("done"===L||"store"===L)||L in O};function vt(O){return"function"==typeof O?function ot(O){return O!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Se(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(O)?function(...L){return O.apply(Ge(this),L),_t(et.get(this))}:function(...L){return _t(O.apply(Ge(this),L))}:function(L,...Y){const he=O.call(Ge(this),L,...Y);return it.set(he,L.sort?L.sort():[L]),_t(he)}}(O):(O instanceof IDBTransaction&&function Sn(O){if(Pe.has(O))return;const L=new Promise((Y,he)=>{const Ae=()=>{O.removeEventListener("complete",Fe),O.removeEventListener("error",st),O.removeEventListener("abort",st)},Fe=()=>{Y(),Ae()},st=()=>{he(O.error||new DOMException("AbortError","AbortError")),Ae()};O.addEventListener("complete",Fe),O.addEventListener("error",st),O.addEventListener("abort",st)});Pe.set(O,L)}(O),He(O,function le(){return Ee||(Ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(O,Mt):O)}function _t(O){if(O instanceof IDBRequest)return function Ft(O){const L=new Promise((Y,he)=>{const Ae=()=>{O.removeEventListener("success",Fe),O.removeEventListener("error",st)},Fe=()=>{Y(_t(O.result)),Ae()},st=()=>{he(O.error),Ae()};O.addEventListener("success",Fe),O.addEventListener("error",st)});return L.then(Y=>{Y instanceof IDBCursor&&et.set(Y,O)}).catch(()=>{}),Lt.set(L,O),L}(O);if(At.has(O))return At.get(O);const L=vt(O);return L!==O&&(At.set(O,L),Lt.set(L,O)),L}const Ge=O=>Lt.get(O),gt=["get","getKey","getAll","getAllKeys","count"],xn=["put","add","delete","clear"],dt=new Map;function fn(O,L){if(!(O instanceof IDBDatabase)||L in O||"string"!=typeof L)return;if(dt.get(L))return dt.get(L);const Y=L.replace(/FromIndex$/,""),he=L!==Y,Ae=xn.includes(Y);if(!(Y in(he?IDBIndex:IDBObjectStore).prototype)||!Ae&&!gt.includes(Y))return;const Fe=function(){var st=(0,u.Z)(function*(Vt,...Ut){const vn=this.transaction(Vt,Ae?"readwrite":"readonly");let Zn=vn.store;return he&&(Zn=Zn.index(Ut.shift())),(yield Promise.all([Zn[Y](...Ut),Ae&&vn.done]))[0]});return function(Ut){return st.apply(this,arguments)}}();return dt.set(L,Fe),Fe}!function mt(O){Mt=O(Mt)}(O=>({...O,get:(L,Y,he)=>fn(L,Y)||O.get(L,Y,he),has:(L,Y)=>!!fn(L,Y)||O.has(L,Y)}));const Tn="@firebase/installations",Bn="0.6.4",nr=1e4,pr=`w:${Bn}`,ke="FIS_v2",je="https://firebaseinstallations.googleapis.com/v1",Je=36e5,Pt=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ht(O){return O instanceof de.ZR&&O.code.includes("request-failed")}function pn({projectId:O}){return`${je}/projects/${O}/installations`}function yn(O){return{token:O.token,requestStatus:2,expiresIn:xe(O.expiresIn),creationTime:Date.now()}}function dn(O,L){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,u.Z)(function*(O,L){const he=(yield L.json()).error;return Pt.create("request-failed",{requestName:O,serverCode:he.code,serverMessage:he.message,serverStatus:he.status})})).apply(this,arguments)}function Wn({apiKey:O}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O})}function Fr(O){return De.apply(this,arguments)}function De(){return(De=(0,u.Z)(function*(O){const L=yield O();return L.status>=500&&L.status<600?O():L})).apply(this,arguments)}function xe(O){return Number(O.replace("s","000"))}function yt(){return(yt=(0,u.Z)(function*({appConfig:O,heartbeatServiceProvider:L},{fid:Y}){const he=pn(O),Ae=Wn(O),Fe=L.getImmediate({optional:!0});if(Fe){const vn=yield Fe.getHeartbeatsHeader();vn&&Ae.append("x-firebase-client",vn)}const Vt={method:"POST",headers:Ae,body:JSON.stringify({fid:Y,authVersion:ke,appId:O.appId,sdkVersion:pr})},Ut=yield Fr(()=>fetch(he,Vt));if(Ut.ok){const vn=yield Ut.json();return{fid:vn.fid||Y,registrationStatus:2,refreshToken:vn.refreshToken,authToken:yn(vn.authToken)}}throw yield dn("Create Installation",Ut)})).apply(this,arguments)}function St(O){return new Promise(L=>{setTimeout(L,O)})}const En=/^[cdef][\w-]{21}$/,an="";function Kt(){try{const O=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(O),O[0]=112+O[0]%16;const Y=function wn(O){return function _r(O){return btoa(String.fromCharCode(...O)).replace(/\+/g,"-").replace(/\//g,"_")}(O).substr(0,22)}(O);return En.test(Y)?Y:an}catch{return an}}function Jn(O){return`${O.appName}!${O.appId}`}const tn=new Map;function Cr(O,L){const Y=Jn(O);rr(Y,L),function Kn(O,L){const Y=function jn(){return!ir&&"BroadcastChannel"in self&&(ir=new BroadcastChannel("[Firebase] FID Change"),ir.onmessage=O=>{rr(O.data.key,O.data.fid)}),ir}();Y&&Y.postMessage({key:O,fid:L}),function mi(){0===tn.size&&ir&&(ir.close(),ir=null)}()}(Y,L)}function rr(O,L){const Y=tn.get(O);if(Y)for(const he of Y)he(L)}let ir=null;const An="firebase-installations-database",Xn=1,Mr="firebase-installations-store";let _i=null;function tt(){return _i||(_i=function ve(O,L,{blocked:Y,upgrade:he,blocking:Ae,terminated:Fe}={}){const st=indexedDB.open(O,L),Vt=_t(st);return he&&st.addEventListener("upgradeneeded",Ut=>{he(_t(st.result),Ut.oldVersion,Ut.newVersion,_t(st.transaction))}),Y&&st.addEventListener("blocked",()=>Y()),Vt.then(Ut=>{Fe&&Ut.addEventListener("close",()=>Fe()),Ae&&Ut.addEventListener("versionchange",()=>Ae())}).catch(()=>{}),Vt}(An,Xn,{upgrade:(O,L)=>{0===L&&O.createObjectStore(Mr)}})),_i}function Ce(O,L){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,u.Z)(function*(O,L){const Y=Jn(O),Ae=(yield tt()).transaction(Mr,"readwrite"),Fe=Ae.objectStore(Mr),st=yield Fe.get(Y);return yield Fe.put(L,Y),yield Ae.done,(!st||st.fid!==L.fid)&&Cr(O,L.fid),L})).apply(this,arguments)}function It(O){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,u.Z)(function*(O){const L=Jn(O),he=(yield tt()).transaction(Mr,"readwrite");yield he.objectStore(Mr).delete(L),yield he.done})).apply(this,arguments)}function qt(O,L){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,u.Z)(function*(O,L){const Y=Jn(O),Ae=(yield tt()).transaction(Mr,"readwrite"),Fe=Ae.objectStore(Mr),st=yield Fe.get(Y),Vt=L(st);return void 0===Vt?yield Fe.delete(Y):yield Fe.put(Vt,Y),yield Ae.done,Vt&&(!st||st.fid!==Vt.fid)&&Cr(O,Vt.fid),Vt})).apply(this,arguments)}function K(O){return V.apply(this,arguments)}function V(){return V=(0,u.Z)(function*(O){let L;const Y=yield qt(O.appConfig,he=>{const Ae=function G(O){return Xt(O||{fid:Kt(),registrationStatus:0})}(he),Fe=function W(O,L){if(0===L.registrationStatus){if(!navigator.onLine)return{installationEntry:L,registrationPromise:Promise.reject(Pt.create("app-offline"))};const Y={fid:L.fid,registrationStatus:1,registrationTime:Date.now()},he=function $(O,L){return be.apply(this,arguments)}(O,Y);return{installationEntry:Y,registrationPromise:he}}return 1===L.registrationStatus?{installationEntry:L,registrationPromise:We(O)}:{installationEntry:L}}(O,Ae);return L=Fe.registrationPromise,Fe.installationEntry});return Y.fid===an?{installationEntry:yield L}:{installationEntry:Y,registrationPromise:L}}),V.apply(this,arguments)}function be(){return be=(0,u.Z)(function*(O,L){try{const Y=yield function at(O,L){return yt.apply(this,arguments)}(O,L);return Ce(O.appConfig,Y)}catch(Y){throw Ht(Y)&&409===Y.customData.serverCode?yield It(O.appConfig):yield Ce(O.appConfig,{fid:L.fid,registrationStatus:0}),Y}}),be.apply(this,arguments)}function We(O){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,u.Z)(function*(O){let L=yield on(O.appConfig);for(;1===L.registrationStatus;)yield St(100),L=yield on(O.appConfig);if(0===L.registrationStatus){const{installationEntry:Y,registrationPromise:he}=yield K(O);return he||Y}return L})).apply(this,arguments)}function on(O){return qt(O,L=>{if(!L)throw Pt.create("installation-not-found");return Xt(L)})}function Xt(O){return function Dn(O){return 1===O.registrationStatus&&O.registrationTime+nr<Date.now()}(O)?{fid:O.fid,registrationStatus:0}:O}function Pn(){return(Pn=(0,u.Z)(function*({appConfig:O,heartbeatServiceProvider:L},Y){const he=function jr(O,{fid:L}){return`${pn(O)}/${L}/authTokens:generate`}(O,Y),Ae=function gr(O,{refreshToken:L}){const Y=Wn(O);return Y.append("Authorization",function Re(O){return`${ke} ${O}`}(L)),Y}(O,Y),Fe=L.getImmediate({optional:!0});if(Fe){const vn=yield Fe.getHeartbeatsHeader();vn&&Ae.append("x-firebase-client",vn)}const Vt={method:"POST",headers:Ae,body:JSON.stringify({installation:{sdkVersion:pr,appId:O.appId}})},Ut=yield Fr(()=>fetch(he,Vt));if(Ut.ok)return yn(yield Ut.json());throw yield dn("Generate Auth Token",Ut)})).apply(this,arguments)}function Yn(O){return Ns.apply(this,arguments)}function Ns(){return Ns=(0,u.Z)(function*(O,L=!1){let Y;const he=yield qt(O.appConfig,Fe=>{if(!si(Fe))throw Pt.create("not-registered");const st=Fe.authToken;if(!L&&function oa(O){return 2===O.requestStatus&&!function Pi(O){const L=Date.now();return L<O.creationTime||O.creationTime+O.expiresIn<L+Je}(O)}(st))return Fe;if(1===st.requestStatus)return Y=function sa(O,L){return es.apply(this,arguments)}(O,L),Fe;{if(!navigator.onLine)throw Pt.create("app-offline");const Vt=function ts(O){const L={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},O),{authToken:L})}(Fe);return Y=function Ra(O,L){return yc.apply(this,arguments)}(O,Vt),Vt}});return Y?yield Y:he.authToken}),Ns.apply(this,arguments)}function es(){return(es=(0,u.Z)(function*(O,L){let Y=yield xa(O.appConfig);for(;1===Y.authToken.requestStatus;)yield St(100),Y=yield xa(O.appConfig);const he=Y.authToken;return 0===he.requestStatus?Yn(O,L):he})).apply(this,arguments)}function xa(O){return qt(O,L=>{if(!si(L))throw Pt.create("not-registered");return function er(O){return 1===O.requestStatus&&O.requestTime+nr<Date.now()}(L.authToken)?Object.assign(Object.assign({},L),{authToken:{requestStatus:0}}):L})}function yc(){return yc=(0,u.Z)(function*(O,L){try{const Y=yield function $t(O,L){return Pn.apply(this,arguments)}(O,L),he=Object.assign(Object.assign({},L),{authToken:Y});return yield Ce(O.appConfig,he),Y}catch(Y){if(!Ht(Y)||401!==Y.customData.serverCode&&404!==Y.customData.serverCode){const he=Object.assign(Object.assign({},L),{authToken:{requestStatus:0}});yield Ce(O.appConfig,he)}else yield It(O.appConfig);throw Y}}),yc.apply(this,arguments)}function si(O){return void 0!==O&&2===O.registrationStatus}function co(){return(co=(0,u.Z)(function*(O){const L=O,{installationEntry:Y,registrationPromise:he}=yield K(L);return he?he.catch(console.error):Yn(L).catch(console.error),Y.fid})).apply(this,arguments)}function aa(){return aa=(0,u.Z)(function*(O,L=!1){const Y=O;return yield function Os(O){return zs.apply(this,arguments)}(Y),(yield Yn(Y,L)).token}),aa.apply(this,arguments)}function zs(){return(zs=(0,u.Z)(function*(O){const{registrationPromise:L}=yield K(O);L&&(yield L)})).apply(this,arguments)}function qs(O){return Pt.create("missing-app-config-values",{valueName:O})}const ka="installations",ki=O=>{const L=O.getProvider("app").getImmediate(),Y=function tc(O){if(!O||!O.options)throw qs("App Configuration");if(!O.name)throw qs("App Name");const L=["projectId","apiKey","appId"];for(const Y of L)if(!O.options[Y])throw qs(Y);return{appName:O.name,projectId:O.options.projectId,apiKey:O.options.apiKey,appId:O.options.appId}}(L);return{app:L,appConfig:Y,heartbeatServiceProvider:(0,we.qX)(L,"heartbeat"),_delete:()=>Promise.resolve()}},hi=O=>{const L=O.getProvider("app").getImmediate(),Y=(0,we.qX)(L,ka).getImmediate();return{getId:()=>function $s(O){return co.apply(this,arguments)}(Y),getToken:Ae=>function Ao(O){return aa.apply(this,arguments)}(Y,Ae)}};(function $r(){(0,we.Xd)(new fe.wA(ka,ki,"PUBLIC")),(0,we.Xd)(new fe.wA("installations-internal",hi,"PRIVATE"))})(),(0,we.KN)(Tn,Bn),(0,we.KN)(Tn,Bn,"esm2017");const Fi="@firebase/remote-config",Gi=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Di{constructor(L,Y,he,Ae){this.client=L,this.storage=Y,this.storageCache=he,this.logger=Ae}isCachedDataFresh(L,Y){if(!Y)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const he=Date.now()-Y,Ae=he<=L;return this.logger.debug(`Config fetch cache check. Cache age millis: ${he}. Cache max age millis (minimumFetchIntervalMillis setting): ${L}. Is cache hit: ${Ae}.`),Ae}fetch(L){var Y=this;return(0,u.Z)(function*(){const[he,Ae]=yield Promise.all([Y.storage.getLastSuccessfulFetchTimestampMillis(),Y.storage.getLastSuccessfulFetchResponse()]);if(Ae&&Y.isCachedDataFresh(L.cacheMaxAgeMillis,he))return Ae;L.eTag=Ae&&Ae.eTag;const Fe=yield Y.client.fetch(L),st=[Y.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Fe.status&&st.push(Y.storage.setLastSuccessfulFetchResponse(Fe)),yield Promise.all(st),Fe})()}}function nc(O=navigator){return O.languages&&O.languages[0]||O.language}class Br{constructor(L,Y,he,Ae,Fe,st){this.firebaseInstallations=L,this.sdkVersion=Y,this.namespace=he,this.projectId=Ae,this.apiKey=Fe,this.appId=st}fetch(L){var Y=this;return(0,u.Z)(function*(){const[he,Ae]=yield Promise.all([Y.firebaseInstallations.getId(),Y.firebaseInstallations.getToken()]),st=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Y.projectId}/namespaces/${Y.namespace}:fetch?key=${Y.apiKey}`,Vt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":L.eTag||"*"},Ut={sdk_version:Y.sdkVersion,app_instance_id:he,app_instance_id_token:Ae,app_id:Y.appId,language_code:nc()},vn={method:"POST",headers:Vt,body:JSON.stringify(Ut)},Zn=fetch(st,vn),tr=new Promise(($a,Ac)=>{L.signal.addEventListener(()=>{const is=new Error("The operation was aborted.");is.name="AbortError",Ac(is)})});let ja;try{yield Promise.race([Zn,tr]),ja=yield Zn}catch($a){let Ac="fetch-client-network";throw"AbortError"===$a?.name&&(Ac="fetch-timeout"),Gi.create(Ac,{originalErrorMessage:$a?.message})}let io=ja.status;const Dh=ja.headers.get("ETag")||void 0;let Ch,wa;if(200===ja.status){let $a;try{$a=yield ja.json()}catch(Ac){throw Gi.create("fetch-client-parse",{originalErrorMessage:Ac?.message})}Ch=$a.entries,wa=$a.state}if("INSTANCE_STATE_UNSPECIFIED"===wa?io=500:"NO_CHANGE"===wa?io=304:("NO_TEMPLATE"===wa||"EMPTY_CONFIG"===wa)&&(Ch={}),304!==io&&200!==io)throw Gi.create("fetch-status",{httpStatus:io});return{status:io,eTag:Dh,config:Ch}})()}}class kn{constructor(L,Y){this.client=L,this.storage=Y}fetch(L){var Y=this;return(0,u.Z)(function*(){const he=(yield Y.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Y.attemptFetch(L,he)})()}attemptFetch(L,{throttleEndTimeMillis:Y,backoffCount:he}){var Ae=this;return(0,u.Z)(function*(){yield function zn(O,L){return new Promise((Y,he)=>{const Ae=Math.max(L-Date.now(),0),Fe=setTimeout(Y,Ae);O.addEventListener(()=>{clearTimeout(Fe),he(Gi.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(L.signal,Y);try{const Fe=yield Ae.client.fetch(L);return yield Ae.storage.deleteThrottleMetadata(),Fe}catch(Fe){if(!function xt(O){if(!(O instanceof de.ZR&&O.customData))return!1;const L=Number(O.customData.httpStatus);return 429===L||500===L||503===L||504===L}(Fe))throw Fe;const st={throttleEndTimeMillis:Date.now()+(0,de.$s)(he),backoffCount:he+1};return yield Ae.storage.setThrottleMetadata(st),Ae.attemptFetch(L,st)}})()}}class Ks{constructor(L,Y,he,Ae,Fe){this.app=L,this._client=Y,this._storageCache=he,this._storage=Ae,this._logger=Fe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function qr(O,L){const Y=O.target.error||void 0;return Gi.create(L,{originalErrorMessage:Y&&Y?.message})}const $i="app_namespace_store";class On{constructor(L,Y,he,Ae=function Rs(){return new Promise((O,L)=>{try{const Y=indexedDB.open("firebase_remote_config",1);Y.onerror=he=>{L(qr(he,"storage-open"))},Y.onsuccess=he=>{O(he.target.result)},Y.onupgradeneeded=he=>{0===he.oldVersion&&he.target.result.createObjectStore($i,{keyPath:"compositeKey"})}}catch(Y){L(Gi.create("storage-open",{originalErrorMessage:Y?.message}))}})}()){this.appId=L,this.appName=Y,this.namespace=he,this.openDbPromise=Ae}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(L){return this.set("last_fetch_status",L)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(L){return this.set("last_successful_fetch_timestamp_millis",L)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(L){return this.set("last_successful_fetch_response",L)}getActiveConfig(){return this.get("active_config")}setActiveConfig(L){return this.set("active_config",L)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(L){return this.set("active_config_etag",L)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(L){return this.set("throttle_metadata",L)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(L){var Y=this;return(0,u.Z)(function*(){const he=yield Y.openDbPromise;return new Promise((Ae,Fe)=>{const Vt=he.transaction([$i],"readonly").objectStore($i),Ut=Y.createCompositeKey(L);try{const vn=Vt.get(Ut);vn.onerror=Zn=>{Fe(qr(Zn,"storage-get"))},vn.onsuccess=Zn=>{const tr=Zn.target.result;Ae(tr?tr.value:void 0)}}catch(vn){Fe(Gi.create("storage-get",{originalErrorMessage:vn?.message}))}})})()}set(L,Y){var he=this;return(0,u.Z)(function*(){const Ae=yield he.openDbPromise;return new Promise((Fe,st)=>{const Ut=Ae.transaction([$i],"readwrite").objectStore($i),vn=he.createCompositeKey(L);try{const Zn=Ut.put({compositeKey:vn,value:Y});Zn.onerror=tr=>{st(qr(tr,"storage-set"))},Zn.onsuccess=()=>{Fe()}}catch(Zn){st(Gi.create("storage-set",{originalErrorMessage:Zn?.message}))}})})()}delete(L){var Y=this;return(0,u.Z)(function*(){const he=yield Y.openDbPromise;return new Promise((Ae,Fe)=>{const Vt=he.transaction([$i],"readwrite").objectStore($i),Ut=Y.createCompositeKey(L);try{const vn=Vt.delete(Ut);vn.onerror=Zn=>{Fe(qr(Zn,"storage-delete"))},vn.onsuccess=()=>{Ae()}}catch(vn){Fe(Gi.create("storage-delete",{originalErrorMessage:vn?.message}))}})})()}createCompositeKey(L){return[this.appId,this.appName,this.namespace,L].join()}}class uo{constructor(L){this.storage=L}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var L=this;return(0,u.Z)(function*(){const Y=L.storage.getLastFetchStatus(),he=L.storage.getLastSuccessfulFetchTimestampMillis(),Ae=L.storage.getActiveConfig(),Fe=yield Y;Fe&&(L.lastFetchStatus=Fe);const st=yield he;st&&(L.lastSuccessfulFetchTimestampMillis=st);const Vt=yield Ae;Vt&&(L.activeConfig=Vt)})()}setLastFetchStatus(L){return this.lastFetchStatus=L,this.storage.setLastFetchStatus(L)}setLastSuccessfulFetchTimestampMillis(L){return this.lastSuccessfulFetchTimestampMillis=L,this.storage.setLastSuccessfulFetchTimestampMillis(L)}setActiveConfig(L){return this.activeConfig=L,this.storage.setActiveConfig(L)}}function ys(){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,u.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}!function rc(){(0,we.Xd)(new fe.wA("remote-config",function O(L,{instanceIdentifier:Y}){const he=L.getProvider("app").getImmediate(),Ae=L.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Gi.create("registration-window");if(!(0,de.hl)())throw Gi.create("indexed-db-unavailable");const{projectId:Fe,apiKey:st,appId:Vt}=he.options;if(!Fe)throw Gi.create("registration-project-id");if(!st)throw Gi.create("registration-api-key");if(!Vt)throw Gi.create("registration-app-id");const Ut=new On(Vt,he.name,Y=Y||"firebase"),vn=new uo(Ut),Zn=new Oe.Yd(Fi);Zn.logLevel=Oe.in.ERROR;const tr=new Br(Ae,we.Jn,Y,Fe,st,Vt),ja=new kn(tr,Ut),io=new Di(ja,Ut,vn,Zn),Dh=new Ks(he,io,vn,Ut,Zn);return function Ko(O){const L=(0,de.m9)(O);L._initializePromise||(L._initializePromise=L._storageCache.loadFromStorage().then(()=>{L._isInitializationComplete=!0}))}(Dh),Dh},"PUBLIC").setMultipleInstances(!0)),(0,we.KN)(Fi,"0.4.4"),(0,we.KN)(Fi,"0.4.4","esm2017")}();const pi=(O,L)=>L.some(Y=>O instanceof Y);let Oo,ho;const Qs=new WeakMap,Mo=new WeakMap,Un=new WeakMap,qi=new WeakMap,Ps=new WeakMap;let vs={get(O,L,Y){if(O instanceof IDBTransaction){if("done"===L)return Mo.get(O);if("objectStoreNames"===L)return O.objectStoreNames||Un.get(O);if("store"===L)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return Xs(O[L])},set:(O,L,Y)=>(O[L]=Y,!0),has:(O,L)=>O instanceof IDBTransaction&&("done"===L||"store"===L)||L in O};function vr(O){return"function"==typeof O?function Js(O){return O!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function rs(){return ho||(ho=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(O)?function(...L){return O.apply(ei(this),L),Xs(Qs.get(this))}:function(...L){return Xs(O.apply(ei(this),L))}:function(L,...Y){const he=O.call(ei(this),L,...Y);return Un.set(he,L.sort?L.sort():[L]),Xs(he)}}(O):(O instanceof IDBTransaction&&function xi(O){if(Mo.has(O))return;const L=new Promise((Y,he)=>{const Ae=()=>{O.removeEventListener("complete",Fe),O.removeEventListener("error",st),O.removeEventListener("abort",st)},Fe=()=>{Y(),Ae()},st=()=>{he(O.error||new DOMException("AbortError","AbortError")),Ae()};O.addEventListener("complete",Fe),O.addEventListener("error",st),O.addEventListener("abort",st)});Mo.set(O,L)}(O),pi(O,function fo(){return Oo||(Oo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(O,vs):O)}function Xs(O){if(O instanceof IDBRequest)return function Zi(O){const L=new Promise((Y,he)=>{const Ae=()=>{O.removeEventListener("success",Fe),O.removeEventListener("error",st)},Fe=()=>{Y(Xs(O.result)),Ae()},st=()=>{he(O.error),Ae()};O.addEventListener("success",Fe),O.addEventListener("error",st)});return L.then(Y=>{Y instanceof IDBCursor&&Qs.set(Y,O)}).catch(()=>{}),Ps.set(L,O),L}(O);if(qi.has(O))return qi.get(O);const L=vr(O);return L!==O&&(qi.set(O,L),Ps.set(L,O)),L}const ei=O=>Ps.get(O);function us(O,L,{blocked:Y,upgrade:he,blocking:Ae,terminated:Fe}={}){const st=indexedDB.open(O,L),Vt=Xs(st);return he&&st.addEventListener("upgradeneeded",Ut=>{he(Xs(st.result),Ut.oldVersion,Ut.newVersion,Xs(st.transaction))}),Y&&st.addEventListener("blocked",()=>Y()),Vt.then(Ut=>{Fe&&Ut.addEventListener("close",()=>Fe()),Ae&&Ut.addEventListener("versionchange",()=>Ae())}).catch(()=>{}),Vt}function po(O,{blocked:L}={}){const Y=indexedDB.deleteDatabase(O);return L&&Y.addEventListener("blocked",()=>L()),Xs(Y).then(()=>{})}const xo=["get","getKey","getAll","getAllKeys","count"],go=["put","add","delete","clear"],ci=new Map;function yi(O,L){if(!(O instanceof IDBDatabase)||L in O||"string"!=typeof L)return;if(ci.get(L))return ci.get(L);const Y=L.replace(/FromIndex$/,""),he=L!==Y,Ae=go.includes(Y);if(!(Y in(he?IDBIndex:IDBObjectStore).prototype)||!Ae&&!xo.includes(Y))return;const Fe=function(){var st=(0,u.Z)(function*(Vt,...Ut){const vn=this.transaction(Vt,Ae?"readwrite":"readonly");let Zn=vn.store;return he&&(Zn=Zn.index(Ut.shift())),(yield Promise.all([Zn[Y](...Ut),Ae&&vn.done]))[0]});return function(Ut){return st.apply(this,arguments)}}();return ci.set(L,Fe),Fe}!function Ba(O){vs=O(vs)}(O=>({...O,get:(L,Y,he)=>yi(L,Y)||O.get(L,Y,he),has:(L,Y)=>!!yi(L,Y)||O.has(L,Y)}));const mo="/firebase-messaging-sw.js",Ro="/firebase-cloud-messaging-push-scope",Va="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",bc="https://fcmregistrations.googleapis.com/v1",Qr="google.c.a.c_id",ua="google.c.a.c_l",jc="google.c.a.ts";var B=function(O){return O.PUSH_RECEIVED="push-received",O.NOTIFICATION_CLICKED="notification-clicked",O}(B||{});function oe(O){const L=new Uint8Array(O);return btoa(String.fromCharCode(...L)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ie(O){const Y=(O+"=".repeat((4-O.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),he=atob(Y),Ae=new Uint8Array(he.length);for(let Fe=0;Fe<he.length;++Fe)Ae[Fe]=he.charCodeAt(Fe);return Ae}const Jt="fcm_token_details_db",Hn=5,Ki="fcm_token_object_Store";function zi(){return zi=(0,u.Z)(function*(O){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Fe=>Fe.name).includes(Jt))return null;let L=null;return(yield us(Jt,Hn,{upgrade:(he=(0,u.Z)(function*(Ae,Fe,st,Vt){var Ut;if(Fe<2||!Ae.objectStoreNames.contains(Ki))return;const vn=Vt.objectStore(Ki),Zn=yield vn.index("fcmSenderId").get(O);if(yield vn.clear(),Zn)if(2===Fe){const tr=Zn;if(!tr.auth||!tr.p256dh||!tr.endpoint)return;L={token:tr.fcmToken,createTime:null!==(Ut=tr.createTime)&&void 0!==Ut?Ut:Date.now(),subscriptionOptions:{auth:tr.auth,p256dh:tr.p256dh,endpoint:tr.endpoint,swScope:tr.swScope,vapidKey:"string"==typeof tr.vapidKey?tr.vapidKey:oe(tr.vapidKey)}}}else if(3===Fe){const tr=Zn;L={token:tr.fcmToken,createTime:tr.createTime,subscriptionOptions:{auth:oe(tr.auth),p256dh:oe(tr.p256dh),endpoint:tr.endpoint,swScope:tr.swScope,vapidKey:oe(tr.vapidKey)}}}else if(4===Fe){const tr=Zn;L={token:tr.fcmToken,createTime:tr.createTime,subscriptionOptions:{auth:oe(tr.auth),p256dh:oe(tr.p256dh),endpoint:tr.endpoint,swScope:tr.swScope,vapidKey:oe(tr.vapidKey)}}}}),function(Fe,st,Vt,Ut){return he.apply(this,arguments)})})).close(),yield po(Jt),yield po("fcm_vapid_details_db"),yield po("undefined"),function Vi(O){if(!O||!O.subscriptionOptions)return!1;const{subscriptionOptions:L}=O;return"number"==typeof O.createTime&&O.createTime>0&&"string"==typeof O.token&&O.token.length>0&&"string"==typeof L.auth&&L.auth.length>0&&"string"==typeof L.p256dh&&L.p256dh.length>0&&"string"==typeof L.endpoint&&L.endpoint.length>0&&"string"==typeof L.swScope&&L.swScope.length>0&&"string"==typeof L.vapidKey&&L.vapidKey.length>0}(L)?L:null;var he}),zi.apply(this,arguments)}const wc="firebase-messaging-database",da=1,Qo="firebase-messaging-store";let $c=null;function Ua(){return $c||($c=us(wc,da,{upgrade:(O,L)=>{0===L&&O.createObjectStore(Qo)}})),$c}function bs(O){return iu.apply(this,arguments)}function iu(){return iu=(0,u.Z)(function*(O){const L=_o(O),he=yield(yield Ua()).transaction(Qo).objectStore(Qo).get(L);if(he)return he;{const Ae=yield function ks(O){return zi.apply(this,arguments)}(O.appConfig.senderId);if(Ae)return yield Ic(O,Ae),Ae}}),iu.apply(this,arguments)}function Ic(O,L){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,u.Z)(function*(O,L){const Y=_o(O),Ae=(yield Ua()).transaction(Qo,"readwrite");return yield Ae.objectStore(Qo).put(L,Y),yield Ae.done,L})).apply(this,arguments)}function ti(){return(ti=(0,u.Z)(function*(O){const L=_o(O),he=(yield Ua()).transaction(Qo,"readwrite");yield he.objectStore(Qo).delete(L),yield he.done})).apply(this,arguments)}function _o({appConfig:O}){return O.appId}const ur=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ws(O,L){return ds.apply(this,arguments)}function ds(){return(ds=(0,u.Z)(function*(O,L){const Y=yield Jo(O),he=Ls(L),Ae={method:"POST",headers:Y,body:JSON.stringify(he)};let Fe;try{Fe=yield(yield fetch(fa(O.appConfig),Ae)).json()}catch(st){throw ur.create("token-subscribe-failed",{errorInfo:st?.toString()})}if(Fe.error)throw ur.create("token-subscribe-failed",{errorInfo:Fe.error.message});if(!Fe.token)throw ur.create("token-subscribe-no-token");return Fe.token})).apply(this,arguments)}function Po(){return(Po=(0,u.Z)(function*(O,L){const Y=yield Jo(O),he=Ls(L.subscriptionOptions),Ae={method:"PATCH",headers:Y,body:JSON.stringify(he)};let Fe;try{Fe=yield(yield fetch(`${fa(O.appConfig)}/${L.token}`,Ae)).json()}catch(st){throw ur.create("token-update-failed",{errorInfo:st?.toString()})}if(Fe.error)throw ur.create("token-update-failed",{errorInfo:Fe.error.message});if(!Fe.token)throw ur.create("token-update-no-token");return Fe.token})).apply(this,arguments)}function ha(O,L){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,u.Z)(function*(O,L){const he={method:"DELETE",headers:yield Jo(O)};try{const Fe=yield(yield fetch(`${fa(O.appConfig)}/${L}`,he)).json();if(Fe.error)throw ur.create("token-unsubscribe-failed",{errorInfo:Fe.error.message})}catch(Ae){throw ur.create("token-unsubscribe-failed",{errorInfo:Ae?.toString()})}})).apply(this,arguments)}function fa({projectId:O}){return`${bc}/projects/${O}/registrations`}function Jo(O){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,u.Z)(function*({appConfig:O,installations:L}){const Y=yield L.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O.apiKey,"x-goog-firebase-installations-auth":`FIS ${Y}`})})).apply(this,arguments)}function Ls({p256dh:O,auth:L,endpoint:Y,vapidKey:he}){const Ae={web:{endpoint:Y,auth:L,p256dh:O}};return he!==Va&&(Ae.web.applicationPubKey=he),Ae}const Wc=6048e5;function Ec(){return Ec=(0,u.Z)(function*(O){const L=yield function vo(O,L){return qu.apply(this,arguments)}(O.swRegistration,O.vapidKey),Y={vapidKey:O.vapidKey,swScope:O.swRegistration.scope,endpoint:L.endpoint,auth:oe(L.getKey("auth")),p256dh:oe(L.getKey("p256dh"))},he=yield bs(O.firebaseDependencies);if(he){if(function M(O,L){return L.vapidKey===O.vapidKey&&L.endpoint===O.endpoint&&L.auth===O.auth&&L.p256dh===O.p256dh}(he.subscriptionOptions,Y))return Date.now()>=he.createTime+Wc?function ou(O,L){return Wu.apply(this,arguments)}(O,{token:he.token,createTime:Date.now(),subscriptionOptions:Y}):he.token;try{yield ha(O.firebaseDependencies,he.token)}catch(Ae){console.warn(Ae)}return au(O.firebaseDependencies,Y)}return au(O.firebaseDependencies,Y)}),Ec.apply(this,arguments)}function Pl(){return Pl=(0,u.Z)(function*(O){const L=yield bs(O.firebaseDependencies);L&&(yield ha(O.firebaseDependencies,L.token),yield function eo(O){return ti.apply(this,arguments)}(O.firebaseDependencies));const Y=yield O.swRegistration.pushManager.getSubscription();return!Y||Y.unsubscribe()}),Pl.apply(this,arguments)}function Wu(){return Wu=(0,u.Z)(function*(O,L){try{const Y=yield function yo(O,L){return Po.apply(this,arguments)}(O.firebaseDependencies,L),he=Object.assign(Object.assign({},L),{token:Y,createTime:Date.now()});return yield Ic(O.firebaseDependencies,he),Y}catch(Y){throw yield function su(O){return Pl.apply(this,arguments)}(O),Y}}),Wu.apply(this,arguments)}function au(O,L){return qc.apply(this,arguments)}function qc(){return(qc=(0,u.Z)(function*(O,L){const he={token:yield ws(O,L),createTime:Date.now(),subscriptionOptions:L};return yield Ic(O,he),he.token})).apply(this,arguments)}function qu(){return(qu=(0,u.Z)(function*(O,L){return(yield O.pushManager.getSubscription())||O.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ie(L)})})).apply(this,arguments)}function ne(O){const L={from:O.from,collapseKey:O.collapse_key,messageId:O.fcmMessageId};return function U(O,L){if(!L.notification)return;O.notification={};const Y=L.notification.title;Y&&(O.notification.title=Y);const he=L.notification.body;he&&(O.notification.body=he);const Ae=L.notification.image;Ae&&(O.notification.image=Ae);const Fe=L.notification.icon;Fe&&(O.notification.icon=Fe)}(L,O),function X(O,L){L.data&&(O.data=L.data)}(L,O),function ye(O,L){var Y,he,Ae,Fe,st;if(!(L.fcmOptions||null!==(Y=L.notification)&&void 0!==Y&&Y.click_action))return;O.fcmOptions={};const Vt=null!==(Ae=null===(he=L.fcmOptions)||void 0===he?void 0:he.link)&&void 0!==Ae?Ae:null===(Fe=L.notification)||void 0===Fe?void 0:Fe.click_action;Vt&&(O.fcmOptions.link=Vt);const Ut=null===(st=L.fcmOptions)||void 0===st?void 0:st.analytics_label;Ut&&(O.fcmOptions.analyticsLabel=Ut)}(L,O),L}function ut(O,L){const Y=[];for(let he=0;he<O.length;he++)Y.push(O.charAt(he)),he<L.length&&Y.push(L.charAt(he));return Y.join("")}function mr(O){return ur.create("missing-app-config-values",{valueName:O})}ut("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ut("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class br{constructor(L,Y,he){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ae=function cn(O){if(!O||!O.options)throw mr("App Configuration Object");if(!O.name)throw mr("App Name");const L=["projectId","apiKey","appId","messagingSenderId"],{options:Y}=O;for(const he of L)if(!Y[he])throw mr(he);return{appName:O.name,projectId:Y.projectId,apiKey:Y.apiKey,appId:Y.appId,senderId:Y.messagingSenderId}}(L);this.firebaseDependencies={app:L,appConfig:Ae,installations:Y,analyticsProvider:he}}_delete(){return Promise.resolve()}}function qn(){return(qn=(0,u.Z)(function*(O){try{O.swRegistration=yield navigator.serviceWorker.register(mo,{scope:Ro}),O.swRegistration.update().catch(()=>{})}catch(L){throw ur.create("failed-service-worker-registration",{browserErrorMessage:L?.message})}})).apply(this,arguments)}function zr(){return(zr=(0,u.Z)(function*(O,L){if(!L&&!O.swRegistration&&(yield function or(O){return qn.apply(this,arguments)}(O)),L||!O.swRegistration){if(!(L instanceof ServiceWorkerRegistration))throw ur.create("invalid-sw-registration");O.swRegistration=L}})).apply(this,arguments)}function Bs(){return(Bs=(0,u.Z)(function*(O,L){L?O.vapidKey=L:O.vapidKey||(O.vapidKey=Va)})).apply(this,arguments)}function hs(){return hs=(0,u.Z)(function*(O,L){if(!navigator)throw ur.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ur.create("permission-blocked");return yield function vi(O,L){return Bs.apply(this,arguments)}(O,L?.vapidKey),yield function Kr(O,L){return zr.apply(this,arguments)}(O,L?.serviceWorkerRegistration),function ic(O){return Ec.apply(this,arguments)}(O)}),hs.apply(this,arguments)}function to(){return(to=(0,u.Z)(function*(O,L,Y){const he=function Xo(O){switch(O){case B.NOTIFICATION_CLICKED:return"notification_open";case B.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(L);(yield O.firebaseDependencies.analyticsProvider.get()).logEvent(he,{message_id:Y[Qr],message_name:Y[ua],message_time:Y[jc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function pa(){return pa=(0,u.Z)(function*(O,L){const Y=L.data;if(!Y.isFirebaseMessaging)return;O.onMessageHandler&&Y.messageType===B.PUSH_RECEIVED&&("function"==typeof O.onMessageHandler?O.onMessageHandler(ne(Y)):O.onMessageHandler.next(ne(Y)));const he=Y.data;(function Ke(O){return"object"==typeof O&&!!O&&Qr in O})(he)&&"1"===he["google.c.a.e"]&&(yield function wi(O,L,Y){return to.apply(this,arguments)}(O,Y.messageType,he))}),pa.apply(this,arguments)}const Ad="@firebase/messaging",oc=O=>{const L=new br(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),O.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Y=>function sc(O,L){return pa.apply(this,arguments)}(L,Y)),L},Ha=O=>{const L=O.getProvider("messaging").getImmediate();return{getToken:he=>function bi(O,L){return hs.apply(this,arguments)}(L,he)}};function Zc(){return kl.apply(this,arguments)}function kl(){return(kl=(0,u.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function gi(){(0,we.Xd)(new fe.wA("messaging",oc,"PUBLIC")),(0,we.Xd)(new fe.wA("messaging-internal",Ha,"PRIVATE")),(0,we.KN)(Ad,"0.12.4"),(0,we.KN)(Ad,"0.12.4","esm2017")}();const ga="analytics",Fl="firebase_id",_h="origin",Si=6e4,yl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Kc="https://www.googletagmanager.com/gtag/js",fs=new Oe.Yd("@firebase/analytics"),Is=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function yh(O){if(!O.startsWith(Kc)){const L=Is.create("invalid-gtag-resource",{gtagURL:O});return fs.warn(L.message),""}return O}function Zu(O){return Promise.all(O.map(L=>L.catch(Y=>Y)))}function Yc(){return(Yc=(0,u.Z)(function*(O,L,Y,he,Ae,Fe){const st=he[Ae];try{if(st)yield L[st];else{const Ut=(yield Zu(Y)).find(vn=>vn.measurementId===Ae);Ut&&(yield L[Ut.appId])}}catch(Vt){fs.error(Vt)}O("config",Ae,Fe)})).apply(this,arguments)}function Ku(){return(Ku=(0,u.Z)(function*(O,L,Y,he,Ae){try{let Fe=[];if(Ae&&Ae.send_to){let st=Ae.send_to;Array.isArray(st)||(st=[st]);const Vt=yield Zu(Y);for(const Ut of st){const vn=Vt.find(tr=>tr.measurementId===Ut),Zn=vn&&L[vn.appId];if(!Zn){Fe=[];break}Fe.push(Zn)}}0===Fe.length&&(Fe=Object.values(L)),yield Promise.all(Fe),O("event",he,Ae||{})}catch(Fe){fs.error(Fe)}})).apply(this,arguments)}const wr=30,Yi=new class Rd{constructor(L={},Y=1e3){this.throttleMetadata=L,this.intervalMillis=Y}getThrottleMetadata(L){return this.throttleMetadata[L]}setThrottleMetadata(L,Y){this.throttleMetadata[L]=Y}deleteThrottleMetadata(L){delete this.throttleMetadata[L]}};function uu(O){return new Headers({Accept:"application/json","x-goog-api-key":O})}function Fo(){return(Fo=(0,u.Z)(function*(O){var L;const{appId:Y,apiKey:he}=O,Ae={method:"GET",headers:uu(he)},Fe=yl.replace("{app-id}",Y),st=yield fetch(Fe,Ae);if(200!==st.status&&304!==st.status){let Vt="";try{const Ut=yield st.json();null!==(L=Ut.error)&&void 0!==L&&L.message&&(Vt=Ut.error.message)}catch{}throw Is.create("config-fetch-failed",{httpStatus:st.status,responseMessage:Vt})}return st.json()})).apply(this,arguments)}function ac(){return(ac=(0,u.Z)(function*(O,L=Yi,Y){const{appId:he,apiKey:Ae,measurementId:Fe}=O.options;if(!he)throw Is.create("no-app-id");if(!Ae){if(Fe)return{measurementId:Fe,appId:he};throw Is.create("no-api-key")}const st=L.getThrottleMetadata(he)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Vt=new Lo;return setTimeout((0,u.Z)(function*(){Vt.abort()}),void 0!==Y?Y:Si),du({appId:he,apiKey:Ae,measurementId:Fe},st,Vt,L)})).apply(this,arguments)}function du(O,L,Y){return Jc.apply(this,arguments)}function Jc(){return Jc=(0,u.Z)(function*(O,{throttleEndTimeMillis:L,backoffCount:Y},he,Ae=Yi){var Fe;const{appId:st,measurementId:Vt}=O;try{yield function cc(O,L){return new Promise((Y,he)=>{const Ae=Math.max(L-Date.now(),0),Fe=setTimeout(Y,Ae);O.addEventListener(()=>{clearTimeout(Fe),he(Is.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(he,L)}catch(Ut){if(Vt)return fs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Vt} provided in the "measurementId" field in the local Firebase config. [${Ut?.message}]`),{appId:st,measurementId:Vt};throw Ut}try{const Ut=yield function vl(O){return Fo.apply(this,arguments)}(O);return Ae.deleteThrottleMetadata(st),Ut}catch(Ut){const vn=Ut;if(!function Vs(O){if(!(O instanceof de.ZR&&O.customData))return!1;const L=Number(O.customData.httpStatus);return 429===L||500===L||503===L||504===L}(vn)){if(Ae.deleteThrottleMetadata(st),Vt)return fs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Vt} provided in the "measurementId" field in the local Firebase config. [${vn?.message}]`),{appId:st,measurementId:Vt};throw Ut}const Zn=503===Number(null===(Fe=vn?.customData)||void 0===Fe?void 0:Fe.httpStatus)?(0,de.$s)(Y,Ae.intervalMillis,wr):(0,de.$s)(Y,Ae.intervalMillis),tr={throttleEndTimeMillis:Date.now()+Zn,backoffCount:Y+1};return Ae.setThrottleMetadata(st,tr),fs.debug(`Calling attemptFetch again in ${Zn} millis`),du(O,tr,he,Ae)}}),Jc.apply(this,arguments)}class Lo{constructor(){this.listeners=[]}addEventListener(L){this.listeners.push(L)}abort(){this.listeners.forEach(L=>L())}}let Xc,_e;function _a(){return(_a=(0,u.Z)(function*(O,L,Y,he,Ae){if(Ae&&Ae.global)O("event",Y,he);else{const Fe=yield L;O("event",Y,Object.assign(Object.assign({},he),{send_to:Fe}))}})).apply(this,arguments)}function Rn(){return(Rn=(0,u.Z)(function*(){if(!(0,de.hl)())return fs.warn(Is.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(O){return fs.warn(Is.create("indexeddb-unavailable",{errorInfo:O?.toString()}).message),!1}return!0})).apply(this,arguments)}function dr(){return dr=(0,u.Z)(function*(O,L,Y,he,Ae,Fe,st){var Vt;const Ut=function Qc(O){return ac.apply(this,arguments)}(O);Ut.then(io=>{Y[io.measurementId]=io.appId,O.options.measurementId&&io.measurementId!==O.options.measurementId&&fs.warn(`The measurement ID in the local Firebase config (${O.options.measurementId}) does not match the measurement ID fetched from the server (${io.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(io=>fs.error(io)),L.push(Ut);const vn=function jt(){return Rn.apply(this,arguments)}().then(io=>{if(io)return he.getId()}),[Zn,tr]=yield Promise.all([Ut,vn]);(function ht(O){const L=window.document.getElementsByTagName("script");for(const Y of Object.values(L))if(Y.src&&Y.src.includes(Kc)&&Y.src.includes(O))return Y;return null})(Fe)||function Ll(O,L){const Y=function vh(O,L){let Y;return window.trustedTypes&&(Y=window.trustedTypes.createPolicy(O,L)),Y}("firebase-js-sdk-policy",{createScriptURL:yh}),he=document.createElement("script"),Ae=`${Kc}?l=${O}&id=${L}`;he.src=Y?Y?.createScriptURL(Ae):Ae,he.async=!0,document.head.appendChild(he)}(Fe,Zn.measurementId),_e&&(Ae("consent","default",_e),function $e(O){_e=O}(void 0)),Ae("js",new Date);const ja=null!==(Vt=st?.config)&&void 0!==Vt?Vt:{};return ja[_h]="firebase",ja.update=!0,null!=tr&&(ja[Fl]=tr),Ae("config",Zn.measurementId,ja),Xc&&(Ae("set",Xc),function Ue(O){Xc=O}(void 0)),Zn.measurementId}),dr.apply(this,arguments)}class Dc{constructor(L){this.app=L}_delete(){return delete Wr[this.app.options.appId],Promise.resolve()}}let Wr={},ya=[];const Vr={};let kd,va,ea="dataLayer",hu=!1;function Cc(O,L,Y){!function wh(){const O=[];if((0,de.ru)()&&O.push("This is a browser extension environment."),(0,de.zI)()||O.push("Cookies are not available."),O.length>0){const L=O.map((he,Ae)=>`(${Ae+1}) ${he}`).join(" "),Y=Is.create("invalid-analytics-context",{errorInfo:L});fs.warn(Y.message)}}();const he=O.options.appId;if(!he)throw Is.create("no-app-id");if(!O.options.apiKey){if(!O.options.measurementId)throw Is.create("no-api-key");fs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${O.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Wr[he])throw Is.create("already-exists",{id:he});if(!hu){!function Bl(O){let L=[];Array.isArray(window[O])?L=window[O]:window[O]=L}(ea);const{wrappedGtag:Fe,gtagCore:st}=function lu(O,L,Y,he,Ae){let Fe=function(...st){window[he].push(arguments)};return window[Ae]&&"function"==typeof window[Ae]&&(Fe=window[Ae]),window[Ae]=function cu(O,L,Y,he){function Fe(){return Fe=(0,u.Z)(function*(st,...Vt){try{if("event"===st){const[Ut,vn]=Vt;yield function xd(O,L,Y,he,Ae){return Ku.apply(this,arguments)}(O,L,Y,Ut,vn)}else if("config"===st){const[Ut,vn]=Vt;yield function ma(O,L,Y,he,Ae,Fe){return Yc.apply(this,arguments)}(O,L,Y,he,Ut,vn)}else if("consent"===st){const[Ut]=Vt;O("consent","update",Ut)}else if("get"===st){const[Ut,vn,Zn]=Vt;O("get",Ut,vn,Zn)}else if("set"===st){const[Ut]=Vt;O("set",Ut)}else O(st,...Vt)}catch(Ut){fs.error(Ut)}}),Fe.apply(this,arguments)}return function Ae(st){return Fe.apply(this,arguments)}}(Fe,O,L,Y),{gtagCore:Fe,wrappedGtag:window[Ae]}}(Wr,ya,Vr,ea,"gtag");va=Fe,kd=st,hu=!0}return Wr[he]=function Rr(O,L,Y,he,Ae,Fe,st){return dr.apply(this,arguments)}(O,ya,Vr,L,kd,ea,Y),new Dc(O)}function el(){return bl.apply(this,arguments)}function bl(){return(bl=(0,u.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}const dg="@firebase/analytics";!function Vf(){(0,we.Xd)(new fe.wA(ga,(L,{options:Y})=>Cc(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),Y),"PUBLIC")),(0,we.Xd)(new fe.wA("analytics-internal",function O(L){try{const Y=L.getProvider(ga).getImmediate();return{logEvent:(he,Ae,Fe)=>function Th(O,L,Y,he){O=(0,de.m9)(O),function Ga(O,L,Y,he,Ae){return _a.apply(this,arguments)}(va,Wr[O.app.options.appId],L,Y,he).catch(Ae=>fs.error(Ae))}(Y,he,Ae,Fe)}}catch(Y){throw Is.create("interop-component-reg-failed",{reason:Y})}},"PRIVATE")),(0,we.KN)(dg,"0.10.0"),(0,we.KN)(dg,"0.10.0","esm2017")}();var Bd=Q(1954),gu=Q(9931);const Eh=new class Hl extends gu.v{}(class pv extends Bd.o{constructor(L,Y){super(L,Y),this.scheduler=L,this.work=Y}schedule(L,Y=0){return Y>0?super.schedule(L,Y):(this.delay=Y,this.state=L,this.scheduler.flush(this),this)}execute(L,Y){return Y>0||this.closed?super.execute(L,Y):this._execute(L,Y)}requestAsyncId(L,Y,he=0){return null!=he&&he>0||null==he&&this.delay>0?super.requestAsyncId(L,Y,he):(L.flush(this),0)}});var mu=Q(6321),tl=Q(5592),hg=Q(9397),_u=Q(5137),ed=Q(3093);const yu=new w.GfV("7.6.1"),wo="__angularfire_symbol__analyticsIsSupportedValue",td="__angularfire_symbol__analyticsIsSupported",Tl="__angularfire_symbol__remoteConfigIsSupportedValue",nl="__angularfire_symbol__remoteConfigIsSupported",vu="__angularfire_symbol__messagingIsSupportedValue",bu="__angularfire_symbol__messagingIsSupported";function jl(O,L,Y){if(L){if(1===L.length)return L[0];const Fe=L.filter(st=>st.app===Y);if(1===Fe.length)return Fe[0]}return Y.container.getProvider(O).getImmediate({optional:!0})}globalThis[td]||(globalThis[td]=el().then(O=>globalThis[wo]=O).catch(()=>globalThis[wo]=!1)),globalThis[bu]||(globalThis[bu]=Zc().then(O=>globalThis[vu]=O).catch(()=>globalThis[vu]=!1)),globalThis[nl]||(globalThis[nl]=ys().then(O=>globalThis[Tl]=O).catch(()=>globalThis[Tl]=!1));const Hf=(O,L)=>{const Y=L?[L]:(0,ce.C6)(),he=[];return Y.forEach(Ae=>{Ae.container.getProvider(O).instances.forEach(st=>{he.includes(st)||he.push(st)})}),he};function $l(){}class El{constructor(L,Y=Eh){this.zone=L,this.delegate=Y}now(){return this.delegate.now()}schedule(L,Y,he){const Ae=this.zone;return this.delegate.schedule(function(st){Ae.runGuarded(()=>{L.apply(this,[st])})},Y,he)}}class uc{constructor(L){this.zone=L,this.task=null}call(L,Y){const he=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$l,{},$l,$l)),Y.pipe((0,hg.b)({next:he,complete:he,error:he})).subscribe(L).add(he)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ud=(()=>{class O{constructor(Y){this.ngZone=Y,this.outsideAngular=Y.runOutsideAngular(()=>new El(Zone.current)),this.insideAngular=Y.run(()=>new El(Zone.current,mu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return O.\u0275fac=function(Y){return new(Y||O)(w.LFG(w.R0b))},O.\u0275prov=w.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function Sc(){const O=globalThis.\u0275AngularFireScheduler;if(!O)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return O}function ba(O){return Sc().ngZone.run(()=>O())}function Gf(O){return Sc(),function Hd(O){return function(Y){return(Y=Y.lift(new uc(O.ngZone))).pipe((0,_u.R)(O.outsideAngular),(0,ed.Q)(O.insideAngular))}}(Sc())(O)}const nd=(O,L)=>function(){const he=arguments;return L&&setTimeout(()=>{"scheduled"===L.state&&L.invoke()},10),ba(()=>O.apply(void 0,he))},jf=(O,L)=>function(){let Y;const he=arguments;for(let Fe=0;Fe<arguments.length;Fe++)"function"==typeof he[Fe]&&(L&&(Y||(Y=ba(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$l,{},$l,$l)))),he[Fe]=nd(he[Fe],Y));const Ae=function wu(O){return Sc().ngZone.runOutsideAngular(()=>O())}(()=>O.apply(this,he));if(!L){if(Ae instanceof tl.y){const Fe=Sc();return Ae.pipe((0,_u.R)(Fe.outsideAngular),(0,ed.Q)(Fe.insideAngular))}return ba(()=>Ae)}return Ae instanceof tl.y?Ae.pipe(Gf):Ae instanceof Promise?ba(()=>new Promise((Fe,st)=>Ae.then(Vt=>ba(()=>Fe(Vt)),Vt=>ba(()=>st(Vt))))):"function"==typeof Ae&&Y?function(){return setTimeout(()=>{Y&&"scheduled"===Y.state&&Y.invoke()},10),Ae.apply(this,arguments)}:ba(()=>Ae)}},229:(Gt,ze,Q)=>{Q.d(ze,{$s:()=>It,BH:()=>vt,L:()=>Ee,LL:()=>bt,P0:()=>Mt,Pz:()=>ot,Sg:()=>_t,US:()=>fe,ZR:()=>nt,aH:()=>mt,b$:()=>dt,eu:()=>je,hl:()=>ke,m9:()=>Vn,ne:()=>Jn,ru:()=>xn,tV:()=>re,uI:()=>ve,vZ:()=>yt,xO:()=>En,z$:()=>Ge,zI:()=>Je});const we=function(K){const V=[];let G=0;for(let W=0;W<K.length;W++){let $=K.charCodeAt(W);$<128?V[G++]=$:$<2048?(V[G++]=$>>6|192,V[G++]=63&$|128):55296==(64512&$)&&W+1<K.length&&56320==(64512&K.charCodeAt(W+1))?($=65536+((1023&$)<<10)+(1023&K.charCodeAt(++W)),V[G++]=$>>18|240,V[G++]=$>>12&63|128,V[G++]=$>>6&63|128,V[G++]=63&$|128):(V[G++]=$>>12|224,V[G++]=$>>6&63|128,V[G++]=63&$|128)}return V},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,V){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let $=0;$<K.length;$+=3){const be=K[$],We=$+1<K.length,Tt=We?K[$+1]:0,on=$+2<K.length,Xt=on?K[$+2]:0;let Pn=(15&Tt)<<2|Xt>>6,jr=63&Xt;on||(jr=64,We||(Pn=64)),W.push(G[be>>2],G[(3&be)<<4|Tt>>4],G[Pn],G[jr])}return W.join("")},encodeString(K,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(K):this.encodeByteArray(we(K),V)},decodeString(K,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(K):function(K){const V=[];let G=0,W=0;for(;G<K.length;){const $=K[G++];if($<128)V[W++]=String.fromCharCode($);else if($>191&&$<224){const be=K[G++];V[W++]=String.fromCharCode((31&$)<<6|63&be)}else if($>239&&$<365){const on=((7&$)<<18|(63&K[G++])<<12|(63&K[G++])<<6|63&K[G++])-65536;V[W++]=String.fromCharCode(55296+(on>>10)),V[W++]=String.fromCharCode(56320+(1023&on))}else{const be=K[G++],We=K[G++];V[W++]=String.fromCharCode((15&$)<<12|(63&be)<<6|63&We)}}return V.join("")}(this.decodeStringToByteArray(K,V))},decodeStringToByteArray(K,V){this.init_();const G=V?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let $=0;$<K.length;){const be=G[K.charAt($++)],Tt=$<K.length?G[K.charAt($)]:0;++$;const Xt=$<K.length?G[K.charAt($)]:64;++$;const $t=$<K.length?G[K.charAt($)]:64;if(++$,null==be||null==Tt||null==Xt||null==$t)throw new Oe;W.push(be<<2|Tt>>4),64!==Xt&&(W.push(Tt<<4&240|Xt>>2),64!==$t&&W.push(Xt<<6&192|$t))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}};class Oe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ee=function(K){return function(K){const V=we(K);return fe.encodeByteArray(V,!0)}(K).replace(/\./g,"")},re=function(K){try{return fe.decodeString(K,!0)}catch(V){console.error("base64Decode failed: ",V)}return null},Ft=()=>{try{return function Pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const K=process.env.__FIREBASE_DEFAULTS__;return K?JSON.parse(K):void 0})()||(()=>{if(typeof document>"u")return;let K;try{K=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=K&&re(K[1]);return V&&JSON.parse(V)})()}catch(K){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${K}`)}},Mt=K=>{const V=(K=>{var V,G;return null===(G=null===(V=Ft())||void 0===V?void 0:V.emulatorHosts)||void 0===G?void 0:G[K]})(K);if(!V)return;const G=V.lastIndexOf(":");if(G<=0||G+1===V.length)throw new Error(`Invalid host ${V} with no separate hostname and port!`);const W=parseInt(V.substring(G+1),10);return"["===V[0]?[V.substring(1,G-1),W]:[V.substring(0,G),W]},mt=()=>{var K;return null===(K=Ft())||void 0===K?void 0:K.config},ot=K=>{var V;return null===(V=Ft())||void 0===V?void 0:V[`_${K}`]};class vt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,G)=>{this.resolve=V,this.reject=G})}wrapCallback(V){return(G,W)=>{G?this.reject(G):this.resolve(W),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(G):V(G,W))}}}function _t(K,V){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const W=V||"demo-project",$=K.iat||0,be=K.sub||K.user_id;if(!be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const We=Object.assign({iss:`https://securetoken.google.com/${W}`,aud:W,iat:$,exp:$+3600,auth_time:$,sub:be,user_id:be,firebase:{sign_in_provider:"custom",identities:{}}},K);return[Ee(JSON.stringify({alg:"none",type:"JWT"})),Ee(JSON.stringify(We)),""].join(".")}function Ge(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function xn(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ke(){try{return"object"==typeof indexedDB}catch{return!1}}function je(){return new Promise((K,V)=>{try{let G=!0;const W="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(W);$.onsuccess=()=>{$.result.close(),G||self.indexedDB.deleteDatabase(W),K(!0)},$.onupgradeneeded=()=>{G=!1},$.onerror=()=>{var be;V((null===(be=$.error)||void 0===be?void 0:be.message)||"")}}catch(G){V(G)}})}function Je(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class nt extends Error{constructor(V,G,W){super(G),this.code=V,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bt.prototype.create)}}class bt{constructor(V,G,W){this.service=V,this.serviceName=G,this.errors=W}create(V,...G){const W=G[0]||{},$=`${this.service}/${V}`,be=this.errors[V],We=be?function Pt(K,V){return K.replace(Ht,(G,W)=>{const $=V[W];return null!=$?String($):`<${W}?>`})}(be,W):"Error";return new nt($,`${this.serviceName}: ${We} (${$}).`,W)}}const Ht=/\{\$([^}]+)}/g;function yt(K,V){if(K===V)return!0;const G=Object.keys(K),W=Object.keys(V);for(const $ of G){if(!W.includes($))return!1;const be=K[$],We=V[$];if(St(be)&&St(We)){if(!yt(be,We))return!1}else if(be!==We)return!1}for(const $ of W)if(!G.includes($))return!1;return!0}function St(K){return null!==K&&"object"==typeof K}function En(K){const V=[];for(const[G,W]of Object.entries(K))Array.isArray(W)?W.forEach($=>{V.push(encodeURIComponent(G)+"="+encodeURIComponent($))}):V.push(encodeURIComponent(G)+"="+encodeURIComponent(W));return V.length?"&"+V.join("&"):""}function Jn(K,V){const G=new tn(K,V);return G.subscribe.bind(G)}class tn{constructor(V,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{V(this)}).catch(W=>{this.error(W)})}next(V){this.forEachObserver(G=>{G.next(V)})}error(V){this.forEachObserver(G=>{G.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,G,W){let $;if(void 0===V&&void 0===G&&void 0===W)throw new Error("Missing Observer.");$=function yr(K,V){if("object"!=typeof K||null===K)return!1;for(const G of V)if(G in K&&"function"==typeof K[G])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:G,complete:W},void 0===$.next&&($.next=mn),void 0===$.error&&($.error=mn),void 0===$.complete&&($.complete=mn);const be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),be}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,V)}sendOne(V,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{G(this.observers[V])}catch(W){typeof console<"u"&&console.error&&console.error(W)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mn(){}const _i=1e3,tt=2,Ce=144e5,Ze=.5;function It(K,V=_i,G=tt){const W=V*Math.pow(G,K),$=Math.round(Ze*W*(Math.random()-.5)*2);return Math.min(Ce,W+$)}function Vn(K){return K&&K._delegate?K._delegate:K}},9058:(Gt,ze,Q)=>{Q.d(ze,{BH:()=>vt,L:()=>Ee,LL:()=>bt,Pz:()=>ot,ZR:()=>nt,aH:()=>mt,b$:()=>dt,eu:()=>je,hl:()=>ke,m9:()=>Vn,ne:()=>Jn,pd:()=>Kt,q4:()=>Sn,ru:()=>xn,tV:()=>re,uI:()=>ve,vZ:()=>yt,w1:()=>Tn,xO:()=>En,xb:()=>Re,z$:()=>Ge,zd:()=>an});const we=function(K){const V=[];let G=0;for(let W=0;W<K.length;W++){let $=K.charCodeAt(W);$<128?V[G++]=$:$<2048?(V[G++]=$>>6|192,V[G++]=63&$|128):55296==(64512&$)&&W+1<K.length&&56320==(64512&K.charCodeAt(W+1))?($=65536+((1023&$)<<10)+(1023&K.charCodeAt(++W)),V[G++]=$>>18|240,V[G++]=$>>12&63|128,V[G++]=$>>6&63|128,V[G++]=63&$|128):(V[G++]=$>>12|224,V[G++]=$>>6&63|128,V[G++]=63&$|128)}return V},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,V){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let $=0;$<K.length;$+=3){const be=K[$],We=$+1<K.length,Tt=We?K[$+1]:0,on=$+2<K.length,Xt=on?K[$+2]:0;let Pn=(15&Tt)<<2|Xt>>6,jr=63&Xt;on||(jr=64,We||(Pn=64)),W.push(G[be>>2],G[(3&be)<<4|Tt>>4],G[Pn],G[jr])}return W.join("")},encodeString(K,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(K):this.encodeByteArray(we(K),V)},decodeString(K,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(K):function(K){const V=[];let G=0,W=0;for(;G<K.length;){const $=K[G++];if($<128)V[W++]=String.fromCharCode($);else if($>191&&$<224){const be=K[G++];V[W++]=String.fromCharCode((31&$)<<6|63&be)}else if($>239&&$<365){const on=((7&$)<<18|(63&K[G++])<<12|(63&K[G++])<<6|63&K[G++])-65536;V[W++]=String.fromCharCode(55296+(on>>10)),V[W++]=String.fromCharCode(56320+(1023&on))}else{const be=K[G++],We=K[G++];V[W++]=String.fromCharCode((15&$)<<12|(63&be)<<6|63&We)}}return V.join("")}(this.decodeStringToByteArray(K,V))},decodeStringToByteArray(K,V){this.init_();const G=V?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let $=0;$<K.length;){const be=G[K.charAt($++)],Tt=$<K.length?G[K.charAt($)]:0;++$;const Xt=$<K.length?G[K.charAt($)]:64;++$;const $t=$<K.length?G[K.charAt($)]:64;if(++$,null==be||null==Tt||null==Xt||null==$t)throw new Oe;W.push(be<<2|Tt>>4),64!==Xt&&(W.push(Tt<<4&240|Xt>>2),64!==$t&&W.push(Xt<<6&192|$t))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}};class Oe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ee=function(K){return function(K){const V=we(K);return fe.encodeByteArray(V,!0)}(K).replace(/\./g,"")},re=function(K){try{return fe.decodeString(K,!0)}catch(V){console.error("base64Decode failed: ",V)}return null},Ft=()=>{try{return function Pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const K=process.env.__FIREBASE_DEFAULTS__;return K?JSON.parse(K):void 0})()||(()=>{if(typeof document>"u")return;let K;try{K=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=K&&re(K[1]);return V&&JSON.parse(V)})()}catch(K){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${K}`)}},Sn=K=>{var V,G;return null===(G=null===(V=Ft())||void 0===V?void 0:V.emulatorHosts)||void 0===G?void 0:G[K]},mt=()=>{var K;return null===(K=Ft())||void 0===K?void 0:K.config},ot=K=>{var V;return null===(V=Ft())||void 0===V?void 0:V[`_${K}`]};class vt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,G)=>{this.resolve=V,this.reject=G})}wrapCallback(V){return(G,W)=>{G?this.reject(G):this.resolve(W),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(G):V(G,W))}}}function Ge(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function xn(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Tn(){const K=Ge();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function ke(){try{return"object"==typeof indexedDB}catch{return!1}}function je(){return new Promise((K,V)=>{try{let G=!0;const W="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(W);$.onsuccess=()=>{$.result.close(),G||self.indexedDB.deleteDatabase(W),K(!0)},$.onupgradeneeded=()=>{G=!1},$.onerror=()=>{var be;V((null===(be=$.error)||void 0===be?void 0:be.message)||"")}}catch(G){V(G)}})}class nt extends Error{constructor(V,G,W){super(G),this.code=V,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bt.prototype.create)}}class bt{constructor(V,G,W){this.service=V,this.serviceName=G,this.errors=W}create(V,...G){const W=G[0]||{},$=`${this.service}/${V}`,be=this.errors[V],We=be?function Pt(K,V){return K.replace(Ht,(G,W)=>{const $=V[W];return null!=$?String($):`<${W}?>`})}(be,W):"Error";return new nt($,`${this.serviceName}: ${We} (${$}).`,W)}}const Ht=/\{\$([^}]+)}/g;function Re(K){for(const V in K)if(Object.prototype.hasOwnProperty.call(K,V))return!1;return!0}function yt(K,V){if(K===V)return!0;const G=Object.keys(K),W=Object.keys(V);for(const $ of G){if(!W.includes($))return!1;const be=K[$],We=V[$];if(St(be)&&St(We)){if(!yt(be,We))return!1}else if(be!==We)return!1}for(const $ of W)if(!G.includes($))return!1;return!0}function St(K){return null!==K&&"object"==typeof K}function En(K){const V=[];for(const[G,W]of Object.entries(K))Array.isArray(W)?W.forEach($=>{V.push(encodeURIComponent(G)+"="+encodeURIComponent($))}):V.push(encodeURIComponent(G)+"="+encodeURIComponent(W));return V.length?"&"+V.join("&"):""}function an(K){const V={};return K.replace(/^\?/,"").split("&").forEach(W=>{if(W){const[$,be]=W.split("=");V[decodeURIComponent($)]=decodeURIComponent(be)}}),V}function Kt(K){const V=K.indexOf("?");if(!V)return"";const G=K.indexOf("#",V);return K.substring(V,G>0?G:void 0)}function Jn(K,V){const G=new tn(K,V);return G.subscribe.bind(G)}class tn{constructor(V,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{V(this)}).catch(W=>{this.error(W)})}next(V){this.forEachObserver(G=>{G.next(V)})}error(V){this.forEachObserver(G=>{G.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,G,W){let $;if(void 0===V&&void 0===G&&void 0===W)throw new Error("Missing Observer.");$=function yr(K,V){if("object"!=typeof K||null===K)return!1;for(const G of V)if(G in K&&"function"==typeof K[G])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:G,complete:W},void 0===$.next&&($.next=mn),void 0===$.error&&($.error=mn),void 0===$.complete&&($.complete=mn);const be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),be}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,V)}sendOne(V,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{G(this.observers[V])}catch(W){typeof console<"u"&&console.error&&console.error(W)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mn(){}function Vn(K){return K&&K._delegate?K._delegate:K}},2732:(Gt,ze,Q)=>{Q.d(ze,{Q:()=>u});var w=Q(9468),ce=Q(6593);let u=(()=>{class we{constructor(fe){this.sanitizer=fe}transform(fe){let Oe;if(fe.startsWith("https://m."))Oe=new URLSearchParams(fe.split("?")[1]).get("v")||"";else{const Ee=fe.split("/");Oe=Ee[Ee.length-1]}return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+Oe)}static#e=this.\u0275fac=function(Oe){return new(Oe||we)(w.Y36(ce.H7,16))};static#t=this.\u0275pipe=w.Yjl({name:"safeUrl",type:we,pure:!0})}return we})()},2772:(Gt,ze,Q)=>{Q.d(ze,{r:()=>de});var w=Q(6814),ce=Q(6024),u=Q(95),we=Q(9468);let de=(()=>{class fe{static#e=this.\u0275fac=function(Ee){return new(Ee||fe)};static#t=this.\u0275mod=we.oAB({type:fe});static#n=this.\u0275inj=we.cJS({imports:[w.ez,ce.Bz,u.u5,u.UX]})}return fe})()},8850:(Gt,ze,Q)=>{Q.d(ze,{O:()=>de});var w=Q(5861),ce=Q(3477),u=Q(8645),we=Q(9468);let de=(()=>{class fe{constructor(He){this.firestore=He,this.commentAddedSubject=new u.x}getCommentsForRecipe(He){var Ee=this;return(0,w.Z)(function*(){try{const re=(0,ce.hJ)(Ee.firestore,"Comments"),le=(0,ce.IO)(re,(0,ce.ar)("recipeId","==",He)),Se=yield(0,ce.PL)(le),et=[];return Se.forEach(Pe=>{const it=Pe.data();et.push({create_time:it.create_time,name:it.name,recipeId:it.recipeId,text:it.text,uid:it.uid,id:Pe.id})}),et.sort((Pe,it)=>{const At=Pe.create_time.toDate();return it.create_time.toDate()-At}),et}catch(re){return console.error("Error retrieving comments:",re),[]}})()}getCommentsForUser(He){var Ee=this;return(0,w.Z)(function*(){try{const re=(0,ce.hJ)(Ee.firestore,"Comments"),le=(0,ce.IO)(re,(0,ce.ar)("uid","==",He)),Se=yield(0,ce.PL)(le),et=[];return Se.forEach(Pe=>{const it=Pe.data();et.push({create_time:it.create_time,name:it.name,recipeId:it.recipeId,text:it.text,uid:it.uid,id:Pe.id})}),et.sort((Pe,it)=>{const At=Pe.create_time.toDate();return it.create_time.toDate()-At}),et}catch(re){return console.error("Error retrieving comments:",re),[]}})()}addComment(He){var Ee=this;return(0,w.Z)(function*(){try{const re="Comments",le=yield(0,ce.ET)((0,ce.hJ)(Ee.firestore,re),He);return Ee.commentAddedSubject.next(),le.id}catch(re){return console.error("Error adding comment:",re),null}})()}deleteComment(He){var Ee=this;return(0,w.Z)(function*(){try{const le=(0,ce.JU)(Ee.firestore,"Comments",He);yield(0,ce.oe)(le),console.log("Comment deleted successfully:",He)}catch(re){console.error("Error deleting comment:",re)}})()}getCommentById(He){var Ee=this;return(0,w.Z)(function*(){const re=(0,ce.JU)(Ee.firestore,"Comments",He),le=yield(0,ce.QT)(re);if(le.exists()){const Se=le.data();return console.log(Se.recipeId),le.data()}return null})()}editComment(He,Ee){var re=this;return(0,w.Z)(function*(){try{const Se=(0,ce.JU)(re.firestore,"Comments",He);yield(0,ce.r7)(Se,Ee),console.log("Comment edited successfully:",He)}catch(le){console.error("Error editing comment:",le)}})()}getCommentAddedObservable(){return this.commentAddedSubject.asObservable()}static#e=this.\u0275fac=function(Ee){return new(Ee||fe)(we.LFG(ce.gg))};static#t=this.\u0275prov=we.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})()},7157:(Gt,ze,Q)=>{Q.d(ze,{j:()=>we});var w=Q(5861),ce=Q(3477),u=Q(9468);let we=(()=>{class de{constructor(Oe){this.firestore=Oe}getRecipeById(Oe){var He=this;return(0,w.Z)(function*(){const Ee=(0,ce.JU)(He.firestore,"Recipe",Oe),re=yield(0,ce.QT)(Ee);if(re.exists()){let le=re.data();return le.id||(le={...le,id:Oe}),le}return null})()}updateRecipeLikes(Oe,He,Ee){var re=this;return(0,w.Z)(function*(){const Se=(0,ce.JU)(re.firestore,"Recipe",Oe);try{Ee?(console.log("remove"),yield(0,ce.r7)(Se,{likes:(0,ce.Ab)(He)})):(console.log("add"),yield(0,ce.r7)(Se,{likes:(0,ce.vr)(He)})),console.log("Recipe likes updated successfully")}catch(et){console.error("Error updating recipe likes: ",et)}})()}deleteRecipe(Oe){var He=this;return(0,w.Z)(function*(){try{const re=(0,ce.JU)(He.firestore,"Recipe",Oe);yield(0,ce.oe)(re),console.log("Recipe deleted successfully:",Oe)}catch(Ee){console.error("Error deleting recipe:",Ee)}})()}static#e=this.\u0275fac=function(He){return new(He||de)(u.LFG(ce.gg))};static#t=this.\u0275prov=u.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})()},1753:(Gt,ze,Q)=>{Q.d(ze,{v:()=>He});var w=Q(5861),ce=Q(5619),u=Q(6973),we=Q(305),fe=Q(3477),Oe=Q(9468);let He=(()=>{class Ee{constructor(le){this.firestore=le,this.lastDocSubject=new ce.X(void 0),this.lastDoc$=this.lastDocSubject.asObservable()}getRecipeByUID(le){var Se=this;return(0,w.Z)(function*(){try{const et=(0,fe.hJ)(Se.firestore,"Recipe"),Pe=(0,fe.IO)(et,(0,fe.ar)("uid","==",le)),it=yield(0,fe.PL)(Pe),At=[];return it.forEach(Lt=>{const Sn={...Lt.data(),id:Lt.id};At.push(Sn)}),At}catch(et){return console.error("Error retrieving recipes:",et),[]}})()}getRecipesLoadMore(){var le=this;return(0,w.Z)(function*(){const et=yield function de(Ee,re){const le="object"==typeof re;return new Promise((Se,et)=>{const Pe=new we.Hp({next:it=>{Se(it),Pe.unsubscribe()},error:et,complete:()=>{le?Se(re.defaultValue):et(new u.K)}});Ee.subscribe(Pe)})}(le.lastDoc$);let it=(0,fe.IO)((0,fe.hJ)(le.firestore,"Recipe"),(0,fe.Xo)("title"));et&&(it=(0,fe.IO)(it,(0,fe.TQ)(et))),it=(0,fe.IO)(it,(0,fe.b9)(6));const At=yield(0,fe.PL)(it);let Lt=[];At.forEach(Mt=>{const ot={...Mt.data(),id:Mt.id};Lt.push(ot)});const Ft=6===At.size;return le.lastDocSubject.next(At.docs[At.docs.length-1]),{data:Lt,hasMore:Ft}})()}getRecipes(){var le=this;return(0,w.Z)(function*(){let Pe=(0,fe.IO)((0,fe.hJ)(le.firestore,"Recipe"),(0,fe.Xo)("title"));Pe=(0,fe.IO)(Pe,(0,fe.b9)(6));const it=yield(0,fe.PL)(Pe);let At=[];return it.forEach(Ft=>{const Mt={...Ft.data(),id:Ft.id};At.push(Mt)}),le.lastDocSubject.next(it.docs[it.docs.length-1]),{data:At}})()}searchRecipesByTitle(le){var Se=this;return(0,w.Z)(function*(){let Pe=(0,fe.IO)((0,fe.hJ)(Se.firestore,"Recipe"),(0,fe.Xo)("title"));const it=yield(0,fe.PL)(Pe);let At=[];return it.forEach(Lt=>{const Sn={...Lt.data(),id:Lt.id};At.push(Sn)}),le&&(At=At.filter(Lt=>Lt.title.toLowerCase().includes(le.toLowerCase()))),{data:At}})()}static#e=this.\u0275fac=function(Se){return new(Se||Ee)(Oe.LFG(fe.gg))};static#t=this.\u0275prov=Oe.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})()},6499:(Gt,ze,Q)=>{Q.d(ze,{K:()=>y_});var w=Q(5861),ce=Q(9058),u=Q(4303),we=Q(7879),de=Q(7582),fe=Q(4537);const it=function et(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},At=new ce.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ft=new we.Yd("@firebase/auth");function Mt(A,...v){Ft.logLevel<=we.in.ERROR&&Ft.error(`Auth (${u.Jn}): ${A}`,...v)}function mt(A,...v){throw Ge(A,...v)}function ot(A,...v){return Ge(A,...v)}function Ge(A,...v){if("string"!=typeof A){const b=v[0],N=[...v.slice(1)];return N[0]&&(N[0].appName=A.name),A._errorFactory.create(b,...N)}return At.create(A,...v)}function ve(A,v,...b){if(!A)throw Ge(v,...b)}function Qe(A){const v="INTERNAL ASSERTION FAILED: "+A;throw Mt(v),new Error(v)}function gt(A,v){A||Qe(v)}function xn(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.href)||""}function fn(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.protocol)||null}class nr{constructor(v,b){this.shortDelay=v,this.longDelay=b,gt(b>v,"Short delay should be less than long delay!"),this.isMobile=(0,ce.uI)()||(0,ce.b$)()}get(){return function Tn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function dt(){return"http:"===fn()||"https:"===fn()}()||(0,ce.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pr(A,v){gt(A.emulator,"Emulator should always be set here");const{url:b}=A.emulator;return v?`${b}${v.startsWith("/")?v.slice(1):v}`:b}class ke{static initialize(v,b,N){this.fetchImpl=v,b&&(this.headersImpl=b),N&&(this.responseImpl=N)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Qe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Qe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Qe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const je={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Je=new nr(3e4,6e4);function Ve(A,v){return A.tenantId&&!v.tenantId?Object.assign(Object.assign({},v),{tenantId:A.tenantId}):v}function nt(A,v,b,N){return bt.apply(this,arguments)}function bt(){return(bt=(0,w.Z)(function*(A,v,b,N,Z={}){return Pt(A,Z,(0,w.Z)(function*(){let ae={},Ne={};N&&("GET"===v?Ne=N:ae={body:JSON.stringify(N)});const Xe=(0,ce.xO)(Object.assign({key:A.config.apiKey},Ne)).slice(1),Et=yield A._getAdditionalHeaders();return Et["Content-Type"]="application/json",A.languageCode&&(Et["X-Firebase-Locale"]=A.languageCode),ke.fetch()(dn(A,A.config.apiHost,b,Xe),Object.assign({method:v,headers:Et,referrerPolicy:"no-referrer"},ae))}))})).apply(this,arguments)}function Pt(A,v,b){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,w.Z)(function*(A,v,b){A._canInitEmulator=!1;const N=Object.assign(Object.assign({},je),v);try{const Z=new Wn(A),ae=yield Promise.race([b(),Z.promise]);Z.clearNetworkTimeout();const Ne=yield ae.json();if("needConfirmation"in Ne)throw gr(A,"account-exists-with-different-credential",Ne);if(ae.ok&&!("errorMessage"in Ne))return Ne;{const Xe=ae.ok?Ne.errorMessage:Ne.error.message,[Et,gn]=Xe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Et)throw gr(A,"credential-already-in-use",Ne);if("EMAIL_EXISTS"===Et)throw gr(A,"email-already-in-use",Ne);if("USER_DISABLED"===Et)throw gr(A,"user-disabled",Ne);const _n=N[Et]||Et.toLowerCase().replace(/[_\s]+/g,"-");if(gn)throw function vt(A,v,b){const N=Object.assign(Object.assign({},it()),{[v]:b});return new ce.LL("auth","Firebase",N).create(v,{appName:A.name})}(A,_n,gn);mt(A,_n)}}catch(Z){if(Z instanceof ce.ZR)throw Z;mt(A,"network-request-failed",{message:String(Z)})}})).apply(this,arguments)}function pn(A,v,b,N){return yn.apply(this,arguments)}function yn(){return(yn=(0,w.Z)(function*(A,v,b,N,Z={}){const ae=yield nt(A,v,b,N,Z);return"mfaPendingCredential"in ae&&mt(A,"multi-factor-auth-required",{_serverResponse:ae}),ae})).apply(this,arguments)}function dn(A,v,b,N){const Z=`${v}${b}?${N}`;return A.config.emulator?pr(A.config,Z):`${A.config.apiScheme}://${Z}`}function Dt(A){switch(A){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Wn{constructor(v){this.auth=v,this.timer=null,this.promise=new Promise((b,N)=>{this.timer=setTimeout(()=>N(ot(this.auth,"network-request-failed")),Je.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gr(A,v,b){const N={appName:A.name};b.email&&(N.email=b.email),b.phoneNumber&&(N.phoneNumber=b.phoneNumber);const Z=ot(A,v,N);return Z.customData._tokenResponse=b,Z}function De(A){return void 0!==A&&void 0!==A.enterprise}class xe{constructor(v){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===v.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=v.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=v.recaptchaEnforcementState}getProviderEnforcementState(v){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const b of this.recaptchaEnforcementState)if(b.provider&&b.provider===v)return Dt(b.enforcementState);return null}isProviderEnabled(v){return"ENFORCE"===this.getProviderEnforcementState(v)||"AUDIT"===this.getProviderEnforcementState(v)}}function yt(A,v){return St.apply(this,arguments)}function St(){return(St=(0,w.Z)(function*(A,v){return nt(A,"GET","/v2/recaptchaConfig",Ve(A,v))})).apply(this,arguments)}function En(){return(En=(0,w.Z)(function*(A,v){return nt(A,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}function Jn(){return(Jn=(0,w.Z)(function*(A,v){return nt(A,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}function tn(A){if(A)try{const v=new Date(Number(A));if(!isNaN(v.getTime()))return v.toUTCString()}catch{}}function mn(){return(mn=(0,w.Z)(function*(A,v=!1){const b=(0,ce.m9)(A),N=yield b.getIdToken(v),Z=Kn(N);ve(Z&&Z.exp&&Z.auth_time&&Z.iat,b.auth,"internal-error");const ae="object"==typeof Z.firebase?Z.firebase:void 0,Ne=ae?.sign_in_provider;return{claims:Z,token:N,authTime:tn(rr(Z.auth_time)),issuedAtTime:tn(rr(Z.iat)),expirationTime:tn(rr(Z.exp)),signInProvider:Ne||null,signInSecondFactor:ae?.sign_in_second_factor||null}})).apply(this,arguments)}function rr(A){return 1e3*Number(A)}function Kn(A){const[v,b,N]=A.split(".");if(void 0===v||void 0===b||void 0===N)return Mt("JWT malformed, contained fewer than 3 sections"),null;try{const Z=(0,ce.tV)(b);return Z?JSON.parse(Z):(Mt("Failed to decode base64 JWT payload"),null)}catch(Z){return Mt("Caught error parsing JWT payload as JSON",Z?.toString()),null}}function jn(A,v){return mi.apply(this,arguments)}function mi(){return(mi=(0,w.Z)(function*(A,v,b=!1){if(b)return v;try{return yield v}catch(N){throw N instanceof ce.ZR&&function An({code:A}){return"auth/user-disabled"===A||"auth/user-token-expired"===A}(N)&&A.auth.currentUser===A&&(yield A.auth.signOut()),N}})).apply(this,arguments)}class Xn{constructor(v){this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(v){var b;if(v){const N=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),N}{this.errorBackoff=3e4;const Z=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,Z)}}schedule(v=!1){var b=this;if(!this.isRunning)return;const N=this.getInterval(v);this.timerId=setTimeout((0,w.Z)(function*(){yield b.iteration()}),N)}iteration(){var v=this;return(0,w.Z)(function*(){try{yield v.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===b?.code&&v.schedule(!0))}v.schedule()})()}}class Mr{constructor(v,b){this.createdAt=v,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=tn(this.lastLoginAt),this.creationTime=tn(this.createdAt)}_copy(v){this.createdAt=v.createdAt,this.lastLoginAt=v.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function _i(A){return tt.apply(this,arguments)}function tt(){return tt=(0,w.Z)(function*(A){var v;const b=A.auth,N=yield A.getIdToken(),Z=yield jn(A,function wn(A,v){return Jn.apply(this,arguments)}(b,{idToken:N}));ve(Z?.users.length,b,"internal-error");const ae=Z.users[0];A._notifyReloadListener(ae);const Ne=null!==(v=ae.providerUserInfo)&&void 0!==v&&v.length?function Wt(A){return A.map(v=>{var{providerId:b}=v,N=(0,de._T)(v,["providerId"]);return{providerId:b,uid:N.rawId||"",displayName:N.displayName||null,email:N.email||null,phoneNumber:N.phoneNumber||null,photoURL:N.photoUrl||null}})}(ae.providerUserInfo):[],Xe=function It(A,v){return[...A.filter(N=>!v.some(Z=>Z.providerId===N.providerId)),...v]}(A.providerData,Ne),_n=!!A.isAnonymous&&!(A.email&&ae.passwordHash||Xe?.length),Pr={uid:ae.localId,displayName:ae.displayName||null,photoURL:ae.photoUrl||null,email:ae.email||null,emailVerified:ae.emailVerified||!1,phoneNumber:ae.phoneNumber||null,tenantId:ae.tenantId||null,providerData:Xe,metadata:new Mr(ae.createdAt,ae.lastLoginAt),isAnonymous:_n};Object.assign(A,Pr)}),tt.apply(this,arguments)}function Ze(){return(Ze=(0,w.Z)(function*(A){const v=(0,ce.m9)(A);yield _i(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}function Vn(){return(Vn=(0,w.Z)(function*(A,v){const b=yield Pt(A,{},(0,w.Z)(function*(){const N=(0,ce.xO)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:Z,apiKey:ae}=A.config,Ne=dn(A,Z,"/v1/token",`key=${ae}`),Xe=yield A._getAdditionalHeaders();return Xe["Content-Type"]="application/x-www-form-urlencoded",ke.fetch()(Ne,{method:"POST",headers:Xe,body:N})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}function V(){return(V=(0,w.Z)(function*(A,v){return nt(A,"POST","/v2/accounts:revokeToken",Ve(A,v))})).apply(this,arguments)}class G{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(v){ve(v.idToken,"internal-error"),ve(typeof v.idToken<"u","internal-error"),ve(typeof v.refreshToken<"u","internal-error");const b="expiresIn"in v&&typeof v.expiresIn<"u"?Number(v.expiresIn):function ir(A){const v=Kn(A);return ve(v,"internal-error"),ve(typeof v.exp<"u","internal-error"),ve(typeof v.iat<"u","internal-error"),Number(v.exp)-Number(v.iat)}(v.idToken);this.updateTokensAndExpiration(v.idToken,v.refreshToken,b)}getToken(v,b=!1){var N=this;return(0,w.Z)(function*(){return ve(!N.accessToken||N.refreshToken,v,"user-token-expired"),b||!N.accessToken||N.isExpired?N.refreshToken?(yield N.refresh(v,N.refreshToken),N.accessToken):null:N.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(v,b){var N=this;return(0,w.Z)(function*(){const{accessToken:Z,refreshToken:ae,expiresIn:Ne}=yield function qt(A,v){return Vn.apply(this,arguments)}(v,b);N.updateTokensAndExpiration(Z,ae,Number(Ne))})()}updateTokensAndExpiration(v,b,N){this.refreshToken=b||null,this.accessToken=v||null,this.expirationTime=Date.now()+1e3*N}static fromJSON(v,b){const{refreshToken:N,accessToken:Z,expirationTime:ae}=b,Ne=new G;return N&&(ve("string"==typeof N,"internal-error",{appName:v}),Ne.refreshToken=N),Z&&(ve("string"==typeof Z,"internal-error",{appName:v}),Ne.accessToken=Z),ae&&(ve("number"==typeof ae,"internal-error",{appName:v}),Ne.expirationTime=ae),Ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(v){this.accessToken=v.accessToken,this.refreshToken=v.refreshToken,this.expirationTime=v.expirationTime}_clone(){return Object.assign(new G,this.toJSON())}_performRefresh(){return Qe("not implemented")}}function W(A,v){ve("string"==typeof A||typeof A>"u","internal-error",{appName:v})}class ${constructor(v){var{uid:b,auth:N,stsTokenManager:Z}=v,ae=(0,de._T)(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=N,this.stsTokenManager=Z,this.accessToken=Z.accessToken,this.displayName=ae.displayName||null,this.email=ae.email||null,this.emailVerified=ae.emailVerified||!1,this.phoneNumber=ae.phoneNumber||null,this.photoURL=ae.photoURL||null,this.isAnonymous=ae.isAnonymous||!1,this.tenantId=ae.tenantId||null,this.providerData=ae.providerData?[...ae.providerData]:[],this.metadata=new Mr(ae.createdAt||void 0,ae.lastLoginAt||void 0)}getIdToken(v){var b=this;return(0,w.Z)(function*(){const N=yield jn(b,b.stsTokenManager.getToken(b.auth,v));return ve(N,b.auth,"internal-error"),b.accessToken!==N&&(b.accessToken=N,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),N})()}getIdTokenResult(v){return function yr(A){return mn.apply(this,arguments)}(this,v)}reload(){return function Ce(A){return Ze.apply(this,arguments)}(this)}_assign(v){this!==v&&(ve(this.uid===v.uid,this.auth,"internal-error"),this.displayName=v.displayName,this.photoURL=v.photoURL,this.email=v.email,this.emailVerified=v.emailVerified,this.phoneNumber=v.phoneNumber,this.isAnonymous=v.isAnonymous,this.tenantId=v.tenantId,this.providerData=v.providerData.map(b=>Object.assign({},b)),this.metadata._copy(v.metadata),this.stsTokenManager._assign(v.stsTokenManager))}_clone(v){const b=new $(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}));return b.metadata._copy(this.metadata),b}_onReload(v){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=v,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(v){this.reloadListener?this.reloadListener(v):this.reloadUserInfo=v}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(v,b=!1){var N=this;return(0,w.Z)(function*(){let Z=!1;v.idToken&&v.idToken!==N.stsTokenManager.accessToken&&(N.stsTokenManager.updateFromServerResponse(v),Z=!0),b&&(yield _i(N)),yield N.auth._persistUserIfCurrent(N),Z&&N.auth._notifyListenersIfCurrent(N)})()}delete(){var v=this;return(0,w.Z)(function*(){const b=yield v.getIdToken();return yield jn(v,function _r(A,v){return En.apply(this,arguments)}(v.auth,{idToken:b})),v.stsTokenManager.clearRefreshToken(),v.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(v=>Object.assign({},v)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(v,b){var N,Z,ae,Ne,Xe,Et,gn,_n;const Pr=null!==(N=b.displayName)&&void 0!==N?N:void 0,dc=null!==(Z=b.email)&&void 0!==Z?Z:void 0,ql=null!==(ae=b.phoneNumber)&&void 0!==ae?ae:void 0,Nh=null!==(Ne=b.photoURL)&&void 0!==Ne?Ne:void 0,ob=null!==(Xe=b.tenantId)&&void 0!==Xe?Xe:void 0,vv=null!==(Et=b._redirectEventId)&&void 0!==Et?Et:void 0,Oh=null!==(gn=b.createdAt)&&void 0!==gn?gn:void 0,v_=null!==(_n=b.lastLoginAt)&&void 0!==_n?_n:void 0,{uid:vg,emailVerified:Mh,isAnonymous:Yf,providerData:bv,stsTokenManager:wv}=b;ve(vg&&wv,v,"internal-error");const bg=G.fromJSON(this.name,wv);ve("string"==typeof vg,v,"internal-error"),W(Pr,v.name),W(dc,v.name),ve("boolean"==typeof Mh,v,"internal-error"),ve("boolean"==typeof Yf,v,"internal-error"),W(ql,v.name),W(Nh,v.name),W(ob,v.name),W(vv,v.name),W(Oh,v.name),W(v_,v.name);const xh=new $({uid:vg,auth:v,email:dc,emailVerified:Mh,displayName:Pr,isAnonymous:Yf,photoURL:Nh,phoneNumber:ql,tenantId:ob,stsTokenManager:bg,createdAt:Oh,lastLoginAt:v_});return bv&&Array.isArray(bv)&&(xh.providerData=bv.map(Iv=>Object.assign({},Iv))),vv&&(xh._redirectEventId=vv),xh}static _fromIdTokenResponse(v,b,N=!1){return(0,w.Z)(function*(){const Z=new G;Z.updateFromServerResponse(b);const ae=new $({uid:b.localId,auth:v,stsTokenManager:Z,isAnonymous:N});return yield _i(ae),ae})()}}const be=new Map;function We(A){gt(A instanceof Function,"Expected a class definition");let v=be.get(A);return v?(gt(v instanceof A,"Instance stored in cache mismatched with class"),v):(v=new A,be.set(A,v),v)}const on=(()=>{class A{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,w.Z)(function*(){return!0})()}_set(b,N){var Z=this;return(0,w.Z)(function*(){Z.storage[b]=N})()}_get(b){var N=this;return(0,w.Z)(function*(){const Z=N.storage[b];return void 0===Z?null:Z})()}_remove(b){var N=this;return(0,w.Z)(function*(){delete N.storage[b]})()}_addListener(b,N){}_removeListener(b,N){}}return A.type="NONE",A})();function Xt(A,v,b){return`firebase:${A}:${v}:${b}`}class Dn{constructor(v,b,N){this.persistence=v,this.auth=b,this.userKey=N;const{config:Z,name:ae}=this.auth;this.fullUserKey=Xt(this.userKey,Z.apiKey,ae),this.fullPersistenceKey=Xt("persistence",Z.apiKey,ae),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(v){return this.persistence._set(this.fullUserKey,v.toJSON())}getCurrentUser(){var v=this;return(0,w.Z)(function*(){const b=yield v.persistence._get(v.fullUserKey);return b?$._fromJSON(v.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(v){var b=this;return(0,w.Z)(function*(){if(b.persistence===v)return;const N=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=v,N?b.setCurrentUser(N):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(v,b,N="authUser"){return(0,w.Z)(function*(){if(!b.length)return new Dn(We(on),v,N);const Z=(yield Promise.all(b.map(function(){var gn=(0,w.Z)(function*(_n){if(yield _n._isAvailable())return _n});return function(_n){return gn.apply(this,arguments)}}()))).filter(gn=>gn);let ae=Z[0]||We(on);const Ne=Xt(N,v.config.apiKey,v.name);let Xe=null;for(const gn of b)try{const _n=yield gn._get(Ne);if(_n){const Pr=$._fromJSON(v,_n);gn!==ae&&(Xe=Pr),ae=gn;break}}catch{}const Et=Z.filter(gn=>gn._shouldAllowMigration);return ae._shouldAllowMigration&&Et.length?(ae=Et[0],Xe&&(yield ae._set(Ne,Xe.toJSON())),yield Promise.all(b.map(function(){var gn=(0,w.Z)(function*(_n){if(_n!==ae)try{yield _n._remove(Ne)}catch{}});return function(_n){return gn.apply(this,arguments)}}())),new Dn(ae,v,N)):new Dn(ae,v,N)})()}}function $t(A){const v=A.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(Ns(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(Pn(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(es(v))return"Blackberry";if(xa(v))return"Webos";if(jr(v))return"Safari";if((v.includes("chrome/")||Yn(v))&&!v.includes("edge/"))return"Chrome";if(sa(v))return"Android";{const N=A.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===N?.length)return N[1]}return"Other"}function Pn(A=(0,ce.z$)()){return/firefox\//i.test(A)}function jr(A=(0,ce.z$)()){const v=A.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}function Yn(A=(0,ce.z$)()){return/crios\//i.test(A)}function Ns(A=(0,ce.z$)()){return/iemobile/i.test(A)}function sa(A=(0,ce.z$)()){return/android/i.test(A)}function es(A=(0,ce.z$)()){return/blackberry/i.test(A)}function xa(A=(0,ce.z$)()){return/webos/i.test(A)}function Ra(A=(0,ce.z$)()){return/iphone|ipad|ipod/i.test(A)||/macintosh/i.test(A)&&/mobile/i.test(A)}function Pi(A=(0,ce.z$)()){return Ra(A)||sa(A)||xa(A)||es(A)||/windows phone/i.test(A)||Ns(A)}function er(A,v=[]){let b;switch(A){case"Browser":b=$t((0,ce.z$)());break;case"Worker":b=`${$t((0,ce.z$)())}-${A}`;break;default:b=A}const N=v.length?v.join(","):"FirebaseCore-web";return`${b}/JsCore/${u.Jn}/${N}`}class $s{constructor(v){this.auth=v,this.queue=[]}pushCallback(v,b){const N=ae=>new Promise((Ne,Xe)=>{try{Ne(v(ae))}catch(Et){Xe(Et)}});N.onAbort=b,this.queue.push(N);const Z=this.queue.length-1;return()=>{this.queue[Z]=()=>Promise.resolve()}}runMiddleware(v){var b=this;return(0,w.Z)(function*(){if(b.auth.currentUser===v)return;const N=[];try{for(const Z of b.queue)yield Z(v),Z.onAbort&&N.push(Z.onAbort)}catch(Z){N.reverse();for(const ae of N)try{ae()}catch{}throw b.auth._errorFactory.create("login-blocked",{originalMessage:Z?.message})}})()}}function Ao(){return(Ao=(0,w.Z)(function*(A,v={}){return nt(A,"GET","/v2/passwordPolicy",Ve(A,v))})).apply(this,arguments)}class Os{constructor(v){var b,N,Z,ae;const Ne=v.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(b=Ne.minPasswordLength)&&void 0!==b?b:6,Ne.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ne.maxPasswordLength),void 0!==Ne.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ne.containsLowercaseCharacter),void 0!==Ne.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ne.containsUppercaseCharacter),void 0!==Ne.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ne.containsNumericCharacter),void 0!==Ne.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ne.containsNonAlphanumericCharacter),this.enforcementState=v.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Z=null===(N=v.allowedNonAlphanumericCharacters)||void 0===N?void 0:N.join(""))&&void 0!==Z?Z:"",this.forceUpgradeOnSignin=null!==(ae=v.forceUpgradeOnSignin)&&void 0!==ae&&ae,this.schemaVersion=v.schemaVersion}validatePassword(v){var b,N,Z,ae,Ne,Xe;const Et={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(v,Et),this.validatePasswordCharacterOptions(v,Et),Et.isValid&&(Et.isValid=null===(b=Et.meetsMinPasswordLength)||void 0===b||b),Et.isValid&&(Et.isValid=null===(N=Et.meetsMaxPasswordLength)||void 0===N||N),Et.isValid&&(Et.isValid=null===(Z=Et.containsLowercaseLetter)||void 0===Z||Z),Et.isValid&&(Et.isValid=null===(ae=Et.containsUppercaseLetter)||void 0===ae||ae),Et.isValid&&(Et.isValid=null===(Ne=Et.containsNumericCharacter)||void 0===Ne||Ne),Et.isValid&&(Et.isValid=null===(Xe=Et.containsNonAlphanumericCharacter)||void 0===Xe||Xe),Et}validatePasswordLengthOptions(v,b){const N=this.customStrengthOptions.minPasswordLength,Z=this.customStrengthOptions.maxPasswordLength;N&&(b.meetsMinPasswordLength=v.length>=N),Z&&(b.meetsMaxPasswordLength=v.length<=Z)}validatePasswordCharacterOptions(v,b){let N;this.updatePasswordCharacterOptionsStatuses(b,!1,!1,!1,!1);for(let Z=0;Z<v.length;Z++)N=v.charAt(Z),this.updatePasswordCharacterOptionsStatuses(b,N>="a"&&N<="z",N>="A"&&N<="Z",N>="0"&&N<="9",this.allowedNonAlphanumericCharacters.includes(N))}updatePasswordCharacterOptionsStatuses(v,b,N,Z,ae){this.customStrengthOptions.containsLowercaseLetter&&(v.containsLowercaseLetter||(v.containsLowercaseLetter=b)),this.customStrengthOptions.containsUppercaseLetter&&(v.containsUppercaseLetter||(v.containsUppercaseLetter=N)),this.customStrengthOptions.containsNumericCharacter&&(v.containsNumericCharacter||(v.containsNumericCharacter=Z)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(v.containsNonAlphanumericCharacter||(v.containsNonAlphanumericCharacter=ae))}}class zs{constructor(v,b,N,Z){this.app=v,this.heartbeatServiceProvider=b,this.appCheckServiceProvider=N,this.config=Z,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ws(this),this.idTokenSubscription=new Ws(this),this.beforeStateQueue=new $s(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=At,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=Z.sdkClientVersion}_initializeWithPersistence(v,b){var N=this;return b&&(this._popupRedirectResolver=We(b)),this._initializationPromise=this.queue((0,w.Z)(function*(){var Z,ae;if(!N._deleted&&(N.persistenceManager=yield Dn.create(N,v),!N._deleted)){if(null!==(Z=N._popupRedirectResolver)&&void 0!==Z&&Z._shouldInitProactively)try{yield N._popupRedirectResolver._initialize(N)}catch{}yield N.initializeCurrentUser(b),N.lastNotifiedUid=(null===(ae=N.currentUser)||void 0===ae?void 0:ae.uid)||null,!N._deleted&&(N._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var v=this;return(0,w.Z)(function*(){if(v._deleted)return;const b=yield v.assertedPersistence.getCurrentUser();if(v.currentUser||b){if(v.currentUser&&b&&v.currentUser.uid===b.uid)return v._currentUser._assign(b),void(yield v.currentUser.getIdToken());yield v._updateCurrentUser(b,!0)}})()}initializeCurrentUser(v){var b=this;return(0,w.Z)(function*(){var N;const Z=yield b.assertedPersistence.getCurrentUser();let ae=Z,Ne=!1;if(v&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const Xe=null===(N=b.redirectUser)||void 0===N?void 0:N._redirectEventId,Et=ae?._redirectEventId,gn=yield b.tryRedirectSignIn(v);(!Xe||Xe===Et)&&gn?.user&&(ae=gn.user,Ne=!0)}if(!ae)return b.directlySetCurrentUser(null);if(!ae._redirectEventId){if(Ne)try{yield b.beforeStateQueue.runMiddleware(ae)}catch(Xe){ae=Z,b._popupRedirectResolver._overrideRedirectResult(b,()=>Promise.reject(Xe))}return ae?b.reloadAndSetCurrentUserOrClear(ae):b.directlySetCurrentUser(null)}return ve(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===ae._redirectEventId?b.directlySetCurrentUser(ae):b.reloadAndSetCurrentUserOrClear(ae)})()}tryRedirectSignIn(v){var b=this;return(0,w.Z)(function*(){let N=null;try{N=yield b._popupRedirectResolver._completeRedirectFn(b,v,!0)}catch{yield b._setRedirectUser(null)}return N})()}reloadAndSetCurrentUserOrClear(v){var b=this;return(0,w.Z)(function*(){try{yield _i(v)}catch(N){if("auth/network-request-failed"!==N?.code)return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(v)})()}useDeviceLanguage(){this.languageCode=function Bn(){if(typeof navigator>"u")return null;const A=navigator;return A.languages&&A.languages[0]||A.language||null}()}_delete(){var v=this;return(0,w.Z)(function*(){v._deleted=!0})()}updateCurrentUser(v){var b=this;return(0,w.Z)(function*(){const N=v?(0,ce.m9)(v):null;return N&&ve(N.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(N&&N._clone(b))})()}_updateCurrentUser(v,b=!1){var N=this;return(0,w.Z)(function*(){if(!N._deleted)return v&&ve(N.tenantId===v.tenantId,N,"tenant-id-mismatch"),b||(yield N.beforeStateQueue.runMiddleware(v)),N.queue((0,w.Z)(function*(){yield N.directlySetCurrentUser(v),N.notifyAuthListeners()}))})()}signOut(){var v=this;return(0,w.Z)(function*(){return yield v.beforeStateQueue.runMiddleware(null),(v.redirectPersistenceManager||v._popupRedirectResolver)&&(yield v._setRedirectUser(null)),v._updateCurrentUser(null,!0)})()}setPersistence(v){var b=this;return this.queue((0,w.Z)(function*(){yield b.assertedPersistence.setPersistence(We(v))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(v){var b=this;return(0,w.Z)(function*(){b._getPasswordPolicyInternal()||(yield b._updatePasswordPolicy());const N=b._getPasswordPolicyInternal();return N.schemaVersion!==b.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(b._errorFactory.create("unsupported-password-policy-schema-version",{})):N.validatePassword(v)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var v=this;return(0,w.Z)(function*(){const b=yield function co(A){return Ao.apply(this,arguments)}(v),N=new Os(b);null===v.tenantId?v._projectPasswordPolicy=N:v._tenantPasswordPolicies[v.tenantId]=N})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(v){this._errorFactory=new ce.LL("auth","Firebase",v())}onAuthStateChanged(v,b,N){return this.registerStateListener(this.authStateSubscription,v,b,N)}beforeAuthStateChanged(v,b){return this.beforeStateQueue.pushCallback(v,b)}onIdTokenChanged(v,b,N){return this.registerStateListener(this.idTokenSubscription,v,b,N)}authStateReady(){return new Promise((v,b)=>{if(this.currentUser)v();else{const N=this.onAuthStateChanged(()=>{N(),v()},b)}})}revokeAccessToken(v){var b=this;return(0,w.Z)(function*(){if(b.currentUser){const N=yield b.currentUser.getIdToken(),Z={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:v,idToken:N};null!=b.tenantId&&(Z.tenantId=b.tenantId),yield function K(A,v){return V.apply(this,arguments)}(b,Z)}})()}toJSON(){var v;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(v=this._currentUser)||void 0===v?void 0:v.toJSON()}}_setRedirectUser(v,b){var N=this;return(0,w.Z)(function*(){const Z=yield N.getOrInitRedirectPersistenceManager(b);return null===v?Z.removeCurrentUser():Z.setCurrentUser(v)})()}getOrInitRedirectPersistenceManager(v){var b=this;return(0,w.Z)(function*(){if(!b.redirectPersistenceManager){const N=v&&We(v)||b._popupRedirectResolver;ve(N,b,"argument-error"),b.redirectPersistenceManager=yield Dn.create(b,[We(N._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(v){var b=this;return(0,w.Z)(function*(){var N,Z;return b._isInitialized&&(yield b.queue((0,w.Z)(function*(){}))),(null===(N=b._currentUser)||void 0===N?void 0:N._redirectEventId)===v?b._currentUser:(null===(Z=b.redirectUser)||void 0===Z?void 0:Z._redirectEventId)===v?b.redirectUser:null})()}_persistUserIfCurrent(v){var b=this;return(0,w.Z)(function*(){if(v===b.currentUser)return b.queue((0,w.Z)(function*(){return b.directlySetCurrentUser(v)}))})()}_notifyListenersIfCurrent(v){v===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var v,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const N=null!==(b=null===(v=this.currentUser)||void 0===v?void 0:v.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==N&&(this.lastNotifiedUid=N,this.authStateSubscription.next(this.currentUser))}registerStateListener(v,b,N,Z){if(this._deleted)return()=>{};const ae="function"==typeof b?b:b.next.bind(b);let Ne=!1;const Xe=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(Xe,this,"internal-error"),Xe.then(()=>{Ne||ae(this.currentUser)}),"function"==typeof b){const Et=v.addObserver(b,N,Z);return()=>{Ne=!0,Et()}}{const Et=v.addObserver(b);return()=>{Ne=!0,Et()}}}directlySetCurrentUser(v){var b=this;return(0,w.Z)(function*(){b.currentUser&&b.currentUser!==v&&b._currentUser._stopProactiveRefresh(),v&&b.isProactiveRefreshEnabled&&v._startProactiveRefresh(),b.currentUser=v,v?yield b.assertedPersistence.setCurrentUser(v):yield b.assertedPersistence.removeCurrentUser()})()}queue(v){return this.operations=this.operations.then(v,v),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(v){!v||this.frameworks.includes(v)||(this.frameworks.push(v),this.frameworks.sort(),this.clientVersion=er(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var v=this;return(0,w.Z)(function*(){var b;const N={"X-Client-Version":v.clientVersion};v.app.options.appId&&(N["X-Firebase-gmpid"]=v.app.options.appId);const Z=yield null===(b=v.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();Z&&(N["X-Firebase-Client"]=Z);const ae=yield v._getAppCheckToken();return ae&&(N["X-Firebase-AppCheck"]=ae),N})()}_getAppCheckToken(){var v=this;return(0,w.Z)(function*(){var b;const N=yield null===(b=v.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getToken();return N?.error&&function Sn(A,...v){Ft.logLevel<=we.in.WARN&&Ft.warn(`Auth (${u.Jn}): ${A}`,...v)}(`Error while retrieving App Check token: ${N.error}`),N?.token})()}}function di(A){return(0,ce.m9)(A)}class Ws{constructor(v){this.auth=v,this.observer=null,this.addObserver=(0,ce.ne)(b=>this.observer=b)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Wi={loadJS:()=>(0,w.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cs(A){return Wi.loadJS(A)}function qs(A){return`__${A}${Math.floor(1e6*Math.random())}`}class ki{constructor(v){this.type="recaptcha-enterprise",this.auth=di(v)}verify(v="verify",b=!1){var N=this;return(0,w.Z)(function*(){function ae(){return ae=(0,w.Z)(function*(Xe){if(!b){if(null==Xe.tenantId&&null!=Xe._agentRecaptchaConfig)return Xe._agentRecaptchaConfig.siteKey;if(null!=Xe.tenantId&&void 0!==Xe._tenantRecaptchaConfigs[Xe.tenantId])return Xe._tenantRecaptchaConfigs[Xe.tenantId].siteKey}return new Promise(function(){var Et=(0,w.Z)(function*(gn,_n){yt(Xe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Pr=>{if(void 0!==Pr.recaptchaKey){const dc=new xe(Pr);return null==Xe.tenantId?Xe._agentRecaptchaConfig=dc:Xe._tenantRecaptchaConfigs[Xe.tenantId]=dc,gn(dc.siteKey)}_n(new Error("recaptcha Enterprise site key undefined"))}).catch(Pr=>{_n(Pr)})});return function(gn,_n){return Et.apply(this,arguments)}}())}),ae.apply(this,arguments)}function Ne(Xe,Et,gn){const _n=window.grecaptcha;De(_n)?_n.enterprise.ready(()=>{_n.enterprise.execute(Xe,{action:v}).then(Pr=>{Et(Pr)}).catch(()=>{Et("NO_RECAPTCHA")})}):gn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Xe,Et)=>{(function Z(Xe){return ae.apply(this,arguments)})(N.auth).then(gn=>{if(!b&&De(window.grecaptcha))Ne(gn,Xe,Et);else{if(typeof window>"u")return void Et(new Error("RecaptchaVerifier is only supported in browser"));let _n=function Ti(){return Wi.recaptchaEnterpriseScript}();0!==_n.length&&(_n+=gn),cs(_n).then(()=>{Ne(gn,Xe,Et)}).catch(Pr=>{Et(Pr)})}}).catch(gn=>{Et(gn)})})})()}}function hi(A,v,b){return $r.apply(this,arguments)}function $r(){return($r=(0,w.Z)(function*(A,v,b,N=!1){const Z=new ki(A);let ae;try{ae=yield Z.verify(b)}catch{ae=yield Z.verify(b,!0)}const Ne=Object.assign({},v);return Object.assign(Ne,N?{captchaResp:ae}:{captchaResponse:ae}),Object.assign(Ne,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ne,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ne})).apply(this,arguments)}function Fi(A,v,b,N){return Ms.apply(this,arguments)}function Ms(){return Ms=(0,w.Z)(function*(A,v,b,N){var Z;if(null!==(Z=A._getRecaptchaConfig())&&void 0!==Z&&Z.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ae=yield hi(A,v,b,"getOobCode"===b);return N(A,ae)}return N(A,v).catch(function(){var ae=(0,w.Z)(function*(Ne){if("auth/missing-recaptcha-token"===Ne.code){console.log(`${b} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Xe=yield hi(A,v,b,"getOobCode"===b);return N(A,Xe)}return Promise.reject(Ne)});return function(Ne){return ae.apply(this,arguments)}}())}),Ms.apply(this,arguments)}function Fa(A){const v=A.indexOf(":");return v<0?"":A.substr(0,v+1)}function No(A){if(!A)return null;const v=Number(A);return isNaN(v)?null:v}class Zo{constructor(v,b){this.providerId=v,this.signInMethod=b}toJSON(){return Qe("not implemented")}_getIdTokenResponse(v){return Qe("not implemented")}_linkToIdToken(v,b){return Qe("not implemented")}_getReauthenticationResolver(v){return Qe("not implemented")}}function lo(A,v){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,w.Z)(function*(A,v){return nt(A,"POST","/v1/accounts:signUp",v)})).apply(this,arguments)}function Li(A,v){return ls.apply(this,arguments)}function ls(){return(ls=(0,w.Z)(function*(A,v){return pn(A,"POST","/v1/accounts:signInWithPassword",Ve(A,v))})).apply(this,arguments)}function ji(){return(ji=(0,w.Z)(function*(A,v){return nt(A,"POST","/v1/accounts:sendOobCode",Ve(A,v))})).apply(this,arguments)}function nc(A,v){return Br.apply(this,arguments)}function Br(){return(Br=(0,w.Z)(function*(A,v){return function fi(A,v){return ji.apply(this,arguments)}(A,v)})).apply(this,arguments)}function Ks(){return(Ks=(0,w.Z)(function*(A,v){return pn(A,"POST","/v1/accounts:signInWithEmailLink",Ve(A,v))})).apply(this,arguments)}function $i(){return($i=(0,w.Z)(function*(A,v){return pn(A,"POST","/v1/accounts:signInWithEmailLink",Ve(A,v))})).apply(this,arguments)}class xr extends Zo{constructor(v,b,N,Z=null){super("password",N),this._email=v,this._password=b,this._tenantId=Z}static _fromEmailAndPassword(v,b){return new xr(v,b,"password")}static _fromEmailAndCode(v,b,N=null){return new xr(v,b,"emailLink",N)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(v){const b="string"==typeof v?JSON.parse(v):v;if(b?.email&&b?.password){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(v){var b=this;return(0,w.Z)(function*(){switch(b.signInMethod){case"password":return Fi(v,{returnSecureToken:!0,email:b._email,password:b._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Li);case"emailLink":return function Bi(A,v){return Ks.apply(this,arguments)}(v,{email:b._email,oobCode:b._password});default:mt(v,"internal-error")}})()}_linkToIdToken(v,b){var N=this;return(0,w.Z)(function*(){switch(N.signInMethod){case"password":return Fi(v,{idToken:b,returnSecureToken:!0,email:N._email,password:N._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lo);case"emailLink":return function qr(A,v){return $i.apply(this,arguments)}(v,{idToken:b,email:N._email,oobCode:N._password});default:mt(v,"internal-error")}})()}_getReauthenticationResolver(v){return this._getIdTokenResponse(v)}}function ai(A,v){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,w.Z)(function*(A,v){return pn(A,"POST","/v1/accounts:signInWithIdp",Ve(A,v))})).apply(this,arguments)}class Un{constructor(v){var b,N,Z,ae,Ne,Xe;const Et=(0,ce.zd)((0,ce.pd)(v)),gn=null!==(b=Et.apiKey)&&void 0!==b?b:null,_n=null!==(N=Et.oobCode)&&void 0!==N?N:null,Pr=function Qs(A){switch(A){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Z=Et.mode)&&void 0!==Z?Z:null);ve(gn&&_n&&Pr,"argument-error"),this.apiKey=gn,this.operation=Pr,this.code=_n,this.continueUrl=null!==(ae=Et.continueUrl)&&void 0!==ae?ae:null,this.languageCode=null!==(Ne=Et.languageCode)&&void 0!==Ne?Ne:null,this.tenantId=null!==(Xe=Et.tenantId)&&void 0!==Xe?Xe:null}static parseLink(v){const b=function Mo(A){const v=(0,ce.zd)((0,ce.pd)(A)).link,b=v?(0,ce.zd)((0,ce.pd)(v)).deep_link_id:null,N=(0,ce.zd)((0,ce.pd)(A)).deep_link_id;return(N?(0,ce.zd)((0,ce.pd)(N)).link:null)||N||b||v||A}(v);try{return new Un(b)}catch{return null}}}let Ps=(()=>{class A{constructor(){this.providerId=A.PROVIDER_ID}static credential(b,N){return xr._fromEmailAndPassword(b,N)}static credentialWithLink(b,N){const Z=Un.parseLink(N);return ve(Z,"argument-error"),xr._fromEmailAndCode(b,Z.code,Z.tenantId)}}return A.PROVIDER_ID="password",A.EMAIL_PASSWORD_SIGN_IN_METHOD="password",A.EMAIL_LINK_SIGN_IN_METHOD="emailLink",A})();class Zi{constructor(v){this.providerId=v,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(v){this.defaultLanguageCode=v}setCustomParameters(v){return this.customParameters=v,this}getCustomParameters(){return this.customParameters}}class xi extends Zi{constructor(){super(...arguments),this.scopes=[]}addScope(v){return this.scopes.includes(v)||this.scopes.push(v),this}getScopes(){return[...this.scopes]}}function go(A,v){return ci.apply(this,arguments)}function ci(){return(ci=(0,w.Z)(function*(A,v){return pn(A,"POST","/v1/accounts:signUp",Ve(A,v))})).apply(this,arguments)}class yi{constructor(v){this.user=v.user,this.providerId=v.providerId,this._tokenResponse=v._tokenResponse,this.operationType=v.operationType}static _fromIdTokenResponse(v,b,N,Z=!1){return(0,w.Z)(function*(){const ae=yield $._fromIdTokenResponse(v,N,Z),Ne=mo(N);return new yi({user:ae,providerId:Ne,_tokenResponse:N,operationType:b})})()}static _forOperation(v,b,N){return(0,w.Z)(function*(){yield v._updateTokensIfNecessary(N,!0);const Z=mo(N);return new yi({user:v,providerId:Z,_tokenResponse:N,operationType:b})})()}}function mo(A){return A.providerId?A.providerId:"phoneNumber"in A?"phone":null}class bc extends ce.ZR{constructor(v,b,N,Z){var ae;super(b.code,b.message),this.operationType=N,this.user=Z,Object.setPrototypeOf(this,bc.prototype),this.customData={appName:v.name,tenantId:null!==(ae=v.tenantId)&&void 0!==ae?ae:void 0,_serverResponse:b.customData._serverResponse,operationType:N}}static _fromErrorAndOperation(v,b,N,Z){return new bc(v,b,N,Z)}}function Qr(A,v,b,N){return("reauthenticate"===v?b._getReauthenticationResolver(A):b._getIdTokenResponse(A)).catch(ae=>{throw"auth/multi-factor-auth-required"===ae.code?bc._fromErrorAndOperation(A,ae,v,N):ae})}function B(){return(B=(0,w.Z)(function*(A,v,b=!1){const N=yield jn(A,v._linkToIdToken(A.auth,yield A.getIdToken()),b);return yi._forOperation(A,"link",N)})).apply(this,arguments)}function Hn(){return(Hn=(0,w.Z)(function*(A,v,b=!1){const{auth:N}=A,Z="reauthenticate";try{const ae=yield jn(A,Qr(N,Z,v,A),b);ve(ae.idToken,N,"internal-error");const Ne=Kn(ae.idToken);ve(Ne,N,"internal-error");const{sub:Xe}=Ne;return ve(A.uid===Xe,N,"user-mismatch"),yi._forOperation(A,Z,ae)}catch(ae){throw"auth/user-not-found"===ae?.code&&mt(N,"user-mismatch"),ae}})).apply(this,arguments)}function Ki(A,v){return ks.apply(this,arguments)}function ks(){return(ks=(0,w.Z)(function*(A,v,b=!1){const N="signIn",Z=yield Qr(A,N,v),ae=yield yi._fromIdTokenResponse(A,N,Z);return b||(yield A._updateCurrentUser(ae.user)),ae})).apply(this,arguments)}function zi(A,v){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,w.Z)(function*(A,v){return Ki(di(A),v)})).apply(this,arguments)}function zc(A){return ur.apply(this,arguments)}function ur(){return(ur=(0,w.Z)(function*(A){const v=di(A);v._getPasswordPolicyInternal()&&(yield v._updatePasswordPolicy())})).apply(this,arguments)}function ds(){return(ds=(0,w.Z)(function*(A,v,b){const N=di(A),Z={requestType:"PASSWORD_RESET",email:v,clientType:"CLIENT_TYPE_WEB"};b&&function _o(A,v,b){var N;ve((null===(N=b.url)||void 0===N?void 0:N.length)>0,A,"invalid-continue-uri"),ve(typeof b.dynamicLinkDomain>"u"||b.dynamicLinkDomain.length>0,A,"invalid-dynamic-link-domain"),v.continueUrl=b.url,v.dynamicLinkDomain=b.dynamicLinkDomain,v.canHandleCodeInApp=b.handleCodeInApp,b.iOS&&(ve(b.iOS.bundleId.length>0,A,"missing-ios-bundle-id"),v.iOSBundleId=b.iOS.bundleId),b.android&&(ve(b.android.packageName.length>0,A,"missing-android-pkg-name"),v.androidInstallApp=b.android.installApp,v.androidMinimumVersionCode=b.android.minimumVersion,v.androidPackageName=b.android.packageName)}(N,Z,b),yield Fi(N,Z,"getOobCode",nc)})).apply(this,arguments)}function ic(){return(ic=(0,w.Z)(function*(A,v,b){const N=di(A),Ne=yield Fi(N,{returnSecureToken:!0,email:v,password:b,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",go).catch(Et=>{throw"auth/password-does-not-meet-requirements"===Et.code&&zc(A),Et}),Xe=yield yi._fromIdTokenResponse(N,"signIn",Ne);return yield N._updateCurrentUser(Xe.user),Xe})).apply(this,arguments)}function ko(){return(ko=(0,w.Z)(function*(A){return(0,ce.m9)(A).delete()})).apply(this,arguments)}const un="__sak";class Is{constructor(v,b){this.storageRetriever=v,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem(un,"1"),this.storage.removeItem(un),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(v,b){return this.storage.setItem(v,JSON.stringify(b)),Promise.resolve()}_get(v){const b=this.storage.getItem(v);return Promise.resolve(b?JSON.parse(b):null)}_remove(v){return this.storage.removeItem(v),Promise.resolve()}get storage(){return this.storageRetriever()}}const Bl=(()=>{class A extends Is{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(b,N)=>this.onStorageEvent(b,N),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function yh(){const A=(0,ce.z$)();return jr(A)||Ra(A)}()&&function ts(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Pi(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const N of Object.keys(this.listeners)){const Z=this.storage.getItem(N),ae=this.localCache[N];Z!==ae&&b(N,ae,Z)}}onStorageEvent(b,N=!1){if(!b.key)return void this.forAllChangedKeys((Xe,Et,gn)=>{this.notifyListeners(Xe,gn)});const Z=b.key;if(N?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Xe=this.storage.getItem(Z);if(b.newValue!==Xe)null!==b.newValue?this.storage.setItem(Z,b.newValue):this.storage.removeItem(Z);else if(this.localCache[Z]===b.newValue&&!N)return}const ae=()=>{const Xe=this.storage.getItem(Z);!N&&this.localCache[Z]===Xe||this.notifyListeners(Z,Xe)},Ne=this.storage.getItem(Z);!function oa(){return(0,ce.w1)()&&10===document.documentMode}()||Ne===b.newValue||b.newValue===b.oldValue?ae():setTimeout(ae,10)}notifyListeners(b,N){this.localCache[b]=N;const Z=this.listeners[b];if(Z)for(const ae of Array.from(Z))ae(N&&JSON.parse(N))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,N,Z)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:N,newValue:Z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,N){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(N)}_removeListener(b,N){this.listeners[b]&&(this.listeners[b].delete(N),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,N){var Z=()=>super._set,ae=this;return(0,w.Z)(function*(){yield Z().call(ae,b,N),ae.localCache[b]=JSON.stringify(N)})()}_get(b){var N=()=>super._get,Z=this;return(0,w.Z)(function*(){const ae=yield N().call(Z,b);return Z.localCache[b]=JSON.stringify(ae),ae})()}_remove(b){var N=()=>super._remove,Z=this;return(0,w.Z)(function*(){yield N().call(Z,b),delete Z.localCache[b]})()}}return A.type="LOCAL",A})(),Yc=(()=>{class A extends Is{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(b,N){}_removeListener(b,N){}}return A.type="SESSION",A})();let Ku=(()=>{class A{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const N=this.receivers.find(ae=>ae.isListeningto(b));if(N)return N;const Z=new A(b);return this.receivers.push(Z),Z}isListeningto(b){return this.eventTarget===b}handleEvent(b){var N=this;return(0,w.Z)(function*(){const Z=b,{eventId:ae,eventType:Ne,data:Xe}=Z.data,Et=N.handlersMap[Ne];if(!Et?.size)return;Z.ports[0].postMessage({status:"ack",eventId:ae,eventType:Ne});const gn=Array.from(Et).map(function(){var Pr=(0,w.Z)(function*(dc){return dc(Z.origin,Xe)});return function(dc){return Pr.apply(this,arguments)}}()),_n=yield function xd(A){return Promise.all(A.map(function(){var v=(0,w.Z)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(N){return{fulfilled:!1,reason:N}}});return function(b){return v.apply(this,arguments)}}()))}(gn);Z.ports[0].postMessage({status:"done",eventId:ae,eventType:Ne,response:_n})})()}_subscribe(b,N){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(N)}_unsubscribe(b,N){this.handlersMap[b]&&N&&this.handlersMap[b].delete(N),(!N||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return A.receivers=[],A})();function cu(A="",v=10){let b="";for(let N=0;N<v;N++)b+=Math.floor(10*Math.random());return A+b}class lu{constructor(v){this.target=v,this.handlers=new Set}removeMessageHandler(v){v.messageChannel&&(v.messageChannel.port1.removeEventListener("message",v.onMessage),v.messageChannel.port1.close()),this.handlers.delete(v)}_send(v,b,N=50){var Z=this;return(0,w.Z)(function*(){const ae=typeof MessageChannel<"u"?new MessageChannel:null;if(!ae)throw new Error("connection_unavailable");let Ne,Xe;return new Promise((Et,gn)=>{const _n=cu("",20);ae.port1.start();const Pr=setTimeout(()=>{gn(new Error("unsupported_event"))},N);Xe={messageChannel:ae,onMessage(dc){const ql=dc;if(ql.data.eventId===_n)switch(ql.data.status){case"ack":clearTimeout(Pr),Ne=setTimeout(()=>{gn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ne),Et(ql.data.response);break;default:clearTimeout(Pr),clearTimeout(Ne),gn(new Error("invalid_response"))}}},Z.handlers.add(Xe),ae.port1.addEventListener("message",Xe.onMessage),Z.target.postMessage({eventType:v,eventId:_n,data:b},[ae.port2])}).finally(()=>{Xe&&Z.removeMessageHandler(Xe)})})()}}function ht(){return window}function Yu(){return typeof ht().WorkerGlobalScope<"u"&&"function"==typeof ht().importScripts}function Yi(){return(Yi=(0,w.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Fo="firebaseLocalStorageDb",ac="firebaseLocalStorage",du="fbase_key";class Jc{constructor(v){this.request=v}toPromise(){return new Promise((v,b)=>{this.request.addEventListener("success",()=>{v(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function cc(A,v){return A.transaction([ac],v?"readwrite":"readonly").objectStore(ac)}function Lo(){const A=indexedDB.open(Fo,1);return new Promise((v,b)=>{A.addEventListener("error",()=>{b(A.error)}),A.addEventListener("upgradeneeded",()=>{const N=A.result;try{N.createObjectStore(ac,{keyPath:du})}catch(Z){b(Z)}}),A.addEventListener("success",(0,w.Z)(function*(){const N=A.result;N.objectStoreNames.contains(ac)?v(N):(N.close(),yield function Vs(){const A=indexedDB.deleteDatabase(Fo);return new Jc(A).toPromise()}(),v(yield Lo()))}))})}function Xc(A,v,b){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,w.Z)(function*(A,v,b){const N=cc(A,!0).put({[du]:v,value:b});return new Jc(N).toPromise()})).apply(this,arguments)}function Qu(){return(Qu=(0,w.Z)(function*(A,v){const b=cc(A,!1).get(v),N=yield new Jc(b).toPromise();return void 0===N?null:N.value})).apply(this,arguments)}function Vl(A,v){const b=cc(A,!0).delete(v);return new Jc(b).toPromise()}const x=(()=>{class A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,w.Z)(function*(){return b.db||(b.db=yield Lo()),b.db})()}_withRetries(b){var N=this;return(0,w.Z)(function*(){let Z=0;for(;;)try{const ae=yield N._openDb();return yield b(ae)}catch(ae){if(Z++>3)throw ae;N.db&&(N.db.close(),N.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,w.Z)(function*(){return Yu()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,w.Z)(function*(){b.receiver=Ku._getInstance(function vl(){return Yu()?self:null}()),b.receiver._subscribe("keyChanged",function(){var N=(0,w.Z)(function*(Z,ae){return{keyProcessed:(yield b._poll()).includes(ae.key)}});return function(Z,ae){return N.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var N=(0,w.Z)(function*(Z,ae){return["keyChanged"]});return function(Z,ae){return N.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,w.Z)(function*(){var N,Z;if(b.activeServiceWorker=yield function Rd(){return Yi.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new lu(b.activeServiceWorker);const ae=yield b.sender._send("ping",{},800);ae&&null!==(N=ae[0])&&void 0!==N&&N.fulfilled&&null!==(Z=ae[0])&&void 0!==Z&&Z.value.includes("keyChanged")&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var N=this;return(0,w.Z)(function*(){if(N.sender&&N.activeServiceWorker&&function uu(){var A;return(null===(A=navigator?.serviceWorker)||void 0===A?void 0:A.controller)||null}()===N.activeServiceWorker)try{yield N.sender._send("keyChanged",{key:b},N.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,w.Z)(function*(){try{if(!indexedDB)return!1;const b=yield Lo();return yield Xc(b,un,"1"),yield Vl(b,un),!0}catch{}return!1})()}_withPendingWrite(b){var N=this;return(0,w.Z)(function*(){N.pendingWrites++;try{yield b()}finally{N.pendingWrites--}})()}_set(b,N){var Z=this;return(0,w.Z)(function*(){return Z._withPendingWrite((0,w.Z)(function*(){return yield Z._withRetries(ae=>Xc(ae,b,N)),Z.localCache[b]=N,Z.notifyServiceWorker(b)}))})()}_get(b){var N=this;return(0,w.Z)(function*(){const Z=yield N._withRetries(ae=>function _a(A,v){return Qu.apply(this,arguments)}(ae,b));return N.localCache[b]=Z,Z})()}_remove(b){var N=this;return(0,w.Z)(function*(){return N._withPendingWrite((0,w.Z)(function*(){return yield N._withRetries(Z=>Vl(Z,b)),delete N.localCache[b],N.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,w.Z)(function*(){const N=yield b._withRetries(Ne=>{const Xe=cc(Ne,!1).getAll();return new Jc(Xe).toPromise()});if(!N)return[];if(0!==b.pendingWrites)return[];const Z=[],ae=new Set;if(0!==N.length)for(const{fbase_key:Ne,value:Xe}of N)ae.add(Ne),JSON.stringify(b.localCache[Ne])!==JSON.stringify(Xe)&&(b.notifyListeners(Ne,Xe),Z.push(Ne));for(const Ne of Object.keys(b.localCache))b.localCache[Ne]&&!ae.has(Ne)&&(b.notifyListeners(Ne,null),Z.push(Ne));return Z})()}notifyListeners(b,N){this.localCache[b]=N;const Z=this.listeners[b];if(Z)for(const ae of Array.from(Z))ae(N)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,w.Z)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,N){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(N)}_removeListener(b,N){this.listeners[b]&&(this.listeners[b].delete(N),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return A.type="LOCAL",A})();qs("rcb"),new nr(3e4,6e4);class wl extends Zo{constructor(v){super("custom","custom"),this.params=v}_getIdTokenResponse(v){return ai(v,this._buildIdpRequest())}_linkToIdToken(v,b){return ai(v,this._buildIdpRequest(b))}_getReauthenticationResolver(v){return ai(v,this._buildIdpRequest())}_buildIdpRequest(v){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return v&&(b.idToken=v),b}}function Xu(A){return Ki(A.auth,new wl(A),A.bypassAuthState)}function Ih(A){const{auth:v,user:b}=A;return ve(b,v,"internal-error"),function Jt(A,v){return Hn.apply(this,arguments)}(b,new wl(A),A.bypassAuthState)}function Th(A){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,w.Z)(function*(A){const{auth:v,user:b}=A;return ve(b,v,"internal-error"),function ee(A,v){return B.apply(this,arguments)}(b,new wl(A),A.bypassAuthState)})).apply(this,arguments)}class dg{constructor(v,b,N,Z,ae=!1){this.auth=v,this.resolver=N,this.user=Z,this.bypassAuthState=ae,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var v=this;return new Promise(function(){var b=(0,w.Z)(function*(N,Z){v.pendingPromise={resolve:N,reject:Z};try{v.eventManager=yield v.resolver._initialize(v.auth),yield v.onExecution(),v.eventManager.registerConsumer(v)}catch(ae){v.reject(ae)}});return function(N,Z){return b.apply(this,arguments)}}())}onAuthEvent(v){var b=this;return(0,w.Z)(function*(){const{urlResponse:N,sessionId:Z,postBody:ae,tenantId:Ne,error:Xe,type:Et}=v;if(Xe)return void b.reject(Xe);const gn={auth:b.auth,requestUri:N,sessionId:Z,tenantId:Ne||void 0,postBody:ae||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(Et)(gn))}catch(_n){b.reject(_n)}})()}onError(v){this.reject(v)}getIdpTask(v){switch(v){case"signInViaPopup":case"signInViaRedirect":return Xu;case"linkViaPopup":case"linkViaRedirect":return Th;case"reauthViaPopup":case"reauthViaRedirect":return Ih;default:mt(this.auth,"internal-error")}}resolve(v){gt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(v),this.unregisterAndCleanUp()}reject(v){gt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(v),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new nr(2e3,1e4);const mu="pendingRedirect",tl=new Map;class hg extends dg{constructor(v,b,N=!1){super(v,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,N),this.eventId=null}execute(){var v=()=>super.execute,b=this;return(0,w.Z)(function*(){let N=tl.get(b.auth._key());if(!N){try{const ae=(yield function _u(A,v){return ed.apply(this,arguments)}(b.resolver,b.auth))?yield v().call(b):null;N=()=>Promise.resolve(ae)}catch(Z){N=()=>Promise.reject(Z)}tl.set(b.auth._key(),N)}return b.bypassAuthState||tl.set(b.auth._key(),()=>Promise.resolve(null)),N()})()}onAuthEvent(v){var b=()=>super.onAuthEvent,N=this;return(0,w.Z)(function*(){if("signInViaRedirect"===v.type)return b().call(N,v);if("unknown"!==v.type){if(v.eventId){const Z=yield N.auth._redirectUserForId(v.eventId);if(Z)return N.user=Z,b().call(N,v);N.resolve(null)}}else N.resolve(null)})()}onExecution(){return(0,w.Z)(function*(){})()}cleanUp(){}}function ed(){return(ed=(0,w.Z)(function*(A,v){const b=function vu(A){return Xt(mu,A.config.apiKey,A.name)}(v),N=function nl(A){return We(A._redirectPersistence)}(A);if(!(yield N._isAvailable()))return!1;const Z="true"===(yield N._get(b));return yield N._remove(b),Z})).apply(this,arguments)}function Tl(A,v){tl.set(A._key(),v)}function Sc(A,v){return wu.apply(this,arguments)}function wu(){return(wu=(0,w.Z)(function*(A,v,b=!1){const N=di(A),Z=function lc(A,v){return v?We(v):(ve(A._popupRedirectResolver,A,"argument-error"),A._popupRedirectResolver)}(N,v),Ne=yield new hg(N,Z,b).execute();return Ne&&!b&&(delete Ne.user._redirectEventId,yield N._persistUserIfCurrent(Ne.user),yield N._setRedirectUser(null,v)),Ne})).apply(this,arguments)}class Gf{constructor(v){this.auth=v,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(v){this.consumers.add(v),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,v)&&(this.sendToConsumer(this.queuedRedirectEvent,v),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(v){this.consumers.delete(v)}onEvent(v){if(this.hasEventBeenHandled(v))return!1;let b=!1;return this.consumers.forEach(N=>{this.isEventForConsumer(v,N)&&(b=!0,this.sendToConsumer(v,N),this.saveEventToCache(v))}),this.hasHandledPotentialRedirect||!function jf(A){switch(A.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nd(A);default:return!1}}(v)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=v,b=!0)),b}sendToConsumer(v,b){var N;if(v.error&&!nd(v)){const Z=(null===(N=v.error.code)||void 0===N?void 0:N.split("auth/")[1])||"internal-error";b.onError(ot(this.auth,Z))}else b.onAuthEvent(v)}isEventForConsumer(v,b){const N=null===b.eventId||!!v.eventId&&v.eventId===b.eventId;return b.filter.includes(v.type)&&N}hasEventBeenHandled(v){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hd(v))}saveEventToCache(v){this.cachedEventUids.add(Hd(v)),this.lastProcessedEventTime=Date.now()}}function Hd(A){return[A.type,A.eventId,A.sessionId,A.tenantId].filter(v=>v).join("-")}function nd({type:A,error:v}){return"unknown"===A&&"auth/no-auth-event"===v?.code}function L(){return(L=(0,w.Z)(function*(A,v={}){return nt(A,"GET","/v1/projects",v)})).apply(this,arguments)}const Y=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,he=/^https?/;function Fe(){return Fe=(0,w.Z)(function*(A){if(A.config.emulator)return;const{authorizedDomains:v}=yield function O(A){return L.apply(this,arguments)}(A);for(const b of v)try{if(st(b))return}catch{}mt(A,"unauthorized-domain")}),Fe.apply(this,arguments)}function st(A){const v=xn(),{protocol:b,hostname:N}=new URL(v);if(A.startsWith("chrome-extension://")){const Ne=new URL(A);return""===Ne.hostname&&""===N?"chrome-extension:"===b&&A.replace("chrome-extension://","")===v.replace("chrome-extension://",""):"chrome-extension:"===b&&Ne.hostname===N}if(!he.test(b))return!1;if(Y.test(A))return N===A;const Z=A.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Z+"|"+Z+")$","i").test(N)}const Vt=new nr(3e4,6e4);function Ut(){const A=ht().___jsl;if(A?.H)for(const v of Object.keys(A.H))if(A.H[v].r=A.H[v].r||[],A.H[v].L=A.H[v].L||[],A.H[v].r=[...A.H[v].L],A.CP)for(let b=0;b<A.CP.length;b++)A.CP[b]=null}let Zn=null;const ja=new nr(5e3,15e3),io="__/auth/iframe",Dh="emulator/auth/iframe",Ch={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $a(A){const v=A.config;ve(v.authDomain,A,"auth-domain-config-required");const b=v.emulator?pr(v,Dh):`https://${A.config.authDomain}/${io}`,N={apiKey:v.apiKey,appName:A.name,v:u.Jn},Z=wa.get(A.config.apiHost);Z&&(N.eid=Z);const ae=A._getFrameworks();return ae.length&&(N.fw=ae.join(",")),`${b}?${(0,ce.xO)(N).slice(1)}`}function is(){return is=(0,w.Z)(function*(A){const v=yield function tr(A){return Zn=Zn||function vn(A){return new Promise((v,b)=>{var N,Z,ae;function Ne(){Ut(),gapi.load("gapi.iframes",{callback:()=>{v(gapi.iframes.getContext())},ontimeout:()=>{Ut(),b(ot(A,"network-request-failed"))},timeout:Vt.get()})}if(null!==(Z=null===(N=ht().gapi)||void 0===N?void 0:N.iframes)&&void 0!==Z&&Z.Iframe)v(gapi.iframes.getContext());else{if(null===(ae=ht().gapi)||void 0===ae||!ae.load){const Xe=qs("iframefcb");return ht()[Xe]=()=>{gapi.load?Ne():b(ot(A,"network-request-failed"))},cs(`${function tc(){return Wi.gapiScript}()}?onload=${Xe}`).catch(Et=>b(Et))}Ne()}}).catch(v=>{throw Zn=null,v})}(A),Zn}(A),b=ht().gapi;return ve(b,A,"internal-error"),v.open({where:document.body,url:$a(A),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ch,dontclear:!0},N=>new Promise(function(){var Z=(0,w.Z)(function*(ae,Ne){yield N.restyle({setHideOnLeave:!1});const Xe=ot(A,"network-request-failed"),Et=ht().setTimeout(()=>{Ne(Xe)},ja.get());function gn(){ht().clearTimeout(Et),ae(N)}N.ping(gn).then(gn,()=>{Ne(Xe)})});return function(ae,Ne){return Z.apply(this,arguments)}}()))}),is.apply(this,arguments)}const h_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ah{constructor(v){this.window=v,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const f_="__/auth/handler",Ia="emulator/auth/handler",gv=encodeURIComponent("fac");function p_(A,v,b,N,Z,ae){return ps.apply(this,arguments)}function ps(){return(ps=(0,w.Z)(function*(A,v,b,N,Z,ae){ve(A.config.authDomain,A,"auth-domain-config-required"),ve(A.config.apiKey,A,"invalid-api-key");const Ne={apiKey:A.config.apiKey,appName:A.name,authType:b,redirectUrl:N,v:u.Jn,eventId:Z};if(v instanceof Zi){v.setDefaultLanguage(A.languageCode),Ne.providerId=v.providerId||"",(0,ce.xb)(v.getCustomParameters())||(Ne.customParameters=JSON.stringify(v.getCustomParameters()));for(const[_n,Pr]of Object.entries(ae||{}))Ne[_n]=Pr}if(v instanceof xi){const _n=v.getScopes().filter(Pr=>""!==Pr);_n.length>0&&(Ne.scopes=_n.join(","))}A.tenantId&&(Ne.tid=A.tenantId);const Xe=Ne;for(const _n of Object.keys(Xe))void 0===Xe[_n]&&delete Xe[_n];const Et=yield A._getAppCheckToken(),gn=Et?`#${gv}=${encodeURIComponent(Et)}`:"";return`${function Us({config:A}){return A.emulator?pr(A,Ia):`https://${A.authDomain}/${f_}`}(A)}?${(0,ce.xO)(Xe).slice(1)}${gn}`})).apply(this,arguments)}const gs="webStorageSupport",zf=class Tu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yc,this._completeRedirectFn=Sc,this._overrideRedirectResult=Tl}_openPopup(v,b,N,Z){var ae=this;return(0,w.Z)(function*(){var Ne;gt(null===(Ne=ae.eventManagers[v._key()])||void 0===Ne?void 0:Ne.manager,"_initialize() not called before _openPopup()");const Xe=yield p_(v,b,N,xn(),Z);return function Gd(A,v,b,N=500,Z=600){const ae=Math.max((window.screen.availHeight-Z)/2,0).toString(),Ne=Math.max((window.screen.availWidth-N)/2,0).toString();let Xe="";const Et=Object.assign(Object.assign({},h_),{width:N.toString(),height:Z.toString(),top:ae,left:Ne}),gn=(0,ce.z$)().toLowerCase();b&&(Xe=Yn(gn)?"_blank":b),Pn(gn)&&(v=v||"http://localhost",Et.scrollbars="yes");const _n=Object.entries(Et).reduce((dc,[ql,Nh])=>`${dc}${ql}=${Nh},`,"");if(function si(A=(0,ce.z$)()){var v;return Ra(A)&&!(null===(v=window.navigator)||void 0===v||!v.standalone)}(gn)&&"_self"!==Xe)return function zl(A,v){const b=document.createElement("a");b.href=A,b.target=v;const N=document.createEvent("MouseEvent");N.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(N)}(v||"",Xe),new Ah(null);const Pr=window.open(v||"",Xe,_n);ve(Pr,A,"popup-blocked");try{Pr.focus()}catch{}return new Ah(Pr)}(v,Xe,cu())})()}_openRedirect(v,b,N,Z){var ae=this;return(0,w.Z)(function*(){return yield ae._originValidation(v),function wr(A){ht().location.href=A}(yield p_(v,b,N,xn(),Z)),new Promise(()=>{})})()}_initialize(v){const b=v._key();if(this.eventManagers[b]){const{manager:Z,promise:ae}=this.eventManagers[b];return Z?Promise.resolve(Z):(gt(ae,"If manager is not set, promise should be"),ae)}const N=this.initAndGetManager(v);return this.eventManagers[b]={promise:N},N.catch(()=>{delete this.eventManagers[b]}),N}initAndGetManager(v){var b=this;return(0,w.Z)(function*(){const N=yield function Ac(A){return is.apply(this,arguments)}(v),Z=new Gf(v);return N.register("authEvent",ae=>(ve(ae?.authEvent,v,"invalid-auth-event"),{status:Z.onEvent(ae.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[v._key()]={manager:Z},b.iframes[v._key()]=N,Z})()}_isIframeWebStorageSupported(v,b){this.iframes[v._key()].send(gs,{type:gs},Z=>{var ae;const Ne=null===(ae=Z?.[0])||void 0===ae?void 0:ae[gs];void 0!==Ne&&b(!!Ne),mt(v,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(v){const b=v._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function Ae(A){return Fe.apply(this,arguments)}(v)),this.originValidationPromises[b]}get _shouldInitProactively(){return Pi()||jr()||Ra()}};var jd="@firebase/auth";class qf{constructor(v){this.auth=v,this.internalListeners=new Map}getUid(){var v;return this.assertAuthConfigured(),(null===(v=this.auth.currentUser)||void 0===v?void 0:v.uid)||null}getToken(v){var b=this;return(0,w.Z)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(v)}:null})()}addAuthTokenListener(v){if(this.assertAuthConfigured(),this.internalListeners.has(v))return;const b=this.auth.onIdTokenChanged(N=>{v(N?.stsTokenManager.accessToken||null)});this.internalListeners.set(v,b),this.updateProactiveRefresh()}removeAuthTokenListener(v){this.assertAuthConfigured();const b=this.internalListeners.get(v);b&&(this.internalListeners.delete(v),b(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const _v=(0,ce.Pz)("authIdTokenMaxAge")||300;let Zf=null;const $d=A=>function(){var v=(0,w.Z)(function*(b){const N=b&&(yield b.getIdTokenResult()),Z=N&&((new Date).getTime()-Date.parse(N.issuedAtTime))/1e3;if(Z&&Z>_v)return;const ae=N?.token;Zf!==ae&&(Zf=ae,yield fetch(A,{method:ae?"POST":"DELETE",headers:ae?{Authorization:`Bearer ${ae}`}:{}}))});return function(b){return v.apply(this,arguments)}}();function Wl(A=(0,u.Mq)()){const v=(0,u.qX)(A,"auth");if(v.isInitialized())return v.getImmediate();const b=function pl(A,v){const b=(0,u.qX)(A,"auth");if(b.isInitialized()){const Z=b.getImmediate(),ae=b.getOptions();if((0,ce.vZ)(ae,v??{}))return Z;mt(Z,"already-initialized")}return b.initialize({options:v})}(A,{popupRedirectResolver:zf,persistence:[x,Bl,Yc]}),N=(0,ce.Pz)("authTokenSyncURL");if(N&&N.match(/^\/[^\/].*/)){const ae=$d(N);(function Ha(A,v,b){(0,ce.m9)(A).beforeAuthStateChanged(v,b)})(b,ae,()=>ae(b.currentUser)),function oc(A,v,b,N){(0,ce.m9)(A).onIdTokenChanged(v,b,N)}(b,Ne=>ae(Ne))}const Z=(0,ce.q4)("auth");return Z&&function gl(A,v,b){const N=di(A);ve(N._canInitEmulator,N,"emulator-config-failed"),ve(/^https?:\/\//.test(v),N,"invalid-emulator-scheme");const Z=!!b?.disableWarnings,ae=Fa(v),{host:Ne,port:Xe}=function Ei(A){const v=Fa(A),b=/(\/\/)?([^?#/]+)/.exec(A.substr(v.length));if(!b)return{host:"",port:null};const N=b[2].split("@").pop()||"",Z=/^(\[[^\]]+\])(:|$)/.exec(N);if(Z){const ae=Z[1];return{host:ae,port:No(N.substr(ae.length+1))}}{const[ae,Ne]=N.split(":");return{host:ae,port:No(Ne)}}}(v);N.config.emulator={url:`${ae}//${Ne}${null===Xe?"":`:${Xe}`}/`},N.settings.appVerificationDisabledForTesting=!0,N.emulatorConfig=Object.freeze({host:Ne,port:Xe,protocol:ae.replace(":",""),options:Object.freeze({disableWarnings:Z})}),Z||function La(){function A(){const v=document.createElement("p"),b=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",A):A())}()}(b,`http://${Z}`),b}(function ec(A){Wi=A})({loadJS:A=>new Promise((v,b)=>{const N=document.createElement("script");N.setAttribute("src",A),N.onload=v,N.onerror=Z=>{const ae=ot("internal-error");ae.customData=Z,b(ae)},N.type="text/javascript",N.charset="UTF-8",function m_(){var A,v;return null!==(v=null===(A=document.getElementsByTagName("head"))||void 0===A?void 0:A[0])&&void 0!==v?v:document}().appendChild(N)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Du(A){(0,u.Xd)(new fe.wA("auth",(v,{options:b})=>{const N=v.getProvider("app").getImmediate(),Z=v.getProvider("heartbeat"),ae=v.getProvider("app-check-internal"),{apiKey:Ne,authDomain:Xe}=N.options;ve(Ne&&!Ne.includes(":"),"invalid-api-key",{appName:N.name});const Et={apiKey:Ne,authDomain:Xe,clientPlatform:A,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:er(A)},gn=new zs(N,Z,ae,Et);return function Gi(A,v){const b=v?.persistence||[],N=(Array.isArray(b)?b:[b]).map(We);v?.errorMap&&A._updateErrorMap(v.errorMap),A._initializeWithPersistence(N,v?.popupRedirectResolver)}(gn,b),gn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,b,N)=>{v.getProvider("auth-internal").initialize()})),(0,u.Xd)(new fe.wA("auth-internal",v=>{const b=di(v.getProvider("auth").getImmediate());return new qf(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,u.KN)(jd,"1.6.2",function g_(A){switch(A){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(A)),(0,u.KN)(jd,"1.6.2","esm2017")}("Browser");var yv=Q(5619),Cu=Q(8180),Ta=Q(3477),Kf=Q(9468),__=Q(6024);let y_=(()=>{class A{constructor(b,N){this.firestore=b,this.router=N,this.userDataSubject=new yv.X(null),this.userData$=this.userDataSubject.asObservable();const Z=localStorage.getItem("user");if(Z){const ae=JSON.parse(Z);this.userDataSubject.next(ae)}}registerUser(b,N,Z){var ae=this;return(0,w.Z)(function*(){try{const Ne=yield ae.createUserWithEmailAndPassword(b,N),Xe=Ne.user.uid;yield ae.addAdditionalAuthData(Xe,Z),yield ae.saveUserData(Ne.user,Z),ae.router.navigate(["recipes-list"])}catch(Ne){ae.handleError(Ne)}})()}loginUser(b,N){var Z=this;return(0,w.Z)(function*(){try{const ae=yield Z.signInWithEmailAndPassword(b,N),Ne=ae.user.uid,Xe=yield Z.getAdditionalAuthDataById(Ne);yield Z.saveUserData(ae.user,Xe),Z.router.navigate(["recipes-list"])}catch(ae){Z.handleError(ae)}})()}logoutUser(){var b=this;return(0,w.Z)(function*(){try{yield b.signOutAuth(),yield b.clearUserData(),b.router.navigate(["login"])}catch(N){b.handleError(N)}})()}deleteUserAccount(){var b=this;return(0,w.Z)(function*(){try{const Z=Wl().currentUser;if(!Z)throw new Error("No user found to delete.");yield function Nd(A){return ko.apply(this,arguments)}(Z),yield b.clearUserData(),b.router.navigate(["login"])}catch(N){b.handleError(N)}})()}forgotPassword(b){var N=this;return(0,w.Z)(function*(){try{yield N.sendPasswordResetEmail(b),window.alert("Password reset email sent, check your inbox."),N.router.navigate(["login"])}catch(Z){N.handleError(Z),window.alert(Z)}})()}updateFavoriteRecipes(b,N,Z){var ae=this;return(0,w.Z)(function*(){const Xe=(0,Ta.JU)(ae.firestore,"Auth",N);try{Z?(console.log("remove"),yield(0,Ta.r7)(Xe,{favoriteRecipes:(0,Ta.Ab)(b)})):(console.log("add"),yield(0,Ta.r7)(Xe,{favoriteRecipes:(0,Ta.vr)(b)})),console.log("Favorite recipes updated successfully");const Et=yield ae.getAdditionalAuthDataById(N);ae.userData$.pipe((0,Cu.q)(1)).subscribe(gn=>{gn?ae.saveUserData(gn,Et).then(()=>console.log("User data saved successfully")).catch(()=>console.error("Failed to save user data")):console.error("User is null")})}catch(Et){console.error("Error updating favorite recipes: ",Et)}})()}sendPasswordResetEmail(b){return function ws(A,v,b){return ds.apply(this,arguments)}(Wl(),b)}createUserWithEmailAndPassword(b,N){return function Wc(A,v,b){return ic.apply(this,arguments)}(Wl(),b,N)}signInWithEmailAndPassword(b,N){return function Ec(A,v,b){return zi((0,ce.m9)(A),Ps.credential(v,b)).catch(function(){var N=(0,w.Z)(function*(Z){throw"auth/password-does-not-meet-requirements"===Z.code&&zc(A),Z});return function(Z){return N.apply(this,arguments)}}())}(Wl(),b,N)}signOutAuth(){return function ro(A){return(0,ce.m9)(A).signOut()}(Wl())}addAdditionalAuthData(b,N){return(0,Ta.pl)((0,Ta.JU)(this.firestore,"Auth",b),N)}getAdditionalAuthDataById(b){var N=this;return(0,w.Z)(function*(){const Z=(0,Ta.JU)(N.firestore,"Auth",b),ae=yield(0,Ta.QT)(Z);return ae.exists()?ae.data():null})()}saveUserData(b,N){return new Promise((Z,ae)=>{if(b&&N){const Ne={...b,...N};localStorage.setItem("user",JSON.stringify(Ne)),this.userDataSubject.next(Ne),Z()}else localStorage.setItem("user","null"),this.userDataSubject.next(null),ae()})}clearUserData(){return new Promise((b,N)=>{localStorage.removeItem("user"),this.userDataSubject.next(null),b()})}handleError(b){if(b instanceof Error){const Z=b.message;console.error(`Error (${b.name}): ${Z}`),alert(Z)}else console.error("Unknown error:",b),alert(b)}static#e=this.\u0275fac=function(N){return new(N||A)(Kf.LFG(Ta.gg),Kf.LFG(__.F0))};static#t=this.\u0275prov=Kf.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()},9286:(Gt,ze,Q)=>{Q.d(ze,{N:()=>we});var w=Q(4303);(0,w.KN)("firebase","10.9.0","app");const we={firebaseConfig:{apiKey:"AIzaSyCVbXDjBGUwaOrn1CZYGIwce1dYPKpR7PA",authDomain:"the-natural-way.firebaseapp.com",projectId:"the-natural-way",storageBucket:"the-natural-way.appspot.com",messagingSenderId:"778711637280",appId:"1:778711637280:web:30b52ea2a4e159578fcb45"},cloudinaryConfig:{cloudName:"dsla98vyk",apiKey:"587566495847865",apiSecret:"sJLzQzouizKo51b9Mv0bI8a5pCI",uploadPreset:"the_natural_way"}};(0,w.ZF)(we.firebaseConfig)},6386:(Gt,ze,Q)=>{var w=Q(6593),ce=Q(6024),u=Q(9468),we=Q(4664),de=Q(7398),fe=Q(2096),Oe=Q(6499),Ee=Q(5861),re=Q(95),le=Q(6814);function Se(l,f){1&l&&(u.TgZ(0,"div",21),u._uU(1," Email is required! "),u.qZA())}function et(l,f){1&l&&(u.TgZ(0,"div",21),u._uU(1," Please enter a valid email address! "),u.qZA())}function Pe(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,Se,2,0,"div",20),u.YNc(2,et,2,0,"div",20),u.qZA()),2&l){const o=u.oxw();let h,m;u.xp6(1),u.Q6J("ngIf",null==(h=o.registerForm.get("email"))||null==h.errors?null:h.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.registerForm.get("email"))||null==m.errors?null:m.errors.email)}}function it(l,f){1&l&&(u.TgZ(0,"div",21),u._uU(1," Password is required! "),u.qZA())}function At(l,f){1&l&&(u.TgZ(0,"div",21),u._uU(1," Password must be at least 6 characters long! "),u.qZA())}function Lt(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,it,2,0,"div",20),u.YNc(2,At,2,0,"div",20),u.qZA()),2&l){const o=u.oxw();let h,m;u.xp6(1),u.Q6J("ngIf",null==(h=o.registerForm.get("password"))||null==h.errors?null:h.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.registerForm.get("password"))||null==m.errors?null:m.errors.minlength)}}function Ft(l,f){1&l&&(u.TgZ(0,"div",21),u._uU(1," Repeat password is required! "),u.qZA())}function Sn(l,f){1&l&&(u.TgZ(0,"div",21),u._uU(1," Repeat password must be at least 6 characters long! "),u.qZA())}function Mt(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,Ft,2,0,"div",20),u.YNc(2,Sn,2,0,"div",20),u.qZA()),2&l){const o=u.oxw();let h,m;u.xp6(1),u.Q6J("ngIf",null==(h=o.registerForm.get("repeatPassword"))||null==h.errors?null:h.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.registerForm.get("repeatPassword"))||null==m.errors?null:m.errors.minlength)}}function mt(l,f){1&l&&(u.TgZ(0,"div",21),u._uU(1," First name is required! "),u.qZA())}function ot(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,mt,2,0,"div",20),u.qZA()),2&l){const o=u.oxw();let h;u.xp6(1),u.Q6J("ngIf",null==(h=o.registerForm.get("firstName"))||null==h.errors?null:h.errors.required)}}function vt(l,f){1&l&&(u.TgZ(0,"div",21),u._uU(1," Last name is required! "),u.qZA())}function _t(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,vt,2,0,"div",20),u.qZA()),2&l){const o=u.oxw();let h;u.xp6(1),u.Q6J("ngIf",null==(h=o.registerForm.get("lastName"))||null==h.errors?null:h.errors.required)}}let Ge=(()=>{class l{constructor(o,h,m){this.userService=o,this.fb=h,this.router=m,this.registerForm=this.fb.group({email:["",[re.kI.required,re.kI.email]],password:["",[re.kI.required,re.kI.minLength(6)]],repeatPassword:["",re.kI.required],firstName:["",re.kI.required],lastName:["",re.kI.required],isActive:[!0,re.kI.required],isAdmin:[!1,re.kI.required],favoriteRecipes:this.fb.array([])})}submitRegisterForm(){var o=this;return(0,Ee.Z)(function*(){if(o.registerForm.valid){const{email:h,password:m,repeatPassword:T,...k}=o.registerForm.value;if(m!==T)return void alert("Password do not match!");try{yield o.userService.registerUser(h,m,k)}catch(J){alert(J)}}})()}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(Oe.K),u.Y36(re.qu),u.Y36(ce.F0))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-register"]],decls:33,vars:6,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[3,"formGroup","ngSubmit"],[1,"title-wrapper"],[1,"title-form"],["for","email"],["type","email","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","new-password"],["for","repeatPassword"],["type","password","id","repeatPassword","formControlName","repeatPassword","autocomplete","new-password"],["for","firstName"],["type","text","id","firstName","formControlName","firstName"],["for","lastName"],["type","text","id","lastName","formControlName","lastName"],["type","submit",1,"button",2,"width","100%","margin-top","20px"],["href","#","routerLink","/login"],[1,"hint"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(h,m){if(1&h&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"form",3),u.NdJ("ngSubmit",function(){return m.submitRegisterForm()}),u.TgZ(4,"div",4)(5,"h1",5),u._uU(6,"Registration"),u.qZA()(),u.TgZ(7,"label",6),u._uU(8,"Email:"),u.qZA(),u._UZ(9,"input",7),u.YNc(10,Pe,3,2,"div",8),u.TgZ(11,"label",9),u._uU(12,"Password:"),u.qZA(),u._UZ(13,"input",10),u.YNc(14,Lt,3,2,"div",8),u.TgZ(15,"label",11),u._uU(16,"Repeat password:"),u.qZA(),u._UZ(17,"input",12),u.YNc(18,Mt,3,2,"div",8),u.TgZ(19,"label",13),u._uU(20,"First name:"),u.qZA(),u._UZ(21,"input",14),u.YNc(22,ot,2,1,"div",8),u.TgZ(23,"label",15),u._uU(24,"Last Name:"),u.qZA(),u._UZ(25,"input",16),u.YNc(26,_t,2,1,"div",8),u.TgZ(27,"button",17),u._uU(28," Submit "),u.qZA(),u._UZ(29,"hr"),u.TgZ(30,"a",18)(31,"div",19),u._uU(32,"Already registered?"),u.qZA()()()()()),2&h){let T,k,J,ue,ge;u.xp6(3),u.Q6J("formGroup",m.registerForm),u.xp6(7),u.Q6J("ngIf",(null==(T=m.registerForm.get("email"))?null:T.invalid)&&(null==(T=m.registerForm.get("email"))?null:T.touched)),u.xp6(4),u.Q6J("ngIf",(null==(k=m.registerForm.get("password"))?null:k.invalid)&&(null==(k=m.registerForm.get("password"))?null:k.touched)),u.xp6(4),u.Q6J("ngIf",(null==(J=m.registerForm.get("repeatPassword"))?null:J.invalid)&&(null==(J=m.registerForm.get("repeatPassword"))?null:J.touched)),u.xp6(4),u.Q6J("ngIf",(null==(ue=m.registerForm.get("firstName"))?null:ue.invalid)&&(null==(ue=m.registerForm.get("firstName"))?null:ue.touched)),u.xp6(4),u.Q6J("ngIf",(null==(ge=m.registerForm.get("lastName"))?null:ge.invalid)&&(null==(ge=m.registerForm.get("lastName"))?null:ge.touched))}},dependencies:[le.O5,ce.rH,re._Y,re.Fj,re.JJ,re.JL,re.sg,re.u],styles:[".checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:none}}"]})}return l})();function ve(l,f){1&l&&(u.TgZ(0,"div",16),u._uU(1," Email is required! "),u.qZA())}function Qe(l,f){1&l&&(u.TgZ(0,"div",16),u._uU(1," Invalid email! "),u.qZA())}function gt(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,ve,2,0,"div",17),u.YNc(2,Qe,2,0,"div",17),u.qZA()),2&l){const o=u.oxw();let h,m;u.xp6(1),u.Q6J("ngIf",null==(h=o.logInForm.get("email"))||null==h.errors?null:h.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.logInForm.get("email"))||null==m.errors?null:m.errors.email)}}function xn(l,f){1&l&&(u.TgZ(0,"div",16),u._uU(1," Password is required! "),u.qZA())}function dt(l,f){1&l&&(u.TgZ(0,"div",16),u._uU(1," Password must be at least 6 characters long! "),u.qZA())}function fn(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,xn,2,0,"div",17),u.YNc(2,dt,2,0,"div",17),u.qZA()),2&l){const o=u.oxw();let h,m;u.xp6(1),u.Q6J("ngIf",null==(h=o.logInForm.get("password"))||null==h.errors?null:h.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.logInForm.get("password"))||null==m.errors?null:m.errors.minlength)}}function Tn(l,f){if(1&l&&(u.TgZ(0,"div"),u._uU(1),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.Oqu(o.loginError)}}let Bn=(()=>{class l{constructor(o,h,m,T){this.userService=o,this.fb=h,this.route=m,this.router=T,this.loginError=null,this.returnUrl=null,this.logInForm=this.fb.group({email:["",[re.kI.required,re.kI.email]],password:["",[re.kI.required,re.kI.minLength(6)]]})}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}submitLogInForm(){var o=this;return(0,Ee.Z)(function*(){if(o.logInForm.valid){const{email:h,password:m}=o.logInForm.value;try{yield o.userService.loginUser(h,m);const T=o.returnUrl||"/category";yield o.router.navigateByUrl(T)}catch(T){console.log(T)}}})()}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(Oe.K),u.Y36(re.qu),u.Y36(ce.gz),u.Y36(ce.F0))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-login"]],decls:30,vars:4,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[3,"formGroup","ngSubmit"],[1,"title-wrapper"],[1,"title-form"],[1,"formGroup"],["for","email"],["type","text","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","current-password"],["type","submit",1,"button",2,"width","100%"],["href","#","routerLink","/register"],[1,"hint"],["href","#","routerLink","/dashboard/forgot-password"],[1,"errors"],["class","errors",4,"ngIf"]],template:function(h,m){if(1&h&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"form",3),u.NdJ("ngSubmit",function(){return m.submitLogInForm()}),u.TgZ(4,"div",4)(5,"h1",5),u._uU(6,"Login"),u.qZA()(),u.TgZ(7,"div",6)(8,"label",7),u._uU(9,"Email"),u.qZA(),u._UZ(10,"input",8),u.YNc(11,gt,3,2,"div",9),u.qZA(),u.TgZ(12,"div",6)(13,"label",10),u._uU(14,"Password"),u.qZA(),u._UZ(15,"input",11),u.YNc(16,fn,3,2,"div",9),u.qZA(),u._UZ(17,"br"),u.TgZ(18,"div",6)(19,"button",12),u._uU(20,"Submit"),u.qZA()(),u.YNc(21,Tn,2,1,"div",9),u._UZ(22,"hr"),u.TgZ(23,"div")(24,"a",13)(25,"div",14),u._uU(26,"Don't have a Registration yet?"),u.qZA()(),u.TgZ(27,"a",15)(28,"div",16),u._uU(29,"Forgot your password?"),u.qZA()()()()()()),2&h){let T,k;u.xp6(3),u.Q6J("formGroup",m.logInForm),u.xp6(8),u.Q6J("ngIf",(null==(T=m.logInForm.get("email"))?null:T.invalid)&&(null==(T=m.logInForm.get("email"))?null:T.touched)),u.xp6(5),u.Q6J("ngIf",(null==(k=m.logInForm.get("password"))?null:k.invalid)&&(null==(k=m.logInForm.get("password"))?null:k.touched)),u.xp6(5),u.Q6J("ngIf",m.loginError)}},dependencies:[le.O5,ce.rH,re._Y,re.Fj,re.JJ,re.JL,re.sg,re.u],styles:["form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:none}}"]})}return l})();var nr=Q(1753);const pr=function(l){return["/recipe",l]};function ke(l,f){if(1&l&&(u.TgZ(0,"div")(1,"a",8)(2,"div",9)(3,"div",10),u._UZ(4,"img",11),u.qZA(),u.TgZ(5,"p",12),u._uU(6),u.qZA()()()()),2&l){const o=f.$implicit;u.xp6(1),u.Q6J("routerLink",u.VKq(4,pr,o.id)),u.xp6(3),u.s9C("alt",o.title),u.Q6J("src",o.image_recipe[0].image_recipe,u.LSH),u.xp6(2),u.Oqu(o.title)}}function je(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"button",13),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.getRecipesLoadMore())}),u._uU(1," Load More "),u.qZA()}}let Je=(()=>{class l{constructor(o){this.recipeService=o,this.recipes=[],this.showLoadMoreButton=!0}ngOnInit(){this.getRecipes(),this.showLoadMoreButton=!0}getRecipesLoadMore(){var o=this;return(0,Ee.Z)(function*(){const{data:h,hasMore:m}=yield o.recipeService.getRecipesLoadMore();console.log(m),o.showLoadMoreButton=m,o.recipes.push(...h)})()}getRecipes(){var o=this;return(0,Ee.Z)(function*(){const{data:h}=yield o.recipeService.getRecipes();o.recipes.push(...h)})()}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(nr.v))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-recipes-list"]],decls:9,vars:2,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper-list"],[1,"title-wrapper"],[1,"title"],[1,"recipe-list"],[4,"ngFor","ngForOf"],["class","button",3,"click",4,"ngIf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"],[1,"button",3,"click"]],template:function(h,m){1&h&&(u.TgZ(0,"main",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"h1",4),u._uU(5,"Recipes"),u.qZA()(),u.TgZ(6,"div",5),u.YNc(7,ke,7,6,"div",6),u.qZA(),u.YNc(8,je,2,0,"button",7),u.qZA()()),2&h&&(u.xp6(7),u.Q6J("ngForOf",m.recipes),u.xp6(1),u.Q6J("ngIf",m.showLoadMoreButton))},dependencies:[le.sg,le.O5,ce.rH],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:20px;margin-bottom:100px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 461px) and (max-width: 767px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return l})();var Ve=Q(7157),nt=Q(8850),bt=Q(3477);function Pt(l,f){1&l&&(u.TgZ(0,"div",9),u._uU(1," Please write your comment here! "),u.qZA())}function Ht(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,Pt,2,0,"div",8),u.qZA()),2&l){const o=u.oxw();let h;u.xp6(1),u.Q6J("ngIf",null==(h=o.commentForm.get("text"))||null==h.errors?null:h.errors.required)}}let pn=(()=>{class l{constructor(o,h,m,T){this.fb=o,this.commentService=m,this.userService=T,this.timestamp=new Date,this.fullName="",this.firestore=h}ngOnInit(){this.commentForm=this.fb.group({name:[""],text:["",re.kI.required],recipeId:[this.recipeId],create_time:[this.timestamp],uid:[""]}),this.userService.userData$.subscribe({next:o=>{o?(this.userData=o,this.fullName=this.userData.firstName+" "+this.userData.lastName):this.fullName="Anonymous"},error:o=>{console.log(o)}})}onSubmit(){var o=this;return(0,Ee.Z)(function*(){if(o.timestamp=new Date,o.commentForm.valid){o.commentForm.patchValue({name:o.fullName}),o.commentForm.patchValue({recipeId:o.recipeId}),o.commentForm.patchValue({create_time:o.timestamp}),o.userData&&o.commentForm.patchValue({uid:o.userData.uid});try{(yield o.commentService.addComment(o.commentForm.value))?(alert("You have successfully added your comment"),o.commentForm.reset()):console.error("Error adding comment.")}catch(h){console.error("An error occurred while submitting the comment:",h)}}})()}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(re.qu),u.Y36(bt.gg),u.Y36(nt.O),u.Y36(Oe.K))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-comment-form"]],inputs:{recipeId:"recipeId"},decls:15,vars:2,consts:[[1,"commentWrapper"],["id","commentForm",3,"formGroup","ngSubmit"],[1,"divider"],[1,"form-group"],["for","text"],["placeholder","Please write your comment here!","id","text","formControlName","text","rows","5","cols","30",1,"form-control"],[4,"ngIf"],["type","submit",1,"button",2,"width","100%"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(h,m){if(1&h&&(u.TgZ(0,"div",0)(1,"form",1),u.NdJ("ngSubmit",function(){return m.onSubmit()}),u.TgZ(2,"div",2),u._UZ(3,"hr"),u.TgZ(4,"p"),u._uU(5,"\xa0\xa0Comment\xa0\xa0"),u.qZA(),u._UZ(6,"hr"),u.qZA(),u.TgZ(7,"div",3)(8,"label",4),u._uU(9,"Comment (required)"),u.qZA(),u._UZ(10,"textarea",5),u.qZA(),u.YNc(11,Ht,2,1,"div",6),u._UZ(12,"br"),u.TgZ(13,"button",7),u._uU(14,"Submit"),u.qZA()()()),2&h){let T;u.xp6(1),u.Q6J("formGroup",m.commentForm),u.xp6(10),u.Q6J("ngIf",null==(T=m.commentForm.get("text"))?null:T.touched)}},dependencies:[le.O5,re._Y,re.Fj,re.JJ,re.JL,re.sg,re.u],styles:["form#commentForm[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:100%;border:unset}"]})}return l})();var yn=Q(2732);function dn(l,f){if(1&l&&(u.TgZ(0,"div",19),u._uU(1),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.hij(" ",null==o.recipe?null:o.recipe.summary," ")}}function Dt(l,f){1&l&&(u.TgZ(0,"div"),u._UZ(1,"br"),u.qZA())}function Wn(l,f){if(1&l&&(u.TgZ(0,"li"),u._UZ(1,"img",22),u.qZA()),2&l){const o=f.$implicit;u.xp6(1),u.Q6J("src",o.image_recipe,u.LSH)}}function gr(l,f){if(1&l&&(u.TgZ(0,"ul",20),u.YNc(1,Wn,2,1,"li",21),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.Q6J("ngForOf",null==o.recipe?null:o.recipe.image_recipe)}}function Fr(l,f){1&l&&(u.ynx(0),u._UZ(1,"i",28),u.BQk())}function De(l,f){1&l&&u._UZ(0,"i",29)}function xe(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"button",25),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.updateRecipeLikes())}),u.YNc(1,Fr,2,0,"ng-container",26),u.YNc(2,De,1,0,"ng-template",null,27,u.W1O),u.qZA()}if(2&l){const o=u.MAs(3),h=u.oxw(2);u.xp6(1),u.Q6J("ngIf",h.userData&&h.recipe&&h.recipe.likes&&(null==h.userData?null:h.userData.uid)&&h.recipe.likes.includes(h.userData.uid))("ngIfElse",o)}}function Re(l,f){if(1&l&&(u.TgZ(0,"div")(1,"span"),u._uU(2),u.qZA()()),2&l){const o=u.oxw(2);u.xp6(2),u.hij("Like: ",null==o.recipe||null==o.recipe.likes?null:o.recipe.likes.length,"")}}function at(l,f){1&l&&(u.ynx(0),u._uU(1," Save it! "),u.BQk())}function yt(l,f){1&l&&u._uU(0,"Save Recipe")}function St(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"button",25),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.updateFavoriteRecipes())}),u.YNc(1,at,2,0,"ng-container",26),u.YNc(2,yt,1,0,"ng-template",null,27,u.W1O),u.qZA()}if(2&l){const o=u.MAs(3),h=u.oxw(2);u.xp6(1),u.Q6J("ngIf",h.recipe&&h.userData&&h.userData.favoriteRecipes&&h.userData.favoriteRecipes.includes(h.recipeId||""))("ngIfElse",o)}}function _r(l,f){if(1&l&&(u.TgZ(0,"div",23),u.YNc(1,xe,4,2,"button",24),u.YNc(2,Re,3,1,"div",8),u.YNc(3,St,4,2,"button",24),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.Q6J("ngIf",o.userData),u.xp6(1),u.Q6J("ngIf",(null==o.recipe||null==o.recipe.likes?null:o.recipe.likes.length)>0),u.xp6(1),u.Q6J("ngIf",o.userData)}}function En(l,f){1&l&&(u.TgZ(0,"div",12),u._UZ(1,"hr"),u.TgZ(2,"p"),u._uU(3,"\xa0\xa0Ingredients\xa0\xa0"),u.qZA(),u._UZ(4,"hr"),u.qZA())}function an(l,f){if(1&l&&(u.TgZ(0,"li"),u._uU(1),u.qZA()),2&l){const o=u.oxw().$implicit;u.xp6(1),u.lnq(" ",o.name," - ",o.amount," ",o.unit," ")}}function Kt(l,f){if(1&l&&(u.TgZ(0,"ul",30),u.YNc(1,an,2,3,"li",8),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.Q6J("ngIf",null==o.recipe?null:o.recipe.ingredients)}}function wn(l,f){if(1&l&&(u.TgZ(0,"li"),u._UZ(1,"iframe",32),u.ALo(2,"safeUrl"),u.qZA()),2&l){const o=f.$implicit;u.xp6(1),u.Q6J("src",u.lcZ(2,1,o.video_recipe),u.uOi)}}function Jn(l,f){if(1&l&&(u.TgZ(0,"div",31)(1,"div",12),u._UZ(2,"hr"),u.TgZ(3,"p"),u._uU(4,"\xa0\xa0Video\xa0\xa0"),u.qZA(),u._UZ(5,"hr"),u.qZA(),u._UZ(6,"br"),u.TgZ(7,"ul"),u.YNc(8,wn,3,3,"li",21),u.qZA()()),2&l){const o=u.oxw();u.xp6(8),u.Q6J("ngForOf",null==o.recipe?null:o.recipe.video_recipe)}}function tn(l,f){1&l&&(u.TgZ(0,"div",12),u._UZ(1,"hr"),u.TgZ(2,"p"),u._uU(3,"\xa0\xa0Buttons\xa0\xa0"),u.qZA(),u._UZ(4,"hr"),u.qZA())}function Cr(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"button",35),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.toggleCommentForm())}),u._uU(1," Comment? "),u.qZA()}}function yr(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"button",35),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.toggleCommentForm())}),u._uU(1," Hide Form "),u.qZA()}}function mn(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"button",35),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.navigateToRecipeEdit())}),u._uU(1," Edit Recipe "),u.qZA()}}function rr(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"button",35),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.navigateToRecipeDelete())}),u._uU(1," Delete Recipe "),u.qZA()}}function Kn(l,f){if(1&l&&(u.TgZ(0,"div",33),u.YNc(1,Cr,2,0,"button",34),u.YNc(2,yr,2,0,"button",34),u.YNc(3,mn,2,0,"button",34),u.YNc(4,rr,2,0,"button",34),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.Q6J("ngIf",!o.showCommentForm),u.xp6(1),u.Q6J("ngIf",o.showCommentForm),u.xp6(1),u.Q6J("ngIf",o.userData&&o.userData.uid==(null==o.recipe?null:o.recipe.uid)),u.xp6(1),u.Q6J("ngIf",o.userData&&o.userData.uid==(null==o.recipe?null:o.recipe.uid))}}function ir(l,f){if(1&l&&(u.TgZ(0,"div"),u._UZ(1,"app-comment-form",36),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.Q6J("recipeId",o.recipeId)}}function jn(l,f){1&l&&(u.TgZ(0,"div",12),u._UZ(1,"hr"),u.TgZ(2,"p"),u._uU(3,"\xa0\xa0Comments\xa0\xa0"),u.qZA(),u._UZ(4,"hr"),u.qZA())}function mi(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"span",41),u.NdJ("click",function(){u.CHM(o);const m=u.oxw().$implicit,T=u.oxw(2);return u.KtG(T.deleteComment(m.id))}),u._UZ(1,"i",42),u.qZA()}}function An(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"span",41),u.NdJ("click",function(){u.CHM(o);const m=u.oxw().$implicit,T=u.oxw(2);return u.KtG(T.navigateToCommentEdit(m.id))}),u._UZ(1,"i",43),u.qZA()}}function Xn(l,f){if(1&l&&(u.TgZ(0,"ul")(1,"li"),u._uU(2),u.qZA(),u.TgZ(3,"li"),u._uU(4),u.qZA(),u.TgZ(5,"li",38)(6,"p"),u._uU(7),u.ALo(8,"date"),u.qZA(),u.TgZ(9,"div",39),u.YNc(10,mi,2,0,"span",40),u.YNc(11,An,2,0,"span",40),u.qZA()(),u._UZ(12,"hr"),u.qZA()),2&l){const o=f.$implicit,h=u.oxw(2);u.xp6(2),u.Oqu(o.name),u.xp6(2),u.Oqu(o.text),u.xp6(3),u.hij(" ",u.xi3(8,5,o.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," "),u.xp6(3),u.Q6J("ngIf",h.userData&&o.uid==h.userData.uid),u.xp6(1),u.Q6J("ngIf",h.userData&&o.uid==h.userData.uid)}}function Mr(l,f){if(1&l&&(u.TgZ(0,"section",37),u.YNc(1,Xn,13,8,"ul",21),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.Q6J("ngForOf",o.comments)}}let _i=(()=>{class l{constructor(o,h,m,T,k){var J=this;this.route=o,this.recipeService=h,this.commentService=m,this.userService=T,this.router=k,this.recipe=null,this.recipeId="",this.comments=[],this.showCommentForm=!1,this.route.paramMap.subscribe(function(){var ue=(0,Ee.Z)(function*(ge){J.recipeId=ge.get("id")});return function(ge){return ue.apply(this,arguments)}}()),m.getCommentAddedObservable().subscribe((0,Ee.Z)(function*(){console.log("Comment successfully added."),yield J.loadCommentsForRecipe()}))}loadRecipeData(){var o=this;return(0,Ee.Z)(function*(){if(o.recipeId)try{o.recipe=yield o.recipeService.getRecipeById(o.recipeId),o.comments=yield o.commentService.getCommentsForRecipe(o.recipeId),console.log("Recipe data loaded successfully.")}catch(h){console.error("An error occurred while loading recipe data:",h)}})()}navigateToRecipeEdit(){var o=this;return(0,Ee.Z)(function*(){yield o.router.navigate(["/dashboard/recipe-edit",o.recipeId])})()}navigateToRecipeDelete(){var o=this;return(0,Ee.Z)(function*(){yield o.router.navigate(["/dashboard/recipe-delete",o.recipeId])})()}ngOnInit(){var o=this;return(0,Ee.Z)(function*(){yield o.loadRecipeData(),o.userService.userData$.subscribe(h=>{h&&(o.userData=h)})})()}toggleCommentForm(){this.showCommentForm=!this.showCommentForm}navigateToCommentEdit(o){var h=this;return(0,Ee.Z)(function*(){yield h.router.navigate(["/dashboard/comment-edit",o])})()}deleteComment(o){var h=this;return(0,Ee.Z)(function*(){yield h.commentService.deleteComment(o),yield h.loadCommentsForRecipe()})()}updateRecipeLikes(){var o=this;return(0,Ee.Z)(function*(){if(o.recipe)if(o.userData){if(o.userData){let h=o.recipe.likes.includes(o.userData.uid);yield o.recipeService.updateRecipeLikes(o.recipeId,o.userData.uid,h)}yield o.loadRecipeData()}else console.error("User is not logged in.");else console.error("Recipe data is missing.")})()}updateFavoriteRecipes(){var o=this;return(0,Ee.Z)(function*(){if(o.recipe){if(o.userData&&o.recipeId){let h=o.userData.favoriteRecipes.includes(o.recipeId);yield o.userService.updateFavoriteRecipes(o.recipeId,o.userData.uid,h),yield o.loadRecipeData()}}else console.error("Recipe data is missing.")})()}loadCommentsForRecipe(){var o=this;return(0,Ee.Z)(function*(){o.recipeId&&(o.comments=yield o.commentService.getCommentsForRecipe(o.recipeId))})()}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(ce.gz),u.Y36(Ve.j),u.Y36(nt.O),u.Y36(Oe.K),u.Y36(ce.F0))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-recipe"]],decls:33,vars:15,consts:[[1,"mainLong"],[1,"headerImage"],[1,"wrapper-list"],[1,"recipe-container"],[1,"title-wrapper"],[1,"title"],[1,"recipe-subtitle"],["class","recipe-summary",4,"ngIf"],[4,"ngIf"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],["class","buttons",4,"ngIf"],[1,"divider"],[1,"recipe-description-text","description"],["class","divider",4,"ngIf"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-videos",4,"ngIf"],["class","buttons buttons-img",4,"ngIf"],["class","comments",4,"ngIf"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","Image of a recipe",3,"src"],[1,"buttons"],["class","button",3,"click",4,"ngIf"],[1,"button",3,"click"],[4,"ngIf","ngIfElse"],["notLiked",""],[1,"fa-solid","fa-heart","fa-beat-fade"],[1,"fa-regular","fa-heart","fa-beat-fade"],[1,"recipe-ingredients"],[1,"recipe-videos"],["width","560","height","315","allowfullscreen","",3,"src"],[1,"buttons","buttons-img"],["class","button-img",3,"click",4,"ngIf"],[1,"button-img",3,"click"],[3,"recipeId"],[1,"comments"],[1,"comments-last"],[1,"commentBtnWrapper"],[3,"click",4,"ngIf"],[3,"click"],[1,"fa-solid","fa-trash","fa-shake"],[1,"fa-regular","fa-pen-to-square","fa-flip"]],template:function(h,m){1&h&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6),u.qZA()(),u.TgZ(7,"h3",6),u._uU(8),u.qZA(),u.YNc(9,dn,2,1,"div",7),u.YNc(10,Dt,2,0,"div",8),u.TgZ(11,"div",9),u.YNc(12,gr,2,1,"ul",10),u.YNc(13,_r,4,3,"div",11),u.TgZ(14,"div",12),u._UZ(15,"hr"),u.TgZ(16,"p"),u._uU(17,"\xa0\xa0Preparation\xa0\xa0"),u.qZA(),u._UZ(18,"hr"),u.qZA(),u._UZ(19,"br"),u.TgZ(20,"p",13),u._uU(21),u.qZA(),u._UZ(22,"br"),u.YNc(23,En,5,0,"div",14),u._UZ(24,"br"),u.YNc(25,Kt,2,1,"ul",15),u.YNc(26,Jn,9,1,"div",16),u.YNc(27,tn,5,0,"div",14),u._UZ(28,"br"),u.YNc(29,Kn,5,4,"div",17),u.YNc(30,ir,2,1,"div",8),u.YNc(31,jn,5,0,"div",14),u.YNc(32,Mr,2,1,"section",18),u.qZA()()()()),2&h&&(u.xp6(6),u.Oqu(null==m.recipe?null:m.recipe.title),u.xp6(2),u.Oqu(null==m.recipe?null:m.recipe.subtitle),u.xp6(1),u.Q6J("ngIf",null==m.recipe?null:m.recipe.summary),u.xp6(1),u.Q6J("ngIf",!(null!=m.recipe&&m.recipe.summary)),u.xp6(2),u.Q6J("ngIf",(null==m.recipe?null:m.recipe.image_recipe)&&(null==m.recipe||null==m.recipe.image_recipe?null:m.recipe.image_recipe.length)>0),u.xp6(1),u.Q6J("ngIf",m.userData),u.xp6(8),u.hij(" ",null==m.recipe?null:m.recipe.description," "),u.xp6(2),u.Q6J("ngIf",null==m.recipe?null:m.recipe.ingredients),u.xp6(2),u.Q6J("ngForOf",null==m.recipe?null:m.recipe.ingredients),u.xp6(1),u.Q6J("ngIf",(null==m.recipe?null:m.recipe.video_recipe)&&(null==m.recipe||null==m.recipe.video_recipe?null:m.recipe.video_recipe.length)>0),u.xp6(1),u.Q6J("ngIf",m.userData),u.xp6(2),u.Q6J("ngIf",m.userData),u.xp6(1),u.Q6J("ngIf",m.showCommentForm),u.xp6(1),u.Q6J("ngIf",m.comments.length>0),u.xp6(1),u.Q6J("ngIf",m.comments.length>0))},dependencies:[le.sg,le.O5,pn,le.uU,yn.Q],styles:[".recipe-container[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:800px;margin:-50px auto 50px;padding:32px;box-shadow:0 1px 3px #0000004d}.title[_ngcontent-%COMP%]{font-size:28px}.recipe-subtitle[_ngcontent-%COMP%]{font-size:14px;margin-top:-10px;color:var(--mainGreyColor);font-style:italic;white-space:pre-wrap}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic;white-space:pre-wrap}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}ul.recipe-image[_ngcontent-%COMP%]{padding-left:unset}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.buttons[_ngcontent-%COMP%]{padding:0 32px;display:flex;justify-content:space-between}.comments[_ngcontent-%COMP%]{border:1px solid var(--mainMagnoliaColor);margin:30px 0;padding:20px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:10px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:5px}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--mainGreyColor)}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--backgroundColor);padding-left:5px;border-radius:5px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--mainMagnoliaColor);font-style:italic;border-radius:5px}.commentBtnWrapper[_ngcontent-%COMP%]{display:flex;gap:10px}.comments-last[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.fa-solid.fa-trash.fa-shake[_ngcontent-%COMP%], .fa-regular.fa-pen-to-square.fa-flip[_ngcontent-%COMP%]{cursor:pointer;color:var(--mainRGBAColor);background-color:var(--backgroundColor);padding:8px 10px;border:3px solid var(--mainRGBAColor);border-radius:50%;transition:1s ease-in-out}.fa-solid.fa-trash.fa-shake[_ngcontent-%COMP%]:hover, .fa-regular.fa-pen-to-square.fa-flip[_ngcontent-%COMP%]:hover{color:var(--backgroundColor);background-color:var(--mainRGBAColor);padding:8px 10px;border:3px solid var(--mainRGBAColor);border-radius:50%}@media (max-width: 640px){.buttons-img[_ngcontent-%COMP%]{flex-direction:column-reverse}}"]})}return l})();function tt(l,f){1&l&&(u.TgZ(0,"div")(1,"main",2),u._UZ(2,"div",3),u.TgZ(3,"div",4)(4,"div",5)(5,"div",6)(6,"h1",7),u._uU(7," We're sorry, but we couldn't find the result you're looking for! "),u.TgZ(8,"main",8),u.O4$(),u.TgZ(9,"svg",9),u._UZ(10,"rect",10),u.TgZ(11,"g",11)(12,"svg",12)(13,"g")(14,"svg",13)(15,"g",14)(16,"svg",15)(17,"g",16)(18,"svg",17)(19,"g")(20,"svg",15)(21,"g",18)(22,"svg",19),u._UZ(23,"path",20),u.qZA()()()()()()()(),u.TgZ(24,"g",21)(25,"svg",22)(26,"g"),u._UZ(27,"svg"),u.qZA(),u.TgZ(28,"g",23)(29,"svg",22)(30,"g"),u._UZ(31,"path",24)(32,"ellipse",25),u.qZA(),u.TgZ(33,"g",26)(34,"svg",27)(35,"g")(36,"svg",28),u._UZ(37,"path",29),u.qZA()()()()()()()(),u._UZ(38,"g"),u.qZA()(),u._UZ(39,"defs"),u.qZA(),u._UZ(40,"rect",30),u.qZA()()()()()()()()())}const Ce=function(l){return["/recipe",l]};function Ze(l,f){if(1&l&&(u.TgZ(0,"div")(1,"a",35)(2,"div",36)(3,"div",37),u._UZ(4,"img",38),u.qZA(),u.TgZ(5,"p",39),u._uU(6),u.qZA()()()()),2&l){const o=f.$implicit;u.xp6(1),u.Q6J("routerLink",u.VKq(4,Ce,o.id)),u.xp6(3),u.s9C("alt",o.title),u.Q6J("src",o.image_recipe[0].image_recipe,u.LSH),u.xp6(2),u.Oqu(o.title)}}function It(l,f){if(1&l&&(u.TgZ(0,"main",31),u._UZ(1,"div",3),u.TgZ(2,"div",32)(3,"div",6)(4,"h1",7),u._uU(5,"Result"),u.qZA()(),u.TgZ(6,"div",33),u.YNc(7,Ze,7,6,"div",34),u.qZA()()()),2&l){const o=u.oxw();u.xp6(7),u.Q6J("ngForOf",o.recipes)}}let Wt=(()=>{class l{constructor(o,h){this.recipeService=o,this.route=h,this.recipes=[],this.result=!1}ngOnInit(){this.route.queryParams.subscribe(o=>{const h=o.search;h&&this.getRecipes(h)})}getRecipes(o){var h=this;return(0,Ee.Z)(function*(){const{data:m}=yield h.recipeService.searchRecipesByTitle(o);console.log(m),m.length>0?(h.recipes.push(...m),h.result=!0):h.result=!1})()}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(nr.v),u.Y36(ce.gz))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-recipe-search"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["recipesList",""],[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[2,"max-width","600px","margin","-50px auto 50px auto","padding","32px","background-color","var(--backgroundColor)","border-radius","unset","box-shadow","0 1px 3px 0 rgba(0, 0, 0, 0.3)","display","flex","flex-direction","column","align-items","center"],[1,"title-wrapper"],[1,"title"],[1,"logo-svg"],["viewBox","0 0 640 400","data-background-color","var(--mainWhiteColor)","preserveAspectRatio","xMidYMid meet","height","400","width","640","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["width","640","height","400","x","0","y","0","opacity","1","fill","var(--mainRGBAColor)","data-fill-palette-color","background","id","background"],["id","tight-bounds","transform","matrix(1,0,0,1,168.6873741251188,76.4)"],["viewBox","0 0 302.6252517497624 247.2","height","247.2","width","302.6252517497624"],["viewBox","0 0 395.52 323.08124796157813","height","247.2","width","302.6252517497624"],["transform","matrix(1,0,0,1,0,240.1001478205344)"],["viewBox","0 0 395.52 82.98110014104373","height","82.98110014104373","width","395.52"],["id","textblocktransform"],["viewBox","0 0 395.52 82.98110014104373","height","82.98110014104373","width","395.52","id","textblock"],["transform","matrix(1,0,0,1,0,0)"],["width","395.52","viewBox","0.15000000596046448 -37.939998626708984 276.9100036621094 58.11000061035156","height","82.98110014104373","data-palette-color","var(--mainWhiteColor)"],["d","M8.3-27.15L0.15-26.51 0.93-29.05Q0.98-29.1 1.68-29.17 2.39-29.25 3.56-29.37 4.74-29.49 6.2-29.64 7.67-29.79 9.2-29.93 10.74-30.08 12.23-30.22 13.72-30.37 14.99-30.52L14.99-30.52Q14.99-30.52 15.43-30.52 15.87-30.52 16.41-30.52 16.94-30.52 17.43-30.52 17.92-30.52 18.07-30.52L18.07-30.52Q19.24-30.52 19.68-30.08 20.12-29.64 20.12-28.17L20.12-28.17 11.23-27.15Q11.13-24.07 11.33-20.7 11.52-17.33 11.82-13.89 12.11-10.45 12.38-7.08 12.65-3.71 12.65-0.63L12.65-0.63Q12.65-0.2 12.38-0.02 12.11 0.15 11.74 0.2 11.38 0.24 10.99 0.17 10.6 0.1 10.3 0L10.3 0Q10.16-0.63 10.01-2.2 9.86-3.76 9.72-5.86 9.57-7.96 9.42-10.4 9.28-12.84 9.13-15.28 8.98-17.72 8.84-19.95 8.69-22.17 8.59-23.85 8.5-25.54 8.42-26.46 8.35-27.39 8.3-27.15L8.3-27.15ZM20.07-33.74L21.68-33.5 22.95-17.48Q23.29-17.77 23.83-18.36 24.36-18.95 25.1-19.46 25.83-19.97 26.71-20.34 27.59-20.7 28.61-20.65L28.61-20.65Q30.61-20.46 31.81-19.04 33.01-17.63 33.62-15.58 34.23-13.53 34.42-11.11 34.62-8.69 34.54-6.49 34.47-4.3 34.3-2.59 34.13-0.88 34.03-0.24L34.03-0.24 32.27-0.49Q32.27-0.93 32.3-1.88 32.32-2.83 32.37-4.13 32.42-5.42 32.42-6.84 32.42-8.25 32.44-9.5 32.47-10.74 32.44-11.72 32.42-12.7 32.37-13.09L32.37-13.09Q32.42-14.45 31.83-15.72 31.25-16.99 30.27-17.65 29.29-18.31 27.93-18.09 26.56-17.87 25-16.16L25-16.16Q23.63-14.11 23-12.13 22.36-10.16 22.17-8.23 21.97-6.3 22.02-4.27 22.07-2.25 22.02 0L22.02 0 20.11-0.29Q20.26-0.83 20.33-2.27 20.41-3.71 20.46-5.74 20.51-7.76 20.53-10.25 20.55-12.74 20.53-15.41 20.51-18.07 20.46-20.75 20.41-23.44 20.33-25.88 20.26-28.32 20.19-30.37 20.11-32.42 20.07-33.74L20.07-33.74ZM36.86-11.47L36.86-11.47Q36.86-12.94 37.5-14.72 38.13-16.5 39.23-18.04 40.33-19.58 41.72-20.63 43.11-21.68 44.62-21.68L44.62-21.68Q45.45-21.68 46.26-21.34 47.07-21 47.82-20.43 48.58-19.87 49.19-19.17 49.8-18.46 50.14-17.68 50.48-16.89 50.51-16.16 50.53-15.43 50.09-14.89L50.09-14.89 39.79-12.99Q39.59-12.94 39.45-12.52 39.3-12.11 39.2-11.47 39.11-10.84 39.03-10.08 38.96-9.33 38.91-8.62 38.86-7.91 38.86-7.35 38.86-6.79 38.86-6.49L38.86-6.49Q38.86-5.13 39.52-4.27 40.18-3.42 41.21-2.98 42.23-2.54 43.53-2.39 44.82-2.25 46.09-2.25 47.36-2.25 48.48-2.34 49.6-2.44 50.34-2.44L50.34-2.44Q50.34-2.25 50.19-2 50.04-1.76 49.85-1.54 49.65-1.32 49.46-1.15 49.26-0.98 49.21-0.93L49.21-0.93Q48.82-0.83 48.02-0.66 47.21-0.49 46.31-0.34 45.41-0.2 44.62-0.1 43.84 0 43.55 0L43.55 0Q42.04 0.29 40.91-0.05 39.79-0.39 39.01-1.22 38.23-2.05 37.74-3.25 37.25-4.44 37.01-5.81 36.76-7.18 36.74-8.64 36.71-10.11 36.86-11.47ZM43.94-19.82L43.94-19.82Q43.5-19.82 42.79-19.36 42.08-18.9 41.47-18.19 40.86-17.48 40.45-16.67 40.03-15.87 40.18-15.28L40.18-15.28Q41.45-15.14 42.82-15.33 44.18-15.53 45.31-15.94 46.43-16.36 47.16-16.92 47.9-17.48 47.87-18.07 47.85-18.65 46.94-19.12 46.04-19.58 43.94-19.82ZM93.06 0L74.31-29.05Q74.31-28.91 74.28-28.42 74.26-27.93 74.26-27.42 74.26-26.9 74.26-26.44 74.26-25.98 74.26-25.83L74.26-25.83Q74.26-22.66 74.4-19.48 74.55-16.31 74.75-13.11 74.94-9.91 75.09-6.69 75.23-3.47 75.23-0.24L75.23-0.24 73.48-0.34Q73.43-1.27 73.31-2.93 73.18-4.59 73.01-6.76 72.84-8.94 72.65-11.43 72.45-13.92 72.23-16.48 72.01-19.04 71.87-21.53 71.72-24.02 71.6-26.15 71.47-28.27 71.43-29.91 71.38-31.54 71.43-32.42L71.43-32.42Q71.43-33.01 71.87-33.4 72.3-33.79 72.89-33.79L72.89-33.79Q73.48-33.79 74.23-33.52 74.99-33.25 75.23-32.81L75.23-32.81 92.81-4.44Q92.81-6.69 92.69-9.28 92.57-11.87 92.47-14.6 92.37-17.33 92.35-20.09 92.32-22.85 92.45-25.46 92.57-28.08 92.93-30.42 93.3-32.76 93.98-34.67L93.98-34.67Q94.67-34.91 95.06-34.94 95.45-34.96 95.64-34.91 95.84-34.86 95.86-34.67 95.89-34.47 95.89-34.28L95.89-34.28Q95.89-34.18 95.89-33.98 95.89-33.79 95.89-33.74L95.89-33.74Q95.79-33.45 95.67-32.67 95.55-31.88 95.35-30.35 95.16-28.81 95.01-26.37 94.86-23.93 94.72-20.31 94.57-16.7 94.5-11.72 94.42-6.74 94.47-0.1L94.47-0.1 93.06 0ZM97.74-4.2L97.74-4.2Q97.74-6.98 99.28-8.25 100.82-9.52 103.31-9.52L103.31-9.52Q104.28-9.52 105.14-9.47 105.99-9.42 106.77-9.23 107.56-9.03 108.31-8.64 109.07-8.25 109.9-7.52L109.9-7.52Q109.9-7.67 109.92-8.13 109.95-8.59 109.95-9.13 109.95-9.67 109.95-10.13 109.95-10.6 109.95-10.79L109.95-10.79Q109.9-11.67 109.9-13.06 109.9-14.45 109.68-15.92 109.46-17.38 108.8-18.7 108.14-20.02 106.68-20.7L106.68-20.7Q105.65-20.7 104.77-20.36 103.89-20.02 103.01-19.63 102.14-19.24 101.26-18.92 100.38-18.6 99.35-18.6L99.35-18.6Q99.35-19.82 100.11-20.63 100.87-21.44 101.94-21.88 103.01-22.31 104.19-22.46 105.36-22.61 106.24-22.61L106.24-22.61Q107.12-22.46 107.87-22.27 108.63-22.07 109.29-21.48 109.95-20.9 110.51-19.7 111.07-18.51 111.49-16.36 111.9-14.21 112.22-10.91 112.54-7.62 112.73-2.83L112.73-2.83Q112.83-2.2 112.32-1.73 111.8-1.27 110.93-0.95 110.05-0.63 108.95-0.42 107.85-0.2 106.73-0.1 105.6 0 104.58 0.05 103.55 0.1 102.87 0.1L102.87 0.1Q101.99 0.1 101.09-0.2 100.18-0.49 99.43-1.05 98.67-1.61 98.21-2.42 97.74-3.22 97.74-4.2ZM104.09-7.62L104.09-7.62Q101.65-6.93 100.67-5.98 99.69-5.03 99.82-4.15 99.94-3.27 100.96-2.56 101.99-1.86 103.45-1.64 104.92-1.42 106.63-1.88 108.34-2.34 109.9-3.71L109.9-3.71Q109.31-5.13 108.73-5.88 108.14-6.64 107.46-7.03 106.77-7.42 105.94-7.52 105.11-7.62 104.09-7.62ZM120.64-17.72L120.64-17.72Q120.2-17.87 119.44-17.85 118.69-17.82 117.83-17.75 116.98-17.68 116.2-17.58 115.41-17.48 114.88-17.48L114.88-17.48Q114.63-17.48 114.56-18.19 114.49-18.9 114.34-20.12L114.34-20.12 121.23-20.61Q121.37-22.31 121.42-23.05 121.47-23.78 121.44-24.29 121.42-24.8 121.4-25.46 121.37-26.12 121.37-27.54L121.37-27.54Q122.64-27.73 123.3-27.66 123.96-27.59 124.2-27.29 124.45-27 124.42-26.44 124.4-25.88 124.28-25.05 124.15-24.22 124.08-23.05 124.01-21.88 124.15-20.41L124.15-20.41 130.01-20.61 130.01-18.21Q129.62-18.21 128.79-18.16 127.96-18.12 127.01-18.07 126.06-18.02 125.25-17.97 124.45-17.92 124.06-17.77L124.06-17.77Q123.67-16.02 123.23-14.01 122.79-12.01 122.64-10.06 122.49-8.11 122.74-6.42 122.98-4.74 123.96-3.64 124.94-2.54 126.74-2.12 128.55-1.71 131.53-2.39L131.53-2.39Q131.43-1.66 130.97-1.2 130.5-0.73 129.89-0.46 129.28-0.2 128.6-0.07 127.91 0.05 127.38 0.05L127.38 0.05Q124.89 0.05 123.42-0.85 121.96-1.76 121.23-3.22 120.49-4.69 120.3-6.57 120.1-8.45 120.18-10.4 120.25-12.35 120.44-14.26 120.64-16.16 120.64-17.72ZM133.19-18.95L133.19-18.95Q133.19-19.19 133.5-19.43 133.82-19.68 134.28-19.82 134.75-19.97 135.19-20.02 135.63-20.07 135.82-19.87L135.82-19.87Q136.12-13.82 136.97-10.23 137.82-6.64 138.92-4.98 140.02-3.32 141.29-3.3 142.56-3.27 143.78-4.37 145-5.47 146.05-7.37 147.1-9.28 147.76-11.47 148.42-13.67 148.57-15.87 148.71-18.07 148.18-19.78L148.18-19.78 151.11-20.12Q151.15-19.38 151.37-17.7 151.59-16.02 151.86-13.89 152.13-11.77 152.47-9.47 152.81-7.18 153.06-5.2 153.3-3.22 153.5-1.83 153.69-0.44 153.69-0.1L153.69-0.1 151.59-0.1 149.3-8.54Q148.62-6.84 147.64-5.27 146.66-3.71 145.51-2.54 144.37-1.37 143.1-0.71 141.83-0.05 140.58-0.17 139.34-0.29 138.17-1.32 136.99-2.34 135.99-4.57 134.99-6.79 134.26-10.3 133.53-13.82 133.19-18.95ZM155.25-19.04L155.25-19.04Q155.84-19.29 156.28-19.14 156.72-18.99 157.01-18.6 157.3-18.21 157.45-17.7 157.6-17.19 157.69-16.7L157.69-16.7Q158.33-17.77 159.53-18.43 160.72-19.09 162.09-19.31 163.46-19.53 164.82-19.41 166.19-19.29 167.14-18.82 168.1-18.36 168.49-17.55 168.88-16.75 168.29-15.67L168.29-15.67Q167.02-16.41 165.63-16.85 164.24-17.29 162.92-17.14 161.6-16.99 160.48-16.14 159.36-15.28 158.62-13.43 157.89-11.57 157.72-8.52 157.55-5.47 158.13-0.93L158.13-0.93 156.28-0.93Q156.28-0.93 156.21-1.73 156.13-2.54 156.06-3.86 155.99-5.18 155.86-6.79 155.74-8.4 155.64-10.06 155.55-11.72 155.47-13.26 155.4-14.79 155.3-15.92L155.3-15.92Q155.3-16.06 155.28-16.5 155.25-16.94 155.25-17.46 155.25-17.97 155.25-18.41 155.25-18.85 155.25-19.04ZM170.49-4.2L170.49-4.2Q170.49-6.98 172.02-8.25 173.56-9.52 176.05-9.52L176.05-9.52Q177.03-9.52 177.88-9.47 178.74-9.42 179.52-9.23 180.3-9.03 181.06-8.64 181.81-8.25 182.64-7.52L182.64-7.52Q182.64-7.67 182.67-8.13 182.69-8.59 182.69-9.13 182.69-9.67 182.69-10.13 182.69-10.6 182.69-10.79L182.69-10.79Q182.64-11.67 182.64-13.06 182.64-14.45 182.42-15.92 182.2-17.38 181.54-18.7 180.89-20.02 179.42-20.7L179.42-20.7Q178.4-20.7 177.52-20.36 176.64-20.02 175.76-19.63 174.88-19.24 174-18.92 173.12-18.6 172.1-18.6L172.1-18.6Q172.1-19.82 172.85-20.63 173.61-21.44 174.68-21.88 175.76-22.31 176.93-22.46 178.1-22.61 178.98-22.61L178.98-22.61Q179.86-22.46 180.62-22.27 181.37-22.07 182.03-21.48 182.69-20.9 183.25-19.7 183.82-18.51 184.23-16.36 184.65-14.21 184.96-10.91 185.28-7.62 185.48-2.83L185.48-2.83Q185.57-2.2 185.06-1.73 184.55-1.27 183.67-0.95 182.79-0.63 181.69-0.42 180.59-0.2 179.47-0.1 178.35 0 177.32 0.05 176.3 0.1 175.61 0.1L175.61 0.1Q174.73 0.1 173.83-0.2 172.93-0.49 172.17-1.05 171.41-1.61 170.95-2.42 170.49-3.22 170.49-4.2ZM176.83-7.62L176.83-7.62Q174.39-6.93 173.42-5.98 172.44-5.03 172.56-4.15 172.68-3.27 173.71-2.56 174.73-1.86 176.2-1.64 177.66-1.42 179.37-1.88 181.08-2.34 182.64-3.71L182.64-3.71Q182.06-5.13 181.47-5.88 180.89-6.64 180.2-7.03 179.52-7.42 178.69-7.52 177.86-7.62 176.83-7.62ZM188.6-37.94L188.6-37.94Q189.28-37.84 189.79-37.57 190.31-37.3 190.6-36.62L190.6-36.62Q190.6-35.69 190.67-34.06 190.75-32.42 190.82-30.27 190.89-28.13 190.99-25.63 191.09-23.14 191.19-20.61 191.28-18.07 191.36-15.58 191.43-13.09 191.5-10.94 191.58-8.79 191.63-7.13 191.67-5.47 191.72-4.59L191.72-4.59Q191.72-4.49 191.7-4.25 191.67-4 191.65-3.66 191.63-3.32 191.6-3 191.58-2.69 191.58-2.54L191.58-2.54Q191.53-2.25 191.53-1.83 191.53-1.42 191.43-1.03 191.33-0.63 191.11-0.32 190.89 0 190.4 0.05L190.4 0.05 189.57-0.98Q189.53-1.03 189.45-2.81 189.38-4.59 189.26-7.45 189.14-10.3 189.04-13.89 188.94-17.48 188.82-21.14 188.7-24.8 188.6-28.17 188.5-31.54 188.45-33.98L188.45-33.98Q188.45-34.18 188.48-34.77 188.5-35.35 188.52-35.96 188.55-36.57 188.57-37.13 188.6-37.7 188.6-37.94ZM226.58-17.58L226.58-17.58Q226.43-17.04 226.12-15.87 225.8-14.7 225.39-13.23 224.97-11.77 224.51-10.16 224.04-8.54 223.6-7.08 223.16-5.62 222.82-4.47 222.48-3.32 222.33-2.83L222.33-2.83Q222.24-2.34 222.04-1.78 221.85-1.22 221.6-0.93 221.36-0.63 221.06-0.78 220.77-0.93 220.48-1.86L220.48-1.86 212.96-35.64Q213.1-35.64 213.45-35.72 213.79-35.79 213.93-35.79L213.93-35.79Q214.91-35.79 215.23-35.38 215.55-34.96 215.79-33.74L215.79-33.74 221.41-8.4 225.17-20.61Q225.36-21.19 225.73-21.39 226.09-21.58 226.58-21.58L226.58-21.58Q226.97-21.19 227.7-20.14 228.44-19.09 229.29-17.7 230.15-16.31 231.07-14.72 232-13.13 232.86-11.72 233.71-10.3 234.39-9.16 235.08-8.01 235.47-7.52L235.47-7.52Q235.61-7.28 235.98-6.86 236.35-6.45 236.79-6.01 237.23-5.57 237.67-5.18 238.1-4.79 238.3-4.69L238.3-4.69Q238.25-6.3 238.15-8.52 238.06-10.74 237.96-13.33 237.86-15.92 237.84-18.73 237.81-21.53 237.93-24.29 238.06-27.05 238.35-29.61 238.64-32.18 239.13-34.33L239.13-34.33Q239.23-34.67 239.4-34.84 239.57-35.01 239.79-35.06 240.01-35.11 240.38-35.08 240.74-35.06 241.18-35.06L241.18-35.06Q241.18-34.52 241.13-33.76 241.08-33.01 240.99-31.62 240.89-30.22 240.79-27.88 240.69-25.54 240.57-21.83 240.45-18.12 240.35-12.77 240.25-7.42 240.16 0L240.16 0Q238.06-1.66 236.25-3.71 234.44-5.76 232.83-8.08 231.22-10.4 229.68-12.82 228.14-15.23 226.58-17.58ZM243.18-4.2L243.18-4.2Q243.18-6.98 244.72-8.25 246.26-9.52 248.75-9.52L248.75-9.52Q249.72-9.52 250.58-9.47 251.43-9.42 252.21-9.23 252.99-9.03 253.75-8.64 254.51-8.25 255.34-7.52L255.34-7.52Q255.34-7.67 255.36-8.13 255.39-8.59 255.39-9.13 255.39-9.67 255.39-10.13 255.39-10.6 255.39-10.79L255.39-10.79Q255.34-11.67 255.34-13.06 255.34-14.45 255.12-15.92 254.9-17.38 254.24-18.7 253.58-20.02 252.12-20.7L252.12-20.7Q251.09-20.7 250.21-20.36 249.33-20.02 248.45-19.63 247.57-19.24 246.7-18.92 245.82-18.6 244.79-18.6L244.79-18.6Q244.79-19.82 245.55-20.63 246.31-21.44 247.38-21.88 248.45-22.31 249.63-22.46 250.8-22.61 251.68-22.61L251.68-22.61Q252.56-22.46 253.31-22.27 254.07-22.07 254.73-21.48 255.39-20.9 255.95-19.7 256.51-18.51 256.93-16.36 257.34-14.21 257.66-10.91 257.98-7.62 258.17-2.83L258.17-2.83Q258.27-2.2 257.76-1.73 257.24-1.27 256.36-0.95 255.49-0.63 254.39-0.42 253.29-0.2 252.16-0.1 251.04 0 250.02 0.05 248.99 0.1 248.31 0.1L248.31 0.1Q247.43 0.1 246.53-0.2 245.62-0.49 244.86-1.05 244.11-1.61 243.64-2.42 243.18-3.22 243.18-4.2ZM249.53-7.62L249.53-7.62Q247.09-6.93 246.11-5.98 245.13-5.03 245.26-4.15 245.38-3.27 246.4-2.56 247.43-1.86 248.89-1.64 250.36-1.42 252.07-1.88 253.78-2.34 255.34-3.71L255.34-3.71Q254.75-5.13 254.17-5.88 253.58-6.64 252.9-7.03 252.21-7.42 251.38-7.52 250.55-7.62 249.53-7.62ZM271.79 20.17L269.59 20.02Q269.59 17.58 270.03 14.99 270.47 12.4 270.94 9.81 271.4 7.23 271.72 4.64 272.04 2.05 271.79-0.44L271.79-0.44 259.63-21.04Q260.71-22.02 261.34-22.14 261.98-22.27 262.07-22.17L262.07-22.17Q262.42-21.68 263.22-20.36 264.03-19.04 265.08-17.29 266.13-15.53 267.3-13.57 268.47-11.62 269.52-9.86 270.57-8.11 271.33-6.74 272.08-5.37 272.38-4.83L272.38-4.83 274.62-22.95 277.06-21.73 271.79 20.17Z","opacity","1","transform","matrix(1,0,0,1,0,0)","fill","var(--mainWhiteColor)","data-fill-palette-color","primary","id","text-0",1,"wordmark-text-0"],["transform","matrix(1,0,0,1,97.29977228662983,0)"],["viewBox","0 0 200.92045542674032 200.92045542674032","height","200.92045542674032","width","200.92045542674032"],["id","icon-0"],["d","M0 100.46c0-55.483 44.978-100.46 100.46-100.46 55.483 0 100.46 44.978 100.46 100.46 0 55.483-44.978 100.46-100.46 100.46-55.483 0-100.46-44.978-100.46-100.46zM100.46 193.437c51.35 0 92.977-41.627 92.977-92.977 0-51.35-41.627-92.977-92.977-92.977-51.35 0-92.977 41.627-92.977 92.977 0 51.35 41.627 92.977 92.977 92.977z","data-fill-palette-color","accent","fill","var(--mainWhiteColor)","stroke","transparent"],["rx","99.45562543623646","ry","99.45562543623646","cx","100.46022771337016","cy","100.46022771337016","fill","var(--mainWhiteColor)","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,43.57436241056036,43.35758026693677)"],["viewBox","0 0 113.7717306056196 114.20529489286677","height","114.20529489286677","width","113.7717306056196"],["xmlns","http://www.w3.org/2000/svg","data-name","Layer 1","viewBox","1.190000057220459 1.002901315689087 97.62506866455078 97.99710083007812","x","0","y","0","height","114.20529489286677","width","113.7717306056196","data-fill-palette-color","quaternary","id","b-0",1,"icon-b-0"],["d","M79.28 26.63a0.3 0.3 0 0 0 0-0.07 0.28 0.28 0 0 0-0.48-0.19l-7 7a20.24 20.24 0 0 0-6 13v1.87a37.5 37.5 0 0 1 1.67 5.15H54.79a32.9 32.9 0 0 0-5.43-15.13 26.9 26.9 0 0 1-7.74 5.77 22.2 22.2 0 0 1-6.34 2.06c-9.9 1.51-22.3-5-28.35-41.61a1.86 1.86 0 0 1 1.55-2.05c47.44-6.69 50.2 11.7 47.85 22.85a51.5 51.5 0 0 0-19.69-6.14h-0.11a0.43 0.43 0 0 0-0.18 0.76l11.58 8.5 5.84 4.31a37.3 37.3 0 0 1 6.08 5.85 24.8 24.8 0 0 1 5-6.15 17.7 17.7 0 0 1-2.54-5 14.8 14.8 0 0 1-0.65-4.41c0-6.65 5.53-14.14 30.18-14.44a1.23 1.23 0 0 1 1.24 1.23c-0.38 31.82-12.74 31.78-19.82 29.12a34.2 34.2 0 0 0 6.02-12.28M28.65 93h34.63a16.16 16.16 0 0 0 12.18-5.54l21.68-24.79a6.79 6.79 0 0 0-0.79-9.7 6.55 6.55 0 0 0-4.2-1.49 7.24 7.24 0 0 0-5.38 2.43l-10.2 11.35v0.16a11.85 11.85 0 0 1-11.89 11.26H52.21a2.54 2.54 0 1 1 0-5.08h12.47a6.72 6.72 0 0 0 6.81-6.34A6.54 6.54 0 0 0 65 58.52H44.19l-3.37-1.18a23.42 23.42 0 0 0-24.26 5.49L1.19 78.1 22.64 99Z","fill","var(--textColor)","data-fill-palette-color","quaternary"],["width","302.6252517497624","height","247.2","fill","none","stroke","none","visibility","hidden"],[1,"main-long"],[1,"wrapper-list"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"]],template:function(h,m){if(1&h&&(u.YNc(0,tt,41,0,"div",0),u.YNc(1,It,8,1,"ng-template",null,1,u.W1O)),2&h){const T=u.MAs(2);u.Q6J("ngIf",!m.result)("ngIfElse",T)}},dependencies:[le.sg,le.O5,ce.rH],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:20px;margin-bottom:100px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 461px) and (max-width: 767px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return l})();const Vn=(l,f)=>(0,u.f3M)(Oe.K).userData$.pipe((0,we.w)(h=>(0,fe.of)(!h)),(0,de.U)(h=>!!h||(window.alert("You are already logged in. Please log out to access this functionality."),!1))),W=[{path:"",pathMatch:"full",component:(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-carousel"]],decls:24,vars:0,consts:[["id","carouselExampleAutoplaying","data-bs-ride","carousel",1,"carousel","slide"],[1,"overlay"],[1,"info"],[1,"carousel-title"],[1,"subtitle"],["routerLink","/recipes-list",1,"infoBtn"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://www.aveeno.com/sites/aveeno_us_2/files/healingherbswithmortaran_687349.jpg","alt","...",1,"carousel-img","d-block","w-100"],[1,"carousel-item"],["src","https://imgix-prod.sgs.com/-/media/sgscorp/images/connectivity-and-products/aromatics-pexels.cdn.en-MU.1.jpg","alt","...",1,"carousel-img","d-block","w-100"],["src","https://images.pexels.com/photos/1793035/pexels-photo-1793035.jpeg","alt","...",1,"carousel-img","d-block","w-100"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(h,m){1&h&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),u._uU(4,"Welcome to our Healing Herbal Recipe Community!"),u.qZA(),u.TgZ(5,"div",4),u._uU(6," Explore a wealth of new herbal recipes designed for healing right here. Upon registration, you'll gain access to not only adding your favorite healing recipes but also rating and commenting on the ones that resonate with you. Join us in nurturing wellness through the power of herbal remedies! "),u.qZA(),u.TgZ(7,"a",5),u._uU(8,"READ MORE"),u.qZA()()(),u.TgZ(9,"div",6)(10,"div",7),u._UZ(11,"img",8),u.qZA(),u.TgZ(12,"div",9),u._UZ(13,"img",10),u.qZA(),u.TgZ(14,"div",9),u._UZ(15,"img",11),u.qZA()(),u.TgZ(16,"button",12),u._UZ(17,"span",13),u.TgZ(18,"span",14),u._uU(19,"Previous"),u.qZA()(),u.TgZ(20,"button",15),u._UZ(21,"span",16),u.TgZ(22,"span",14),u._uU(23,"Next"),u.qZA()()())},dependencies:[ce.rH],styles:[".carousel[_ngcontent-%COMP%]{max-height:93vh;overflow:hidden}.carousel-img[_ngcontent-%COMP%]{height:100vh;object-fit:cover}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{z-index:9}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0 50% 0 0;background-color:#a7575ee6;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:47%;right:10%;top:40%;transform:translate(2%,-27%);color:var(--mainWhiteColor);text-align:left}.carousel-title[_ngcontent-%COMP%]{font-size:32px;padding-bottom:20px;font-weight:900;line-height:35px;color:var(--backgroundColor);text-align:left;box-shadow:unset}.subtitle[_ngcontent-%COMP%]{font-style:italic;color:var(--backgroundColor)}.infoBtn[_ngcontent-%COMP%]{background-color:var(--backgroundColor);color:var(--textColor);padding:13px 35px;font-size:14px;margin-top:40px;display:inline-block;font-weight:700;font-family:Roboto,sans-serif;border:1px solid transparent}.infoBtn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:transparent;border:1px solid var(--backgroundColor);color:var(--mainWhiteColor)}@media (max-width: 460px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#a7575e99;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.infoBtn[_ngcontent-%COMP%]{margin-top:10px}.carousel-title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900;text-align:center}}@media (min-width: 461px) and (max-width: 767px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#a7575e99;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.infoBtn[_ngcontent-%COMP%]{margin-top:10px}.carousel-title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900}}@media (min-width: 768px) and (max-width: 1023px){.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor)}}"]})}return l})()},{path:"register",component:Ge,canActivate:[Vn]},{path:"login",component:Bn,canActivate:[Vn]},{path:"recipes-list",component:Je},{path:"recipe-search",component:Wt},{path:"recipe/:id",component:_i},{path:"about",component:(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-about-us"]],decls:22,vars:0,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],[2,"color","var(--mainGreyColor)"]],template:function(h,m){1&h&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"About Us"),u.qZA()(),u.TgZ(7,"div",6)(8,"p"),u._uU(9,"Welcome to our Healing Herbal Recipe Community!"),u.qZA(),u.TgZ(10,"p"),u._uU(11," Hello and welcome to our cozy corner dedicated to the power of herbs for health and well-being! We are passionate enthusiasts of herbal healing recipes and have decided to create this space where people from all over the world can come together to share their knowledge, experience, and love for herbal remedies. "),u.qZA(),u.TgZ(12,"p"),u._uU(13," We believe in the healing power of nature and strive to provide our users with a wealth of resources and inspiring ideas to improve their health and well-being. Our mission is to create a space where people can find recipes and support from the community to feel healthier and stronger. "),u.qZA(),u.TgZ(14,"p"),u._uU(15," Join us today and become part of our Healing Herbal Recipe Community! Together, we can achieve good heath and well-being through the power of nature and community. "),u.qZA(),u.TgZ(16,"p"),u._uU(17," Thank you for choosing to be part of our journey towards health and harmony! "),u.qZA(),u.TgZ(18,"p"),u._uU(19,"With love and gratitude,"),u.qZA(),u.TgZ(20,"p"),u._uU(21,"The Natural Way Team"),u.qZA()()()()())}})}return l})()},{path:"privacy-policy",component:(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-privacy-policy"]],decls:46,vars:0,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],[2,"color","var(--mainGreyColor)"],[2,"font-style","italic"],["routerLink","/contact"]],template:function(h,m){1&h&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Privacy Policy"),u.qZA()(),u.TgZ(7,"div",6)(8,"p",7),u._uU(9,"Last updated: 29.03.2024"),u.qZA(),u.TgZ(10,"p"),u._uU(11,' Welcome to the Privacy Policy of "The Natural Way". Our Privacy Policy explains how we collect, use, and disclose the personal information we receive from visitors to our Website. '),u.qZA(),u.TgZ(12,"h5"),u._uU(13,"1. Collection of Information"),u.qZA(),u.TgZ(14,"p"),u._uU(15," When you visit the Website, we may collect certain information from and about you. This information may include, but is not limited to: "),u.TgZ(16,"span",7),u._uU(17," Personal data such as names, email addresses, mailing addresses, etc., that you voluntarily provide to us through contact forms or account registration. Information about your computer, including IP address, browser type, operating system, and similar data for trend analysis, Website management, and protection against abuse. "),u.qZA()(),u.TgZ(18,"h5"),u._uU(19,"2. Use of Information"),u.qZA(),u.TgZ(20,"p"),u._uU(21," We use the collected information to provide and improve the Website, interact with users, analyze trends, and provide personalized content and advertisements. "),u.qZA(),u.TgZ(22,"h5"),u._uU(23,"3. Disclosure of Information"),u.qZA(),u.TgZ(24,"p"),u._uU(25," We may disclose personal information to our partners, service providers, and other third parties when necessary to provide services and perform tasks related to Website management. "),u.qZA(),u.TgZ(26,"h5"),u._uU(27,"4. Cookies and Similar Technologies"),u.qZA(),u.TgZ(28,"p"),u._uU(29," Our Cookie Policy explains how we use cookies and similar technologies that may be used on our Website. "),u.qZA(),u.TgZ(30,"h5"),u._uU(31,"5. Changes to the Privacy Policy"),u.qZA(),u.TgZ(32,"p"),u._uU(33," We may update this Privacy Policy from time to time. Any changes to this Privacy Policy will be posted on this page. "),u.qZA(),u.TgZ(34,"h5"),u._uU(35,"6. Linked Services and Websites"),u.qZA(),u.TgZ(36,"p"),u._uU(37," The Website may contain links to other websites and services that are not under our control. We are not responsible for the content and practices of these websites, and we encourage you to review the privacy policies of each website you visit. "),u.qZA(),u.TgZ(38,"h5"),u._uU(39,"7. Contact Information"),u.qZA(),u.TgZ(40,"p"),u._uU(41," For additional information regarding our Privacy Policy, please contact us at "),u.TgZ(42,"span")(43,"a",8),u._uU(44,"Contact Us"),u.qZA(),u._uU(45," page. "),u.qZA()()()()()())},dependencies:[ce.rH]})}return l})()},{path:"contact",component:(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-contact-us"]],decls:28,vars:0,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],[2,"color","var(--mainGreyColor)"],["href","mailto:andon.ov@yahoo.com"]],template:function(h,m){1&h&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Contact Us"),u.qZA()(),u.TgZ(7,"div",6)(8,"p"),u._uU(9," For any inquiries or questions, please feel free to contact us. We're here to help! "),u.qZA(),u.TgZ(10,"div")(11,"p")(12,"strong"),u._uU(13,"Address:"),u.qZA(),u._uU(14," San Stefano , Burgas, Bulgaria"),u.qZA(),u.TgZ(15,"p")(16,"strong"),u._uU(17,"Phone:"),u.qZA(),u._uU(18," +359 885 996789"),u.qZA(),u.TgZ(19,"p")(20,"strong"),u._uU(21,"Email:"),u.qZA(),u.TgZ(22,"a",7),u._uU(23," Andon.ov@yahoo.com"),u.qZA()()(),u._UZ(24,"hr"),u.TgZ(25,"div")(26,"p"),u._uU(27," This project was developed to meet the requirements of the Angular Project Assignment within the 'Angular - February 2024' course at SoftUni. "),u.qZA()()()()()())}})}return l})()},{path:"dashboard",loadChildren:()=>Q.e(155).then(Q.bind(Q,3155)).then(l=>l.PrivateModule),canActivate:[(l,f)=>{const o=(0,u.f3M)(Oe.K),h=(0,u.f3M)(ce.F0);return o.userData$.pipe((0,we.w)(m=>(0,fe.of)(!!m&&m.isActive)),(0,de.U)(m=>!!m||(alert("Not authorized"),console.log("Not authorized"),h.createUrlTree(["/login"],{queryParams:{returnUrl:f.url}}))))}]}];let $=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({imports:[ce.Bz.forRoot(W,{useHash:!0}),ce.Bz]})}return l})(),be=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-footer"]],decls:20,vars:0,consts:[[1,"footer"],[1,"footer-links"],["routerLink","/about"],["routerLink","/contact"],["routerLink","/privacy-policy"],[1,"social-icons"],["href","https://github.com/andon-ov","target","_blank"],[1,"fa-brands","fa-github","fa-flip"],["href","https://linkedin.com/in/andon-ov","target","_blank"],[1,"fa-brands","fa-linkedin","fa-flip"],[1,"copyright"],[1,"projectInfo"]],template:function(h,m){1&h&&(u.TgZ(0,"footer",0)(1,"div",1)(2,"a",2),u._uU(3,"About Us"),u.qZA(),u._uU(4," | "),u.TgZ(5,"a",3),u._uU(6,"Contact Us"),u.qZA(),u._uU(7," | "),u.TgZ(8,"a",4),u._uU(9,"Privacy Policy"),u.qZA()(),u.TgZ(10,"div",5)(11,"a",6),u._UZ(12,"i",7),u.qZA(),u.TgZ(13,"a",8),u._UZ(14,"i",9),u.qZA()(),u.TgZ(15,"div",10)(16,"div",11),u._uU(17," This project was developed to meet the requirements of the Angular Project Assignment within the 'Angular - February 2024' course at SoftUni. "),u.qZA(),u.TgZ(18,"span"),u._uU(19," \xa9 2024 The Natural Way. All Rights Reserved. "),u.qZA()()())},dependencies:[ce.rH],styles:[".footer[_ngcontent-%COMP%]{background-color:var(--aliceBlueColor);padding:20px;color:#333;font-size:14px;text-align:center}.footer-links[_ngcontent-%COMP%]{padding:20px 0}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none;margin:0 10px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--mainBlackColor)}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none;margin:0 10px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--textColor)}.copyright[_ngcontent-%COMP%]{margin-top:20px;font-size:12px;color:#999}.projectInfo[_ngcontent-%COMP%]{margin-bottom:10px}"]})}return l})();var We=Q(5619);class Tt{}class on{}const Xt="*";function Dn(l,f){return{type:7,name:l,definitions:f,options:{}}}function $t(l,f=null){return{type:4,styles:f,timings:l}}function jr(l,f=null){return{type:2,steps:l,options:f}}function Yn(l){return{type:6,styles:l,offset:null}}function Ns(l,f,o){return{type:0,name:l,styles:f,options:o}}function es(l,f,o=null){return{type:1,expr:l,animation:f,options:o}}class Pi{constructor(f=0,o=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=f+o}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}onStart(f){this._originalOnStartFns.push(f),this._onStartFns.push(f)}onDone(f){this._originalOnDoneFns.push(f),this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(f=>f()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(f){this._position=this.totalTime?f*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(f){const o="start"==f?this._onStartFns:this._onDoneFns;o.forEach(h=>h()),o.length=0}}class ts{constructor(f){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=f;let o=0,h=0,m=0;const T=this.players.length;0==T?queueMicrotask(()=>this._onFinish()):this.players.forEach(k=>{k.onDone(()=>{++o==T&&this._onFinish()}),k.onDestroy(()=>{++h==T&&this._onDestroy()}),k.onStart(()=>{++m==T&&this._onStart()})}),this.totalTime=this.players.reduce((k,J)=>Math.max(k,J.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this.players.forEach(f=>f.init())}onStart(f){this._onStartFns.push(f)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(f=>f()),this._onStartFns=[])}onDone(f){this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(f=>f.play())}pause(){this.players.forEach(f=>f.pause())}restart(){this.players.forEach(f=>f.restart())}finish(){this._onFinish(),this.players.forEach(f=>f.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(f=>f.destroy()),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}reset(){this.players.forEach(f=>f.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(f){const o=f*this.totalTime;this.players.forEach(h=>{const m=h.totalTime?Math.min(1,o/h.totalTime):1;h.setPosition(m)})}getPosition(){const f=this.players.reduce((o,h)=>null===o||h.totalTime>o.totalTime?h:o,null);return null!=f?f.getPosition():0}beforeDestroy(){this.players.forEach(f=>{f.beforeDestroy&&f.beforeDestroy()})}triggerCallback(f){const o="start"==f?this._onStartFns:this._onDoneFns;o.forEach(h=>h()),o.length=0}}let $s=(()=>{class l{constructor(o,h){this.el=o,this.renderer=h}ngOnInit(){this.checkWidth()}onResize(){this.checkWidth()}checkWidth(){window.innerWidth<992?(this.renderer.addClass(this.el.nativeElement,"button"),this.renderer.addClass(this.el.nativeElement,"nav-btn"),this.renderer.addClass(this.el.nativeElement,"nav-link"),this.renderer.removeClass(this.el.nativeElement,"navigation")):(this.renderer.removeClass(this.el.nativeElement,"button"),this.renderer.removeClass(this.el.nativeElement,"nav-link"),this.renderer.removeClass(this.el.nativeElement,"nav-btn"),this.renderer.addClass(this.el.nativeElement,"navigation"))}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(u.SBq),u.Y36(u.Qsj))};static#t=this.\u0275dir=u.lG2({type:l,selectors:[["","appResponsiveClass",""]],hostBindings:function(h,m){1&h&&u.NdJ("resize",function(){return m.onResize()},!1,u.Jf7)}})}return l})();function co(l,f){1&l&&(u.TgZ(0,"li",19)(1,"a",20),u._UZ(2,"i",27),u.qZA(),u.TgZ(3,"ul",28)(4,"li")(5,"a",29),u._uU(6,"Register"),u.qZA()(),u.TgZ(7,"li")(8,"a",30),u._uU(9,"Login"),u.qZA()()()())}function Ao(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"li",19)(1,"a",20)(2,"span"),u._uU(3),u.qZA()(),u.TgZ(4,"ul",28)(5,"li")(6,"a",31),u._uU(7,"My recipes"),u.qZA()(),u.TgZ(8,"li")(9,"a",32),u._uU(10,"Create recipe"),u.qZA()(),u.TgZ(11,"li")(12,"a",33),u._uU(13,"Favorite recipes"),u.qZA()(),u.TgZ(14,"li")(15,"a",34),u._uU(16,"My comments"),u.qZA()(),u.TgZ(17,"li")(18,"a",35),u._uU(19,"Profile"),u.qZA()(),u.TgZ(20,"li")(21,"a",36),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.logout())}),u._uU(22,"Logout"),u.qZA()()()()}if(2&l){const o=u.oxw();u.xp6(3),u.Oqu(o.getUserDisplayName())}}function aa(l,f){1&l&&(u.TgZ(0,"div",38),u._uU(1," What are you searching for? "),u.qZA())}function Os(l,f){1&l&&(u.TgZ(0,"div",38),u._uU(1," Min length is a 3 char! "),u.qZA())}function zs(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,aa,2,0,"div",37),u.YNc(2,Os,2,0,"div",37),u.qZA()),2&l){const o=u.oxw();let h,m;u.xp6(1),u.Q6J("ngIf",null==(h=o.searchForm.get("search"))||null==h.errors?null:h.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.searchForm.get("search"))||null==m.errors?null:m.errors.minlength)}}let di=(()=>{class l{constructor(o,h,m,T){this.userService=o,this.router=h,this.fb=m,this.elementRef=T,this.state="normal",this.searchForm=this.fb.group({search:[""]}),this.isMenuOpen=!1,this.userDataSubject=new We.X(null),this.userDataSubscription=this.userDataSubject.subscribe(k=>{this.userData=k,console.log(this.userData)})}onMouseOver(){this.state="hovered"}onMouseOut(){this.state="normal"}ngOnInit(){this.userService.userData$.subscribe({next:o=>{o?(this.userDataSubject.next(o),console.log("You have a user:",o)):(this.userDataSubject.next(null),console.log("You have no user."))},error:o=>{console.log(o)}}),this.router.events.subscribe(o=>{if(o instanceof ce.m2){const h=this.elementRef.nativeElement.querySelector("#navbarScroll");h&&h.classList.remove("show")}})}onSubmit(){var o=this;return(0,Ee.Z)(function*(){if(o.searchForm.valid){let h=o.searchForm.value;h&&h.search?(yield o.router.navigate(["/recipe-search"],{queryParams:{search:h.search.trim()}}),o.searchForm.reset()):console.error("Query search value is null or undefined.")}else alert("Try again!")})()}ngOnDestroy(){this.userDataSubscription.unsubscribe()}logout(){var o=this;return(0,Ee.Z)(function*(){yield o.userService.logoutUser()})()}getUserDisplayName(){return this.userData?this.userData.lastName:"Anonymous"}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(Oe.K),u.Y36(ce.F0),u.Y36(re.qu),u.Y36(u.SBq))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-header"]],decls:34,vars:5,consts:[[1,"navbar","navbar-dark","navbar-expand-lg"],[1,"container-fluid"],[1,"header-wrapper"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","hamburger",3,"mouseover","mouseout"],[1,"fa-solid","fa-bars","fa-beat-fade"],["href","#",1,"navbar-brand"],["viewBox","0 0 200.92045542674032 200.92045542674032","height","50","width","50",1,"svg-logo"],["d","M0 100.46c0-55.483 44.978-100.46 100.46-100.46 55.483 0 100.46 44.978 100.46 100.46 0 55.483-44.978 100.46-100.46 100.46-55.483 0-100.46-44.978-100.46-100.46zM100.46 193.437c51.35 0 92.977-41.627 92.977-92.977 0-51.35-41.627-92.977-92.977-92.977-51.35 0-92.977 41.627-92.977 92.977 0 51.35 41.627 92.977 92.977 92.977z","data-fill-palette-color","accent","fill","var(--aliceBlueColor)","stroke","transparent"],["rx","99.45562543623646","ry","99.45562543623646","cx","100.46022771337016","cy","100.46022771337016","fill","var(--mainRGBAColor)","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,43.57436241056036,43.35758026693677)"],["viewBox","0 0 113.7717306056196 114.20529489286677","height","114.20529489286677","width","113.7717306056196"],["xmlns","http://www.w3.org/2000/svg","data-name","Layer 1","viewBox","1.190000057220459 1.002901315689087 97.62506866455078 97.99710083007812","x","0","y","0","height","114.20529489286677","width","113.7717306056196","data-fill-palette-color","quaternary","id","b-0",1,"icon-b-0"],["d","M79.28 26.63a0.3 0.3 0 0 0 0-0.07 0.28 0.28 0 0 0-0.48-0.19l-7 7a20.24 20.24 0 0 0-6 13v1.87a37.5 37.5 0 0 1 1.67 5.15H54.79a32.9 32.9 0 0 0-5.43-15.13 26.9 26.9 0 0 1-7.74 5.77 22.2 22.2 0 0 1-6.34 2.06c-9.9 1.51-22.3-5-28.35-41.61a1.86 1.86 0 0 1 1.55-2.05c47.44-6.69 50.2 11.7 47.85 22.85a51.5 51.5 0 0 0-19.69-6.14h-0.11a0.43 0.43 0 0 0-0.18 0.76l11.58 8.5 5.84 4.31a37.3 37.3 0 0 1 6.08 5.85 24.8 24.8 0 0 1 5-6.15 17.7 17.7 0 0 1-2.54-5 14.8 14.8 0 0 1-0.65-4.41c0-6.65 5.53-14.14 30.18-14.44a1.23 1.23 0 0 1 1.24 1.23c-0.38 31.82-12.74 31.78-19.82 29.12a34.2 34.2 0 0 0 6.02-12.28M28.65 93h34.63a16.16 16.16 0 0 0 12.18-5.54l21.68-24.79a6.79 6.79 0 0 0-0.79-9.7 6.55 6.55 0 0 0-4.2-1.49 7.24 7.24 0 0 0-5.38 2.43l-10.2 11.35v0.16a11.85 11.85 0 0 1-11.89 11.26H52.21a2.54 2.54 0 1 1 0-5.08h12.47a6.72 6.72 0 0 0 6.81-6.34A6.54 6.54 0 0 0 65 58.52H44.19l-3.37-1.18a23.42 23.42 0 0 0-24.26 5.49L1.19 78.1 22.64 99Z","fill","var(--aliceBlueColor)","data-fill-palette-color","quaternary"],[1,"logoText"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","my-2","my-lg-0","navbar-nav-scroll"],[1,"nav-item"],["appResponsiveClass","","routerLink","/recipes-list","href","#","role","button","aria-expanded","false",1,"navigation"],["class","nav-item dropdown",4,"ngIf"],[1,"nav-item","dropdown"],["appResponsiveClass","","href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle"],[1,"fa-solid","fa-magnifying-glass"],[1,"dropdown-menu","search"],["role","search",1,"d-flex","w-100",3,"formGroup","ngSubmit"],["type","search","aria-label","Search","formControlName","search","required","","minlength","3",1,"form-control","me-2"],[4,"ngIf"],["type","submit",1,"search","button"],[1,"fa-solid","fa-user"],[1,"dropdown-menu"],["routerLink","/register",1,"dropdown-item"],["routerLink","/login",1,"dropdown-item"],["routerLink","/dashboard/user-recipes","href","#",1,"dropdown-item"],["routerLink","/dashboard/recipe-create",1,"dropdown-item"],["routerLink","/dashboard/user-favorite-recipes","href","#",1,"dropdown-item"],["routerLink","/dashboard/user-comments","href","#",1,"dropdown-item"],["routerLink","/dashboard/user-info",1,"dropdown-item"],[1,"dropdown-item",3,"click"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(h,m){if(1&h&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"button",3),u.NdJ("mouseover",function(){return m.onMouseOver()})("mouseout",function(){return m.onMouseOut()}),u.TgZ(4,"span"),u._UZ(5,"i",4),u.qZA()(),u.TgZ(6,"a",5),u.O4$(),u.TgZ(7,"svg",6)(8,"g"),u._UZ(9,"path",7)(10,"ellipse",8),u.qZA(),u.TgZ(11,"g",9)(12,"svg",10)(13,"g")(14,"svg",11),u._UZ(15,"path",12),u.qZA()()()()(),u.kcU(),u.TgZ(16,"span",13),u._uU(17," The Natural Way "),u.qZA()()(),u.TgZ(18,"div",14)(19,"ul",15)(20,"li",16)(21,"a",17),u._uU(22," Recipes "),u.qZA()(),u.YNc(23,co,10,0,"li",18),u.YNc(24,Ao,23,1,"li",18),u.TgZ(25,"li",19)(26,"a",20),u._UZ(27,"i",21),u.qZA(),u.TgZ(28,"ul",22)(29,"form",23),u.NdJ("ngSubmit",function(){return m.onSubmit()}),u._UZ(30,"input",24),u.YNc(31,zs,3,2,"div",25),u.TgZ(32,"button",26),u._uU(33,"Search"),u.qZA()()()()()()()()),2&h){let T;u.xp6(3),u.Q6J("@rotate",m.state),u.xp6(20),u.Q6J("ngIf",!m.userData),u.xp6(1),u.Q6J("ngIf",m.userData),u.xp6(5),u.Q6J("formGroup",m.searchForm),u.xp6(2),u.Q6J("ngIf",null==(T=m.searchForm.get("search"))?null:T.touched)}},dependencies:[le.O5,ce.rH,re._Y,re.Fj,re.JJ,re.JL,re.Q7,re.wO,re.sg,re.u,$s],styles:["nav.navbar[_ngcontent-%COMP%]{min-height:7vh;background-color:var(--aliceBlueColor);box-shadow:1px 5px 15px 0 var(--mainRGBAColor)}.container-fluid[_ngcontent-%COMP%]{max-width:1024px}a.navbar-brand[_ngcontent-%COMP%]{display:flex;gap:10px;font-family:Caveat,cursive;font-weight:400;font-size:32px;color:var(--textColor)}.header-wrapper[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center}.hamburger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:4px 2px}.hamburger[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 15px 0 var(--textColor)}button.navbar-toggler[_ngcontent-%COMP%]{background-color:var(--textColor);border:1px solid var(--backgroundColor)}ul.navbar-nav[_ngcontent-%COMP%]{position:relative;display:flex;gap:18px;width:100%;justify-content:flex-end}.navigation[_ngcontent-%COMP%]{color:var(--textColor)}ul.navbar-nav[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]{background-color:var(--backgroundColor);margin-top:18px}a.dropdown-item[_ngcontent-%COMP%]{color:var(--textColor)}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:focus{background-color:var(--textColor);color:var(--backgroundColor)}form[_ngcontent-%COMP%]{max-width:unset}.form-control[_ngcontent-%COMP%]{border:1px solid var(--textColor);border-radius:8px;background-color:var(--backgroundColor)}.form-control[_ngcontent-%COMP%]:focus{box-shadow:unset;background-color:var(--mainMagnoliaColor)}@media (max-width: 991px){.container-fluid[_ngcontent-%COMP%]{justify-content:space-evenly}.svg-logo[_ngcontent-%COMP%]{display:none}.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{background-color:var(--backgroundColor);padding:20px;border-radius:8px}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{border:unset;width:100%}form.d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:15px}}@media (min-width: 992px) and (max-width: 1440px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:900px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}.container-fluid[_ngcontent-%COMP%]{max-width:1200px;padding:0 3%;color:var(--textColor)}}@media (min-width: 1441px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:1000px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}.container-fluid[_ngcontent-%COMP%]{padding:unset;max-width:1200px;color:var(--textColor)}}"],data:{animation:[Dn("rotate",[Ns("normal",Yn({transform:"rotate(0deg)"})),Ns("hovered",Yn({transform:"rotate(180deg)"})),es("normal => hovered",$t("0.5s ease-in-out")),es("hovered => normal",$t("0.5s ease-in-out"))])]}})}return l})();function Ws(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"div",1)(1,"button",2),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.scrollToTop())}),u._UZ(2,"i",3),u.qZA(),u.TgZ(3,"a",4)(4,"div",5)(5,"span",6),u.O4$(),u.TgZ(6,"svg",7),u._UZ(7,"path",8),u.qZA()(),u.kcU(),u.TgZ(8,"span",6),u.O4$(),u.TgZ(9,"svg",9),u._UZ(10,"path",8),u.qZA()()()()()}}let Wi=(()=>{class l{constructor(){this.showScrollButton=!1}onWindowScroll(){this.showScrollButton=window.pageYOffset>300}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-scroll-to-top"]],hostBindings:function(h,m){1&h&&u.NdJ("scroll",function(){return m.onWindowScroll()},!1,u.Jf7)},decls:1,vars:1,consts:[["class","buttons",4,"ngIf"],[1,"buttons"],[1,"to-top",3,"click"],[1,"fa-solid","fa-chevron-up","fa-beat-fade"],["href","javascript:history.back()",1,"back-button"],[1,"button-box"],[1,"button-elem"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],["viewBox","0 0 46 40"]],template:function(h,m){1&h&&u.YNc(0,Ws,11,0,"div",0),2&h&&u.Q6J("ngIf",m.showScrollButton)},dependencies:[le.O5],styles:[".buttons[_ngcontent-%COMP%]{display:flex;gap:10px;position:fixed;bottom:120px;right:10px;flex-direction:column;align-items:center;z-index:10}.to-top[_ngcontent-%COMP%]{background-color:var(--mainRGBAColor);color:var(--backgroundColor);border:3px solid var(--backgroundColor);border-radius:50%;width:60px;height:60px;font-size:16px;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{color:var(--textColor);background-color:var(--backgroundColor);box-shadow:0 0 15px 0 var(--textColor)}button[_ngcontent-%COMP%]:focus{outline:none}button.ng-hidden[_ngcontent-%COMP%]{display:none}"]})}return l})(),ec=(()=>{class l{constructor(){this.title="The-Natural-Way"}static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-root"]],decls:4,vars:0,template:function(h,m){1&h&&u._UZ(0,"app-header")(1,"app-scroll-to-top")(2,"router-outlet")(3,"app-footer")},dependencies:[ce.lC,be,di,Wi]})}return l})();var cs=Q(9286),Pa=Q(8726);let ca=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=u.oAB({type:l}),l.\u0275inj=u.cJS({imports:[[]]}),l})();var ki=Q(5592),hi=Q(6232),$r=Q(8645),Fi=Q(4829),Ms=Q(1631),vc=Q(4266),oi=Q(4674),pl=Q(7400);const Gi=["addListener","removeListener"],gl=["addEventListener","removeEventListener"],Fa=["on","off"];function Ei(l,f,o,h){if((0,oi.m)(o)&&(h=o,o=void 0),h)return Ei(l,f,o).pipe((0,pl.Z)(h));const[m,T]=function ml(l){return(0,oi.m)(l.addEventListener)&&(0,oi.m)(l.removeEventListener)}(l)?gl.map(k=>J=>l[k](f,J,o)):function La(l){return(0,oi.m)(l.addListener)&&(0,oi.m)(l.removeListener)}(l)?Gi.map(No(l,f)):function Zo(l){return(0,oi.m)(l.on)&&(0,oi.m)(l.off)}(l)?Fa.map(No(l,f)):[];if(!m&&(0,vc.z)(l))return(0,Ms.z)(k=>Ei(k,f,o))((0,Fi.Xf)(l));if(!m)throw new TypeError("Invalid event target");return new ki.y(k=>{const J=(...ue)=>k.next(1<ue.length?ue:ue[0]);return m(J),()=>T(J)})}function No(l,f){return o=>h=>l[o](f,h)}var Zs=Q(6321),la=Q(671);const{isArray:Yo}=Array;function sr(l){return 1===l.length&&Yo(l[0])?l[0]:l}var Lr=Q(8251);Q(3019);var ji=Q(9940);function xs(...l){const f=(0,ji.jO)(l),o=sr(l);return o.length?new ki.y(h=>{let m=o.map(()=>[]),T=o.map(()=>!1);h.add(()=>{m=T=null});for(let k=0;!h.closed&&k<o.length;k++)(0,Fi.Xf)(o[k]).subscribe((0,Lr.x)(h,J=>{if(m[k].push(J),m.every(ue=>ue.length)){const ue=m.map(ge=>ge.shift());h.next(f?f(...ue):ue),m.some((ge,Te)=>!ge.length&&T[Te])&&h.complete()}},()=>{T[k]=!0,!m[k].length&&h.complete()}));return()=>{m=T=null}}):hi.E}var Di=Q(5211),Br=Q(9773),zn=Q(2181),xt=Q(8180),kn=Q(9397),Sr=Q(9360),Bi=Q(2737),Ks=Q(2420);function qr(...l){const f=(0,ji.jO)(l);return(0,Sr.e)((o,h)=>{const m=l.length,T=new Array(m);let k=l.map(()=>!1),J=!1;for(let ue=0;ue<m;ue++)(0,Fi.Xf)(l[ue]).subscribe((0,Lr.x)(h,ge=>{T[ue]=ge,!J&&!k[ue]&&(k[ue]=!0,(J=k.every(Bi.y))&&(k=null))},Ks.Z));o.subscribe((0,Lr.x)(h,ue=>{if(J){const ge=[ue,...T];h.next(f?f(...ge):ge)}}))})}Q(975),Q(7921),Q(3997),Math,Math,Math;const dr=["*"],mu=["dialog"];function ps(l){return"string"==typeof l}function Tu(l){return null!=l}function rd(l){return(l||document.body).getBoundingClientRect()}const yg={animation:!0,transitionTimerDelayMs:5},qf=()=>{},{transitionTimerDelayMs:g_}=yg,Du=new Map,za=(l,f,o,h)=>{let m=h.context||{};const T=Du.get(f);if(T)switch(h.runningTransition){case"continue":return hi.E;case"stop":l.run(()=>T.transition$.complete()),m=Object.assign(T.context,m),Du.delete(f)}const k=o(f,h.animation,m)||qf;if(!h.animation||"none"===window.getComputedStyle(f).transitionProperty)return l.run(()=>k()),(0,fe.of)(void 0).pipe(function _g(l){return f=>new ki.y(o=>f.subscribe({next:k=>l.run(()=>o.next(k)),error:k=>l.run(()=>o.error(k)),complete:()=>l.run(()=>o.complete())}))}(l));const J=new $r.x,ue=new $r.x,ge=J.pipe(function nc(...l){return f=>(0,Di.z)(f,(0,fe.of)(...l))}(!0));Du.set(f,{transition$:J,complete:()=>{ue.next(),ue.complete()},context:m});const Te=function jd(l){const{transitionDelay:f,transitionDuration:o}=window.getComputedStyle(l);return 1e3*(parseFloat(f)+parseFloat(o))}(f);return l.runOutsideAngular(()=>{const Ye=Ei(f,"transitionend").pipe((0,Br.R)(ge),(0,zn.h)(({target:ft})=>ft===f));(function Li(...l){return 1===(l=sr(l)).length?(0,Fi.Xf)(l[0]):new ki.y(function ls(l){return f=>{let o=[];for(let h=0;o&&!f.closed&&h<l.length;h++)o.push((0,Fi.Xf)(l[h]).subscribe((0,Lr.x)(f,m=>{if(o){for(let T=0;T<o.length;T++)T!==h&&o[T].unsubscribe();o=null}f.next(m)})))}}(l))})(function lo(l=0,f,o=Zs.P){let h=-1;return null!=f&&((0,la.K)(f)?o=f:h=f),new ki.y(m=>{let T=function Ko(l){return l instanceof Date&&!isNaN(l)}(l)?+l-o.now():l;T<0&&(T=0);let k=0;return o.schedule(function(){m.closed||(m.next(k++),0<=h?this.schedule(void 0,h):m.complete())},T)})}(Te+g_).pipe((0,Br.R)(ge)),Ye,ue).pipe((0,Br.R)(ge)).subscribe(()=>{Du.delete(f),l.run(()=>{k(),J.next(),J.complete()})})}),J.asObservable()};let Wl=(()=>{class l{constructor(){this.animation=yg.animation}static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),ql=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Oh=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Rh=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Tv=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})();var Ii=function(l){return l[l.Tab=9]="Tab",l[l.Enter=13]="Enter",l[l.Escape=27]="Escape",l[l.Space=32]="Space",l[l.PageUp=33]="PageUp",l[l.PageDown=34]="PageDown",l[l.End=35]="End",l[l.Home=36]="Home",l[l.ArrowLeft=37]="ArrowLeft",l[l.ArrowUp=38]="ArrowUp",l[l.ArrowRight=39]="ArrowRight",l[l.ArrowDown=40]="ArrowDown",l}(Ii||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Lh=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function A_(l){const f=Array.from(l.querySelectorAll(Lh)).filter(o=>-1!==o.tabIndex);return[f[0],f[f.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let nn=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),zv=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})();class Ts{constructor(f,o,h){this.nodes=f,this.viewRef=o,this.componentRef=h}}let Uo=(()=>{class l{constructor(o,h){this._el=o,this._zone=h}ngOnInit(){this._zone.onStable.asObservable().pipe((0,xt.q)(1)).subscribe(()=>{za(this._zone,this._el.nativeElement,(o,h)=>{h&&rd(o),o.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return za(this._zone,this._el.nativeElement,({classList:o})=>o.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(u.SBq),u.Y36(u.R0b))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(h,m){2&h&&(u.Tol("modal-backdrop"+(m.backdropClass?" "+m.backdropClass:"")),u.ekj("show",!m.animation)("fade",m.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[u.jDz],decls:0,vars:0,template:function(h,m){},encapsulation:2})}return l})();class Kl{update(f){}close(f){}dismiss(f){}}const Bg=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],j_=["animation","backdropClass"];class sp{_applyWindowOptions(f,o){Bg.forEach(h=>{Tu(o[h])&&(f[h]=o[h])})}_applyBackdropOptions(f,o){j_.forEach(h=>{Tu(o[h])&&(f[h]=o[h])})}update(f){this._applyWindowOptions(this._windowCmptRef.instance,f),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,f)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,Br.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,Br.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(f,o,h,m){this._windowCmptRef=f,this._contentRef=o,this._backdropCmptRef=h,this._beforeDismiss=m,this._closed=new $r.x,this._dismissed=new $r.x,this._hidden=new $r.x,f.instance.dismissEvent.subscribe(T=>{this.dismiss(T)}),this.result=new Promise((T,k)=>{this._resolve=T,this._reject=k}),this.result.then(null,()=>{})}close(f){this._windowCmptRef&&(this._closed.next(f),this._resolve(f),this._removeModalElements())}_dismiss(f){this._dismissed.next(f),this._reject(f),this._removeModalElements()}dismiss(f){if(this._windowCmptRef)if(this._beforeDismiss){const o=this._beforeDismiss();!function zf(l){return l&&l.then}(o)?!1!==o&&this._dismiss(f):o.then(h=>{!1!==h&&this._dismiss(f)},()=>{})}else this._dismiss(f)}_removeModalElements(){const f=this._windowCmptRef.instance.hide(),o=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,fe.of)(void 0);f.subscribe(()=>{const{nativeElement:h}=this._windowCmptRef.location;h.parentNode.removeChild(h),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),o.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:h}=this._backdropCmptRef.location;h.parentNode.removeChild(h),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),xs(f,o).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Vg=function(l){return l[l.BACKDROP_CLICK=0]="BACKDROP_CLICK",l[l.ESC=1]="ESC",l}(Vg||{});let Es=(()=>{class l{constructor(o,h,m){this._document=o,this._elRef=h,this._zone=m,this._closed$=new $r.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new $r.x,this.hidden=new $r.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":ps(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(o){this.dismissEvent.emit(o)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,xt.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:o}=this._elRef,h={animation:this.animation,runningTransition:"stop"},k=xs(za(this._zone,o,()=>o.classList.remove("show"),h),za(this._zone,this._dialogEl.nativeElement,()=>{},h));return k.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),k}_show(){const o={animation:this.animation,runningTransition:"continue"};xs(za(this._zone,this._elRef.nativeElement,(T,k)=>{k&&rd(T),T.classList.add("show")},o),za(this._zone,this._dialogEl.nativeElement,()=>{},o)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:o}=this._elRef;this._zone.runOutsideAngular(()=>{Ei(o,"keydown").pipe((0,Br.R)(this._closed$),(0,zn.h)(m=>m.which===Ii.Escape)).subscribe(m=>{this.keyboard?requestAnimationFrame(()=>{m.defaultPrevented||this._zone.run(()=>this.dismiss(Vg.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let h=!1;Ei(this._dialogEl.nativeElement,"mousedown").pipe((0,Br.R)(this._closed$),(0,kn.b)(()=>h=!1),(0,we.w)(()=>Ei(o,"mouseup").pipe((0,Br.R)(this._closed$),(0,xt.q)(1))),(0,zn.h)(({target:m})=>o===m)).subscribe(()=>{h=!0}),Ei(o,"click").pipe((0,Br.R)(this._closed$)).subscribe(({target:m})=>{o===m&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!h&&this._zone.run(()=>this.dismiss(Vg.BACKDROP_CLICK))),h=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:o}=this._elRef;if(!o.contains(document.activeElement)){const h=o.querySelector("[ngbAutofocus]"),m=A_(o)[0];(h||m||o).focus()}}_restoreFocus(){const o=this._document.body,h=this._elWithFocus;let m;m=h&&h.focus&&o.contains(h)?h:o,this._zone.runOutsideAngular(()=>{setTimeout(()=>m.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&za(this._zone,this._elRef.nativeElement,({classList:o})=>(o.add("modal-static"),()=>o.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(le.K0),u.Y36(u.SBq),u.Y36(u.R0b))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["ngb-modal-window"]],viewQuery:function(h,m){if(1&h&&u.Gf(mu,7),2&h){let T;u.iGM(T=u.CRH())&&(m._dialogEl=T.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(h,m){2&h&&(u.uIk("aria-modal",!0)("aria-labelledby",m.ariaLabelledBy)("aria-describedby",m.ariaDescribedBy),u.Tol("modal d-block"+(m.windowClass?" "+m.windowClass:"")),u.ekj("fade",m.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[u.jDz],ngContentSelectors:dr,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(h,m){1&h&&(u.F$t(),u.TgZ(0,"div",0,1)(2,"div",2),u.Hsn(3),u.qZA()()),2&h&&u.Tol("modal-dialog"+(m.size?" modal-"+m.size:"")+(m.centered?" modal-dialog-centered":"")+m.fullscreenClass+(m.scrollable?" modal-dialog-scrollable":"")+(m.modalDialogClass?" "+m.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return l})(),wb=(()=>{class l{constructor(o){this._document=o}hide(){const o=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),h=this._document.body,m=h.style,{overflow:T,paddingRight:k}=m;if(o>0){const J=parseFloat(window.getComputedStyle(h).paddingRight);m.paddingRight=`${J+o}px`}return m.overflow="hidden",()=>{o>0&&(m.paddingRight=k),m.overflow=T}}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(le.K0))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),op=(()=>{class l{constructor(o,h,m,T,k,J,ue){this._applicationRef=o,this._injector=h,this._environmentInjector=m,this._document=T,this._scrollBar=k,this._rendererFactory=J,this._ngZone=ue,this._activeWindowCmptHasChanged=new $r.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const ge=this._windowCmpts[this._windowCmpts.length-1];((l,f,o,h=!1)=>{l.runOutsideAngular(()=>{const m=Ei(f,"focusin").pipe((0,Br.R)(o),(0,de.U)(T=>T.target));Ei(f,"keydown").pipe((0,Br.R)(o),(0,zn.h)(T=>T.which===Ii.Tab),qr(m)).subscribe(([T,k])=>{const[J,ue]=A_(f);(k===J||k===f)&&T.shiftKey&&(ue.focus(),T.preventDefault()),k===ue&&!T.shiftKey&&(J.focus(),T.preventDefault())}),h&&Ei(f,"click").pipe((0,Br.R)(o),qr(m),(0,de.U)(T=>T[1])).subscribe(T=>T.focus())})})(this._ngZone,ge.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(ge.location.nativeElement)}})}_restoreScrollBar(){const o=this._scrollBarRestoreFn;o&&(this._scrollBarRestoreFn=null,o())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(o,h,m){const T=m.container instanceof HTMLElement?m.container:Tu(m.container)?this._document.querySelector(m.container):this._document.body,k=this._rendererFactory.createRenderer(null,null);if(!T)throw new Error(`The specified modal container "${m.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const J=new Kl,ue=(o=m.injector||o).get(u.lqb,null)||this._environmentInjector,ge=this._getContentRef(o,ue,h,J,m);let Te=!1!==m.backdrop?this._attachBackdrop(T):void 0,Ye=this._attachWindowComponent(T,ge.nodes),lt=new sp(Ye,ge,Te,m.beforeDismiss);return this._registerModalRef(lt),this._registerWindowCmpt(Ye),lt.hidden.pipe((0,xt.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(k.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),J.close=ft=>{lt.close(ft)},J.dismiss=ft=>{lt.dismiss(ft)},J.update=ft=>{lt.update(ft)},lt.update(m),1===this._modalRefs.length&&k.addClass(this._document.body,"modal-open"),Te&&Te.instance&&Te.changeDetectorRef.detectChanges(),Ye.changeDetectorRef.detectChanges(),lt}get activeInstances(){return this._activeInstances}dismissAll(o){this._modalRefs.forEach(h=>h.dismiss(o))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(o){let h=(0,u.LMc)(Uo,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(h.hostView),o.appendChild(h.location.nativeElement),h}_attachWindowComponent(o,h){let m=(0,u.LMc)(Es,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:h});return this._applicationRef.attachView(m.hostView),o.appendChild(m.location.nativeElement),m}_getContentRef(o,h,m,T,k){return m?m instanceof u.Rgc?this._createFromTemplateRef(m,T):ps(m)?this._createFromString(m):this._createFromComponent(o,h,m,T,k):new Ts([])}_createFromTemplateRef(o,h){const T=o.createEmbeddedView({$implicit:h,close(k){h.close(k)},dismiss(k){h.dismiss(k)}});return this._applicationRef.attachView(T),new Ts([T.rootNodes],T)}_createFromString(o){const h=this._document.createTextNode(`${o}`);return new Ts([[h]])}_createFromComponent(o,h,m,T,k){const J=u.zs3.create({providers:[{provide:Kl,useValue:T}],parent:o}),ue=(0,u.LMc)(m,{environmentInjector:h,elementInjector:J}),ge=ue.location.nativeElement;return k.scrollable&&ge.classList.add("component-host-scrollable"),this._applicationRef.attachView(ue.hostView),new Ts([[ge]],ue.hostView,ue)}_setAriaHidden(o){const h=o.parentElement;h&&o!==this._document.body&&(Array.from(h.children).forEach(m=>{m!==o&&"SCRIPT"!==m.nodeName&&(this._ariaHiddenValues.set(m,m.getAttribute("aria-hidden")),m.setAttribute("aria-hidden","true"))}),this._setAriaHidden(h))}_revertAriaHidden(){this._ariaHiddenValues.forEach((o,h)=>{o?h.setAttribute("aria-hidden",o):h.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(o){const h=()=>{const m=this._modalRefs.indexOf(o);m>-1&&(this._modalRefs.splice(m,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(o),this._activeInstances.emit(this._modalRefs),o.result.then(h,h)}_registerWindowCmpt(o){this._windowCmpts.push(o),this._activeWindowCmptHasChanged.next(),o.onDestroy(()=>{const h=this._windowCmpts.indexOf(o);h>-1&&(this._windowCmpts.splice(h,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(u.lqb),u.LFG(le.K0),u.LFG(wb),u.LFG(u.FYo),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),Wh=(()=>{class l{constructor(o){this._ngbConfig=o,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(o){this._animation=o}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(Wl))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),rl=(()=>{class l{constructor(o,h,m){this._injector=o,this._modalStack=h,this._config=m}open(o,h={}){const m={...this._config,animation:this._config.animation,...h};return this._modalStack.open(this._injector,o,m)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(o){this._modalStack.dismissAll(o)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(u.zs3),u.LFG(op),u.LFG(Wh))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),Ug=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({providers:[rl]})}return l})(),Ou=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),dp=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),qg=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),q_=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),fp=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Xv=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),pp=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),t0=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),dd=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})();new u.OlP("live announcer delay",{providedIn:"root",factory:function n0(){return 100}});let tm=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),ef=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})();const ny=[ql,Oh,Rh,Tv,nn,zv,Ug,Ou,ef,dp,qg,q_,fp,Xv,pp,t0,dd,tm];let Ab=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({imports:[ny,ql,Oh,Rh,Tv,nn,zv,Ug,Ou,ef,dp,qg,q_,fp,Xv,pp,t0,dd,tm]})}return l})();var ry=Q(2772);function _p(l){return new u.vHH(3e3,!1)}function Ru(l){switch(l.length){case 0:return new Pi;case 1:return l[0];default:return new ts(l)}}function d0(l,f,o=new Map,h=new Map){const m=[],T=[];let k=-1,J=null;if(f.forEach(ue=>{const ge=ue.get("offset"),Te=ge==k,Ye=Te&&J||new Map;ue.forEach((lt,ft)=>{let Rt=ft,Bt=lt;if("offset"!==ft)switch(Rt=l.normalizePropertyName(Rt,m),Bt){case"!":Bt=o.get(ft);break;case Xt:Bt=h.get(ft);break;default:Bt=l.normalizeStyleValue(ft,Rt,Bt,m)}Ye.set(Rt,Bt)}),Te||T.push(Ye),J=Ye,k=ge}),m.length)throw function vp(l){return new u.vHH(3502,!1)}();return T}function wp(l,f,o,h){switch(f){case"start":l.onStart(()=>h(o&&lm(o,"start",l)));break;case"done":l.onDone(()=>h(o&&lm(o,"done",l)));break;case"destroy":l.onDestroy(()=>h(o&&lm(o,"destroy",l)))}}function lm(l,f,o){const T=um(l.element,l.triggerName,l.fromState,l.toState,f||l.phaseName,o.totalTime??l.totalTime,!!o.disabled),k=l._data;return null!=k&&(T._data=k),T}function um(l,f,o,h,m="",T=0,k){return{element:l,triggerName:f,fromState:o,toState:h,phaseName:m,totalTime:T,disabled:!!k}}function qa(l,f,o){let h=l.get(f);return h||l.set(f,h=o),h}function dm(l){const f=l.indexOf(":");return[l.substring(1,f),l.slice(f+1)]}const hm=(()=>typeof document>"u"?null:document.documentElement)();function Pu(l){const f=l.parentNode||l.host||null;return f===hm?null:f}let il=null,h0=!1;function hd(l,f){for(;f;){if(f===l)return!0;f=Pu(f)}return!1}function ku(l,f,o){if(o)return Array.from(l.querySelectorAll(f));const h=l.querySelector(f);return h?[h]:[]}let fm=(()=>{class l{validateStyleProperty(o){return function Pb(l){il||(il=function Ip(){return typeof document<"u"?document.body:null}()||{},h0=!!il.style&&"WebkitAppearance"in il.style);let f=!0;return il.style&&!function Xl(l){return"ebkit"==l.substring(1,6)}(l)&&(f=l in il.style,!f&&h0&&(f="Webkit"+l.charAt(0).toUpperCase()+l.slice(1)in il.style)),f}(o)}matchesElement(o,h){return!1}containsElement(o,h){return hd(o,h)}getParentElement(o){return Pu(o)}query(o,h,m){return ku(o,h,m)}computeStyle(o,h,m){return m||""}animate(o,h,m,T,k,J=[],ue){return new Pi(m,T)}static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac})}return l})(),fd=(()=>{class l{static#e=this.NOOP=new fm}return l})();const Ep=1e3,pm="ng-enter",Dp="ng-leave",ly="ng-trigger",gm=".ng-trigger",p0="ng-animating",uy=".ng-animating";function Ol(l){if("number"==typeof l)return l;const f=l.match(/^(-?[\.\d]+)(m?s)/);return!f||f.length<2?0:nh(parseFloat(f[1]),f[2])}function nh(l,f){return"s"===f?l*Ep:l}function mm(l,f,o){return l.hasOwnProperty("duration")?l:function Mc(l,f,o){let m,T=0,k="";if("string"==typeof l){const J=l.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===J)return f.push(_p()),{duration:0,delay:0,easing:""};m=nh(parseFloat(J[1]),J[2]);const ue=J[3];null!=ue&&(T=nh(parseFloat(ue),J[4]));const ge=J[5];ge&&(k=ge)}else m=l;if(!o){let J=!1,ue=f.length;m<0&&(f.push(function sy(){return new u.vHH(3100,!1)}()),J=!0),T<0&&(f.push(function rm(){return new u.vHH(3101,!1)}()),J=!0),J&&f.splice(ue,0,_p())}return{duration:m,delay:T,easing:k}}(l,f,o)}function rh(l,f={}){return Object.keys(l).forEach(o=>{f[o]=l[o]}),f}function dy(l){const f=new Map;return Object.keys(l).forEach(o=>{f.set(o,l[o])}),f}function xc(l,f=new Map,o){if(o)for(let[h,m]of o)f.set(h,m);for(let[h,m]of l)f.set(h,m);return f}function $n(l,f,o){f.forEach((h,m)=>{const T=pd(m);o&&!o.has(m)&&o.set(m,l.style[T]),l.style[T]=h})}function eu(l,f){f.forEach((o,h)=>{const m=pd(h);l.style[m]=""})}function Fu(l){return Array.isArray(l)?1==l.length?l[0]:jr(l):l}const sh=new RegExp("{{\\s*(.+?)\\s*}}","g");function m0(l){let f=[];if("string"==typeof l){let o;for(;o=sh.exec(l);)f.push(o[1]);sh.lastIndex=0}return f}function Lu(l,f,o){const h=l.toString(),m=h.replace(sh,(T,k)=>{let J=f[k];return null==J&&(o.push(function im(l){return new u.vHH(3003,!1)}()),J=""),J.toString()});return m==h?l:m}function Rc(l){const f=[];let o=l.next();for(;!o.done;)f.push(o.value),o=l.next();return f}const _m=/-+([a-z0-9])/g;function pd(l){return l.replace(_m,(...f)=>f[1].toUpperCase())}function jo(l,f,o){switch(f.type){case 7:return l.visitTrigger(f,o);case 0:return l.visitState(f,o);case 1:return l.visitTransition(f,o);case 2:return l.visitSequence(f,o);case 3:return l.visitGroup(f,o);case 4:return l.visitAnimate(f,o);case 5:return l.visitKeyframes(f,o);case 6:return l.visitStyle(f,o);case 8:return l.visitReference(f,o);case 9:return l.visitAnimateChild(f,o);case 10:return l.visitAnimateRef(f,o);case 11:return l.visitQuery(f,o);case 12:return l.visitStagger(f,o);default:throw function tf(l){return new u.vHH(3004,!1)}()}}function vm(l,f){return window.getComputedStyle(l)[f]}const oh="*";function Pc(l,f){const o=[];return"string"==typeof l?l.split(/\s*,\s*/).forEach(h=>function y0(l,f,o){if(":"==l[0]){const ue=function py(l,f){switch(l){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,h)=>parseFloat(h)>parseFloat(o);case":decrement":return(o,h)=>parseFloat(h)<parseFloat(o);default:return f.push(function xu(l){return new u.vHH(3016,!1)}()),"* => *"}}(l,o);if("function"==typeof ue)return void f.push(ue);l=ue}const h=l.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==h||h.length<4)return o.push(function rf(l){return new u.vHH(3015,!1)}()),f;const m=h[1],T=h[2],k=h[3];f.push(sl(m,k));"<"==T[0]&&!(m==oh&&k==oh)&&f.push(sl(k,m))}(h,o,f)):o.push(l),o}const tu=new Set(["true","1"]),bm=new Set(["false","0"]);function sl(l,f){const o=tu.has(l)||bm.has(l),h=tu.has(f)||bm.has(f);return(m,T)=>{let k=l==oh||l==m,J=f==oh||f==T;return!k&&o&&"boolean"==typeof m&&(k=m?tu.has(l):bm.has(l)),!J&&h&&"boolean"==typeof T&&(J=T?tu.has(f):bm.has(f)),k&&J}}const Oi=new RegExp("s*:selfs*,?","g");function gy(l,f,o,h){return new ol(l).build(f,o,h)}class ol{constructor(f){this._driver=f}build(f,o,h){const m=new af(o);return this._resetContextStyleTimingState(m),jo(this,Fu(f),m)}_resetContextStyleTimingState(f){f.currentQuerySelector="",f.collectedStyles=new Map,f.collectedStyles.set("",new Map),f.currentTime=0}visitTrigger(f,o){let h=o.queryCount=0,m=o.depCount=0;const T=[],k=[];return"@"==f.name.charAt(0)&&o.errors.push(function sm(){return new u.vHH(3006,!1)}()),f.definitions.forEach(J=>{if(this._resetContextStyleTimingState(o),0==J.type){const ue=J,ge=ue.name;ge.toString().split(/\s*,\s*/).forEach(Te=>{ue.name=Te,T.push(this.visitState(ue,o))}),ue.name=ge}else if(1==J.type){const ue=this.visitTransition(J,o);h+=ue.queryCount,m+=ue.depCount,k.push(ue)}else o.errors.push(function nf(){return new u.vHH(3007,!1)}())}),{type:7,name:f.name,states:T,transitions:k,queryCount:h,depCount:m,options:null}}visitState(f,o){const h=this.visitStyle(f.styles,o),m=f.options&&f.options.params||null;if(h.containsDynamicStyles){const T=new Set,k=m||{};h.styles.forEach(J=>{J instanceof Map&&J.forEach(ue=>{m0(ue).forEach(ge=>{k.hasOwnProperty(ge)||T.add(ge)})})}),T.size&&(Rc(T.values()),o.errors.push(function eh(l,f){return new u.vHH(3008,!1)}()))}return{type:0,name:f.name,style:h,options:m?{params:m}:null}}visitTransition(f,o){o.queryCount=0,o.depCount=0;const h=jo(this,Fu(f.animation),o);return{type:1,matchers:Pc(f.expr,o.errors),animation:h,queryCount:o.queryCount,depCount:o.depCount,options:Za(f.options)}}visitSequence(f,o){return{type:2,steps:f.steps.map(h=>jo(this,h,o)),options:Za(f.options)}}visitGroup(f,o){const h=o.currentTime;let m=0;const T=f.steps.map(k=>{o.currentTime=h;const J=jo(this,k,o);return m=Math.max(m,o.currentTime),J});return o.currentTime=m,{type:3,steps:T,options:Za(f.options)}}visitAnimate(f,o){const h=function by(l,f){if(l.hasOwnProperty("duration"))return l;if("number"==typeof l)return hc(mm(l,f).duration,0,"");const o=l;if(o.split(/\s+/).some(T=>"{"==T.charAt(0)&&"{"==T.charAt(1))){const T=hc(0,0,"");return T.dynamic=!0,T.strValue=o,T}const m=mm(o,f);return hc(m.duration,m.delay,m.easing)}(f.timings,o.errors);o.currentAnimateTimings=h;let m,T=f.styles?f.styles:Yn({});if(5==T.type)m=this.visitKeyframes(T,o);else{let k=f.styles,J=!1;if(!k){J=!0;const ge={};h.easing&&(ge.easing=h.easing),k=Yn(ge)}o.currentTime+=h.duration+h.delay;const ue=this.visitStyle(k,o);ue.isEmptyStep=J,m=ue}return o.currentAnimateTimings=null,{type:4,timings:h,style:m,options:null}}visitStyle(f,o){const h=this._makeStyleAst(f,o);return this._validateStyleAst(h,o),h}_makeStyleAst(f,o){const h=[],m=Array.isArray(f.styles)?f.styles:[f.styles];for(let J of m)"string"==typeof J?J===Xt?h.push(J):o.errors.push(new u.vHH(3002,!1)):h.push(dy(J));let T=!1,k=null;return h.forEach(J=>{if(J instanceof Map&&(J.has("easing")&&(k=J.get("easing"),J.delete("easing")),!T))for(let ue of J.values())if(ue.toString().indexOf("{{")>=0){T=!0;break}}),{type:6,styles:h,easing:k,offset:f.offset,containsDynamicStyles:T,options:null}}_validateStyleAst(f,o){const h=o.currentAnimateTimings;let m=o.currentTime,T=o.currentTime;h&&T>0&&(T-=h.duration+h.delay),f.styles.forEach(k=>{"string"!=typeof k&&k.forEach((J,ue)=>{const ge=o.collectedStyles.get(o.currentQuerySelector),Te=ge.get(ue);let Ye=!0;Te&&(T!=m&&T>=Te.startTime&&m<=Te.endTime&&(o.errors.push(function Ob(l,f,o,h,m){return new u.vHH(3010,!1)}()),Ye=!1),T=Te.startTime),Ye&&ge.set(ue,{startTime:T,endTime:m}),o.options&&function ih(l,f,o){const h=f.params||{},m=m0(l);m.length&&m.forEach(T=>{h.hasOwnProperty(T)||o.push(function Nb(l){return new u.vHH(3001,!1)}())})}(J,o.options,o.errors)})})}visitKeyframes(f,o){const h={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function Mb(){return new u.vHH(3011,!1)}()),h;let T=0;const k=[];let J=!1,ue=!1,ge=0;const Te=f.steps.map(Fn=>{const Ln=this._makeStyleAst(Fn,o);let Ir=null!=Ln.offset?Ln.offset:function vy(l){if("string"==typeof l)return null;let f=null;if(Array.isArray(l))l.forEach(o=>{if(o instanceof Map&&o.has("offset")){const h=o;f=parseFloat(h.get("offset")),h.delete("offset")}});else if(l instanceof Map&&l.has("offset")){const o=l;f=parseFloat(o.get("offset")),o.delete("offset")}return f}(Ln.styles),Mn=0;return null!=Ir&&(T++,Mn=Ln.offset=Ir),ue=ue||Mn<0||Mn>1,J=J||Mn<ge,ge=Mn,k.push(Mn),Ln});ue&&o.errors.push(function oy(){return new u.vHH(3012,!1)}()),J&&o.errors.push(function c0(){return new u.vHH(3200,!1)}());const Ye=f.steps.length;let lt=0;T>0&&T<Ye?o.errors.push(function na(){return new u.vHH(3202,!1)}()):0==T&&(lt=1/(Ye-1));const ft=Ye-1,Rt=o.currentTime,Bt=o.currentAnimateTimings,zt=Bt.duration;return Te.forEach((Fn,Ln)=>{const Ir=lt>0?Ln==ft?1:lt*Ln:k[Ln],Mn=Ir*zt;o.currentTime=Rt+Bt.delay+Mn,Bt.duration=Mn,this._validateStyleAst(Fn,o),Fn.offset=Ir,h.styles.push(Fn)}),h}visitReference(f,o){return{type:8,animation:jo(this,Fu(f.animation),o),options:Za(f.options)}}visitAnimateChild(f,o){return o.depCount++,{type:9,options:Za(f.options)}}visitAnimateRef(f,o){return{type:10,animation:this.visitReference(f.animation,o),options:Za(f.options)}}visitQuery(f,o){const h=o.currentQuerySelector,m=f.options||{};o.queryCount++,o.currentQuery=f;const[T,k]=function _y(l){const f=!!l.split(/\s*,\s*/).find(o=>":self"==o);return f&&(l=l.replace(Oi,"")),l=l.replace(/@\*/g,gm).replace(/@\w+/g,o=>gm+"-"+o.slice(1)).replace(/:animating/g,uy),[l,f]}(f.selector);o.currentQuerySelector=h.length?h+" "+T:T,qa(o.collectedStyles,o.currentQuerySelector,new Map);const J=jo(this,Fu(f.animation),o);return o.currentQuery=null,o.currentQuerySelector=h,{type:11,selector:T,limit:m.limit||0,optional:!!m.optional,includeSelf:k,animation:J,originalSelector:f.selector,options:Za(f.options)}}visitStagger(f,o){o.currentQuery||o.errors.push(function Ql(){return new u.vHH(3013,!1)}());const h="full"===f.timings?{duration:0,delay:0,easing:"full"}:mm(f.timings,o.errors,!0);return{type:12,animation:jo(this,Fu(f.animation),o),timings:h,options:null}}}class af{constructor(f){this.errors=f,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Za(l){return l?(l=rh(l)).params&&(l.params=function yy(l){return l?rh(l):null}(l.params)):l={},l}function hc(l,f,o){return{duration:l,delay:f,easing:o}}function Hs(l,f,o,h,m,T,k=null,J=!1){return{type:1,element:l,keyframes:f,preStyleProps:o,postStyleProps:h,duration:m,delay:T,totalTime:m+T,easing:k,subTimeline:J}}class ah{constructor(){this._map=new Map}get(f){return this._map.get(f)||[]}append(f,o){let h=this._map.get(f);h||this._map.set(f,h=[]),h.push(...o)}has(f){return this._map.has(f)}clear(){this._map.clear()}}const Im=new RegExp(":enter","g"),Ka=new RegExp(":leave","g");function Np(l,f,o,h,m,T=new Map,k=new Map,J,ue,ge=[]){return(new Vb).buildKeyframes(l,f,o,h,m,T,k,J,ue,ge)}class Vb{buildKeyframes(f,o,h,m,T,k,J,ue,ge,Te=[]){ge=ge||new ah;const Ye=new wy(f,o,ge,m,T,Te,[]);Ye.options=ue;const lt=ue.delay?Ol(ue.delay):0;Ye.currentTimeline.delayNextStep(lt),Ye.currentTimeline.setStyles([k],null,Ye.errors,ue),jo(this,h,Ye);const ft=Ye.timelines.filter(Rt=>Rt.containsAnimation());if(ft.length&&J.size){let Rt;for(let Bt=ft.length-1;Bt>=0;Bt--){const zt=ft[Bt];if(zt.element===o){Rt=zt;break}}Rt&&!Rt.allowOnlyTimelineStyles()&&Rt.setStyles([J],null,Ye.errors,ue)}return ft.length?ft.map(Rt=>Rt.buildKeyframes()):[Hs(o,[],[],[],0,lt,"",!1)]}visitTrigger(f,o){}visitState(f,o){}visitTransition(f,o){}visitAnimateChild(f,o){const h=o.subInstructions.get(o.element);if(h){const m=o.createSubContext(f.options),T=o.currentTimeline.currentTime,k=this._visitSubInstructions(h,m,m.options);T!=k&&o.transformIntoNewTimeline(k)}o.previousNode=f}visitAnimateRef(f,o){const h=o.createSubContext(f.options);h.transformIntoNewTimeline(),this._applyAnimationRefDelays([f.options,f.animation.options],o,h),this.visitReference(f.animation,h),o.transformIntoNewTimeline(h.currentTimeline.currentTime),o.previousNode=f}_applyAnimationRefDelays(f,o,h){for(const m of f){const T=m?.delay;if(T){const k="number"==typeof T?T:Ol(Lu(T,m?.params??{},o.errors));h.delayNextStep(k)}}}_visitSubInstructions(f,o,h){let T=o.currentTimeline.currentTime;const k=null!=h.duration?Ol(h.duration):null,J=null!=h.delay?Ol(h.delay):null;return 0!==k&&f.forEach(ue=>{const ge=o.appendInstructionToTimeline(ue,k,J);T=Math.max(T,ge.duration+ge.delay)}),T}visitReference(f,o){o.updateOptions(f.options,!0),jo(this,f.animation,o),o.previousNode=f}visitSequence(f,o){const h=o.subContextCount;let m=o;const T=f.options;if(T&&(T.params||T.delay)&&(m=o.createSubContext(T),m.transformIntoNewTimeline(),null!=T.delay)){6==m.previousNode.type&&(m.currentTimeline.snapshotCurrentStyles(),m.previousNode=ch);const k=Ol(T.delay);m.delayNextStep(k)}f.steps.length&&(f.steps.forEach(k=>jo(this,k,m)),m.currentTimeline.applyStylesToKeyframe(),m.subContextCount>h&&m.transformIntoNewTimeline()),o.previousNode=f}visitGroup(f,o){const h=[];let m=o.currentTimeline.currentTime;const T=f.options&&f.options.delay?Ol(f.options.delay):0;f.steps.forEach(k=>{const J=o.createSubContext(f.options);T&&J.delayNextStep(T),jo(this,k,J),m=Math.max(m,J.currentTimeline.currentTime),h.push(J.currentTimeline)}),h.forEach(k=>o.currentTimeline.mergeTimelineCollectedStyles(k)),o.transformIntoNewTimeline(m),o.previousNode=f}_visitTiming(f,o){if(f.dynamic){const h=f.strValue;return mm(o.params?Lu(h,o.params,o.errors):h,o.errors)}return{duration:f.duration,delay:f.delay,easing:f.easing}}visitAnimate(f,o){const h=o.currentAnimateTimings=this._visitTiming(f.timings,o),m=o.currentTimeline;h.delay&&(o.incrementTime(h.delay),m.snapshotCurrentStyles());const T=f.style;5==T.type?this.visitKeyframes(T,o):(o.incrementTime(h.duration),this.visitStyle(T,o),m.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=f}visitStyle(f,o){const h=o.currentTimeline,m=o.currentAnimateTimings;!m&&h.hasCurrentStyleProperties()&&h.forwardFrame();const T=m&&m.easing||f.easing;f.isEmptyStep?h.applyEmptyStep(T):h.setStyles(f.styles,T,o.errors,o.options),o.previousNode=f}visitKeyframes(f,o){const h=o.currentAnimateTimings,m=o.currentTimeline.duration,T=h.duration,J=o.createSubContext().currentTimeline;J.easing=h.easing,f.styles.forEach(ue=>{J.forwardTime((ue.offset||0)*T),J.setStyles(ue.styles,ue.easing,o.errors,o.options),J.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(J),o.transformIntoNewTimeline(m+T),o.previousNode=f}visitQuery(f,o){const h=o.currentTimeline.currentTime,m=f.options||{},T=m.delay?Ol(m.delay):0;T&&(6===o.previousNode.type||0==h&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=ch);let k=h;const J=o.invokeQuery(f.selector,f.originalSelector,f.limit,f.includeSelf,!!m.optional,o.errors);o.currentQueryTotal=J.length;let ue=null;J.forEach((ge,Te)=>{o.currentQueryIndex=Te;const Ye=o.createSubContext(f.options,ge);T&&Ye.delayNextStep(T),ge===o.element&&(ue=Ye.currentTimeline),jo(this,f.animation,Ye),Ye.currentTimeline.applyStylesToKeyframe(),k=Math.max(k,Ye.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(k),ue&&(o.currentTimeline.mergeTimelineCollectedStyles(ue),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=f}visitStagger(f,o){const h=o.parentContext,m=o.currentTimeline,T=f.timings,k=Math.abs(T.duration),J=k*(o.currentQueryTotal-1);let ue=k*o.currentQueryIndex;switch(T.duration<0?"reverse":T.easing){case"reverse":ue=J-ue;break;case"full":ue=h.currentStaggerTime}const Te=o.currentTimeline;ue&&Te.delayNextStep(ue);const Ye=Te.currentTime;jo(this,f.animation,o),o.previousNode=f,h.currentStaggerTime=m.currentTime-Ye+(m.startTime-h.currentTimeline.startTime)}}const ch={};class wy{constructor(f,o,h,m,T,k,J,ue){this._driver=f,this.element=o,this.subInstructions=h,this._enterClassName=m,this._leaveClassName=T,this.errors=k,this.timelines=J,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ch,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ue||new Op(this._driver,o,0),J.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(f,o){if(!f)return;const h=f;let m=this.options;null!=h.duration&&(m.duration=Ol(h.duration)),null!=h.delay&&(m.delay=Ol(h.delay));const T=h.params;if(T){let k=m.params;k||(k=this.options.params={}),Object.keys(T).forEach(J=>{(!o||!k.hasOwnProperty(J))&&(k[J]=Lu(T[J],k,this.errors))})}}_copyOptions(){const f={};if(this.options){const o=this.options.params;if(o){const h=f.params={};Object.keys(o).forEach(m=>{h[m]=o[m]})}}return f}createSubContext(f=null,o,h){const m=o||this.element,T=new wy(this._driver,m,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(m,h||0));return T.previousNode=this.previousNode,T.currentAnimateTimings=this.currentAnimateTimings,T.options=this._copyOptions(),T.updateOptions(f),T.currentQueryIndex=this.currentQueryIndex,T.currentQueryTotal=this.currentQueryTotal,T.parentContext=this,this.subContextCount++,T}transformIntoNewTimeline(f){return this.previousNode=ch,this.currentTimeline=this.currentTimeline.fork(this.element,f),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(f,o,h){const m={duration:o??f.duration,delay:this.currentTimeline.currentTime+(h??0)+f.delay,easing:""},T=new Iy(this._driver,f.element,f.keyframes,f.preStyleProps,f.postStyleProps,m,f.stretchStartingKeyframe);return this.timelines.push(T),m}incrementTime(f){this.currentTimeline.forwardTime(this.currentTimeline.duration+f)}delayNextStep(f){f>0&&this.currentTimeline.delayNextStep(f)}invokeQuery(f,o,h,m,T,k){let J=[];if(m&&J.push(this.element),f.length>0){f=(f=f.replace(Im,"."+this._enterClassName)).replace(Ka,"."+this._leaveClassName);let ge=this._driver.query(this.element,f,1!=h);0!==h&&(ge=h<0?ge.slice(ge.length+h,ge.length):ge.slice(0,h)),J.push(...ge)}return!T&&0==J.length&&k.push(function ay(l){return new u.vHH(3014,!1)}()),J}}class Op{constructor(f,o,h,m){this._driver=f,this.element=o,this.startTime=h,this._elementTimelineStylesLookup=m,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(f){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+f),o&&this.snapshotCurrentStyles()):this.startTime+=f}fork(f,o){return this.applyStylesToKeyframe(),new Op(this._driver,f,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(f){this.applyStylesToKeyframe(),this.duration=f,this._loadKeyframe()}_updateStyle(f,o){this._localTimelineStyles.set(f,o),this._globalTimelineStyles.set(f,o),this._styleSummary.set(f,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(f){f&&this._previousKeyframe.set("easing",f);for(let[o,h]of this._globalTimelineStyles)this._backFill.set(o,h||Xt),this._currentKeyframe.set(o,Xt);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(f,o,h,m){o&&this._previousKeyframe.set("easing",o);const T=m&&m.params||{},k=function cf(l,f){const o=new Map;let h;return l.forEach(m=>{if("*"===m){h=h||f.keys();for(let T of h)o.set(T,Xt)}else xc(m,o)}),o}(f,this._globalTimelineStyles);for(let[J,ue]of k){const ge=Lu(ue,T,h);this._pendingStyles.set(J,ge),this._localTimelineStyles.has(J)||this._backFill.set(J,this._globalTimelineStyles.get(J)??Xt),this._updateStyle(J,ge)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((f,o)=>{this._currentKeyframe.set(o,f)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((f,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,f)}))}snapshotCurrentStyles(){for(let[f,o]of this._localTimelineStyles)this._pendingStyles.set(f,o),this._updateStyle(f,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const f=[];for(let o in this._currentKeyframe)f.push(o);return f}mergeTimelineCollectedStyles(f){f._styleSummary.forEach((o,h)=>{const m=this._styleSummary.get(h);(!m||o.time>m.time)&&this._updateStyle(h,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const f=new Set,o=new Set,h=1===this._keyframes.size&&0===this.duration;let m=[];this._keyframes.forEach((J,ue)=>{const ge=xc(J,new Map,this._backFill);ge.forEach((Te,Ye)=>{"!"===Te?f.add(Ye):Te===Xt&&o.add(Ye)}),h||ge.set("offset",ue/this.duration),m.push(ge)});const T=f.size?Rc(f.values()):[],k=o.size?Rc(o.values()):[];if(h){const J=m[0],ue=new Map(J);J.set("offset",0),ue.set("offset",1),m=[J,ue]}return Hs(this.element,m,T,k,this.duration,this.startTime,this.easing,!1)}}class Iy extends Op{constructor(f,o,h,m,T,k,J=!1){super(f,o,k.delay),this.keyframes=h,this.preStyleProps=m,this.postStyleProps=T,this._stretchStartingKeyframe=J,this.timings={duration:k.duration,delay:k.delay,easing:k.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let f=this.keyframes,{delay:o,duration:h,easing:m}=this.timings;if(this._stretchStartingKeyframe&&o){const T=[],k=h+o,J=o/k,ue=xc(f[0]);ue.set("offset",0),T.push(ue);const ge=xc(f[0]);ge.set("offset",Mp(J)),T.push(ge);const Te=f.length-1;for(let Ye=1;Ye<=Te;Ye++){let lt=xc(f[Ye]);const ft=lt.get("offset");lt.set("offset",Mp((o+ft*h)/k)),T.push(lt)}h=k,o=0,m="",f=T}return Hs(this.element,f,this.preStyleProps,this.postStyleProps,h,o,m,!0)}}function Mp(l,f=3){const o=Math.pow(10,f-1);return Math.round(l*o)/o}class Tm{}const Ty=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Eo extends Tm{normalizePropertyName(f,o){return pd(f)}normalizeStyleValue(f,o,h,m){let T="";const k=h.toString().trim();if(Ty.has(o)&&0!==h&&"0"!==h)if("number"==typeof h)T="px";else{const J=h.match(/^[+-]?[\d\.]+([a-z]*)$/);J&&0==J[1].length&&m.push(function a0(l,f){return new u.vHH(3005,!1)}())}return k+T}}function Bu(l,f,o,h,m,T,k,J,ue,ge,Te,Ye,lt){return{type:0,element:l,triggerName:f,isRemovalTransition:m,fromState:o,fromStyles:T,toState:h,toStyles:k,timelines:J,queriedElements:ue,preStyleProps:ge,postStyleProps:Te,totalTime:Ye,errors:lt}}const $o={};class Em{constructor(f,o,h){this._triggerName=f,this.ast=o,this._stateStyles=h}match(f,o,h,m){return function Ot(l,f,o,h,m){return l.some(T=>T(f,o,h,m))}(this.ast.matchers,f,o,h,m)}buildStyles(f,o,h){let m=this._stateStyles.get("*");return void 0!==f&&(m=this._stateStyles.get(f?.toString())||m),m?m.buildStyles(o,h):new Map}build(f,o,h,m,T,k,J,ue,ge,Te){const Ye=[],lt=this.ast.options&&this.ast.options.params||$o,Rt=this.buildStyles(h,J&&J.params||$o,Ye),Bt=ue&&ue.params||$o,zt=this.buildStyles(m,Bt,Ye),Fn=new Set,Ln=new Map,Ir=new Map,Mn="void"===m,Ar={params:Gs(Bt,lt),delay:this.ast.options?.delay},cr=Te?[]:Np(f,o,this.ast.animation,T,k,Rt,zt,Ar,ge,Ye);let Cn=0;if(cr.forEach(Gr=>{Cn=Math.max(Gr.duration+Gr.delay,Cn)}),Ye.length)return Bu(o,this._triggerName,h,m,Mn,Rt,zt,[],[],Ln,Ir,Cn,Ye);cr.forEach(Gr=>{const ni=Gr.element,ar=qa(Ln,ni,new Set);Gr.preStyleProps.forEach(Nr=>ar.add(Nr));const os=qa(Ir,ni,new Set);Gr.postStyleProps.forEach(Nr=>os.add(Nr)),ni!==o&&Fn.add(ni)});const Tr=Rc(Fn.values());return Bu(o,this._triggerName,h,m,Mn,Rt,zt,cr,Tr,Ln,Ir,Cn)}}function Gs(l,f){const o=rh(f);for(const h in l)l.hasOwnProperty(h)&&null!=l[h]&&(o[h]=l[h]);return o}class al{constructor(f,o,h){this.styles=f,this.defaultParams=o,this.normalizer=h}buildStyles(f,o){const h=new Map,m=rh(this.defaultParams);return Object.keys(f).forEach(T=>{const k=f[T];null!==k&&(m[T]=k)}),this.styles.styles.forEach(T=>{"string"!=typeof T&&T.forEach((k,J)=>{k&&(k=Lu(k,m,o));const ue=this.normalizer.normalizePropertyName(J,o);k=this.normalizer.normalizeStyleValue(J,ue,k,o),h.set(J,k)})}),h}}class hn{constructor(f,o,h){this.name=f,this.ast=o,this._normalizer=h,this.transitionFactories=[],this.states=new Map,o.states.forEach(m=>{this.states.set(m.name,new al(m.style,m.options&&m.options.params||{},h))}),b0(this.states,"true","1"),b0(this.states,"false","0"),o.transitions.forEach(m=>{this.transitionFactories.push(new Em(f,m,this.states))}),this.fallbackTransition=function In(l,f,o){return new Em(l,{type:1,animation:{type:2,steps:[],options:null},matchers:[(k,J)=>!0],options:null,queryCount:0,depCount:0},f)}(f,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(f,o,h,m){return this.transitionFactories.find(k=>k.match(f,o,h,m))||null}matchStyles(f,o,h){return this.fallbackTransition.buildStyles(f,o,h)}}function b0(l,f,o){l.has(f)?l.has(o)||l.set(o,l.get(f)):l.has(o)&&l.set(f,l.get(o))}const Yt=new ah;class rt{constructor(f,o,h){this.bodyNode=f,this._driver=o,this._normalizer=h,this._animations=new Map,this._playersById=new Map,this.players=[]}register(f,o){const h=[],T=gy(this._driver,o,h,[]);if(h.length)throw function cy(l){return new u.vHH(3503,!1)}();this._animations.set(f,T)}_buildPlayer(f,o,h){const m=f.element,T=d0(this._normalizer,f.keyframes,o,h);return this._driver.animate(m,T,f.duration,f.delay,f.easing,[],!0)}create(f,o,h={}){const m=[],T=this._animations.get(f);let k;const J=new Map;if(T?(k=Np(this._driver,o,T,pm,Dp,new Map,new Map,h,Yt,m),k.forEach(Te=>{const Ye=qa(J,Te.element,new Map);Te.postStyleProps.forEach(lt=>Ye.set(lt,null))})):(m.push(function Nl(){return new u.vHH(3300,!1)}()),k=[]),m.length)throw function l0(l){return new u.vHH(3504,!1)}();J.forEach((Te,Ye)=>{Te.forEach((lt,ft)=>{Te.set(ft,this._driver.computeStyle(Ye,ft,Xt))})});const ge=Ru(k.map(Te=>{const Ye=J.get(Te.element);return this._buildPlayer(Te,new Map,Ye)}));return this._playersById.set(f,ge),ge.onDestroy(()=>this.destroy(f)),this.players.push(ge),ge}destroy(f){const o=this._getPlayer(f);o.destroy(),this._playersById.delete(f);const h=this.players.indexOf(o);h>=0&&this.players.splice(h,1)}_getPlayer(f){const o=this._playersById.get(f);if(!o)throw function xb(l){return new u.vHH(3301,!1)}();return o}listen(f,o,h,m){const T=um(o,"","","");return wp(this._getPlayer(f),h,T,m),()=>{}}command(f,o,h,m){if("register"==h)return void this.register(f,m[0]);if("create"==h)return void this.create(f,o,m[0]||{});const T=this._getPlayer(f);switch(h){case"play":T.play();break;case"pause":T.pause();break;case"reset":T.reset();break;case"restart":T.restart();break;case"finish":T.finish();break;case"init":T.init();break;case"setPosition":T.setPosition(parseFloat(m[0]));break;case"destroy":this.destroy(f)}}}const Ct="ng-animate-queued",xp="ng-animate-disabled",I0=[],uf={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},T0={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},cl="__ng_removed";class Dy{get params(){return this.options.params}constructor(f,o=""){this.namespaceId=o;const h=f&&f.hasOwnProperty("value");if(this.value=function Nn(l){return l??null}(h?f.value:f),h){const T=rh(f);delete T.value,this.options=T}else this.options={};this.options.params||(this.options.params={})}absorbOptions(f){const o=f.params;if(o){const h=this.options.params;Object.keys(o).forEach(m=>{null==h[m]&&(h[m]=o[m])})}}}const Rp="void",Dm=new Dy(Rp);class Qn{constructor(f,o,h){this.id=f,this.hostElement=o,this._engine=h,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+f,ra(o,this._hostClassName)}listen(f,o,h,m){if(!this._triggers.has(o))throw function dT(l,f){return new u.vHH(3302,!1)}();if(null==h||0==h.length)throw function Go(l){return new u.vHH(3303,!1)}();if(!function Jr(l){return"start"==l||"done"==l}(h))throw function bp(l,f){return new u.vHH(3400,!1)}();const T=qa(this._elementListeners,f,[]),k={name:o,phase:h,callback:m};T.push(k);const J=qa(this._engine.statesByElement,f,new Map);return J.has(o)||(ra(f,ly),ra(f,ly+"-"+o),J.set(o,Dm)),()=>{this._engine.afterFlush(()=>{const ue=T.indexOf(k);ue>=0&&T.splice(ue,1),this._triggers.has(o)||J.delete(o)})}}register(f,o){return!this._triggers.has(f)&&(this._triggers.set(f,o),!0)}_getTrigger(f){const o=this._triggers.get(f);if(!o)throw function Jl(l){return new u.vHH(3401,!1)}();return o}trigger(f,o,h,m=!0){const T=this._getTrigger(o),k=new Cm(this.id,o,f);let J=this._engine.statesByElement.get(f);J||(ra(f,ly),ra(f,ly+"-"+o),this._engine.statesByElement.set(f,J=new Map));let ue=J.get(o);const ge=new Dy(h,this.id);if(!(h&&h.hasOwnProperty("value"))&&ue&&ge.absorbOptions(ue.options),J.set(o,ge),ue||(ue=Dm),ge.value!==Rp&&ue.value===ge.value){if(!function jb(l,f){const o=Object.keys(l),h=Object.keys(f);if(o.length!=h.length)return!1;for(let m=0;m<o.length;m++){const T=o[m];if(!f.hasOwnProperty(T)||l[T]!==f[T])return!1}return!0}(ue.params,ge.params)){const Bt=[],zt=T.matchStyles(ue.value,ue.params,Bt),Fn=T.matchStyles(ge.value,ge.params,Bt);Bt.length?this._engine.reportError(Bt):this._engine.afterFlush(()=>{eu(f,zt),$n(f,Fn)})}return}const lt=qa(this._engine.playersByElement,f,[]);lt.forEach(Bt=>{Bt.namespaceId==this.id&&Bt.triggerName==o&&Bt.queued&&Bt.destroy()});let ft=T.matchTransition(ue.value,ge.value,f,ge.params),Rt=!1;if(!ft){if(!m)return;ft=T.fallbackTransition,Rt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:o,transition:ft,fromState:ue,toState:ge,player:k,isFallbackTransition:Rt}),Rt||(ra(f,Ct),k.onStart(()=>{md(f,Ct)})),k.onDone(()=>{let Bt=this.players.indexOf(k);Bt>=0&&this.players.splice(Bt,1);const zt=this._engine.playersByElement.get(f);if(zt){let Fn=zt.indexOf(k);Fn>=0&&zt.splice(Fn,1)}}),this.players.push(k),lt.push(k),k}deregister(f){this._triggers.delete(f),this._engine.statesByElement.forEach(o=>o.delete(f)),this._elementListeners.forEach((o,h)=>{this._elementListeners.set(h,o.filter(m=>m.name!=f))})}clearElementCache(f){this._engine.statesByElement.delete(f),this._elementListeners.delete(f);const o=this._engine.playersByElement.get(f);o&&(o.forEach(h=>h.destroy()),this._engine.playersByElement.delete(f))}_signalRemovalForInnerTriggers(f,o){const h=this._engine.driver.query(f,gm,!0);h.forEach(m=>{if(m[cl])return;const T=this._engine.fetchNamespacesByElement(m);T.size?T.forEach(k=>k.triggerLeaveAnimation(m,o,!1,!0)):this.clearElementCache(m)}),this._engine.afterFlushAnimationsDone(()=>h.forEach(m=>this.clearElementCache(m)))}triggerLeaveAnimation(f,o,h,m){const T=this._engine.statesByElement.get(f),k=new Map;if(T){const J=[];if(T.forEach((ue,ge)=>{if(k.set(ge,ue.value),this._triggers.has(ge)){const Te=this.trigger(f,ge,Rp,m);Te&&J.push(Te)}}),J.length)return this._engine.markElementAsRemoved(this.id,f,!0,o,k),h&&Ru(J).onDone(()=>this._engine.processLeaveNode(f)),!0}return!1}prepareLeaveAnimationListeners(f){const o=this._elementListeners.get(f),h=this._engine.statesByElement.get(f);if(o&&h){const m=new Set;o.forEach(T=>{const k=T.name;if(m.has(k))return;m.add(k);const ue=this._triggers.get(k).fallbackTransition,ge=h.get(k)||Dm,Te=new Dy(Rp),Ye=new Cm(this.id,k,f);this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:k,transition:ue,fromState:ge,toState:Te,player:Ye,isFallbackTransition:!0})})}}removeNode(f,o){const h=this._engine;if(f.childElementCount&&this._signalRemovalForInnerTriggers(f,o),this.triggerLeaveAnimation(f,o,!0))return;let m=!1;if(h.totalAnimations){const T=h.players.length?h.playersByQueriedElement.get(f):[];if(T&&T.length)m=!0;else{let k=f;for(;k=k.parentNode;)if(h.statesByElement.get(k)){m=!0;break}}}if(this.prepareLeaveAnimationListeners(f),m)h.markElementAsRemoved(this.id,f,!1,o);else{const T=f[cl];(!T||T===uf)&&(h.afterFlush(()=>this.clearElementCache(f)),h.destroyInnerAnimations(f),h._onRemovalComplete(f,o))}}insertNode(f,o){ra(f,this._hostClassName)}drainQueuedTransitions(f){const o=[];return this._queue.forEach(h=>{const m=h.player;if(m.destroyed)return;const T=h.element,k=this._elementListeners.get(T);k&&k.forEach(J=>{if(J.name==h.triggerName){const ue=um(T,h.triggerName,h.fromState.value,h.toState.value);ue._data=f,wp(h.player,J.phase,ue,J.callback)}}),m.markedForDestroy?this._engine.afterFlush(()=>{m.destroy()}):o.push(h)}),this._queue=[],o.sort((h,m)=>{const T=h.transition.ast.depCount,k=m.transition.ast.depCount;return 0==T||0==k?T-k:this._engine.driver.containsElement(h.element,m.element)?1:-1})}destroy(f){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,f)}}class df{_onRemovalComplete(f,o){this.onRemovalComplete(f,o)}constructor(f,o,h){this.bodyNode=f,this.driver=o,this._normalizer=h,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(m,T)=>{}}get queuedPlayers(){const f=[];return this._namespaceList.forEach(o=>{o.players.forEach(h=>{h.queued&&f.push(h)})}),f}createNamespace(f,o){const h=new Qn(f,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(h,o):(this.newHostElements.set(o,h),this.collectEnterElement(o)),this._namespaceLookup[f]=h}_balanceNamespaceList(f,o){const h=this._namespaceList,m=this.namespacesByHostElement;if(h.length-1>=0){let k=!1,J=this.driver.getParentElement(o);for(;J;){const ue=m.get(J);if(ue){const ge=h.indexOf(ue);h.splice(ge+1,0,f),k=!0;break}J=this.driver.getParentElement(J)}k||h.unshift(f)}else h.push(f);return m.set(o,f),f}register(f,o){let h=this._namespaceLookup[f];return h||(h=this.createNamespace(f,o)),h}registerTrigger(f,o,h){let m=this._namespaceLookup[f];m&&m.register(o,h)&&this.totalAnimations++}destroy(f,o){f&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const h=this._fetchNamespace(f);this.namespacesByHostElement.delete(h.hostElement);const m=this._namespaceList.indexOf(h);m>=0&&this._namespaceList.splice(m,1),h.destroy(o),delete this._namespaceLookup[f]}))}_fetchNamespace(f){return this._namespaceLookup[f]}fetchNamespacesByElement(f){const o=new Set,h=this.statesByElement.get(f);if(h)for(let m of h.values())if(m.namespaceId){const T=this._fetchNamespace(m.namespaceId);T&&o.add(T)}return o}trigger(f,o,h,m){if(gd(o)){const T=this._fetchNamespace(f);if(T)return T.trigger(o,h,m),!0}return!1}insertNode(f,o,h,m){if(!gd(o))return;const T=o[cl];if(T&&T.setForRemoval){T.setForRemoval=!1,T.setForMove=!0;const k=this.collectedLeaveElements.indexOf(o);k>=0&&this.collectedLeaveElements.splice(k,1)}if(f){const k=this._fetchNamespace(f);k&&k.insertNode(o,h)}m&&this.collectEnterElement(o)}collectEnterElement(f){this.collectedEnterElements.push(f)}markElementAsDisabled(f,o){o?this.disabledNodes.has(f)||(this.disabledNodes.add(f),ra(f,xp)):this.disabledNodes.has(f)&&(this.disabledNodes.delete(f),md(f,xp))}removeNode(f,o,h){if(gd(o)){const m=f?this._fetchNamespace(f):null;m?m.removeNode(o,h):this.markElementAsRemoved(f,o,!1,h);const T=this.namespacesByHostElement.get(o);T&&T.id!==f&&T.removeNode(o,h)}else this._onRemovalComplete(o,h)}markElementAsRemoved(f,o,h,m,T){this.collectedLeaveElements.push(o),o[cl]={namespaceId:f,setForRemoval:m,hasAnimation:h,removedBeforeQueried:!1,previousTriggersValues:T}}listen(f,o,h,m,T){return gd(o)?this._fetchNamespace(f).listen(o,h,m,T):()=>{}}_buildInstruction(f,o,h,m,T){return f.transition.build(this.driver,f.element,f.fromState.value,f.toState.value,h,m,f.fromState.options,f.toState.options,o,T)}destroyInnerAnimations(f){let o=this.driver.query(f,gm,!0);o.forEach(h=>this.destroyActiveAnimationsForElement(h)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(f,uy,!0),o.forEach(h=>this.finishActiveQueriedAnimationOnElement(h)))}destroyActiveAnimationsForElement(f){const o=this.playersByElement.get(f);o&&o.forEach(h=>{h.queued?h.markedForDestroy=!0:h.destroy()})}finishActiveQueriedAnimationOnElement(f){const o=this.playersByQueriedElement.get(f);o&&o.forEach(h=>h.finish())}whenRenderingDone(){return new Promise(f=>{if(this.players.length)return Ru(this.players).onDone(()=>f());f()})}processLeaveNode(f){const o=f[cl];if(o&&o.setForRemoval){if(f[cl]=uf,o.namespaceId){this.destroyInnerAnimations(f);const h=this._fetchNamespace(o.namespaceId);h&&h.clearElementCache(f)}this._onRemovalComplete(f,o.setForRemoval)}f.classList?.contains(xp)&&this.markElementAsDisabled(f,!1),this.driver.query(f,".ng-animate-disabled",!0).forEach(h=>{this.markElementAsDisabled(h,!1)})}flush(f=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((h,m)=>this._balanceNamespaceList(h,m)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let h=0;h<this.collectedEnterElements.length;h++)ra(this.collectedEnterElements[h],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const h=[];try{o=this._flushAnimations(h,f)}finally{for(let m=0;m<h.length;m++)h[m]()}}else for(let h=0;h<this.collectedLeaveElements.length;h++)this.processLeaveNode(this.collectedLeaveElements[h]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(h=>h()),this._flushFns=[],this._whenQuietFns.length){const h=this._whenQuietFns;this._whenQuietFns=[],o.length?Ru(o).onDone(()=>{h.forEach(m=>m())}):h.forEach(m=>m())}}reportError(f){throw function u0(l){return new u.vHH(3402,!1)}()}_flushAnimations(f,o){const h=new ah,m=[],T=new Map,k=[],J=new Map,ue=new Map,ge=new Map,Te=new Set;this.disabledNodes.forEach(Zt=>{Te.add(Zt);const en=this.driver.query(Zt,".ng-animate-queued",!0);for(let Gn=0;Gn<en.length;Gn++)Te.add(en[Gn])});const Ye=this.bodyNode,lt=Array.from(this.statesByElement.keys()),ft=Qt(lt,this.collectedEnterElements),Rt=new Map;let Bt=0;ft.forEach((Zt,en)=>{const Gn=pm+Bt++;Rt.set(en,Gn),Zt.forEach(Or=>ra(Or,Gn))});const zt=[],Fn=new Set,Ln=new Set;for(let Zt=0;Zt<this.collectedLeaveElements.length;Zt++){const en=this.collectedLeaveElements[Zt],Gn=en[cl];Gn&&Gn.setForRemoval&&(zt.push(en),Fn.add(en),Gn.hasAnimation?this.driver.query(en,".ng-star-inserted",!0).forEach(Or=>Fn.add(Or)):Ln.add(en))}const Ir=new Map,Mn=Qt(lt,Array.from(Fn));Mn.forEach((Zt,en)=>{const Gn=Dp+Bt++;Ir.set(en,Gn),Zt.forEach(Or=>ra(Or,Gn))}),f.push(()=>{ft.forEach((Zt,en)=>{const Gn=Rt.get(en);Zt.forEach(Or=>md(Or,Gn))}),Mn.forEach((Zt,en)=>{const Gn=Ir.get(en);Zt.forEach(Or=>md(Or,Gn))}),zt.forEach(Zt=>{this.processLeaveNode(Zt)})});const Ar=[],cr=[];for(let Zt=this._namespaceList.length-1;Zt>=0;Zt--)this._namespaceList[Zt].drainQueuedTransitions(o).forEach(Gn=>{const Or=Gn.player,fr=Gn.element;if(Ar.push(Or),this.collectedEnterElements.length){const Qi=fr[cl];if(Qi&&Qi.setForMove){if(Qi.previousTriggersValues&&Qi.previousTriggersValues.has(Gn.triggerName)){const Aa=Qi.previousTriggersValues.get(Gn.triggerName),Ss=this.statesByElement.get(Gn.element);if(Ss&&Ss.has(Gn.triggerName)){const kc=Ss.get(Gn.triggerName);kc.value=Aa,Ss.set(Gn.triggerName,kc)}}return void Or.destroy()}}const ia=!Ye||!this.driver.containsElement(Ye,fr),Mi=Ir.get(fr),ri=Rt.get(fr),Ur=this._buildInstruction(Gn,h,ri,Mi,ia);if(Ur.errors&&Ur.errors.length)return void cr.push(Ur);if(ia)return Or.onStart(()=>eu(fr,Ur.fromStyles)),Or.onDestroy(()=>$n(fr,Ur.toStyles)),void m.push(Or);if(Gn.isFallbackTransition)return Or.onStart(()=>eu(fr,Ur.fromStyles)),Or.onDestroy(()=>$n(fr,Ur.toStyles)),void m.push(Or);const gc=[];Ur.timelines.forEach(Qi=>{Qi.stretchStartingKeyframe=!0,this.disabledNodes.has(Qi.element)||gc.push(Qi)}),Ur.timelines=gc,h.append(fr,Ur.timelines),k.push({instruction:Ur,player:Or,element:fr}),Ur.queriedElements.forEach(Qi=>qa(J,Qi,[]).push(Or)),Ur.preStyleProps.forEach((Qi,Aa)=>{if(Qi.size){let Ss=ue.get(Aa);Ss||ue.set(Aa,Ss=new Set),Qi.forEach((kc,Ml)=>Ss.add(Ml))}}),Ur.postStyleProps.forEach((Qi,Aa)=>{let Ss=ge.get(Aa);Ss||ge.set(Aa,Ss=new Set),Qi.forEach((kc,Ml)=>Ss.add(Ml))})});if(cr.length){const Zt=[];cr.forEach(en=>{Zt.push(function cm(l,f){return new u.vHH(3505,!1)}())}),Ar.forEach(en=>en.destroy()),this.reportError(Zt)}const Cn=new Map,Tr=new Map;k.forEach(Zt=>{const en=Zt.element;h.has(en)&&(Tr.set(en,en),this._beforeAnimationBuild(Zt.player.namespaceId,Zt.instruction,Cn))}),m.forEach(Zt=>{const en=Zt.element;this._getPreviousPlayers(en,!1,Zt.namespaceId,Zt.triggerName,null).forEach(Or=>{qa(Cn,en,[]).push(Or),Or.destroy()})});const Gr=zt.filter(Zt=>hf(Zt,ue,ge)),ni=new Map;Cs(ni,this.driver,Ln,ge,Xt).forEach(Zt=>{hf(Zt,ue,ge)&&Gr.push(Zt)});const os=new Map;ft.forEach((Zt,en)=>{Cs(os,this.driver,new Set(Zt),ue,"!")}),Gr.forEach(Zt=>{const en=ni.get(Zt),Gn=os.get(Zt);ni.set(Zt,new Map([...en?.entries()??[],...Gn?.entries()??[]]))});const Nr=[],Xr=[],Qa={};k.forEach(Zt=>{const{element:en,player:Gn,instruction:Or}=Zt;if(h.has(en)){if(Te.has(en))return Gn.onDestroy(()=>$n(en,Or.toStyles)),Gn.disabled=!0,Gn.overrideTotalTime(Or.totalTime),void m.push(Gn);let fr=Qa;if(Tr.size>1){let Mi=en;const ri=[];for(;Mi=Mi.parentNode;){const Ur=Tr.get(Mi);if(Ur){fr=Ur;break}ri.push(Mi)}ri.forEach(Ur=>Tr.set(Ur,fr))}const ia=this._buildAnimation(Gn.namespaceId,Or,Cn,T,os,ni);if(Gn.setRealPlayer(ia),fr===Qa)Nr.push(Gn);else{const Mi=this.playersByElement.get(fr);Mi&&Mi.length&&(Gn.parentPlayer=Ru(Mi)),m.push(Gn)}}else eu(en,Or.fromStyles),Gn.onDestroy(()=>$n(en,Or.toStyles)),Xr.push(Gn),Te.has(en)&&m.push(Gn)}),Xr.forEach(Zt=>{const en=T.get(Zt.element);if(en&&en.length){const Gn=Ru(en);Zt.setRealPlayer(Gn)}}),m.forEach(Zt=>{Zt.parentPlayer?Zt.syncPlayerEvents(Zt.parentPlayer):Zt.destroy()});for(let Zt=0;Zt<zt.length;Zt++){const en=zt[Zt],Gn=en[cl];if(md(en,Dp),Gn&&Gn.hasAnimation)continue;let Or=[];if(J.size){let ia=J.get(en);ia&&ia.length&&Or.push(...ia);let Mi=this.driver.query(en,uy,!0);for(let ri=0;ri<Mi.length;ri++){let Ur=J.get(Mi[ri]);Ur&&Ur.length&&Or.push(...Ur)}}const fr=Or.filter(ia=>!ia.destroyed);fr.length?nu(this,en,fr):this.processLeaveNode(en)}return zt.length=0,Nr.forEach(Zt=>{this.players.push(Zt),Zt.onDone(()=>{Zt.destroy();const en=this.players.indexOf(Zt);this.players.splice(en,1)}),Zt.play()}),Nr}afterFlush(f){this._flushFns.push(f)}afterFlushAnimationsDone(f){this._whenQuietFns.push(f)}_getPreviousPlayers(f,o,h,m,T){let k=[];if(o){const J=this.playersByQueriedElement.get(f);J&&(k=J)}else{const J=this.playersByElement.get(f);if(J){const ue=!T||T==Rp;J.forEach(ge=>{ge.queued||!ue&&ge.triggerName!=m||k.push(ge)})}}return(h||m)&&(k=k.filter(J=>!(h&&h!=J.namespaceId||m&&m!=J.triggerName))),k}_beforeAnimationBuild(f,o,h){const T=o.element,k=o.isRemovalTransition?void 0:f,J=o.isRemovalTransition?void 0:o.triggerName;for(const ue of o.timelines){const ge=ue.element,Te=ge!==T,Ye=qa(h,ge,[]);this._getPreviousPlayers(ge,Te,k,J,o.toState).forEach(ft=>{const Rt=ft.getRealPlayer();Rt.beforeDestroy&&Rt.beforeDestroy(),ft.destroy(),Ye.push(ft)})}eu(T,o.fromStyles)}_buildAnimation(f,o,h,m,T,k){const J=o.triggerName,ue=o.element,ge=[],Te=new Set,Ye=new Set,lt=o.timelines.map(Rt=>{const Bt=Rt.element;Te.add(Bt);const zt=Bt[cl];if(zt&&zt.removedBeforeQueried)return new Pi(Rt.duration,Rt.delay);const Fn=Bt!==ue,Ln=function Gb(l){const f=[];return Pp(l,f),f}((h.get(Bt)||I0).map(Cn=>Cn.getRealPlayer())).filter(Cn=>!!Cn.element&&Cn.element===Bt),Ir=T.get(Bt),Mn=k.get(Bt),Ar=d0(this._normalizer,Rt.keyframes,Ir,Mn),cr=this._buildPlayer(Rt,Ar,Ln);if(Rt.subTimeline&&m&&Ye.add(Bt),Fn){const Cn=new Cm(f,J,Bt);Cn.setRealPlayer(cr),ge.push(Cn)}return cr});ge.forEach(Rt=>{qa(this.playersByQueriedElement,Rt.element,[]).push(Rt),Rt.onDone(()=>function _s(l,f,o){let h=l.get(f);if(h){if(h.length){const m=h.indexOf(o);h.splice(m,1)}0==h.length&&l.delete(f)}return h}(this.playersByQueriedElement,Rt.element,Rt))}),Te.forEach(Rt=>ra(Rt,p0));const ft=Ru(lt);return ft.onDestroy(()=>{Te.forEach(Rt=>md(Rt,p0)),$n(ue,o.toStyles)}),Ye.forEach(Rt=>{qa(m,Rt,[]).push(ft)}),ft}_buildPlayer(f,o,h){return o.length>0?this.driver.animate(f.element,o,f.duration,f.delay,f.easing,h):new Pi(f.duration,f.delay)}}class Cm{constructor(f,o,h){this.namespaceId=f,this.triggerName=o,this.element=h,this._player=new Pi,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(f){this._containsRealPlayer||(this._player=f,this._queuedCallbacks.forEach((o,h)=>{o.forEach(m=>wp(f,h,void 0,m))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(f.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(f){this.totalTime=f}syncPlayerEvents(f){const o=this._player;o.triggerCallback&&f.onStart(()=>o.triggerCallback("start")),f.onDone(()=>this.finish()),f.onDestroy(()=>this.destroy())}_queueEvent(f,o){qa(this._queuedCallbacks,f,[]).push(o)}onDone(f){this.queued&&this._queueEvent("done",f),this._player.onDone(f)}onStart(f){this.queued&&this._queueEvent("start",f),this._player.onStart(f)}onDestroy(f){this.queued&&this._queueEvent("destroy",f),this._player.onDestroy(f)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(f){this.queued||this._player.setPosition(f)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(f){const o=this._player;o.triggerCallback&&o.triggerCallback(f)}}function gd(l){return l&&1===l.nodeType}function E0(l,f){const o=l.style.display;return l.style.display=f??"none",o}function Cs(l,f,o,h,m){const T=[];o.forEach(ue=>T.push(E0(ue)));const k=[];h.forEach((ue,ge)=>{const Te=new Map;ue.forEach(Ye=>{const lt=f.computeStyle(ge,Ye,m);Te.set(Ye,lt),(!lt||0==lt.length)&&(ge[cl]=T0,k.push(ge))}),l.set(ge,Te)});let J=0;return o.forEach(ue=>E0(ue,T[J++])),k}function Qt(l,f){const o=new Map;if(l.forEach(J=>o.set(J,[])),0==f.length)return o;const m=new Set(f),T=new Map;function k(J){if(!J)return 1;let ue=T.get(J);if(ue)return ue;const ge=J.parentNode;return ue=o.has(ge)?ge:m.has(ge)?1:k(ge),T.set(J,ue),ue}return f.forEach(J=>{const ue=k(J);1!==ue&&o.get(ue).push(J)}),o}function ra(l,f){l.classList?.add(f)}function md(l,f){l.classList?.remove(f)}function nu(l,f,o){Ru(o).onDone(()=>l.processLeaveNode(f))}function Pp(l,f){for(let o=0;o<l.length;o++){const h=l[o];h instanceof ts?Pp(h.players,f):f.push(h)}}function hf(l,f,o){const h=o.get(l);if(!h)return!1;let m=f.get(l);return m?h.forEach(T=>m.add(T)):f.set(l,h),o.delete(l),!0}class kp{constructor(f,o,h){this.bodyNode=f,this._driver=o,this._normalizer=h,this._triggerCache={},this.onRemovalComplete=(m,T)=>{},this._transitionEngine=new df(f,o,h),this._timelineEngine=new rt(f,o,h),this._transitionEngine.onRemovalComplete=(m,T)=>this.onRemovalComplete(m,T)}registerTrigger(f,o,h,m,T){const k=f+"-"+m;let J=this._triggerCache[k];if(!J){const ue=[],Te=gy(this._driver,T,ue,[]);if(ue.length)throw function yp(l,f){return new u.vHH(3404,!1)}();J=function Ey(l,f,o){return new hn(l,f,o)}(m,Te,this._normalizer),this._triggerCache[k]=J}this._transitionEngine.registerTrigger(o,m,J)}register(f,o){this._transitionEngine.register(f,o)}destroy(f,o){this._transitionEngine.destroy(f,o)}onInsert(f,o,h,m){this._transitionEngine.insertNode(f,o,h,m)}onRemove(f,o,h){this._transitionEngine.removeNode(f,o,h)}disableAnimations(f,o){this._transitionEngine.markElementAsDisabled(f,o)}process(f,o,h,m){if("@"==h.charAt(0)){const[T,k]=dm(h);this._timelineEngine.command(T,o,k,m)}else this._transitionEngine.trigger(f,o,h,m)}listen(f,o,h,m,T){if("@"==h.charAt(0)){const[k,J]=dm(h);return this._timelineEngine.listen(k,o,J,T)}return this._transitionEngine.listen(f,o,h,m,T)}flush(f=-1){this._transitionEngine.flush(f)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(f){this._transitionEngine.afterFlushAnimationsDone(f)}}let fc=(()=>{class l{static#e=this.initialStylesByElement=new WeakMap;constructor(o,h,m){this._element=o,this._startStyles=h,this._endStyles=m,this._state=0;let T=l.initialStylesByElement.get(o);T||l.initialStylesByElement.set(o,T=new Map),this._initialStyles=T}start(){this._state<1&&(this._startStyles&&$n(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&($n(this._element,this._initialStyles),this._endStyles&&($n(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(l.initialStylesByElement.delete(this._element),this._startStyles&&(eu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(eu(this._element,this._endStyles),this._endStyles=null),$n(this._element,this._initialStyles),this._state=3)}}return l})();function ff(l){let f=null;return l.forEach((o,h)=>{(function Cy(l){return"display"===l||"position"===l})(h)&&(f=f||new Map,f.set(h,o))}),f}class C0{constructor(f,o,h,m){this.element=f,this.keyframes=o,this.options=h,this._specialStyles=m,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=h.duration,this._delay=h.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const f=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,f,this.options),this._finalKeyframe=f.length?f[f.length-1]:new Map;const o=()=>this._onFinish();this.domPlayer.addEventListener("finish",o),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",o)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(f){const o=[];return f.forEach(h=>{o.push(Object.fromEntries(h))}),o}_triggerWebAnimation(f,o,h){return f.animate(this._convertKeyframesToObject(o),h)}onStart(f){this._originalOnStartFns.push(f),this._onStartFns.push(f)}onDone(f){this._originalOnDoneFns.push(f),this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(f=>f()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}setPosition(f){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=f*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const f=new Map;this.hasStarted()&&this._finalKeyframe.forEach((h,m)=>{"offset"!==m&&f.set(m,this._finished?h:vm(this.element,m))}),this.currentSnapshot=f}triggerCallback(f){const o="start"===f?this._onStartFns:this._onDoneFns;o.forEach(h=>h()),o.length=0}}class lh{validateStyleProperty(f){return!0}validateAnimatableStyleProperty(f){return!0}matchesElement(f,o){return!1}containsElement(f,o){return hd(f,o)}getParentElement(f){return Pu(f)}query(f,o,h){return ku(f,o,h)}computeStyle(f,o,h){return window.getComputedStyle(f)[o]}animate(f,o,h,m,T,k=[]){const ue={duration:h,delay:m,fill:0==m?"both":"forwards"};T&&(ue.easing=T);const ge=new Map,Te=k.filter(ft=>ft instanceof C0);(function Sp(l,f){return 0===l||0===f})(h,m)&&Te.forEach(ft=>{ft.currentSnapshot.forEach((Rt,Bt)=>ge.set(Bt,Rt))});let Ye=function g0(l){return l.length?l[0]instanceof Map?l:l.map(f=>dy(f)):[]}(o).map(ft=>xc(ft));Ye=function ym(l,f,o){if(o.size&&f.length){let h=f[0],m=[];if(o.forEach((T,k)=>{h.has(k)||m.push(k),h.set(k,T)}),m.length)for(let T=1;T<f.length;T++){let k=f[T];m.forEach(J=>k.set(J,vm(l,J)))}}return f}(f,Ye,ge);const lt=function D0(l,f){let o=null,h=null;return Array.isArray(f)&&f.length?(o=ff(f[0]),f.length>1&&(h=ff(f[f.length-1]))):f instanceof Map&&(o=ff(f)),o||h?new fc(l,o,h):null}(f,Ye);return new C0(f,Ye,ue,lt)}}let Sm=(()=>{class l extends Tt{constructor(o,h){super(),this._nextAnimationId=0,this._renderer=o.createRenderer(h.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(o){const h=this._nextAnimationId.toString();this._nextAnimationId++;const m=Array.isArray(o)?jr(o):o;return Ya(this._renderer,null,h,"register",[m]),new qe(h,this._renderer)}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(u.FYo),u.LFG(le.K0))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac})}return l})();class qe extends on{constructor(f,o){super(),this._id=f,this._renderer=o}create(f,o){return new Sy(this._id,f,o||{},this._renderer)}}class Sy{constructor(f,o,h,m){this.id=f,this.element=o,this._renderer=m,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",h)}_listen(f,o){return this._renderer.listen(this.element,`@@${this.id}:${f}`,o)}_command(f,...o){return Ya(this._renderer,this.element,this.id,f,o)}onDone(f){this._listen("done",f)}onStart(f){this._listen("start",f)}onDestroy(f){this._listen("destroy",f)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(f){this._command("setPosition",f)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Ya(l,f,o,h,m){return l.setProperty(f,`@@${o}:${h}`,m)}const pf="@.disabled";let ru=(()=>{class l{constructor(o,h,m){this.delegate=o,this.engine=h,this._zone=m,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,h.onRemovalComplete=(T,k)=>{const J=k?.parentNode(T);J&&k.removeChild(J,T)}}createRenderer(o,h){const T=this.delegate.createRenderer(o,h);if(!(o&&h&&h.data&&h.data.animation)){let Te=this._rendererCache.get(T);return Te||(Te=new S0("",T,this.engine,()=>this._rendererCache.delete(T)),this._rendererCache.set(T,Te)),Te}const k=h.id,J=h.id+"-"+this._currentId;this._currentId++,this.engine.register(J,o);const ue=Te=>{Array.isArray(Te)?Te.forEach(ue):this.engine.registerTrigger(k,J,o,Te.name,Te)};return h.data.animation.forEach(ue),new Sa(this,J,T,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(o,h,m){o>=0&&o<this._microtaskId?this._zone.run(()=>h(m)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(T=>{const[k,J]=T;k(J)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([h,m]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(u.FYo),u.LFG(kp),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac})}return l})();class S0{constructor(f,o,h,m){this.namespaceId=f,this.delegate=o,this.engine=h,this._onDestroy=m}get data(){return this.delegate.data}destroyNode(f){this.delegate.destroyNode?.(f)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(f,o){return this.delegate.createElement(f,o)}createComment(f){return this.delegate.createComment(f)}createText(f){return this.delegate.createText(f)}appendChild(f,o){this.delegate.appendChild(f,o),this.engine.onInsert(this.namespaceId,o,f,!1)}insertBefore(f,o,h,m=!0){this.delegate.insertBefore(f,o,h),this.engine.onInsert(this.namespaceId,o,f,m)}removeChild(f,o,h){this.engine.onRemove(this.namespaceId,o,this.delegate)}selectRootElement(f,o){return this.delegate.selectRootElement(f,o)}parentNode(f){return this.delegate.parentNode(f)}nextSibling(f){return this.delegate.nextSibling(f)}setAttribute(f,o,h,m){this.delegate.setAttribute(f,o,h,m)}removeAttribute(f,o,h){this.delegate.removeAttribute(f,o,h)}addClass(f,o){this.delegate.addClass(f,o)}removeClass(f,o){this.delegate.removeClass(f,o)}setStyle(f,o,h,m){this.delegate.setStyle(f,o,h,m)}removeStyle(f,o,h){this.delegate.removeStyle(f,o,h)}setProperty(f,o,h){"@"==o.charAt(0)&&o==pf?this.disableAnimations(f,!!h):this.delegate.setProperty(f,o,h)}setValue(f,o){this.delegate.setValue(f,o)}listen(f,o,h){return this.delegate.listen(f,o,h)}disableAnimations(f,o){this.engine.disableAnimations(f,o)}}class Sa extends S0{constructor(f,o,h,m,T){super(o,h,m,T),this.factory=f,this.namespaceId=o}setProperty(f,o,h){"@"==o.charAt(0)?"."==o.charAt(1)&&o==pf?this.disableAnimations(f,h=void 0===h||!!h):this.engine.process(this.namespaceId,f,o.slice(1),h):this.delegate.setProperty(f,o,h)}listen(f,o,h){if("@"==o.charAt(0)){const m=function gf(l){switch(l){case"body":return document.body;case"document":return document;case"window":return window;default:return l}}(f);let T=o.slice(1),k="";return"@"!=T.charAt(0)&&([T,k]=function zo(l){const f=l.indexOf(".");return[l.substring(0,f),l.slice(f+1)]}(T)),this.engine.listen(this.namespaceId,m,T,k,J=>{this.factory.scheduleListenerCallback(J._data||-1,h,J)})}return this.delegate.listen(f,o,h)}}const _d=[{provide:Tt,useClass:Sm},{provide:Tm,useFactory:function Nm(){return new Eo}},{provide:kp,useClass:(()=>{class l extends kp{constructor(o,h,m,T){super(o.body,h,m)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(le.K0),u.LFG(fd),u.LFG(Tm),u.LFG(u.z2F))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac})}return l})()},{provide:u.FYo,useFactory:function ss(l,f,o){return new ru(l,f,o)},deps:[w.se,kp,u.R0b]}],ll=[{provide:fd,useFactory:()=>new lh},{provide:u.QbO,useValue:"BrowserAnimations"},..._d],yd=[{provide:fd,useClass:fm},{provide:u.QbO,useValue:"NoopAnimations"},..._d];let js=(()=>{class l{static withConfig(o){return{ngModule:l,providers:o.disableAnimations?yd:ll}}static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({providers:ll,imports:[w.b2]})}return l})(),dh=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l,bootstrap:[ec]});static#n=this.\u0275inj=u.cJS({imports:[w.b2,$,ry.r,js,(0,Pa.hX)(()=>(0,Pa.ZF)(cs.N.firebaseConfig)),(0,bt.Cm)(()=>(0,bt.ad)()),ca,Ab]})}return l})();w.q6().bootstrapModule(dh).catch(l=>console.error(l))},5619:(Gt,ze,Q)=>{Q.d(ze,{X:()=>ce});var w=Q(8645);class ce extends w.x{constructor(we){super(),this._value=we}get value(){return this.getValue()}_subscribe(we){const de=super._subscribe(we);return!de.closed&&we.next(this._value),de}getValue(){const{hasError:we,thrownError:de,_value:fe}=this;if(we)throw de;return this._throwIfClosed(),fe}next(we){super.next(this._value=we)}}},5592:(Gt,ze,Q)=>{Q.d(ze,{y:()=>He});var w=Q(305),ce=Q(7394),u=Q(4850),we=Q(8407),de=Q(2653),fe=Q(4674),Oe=Q(1441);let He=(()=>{class Se{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const it=new Se;return it.source=this,it.operator=Pe,it}subscribe(Pe,it,At){const Lt=function le(Se){return Se&&Se instanceof w.Lv||function re(Se){return Se&&(0,fe.m)(Se.next)&&(0,fe.m)(Se.error)&&(0,fe.m)(Se.complete)}(Se)&&(0,ce.Nn)(Se)}(Pe)?Pe:new w.Hp(Pe,it,At);return(0,Oe.x)(()=>{const{operator:Ft,source:Sn}=this;Lt.add(Ft?Ft.call(Lt,Sn):Sn?this._subscribe(Lt):this._trySubscribe(Lt))}),Lt}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(it){Pe.error(it)}}forEach(Pe,it){return new(it=Ee(it))((At,Lt)=>{const Ft=new w.Hp({next:Sn=>{try{Pe(Sn)}catch(Mt){Lt(Mt),Ft.unsubscribe()}},error:Lt,complete:At});this.subscribe(Ft)})}_subscribe(Pe){var it;return null===(it=this.source)||void 0===it?void 0:it.subscribe(Pe)}[u.L](){return this}pipe(...Pe){return(0,we.U)(Pe)(this)}toPromise(Pe){return new(Pe=Ee(Pe))((it,At)=>{let Lt;this.subscribe(Ft=>Lt=Ft,Ft=>At(Ft),()=>it(Lt))})}}return Se.create=et=>new Se(et),Se})();function Ee(Se){var et;return null!==(et=Se??de.config.Promise)&&void 0!==et?et:Promise}},8645:(Gt,ze,Q)=>{Q.d(ze,{x:()=>Oe});var w=Q(5592),ce=Q(7394);const we=(0,Q(2306).d)(Ee=>function(){Ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=Q(9039),fe=Q(1441);let Oe=(()=>{class Ee extends w.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(le){const Se=new He(this,this);return Se.operator=le,Se}_throwIfClosed(){if(this.closed)throw new we}next(le){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Se of this.currentObservers)Se.next(le)}})}error(le){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=le;const{observers:Se}=this;for(;Se.length;)Se.shift().error(le)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:le}=this;for(;le.length;)le.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var le;return(null===(le=this.observers)||void 0===le?void 0:le.length)>0}_trySubscribe(le){return this._throwIfClosed(),super._trySubscribe(le)}_subscribe(le){return this._throwIfClosed(),this._checkFinalizedStatuses(le),this._innerSubscribe(le)}_innerSubscribe(le){const{hasError:Se,isStopped:et,observers:Pe}=this;return Se||et?ce.Lc:(this.currentObservers=null,Pe.push(le),new ce.w0(()=>{this.currentObservers=null,(0,de.P)(Pe,le)}))}_checkFinalizedStatuses(le){const{hasError:Se,thrownError:et,isStopped:Pe}=this;Se?le.error(et):Pe&&le.complete()}asObservable(){const le=new w.y;return le.source=this,le}}return Ee.create=(re,le)=>new He(re,le),Ee})();class He extends Oe{constructor(re,le){super(),this.destination=re,this.source=le}next(re){var le,Se;null===(Se=null===(le=this.destination)||void 0===le?void 0:le.next)||void 0===Se||Se.call(le,re)}error(re){var le,Se;null===(Se=null===(le=this.destination)||void 0===le?void 0:le.error)||void 0===Se||Se.call(le,re)}complete(){var re,le;null===(le=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===le||le.call(re)}_subscribe(re){var le,Se;return null!==(Se=null===(le=this.source)||void 0===le?void 0:le.subscribe(re))&&void 0!==Se?Se:ce.Lc}}},305:(Gt,ze,Q)=>{Q.d(ze,{Hp:()=>At,Lv:()=>Se});var w=Q(4674),ce=Q(7394),u=Q(2653),we=Q(3894),de=Q(2420);const fe=Ee("C",void 0,void 0);function Ee(mt,ot,vt){return{kind:mt,value:ot,error:vt}}var re=Q(7599),le=Q(1441);class Se extends ce.w0{constructor(ot){super(),this.isStopped=!1,ot?(this.destination=ot,(0,ce.Nn)(ot)&&ot.add(this)):this.destination=Mt}static create(ot,vt,_t){return new At(ot,vt,_t)}next(ot){this.isStopped?Sn(function He(mt){return Ee("N",mt,void 0)}(ot),this):this._next(ot)}error(ot){this.isStopped?Sn(function Oe(mt){return Ee("E",void 0,mt)}(ot),this):(this.isStopped=!0,this._error(ot))}complete(){this.isStopped?Sn(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ot){this.destination.next(ot)}_error(ot){try{this.destination.error(ot)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const et=Function.prototype.bind;function Pe(mt,ot){return et.call(mt,ot)}class it{constructor(ot){this.partialObserver=ot}next(ot){const{partialObserver:vt}=this;if(vt.next)try{vt.next(ot)}catch(_t){Lt(_t)}}error(ot){const{partialObserver:vt}=this;if(vt.error)try{vt.error(ot)}catch(_t){Lt(_t)}else Lt(ot)}complete(){const{partialObserver:ot}=this;if(ot.complete)try{ot.complete()}catch(vt){Lt(vt)}}}class At extends Se{constructor(ot,vt,_t){let Ge;if(super(),(0,w.m)(ot)||!ot)Ge={next:ot??void 0,error:vt??void 0,complete:_t??void 0};else{let ve;this&&u.config.useDeprecatedNextContext?(ve=Object.create(ot),ve.unsubscribe=()=>this.unsubscribe(),Ge={next:ot.next&&Pe(ot.next,ve),error:ot.error&&Pe(ot.error,ve),complete:ot.complete&&Pe(ot.complete,ve)}):Ge=ot}this.destination=new it(Ge)}}function Lt(mt){u.config.useDeprecatedSynchronousErrorHandling?(0,le.O)(mt):(0,we.h)(mt)}function Sn(mt,ot){const{onStoppedNotification:vt}=u.config;vt&&re.z.setTimeout(()=>vt(mt,ot))}const Mt={closed:!0,next:de.Z,error:function Ft(mt){throw mt},complete:de.Z}},7394:(Gt,ze,Q)=>{Q.d(ze,{Lc:()=>fe,w0:()=>de,Nn:()=>Oe});var w=Q(4674);const u=(0,Q(2306).d)(Ee=>function(le){Ee(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map((Se,et)=>`${et+1}) ${Se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le});var we=Q(9039);class de{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:le}=this;if(le)if(this._parentage=null,Array.isArray(le))for(const Pe of le)Pe.remove(this);else le.remove(this);const{initialTeardown:Se}=this;if((0,w.m)(Se))try{Se()}catch(Pe){re=Pe instanceof u?Pe.errors:[Pe]}const{_finalizers:et}=this;if(et){this._finalizers=null;for(const Pe of et)try{He(Pe)}catch(it){re=re??[],it instanceof u?re=[...re,...it.errors]:re.push(it)}}if(re)throw new u(re)}}add(re){var le;if(re&&re!==this)if(this.closed)He(re);else{if(re instanceof de){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(le=this._finalizers)&&void 0!==le?le:[]).push(re)}}_hasParent(re){const{_parentage:le}=this;return le===re||Array.isArray(le)&&le.includes(re)}_addParent(re){const{_parentage:le}=this;this._parentage=Array.isArray(le)?(le.push(re),le):le?[le,re]:re}_removeParent(re){const{_parentage:le}=this;le===re?this._parentage=null:Array.isArray(le)&&(0,we.P)(le,re)}remove(re){const{_finalizers:le}=this;le&&(0,we.P)(le,re),re instanceof de&&re._removeParent(this)}}de.EMPTY=(()=>{const Ee=new de;return Ee.closed=!0,Ee})();const fe=de.EMPTY;function Oe(Ee){return Ee instanceof de||Ee&&"closed"in Ee&&(0,w.m)(Ee.remove)&&(0,w.m)(Ee.add)&&(0,w.m)(Ee.unsubscribe)}function He(Ee){(0,w.m)(Ee)?Ee():Ee.unsubscribe()}},2653:(Gt,ze,Q)=>{Q.d(ze,{config:()=>w});const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:(Gt,ze,Q)=>{Q.d(ze,{z:()=>de});var w=Q(7537),u=Q(9940),we=Q(2459);function de(...fe){return function ce(){return(0,w.J)(1)}()((0,we.D)(fe,(0,u.yG)(fe)))}},6232:(Gt,ze,Q)=>{Q.d(ze,{E:()=>ce});const ce=new(Q(5592).y)(de=>de.complete())},2459:(Gt,ze,Q)=>{Q.d(ze,{D:()=>ot});var w=Q(4829),ce=Q(3093),u=Q(5137),fe=Q(5592),He=Q(4971),Ee=Q(4674),re=Q(7103);function Se(vt,_t){if(!vt)throw new Error("Iterable cannot be null");return new fe.y(Ge=>{(0,re.f)(Ge,_t,()=>{const ve=vt[Symbol.asyncIterator]();(0,re.f)(Ge,_t,()=>{ve.next().then(Qe=>{Qe.done?Ge.complete():Ge.next(Qe.value)})},0,!0)})})}var et=Q(8382),Pe=Q(4026),it=Q(4266),At=Q(3664),Lt=Q(5726),Ft=Q(9853),Sn=Q(541);function ot(vt,_t){return _t?function mt(vt,_t){if(null!=vt){if((0,et.c)(vt))return function we(vt,_t){return(0,w.Xf)(vt).pipe((0,u.R)(_t),(0,ce.Q)(_t))}(vt,_t);if((0,it.z)(vt))return function Oe(vt,_t){return new fe.y(Ge=>{let ve=0;return _t.schedule(function(){ve===vt.length?Ge.complete():(Ge.next(vt[ve++]),Ge.closed||this.schedule())})})}(vt,_t);if((0,Pe.t)(vt))return function de(vt,_t){return(0,w.Xf)(vt).pipe((0,u.R)(_t),(0,ce.Q)(_t))}(vt,_t);if((0,Lt.D)(vt))return Se(vt,_t);if((0,At.T)(vt))return function le(vt,_t){return new fe.y(Ge=>{let ve;return(0,re.f)(Ge,_t,()=>{ve=vt[He.h](),(0,re.f)(Ge,_t,()=>{let Qe,gt;try{({value:Qe,done:gt}=ve.next())}catch(xn){return void Ge.error(xn)}gt?Ge.complete():Ge.next(Qe)},0,!0)}),()=>(0,Ee.m)(ve?.return)&&ve.return()})}(vt,_t);if((0,Sn.L)(vt))return function Mt(vt,_t){return Se((0,Sn.Q)(vt),_t)}(vt,_t)}throw(0,Ft.z)(vt)}(vt,_t):(0,w.Xf)(vt)}},4829:(Gt,ze,Q)=>{Q.d(ze,{Xf:()=>et});var w=Q(7582),ce=Q(4266),u=Q(4026),we=Q(5592),de=Q(8382),fe=Q(5726),Oe=Q(9853),He=Q(3664),Ee=Q(541),re=Q(4674),le=Q(3894),Se=Q(4850);function et(mt){if(mt instanceof we.y)return mt;if(null!=mt){if((0,de.c)(mt))return function Pe(mt){return new we.y(ot=>{const vt=mt[Se.L]();if((0,re.m)(vt.subscribe))return vt.subscribe(ot);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(mt);if((0,ce.z)(mt))return function it(mt){return new we.y(ot=>{for(let vt=0;vt<mt.length&&!ot.closed;vt++)ot.next(mt[vt]);ot.complete()})}(mt);if((0,u.t)(mt))return function At(mt){return new we.y(ot=>{mt.then(vt=>{ot.closed||(ot.next(vt),ot.complete())},vt=>ot.error(vt)).then(null,le.h)})}(mt);if((0,fe.D)(mt))return Ft(mt);if((0,He.T)(mt))return function Lt(mt){return new we.y(ot=>{for(const vt of mt)if(ot.next(vt),ot.closed)return;ot.complete()})}(mt);if((0,Ee.L)(mt))return function Sn(mt){return Ft((0,Ee.Q)(mt))}(mt)}throw(0,Oe.z)(mt)}function Ft(mt){return new we.y(ot=>{(function Mt(mt,ot){var vt,_t,Ge,ve;return(0,w.mG)(this,void 0,void 0,function*(){try{for(vt=(0,w.KL)(mt);!(_t=yield vt.next()).done;)if(ot.next(_t.value),ot.closed)return}catch(Qe){Ge={error:Qe}}finally{try{_t&&!_t.done&&(ve=vt.return)&&(yield ve.call(vt))}finally{if(Ge)throw Ge.error}}ot.complete()})})(mt,ot).catch(vt=>ot.error(vt))})}},3019:(Gt,ze,Q)=>{Q.d(ze,{T:()=>fe});var w=Q(7537),ce=Q(4829),u=Q(6232),we=Q(9940),de=Q(2459);function fe(...Oe){const He=(0,we.yG)(Oe),Ee=(0,we._6)(Oe,1/0),re=Oe;return re.length?1===re.length?(0,ce.Xf)(re[0]):(0,w.J)(Ee)((0,de.D)(re,He)):u.E}},2096:(Gt,ze,Q)=>{Q.d(ze,{of:()=>u});var w=Q(9940),ce=Q(2459);function u(...we){const de=(0,w.yG)(we);return(0,ce.D)(we,de)}},8251:(Gt,ze,Q)=>{Q.d(ze,{x:()=>ce});var w=Q(305);function ce(we,de,fe,Oe,He){return new u(we,de,fe,Oe,He)}class u extends w.Lv{constructor(de,fe,Oe,He,Ee,re){super(de),this.onFinalize=Ee,this.shouldUnsubscribe=re,this._next=fe?function(le){try{fe(le)}catch(Se){de.error(Se)}}:super._next,this._error=He?function(le){try{He(le)}catch(Se){de.error(Se)}finally{this.unsubscribe()}}:super._error,this._complete=Oe?function(){try{Oe()}catch(le){de.error(le)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},3997:(Gt,ze,Q)=>{Q.d(ze,{x:()=>we});var w=Q(2737),ce=Q(9360),u=Q(8251);function we(fe,Oe=w.y){return fe=fe??de,(0,ce.e)((He,Ee)=>{let re,le=!0;He.subscribe((0,u.x)(Ee,Se=>{const et=Oe(Se);(le||!fe(re,et))&&(le=!1,re=et,Ee.next(Se))}))})}function de(fe,Oe){return fe===Oe}},2181:(Gt,ze,Q)=>{Q.d(ze,{h:()=>u});var w=Q(9360),ce=Q(8251);function u(we,de){return(0,w.e)((fe,Oe)=>{let He=0;fe.subscribe((0,ce.x)(Oe,Ee=>we.call(de,Ee,He++)&&Oe.next(Ee)))})}},7398:(Gt,ze,Q)=>{Q.d(ze,{U:()=>u});var w=Q(9360),ce=Q(8251);function u(we,de){return(0,w.e)((fe,Oe)=>{let He=0;fe.subscribe((0,ce.x)(Oe,Ee=>{Oe.next(we.call(de,Ee,He++))}))})}},975:(Gt,ze,Q)=>{Q.d(ze,{h:()=>ce});var w=Q(7398);function ce(u){return(0,w.U)(()=>u)}},7537:(Gt,ze,Q)=>{Q.d(ze,{J:()=>u});var w=Q(1631),ce=Q(2737);function u(we=1/0){return(0,w.z)(ce.y,we)}},1631:(Gt,ze,Q)=>{Q.d(ze,{z:()=>He});var w=Q(7398),ce=Q(4829),u=Q(9360),we=Q(7103),de=Q(8251),Oe=Q(4674);function He(Ee,re,le=1/0){return(0,Oe.m)(re)?He((Se,et)=>(0,w.U)((Pe,it)=>re(Se,Pe,et,it))((0,ce.Xf)(Ee(Se,et))),le):("number"==typeof re&&(le=re),(0,u.e)((Se,et)=>function fe(Ee,re,le,Se,et,Pe,it,At){const Lt=[];let Ft=0,Sn=0,Mt=!1;const mt=()=>{Mt&&!Lt.length&&!Ft&&re.complete()},ot=_t=>Ft<Se?vt(_t):Lt.push(_t),vt=_t=>{Pe&&re.next(_t),Ft++;let Ge=!1;(0,ce.Xf)(le(_t,Sn++)).subscribe((0,de.x)(re,ve=>{et?.(ve),Pe?ot(ve):re.next(ve)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(Ft--;Lt.length&&Ft<Se;){const ve=Lt.shift();it?(0,we.f)(re,it,()=>vt(ve)):vt(ve)}mt()}catch(ve){re.error(ve)}}))};return Ee.subscribe((0,de.x)(re,ot,()=>{Mt=!0,mt()})),()=>{At?.()}}(Se,et,Ee,le)))}},3093:(Gt,ze,Q)=>{Q.d(ze,{Q:()=>we});var w=Q(7103),ce=Q(9360),u=Q(8251);function we(de,fe=0){return(0,ce.e)((Oe,He)=>{Oe.subscribe((0,u.x)(He,Ee=>(0,w.f)(He,de,()=>He.next(Ee),fe),()=>(0,w.f)(He,de,()=>He.complete(),fe),Ee=>(0,w.f)(He,de,()=>He.error(Ee),fe)))})}},7921:(Gt,ze,Q)=>{Q.d(ze,{O:()=>we});var w=Q(5211),ce=Q(9940),u=Q(9360);function we(...de){const fe=(0,ce.yG)(de);return(0,u.e)((Oe,He)=>{(fe?(0,w.z)(de,Oe,fe):(0,w.z)(de,Oe)).subscribe(He)})}},5137:(Gt,ze,Q)=>{Q.d(ze,{R:()=>ce});var w=Q(9360);function ce(u,we=0){return(0,w.e)((de,fe)=>{fe.add(u.schedule(()=>de.subscribe(fe),we))})}},4664:(Gt,ze,Q)=>{Q.d(ze,{w:()=>we});var w=Q(4829),ce=Q(9360),u=Q(8251);function we(de,fe){return(0,ce.e)((Oe,He)=>{let Ee=null,re=0,le=!1;const Se=()=>le&&!Ee&&He.complete();Oe.subscribe((0,u.x)(He,et=>{Ee?.unsubscribe();let Pe=0;const it=re++;(0,w.Xf)(de(et,it)).subscribe(Ee=(0,u.x)(He,At=>He.next(fe?fe(et,At,it,Pe++):At),()=>{Ee=null,Se()}))},()=>{le=!0,Se()}))})}},8180:(Gt,ze,Q)=>{Q.d(ze,{q:()=>we});var w=Q(6232),ce=Q(9360),u=Q(8251);function we(de){return de<=0?()=>w.E:(0,ce.e)((fe,Oe)=>{let He=0;fe.subscribe((0,u.x)(Oe,Ee=>{++He<=de&&(Oe.next(Ee),de<=He&&Oe.complete())}))})}},9773:(Gt,ze,Q)=>{Q.d(ze,{R:()=>de});var w=Q(9360),ce=Q(8251),u=Q(4829),we=Q(2420);function de(fe){return(0,w.e)((Oe,He)=>{(0,u.Xf)(fe).subscribe((0,ce.x)(He,()=>He.complete(),we.Z)),!He.closed&&Oe.subscribe(He)})}},9397:(Gt,ze,Q)=>{Q.d(ze,{b:()=>de});var w=Q(4674),ce=Q(9360),u=Q(8251),we=Q(2737);function de(fe,Oe,He){const Ee=(0,w.m)(fe)||Oe||He?{next:fe,error:Oe,complete:He}:fe;return Ee?(0,ce.e)((re,le)=>{var Se;null===(Se=Ee.subscribe)||void 0===Se||Se.call(Ee);let et=!0;re.subscribe((0,u.x)(le,Pe=>{var it;null===(it=Ee.next)||void 0===it||it.call(Ee,Pe),le.next(Pe)},()=>{var Pe;et=!1,null===(Pe=Ee.complete)||void 0===Pe||Pe.call(Ee),le.complete()},Pe=>{var it;et=!1,null===(it=Ee.error)||void 0===it||it.call(Ee,Pe),le.error(Pe)},()=>{var Pe,it;et&&(null===(Pe=Ee.unsubscribe)||void 0===Pe||Pe.call(Ee)),null===(it=Ee.finalize)||void 0===it||it.call(Ee)}))}):we.y}},1954:(Gt,ze,Q)=>{Q.d(ze,{o:()=>de});var w=Q(7394);class ce extends w.w0{constructor(Oe,He){super()}schedule(Oe,He=0){return this}}const u={setInterval(fe,Oe,...He){const{delegate:Ee}=u;return Ee?.setInterval?Ee.setInterval(fe,Oe,...He):setInterval(fe,Oe,...He)},clearInterval(fe){const{delegate:Oe}=u;return(Oe?.clearInterval||clearInterval)(fe)},delegate:void 0};var we=Q(9039);class de extends ce{constructor(Oe,He){super(Oe,He),this.scheduler=Oe,this.work=He,this.pending=!1}schedule(Oe,He=0){var Ee;if(this.closed)return this;this.state=Oe;const re=this.id,le=this.scheduler;return null!=re&&(this.id=this.recycleAsyncId(le,re,He)),this.pending=!0,this.delay=He,this.id=null!==(Ee=this.id)&&void 0!==Ee?Ee:this.requestAsyncId(le,this.id,He),this}requestAsyncId(Oe,He,Ee=0){return u.setInterval(Oe.flush.bind(Oe,this),Ee)}recycleAsyncId(Oe,He,Ee=0){if(null!=Ee&&this.delay===Ee&&!1===this.pending)return He;null!=He&&u.clearInterval(He)}execute(Oe,He){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(Oe,He);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Oe,He){let re,Ee=!1;try{this.work(Oe)}catch(le){Ee=!0,re=le||new Error("Scheduled action threw falsy error")}if(Ee)return this.unsubscribe(),re}unsubscribe(){if(!this.closed){const{id:Oe,scheduler:He}=this,{actions:Ee}=He;this.work=this.state=this.scheduler=null,this.pending=!1,(0,we.P)(Ee,this),null!=Oe&&(this.id=this.recycleAsyncId(He,Oe,null)),this.delay=null,super.unsubscribe()}}}},9931:(Gt,ze,Q)=>{Q.d(ze,{v:()=>u});const w={now:()=>(w.delegate||Date).now(),delegate:void 0};class ce{constructor(de,fe=ce.now){this.schedulerActionCtor=de,this.now=fe}schedule(de,fe=0,Oe){return new this.schedulerActionCtor(this,de).schedule(Oe,fe)}}ce.now=w.now;class u extends ce{constructor(de,fe=ce.now){super(de,fe),this.actions=[],this._active=!1}flush(de){const{actions:fe}=this;if(this._active)return void fe.push(de);let Oe;this._active=!0;do{if(Oe=de.execute(de.state,de.delay))break}while(de=fe.shift());if(this._active=!1,Oe){for(;de=fe.shift();)de.unsubscribe();throw Oe}}}},6321:(Gt,ze,Q)=>{Q.d(ze,{P:()=>we,z:()=>u});var w=Q(1954);const u=new(Q(9931).v)(w.o),we=u},7599:(Gt,ze,Q)=>{Q.d(ze,{z:()=>w});const w={setTimeout(ce,u,...we){const{delegate:de}=w;return de?.setTimeout?de.setTimeout(ce,u,...we):setTimeout(ce,u,...we)},clearTimeout(ce){const{delegate:u}=w;return(u?.clearTimeout||clearTimeout)(ce)},delegate:void 0}},4971:(Gt,ze,Q)=>{Q.d(ze,{h:()=>ce});const ce=function w(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Gt,ze,Q)=>{Q.d(ze,{L:()=>w});const w="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Gt,ze,Q)=>{Q.d(ze,{K:()=>ce});const ce=(0,Q(2306).d)(u=>function(){u(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Gt,ze,Q)=>{Q.d(ze,{_6:()=>fe,jO:()=>we,yG:()=>de});var w=Q(4674),ce=Q(671);function u(Oe){return Oe[Oe.length-1]}function we(Oe){return(0,w.m)(u(Oe))?Oe.pop():void 0}function de(Oe){return(0,ce.K)(u(Oe))?Oe.pop():void 0}function fe(Oe,He){return"number"==typeof u(Oe)?Oe.pop():He}},7453:(Gt,ze,Q)=>{Q.d(ze,{D:()=>de});const{isArray:w}=Array,{getPrototypeOf:ce,prototype:u,keys:we}=Object;function de(Oe){if(1===Oe.length){const He=Oe[0];if(w(He))return{args:He,keys:null};if(function fe(Oe){return Oe&&"object"==typeof Oe&&ce(Oe)===u}(He)){const Ee=we(He);return{args:Ee.map(re=>He[re]),keys:Ee}}}return{args:Oe,keys:null}}},9039:(Gt,ze,Q)=>{function w(ce,u){if(ce){const we=ce.indexOf(u);0<=we&&ce.splice(we,1)}}Q.d(ze,{P:()=>w})},2306:(Gt,ze,Q)=>{function w(ce){const we=ce(de=>{Error.call(de),de.stack=(new Error).stack});return we.prototype=Object.create(Error.prototype),we.prototype.constructor=we,we}Q.d(ze,{d:()=>w})},2714:(Gt,ze,Q)=>{function w(ce,u){return ce.reduce((we,de,fe)=>(we[de]=u[fe],we),{})}Q.d(ze,{n:()=>w})},1441:(Gt,ze,Q)=>{Q.d(ze,{O:()=>we,x:()=>u});var w=Q(2653);let ce=null;function u(de){if(w.config.useDeprecatedSynchronousErrorHandling){const fe=!ce;if(fe&&(ce={errorThrown:!1,error:null}),de(),fe){const{errorThrown:Oe,error:He}=ce;if(ce=null,Oe)throw He}}else de()}function we(de){w.config.useDeprecatedSynchronousErrorHandling&&ce&&(ce.errorThrown=!0,ce.error=de)}},7103:(Gt,ze,Q)=>{function w(ce,u,we,de=0,fe=!1){const Oe=u.schedule(function(){we(),fe?ce.add(this.schedule(null,de)):this.unsubscribe()},de);if(ce.add(Oe),!fe)return Oe}Q.d(ze,{f:()=>w})},2737:(Gt,ze,Q)=>{function w(ce){return ce}Q.d(ze,{y:()=>w})},4266:(Gt,ze,Q)=>{Q.d(ze,{z:()=>w});const w=ce=>ce&&"number"==typeof ce.length&&"function"!=typeof ce},5726:(Gt,ze,Q)=>{Q.d(ze,{D:()=>ce});var w=Q(4674);function ce(u){return Symbol.asyncIterator&&(0,w.m)(u?.[Symbol.asyncIterator])}},4674:(Gt,ze,Q)=>{function w(ce){return"function"==typeof ce}Q.d(ze,{m:()=>w})},8382:(Gt,ze,Q)=>{Q.d(ze,{c:()=>u});var w=Q(4850),ce=Q(4674);function u(we){return(0,ce.m)(we[w.L])}},3664:(Gt,ze,Q)=>{Q.d(ze,{T:()=>u});var w=Q(4971),ce=Q(4674);function u(we){return(0,ce.m)(we?.[w.h])}},4026:(Gt,ze,Q)=>{Q.d(ze,{t:()=>ce});var w=Q(4674);function ce(u){return(0,w.m)(u?.then)}},541:(Gt,ze,Q)=>{Q.d(ze,{L:()=>we,Q:()=>u});var w=Q(7582),ce=Q(4674);function u(de){return(0,w.FC)(this,arguments,function*(){const Oe=de.getReader();try{for(;;){const{value:He,done:Ee}=yield(0,w.qq)(Oe.read());if(Ee)return yield(0,w.qq)(void 0);yield yield(0,w.qq)(He)}}finally{Oe.releaseLock()}})}function we(de){return(0,ce.m)(de?.getReader)}},671:(Gt,ze,Q)=>{Q.d(ze,{K:()=>ce});var w=Q(4674);function ce(u){return u&&(0,w.m)(u.schedule)}},9360:(Gt,ze,Q)=>{Q.d(ze,{A:()=>ce,e:()=>u});var w=Q(4674);function ce(we){return(0,w.m)(we?.lift)}function u(we){return de=>{if(ce(de))return de.lift(function(fe){try{return we(fe,this)}catch(Oe){this.error(Oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Gt,ze,Q)=>{Q.d(ze,{Z:()=>we});var w=Q(7398);const{isArray:ce}=Array;function we(de){return(0,w.U)(fe=>function u(de,fe){return ce(fe)?de(...fe):de(fe)}(de,fe))}},2420:(Gt,ze,Q)=>{function w(){}Q.d(ze,{Z:()=>w})},8407:(Gt,ze,Q)=>{Q.d(ze,{U:()=>u,z:()=>ce});var w=Q(2737);function ce(...we){return u(we)}function u(we){return 0===we.length?w.y:1===we.length?we[0]:function(fe){return we.reduce((Oe,He)=>He(Oe),fe)}}},3894:(Gt,ze,Q)=>{Q.d(ze,{h:()=>u});var w=Q(2653),ce=Q(7599);function u(we){ce.z.setTimeout(()=>{const{onUnhandledError:de}=w.config;if(!de)throw we;de(we)})}},9853:(Gt,ze,Q)=>{function w(ce){return new TypeError(`You provided ${null!==ce&&"object"==typeof ce?"an invalid object":`'${ce}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Q.d(ze,{z:()=>w})},6814:(Gt,ze,Q)=>{Q.d(ze,{Do:()=>At,EM:()=>rc,HT:()=>we,JF:()=>Ys,K0:()=>fe,Mn:()=>Tn,Mx:()=>$s,O5:()=>cs,PM:()=>ai,S$:()=>et,Tn:()=>ve,UT:()=>Bn,V_:()=>He,Ye:()=>Lt,ax:()=>Ws,b0:()=>it,bD:()=>Bi,ez:()=>Sr,p6:()=>Jn,q:()=>u,sg:()=>Ws,tP:()=>Ms,uU:()=>lo,w_:()=>de,x:()=>Ge});var w=Q(9468);let ce=null;function u(){return ce}function we(M){ce||(ce=M)}class de{}const fe=new w.OlP("DocumentToken");let Oe=(()=>{class M{historyGo(U){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||M)};static#t=this.\u0275prov=w.Yz7({token:M,factory:function(){return(0,w.f3M)(Ee)},providedIn:"platform"})}return M})();const He=new w.OlP("Location Initialized");let Ee=(()=>{class M extends Oe{constructor(){super(),this._doc=(0,w.f3M)(fe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return u().getBaseHref(this._doc)}onPopState(U){const X=u().getGlobalEventTarget(this._doc,"window");return X.addEventListener("popstate",U,!1),()=>X.removeEventListener("popstate",U)}onHashChange(U){const X=u().getGlobalEventTarget(this._doc,"window");return X.addEventListener("hashchange",U,!1),()=>X.removeEventListener("hashchange",U)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(U){this._location.pathname=U}pushState(U,X,ye){this._history.pushState(U,X,ye)}replaceState(U,X,ye){this._history.replaceState(U,X,ye)}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}static#e=this.\u0275fac=function(X){return new(X||M)};static#t=this.\u0275prov=w.Yz7({token:M,factory:function(){return new M},providedIn:"platform"})}return M})();function re(M,ne){if(0==M.length)return ne;if(0==ne.length)return M;let U=0;return M.endsWith("/")&&U++,ne.startsWith("/")&&U++,2==U?M+ne.substring(1):1==U?M+ne:M+"/"+ne}function le(M){const ne=M.match(/#|\?|$/),U=ne&&ne.index||M.length;return M.slice(0,U-("/"===M[U-1]?1:0))+M.slice(U)}function Se(M){return M&&"?"!==M[0]?"?"+M:M}let et=(()=>{class M{historyGo(U){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||M)};static#t=this.\u0275prov=w.Yz7({token:M,factory:function(){return(0,w.f3M)(it)},providedIn:"root"})}return M})();const Pe=new w.OlP("appBaseHref");let it=(()=>{class M extends et{constructor(U,X){super(),this._platformLocation=U,this._removeListenerFns=[],this._baseHref=X??this._platformLocation.getBaseHrefFromDOM()??(0,w.f3M)(fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return re(this._baseHref,U)}path(U=!1){const X=this._platformLocation.pathname+Se(this._platformLocation.search),ye=this._platformLocation.hash;return ye&&U?`${X}${ye}`:X}pushState(U,X,ye,Ke){const ut=this.prepareExternalUrl(ye+Se(Ke));this._platformLocation.pushState(U,X,ut)}replaceState(U,X,ye,Ke){const ut=this.prepareExternalUrl(ye+Se(Ke));this._platformLocation.replaceState(U,X,ut)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}static#e=this.\u0275fac=function(X){return new(X||M)(w.LFG(Oe),w.LFG(Pe,8))};static#t=this.\u0275prov=w.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})(),At=(()=>{class M extends et{constructor(U,X){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=X&&(this._baseHref=X)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){let X=this._platformLocation.hash;return null==X&&(X="#"),X.length>0?X.substring(1):X}prepareExternalUrl(U){const X=re(this._baseHref,U);return X.length>0?"#"+X:X}pushState(U,X,ye,Ke){let ut=this.prepareExternalUrl(ye+Se(Ke));0==ut.length&&(ut=this._platformLocation.pathname),this._platformLocation.pushState(U,X,ut)}replaceState(U,X,ye,Ke){let ut=this.prepareExternalUrl(ye+Se(Ke));0==ut.length&&(ut=this._platformLocation.pathname),this._platformLocation.replaceState(U,X,ut)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}static#e=this.\u0275fac=function(X){return new(X||M)(w.LFG(Oe),w.LFG(Pe,8))};static#t=this.\u0275prov=w.Yz7({token:M,factory:M.\u0275fac})}return M})(),Lt=(()=>{class M{constructor(U){this._subject=new w.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=U;const X=this._locationStrategy.getBaseHref();this._basePath=function mt(M){if(new RegExp("^(https?:)?//").test(M)){const[,U]=M.split(/\/\/[^\/]+/);return U}return M}(le(Mt(X))),this._locationStrategy.onPopState(ye=>{this._subject.emit({url:this.path(!0),pop:!0,state:ye.state,type:ye.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(U=!1){return this.normalize(this._locationStrategy.path(U))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(U,X=""){return this.path()==this.normalize(U+Se(X))}normalize(U){return M.stripTrailingSlash(function Sn(M,ne){if(!M||!ne.startsWith(M))return ne;const U=ne.substring(M.length);return""===U||["/",";","?","#"].includes(U[0])?U:ne}(this._basePath,Mt(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._locationStrategy.prepareExternalUrl(U)}go(U,X="",ye=null){this._locationStrategy.pushState(ye,"",U,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Se(X)),ye)}replaceState(U,X="",ye=null){this._locationStrategy.replaceState(ye,"",U,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Se(X)),ye)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(U=0){this._locationStrategy.historyGo?.(U)}onUrlChange(U){return this._urlChangeListeners.push(U),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(X=>{this._notifyUrlChangeListeners(X.url,X.state)})),()=>{const X=this._urlChangeListeners.indexOf(U);this._urlChangeListeners.splice(X,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(U="",X){this._urlChangeListeners.forEach(ye=>ye(U,X))}subscribe(U,X,ye){return this._subject.subscribe({next:U,error:X,complete:ye})}static#e=this.normalizeQueryParams=Se;static#t=this.joinWithSlash=re;static#n=this.stripTrailingSlash=le;static#r=this.\u0275fac=function(X){return new(X||M)(w.LFG(et))};static#i=this.\u0275prov=w.Yz7({token:M,factory:function(){return function Ft(){return new Lt((0,w.LFG)(et))}()},providedIn:"root"})}return M})();function Mt(M){return M.replace(/\/index.html$/,"")}var Ge=function(M){return M[M.Format=0]="Format",M[M.Standalone=1]="Standalone",M}(Ge||{}),ve=function(M){return M[M.Narrow=0]="Narrow",M[M.Abbreviated=1]="Abbreviated",M[M.Wide=2]="Wide",M[M.Short=3]="Short",M}(ve||{}),Qe=function(M){return M[M.Short=0]="Short",M[M.Medium=1]="Medium",M[M.Long=2]="Long",M[M.Full=3]="Full",M}(Qe||{}),gt=function(M){return M[M.Decimal=0]="Decimal",M[M.Group=1]="Group",M[M.List=2]="List",M[M.PercentSign=3]="PercentSign",M[M.PlusSign=4]="PlusSign",M[M.MinusSign=5]="MinusSign",M[M.Exponential=6]="Exponential",M[M.SuperscriptingExponent=7]="SuperscriptingExponent",M[M.PerMille=8]="PerMille",M[M.Infinity=9]="Infinity",M[M.NaN=10]="NaN",M[M.TimeSeparator=11]="TimeSeparator",M[M.CurrencyDecimal=12]="CurrencyDecimal",M[M.CurrencyGroup=13]="CurrencyGroup",M}(gt||{});function Tn(M,ne,U){const X=(0,w.cg1)(M),Ke=De([X[w.wAp.DaysFormat],X[w.wAp.DaysStandalone]],ne);return De(Ke,U)}function Bn(M,ne,U){const X=(0,w.cg1)(M),Ke=De([X[w.wAp.MonthsFormat],X[w.wAp.MonthsStandalone]],ne);return De(Ke,U)}function je(M,ne){return De((0,w.cg1)(M)[w.wAp.DateFormat],ne)}function Je(M,ne){return De((0,w.cg1)(M)[w.wAp.TimeFormat],ne)}function Ve(M,ne){return De((0,w.cg1)(M)[w.wAp.DateTimeFormat],ne)}function nt(M,ne){const U=(0,w.cg1)(M),X=U[w.wAp.NumberSymbols][ne];if(typeof X>"u"){if(ne===gt.CurrencyDecimal)return U[w.wAp.NumberSymbols][gt.Decimal];if(ne===gt.CurrencyGroup)return U[w.wAp.NumberSymbols][gt.Group]}return X}function Dt(M){if(!M[w.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${M[w.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function De(M,ne){for(let U=ne;U>-1;U--)if(typeof M[U]<"u")return M[U];throw new Error("Locale data API: locale data undefined")}function xe(M){const[ne,U]=M.split(":");return{hours:+ne,minutes:+U}}const St=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,_r={},En=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var an=function(M){return M[M.Short=0]="Short",M[M.ShortGMT=1]="ShortGMT",M[M.Long=2]="Long",M[M.Extended=3]="Extended",M}(an||{}),Kt=function(M){return M[M.FullYear=0]="FullYear",M[M.Month=1]="Month",M[M.Date=2]="Date",M[M.Hours=3]="Hours",M[M.Minutes=4]="Minutes",M[M.Seconds=5]="Seconds",M[M.FractionalSeconds=6]="FractionalSeconds",M[M.Day=7]="Day",M}(Kt||{}),wn=function(M){return M[M.DayPeriods=0]="DayPeriods",M[M.Days=1]="Days",M[M.Months=2]="Months",M[M.Eras=3]="Eras",M}(wn||{});function Jn(M,ne,U,X){let ye=function V(M){if(W(M))return M;if("number"==typeof M&&!isNaN(M))return new Date(M);if("string"==typeof M){if(M=M.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(M)){const[ye,Ke=1,ut=1]=M.split("-").map(cn=>+cn);return tn(ye,Ke-1,ut)}const U=parseFloat(M);if(!isNaN(M-U))return new Date(U);let X;if(X=M.match(St))return function G(M){const ne=new Date(0);let U=0,X=0;const ye=M[8]?ne.setUTCFullYear:ne.setFullYear,Ke=M[8]?ne.setUTCHours:ne.setHours;M[9]&&(U=Number(M[9]+M[10]),X=Number(M[9]+M[11])),ye.call(ne,Number(M[1]),Number(M[2])-1,Number(M[3]));const ut=Number(M[4]||0)-U,cn=Number(M[5]||0)-X,mr=Number(M[6]||0),br=Math.floor(1e3*parseFloat("0."+(M[7]||0)));return Ke.call(ne,ut,cn,mr,br),ne}(X)}const ne=new Date(M);if(!W(ne))throw new Error(`Unable to convert "${M}" into a date`);return ne}(M);ne=Cr(U,ne)||ne;let cn,ut=[];for(;ne;){if(cn=En.exec(ne),!cn){ut.push(ne);break}{ut=ut.concat(cn.slice(1));const or=ut.pop();if(!or)break;ne=or}}let mr=ye.getTimezoneOffset();X&&(mr=qt(X,mr),ye=function K(M,ne,U){const X=U?-1:1,ye=M.getTimezoneOffset();return function Vn(M,ne){return(M=new Date(M.getTime())).setMinutes(M.getMinutes()+ne),M}(M,X*(qt(ne,ye)-ye))}(ye,X,!0));let br="";return ut.forEach(or=>{const qn=function Wt(M){if(It[M])return It[M];let ne;switch(M){case"G":case"GG":case"GGG":ne=jn(wn.Eras,ve.Abbreviated);break;case"GGGG":ne=jn(wn.Eras,ve.Wide);break;case"GGGGG":ne=jn(wn.Eras,ve.Narrow);break;case"y":ne=Kn(Kt.FullYear,1,0,!1,!0);break;case"yy":ne=Kn(Kt.FullYear,2,0,!0,!0);break;case"yyy":ne=Kn(Kt.FullYear,3,0,!1,!0);break;case"yyyy":ne=Kn(Kt.FullYear,4,0,!1,!0);break;case"Y":ne=Ze(1);break;case"YY":ne=Ze(2,!0);break;case"YYY":ne=Ze(3);break;case"YYYY":ne=Ze(4);break;case"M":case"L":ne=Kn(Kt.Month,1,1);break;case"MM":case"LL":ne=Kn(Kt.Month,2,1);break;case"MMM":ne=jn(wn.Months,ve.Abbreviated);break;case"MMMM":ne=jn(wn.Months,ve.Wide);break;case"MMMMM":ne=jn(wn.Months,ve.Narrow);break;case"LLL":ne=jn(wn.Months,ve.Abbreviated,Ge.Standalone);break;case"LLLL":ne=jn(wn.Months,ve.Wide,Ge.Standalone);break;case"LLLLL":ne=jn(wn.Months,ve.Narrow,Ge.Standalone);break;case"w":ne=Ce(1);break;case"ww":ne=Ce(2);break;case"W":ne=Ce(1,!0);break;case"d":ne=Kn(Kt.Date,1);break;case"dd":ne=Kn(Kt.Date,2);break;case"c":case"cc":ne=Kn(Kt.Day,1);break;case"ccc":ne=jn(wn.Days,ve.Abbreviated,Ge.Standalone);break;case"cccc":ne=jn(wn.Days,ve.Wide,Ge.Standalone);break;case"ccccc":ne=jn(wn.Days,ve.Narrow,Ge.Standalone);break;case"cccccc":ne=jn(wn.Days,ve.Short,Ge.Standalone);break;case"E":case"EE":case"EEE":ne=jn(wn.Days,ve.Abbreviated);break;case"EEEE":ne=jn(wn.Days,ve.Wide);break;case"EEEEE":ne=jn(wn.Days,ve.Narrow);break;case"EEEEEE":ne=jn(wn.Days,ve.Short);break;case"a":case"aa":case"aaa":ne=jn(wn.DayPeriods,ve.Abbreviated);break;case"aaaa":ne=jn(wn.DayPeriods,ve.Wide);break;case"aaaaa":ne=jn(wn.DayPeriods,ve.Narrow);break;case"b":case"bb":case"bbb":ne=jn(wn.DayPeriods,ve.Abbreviated,Ge.Standalone,!0);break;case"bbbb":ne=jn(wn.DayPeriods,ve.Wide,Ge.Standalone,!0);break;case"bbbbb":ne=jn(wn.DayPeriods,ve.Narrow,Ge.Standalone,!0);break;case"B":case"BB":case"BBB":ne=jn(wn.DayPeriods,ve.Abbreviated,Ge.Format,!0);break;case"BBBB":ne=jn(wn.DayPeriods,ve.Wide,Ge.Format,!0);break;case"BBBBB":ne=jn(wn.DayPeriods,ve.Narrow,Ge.Format,!0);break;case"h":ne=Kn(Kt.Hours,1,-12);break;case"hh":ne=Kn(Kt.Hours,2,-12);break;case"H":ne=Kn(Kt.Hours,1);break;case"HH":ne=Kn(Kt.Hours,2);break;case"m":ne=Kn(Kt.Minutes,1);break;case"mm":ne=Kn(Kt.Minutes,2);break;case"s":ne=Kn(Kt.Seconds,1);break;case"ss":ne=Kn(Kt.Seconds,2);break;case"S":ne=Kn(Kt.FractionalSeconds,1);break;case"SS":ne=Kn(Kt.FractionalSeconds,2);break;case"SSS":ne=Kn(Kt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ne=An(an.Short);break;case"ZZZZZ":ne=An(an.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ne=An(an.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ne=An(an.Long);break;default:return null}return It[M]=ne,ne}(or);br+=qn?qn(ye,U,mr):"''"===or?"'":or.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),br}function tn(M,ne,U){const X=new Date(0);return X.setFullYear(M,ne,U),X.setHours(0,0,0),X}function Cr(M,ne){const U=function dt(M){return(0,w.cg1)(M)[w.wAp.LocaleId]}(M);if(_r[U]=_r[U]||{},_r[U][ne])return _r[U][ne];let X="";switch(ne){case"shortDate":X=je(M,Qe.Short);break;case"mediumDate":X=je(M,Qe.Medium);break;case"longDate":X=je(M,Qe.Long);break;case"fullDate":X=je(M,Qe.Full);break;case"shortTime":X=Je(M,Qe.Short);break;case"mediumTime":X=Je(M,Qe.Medium);break;case"longTime":X=Je(M,Qe.Long);break;case"fullTime":X=Je(M,Qe.Full);break;case"short":const ye=Cr(M,"shortTime"),Ke=Cr(M,"shortDate");X=yr(Ve(M,Qe.Short),[ye,Ke]);break;case"medium":const ut=Cr(M,"mediumTime"),cn=Cr(M,"mediumDate");X=yr(Ve(M,Qe.Medium),[ut,cn]);break;case"long":const mr=Cr(M,"longTime"),br=Cr(M,"longDate");X=yr(Ve(M,Qe.Long),[mr,br]);break;case"full":const or=Cr(M,"fullTime"),qn=Cr(M,"fullDate");X=yr(Ve(M,Qe.Full),[or,qn])}return X&&(_r[U][ne]=X),X}function yr(M,ne){return ne&&(M=M.replace(/\{([^}]+)}/g,function(U,X){return null!=ne&&X in ne?ne[X]:U})),M}function mn(M,ne,U="-",X,ye){let Ke="";(M<0||ye&&M<=0)&&(ye?M=1-M:(M=-M,Ke=U));let ut=String(M);for(;ut.length<ne;)ut="0"+ut;return X&&(ut=ut.slice(ut.length-ne)),Ke+ut}function Kn(M,ne,U=0,X=!1,ye=!1){return function(Ke,ut){let cn=function ir(M,ne){switch(M){case Kt.FullYear:return ne.getFullYear();case Kt.Month:return ne.getMonth();case Kt.Date:return ne.getDate();case Kt.Hours:return ne.getHours();case Kt.Minutes:return ne.getMinutes();case Kt.Seconds:return ne.getSeconds();case Kt.FractionalSeconds:return ne.getMilliseconds();case Kt.Day:return ne.getDay();default:throw new Error(`Unknown DateType value "${M}".`)}}(M,Ke);if((U>0||cn>-U)&&(cn+=U),M===Kt.Hours)0===cn&&-12===U&&(cn=12);else if(M===Kt.FractionalSeconds)return function rr(M,ne){return mn(M,3).substring(0,ne)}(cn,ne);const mr=nt(ut,gt.MinusSign);return mn(cn,ne,mr,X,ye)}}function jn(M,ne,U=Ge.Format,X=!1){return function(ye,Ke){return function mi(M,ne,U,X,ye,Ke){switch(U){case wn.Months:return Bn(ne,ye,X)[M.getMonth()];case wn.Days:return Tn(ne,ye,X)[M.getDay()];case wn.DayPeriods:const ut=M.getHours(),cn=M.getMinutes();if(Ke){const br=function Wn(M){const ne=(0,w.cg1)(M);return Dt(ne),(ne[w.wAp.ExtraData][2]||[]).map(X=>"string"==typeof X?xe(X):[xe(X[0]),xe(X[1])])}(ne),or=function gr(M,ne,U){const X=(0,w.cg1)(M);Dt(X);const Ke=De([X[w.wAp.ExtraData][0],X[w.wAp.ExtraData][1]],ne)||[];return De(Ke,U)||[]}(ne,ye,X),qn=br.findIndex(Kr=>{if(Array.isArray(Kr)){const[zr,vi]=Kr,Bs=ut>=zr.hours&&cn>=zr.minutes,bi=ut<vi.hours||ut===vi.hours&&cn<vi.minutes;if(zr.hours<vi.hours){if(Bs&&bi)return!0}else if(Bs||bi)return!0}else if(Kr.hours===ut&&Kr.minutes===cn)return!0;return!1});if(-1!==qn)return or[qn]}return function fn(M,ne,U){const X=(0,w.cg1)(M),Ke=De([X[w.wAp.DayPeriodsFormat],X[w.wAp.DayPeriodsStandalone]],ne);return De(Ke,U)}(ne,ye,X)[ut<12?0:1];case wn.Eras:return function nr(M,ne){return De((0,w.cg1)(M)[w.wAp.Eras],ne)}(ne,X)[M.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${U}`)}}(ye,Ke,M,ne,U,X)}}function An(M){return function(ne,U,X){const ye=-1*X,Ke=nt(U,gt.MinusSign),ut=ye>0?Math.floor(ye/60):Math.ceil(ye/60);switch(M){case an.Short:return(ye>=0?"+":"")+mn(ut,2,Ke)+mn(Math.abs(ye%60),2,Ke);case an.ShortGMT:return"GMT"+(ye>=0?"+":"")+mn(ut,1,Ke);case an.Long:return"GMT"+(ye>=0?"+":"")+mn(ut,2,Ke)+":"+mn(Math.abs(ye%60),2,Ke);case an.Extended:return 0===X?"Z":(ye>=0?"+":"")+mn(ut,2,Ke)+":"+mn(Math.abs(ye%60),2,Ke);default:throw new Error(`Unknown zone width "${M}"`)}}}const Xn=0,Mr=4;function tt(M){return tn(M.getFullYear(),M.getMonth(),M.getDate()+(Mr-M.getDay()))}function Ce(M,ne=!1){return function(U,X){let ye;if(ne){const Ke=new Date(U.getFullYear(),U.getMonth(),1).getDay()-1,ut=U.getDate();ye=1+Math.floor((ut+Ke)/7)}else{const Ke=tt(U),ut=function _i(M){const ne=tn(M,Xn,1).getDay();return tn(M,0,1+(ne<=Mr?Mr:Mr+7)-ne)}(Ke.getFullYear()),cn=Ke.getTime()-ut.getTime();ye=1+Math.round(cn/6048e5)}return mn(ye,M,nt(X,gt.MinusSign))}}function Ze(M,ne=!1){return function(U,X){return mn(tt(U).getFullYear(),M,nt(X,gt.MinusSign),ne)}}const It={};function qt(M,ne){M=M.replace(/:/g,"");const U=Date.parse("Jan 01, 1970 00:00:00 "+M)/6e4;return isNaN(U)?ne:U}function W(M){return M instanceof Date&&!isNaN(M.valueOf())}function $s(M,ne){ne=encodeURIComponent(ne);for(const U of M.split(";")){const X=U.indexOf("="),[ye,Ke]=-1==X?[U,""]:[U.slice(0,X),U.slice(X+1)];if(ye.trim()===ne)return decodeURIComponent(Ke)}return null}class di{constructor(ne,U,X,ye){this.$implicit=ne,this.ngForOf=U,this.index=X,this.count=ye}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ws=(()=>{class M{set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}constructor(U,X,ye){this._viewContainer=U,this._template=X,this._differs=ye,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const X=this._viewContainer;U.forEachOperation((ye,Ke,ut)=>{if(null==ye.previousIndex)X.createEmbeddedView(this._template,new di(ye.item,this._ngForOf,-1,-1),null===ut?void 0:ut);else if(null==ut)X.remove(null===Ke?void 0:Ke);else if(null!==Ke){const cn=X.get(Ke);X.move(cn,ut),Wi(cn,ye)}});for(let ye=0,Ke=X.length;ye<Ke;ye++){const cn=X.get(ye).context;cn.index=ye,cn.count=Ke,cn.ngForOf=this._ngForOf}U.forEachIdentityChange(ye=>{Wi(X.get(ye.currentIndex),ye)})}static ngTemplateContextGuard(U,X){return!0}static#e=this.\u0275fac=function(X){return new(X||M)(w.Y36(w.s_b),w.Y36(w.Rgc),w.Y36(w.ZZ4))};static#t=this.\u0275dir=w.lG2({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return M})();function Wi(M,ne){M.context.$implicit=ne.item}let cs=(()=>{class M{constructor(U,X){this._viewContainer=U,this._context=new Pa,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=X}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){Ti("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){Ti("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,X){return!0}static#e=this.\u0275fac=function(X){return new(X||M)(w.Y36(w.s_b),w.Y36(w.Rgc))};static#t=this.\u0275dir=w.lG2({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return M})();class Pa{constructor(){this.$implicit=null,this.ngIf=null}}function Ti(M,ne){if(ne&&!ne.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,w.AaK)(ne)}'.`)}let Ms=(()=>{class M{constructor(U){this._viewContainerRef=U,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(U){if(U.ngTemplateOutlet||U.ngTemplateOutletInjector){const X=this._viewContainerRef;if(this._viewRef&&X.remove(X.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ye,ngTemplateOutletContext:Ke,ngTemplateOutletInjector:ut}=this;this._viewRef=X.createEmbeddedView(ye,Ke,ut?{injector:ut}:void 0)}else this._viewRef=null}else this._viewRef&&U.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(X){return new(X||M)(w.Y36(w.s_b))};static#t=this.\u0275dir=w.lG2({type:M,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[w.TTD]})}return M})();const la=new w.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Ko=new w.OlP("DATE_PIPE_DEFAULT_OPTIONS");let lo=(()=>{class M{constructor(U,X,ye){this.locale=U,this.defaultTimezone=X,this.defaultOptions=ye}transform(U,X,ye,Ke){if(null==U||""===U||U!=U)return null;try{return Jn(U,X??this.defaultOptions?.dateFormat??"mediumDate",Ke||this.locale,ye??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(ut){throw function oi(M,ne){return new w.vHH(2100,!1)}()}}static#e=this.\u0275fac=function(X){return new(X||M)(w.Y36(w.soG,16),w.Y36(la,24),w.Y36(Ko,24))};static#t=this.\u0275pipe=w.Yjl({name:"date",type:M,pure:!0,standalone:!0})}return M})(),Sr=(()=>{class M{static#e=this.\u0275fac=function(X){return new(X||M)};static#t=this.\u0275mod=w.oAB({type:M});static#n=this.\u0275inj=w.cJS({})}return M})();const Bi="browser",Ks="server";function ai(M){return M===Ks}let rc=(()=>{class M{static#e=this.\u0275prov=(0,w.Yz7)({token:M,providedIn:"root",factory:()=>new ns((0,w.LFG)(fe),window)})}return M})();class ns{constructor(ne,U){this.document=ne,this.window=U,this.offset=()=>[0,0]}setOffset(ne){this.offset=Array.isArray(ne)?()=>ne:ne}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ne){this.supportsScrolling()&&this.window.scrollTo(ne[0],ne[1])}scrollToAnchor(ne){if(!this.supportsScrolling())return;const U=function Zr(M,ne){const U=M.getElementById(ne)||M.getElementsByName(ne)[0];if(U)return U;if("function"==typeof M.createTreeWalker&&M.body&&"function"==typeof M.body.attachShadow){const X=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let ye=X.currentNode;for(;ye;){const Ke=ye.shadowRoot;if(Ke){const ut=Ke.getElementById(ne)||Ke.querySelector(`[name="${ne}"]`);if(ut)return ut}ye=X.nextNode()}}return null}(this.document,ne);U&&(this.scrollToElement(U),U.focus())}setHistoryScrollRestoration(ne){this.supportsScrolling()&&(this.window.history.scrollRestoration=ne)}scrollToElement(ne){const U=ne.getBoundingClientRect(),X=U.left+this.window.pageXOffset,ye=U.top+this.window.pageYOffset,Ke=this.offset();this.window.scrollTo(X-Ke[0],ye-Ke[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Ys{}},9468:(Gt,ze,Q)=>{Q.d(ze,{QbO:()=>Jv,tb:()=>CI,AFp:()=>fp,ip1:()=>P1,hGG:()=>mD,z2F:()=>Hc,Ojb:()=>iT,sBO:()=>cD,Sil:()=>gI,EJc:()=>pI,ktI:()=>Ni,Xts:()=>Nu,SBq:()=>Xd,lqb:()=>Al,qLn:()=>xu,vpe:()=>Nl,XFs:()=>tn,OlP:()=>An,zs3:()=>na,ZZ4:()=>X1,aQg:()=>eb,soG:()=>k1,YKP:()=>Jm,h0i:()=>Rl,PXZ:()=>HC,R0b:()=>Go,FiY:()=>qf,Lbi:()=>Ho,g9A:()=>To,Qsj:()=>Ab,FYo:()=>ny,JOm:()=>b_,q3G:()=>Es,tp0:()=>Du,Rgc:()=>tg,dDg:()=>eD,eoX:()=>ag,q4F:()=>sy,GfV:()=>_p,s_b:()=>g1,ifc:()=>Pi,gHi:()=>im,VuI:()=>vD,LMc:()=>xS,MMx:()=>t1,Lck:()=>iE,eFA:()=>SI,Gpc:()=>Sn,f3M:()=>Yn,$WT:()=>ls,_c5:()=>tb,qFp:()=>lg,rg0:()=>br,c2e:()=>ZE,zSh:()=>z_,HDt:()=>F1,wAp:()=>Hm,vHH:()=>Ge,lri:()=>TI,rWj:()=>z1,JZr:()=>_t,EiD:()=>j_,mCW:()=>Gv,qzn:()=>$h,JVY:()=>ED,pB0:()=>JI,eBb:()=>DD,L6k:()=>YI,LAX:()=>QI,cg1:()=>ww,kL8:()=>G0,dqk:()=>ir,Z0I:()=>yt,eJc:()=>Xy,QGY:()=>wd,F4k:()=>Wb,RDi:()=>Hh,AaK:()=>At,z3N:()=>Da,zW0:()=>fc,qOj:()=>ra,Xq5:()=>qe,TTD:()=>Bs,_Bn:()=>Fw,jDz:()=>oE,xp6:()=>eu,uIk:()=>_d,Tol:()=>ju,ekj:()=>L0,Suo:()=>DE,Xpm:()=>No,lG2:()=>lo,Yz7:()=>De,cJS:()=>Re,oAB:()=>Zs,Yjl:()=>Yo,Y36:()=>ih,_UZ:()=>Vp,BQk:()=>A0,ynx:()=>Gp,qZA:()=>Hu,TgZ:()=>Uu,EpF:()=>as,n5z:()=>Hd,Ikx:()=>H0,SDv:()=>eE,LFG:()=>Pn,$8M:()=>L,$Z:()=>sh,NdJ:()=>N0,CRH:()=>CE,kcU:()=>kd,O4$:()=>ea,oxw:()=>$p,ALo:()=>c1,lcZ:()=>$w,xi3:()=>l1,Hsn:()=>Kb,F$t:()=>O0,Q6J:()=>Bp,s9C:()=>Oy,MGl:()=>My,VKq:()=>Uw,WLB:()=>a1,kEZ:()=>gE,iGM:()=>rg,MAs:()=>bd,KtG:()=>Rd,Jf7:()=>qa,CHM:()=>Yu,uOi:()=>rl,LSH:()=>Wh,P3R:()=>Hg,YNc:()=>Ml,W1O:()=>T1,_uU:()=>aw,Oqu:()=>lw,hij:()=>Ji,lnq:()=>Pm,Gf:()=>I1});var w=Q(8645),ce=Q(7394),u=Q(5592),we=Q(3019),de=Q(5619),fe=Q(2096),Oe=Q(4829),He=Q(305),Ee=Q(9360);function re(r={}){const{connector:s=(()=>new w.x),resetOnError:a=!0,resetOnComplete:d=!0,resetOnRefCountZero:g=!0}=r;return y=>{let I,S,R,z=0,ie=!1,me=!1;const Me=()=>{S?.unsubscribe(),S=void 0},Le=()=>{Me(),I=R=void 0,ie=me=!1},pt=()=>{const Nt=I;Le(),Nt?.unsubscribe()};return(0,Ee.e)((Nt,rn)=>{z++,!me&&!ie&&Me();const bn=R=R??s();rn.add(()=>{z--,0===z&&!me&&!ie&&(S=le(pt,g))}),bn.subscribe(rn),!I&&z>0&&(I=new He.Hp({next:wt=>bn.next(wt),error:wt=>{me=!0,Me(),S=le(Le,a,wt),bn.error(wt)},complete:()=>{ie=!0,Me(),S=le(Le,d),bn.complete()}}),(0,Oe.Xf)(Nt).subscribe(I))})(y)}}function le(r,s,...a){if(!0===s)return void r();if(!1===s)return;const d=new He.Hp({next:()=>{d.unsubscribe(),r()}});return(0,Oe.Xf)(s(...a)).subscribe(d)}var Se=Q(4664),et=Q(3997);function Pe(r){for(let s in r)if(r[s]===Pe)return s;throw Error("Could not find renamed property on target object.")}function it(r,s){for(const a in s)s.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=s[a])}function At(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(At).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Lt(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const Ft=Pe({__forward_ref__:Pe});function Sn(r){return r.__forward_ref__=Sn,r.toString=function(){return At(this())},r}function Mt(r){return mt(r)?r():r}function mt(r){return"function"==typeof r&&r.hasOwnProperty(Ft)&&r.__forward_ref__===Sn}function ot(r){return r&&!!r.\u0275providers}const _t="https://g.co/ng/security#xss";class Ge extends Error{constructor(s,a){super(function ve(r,s){return`NG0${Math.abs(r)}${s?": "+s:""}`}(s,a)),this.code=s}}function Qe(r){return"string"==typeof r?r:null==r?"":String(r)}function Tn(r,s){throw new Ge(-201,!1)}function Dt(r,s,a,d){throw new Error(`ASSERTION ERROR: ${r}`+(null==d?"":` [Expected=> ${a} ${d} ${s} <=Actual]`))}function De(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Re(r){return{providers:r.providers||[],imports:r.imports||[]}}function at(r){return St(r,an)||St(r,wn)}function yt(r){return null!==at(r)}function St(r,s){return r.hasOwnProperty(s)?r[s]:null}function En(r){return r&&(r.hasOwnProperty(Kt)||r.hasOwnProperty(Jn))?r[Kt]:null}const an=Pe({\u0275prov:Pe}),Kt=Pe({\u0275inj:Pe}),wn=Pe({ngInjectableDef:Pe}),Jn=Pe({ngInjectorDef:Pe});var tn=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(tn||{});let Cr;function yr(){return Cr}function mn(r){const s=Cr;return Cr=r,s}function rr(r,s,a){const d=at(r);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:a&tn.Optional?null:void 0!==s?s:void Tn(At(r))}const ir=globalThis;class An{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=De({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const V={},G="__NG_DI_FLAG__",W="ngTempTokenPath",be=/\n/gm,Tt="__source";let on;function Dn(r){const s=on;return on=r,s}function $t(r,s=tn.Default){if(void 0===on)throw new Ge(-203,!1);return null===on?rr(r,void 0,s):on.get(r,s&tn.Optional?null:void 0,s)}function Pn(r,s=tn.Default){return(yr()||$t)(Mt(r),s)}function Yn(r,s=tn.Default){return Pn(r,Ns(s))}function Ns(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function sa(r){const s=[];for(let a=0;a<r.length;a++){const d=Mt(r[a]);if(Array.isArray(d)){if(0===d.length)throw new Ge(900,!1);let g,y=tn.Default;for(let I=0;I<d.length;I++){const S=d[I],R=xa(S);"number"==typeof R?-1===R?g=S.token:y|=R:g=S}s.push(Pn(g,y))}else s.push(Pn(d))}return s}function es(r,s){return r[G]=s,r.prototype[G]=s,r}function xa(r){return r[G]}function si(r){return{toString:r}.toString()}var oa=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(oa||{}),Pi=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(Pi||{});const ts={},er=[],$s=Pe({\u0275cmp:Pe}),co=Pe({\u0275dir:Pe}),Ao=Pe({\u0275pipe:Pe}),aa=Pe({\u0275mod:Pe}),Os=Pe({\u0275fac:Pe}),zs=Pe({__NG_ELEMENT_ID__:Pe}),di=Pe({__NG_ENV_ID__:Pe});function Ws(r,s,a){let d=r.length;for(;;){const g=r.indexOf(s,a);if(-1===g)return g;if(0===g||r.charCodeAt(g-1)<=32){const y=s.length;if(g+y===d||r.charCodeAt(g+y)<=32)return g}a=g+1}}function Wi(r,s,a){let d=0;for(;d<a.length;){const g=a[d];if("number"==typeof g){if(0!==g)break;d++;const y=a[d++],I=a[d++],S=a[d++];r.setAttribute(s,I,S,y)}else{const y=g,I=a[++d];cs(y)?r.setProperty(s,y,I):r.setAttribute(s,y,I),d++}}return d}function ec(r){return 3===r||4===r||6===r}function cs(r){return 64===r.charCodeAt(0)}function Pa(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let a=-1;for(let d=0;d<s.length;d++){const g=s[d];"number"==typeof g?a=g:0===a||Ti(r,a,g,null,-1===a||2===a?s[++d]:null)}}return r}function Ti(r,s,a,d,g){let y=0,I=r.length;if(-1===s)I=-1;else for(;y<r.length;){const S=r[y++];if("number"==typeof S){if(S===s){I=-1;break}if(S>s){I=y-1;break}}}for(;y<r.length;){const S=r[y];if("number"==typeof S)break;if(S===a){if(null===d)return void(null!==g&&(r[y+1]=g));if(d===r[y+1])return void(r[y+2]=g)}y++,null!==d&&y++,null!==g&&y++}-1!==I&&(r.splice(I,0,s),y=I+1),r.splice(y++,0,a),null!==d&&r.splice(y++,0,d),null!==g&&r.splice(y++,0,g)}const tc="ng-template";function qs(r,s,a){let d=0,g=!0;for(;d<r.length;){let y=r[d++];if("string"==typeof y&&g){const I=r[d++];if(a&&"class"===y&&-1!==Ws(I.toLowerCase(),s,0))return!0}else{if(1===y){for(;d<r.length&&"string"==typeof(y=r[d++]);)if(y.toLowerCase()===s)return!0;return!1}"number"==typeof y&&(g=!1)}}return!1}function ka(r){return 4===r.type&&r.value!==tc}function ca(r,s,a){return s===(4!==r.type||a?r.value:tc)}function ki(r,s,a){let d=4;const g=r.attrs||[],y=function vc(r){for(let s=0;s<r.length;s++)if(ec(r[s]))return s;return r.length}(g);let I=!1;for(let S=0;S<s.length;S++){const R=s[S];if("number"!=typeof R){if(!I)if(4&d){if(d=2|1&d,""!==R&&!ca(r,R,a)||""===R&&1===s.length){if(hi(d))return!1;I=!0}}else{const z=8&d?R:s[++S];if(8&d&&null!==r.attrs){if(!qs(r.attrs,z,a)){if(hi(d))return!1;I=!0}continue}const me=$r(8&d?"class":R,g,ka(r),a);if(-1===me){if(hi(d))return!1;I=!0;continue}if(""!==z){let Me;Me=me>y?"":g[me+1].toLowerCase();const Le=8&d?Me:null;if(Le&&-1!==Ws(Le,z,0)||2&d&&z!==Me){if(hi(d))return!1;I=!0}}}}else{if(!I&&!hi(d)&&!hi(R))return!1;if(I&&hi(R))continue;I=!1,d=R|1&d}}return hi(d)||I}function hi(r){return 0==(1&r)}function $r(r,s,a,d){if(null===s)return-1;let g=0;if(d||!a){let y=!1;for(;g<s.length;){const I=s[g];if(I===r)return g;if(3===I||6===I)y=!0;else{if(1===I||2===I){let S=s[++g];for(;"string"==typeof S;)S=s[++g];continue}if(4===I)break;if(0===I){g+=4;continue}}g+=y?1:2}return-1}return function oi(r,s){let a=r.indexOf(4);if(a>-1)for(a++;a<r.length;){const d=r[a];if("number"==typeof d)return-1;if(d===s)return a;a++}return-1}(s,r)}function Fi(r,s,a=!1){for(let d=0;d<s.length;d++)if(ki(r,s[d],a))return!0;return!1}function pl(r,s){e:for(let a=0;a<s.length;a++){const d=s[a];if(r.length===d.length){for(let g=0;g<r.length;g++)if(r[g]!==d[g])continue e;return!0}}return!1}function Gi(r,s){return r?":not("+s.trim()+")":s}function gl(r){let s=r[0],a=1,d=2,g="",y=!1;for(;a<r.length;){let I=r[a];if("string"==typeof I)if(2&d){const S=r[++a];g+="["+I+(S.length>0?'="'+S+'"':"")+"]"}else 8&d?g+="."+I:4&d&&(g+=" "+I);else""!==g&&!hi(I)&&(s+=Gi(y,g),g=""),d=I,y=y||!hi(d);a++}return""!==g&&(s+=Gi(y,g)),s}function No(r){return si(()=>{const s=ji(r),a={...s,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===oa.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||Pi.Emulated,styles:r.styles||er,_:null,schemas:r.schemas||null,tView:null,id:""};xs(a);const d=r.dependencies;return a.directiveDefs=Di(d,!1),a.pipeDefs=Di(d,!0),a.id=function Br(r){let s=0;const a=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const g of a)s=Math.imul(31,s)+g.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(a),a})}function Zo(r){return sr(r)||Lr(r)}function ml(r){return null!==r}function Zs(r){return si(()=>({type:r.type,bootstrap:r.bootstrap||er,declarations:r.declarations||er,imports:r.imports||er,exports:r.exports||er,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function Ko(r,s){if(null==r)return ts;const a={};for(const d in r)if(r.hasOwnProperty(d)){let g=r[d],y=g;Array.isArray(g)&&(y=g[1],g=g[0]),a[g]=d,s&&(s[g]=y)}return a}function lo(r){return si(()=>{const s=ji(r);return xs(s),s})}function Yo(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function sr(r){return r[$s]||null}function Lr(r){return r[co]||null}function Li(r){return r[Ao]||null}function ls(r){const s=sr(r)||Lr(r)||Li(r);return null!==s&&s.standalone}function fi(r,s){const a=r[aa]||null;if(!a&&!0===s)throw new Error(`Type ${At(r)} does not have '\u0275mod' property.`);return a}function ji(r){const s={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:r.inputs||ts,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||er,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ko(r.inputs,s),outputs:Ko(r.outputs)}}function xs(r){r.features?.forEach(s=>s(r))}function Di(r,s){if(!r)return null;const a=s?Li:Zo;return()=>("function"==typeof r?r():r).map(d=>a(d)).filter(ml)}const zn=0,xt=1,kn=2,Sr=3,Bi=4,Ks=5,qr=6,$i=7,xr=8,ai=9,Rs=10,On=11,uo=12,rc=13,ns=14,Zr=15,ys=16,Ys=17,pi=18,Oo=19,ho=20,fo=21,rs=22,Qs=23,Mo=24,Un=25,Ps=1,Zi=2,xi=7,Ba=9,vr=11;function ei(r){return Array.isArray(r)&&"object"==typeof r[Ps]}function us(r){return Array.isArray(r)&&!0===r[Ps]}function po(r){return 0!=(4&r.flags)}function xo(r){return r.componentOffset>-1}function go(r){return 1==(1&r.flags)}function ci(r){return!!r.template}function yi(r){return 0!=(512&r[kn])}function Ua(r,s){return r.hasOwnProperty(Os)?r[Os]:null}let Ui=null,eo=!1;function ti(r){const s=Ui;return Ui=r,s}const _o={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ur(r){if(!Ls(r)||r.dirty){if(!r.producerMustRecompute(r)&&!Fs(r))return void(r.dirty=!1);r.producerRecomputeValue(r),r.dirty=!1}}function yo(r){r.dirty=!0,function ws(r){if(void 0===r.liveConsumerNode)return;const s=eo;eo=!0;try{for(const a of r.liveConsumerNode)a.dirty||yo(a)}finally{eo=s}}(r),r.consumerMarkedDirty?.(r)}function Po(r){return r&&(r.nextProducerIndex=0),ti(r)}function ha(r,s){if(ti(s),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(Ls(r))for(let a=r.nextProducerIndex;a<r.producerNode.length;a++)Tc(r.producerNode[a],r.producerIndexOfThis[a]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function Fs(r){Wc(r);for(let s=0;s<r.producerNode.length;s++){const a=r.producerNode[s],d=r.producerLastReadVersion[s];if(d!==a.version||(ur(a),d!==a.version))return!0}return!1}function fa(r){if(Wc(r),Ls(r))for(let s=0;s<r.producerNode.length;s++)Tc(r.producerNode[s],r.producerIndexOfThis[s]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function Tc(r,s){if(function ic(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}(r),Wc(r),1===r.liveConsumerNode.length)for(let d=0;d<r.producerNode.length;d++)Tc(r.producerNode[d],r.producerIndexOfThis[d]);const a=r.liveConsumerNode.length-1;if(r.liveConsumerNode[s]=r.liveConsumerNode[a],r.liveConsumerIndexOfThis[s]=r.liveConsumerIndexOfThis[a],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,s<r.liveConsumerNode.length){const d=r.liveConsumerIndexOfThis[s],g=r.liveConsumerNode[s];Wc(g),g.producerIndexOfThis[d]=s}}function Ls(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function Wc(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}let qc=null;function br(r){const s=ti(null);try{return r()}finally{ti(s)}}const qn=()=>{},Kr=(()=>({..._o,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{r.schedule(r.ref)},hasRun:!1,cleanupFn:qn}))();class vi{constructor(s,a,d){this.previousValue=s,this.currentValue=a,this.firstChange=d}isFirstChange(){return this.firstChange}}function Bs(){return bi}function bi(r){return r.type.prototype.ngOnChanges&&(r.setInput=wi),hs}function hs(){const r=Xo(this),s=r?.current;if(s){const a=r.previous;if(a===ts)r.previous=s;else for(let d in s)a[d]=s[d];r.current=null,this.ngOnChanges(s)}}function wi(r,s,a,d){const g=this.declaredInputs[a],y=Xo(r)||function sc(r,s){return r[to]=s}(r,{previous:ts,current:null}),I=y.current||(y.current={}),S=y.previous,R=S[g];I[g]=new vi(R&&R.currentValue,s,S===ts),r[d]=s}Bs.ngInherit=!0;const to="__ngSimpleChanges__";function Xo(r){return r[to]||null}const no=function(r,s,a){},oc="svg";function gi(r){for(;Array.isArray(r);)r=r[zn];return r}function kl(r,s){return gi(s[r])}function ro(r,s){return gi(s[r.index])}function Nd(r,s){return r.data[s]}function ko(r,s){return r[s]}function Ci(r,s){const a=s[r];return ei(a)?a:a[zn]}function ga(r,s){return null==s?null:r[s]}function Fl(r){r[Ys]=0}function _h(r){1024&r[kn]||(r[kn]|=1024,yl(r,1))}function Si(r){1024&r[kn]&&(r[kn]&=-1025,yl(r,-1))}function yl(r,s){let a=r[Sr];if(null===a)return;a[Ks]+=s;let d=a;for(a=a[Sr];null!==a&&(1===s&&1===d[Ks]||-1===s&&0===d[Ks]);)a[Ks]+=s,d=a,a=a[Sr]}function Kc(r,s){if(256==(256&r[kn]))throw new Ge(911,!1);null===r[fo]&&(r[fo]=[]),r[fo].push(s)}const un={lFrame:Ue(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Bl(){return un.bindingsEnabled}function ma(){return null!==un.skipHydrationRootTNode}function ht(){return un.lFrame.lView}function wr(){return un.lFrame.tView}function Yu(r){return un.lFrame.contextLView=r,r[xr]}function Rd(r){return un.lFrame.contextLView=null,r}function Yi(){let r=uu();for(;null!==r&&64===r.type;)r=r.parent;return r}function uu(){return un.lFrame.currentTNode}function vl(){const r=un.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}function Fo(r,s){const a=un.lFrame;a.currentTNode=r,a.isParent=s}function Qc(){return un.lFrame.isParent}function ac(){un.lFrame.isParent=!1}function Vs(){const r=un.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function Ga(){return un.lFrame.bindingIndex++}function _a(r){const s=un.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,a}function Vl(r){un.lFrame.inI18n=r}function Ff(r,s){const a=un.lFrame;a.bindingIndex=a.bindingRootIndex=r,C(s)}function C(r){un.lFrame.currentDirectiveIndex=r}function D(){return un.lFrame.currentQueryIndex}function P(r){un.lFrame.currentQueryIndex=r}function j(r){const s=r[xt];return 2===s.type?s.declTNode:1===s.type?r[qr]:null}function se(r,s,a){if(a&tn.SkipSelf){let g=s,y=r;for(;!(g=g.parent,null!==g||a&tn.Host||(g=j(y),null===g||(y=y[ns],10&g.type))););if(null===g)return!1;s=g,r=y}const d=un.lFrame=$e();return d.currentTNode=s,d.lView=r,!0}function _e(r){const s=$e(),a=r[xt];un.lFrame=s,s.currentTNode=a.firstChild,s.lView=r,s.tView=a,s.contextLView=r,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function $e(){const r=un.lFrame,s=null===r?null:r.child;return null===s?Ue(r):s}function Ue(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function jt(){const r=un.lFrame;return un.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Rn=jt;function Rr(){const r=jt();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Wr(){return un.lFrame.selectedIndex}function ya(r){un.lFrame.selectedIndex=r}function Vr(){const r=un.lFrame;return Nd(r.tView,r.selectedIndex)}function ea(){un.lFrame.currentNamespace=oc}function kd(){!function va(){un.lFrame.currentNamespace=null}()}let bh=!0;function wh(){return bh}function Cc(r){bh=r}function fu(r,s){for(let a=s.directiveStart,d=s.directiveEnd;a<d;a++){const y=r.data[a].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:S,ngAfterViewInit:R,ngAfterViewChecked:z,ngOnDestroy:ie}=y;I&&(r.contentHooks??=[]).push(-a,I),S&&((r.contentHooks??=[]).push(a,S),(r.contentCheckHooks??=[]).push(a,S)),R&&(r.viewHooks??=[]).push(-a,R),z&&((r.viewHooks??=[]).push(a,z),(r.viewCheckHooks??=[]).push(a,z)),null!=ie&&(r.destroyHooks??=[]).push(a,ie)}}function el(r,s,a){pu(r,s,3,a)}function bl(r,s,a,d){(3&r[kn])===a&&pu(r,s,a,d)}function Fd(r,s){let a=r[kn];(3&a)===s&&(a&=8191,a+=1,r[kn]=a)}function pu(r,s,a,d){const y=d??-1,I=s.length-1;let S=0;for(let R=void 0!==d?65535&r[Ys]:0;R<I;R++)if("number"==typeof s[R+1]){if(S=s[R],null!=d&&S>=d)break}else s[R]<0&&(r[Ys]+=65536),(S<y||-1==y)&&(lc(r,a,s,R),r[Ys]=(4294901760&r[Ys])+R+2),R++}function Ld(r,s){no(4,r,s);const a=ti(null);try{s.call(r)}finally{ti(a),no(5,r,s)}}function lc(r,s,a,d){const g=a[d]<0,y=a[d+1],S=r[g?-a[d]:a[d]];g?r[kn]>>13<r[Ys]>>16&&(3&r[kn])===s&&(r[kn]+=8192,Ld(S,y)):Ld(S,y)}const wl=-1;class Xu{constructor(s,a,d){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=d}}function gu(r){return r!==wl}function Hl(r){return 32767&r}function Il(r,s){let a=function Eh(r){return r>>16}(r),d=s;for(;a>0;)d=d[ns],a--;return d}let mu=!0;function tl(r){const s=mu;return mu=r,s}const _u=255,ed=5;let yu=0;const wo={};function Tl(r,s){const a=vu(r,s);if(-1!==a)return a;const d=s[xt];d.firstCreatePass&&(r.injectorIndex=s.length,nl(d.data,r),nl(s,null),nl(d.blueprint,null));const g=bu(r,s),y=r.injectorIndex;if(gu(g)){const I=Hl(g),S=Il(g,s),R=S[xt].data;for(let z=0;z<8;z++)s[y+z]=S[I+z]|R[I+z]}return s[y+8]=g,y}function nl(r,s){r.push(0,0,0,0,0,0,0,0,s)}function vu(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function bu(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let a=0,d=null,g=s;for(;null!==g;){if(d=O(g),null===d)return wl;if(a++,g=g[ns],-1!==d.injectorIndex)return d.injectorIndex|a<<16}return wl}function Gl(r,s,a){!function td(r,s,a){let d;"string"==typeof a?d=a.charCodeAt(0)||0:a.hasOwnProperty(zs)&&(d=a[zs]),null==d&&(d=a[zs]=yu++);const g=d&_u;s.data[r+(g>>ed)]|=1<<g}(r,s,a)}function fg(r,s,a){if(a&tn.Optional||void 0!==r)return r;Tn()}function Uf(r,s,a,d){if(a&tn.Optional&&void 0===d&&(d=null),!(a&(tn.Self|tn.Host))){const g=r[ai],y=mn(void 0);try{return g?g.get(s,d,a&tn.Optional):rr(s,d,a&tn.Optional)}finally{mn(y)}}return fg(d,0,a)}function jl(r,s,a,d=tn.Default,g){if(null!==r){if(2048&s[kn]&&!(d&tn.Self)){const I=function jf(r,s,a,d,g){let y=r,I=s;for(;null!==y&&null!==I&&2048&I[kn]&&!(512&I[kn]);){const S=Hf(y,I,a,d|tn.Self,wo);if(S!==wo)return S;let R=y.parent;if(!R){const z=I[ho];if(z){const ie=z.get(a,wo,d);if(ie!==wo)return ie}R=O(I),I=I[ns]}y=R}return g}(r,s,a,d,wo);if(I!==wo)return I}const y=Hf(r,s,a,d,wo);if(y!==wo)return y}return Uf(s,a,d,g)}function Hf(r,s,a,d,g){const y=function Ud(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(zs)?r[zs]:void 0;return"number"==typeof s?s>=0?s&_u:Gf:s}(a);if("function"==typeof y){if(!se(s,r,d))return d&tn.Host?fg(g,0,d):Uf(s,a,d,g);try{let I;if(I=y(d),null!=I||d&tn.Optional)return I;Tn()}finally{Rn()}}else if("number"==typeof y){let I=null,S=vu(r,s),R=wl,z=d&tn.Host?s[Zr][qr]:null;for((-1===S||d&tn.SkipSelf)&&(R=-1===S?bu(r,s):s[S+8],R!==wl&&wu(d,!1)?(I=s[xt],S=Hl(R),s=Il(R,s)):S=-1);-1!==S;){const ie=s[xt];if(Sc(y,S,ie.data)){const me=$l(S,s,a,I,d,z);if(me!==wo)return me}R=s[S+8],R!==wl&&wu(d,s[xt].data[S+8]===z)&&Sc(y,S,s)?(I=ie,S=Hl(R),s=Il(R,s)):S=-1}}return g}function $l(r,s,a,d,g,y){const I=s[xt],S=I.data[r+8],ie=El(S,I,a,null==d?xo(S)&&mu:d!=I&&0!=(3&S.type),g&tn.Host&&y===S);return null!==ie?uc(s,I,ie,S):wo}function El(r,s,a,d,g){const y=r.providerIndexes,I=s.data,S=1048575&y,R=r.directiveStart,ie=y>>20,Me=g?S+ie:r.directiveEnd;for(let Le=d?S:S+ie;Le<Me;Le++){const pt=I[Le];if(Le<R&&a===pt||Le>=R&&pt.type===a)return Le}if(g){const Le=I[R];if(Le&&ci(Le)&&Le.type===a)return R}return null}function uc(r,s,a,d){let g=r[a];const y=s.data;if(function Ih(r){return r instanceof Xu}(g)){const I=g;I.resolving&&function xn(r,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new Ge(-200,`Circular dependency in DI detected for ${r}${a}`)}(function gt(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Qe(r)}(y[a]));const S=tl(I.canSeeViewProviders);I.resolving=!0;const z=I.injectImpl?mn(I.injectImpl):null;se(r,d,tn.Default);try{g=r[a]=I.factory(void 0,y,r,d),s.firstCreatePass&&a>=d.directiveStart&&function Lf(r,s,a){const{ngOnChanges:d,ngOnInit:g,ngDoCheck:y}=s.type.prototype;if(d){const I=bi(s);(a.preOrderHooks??=[]).push(r,I),(a.preOrderCheckHooks??=[]).push(r,I)}g&&(a.preOrderHooks??=[]).push(0-r,g),y&&((a.preOrderHooks??=[]).push(r,y),(a.preOrderCheckHooks??=[]).push(r,y))}(a,y[a],s)}finally{null!==z&&mn(z),tl(S),I.resolving=!1,Rn()}}return g}function Sc(r,s,a){return!!(a[s+(r>>ed)]&1<<r)}function wu(r,s){return!(r&tn.Self||r&tn.Host&&s)}class Bo{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,d){return jl(this._tNode,this._lView,s,Ns(d),a)}}function Gf(){return new Bo(Yi(),ht())}function Hd(r){return si(()=>{const s=r.prototype.constructor,a=s[Os]||nd(s),d=Object.prototype;let g=Object.getPrototypeOf(r.prototype).constructor;for(;g&&g!==d;){const y=g[Os]||nd(g);if(y&&y!==a)return y;g=Object.getPrototypeOf(g)}return y=>new y})}function nd(r){return mt(r)?()=>{const s=nd(Mt(r));return s&&s()}:Ua(r)}function O(r){const s=r[xt],a=s.type;return 2===a?s.declTNode:1===a?r[qr]:null}function L(r){return function Vd(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const a=r.attrs;if(a){const d=a.length;let g=0;for(;g<d;){const y=a[g];if(ec(y))break;if(0===y)g+=2;else if("number"==typeof y)for(g++;g<d&&"string"==typeof a[g];)g++;else{if(y===s)return a[g+1];g+=2}}}return null}(Yi(),r)}const he="__parameters__";function Vt(r,s,a){return si(()=>{const d=function st(r){return function(...a){if(r){const d=r(...a);for(const g in d)this[g]=d[g]}}}(s);function g(...y){if(this instanceof g)return d.apply(this,y),this;const I=new g(...y);return S.annotation=I,S;function S(R,z,ie){const me=R.hasOwnProperty(he)?R[he]:Object.defineProperty(R,he,{value:[]})[he];for(;me.length<=ie;)me.push(null);return(me[ie]=me[ie]||[]).push(I),R}}return a&&(g.prototype=Object.create(a.prototype)),g.prototype.ngMetadataName=r,g.annotationCls=g,g})}function Sh(r,s){r.forEach(a=>Array.isArray(a)?Sh(a,s):s(a))}function Ah(r,s,a){s>=r.length?r.push(a):r.splice(s,0,a)}function Gd(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function zl(r,s){const a=[];for(let d=0;d<r;d++)a.push(s);return a}function ps(r,s,a){let d=gs(r,s);return d>=0?r[1|d]=a:(d=~d,function gv(r,s,a,d){let g=r.length;if(g==s)r.push(a,d);else if(1===g)r.push(d,r[0]),r[0]=a;else{for(g--,r.push(r[g-1],r[g]);g>s;)r[g]=r[g-2],g--;r[s]=a,r[s+1]=d}}(r,d,s,a)),d}function Us(r,s){const a=gs(r,s);if(a>=0)return r[1|a]}function gs(r,s){return function zf(r,s,a){let d=0,g=r.length>>a;for(;g!==d;){const y=d+(g-d>>1),I=r[y<<a];if(s===I)return y<<a;I>s?g=y:d=y+1}return~(g<<a)}(r,s,1)}const qf=es(Vt("Optional"),8),Du=es(Vt("SkipSelf"),4);function id(r){return 128==(128&r.flags)}var b_=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(b_||{});const $I=/^>|^->|<!--|-->|--!>|<!-$/g,w_=/(<|>)/g,Ev="\u200b$1\u200b";const Dv=new Map;let zI=0;const E_="__ngContext__";function Ea(r,s){ei(s)?(r[E_]=s[Oo],function I_(r){Dv.set(r[Oo],r)}(s)):r[E_]=s}let sd;function Jf(r,s){return sd(r,s)}function kh(r){const s=r[Sr];return us(s)?s[Sr]:s}function C_(r){return S_(r[uo])}function Fh(r){return S_(r[Bi])}function S_(r){for(;null!==r&&!us(r);)r=r[Bi];return r}function Zl(r,s,a,d,g){if(null!=d){let y,I=!1;us(d)?y=d:ei(d)&&(I=!0,d=d[zn]);const S=gi(d);0===r&&null!==a?null==g?M_(s,a,S):Su(s,a,S,g||null,!0):1===r&&null!==a?Su(s,a,S,g||null,!0):2===r?function F_(r,s,a){const d=tp(r,s);d&&function hb(r,s,a,d){r.removeChild(s,a,d)}(r,d,s,a)}(s,S,I):3===r&&s.destroyNode(S),null!=y&&function ZI(r,s,a,d,g){const y=a[xi];y!==gi(a)&&Zl(s,r,d,y,g);for(let S=vr;S<a.length;S++){const R=a[S];Rg(R[xt],R,r,s,d,y)}}(s,r,y,a,g)}}function Lh(r,s){return r.createText(s)}function Ag(r,s){return r.createComment(function cb(r){return r.replace($I,s=>s.replace(w_,Ev))}(s))}function Ng(r,s,a){return r.createElement(s,a)}function Bh(r,s){const a=r[Ba],d=a.indexOf(s);Si(s),a.splice(d,1)}function Og(r,s){if(r.length<=vr)return;const a=vr+s,d=r[a];if(d){const g=d[ys];null!==g&&g!==r&&Bh(g,d),s>0&&(r[a-1][Bi]=d[Bi]);const y=Gd(r,vr+s);!function db(r,s){Rg(r,s,s[On],2,null,null),s[zn]=null,s[qr]=null}(d[xt],d);const I=y[pi];null!==I&&I.detachView(y[xt]),d[Sr]=null,d[Bi]=null,d[kn]&=-129}return d}function Xf(r,s){if(!(256&s[kn])){const a=s[On];s[Qs]&&fa(s[Qs]),s[Mo]&&fa(s[Mo]),a.destroyNode&&Rg(r,s,a,3,null,null),function Nv(r){let s=r[uo];if(!s)return Vh(r[xt],r);for(;s;){let a=null;if(ei(s))a=s[uo];else{const d=s[vr];d&&(a=d)}if(!a){for(;s&&!s[Bi]&&s!==r;)ei(s)&&Vh(s[xt],s),s=s[Sr];null===s&&(s=r),ei(s)&&Vh(s[xt],s),a=s&&s[Bi]}s=a}}(s)}}function Vh(r,s){if(!(256&s[kn])){s[kn]&=-129,s[kn]|=256,function Mg(r,s){let a;if(null!=r&&null!=(a=r.destroyHooks))for(let d=0;d<a.length;d+=2){const g=s[a[d]];if(!(g instanceof Xu)){const y=a[d+1];if(Array.isArray(y))for(let I=0;I<y.length;I+=2){const S=g[y[I]],R=y[I+1];no(4,S,R);try{R.call(S)}finally{no(5,S,R)}}else{no(4,g,y);try{y.call(g)}finally{no(5,g,y)}}}}}(r,s),function Mv(r,s){const a=r.cleanup,d=s[$i];if(null!==a)for(let y=0;y<a.length-1;y+=2)if("string"==typeof a[y]){const I=a[y+3];I>=0?d[I]():d[-I].unsubscribe(),y+=2}else a[y].call(d[a[y+1]]);null!==d&&(s[$i]=null);const g=s[fo];if(null!==g){s[fo]=null;for(let y=0;y<g.length;y++)(0,g[y])()}}(r,s),1===s[xt].type&&s[On].destroy();const a=s[ys];if(null!==a&&us(s[Sr])){a!==s[Sr]&&Bh(a,s);const d=s[pi];null!==d&&d.detachView(r)}!function lb(r){Dv.delete(r[Oo])}(s)}}function Uh(r,s,a){return ep(r,s.parent,a)}function ep(r,s,a){let d=s;for(;null!==d&&40&d.type;)d=(s=d).parent;if(null===d)return a[zn];{const{componentOffset:g}=d;if(g>-1){const{encapsulation:y}=r.data[d.directiveStart+g];if(y===Pi.None||y===Pi.Emulated)return null}return ro(d,a)}}function Su(r,s,a,d,g){r.insertBefore(s,a,d,g)}function M_(r,s,a){r.appendChild(s,a)}function xv(r,s,a,d,g){null!==d?Su(r,s,a,d,g):M_(r,s,a)}function tp(r,s){return r.parentNode(s)}function x_(r,s,a){return P_(r,s,a)}function R_(r,s,a){return 40&r.type?ro(r,a):null}let k_,Ai,B_,ip,P_=R_;function pb(r,s){P_=r,k_=s}function xg(r,s,a,d){const g=Uh(r,d,s),y=s[On],S=x_(d.parent||s[qr],d,s);if(null!=g)if(Array.isArray(a))for(let R=0;R<a.length;R++)xv(y,g,a[R],S,!1);else xv(y,g,a,S,!1);void 0!==k_&&k_(y,d,s,a,g)}function Au(r,s){if(null!==s){const a=s.type;if(3&a)return ro(s,r);if(4&a)return kv(-1,r[s.index]);if(8&a){const d=s.child;if(null!==d)return Au(r,d);{const g=r[s.index];return us(g)?kv(-1,g):gi(g)}}if(32&a)return Jf(s,r)()||gi(r[s.index]);{const d=Pv(r,s);return null!==d?Array.isArray(d)?d[0]:Au(kh(r[Zr]),d):Au(r,s.next)}}return null}function Pv(r,s){return null!==s?r[Zr][qr].projection[s.projection]:null}function kv(r,s){const a=vr+r+1;if(a<s.length){const d=s[a],g=d[xt].firstChild;if(null!==g)return Au(d,g)}return s[xi]}function Lv(r,s,a,d,g,y,I){for(;null!=a;){const S=d[a.index],R=a.type;if(I&&0===s&&(S&&Ea(gi(S),d),a.flags|=2),32!=(32&a.flags))if(8&R)Lv(r,s,a.child,d,g,y,!1),Zl(s,r,g,S,y);else if(32&R){const z=Jf(a,d);let ie;for(;ie=z();)Zl(s,r,g,ie,y);Zl(s,r,g,S,y)}else 16&R?gb(r,s,d,a,g,y):Zl(s,r,g,S,y);a=I?a.projectionNext:a.next}}function Rg(r,s,a,d,g,y){Lv(a,d,r.firstChild,s,g,y,!1)}function gb(r,s,a,d,g,y){const I=a[Zr],R=I[qr].projection[d.projection];if(Array.isArray(R))for(let z=0;z<R.length;z++)Zl(s,r,g,R[z],y);else{let z=R;const ie=I[Sr];id(d)&&(z.flags|=128),Lv(r,s,z,ie,g,y,!0)}}function Bv(r,s,a){""===a?r.removeAttribute(s,"class"):r.setAttribute(s,"class",a)}function Oc(r,s,a){const{mergedAttrs:d,classes:g,styles:y}=a;null!==d&&Wi(r,s,d),null!==g&&Bv(r,s,g),null!==y&&function np(r,s,a){r.setAttribute(s,"style",a)}(r,s,y)}function Wd(r){return function rp(){if(void 0===Ai&&(Ai=null,ir.trustedTypes))try{Ai=ir.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Ai}()?.createHTML(r)||r}function Hh(r){B_=r}function od(){if(void 0!==B_)return B_;if(typeof document<"u")return document;throw new Ge(210,!1)}function yb(r){return function Uv(){if(void 0===ip&&(ip=null,ir.trustedTypes))try{ip=ir.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return ip}()?.createScriptURL(r)||r}class Cl{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_t})`}}class qd extends Cl{getTypeName(){return"HTML"}}class Gh extends Cl{getTypeName(){return"Style"}}class Fg extends Cl{getTypeName(){return"Script"}}class V_ extends Cl{getTypeName(){return"URL"}}class jh extends Cl{getTypeName(){return"ResourceURL"}}function Da(r){return r instanceof Cl?r.changingThisBreaksApplicationSecurity:r}function $h(r,s){const a=function Hv(r){return r instanceof Cl&&r.getTypeName()||null}(r);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${_t})`)}return a===s}function ED(r){return new qd(r)}function YI(r){return new Gh(r)}function DD(r){return new Fg(r)}function QI(r){return new V_(r)}function JI(r){return new jh(r)}function XI(r){const s=new eT(r);return function SD(){try{return!!(new window.DOMParser).parseFromString(Wd(""),"text/html")}catch{return!1}}()?new CD(s):s}class CD{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Wd(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class eT{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=Wd(s),a}}const AD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Gv(r){return(r=String(r)).match(AD)?r:"unsafe:"+r}function Zd(r){const s={};for(const a of r.split(","))s[a]=!0;return s}function U_(...r){const s={};for(const a of r)for(const d in a)a.hasOwnProperty(d)&&(s[d]=!0);return s}const vb=Zd("area,br,col,hr,img,wbr"),Sl=Zd("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nn=Zd("rp,rt"),ad=U_(vb,U_(Sl,Zd("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),U_(nn,Zd("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),U_(nn,Sl)),zh=Zd("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),bb=U_(zh,Zd("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zd("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),zv=Zd("script,style,template");class Ts{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,d=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?d=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,d&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let g=this.checkClobberedElement(a,a.nextSibling);if(g){a=g;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!ad.hasOwnProperty(a))return this.sanitizedSomething=!0,!zv.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const d=s.attributes;for(let g=0;g<d.length;g++){const y=d.item(g),I=y.name,S=I.toLowerCase();if(!bb.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let R=y.value;zh[S]&&(R=Gv(R)),this.buf.push(" ",I,'="',Kl(R),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();ad.hasOwnProperty(a)&&!vb.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(Kl(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const G_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Uo=/([^\#-~ |!])/g;function Kl(r){return r.replace(/&/g,"&amp;").replace(G_,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Uo,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Bg;function j_(r,s){let a=null;try{Bg=Bg||XI(r);let d=s?String(s):"";a=Bg.getInertBodyElement(d);let g=5,y=d;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,d=y,y=a.innerHTML,a=Bg.getInertBodyElement(d)}while(d!==y);return Wd((new Ts).sanitizeChildren(sp(a)||a))}finally{if(a){const d=sp(a)||a;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function sp(r){return"content"in r&&function Vg(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Es=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(Es||{});function Wh(r){const s=Yl();return s?s.sanitize(Es.URL,r)||"":$h(r,"URL")?Da(r):Gv(Qe(r))}function rl(r){const s=Yl();if(s)return yb(s.sanitize(Es.RESOURCE_URL,r)||"");if($h(r,"ResourceURL"))return yb(Da(r));throw new Ge(904,!1)}function Hg(r,s,a){return function qh(r,s){return"src"===s&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===s&&("base"===r||"link"===r)?rl:Wh}(s,a)(r)}function Yl(){const r=ht();return r&&r[Rs].sanitizer}const Nu=new An("ENVIRONMENT_INITIALIZER"),Gg=new An("INJECTOR",-1),jg=new An("INJECTOR_DEF_TYPES");class cp{get(s,a=V){if(a===V){const d=new Error(`NullInjectorError: No provider for ${At(s)}!`);throw d.name="NullInjectorError",d}return a}}function lp(...r){return{\u0275providers:Zv(0,r),\u0275fromNgModule:!0}}function Zv(r,...s){const a=[],d=new Set;let g;const y=I=>{a.push(I)};return Sh(s,I=>{const S=I;Ou(S,y,[],d)&&(g||=[],g.push(S))}),void 0!==g&&Tb(g,y),a}function Tb(r,s){for(let a=0;a<r.length;a++){const{ngModule:d,providers:g}=r[a];cd(g,y=>{s(y,d)})}}function Ou(r,s,a,d){if(!(r=Mt(r)))return!1;let g=null,y=En(r);const I=!y&&sr(r);if(y||I){if(I&&!I.standalone)return!1;g=r}else{const R=r.ngModule;if(y=En(R),!y)return!1;g=R}const S=d.has(g);if(I){if(S)return!1;if(d.add(g),I.dependencies){const R="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const z of R)Ou(z,s,a,d)}}else{if(!y)return!1;{if(null!=y.imports&&!S){let z;d.add(g);try{Sh(y.imports,ie=>{Ou(ie,s,a,d)&&(z||=[],z.push(ie))})}finally{}void 0!==z&&Tb(z,s)}if(!S){const z=Ua(g)||(()=>new g);s({provide:g,useFactory:z,deps:er},g),s({provide:jg,useValue:g,multi:!0},g),s({provide:Nu,useValue:()=>Pn(g),multi:!0},g)}const R=y.providers;if(null!=R&&!S){const z=r;cd(R,ie=>{s(ie,z)})}}}return g!==r&&void 0!==r.providers}function cd(r,s){for(let a of r)ot(a)&&(a=a.\u0275providers),Array.isArray(a)?cd(a,s):s(a)}const Kv=Pe({provide:String,useValue:Pe});function zg(r){return null!==r&&"object"==typeof r&&Kv in r}function ld(r){return"function"==typeof r}const z_=new An("Set Injector scope."),Wg={},dp={};let hp;function Kh(){return void 0===hp&&(hp=new cp),hp}class Al{}class Kd extends Al{get destroyed(){return this._destroyed}constructor(s,a,d,g){super(),this.parent=a,this.source=d,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zg(s,I=>this.processProvider(I)),this.records.set(Gg,Yh(void 0,this)),g.has("environment")&&this.records.set(Al,Yh(void 0,this));const y=this.records.get(z_);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(jg.multi,er,tn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=Dn(this),d=mn(void 0);try{return s()}finally{Dn(a),mn(d)}}get(s,a=V,d=tn.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(di))return s[di](this);d=Ns(d);const y=Dn(this),I=mn(void 0);try{if(!(d&tn.SkipSelf)){let R=this.records.get(s);if(void 0===R){const z=function rT(r){return"function"==typeof r||"object"==typeof r&&r instanceof An}(s)&&at(s);R=z&&this.injectableDefInScope(z)?Yh(W_(s),Wg):null,this.records.set(s,R)}if(null!=R)return this.hydrate(s,R)}return(d&tn.Self?Kh():this.parent).get(s,a=d&tn.Optional&&a===V?null:a)}catch(S){if("NullInjectorError"===S.name){if((S[W]=S[W]||[]).unshift(At(s)),y)throw S;return function Ra(r,s,a,d){const g=r[W];throw s[Tt]&&g.unshift(s[Tt]),r.message=function yc(r,s,a,d=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let g=At(s);if(Array.isArray(s))g=s.map(At).join(" -> ");else if("object"==typeof s){let y=[];for(let I in s)if(s.hasOwnProperty(I)){let S=s[I];y.push(I+":"+("string"==typeof S?JSON.stringify(S):At(S)))}g=`{${y.join(", ")}}`}return`${a}${d?"("+d+")":""}[${g}]: ${r.replace(be,"\n  ")}`}("\n"+r.message,g,a,d),r.ngTokenPath=g,r[W]=null,r}(S,s,"R3InjectorError",this.source)}throw S}finally{mn(I),Dn(y)}}resolveInjectorInitializers(){const s=Dn(this),a=mn(void 0);try{const g=this.get(Nu.multi,er,tn.Self);for(const y of g)y()}finally{Dn(s),mn(a)}}toString(){const s=[],a=this.records;for(const d of a.keys())s.push(At(d));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ge(205,!1)}processProvider(s){let a=ld(s=Mt(s))?s:Mt(s&&s.provide);const d=function nT(r){return zg(r)?Yh(void 0,r.useValue):Yh(qg(r),Wg)}(s);if(ld(s)||!0!==s.multi)this.records.get(a);else{let g=this.records.get(a);g||(g=Yh(void 0,Wg,!0),g.factory=()=>sa(g.multi),this.records.set(a,g)),a=s,g.multi.push(s)}this.records.set(a,d)}hydrate(s,a){return a.value===Wg&&(a.value=dp,a.value=a.factory()),"object"==typeof a.value&&a.value&&function q_(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Mt(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function W_(r){const s=at(r),a=null!==s?s.factory:Ua(r);if(null!==a)return a;if(r instanceof An)throw new Ge(204,!1);if(r instanceof Function)return function Eb(r){const s=r.length;if(s>0)throw zl(s,"?"),new Ge(204,!1);const a=function _r(r){return r&&(r[an]||r[wn])||null}(r);return null!==a?()=>a.factory(r):()=>new r}(r);throw new Ge(204,!1)}function qg(r,s,a){let d;if(ld(r)){const g=Mt(r);return Ua(g)||W_(g)}if(zg(r))d=()=>Mt(r.useValue);else if(function up(r){return!(!r||!r.useFactory)}(r))d=()=>r.useFactory(...sa(r.deps||[]));else if(function Zh(r){return!(!r||!r.useExisting)}(r))d=()=>Pn(Mt(r.useExisting));else{const g=Mt(r&&(r.useClass||r.provide));if(!function Yv(r){return!!r.deps}(r))return Ua(g)||W_(g);d=()=>new g(...sa(r.deps))}return d}function Yh(r,s,a=!1){return{factory:r,value:s,multi:a?[]:void 0}}function Zg(r,s){for(const a of r)Array.isArray(a)?Zg(a,s):a&&ot(a)?Zg(a.\u0275providers,s):s(a)}const fp=new An("AppId",{providedIn:"root",factory:()=>Z_}),Z_="ng",To=new An("Platform Initializer"),Ho=new An("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Jv=new An("AnimationModuleType"),iT=new An("CSP nonce",{providedIn:"root",factory:()=>od().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Xg=(r,s,a)=>null;function Yd(r,s,a=!1){return Xg(r,s,a)}class ty{}class tm{}class nm{resolveComponentFactory(s){throw function r0(r){const s=Error(`No component factory found for ${At(r)}.`);return s.ngComponent=r,s}(s)}}let mp=(()=>{class r{static#e=this.NULL=new nm}return r})();function o0(){return Jd(Yi(),ht())}function Jd(r,s){return new Xd(ro(r,s))}let Xd=(()=>{class r{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=o0}return r})();function ef(r){return r instanceof Xd?r.nativeElement:r}class ny{}let Ab=(()=>{class r{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function ry(){const r=ht(),a=Ci(Yi().index,r);return(ei(a)?a:r)[On]}()}return r})(),iy=(()=>{class r{static#e=this.\u0275prov=De({token:r,providedIn:"root",factory:()=>null})}return r})();class _p{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const sy=new _p("16.2.12"),rm={};function im(r){if(!yr()&&!function Xt(){return on}())throw new Ge(-203,!1)}function oy(r,s=null,a=null,d){const g=c0(r,s,a,d);return g.resolveInjectorInitializers(),g}function c0(r,s=null,a=null,d,g=new Set){const y=[a||er,lp(r)];return d=d||("object"==typeof r?void 0:At(r)),new Kd(y,s||Kh(),d||null,g)}let na=(()=>{class r{static#e=this.THROW_IF_NOT_FOUND=V;static#t=this.NULL=new cp;static create(a,d){if(Array.isArray(a))return oy({name:""},d,a,"");{const g=a.name??"";return oy({name:g},a.parent,a.providers,g)}}static#n=this.\u0275prov=De({token:r,providedIn:"any",factory:()=>Pn(Gg)});static#r=this.__NG_ELEMENT_ID__=-1}return r})();function rf(r){return r.ngOriginalError}class xu{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&rf(s);for(;a&&rf(a);)a=rf(a);return a||null}}let Ni=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=yp;static#t=this.__NG_ENV_ID__=a=>a}return r})();class am extends Ni{constructor(s){super(),this._lView=s}onDestroy(s){return Kc(this._lView,s),()=>function fs(r,s){if(null===r[fo])return;const a=r[fo].indexOf(s);-1!==a&&r[fo].splice(a,1)}(this._lView,s)}}function yp(){return new am(ht())}function cy(r){return s=>{setTimeout(r,void 0,s)}}const Nl=class vp extends w.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,d){let g=s,y=a||(()=>null),I=d;if(s&&"object"==typeof s){const R=s;g=R.next?.bind(R),y=R.error?.bind(R),I=R.complete?.bind(R)}this.__isAsync&&(y=cy(y),g&&(g=cy(g)),I&&(I=cy(I)));const S=super.subscribe({next:g,error:y,complete:I});return s instanceof ce.w0&&s.add(S),S}};function l0(...r){}class Go{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Nl(!1),this.onMicrotaskEmpty=new Nl(!1),this.onStable=new Nl(!1),this.onError=new Nl(!1),typeof Zone>"u")throw new Ge(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!d&&a,g.shouldCoalesceRunChangeDetection=d,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function xb(){const r="function"==typeof ir.requestAnimationFrame;let s=ir[r?"requestAnimationFrame":"setTimeout"],a=ir[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&a){const d=s[Zone.__symbol__("OriginalDelegate")];d&&(s=d);const g=a[Zone.__symbol__("OriginalDelegate")];g&&(a=g)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function Rb(r){const s=()=>{!function u0(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(ir,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,cm(r),r.isCheckStableRunning=!0,Jl(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),cm(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,d,g,y,I,S)=>{if(function um(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(S))return a.invokeTask(g,y,I,S);try{return th(r),a.invokeTask(g,y,I,S)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||r.shouldCoalesceRunChangeDetection)&&s(),Ru(r)}},onInvoke:(a,d,g,y,I,S,R)=>{try{return th(r),a.invoke(g,y,I,S,R)}finally{r.shouldCoalesceRunChangeDetection&&s(),Ru(r)}},onHasTask:(a,d,g,y)=>{a.hasTask(g,y),d===g&&("microTask"==y.change?(r._hasPendingMicrotasks=y.microTask,cm(r),Jl(r)):"macroTask"==y.change&&(r.hasPendingMacrotasks=y.macroTask))},onHandleError:(a,d,g,y)=>(a.handleError(g,y),r.runOutsideAngular(()=>r.onError.emit(y)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Go.isInAngularZone())throw new Ge(909,!1)}static assertNotInAngularZone(){if(Go.isInAngularZone())throw new Ge(909,!1)}run(s,a,d){return this._inner.run(s,a,d)}runTask(s,a,d,g){const y=this._inner,I=y.scheduleEventTask("NgZoneEvent: "+g,s,bp,l0,l0);try{return y.runTask(I,a,d)}finally{y.cancelTask(I)}}runGuarded(s,a,d){return this._inner.runGuarded(s,a,d)}runOutsideAngular(s){return this._outer.run(s)}}const bp={};function Jl(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function cm(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function th(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function Ru(r){r._nesting--,Jl(r)}class d0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Nl,this.onMicrotaskEmpty=new Nl,this.onStable=new Nl,this.onError=new Nl}run(s,a,d){return s.apply(a,d)}runGuarded(s,a,d){return s.apply(a,d)}runOutsideAngular(s){return s()}runTask(s,a,d,g){return s.apply(a,d)}}const wp=new An("",{providedIn:"root",factory:lm});function lm(){const r=Yn(Go);let s=!0;const a=new u.y(g=>{s=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{g.next(s),g.complete()})}),d=new u.y(g=>{let y;r.runOutsideAngular(()=>{y=r.onStable.subscribe(()=>{Go.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(s=!0,g.next(!0))})})});const I=r.onUnstable.subscribe(()=>{Go.assertInAngularZone(),s&&(s=!1,r.runOutsideAngular(()=>{g.next(!1)}))});return()=>{y.unsubscribe(),I.unsubscribe()}});return(0,we.T)(a,d.pipe(re()))}function qa(r){return r.ownerDocument.defaultView}function Xl(r){return r instanceof Function?r():r}let hd=(()=>{class r{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=De({token:r,providedIn:"root",factory:()=>new r})}return r})();function ku(r){for(;r;){r[kn]|=64;const s=kh(r);if(yi(r)&&!s)return r;r=s}return null}const fd=new An("",{providedIn:"root",factory:()=>!1});let Mc=null;function rh(r,s){return r[s]??xc()}function dy(r,s){const a=xc();a.producerNode?.length&&(r[s]=Mc,a.lView=r,Mc=Cp())}const g0={..._o,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{ku(r.lView)},lView:null};function Cp(){return Object.create(g0)}function xc(){return Mc??=Cp(),Mc}const $n={};function eu(r){Fu(wr(),ht(),Wr()+r,!1)}function Fu(r,s,a,d){if(!d)if(3==(3&s[kn])){const y=r.preOrderCheckHooks;null!==y&&el(s,y,a)}else{const y=r.preOrderHooks;null!==y&&bl(s,y,0,a)}ya(a)}function ih(r,s=tn.Default){const a=ht();return null===a?Pn(r,s):jl(Yi(),a,Mt(r),s)}function sh(){throw new Error("invalid")}function Lu(r,s,a,d,g,y,I,S,R,z,ie){const me=s.blueprint.slice();return me[zn]=g,me[kn]=140|d,(null!==z||r&&2048&r[kn])&&(me[kn]|=2048),Fl(me),me[Sr]=me[ns]=r,me[xr]=a,me[Rs]=I||r&&r[Rs],me[On]=S||r&&r[On],me[ai]=R||r&&r[ai]||null,me[qr]=y,me[Oo]=function WI(){return zI++}(),me[rs]=ie,me[ho]=z,me[Zr]=2==s.type?r[Zr]:me,me}function Rc(r,s,a,d,g){let y=r.data[s];if(null===y)y=_m(r,s,a,d,g),function Qu(){return un.lFrame.inI18n}()&&(y.flags|=32);else if(64&y.type){y.type=a,y.value=d,y.attrs=g;const I=vl();y.injectorIndex=null===I?-1:I.injectorIndex}return Fo(y,!0),y}function _m(r,s,a,d,g){const y=uu(),I=Qc(),R=r.data[s]=function y0(r,s,a,d,g,y){let I=s?s.injectorIndex:-1,S=0;return ma()&&(S|=128),{type:a,index:d,insertBeforeIndex:null,injectorIndex:I,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:S,providerIndexes:0,value:g,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?y:y&&y.parent,a,s,d,g);return null===r.firstChild&&(r.firstChild=R),null!==y&&(I?null==y.child&&null!==R.parent&&(y.child=R):null===y.next&&(y.next=R,R.prev=y)),R}function pd(r,s,a,d){if(0===a)return-1;const g=s.length;for(let y=0;y<a;y++)s.push(d),r.blueprint.push(d),r.data.push(null);return g}function hy(r,s,a,d,g){const y=rh(s,Qs),I=Wr(),S=2&d;try{ya(-1),S&&s.length>Un&&Fu(r,s,Un,!1),no(S?2:0,g);const z=S?y:null,ie=Po(z);try{null!==z&&(z.dirty=!1),a(d,g)}finally{ha(z,ie)}}finally{S&&null===s[Qs]&&dy(s,Qs),ya(I),no(S?3:1,g)}}function Sp(r,s,a){if(po(s)){const d=ti(null);try{const y=s.directiveEnd;for(let I=s.directiveStart;I<y;I++){const S=r.data[I];S.contentQueries&&S.contentQueries(1,a[I],I)}}finally{ti(d)}}}function ym(r,s,a){Bl()&&(function vy(r,s,a,d){const g=a.directiveStart,y=a.directiveEnd;xo(a)&&function v0(r,s,a){const d=ro(s,r),g=vm(a);let I=16;a.signals?I=4096:a.onPush&&(I=64);const S=Mp(r,Lu(r,g,null,I,d,s,null,r[Rs].rendererFactory.createRenderer(d,a),null,null,null));r[s.index]=S}(s,a,r.data[g+a.componentOffset]),r.firstCreatePass||Tl(a,s),Ea(d,s);const I=a.initialInputs;for(let S=g;S<y;S++){const R=r.data[S],z=uc(s,r,S,a);Ea(z,s),null!==I&&Vb(0,S-g,z,R,0,I),ci(R)&&(Ci(a.index,s)[xr]=uc(s,r,S,a))}}(r,s,a,ro(a,s)),64==(64&a.flags)&&by(r,s,a))}function jo(r,s,a=ro){const d=s.localNames;if(null!==d){let g=s.index+1;for(let y=0;y<d.length;y+=2){const I=d[y+1],S=-1===I?a(s,r):r[I];r[g++]=S}}}function vm(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=fy(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):s}function fy(r,s,a,d,g,y,I,S,R,z,ie){const me=Un+d,Me=me+g,Le=function sf(r,s){const a=[];for(let d=0;d<s;d++)a.push(d<r?null:$n);return a}(me,Me),pt="function"==typeof z?z():z;return Le[xt]={type:r,blueprint:Le,template:a,queries:null,viewQuery:S,declTNode:s,data:Le.slice().fill(null,me),bindingStartIndex:me,expandoStartIndex:Me,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:R,consts:pt,incompleteFirstPass:!1,ssrId:ie}}let _0=r=>null;function py(r,s,a,d){for(let g in r)if(r.hasOwnProperty(g)){a=null===a?{}:a;const y=r[g];null===d?tu(a,s,g,y):d.hasOwnProperty(g)&&tu(a,s,d[g],y)}return a}function tu(r,s,a,d){r.hasOwnProperty(a)?r[a].push(s,d):r[a]=[s,d]}function Ca(r,s,a,d,g,y,I,S){const R=ro(s,a);let ie,z=s.inputs;!S&&null!=z&&(ie=z[d])?(Bu(r,a,ie,d,g),xo(s)&&function Oi(r,s){const a=Ci(s,r);16&a[kn]||(a[kn]|=64)}(a,s.index)):3&s.type&&(d=function sl(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(d),g=null!=I?I(g,s.value||"",d):g,y.setProperty(R,d,g))}function ol(r,s,a,d){if(Bl()){const g=null===d?null:{"":-1},y=function hc(r,s){const a=r.directiveRegistry;let d=null,g=null;if(a)for(let y=0;y<a.length;y++){const I=a[y];if(Fi(s,I.selectors,!1))if(d||(d=[]),ci(I))if(null!==I.findHostDirectiveDefs){const S=[];g=g||new Map,I.findHostDirectiveDefs(I,S,g),d.unshift(...S,I),Hs(r,s,S.length)}else d.unshift(I),Hs(r,s,0);else g=g||new Map,I.findHostDirectiveDefs?.(I,d,g),d.push(I)}return null===d?null:[d,g]}(r,a);let I,S;null===y?I=S=null:[I,S]=y,null!==I&&_y(r,s,a,I,g,S),g&&function ah(r,s,a){if(s){const d=r.localNames=[];for(let g=0;g<s.length;g+=2){const y=a[s[g+1]];if(null==y)throw new Ge(-301,!1);d.push(s[g],y)}}}(a,d,g)}a.mergedAttrs=Pa(a.mergedAttrs,a.attrs)}function _y(r,s,a,d,g,y){for(let z=0;z<d.length;z++)Gl(Tl(a,s),r,d[z].type);!function Ap(r,s,a){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+a,r.providerIndexes=s}(a,r.data.length,d.length);for(let z=0;z<d.length;z++){const ie=d[z];ie.providersResolver&&ie.providersResolver(ie)}let I=!1,S=!1,R=pd(r,s,d.length,null);for(let z=0;z<d.length;z++){const ie=d[z];a.mergedAttrs=Pa(a.mergedAttrs,ie.hostAttrs),Im(r,a,s,R,ie),wm(R,ie,g),null!==ie.contentQueries&&(a.flags|=4),(null!==ie.hostBindings||null!==ie.hostAttrs||0!==ie.hostVars)&&(a.flags|=64);const me=ie.type.prototype;!I&&(me.ngOnChanges||me.ngOnInit||me.ngDoCheck)&&((r.preOrderHooks??=[]).push(a.index),I=!0),!S&&(me.ngOnChanges||me.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(a.index),S=!0),R++}!function bm(r,s,a){const g=s.directiveEnd,y=r.data,I=s.attrs,S=[];let R=null,z=null;for(let ie=s.directiveStart;ie<g;ie++){const me=y[ie],Me=a?a.get(me):null,pt=Me?Me.outputs:null;R=py(me.inputs,ie,R,Me?Me.inputs:null),z=py(me.outputs,ie,z,pt);const Nt=null===R||null===I||ka(s)?null:wy(R,ie,I);S.push(Nt)}null!==R&&(R.hasOwnProperty("class")&&(s.flags|=8),R.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=S,s.inputs=R,s.outputs=z}(r,a,y)}function by(r,s,a){const d=a.directiveStart,g=a.directiveEnd,y=a.index,I=function Ju(){return un.lFrame.currentDirectiveIndex}();try{ya(y);for(let S=d;S<g;S++){const R=r.data[S],z=s[S];C(S),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&Za(R,z)}}finally{ya(-1),C(I)}}function Za(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function Hs(r,s,a){s.componentOffset=a,(r.components??=[]).push(s.index)}function wm(r,s,a){if(a){if(s.exportAs)for(let d=0;d<s.exportAs.length;d++)a[s.exportAs[d]]=r;ci(s)&&(a[""]=r)}}function Im(r,s,a,d,g){r.data[d]=g;const y=g.factory||(g.factory=Ua(g.type)),I=new Xu(y,ci(g),ih);r.blueprint[d]=I,a[d]=I,function yy(r,s,a,d,g){const y=g.hostBindings;if(y){let I=r.hostBindingOpCodes;null===I&&(I=r.hostBindingOpCodes=[]);const S=~s.index;(function af(r){let s=r.length;for(;s>0;){const a=r[--s];if("number"==typeof a&&a<0)return a}return 0})(I)!=S&&I.push(S),I.push(a,d,y)}}(r,s,d,pd(r,a,g.hostVars,$n),g)}function Ka(r,s,a,d,g,y){const I=ro(r,s);!function Np(r,s,a,d,g,y,I){if(null==y)r.removeAttribute(s,g,a);else{const S=null==I?Qe(y):I(y,d||"",g);r.setAttribute(s,g,S,a)}}(s[On],I,y,r.value,a,d,g)}function Vb(r,s,a,d,g,y){const I=y[s];if(null!==I)for(let S=0;S<I.length;)ch(d,a,I[S++],I[S++],I[S++])}function ch(r,s,a,d,g){const y=ti(null);try{const I=r.inputTransforms;null!==I&&I.hasOwnProperty(d)&&(g=I[d].call(s,g)),null!==r.setInput?r.setInput(s,g,a,d):s[d]=g}finally{ti(y)}}function wy(r,s,a){let d=null,g=0;for(;g<a.length;){const y=a[g];if(0!==y)if(5!==y){if("number"==typeof y)break;if(r.hasOwnProperty(y)){null===d&&(d=[]);const I=r[y];for(let S=0;S<I.length;S+=2)if(I[S]===s){d.push(y,I[S+1],a[g+1]);break}}g+=2}else g+=2;else g+=4}return d}function Op(r,s,a,d){return[r,!0,!1,s,null,0,d,a,null,null,null]}function Iy(r,s){const a=r.contentQueries;if(null!==a)for(let d=0;d<a.length;d+=2){const y=a[d+1];if(-1!==y){const I=r.data[y];P(a[d]),I.contentQueries(2,s[y],y)}}}function Mp(r,s){return r[uo]?r[rc][Bi]=s:r[uo]=s,r[rc]=s,s}function cf(r,s,a){P(0);const d=ti(null);try{s(r,a)}finally{ti(d)}}function Tm(r){return r[$i]||(r[$i]=[])}function lf(r){return r.cleanup||(r.cleanup=[])}function Eo(r,s){const a=r[ai],d=a?a.get(xu,null):null;d&&d.handleError(s)}function Bu(r,s,a,d,g){for(let y=0;y<a.length;){const I=a[y++],S=a[y++];ch(r.data[I],s[I],d,S,g)}}function $o(r,s,a){const d=kl(s,r);!function A_(r,s,a){r.setValue(s,a)}(r[On],d,a)}function Em(r,s){const a=Ci(s,r),d=a[xt];!function MD(r,s){for(let a=s.length;a<r.blueprint.length;a++)s.push(r.blueprint[a])}(d,a);const g=a[zn];null!==g&&null===a[rs]&&(a[rs]=Yd(g,a[ai])),Ot(d,a,a[xr])}function Ot(r,s,a){_e(s);try{const d=r.viewQuery;null!==d&&cf(1,d,a);const g=r.template;null!==g&&hy(r,s,g,1,a),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Iy(r,s),r.staticViewQueries&&cf(2,r.viewQuery,a);const y=r.components;null!==y&&function Gs(r,s){for(let a=0;a<s.length;a++)Em(r,s[a])}(s,y)}catch(d){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),d}finally{s[kn]&=-5,Rr()}}let al=(()=>{class r{constructor(){this.all=new Set,this.queue=new Map}create(a,d,g){const y=typeof Zone>"u"?null:Zone.current,I=function or(r,s,a){const d=Object.create(Kr);a&&(d.consumerAllowSignalWrites=!0),d.fn=r,d.schedule=s;const g=I=>{d.cleanupFn=I};return d.ref={notify:()=>yo(d),run:()=>{if(d.dirty=!1,d.hasRun&&!Fs(d))return;d.hasRun=!0;const I=Po(d);try{d.cleanupFn(),d.cleanupFn=qn,d.fn(g)}finally{ha(d,I)}},cleanup:()=>d.cleanupFn()},d.ref}(a,z=>{this.all.has(z)&&this.queue.set(z,y)},g);let S;this.all.add(I),I.notify();const R=()=>{I.cleanup(),S?.(),this.all.delete(I),this.queue.delete(I)};return S=d?.onDestroy(R),{destroy:R}}flush(){if(0!==this.queue.size)for(const[a,d]of this.queue)this.queue.delete(a),d?d.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=De({token:r,providedIn:"root",factory:()=>new r})}return r})();function hn(r,s,a){let d=a?r.styles:null,g=a?r.classes:null,y=0;if(null!==s)for(let I=0;I<s.length;I++){const S=s[I];"number"==typeof S?y=S:1==y?g=Lt(g,S):2==y&&(d=Lt(d,S+": "+s[++I]+";"))}a?r.styles=d:r.stylesWithoutHost=d,a?r.classes=g:r.classesWithoutHost=g}function In(r,s,a,d,g=!1){for(;null!==a;){const y=s[a.index];null!==y&&d.push(gi(y)),us(y)&&b0(y,d);const I=a.type;if(8&I)In(r,s,a.child,d);else if(32&I){const S=Jf(a,s);let R;for(;R=S();)d.push(R)}else if(16&I){const S=Pv(s,a);if(Array.isArray(S))d.push(...S);else{const R=kh(s[Zr]);In(R[xt],R,S,d,!0)}}a=g?a.projectionNext:a.next}return d}function b0(r,s){for(let a=vr;a<r.length;a++){const d=r[a],g=d[xt].firstChild;null!==g&&In(d[xt],d,g,s)}r[xi]!==r[zn]&&s.push(r[xi])}function Yt(r,s,a,d=!0){const g=s[Rs],y=g.rendererFactory,I=g.afterRenderEventManager;y.begin?.(),I?.begin();try{so(r,s,r.template,a)}catch(R){throw d&&Eo(s,R),R}finally{y.end?.(),g.effectManager?.flush(),I?.end()}}function so(r,s,a,d){const g=s[kn];if(256!=(256&g)){s[Rs].effectManager?.flush(),_e(s);try{Fl(s),function Xc(r){return un.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==a&&hy(r,s,a,2,d);const I=3==(3&g);if(I){const z=r.preOrderCheckHooks;null!==z&&el(s,z,null)}else{const z=r.preOrderHooks;null!==z&&bl(s,z,0,null),Fd(s,0)}if(function Ub(r){for(let s=C_(r);null!==s;s=Fh(s)){if(!s[Zi])continue;const a=s[Ba];for(let d=0;d<a.length;d++){_h(a[d])}}}(s),xp(s,2),null!==r.contentQueries&&Iy(r,s),I){const z=r.contentCheckHooks;null!==z&&el(s,z)}else{const z=r.contentHooks;null!==z&&bl(s,z,1),Fd(s,1)}!function m0(r,s){const a=r.hostBindingOpCodes;if(null===a)return;const d=rh(s,Mo);try{for(let g=0;g<a.length;g++){const y=a[g];if(y<0)ya(~y);else{const I=y,S=a[++g],R=a[++g];Ff(S,I),d.dirty=!1;const z=Po(d);try{R(2,s[I])}finally{ha(d,z)}}}}finally{null===s[Mo]&&dy(s,Mo),ya(-1)}}(r,s);const S=r.components;null!==S&&I0(s,S,0);const R=r.viewQuery;if(null!==R&&cf(2,R,d),I){const z=r.viewCheckHooks;null!==z&&el(s,z)}else{const z=r.viewHooks;null!==z&&bl(s,z,2),Fd(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[kn]&=-73,Si(s)}finally{Rr()}}}function xp(r,s){for(let a=C_(r);null!==a;a=Fh(a))for(let d=vr;d<a.length;d++)w0(a[d],s)}function Hb(r,s,a){w0(Ci(s,r),a)}function w0(r,s){if(!function Od(r){return 128==(128&r[kn])}(r))return;const a=r[xt],d=r[kn];if(80&d&&0===s||1024&d||2===s)so(a,r,a.template,r[xr]);else if(r[Ks]>0){xp(r,1);const g=a.components;null!==g&&I0(r,g,1)}}function I0(r,s,a){for(let d=0;d<s.length;d++)Hb(r,s[d],a)}class uf{get rootNodes(){const s=this._lView,a=s[xt];return In(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xr]}set context(s){this._lView[xr]=s}get destroyed(){return 256==(256&this._lView[kn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Sr];if(us(s)){const a=s[8],d=a?a.indexOf(this):-1;d>-1&&(Og(s,d),Gd(a,d))}this._attachedToViewContainer=!1}Xf(this._lView[xt],this._lView)}onDestroy(s){Kc(this._lView,s)}markForCheck(){ku(this._cdRefInjectingView||this._lView)}detach(){this._lView[kn]&=-129}reattach(){this._lView[kn]|=128}detectChanges(){Yt(this._lView[xt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function N_(r,s){Rg(r,s,s[On],2,null,null)}(this._lView[xt],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Ge(902,!1);this._appRef=s}}class T0 extends uf{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Yt(s[xt],s,s[xr],!1)}checkNoChanges(){}get context(){return null}}class cl extends mp{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=sr(s);return new Qn(a,this.ngModule)}}function Dy(r){const s=[];for(let a in r)r.hasOwnProperty(a)&&s.push({propName:r[a],templateName:a});return s}class Dm{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,d){d=Ns(d);const g=this.injector.get(s,rm,d);return g!==rm||a===rm?g:this.parentInjector.get(s,a,d)}}class Qn extends tm{get inputs(){const s=this.componentDef,a=s.inputTransforms,d=Dy(s.inputs);if(null!==a)for(const g of d)a.hasOwnProperty(g.propName)&&(g.transform=a[g.propName]);return d}get outputs(){return Dy(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Fa(r){return r.map(gl).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,d,g){let y=(g=g||this.ngModule)instanceof Al?g:g?.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const I=y?new Dm(s,y):s,S=I.get(ny,null);if(null===S)throw new Ge(407,!1);const me={rendererFactory:S,sanitizer:I.get(iy,null),effectManager:I.get(al,null),afterRenderEventManager:I.get(hd,null)},Me=S.createRenderer(null,this.componentDef),Le=this.componentDef.selectors[0][0]||"div",pt=d?function Fb(r,s,a,d){const y=d.get(fd,!1)||a===Pi.ShadowDom,I=r.selectRootElement(s,y);return function Lb(r){_0(r)}(I),I}(Me,d,this.componentDef.encapsulation,I):Ng(Me,Le,function Rp(r){const s=r.toLowerCase();return"svg"===s?oc:"math"===s?"math":null}(Le)),bn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let wt=null;null!==pt&&(wt=Yd(pt,I,!0));const lr=fy(0,null,null,1,0,null,null,null,null,null,null),Hr=Lu(null,lr,null,bn,null,null,me,Me,I,null,wt);let Hi,fl;_e(Hr);try{const mh=this.componentDef;let d_,wD=null;mh.findHostDirectiveDefs?(d_=[],wD=new Map,mh.findHostDirectiveDefs(mh,d_,wD),d_.push(mh)):d_=[mh];const RS=function Cm(r,s){const a=r[xt],d=Un;return r[d]=s,Rc(a,d,2,"#host",null)}(Hr,pt),PS=function _s(r,s,a,d,g,y,I){const S=g[xt];!function Nn(r,s,a,d){for(const g of r)s.mergedAttrs=Pa(s.mergedAttrs,g.hostAttrs);null!==s.mergedAttrs&&(hn(s,s.mergedAttrs,!0),null!==a&&Oc(d,a,s))}(d,r,s,I);let R=null;null!==s&&(R=Yd(s,g[ai]));const z=y.rendererFactory.createRenderer(s,a);let ie=16;a.signals?ie=4096:a.onPush&&(ie=64);const me=Lu(g,vm(a),null,ie,g[r.index],r,y,z,null,null,R);return S.firstCreatePass&&Hs(S,r,d.length-1),Mp(g,me),g[r.index]=me}(RS,pt,mh,d_,Hr,me,Me);fl=Nd(lr,Un),pt&&function Jr(r,s,a,d){if(d)Wi(r,a,["ng-version",sy.full]);else{const{attrs:g,classes:y}=function Ei(r){const s=[],a=[];let d=1,g=2;for(;d<r.length;){let y=r[d];if("string"==typeof y)2===g?""!==y&&s.push(y,r[++d]):8===g&&a.push(y);else{if(!hi(g))break;g=y}d++}return{attrs:s,classes:a}}(s.selectors[0]);g&&Wi(r,a,g),y&&y.length>0&&Bv(r,a,y.join(" "))}}(Me,mh,pt,d),void 0!==a&&function E0(r,s,a){const d=r.projection=[];for(let g=0;g<s.length;g++){const y=a[g];d.push(null!=y?Array.from(y):null)}}(fl,this.ngContentSelectors,a),Hi=function gd(r,s,a,d,g,y){const I=Yi(),S=g[xt],R=ro(I,g);_y(S,g,I,a,null,d);for(let ie=0;ie<a.length;ie++)Ea(uc(g,S,I.directiveStart+ie,I),g);by(S,g,I),R&&Ea(R,g);const z=uc(g,S,I.directiveStart+I.componentOffset,I);if(r[xr]=g[xr]=z,null!==y)for(const ie of y)ie(z,s);return Sp(S,I,r),z}(PS,mh,d_,wD,Hr,[Cs]),Ot(lr,Hr,null)}finally{Rr()}return new df(this.componentType,Hi,Jd(fl,Hr),Hr,fl)}}class df extends ty{constructor(s,a,d,g,y){super(),this.location=d,this._rootLView=g,this._tNode=y,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new T0(g),this.componentType=s}setInput(s,a){const d=this._tNode.inputs;let g;if(null!==d&&(g=d[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const y=this._rootLView;Bu(y[xt],y,g,s,a),this.previousInputValues.set(s,a),ku(Ci(this._tNode.index,y))}}get injector(){return new Bo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Cs(){const r=Yi();fu(ht()[xt],r)}function ra(r){let s=function Qt(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),a=!0;const d=[r];for(;s;){let g;if(ci(r))g=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Ge(903,!1);g=s.\u0275dir}if(g){if(a){d.push(g);const I=r;I.inputs=nu(r.inputs),I.inputTransforms=nu(r.inputTransforms),I.declaredInputs=nu(r.declaredInputs),I.outputs=nu(r.outputs);const S=g.hostBindings;S&&jb(r,S);const R=g.viewQuery,z=g.contentQueries;if(R&&Gb(r,R),z&&Pp(r,z),it(r.inputs,g.inputs),it(r.declaredInputs,g.declaredInputs),it(r.outputs,g.outputs),null!==g.inputTransforms&&(null===I.inputTransforms&&(I.inputTransforms={}),it(I.inputTransforms,g.inputTransforms)),ci(g)&&g.data.animation){const ie=r.data;ie.animation=(ie.animation||[]).concat(g.data.animation)}}const y=g.features;if(y)for(let I=0;I<y.length;I++){const S=y[I];S&&S.ngInherit&&S(r),S===ra&&(a=!1)}}s=Object.getPrototypeOf(s)}!function md(r){let s=0,a=null;for(let d=r.length-1;d>=0;d--){const g=r[d];g.hostVars=s+=g.hostVars,g.hostAttrs=Pa(g.hostAttrs,a=Pa(a,g.hostAttrs))}}(d)}function nu(r){return r===ts?{}:r===er?[]:r}function Gb(r,s){const a=r.viewQuery;r.viewQuery=a?(d,g)=>{s(d,g),a(d,g)}:s}function Pp(r,s){const a=r.contentQueries;r.contentQueries=a?(d,g,y)=>{s(d,g,y),a(d,g,y)}:s}function jb(r,s){const a=r.hostBindings;r.hostBindings=a?(d,g)=>{s(d,g),a(d,g)}:s}function fc(r){return s=>{s.findHostDirectiveDefs=ff,s.hostDirectives=(Array.isArray(r)?r:r()).map(a=>"function"==typeof a?{directive:Mt(a),inputs:ts,outputs:ts}:{directive:Mt(a.directive),inputs:Cy(a.inputs),outputs:Cy(a.outputs)})}}function ff(r,s,a){if(null!==r.hostDirectives)for(const d of r.hostDirectives){const g=Lr(d.directive);C0(g.declaredInputs,d.inputs),ff(g,s,a),a.set(g,d),s.push(g)}}function Cy(r){if(void 0===r||0===r.length)return ts;const s={};for(let a=0;a<r.length;a+=2)s[r[a]]=r[a+1];return s}function C0(r,s){for(const a in s)s.hasOwnProperty(a)&&(r[s[a]]=r[a])}function qe(r){const s=r.inputConfig,a={};for(const d in s)if(s.hasOwnProperty(d)){const g=s[d];Array.isArray(g)&&g[2]&&(a[d]=g[2])}r.inputTransforms=a}function Ya(r){return!!ru(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function ru(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Sa(r,s,a){return r[s]=a}function zo(r,s,a){return!Object.is(r[s],a)&&(r[s]=a,!0)}function uh(r,s,a,d){const g=zo(r,s,a);return zo(r,s+1,d)||g}function Nm(r,s,a,d,g){const y=uh(r,s,a,d);return zo(r,s+2,g)||y}function _d(r,s,a,d){const g=ht();return zo(g,Ga(),s)&&(wr(),Ka(Vr(),g,r,s,a,d)),_d}function yd(r,s,a,d){return zo(r,Ga(),a)?s+Qe(a)+d:$n}function Fp(r,s,a,d,g,y,I,S){const z=Nm(r,function Lo(){return un.lFrame.bindingIndex}(),a,g,I);return _a(3),z?s+Qe(a)+d+Qe(g)+y+Qe(I)+S:$n}function Ml(r,s,a,d,g,y,I,S){const R=ht(),z=wr(),ie=r+Un,me=z.firstCreatePass?function kc(r,s,a,d,g,y,I,S,R){const z=s.consts,ie=Rc(s,r,4,I||null,ga(z,S));ol(s,a,ie,ga(z,R)),fu(s,ie);const me=ie.tView=fy(2,ie,d,g,y,s.directiveRegistry,s.pipeRegistry,null,s.schemas,z,null);return null!==s.queries&&(s.queries.template(s,ie),me.queries=s.queries.embeddedTView(ie)),ie}(ie,z,R,s,a,d,g,y,I):z.data[ie];Fo(me,!1);const Me=Vu(z,R,me,r);wh()&&xg(z,R,Me,me),Ea(Me,R),Mp(R,R[ie]=Op(Me,R,Me,me)),go(me)&&ym(z,R,me),null!=I&&jo(R,me,S)}let Vu=function dl(r,s,a,d){return Cc(!0),s[On].createComment("")};function bd(r){return ko(function du(){return un.lFrame.contextLView}(),Un+r)}function Bp(r,s,a){const d=ht();return zo(d,Ga(),s)&&Ca(wr(),Vr(),d,r,s,d[On],a,!1),Bp}function _f(r,s,a,d,g){const I=g?"class":"style";Bu(r,a,s.inputs[I],I,d)}function Uu(r,s,a,d){const g=ht(),y=wr(),I=Un+r,S=g[On],R=y.firstCreatePass?function Fc(r,s,a,d,g,y){const I=s.consts,R=Rc(s,r,2,d,ga(I,g));return ol(s,a,R,ga(I,y)),null!==R.attrs&&hn(R,R.attrs,!1),null!==R.mergedAttrs&&hn(R,R.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,R),R}(I,y,g,s,a,d):y.data[I],z=Up(y,g,R,S,s,r);g[I]=z;const ie=go(R);return Fo(R,!0),Oc(S,z,R),32!=(32&R.flags)&&wh()&&xg(y,g,z,R),0===function Zu(){return un.lFrame.elementDepthCount}()&&Ea(z,g),function vh(){un.lFrame.elementDepthCount++}(),ie&&(ym(y,g,R),Sp(y,R,g)),null!==d&&jo(g,R),Uu}function Hu(){let r=Yi();Qc()?ac():(r=r.parent,Fo(r,!1));const s=r;(function Yc(r){return un.skipHydrationRootTNode===r})(s)&&function lu(){un.skipHydrationRootTNode=null}(),function Ll(){un.lFrame.elementDepthCount--}();const a=wr();return a.firstCreatePass&&(fu(a,r),po(r)&&a.queries.elementEnd(r)),null!=s.classesWithoutHost&&function Bf(r){return 0!=(8&r.flags)}(s)&&_f(a,s,ht(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Vf(r){return 0!=(16&r.flags)}(s)&&_f(a,s,ht(),s.stylesWithoutHost,!1),Hu}function Vp(r,s,a,d){return Uu(r,s,a,d),Hu(),Vp}let Up=(r,s,a,d,g,y)=>(Cc(!0),Ng(d,g,function hu(){return un.lFrame.currentNamespace}()));function Gp(r,s,a){const d=ht(),g=wr(),y=r+Un,I=g.firstCreatePass?function Ny(r,s,a,d,g){const y=s.consts,I=ga(y,d),S=Rc(s,r,8,"ng-container",I);return null!==I&&hn(S,I,!0),ol(s,a,S,ga(y,g)),null!==s.queries&&s.queries.elementStart(s,S),S}(y,g,d,s,a):g.data[y];Fo(I,!0);const S=zb(g,d,I,r);return d[y]=S,wh()&&xg(g,d,S,I),Ea(S,d),go(I)&&(ym(g,d,I),Sp(g,I,d)),null!=a&&jo(d,I),Gp}function A0(){let r=Yi();const s=wr();return Qc()?ac():(r=r.parent,Fo(r,!1)),s.firstCreatePass&&(fu(s,r),po(r)&&s.queries.elementEnd(r)),A0}let zb=(r,s,a,d)=>(Cc(!0),Ag(s[On],""));function as(){return ht()}function wd(r){return!!r&&"function"==typeof r.then}function Wb(r){return!!r&&"function"==typeof r.subscribe}function N0(r,s,a,d){const g=ht(),y=wr(),I=Yi();return function qb(r,s,a,d,g,y,I){const S=go(d),z=r.firstCreatePass&&lf(r),ie=s[xr],me=Tm(s);let Me=!0;if(3&d.type||I){const Nt=ro(d,s),rn=I?I(Nt):Nt,bn=me.length,wt=I?Hr=>I(gi(Hr[d.index])):d.index;let lr=null;if(!I&&S&&(lr=function xD(r,s,a,d){const g=r.cleanup;if(null!=g)for(let y=0;y<g.length-1;y+=2){const I=g[y];if(I===a&&g[y+1]===d){const S=s[$i],R=g[y+2];return S.length>R?S[R]:null}"string"==typeof I&&(y+=2)}return null}(r,s,g,d.index)),null!==lr)(lr.__ngLastListenerFn__||lr).__ngNextListenerFn__=y,lr.__ngLastListenerFn__=y,Me=!1;else{y=Ri(d,s,ie,y,!1);const Hr=a.listen(rn,g,y);me.push(y,Hr),z&&z.push(g,wt,bn,bn+1)}}else y=Ri(d,s,ie,y,!1);const Le=d.outputs;let pt;if(Me&&null!==Le&&(pt=Le[g])){const Nt=pt.length;if(Nt)for(let rn=0;rn<Nt;rn+=2){const Hi=s[pt[rn]][pt[rn+1]].subscribe(y),fl=me.length;me.push(y,Hi),z&&z.push(g,d.index,fl,-(fl+1))}}}(y,g,g[On],I,r,s,d),N0}function Yr(r,s,a,d){try{return no(6,s,a),!1!==a(d)}catch(g){return Eo(r,g),!1}finally{no(7,s,a)}}function Ri(r,s,a,d,g){return function y(I){if(I===Function)return d;ku(r.componentOffset>-1?Ci(r.index,s):s);let R=Yr(s,a,d,I),z=y.__ngNextListenerFn__;for(;z;)R=Yr(s,a,z,I)&&R,z=z.__ngNextListenerFn__;return g&&!1===R&&I.preventDefault(),R}}function $p(r=1){return function dr(r){return(un.lFrame.contextLView=function Dc(r,s){for(;r>0;)s=s[ns],r--;return s}(r,un.lFrame.contextLView))[xr]}(r)}function Zb(r,s){let a=null;const d=function Ms(r){const s=r.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(r);for(let g=0;g<s.length;g++){const y=s[g];if("*"!==y){if(null===d?Fi(r,y,!0):pl(d,y))return g}else a=g}return a}function O0(r){const s=ht()[Zr][qr];if(!s.projection){const d=s.projection=zl(r?r.length:1,null),g=d.slice();let y=s.child;for(;null!==y;){const I=r?Zb(y,r):0;null!==I&&(g[I]?g[I].projectionNext=y:d[I]=y,g[I]=y),y=y.next}}}function Kb(r,s=0,a){const d=ht(),g=wr(),y=Rc(g,Un+r,16,null,a||null);null===y.projection&&(y.projection=s),ac(),(!d[rs]||ma())&&32!=(32&y.flags)&&function qI(r,s,a){gb(s[On],0,s,a,Uh(r,a,s),x_(a.parent||s[qr],a,s))}(g,d,y)}function Oy(r,s,a){return My(r,"",s,"",a),Oy}function My(r,s,a,d,g){const y=ht(),I=yd(y,s,a,d);return I!==$n&&Ca(wr(),Vr(),y,r,I,y[On],g,!1),My}function M0(r,s){return r<<17|s<<2}function vf(r){return r>>17&32767}function hh(r){return 2|r}function Gu(r){return(131068&r)>>2}function Om(r,s){return-131069&r|s<<2}function R0(r){return 1|r}function tw(r,s,a,d,g){const y=r[a+1],I=null===s;let S=d?vf(y):Gu(y),R=!1;for(;0!==S&&(!1===R||I);){const ie=r[S+1];nw(r[S],s)&&(R=!0,r[S+1]=d?R0(ie):hh(ie)),S=d?vf(ie):Gu(ie)}R&&(r[a+1]=d?hh(y):R0(y))}function nw(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&gs(r,s)>=0}const oo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function P0(r){return r.substring(oo.key,oo.keyEnd)}function k0(r,s){const a=oo.textEnd;return a===s?-1:(s=oo.keyEnd=function xy(r,s,a){for(;s<a&&r.charCodeAt(s)>32;)s++;return s}(r,oo.key=s,a),wf(r,s,a))}function wf(r,s,a){for(;s<a&&r.charCodeAt(s)<=32;)s++;return s}function L0(r,s){return function Vc(r,s,a,d){const g=ht(),y=wr(),I=_a(2);y.firstUpdatePass&&Er(y,r,I,d),s!==$n&&zo(g,I,s)&&Tf(y,y.data[Wr()],g,g[On],r,g[I+1]=function DT(r,s){return null==r||""===r||("string"==typeof s?r+=s:"object"==typeof r&&(r=At(Da(r)))),r}(s,a),d,I)}(r,s,null,!0),L0}function ju(r){!function zu(r,s,a,d){const g=wr(),y=_a(2);g.firstUpdatePass&&Er(g,null,y,d);const I=ht();if(a!==$n&&zo(I,y,a)){const S=g.data[Wr()];if(Wp(S,d)&&!bT(g,y)){let R=d?S.classesWithoutHost:S.stylesWithoutHost;null!==R&&(a=Lt(R,a||"")),_f(g,S,I,a,d)}else!function Rm(r,s,a,d,g,y,I,S){g===$n&&(g=er);let R=0,z=0,ie=0<g.length?g[0]:null,me=0<y.length?y[0]:null;for(;null!==ie||null!==me;){const Me=R<g.length?g[R+1]:void 0,Le=z<y.length?y[z+1]:void 0;let Nt,pt=null;ie===me?(R+=2,z+=2,Me!==Le&&(pt=me,Nt=Le)):null===me||null!==ie&&ie<me?(R+=2,pt=ie):(z+=2,pt=me,Nt=Le),null!==pt&&Tf(r,s,a,d,pt,Nt,I,S),ie=R<g.length?g[R]:null,me=z<y.length?y[z]:null}}(g,S,I,I[On],I[y+1],I[y+1]=function LD(r,s,a){if(null==a||""===a)return er;const d=[],g=Da(a);if(Array.isArray(g))for(let y=0;y<g.length;y++)r(d,g[y],!0);else if("object"==typeof g)for(const y in g)g.hasOwnProperty(y)&&r(d,y,g[y]);else"string"==typeof g&&s(d,g);return d}(r,s,a),d,y)}}(ET,$u,r,!0)}function $u(r,s){for(let a=function Lc(r){return function rw(r){oo.key=0,oo.keyEnd=0,oo.value=0,oo.valueEnd=0,oo.textEnd=r.length}(r),k0(r,wf(r,0,oo.textEnd))}(s);a>=0;a=k0(s,a))ps(r,P0(s),!0)}function bT(r,s){return s>=r.expandoStartIndex}function Er(r,s,a,d){const g=r.data;if(null===g[a+1]){const y=g[Wr()],I=bT(r,a);Wp(y,d)&&null===s&&!I&&(s=!1),s=function FD(r,s,a,d){const g=function x(r){const s=un.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let y=d?s.residualClasses:s.residualStyles;if(null===g)0===(d?s.classBindings:s.styleBindings)&&(a=If(a=B0(null,r,s,a,d),s.attrs,d),y=null);else{const I=s.directiveStylingLast;if(-1===I||r[I]!==g)if(a=B0(g,r,s,a,d),null===y){let R=function sw(r,s,a){const d=a?s.classBindings:s.styleBindings;if(0!==Gu(d))return r[vf(d)]}(r,s,d);void 0!==R&&Array.isArray(R)&&(R=B0(null,r,s,R[1],d),R=If(R,s.attrs,d),function wT(r,s,a,d){r[vf(a?s.classBindings:s.styleBindings)]=d}(r,s,d,R))}else y=function IT(r,s,a){let d;const g=s.directiveEnd;for(let y=1+s.directiveStylingLast;y<g;y++)d=If(d,r[y].hostAttrs,a);return If(d,s.attrs,a)}(r,s,d)}return void 0!==y&&(d?s.residualClasses=y:s.residualStyles=y),a}(g,y,s,d),function _T(r,s,a,d,g,y){let I=y?s.classBindings:s.styleBindings,S=vf(I),R=Gu(I);r[d]=a;let ie,z=!1;if(Array.isArray(a)?(ie=a[1],(null===ie||gs(a,ie)>0)&&(z=!0)):ie=a,g)if(0!==R){const Me=vf(r[S+1]);r[d+1]=M0(Me,S),0!==Me&&(r[Me+1]=Om(r[Me+1],d)),r[S+1]=function ew(r,s){return 131071&r|s<<17}(r[S+1],d)}else r[d+1]=M0(S,0),0!==S&&(r[S+1]=Om(r[S+1],d)),S=d;else r[d+1]=M0(R,0),0===S?S=d:r[R+1]=Om(r[R+1],d),R=d;z&&(r[d+1]=hh(r[d+1])),tw(r,ie,d,!0),tw(r,ie,d,!1),function Mm(r,s,a,d,g){const y=g?r.residualClasses:r.residualStyles;null!=y&&"string"==typeof s&&gs(y,s)>=0&&(a[d+1]=R0(a[d+1]))}(s,ie,r,d,y),I=M0(S,R),y?s.classBindings=I:s.styleBindings=I}(g,y,s,a,I,d)}}function B0(r,s,a,d,g){let y=null;const I=a.directiveEnd;let S=a.directiveStylingLast;for(-1===S?S=a.directiveStart:S++;S<I&&(y=s[S],d=If(d,y.hostAttrs,g),y!==r);)S++;return null!==r&&(a.directiveStylingLast=S),d}function If(r,s,a){const d=a?1:2;let g=-1;if(null!==s)for(let y=0;y<s.length;y++){const I=s[y];"number"==typeof I?g=I:g===d&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),ps(r,I,!!a||s[++y]))}return void 0===r?null:r}function ET(r,s,a){const d=String(s);""!==d&&!d.includes(" ")&&ps(r,d,a)}function Tf(r,s,a,d,g,y,I,S){if(!(3&s.type))return;const R=r.data,z=R[S+1],ie=function x0(r){return 1==(1&r)}(z)?ow(R,s,a,g,Gu(z),I):void 0;Td(ie)||(Td(y)||function RD(r){return 2==(2&r)}(z)&&(y=ow(R,null,a,g,S,I)),function KI(r,s,a,d,g){if(s)g?r.addClass(a,d):r.removeClass(a,d);else{let y=-1===d.indexOf("-")?void 0:b_.DashCase;null==g?r.removeStyle(a,d,y):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),y|=b_.Important),r.setStyle(a,d,g,y))}}(d,I,kl(Wr(),a),g,y))}function ow(r,s,a,d,g,y){const I=null===s;let S;for(;g>0;){const R=r[g],z=Array.isArray(R),ie=z?R[1]:R,me=null===ie;let Me=a[g+1];Me===$n&&(Me=me?er:void 0);let Le=me?Us(Me,d):ie===d?Me:void 0;if(z&&!Td(Le)&&(Le=Us(R,d)),Td(Le)&&(S=Le,I))return S;const pt=r[g+1];g=I?vf(pt):Gu(pt)}if(null!==s){let R=y?s.residualClasses:s.residualStyles;null!=R&&(S=Us(R,d))}return S}function Td(r){return void 0!==r}function Wp(r,s){return 0!=(r.flags&(s?8:16))}function aw(r,s=""){const a=ht(),d=wr(),g=r+Un,y=d.firstCreatePass?Rc(d,g,1,s,null):d.data[g],I=cw(d,a,y,s,r);a[g]=I,wh()&&xg(d,a,I,y),Fo(y,!1)}let cw=(r,s,a,d,g)=>(Cc(!0),Lh(s[On],d));function lw(r){return Ji("",r,""),lw}function Ji(r,s,a){const d=ht(),g=yd(d,r,s,a);return g!==$n&&$o(d,Wr(),g),Ji}function Pm(r,s,a,d,g,y,I){const S=ht(),R=Fp(S,r,s,a,d,g,y,I);return R!==$n&&$o(S,Wr(),R),Pm}function H0(r,s,a){const d=ht();return zo(d,Ga(),s)&&Ca(wr(),Vr(),d,r,s,d[On],a,!0),H0}const Zp=void 0;var FT=["en",[["a","p"],["AM","PM"],Zp],[["AM","PM"],Zp,Zp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zp,"{1} 'at' {0}",Zp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function kT(r){const a=Math.floor(Math.abs(r)),d=r.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===d?1:5}];let Um={};function ww(r){const s=function Do(r){return r.toLowerCase().replace(/_/g,"-")}(r);let a=Kp(s);if(a)return a;const d=s.split("-")[0];if(a=Kp(d),a)return a;if("en"===d)return FT;throw new Ge(701,!1)}function G0(r){return ww(r)[Hm.PluralCase]}function Kp(r){return r in Um||(Um[r]=ir.ng&&ir.ng.common&&ir.ng.common.locales&&ir.ng.common.locales[r]),Um[r]}var Hm=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(Hm||{});const Ed="en-US",Gm={marker:"element"},Fy={marker:"ICU"};var Na=function(r){return r[r.SHIFT=2]="SHIFT",r[r.APPEND_EAGERLY=1]="APPEND_EAGERLY",r[r.COMMENT=2]="COMMENT",r}(Na||{});let Tw=Ed;function Ew(r){(function dn(r,s){null==r&&Dt(s,r,null,"!=")})(r,"Expected localeId to be defined"),"string"==typeof r&&(Tw=r.toLowerCase().replace(/_/g,"-"))}function BT(r,s,a){const d=s.insertBeforeIndex,g=Array.isArray(d)?d[0]:d;return null===g?R_(r,0,a):gi(a[g])}function jm(r,s,a,d,g){const y=s.insertBeforeIndex;if(Array.isArray(y)){let I=d,S=null;if(3&s.type||(S=I,I=g),null!==I&&-1===s.componentOffset)for(let R=1;R<y.length;R++)Su(r,I,a[y[R]],S,!1)}}function j0(r,s){if(r.push(s),r.length>1)for(let a=r.length-2;a>=0;a--){const d=r[a];VT(d)||UT(d,s)&&null===Dw(d)&&HT(d,s.index)}}function VT(r){return!(64&r.type)}function UT(r,s){return VT(s)||r.index>s.index}function Dw(r){const s=r.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function HT(r,s){const a=r.insertBeforeIndex;Array.isArray(a)?a[0]=s:(pb(BT,jm),r.insertBeforeIndex=s)}function zD(r,s,a){const d=_m(r,a,64,null,null);return j0(s,d),d}function Sw(){const r=[];let a,d,s=-1;function y(S,R){s=0;const z=function $0(r,s){const a=s[r.currentCaseLViewIndex];return null===a?a:a<0?~a:a}(S,R);d=null!==z?S.remove[z]:er}function I(){if(s<d.length){const S=d[s++];return S>0?a[S]:(r.push(s,d),y(a[xt].data[~S],a),I())}return 0===r.length?null:(d=r.pop(),s=r.pop(),I())}return function g(S,R){for(a=R;r.length;)r.pop();return y(S.value,R),I}}const Vy=/\ufffd(\d+):?\d*\ufffd/gi,Uy=/\ufffd(\d+)\ufffd/,Cf=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Hy="\ufffd",qT=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,YD=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,QD=/\uE500/g;function gh(r,s,a,d,g,y,I){const S=pd(r,d,1,null);let R=S<<Na.SHIFT,z=vl();s===z&&(z=null),null===z&&(R|=Na.APPEND_EAGERLY),I&&(R|=Na.COMMENT,function Sv(r){void 0===sd&&(sd=r())}(Sw)),g.push(R,null===y?"":y);const ie=_m(r,S,I?32:1,null===y?"":y,null);j0(a,ie);const me=ie.index;return Fo(ie,!1),null!==z&&s!==z&&function $D(r,s){let a=r.insertBeforeIndex;null===a?(pb(BT,jm),a=r.insertBeforeIndex=[null,s]):(function je(r,s,a){r!=s&&Dt(a,r,s,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(z,me),ie}function ZT(r,s,a,d,g,y,I){const S=I.match(Vy),R=gh(r,s,a,y,d,S?null:I,!1);S&&Wm(g,I,R.index,null,0,null)}function Wm(r,s,a,d,g,y){const I=r.length,S=I+1;r.push(null,null);const R=I+2,z=s.split(Vy);let ie=0;for(let me=0;me<z.length;me++){const Me=z[me];if(1&me){const Le=g+parseInt(Me,10);r.push(-1-Le),ie|=q0(Le)}else""!==Me&&r.push(Me)}return r.push(a<<2|(d?1:0)),d&&r.push(d,y),r[I]=ie,r[S]=r.length-R,ie}function q0(r){return 1<<Math.min(r,31)}function Ow(r){let s,y,a="",d=0,g=!1;for(;null!==(s=qT.exec(r));)g?s[0]===`${Hy}/*${y}${Hy}`&&(d=s.index,g=!1):(a+=r.substring(d,s.index+s[0].length),y=s[1],g=!0);return a+=r.slice(d),a}function Z0(r,s,a,d,g,y){let I=0;const S={type:g.type,currentCaseLViewIndex:pd(r,s,1,null),anchorIdx:y,cases:[],create:[],remove:[],update:[]};(function YT(r,s,a){r.push(q0(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(a,g,y),function GT(r,s,a){const d=r.data[s];null===d?r.data[s]=a:d.value=a}(r,y,S);const R=g.values;for(let z=0;z<R.length;z++){const ie=R[z],me=[];for(let Me=0;Me<ie.length;Me++){const Le=ie[Me];if("string"!=typeof Le){const pt=me.push(Le)-1;ie[Me]=`\x3c!--\ufffd${pt}\ufffd--\x3e`}}I=tC(r,S,s,a,d,g.cases[z],ie.join(""),me)|I}I&&function jy(r,s,a){r.push(s,1,a<<2|3)}(a,I,y)}function KT(r){const s=[],a=[];let d=1,g=0;const y=qm(r=r.replace(Cf,function(I,S,R){return d="select"===R?0:1,g=parseInt(S.slice(1),10),""}));for(let I=0;I<y.length;){let S=y[I++].trim();1===d&&(S=S.replace(/\s*(?:=)?(\w+)\s*/,"$1")),S.length&&s.push(S);const R=qm(y[I++]);s.length>a.length&&a.push(R)}return{type:d,mainBinding:g,cases:s,values:a}}function qm(r){if(!r)return[];let s=0;const a=[],d=[],g=/[{}]/g;let y;for(g.lastIndex=0;y=g.exec(r);){const S=y.index;if("}"==y[0]){if(a.pop(),0==a.length){const R=r.substring(s,S);Cf.test(R)?d.push(KT(R)):d.push(R),s=S+1}}else{if(0==a.length){const R=r.substring(s,S);d.push(R),s=S+1}a.push("{")}}const I=r.substring(s);return d.push(I),d}function tC(r,s,a,d,g,y,I,S){const R=[],z=[],ie=[];s.cases.push(y),s.create.push(R),s.remove.push(z),s.update.push(ie);const Me=XI(od()).getInertBodyElement(I),Le=sp(Me)||Me;return Le?K0(r,s,a,d,R,z,ie,Le,g,S,0):0}function K0(r,s,a,d,g,y,I,S,R,z,ie){let me=0,Me=S.firstChild;for(;Me;){const Le=pd(r,a,1,null);switch(Me.nodeType){case Node.ELEMENT_NODE:const pt=Me,Nt=pt.tagName.toLowerCase();if(ad.hasOwnProperty(Nt)){Zm(g,Gm,Nt,R,Le),r.data[Le]=Nt;const lr=pt.attributes;for(let Hr=0;Hr<lr.length;Hr++){const Hi=lr.item(Hr),fl=Hi.name.toLowerCase();Hi.value.match(Vy)?bb.hasOwnProperty(fl)&&Wm(I,Hi.value,Le,Hi.name,0,zh[fl]?Gv:null):$y(g,Le,Hi)}me=K0(r,s,a,d,g,y,I,Me,Le,z,ie+1)|me,Gy(y,Le,ie)}break;case Node.TEXT_NODE:const rn=Me.textContent||"",bn=rn.match(Vy);Zm(g,null,bn?"":rn,R,Le),Gy(y,Le,ie),bn&&(me=Wm(I,rn,Le,null,0,null)|me);break;case Node.COMMENT_NODE:const wt=Uy.exec(Me.textContent||"");if(wt){const Hr=z[parseInt(wt[1],10)];Zm(g,Fy,"",R,Le),Z0(r,a,d,R,Hr,Le),nC(y,Le,ie)}}Me=Me.nextSibling}return me}function Gy(r,s,a){0===a&&r.push(s)}function nC(r,s,a){0===a&&(r.push(~s),r.push(s))}function Zm(r,s,a,d,g){null!==s&&r.push(s),r.push(a,g,function WD(r,s,a){return r|s<<17|a<<1}(0,d,g))}function $y(r,s,a){r.push(s<<1|1,a.name,a.value)}function Rw(r,s,a=-1){const d=wr(),g=ht(),y=Un+r,I=ga(d.consts,s),S=vl();d.firstCreatePass&&function Jp(r,s,a,d,g,y){const I=vl(),S=[],R=[],z=[[]];g=function Mw(r,s){if(function Nw(r){return-1===r}(s))return Ow(r);{const a=r.indexOf(`:${s}${Hy}`)+2+s.toString().length,d=r.search(new RegExp(`${Hy}\\/\\*\\d+:${s}${Hy}`));return Ow(r.substring(a,d))}}(g,y);const ie=function JD(r){return r.replace(QD," ")}(g).split(YD);for(let me=0;me<ie.length;me++){let Me=ie[me];if(1&me){const Le=47===Me.charCodeAt(0),Nt=(Me.charCodeAt(Le?1:0),Un+Number.parseInt(Me.substring(Le?2:1)));if(Le)z.shift(),Fo(vl(),!1);else{const rn=zD(r,z[0],Nt);z.unshift([]),Fo(rn,!0)}}else{const Le=qm(Me);for(let pt=0;pt<Le.length;pt++){let Nt=Le[pt];if(1&pt){const rn=Nt;if("object"!=typeof rn)throw new Error(`Unable to parse ICU expression in "${g}" message.`);Z0(r,a,R,s,rn,gh(r,I,z[0],a,S,"",!0).index)}else""!==Nt&&ZT(r,I,z[0],S,R,a,Nt)}}}r.data[d]={create:S,update:R}}(d,null===S?0:S.index,g,y,I,a),2===d.type?g[Zr][kn]|=32:g[kn]|=32;const R=d.data[y],ie=ep(d,S===g[qr]?null:S,g);(function $T(r,s,a,d){const g=r[On];for(let y=0;y<s.length;y++){const I=s[y++],S=s[y],z=(I&Na.APPEND_EAGERLY)===Na.APPEND_EAGERLY,ie=I>>>Na.SHIFT;let me=r[ie];null===me&&(me=r[ie]=(I&Na.COMMENT)===Na.COMMENT?g.createComment(S):Lh(g,S)),z&&null!==a&&Su(g,a,me,d,!1)}})(g,R.create,ie,S&&8&S.type?g[S.index]:null),Vl(!0)}function eE(r,s,a){Rw(r,s,a),function Af(){Vl(!1)}()}function kw(r,s,a,d,g){if(r=Mt(r),Array.isArray(r))for(let y=0;y<r.length;y++)kw(r[y],s,a,d,g);else{const y=wr(),I=ht(),S=Yi();let R=ld(r)?r:Mt(r.provide);const z=qg(r),ie=1048575&S.providerIndexes,me=S.directiveStart,Me=S.providerIndexes>>20;if(ld(r)||!r.multi){const Le=new Xu(z,g,ih),pt=Qm(R,s,g?ie:ie+Me,me);-1===pt?(Gl(Tl(S,I),y,R),J0(y,r,s.length),s.push(R),S.directiveStart++,S.directiveEnd++,g&&(S.providerIndexes+=1048576),a.push(Le),I.push(Le)):(a[pt]=Le,I[pt]=Le)}else{const Le=Qm(R,s,ie+Me,me),pt=Qm(R,s,ie,ie+Me),rn=pt>=0&&a[pt];if(g&&!rn||!g&&!(Le>=0&&a[Le])){Gl(Tl(S,I),y,R);const bn=function oC(r,s,a,d,g){const y=new Xu(r,a,ih);return y.multi=[],y.index=s,y.componentProviders=0,rE(y,g,d&&!a),y}(g?sC:iC,a.length,g,d,z);!g&&rn&&(a[pt].providerFactory=bn),J0(y,r,s.length,0),s.push(R),S.directiveStart++,S.directiveEnd++,g&&(S.providerIndexes+=1048576),a.push(bn),I.push(bn)}else J0(y,r,Le>-1?Le:pt,rE(a[g?pt:Le],z,!g&&d));!g&&d&&rn&&a[pt].componentProviders++}}}function J0(r,s,a,d){const g=ld(s),y=function $_(r){return!!r.useClass}(s);if(g||y){const R=(y?Mt(s.useClass):s).prototype.ngOnDestroy;if(R){const z=r.destroyHooks||(r.destroyHooks=[]);if(!g&&s.multi){const ie=z.indexOf(a);-1===ie?z.push(a,[d,R]):z[ie+1].push(d,R)}else z.push(a,R)}}}function rE(r,s,a){return a&&r.componentProviders++,r.multi.push(s)-1}function Qm(r,s,a,d){for(let g=a;g<d;g++)if(s[g]===r)return g;return-1}function iC(r,s,a,d){return X0(this.multi,[])}function sC(r,s,a,d){const g=this.multi;let y;if(this.providerFactory){const I=this.providerFactory.componentProviders,S=uc(a,a[xt],this.providerFactory.index,d);y=S.slice(0,I),X0(g,y);for(let R=I;R<S.length;R++)y.push(S[R])}else y=[],X0(g,y);return y}function X0(r,s){for(let a=0;a<r.length;a++)s.push((0,r[a])());return s}function Fw(r,s=[]){return a=>{a.providersResolver=(d,g)=>function nE(r,s,a){const d=wr();if(d.firstCreatePass){const g=ci(r);kw(a,d.data,d.blueprint,g,!0),kw(s,d.data,d.blueprint,g,!1)}}(d,g?g(r):r,s)}}class Rl{}class Jm{}function iE(r,s){return new Lw(r,s??null,[])}class Lw extends Rl{constructor(s,a,d){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new cl(this);const g=fi(s);this._bootstrapComponents=Xl(g.bootstrap),this._r3Injector=c0(s,a,[{provide:Rl,useValue:this},{provide:mp,useValue:this.componentFactoryResolver},...d],At(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class e1 extends Jm{constructor(s){super(),this.moduleType=s}create(s){return new Lw(this.moduleType,s,[])}}class sE extends Rl{constructor(s){super(),this.componentFactoryResolver=new cl(this),this.instance=null;const a=new Kd([...s.providers,{provide:Rl,useValue:this},{provide:mp,useValue:this.componentFactoryResolver}],s.parent||Kh(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function t1(r,s,a=null){return new sE({providers:r,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}let Oa=(()=>{class r{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const d=Zv(0,a.type),g=d.length>0?t1([d],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,g)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=De({token:r,providedIn:"environment",factory:()=>new r(Pn(Al))})}return r})();function oE(r){r.getStandaloneInjector=s=>s.get(Oa).getOrCreateStandaloneInjector(r)}function Uw(r,s,a,d){return zy(ht(),Vs(),r,s,a,d)}function a1(r,s,a,d,g){return Hw(ht(),Vs(),r,s,a,d,g)}function gE(r,s,a,d,g,y){return function Gw(r,s,a,d,g,y,I,S){const R=s+a;return Nm(r,R,g,y,I)?Sa(r,R+3,S?d.call(S,g,y,I):d(g,y,I)):Xp(r,R+3)}(ht(),Vs(),r,s,a,d,g,y)}function Xp(r,s){const a=r[s];return a===$n?void 0:a}function zy(r,s,a,d,g,y){const I=s+a;return zo(r,I,g)?Sa(r,I+1,y?d.call(y,g):d(g)):Xp(r,I+1)}function Hw(r,s,a,d,g,y,I){const S=s+a;return uh(r,S,g,y)?Sa(r,S+2,I?d.call(I,g,y):d(g,y)):Xp(r,S+2)}function c1(r,s){const a=wr();let d;const g=r+Un;a.firstCreatePass?(d=function fC(r,s){if(s)for(let a=s.length-1;a>=0;a--){const d=s[a];if(r===d.name)return d}}(s,a.pipeRegistry),a.data[g]=d,d.onDestroy&&(a.destroyHooks??=[]).push(g,d.onDestroy)):d=a.data[g];const y=d.factory||(d.factory=Ua(d.type)),S=mn(ih);try{const R=tl(!1),z=y();return tl(R),function Ay(r,s,a,d){a>=r.data.length&&(r.data[a]=null,r.blueprint[a]=null),s[a]=d}(a,ht(),g,z),z}finally{mn(S)}}function $w(r,s,a){const d=r+Un,g=ht(),y=ko(g,d);return eg(g,d)?zy(g,Vs(),s,y.transform,a,y):y.transform(a)}function l1(r,s,a,d){const g=r+Un,y=ht(),I=ko(y,g);return eg(y,g)?Hw(y,Vs(),s,I.transform,a,d,I):I.transform(a,d)}function eg(r,s){return r[xt].data[s].pure}function zw(){return this._results[Symbol.iterator]()}class qy{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Nl)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=qy.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=zw)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const d=this;d.dirty=!1;const g=function Nc(r){return r.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function pg(r,s,a){if(r.length!==s.length)return!1;for(let d=0;d<r.length;d++){let g=r[d],y=s[d];if(a&&(g=a(g),y=a(y)),y!==g)return!1}return!0}(d._results,g,a))&&(d._results=g,d.length=g.length,d.last=g[this.length-1],d.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function wE(r,s,a,d=!0){const g=s[xt];if(function O_(r,s,a,d){const g=vr+d,y=a.length;d>0&&(a[g-1][Bi]=s),d<y-vr?(s[Bi]=a[g],Ah(a,vr+d,s)):(a.push(s),s[Bi]=null),s[Sr]=a;const I=s[ys];null!==I&&a!==I&&function Ov(r,s){const a=r[Ba];s[Zr]!==s[Sr][Sr][Zr]&&(r[Zi]=!0),null===a?r[Ba]=[s]:a.push(s)}(I,s);const S=s[pi];null!==S&&S.insertView(r),s[kn]|=128}(g,s,r,a),d){const y=kv(a,r),I=s[On],S=tp(I,r[xi]);null!==S&&function Av(r,s,a,d,g,y){d[zn]=g,d[qr]=s,Rg(r,d,a,1,g,y)}(g,r[qr],I,s,S,y)}}let tg=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=_c}return r})();const gC=tg,mC=class extends gC{constructor(s,a,d){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,d){const g=function bE(r,s,a,d){const g=s.tView,S=Lu(r,g,a,4096&r[kn]?4096:16,null,s,null,null,null,d?.injector??null,d?.hydrationInfo??null);S[ys]=r[s.index];const z=r[pi];return null!==z&&(S[pi]=z.createEmbeddedView(g)),Ot(g,S,a),S}(this._declarationLView,this._declarationTContainer,s,{injector:a,hydrationInfo:d});return new uf(g)}};function _c(){return h1(Yi(),ht())}function h1(r,s){return 4&r.type?new mC(s,r,Jd(r,s)):null}let g1=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=bC}return r})();function bC(){return Yy(Yi(),ht())}const Zy=g1,m1=class extends Zy{constructor(s,a,d){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=d}get element(){return Jd(this._hostTNode,this._hostLView)}get injector(){return new Bo(this._hostTNode,this._hostLView)}get parentInjector(){const s=bu(this._hostTNode,this._hostLView);if(gu(s)){const a=Il(s,this._hostLView),d=Hl(s);return new Bo(a[xt].data[d+8],a)}return new Bo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=ng(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-vr}createEmbeddedView(s,a,d){let g,y;"number"==typeof d?g=d:null!=d&&(g=d.index,y=d.injector);const S=s.createEmbeddedViewImpl(a||{},y,null);return this.insertImpl(S,g,false),S}createComponent(s,a,d,g,y){const I=s&&!function $f(r){return"function"==typeof r}(s);let S;if(I)S=a;else{const Nt=a||{};S=Nt.index,d=Nt.injector,g=Nt.projectableNodes,y=Nt.environmentInjector||Nt.ngModuleRef}const R=I?s:new Qn(sr(s)),z=d||this.parentInjector;if(!y&&null==R.ngModule){const rn=(I?z:this.parentInjector).get(Al,null);rn&&(y=rn)}sr(R.componentType??{});const Le=R.create(z,g,null,y);return this.insertImpl(Le.hostView,S,false),Le}insert(s,a){return this.insertImpl(s,a,!1)}insertImpl(s,a,d){const g=s._lView;if(function Md(r){return us(r[Sr])}(g)){const R=this.indexOf(s);if(-1!==R)this.detach(R);else{const z=g[Sr],ie=new m1(z,z[qr],z[Sr]);ie.detach(ie.indexOf(s))}}const I=this._adjustIndex(a),S=this._lContainer;return wE(S,g,I,!d),s.attachToViewContainerRef(),Ah(Ky(S),I,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=ng(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),d=Og(this._lContainer,a);d&&(Gd(Ky(this._lContainer),a),Xf(d[xt],d))}detach(s){const a=this._adjustIndex(s,-1),d=Og(this._lContainer,a);return d&&null!=Gd(Ky(this._lContainer),a)?new uf(d):null}_adjustIndex(s,a=0){return s??this.length+a}};function ng(r){return r[8]}function Ky(r){return r[8]||(r[8]=[])}function Yy(r,s){let a;const d=s[r.index];return us(d)?a=d:(a=Op(d,s,null,r),s[r.index]=a,Mp(s,a)),_1(a,s,r,d),new m1(a,r,s)}let _1=function Zw(r,s,a,d){if(r[xi])return;let g;g=8&a.type?gi(d):function Qy(r,s){const a=r[On],d=a.createComment(""),g=ro(s,r);return Su(a,tp(a,g),d,function fb(r,s){return r.nextSibling(s)}(a,g),!1),d}(s,a),r[xi]=g};class Cd{constructor(s){this.queryList=s,this.matches=null}clone(){return new Cd(this.queryList)}setDirty(){this.queryList.setDirty()}}class y1{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const d=null!==s.contentQueries?s.contentQueries[0]:a.length,g=[];for(let y=0;y<d;y++){const I=a.getByIndex(y);g.push(this.queries[I.indexInDeclarationView].clone())}return new y1(g)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==NE(s,a).matches&&this.queries[a].setDirty()}}class EE{constructor(s,a,d=null){this.predicate=s,this.flags=a,this.read=d}}class Jy{constructor(s=[]){this.queries=s}elementStart(s,a){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let d=0;d<this.length;d++){const g=null!==a?a.length:0,y=this.getByIndex(d).embeddedTView(s,g);y&&(y.indexInDeclarationView=d,null!==a?a.push(y):a=[y])}return null!==a?new Jy(a):null}template(s,a){for(let d=0;d<this.queries.length;d++)this.queries[d].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Qw{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Qw(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let d=s.parent;for(;null!==d&&8&d.type&&d.index!==a;)d=d.parent;return a===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const d=this.metadata.predicate;if(Array.isArray(d))for(let g=0;g<d.length;g++){const y=d[g];this.matchTNodeWithReadOption(s,a,Jw(a,y)),this.matchTNodeWithReadOption(s,a,El(a,s,y,!1,!1))}else d===tg?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,El(a,s,d,!1,!1))}matchTNodeWithReadOption(s,a,d){if(null!==d){const g=this.metadata.read;if(null!==g)if(g===Xd||g===g1||g===tg&&4&a.type)this.addMatch(a.index,-2);else{const y=El(a,s,g,!1,!1);null!==y&&this.addMatch(a.index,y)}else this.addMatch(a.index,d)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function Jw(r,s){const a=r.localNames;if(null!==a)for(let d=0;d<a.length;d+=2)if(a[d]===s)return a[d+1];return null}function Xw(r,s,a,d){return-1===a?function wC(r,s){return 11&r.type?Jd(r,s):4&r.type?h1(r,s):null}(s,r):-2===a?function v1(r,s,a){return a===Xd?Jd(s,r):a===tg?h1(s,r):a===g1?Yy(s,r):void 0}(r,s,d):uc(r,r[xt],a,s)}function b1(r,s,a,d){const g=s[pi].queries[d];if(null===g.matches){const y=r.data,I=a.matches,S=[];for(let R=0;R<I.length;R+=2){const z=I[R];S.push(z<0?null:Xw(s,y[z],I[R+1],a.metadata.read))}g.matches=S}return g.matches}function w1(r,s,a,d){const g=r.queries.getByIndex(a),y=g.matches;if(null!==y){const I=b1(r,s,g,a);for(let S=0;S<y.length;S+=2){const R=y[S];if(R>0)d.push(I[S/2]);else{const z=y[S+1],ie=s[-R];for(let me=vr;me<ie.length;me++){const Me=ie[me];Me[ys]===Me[Sr]&&w1(Me[xt],Me,z,d)}if(null!==ie[Ba]){const me=ie[Ba];for(let Me=0;Me<me.length;Me++){const Le=me[Me];w1(Le[xt],Le,z,d)}}}}}return d}function rg(r){const s=ht(),a=wr(),d=D();P(d+1);const g=NE(a,d);if(r.dirty&&function _l(r){return 4==(4&r[kn])}(s)===(2==(2&g.metadata.flags))){if(null===g.matches)r.reset([]);else{const y=g.crossesNgTemplate?w1(a,s,d,[]):b1(a,s,g,d);r.reset(y,ef),r.notifyOnChanges()}return!0}return!1}function I1(r,s,a){const d=wr();d.firstCreatePass&&(AE(d,new EE(r,s,a),-1),2==(2&s)&&(d.staticViewQueries=!0)),eI(d,ht(),s)}function DE(r,s,a,d){const g=wr();if(g.firstCreatePass){const y=Yi();AE(g,new EE(s,a,d),y.index),function tI(r,s){const a=r.contentQueries||(r.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(r.queries.length-1,s)}(g,r),2==(2&a)&&(g.staticContentQueries=!0)}eI(g,ht(),a)}function CE(){return function SE(r,s){return r[pi].queries[s].queryList}(ht(),D())}function eI(r,s,a){const d=new qy(4==(4&a));(function Pc(r,s,a,d){const g=Tm(s);g.push(a),r.firstCreatePass&&lf(r).push(d,g.length-1)})(r,s,d,d.destroy),null===s[pi]&&(s[pi]=new y1),s[pi].queries.push(new Cd(d))}function AE(r,s,a){null===r.queries&&(r.queries=new Jy),r.queries.track(new Qw(s,a))}function NE(r,s){return r.queries.getByIndex(s)}function T1(r,s){return h1(r,s)}function Xy(r){return!!fi(r)}const P1=new An("Application Initializer");let hI=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,d)=>{this.resolve=a,this.reject=d}),this.appInits=Yn(P1,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const g of this.appInits){const y=g();if(wd(y))a.push(y);else if(Wb(y)){const I=new Promise((S,R)=>{y.subscribe({complete:S,error:R})});a.push(I)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{d()}).catch(g=>{this.reject(g)}),0===a.length&&d(),this.initialized=!0}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),ZE=(()=>{class r{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();const k1=new An("LocaleId",{providedIn:"root",factory:()=>Yn(k1,tn.Optional|tn.SkipSelf)||function fI(){return typeof $localize<"u"&&$localize.locale||Ed}()}),pI=new An("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let F1=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new de.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class YE{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let gI=(()=>{class r{compileModuleSync(a){return new e1(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const d=this.compileModuleSync(a),y=Xl(fi(a).declarations).reduce((I,S)=>{const R=sr(S);return R&&I.push(new Qn(R)),I},[]);return new YE(d,y)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const TI=new An(""),z1=new An("");let DI,eD=(()=>{class r{constructor(a,d,g){this._ngZone=a,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,DI||(function EI(r){DI=r}(g),g.addToWindow(d)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Go.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(a)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,d,g){let y=-1;d&&d>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==y),a(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:a,timeoutId:y,updateCb:g})}whenStable(a,d,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,d,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,d,g){return[]}static#e=this.\u0275fac=function(d){return new(d||r)(Pn(Go),Pn(ag),Pn(z1))};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac})}return r})(),ag=(()=>{class r{constructor(){this._applications=new Map}registerApplication(a,d){this._applications.set(a,d)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,d=!0){return DI?.findTestabilityInTree(this,a,d)??null}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})(),xf=null;const tD=new An("AllowMultipleToken"),W1=new An("PlatformDestroyListeners"),CI=new An("appBootstrapListener");class HC{constructor(s,a){this.name=s,this.token=a}}function SI(r,s,a=[]){const d=`Platform: ${s}`,g=new An(d);return(y=[])=>{let I=Z1();if(!I||I.injector.get(tD,!1)){const S=[...a,...y,{provide:g,useValue:!0}];r?r(S):function iD(r){if(xf&&!xf.get(tD,!1))throw new Ge(400,!1);(function rD(){!function qu(r){qc=r}(()=>{throw new Ge(600,!1)})})(),xf=r;const s=r.get(AI);(function q1(r){r.get(To,null)?.forEach(a=>a())})(r)}(function sv(r=[],s){return na.create({name:s,providers:[{provide:z_,useValue:"platform"},{provide:W1,useValue:new Set([()=>xf=null])},...r]})}(S,d))}return function oD(r){const s=Z1();if(!s)throw new Ge(401,!1);return s}()}}function Z1(){return xf?.get(AI)??null}let AI=(()=>{class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,d){const g=function GC(r="zone.js",s){return"noop"===r?new d0:"zone.js"===r?new Go(s):r}(d?.ngZone,function a_(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return g.run(()=>{const y=function cC(r,s,a){return new Lw(r,s,a)}(a.moduleType,this.injector,function Y1(r){return[{provide:Go,useFactory:r},{provide:Nu,multi:!0,useFactory:()=>{const s=Yn(aD,{optional:!0});return()=>s.initialize()}},{provide:NI,useFactory:bS},{provide:wp,useFactory:lm}]}(()=>g)),I=y.injector.get(xu,null);return g.runOutsideAngular(()=>{const S=g.onError.subscribe({next:R=>{I.handleError(R)}});y.onDestroy(()=>{K1(this._modules,y),S.unsubscribe()})}),function ao(r,s,a){try{const d=a();return wd(d)?d.catch(g=>{throw s.runOutsideAngular(()=>r.handleError(g)),g}):d}catch(d){throw s.runOutsideAngular(()=>r.handleError(d)),d}}(I,g,()=>{const S=y.injector.get(hI);return S.runInitializers(),S.donePromise.then(()=>(Ew(y.injector.get(k1,Ed)||Ed),this._moduleDoBootstrap(y),y))})})}bootstrapModule(a,d=[]){const g=Ma({},d);return function nD(r,s,a){const d=new e1(a);return Promise.resolve(d)}(0,0,a).then(y=>this.bootstrapModuleFactory(y,g))}_moduleDoBootstrap(a){const d=a.injector.get(Hc);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(g=>d.bootstrap(g));else{if(!a.instance.ngDoBootstrap)throw new Ge(-403,!1);a.instance.ngDoBootstrap(d)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ge(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const a=this._injector.get(W1,null);a&&(a.forEach(d=>d()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(d){return new(d||r)(Pn(na))};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();function Ma(r,s){return Array.isArray(s)?s.reduce(Ma,r):{...r,...s}}let Hc=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Yn(NI),this.zoneIsStable=Yn(wp),this.componentTypes=[],this.components=[],this.isStable=Yn(F1).hasPendingTasks.pipe((0,Se.w)(a=>a?(0,fe.of)(!1):this.zoneIsStable),(0,et.x)(),re()),this._injector=Yn(Al)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,d){const g=a instanceof tm;if(!this._injector.get(hI).done)throw!g&&ls(a),new Ge(405,!1);let I;I=g?a:this._injector.get(mp).resolveComponentFactory(a),this.componentTypes.push(I.componentType);const S=function UC(r){return r.isBoundToModule}(I)?void 0:this._injector.get(Rl),z=I.create(na.NULL,[],d||I.selector,S),ie=z.location.nativeElement,me=z.injector.get(TI,null);return me?.registerApplication(ie),z.onDestroy(()=>{this.detachView(z.hostView),K1(this.components,z),me?.unregisterApplication(ie)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new Ge(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const d=a;this._views.push(d),d.attachToAppRef(this)}detachView(a){const d=a;K1(this._views,d),d.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const d=this._injector.get(CI,[]);d.push(...this._bootstrapListeners),d.forEach(g=>g(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>K1(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Ge(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function K1(r,s){const a=r.indexOf(s);a>-1&&r.splice(a,1)}const NI=new An("",{providedIn:"root",factory:()=>Yn(xu).handleError.bind(void 0)});function bS(){const r=Yn(Go),s=Yn(xu);return a=>r.runOutsideAngular(()=>s.handleError(a))}let aD=(()=>{class r{constructor(){this.zone=Yn(Go),this.applicationRef=Yn(Hc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();let cD=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=TS}return r})();function TS(r){return function ES(r,s,a){if(xo(r)&&!a){const d=Ci(r.index,s);return new uf(d,d)}return 47&r.type?new uf(s[Zr],s):null}(Yi(),ht(),16==(16&r))}class dD{constructor(){}supports(s){return Ya(s)}create(s){return new RI(s)}}const l_=(r,s)=>s;class RI{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||l_}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,d=this._removalsHead,g=0,y=null;for(;a||d;){const I=!d||a&&a.currentIndex<fD(d,g,y)?a:d,S=fD(I,g,y),R=I.currentIndex;if(I===d)g--,d=d._nextRemoved;else if(a=a._next,null==I.previousIndex)g++;else{y||(y=[]);const z=S-g,ie=R-g;if(z!=ie){for(let Me=0;Me<z;Me++){const Le=Me<y.length?y[Me]:y[Me]=0,pt=Le+Me;ie<=pt&&pt<z&&(y[Me]=Le+1)}y[I.previousIndex]=ie-z}}S!==R&&s(I,S,R)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Ya(s))throw new Ge(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let g,y,I,a=this._itHead,d=!1;if(Array.isArray(s)){this.length=s.length;for(let S=0;S<this.length;S++)y=s[S],I=this._trackByFn(S,y),null!==a&&Object.is(a.trackById,I)?(d&&(a=this._verifyReinsertion(a,y,I,S)),Object.is(a.item,y)||this._addIdentityChange(a,y)):(a=this._mismatch(a,y,I,S),d=!0),a=a._next}else g=0,function pf(r,s){if(Array.isArray(r))for(let a=0;a<r.length;a++)s(r[a]);else{const a=r[Symbol.iterator]();let d;for(;!(d=a.next()).done;)s(d.value)}}(s,S=>{I=this._trackByFn(g,S),null!==a&&Object.is(a.trackById,I)?(d&&(a=this._verifyReinsertion(a,S,I,g)),Object.is(a.item,S)||this._addIdentityChange(a,S)):(a=this._mismatch(a,S,I,g),d=!0),a=a._next,g++}),this.length=g;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,d,g){let y;return null===s?y=this._itTail:(y=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,y,g)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(d,g))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,y,g)):s=this._addAfter(new cv(a,d),y,g),s}_verifyReinsertion(s,a,d,g){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==y?s=this._reinsertAfter(y,s._prev,g):s.currentIndex!=g&&(s.currentIndex=g,this._addToMoves(s,g)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const g=s._prevRemoved,y=s._nextRemoved;return null===g?this._removalsHead=y:g._nextRemoved=y,null===y?this._removalsTail=g:y._prevRemoved=g,this._insertAfter(s,a,d),this._addToMoves(s,d),s}_moveAfter(s,a,d){return this._unlink(s),this._insertAfter(s,a,d),this._addToMoves(s,d),s}_addAfter(s,a,d){return this._insertAfter(s,a,d),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,d){const g=null===a?this._itHead:a._next;return s._next=g,s._prev=a,null===g?this._itTail=s:g._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new J1),this._linkedRecords.put(s),s.currentIndex=d,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,d=s._next;return null===a?this._itHead=d:a._next=d,null===d?this._itTail=a:d._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new J1),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class cv{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class hD{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===a||a<=d.currentIndex)&&Object.is(d.trackById,s))return d;return null}remove(s){const a=s._prevDup,d=s._nextDup;return null===a?this._head=d:a._nextDup=d,null===d?this._tail=a:d._prevDup=a,null===this._head}}class J1{constructor(){this.map=new Map}put(s){const a=s.trackById;let d=this.map.get(a);d||(d=new hD,this.map.set(a,d)),d.add(s)}get(s,a){const g=this.map.get(s);return g?g.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fD(r,s,a){const d=r.previousIndex;if(null===d)return d;let g=0;return a&&d<a.length&&(g=a[d]),d+s+g}class pD{constructor(){}supports(s){return s instanceof Map||ru(s)}create(){return new ZC}}class ZC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||ru(s)))throw new Ge(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(d,g)=>{if(a&&a.key===g)this._maybeAddToChanges(a,d),this._appendAfter=a,a=a._next;else{const y=this._getOrCreateRecordForKey(g,d);a=this._insertBeforeOrAppend(a,y)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let d=a;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const d=s._prev;return a._next=s,a._prev=d,s._prev=a,d&&(d._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const g=this._records.get(s);this._maybeAddToChanges(g,a);const y=g._prev,I=g._next;return y&&(y._next=I),I&&(I._prev=y),g._next=null,g._prev=null,g}const d=new gD(s);return this._records.set(s,d),d.currentValue=a,this._addToAdditions(d),d}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(d=>a(s[d],d))}}class gD{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function PI(){return new X1([new dD])}let X1=(()=>{class r{static#e=this.\u0275prov=De({token:r,providedIn:"root",factory:PI});constructor(a){this.factories=a}static create(a,d){if(null!=d){const g=d.factories.slice();a=a.concat(g)}return new r(a)}static extend(a){return{provide:r,useFactory:d=>r.create(a,d||PI()),deps:[[r,new Du,new qf]]}}find(a){const d=this.factories.find(g=>g.supports(a));if(null!=d)return d;throw new Ge(901,!1)}}return r})();function kI(){return new eb([new pD])}let eb=(()=>{class r{static#e=this.\u0275prov=De({token:r,providedIn:"root",factory:kI});constructor(a){this.factories=a}static create(a,d){if(d){const g=d.factories.slice();a=a.concat(g)}return new r(a)}static extend(a){return{provide:r,useFactory:d=>r.create(a,d||kI()),deps:[[r,new Du,new qf]]}}find(a){const d=this.factories.find(g=>g.supports(a));if(d)return d;throw new Ge(901,!1)}}return r})();const tb=SI(null,"core",[]);let mD=(()=>{class r{constructor(a){}static#e=this.\u0275fac=function(d){return new(d||r)(Pn(Hc))};static#t=this.\u0275mod=Zs({type:r});static#n=this.\u0275inj=Re({})}return r})();function vD(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function xS(r,s){const a=sr(r),d=s.elementInjector||Kh();return new Qn(a).create(d,s.projectableNodes,s.hostElement,s.environmentInjector)}function lg(r){const s=sr(r);if(!s)return null;const a=new Qn(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},7592:(Gt,ze,Q)=>{Q.d(ze,{C6:()=>xe,Jn:()=>gr,KN:()=>yt,Mq:()=>De,Xd:()=>Pt,ZF:()=>Fr,qX:()=>Ht});var w=Q(5861),ce=Q(6820),u=Q(7879),we=Q(229),de=Q(1878);class fe{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(Ze=>{if(function Oe(tt){const Ce=tt.getComponent();return"VERSION"===Ce?.type}(Ze)){const It=Ze.getImmediate();return`${It.library}/${It.version}`}return null}).filter(Ze=>Ze).join(" ")}}const He="@firebase/app",re=new u.Yd("@firebase/app"),ke="[DEFAULT]",je={[He]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Je=new Map,Ve=new Map;function nt(tt,Ce){try{tt.container.addComponent(Ce)}catch(Ze){re.debug(`Component ${Ce.name} failed to register with FirebaseApp ${tt.name}`,Ze)}}function Pt(tt){const Ce=tt.name;if(Ve.has(Ce))return re.debug(`There were multiple attempts to register component ${Ce}.`),!1;Ve.set(Ce,tt);for(const Ze of Je.values())nt(Ze,tt);return!0}function Ht(tt,Ce){const Ze=tt.container.getProvider("heartbeat").getImmediate({optional:!0});return Ze&&Ze.triggerHeartbeat(),tt.container.getProvider(Ce)}const Dt=new we.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Wn{constructor(Ce,Ze,It){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},Ze),this._name=Ze.name,this._automaticDataCollectionEnabled=Ze.automaticDataCollectionEnabled,this._container=It,this.container.addComponent(new ce.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw Dt.create("app-deleted",{appName:this._name})}}const gr="9.23.0";function Fr(tt,Ce={}){let Ze=tt;"object"!=typeof Ce&&(Ce={name:Ce});const It=Object.assign({name:ke,automaticDataCollectionEnabled:!1},Ce),Wt=It.name;if("string"!=typeof Wt||!Wt)throw Dt.create("bad-app-name",{appName:String(Wt)});if(Ze||(Ze=(0,we.aH)()),!Ze)throw Dt.create("no-options");const qt=Je.get(Wt);if(qt){if((0,we.vZ)(Ze,qt.options)&&(0,we.vZ)(It,qt.config))return qt;throw Dt.create("duplicate-app",{appName:Wt})}const Vn=new ce.H0(Wt);for(const V of Ve.values())Vn.addComponent(V);const K=new Wn(Ze,It,Vn);return Je.set(Wt,K),K}function De(tt=ke){const Ce=Je.get(tt);if(!Ce&&tt===ke&&(0,we.aH)())return Fr();if(!Ce)throw Dt.create("no-app",{appName:tt});return Ce}function xe(){return Array.from(Je.values())}function yt(tt,Ce,Ze){var It;let Wt=null!==(It=je[tt])&&void 0!==It?It:tt;Ze&&(Wt+=`-${Ze}`);const qt=Wt.match(/\s|\//),Vn=Ce.match(/\s|\//);if(qt||Vn){const K=[`Unable to register library "${Wt}" with version "${Ce}":`];return qt&&K.push(`library name "${Wt}" contains illegal characters (whitespace or "/")`),qt&&Vn&&K.push("and"),Vn&&K.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void re.warn(K.join(" "))}Pt(new ce.wA(`${Wt}-version`,()=>({library:Wt,version:Ce}),"VERSION"))}const En="firebase-heartbeat-database",an=1,Kt="firebase-heartbeat-store";let wn=null;function Jn(){return wn||(wn=(0,de.X3)(En,an,{upgrade:(tt,Ce)=>{0===Ce&&tt.createObjectStore(Kt)}}).catch(tt=>{throw Dt.create("idb-open",{originalErrorMessage:tt.message})})),wn}function Cr(){return(Cr=(0,w.Z)(function*(tt){try{return yield(yield Jn()).transaction(Kt).objectStore(Kt).get(rr(tt))}catch(Ce){if(Ce instanceof we.ZR)re.warn(Ce.message);else{const Ze=Dt.create("idb-get",{originalErrorMessage:Ce?.message});re.warn(Ze.message)}}})).apply(this,arguments)}function yr(tt,Ce){return mn.apply(this,arguments)}function mn(){return(mn=(0,w.Z)(function*(tt,Ce){try{const It=(yield Jn()).transaction(Kt,"readwrite");yield It.objectStore(Kt).put(Ce,rr(tt)),yield It.done}catch(Ze){if(Ze instanceof we.ZR)re.warn(Ze.message);else{const It=Dt.create("idb-set",{originalErrorMessage:Ze?.message});re.warn(It.message)}}})).apply(this,arguments)}function rr(tt){return`${tt.name}!${tt.options.appId}`}class jn{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const Ze=this.container.getProvider("app").getImmediate();this._storage=new Xn(Ze),this._heartbeatsCachePromise=this._storage.read().then(It=>(this._heartbeatsCache=It,It))}triggerHeartbeat(){var Ce=this;return(0,w.Z)(function*(){const It=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Wt=mi();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==Wt&&!Ce._heartbeatsCache.heartbeats.some(qt=>qt.date===Wt))return Ce._heartbeatsCache.heartbeats.push({date:Wt,agent:It}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(qt=>{const Vn=new Date(qt.date).valueOf();return Date.now()-Vn<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,w.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const Ze=mi(),{heartbeatsToSend:It,unsentEntries:Wt}=function An(tt,Ce=1024){const Ze=[];let It=tt.slice();for(const Wt of tt){const qt=Ze.find(Vn=>Vn.agent===Wt.agent);if(qt){if(qt.dates.push(Wt.date),Mr(Ze)>Ce){qt.dates.pop();break}}else if(Ze.push({agent:Wt.agent,dates:[Wt.date]}),Mr(Ze)>Ce){Ze.pop();break}It=It.slice(1)}return{heartbeatsToSend:Ze,unsentEntries:It}}(Ce._heartbeatsCache.heartbeats),qt=(0,we.L)(JSON.stringify({version:2,heartbeats:It}));return Ce._heartbeatsCache.lastSentHeartbeatDate=Ze,Wt.length>0?(Ce._heartbeatsCache.heartbeats=Wt,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),qt})()}}function mi(){return(new Date).toISOString().substring(0,10)}class Xn{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.Z)(function*(){return!!(0,we.hl)()&&(0,we.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,w.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function tn(tt){return Cr.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var Ze=this;return(0,w.Z)(function*(){var It;if(yield Ze._canUseIndexedDBPromise){const qt=yield Ze.read();return yr(Ze.app,{lastSentHeartbeatDate:null!==(It=Ce.lastSentHeartbeatDate)&&void 0!==It?It:qt.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var Ze=this;return(0,w.Z)(function*(){var It;if(yield Ze._canUseIndexedDBPromise){const qt=yield Ze.read();return yr(Ze.app,{lastSentHeartbeatDate:null!==(It=Ce.lastSentHeartbeatDate)&&void 0!==It?It:qt.lastSentHeartbeatDate,heartbeats:[...qt.heartbeats,...Ce.heartbeats]})}})()}}function Mr(tt){return(0,we.L)(JSON.stringify({version:2,heartbeats:tt})).length}!function _i(tt){Pt(new ce.wA("platform-logger",Ce=>new fe(Ce),"PRIVATE")),Pt(new ce.wA("heartbeat",Ce=>new jn(Ce),"PRIVATE")),yt(He,"0.9.13",tt),yt(He,"0.9.13","esm2017"),yt("fire-js","")}("")},6820:(Gt,ze,Q)=>{Q.d(ze,{H0:()=>He,wA:()=>u});var w=Q(5861),ce=Q(229);class u{constructor(re,le,Se){this.name=re,this.instanceFactory=le,this.type=Se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const we="[DEFAULT]";class de{constructor(re,le){this.name=re,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const le=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(le)){const Se=new ce.BH;if(this.instancesDeferred.set(le,Se),this.isInitialized(le)||this.shouldAutoInitialize())try{const et=this.getOrInitializeService({instanceIdentifier:le});et&&Se.resolve(et)}catch{}}return this.instancesDeferred.get(le).promise}getImmediate(re){var le;const Se=this.normalizeInstanceIdentifier(re?.identifier),et=null!==(le=re?.optional)&&void 0!==le&&le;if(!this.isInitialized(Se)&&!this.shouldAutoInitialize()){if(et)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Se})}catch(Pe){if(et)return null;throw Pe}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function Oe(Ee){return"EAGER"===Ee.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:we})}catch{}for(const[le,Se]of this.instancesDeferred.entries()){const et=this.normalizeInstanceIdentifier(le);try{const Pe=this.getOrInitializeService({instanceIdentifier:et});Se.resolve(Pe)}catch{}}}}clearInstance(re=we){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,w.Z)(function*(){const le=Array.from(re.instances.values());yield Promise.all([...le.filter(Se=>"INTERNAL"in Se).map(Se=>Se.INTERNAL.delete()),...le.filter(Se=>"_delete"in Se).map(Se=>Se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=we){return this.instances.has(re)}getOptions(re=we){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:le={}}=re,Se=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(Se))throw Error(`${this.name}(${Se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const et=this.getOrInitializeService({instanceIdentifier:Se,options:le});for(const[Pe,it]of this.instancesDeferred.entries())Se===this.normalizeInstanceIdentifier(Pe)&&it.resolve(et);return et}onInit(re,le){var Se;const et=this.normalizeInstanceIdentifier(le),Pe=null!==(Se=this.onInitCallbacks.get(et))&&void 0!==Se?Se:new Set;Pe.add(re),this.onInitCallbacks.set(et,Pe);const it=this.instances.get(et);return it&&re(it,et),()=>{Pe.delete(re)}}invokeOnInitCallbacks(re,le){const Se=this.onInitCallbacks.get(le);if(Se)for(const et of Se)try{et(re,le)}catch{}}getOrInitializeService({instanceIdentifier:re,options:le={}}){let Se=this.instances.get(re);if(!Se&&this.component&&(Se=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=re,Ee===we?void 0:Ee),options:le}),this.instances.set(re,Se),this.instancesOptions.set(re,le),this.invokeOnInitCallbacks(Se,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,Se)}catch{}var Ee;return Se||null}normalizeInstanceIdentifier(re=we){return this.component?this.component.multipleInstances?re:we:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class He{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const le=this.getProvider(re.name);if(le.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);le.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const le=new de(re,this);return this.providers.set(re,le),le}getProviders(){return Array.from(this.providers.values())}}},4097:(Gt,ze,Q)=>{Q.d(ze,{C6:()=>w.C6,KN:()=>w.KN,Mq:()=>w.Mq,ZF:()=>w.ZF});var w=Q(7592);(0,w.KN)("firebase","9.23.0","app")},95:(Gt,ze,Q)=>{Q.d(ze,{Fj:()=>mt,CE:()=>xt,qu:()=>Ro,u:()=>Bi,cw:()=>on,sg:()=>Di,x0:()=>Br,u5:()=>ua,wO:()=>vs,Cf:()=>_t,JU:()=>it,JJ:()=>Kt,JL:()=>wn,YN:()=>ai,wV:()=>Zs,UX:()=>jc,Q7:()=>Un,EJ:()=>xr,kI:()=>Qe,_Y:()=>Zo,Kr:()=>Zr});var w=Q(9468),ce=Q(6814),u=Q(2459),we=Q(5592),de=Q(7453),fe=Q(4829),Oe=Q(9940),He=Q(8251),Ee=Q(7400),re=Q(2714),Se=Q(7398);let et=(()=>{class q{constructor(B,oe){this._renderer=B,this._elementRef=oe,this.onChange=Ie=>{},this.onTouched=()=>{}}setProperty(B,oe){this._renderer.setProperty(this._elementRef.nativeElement,B,oe)}registerOnTouched(B){this.onTouched=B}registerOnChange(B){this.onChange=B}setDisabledState(B){this.setProperty("disabled",B)}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(w.Qsj),w.Y36(w.SBq))};static#t=this.\u0275dir=w.lG2({type:q})}return q})(),Pe=(()=>{class q extends et{static#e=this.\u0275fac=function(){let B;return function(Ie){return(B||(B=w.n5z(q)))(Ie||q)}}();static#t=this.\u0275dir=w.lG2({type:q,features:[w.qOj]})}return q})();const it=new w.OlP("NgValueAccessor"),Ft={provide:it,useExisting:(0,w.Gpc)(()=>mt),multi:!0},Mt=new w.OlP("CompositionEventMode");let mt=(()=>{class q extends et{constructor(B,oe,Ie){super(B,oe),this._compositionMode=Ie,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Sn(){const q=(0,ce.q)()?(0,ce.q)().getUserAgent():"";return/android (\d+)/.test(q.toLowerCase())}())}writeValue(B){this.setProperty("value",B??"")}_handleInput(B){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(B)}_compositionStart(){this._composing=!0}_compositionEnd(B){this._composing=!1,this._compositionMode&&this.onChange(B)}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(Mt,8))};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(oe,Ie){1&oe&&w.NdJ("input",function(Hn){return Ie._handleInput(Hn.target.value)})("blur",function(){return Ie.onTouched()})("compositionstart",function(){return Ie._compositionStart()})("compositionend",function(Hn){return Ie._compositionEnd(Hn.target.value)})},features:[w._Bn([Ft]),w.qOj]})}return q})();function ot(q){return null==q||("string"==typeof q||Array.isArray(q))&&0===q.length}function vt(q){return null!=q&&"number"==typeof q.length}const _t=new w.OlP("NgValidators"),Ge=new w.OlP("NgAsyncValidators"),ve=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Qe{static min(ee){return function gt(q){return ee=>{if(ot(ee.value)||ot(q))return null;const B=parseFloat(ee.value);return!isNaN(B)&&B<q?{min:{min:q,actual:ee.value}}:null}}(ee)}static max(ee){return function xn(q){return ee=>{if(ot(ee.value)||ot(q))return null;const B=parseFloat(ee.value);return!isNaN(B)&&B>q?{max:{max:q,actual:ee.value}}:null}}(ee)}static required(ee){return dt(ee)}static requiredTrue(ee){return function fn(q){return!0===q.value?null:{required:!0}}(ee)}static email(ee){return function Tn(q){return ot(q.value)||ve.test(q.value)?null:{email:!0}}(ee)}static minLength(ee){return Bn(ee)}static maxLength(ee){return function nr(q){return ee=>vt(ee.value)&&ee.value.length>q?{maxlength:{requiredLength:q,actualLength:ee.value.length}}:null}(ee)}static pattern(ee){return function pr(q){if(!q)return ke;let ee,B;return"string"==typeof q?(B="","^"!==q.charAt(0)&&(B+="^"),B+=q,"$"!==q.charAt(q.length-1)&&(B+="$"),ee=new RegExp(B)):(B=q.toString(),ee=q),oe=>{if(ot(oe.value))return null;const Ie=oe.value;return ee.test(Ie)?null:{pattern:{requiredPattern:B,actualValue:Ie}}}}(ee)}static nullValidator(ee){return null}static compose(ee){return Ht(ee)}static composeAsync(ee){return yn(ee)}}function dt(q){return ot(q.value)?{required:!0}:null}function Bn(q){return ee=>ot(ee.value)||!vt(ee.value)?null:ee.value.length<q?{minlength:{requiredLength:q,actualLength:ee.value.length}}:null}function ke(q){return null}function je(q){return null!=q}function Je(q){return(0,w.QGY)(q)?(0,u.D)(q):q}function Ve(q){let ee={};return q.forEach(B=>{ee=null!=B?{...ee,...B}:ee}),0===Object.keys(ee).length?null:ee}function nt(q,ee){return ee.map(B=>B(q))}function Pt(q){return q.map(ee=>function bt(q){return!q.validate}(ee)?ee:B=>ee.validate(B))}function Ht(q){if(!q)return null;const ee=q.filter(je);return 0==ee.length?null:function(B){return Ve(nt(B,ee))}}function pn(q){return null!=q?Ht(Pt(q)):null}function yn(q){if(!q)return null;const ee=q.filter(je);return 0==ee.length?null:function(B){return function le(...q){const ee=(0,Oe.jO)(q),{args:B,keys:oe}=(0,de.D)(q),Ie=new we.y(Jt=>{const{length:Hn}=B;if(!Hn)return void Jt.complete();const Ki=new Array(Hn);let ks=Hn,zi=Hn;for(let Vi=0;Vi<Hn;Vi++){let wc=!1;(0,fe.Xf)(B[Vi]).subscribe((0,He.x)(Jt,da=>{wc||(wc=!0,zi--),Ki[Vi]=da},()=>ks--,void 0,()=>{(!ks||!wc)&&(zi||Jt.next(oe?(0,re.n)(oe,Ki):Ki),Jt.complete())}))}});return ee?Ie.pipe((0,Ee.Z)(ee)):Ie}(nt(B,ee).map(Je)).pipe((0,Se.U)(Ve))}}function dn(q){return null!=q?yn(Pt(q)):null}function Dt(q,ee){return null===q?[ee]:Array.isArray(q)?[...q,ee]:[q,ee]}function Wn(q){return q._rawValidators}function gr(q){return q._rawAsyncValidators}function Fr(q){return q?Array.isArray(q)?q:[q]:[]}function De(q,ee){return Array.isArray(q)?q.includes(ee):q===ee}function xe(q,ee){const B=Fr(ee);return Fr(q).forEach(Ie=>{De(B,Ie)||B.push(Ie)}),B}function Re(q,ee){return Fr(ee).filter(B=>!De(q,B))}class at{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ee){this._rawValidators=ee||[],this._composedValidatorFn=pn(this._rawValidators)}_setAsyncValidators(ee){this._rawAsyncValidators=ee||[],this._composedAsyncValidatorFn=dn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ee){this._onDestroyCallbacks.push(ee)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ee=>ee()),this._onDestroyCallbacks=[]}reset(ee=void 0){this.control&&this.control.reset(ee)}hasError(ee,B){return!!this.control&&this.control.hasError(ee,B)}getError(ee,B){return this.control?this.control.getError(ee,B):null}}class yt extends at{get formDirective(){return null}get path(){return null}}class St extends at{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class _r{constructor(ee){this._cd=ee}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Kt=(()=>{class q extends _r{constructor(B){super(B)}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(St,2))};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(oe,Ie){2&oe&&w.ekj("ng-untouched",Ie.isUntouched)("ng-touched",Ie.isTouched)("ng-pristine",Ie.isPristine)("ng-dirty",Ie.isDirty)("ng-valid",Ie.isValid)("ng-invalid",Ie.isInvalid)("ng-pending",Ie.isPending)},features:[w.qOj]})}return q})(),wn=(()=>{class q extends _r{constructor(B){super(B)}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(yt,10))};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(oe,Ie){2&oe&&w.ekj("ng-untouched",Ie.isUntouched)("ng-touched",Ie.isTouched)("ng-pristine",Ie.isPristine)("ng-dirty",Ie.isDirty)("ng-valid",Ie.isValid)("ng-invalid",Ie.isInvalid)("ng-pending",Ie.isPending)("ng-submitted",Ie.isSubmitted)},features:[w.qOj]})}return q})();const It="VALID",Wt="INVALID",qt="PENDING",Vn="DISABLED";function K(q){return($(q)?q.validators:q)||null}function G(q,ee){return($(ee)?ee.asyncValidators:q)||null}function $(q){return null!=q&&!Array.isArray(q)&&"object"==typeof q}function be(q,ee,B){const oe=q.controls;if(!(ee?Object.keys(oe):oe).length)throw new w.vHH(1e3,"");if(!oe[B])throw new w.vHH(1001,"")}function We(q,ee,B){q._forEachChild((oe,Ie)=>{if(void 0===B[Ie])throw new w.vHH(1002,"")})}class Tt{constructor(ee,B){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(ee),this._assignAsyncValidators(B)}get validator(){return this._composedValidatorFn}set validator(ee){this._rawValidators=this._composedValidatorFn=ee}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ee){this._rawAsyncValidators=this._composedAsyncValidatorFn=ee}get parent(){return this._parent}get valid(){return this.status===It}get invalid(){return this.status===Wt}get pending(){return this.status==qt}get disabled(){return this.status===Vn}get enabled(){return this.status!==Vn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ee){this._assignValidators(ee)}setAsyncValidators(ee){this._assignAsyncValidators(ee)}addValidators(ee){this.setValidators(xe(ee,this._rawValidators))}addAsyncValidators(ee){this.setAsyncValidators(xe(ee,this._rawAsyncValidators))}removeValidators(ee){this.setValidators(Re(ee,this._rawValidators))}removeAsyncValidators(ee){this.setAsyncValidators(Re(ee,this._rawAsyncValidators))}hasValidator(ee){return De(this._rawValidators,ee)}hasAsyncValidator(ee){return De(this._rawAsyncValidators,ee)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ee={}){this.touched=!0,this._parent&&!ee.onlySelf&&this._parent.markAsTouched(ee)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(ee=>ee.markAllAsTouched())}markAsUntouched(ee={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(B=>{B.markAsUntouched({onlySelf:!0})}),this._parent&&!ee.onlySelf&&this._parent._updateTouched(ee)}markAsDirty(ee={}){this.pristine=!1,this._parent&&!ee.onlySelf&&this._parent.markAsDirty(ee)}markAsPristine(ee={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(B=>{B.markAsPristine({onlySelf:!0})}),this._parent&&!ee.onlySelf&&this._parent._updatePristine(ee)}markAsPending(ee={}){this.status=qt,!1!==ee.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!ee.onlySelf&&this._parent.markAsPending(ee)}disable(ee={}){const B=this._parentMarkedDirty(ee.onlySelf);this.status=Vn,this.errors=null,this._forEachChild(oe=>{oe.disable({...ee,onlySelf:!0})}),this._updateValue(),!1!==ee.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ee,skipPristineCheck:B}),this._onDisabledChange.forEach(oe=>oe(!0))}enable(ee={}){const B=this._parentMarkedDirty(ee.onlySelf);this.status=It,this._forEachChild(oe=>{oe.enable({...ee,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ee.emitEvent}),this._updateAncestors({...ee,skipPristineCheck:B}),this._onDisabledChange.forEach(oe=>oe(!1))}_updateAncestors(ee){this._parent&&!ee.onlySelf&&(this._parent.updateValueAndValidity(ee),ee.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(ee){this._parent=ee}getRawValue(){return this.value}updateValueAndValidity(ee={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===It||this.status===qt)&&this._runAsyncValidator(ee.emitEvent)),!1!==ee.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ee.onlySelf&&this._parent.updateValueAndValidity(ee)}_updateTreeValidity(ee={emitEvent:!0}){this._forEachChild(B=>B._updateTreeValidity(ee)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ee.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vn:It}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ee){if(this.asyncValidator){this.status=qt,this._hasOwnPendingAsyncValidator=!0;const B=Je(this.asyncValidator(this));this._asyncValidationSubscription=B.subscribe(oe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(oe,{emitEvent:ee})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(ee,B={}){this.errors=ee,this._updateControlsErrors(!1!==B.emitEvent)}get(ee){let B=ee;return null==B||(Array.isArray(B)||(B=B.split(".")),0===B.length)?null:B.reduce((oe,Ie)=>oe&&oe._find(Ie),this)}getError(ee,B){const oe=B?this.get(B):this;return oe&&oe.errors?oe.errors[ee]:null}hasError(ee,B){return!!this.getError(ee,B)}get root(){let ee=this;for(;ee._parent;)ee=ee._parent;return ee}_updateControlsErrors(ee){this.status=this._calculateStatus(),ee&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(ee)}_initObservables(){this.valueChanges=new w.vpe,this.statusChanges=new w.vpe}_calculateStatus(){return this._allControlsDisabled()?Vn:this.errors?Wt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qt)?qt:this._anyControlsHaveStatus(Wt)?Wt:It}_anyControlsHaveStatus(ee){return this._anyControls(B=>B.status===ee)}_anyControlsDirty(){return this._anyControls(ee=>ee.dirty)}_anyControlsTouched(){return this._anyControls(ee=>ee.touched)}_updatePristine(ee={}){this.pristine=!this._anyControlsDirty(),this._parent&&!ee.onlySelf&&this._parent._updatePristine(ee)}_updateTouched(ee={}){this.touched=this._anyControlsTouched(),this._parent&&!ee.onlySelf&&this._parent._updateTouched(ee)}_registerOnCollectionChange(ee){this._onCollectionChange=ee}_setUpdateStrategy(ee){$(ee)&&null!=ee.updateOn&&(this._updateOn=ee.updateOn)}_parentMarkedDirty(ee){return!ee&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ee){return null}_assignValidators(ee){this._rawValidators=Array.isArray(ee)?ee.slice():ee,this._composedValidatorFn=function V(q){return Array.isArray(q)?pn(q):q||null}(this._rawValidators)}_assignAsyncValidators(ee){this._rawAsyncValidators=Array.isArray(ee)?ee.slice():ee,this._composedAsyncValidatorFn=function W(q){return Array.isArray(q)?dn(q):q||null}(this._rawAsyncValidators)}}class on extends Tt{constructor(ee,B,oe){super(K(B),G(oe,B)),this.controls=ee,this._initObservables(),this._setUpdateStrategy(B),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(ee,B){return this.controls[ee]?this.controls[ee]:(this.controls[ee]=B,B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange),B)}addControl(ee,B,oe={}){this.registerControl(ee,B),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}removeControl(ee,B={}){this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),delete this.controls[ee],this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}setControl(ee,B,oe={}){this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),delete this.controls[ee],B&&this.registerControl(ee,B),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}contains(ee){return this.controls.hasOwnProperty(ee)&&this.controls[ee].enabled}setValue(ee,B={}){We(this,0,ee),Object.keys(ee).forEach(oe=>{be(this,!0,oe),this.controls[oe].setValue(ee[oe],{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B)}patchValue(ee,B={}){null!=ee&&(Object.keys(ee).forEach(oe=>{const Ie=this.controls[oe];Ie&&Ie.patchValue(ee[oe],{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B))}reset(ee={},B={}){this._forEachChild((oe,Ie)=>{oe.reset(ee?ee[Ie]:null,{onlySelf:!0,emitEvent:B.emitEvent})}),this._updatePristine(B),this._updateTouched(B),this.updateValueAndValidity(B)}getRawValue(){return this._reduceChildren({},(ee,B,oe)=>(ee[oe]=B.getRawValue(),ee))}_syncPendingControls(){let ee=this._reduceChildren(!1,(B,oe)=>!!oe._syncPendingControls()||B);return ee&&this.updateValueAndValidity({onlySelf:!0}),ee}_forEachChild(ee){Object.keys(this.controls).forEach(B=>{const oe=this.controls[B];oe&&ee(oe,B)})}_setUpControls(){this._forEachChild(ee=>{ee.setParent(this),ee._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ee){for(const[B,oe]of Object.entries(this.controls))if(this.contains(B)&&ee(oe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(B,oe,Ie)=>((oe.enabled||this.disabled)&&(B[Ie]=oe.value),B))}_reduceChildren(ee,B){let oe=ee;return this._forEachChild((Ie,Jt)=>{oe=B(oe,Ie,Jt)}),oe}_allControlsDisabled(){for(const ee of Object.keys(this.controls))if(this.controls[ee].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ee){return this.controls.hasOwnProperty(ee)?this.controls[ee]:null}}class $t extends on{}const jr=new w.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Yn}),Yn="always";function Ns(q,ee){return[...ee.path,q]}function sa(q,ee,B=Yn){yc(q,ee),ee.valueAccessor.writeValue(q.value),(q.disabled||"always"===B)&&ee.valueAccessor.setDisabledState?.(q.disabled),function oa(q,ee){ee.valueAccessor.registerOnChange(B=>{q._pendingValue=B,q._pendingChange=!0,q._pendingDirty=!0,"change"===q.updateOn&&ts(q,ee)})}(q,ee),function er(q,ee){const B=(oe,Ie)=>{ee.valueAccessor.writeValue(oe),Ie&&ee.viewToModelUpdate(oe)};q.registerOnChange(B),ee._registerOnDestroy(()=>{q._unregisterOnChange(B)})}(q,ee),function Pi(q,ee){ee.valueAccessor.registerOnTouched(()=>{q._pendingTouched=!0,"blur"===q.updateOn&&q._pendingChange&&ts(q,ee),"submit"!==q.updateOn&&q.markAsTouched()})}(q,ee),function Ra(q,ee){if(ee.valueAccessor.setDisabledState){const B=oe=>{ee.valueAccessor.setDisabledState(oe)};q.registerOnDisabledChange(B),ee._registerOnDestroy(()=>{q._unregisterOnDisabledChange(B)})}}(q,ee)}function es(q,ee,B=!0){const oe=()=>{};ee.valueAccessor&&(ee.valueAccessor.registerOnChange(oe),ee.valueAccessor.registerOnTouched(oe)),si(q,ee),q&&(ee._invokeOnDestroyCallbacks(),q._registerOnCollectionChange(()=>{}))}function xa(q,ee){q.forEach(B=>{B.registerOnValidatorChange&&B.registerOnValidatorChange(ee)})}function yc(q,ee){const B=Wn(q);null!==ee.validator?q.setValidators(Dt(B,ee.validator)):"function"==typeof B&&q.setValidators([B]);const oe=gr(q);null!==ee.asyncValidator?q.setAsyncValidators(Dt(oe,ee.asyncValidator)):"function"==typeof oe&&q.setAsyncValidators([oe]);const Ie=()=>q.updateValueAndValidity();xa(ee._rawValidators,Ie),xa(ee._rawAsyncValidators,Ie)}function si(q,ee){let B=!1;if(null!==q){if(null!==ee.validator){const Ie=Wn(q);if(Array.isArray(Ie)&&Ie.length>0){const Jt=Ie.filter(Hn=>Hn!==ee.validator);Jt.length!==Ie.length&&(B=!0,q.setValidators(Jt))}}if(null!==ee.asyncValidator){const Ie=gr(q);if(Array.isArray(Ie)&&Ie.length>0){const Jt=Ie.filter(Hn=>Hn!==ee.asyncValidator);Jt.length!==Ie.length&&(B=!0,q.setAsyncValidators(Jt))}}}const oe=()=>{};return xa(ee._rawValidators,oe),xa(ee._rawAsyncValidators,oe),B}function ts(q,ee){q._pendingDirty&&q.markAsDirty(),q.setValue(q._pendingValue,{emitModelToViewChange:!1}),ee.viewToModelUpdate(q._pendingValue),q._pendingChange=!1}function ca(q,ee){const B=q.indexOf(ee);B>-1&&q.splice(B,1)}function ki(q){return"object"==typeof q&&null!==q&&2===Object.keys(q).length&&"value"in q&&"disabled"in q}const hi=class extends Tt{constructor(ee=null,B,oe){super(K(B),G(oe,B)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ee),this._setUpdateStrategy(B),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$(B)&&(B.nonNullable||B.initialValueIsDefault)&&(this.defaultValue=ki(ee)?ee.value:ee)}setValue(ee,B={}){this.value=this._pendingValue=ee,this._onChange.length&&!1!==B.emitModelToViewChange&&this._onChange.forEach(oe=>oe(this.value,!1!==B.emitViewToModelChange)),this.updateValueAndValidity(B)}patchValue(ee,B={}){this.setValue(ee,B)}reset(ee=this.defaultValue,B={}){this._applyFormState(ee),this.markAsPristine(B),this.markAsUntouched(B),this.setValue(this.value,B),this._pendingChange=!1}_updateValue(){}_anyControls(ee){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ee){this._onChange.push(ee)}_unregisterOnChange(ee){ca(this._onChange,ee)}registerOnDisabledChange(ee){this._onDisabledChange.push(ee)}_unregisterOnDisabledChange(ee){ca(this._onDisabledChange,ee)}_forEachChild(ee){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ee){ki(ee)?(this.value=this._pendingValue=ee.value,ee.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ee}};let Ms=(()=>{class q extends yt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ns(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let B;return function(Ie){return(B||(B=w.n5z(q)))(Ie||q)}}();static#t=this.\u0275dir=w.lG2({type:q,features:[w.qOj]})}return q})(),Zo=(()=>{class q{static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return q})();const ml={provide:it,useExisting:(0,w.Gpc)(()=>Zs),multi:!0};let Zs=(()=>{class q extends Pe{writeValue(B){this.setProperty("value",B??"")}registerOnChange(B){this.onChange=oe=>{B(""==oe?null:parseFloat(oe))}}static#e=this.\u0275fac=function(){let B;return function(Ie){return(B||(B=w.n5z(q)))(Ie||q)}}();static#t=this.\u0275dir=w.lG2({type:q,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(oe,Ie){1&oe&&w.NdJ("input",function(Hn){return Ie.onChange(Hn.target.value)})("blur",function(){return Ie.onTouched()})},features:[w._Bn([ml]),w.qOj]})}return q})(),lo=(()=>{class q{static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275mod=w.oAB({type:q});static#n=this.\u0275inj=w.cJS({})}return q})();const ls=new w.OlP("NgModelWithFormControlWarning"),xs={provide:yt,useExisting:(0,w.Gpc)(()=>Di)};let Di=(()=>{class q extends yt{constructor(B,oe,Ie){super(),this.callSetDisabledState=Ie,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new w.vpe,this._setValidators(B),this._setAsyncValidators(oe)}ngOnChanges(B){this._checkFormPresent(),B.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(si(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(B){const oe=this.form.get(B.path);return sa(oe,B,this.callSetDisabledState),oe.updateValueAndValidity({emitEvent:!1}),this.directives.push(B),oe}getControl(B){return this.form.get(B.path)}removeControl(B){es(B.control||null,B,!1),function Pa(q,ee){const B=q.indexOf(ee);B>-1&&q.splice(B,1)}(this.directives,B)}addFormGroup(B){this._setUpFormContainer(B)}removeFormGroup(B){this._cleanUpFormContainer(B)}getFormGroup(B){return this.form.get(B.path)}addFormArray(B){this._setUpFormContainer(B)}removeFormArray(B){this._cleanUpFormContainer(B)}getFormArray(B){return this.form.get(B.path)}updateModel(B,oe){this.form.get(B.path).setValue(oe)}onSubmit(B){return this.submitted=!0,function ec(q,ee){q._syncPendingControls(),ee.forEach(B=>{const oe=B.control;"submit"===oe.updateOn&&oe._pendingChange&&(B.viewToModelUpdate(oe._pendingValue),oe._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(B),"dialog"===B?.target?.method}onReset(){this.resetForm()}resetForm(B=void 0){this.form.reset(B),this.submitted=!1}_updateDomValue(){this.directives.forEach(B=>{const oe=B.control,Ie=this.form.get(B.path);oe!==Ie&&(es(oe||null,B),(q=>q instanceof hi)(Ie)&&(sa(Ie,B,this.callSetDisabledState),B.control=Ie))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(B){const oe=this.form.get(B.path);(function $s(q,ee){yc(q,ee)})(oe,B),oe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(B){if(this.form){const oe=this.form.get(B.path);oe&&function co(q,ee){return si(q,ee)}(oe,B)&&oe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){yc(this.form,this),this._oldForm&&si(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(_t,10),w.Y36(Ge,10),w.Y36(jr,8))};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["","formGroup",""]],hostBindings:function(oe,Ie){1&oe&&w.NdJ("submit",function(Hn){return Ie.onSubmit(Hn)})("reset",function(){return Ie.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[w._Bn([xs]),w.qOj,w.TTD]})}return q})();const nc={provide:yt,useExisting:(0,w.Gpc)(()=>Br)};let Br=(()=>{class q extends Ms{constructor(B,oe,Ie){super(),this.name=null,this._parent=B,this._setValidators(oe),this._setAsyncValidators(Ie)}_checkParentType(){kn(this._parent)}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(yt,13),w.Y36(_t,10),w.Y36(Ge,10))};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[w._Bn([nc]),w.qOj]})}return q})();const zn={provide:yt,useExisting:(0,w.Gpc)(()=>xt)};let xt=(()=>{class q extends yt{constructor(B,oe,Ie){super(),this.name=null,this._parent=B,this._setValidators(oe),this._setAsyncValidators(Ie)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Ns(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){kn(this._parent)}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(yt,13),w.Y36(_t,10),w.Y36(Ge,10))};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[w._Bn([zn]),w.qOj]})}return q})();function kn(q){return!(q instanceof Br||q instanceof Di||q instanceof xt)}const Sr={provide:St,useExisting:(0,w.Gpc)(()=>Bi)};let Bi=(()=>{class q extends St{set isDisabled(B){}static#e=this._ngModelWarningSentOnce=!1;constructor(B,oe,Ie,Jt,Hn){super(),this._ngModelWarningConfig=Hn,this._added=!1,this.name=null,this.update=new w.vpe,this._ngModelWarningSent=!1,this._parent=B,this._setValidators(oe),this._setAsyncValidators(Ie),this.valueAccessor=function cs(q,ee){if(!ee)return null;let B,oe,Ie;return Array.isArray(ee),ee.forEach(Jt=>{Jt.constructor===mt?B=Jt:function Wi(q){return Object.getPrototypeOf(q.constructor)===Pe}(Jt)?oe=Jt:Ie=Jt}),Ie||oe||B||null}(0,Jt)}ngOnChanges(B){this._added||this._setUpControl(),function Ws(q,ee){if(!q.hasOwnProperty("model"))return!1;const B=q.model;return!!B.isFirstChange()||!Object.is(ee,B.currentValue)}(B,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(B){this.viewModel=B,this.update.emit(B)}get path(){return Ns(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(yt,13),w.Y36(_t,10),w.Y36(Ge,10),w.Y36(it,10),w.Y36(ls,8))};static#n=this.\u0275dir=w.lG2({type:q,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[w._Bn([Sr]),w.qOj,w.TTD]})}return q})();const Ks={provide:it,useExisting:(0,w.Gpc)(()=>xr),multi:!0};function qr(q,ee){return null==q?`${ee}`:(ee&&"object"==typeof ee&&(ee="Object"),`${q}: ${ee}`.slice(0,50))}let xr=(()=>{class q extends Pe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(B){this._compareWith=B}writeValue(B){this.value=B;const Ie=qr(this._getOptionId(B),B);this.setProperty("value",Ie)}registerOnChange(B){this.onChange=oe=>{this.value=this._getOptionValue(oe),B(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(B){for(const oe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(oe),B))return oe;return null}_getOptionValue(B){const oe=function $i(q){return q.split(":")[0]}(B);return this._optionMap.has(oe)?this._optionMap.get(oe):B}static#e=this.\u0275fac=function(){let B;return function(Ie){return(B||(B=w.n5z(q)))(Ie||q)}}();static#t=this.\u0275dir=w.lG2({type:q,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(oe,Ie){1&oe&&w.NdJ("change",function(Hn){return Ie.onChange(Hn.target.value)})("blur",function(){return Ie.onTouched()})},inputs:{compareWith:"compareWith"},features:[w._Bn([Ks]),w.qOj]})}return q})(),ai=(()=>{class q{constructor(B,oe,Ie){this._element=B,this._renderer=oe,this._select=Ie,this._select&&(this.id=this._select._registerOption())}set ngValue(B){null!=this._select&&(this._select._optionMap.set(this.id,B),this._setElementValue(qr(this.id,B)),this._select.writeValue(this._select.value))}set value(B){this._setElementValue(B),this._select&&this._select.writeValue(this._select.value)}_setElementValue(B){this._renderer.setProperty(this._element.nativeElement,"value",B)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(w.SBq),w.Y36(w.Qsj),w.Y36(xr,9))};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return q})();const Rs={provide:it,useExisting:(0,w.Gpc)(()=>ns),multi:!0};function On(q,ee){return null==q?`${ee}`:("string"==typeof ee&&(ee=`'${ee}'`),ee&&"object"==typeof ee&&(ee="Object"),`${q}: ${ee}`.slice(0,50))}let ns=(()=>{class q extends Pe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(B){this._compareWith=B}writeValue(B){let oe;if(this.value=B,Array.isArray(B)){const Ie=B.map(Jt=>this._getOptionId(Jt));oe=(Jt,Hn)=>{Jt._setSelected(Ie.indexOf(Hn.toString())>-1)}}else oe=(Ie,Jt)=>{Ie._setSelected(!1)};this._optionMap.forEach(oe)}registerOnChange(B){this.onChange=oe=>{const Ie=[],Jt=oe.selectedOptions;if(void 0!==Jt){const Hn=Jt;for(let Ki=0;Ki<Hn.length;Ki++){const zi=this._getOptionValue(Hn[Ki].value);Ie.push(zi)}}else{const Hn=oe.options;for(let Ki=0;Ki<Hn.length;Ki++){const ks=Hn[Ki];if(ks.selected){const zi=this._getOptionValue(ks.value);Ie.push(zi)}}}this.value=Ie,B(Ie)}}_registerOption(B){const oe=(this._idCounter++).toString();return this._optionMap.set(oe,B),oe}_getOptionId(B){for(const oe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(oe)._value,B))return oe;return null}_getOptionValue(B){const oe=function uo(q){return q.split(":")[0]}(B);return this._optionMap.has(oe)?this._optionMap.get(oe)._value:B}static#e=this.\u0275fac=function(){let B;return function(Ie){return(B||(B=w.n5z(q)))(Ie||q)}}();static#t=this.\u0275dir=w.lG2({type:q,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(oe,Ie){1&oe&&w.NdJ("change",function(Hn){return Ie.onChange(Hn.target)})("blur",function(){return Ie.onTouched()})},inputs:{compareWith:"compareWith"},features:[w._Bn([Rs]),w.qOj]})}return q})(),Zr=(()=>{class q{constructor(B,oe,Ie){this._element=B,this._renderer=oe,this._select=Ie,this._select&&(this.id=this._select._registerOption(this))}set ngValue(B){null!=this._select&&(this._value=B,this._setElementValue(On(this.id,B)),this._select.writeValue(this._select.value))}set value(B){this._select?(this._value=B,this._setElementValue(On(this.id,B)),this._select.writeValue(this._select.value)):this._setElementValue(B)}_setElementValue(B){this._renderer.setProperty(this._element.nativeElement,"value",B)}_setSelected(B){this._renderer.setProperty(this._element.nativeElement,"selected",B)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(w.SBq),w.Y36(w.Qsj),w.Y36(ns,9))};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return q})();let pi=(()=>{class q{constructor(){this._validator=ke}ngOnChanges(B){if(this.inputName in B){const oe=this.normalizeInput(B[this.inputName].currentValue);this._enabled=this.enabled(oe),this._validator=this._enabled?this.createValidator(oe):ke,this._onChange&&this._onChange()}}validate(B){return this._validator(B)}registerOnValidatorChange(B){this._onChange=B}enabled(B){return null!=B}static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275dir=w.lG2({type:q,features:[w.TTD]})}return q})();const Qs={provide:_t,useExisting:(0,w.Gpc)(()=>Un),multi:!0};let Un=(()=>{class q extends pi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=w.VuI,this.createValidator=B=>dt}enabled(B){return B}static#e=this.\u0275fac=function(){let B;return function(Ie){return(B||(B=w.n5z(q)))(Ie||q)}}();static#t=this.\u0275dir=w.lG2({type:q,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(oe,Ie){2&oe&&w.uIk("required",Ie._enabled?"":null)},inputs:{required:"required"},features:[w._Bn([Qs]),w.qOj]})}return q})();const xi={provide:_t,useExisting:(0,w.Gpc)(()=>vs),multi:!0};let vs=(()=>{class q extends pi{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=B=>function ys(q){return"number"==typeof q?q:parseInt(q,10)}(B),this.createValidator=B=>Bn(B)}static#e=this.\u0275fac=function(){let B;return function(Ie){return(B||(B=w.n5z(q)))(Ie||q)}}();static#t=this.\u0275dir=w.lG2({type:q,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(oe,Ie){2&oe&&w.uIk("minlength",Ie._enabled?Ie.minlength:null)},inputs:{minlength:"minlength"},features:[w._Bn([xi]),w.qOj]})}return q})(),xo=(()=>{class q{static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275mod=w.oAB({type:q});static#n=this.\u0275inj=w.cJS({imports:[lo]})}return q})();class go extends Tt{constructor(ee,B,oe){super(K(B),G(oe,B)),this.controls=ee,this._initObservables(),this._setUpdateStrategy(B),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(ee){return this.controls[this._adjustIndex(ee)]}push(ee,B={}){this.controls.push(ee),this._registerControl(ee),this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}insert(ee,B,oe={}){this.controls.splice(ee,0,B),this._registerControl(B),this.updateValueAndValidity({emitEvent:oe.emitEvent})}removeAt(ee,B={}){let oe=this._adjustIndex(ee);oe<0&&(oe=0),this.controls[oe]&&this.controls[oe]._registerOnCollectionChange(()=>{}),this.controls.splice(oe,1),this.updateValueAndValidity({emitEvent:B.emitEvent})}setControl(ee,B,oe={}){let Ie=this._adjustIndex(ee);Ie<0&&(Ie=0),this.controls[Ie]&&this.controls[Ie]._registerOnCollectionChange(()=>{}),this.controls.splice(Ie,1),B&&(this.controls.splice(Ie,0,B),this._registerControl(B)),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(ee,B={}){We(this,0,ee),ee.forEach((oe,Ie)=>{be(this,!1,Ie),this.at(Ie).setValue(oe,{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B)}patchValue(ee,B={}){null!=ee&&(ee.forEach((oe,Ie)=>{this.at(Ie)&&this.at(Ie).patchValue(oe,{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B))}reset(ee=[],B={}){this._forEachChild((oe,Ie)=>{oe.reset(ee[Ie],{onlySelf:!0,emitEvent:B.emitEvent})}),this._updatePristine(B),this._updateTouched(B),this.updateValueAndValidity(B)}getRawValue(){return this.controls.map(ee=>ee.getRawValue())}clear(ee={}){this.controls.length<1||(this._forEachChild(B=>B._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:ee.emitEvent}))}_adjustIndex(ee){return ee<0?ee+this.length:ee}_syncPendingControls(){let ee=this.controls.reduce((B,oe)=>!!oe._syncPendingControls()||B,!1);return ee&&this.updateValueAndValidity({onlySelf:!0}),ee}_forEachChild(ee){this.controls.forEach((B,oe)=>{ee(B,oe)})}_updateValue(){this.value=this.controls.filter(ee=>ee.enabled||this.disabled).map(ee=>ee.value)}_anyControls(ee){return this.controls.some(B=>B.enabled&&ee(B))}_setUpControls(){this._forEachChild(ee=>this._registerControl(ee))}_allControlsDisabled(){for(const ee of this.controls)if(ee.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(ee){ee.setParent(this),ee._registerOnCollectionChange(this._onCollectionChange)}_find(ee){return this.at(ee)??null}}function mo(q){return!!q&&(void 0!==q.asyncValidators||void 0!==q.validators||void 0!==q.updateOn)}let Ro=(()=>{class q{constructor(){this.useNonNullable=!1}get nonNullable(){const B=new q;return B.useNonNullable=!0,B}group(B,oe=null){const Ie=this._reduceControls(B);let Jt={};return mo(oe)?Jt=oe:null!==oe&&(Jt.validators=oe.validator,Jt.asyncValidators=oe.asyncValidator),new on(Ie,Jt)}record(B,oe=null){const Ie=this._reduceControls(B);return new $t(Ie,oe)}control(B,oe,Ie){let Jt={};return this.useNonNullable?(mo(oe)?Jt=oe:(Jt.validators=oe,Jt.asyncValidators=Ie),new hi(B,{...Jt,nonNullable:!0})):new hi(B,oe,Ie)}array(B,oe,Ie){const Jt=B.map(Hn=>this._createControl(Hn));return new go(Jt,oe,Ie)}_reduceControls(B){const oe={};return Object.keys(B).forEach(Ie=>{oe[Ie]=this._createControl(B[Ie])}),oe}_createControl(B){return B instanceof hi||B instanceof Tt?B:Array.isArray(B)?this.control(B[0],B.length>1?B[1]:null,B.length>2?B[2]:null):this.control(B)}static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275prov=w.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"})}return q})(),ua=(()=>{class q{static withConfig(B){return{ngModule:q,providers:[{provide:jr,useValue:B.callSetDisabledState??Yn}]}}static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275mod=w.oAB({type:q});static#n=this.\u0275inj=w.cJS({imports:[xo]})}return q})(),jc=(()=>{class q{static withConfig(B){return{ngModule:q,providers:[{provide:ls,useValue:B.warnOnNgModelWithFormControl??"always"},{provide:jr,useValue:B.callSetDisabledState??Yn}]}}static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275mod=w.oAB({type:q});static#n=this.\u0275inj=w.cJS({imports:[xo]})}return q})()},2614:()=>{const Gt=":";const Wn=function(De,...xe){if(Wn.translate){const at=Wn.translate(De,xe);De=at[0],xe=at[1]}let Re=Fr(De[0],De.raw[0]);for(let at=1;at<De.length;at++)Re+=xe[at-1]+Fr(De[at],De.raw[at]);return Re},gr=":";function Fr(De,xe){return xe.charAt(0)===gr?De.substring(function je(De,xe){for(let Re=1,at=1;Re<De.length;Re++,at++)if("\\"===xe[at])at++;else if(De[Re]===Gt)return Re;throw new Error(`Unterminated $localize metadata block in "${xe}".`)}(De,xe)+1):De}globalThis.$localize=Wn},6593:(Gt,ze,Q)=>{Q.d(ze,{Dx:()=>St,H7:()=>Xn,b2:()=>De,q6:()=>Dt,se:()=>ve});var w=Q(9468),ce=Q(6814);class u extends ce.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class we extends u{static makeCurrent(){(0,ce.HT)(new we)}onAndCancel(G,W,$){return G.addEventListener(W,$),()=>{G.removeEventListener(W,$)}}dispatchEvent(G,W){G.dispatchEvent(W)}remove(G){G.parentNode&&G.parentNode.removeChild(G)}createElement(G,W){return(W=W||this.getDefaultDocument()).createElement(G)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(G){return G.nodeType===Node.ELEMENT_NODE}isShadowRoot(G){return G instanceof DocumentFragment}getGlobalEventTarget(G,W){return"window"===W?window:"document"===W?G:"body"===W?G.body:null}getBaseHref(G){const W=function fe(){return de=de||document.querySelector("base"),de?de.getAttribute("href"):null}();return null==W?null:function He(V){Oe=Oe||document.createElement("a"),Oe.setAttribute("href",V);const G=Oe.pathname;return"/"===G.charAt(0)?G:`/${G}`}(W)}resetBaseElement(){de=null}getUserAgent(){return window.navigator.userAgent}getCookie(G){return(0,ce.Mx)(document.cookie,G)}}let Oe,de=null,re=(()=>{class V{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function($){return new($||V)};static#t=this.\u0275prov=w.Yz7({token:V,factory:V.\u0275fac})}return V})();const le=new w.OlP("EventManagerPlugins");let Se=(()=>{class V{constructor(W,$){this._zone=$,this._eventNameToPlugin=new Map,W.forEach(be=>{be.manager=this}),this._plugins=W.slice().reverse()}addEventListener(W,$,be){return this._findPluginFor($).addEventListener(W,$,be)}getZone(){return this._zone}_findPluginFor(W){let $=this._eventNameToPlugin.get(W);if($)return $;if($=this._plugins.find(We=>We.supports(W)),!$)throw new w.vHH(5101,!1);return this._eventNameToPlugin.set(W,$),$}static#e=this.\u0275fac=function($){return new($||V)(w.LFG(le),w.LFG(w.R0b))};static#t=this.\u0275prov=w.Yz7({token:V,factory:V.\u0275fac})}return V})();class et{constructor(G){this._doc=G}}const Pe="ng-app-id";let it=(()=>{class V{constructor(W,$,be,We={}){this.doc=W,this.appId=$,this.nonce=be,this.platformId=We,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ce.PM)(We),this.resetHostNodes()}addStyles(W){for(const $ of W)1===this.changeUsageCount($,1)&&this.onStyleAdded($)}removeStyles(W){for(const $ of W)this.changeUsageCount($,-1)<=0&&this.onStyleRemoved($)}ngOnDestroy(){const W=this.styleNodesInDOM;W&&(W.forEach($=>$.remove()),W.clear());for(const $ of this.getAllStyles())this.onStyleRemoved($);this.resetHostNodes()}addHost(W){this.hostNodes.add(W);for(const $ of this.getAllStyles())this.addStyleToHost(W,$)}removeHost(W){this.hostNodes.delete(W)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(W){for(const $ of this.hostNodes)this.addStyleToHost($,W)}onStyleRemoved(W){const $=this.styleRef;$.get(W)?.elements?.forEach(be=>be.remove()),$.delete(W)}collectServerRenderedStyles(){const W=this.doc.head?.querySelectorAll(`style[${Pe}="${this.appId}"]`);if(W?.length){const $=new Map;return W.forEach(be=>{null!=be.textContent&&$.set(be.textContent,be)}),$}return null}changeUsageCount(W,$){const be=this.styleRef;if(be.has(W)){const We=be.get(W);return We.usage+=$,We.usage}return be.set(W,{usage:$,elements:[]}),$}getStyleElement(W,$){const be=this.styleNodesInDOM,We=be?.get($);if(We?.parentNode===W)return be.delete($),We.removeAttribute(Pe),We;{const Tt=this.doc.createElement("style");return this.nonce&&Tt.setAttribute("nonce",this.nonce),Tt.textContent=$,this.platformIsServer&&Tt.setAttribute(Pe,this.appId),Tt}}addStyleToHost(W,$){const be=this.getStyleElement(W,$);W.appendChild(be);const We=this.styleRef,Tt=We.get($)?.elements;Tt?Tt.push(be):We.set($,{elements:[be],usage:1})}resetHostNodes(){const W=this.hostNodes;W.clear(),W.add(this.doc.head)}static#e=this.\u0275fac=function($){return new($||V)(w.LFG(ce.K0),w.LFG(w.AFp),w.LFG(w.Ojb,8),w.LFG(w.Lbi))};static#t=this.\u0275prov=w.Yz7({token:V,factory:V.\u0275fac})}return V})();const At={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Lt=/%COMP%/g,ot=new w.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ge(V,G){return G.map(W=>W.replace(Lt,V))}let ve=(()=>{class V{constructor(W,$,be,We,Tt,on,Xt,Dn=null){this.eventManager=W,this.sharedStylesHost=$,this.appId=be,this.removeStylesOnCompDestroy=We,this.doc=Tt,this.platformId=on,this.ngZone=Xt,this.nonce=Dn,this.rendererByCompId=new Map,this.platformIsServer=(0,ce.PM)(on),this.defaultRenderer=new Qe(W,Tt,Xt,this.platformIsServer)}createRenderer(W,$){if(!W||!$)return this.defaultRenderer;this.platformIsServer&&$.encapsulation===w.ifc.ShadowDom&&($={...$,encapsulation:w.ifc.Emulated});const be=this.getOrCreateRenderer(W,$);return be instanceof Bn?be.applyToHost(W):be instanceof Tn&&be.applyStyles(),be}getOrCreateRenderer(W,$){const be=this.rendererByCompId;let We=be.get($.id);if(!We){const Tt=this.doc,on=this.ngZone,Xt=this.eventManager,Dn=this.sharedStylesHost,$t=this.removeStylesOnCompDestroy,Pn=this.platformIsServer;switch($.encapsulation){case w.ifc.Emulated:We=new Bn(Xt,Dn,$,this.appId,$t,Tt,on,Pn);break;case w.ifc.ShadowDom:return new fn(Xt,Dn,W,$,Tt,on,this.nonce,Pn);default:We=new Tn(Xt,Dn,$,$t,Tt,on,Pn)}be.set($.id,We)}return We}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function($){return new($||V)(w.LFG(Se),w.LFG(it),w.LFG(w.AFp),w.LFG(ot),w.LFG(ce.K0),w.LFG(w.Lbi),w.LFG(w.R0b),w.LFG(w.Ojb))};static#t=this.\u0275prov=w.Yz7({token:V,factory:V.\u0275fac})}return V})();class Qe{constructor(G,W,$,be){this.eventManager=G,this.doc=W,this.ngZone=$,this.platformIsServer=be,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(G,W){return W?this.doc.createElementNS(At[W]||W,G):this.doc.createElement(G)}createComment(G){return this.doc.createComment(G)}createText(G){return this.doc.createTextNode(G)}appendChild(G,W){(dt(G)?G.content:G).appendChild(W)}insertBefore(G,W,$){G&&(dt(G)?G.content:G).insertBefore(W,$)}removeChild(G,W){G&&G.removeChild(W)}selectRootElement(G,W){let $="string"==typeof G?this.doc.querySelector(G):G;if(!$)throw new w.vHH(-5104,!1);return W||($.textContent=""),$}parentNode(G){return G.parentNode}nextSibling(G){return G.nextSibling}setAttribute(G,W,$,be){if(be){W=be+":"+W;const We=At[be];We?G.setAttributeNS(We,W,$):G.setAttribute(W,$)}else G.setAttribute(W,$)}removeAttribute(G,W,$){if($){const be=At[$];be?G.removeAttributeNS(be,W):G.removeAttribute(`${$}:${W}`)}else G.removeAttribute(W)}addClass(G,W){G.classList.add(W)}removeClass(G,W){G.classList.remove(W)}setStyle(G,W,$,be){be&(w.JOm.DashCase|w.JOm.Important)?G.style.setProperty(W,$,be&w.JOm.Important?"important":""):G.style[W]=$}removeStyle(G,W,$){$&w.JOm.DashCase?G.style.removeProperty(W):G.style[W]=""}setProperty(G,W,$){G[W]=$}setValue(G,W){G.nodeValue=W}listen(G,W,$){if("string"==typeof G&&!(G=(0,ce.q)().getGlobalEventTarget(this.doc,G)))throw new Error(`Unsupported event target ${G} for event ${W}`);return this.eventManager.addEventListener(G,W,this.decoratePreventDefault($))}decoratePreventDefault(G){return W=>{if("__ngUnwrap__"===W)return G;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>G(W)):G(W))&&W.preventDefault()}}}function dt(V){return"TEMPLATE"===V.tagName&&void 0!==V.content}class fn extends Qe{constructor(G,W,$,be,We,Tt,on,Xt){super(G,We,Tt,Xt),this.sharedStylesHost=W,this.hostEl=$,this.shadowRoot=$.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Dn=Ge(be.id,be.styles);for(const $t of Dn){const Pn=document.createElement("style");on&&Pn.setAttribute("nonce",on),Pn.textContent=$t,this.shadowRoot.appendChild(Pn)}}nodeOrShadowRoot(G){return G===this.hostEl?this.shadowRoot:G}appendChild(G,W){return super.appendChild(this.nodeOrShadowRoot(G),W)}insertBefore(G,W,$){return super.insertBefore(this.nodeOrShadowRoot(G),W,$)}removeChild(G,W){return super.removeChild(this.nodeOrShadowRoot(G),W)}parentNode(G){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(G)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Tn extends Qe{constructor(G,W,$,be,We,Tt,on,Xt){super(G,We,Tt,on),this.sharedStylesHost=W,this.removeStylesOnCompDestroy=be,this.styles=Xt?Ge(Xt,$.styles):$.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Bn extends Tn{constructor(G,W,$,be,We,Tt,on,Xt){const Dn=be+"-"+$.id;super(G,W,$,We,Tt,on,Xt,Dn),this.contentAttr=function vt(V){return"_ngcontent-%COMP%".replace(Lt,V)}(Dn),this.hostAttr=function _t(V){return"_nghost-%COMP%".replace(Lt,V)}(Dn)}applyToHost(G){this.applyStyles(),this.setAttribute(G,this.hostAttr,"")}createElement(G,W){const $=super.createElement(G,W);return super.setAttribute($,this.contentAttr,""),$}}let nr=(()=>{class V extends et{constructor(W){super(W)}supports(W){return!0}addEventListener(W,$,be){return W.addEventListener($,be,!1),()=>this.removeEventListener(W,$,be)}removeEventListener(W,$,be){return W.removeEventListener($,be)}static#e=this.\u0275fac=function($){return new($||V)(w.LFG(ce.K0))};static#t=this.\u0275prov=w.Yz7({token:V,factory:V.\u0275fac})}return V})();const pr=["alt","control","meta","shift"],ke={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},je={alt:V=>V.altKey,control:V=>V.ctrlKey,meta:V=>V.metaKey,shift:V=>V.shiftKey};let Je=(()=>{class V extends et{constructor(W){super(W)}supports(W){return null!=V.parseEventName(W)}addEventListener(W,$,be){const We=V.parseEventName($),Tt=V.eventCallback(We.fullKey,be,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ce.q)().onAndCancel(W,We.domEventName,Tt))}static parseEventName(W){const $=W.toLowerCase().split("."),be=$.shift();if(0===$.length||"keydown"!==be&&"keyup"!==be)return null;const We=V._normalizeKey($.pop());let Tt="",on=$.indexOf("code");if(on>-1&&($.splice(on,1),Tt="code."),pr.forEach(Dn=>{const $t=$.indexOf(Dn);$t>-1&&($.splice($t,1),Tt+=Dn+".")}),Tt+=We,0!=$.length||0===We.length)return null;const Xt={};return Xt.domEventName=be,Xt.fullKey=Tt,Xt}static matchEventFullKeyCode(W,$){let be=ke[W.key]||W.key,We="";return $.indexOf("code.")>-1&&(be=W.code,We="code."),!(null==be||!be)&&(be=be.toLowerCase()," "===be?be="space":"."===be&&(be="dot"),pr.forEach(Tt=>{Tt!==be&&(0,je[Tt])(W)&&(We+=Tt+".")}),We+=be,We===$)}static eventCallback(W,$,be){return We=>{V.matchEventFullKeyCode(We,W)&&be.runGuarded(()=>$(We))}}static _normalizeKey(W){return"esc"===W?"escape":W}static#e=this.\u0275fac=function($){return new($||V)(w.LFG(ce.K0))};static#t=this.\u0275prov=w.Yz7({token:V,factory:V.\u0275fac})}return V})();const Dt=(0,w.eFA)(w._c5,"browser",[{provide:w.Lbi,useValue:ce.bD},{provide:w.g9A,useValue:function Ht(){we.makeCurrent()},multi:!0},{provide:ce.K0,useFactory:function yn(){return(0,w.RDi)(document),document},deps:[]}]),Wn=new w.OlP(""),gr=[{provide:w.rWj,useClass:class Ee{addToWindow(G){w.dqk.getAngularTestability=($,be=!0)=>{const We=G.findTestabilityInTree($,be);if(null==We)throw new w.vHH(5103,!1);return We},w.dqk.getAllAngularTestabilities=()=>G.getAllTestabilities(),w.dqk.getAllAngularRootElements=()=>G.getAllRootElements(),w.dqk.frameworkStabilizers||(w.dqk.frameworkStabilizers=[]),w.dqk.frameworkStabilizers.push($=>{const be=w.dqk.getAllAngularTestabilities();let We=be.length,Tt=!1;const on=function(Xt){Tt=Tt||Xt,We--,0==We&&$(Tt)};be.forEach(Xt=>{Xt.whenStable(on)})})}findTestabilityInTree(G,W,$){return null==W?null:G.getTestability(W)??($?(0,ce.q)().isShadowRoot(W)?this.findTestabilityInTree(G,W.host,!0):this.findTestabilityInTree(G,W.parentElement,!0):null)}},deps:[]},{provide:w.lri,useClass:w.dDg,deps:[w.R0b,w.eoX,w.rWj]},{provide:w.dDg,useClass:w.dDg,deps:[w.R0b,w.eoX,w.rWj]}],Fr=[{provide:w.zSh,useValue:"root"},{provide:w.qLn,useFactory:function pn(){return new w.qLn},deps:[]},{provide:le,useClass:nr,multi:!0,deps:[ce.K0,w.R0b,w.Lbi]},{provide:le,useClass:Je,multi:!0,deps:[ce.K0]},ve,it,Se,{provide:w.FYo,useExisting:ve},{provide:ce.JF,useClass:re,deps:[]},[]];let De=(()=>{class V{constructor(W){}static withServerTransition(W){return{ngModule:V,providers:[{provide:w.AFp,useValue:W.appId}]}}static#e=this.\u0275fac=function($){return new($||V)(w.LFG(Wn,12))};static#t=this.\u0275mod=w.oAB({type:V});static#n=this.\u0275inj=w.cJS({providers:[...Fr,...gr],imports:[ce.ez,w.hGG]})}return V})(),St=(()=>{class V{constructor(W){this._doc=W}getTitle(){return this._doc.title}setTitle(W){this._doc.title=W||""}static#e=this.\u0275fac=function($){return new($||V)(w.LFG(ce.K0))};static#t=this.\u0275prov=w.Yz7({token:V,factory:function($){let be=null;return be=$?new $:function yt(){return new St((0,w.LFG)(ce.K0))}(),be},providedIn:"root"})}return V})();typeof window<"u"&&window;let Xn=(()=>{class V{static#e=this.\u0275fac=function($){return new($||V)};static#t=this.\u0275prov=w.Yz7({token:V,factory:function($){let be=null;return be=$?new($||V):w.LFG(_i),be},providedIn:"root"})}return V})(),_i=(()=>{class V extends Xn{constructor(W){super(),this._doc=W}sanitize(W,$){if(null==$)return null;switch(W){case w.q3G.NONE:return $;case w.q3G.HTML:return(0,w.qzn)($,"HTML")?(0,w.z3N)($):(0,w.EiD)(this._doc,String($)).toString();case w.q3G.STYLE:return(0,w.qzn)($,"Style")?(0,w.z3N)($):$;case w.q3G.SCRIPT:if((0,w.qzn)($,"Script"))return(0,w.z3N)($);throw new w.vHH(5200,!1);case w.q3G.URL:return(0,w.qzn)($,"URL")?(0,w.z3N)($):(0,w.mCW)(String($));case w.q3G.RESOURCE_URL:if((0,w.qzn)($,"ResourceURL"))return(0,w.z3N)($);throw new w.vHH(5201,!1);default:throw new w.vHH(5202,!1)}}bypassSecurityTrustHtml(W){return(0,w.JVY)(W)}bypassSecurityTrustStyle(W){return(0,w.L6k)(W)}bypassSecurityTrustScript(W){return(0,w.eBb)(W)}bypassSecurityTrustUrl(W){return(0,w.LAX)(W)}bypassSecurityTrustResourceUrl(W){return(0,w.pB0)(W)}static#e=this.\u0275fac=function($){return new($||V)(w.LFG(ce.K0))};static#t=this.\u0275prov=w.Yz7({token:V,factory:function($){let be=null;return be=$?new $:function Mr(V){return new _i(V.get(ce.K0))}(w.LFG(w.zs3)),be},providedIn:"root"})}return V})()},6024:(Gt,ze,Q)=>{Q.d(ze,{gz:()=>zn,m2:()=>$r,F0:()=>bo,rH:()=>Ci,Bz:()=>Qc,lC:()=>ai});var w=Q(9468),ce=Q(5592),u=Q(4674),de=Q(2459),fe=Q(2096),Oe=Q(5619),He=Q(7453),Ee=Q(2737),re=Q(7400),le=Q(9940),Se=Q(2714),et=Q(8251),Pe=Q(7103);function it(...C){const x=(0,le.yG)(C),D=(0,le.jO)(C),{args:P,keys:j}=(0,He.D)(C);if(0===P.length)return(0,de.D)([],x);const se=new ce.y(function At(C,x,D=Ee.y){return P=>{Lt(x,()=>{const{length:j}=C,se=new Array(j);let _e=j,$e=j;for(let Ue=0;Ue<j;Ue++)Lt(x,()=>{const jt=(0,de.D)(C[Ue],x);let Rn=!1;jt.subscribe((0,et.x)(P,Rr=>{se[Ue]=Rr,Rn||(Rn=!0,$e--),$e||P.next(D(se.slice()))},()=>{--_e||P.complete()}))},P)},P)}}(P,x,j?_e=>(0,Se.n)(j,_e):Ee.y));return D?se.pipe((0,re.Z)(D)):se}function Lt(C,x,D){C?(0,Pe.f)(D,C,x):x()}var Ft=Q(6973),Sn=Q(5211),Mt=Q(4829);function mt(C){return new ce.y(x=>{(0,Mt.Xf)(C()).subscribe(x)})}var ot=Q(8407);function vt(C,x){const D=(0,u.m)(C)?C:()=>C,P=j=>j.error(D());return new ce.y(x?j=>x.schedule(P,0,j):P)}var _t=Q(6232),Ge=Q(7394),ve=Q(9360);function Qe(){return(0,ve.e)((C,x)=>{let D=null;C._refCount++;const P=(0,et.x)(x,void 0,void 0,void 0,()=>{if(!C||C._refCount<=0||0<--C._refCount)return void(D=null);const j=C._connection,se=D;D=null,j&&(!se||j===se)&&j.unsubscribe(),x.unsubscribe()});C.subscribe(P),P.closed||(D=C.connect())})}class gt extends ce.y{constructor(x,D){super(),this.source=x,this.subjectFactory=D,this._subject=null,this._refCount=0,this._connection=null,(0,ve.A)(x)&&(this.lift=x.lift)}_subscribe(x){return this.getSubject().subscribe(x)}getSubject(){const x=this._subject;return(!x||x.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:x}=this;this._subject=this._connection=null,x?.unsubscribe()}connect(){let x=this._connection;if(!x){x=this._connection=new Ge.w0;const D=this.getSubject();x.add(this.source.subscribe((0,et.x)(D,void 0,()=>{this._teardown(),D.complete()},P=>{this._teardown(),D.error(P)},()=>this._teardown()))),x.closed&&(this._connection=null,x=Ge.w0.EMPTY)}return x}refCount(){return Qe()(this)}}var xn=Q(8645),dt=Q(6814),fn=Q(7398),Tn=Q(4664),Bn=Q(8180),nr=Q(7921),pr=Q(2181),ke=Q(1631);function je(C){return(0,ve.e)((x,D)=>{let P=!1;x.subscribe((0,et.x)(D,j=>{P=!0,D.next(j)},()=>{P||D.next(C),D.complete()}))})}function Je(C=Ve){return(0,ve.e)((x,D)=>{let P=!1;x.subscribe((0,et.x)(D,j=>{P=!0,D.next(j)},()=>P?D.complete():D.error(C())))})}function Ve(){return new Ft.K}function nt(C,x){const D=arguments.length>=2;return P=>P.pipe(C?(0,pr.h)((j,se)=>C(j,se,P)):Ee.y,(0,Bn.q)(1),D?je(x):Je(()=>new Ft.K))}function bt(C,x){return(0,u.m)(x)?(0,ke.z)(C,x,1):(0,ke.z)(C,1)}var Pt=Q(9397);function Ht(C){return(0,ve.e)((x,D)=>{let se,P=null,j=!1;P=x.subscribe((0,et.x)(D,void 0,void 0,_e=>{se=(0,Mt.Xf)(C(_e,Ht(C)(x))),P?(P.unsubscribe(),P=null,se.subscribe(D)):j=!0})),j&&(P.unsubscribe(),P=null,se.subscribe(D))})}function dn(C){return C<=0?()=>_t.E:(0,ve.e)((x,D)=>{let P=[];x.subscribe((0,et.x)(D,j=>{P.push(j),C<P.length&&P.shift()},()=>{for(const j of P)D.next(j);D.complete()},void 0,()=>{P=null}))})}var Wn=Q(975);function gr(C){return(0,ve.e)((x,D)=>{try{x.subscribe(D)}finally{D.add(C)}})}var Fr=Q(9773),De=Q(7537),xe=Q(6593);const Re="primary",at=Symbol("RouteTitle");class yt{constructor(x){this.params=x||{}}has(x){return Object.prototype.hasOwnProperty.call(this.params,x)}get(x){if(this.has(x)){const D=this.params[x];return Array.isArray(D)?D[0]:D}return null}getAll(x){if(this.has(x)){const D=this.params[x];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function St(C){return new yt(C)}function _r(C,x,D){const P=D.path.split("/");if(P.length>C.length||"full"===D.pathMatch&&(x.hasChildren()||P.length<C.length))return null;const j={};for(let se=0;se<P.length;se++){const _e=P[se],$e=C[se];if(_e.startsWith(":"))j[_e.substring(1)]=$e;else if(_e!==$e.path)return null}return{consumed:C.slice(0,P.length),posParams:j}}function an(C,x){const D=C?Object.keys(C):void 0,P=x?Object.keys(x):void 0;if(!D||!P||D.length!=P.length)return!1;let j;for(let se=0;se<D.length;se++)if(j=D[se],!Kt(C[j],x[j]))return!1;return!0}function Kt(C,x){if(Array.isArray(C)&&Array.isArray(x)){if(C.length!==x.length)return!1;const D=[...C].sort(),P=[...x].sort();return D.every((j,se)=>P[se]===j)}return C===x}function wn(C){return C.length>0?C[C.length-1]:null}function Jn(C){return function we(C){return!!C&&(C instanceof ce.y||(0,u.m)(C.lift)&&(0,u.m)(C.subscribe))}(C)?C:(0,w.QGY)(C)?(0,de.D)(Promise.resolve(C)):(0,fe.of)(C)}const tn={exact:function rr(C,x,D){if(!tt(C.segments,x.segments)||!mi(C.segments,x.segments,D)||C.numberOfChildren!==x.numberOfChildren)return!1;for(const P in x.children)if(!C.children[P]||!rr(C.children[P],x.children[P],D))return!1;return!0},subset:ir},Cr={exact:function mn(C,x){return an(C,x)},subset:function Kn(C,x){return Object.keys(x).length<=Object.keys(C).length&&Object.keys(x).every(D=>Kt(C[D],x[D]))},ignored:()=>!0};function yr(C,x,D){return tn[D.paths](C.root,x.root,D.matrixParams)&&Cr[D.queryParams](C.queryParams,x.queryParams)&&!("exact"===D.fragment&&C.fragment!==x.fragment)}function ir(C,x,D){return jn(C,x,x.segments,D)}function jn(C,x,D,P){if(C.segments.length>D.length){const j=C.segments.slice(0,D.length);return!(!tt(j,D)||x.hasChildren()||!mi(j,D,P))}if(C.segments.length===D.length){if(!tt(C.segments,D)||!mi(C.segments,D,P))return!1;for(const j in x.children)if(!C.children[j]||!ir(C.children[j],x.children[j],P))return!1;return!0}{const j=D.slice(0,C.segments.length),se=D.slice(C.segments.length);return!!(tt(C.segments,j)&&mi(C.segments,j,P)&&C.children[Re])&&jn(C.children[Re],x,se,P)}}function mi(C,x,D){return x.every((P,j)=>Cr[D](C[j].parameters,P.parameters))}class An{constructor(x=new Xn([],{}),D={},P=null){this.root=x,this.queryParams=D,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=St(this.queryParams)),this._queryParamMap}toString(){return Wt.serialize(this)}}class Xn{constructor(x,D){this.segments=x,this.children=D,this.parent=null,Object.values(D).forEach(P=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qt(this)}}class Mr{constructor(x,D){this.path=x,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=St(this.parameters)),this._parameterMap}toString(){return We(this)}}function tt(C,x){return C.length===x.length&&C.every((D,P)=>D.path===x[P].path)}let Ze=(()=>{class C{static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:function(){return new It},providedIn:"root"})}return C})();class It{parse(x){const D=new es(x);return new An(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(x){const D=`/${Vn(x.root,!0)}`,P=function on(C){const x=Object.keys(C).map(D=>{const P=C[D];return Array.isArray(P)?P.map(j=>`${V(D)}=${V(j)}`).join("&"):`${V(D)}=${V(P)}`}).filter(D=>!!D);return x.length?`?${x.join("&")}`:""}(x.queryParams);return`${D}${P}${"string"==typeof x.fragment?`#${function G(C){return encodeURI(C)}(x.fragment)}`:""}`}}const Wt=new It;function qt(C){return C.segments.map(x=>We(x)).join("/")}function Vn(C,x){if(!C.hasChildren())return qt(C);if(x){const D=C.children[Re]?Vn(C.children[Re],!1):"",P=[];return Object.entries(C.children).forEach(([j,se])=>{j!==Re&&P.push(`${j}:${Vn(se,!1)}`)}),P.length>0?`${D}(${P.join("//")})`:D}{const D=function Ce(C,x){let D=[];return Object.entries(C.children).forEach(([P,j])=>{P===Re&&(D=D.concat(x(j,P)))}),Object.entries(C.children).forEach(([P,j])=>{P!==Re&&(D=D.concat(x(j,P)))}),D}(C,(P,j)=>j===Re?[Vn(C.children[Re],!1)]:[`${j}:${Vn(P,!1)}`]);return 1===Object.keys(C.children).length&&null!=C.children[Re]?`${qt(C)}/${D[0]}`:`${qt(C)}/(${D.join("//")})`}}function K(C){return encodeURIComponent(C).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function V(C){return K(C).replace(/%3B/gi,";")}function W(C){return K(C).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $(C){return decodeURIComponent(C)}function be(C){return $(C.replace(/\+/g,"%20"))}function We(C){return`${W(C.path)}${function Tt(C){return Object.keys(C).map(x=>`;${W(x)}=${W(C[x])}`).join("")}(C.parameters)}`}const Xt=/^[^\/()?;#]+/;function Dn(C){const x=C.match(Xt);return x?x[0]:""}const $t=/^[^\/()?;=#]+/,jr=/^[^=?&#]+/,Ns=/^[^&#]+/;class es{constructor(x){this.url=x,this.remaining=x}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xn([],{}):new Xn([],this.parseChildren())}parseQueryParams(){const x={};if(this.consumeOptional("?"))do{this.parseQueryParam(x)}while(this.consumeOptional("&"));return x}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const x=[];for(this.peekStartsWith("(")||x.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),x.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(x.length>0||Object.keys(D).length>0)&&(P[Re]=new Xn(x,D)),P}parseSegment(){const x=Dn(this.remaining);if(""===x&&this.peekStartsWith(";"))throw new w.vHH(4009,!1);return this.capture(x),new Mr($(x),this.parseMatrixParams())}parseMatrixParams(){const x={};for(;this.consumeOptional(";");)this.parseParam(x);return x}parseParam(x){const D=function Pn(C){const x=C.match($t);return x?x[0]:""}(this.remaining);if(!D)return;this.capture(D);let P="";if(this.consumeOptional("=")){const j=Dn(this.remaining);j&&(P=j,this.capture(P))}x[$(D)]=$(P)}parseQueryParam(x){const D=function Yn(C){const x=C.match(jr);return x?x[0]:""}(this.remaining);if(!D)return;this.capture(D);let P="";if(this.consumeOptional("=")){const _e=function sa(C){const x=C.match(Ns);return x?x[0]:""}(this.remaining);_e&&(P=_e,this.capture(P))}const j=be(D),se=be(P);if(x.hasOwnProperty(j)){let _e=x[j];Array.isArray(_e)||(_e=[_e],x[j]=_e),_e.push(se)}else x[j]=se}parseParens(x){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=Dn(this.remaining),j=this.remaining[P.length];if("/"!==j&&")"!==j&&";"!==j)throw new w.vHH(4010,!1);let se;P.indexOf(":")>-1?(se=P.slice(0,P.indexOf(":")),this.capture(se),this.capture(":")):x&&(se=Re);const _e=this.parseChildren();D[se]=1===Object.keys(_e).length?_e[Re]:new Xn([],_e),this.consumeOptional("//")}return D}peekStartsWith(x){return this.remaining.startsWith(x)}consumeOptional(x){return!!this.peekStartsWith(x)&&(this.remaining=this.remaining.substring(x.length),!0)}capture(x){if(!this.consumeOptional(x))throw new w.vHH(4011,!1)}}function xa(C){return C.segments.length>0?new Xn([],{[Re]:C}):C}function Ra(C){const x={};for(const P of Object.keys(C.children)){const se=Ra(C.children[P]);if(P===Re&&0===se.segments.length&&se.hasChildren())for(const[_e,$e]of Object.entries(se.children))x[_e]=$e;else(se.segments.length>0||se.hasChildren())&&(x[P]=se)}return function yc(C){if(1===C.numberOfChildren&&C.children[Re]){const x=C.children[Re];return new Xn(C.segments.concat(x.segments),x.children)}return C}(new Xn(C.segments,x))}function si(C){return C instanceof An}function Pi(C){let x;const j=xa(function D(se){const _e={};for(const Ue of se.children){const jt=D(Ue);_e[Ue.outlet]=jt}const $e=new Xn(se.url,_e);return se===C&&(x=$e),$e}(C.root));return x??j}function ts(C,x,D,P){let j=C;for(;j.parent;)j=j.parent;if(0===x.length)return co(j,j,j,D,P);const se=function Os(C){if("string"==typeof C[0]&&1===C.length&&"/"===C[0])return new aa(!0,0,C);let x=0,D=!1;const P=C.reduce((j,se,_e)=>{if("object"==typeof se&&null!=se){if(se.outlets){const $e={};return Object.entries(se.outlets).forEach(([Ue,jt])=>{$e[Ue]="string"==typeof jt?jt.split("/"):jt}),[...j,{outlets:$e}]}if(se.segmentPath)return[...j,se.segmentPath]}return"string"!=typeof se?[...j,se]:0===_e?(se.split("/").forEach(($e,Ue)=>{0==Ue&&"."===$e||(0==Ue&&""===$e?D=!0:".."===$e?x++:""!=$e&&j.push($e))}),j):[...j,se]},[]);return new aa(D,x,P)}(x);if(se.toRoot())return co(j,j,new Xn([],{}),D,P);const _e=function di(C,x,D){if(C.isAbsolute)return new zs(x,!0,0);if(!D)return new zs(x,!1,NaN);if(null===D.parent)return new zs(D,!0,0);const P=er(C.commands[0])?0:1;return function Ws(C,x,D){let P=C,j=x,se=D;for(;se>j;){if(se-=j,P=P.parent,!P)throw new w.vHH(4005,!1);j=P.segments.length}return new zs(P,!1,j-se)}(D,D.segments.length-1+P,C.numberOfDoubleDots)}(se,j,C),$e=_e.processChildren?cs(_e.segmentGroup,_e.index,se.commands):ec(_e.segmentGroup,_e.index,se.commands);return co(j,_e.segmentGroup,$e,D,P)}function er(C){return"object"==typeof C&&null!=C&&!C.outlets&&!C.segmentPath}function $s(C){return"object"==typeof C&&null!=C&&C.outlets}function co(C,x,D,P,j){let _e,se={};P&&Object.entries(P).forEach(([Ue,jt])=>{se[Ue]=Array.isArray(jt)?jt.map(Rn=>`${Rn}`):`${jt}`}),_e=C===x?D:Ao(C,x,D);const $e=xa(Ra(_e));return new An($e,se,j)}function Ao(C,x,D){const P={};return Object.entries(C.children).forEach(([j,se])=>{P[j]=se===x?D:Ao(se,x,D)}),new Xn(C.segments,P)}class aa{constructor(x,D,P){if(this.isAbsolute=x,this.numberOfDoubleDots=D,this.commands=P,x&&P.length>0&&er(P[0]))throw new w.vHH(4003,!1);const j=P.find($s);if(j&&j!==wn(P))throw new w.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zs{constructor(x,D,P){this.segmentGroup=x,this.processChildren=D,this.index=P}}function ec(C,x,D){if(C||(C=new Xn([],{})),0===C.segments.length&&C.hasChildren())return cs(C,x,D);const P=function Pa(C,x,D){let P=0,j=x;const se={match:!1,pathIndex:0,commandIndex:0};for(;j<C.segments.length;){if(P>=D.length)return se;const _e=C.segments[j],$e=D[P];if($s($e))break;const Ue=`${$e}`,jt=P<D.length-1?D[P+1]:null;if(j>0&&void 0===Ue)break;if(Ue&&jt&&"object"==typeof jt&&void 0===jt.outlets){if(!ka(Ue,jt,_e))return se;P+=2}else{if(!ka(Ue,{},_e))return se;P++}j++}return{match:!0,pathIndex:j,commandIndex:P}}(C,x,D),j=D.slice(P.commandIndex);if(P.match&&P.pathIndex<C.segments.length){const se=new Xn(C.segments.slice(0,P.pathIndex),{});return se.children[Re]=new Xn(C.segments.slice(P.pathIndex),C.children),cs(se,0,j)}return P.match&&0===j.length?new Xn(C.segments,{}):P.match&&!C.hasChildren()?Ti(C,x,D):P.match?cs(C,0,j):Ti(C,x,D)}function cs(C,x,D){if(0===D.length)return new Xn(C.segments,{});{const P=function Wi(C){return $s(C[0])?C[0].outlets:{[Re]:C}}(D),j={};if(Object.keys(P).some(se=>se!==Re)&&C.children[Re]&&1===C.numberOfChildren&&0===C.children[Re].segments.length){const se=cs(C.children[Re],x,D);return new Xn(C.segments,se.children)}return Object.entries(P).forEach(([se,_e])=>{"string"==typeof _e&&(_e=[_e]),null!==_e&&(j[se]=ec(C.children[se],x,_e))}),Object.entries(C.children).forEach(([se,_e])=>{void 0===P[se]&&(j[se]=_e)}),new Xn(C.segments,j)}}function Ti(C,x,D){const P=C.segments.slice(0,x);let j=0;for(;j<D.length;){const se=D[j];if($s(se)){const Ue=tc(se.outlets);return new Xn(P,Ue)}if(0===j&&er(D[0])){P.push(new Mr(C.segments[x].path,qs(D[0]))),j++;continue}const _e=$s(se)?se.outlets[Re]:`${se}`,$e=j<D.length-1?D[j+1]:null;_e&&$e&&er($e)?(P.push(new Mr(_e,qs($e))),j+=2):(P.push(new Mr(_e,{})),j++)}return new Xn(P,{})}function tc(C){const x={};return Object.entries(C).forEach(([D,P])=>{"string"==typeof P&&(P=[P]),null!==P&&(x[D]=Ti(new Xn([],{}),0,P))}),x}function qs(C){const x={};return Object.entries(C).forEach(([D,P])=>x[D]=`${P}`),x}function ka(C,x,D){return C==D.path&&an(x,D.parameters)}const ca="imperative";class ki{constructor(x,D){this.id=x,this.url=D}}class hi extends ki{constructor(x,D,P="imperative",j=null){super(x,D),this.type=0,this.navigationTrigger=P,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $r extends ki{constructor(x,D,P){super(x,D),this.urlAfterRedirects=P,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Fi extends ki{constructor(x,D,P,j){super(x,D),this.reason=P,this.code=j,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ms extends ki{constructor(x,D,P,j){super(x,D),this.reason=P,this.code=j,this.type=16}}class vc extends ki{constructor(x,D,P,j){super(x,D),this.error=P,this.target=j,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class oi extends ki{constructor(x,D,P,j){super(x,D),this.urlAfterRedirects=P,this.state=j,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pl extends ki{constructor(x,D,P,j){super(x,D),this.urlAfterRedirects=P,this.state=j,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gi extends ki{constructor(x,D,P,j,se){super(x,D),this.urlAfterRedirects=P,this.state=j,this.shouldActivate=se,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gl extends ki{constructor(x,D,P,j){super(x,D),this.urlAfterRedirects=P,this.state=j,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fa extends ki{constructor(x,D,P,j){super(x,D),this.urlAfterRedirects=P,this.state=j,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ei{constructor(x){this.route=x,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class No{constructor(x){this.route=x,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class La{constructor(x){this.snapshot=x,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zo{constructor(x){this.snapshot=x,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ml{constructor(x){this.snapshot=x,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zs{constructor(x){this.snapshot=x,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class la{constructor(x,D,P){this.routerEvent=x,this.position=D,this.anchor=P,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ko{}class lo{constructor(x){this.url=x}}class sr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Lr,this.attachRef=null}}let Lr=(()=>{class C{constructor(){this.contexts=new Map}onChildOutletCreated(D,P){const j=this.getOrCreateContext(D);j.outlet=P,this.contexts.set(D,j)}onChildOutletDestroyed(D){const P=this.getContext(D);P&&(P.outlet=null,P.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let P=this.getContext(D);return P||(P=new sr,this.contexts.set(D,P)),P}getContext(D){return this.contexts.get(D)||null}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();class Li{constructor(x){this._root=x}get root(){return this._root.value}parent(x){const D=this.pathFromRoot(x);return D.length>1?D[D.length-2]:null}children(x){const D=ls(x,this._root);return D?D.children.map(P=>P.value):[]}firstChild(x){const D=ls(x,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(x){const D=fi(x,this._root);return D.length<2?[]:D[D.length-2].children.map(j=>j.value).filter(j=>j!==x)}pathFromRoot(x){return fi(x,this._root).map(D=>D.value)}}function ls(C,x){if(C===x.value)return x;for(const D of x.children){const P=ls(C,D);if(P)return P}return null}function fi(C,x){if(C===x.value)return[x];for(const D of x.children){const P=fi(C,D);if(P.length)return P.unshift(x),P}return[]}class ji{constructor(x,D){this.value=x,this.children=D}toString(){return`TreeNode(${this.value})`}}function xs(C){const x={};return C&&C.children.forEach(D=>x[D.value.outlet]=D),x}class Di extends Li{constructor(x,D){super(x),this.snapshot=D,Ks(this,x)}toString(){return this.snapshot.toString()}}function nc(C,x){const D=function Br(C,x){const _e=new Sr([],{},{},"",{},Re,x,null,{});return new Bi("",new ji(_e,[]))}(0,x),P=new Oe.X([new Mr("",{})]),j=new Oe.X({}),se=new Oe.X({}),_e=new Oe.X({}),$e=new Oe.X(""),Ue=new zn(P,j,_e,$e,se,Re,x,D.root);return Ue.snapshot=D.root,new Di(new ji(Ue,[]),D)}class zn{constructor(x,D,P,j,se,_e,$e,Ue){this.urlSubject=x,this.paramsSubject=D,this.queryParamsSubject=P,this.fragmentSubject=j,this.dataSubject=se,this.outlet=_e,this.component=$e,this._futureSnapshot=Ue,this.title=this.dataSubject?.pipe((0,fn.U)(jt=>jt[at]))??(0,fe.of)(void 0),this.url=x,this.params=D,this.queryParams=P,this.fragment=j,this.data=se}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,fn.U)(x=>St(x)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,fn.U)(x=>St(x)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function xt(C,x="emptyOnly"){const D=C.pathFromRoot;let P=0;if("always"!==x)for(P=D.length-1;P>=1;){const j=D[P],se=D[P-1];if(j.routeConfig&&""===j.routeConfig.path)P--;else{if(se.component)break;P--}}return function kn(C){return C.reduce((x,D)=>({params:{...x.params,...D.params},data:{...x.data,...D.data},resolve:{...D.data,...x.resolve,...D.routeConfig?.data,...D._resolvedData}}),{params:{},data:{},resolve:{}})}(D.slice(P))}class Sr{get title(){return this.data?.[at]}constructor(x,D,P,j,se,_e,$e,Ue,jt){this.url=x,this.params=D,this.queryParams=P,this.fragment=j,this.data=se,this.outlet=_e,this.component=$e,this.routeConfig=Ue,this._resolve=jt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=St(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=St(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Bi extends Li{constructor(x,D){super(D),this.url=x,Ks(this,D)}toString(){return qr(this._root)}}function Ks(C,x){x.value._routerState=C,x.children.forEach(D=>Ks(C,D))}function qr(C){const x=C.children.length>0?` { ${C.children.map(qr).join(", ")} } `:"";return`${C.value}${x}`}function $i(C){if(C.snapshot){const x=C.snapshot,D=C._futureSnapshot;C.snapshot=D,an(x.queryParams,D.queryParams)||C.queryParamsSubject.next(D.queryParams),x.fragment!==D.fragment&&C.fragmentSubject.next(D.fragment),an(x.params,D.params)||C.paramsSubject.next(D.params),function En(C,x){if(C.length!==x.length)return!1;for(let D=0;D<C.length;++D)if(!an(C[D],x[D]))return!1;return!0}(x.url,D.url)||C.urlSubject.next(D.url),an(x.data,D.data)||C.dataSubject.next(D.data)}else C.snapshot=C._futureSnapshot,C.dataSubject.next(C._futureSnapshot.data)}function xr(C,x){const D=an(C.params,x.params)&&function _i(C,x){return tt(C,x)&&C.every((D,P)=>an(D.parameters,x[P].parameters))}(C.url,x.url);return D&&!(!C.parent!=!x.parent)&&(!C.parent||xr(C.parent,x.parent))}let ai=(()=>{class C{constructor(){this.activated=null,this._activatedRoute=null,this.name=Re,this.activateEvents=new w.vpe,this.deactivateEvents=new w.vpe,this.attachEvents=new w.vpe,this.detachEvents=new w.vpe,this.parentContexts=(0,w.f3M)(Lr),this.location=(0,w.f3M)(w.s_b),this.changeDetector=(0,w.f3M)(w.sBO),this.environmentInjector=(0,w.f3M)(w.lqb),this.inputBinder=(0,w.f3M)(On,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(D){if(D.name){const{firstChange:P,previousValue:j}=D.name;if(P)return;this.isTrackedInParentContexts(j)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(j)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(D){return this.parentContexts.getContext(D)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const D=this.parentContexts.getContext(this.name);D?.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w.vHH(4012,!1);this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,P){this.activated=D,this._activatedRoute=P,this.location.insert(D.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,P){if(this.isActivated)throw new w.vHH(4013,!1);this._activatedRoute=D;const j=this.location,_e=D.snapshot.component,$e=this.parentContexts.getOrCreateContext(this.name).children,Ue=new Rs(D,$e,j.injector);this.activated=j.createComponent(_e,{index:j.length,injector:Ue,environmentInjector:P??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275dir=w.lG2({type:C,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[w.TTD]})}return C})();class Rs{constructor(x,D,P){this.route=x,this.childContexts=D,this.parent=P}get(x,D){return x===zn?this.route:x===Lr?this.childContexts:this.parent.get(x,D)}}const On=new w.OlP("");let uo=(()=>{class C{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(D){this.unsubscribeFromRouteData(D),this.subscribeToRouteData(D)}unsubscribeFromRouteData(D){this.outletDataSubscriptions.get(D)?.unsubscribe(),this.outletDataSubscriptions.delete(D)}subscribeToRouteData(D){const{activatedRoute:P}=D,j=it([P.queryParams,P.params,P.data]).pipe((0,Tn.w)(([se,_e,$e],Ue)=>($e={...se,..._e,...$e},0===Ue?(0,fe.of)($e):Promise.resolve($e)))).subscribe(se=>{if(!D.isActivated||!D.activatedComponentRef||D.activatedRoute!==P||null===P.component)return void this.unsubscribeFromRouteData(D);const _e=(0,w.qFp)(P.component);if(_e)for(const{templateName:$e}of _e.inputs)D.activatedComponentRef.setInput($e,se[$e]);else this.unsubscribeFromRouteData(D)});this.outletDataSubscriptions.set(D,j)}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac})}return C})();function ns(C,x,D){if(D&&C.shouldReuseRoute(x.value,D.value.snapshot)){const P=D.value;P._futureSnapshot=x.value;const j=function Zr(C,x,D){return x.children.map(P=>{for(const j of D.children)if(C.shouldReuseRoute(P.value,j.value.snapshot))return ns(C,P,j);return ns(C,P)})}(C,x,D);return new ji(P,j)}{if(C.shouldAttach(x.value)){const se=C.retrieve(x.value);if(null!==se){const _e=se.route;return _e.value._futureSnapshot=x.value,_e.children=x.children.map($e=>ns(C,$e)),_e}}const P=function ys(C){return new zn(new Oe.X(C.url),new Oe.X(C.params),new Oe.X(C.queryParams),new Oe.X(C.fragment),new Oe.X(C.data),C.outlet,C.component,C)}(x.value),j=x.children.map(se=>ns(C,se));return new ji(P,j)}}const Ys="ngNavigationCancelingError";function pi(C,x){const{redirectTo:D,navigationBehaviorOptions:P}=si(x)?{redirectTo:x,navigationBehaviorOptions:void 0}:x,j=Oo(!1,0,x);return j.url=D,j.navigationBehaviorOptions=P,j}function Oo(C,x,D){const P=new Error("NavigationCancelingError: "+(C||""));return P[Ys]=!0,P.cancellationCode=x,D&&(P.url=D),P}function fo(C){return C&&C[Ys]}let rs=(()=>{class C{static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275cmp=w.Xpm({type:C,selectors:[["ng-component"]],standalone:!0,features:[w.jDz],decls:1,vars:0,template:function(P,j){1&P&&w._UZ(0,"router-outlet")},dependencies:[ai],encapsulation:2})}return C})();function Js(C){const x=C.children&&C.children.map(Js),D=x?{...C,children:x}:{...C};return!D.component&&!D.loadComponent&&(x||D.loadChildren)&&D.outlet&&D.outlet!==Re&&(D.component=rs),D}function vr(C){return C.outlet||Re}function ei(C){if(!C)return null;if(C.routeConfig?._injector)return C.routeConfig._injector;for(let x=C.parent;x;x=x.parent){const D=x.routeConfig;if(D?._loadedInjector)return D._loadedInjector;if(D?._injector)return D._injector}return null}class xo{constructor(x,D,P,j,se){this.routeReuseStrategy=x,this.futureState=D,this.currState=P,this.forwardEvent=j,this.inputBindingEnabled=se}activate(x){const D=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,P,x),$i(this.futureState.root),this.activateChildRoutes(D,P,x)}deactivateChildRoutes(x,D,P){const j=xs(D);x.children.forEach(se=>{const _e=se.value.outlet;this.deactivateRoutes(se,j[_e],P),delete j[_e]}),Object.values(j).forEach(se=>{this.deactivateRouteAndItsChildren(se,P)})}deactivateRoutes(x,D,P){const j=x.value,se=D?D.value:null;if(j===se)if(j.component){const _e=P.getContext(j.outlet);_e&&this.deactivateChildRoutes(x,D,_e.children)}else this.deactivateChildRoutes(x,D,P);else se&&this.deactivateRouteAndItsChildren(D,P)}deactivateRouteAndItsChildren(x,D){x.value.component&&this.routeReuseStrategy.shouldDetach(x.value.snapshot)?this.detachAndStoreRouteSubtree(x,D):this.deactivateRouteAndOutlet(x,D)}detachAndStoreRouteSubtree(x,D){const P=D.getContext(x.value.outlet),j=P&&x.value.component?P.children:D,se=xs(x);for(const _e of Object.keys(se))this.deactivateRouteAndItsChildren(se[_e],j);if(P&&P.outlet){const _e=P.outlet.detach(),$e=P.children.onOutletDeactivated();this.routeReuseStrategy.store(x.value.snapshot,{componentRef:_e,route:x,contexts:$e})}}deactivateRouteAndOutlet(x,D){const P=D.getContext(x.value.outlet),j=P&&x.value.component?P.children:D,se=xs(x);for(const _e of Object.keys(se))this.deactivateRouteAndItsChildren(se[_e],j);P&&(P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated()),P.attachRef=null,P.route=null)}activateChildRoutes(x,D,P){const j=xs(D);x.children.forEach(se=>{this.activateRoutes(se,j[se.value.outlet],P),this.forwardEvent(new Zs(se.value.snapshot))}),x.children.length&&this.forwardEvent(new Zo(x.value.snapshot))}activateRoutes(x,D,P){const j=x.value,se=D?D.value:null;if($i(j),j===se)if(j.component){const _e=P.getOrCreateContext(j.outlet);this.activateChildRoutes(x,D,_e.children)}else this.activateChildRoutes(x,D,P);else if(j.component){const _e=P.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const $e=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),_e.children.onOutletReAttached($e.contexts),_e.attachRef=$e.componentRef,_e.route=$e.route.value,_e.outlet&&_e.outlet.attach($e.componentRef,$e.route.value),$i($e.route.value),this.activateChildRoutes(x,null,_e.children)}else{const $e=ei(j.snapshot);_e.attachRef=null,_e.route=j,_e.injector=$e,_e.outlet&&_e.outlet.activateWith(j,_e.injector),this.activateChildRoutes(x,null,_e.children)}}else this.activateChildRoutes(x,null,P)}}class go{constructor(x){this.path=x,this.route=this.path[this.path.length-1]}}class ci{constructor(x,D){this.component=x,this.route=D}}function yi(C,x,D){const P=C._root;return Va(P,x?x._root:null,D,[P.value])}function Ro(C,x){const D=Symbol(),P=x.get(C,D);return P===D?"function"!=typeof C||(0,w.Z0I)(C)?x.get(C):C:P}function Va(C,x,D,P,j={canDeactivateChecks:[],canActivateChecks:[]}){const se=xs(x);return C.children.forEach(_e=>{(function bc(C,x,D,P,j={canDeactivateChecks:[],canActivateChecks:[]}){const se=C.value,_e=x?x.value:null,$e=D?D.getContext(C.value.outlet):null;if(_e&&se.routeConfig===_e.routeConfig){const Ue=function Qr(C,x,D){if("function"==typeof D)return D(C,x);switch(D){case"pathParamsChange":return!tt(C.url,x.url);case"pathParamsOrQueryParamsChange":return!tt(C.url,x.url)||!an(C.queryParams,x.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xr(C,x)||!an(C.queryParams,x.queryParams);default:return!xr(C,x)}}(_e,se,se.routeConfig.runGuardsAndResolvers);Ue?j.canActivateChecks.push(new go(P)):(se.data=_e.data,se._resolvedData=_e._resolvedData),Va(C,x,se.component?$e?$e.children:null:D,P,j),Ue&&$e&&$e.outlet&&$e.outlet.isActivated&&j.canDeactivateChecks.push(new ci($e.outlet.component,_e))}else _e&&ua(x,$e,j),j.canActivateChecks.push(new go(P)),Va(C,null,se.component?$e?$e.children:null:D,P,j)})(_e,se[_e.value.outlet],D,P.concat([_e.value]),j),delete se[_e.value.outlet]}),Object.entries(se).forEach(([_e,$e])=>ua($e,D.getContext(_e),j)),j}function ua(C,x,D){const P=xs(C),j=C.value;Object.entries(P).forEach(([se,_e])=>{ua(_e,j.component?x?x.children.getContext(se):null:x,D)}),D.canDeactivateChecks.push(new ci(j.component&&x&&x.outlet&&x.outlet.isActivated?x.outlet.component:null,j))}function jc(C){return"function"==typeof C}function ks(C){return C instanceof Ft.K||"EmptyError"===C?.name}const zi=Symbol("INITIAL_VALUE");function Vi(){return(0,Tn.w)(C=>it(C.map(x=>x.pipe((0,Bn.q)(1),(0,nr.O)(zi)))).pipe((0,fn.U)(x=>{for(const D of x)if(!0!==D){if(D===zi)return zi;if(!1===D||D instanceof An)return D}return!0}),(0,pr.h)(x=>x!==zi),(0,Bn.q)(1)))}function eo(C){return(0,ot.z)((0,Pt.b)(x=>{if(si(x))throw pi(0,x)}),(0,fn.U)(x=>!0===x))}class _o{constructor(x){this.segmentGroup=x||null}}class zc{constructor(x){this.urlTree=x}}function ur(C){return vt(new _o(C))}function ws(C){return vt(new zc(C))}class Po{constructor(x,D){this.urlSerializer=x,this.urlTree=D}noMatchError(x){return new w.vHH(4002,!1)}lineralizeSegments(x,D){let P=[],j=D.root;for(;;){if(P=P.concat(j.segments),0===j.numberOfChildren)return(0,fe.of)(P);if(j.numberOfChildren>1||!j.children[Re])return vt(new w.vHH(4e3,!1));j=j.children[Re]}}applyRedirectCommands(x,D,P){return this.applyRedirectCreateUrlTree(D,this.urlSerializer.parse(D),x,P)}applyRedirectCreateUrlTree(x,D,P,j){const se=this.createSegmentGroup(x,D.root,P,j);return new An(se,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(x,D){const P={};return Object.entries(x).forEach(([j,se])=>{if("string"==typeof se&&se.startsWith(":")){const $e=se.substring(1);P[j]=D[$e]}else P[j]=se}),P}createSegmentGroup(x,D,P,j){const se=this.createSegments(x,D.segments,P,j);let _e={};return Object.entries(D.children).forEach(([$e,Ue])=>{_e[$e]=this.createSegmentGroup(x,Ue,P,j)}),new Xn(se,_e)}createSegments(x,D,P,j){return D.map(se=>se.path.startsWith(":")?this.findPosParam(x,se,j):this.findOrReturn(se,P))}findPosParam(x,D,P){const j=P[D.path.substring(1)];if(!j)throw new w.vHH(4001,!1);return j}findOrReturn(x,D){let P=0;for(const j of D){if(j.path===x.path)return D.splice(P),j;P++}return x}}const ha={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fs(C,x,D,P,j){const se=fa(C,x,D);return se.matched?(P=function Qs(C,x){return C.providers&&!C._injector&&(C._injector=(0,w.MMx)(C.providers,x,`Route: ${C.path}`)),C._injector??x}(x,P),function ti(C,x,D,P){const j=x.canMatch;if(!j||0===j.length)return(0,fe.of)(!0);const se=j.map(_e=>{const $e=Ro(_e,C);return Jn(function Jt(C){return C&&jc(C.canMatch)}($e)?$e.canMatch(x,D):C.runInContext(()=>$e(x,D)))});return(0,fe.of)(se).pipe(Vi(),eo())}(P,x,D).pipe((0,fn.U)(_e=>!0===_e?se:{...ha}))):(0,fe.of)(se)}function fa(C,x,D){if(""===x.path)return"full"===x.pathMatch&&(C.hasChildren()||D.length>0)?{...ha}:{matched:!0,consumedSegments:[],remainingSegments:D,parameters:{},positionalParamSegments:{}};const j=(x.matcher||_r)(D,C,x);if(!j)return{...ha};const se={};Object.entries(j.posParams??{}).forEach(([$e,Ue])=>{se[$e]=Ue.path});const _e=j.consumed.length>0?{...se,...j.consumed[j.consumed.length-1].parameters}:se;return{matched:!0,consumedSegments:j.consumed,remainingSegments:D.slice(j.consumed.length),parameters:_e,positionalParamSegments:j.posParams??{}}}function Jo(C,x,D,P){return D.length>0&&function Wc(C,x,D){return D.some(P=>Ec(C,x,P)&&vr(P)!==Re)}(C,D,P)?{segmentGroup:new Xn(x,Ls(P,new Xn(D,C.children))),slicedSegments:[]}:0===D.length&&function ic(C,x,D){return D.some(P=>Ec(C,x,P))}(C,D,P)?{segmentGroup:new Xn(C.segments,Tc(C,0,D,P,C.children)),slicedSegments:D}:{segmentGroup:new Xn(C.segments,C.children),slicedSegments:D}}function Tc(C,x,D,P,j){const se={};for(const _e of P)if(Ec(C,D,_e)&&!j[vr(_e)]){const $e=new Xn([],{});se[vr(_e)]=$e}return{...j,...se}}function Ls(C,x){const D={};D[Re]=x;for(const P of C)if(""===P.path&&vr(P)!==Re){const j=new Xn([],{});D[vr(P)]=j}return D}function Ec(C,x,D){return(!(C.hasChildren()||x.length>0)||"full"!==D.pathMatch)&&""===D.path}class Wu{constructor(x,D,P,j,se,_e,$e){this.injector=x,this.configLoader=D,this.rootComponentType=P,this.config=j,this.urlTree=se,this.paramsInheritanceStrategy=_e,this.urlSerializer=$e,this.allowRedirects=!0,this.applyRedirects=new Po(this.urlSerializer,this.urlTree)}noMatchError(x){return new w.vHH(4002,!1)}recognize(){const x=Jo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,x,Re).pipe(Ht(D=>{if(D instanceof zc)return this.allowRedirects=!1,this.urlTree=D.urlTree,this.match(D.urlTree);throw D instanceof _o?this.noMatchError(D):D}),(0,fn.U)(D=>{const P=new Sr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Re,this.rootComponentType,null,{}),j=new ji(P,D),se=new Bi("",j),_e=function oa(C,x,D=null,P=null){return ts(Pi(C),x,D,P)}(P,[],this.urlTree.queryParams,this.urlTree.fragment);return _e.queryParams=this.urlTree.queryParams,se.url=this.urlSerializer.serialize(_e),this.inheritParamsAndData(se._root),{state:se,tree:_e}}))}match(x){return this.processSegmentGroup(this.injector,this.config,x.root,Re).pipe(Ht(P=>{throw P instanceof _o?this.noMatchError(P):P}))}inheritParamsAndData(x){const D=x.value,P=xt(D,this.paramsInheritanceStrategy);D.params=Object.freeze(P.params),D.data=Object.freeze(P.data),x.children.forEach(j=>this.inheritParamsAndData(j))}processSegmentGroup(x,D,P,j){return 0===P.segments.length&&P.hasChildren()?this.processChildren(x,D,P):this.processSegment(x,D,P,P.segments,j,!0)}processChildren(x,D,P){const j=[];for(const se of Object.keys(P.children))"primary"===se?j.unshift(se):j.push(se);return(0,de.D)(j).pipe(bt(se=>{const _e=P.children[se],$e=function Xs(C,x){const D=C.filter(P=>vr(P)===x);return D.push(...C.filter(P=>vr(P)!==x)),D}(D,se);return this.processSegmentGroup(x,$e,_e,se)}),function yn(C,x){return(0,ve.e)(function pn(C,x,D,P,j){return(se,_e)=>{let $e=D,Ue=x,jt=0;se.subscribe((0,et.x)(_e,Rn=>{const Rr=jt++;Ue=$e?C(Ue,Rn,Rr):($e=!0,Rn),P&&_e.next(Ue)},j&&(()=>{$e&&_e.next(Ue),_e.complete()})))}}(C,x,arguments.length>=2,!0))}((se,_e)=>(se.push(..._e),se)),je(null),function Dt(C,x){const D=arguments.length>=2;return P=>P.pipe(C?(0,pr.h)((j,se)=>C(j,se,P)):Ee.y,dn(1),D?je(x):Je(()=>new Ft.K))}(),(0,ke.z)(se=>{if(null===se)return ur(P);const _e=vo(se);return function au(C){C.sort((x,D)=>x.value.outlet===Re?-1:D.value.outlet===Re?1:x.value.outlet.localeCompare(D.value.outlet))}(_e),(0,fe.of)(_e)}))}processSegment(x,D,P,j,se,_e){return(0,de.D)(D).pipe(bt($e=>this.processSegmentAgainstRoute($e._injector??x,D,$e,P,j,se,_e).pipe(Ht(Ue=>{if(Ue instanceof _o)return(0,fe.of)(null);throw Ue}))),nt($e=>!!$e),Ht($e=>{if(ks($e))return function Pl(C,x,D){return 0===x.length&&!C.children[D]}(P,j,se)?(0,fe.of)([]):ur(P);throw $e}))}processSegmentAgainstRoute(x,D,P,j,se,_e,$e){return function su(C,x,D,P){return!!(vr(C)===P||P!==Re&&Ec(x,D,C))&&("**"===C.path||fa(x,C,D).matched)}(P,j,se,_e)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(x,j,P,se,_e,$e):$e&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(x,j,D,P,se,_e):ur(j):ur(j)}expandSegmentAgainstRouteUsingRedirect(x,D,P,j,se,_e){return"**"===j.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(x,P,j,_e):this.expandRegularSegmentAgainstRouteUsingRedirect(x,D,P,j,se,_e)}expandWildCardWithParamsAgainstRouteUsingRedirect(x,D,P,j){const se=this.applyRedirects.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?ws(se):this.applyRedirects.lineralizeSegments(P,se).pipe((0,ke.z)(_e=>{const $e=new Xn(_e,{});return this.processSegment(x,D,$e,_e,j,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(x,D,P,j,se,_e){const{matched:$e,consumedSegments:Ue,remainingSegments:jt,positionalParamSegments:Rn}=fa(D,j,se);if(!$e)return ur(D);const Rr=this.applyRedirects.applyRedirectCommands(Ue,j.redirectTo,Rn);return j.redirectTo.startsWith("/")?ws(Rr):this.applyRedirects.lineralizeSegments(j,Rr).pipe((0,ke.z)(dr=>this.processSegment(x,P,D,dr.concat(jt),_e,!1)))}matchSegmentAgainstRoute(x,D,P,j,se,_e){let $e;if("**"===P.path){const Ue=j.length>0?wn(j).parameters:{},jt=new Sr(j,Ue,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,M(P),vr(P),P.component??P._loadedComponent??null,P,ne(P));$e=(0,fe.of)({snapshot:jt,consumedSegments:[],remainingSegments:[]}),D.children={}}else $e=Fs(D,P,j,x).pipe((0,fn.U)(({matched:Ue,consumedSegments:jt,remainingSegments:Rn,parameters:Rr})=>Ue?{snapshot:new Sr(jt,Rr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,M(P),vr(P),P.component??P._loadedComponent??null,P,ne(P)),consumedSegments:jt,remainingSegments:Rn}:null));return $e.pipe((0,Tn.w)(Ue=>null===Ue?ur(D):this.getChildConfig(x=P._injector??x,P,j).pipe((0,Tn.w)(({routes:jt})=>{const Rn=P._loadedInjector??x,{snapshot:Rr,consumedSegments:dr,remainingSegments:Dc}=Ue,{segmentGroup:Wr,slicedSegments:ya}=Jo(D,dr,Dc,jt);if(0===ya.length&&Wr.hasChildren())return this.processChildren(Rn,jt,Wr).pipe((0,fn.U)(ea=>null===ea?null:[new ji(Rr,ea)]));if(0===jt.length&&0===ya.length)return(0,fe.of)([new ji(Rr,[])]);const Vr=vr(P)===se;return this.processSegment(Rn,jt,Wr,ya,Vr?Re:se,!0).pipe((0,fn.U)(ea=>[new ji(Rr,ea)]))}))))}getChildConfig(x,D,P){return D.children?(0,fe.of)({routes:D.children,injector:x}):D.loadChildren?void 0!==D._loadedRoutes?(0,fe.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):function Ui(C,x,D,P){const j=x.canLoad;if(void 0===j||0===j.length)return(0,fe.of)(!0);const se=j.map(_e=>{const $e=Ro(_e,C);return Jn(function ee(C){return C&&jc(C.canLoad)}($e)?$e.canLoad(x,D):C.runInContext(()=>$e(x,D)))});return(0,fe.of)(se).pipe(Vi(),eo())}(x,D,P).pipe((0,ke.z)(j=>j?this.configLoader.loadChildren(x,D).pipe((0,Pt.b)(se=>{D._loadedRoutes=se.routes,D._loadedInjector=se.injector})):function yo(C){return vt(Oo(!1,3))}())):(0,fe.of)({routes:[],injector:x})}}function qc(C){const x=C.value.routeConfig;return x&&""===x.path}function vo(C){const x=[],D=new Set;for(const P of C){if(!qc(P)){x.push(P);continue}const j=x.find(se=>P.value.routeConfig===se.value.routeConfig);void 0!==j?(j.children.push(...P.children),D.add(j)):x.push(P)}for(const P of D){const j=vo(P.children);x.push(new ji(P.value,j))}return x.filter(P=>!D.has(P))}function M(C){return C.data||{}}function ne(C){return C.resolve||{}}function mr(C){return"string"==typeof C.title||null===C.title}function br(C){return(0,Tn.w)(x=>{const D=C(x);return D?(0,de.D)(D).pipe((0,fn.U)(()=>x)):(0,fe.of)(x)})}const or=new w.OlP("ROUTES");let qn=(()=>{class C{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,w.f3M)(w.Sil)}loadComponent(D){if(this.componentLoaders.get(D))return this.componentLoaders.get(D);if(D._loadedComponent)return(0,fe.of)(D._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(D);const P=Jn(D.loadComponent()).pipe((0,fn.U)(vi),(0,Pt.b)(se=>{this.onLoadEndListener&&this.onLoadEndListener(D),D._loadedComponent=se}),gr(()=>{this.componentLoaders.delete(D)})),j=new gt(P,()=>new xn.x).pipe(Qe());return this.componentLoaders.set(D,j),j}loadChildren(D,P){if(this.childrenLoaders.get(P))return this.childrenLoaders.get(P);if(P._loadedRoutes)return(0,fe.of)({routes:P._loadedRoutes,injector:P._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(P);const se=function Kr(C,x,D,P){return Jn(C.loadChildren()).pipe((0,fn.U)(vi),(0,ke.z)(j=>j instanceof w.YKP||Array.isArray(j)?(0,fe.of)(j):(0,de.D)(x.compileModuleAsync(j))),(0,fn.U)(j=>{P&&P(C);let se,_e,$e=!1;return Array.isArray(j)?(_e=j,!0):(se=j.create(D).injector,_e=se.get(or,[],{optional:!0,self:!0}).flat()),{routes:_e.map(Js),injector:se}}))}(P,this.compiler,D,this.onLoadEndListener).pipe(gr(()=>{this.childrenLoaders.delete(P)})),_e=new gt(se,()=>new xn.x).pipe(Qe());return this.childrenLoaders.set(P,_e),_e}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function vi(C){return function zr(C){return C&&"object"==typeof C&&"default"in C}(C)?C.default:C}let Bs=(()=>{class C{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new xn.x,this.transitionAbortSubject=new xn.x,this.configLoader=(0,w.f3M)(qn),this.environmentInjector=(0,w.f3M)(w.lqb),this.urlSerializer=(0,w.f3M)(Ze),this.rootContexts=(0,w.f3M)(Lr),this.inputBindingEnabled=null!==(0,w.f3M)(On,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,fe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=j=>this.events.next(new No(j)),this.configLoader.onLoadStartListener=j=>this.events.next(new Ei(j))}complete(){this.transitions?.complete()}handleNavigationRequest(D){const P=++this.navigationId;this.transitions?.next({...this.transitions.value,...D,id:P})}setupNavigations(D,P,j){return this.transitions=new Oe.X({id:0,currentUrlTree:P,currentRawUrl:P,currentBrowserUrl:P,extractedUrl:D.urlHandlingStrategy.extract(P),urlAfterRedirects:D.urlHandlingStrategy.extract(P),rawUrl:P,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ca,restoredState:null,currentSnapshot:j.snapshot,targetSnapshot:null,currentRouterState:j,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,pr.h)(se=>0!==se.id),(0,fn.U)(se=>({...se,extractedUrl:D.urlHandlingStrategy.extract(se.rawUrl)})),(0,Tn.w)(se=>{this.currentTransition=se;let _e=!1,$e=!1;return(0,fe.of)(se).pipe((0,Pt.b)(Ue=>{this.currentNavigation={id:Ue.id,initialUrl:Ue.rawUrl,extractedUrl:Ue.extractedUrl,trigger:Ue.source,extras:Ue.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Tn.w)(Ue=>{const jt=Ue.currentBrowserUrl.toString(),Rn=!D.navigated||Ue.extractedUrl.toString()!==jt||jt!==Ue.currentUrlTree.toString();if(!Rn&&"reload"!==(Ue.extras.onSameUrlNavigation??D.onSameUrlNavigation)){const dr="";return this.events.next(new Ms(Ue.id,this.urlSerializer.serialize(Ue.rawUrl),dr,0)),Ue.resolve(null),_t.E}if(D.urlHandlingStrategy.shouldProcessUrl(Ue.rawUrl))return(0,fe.of)(Ue).pipe((0,Tn.w)(dr=>{const Dc=this.transitions?.getValue();return this.events.next(new hi(dr.id,this.urlSerializer.serialize(dr.extractedUrl),dr.source,dr.restoredState)),Dc!==this.transitions?.getValue()?_t.E:Promise.resolve(dr)}),function U(C,x,D,P,j,se){return(0,ke.z)(_e=>function ou(C,x,D,P,j,se,_e="emptyOnly"){return new Wu(C,x,D,P,j,_e,se).recognize()}(C,x,D,P,_e.extractedUrl,j,se).pipe((0,fn.U)(({state:$e,tree:Ue})=>({..._e,targetSnapshot:$e,urlAfterRedirects:Ue}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,D.config,this.urlSerializer,D.paramsInheritanceStrategy),(0,Pt.b)(dr=>{se.targetSnapshot=dr.targetSnapshot,se.urlAfterRedirects=dr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:dr.urlAfterRedirects};const Dc=new oi(dr.id,this.urlSerializer.serialize(dr.extractedUrl),this.urlSerializer.serialize(dr.urlAfterRedirects),dr.targetSnapshot);this.events.next(Dc)}));if(Rn&&D.urlHandlingStrategy.shouldProcessUrl(Ue.currentRawUrl)){const{id:dr,extractedUrl:Dc,source:Wr,restoredState:ya,extras:Vr}=Ue,ea=new hi(dr,this.urlSerializer.serialize(Dc),Wr,ya);this.events.next(ea);const Pd=nc(0,this.rootComponentType).snapshot;return this.currentTransition=se={...Ue,targetSnapshot:Pd,urlAfterRedirects:Dc,extras:{...Vr,skipLocationChange:!1,replaceUrl:!1}},(0,fe.of)(se)}{const dr="";return this.events.next(new Ms(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),dr,1)),Ue.resolve(null),_t.E}}),(0,Pt.b)(Ue=>{const jt=new pl(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),this.urlSerializer.serialize(Ue.urlAfterRedirects),Ue.targetSnapshot);this.events.next(jt)}),(0,fn.U)(Ue=>(this.currentTransition=se={...Ue,guards:yi(Ue.targetSnapshot,Ue.currentSnapshot,this.rootContexts)},se)),function wc(C,x){return(0,ke.z)(D=>{const{targetSnapshot:P,currentSnapshot:j,guards:{canActivateChecks:se,canDeactivateChecks:_e}}=D;return 0===_e.length&&0===se.length?(0,fe.of)({...D,guardsResult:!0}):function da(C,x,D,P){return(0,de.D)(C).pipe((0,ke.z)(j=>function Ic(C,x,D,P,j){const se=x&&x.routeConfig?x.routeConfig.canDeactivate:null;if(!se||0===se.length)return(0,fe.of)(!0);const _e=se.map($e=>{const Ue=ei(x)??j,jt=Ro($e,Ue);return Jn(function Ie(C){return C&&jc(C.canDeactivate)}(jt)?jt.canDeactivate(C,x,D,P):Ue.runInContext(()=>jt(C,x,D,P))).pipe(nt())});return(0,fe.of)(_e).pipe(Vi())}(j.component,j.route,D,x,P)),nt(j=>!0!==j,!0))}(_e,P,j,C).pipe((0,ke.z)($e=>$e&&function q(C){return"boolean"==typeof C}($e)?function Qo(C,x,D,P){return(0,de.D)(x).pipe(bt(j=>(0,Sn.z)(function Ua(C,x){return null!==C&&x&&x(new La(C)),(0,fe.of)(!0)}(j.route.parent,P),function $c(C,x){return null!==C&&x&&x(new ml(C)),(0,fe.of)(!0)}(j.route,P),function iu(C,x,D){const P=x[x.length-1],se=x.slice(0,x.length-1).reverse().map(_e=>function mo(C){const x=C.routeConfig?C.routeConfig.canActivateChild:null;return x&&0!==x.length?{node:C,guards:x}:null}(_e)).filter(_e=>null!==_e).map(_e=>mt(()=>{const $e=_e.guards.map(Ue=>{const jt=ei(_e.node)??D,Rn=Ro(Ue,jt);return Jn(function oe(C){return C&&jc(C.canActivateChild)}(Rn)?Rn.canActivateChild(P,C):jt.runInContext(()=>Rn(P,C))).pipe(nt())});return(0,fe.of)($e).pipe(Vi())}));return(0,fe.of)(se).pipe(Vi())}(C,j.path,D),function bs(C,x,D){const P=x.routeConfig?x.routeConfig.canActivate:null;if(!P||0===P.length)return(0,fe.of)(!0);const j=P.map(se=>mt(()=>{const _e=ei(x)??D,$e=Ro(se,_e);return Jn(function B(C){return C&&jc(C.canActivate)}($e)?$e.canActivate(x,C):_e.runInContext(()=>$e(x,C))).pipe(nt())}));return(0,fe.of)(j).pipe(Vi())}(C,j.route,D))),nt(j=>!0!==j,!0))}(P,se,C,x):(0,fe.of)($e)),(0,fn.U)($e=>({...D,guardsResult:$e})))})}(this.environmentInjector,Ue=>this.events.next(Ue)),(0,Pt.b)(Ue=>{if(se.guardsResult=Ue.guardsResult,si(Ue.guardsResult))throw pi(0,Ue.guardsResult);const jt=new Gi(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),this.urlSerializer.serialize(Ue.urlAfterRedirects),Ue.targetSnapshot,!!Ue.guardsResult);this.events.next(jt)}),(0,pr.h)(Ue=>!!Ue.guardsResult||(this.cancelNavigationTransition(Ue,"",3),!1)),br(Ue=>{if(Ue.guards.canActivateChecks.length)return(0,fe.of)(Ue).pipe((0,Pt.b)(jt=>{const Rn=new gl(jt.id,this.urlSerializer.serialize(jt.extractedUrl),this.urlSerializer.serialize(jt.urlAfterRedirects),jt.targetSnapshot);this.events.next(Rn)}),(0,Tn.w)(jt=>{let Rn=!1;return(0,fe.of)(jt).pipe(function X(C,x){return(0,ke.z)(D=>{const{targetSnapshot:P,guards:{canActivateChecks:j}}=D;if(!j.length)return(0,fe.of)(D);let se=0;return(0,de.D)(j).pipe(bt(_e=>function ye(C,x,D,P){const j=C.routeConfig,se=C._resolve;return void 0!==j?.title&&!mr(j)&&(se[at]=j.title),function Ke(C,x,D,P){const j=function ut(C){return[...Object.keys(C),...Object.getOwnPropertySymbols(C)]}(C);if(0===j.length)return(0,fe.of)({});const se={};return(0,de.D)(j).pipe((0,ke.z)(_e=>function cn(C,x,D,P){const j=ei(x)??P,se=Ro(C,j);return Jn(se.resolve?se.resolve(x,D):j.runInContext(()=>se(x,D)))}(C[_e],x,D,P).pipe(nt(),(0,Pt.b)($e=>{se[_e]=$e}))),dn(1),(0,Wn.h)(se),Ht(_e=>ks(_e)?_t.E:vt(_e)))}(se,C,x,P).pipe((0,fn.U)(_e=>(C._resolvedData=_e,C.data=xt(C,D).resolve,j&&mr(j)&&(C.data[at]=j.title),null)))}(_e.route,P,C,x)),(0,Pt.b)(()=>se++),dn(1),(0,ke.z)(_e=>se===j.length?(0,fe.of)(D):_t.E))})}(D.paramsInheritanceStrategy,this.environmentInjector),(0,Pt.b)({next:()=>Rn=!0,complete:()=>{Rn||this.cancelNavigationTransition(jt,"",2)}}))}),(0,Pt.b)(jt=>{const Rn=new Fa(jt.id,this.urlSerializer.serialize(jt.extractedUrl),this.urlSerializer.serialize(jt.urlAfterRedirects),jt.targetSnapshot);this.events.next(Rn)}))}),br(Ue=>{const jt=Rn=>{const Rr=[];Rn.routeConfig?.loadComponent&&!Rn.routeConfig._loadedComponent&&Rr.push(this.configLoader.loadComponent(Rn.routeConfig).pipe((0,Pt.b)(dr=>{Rn.component=dr}),(0,fn.U)(()=>{})));for(const dr of Rn.children)Rr.push(...jt(dr));return Rr};return it(jt(Ue.targetSnapshot.root)).pipe(je(),(0,Bn.q)(1))}),br(()=>this.afterPreactivation()),(0,fn.U)(Ue=>{const jt=function rc(C,x,D){const P=ns(C,x._root,D?D._root:void 0);return new Di(P,x)}(D.routeReuseStrategy,Ue.targetSnapshot,Ue.currentRouterState);return this.currentTransition=se={...Ue,targetRouterState:jt},se}),(0,Pt.b)(()=>{this.events.next(new Ko)}),((C,x,D,P)=>(0,fn.U)(j=>(new xo(x,j.targetRouterState,j.currentRouterState,D,P).activate(C),j)))(this.rootContexts,D.routeReuseStrategy,Ue=>this.events.next(Ue),this.inputBindingEnabled),(0,Bn.q)(1),(0,Pt.b)({next:Ue=>{_e=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $r(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),this.urlSerializer.serialize(Ue.urlAfterRedirects))),D.titleStrategy?.updateTitle(Ue.targetRouterState.snapshot),Ue.resolve(!0)},complete:()=>{_e=!0}}),(0,Fr.R)(this.transitionAbortSubject.pipe((0,Pt.b)(Ue=>{throw Ue}))),gr(()=>{_e||$e||this.cancelNavigationTransition(se,"",1),this.currentNavigation?.id===se.id&&(this.currentNavigation=null)}),Ht(Ue=>{if($e=!0,fo(Ue))this.events.next(new Fi(se.id,this.urlSerializer.serialize(se.extractedUrl),Ue.message,Ue.cancellationCode)),function ho(C){return fo(C)&&si(C.url)}(Ue)?this.events.next(new lo(Ue.url)):se.resolve(!1);else{this.events.next(new vc(se.id,this.urlSerializer.serialize(se.extractedUrl),Ue,se.targetSnapshot??void 0));try{se.resolve(D.errorHandler(Ue))}catch(jt){se.reject(jt)}}return _t.E}))}))}cancelNavigationTransition(D,P,j){const se=new Fi(D.id,this.urlSerializer.serialize(D.extractedUrl),P,j);this.events.next(se),D.resolve(!1)}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function bi(C){return C!==ca}let hs=(()=>{class C{buildTitle(D){let P,j=D.root;for(;void 0!==j;)P=this.getResolvedTitleForRoute(j)??P,j=j.children.find(se=>se.outlet===Re);return P}getResolvedTitleForRoute(D){return D.data[at]}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:function(){return(0,w.f3M)(wi)},providedIn:"root"})}return C})(),wi=(()=>{class C extends hs{constructor(D){super(),this.title=D}updateTitle(D){const P=this.buildTitle(D);void 0!==P&&this.title.setTitle(P)}static#e=this.\u0275fac=function(P){return new(P||C)(w.LFG(xe.Dx))};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})(),to=(()=>{class C{static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:function(){return(0,w.f3M)(sc)},providedIn:"root"})}return C})();class Xo{shouldDetach(x){return!1}store(x,D){}shouldAttach(x){return!1}retrieve(x){return null}shouldReuseRoute(x,D){return x.routeConfig===D.routeConfig}}let sc=(()=>{class C extends Xo{static#e=this.\u0275fac=function(){let D;return function(j){return(D||(D=w.n5z(C)))(j||C)}}();static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const pa=new w.OlP("",{providedIn:"root",factory:()=>({})});let Ad=(()=>{class C{static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:function(){return(0,w.f3M)(no)},providedIn:"root"})}return C})(),no=(()=>{class C{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,P){return D}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();var oc=function(C){return C[C.COMPLETE=0]="COMPLETE",C[C.FAILED=1]="FAILED",C[C.REDIRECTING=2]="REDIRECTING",C}(oc||{});function Ha(C,x){C.events.pipe((0,pr.h)(D=>D instanceof $r||D instanceof Fi||D instanceof vc||D instanceof Ms),(0,fn.U)(D=>D instanceof $r||D instanceof Ms?oc.COMPLETE:D instanceof Fi&&(0===D.code||1===D.code)?oc.REDIRECTING:oc.FAILED),(0,pr.h)(D=>D!==oc.REDIRECTING),(0,Bn.q)(1)).subscribe(()=>{x()})}function gi(C){throw C}function Zc(C,x,D){return x.parse("/")}const kl={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ro={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bo=(()=>{class C{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,w.f3M)(w.c2e),this.isNgZoneEnabled=!1,this._events=new xn.x,this.options=(0,w.f3M)(pa,{optional:!0})||{},this.pendingTasks=(0,w.f3M)(w.HDt),this.errorHandler=this.options.errorHandler||gi,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Zc,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,w.f3M)(Ad),this.routeReuseStrategy=(0,w.f3M)(to),this.titleStrategy=(0,w.f3M)(hs),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,w.f3M)(or,{optional:!0})?.flat()??[],this.navigationTransitions=(0,w.f3M)(Bs),this.urlSerializer=(0,w.f3M)(Ze),this.location=(0,w.f3M)(dt.Ye),this.componentInputBindingEnabled=!!(0,w.f3M)(On,{optional:!0}),this.eventsSubscription=new Ge.w0,this.isNgZoneEnabled=(0,w.f3M)(w.R0b)instanceof w.R0b&&w.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new An,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=nc(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(D=>{this.lastSuccessfulId=D.id,this.currentPageId=this.browserPageId},D=>{this.console.warn(`Unhandled Navigation Error: ${D}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const D=this.navigationTransitions.events.subscribe(P=>{try{const{currentTransition:j}=this.navigationTransitions;if(null===j)return void(ko(P)&&this._events.next(P));if(P instanceof hi)bi(j.source)&&(this.browserUrlTree=j.extractedUrl);else if(P instanceof Ms)this.rawUrlTree=j.rawUrl;else if(P instanceof oi){if("eager"===this.urlUpdateStrategy){if(!j.extras.skipLocationChange){const se=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl);this.setBrowserUrl(se,j)}this.browserUrlTree=j.urlAfterRedirects}}else if(P instanceof Ko)this.currentUrlTree=j.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl),this.routerState=j.targetRouterState,"deferred"===this.urlUpdateStrategy&&(j.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,j),this.browserUrlTree=j.urlAfterRedirects);else if(P instanceof Fi)0!==P.code&&1!==P.code&&(this.navigated=!0),(3===P.code||2===P.code)&&this.restoreHistory(j);else if(P instanceof lo){const se=this.urlHandlingStrategy.merge(P.url,j.currentRawUrl),_e={skipLocationChange:j.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||bi(j.source)};this.scheduleNavigation(se,ca,null,_e,{resolve:j.resolve,reject:j.reject,promise:j.promise})}P instanceof vc&&this.restoreHistory(j,!0),P instanceof $r&&(this.navigated=!0),ko(P)&&this._events.next(P)}catch(j){this.navigationTransitions.transitionAbortSubject.next(j)}});this.eventsSubscription.add(D)}resetRootComponentType(D){this.routerState.root.component=D,this.navigationTransitions.rootComponentType=D}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const D=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ca,D)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const P="popstate"===D.type?"popstate":"hashchange";"popstate"===P&&setTimeout(()=>{this.navigateToSyncWithBrowser(D.url,P,D.state)},0)}))}navigateToSyncWithBrowser(D,P,j){const se={replaceUrl:!0},_e=j?.navigationId?j:null;if(j){const Ue={...j};delete Ue.navigationId,delete Ue.\u0275routerPageId,0!==Object.keys(Ue).length&&(se.state=Ue)}const $e=this.parseUrl(D);this.scheduleNavigation($e,P,_e,se)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(D){this.config=D.map(Js),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(D,P={}){const{relativeTo:j,queryParams:se,fragment:_e,queryParamsHandling:$e,preserveFragment:Ue}=P,jt=Ue?this.currentUrlTree.fragment:_e;let Rr,Rn=null;switch($e){case"merge":Rn={...this.currentUrlTree.queryParams,...se};break;case"preserve":Rn=this.currentUrlTree.queryParams;break;default:Rn=se||null}null!==Rn&&(Rn=this.removeEmptyProps(Rn));try{Rr=Pi(j?j.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof D[0]||!D[0].startsWith("/"))&&(D=[]),Rr=this.currentUrlTree.root}return ts(Rr,D,Rn,jt??null)}navigateByUrl(D,P={skipLocationChange:!1}){const j=si(D)?D:this.parseUrl(D),se=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(se,ca,null,P)}navigate(D,P={skipLocationChange:!1}){return function Nd(C){for(let x=0;x<C.length;x++)if(null==C[x])throw new w.vHH(4008,!1)}(D),this.navigateByUrl(this.createUrlTree(D,P),P)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let P;try{P=this.urlSerializer.parse(D)}catch(j){P=this.malformedUriErrorHandler(j,this.urlSerializer,D)}return P}isActive(D,P){let j;if(j=!0===P?{...kl}:!1===P?{...ro}:P,si(D))return yr(this.currentUrlTree,D,j);const se=this.parseUrl(D);return yr(this.currentUrlTree,se,j)}removeEmptyProps(D){return Object.keys(D).reduce((P,j)=>{const se=D[j];return null!=se&&(P[j]=se),P},{})}scheduleNavigation(D,P,j,se,_e){if(this.disposed)return Promise.resolve(!1);let $e,Ue,jt;_e?($e=_e.resolve,Ue=_e.reject,jt=_e.promise):jt=new Promise((Rr,dr)=>{$e=Rr,Ue=dr});const Rn=this.pendingTasks.add();return Ha(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Rn))}),this.navigationTransitions.handleNavigationRequest({source:P,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:D,extras:se,resolve:$e,reject:Ue,promise:jt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),jt.catch(Rr=>Promise.reject(Rr))}setBrowserUrl(D,P){const j=this.urlSerializer.serialize(D);if(this.location.isCurrentPathEqualTo(j)||P.extras.replaceUrl){const _e={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId)};this.location.replaceState(j,"",_e)}else{const se={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId+1)};this.location.go(j,"",se)}}restoreHistory(D,P=!1){if("computed"===this.canceledNavigationResolution){const se=this.currentPageId-this.browserPageId;0!==se?this.location.historyGo(se):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===se&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(D,P){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:P}:{navigationId:D}}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function ko(C){return!(C instanceof Ko||C instanceof lo)}let Ci=(()=>{class C{constructor(D,P,j,se,_e,$e){this.router=D,this.route=P,this.tabIndexAttribute=j,this.renderer=se,this.el=_e,this.locationStrategy=$e,this.href=null,this.commands=null,this.onChanges=new xn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Ue=_e.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ue||"area"===Ue,this.isAnchorElement?this.subscription=D.events.subscribe(jt=>{jt instanceof $r&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(D){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",D)}ngOnChanges(D){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(D,P,j,se,_e){return!!(null===this.urlTree||this.isAnchorElement&&(0!==D||P||j||se||_e||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const D=null===this.href?null:(0,w.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",D)}applyAttributeValue(D,P){const j=this.renderer,se=this.el.nativeElement;null!==P?j.setAttribute(se,D,P):j.removeAttribute(se,D)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(P){return new(P||C)(w.Y36(bo),w.Y36(zn),w.$8M("tabindex"),w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(dt.S$))};static#t=this.\u0275dir=w.lG2({type:C,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(P,j){1&P&&w.NdJ("click",function(_e){return j.onClick(_e.button,_e.ctrlKey,_e.shiftKey,_e.altKey,_e.metaKey)}),2&P&&w.uIk("target",j.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",w.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",w.VuI],replaceUrl:["replaceUrl","replaceUrl",w.VuI],routerLink:"routerLink"},standalone:!0,features:[w.Xq5,w.TTD]})}return C})();class Md{}let _h=(()=>{class C{constructor(D,P,j,se,_e){this.router=D,this.injector=j,this.preloadingStrategy=se,this.loader=_e}setUpPreloading(){this.subscription=this.router.events.pipe((0,pr.h)(D=>D instanceof $r),bt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,P){const j=[];for(const se of P){se.providers&&!se._injector&&(se._injector=(0,w.MMx)(se.providers,D,`Route: ${se.path}`));const _e=se._injector??D,$e=se._loadedInjector??_e;(se.loadChildren&&!se._loadedRoutes&&void 0===se.canLoad||se.loadComponent&&!se._loadedComponent)&&j.push(this.preloadConfig(_e,se)),(se.children||se._loadedRoutes)&&j.push(this.processRoutes($e,se.children??se._loadedRoutes))}return(0,de.D)(j).pipe((0,De.J)())}preloadConfig(D,P){return this.preloadingStrategy.preload(P,()=>{let j;j=P.loadChildren&&void 0===P.canLoad?this.loader.loadChildren(D,P):(0,fe.of)(null);const se=j.pipe((0,ke.z)(_e=>null===_e?(0,fe.of)(void 0):(P._loadedRoutes=_e.routes,P._loadedInjector=_e.injector,this.processRoutes(_e.injector??D,_e.routes))));if(P.loadComponent&&!P._loadedComponent){const _e=this.loader.loadComponent(P);return(0,de.D)([se,_e]).pipe((0,De.J)())}return se})}static#e=this.\u0275fac=function(P){return new(P||C)(w.LFG(bo),w.LFG(w.Sil),w.LFG(w.lqb),w.LFG(Md),w.LFG(qn))};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const Si=new w.OlP("");let yl=(()=>{class C{constructor(D,P,j,se,_e={}){this.urlSerializer=D,this.transitions=P,this.viewportScroller=j,this.zone=se,this.options=_e,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},_e.scrollPositionRestoration=_e.scrollPositionRestoration||"disabled",_e.anchorScrolling=_e.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof hi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof $r?(this.lastId=D.id,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.urlAfterRedirects).fragment)):D instanceof Ms&&0===D.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof la&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,P){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new la(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(P){w.$Z()};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac})}return C})();function un(C,x){return{\u0275kind:C,\u0275providers:x}}function Ll(){const C=(0,w.f3M)(w.zs3);return x=>{const D=C.get(w.z2F);if(x!==D.components[0])return;const P=C.get(bo),j=C.get(Bl);1===C.get(ma)&&P.initialNavigation(),C.get(cu,null,w.XFs.Optional)?.setUpPreloading(),C.get(Si,null,w.XFs.Optional)?.init(),P.resetRootComponentType(D.componentTypes[0]),j.closed||(j.next(),j.complete(),j.unsubscribe())}}const Bl=new w.OlP("",{factory:()=>new xn.x}),ma=new w.OlP("",{providedIn:"root",factory:()=>1}),cu=new w.OlP("");function lu(C){return un(0,[{provide:cu,useExisting:_h},{provide:Md,useExisting:C}])}const uu=new w.OlP("ROUTER_FORROOT_GUARD"),vl=[dt.Ye,{provide:Ze,useClass:It},bo,Lr,{provide:zn,useFactory:function fs(C){return C.routerState.root},deps:[bo]},qn,[]];function Fo(){return new w.PXZ("Router",bo)}let Qc=(()=>{class C{constructor(D){}static forRoot(D,P){return{ngModule:C,providers:[vl,[],{provide:or,multi:!0,useValue:D},{provide:uu,useFactory:cc,deps:[[bo,new w.FiY,new w.tp0]]},{provide:pa,useValue:P||{}},P?.useHash?{provide:dt.S$,useClass:dt.Do}:{provide:dt.S$,useClass:dt.b0},{provide:Si,useFactory:()=>{const C=(0,w.f3M)(dt.EM),x=(0,w.f3M)(w.R0b),D=(0,w.f3M)(pa),P=(0,w.f3M)(Bs),j=(0,w.f3M)(Ze);return D.scrollOffset&&C.setOffset(D.scrollOffset),new yl(j,P,C,x,D)}},P?.preloadingStrategy?lu(P.preloadingStrategy).\u0275providers:[],{provide:w.PXZ,multi:!0,useFactory:Fo},P?.initialNavigation?Vs(P):[],P?.bindToComponentInputs?un(8,[uo,{provide:On,useExisting:uo}]).\u0275providers:[],[{provide:Lo,useFactory:Ll},{provide:w.tb,multi:!0,useExisting:Lo}]]}}static forChild(D){return{ngModule:C,providers:[{provide:or,multi:!0,useValue:D}]}}static#e=this.\u0275fac=function(P){return new(P||C)(w.LFG(uu,8))};static#t=this.\u0275mod=w.oAB({type:C});static#n=this.\u0275inj=w.cJS({})}return C})();function cc(C){return"guarded"}function Vs(C){return["disabled"===C.initialNavigation?un(3,[{provide:w.ip1,multi:!0,useFactory:()=>{const x=(0,w.f3M)(bo);return()=>{x.setUpLocationChangeListener()}}},{provide:ma,useValue:2}]).\u0275providers:[],"enabledBlocking"===C.initialNavigation?un(2,[{provide:ma,useValue:0},{provide:w.ip1,multi:!0,deps:[w.zs3],useFactory:x=>{const D=x.get(dt.V_,Promise.resolve());return()=>D.then(()=>new Promise(P=>{const j=x.get(bo),se=x.get(Bl);Ha(j,()=>{P(!0)}),x.get(Bs).afterPreactivation=()=>(P(!0),se.closed?(0,fe.of)(void 0):se),j.initialNavigation()}))}}]).\u0275providers:[]]}const Lo=new w.OlP("")},4303:(Gt,ze,Q)=>{Q.d(ze,{Jn:()=>gr,KN:()=>yt,Mq:()=>De,Xd:()=>Pt,ZF:()=>Fr,qX:()=>Ht});var w=Q(5861),ce=Q(4537),u=Q(7879),we=Q(9058),de=Q(1878);class fe{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(Ze=>{if(function Oe(tt){const Ce=tt.getComponent();return"VERSION"===Ce?.type}(Ze)){const It=Ze.getImmediate();return`${It.library}/${It.version}`}return null}).filter(Ze=>Ze).join(" ")}}const He="@firebase/app",re=new u.Yd("@firebase/app"),ke="[DEFAULT]",je={[He]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Je=new Map,Ve=new Map;function nt(tt,Ce){try{tt.container.addComponent(Ce)}catch(Ze){re.debug(`Component ${Ce.name} failed to register with FirebaseApp ${tt.name}`,Ze)}}function Pt(tt){const Ce=tt.name;if(Ve.has(Ce))return re.debug(`There were multiple attempts to register component ${Ce}.`),!1;Ve.set(Ce,tt);for(const Ze of Je.values())nt(Ze,tt);return!0}function Ht(tt,Ce){const Ze=tt.container.getProvider("heartbeat").getImmediate({optional:!0});return Ze&&Ze.triggerHeartbeat(),tt.container.getProvider(Ce)}const Dt=new we.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Wn{constructor(Ce,Ze,It){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},Ze),this._name=Ze.name,this._automaticDataCollectionEnabled=Ze.automaticDataCollectionEnabled,this._container=It,this.container.addComponent(new ce.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw Dt.create("app-deleted",{appName:this._name})}}const gr="10.9.0";function Fr(tt,Ce={}){let Ze=tt;"object"!=typeof Ce&&(Ce={name:Ce});const It=Object.assign({name:ke,automaticDataCollectionEnabled:!1},Ce),Wt=It.name;if("string"!=typeof Wt||!Wt)throw Dt.create("bad-app-name",{appName:String(Wt)});if(Ze||(Ze=(0,we.aH)()),!Ze)throw Dt.create("no-options");const qt=Je.get(Wt);if(qt){if((0,we.vZ)(Ze,qt.options)&&(0,we.vZ)(It,qt.config))return qt;throw Dt.create("duplicate-app",{appName:Wt})}const Vn=new ce.H0(Wt);for(const V of Ve.values())Vn.addComponent(V);const K=new Wn(Ze,It,Vn);return Je.set(Wt,K),K}function De(tt=ke){const Ce=Je.get(tt);if(!Ce&&tt===ke&&(0,we.aH)())return Fr();if(!Ce)throw Dt.create("no-app",{appName:tt});return Ce}function yt(tt,Ce,Ze){var It;let Wt=null!==(It=je[tt])&&void 0!==It?It:tt;Ze&&(Wt+=`-${Ze}`);const qt=Wt.match(/\s|\//),Vn=Ce.match(/\s|\//);if(qt||Vn){const K=[`Unable to register library "${Wt}" with version "${Ce}":`];return qt&&K.push(`library name "${Wt}" contains illegal characters (whitespace or "/")`),qt&&Vn&&K.push("and"),Vn&&K.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void re.warn(K.join(" "))}Pt(new ce.wA(`${Wt}-version`,()=>({library:Wt,version:Ce}),"VERSION"))}const En="firebase-heartbeat-database",an=1,Kt="firebase-heartbeat-store";let wn=null;function Jn(){return wn||(wn=(0,de.X3)(En,an,{upgrade:(tt,Ce)=>{if(0===Ce)try{tt.createObjectStore(Kt)}catch(Ze){console.warn(Ze)}}}).catch(tt=>{throw Dt.create("idb-open",{originalErrorMessage:tt.message})})),wn}function Cr(){return(Cr=(0,w.Z)(function*(tt){try{const Ze=(yield Jn()).transaction(Kt),It=yield Ze.objectStore(Kt).get(rr(tt));return yield Ze.done,It}catch(Ce){if(Ce instanceof we.ZR)re.warn(Ce.message);else{const Ze=Dt.create("idb-get",{originalErrorMessage:Ce?.message});re.warn(Ze.message)}}})).apply(this,arguments)}function yr(tt,Ce){return mn.apply(this,arguments)}function mn(){return(mn=(0,w.Z)(function*(tt,Ce){try{const It=(yield Jn()).transaction(Kt,"readwrite");yield It.objectStore(Kt).put(Ce,rr(tt)),yield It.done}catch(Ze){if(Ze instanceof we.ZR)re.warn(Ze.message);else{const It=Dt.create("idb-set",{originalErrorMessage:Ze?.message});re.warn(It.message)}}})).apply(this,arguments)}function rr(tt){return`${tt.name}!${tt.options.appId}`}class jn{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const Ze=this.container.getProvider("app").getImmediate();this._storage=new Xn(Ze),this._heartbeatsCachePromise=this._storage.read().then(It=>(this._heartbeatsCache=It,It))}triggerHeartbeat(){var Ce=this;return(0,w.Z)(function*(){var Ze,It;const qt=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Vn=mi();if((null!=(null===(Ze=Ce._heartbeatsCache)||void 0===Ze?void 0:Ze.heartbeats)||(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise,null!=(null===(It=Ce._heartbeatsCache)||void 0===It?void 0:It.heartbeats)))&&Ce._heartbeatsCache.lastSentHeartbeatDate!==Vn&&!Ce._heartbeatsCache.heartbeats.some(K=>K.date===Vn))return Ce._heartbeatsCache.heartbeats.push({date:Vn,agent:qt}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(K=>{const V=new Date(K.date).valueOf();return Date.now()-V<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,w.Z)(function*(){var Ze;if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null==(null===(Ze=Ce._heartbeatsCache)||void 0===Ze?void 0:Ze.heartbeats)||0===Ce._heartbeatsCache.heartbeats.length)return"";const It=mi(),{heartbeatsToSend:Wt,unsentEntries:qt}=function An(tt,Ce=1024){const Ze=[];let It=tt.slice();for(const Wt of tt){const qt=Ze.find(Vn=>Vn.agent===Wt.agent);if(qt){if(qt.dates.push(Wt.date),Mr(Ze)>Ce){qt.dates.pop();break}}else if(Ze.push({agent:Wt.agent,dates:[Wt.date]}),Mr(Ze)>Ce){Ze.pop();break}It=It.slice(1)}return{heartbeatsToSend:Ze,unsentEntries:It}}(Ce._heartbeatsCache.heartbeats),Vn=(0,we.L)(JSON.stringify({version:2,heartbeats:Wt}));return Ce._heartbeatsCache.lastSentHeartbeatDate=It,qt.length>0?(Ce._heartbeatsCache.heartbeats=qt,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),Vn})()}}function mi(){return(new Date).toISOString().substring(0,10)}class Xn{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.Z)(function*(){return!!(0,we.hl)()&&(0,we.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,w.Z)(function*(){if(yield Ce._canUseIndexedDBPromise){const It=yield function tn(tt){return Cr.apply(this,arguments)}(Ce.app);return It?.heartbeats?It:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Ce){var Ze=this;return(0,w.Z)(function*(){var It;if(yield Ze._canUseIndexedDBPromise){const qt=yield Ze.read();return yr(Ze.app,{lastSentHeartbeatDate:null!==(It=Ce.lastSentHeartbeatDate)&&void 0!==It?It:qt.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var Ze=this;return(0,w.Z)(function*(){var It;if(yield Ze._canUseIndexedDBPromise){const qt=yield Ze.read();return yr(Ze.app,{lastSentHeartbeatDate:null!==(It=Ce.lastSentHeartbeatDate)&&void 0!==It?It:qt.lastSentHeartbeatDate,heartbeats:[...qt.heartbeats,...Ce.heartbeats]})}})()}}function Mr(tt){return(0,we.L)(JSON.stringify({version:2,heartbeats:tt})).length}!function _i(tt){Pt(new ce.wA("platform-logger",Ce=>new fe(Ce),"PRIVATE")),Pt(new ce.wA("heartbeat",Ce=>new jn(Ce),"PRIVATE")),yt(He,"0.9.29",tt),yt(He,"0.9.29","esm2017"),yt("fire-js","")}("")},4537:(Gt,ze,Q)=>{Q.d(ze,{H0:()=>He,wA:()=>u});var w=Q(5861),ce=Q(9058);class u{constructor(re,le,Se){this.name=re,this.instanceFactory=le,this.type=Se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const we="[DEFAULT]";class de{constructor(re,le){this.name=re,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const le=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(le)){const Se=new ce.BH;if(this.instancesDeferred.set(le,Se),this.isInitialized(le)||this.shouldAutoInitialize())try{const et=this.getOrInitializeService({instanceIdentifier:le});et&&Se.resolve(et)}catch{}}return this.instancesDeferred.get(le).promise}getImmediate(re){var le;const Se=this.normalizeInstanceIdentifier(re?.identifier),et=null!==(le=re?.optional)&&void 0!==le&&le;if(!this.isInitialized(Se)&&!this.shouldAutoInitialize()){if(et)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Se})}catch(Pe){if(et)return null;throw Pe}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function Oe(Ee){return"EAGER"===Ee.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:we})}catch{}for(const[le,Se]of this.instancesDeferred.entries()){const et=this.normalizeInstanceIdentifier(le);try{const Pe=this.getOrInitializeService({instanceIdentifier:et});Se.resolve(Pe)}catch{}}}}clearInstance(re=we){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,w.Z)(function*(){const le=Array.from(re.instances.values());yield Promise.all([...le.filter(Se=>"INTERNAL"in Se).map(Se=>Se.INTERNAL.delete()),...le.filter(Se=>"_delete"in Se).map(Se=>Se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=we){return this.instances.has(re)}getOptions(re=we){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:le={}}=re,Se=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(Se))throw Error(`${this.name}(${Se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const et=this.getOrInitializeService({instanceIdentifier:Se,options:le});for(const[Pe,it]of this.instancesDeferred.entries())Se===this.normalizeInstanceIdentifier(Pe)&&it.resolve(et);return et}onInit(re,le){var Se;const et=this.normalizeInstanceIdentifier(le),Pe=null!==(Se=this.onInitCallbacks.get(et))&&void 0!==Se?Se:new Set;Pe.add(re),this.onInitCallbacks.set(et,Pe);const it=this.instances.get(et);return it&&re(it,et),()=>{Pe.delete(re)}}invokeOnInitCallbacks(re,le){const Se=this.onInitCallbacks.get(le);if(Se)for(const et of Se)try{et(re,le)}catch{}}getOrInitializeService({instanceIdentifier:re,options:le={}}){let Se=this.instances.get(re);if(!Se&&this.component&&(Se=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=re,Ee===we?void 0:Ee),options:le}),this.instances.set(re,Se),this.instancesOptions.set(re,le),this.invokeOnInitCallbacks(Se,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,Se)}catch{}var Ee;return Se||null}normalizeInstanceIdentifier(re=we){return this.component?this.component.multipleInstances?re:we:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class He{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const le=this.getProvider(re.name);if(le.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);le.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const le=new de(re,this);return this.providers.set(re,le),le}getProviders(){return Array.from(this.providers.values())}}},7879:(Gt,ze,Q)=>{Q.d(ze,{Yd:()=>Oe,in:()=>ce});const w=[];var ce=function(re){return re[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",re}(ce||{});const u={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},we=ce.INFO,de={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},fe=(re,le,...Se)=>{if(le<re.logLevel)return;const et=(new Date).toISOString(),Pe=de[le];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${le})`);console[Pe](`[${et}]  ${re.name}:`,...Se)};class Oe{constructor(le){this.name=le,this._logLevel=we,this._logHandler=fe,this._userLogHandler=null,w.push(this)}get logLevel(){return this._logLevel}set logLevel(le){if(!(le in ce))throw new TypeError(`Invalid value "${le}" assigned to \`logLevel\``);this._logLevel=le}setLogLevel(le){this._logLevel="string"==typeof le?u[le]:le}get logHandler(){return this._logHandler}set logHandler(le){if("function"!=typeof le)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=le}get userLogHandler(){return this._userLogHandler}set userLogHandler(le){this._userLogHandler=le}debug(...le){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...le),this._logHandler(this,ce.DEBUG,...le)}log(...le){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...le),this._logHandler(this,ce.VERBOSE,...le)}info(...le){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...le),this._logHandler(this,ce.INFO,...le)}warn(...le){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...le),this._logHandler(this,ce.WARN,...le)}error(...le){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...le),this._logHandler(this,ce.ERROR,...le)}}},1878:(Gt,ze,Q)=>{Q.d(ze,{X3:()=>Mt});var w=Q(5861);const ce=(ve,Qe)=>Qe.some(gt=>ve instanceof gt);let u,we;const Oe=new WeakMap,He=new WeakMap,Ee=new WeakMap,re=new WeakMap,le=new WeakMap;let Pe={get(ve,Qe,gt){if(ve instanceof IDBTransaction){if("done"===Qe)return He.get(ve);if("objectStoreNames"===Qe)return ve.objectStoreNames||Ee.get(ve);if("store"===Qe)return gt.objectStoreNames[1]?void 0:gt.objectStore(gt.objectStoreNames[0])}return Ft(ve[Qe])},set:(ve,Qe,gt)=>(ve[Qe]=gt,!0),has:(ve,Qe)=>ve instanceof IDBTransaction&&("done"===Qe||"store"===Qe)||Qe in ve};function Lt(ve){return"function"==typeof ve?function At(ve){return ve!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return we||(we=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ve)?function(...Qe){return ve.apply(Sn(this),Qe),Ft(Oe.get(this))}:function(...Qe){return Ft(ve.apply(Sn(this),Qe))}:function(Qe,...gt){const xn=ve.call(Sn(this),Qe,...gt);return Ee.set(xn,Qe.sort?Qe.sort():[Qe]),Ft(xn)}}(ve):(ve instanceof IDBTransaction&&function et(ve){if(He.has(ve))return;const Qe=new Promise((gt,xn)=>{const dt=()=>{ve.removeEventListener("complete",fn),ve.removeEventListener("error",Tn),ve.removeEventListener("abort",Tn)},fn=()=>{gt(),dt()},Tn=()=>{xn(ve.error||new DOMException("AbortError","AbortError")),dt()};ve.addEventListener("complete",fn),ve.addEventListener("error",Tn),ve.addEventListener("abort",Tn)});He.set(ve,Qe)}(ve),ce(ve,function de(){return u||(u=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ve,Pe):ve)}function Ft(ve){if(ve instanceof IDBRequest)return function Se(ve){const Qe=new Promise((gt,xn)=>{const dt=()=>{ve.removeEventListener("success",fn),ve.removeEventListener("error",Tn)},fn=()=>{gt(Ft(ve.result)),dt()},Tn=()=>{xn(ve.error),dt()};ve.addEventListener("success",fn),ve.addEventListener("error",Tn)});return Qe.then(gt=>{gt instanceof IDBCursor&&Oe.set(gt,ve)}).catch(()=>{}),le.set(Qe,ve),Qe}(ve);if(re.has(ve))return re.get(ve);const Qe=Lt(ve);return Qe!==ve&&(re.set(ve,Qe),le.set(Qe,ve)),Qe}const Sn=ve=>le.get(ve);function Mt(ve,Qe,{blocked:gt,upgrade:xn,blocking:dt,terminated:fn}={}){const Tn=indexedDB.open(ve,Qe),Bn=Ft(Tn);return xn&&Tn.addEventListener("upgradeneeded",nr=>{xn(Ft(Tn.result),nr.oldVersion,nr.newVersion,Ft(Tn.transaction),nr)}),gt&&Tn.addEventListener("blocked",nr=>gt(nr.oldVersion,nr.newVersion,nr)),Bn.then(nr=>{fn&&nr.addEventListener("close",()=>fn()),dt&&nr.addEventListener("versionchange",pr=>dt(pr.oldVersion,pr.newVersion,pr))}).catch(()=>{}),Bn}const ot=["get","getKey","getAll","getAllKeys","count"],vt=["put","add","delete","clear"],_t=new Map;function Ge(ve,Qe){if(!(ve instanceof IDBDatabase)||Qe in ve||"string"!=typeof Qe)return;if(_t.get(Qe))return _t.get(Qe);const gt=Qe.replace(/FromIndex$/,""),xn=Qe!==gt,dt=vt.includes(gt);if(!(gt in(xn?IDBIndex:IDBObjectStore).prototype)||!dt&&!ot.includes(gt))return;const fn=function(){var Tn=(0,w.Z)(function*(Bn,...nr){const pr=this.transaction(Bn,dt?"readwrite":"readonly");let ke=pr.store;return xn&&(ke=ke.index(nr.shift())),(yield Promise.all([ke[gt](...nr),dt&&pr.done]))[0]});return function(nr){return Tn.apply(this,arguments)}}();return _t.set(Qe,fn),fn}!function it(ve){Pe=ve(Pe)}(ve=>({...ve,get:(Qe,gt,xn)=>Ge(Qe,gt)||ve.get(Qe,gt,xn),has:(Qe,gt)=>!!Ge(Qe,gt)||ve.has(Qe,gt)}))},5861:(Gt,ze,Q)=>{function w(u,we,de,fe,Oe,He,Ee){try{var re=u[He](Ee),le=re.value}catch(Se){return void de(Se)}re.done?we(le):Promise.resolve(le).then(fe,Oe)}function ce(u){return function(){var we=this,de=arguments;return new Promise(function(fe,Oe){var He=u.apply(we,de);function Ee(le){w(He,fe,Oe,Ee,re,"next",le)}function re(le){w(He,fe,Oe,Ee,re,"throw",le)}Ee(void 0)})}}Q.d(ze,{Z:()=>ce})},7582:(Gt,ze,Q)=>{function we(ke,je){var Je={};for(var Ve in ke)Object.prototype.hasOwnProperty.call(ke,Ve)&&je.indexOf(Ve)<0&&(Je[Ve]=ke[Ve]);if(null!=ke&&"function"==typeof Object.getOwnPropertySymbols){var nt=0;for(Ve=Object.getOwnPropertySymbols(ke);nt<Ve.length;nt++)je.indexOf(Ve[nt])<0&&Object.prototype.propertyIsEnumerable.call(ke,Ve[nt])&&(Je[Ve[nt]]=ke[Ve[nt]])}return Je}function Se(ke,je,Je,Ve){return new(Je||(Je=Promise))(function(bt,Pt){function Ht(dn){try{yn(Ve.next(dn))}catch(Dt){Pt(Dt)}}function pn(dn){try{yn(Ve.throw(dn))}catch(Dt){Pt(Dt)}}function yn(dn){dn.done?bt(dn.value):function nt(bt){return bt instanceof Je?bt:new Je(function(Pt){Pt(bt)})}(dn.value).then(Ht,pn)}yn((Ve=Ve.apply(ke,je||[])).next())})}function mt(ke){return this instanceof mt?(this.v=ke,this):new mt(ke)}function ot(ke,je,Je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var nt,Ve=Je.apply(ke,je||[]),bt=[];return nt={},Pt("next"),Pt("throw"),Pt("return"),nt[Symbol.asyncIterator]=function(){return this},nt;function Pt(Wn){Ve[Wn]&&(nt[Wn]=function(gr){return new Promise(function(Fr,De){bt.push([Wn,gr,Fr,De])>1||Ht(Wn,gr)})})}function Ht(Wn,gr){try{!function pn(Wn){Wn.value instanceof mt?Promise.resolve(Wn.value.v).then(yn,dn):Dt(bt[0][2],Wn)}(Ve[Wn](gr))}catch(Fr){Dt(bt[0][3],Fr)}}function yn(Wn){Ht("next",Wn)}function dn(Wn){Ht("throw",Wn)}function Dt(Wn,gr){Wn(gr),bt.shift(),bt.length&&Ht(bt[0][0],bt[0][1])}}function _t(ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,je=ke[Symbol.asyncIterator];return je?je.call(ke):(ke=function At(ke){var je="function"==typeof Symbol&&Symbol.iterator,Je=je&&ke[je],Ve=0;if(Je)return Je.call(ke);if(ke&&"number"==typeof ke.length)return{next:function(){return ke&&Ve>=ke.length&&(ke=void 0),{value:ke&&ke[Ve++],done:!ke}}};throw new TypeError(je?"Object is not iterable.":"Symbol.iterator is not defined.")}(ke),Je={},Ve("next"),Ve("throw"),Ve("return"),Je[Symbol.asyncIterator]=function(){return this},Je);function Ve(bt){Je[bt]=ke[bt]&&function(Pt){return new Promise(function(Ht,pn){!function nt(bt,Pt,Ht,pn){Promise.resolve(pn).then(function(yn){bt({value:yn,done:Ht})},Pt)}(Ht,pn,(Pt=ke[bt](Pt)).done,Pt.value)})}}}Q.d(ze,{FC:()=>ot,KL:()=>_t,_T:()=>we,mG:()=>Se,qq:()=>mt}),"function"==typeof SuppressedError&&SuppressedError}},Gt=>{var ze=w=>Gt(Gt.s=w);ze(2614),ze(6386)}]);