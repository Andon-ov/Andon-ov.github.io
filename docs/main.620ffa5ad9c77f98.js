"use strict";(self.webpackChunkThe_Natural_Way=self.webpackChunkThe_Natural_Way||[]).push([[179],{8726:(Ht,Ge,K)=>{K.d(Ge,{Ot:()=>be,ZF:()=>Ft,hX:()=>Se,z6:()=>ue});var b=K(4097),re=K(9468),u=K(6106);class be{constructor(st){return st}}class ue{constructor(){return(0,b.C6)()}}const Qe=new re.OlP("angularfire2._apps"),Re={provide:be,useFactory:function Ee(ft){return ft&&1===ft.length?ft[0]:new be((0,b.Mq)())},deps:[[new re.FiY,Qe]]},ce={provide:ue,deps:[[new re.FiY,Qe]]};function de(ft){return(st,yt)=>{const _t=st.runOutsideAngular(()=>ft(yt));return new be(_t)}}let Me=(()=>{class ft{constructor(yt){(0,b.KN)("angularfire",u.q4.full,"core"),(0,b.KN)("angularfire",u.q4.full,"app"),(0,b.KN)("angular",re.q4F.full,yt.toString())}}return ft.\u0275fac=function(yt){return new(yt||ft)(re.LFG(re.Lbi))},ft.\u0275mod=re.oAB({type:ft}),ft.\u0275inj=re.cJS({providers:[Re,ce]}),ft})();function Se(ft,...st){return{ngModule:Me,providers:[{provide:Qe,useFactory:de(ft),multi:!0,deps:[re.R0b,re.zs3,u.HU,...st]}]}}const Ft=(0,u.u3)(b.ZF,!0)},3477:(Ht,Ge,K)=>{K.d(Ge,{gg:()=>AD,ET:()=>lA,Ab:()=>uA,vr:()=>dA,hJ:()=>hA,oe:()=>fA,JU:()=>pA,QT:()=>gA,PL:()=>mA,ad:()=>_A,b9:()=>yA,Xo:()=>vA,Cm:()=>cA,IO:()=>bA,pl:()=>wA,TQ:()=>IA,r7:()=>EA,ar:()=>TA});var b=K(6106),re=K(9468),u=K(8726),be=K(4097),ue=K(5861),fe=K(229),Ee=K(7592),Qe=K(7582),Re=K(7879),ce=K(6820);const Dn=function Ft(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ot=new fe.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),st=new Re.Yd("@firebase/auth");function _t(n,...e){st.logLevel<=Re.in.ERROR&&st.error(`Auth (${Ee.Jn}): ${n}`,...e)}function je(n,...e){throw kn(n,...e)}function ve(n,...e){return kn(n,...e)}function kn(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Ot.create(n,...e)}function dt(n,e,...t){if(!n)throw kn(e,...t)}function hn(n){const e="INTERNAL ASSERTION FAILED: "+n;throw _t(e),new Error(e)}function Cn(n,e){n||hn(e)}function vr(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Xe{constructor(e,t){this.shortDelay=e,this.longDelay=t,Cn(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,fe.uI)()||(0,fe.b$)()}get(){return function Fe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function cr(){return"http:"===vr()||"https:"===vr()}()||(0,fe.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class rt{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},kt=new Xe(3e4,6e4);function fn(n,e,t,i){return yn.apply(this,arguments)}function yn(){return(yn=(0,ue.Z)(function*(n,e,t,i,c={}){return dn(n,c,(0,ue.Z)(function*(){let p={},_={};i&&("GET"===e?_=i:p={body:JSON.stringify(i)});const T=(0,fe.xO)(Object.assign({key:n.config.apiKey},_)).slice(1),F=yield n._getAdditionalHeaders();return F["Content-Type"]="application/json",n.languageCode&&(F["X-Firebase-Locale"]=n.languageCode),rt.fetch()(Fr(n,n.config.apiHost,t,T),Object.assign({method:e,headers:F,referrerPolicy:"no-referrer"},p))}))})).apply(this,arguments)}function dn(n,e,t){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,ue.Z)(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},wt),e);try{const c=new De(n),p=yield Promise.race([t(),c.promise]);c.clearNetworkTimeout();const _=yield p.json();if("needConfirmation"in _)throw Pe(n,"account-exists-with-different-credential",_);if(p.ok&&!("errorMessage"in _))return _;{const T=p.ok?_.errorMessage:_.error.message,[F,H]=T.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===F)throw Pe(n,"credential-already-in-use",_);if("EMAIL_EXISTS"===F)throw Pe(n,"email-already-in-use",_);if("USER_DISABLED"===F)throw Pe(n,"user-disabled",_);const te=i[F]||F.toLowerCase().replace(/[_\s]+/g,"-");if(H)throw function Je(n,e,t){const i=Object.assign(Object.assign({},Dn()),{[e]:t});return new fe.LL("auth","Firebase",i).create(e,{appName:n.name})}(n,te,H);je(n,te)}}catch(c){if(c instanceof fe.ZR)throw c;je(n,"network-request-failed",{message:String(c)})}})).apply(this,arguments)}function Fr(n,e,t,i){const c=`${e}${t}?${i}`;return n.config.emulator?function Ue(n,e){Cn(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,c):`${n.config.apiScheme}://${c}`}class De{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ve(this.auth,"network-request-failed")),kt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pe(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const c=ve(n,e,i);return c.customData._tokenResponse=t,c}function at(){return(at=(0,ue.Z)(function*(n,e){return fn(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function An(){return(An=(0,ue.Z)(function*(n,e){return fn(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function sn(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Jn(){return(Jn=(0,ue.Z)(function*(n,e=!1){const t=(0,fe.m9)(n),i=yield t.getIdToken(e),c=Or(i);dt(c&&c.exp&&c.auth_time&&c.iat,t.auth,"internal-error");const p="object"==typeof c.firebase?c.firebase:void 0,_=p?.sign_in_provider;return{claims:c,token:i,authTime:sn(en(c.auth_time)),issuedAtTime:sn(en(c.iat)),expirationTime:sn(en(c.exp)),signInProvider:_||null,signInSecondFactor:p?.sign_in_second_factor||null}})).apply(this,arguments)}function en(n){return 1e3*Number(n)}function Or(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return _t("JWT malformed, contained fewer than 3 sections"),null;try{const c=(0,fe.tV)(t);return c?JSON.parse(c):(_t("Failed to decode base64 JWT payload"),null)}catch(c){return _t("Caught error parsing JWT payload as JSON",c?.toString()),null}}function mn(n,e){return lr.apply(this,arguments)}function lr(){return(lr=(0,ue.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof fe.ZR&&function Yn({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class ur{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const c=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,c)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout((0,ue.Z)(function*(){yield t.iteration()}),i)}iteration(){var e=this;return(0,ue.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class zn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=sn(this.lastLoginAt),this.creationTime=sn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fi(n){return xn.apply(this,arguments)}function xn(){return xn=(0,ue.Z)(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),c=yield mn(n,function Ir(n,e){return An.apply(this,arguments)}(t,{idToken:i}));dt(c?.users.length,t,"internal-error");const p=c.users[0];n._notifyReloadListener(p);const _=null!==(e=p.providerUserInfo)&&void 0!==e&&e.length?function nt(n){return n.map(e=>{var{providerId:t}=e,i=(0,Qe._T)(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(p.providerUserInfo):[],T=function pi(n,e){return[...n.filter(i=>!e.some(c=>c.providerId===i.providerId)),...e]}(n.providerData,_),te=!!n.isAnonymous&&!(n.email&&p.passwordHash||T?.length),pe={uid:p.localId,displayName:p.displayName||null,photoURL:p.photoUrl||null,email:p.email||null,emailVerified:p.emailVerified||!1,phoneNumber:p.phoneNumber||null,tenantId:p.tenantId||null,providerData:T,metadata:new zn(p.createdAt,p.lastLoginAt),isAnonymous:te};Object.assign(n,pe)}),xn.apply(this,arguments)}function xr(){return(xr=(0,ue.Z)(function*(n){const e=(0,fe.m9)(n);yield fi(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Ze(){return(Ze=(0,ue.Z)(function*(n,e){const t=yield dn(n,{},(0,ue.Z)(function*(){const i=(0,fe.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:c,apiKey:p}=n.config,_=Fr(n,c,"/v1/token",`key=${p}`),T=yield n._getAdditionalHeaders();return T["Content-Type"]="application/x-www-form-urlencoded",rt.fetch()(_,{method:"POST",headers:T,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class It{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){dt(e.idToken,"internal-error"),dt(typeof e.idToken<"u","internal-error"),dt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Er(n){const e=Or(n);return dt(e,"internal-error"),dt(typeof e.exp<"u","internal-error"),dt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return(0,ue.Z)(function*(){return dt(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return(0,ue.Z)(function*(){const{accessToken:c,refreshToken:p,expiresIn:_}=yield function Ce(n,e){return Ze.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(c,p,Number(_))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:c,expirationTime:p}=t,_=new It;return i&&(dt("string"==typeof i,"internal-error",{appName:e}),_.refreshToken=i),c&&(dt("string"==typeof c,"internal-error",{appName:e}),_.accessToken=c),p&&(dt("number"==typeof p,"internal-error",{appName:e}),_.expirationTime=p),_}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new It,this.toJSON())}_performRefresh(){return hn("not implemented")}}function qt(n,e){dt("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Zt{constructor(e){var{uid:t,auth:i,stsTokenManager:c}=e,p=(0,Qe._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ur(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=c,this.accessToken=c.accessToken,this.displayName=p.displayName||null,this.email=p.email||null,this.emailVerified=p.emailVerified||!1,this.phoneNumber=p.phoneNumber||null,this.photoURL=p.photoURL||null,this.isAnonymous=p.isAnonymous||!1,this.tenantId=p.tenantId||null,this.providerData=p.providerData?[...p.providerData]:[],this.metadata=new zn(p.createdAt||void 0,p.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,ue.Z)(function*(){const i=yield mn(t,t.stsTokenManager.getToken(t.auth,e));return dt(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function wn(n){return Jn.apply(this,arguments)}(this,e)}reload(){return function Xn(n){return xr.apply(this,arguments)}(this)}_assign(e){this!==e&&(dt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return(0,ue.Z)(function*(){let c=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),c=!0),t&&(yield fi(i)),yield i.auth._persistUserIfCurrent(i),c&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return(0,ue.Z)(function*(){const t=yield e.getIdToken();return yield mn(e,function ke(n,e){return at.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,c,p,_,T,F,H,te;const pe=null!==(i=t.displayName)&&void 0!==i?i:void 0,Ve=null!==(c=t.email)&&void 0!==c?c:void 0,ct=null!==(p=t.phoneNumber)&&void 0!==p?p:void 0,Bt=null!==(_=t.photoURL)&&void 0!==_?_:void 0,rn=null!==(T=t.tenantId)&&void 0!==T?T:void 0,ln=null!==(F=t._redirectEventId)&&void 0!==F?F:void 0,Nr=null!==(H=t.createdAt)&&void 0!==H?H:void 0,ti=null!==(te=t.lastLoginAt)&&void 0!==te?te:void 0,{uid:kr,emailVerified:qo,isAnonymous:Oo,providerData:Qi,stsTokenManager:Hc}=t;dt(kr&&Hc,e,"internal-error");const pg=It.fromJSON(this.name,Hc);dt("string"==typeof kr,e,"internal-error"),qt(pe,e.name),qt(Ve,e.name),dt("boolean"==typeof qo,e,"internal-error"),dt("boolean"==typeof Oo,e,"internal-error"),qt(ct,e.name),qt(Bt,e.name),qt(rn,e.name),qt(ln,e.name),qt(Nr,e.name),qt(ti,e.name);const j1=new Zt({uid:kr,auth:e,email:Ve,emailVerified:qo,displayName:pe,isAnonymous:Oo,photoURL:Bt,phoneNumber:ct,tenantId:rn,stsTokenManager:pg,createdAt:Nr,lastLoginAt:ti});return Qi&&Array.isArray(Qi)&&(j1.providerData=Qi.map(DA=>Object.assign({},DA))),ln&&(j1._redirectEventId=ln),j1}static _fromIdTokenResponse(e,t,i=!1){return(0,ue.Z)(function*(){const c=new It;c.updateFromServerResponse(t);const p=new Zt({uid:t.localId,auth:e,stsTokenManager:c,isAnonymous:i});return yield fi(p),p})()}}const Wn=new Map;function Y(n){Cn(n instanceof Function,"Expected a class definition");let e=Wn.get(n);return e?(Cn(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Wn.set(n,e),e)}const G=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ue.Z)(function*(){return!0})()}_set(t,i){var c=this;return(0,ue.Z)(function*(){c.storage[t]=i})()}_get(t){var i=this;return(0,ue.Z)(function*(){const c=i.storage[t];return void 0===c?null:c})()}_remove(t){var i=this;return(0,ue.Z)(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function q(n,e,t){return`firebase:${n}:${e}:${t}`}class ${constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:c,name:p}=this.auth;this.fullUserKey=q(this.userKey,c.apiKey,p),this.fullPersistenceKey=q("persistence",c.apiKey,p),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,ue.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Zt._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,ue.Z)(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return(0,ue.Z)(function*(){if(!t.length)return new $(Y(G),e,i);const c=(yield Promise.all(t.map(function(){var H=(0,ue.Z)(function*(te){if(yield te._isAvailable())return te});return function(te){return H.apply(this,arguments)}}()))).filter(H=>H);let p=c[0]||Y(G);const _=q(i,e.config.apiKey,e.name);let T=null;for(const H of t)try{const te=yield H._get(_);if(te){const pe=Zt._fromJSON(e,te);H!==p&&(T=pe),p=H;break}}catch{}const F=c.filter(H=>H._shouldAllowMigration);return p._shouldAllowMigration&&F.length?(p=F[0],T&&(yield p._set(_,T.toJSON())),yield Promise.all(t.map(function(){var H=(0,ue.Z)(function*(te){if(te!==p)try{yield te._remove(_)}catch{}});return function(te){return H.apply(this,arguments)}}())),new $(p,e,i)):new $(p,e,i)})()}}function we(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function pn(n=(0,fe.z$)()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function We(n=(0,fe.z$)()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function Kt(n=(0,fe.z$)()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function Fn(n=(0,fe.z$)()){return/webos/i.test(n)}(e))return"Webos";if(function Et(n=(0,fe.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function on(n=(0,fe.z$)()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function Mn(n=(0,fe.z$)()){return/android/i.test(n)}(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function Ba(n,e=[]){let t;switch(n){case"Browser":t=we((0,fe.z$)());break;case"Worker":t=`${we((0,fe.z$)())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ee.Jn}/${i}`}function Mo(n,e){return ps.apply(this,arguments)}function ps(){return(ps=(0,ue.Z)(function*(n,e){return fn(n,"GET","/v2/recaptchaConfig",function Gt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}(n,e))})).apply(this,arguments)}function dr(n){return void 0!==n&&void 0!==n.enterprise}class io{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}class js{constructor(e){this.type="recaptcha-enterprise",this.auth=gi(e)}verify(e="verify",t=!1){var i=this;return(0,ue.Z)(function*(){function p(){return p=(0,ue.Z)(function*(T){if(!t){if(null==T.tenantId&&null!=T._agentRecaptchaConfig)return T._agentRecaptchaConfig.siteKey;if(null!=T.tenantId&&void 0!==T._tenantRecaptchaConfigs[T.tenantId])return T._tenantRecaptchaConfigs[T.tenantId].siteKey}return new Promise(function(){var F=(0,ue.Z)(function*(H,te){Mo(T,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(pe=>{if(void 0!==pe.recaptchaKey){const Ve=new io(pe);return null==T.tenantId?T._agentRecaptchaConfig=Ve:T._tenantRecaptchaConfigs[T.tenantId]=Ve,H(Ve.siteKey)}te(new Error("recaptcha Enterprise site key undefined"))}).catch(pe=>{te(pe)})});return function(H,te){return F.apply(this,arguments)}}())}),p.apply(this,arguments)}function _(T,F,H){const te=window.grecaptcha;dr(te)?te.enterprise.ready(()=>{te.enterprise.execute(T,{action:e}).then(pe=>{F(pe)}).catch(()=>{F("NO_RECAPTCHA")})}):H(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((T,F)=>{(function c(T){return p.apply(this,arguments)})(i.auth).then(H=>{if(!t&&dr(window.grecaptcha))_(H,T,F);else{if(typeof window>"u")return void F(new Error("RecaptchaVerifier is only supported in browser"));(function Ko(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=c=>{const p=ve("internal-error");p.customData=c,t(p)},i.type="text/javascript",i.charset="UTF-8",function xo(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})})("https://www.google.com/recaptcha/enterprise.js?render="+H).then(()=>{_(H,T,F)}).catch(te=>{F(te)})}}).catch(H=>{F(H)})})})()}}class cs{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=p=>new Promise((_,T)=>{try{_(e(p))}catch(F){T(F)}});i.onAbort=t,this.queue.push(i);const c=this.queue.length-1;return()=>{this.queue[c]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,ue.Z)(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const c of t.queue)yield c(e),c.onAbort&&i.push(c.onAbort)}catch(c){i.reverse();for(const p of i)try{p()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:c?.message})}})()}}class rc{constructor(e,t,i,c){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=c,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ua(this),this.idTokenSubscription=new Ua(this),this.beforeStateQueue=new cs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ot,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=c.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=Y(t)),this._initializationPromise=this.queue((0,ue.Z)(function*(){var c,p;if(!i._deleted&&(i.persistenceManager=yield $.create(i,e),!i._deleted)){if(null!==(c=i._popupRedirectResolver)&&void 0!==c&&c._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(p=i.currentUser)||void 0===p?void 0:p.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,ue.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,ue.Z)(function*(){var i;const c=yield t.assertedPersistence.getCurrentUser();let p=c,_=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const T=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,F=p?._redirectEventId,H=yield t.tryRedirectSignIn(e);(!T||T===F)&&H?.user&&(p=H.user,_=!0)}if(!p)return t.directlySetCurrentUser(null);if(!p._redirectEventId){if(_)try{yield t.beforeStateQueue.runMiddleware(p)}catch(T){p=c,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(T))}return p?t.reloadAndSetCurrentUserOrClear(p):t.directlySetCurrentUser(null)}return dt(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===p._redirectEventId?t.directlySetCurrentUser(p):t.reloadAndSetCurrentUserOrClear(p)})()}tryRedirectSignIn(e){var t=this;return(0,ue.Z)(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,ue.Z)(function*(){try{yield fi(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function $e(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,ue.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,ue.Z)(function*(){const i=e?(0,fe.m9)(e):null;return i&&dt(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return(0,ue.Z)(function*(){if(!i._deleted)return e&&dt(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue((0,ue.Z)(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,ue.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,ue.Z)(function*(){yield t.assertedPersistence.setPersistence(Y(e))}))}initializeRecaptchaConfig(){var e=this;return(0,ue.Z)(function*(){const t=yield Mo(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new io(t);null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.emailPasswordEnabled&&new js(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fe.LL("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return(0,ue.Z)(function*(){const c=yield i.getOrInitRedirectPersistenceManager(t);return null===e?c.removeCurrentUser():c.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,ue.Z)(function*(){if(!t.redirectPersistenceManager){const i=e&&Y(e)||t._popupRedirectResolver;dt(i,t,"argument-error"),t.redirectPersistenceManager=yield $.create(t,[Y(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,ue.Z)(function*(){var i,c;return t._isInitialized&&(yield t.queue((0,ue.Z)(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(c=t.redirectUser)||void 0===c?void 0:c._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,ue.Z)(function*(){if(e===t.currentUser)return t.queue((0,ue.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,c){if(this._deleted)return()=>{};const p="function"==typeof t?t:t.next.bind(t),_=this._isInitialized?Promise.resolve():this._initializationPromise;return dt(_,this,"internal-error"),_.then(()=>p(this.currentUser)),"function"==typeof t?e.addObserver(t,i,c):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,ue.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ba(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,ue.Z)(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const c=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();c&&(i["X-Firebase-Client"]=c);const p=yield e._getAppCheckToken();return p&&(i["X-Firebase-AppCheck"]=p),i})()}_getAppCheckToken(){var e=this;return(0,ue.Z)(function*(){var t;const i=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return i?.error&&function yt(n,...e){st.logLevel<=Re.in.WARN&&st.warn(`Auth (${Ee.Jn}): ${n}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function gi(n){return(0,fe.m9)(n)}class Ua{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,fe.ne)(t=>this.observer=t)}get next(){return dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function ma(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new Xe(3e4,6e4),new Xe(2e3,1e4),new Xe(3e4,6e4),new Xe(5e3,15e3),encodeURIComponent("fac");var p_="@firebase/auth";class m_{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,ue.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,fe.Pz)("authIdTokenMaxAge"),function Sa(n){(0,Ee.Xd)(new ce.wA("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),c=e.getProvider("heartbeat"),p=e.getProvider("app-check-internal"),{apiKey:_,authDomain:T}=i.options;dt(_&&!_.includes(":"),"invalid-api-key",{appName:i.name});const F={apiKey:_,authDomain:T,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ba(n)},H=new rc(i,c,p,F);return function _a(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Y);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}(H,t),H},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),(0,Ee.Xd)(new ce.wA("auth-internal",e=>{const t=gi(e.getProvider("auth").getImmediate());return new m_(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ee.KN)(p_,"0.23.2",function tv(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,Ee.KN)(p_,"0.23.2","esm2017")}("Browser");class wo{constructor(){return(0,b.vb)("auth")}}const b_=new Map,Hh={activated:!1,tokenObservers:[]},w_={initialized:!1,enabled:!1};function Ts(n){return b_.get(n)||Object.assign({},Hh)}function Gh(){return w_}const Dg="https://content-firebaseappcheck.googleapis.com/v1",op="exchangeDebugToken",Cg={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Q1{constructor(e,t,i,c,p){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=c,this.upperBound=p,this.pending=null,this.nextErrorWaitInterval=c,c>p)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ue.Z)(function*(){t.stop();try{t.pending=new fe.BH,yield function cp(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new fe.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Uo=new fe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Sg(n){if(!Ts(n).activated)throw Uo.create("use-before-activation",{appName:n.name})}function jh(n,e){return up.apply(this,arguments)}function up(){return(up=(0,ue.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const pe=yield c.getHeartbeatsHeader();pe&&(i["X-Firebase-Client"]=pe)}const p={method:"POST",body:JSON.stringify(e),headers:i};let _,T;try{_=yield fetch(n,p)}catch(pe){throw Uo.create("fetch-network-error",{originalErrorMessage:pe?.message})}if(200!==_.status)throw Uo.create("fetch-status-error",{httpStatus:_.status});try{T=yield _.json()}catch(pe){throw Uo.create("fetch-parse-error",{originalErrorMessage:pe?.message})}const F=T.ttl.match(/^([\d.]+)(s)$/);if(!F||!F[2]||isNaN(Number(F[1])))throw Uo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${T.ttl}`});const H=1e3*Number(F[1]),te=Date.now();return{token:T.token,expireTimeMillis:te+H,issuedAtTimeMillis:te}})).apply(this,arguments)}function lv(n,e){const{projectId:t,appId:i,apiKey:c}=n.options;return{url:`${Dg}/projects/${t}/apps/${i}:${op}?key=${c}`,body:{debug_token:e}}}const E_="firebase-app-check-database",uv=1,cd="firebase-app-check-store";let Ql=null;function Ng(){return(Ng=(0,ue.Z)(function*(n,e){const i=(yield function $h(){return Ql||(Ql=new Promise((n,e)=>{try{const t=indexedDB.open(E_,uv);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var c;e(Uo.create("storage-open",{originalErrorMessage:null===(c=i.target.error)||void 0===c?void 0:c.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(cd,{keyPath:"compositeKey"})}}catch(t){e(Uo.create("storage-open",{originalErrorMessage:t?.message}))}}),Ql)}()).transaction(cd,"readwrite"),p=i.objectStore(cd).put({compositeKey:n,value:e});return new Promise((_,T)=>{p.onsuccess=F=>{_()},i.onerror=F=>{var H;T(Uo.create("storage-set",{originalErrorMessage:null===(H=F.target.error)||void 0===H?void 0:H.message}))}})})).apply(this,arguments)}const Wh=new Re.Yd("@firebase/app-check");function fp(n,e){return(0,fe.hl)()?function zh(n,e){return function dv(n,e){return Ng.apply(this,arguments)}(function C_(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Wh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function pp(){return Gh().enabled}function xg(){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,ue.Z)(function*(){const n=Gh();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const A_={error:"UNKNOWN_ERROR"};function fv(n){return fe.US.encodeString(JSON.stringify(n),!1)}function Rg(n){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,ue.Z)(function*(n,e=!1){const t=n.app;Sg(t);const i=Ts(t);let p,c=i.token;if(c&&!Mu(c)&&(i.token=void 0,c=void 0),!c){const F=yield i.cachedTokenPromise;F&&(Mu(F)?c=F:yield fp(t,void 0))}if(!e&&c&&Mu(c))return{token:c.token};let T,_=!1;if(pp()){i.exchangeTokenPromise||(i.exchangeTokenPromise=jh(lv(t,yield xg()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),_=!0);const F=yield i.exchangeTokenPromise;return yield fp(t,F),i.token=F,{token:F.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),_=!0),c=yield Ts(t).exchangeTokenPromise}catch(F){"appCheck/throttled"===F.code?Wh.warn(F.message):Wh.error(F),p=F}return c?p?T=Mu(c)?{token:c.token,internalError:p}:pv(p):(T={token:c.token},i.token=c,yield fp(t,c)):T=pv(p),_&&function Lg(n,e){const t=Ts(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,T),T})).apply(this,arguments)}function N_(n){return Pg.apply(this,arguments)}function Pg(){return(Pg=(0,ue.Z)(function*(n){const e=n.app;Sg(e);const{provider:t}=Ts(e);if(pp()){const i=yield xg(),{token:c}=yield jh(lv(e,i),n.heartbeatServiceProvider);return{token:c}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function kg(n,e){const t=Ts(n),i=t.tokenObservers.filter(c=>c.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function Fg(n){const{app:e}=n,t=Ts(e);let i=t.tokenRefresher;i||(i=function nb(n){const{app:e}=n;return new Q1((0,ue.Z)(function*(){let i;if(i=Ts(e).token?yield Rg(n,!0):yield Rg(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Ts(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},Cg.RETRIAL_MIN_WAIT,Cg.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Mu(n){return n.expireTimeMillis-Date.now()>0}function pv(n){return{token:fv(A_),error:n}}class gv{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ts(this.app);for(const t of e)kg(this.app,t.next);return Promise.resolve()}}const x_="app-check-internal";!function ob(){(0,Ee.Xd)(new ce.wA("app-check",n=>function O_(n,e){return new gv(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(x_).initialize()})),(0,Ee.Xd)(new ce.wA(x_,n=>function rb(n){return{getToken:e=>Rg(n,e),getLimitedUseToken:()=>N_(n),addTokenListener:e=>function gp(n,e,t,i){const{app:c}=n,p=Ts(c);if(p.tokenObservers=[...p.tokenObservers,{next:t,error:i,type:e}],p.token&&Mu(p.token)){const T=p.token;Promise.resolve().then(()=>{t({token:T.token}),Fg(n)}).catch(()=>{})}p.cachedTokenPromise.then(()=>Fg(n))}(n,"INTERNAL",e),removeTokenListener:e=>kg(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ee.KN)("@firebase/app-check","0.8.0")}();class Xl{constructor(){return(0,b.vb)("app-check")}}typeof window<"u"&&window;var nn,cb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Cl={},lb=lb||{},_r=cb||self;function Tv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Yh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var ub="closure_uid_"+(1e9*Math.random()>>>0),db=0;function Cv(n,e,t){return n.call.apply(n.bind,arguments)}function rE(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,i),n.apply(e,c)}}return function(){return n.apply(e,arguments)}}function da(n,e,t){return(da=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Cv:rE).apply(null,arguments)}function yp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ls(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,c,p){for(var _=Array(arguments.length-2),T=2;T<arguments.length;T++)_[T-2]=arguments[T];return e.prototype[c].apply(i,_)}}function Ru(){this.s=this.s,this.o=this.o}Ru.prototype.s=!1,Ru.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Dv(n){Object.prototype.hasOwnProperty.call(n,ub)&&n[ub]||(n[ub]=++db)}(this)},Ru.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Sv=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Qh(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function ld(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Tv(i)){const c=n.length||0,p=i.length||0;n.length=c+p;for(let _=0;_<p;_++)n[c+_]=i[_]}else n.push(i)}}function Bs(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Bs.prototype.h=function(){this.defaultPrevented=!0};var hb=function(){if(!_r.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{_r.addEventListener("test",()=>{},e),_r.removeEventListener("test",()=>{},e)}catch{}return n}();function Jh(n){return/^[\s\xa0]*$/.test(n)}function Xh(){var n=_r.navigator;return n&&(n=n.userAgent)?n:""}function ol(n){return-1!=Xh().indexOf(n)}function k_(n){return k_[" "](n),n}k_[" "]=function(){};var vp,n,fb=ol("Opera"),ef=ol("Trident")||ol("MSIE"),L_=ol("Edge"),Av=L_||ef,pb=ol("Gecko")&&!(-1!=Xh().toLowerCase().indexOf("webkit")&&!ol("Edge"))&&!(ol("Trident")||ol("MSIE"))&&!ol("Edge"),tf=-1!=Xh().toLowerCase().indexOf("webkit")&&!ol("Edge");function nf(){var n=_r.document;return n?n.documentMode:void 0}e:{var zg="",rf=(n=Xh(),pb?/rv:([^\);]+)(\)|;)/.exec(n):L_?/Edge\/([\d\.]+)/.exec(n):ef?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):tf?/WebKit\/(\S+)/.exec(n):fb?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(rf&&(zg=rf?rf[1]:""),ef){var Wg=nf();if(null!=Wg&&Wg>parseFloat(zg)){vp=String(Wg);break e}}vp=zg}var bp=_r.document&&ef&&(nf()||parseInt(vp,10))||void 0;function dd(n,e){if(Bs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(pb){e:{try{k_(e.nodeName);var c=!0;break e}catch{}c=!1}c||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:iE[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&dd.$.h.call(this)}}Ls(dd,Bs);var iE={2:"touch",3:"pen",4:"mouse"};dd.prototype.h=function(){dd.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var nh="closure_listenable_"+(1e6*Math.random()|0),gb=0;function wp(n,e,t,i,c){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=c,this.key=++gb,this.fa=this.ia=!1}function qg(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function B_(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function Nv(n){const e={};for(const t in n)e[t]=n[t];return e}const Ip="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sf(n,e){let t,i;for(let c=1;c<arguments.length;c++){for(t in i=arguments[c],i)n[t]=i[t];for(let p=0;p<Ip.length;p++)t=Ip[p],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Ep(n){this.src=n,this.g={},this.h=0}function af(n,e){var t=e.type;if(t in n.g){var p,i=n.g[t],c=Sv(i,e);(p=0<=c)&&Array.prototype.splice.call(i,c,1),p&&(qg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function rh(n,e,t,i){for(var c=0;c<n.length;++c){var p=n[c];if(!p.fa&&p.listener==e&&p.capture==!!t&&p.la==i)return c}return-1}Ep.prototype.add=function(n,e,t,i,c){var p=n.toString();(n=this.g[p])||(n=this.g[p]=[],this.h++);var _=rh(n,e,i,c);return-1<_?(e=n[_],t||(e.ia=!1)):((e=new wp(e,this.src,p,!!i,c)).ia=t,n.push(e)),e};var Mc="closure_lm_"+(1e6*Math.random()|0),Pu={};function V_(n,e,t,i,c){if(i&&i.once)return U_(n,e,t,i,c);if(Array.isArray(e)){for(var p=0;p<e.length;p++)V_(n,e[p],t,i,c);return null}return t=Kg(t),n&&n[nh]?n.O(e,t,Yh(i)?!!i.capture:!!i,c):mb(n,e,t,!1,i,c)}function mb(n,e,t,i,c,p){if(!e)throw Error("Invalid event type");var _=Yh(c)?!!c.capture:!!c,T=Zg(n);if(T||(n[Mc]=T=new Ep(n)),(t=T.add(e,t,i,_,p)).proxy)return t;if(i=function Ov(){const e=sE;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)hb||(c=_),void 0===c&&(c=!1),n.addEventListener(e.toString(),i,c);else if(n.attachEvent)n.attachEvent(_b(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function U_(n,e,t,i,c){if(Array.isArray(e)){for(var p=0;p<e.length;p++)U_(n,e[p],t,i,c);return null}return t=Kg(t),n&&n[nh]?n.P(e,t,Yh(i)?!!i.capture:!!i,c):mb(n,e,t,!0,i,c)}function ih(n,e,t,i,c){if(Array.isArray(e))for(var p=0;p<e.length;p++)ih(n,e[p],t,i,c);else i=Yh(i)?!!i.capture:!!i,t=Kg(t),n&&n[nh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=rh(p=n.g[e],t,i,c))&&(qg(p[t]),Array.prototype.splice.call(p,t,1),0==p.length&&(delete n.g[e],n.h--))):n&&(n=Zg(n))&&(e=n.g[e.toString()],n=-1,e&&(n=rh(e,t,i,c)),(t=-1<n?e[n]:null)&&Mv(t))}function Mv(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[nh])af(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(_b(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Zg(e))?(af(t,n),0==t.h&&(t.src=null,e[Mc]=null)):qg(n)}}}function _b(n){return n in Pu?Pu[n]:Pu[n]="on"+n}function sE(n,e){if(n.fa)n=!0;else{e=new dd(e,this);var t=n.listener,i=n.la||n.src;n.ia&&Mv(n),n=t.call(i,e)}return n}function Zg(n){return(n=n[Mc])instanceof Ep?n:null}var H_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kg(n){return"function"==typeof n?n:(n[H_]||(n[H_]=function(e){return n.handleEvent(e)}),n[H_])}function Ho(){Ru.call(this),this.i=new Ep(this),this.S=this,this.J=null}function Go(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Bs(e,n);else if(e instanceof Bs)e.target=e.target||n;else{var c=e;sf(e=new Bs(i,n),c)}if(c=!0,t)for(var p=t.length-1;0<=p;p--){var _=e.g=t[p];c=Yg(_,i,!0,e)&&c}if(c=Yg(_=e.g=n,i,!0,e)&&c,c=Yg(_,i,!1,e)&&c,t)for(p=0;p<t.length;p++)c=Yg(_=e.g=t[p],i,!1,e)&&c}function Yg(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,p=0;p<e.length;++p){var _=e[p];if(_&&!_.fa&&_.capture==t){var T=_.listener,F=_.la||_.src;_.ia&&af(n.i,_),c=!1!==T.call(F,i)&&c}}return c&&!i.defaultPrevented}Ls(Ho,Ru),Ho.prototype[nh]=!0,Ho.prototype.removeEventListener=function(n,e,t,i){ih(this,n,e,t,i)},Ho.prototype.N=function(){if(Ho.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)qg(t[i]);delete n.g[e],n.h--}}this.J=null},Ho.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Ho.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var xv=_r.JSON.stringify;function Rv(){var n=Qg;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var yb=new class oE{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new G_,n=>n.reset());class G_{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function cE(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Pv(n){_r.setTimeout(()=>{throw n},0)}let cf,ku=!1,Qg=new class aE{constructor(){this.h=this.g=null}add(e,t){const i=yb.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},j_=()=>{const n=_r.Promise.resolve(void 0);cf=()=>{n.then(Jg)}};var Jg=()=>{for(var n;n=Rv();){try{n.h.call(n.g)}catch(t){Pv(t)}var e=yb;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}ku=!1};function fd(n,e){Ho.call(this),this.h=n||1,this.g=e||_r,this.j=da(this.qb,this),this.l=Date.now()}function sh(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Xg(n,e,t){if("function"==typeof n)t&&(n=da(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=da(n.handleEvent,n)}return 2147483647<Number(e)?-1:_r.setTimeout(n,e||0)}function $_(n){n.g=Xg(()=>{n.g=null,n.i&&(n.i=!1,$_(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ls(fd,Ho),(nn=fd.prototype).ga=!1,nn.T=null,nn.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Go(this,"tick"),this.ga&&(sh(this),this.start()))}},nn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nn.N=function(){fd.$.N.call(this),sh(this),delete this.g};class z_ extends Ru{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$_(this)}N(){super.N(),this.g&&(_r.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function em(n){Ru.call(this),this.h=n,this.g={}}Ls(em,Ru);var W_=[];function Tp(n,e,t,i){Array.isArray(t)||(t&&(W_[0]=t.toString()),t=W_);for(var c=0;c<t.length;c++){var p=V_(e,t[c],i||n.handleEvent,!1,n.h||n);if(!p)break;n.g[p.key]=p}}function kv(n){B_(n.g,function(e,t){this.g.hasOwnProperty(t)&&Mv(e)},n),n.g={}}function tm(){this.g=!0}function oh(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function uE(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var c=i[1];if(Array.isArray(c)&&!(1>c.length)){var p=c[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var _=1;_<c.length;_++)c[_]=""}}}return xv(t)}catch{return e}}(n,t)+(i?" "+i:"")})}em.prototype.N=function(){em.$.N.call(this),kv(this)},em.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tm.prototype.Ea=function(){this.g=!1},tm.prototype.info=function(){};var lf={},dE=null;function Dp(){return dE=dE||new Ho}function nm(n){Bs.call(this,lf.Ta,n)}function uf(n){const e=Dp();Go(e,new nm(e))}function bb(n,e){Bs.call(this,lf.STAT_EVENT,n),this.stat=e}function Qa(n){const e=Dp();Go(e,new bb(e,n))}function Cp(n,e){Bs.call(this,lf.Ua,n),this.size=e}function ah(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return _r.setTimeout(function(){n()},e)}lf.Ta="serverreachability",Ls(nm,Bs),lf.STAT_EVENT="statevent",Ls(bb,Bs),lf.Ua="timingevent",Ls(Cp,Bs);var q_={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Lv={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Bv(){}function hE(){}Bv.prototype.h=null;var Fu,rm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Sp(){Bs.call(this,"d")}function Vv(){Bs.call(this,"c")}function ch(){}function im(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new em(this),this.P=fE,this.V=new fd(n=Av?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new K_}function K_(){this.i=null,this.g="",this.h=!1}Ls(Sp,Bs),Ls(Vv,Bs),Ls(ch,Bv),ch.prototype.g=function(){return new XMLHttpRequest},ch.prototype.i=function(){return{}},Fu=new ch;var fE=45e3,Uv={},Y_={};function Q_(n,e,t){n.L=1,n.v=am(tu(e)),n.s=t,n.S=!0,Hv(n,null)}function Hv(n,e){n.G=Date.now(),df(n),n.A=tu(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),cm(t.i,"t",i),n.C=0,t=n.l.J,n.h=new K_,n.g=ly(n.l,t?e:null,!n.s),0<n.O&&(n.M=new z_(da(n.Pa,n,n.g),n.O)),Tp(n.U,n.g,"readystatechange",n.nb),e=n.I?Nv(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),uf(),function lE(n,e,t,i,c,p){n.info(function(){if(n.g)if(p)for(var _="",T=p.split("&"),F=0;F<T.length;F++){var H=T[F].split("=");if(1<H.length){var te=H[0];H=H[1];var pe=te.split("_");_=2<=pe.length&&"type"==pe[1]?_+(te+"=")+H+"&":_+(te+"=redacted&")}}else _=null;else _=p;return"XMLHTTP REQ ("+i+") [attempt "+c+"]: "+e+"\n"+t+"\n"+_})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Ap(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function wb(n,e,t){let c,i=!0;for(;!n.J&&n.C<t.length;){if(c=sm(n,t),c==Y_){4==e&&(n.o=4,Qa(14),i=!1),oh(n.j,n.m,null,"[Incomplete Response]");break}if(c==Uv){n.o=4,Qa(15),oh(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}oh(n.j,n.m,c,null),om(n,c)}Ap(n)&&c!=Y_&&c!=Uv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Qa(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),hh(e),e.M=!0,Qa(11))):(oh(n.j,n.m,t,"[Invalid Chunked Response]"),lh(n),hf(n))}function sm(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Y_:(t=Number(e.substring(t,i)),isNaN(t)?Uv:(i+=1)+t>e.length?Y_:(e=e.slice(i,i+t),n.C=i+t,e))}function df(n){n.Y=Date.now()+n.P,Ib(n,n.P)}function Ib(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ah(da(n.lb,n),e)}function Np(n){n.B&&(_r.clearTimeout(n.B),n.B=null)}function hf(n){0==n.l.H||n.J||mf(n.l,n)}function lh(n){Np(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,sh(n.V),kv(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function om(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||ny(t.i,n)))if(!n.K&&ny(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var c=i;if(0==c[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;su(t),Vu(t)}pm(t),Qa(18)}}else t.Fa=c[1],0<t.Fa-t.V&&37500>c[2]&&t.G&&0==t.A&&!t.v&&(t.v=ah(da(t.ib,t),6e3));if(1>=ty(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Uu(t,11)}else if((n.K||t.g==n)&&su(t),!Jh(e))for(c=t.Ja.g.parse(e),e=0;e<c.length;e++){let H=c[e];if(t.V=H[0],H=H[1],2==t.H)if("c"==H[0]){t.K=H[1],t.pa=H[2];const te=H[3];null!=te&&(t.ra=te,t.l.info("VER="+t.ra));const pe=H[4];null!=pe&&(t.Ga=pe,t.l.info("SVER="+t.Ga));const Ve=H[5];null!=Ve&&"number"==typeof Ve&&0<Ve&&(t.L=i=1.5*Ve,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const ct=n.g;if(ct){const Bt=ct.g?ct.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bt){var p=i.i;p.g||-1==Bt.indexOf("spdy")&&-1==Bt.indexOf("quic")&&-1==Bt.indexOf("h2")||(p.j=p.l,p.g=new Set,p.h&&(Al(p,p.h),p.h=null))}if(i.F){const rn=ct.g?ct.g.getResponseHeader("X-HTTP-Session-Id"):null;rn&&(i.Da=rn,vi(i.I,i.F,rn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var _=n;if((i=t).wa=Qv(i,i.J?i.pa:null,i.Y),_.K){pd(i.i,_);var T=_,F=i.L;F&&T.setTimeout(F),T.B&&(Np(T),df(T)),i.g=_}else iu(i);0<t.j.length&&Pp(t)}else"stop"!=H[0]&&"close"!=H[0]||Uu(t,7);else 3==t.H&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?Uu(t,7):fm(t):"noop"!=H[0]&&t.h&&t.h.Aa(H),t.A=0)}uf()}catch{}}function Db(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Tv(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Tb(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Tv(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Eb(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Tv(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),c=i.length,p=0;p<c;p++)e.call(void 0,i[p],t&&t[p],n)}(nn=im.prototype).setTimeout=function(n){this.P=n},nn.nb=function(n){n=n.target;const e=this.M;e&&3==Oa(n)?e.l():this.Pa(n)},nn.Pa=function(n){try{if(n==this.g)e:{const te=Oa(this.g);var e=this.g.Ia();if(this.g.da(),!(3>te)&&(3!=te||Av||this.g&&(this.h.h||this.g.ja()||gf(this.g)))){this.J||4!=te||7==e||uf(),Np(this);var t=this.g.da();this.ca=t;t:if(Ap(this)){var i=gf(this.g);n="";var c=i.length,p=4==Oa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){lh(this),hf(this);var _="";break t}this.h.i=new _r.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:p&&e==c-1});i.splice(0,c),this.h.g+=n,this.C=0,_=this.h.g}else _=this.g.ja();if(this.i=200==t,function Fv(n,e,t,i,c,p,_){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+c+"]: "+e+"\n"+t+"\n"+p+" "+_})}(this.j,this.u,this.A,this.m,this.W,te,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var T,F=this.g;if((T=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jh(T)){var H=T;break t}}H=null}if(!(t=H)){this.i=!1,this.o=3,Qa(12),lh(this),hf(this);break e}oh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,om(this,t)}this.S?(wb(this,te,_),Av&&this.i&&3==te&&(Tp(this.U,this.V,"tick",this.mb),this.V.start())):(oh(this.j,this.m,_,null),om(this,_)),4==te&&lh(this),this.i&&!this.J&&(4==te?mf(this.l,this):(this.i=!1,df(this)))}else(function cy(n){const e={};n=(n.g&&2<=Oa(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Jh(n[i]))continue;var t=cE(n[i]);const c=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const p=e[c]||[];e[c]=p,p.push(t)}!function hd(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<_.indexOf("Unknown SID")?(this.o=3,Qa(12)):(this.o=0,Qa(13)),lh(this),hf(this)}}}catch{}},nn.mb=function(){if(this.g){var n=Oa(this.g),e=this.g.ja();this.C<e.length&&(Np(this),wb(this,n,e),this.i&&4!=n&&df(this))}},nn.cancel=function(){this.J=!0,lh(this)},nn.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function vb(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(uf(),Qa(17)),lh(this),this.o=2,hf(this)):Ib(this,this.Y-n)};var J_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ha(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ha){this.h=n.h,jv(this,n.j),this.s=n.s,this.g=n.g,ff(this,n.m),this.l=n.l;var e=n.i,t=new xp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Lu(this,t),this.o=n.o}else n&&(e=String(n).match(J_))?(this.h=!1,jv(this,e[1]||"",!0),this.s=Op(e[2]||""),this.g=Op(e[3]||"",!0),ff(this,e[4]),this.l=Op(e[5]||"",!0),Lu(this,e[6]||"",!0),this.o=Op(e[7]||"")):(this.h=!1,this.i=new xp(null,this.h))}function tu(n){return new ha(n)}function jv(n,e,t){n.j=t?Op(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ff(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Lu(n,e,t){e instanceof xp?(n.i=e,function qv(n,e){e&&!n.j&&(nu(n),n.i=null,n.g.forEach(function(t,i){var c=i.toLowerCase();i!=c&&(zv(this,i),cm(this,c,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Mp(e,pE)),n.i=new xp(e,n.h))}function vi(n,e,t){n.i.set(e,t)}function am(n){return vi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Op(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Mp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,X_),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function X_(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ha.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Mp(e,Sl,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Mp(e,Sl,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Mp(t,"/"==t.charAt(0)?Cb:$v,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Mp(t,jo)),n.join("")};var Sl=/[#\/\?@]/g,$v=/[#\?:]/g,Cb=/[#\?]/g,pE=/[#\?@]/g,jo=/#/g;function xp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function nu(n){n.g||(n.g=new Map,n.h=0,n.i&&function Gv(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),c=null;if(0<=i){var p=n[t].substring(0,i);c=n[t].substring(i+1)}else p=n[t];e(p,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function zv(n,e){nu(n),e=uh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Wv(n,e){return nu(n),e=uh(n,e),n.g.has(e)}function cm(n,e,t){zv(n,e),0<t.length&&(n.i=null,n.g.set(uh(n,e),Qh(t)),n.h+=t.length)}function uh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function ey(n){this.l=n||Zv,n=_r.PerformanceNavigationTiming?0<(n=_r.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(_r.g&&_r.g.Ka&&_r.g.Ka()&&_r.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(nn=xp.prototype).add=function(n,e){nu(this),this.i=null,n=uh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},nn.forEach=function(n,e){nu(this),this.g.forEach(function(t,i){t.forEach(function(c){n.call(e,c,i,this)},this)},this)},nn.ta=function(){nu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const c=n[i];for(let p=0;p<c.length;p++)t.push(e[i])}return t},nn.Z=function(n){nu(this);let e=[];if("string"==typeof n)Wv(this,n)&&(e=e.concat(this.g.get(uh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},nn.set=function(n,e){return nu(this),this.i=null,Wv(this,n=uh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},nn.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},nn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const p=encodeURIComponent(String(i)),_=this.Z(i);for(i=0;i<_.length;i++){var c=p;""!==_[i]&&(c+="="+encodeURIComponent(String(_[i]))),n.push(c)}}return this.i=n.join("&")};var Zv=10;function Ab(n){return!!n.h||!!n.g&&n.g.size>=n.j}function ty(n){return n.h?1:n.g?n.g.size:0}function ny(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Al(n,e){n.g?n.g.add(e):n.h=e}function pd(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function al(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Qh(n.i)}ey.prototype.cancel=function(){if(this.i=al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var gd=class{stringify(n){return _r.JSON.stringify(n,void 0)}parse(n){return _r.JSON.parse(n,void 0)}};function ry(){this.g=new gd}function xc(n,e,t){const i=t||"";try{Db(n,function(c,p){let _=c;Yh(c)&&(_=xv(c)),e.push(i+p+"="+encodeURIComponent(_))})}catch(c){throw e.push(i+"type="+encodeURIComponent("_badmap")),c}}function Rp(n,e,t,i,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(i)}catch{}}function Bu(n){this.l=n.fc||null,this.j=n.ob||!1}function md(n,e){Ho.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=cl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ls(Bu,Bv),Bu.prototype.g=function(){return new md(this.l,this.j)},Bu.prototype.i=function(n){return function(){return n}}({}),Ls(md,Ho);var cl=0;function lm(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function pf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,um(n)}function um(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(nn=md.prototype).open=function(n,e){if(this.readyState!=cl)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,um(this)},nn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||_r).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},nn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pf(this)),this.readyState=cl},nn.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,um(this)),this.g&&(this.readyState=3,um(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof _r.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lm(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},nn.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?pf(this):um(this),3==this.readyState&&lm(this)}},nn.Za=function(n){this.g&&(this.response=this.responseText=n,pf(this))},nn.Ya=function(n){this.g&&(this.response=n,pf(this))},nn.ka=function(){this.g&&pf(this)},nn.setRequestHeader=function(n,e){this.v.append(n,e)},nn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},nn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(md.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Nb=_r.JSON.parse;function fs(n){Ho.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=sy,this.L=this.M=!1}Ls(fs,Ho);var sy="",Ob=/^https?$/i,Mb=["POST","PUT"];function xb(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Kv(n),dh(n)}function Kv(n){n.F||(n.F=!0,Go(n,"complete"),Go(n,"error"))}function ay(n){if(n.h&&typeof lb<"u"&&(!n.C[1]||4!=Oa(n)||2!=n.da()))if(n.v&&4==Oa(n))Xg(n.La,0,n);else if(Go(n,"readystatechange"),4==Oa(n)){n.h=!1;try{const _=n.da();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===_){var c=String(n.I).match(J_)[1]||null;!c&&_r.self&&_r.self.location&&(c=_r.self.location.protocol.slice(0,-1)),i=!Ob.test(c?c.toLowerCase():"")}t=i}if(t)Go(n,"complete"),Go(n,"success");else{n.m=6;try{var p=2<Oa(n)?n.g.statusText:""}catch{p=""}n.j=p+" ["+n.da()+"]",Kv(n)}}finally{dh(n)}}}function dh(n,e){if(n.g){dm(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Go(n,"ready");try{t.onreadystatechange=i}catch{}}}function dm(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(_r.clearTimeout(n.A),n.A=null)}function Oa(n){return n.g?n.g.readyState:0}function gf(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case sy:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function hm(n){let e="";return B_(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function ll(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=hm(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):vi(n,e,t))}function _d(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function ir(n){this.Ga=0,this.j=[],this.l=new tm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=_d("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=_d("baseRetryDelayMs",5e3,n),this.hb=_d("retryDelaySeedMs",1e4,n),this.eb=_d("forwardChannelMaxRetries",2,n),this.xa=_d("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new ey(n&&n.concurrentRequestLimit),this.Ja=new ry,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function fm(n){if(yd(n),3==n.H){var e=n.W++,t=tu(n.I);if(vi(t,"SID",n.K),vi(t,"RID",e),vi(t,"TYPE","terminate"),Eo(n,t),(e=new im(n,n.l,e)).L=2,e.v=am(tu(t)),t=!1,_r.navigator&&_r.navigator.sendBeacon)try{t=_r.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&_r.Image&&((new Image).src=e.v,t=!0),t||(e.g=ly(e.l,null),e.g.ha(e.v)),e.G=Date.now(),df(e)}Rb(n)}function Vu(n){n.g&&(hh(n),n.g.cancel(),n.g=null)}function yd(n){Vu(n),n.u&&(_r.clearTimeout(n.u),n.u=null),su(n),n.i.cancel(),n.m&&("number"==typeof n.m&&_r.clearTimeout(n.m),n.m=null)}function Pp(n){if(!Ab(n.i)&&!n.m){n.m=!0;var e=n.Na;cf||j_(),ku||(cf(),ku=!0),Qg.add(e,n),n.C=0}}function ul(n,e){var t;t=e?e.m:n.W++;const i=tu(n.I);vi(i,"SID",n.K),vi(i,"RID",t),vi(i,"AID",n.V),Eo(n,i),n.o&&n.s&&ll(i,n.o,n.s),t=new im(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=ru(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Al(n.i,t),Q_(t,i,e)}function Eo(n,e){n.na&&B_(n.na,function(t,i){vi(e,i,t)}),n.h&&Db({},function(t,i){vi(e,i,t)})}function ru(n,e,t){t=Math.min(n.j.length,t);var i=n.h?da(n.h.Va,n.h,n):null;e:{var c=n.j;let p=-1;for(;;){const _=["count="+t];-1==p?0<t?(p=c[0].g,_.push("ofs="+p)):p=0:_.push("ofs="+p);let T=!0;for(let F=0;F<t;F++){let H=c[F].g;const te=c[F].map;if(H-=p,0>H)p=Math.max(0,c[F].g-100),T=!1;else try{xc(te,_,"req"+H+"_")}catch{i&&i(te)}}if(T){i=_.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function iu(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;cf||j_(),ku||(cf(),ku=!0),Qg.add(e,n),n.A=0}}function pm(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=ah(da(n.Ma,n),gm(n,n.A)),n.A++,0))}function hh(n){null!=n.B&&(_r.clearTimeout(n.B),n.B=null)}function kp(n){n.g=new im(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=tu(n.wa);vi(e,"RID","rpc"),vi(e,"SID",n.K),vi(e,"AID",n.V),vi(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&vi(e,"TO",n.qa),vi(e,"TYPE","xmlhttp"),Eo(n,e),n.o&&n.s&&ll(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=am(tu(e)),t.s=null,t.S=!0,Hv(t,n)}function su(n){null!=n.v&&(_r.clearTimeout(n.v),n.v=null)}function mf(n,e){var t=null;if(n.g==e){su(n),hh(n),n.g=null;var i=2}else{if(!ny(n.i,e))return;t=e.F,pd(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var c=n.C;Go(i=Dp(),new Cp(i,t)),Pp(n)}else iu(n);else if(3==(c=e.o)||0==c&&0<e.ca||!(1==i&&function Yv(n,e){return!(ty(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=ah(da(n.Na,n,e),gm(n,n.C)),n.C++,0)))}(n,e)||2==i&&pm(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),c){case 1:Uu(n,5);break;case 4:Uu(n,10);break;case 3:Uu(n,6);break;default:Uu(n,2)}}function gm(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Uu(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=da(n.pb,n);t||(t=new ha("//www.google.com/images/cleardot.gif"),_r.location&&"http"==_r.location.protocol||jv(t,"https"),am(t)),function iy(n,e){const t=new tm;if(_r.Image){const i=new Image;i.onload=yp(Rp,t,i,"TestLoadImage: loaded",!0,e),i.onerror=yp(Rp,t,i,"TestLoadImage: error",!1,e),i.onabort=yp(Rp,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=yp(Rp,t,i,"TestLoadImage: timeout",!1,e),_r.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Qa(2);n.H=0,n.h&&n.h.za(e),Rb(n),yd(n)}function Rb(n){if(n.H=0,n.ma=[],n.h){const e=al(n.i);(0!=e.length||0!=n.j.length)&&(ld(n.ma,e),ld(n.ma,n.j),n.i.i.length=0,Qh(n.j),n.j.length=0),n.h.ya()}}function Qv(n,e,t){var i=t instanceof ha?tu(t):new ha(t);if(""!=i.g)e&&(i.g=e+"."+i.g),ff(i,i.m);else{var c=_r.location;i=c.protocol,e=e?e+"."+c.hostname:c.hostname,c=+c.port;var p=new ha(null);i&&jv(p,i),e&&(p.g=e),c&&ff(p,c),t&&(p.l=t),i=p}return e=n.Da,(t=n.F)&&e&&vi(i,t,e),vi(i,"VER",n.ra),Eo(n,i),i}function ly(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new fs(t&&n.Ha&&!n.va?new Bu({ob:!0}):n.va)).Oa(n.J),e}function gc(){}function Fp(){if(ef&&!(10<=Number(bp)))throw Error("Environmental error: no available transport.")}function dl(n,e){Ho.call(this),this.g=new ir(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Jh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Jh(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new _f(this)}function Pb(n){Sp.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Jv(){Vv.call(this),this.status=1}function _f(n){this.g=n}function ou(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function $o(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var c=0;16>c;++c)i[c]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(c=0;16>c;++c)i[c]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var p=n.g[3],_=(e=n.g[0])+(p^(t=n.g[1])&((c=n.g[2])^p))+i[0]+3614090360&4294967295;_=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=t+(_<<7&4294967295|_>>>25))+((_=p+(c^e&(t^c))+i[1]+3905402710&4294967295)<<12&4294967295|_>>>20))+((_=c+(t^p&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^c&(p^e))+i[3]+3250441966&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(c^p))+i[4]+4118548399&4294967295)<<7&4294967295|_>>>25))+((_=p+(c^e&(t^c))+i[5]+1200080426&4294967295)<<12&4294967295|_>>>20))+((_=c+(t^p&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^c&(p^e))+i[7]+4249261313&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(c^p))+i[8]+1770035416&4294967295)<<7&4294967295|_>>>25))+((_=p+(c^e&(t^c))+i[9]+2336552879&4294967295)<<12&4294967295|_>>>20))+((_=c+(t^p&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^c&(p^e))+i[11]+2304563134&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(c^p))+i[12]+1804603682&4294967295)<<7&4294967295|_>>>25))+((_=p+(c^e&(t^c))+i[13]+4254626195&4294967295)<<12&4294967295|_>>>20))+((_=c+(t^p&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^c&(p^e))+i[15]+1236535329&4294967295)<<22&4294967295|_>>>10))+((_=e+(c^p&(t^c))+i[1]+4129170786&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^c&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|_>>>23))+((_=c+(e^t&(p^e))+i[11]+643717713&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(c^p))+i[0]+3921069994&4294967295)<<20&4294967295|_>>>12))+((_=e+(c^p&(t^c))+i[5]+3593408605&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^c&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|_>>>23))+((_=c+(e^t&(p^e))+i[15]+3634488961&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(c^p))+i[4]+3889429448&4294967295)<<20&4294967295|_>>>12))+((_=e+(c^p&(t^c))+i[9]+568446438&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^c&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|_>>>23))+((_=c+(e^t&(p^e))+i[3]+4107603335&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(c^p))+i[8]+1163531501&4294967295)<<20&4294967295|_>>>12))+((_=e+(c^p&(t^c))+i[13]+2850285829&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^c&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|_>>>23))+((_=c+(e^t&(p^e))+i[7]+1735328473&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(c^p))+i[12]+2368359562&4294967295)<<20&4294967295|_>>>12))+((_=e+(t^c^p)+i[5]+4294588738&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^c)+i[8]+2272392833&4294967295)<<11&4294967295|_>>>21))+((_=c+(p^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|_>>>16))+((_=t+(c^p^e)+i[14]+4259657740&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^c^p)+i[1]+2763975236&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^c)+i[4]+1272893353&4294967295)<<11&4294967295|_>>>21))+((_=c+(p^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|_>>>16))+((_=t+(c^p^e)+i[10]+3200236656&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^c^p)+i[13]+681279174&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^c)+i[0]+3936430074&4294967295)<<11&4294967295|_>>>21))+((_=c+(p^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|_>>>16))+((_=t+(c^p^e)+i[6]+76029189&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^c^p)+i[9]+3654602809&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^c)+i[12]+3873151461&4294967295)<<11&4294967295|_>>>21))+((_=c+(p^e^t)+i[15]+530742520&4294967295)<<16&4294967295|_>>>16))+((_=t+(c^p^e)+i[2]+3299628645&4294967295)<<23&4294967295|_>>>9))+((_=e+(c^(t|~p))+i[0]+4096336452&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~c))+i[7]+1126891415&4294967295)<<10&4294967295|_>>>22))+((_=c+(e^(p|~t))+i[14]+2878612391&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(c|~e))+i[5]+4237533241&4294967295)<<21&4294967295|_>>>11))+((_=e+(c^(t|~p))+i[12]+1700485571&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~c))+i[3]+2399980690&4294967295)<<10&4294967295|_>>>22))+((_=c+(e^(p|~t))+i[10]+4293915773&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(c|~e))+i[1]+2240044497&4294967295)<<21&4294967295|_>>>11))+((_=e+(c^(t|~p))+i[8]+1873313359&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~c))+i[15]+4264355552&4294967295)<<10&4294967295|_>>>22))+((_=c+(e^(p|~t))+i[6]+2734768916&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(c|~e))+i[13]+1309151649&4294967295)<<21&4294967295|_>>>11))+((p=(e=t+((_=e+(c^(t|~p))+i[4]+4149444226&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~c))+i[11]+3174756917&4294967295)<<10&4294967295|_>>>22))^((c=p+((_=c+(e^(p|~t))+i[2]+718787259&4294967295)<<15&4294967295|_>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(c+(_<<21&4294967295|_>>>11))&4294967295,n.g[2]=n.g[2]+c&4294967295,n.g[3]=n.g[3]+p&4294967295}function bi(n,e){this.h=e;for(var t=[],i=!0,c=n.length-1;0<=c;c--){var p=0|n[c];i&&p==e||(t[c]=p,i=!1)}this.g=t}(nn=fs.prototype).Oa=function(n){this.M=n},nn.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Fu.g(),this.C=function Z_(n){return n.h||(n.h=n.i())}(this.u?this.u:Fu),this.g.onreadystatechange=da(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(p){return void xb(this,p)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var c in i)t.set(c,i[c]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const p of i.keys())t.set(p,i.get(p))}i=Array.from(t.keys()).find(p=>"content-type"==p.toLowerCase()),c=_r.FormData&&n instanceof _r.FormData,!(0<=Sv(Mb,e))||i||c||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[p,_]of t)this.g.setRequestHeader(p,_);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{dm(this),0<this.B&&((this.L=function oy(n){return ef&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=da(this.ua,this)):this.A=Xg(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(p){xb(this,p)}},nn.ua=function(){typeof lb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Go(this,"timeout"),this.abort(8))},nn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Go(this,"complete"),Go(this,"abort"),dh(this))},nn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dh(this,!0)),fs.$.N.call(this)},nn.La=function(){this.s||(this.G||this.v||this.l?ay(this):this.kb())},nn.kb=function(){ay(this)},nn.isActive=function(){return!!this.g},nn.da=function(){try{return 2<Oa(this)?this.g.status:-1}catch{return-1}},nn.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},nn.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Nb(e)}},nn.Ia=function(){return this.m},nn.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(nn=ir.prototype).ra=8,nn.H=1,nn.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const c=new im(this,this.l,n);let p=this.s;if(this.U&&(p?(p=Nv(p),sf(p,this.U)):p=this.U),null!==this.o||this.O||(c.I=p,p=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ru(this,c,e),vi(t=tu(this.I),"RID",n),vi(t,"CVER",22),this.F&&vi(t,"X-HTTP-Session-Id",this.F),Eo(this,t),p&&(this.O?e="headers="+encodeURIComponent(String(hm(p)))+"&"+e:this.o&&ll(t,this.o,p)),Al(this.i,c),this.bb&&vi(t,"TYPE","init"),this.P?(vi(t,"$req",e),vi(t,"SID","null"),c.aa=!0,Q_(c,t,null)):Q_(c,t,e),this.H=2}}else 3==this.H&&(n?ul(this,n):0==this.j.length||Ab(this.i)||ul(this))},nn.Ma=function(){if(this.u=null,kp(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=ah(da(this.jb,this),n)}},nn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Qa(10),Vu(this),kp(this))},nn.ib=function(){null!=this.v&&(this.v=null,Vu(this),pm(this),Qa(19))},nn.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Qa(2)):(this.l.info("Failed to ping google.com"),Qa(1))},nn.isActive=function(){return!!this.h&&this.h.isActive(this)},(nn=gc.prototype).Ba=function(){},nn.Aa=function(){},nn.za=function(){},nn.ya=function(){},nn.isActive=function(){return!0},nn.Va=function(){},Fp.prototype.g=function(n,e){return new dl(n,e)},Ls(dl,Ho),dl.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Qa(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Qv(n,null,n.Y),Pp(n)},dl.prototype.close=function(){fm(this.g)},dl.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=xv(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Pp(e)},dl.prototype.N=function(){this.g.h=null,delete this.j,fm(this.g),delete this.g,dl.$.N.call(this)},Ls(Pb,Sp),Ls(Jv,Vv),Ls(_f,gc),_f.prototype.Ba=function(){Go(this.g,"a")},_f.prototype.Aa=function(n){Go(this.g,new Pb(n))},_f.prototype.za=function(n){Go(this.g,new Jv)},_f.prototype.ya=function(){Go(this.g,"b")},Ls(ou,function gE(){this.blockSize=-1}),ou.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ou.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,c=this.h,p=0;p<e;){if(0==c)for(;p<=t;)$o(this,n,p),p+=this.blockSize;if("string"==typeof n){for(;p<e;)if(i[c++]=n.charCodeAt(p++),c==this.blockSize){$o(this,i),c=0;break}}else for(;p<e;)if(i[c++]=n[p++],c==this.blockSize){$o(this,i),c=0;break}}this.h=c,this.i+=e},ou.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var kb={};function Xv(n){return-128<=n&&128>n?function F_(n,e){var t=kb;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new bi([0|e],0>e?-1:0)}):new bi([0|n],0>n?-1:0)}function Ja(n){if(isNaN(n)||!isFinite(n))return fh;if(0>n)return To(Ja(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=mm;return new bi(e,0)}var mm=4294967296,fh=Xv(0),uy=Xv(1),Lp=Xv(16777216);function au(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function hl(n){return-1==n.h}function To(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new bi(t,~n.h).add(uy)}function _m(n,e){return n.add(To(e))}function ym(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Bp(n,e){this.g=n,this.h=e}function vm(n,e){if(au(e))throw Error("division by zero");if(au(n))return new Bp(fh,fh);if(hl(n))return e=vm(To(n),e),new Bp(To(e.g),To(e.h));if(hl(e))return e=vm(n,To(e)),new Bp(To(e.g),e.h);if(30<n.g.length){if(hl(n)||hl(e))throw Error("slowDivide_ only works with positive integers.");for(var t=uy,i=e;0>=i.X(n);)t=vd(t),i=vd(i);var c=fa(t,1),p=fa(i,1);for(i=fa(i,2),t=fa(t,2);!au(i);){var _=p.add(i);0>=_.X(n)&&(c=c.add(t),p=_),i=fa(i,1),t=fa(t,1)}return e=_m(n,c.R(e)),new Bp(c,e)}for(c=fh;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),_=(p=Ja(t)).R(e);hl(_)||0<_.X(n);)_=(p=Ja(t-=i)).R(e);au(p)&&(p=uy),c=c.add(p),n=_m(n,_)}return new Bp(c,n)}function vd(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new bi(t,n.h)}function fa(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,c=[],p=0;p<i;p++)c[p]=0<e?n.D(p+t)>>>e|n.D(p+t+1)<<32-e:n.D(p+t);return new bi(c,n.h)}(nn=bi.prototype).ea=function(){if(hl(this))return-To(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:mm+i)*e,e*=mm}return n},nn.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(au(this))return"0";if(hl(this))return"-"+To(this).toString(n);for(var e=Ja(Math.pow(n,6)),t=this,i="";;){var c=vm(t,e).g,p=((0<(t=_m(t,c.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(au(t=c))return p+i;for(;6>p.length;)p="0"+p;i=p+i}},nn.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},nn.X=function(n){return hl(n=_m(this,n))?-1:au(n)?0:1},nn.abs=function(){return hl(this)?To(this):this},nn.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,c=0;c<=e;c++){var p=i+(65535&this.D(c))+(65535&n.D(c)),_=(p>>>16)+(this.D(c)>>>16)+(n.D(c)>>>16);i=_>>>16,t[c]=(_&=65535)<<16|(p&=65535)}return new bi(t,-2147483648&t[t.length-1]?-1:0)},nn.R=function(n){if(au(this)||au(n))return fh;if(hl(this))return hl(n)?To(this).R(To(n)):To(To(this).R(n));if(hl(n))return To(this.R(To(n)));if(0>this.X(Lp)&&0>n.X(Lp))return Ja(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var c=0;c<n.g.length;c++){var p=this.D(i)>>>16,_=65535&this.D(i),T=n.D(c)>>>16,F=65535&n.D(c);t[2*i+2*c]+=_*F,ym(t,2*i+2*c),t[2*i+2*c+1]+=p*F,ym(t,2*i+2*c+1),t[2*i+2*c+1]+=_*T,ym(t,2*i+2*c+1),t[2*i+2*c+2]+=p*T,ym(t,2*i+2*c+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new bi(t,0)},nn.gb=function(n){return vm(this,n).h},nn.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new bi(t,this.h&n.h)},nn.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new bi(t,this.h|n.h)},nn.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new bi(t,this.h^n.h)},Fp.prototype.createWebChannel=Fp.prototype.g,dl.prototype.send=dl.prototype.u,dl.prototype.open=dl.prototype.m,dl.prototype.close=dl.prototype.close,q_.NO_ERROR=0,q_.TIMEOUT=8,q_.HTTP_ERROR=6,Lv.COMPLETE="complete",hE.EventType=rm,rm.OPEN="a",rm.CLOSE="b",rm.ERROR="c",rm.MESSAGE="d",Ho.prototype.listen=Ho.prototype.O,fs.prototype.listenOnce=fs.prototype.P,fs.prototype.getLastError=fs.prototype.Sa,fs.prototype.getLastErrorCode=fs.prototype.Ia,fs.prototype.getStatus=fs.prototype.da,fs.prototype.getResponseJson=fs.prototype.Wa,fs.prototype.getResponseText=fs.prototype.ja,fs.prototype.send=fs.prototype.ha,fs.prototype.setWithCredentials=fs.prototype.Oa,ou.prototype.digest=ou.prototype.l,ou.prototype.reset=ou.prototype.reset,ou.prototype.update=ou.prototype.j,bi.prototype.add=bi.prototype.add,bi.prototype.multiply=bi.prototype.R,bi.prototype.modulo=bi.prototype.gb,bi.prototype.compare=bi.prototype.X,bi.prototype.toNumber=bi.prototype.ea,bi.prototype.toString=bi.prototype.toString,bi.prototype.getBits=bi.prototype.D,bi.fromNumber=Ja,bi.fromString=function yf(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return To(yf(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ja(Math.pow(e,8)),i=fh,c=0;c<n.length;c+=8){var p=Math.min(8,n.length-c),_=parseInt(n.substring(c,c+p),e);8>p?(p=Ja(Math.pow(e,p)),i=i.R(p).add(Ja(_))):i=(i=i.R(t)).add(Ja(_))}return i};var Vp=Cl.createWebChannelTransport=function(){return new Fp},bm=Cl.getStatEventTarget=function(){return Dp()},wm=Cl.ErrorCode=q_,Fb=Cl.EventType=Lv,e0=Cl.Event=lf,dy=Cl.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Im=Cl.FetchXmlHttpFactory=Bu,bd=Cl.WebChannel=hE,mE=Cl.XhrIo=fs,Up=Cl.Md5=ou,Hu=Cl.Integer=bi;const vf="@firebase/firestore";class Do{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Do.UNAUTHENTICATED=new Do(null),Do.GOOGLE_CREDENTIALS=new Do("google-credentials-uid"),Do.FIRST_PARTY=new Do("first-party-uid"),Do.MOCK_USER=new Do("mock-user");let Gu="9.23.0";const Ma=new Re.Yd("@firebase/firestore");function t0(){return Ma.logLevel}function xt(n,...e){if(Ma.logLevel<=Re.in.DEBUG){const t=e.map(Em);Ma.debug(`Firestore (${Gu}): ${n}`,...t)}}function Vs(n,...e){if(Ma.logLevel<=Re.in.ERROR){const t=e.map(Em);Ma.error(`Firestore (${Gu}): ${n}`,...t)}}function fl(n,...e){if(Ma.logLevel<=Re.in.WARN){const t=e.map(Em);Ma.warn(`Firestore (${Gu}): ${n}`,...t)}}function Em(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function cn(n="Unexpected state"){const e=`FIRESTORE (${Gu}) INTERNAL ASSERTION FAILED: `+n;throw Vs(e),new Error(e)}function In(n,e){n||cn()}function Xt(n,e){return n}const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class St extends fe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Js{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class hy{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Lb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Do.UNAUTHENTICATED))}shutdown(){}}class r0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class s0{constructor(e){this.t=e,this.currentUser=Do.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let c=this.i;const p=H=>this.i!==c?(c=this.i,t(H)):Promise.resolve();let _=new Js;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new Js,e.enqueueRetryable(()=>p(this.currentUser))};const T=()=>{const H=_;e.enqueueRetryable((0,ue.Z)(function*(){yield H.promise,yield p(i.currentUser)}))},F=H=>{xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(H=>F(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?F(H):(xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new Js)}},0),T()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(In("string"==typeof i.accessToken),new hy(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return In(null===e||"string"==typeof e),new Do(e)}}class o0{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=Do.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class bf{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new o0(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Do.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class a0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Tm{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=p=>{null!=p.error&&xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const _=p.token!==this.T;return this.T=p.token,xt("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?t(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>i(p))};const c=p=>{xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.I.onInit(p=>c(p)),setTimeout(()=>{if(!this.appCheck){const p=this.I.getImmediate({optional:!0});p?c(p):xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(In("string"==typeof t.token),this.T=t.token,new a0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Vb(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class c0{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const c=Vb(40);for(let p=0;p<c.length;++p)i.length<20&&c[p]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(c[p]%62))}return i}}function Qn(n,e){return n<e?-1:n>e?1:0}function ph(n,e,t){return n.length===e.length&&n.every((i,c)=>t(i,e[c]))}class Xr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new St(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new St(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new St(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new St(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xr.fromMillis(Date.now())}static fromDate(e){return Xr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Xr(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qn(this.nanoseconds,e.nanoseconds):Qn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nn(e)}static min(){return new Nn(new Xr(0,0))}static max(){return new Nn(new Xr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ju{constructor(e,t,i){void 0===t?t=0:t>e.length&&cn(),void 0===i?i=e.length-t:i>e.length-t&&cn(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===ju.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ju?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let c=0;c<i;c++){const p=e.get(c),_=t.get(c);if(p<_)return-1;if(p>_)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class jr extends ju{construct(e,t,i){return new jr(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new St(it.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(c=>c.length>0))}return new jr(t)}static emptyPath(){return new jr([])}}const Ub=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Us extends ju{construct(e,t,i){return new Us(e,t,i)}static isValidIdentifier(e){return Ub.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Us.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Us(["__name__"])}static fromServerFormat(e){const t=[];let i="",c=0;const p=()=>{if(0===i.length)throw new St(it.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let _=!1;for(;c<e.length;){const T=e[c];if("\\"===T){if(c+1===e.length)throw new St(it.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const F=e[c+1];if("\\"!==F&&"."!==F&&"`"!==F)throw new St(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=F,c+=2}else"`"===T?(_=!_,c++):"."!==T||_?(i+=T,c++):(p(),c++)}if(p(),_)throw new St(it.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Us(t)}static emptyPath(){return new Us([])}}class Yt{constructor(e){this.path=e}static fromPath(e){return new Yt(jr.fromString(e))}static fromName(e){return new Yt(jr.fromString(e).popFirst(5))}static empty(){return new Yt(jr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===jr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return jr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Yt(new jr(e.slice()))}}function gh(n){return new mc(n.readTime,n.key,-1)}class mc{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new mc(Nn.min(),Yt.empty(),-1)}static max(){return new mc(Nn.max(),Yt.empty(),-1)}}function Dm(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Yt.comparator(n.documentKey,e.documentKey),0!==t?t:Qn(n.largestBatchId,e.largestBatchId))}const Cm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function wd(n){return mh.apply(this,arguments)}function mh(){return mh=(0,ue.Z)(function*(n){if(n.code!==it.FAILED_PRECONDITION||n.message!==Cm)throw n;xt("LocalStore","Unexpectedly lost primary lease")}),mh.apply(this,arguments)}class qe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&cn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new qe((i,c)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(i,c)},this.catchCallback=p=>{this.wrapFailure(t,p).next(i,c)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof qe?t:qe.resolve(t)}catch(t){return qe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):qe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):qe.reject(t)}static resolve(e){return new qe((t,i)=>{t(e)})}static reject(e){return new qe((t,i)=>{i(e)})}static waitFor(e){return new qe((t,i)=>{let c=0,p=0,_=!1;e.forEach(T=>{++c,T.next(()=>{++p,_&&p===c&&t()},F=>i(F))}),_=!0,p===c&&t()})}static or(e){let t=qe.resolve(!1);for(const i of e)t=t.next(c=>c?qe.resolve(c):i());return t}static forEach(e,t){const i=[];return e.forEach((c,p)=>{i.push(t.call(this,c,p))}),this.waitFor(i)}static mapArray(e,t){return new qe((i,c)=>{const p=e.length,_=new Array(p);let T=0;for(let F=0;F<p;F++){const H=F;t(e[H]).next(te=>{_[H]=te,++T,T===p&&i(_)},te=>c(te))}})}static doWhile(e,t){return new qe((i,c)=>{const p=()=>{!0===e()?t().next(()=>{p()},c):i()};p()})}}function cu(n){return"IndexedDbTransactionError"===n.name}let os=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=c=>this.ot(c),this.ut=c=>i.writeSequenceNumber(c))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Id(n){return null==n}function uu(n){return 0===n&&1/n==-1/0}function On(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function En(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function hr(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Wt{constructor(e,t){this.comparator=e,this.root=t||Rn.EMPTY}insert(e,t){return new Wt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const c=this.comparator(e,i.key);if(0===c)return t+i.left.size;c<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new or(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new or(this.root,e,this.comparator,!1)}getReverseIterator(){return new or(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new or(this.root,e,this.comparator,!0)}}class or{constructor(e,t,i,c){this.isReverse=c,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=t?i(e.key,t):1,t&&c&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rn{constructor(e,t,i,c,p){this.key=e,this.value=t,this.color=i??Rn.RED,this.left=c??Rn.EMPTY,this.right=p??Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,c,p){return new Rn(e??this.key,t??this.value,i??this.color,c??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let c=this;const p=i(e,c.key);return c=p<0?c.copy(null,null,null,c.left.insert(e,t,i),null):0===p?c.copy(null,t,null,null,null):c.copy(null,null,null,null,c.right.insert(e,t,i)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,c=this;if(t(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,t),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===t(e,c.key)){if(c.right.isEmpty())return Rn.EMPTY;i=c.right.min(),c=c.copy(i.key,i.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,t))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw cn();const e=this.left.check();if(e!==this.right.check())throw cn();return e+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1,Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw cn()}get value(){throw cn()}get color(){throw cn()}get left(){throw cn()}get right(){throw cn()}copy(n,e,t,i,c){return this}insert(n,e,t){return new Rn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Tn{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const c=i.getNext();if(this.comparator(c.key,e[1])>=0)return;t(c.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Sr(this.data.getIterator())}getIteratorFrom(e){return new Sr(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Tn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const c=t.getNext().key,p=i.getNext().key;if(0!==this.comparator(c,p))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Tn(this.comparator);return t.data=e,t}}class Sr{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wr{constructor(e){this.fields=e,e.sort(Us.comparator)}static empty(){return new wr([])}unionWith(e){let t=new Tn(Us.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new wr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ph(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Xs extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Xs("Invalid base64 string: "+c):c}}(e);return new yr(t)}static fromUint8Array(e){const t=function(i){let c="";for(let p=0;p<i.length;++p)c+=String.fromCharCode(i[p]);return c}(e);return new yr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yr.EMPTY_BYTE_STRING=new yr("");const kc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function eo(n){if(In(!!n),"string"==typeof n){let e=0;const t=kc.exec(n);if(In(!!t),t[1]){let c=t[1];c=(c+"000000000").substr(0,9),e=Number(c)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Lt(n.seconds),nanos:Lt(n.nanos)}}function Lt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function an(n){return"string"==typeof n?yr.fromBase64String(n):yr.fromUint8Array(n)}function Vn(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ar(n){const e=n.mapValue.fields.__previous_value__;return Vn(e)?ar(e):e}function Ri(n){const e=eo(n.mapValue.fields.__local_write_time__.timestampValue);return new Xr(e.seconds,e.nanos)}class ec{constructor(e,t,i,c,p,_,T,F,H){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=c,this.ssl=p,this.forceLongPolling=_,this.autoDetectLongPolling=T,this.longPollingOptions=F,this.useFetchStreams=H}}class Zi{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Zi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Zi&&e.projectId===this.projectId&&e.database===this.database}}const to={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function So(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Vn(n)?4:Sd(n)?9007199254740991:10:cn()}function pa(n,e){if(n===e)return!0;const t=So(n);if(t!==So(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ri(n).isEqual(Ri(e));case 3:return function(i,c){if("string"==typeof i.timestampValue&&"string"==typeof c.timestampValue&&i.timestampValue.length===c.timestampValue.length)return i.timestampValue===c.timestampValue;const p=eo(i.timestampValue),_=eo(c.timestampValue);return p.seconds===_.seconds&&p.nanos===_.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return c=e,an(n.bytesValue).isEqual(an(c.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,c){return Lt(i.geoPointValue.latitude)===Lt(c.geoPointValue.latitude)&&Lt(i.geoPointValue.longitude)===Lt(c.geoPointValue.longitude)}(n,e);case 2:return function(i,c){if("integerValue"in i&&"integerValue"in c)return Lt(i.integerValue)===Lt(c.integerValue);if("doubleValue"in i&&"doubleValue"in c){const p=Lt(i.doubleValue),_=Lt(c.doubleValue);return p===_?uu(p)===uu(_):isNaN(p)&&isNaN(_)}return!1}(n,e);case 9:return ph(n.arrayValue.values||[],e.arrayValue.values||[],pa);case 10:return function(i,c){const p=i.mapValue.fields||{},_=c.mapValue.fields||{};if(On(p)!==On(_))return!1;for(const T in p)if(p.hasOwnProperty(T)&&(void 0===_[T]||!pa(p[T],_[T])))return!1;return!0}(n,e);default:return cn()}var c}function Ki(n,e){return void 0!==(n.values||[]).find(t=>pa(t,e))}function Ds(n,e){if(n===e)return 0;const t=So(n),i=So(e);if(t!==i)return Qn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qn(n.booleanValue,e.booleanValue);case 2:return function(c,p){const _=Lt(c.integerValue||c.doubleValue),T=Lt(p.integerValue||p.doubleValue);return _<T?-1:_>T?1:_===T?0:isNaN(_)?isNaN(T)?0:-1:1}(n,e);case 3:return ga(n.timestampValue,e.timestampValue);case 4:return ga(Ri(n),Ri(e));case 5:return Qn(n.stringValue,e.stringValue);case 6:return function(c,p){const _=an(c),T=an(p);return _.compareTo(T)}(n.bytesValue,e.bytesValue);case 7:return function(c,p){const _=c.split("/"),T=p.split("/");for(let F=0;F<_.length&&F<T.length;F++){const H=Qn(_[F],T[F]);if(0!==H)return H}return Qn(_.length,T.length)}(n.referenceValue,e.referenceValue);case 8:return function(c,p){const _=Qn(Lt(c.latitude),Lt(p.latitude));return 0!==_?_:Qn(Lt(c.longitude),Lt(p.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(c,p){const _=c.values||[],T=p.values||[];for(let F=0;F<_.length&&F<T.length;++F){const H=Ds(_[F],T[F]);if(H)return H}return Qn(_.length,T.length)}(n.arrayValue,e.arrayValue);case 10:return function(c,p){if(c===to.mapValue&&p===to.mapValue)return 0;if(c===to.mapValue)return 1;if(p===to.mapValue)return-1;const _=c.fields||{},T=Object.keys(_),F=p.fields||{},H=Object.keys(F);T.sort(),H.sort();for(let te=0;te<T.length&&te<H.length;++te){const pe=Qn(T[te],H[te]);if(0!==pe)return pe;const Ve=Ds(_[T[te]],F[H[te]]);if(0!==Ve)return Ve}return Qn(T.length,H.length)}(n.mapValue,e.mapValue);default:throw cn()}}function ga(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Qn(n,e);const t=eo(n),i=eo(e),c=Qn(t.seconds,i.seconds);return 0!==c?c:Qn(t.nanos,i.nanos)}function pl(n){return Ol(n)}function Ol(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const c=eo(i);return`time(${c.seconds},${c.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?an(n.bytesValue).toBase64():"referenceValue"in n?Yt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let c="[",p=!0;for(const _ of i.values||[])p?p=!1:c+=",",c+=Ol(_);return c+"]"}(n.arrayValue):"mapValue"in n?function(i){const c=Object.keys(i.fields||{}).sort();let p="{",_=!0;for(const T of c)_?_=!1:p+=",",p+=`${T}:${Ol(i.fields[T])}`;return p+"}"}(n.mapValue):cn();var e}function Dd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Sf(n){return!!n&&"integerValue"in n}function Cd(n){return!!n&&"arrayValue"in n}function jp(n){return!!n&&"nullValue"in n}function Sm(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Am(n){return!!n&&"mapValue"in n}function $p(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return En(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=$p(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$p(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Sd(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class zo{constructor(e){this.value=e}static empty(){return new zo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Am(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$p(t)}setAll(e){let t=Us.emptyPath(),i={},c=[];e.forEach((_,T)=>{if(!t.isImmediateParentOf(T)){const F=this.getFieldsMap(t);this.applyChanges(F,i,c),i={},c=[],t=T.popLast()}_?i[T.lastSegment()]=$p(_):c.push(T.lastSegment())});const p=this.getFieldsMap(t);this.applyChanges(p,i,c)}delete(e){const t=this.field(e.popLast());Am(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return pa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let c=t.mapValue.fields[e.get(i)];Am(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=c),t=c}return t.mapValue.fields}applyChanges(e,t,i){En(t,(c,p)=>e[c]=p);for(const c of i)delete e[c]}clone(){return new zo($p(this.value))}}function gy(n){const e=[];return En(n.fields,(t,i)=>{const c=new Us([t]);if(Am(i)){const p=gy(i.mapValue).fields;if(0===p.length)e.push(c);else for(const _ of p)e.push(c.child(_))}else e.push(c)}),new wr(e)}class Pi{constructor(e,t,i,c,p,_,T){this.key=e,this.documentType=t,this.version=i,this.readTime=c,this.createTime=p,this.data=_,this.documentState=T}static newInvalidDocument(e){return new Pi(e,0,Nn.min(),Nn.min(),Nn.min(),zo.empty(),0)}static newFoundDocument(e,t,i,c){return new Pi(e,1,t,Nn.min(),i,c,0)}static newNoDocument(e,t){return new Pi(e,2,t,Nn.min(),Nn.min(),zo.empty(),0)}static newUnknownDocument(e,t){return new Pi(e,3,t,Nn.min(),Nn.min(),zo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Nn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Pi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ml{constructor(e,t){this.position=e,this.inclusive=t}}function Zb(n,e,t){let i=0;for(let c=0;c<n.position.length;c++){const p=e[c],_=n.position[c];if(i=p.field.isKeyField()?Yt.comparator(Yt.fromName(_.referenceValue),t.key):Ds(_,t.data.field(p.field)),"desc"===p.dir&&(i*=-1),0!==i)break}return i}function f0(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!pa(n.position[t],e.position[t]))return!1;return!0}class qp{constructor(e,t="asc"){this.field=e,this.dir=t}}function xD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Kb{}class qr extends Kb{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new yE(e,t,i):"array-contains"===t?new wE(e,i):"in"===t?new tw(e,i):"not-in"===t?new g0(e,i):"array-contains-any"===t?new Af(e,i):new qr(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new vE(e,i):new bE(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ds(t,this.value)):null!==t&&So(this.value)===So(t)&&this.matchesComparison(Ds(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return cn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ti extends Kb{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Ti(e,t)}matches(e){return Zp(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Zp(n){return"and"===n.op}function p0(n){return function Qb(n){for(const e of n.filters)if(e instanceof Ti)return!1;return!0}(n)&&Zp(n)}function my(n){if(n instanceof qr)return n.field.canonicalString()+n.op.toString()+pl(n.value);if(p0(n))return n.filters.map(e=>my(e)).join(",");{const e=n.filters.map(t=>my(t)).join(",");return`${n.op}(${e})`}}function _y(n,e){return n instanceof qr?(t=n,(i=e)instanceof qr&&t.op===i.op&&t.field.isEqual(i.field)&&pa(t.value,i.value)):n instanceof Ti?function(t,i){return i instanceof Ti&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((c,p,_)=>c&&_y(p,i.filters[_]),!0)}(n,e):void cn();var t,i}function Xb(n){return n instanceof qr?`${(e=n).field.canonicalString()} ${e.op} ${pl(e.value)}`:n instanceof Ti?function(e){return e.op.toString()+" {"+e.getFilters().map(Xb).join(" ,")+"}"}(n):"Filter";var e}class yE extends qr{constructor(e,t,i){super(e,t,i),this.key=Yt.fromName(i.referenceValue)}matches(e){const t=Yt.comparator(e.key,this.key);return this.matchesComparison(t)}}class vE extends qr{constructor(e,t){super(e,"in",t),this.keys=ew(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bE extends qr{constructor(e,t){super(e,"not-in",t),this.keys=ew(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ew(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Yt.fromName(i.referenceValue))}class wE extends qr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cd(t)&&Ki(t.arrayValue,this.value)}}class tw extends qr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ki(this.value.arrayValue,t)}}class g0 extends qr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ki(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ki(this.value.arrayValue,t)}}class Af extends qr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Ki(this.value.arrayValue,i))}}class RD{constructor(e,t=null,i=[],c=[],p=null,_=null,T=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=c,this.limit=p,this.startAt=_,this.endAt=T,this.dt=null}}function nw(n,e=null,t=[],i=[],c=null,p=null,_=null){return new RD(n,e,t,i,c,p,_)}function bh(n){const e=Xt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>my(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(c=i).field.canonicalString()+c.dir;var c}).join(","),Id(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>pl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>pl(i)).join(",")),e.dt=t}return e.dt}function $u(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!xD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!_y(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!f0(n.startAt,e.startAt)&&f0(n.endAt,e.endAt)}function Om(n){return Yt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Nf{constructor(e,t=null,i=[],c=[],p=null,_="F",T=null,F=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=c,this.limit=p,this.limitType=_,this.startAt=T,this.endAt=F,this.wt=null,this._t=null}}function Mm(n){return new Nf(n)}function rw(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function iw(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function no(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function y0(n){return null!==n.collectionGroup}function Kp(n){const e=Xt(n);if(null===e.wt){e.wt=[];const t=no(e),i=iw(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new qp(t)),e.wt.push(new qp(Us.keyField(),"asc"));else{let c=!1;for(const p of e.explicitOrderBy)e.wt.push(p),p.field.isKeyField()&&(c=!0);if(!c){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new qp(Us.keyField(),p))}}}return e.wt}function Fc(n){const e=Xt(n);if(!e._t)if("F"===e.limitType)e._t=nw(e.path,e.collectionGroup,Kp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const p of Kp(e))t.push(new qp(p.field,"desc"===p.dir?"asc":"desc"));const i=e.endAt?new Ml(e.endAt.position,e.endAt.inclusive):null,c=e.startAt?new Ml(e.startAt.position,e.startAt.inclusive):null;e._t=nw(e.path,e.collectionGroup,t,e.filters,e.limit,i,c)}return e._t}function v0(n,e){e.getFirstInequalityField(),no(n);const t=n.filters.concat([e]);return new Nf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function b0(n,e,t){return new Nf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xm(n,e){return $u(Fc(n),Fc(e))&&n.limitType===e.limitType}function sw(n){return`${bh(Fc(n))}|lt:${n.limitType}`}function Of(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>Xb(i)).join(", ")}]`),Id(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(c=i).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>pl(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>pl(i)).join(",")),`Target(${t})`}(Fc(n))}; limitType=${n.limitType})`}function yy(n,e){return e.isFoundDocument()&&function(t,i){const c=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(c):Yt.isDocumentKey(t.path)?t.path.isEqual(c):t.path.isImmediateParentOf(c)}(n,e)&&function(t,i){for(const c of Kp(t))if(!c.field.isKeyField()&&null===i.data.field(c.field))return!1;return!0}(n,e)&&function(t,i){for(const c of t.filters)if(!c.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(c,p,_){const T=Zb(c,p,_);return c.inclusive?T<=0:T<0}(t.startAt,Kp(t),i)||t.endAt&&!function(c,p,_){const T=Zb(c,p,_);return c.inclusive?T>=0:T>0}(t.endAt,Kp(t),i)));var t,i}function ow(n){return(e,t)=>{let i=!1;for(const c of Kp(n)){const p=kD(c,e,t);if(0!==p)return p;i=i||c.field.isKeyField()}return 0}}function kD(n,e,t){const i=n.field.isKeyField()?Yt.comparator(e.key,t.key):function(c,p,_){const T=p.data.field(c),F=_.data.field(c);return null!==T&&null!==F?Ds(T,F):cn()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return cn()}}class Ad{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[c,p]of i)if(this.equalsFn(c,e))return p}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),c=this.inner[i];if(void 0===c)return this.inner[i]=[[e,t]],void this.innerSize++;for(let p=0;p<c.length;p++)if(this.equalsFn(c[p][0],e))return void(c[p]=[e,t]);c.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let c=0;c<i.length;c++)if(this.equalsFn(i[c][0],e))return 1===i.length?delete this.inner[t]:i.splice(c,1),this.innerSize--,!0;return!1}forEach(e){En(this.inner,(t,i)=>{for(const[c,p]of i)e(c,p)})}isEmpty(){return hr(this.inner)}size(){return this.innerSize}}const aS=new Wt(Yt.comparator);function Lc(){return aS}const w0=new Wt(Yt.comparator);function gl(...n){let e=w0;for(const t of n)e=e.insert(t.key,t);return e}function TE(n){let e=w0;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function zu(){return Bc()}function Wu(){return Bc()}function Bc(){return new Ad(n=>n.toString(),(n,e)=>n.isEqual(e))}const qu=new Wt(Yt.comparator),DE=new Tn(Yt.comparator);function Ar(...n){let e=DE;for(const t of n)e=e.add(t);return e}const FD=new Tn(Qn);function CE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uu(e)?"-0":e}}function SE(n){return{integerValue:""+n}}function I0(n,e){return function _h(n){return"number"==typeof n&&Number.isInteger(n)&&!uu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?SE(e):CE(n,e)}class Mf{constructor(){this._=void 0}}function LD(n,e,t){return n instanceof Rm?function(i,c){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return c&&Vn(c)&&(c=ar(c)),c&&(p.fields.__previous_value__=c),{mapValue:p}}(t,e):n instanceof xf?cw(n,e):n instanceof Nd?OE(n,e):function(i,c){const p=NE(i,c),_=lw(p)+lw(i.gt);return Sf(p)&&Sf(i.gt)?SE(_):CE(i.serializer,_)}(n,e)}function AE(n,e,t){return n instanceof xf?cw(n,e):n instanceof Nd?OE(n,e):t}function NE(n,e){return n instanceof Yp?Sf(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Rm extends Mf{}class xf extends Mf{constructor(e){super(),this.elements=e}}function cw(n,e){const t=uw(e);for(const i of n.elements)t.some(c=>pa(c,i))||t.push(i);return{arrayValue:{values:t}}}class Nd extends Mf{constructor(e){super(),this.elements=e}}function OE(n,e){let t=uw(e);for(const i of n.elements)t=t.filter(c=>!pa(c,i));return{arrayValue:{values:t}}}class Yp extends Mf{constructor(e,t){super(),this.serializer=e,this.gt=t}}function lw(n){return Lt(n.integerValue||n.doubleValue)}function uw(n){return Cd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class vy{constructor(e,t){this.field=e,this.transform=t}}class dw{constructor(e,t){this.version=e,this.transformResults=t}}class Yi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Yi}static exists(e){return new Yi(void 0,e)}static updateTime(e){return new Yi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function by(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Pm{}function hw(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Fm(n.key,Yi.none()):new Qp(n.key,n.data,Yi.none());{const t=n.data,i=zo.empty();let c=new Tn(Us.comparator);for(let p of e.fields)if(!c.has(p)){let _=t.field(p);null===_&&p.length>1&&(p=p.popLast(),_=t.field(p)),null===_?i.delete(p):i.set(p,_),c=c.add(p)}return new wh(n.key,i,new wr(c.toArray()),Yi.none())}}function ME(n,e,t){n instanceof Qp?function(i,c,p){const _=i.value.clone(),T=PE(i.fieldTransforms,c,p.transformResults);_.setAll(T),c.convertToFoundDocument(p.version,_).setHasCommittedMutations()}(n,e,t):n instanceof wh?function(i,c,p){if(!by(i.precondition,c))return void c.convertToUnknownDocument(p.version);const _=PE(i.fieldTransforms,c,p.transformResults),T=c.data;T.setAll(RE(i)),T.setAll(_),c.convertToFoundDocument(p.version,T).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function km(n,e,t,i){return n instanceof Qp?function(c,p,_,T){if(!by(c.precondition,p))return _;const F=c.value.clone(),H=kE(c.fieldTransforms,T,p);return F.setAll(H),p.convertToFoundDocument(p.version,F).setHasLocalMutations(),null}(n,e,t,i):n instanceof wh?function(c,p,_,T){if(!by(c.precondition,p))return _;const F=kE(c.fieldTransforms,T,p),H=p.data;return H.setAll(RE(c)),H.setAll(F),p.convertToFoundDocument(p.version,H).setHasLocalMutations(),null===_?null:_.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(te=>te.field))}(n,e,t,i):(_=t,by(n.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):_);var p,_}function xE(n,e){let t=null;for(const i of n.fieldTransforms){const c=e.data.field(i.field),p=NE(i.transform,c||null);null!=p&&(null===t&&(t=zo.empty()),t.set(i.field,p))}return t||null}function fw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&ph(t,i,(c,p)=>function BD(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof xf&&i instanceof xf||t instanceof Nd&&i instanceof Nd?ph(t.elements,i.elements,pa):t instanceof Yp&&i instanceof Yp?pa(t.gt,i.gt):t instanceof Rm&&i instanceof Rm);var t,i}(c,p))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Qp extends Pm{constructor(e,t,i,c=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class wh extends Pm{constructor(e,t,i,c,p=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=c,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function RE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function PE(n,e,t){const i=new Map;In(n.length===t.length);for(let c=0;c<t.length;c++){const p=n[c],_=p.transform,T=e.data.field(p.field);i.set(p.field,AE(_,T,t[c]))}return i}function kE(n,e,t){const i=new Map;for(const c of n){const p=c.transform,_=t.data.field(c.field);i.set(c.field,LD(p,_,e))}return i}class Fm extends Pm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pw extends Pm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gw{constructor(e,t,i,c){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=c}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let c=0;c<this.mutations.length;c++){const p=this.mutations[c];p.key.isEqual(e.key)&&ME(p,e,i[c])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=km(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=km(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Wu();return this.mutations.forEach(c=>{const p=e.get(c.key),_=p.overlayedDocument;let T=this.applyToLocalView(_,p.mutatedFields);T=t.has(c.key)?null:T;const F=hw(_,T);null!==F&&i.set(c.key,F),_.isValidDocument()||_.convertToNoDocument(Nn.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ar())}isEqual(e){return this.batchId===e.batchId&&ph(this.mutations,e.mutations,(t,i)=>fw(t,i))&&ph(this.baseMutations,e.baseMutations,(t,i)=>fw(t,i))}}class mw{constructor(e,t,i,c){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=c}static from(e,t,i){In(e.mutations.length===i.length);let c=qu;const p=e.mutations;for(let _=0;_<p.length;_++)c=c.insert(p[_].key,i[_].version);return new mw(e,t,i,c)}}class _w{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class UD{constructor(e,t){this.count=e,this.unchangedNames=t}}var Wo,oi;function LE(n){if(void 0===n)return Vs("GRPC error has no .code"),it.UNKNOWN;switch(n){case Wo.OK:return it.OK;case Wo.CANCELLED:return it.CANCELLED;case Wo.UNKNOWN:return it.UNKNOWN;case Wo.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case Wo.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case Wo.INTERNAL:return it.INTERNAL;case Wo.UNAVAILABLE:return it.UNAVAILABLE;case Wo.UNAUTHENTICATED:return it.UNAUTHENTICATED;case Wo.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case Wo.NOT_FOUND:return it.NOT_FOUND;case Wo.ALREADY_EXISTS:return it.ALREADY_EXISTS;case Wo.PERMISSION_DENIED:return it.PERMISSION_DENIED;case Wo.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case Wo.ABORTED:return it.ABORTED;case Wo.OUT_OF_RANGE:return it.OUT_OF_RANGE;case Wo.UNIMPLEMENTED:return it.UNIMPLEMENTED;case Wo.DATA_LOSS:return it.DATA_LOSS;default:return cn()}}(oi=Wo||(Wo={}))[oi.OK=0]="OK",oi[oi.CANCELLED=1]="CANCELLED",oi[oi.UNKNOWN=2]="UNKNOWN",oi[oi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oi[oi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oi[oi.NOT_FOUND=5]="NOT_FOUND",oi[oi.ALREADY_EXISTS=6]="ALREADY_EXISTS",oi[oi.PERMISSION_DENIED=7]="PERMISSION_DENIED",oi[oi.UNAUTHENTICATED=16]="UNAUTHENTICATED",oi[oi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oi[oi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oi[oi.ABORTED=10]="ABORTED",oi[oi.OUT_OF_RANGE=11]="OUT_OF_RANGE",oi[oi.UNIMPLEMENTED=12]="UNIMPLEMENTED",oi[oi.INTERNAL=13]="INTERNAL",oi[oi.UNAVAILABLE=14]="UNAVAILABLE",oi[oi.DATA_LOSS=15]="DATA_LOSS";class yw{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return E0}static getOrCreateInstance(){return null===E0&&(E0=new yw),E0}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let E0=null;const VE=new Hu([4294967295,4294967295],0);function vw(n){const e=function BE(){return new TextEncoder}().encode(n),t=new Up;return t.update(e),new Uint8Array(t.digest())}function bw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),c=e.getUint32(8,!0),p=e.getUint32(12,!0);return[new Hu([t,i],0),new Hu([c,p],0)]}class T0{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Lm(`Invalid padding: ${t}`);if(i<0)throw new Lm(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Lm(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Lm(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Hu.fromNumber(this.It)}Et(e,t,i){let c=e.add(t.multiply(Hu.fromNumber(i)));return 1===c.compare(VE)&&(c=new Hu([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=vw(e),[i,c]=bw(t);for(let p=0;p<this.hashCount;p++){const _=this.Et(i,c,p);if(!this.At(_))return!1}return!0}static create(e,t,i){const c=e%8==0?0:8-e%8,p=new Uint8Array(Math.ceil(e/8)),_=new T0(p,c,t);return i.forEach(T=>_.insert(T)),_}insert(e){if(0===this.It)return;const t=vw(e),[i,c]=bw(t);for(let p=0;p<this.hashCount;p++){const _=this.Et(i,c,p);this.Rt(_)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Lm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Bm{constructor(e,t,i,c,p){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=c,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const c=new Map;return c.set(e,Vm.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Bm(Nn.min(),c,new Wt(Qn),Lc(),Ar())}}class Vm{constructor(e,t,i,c,p){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=c,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Vm(i,t,Ar(),Ar(),Ar())}}class wy{constructor(e,t,i,c){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=c}}class ww{constructor(e,t){this.targetId=e,this.Vt=t}}class D0{constructor(e,t,i=yr.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=c}}class Iw{constructor(){this.St=0,this.Dt=HE(),this.Ct=yr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Ar(),t=Ar(),i=Ar();return this.Dt.forEach((c,p)=>{switch(p){case 0:e=e.add(c);break;case 2:t=t.add(c);break;case 1:i=i.add(c);break;default:cn()}}),new Vm(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=HE()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Jp{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Lc(),this.zt=UE(),this.Wt=new Wt(Qn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:cn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,c)=>{this.te(c)&&t(c)})}ne(e){var t;const i=e.targetId,c=e.Vt.count,p=this.se(i);if(p){const _=p.target;if(Om(_))if(0===c){const T=new Yt(_.path);this.Yt(i,T,Pi.newNoDocument(T,Nn.min()))}else In(1===c);else{const T=this.ie(i);if(T!==c){const F=this.re(e,T);0!==F&&(this.ee(i),this.Wt=this.Wt.insert(i,2===F?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=yw.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(H,te,pe){var Ve,ct,Bt,rn,ln,Nr;const ti={localCacheCount:te,existenceFilterCount:pe.count},kr=pe.unchangedNames;return kr&&(ti.bloomFilter={applied:0===H,hashCount:null!==(Ve=kr?.hashCount)&&void 0!==Ve?Ve:0,bitmapLength:null!==(rn=null===(Bt=null===(ct=kr?.bits)||void 0===ct?void 0:ct.bitmap)||void 0===Bt?void 0:Bt.length)&&void 0!==rn?rn:0,padding:null!==(Nr=null===(ln=kr?.bits)||void 0===ln?void 0:ln.padding)&&void 0!==Nr?Nr:0}),ti}(F,T,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:c}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:p="",padding:_=0},hashCount:T=0}=i;let F,H;try{F=an(p).toUint8Array()}catch(te){if(te instanceof Xs)return fl("Decoding the base64 bloom filter in existence filter failed ("+te.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw te}try{H=new T0(F,_,T)}catch(te){return fl(te instanceof Lm?"BloomFilter error: ":"Applying bloom filter failed: ",te),1}return 0===H.It?1:c!==t-this.oe(e.targetId,H)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let c=0;return i.forEach(p=>{const _=this.Gt.ue(),T=`projects/${_.projectId}/databases/${_.database}/documents/${p.path.canonicalString()}`;t.vt(T)||(this.Yt(e,p,null),c++)}),c}ce(e){const t=new Map;this.Qt.forEach((p,_)=>{const T=this.se(_);if(T){if(p.current&&Om(T.target)){const F=new Yt(T.target.path);null!==this.jt.get(F)||this.ae(_,F)||this.Yt(_,F,Pi.newNoDocument(F,e))}p.Mt&&(t.set(_,p.Ot()),p.Ft())}});let i=Ar();this.zt.forEach((p,_)=>{let T=!0;_.forEachWhile(F=>{const H=this.se(F);return!H||"TargetPurposeLimboResolution"===H.purpose||(T=!1,!1)}),T&&(i=i.add(p))}),this.jt.forEach((p,_)=>_.setReadTime(e));const c=new Bm(e,t,this.Wt,this.jt,i);return this.jt=Lc(),this.zt=UE(),this.Wt=new Wt(Qn),c}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const c=this.Zt(e);this.ae(e,t)?c.Bt(t,1):c.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Iw,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Tn(Qn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||xt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Iw),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function UE(){return new Wt(Yt.comparator)}function HE(){return new Wt(Yt.comparator)}const Um={asc:"ASCENDING",desc:"DESCENDING"},cS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ew={and:"AND",or:"OR"};class lS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function C0(n,e){return n.useProto3Json||Id(e)?e:{value:e}}function Xp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HD(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Hm(n,e){return Xp(n,e.toTimestamp())}function Ao(n){return In(!!n),Nn.fromTimestamp(function(e){const t=eo(e);return new Xr(t.seconds,t.nanos)}(n))}function Tw(n,e){return(t=n,new jr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function GE(n){const e=jr.fromString(n);return In($m(e)),e}function Od(n,e){return Tw(n.databaseId,e.path)}function Md(n,e){const t=GE(e);if(t.get(1)!==n.databaseId.projectId)throw new St(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new St(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Yt(GD(t))}function Gm(n,e){return Tw(n.databaseId,e)}function ka(n){return new jr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function GD(n){return In(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Dw(n,e,t){return{name:Od(n,e),fields:t.value.mapValue.fields}}function zE(n,e){return{documents:[Gm(n,e.path)]}}function Sw(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Gm(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Gm(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const c=function(F){if(0!==F.length)return Aw(Ti.create(F,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const p=function(F){if(0!==F.length)return F.map(H=>{return{field:Ih((te=H).field),direction:$D(te.dir)};var te})}(e.orderBy);p&&(t.structuredQuery.orderBy=p);const _=C0(n,e.limit);var T,F;return null!==_&&(t.structuredQuery.limit=_),e.startAt&&(t.structuredQuery.startAt={before:(T=e.startAt).inclusive,values:T.position}),e.endAt&&(t.structuredQuery.endAt={before:!(F=e.endAt).inclusive,values:F.position}),t}function WE(n){let e=function Iy(n){const e=GE(n);return 4===e.length?jr.emptyPath():GD(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let c=null;if(i>0){In(1===i);const te=t.from[0];te.allDescendants?c=te.collectionId:e=e.child(te.collectionId)}let p=[];t.where&&(p=function(te){const pe=qE(te);return pe instanceof Ti&&p0(pe)?pe.getFilters():[pe]}(t.where));let _=[];t.orderBy&&(_=t.orderBy.map(te=>{return new qp(eg((pe=te).field),function(Ve){switch(Ve){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(pe.direction));var pe}));let T=null;t.limit&&(T=function(te){let pe;return pe="object"==typeof te?te.value:te,Id(pe)?null:pe}(t.limit));let F=null;var te;t.startAt&&(F=new Ml((te=t.startAt).values||[],!!te.before));let H=null;return t.endAt&&(H=function(te){return new Ml(te.values||[],!te.before)}(t.endAt)),function IE(n,e,t,i,c,p,_,T){return new Nf(n,e,t,i,c,p,_,T)}(e,c,_,p,T,"F",F,H)}function qE(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=eg(e.unaryFilter.field);return qr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=eg(e.unaryFilter.field);return qr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=eg(e.unaryFilter.field);return qr.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=eg(e.unaryFilter.field);return qr.create(p,"!=",{nullValue:"NULL_VALUE"});default:return cn()}}(n):void 0!==n.fieldFilter?qr.create(eg((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return cn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Ti.create(e.compositeFilter.filters.map(t=>qE(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return cn()}}(e.compositeFilter.op))}(n):cn();var e}function $D(n){return Um[n]}function zD(n){return cS[n]}function A0(n){return Ew[n]}function Ih(n){return{fieldPath:n.canonicalString()}}function eg(n){return Us.fromServerFormat(n.fieldPath)}function Aw(n){return n instanceof qr?function(e){if("=="===e.op){if(Sm(e.value))return{unaryFilter:{field:Ih(e.field),op:"IS_NAN"}};if(jp(e.value))return{unaryFilter:{field:Ih(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Sm(e.value))return{unaryFilter:{field:Ih(e.field),op:"IS_NOT_NAN"}};if(jp(e.value))return{unaryFilter:{field:Ih(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ih(e.field),op:zD(e.op),value:e.value}}}(n):n instanceof Ti?function(e){const t=e.getFilters().map(i=>Aw(i));return 1===t.length?t[0]:{compositeFilter:{op:A0(e.op),filters:t}}}(n):cn()}function WD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function $m(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class xl{constructor(e,t,i,c,p=Nn.min(),_=Nn.min(),T=yr.EMPTY_BYTE_STRING,F=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=c,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=T,this.expectedCount=F}withSequenceNumber(e){return new xl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ZE{constructor(e){this.fe=e}}function Nw(n){const e=WE({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?b0(e,e.limit,"L"):e}class kf{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Lt(e.integerValue));else if("doubleValue"in e){const i=Lt(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),uu(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(an(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?Sd(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):cn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const c of Object.keys(i))this.Te(c,t),this.me(i[c],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const c of i)this.me(c,t)}ve(e,t){this.ye(t,37),Yt.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}kf.Ve=new kf;class tC{constructor(){this.rn=new R0}addToCollectionParentIndex(e,t){return this.rn.add(t),qe.resolve()}getCollectionParents(e,t){return qe.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return qe.resolve()}deleteFieldIndex(e,t){return qe.resolve()}getDocumentsMatchingTarget(e,t){return qe.resolve(null)}getIndexType(e,t){return qe.resolve(0)}getFieldIndexes(e,t){return qe.resolve([])}getNextCollectionGroupToUpdate(e){return qe.resolve(null)}getMinOffset(e,t){return qe.resolve(mc.min())}getMinOffsetFromCollectionGroup(e,t){return qe.resolve(mc.min())}updateCollectionGroup(e,t,i){return qe.resolve()}updateIndexEntries(e,t){return qe.resolve()}}class R0{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),c=this.index[t]||new Tn(jr.comparator),p=!c.has(i);return this.index[t]=c.add(i),p}has(e){const t=e.lastSegment(),i=e.popLast(),c=this.index[t];return c&&c.has(i)}getEntries(e){return(this.index[e]||new Tn(jr.comparator)).toArray()}}new Uint8Array(0);class _c{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new _c(e,_c.DEFAULT_COLLECTION_PERCENTILE,_c.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}_c.DEFAULT_COLLECTION_PERCENTILE=10,_c.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_c.DEFAULT=new _c(41943040,_c.DEFAULT_COLLECTION_PERCENTILE,_c.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_c.DISABLED=new _c(-1,0,0);class Lf{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Lf(0)}static Mn(){return new Lf(-1)}}class iC{constructor(){this.changes=new Ad(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?qe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Vw{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class B0{constructor(e,t,i,c){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=c}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(c=>(i=c,this.remoteDocumentCache.getEntry(e,t))).next(c=>(null!==i&&km(i.mutation,c,wr.empty(),Xr.now()),c))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ar()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ar()){const c=zu();return this.populateOverlays(e,c,t).next(()=>this.computeViews(e,t,c,i).next(p=>{let _=gl();return p.forEach((T,F)=>{_=_.insert(T,F.overlayedDocument)}),_}))}getOverlayedDocuments(e,t){const i=zu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ar()))}populateOverlays(e,t,i){const c=[];return i.forEach(p=>{t.has(p)||c.push(p)}),this.documentOverlayCache.getOverlays(e,c).next(p=>{p.forEach((_,T)=>{t.set(_,T)})})}computeViews(e,t,i,c){let p=Lc();const _=Bc(),T=Bc();return t.forEach((F,H)=>{const te=i.get(H.key);c.has(H.key)&&(void 0===te||te.mutation instanceof wh)?p=p.insert(H.key,H):void 0!==te?(_.set(H.key,te.mutation.getFieldMask()),km(te.mutation,H,te.mutation.getFieldMask(),Xr.now())):_.set(H.key,wr.empty())}),this.recalculateAndSaveOverlays(e,p).next(F=>(F.forEach((H,te)=>_.set(H,te)),t.forEach((H,te)=>{var pe;return T.set(H,new Vw(te,null!==(pe=_.get(H))&&void 0!==pe?pe:null))}),T))}recalculateAndSaveOverlays(e,t){const i=Bc();let c=new Wt((_,T)=>_-T),p=Ar();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(_=>{for(const T of _)T.keys().forEach(F=>{const H=t.get(F);if(null===H)return;let te=i.get(F)||wr.empty();te=T.applyToLocalView(H,te),i.set(F,te);const pe=(c.get(T.batchId)||Ar()).add(F);c=c.insert(T.batchId,pe)})}).next(()=>{const _=[],T=c.getReverseIterator();for(;T.hasNext();){const F=T.getNext(),H=F.key,te=F.value,pe=Wu();te.forEach(Ve=>{if(!p.has(Ve)){const ct=hw(t.get(Ve),i.get(Ve));null!==ct&&pe.set(Ve,ct),p=p.add(Ve)}}),_.push(this.documentOverlayCache.saveOverlays(e,H,pe))}return qe.waitFor(_)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Yt.isDocumentKey((c=t).path)&&null===c.collectionGroup&&0===c.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):y0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var c}getNextDocuments(e,t,i,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,c).next(p=>{const _=c-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,c-p.size):qe.resolve(zu());let T=-1,F=p;return _.next(H=>qe.forEach(H,(te,pe)=>(T<pe.largestBatchId&&(T=pe.largestBatchId),p.get(te)?qe.resolve():this.remoteDocumentCache.getEntry(e,te).next(Ve=>{F=F.insert(te,Ve)}))).next(()=>this.populateOverlays(e,H,p)).next(()=>this.computeViews(e,F,H,Ar())).next(te=>({batchId:T,changes:TE(te)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Yt(t)).next(i=>{let c=gl();return i.isFoundDocument()&&(c=c.insert(i.key,i)),c})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const c=t.collectionGroup;let p=gl();return this.indexManager.getCollectionParents(e,c).next(_=>qe.forEach(_,T=>{const F=(H=t,te=T.child(c),new Nf(te,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,te;return this.getDocumentsMatchingCollectionQuery(e,F,i).next(H=>{H.forEach((te,pe)=>{p=p.insert(te,pe)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,t,i){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,c))).next(p=>{c.forEach((T,F)=>{const H=F.getKey();null===p.get(H)&&(p=p.insert(H,Pi.newInvalidDocument(H)))});let _=gl();return p.forEach((T,F)=>{const H=c.get(T);void 0!==H&&km(H.mutation,F,wr.empty(),Xr.now()),yy(t,F)&&(_=_.insert(T,F))}),_})}}class cC{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return qe.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:Ao(i.createTime)}),qe.resolve()}getNamedQuery(e,t){return qe.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:Nw(i.bundledQuery),readTime:Ao(i.readTime)}),qe.resolve();var i}}class uT{constructor(){this.overlays=new Wt(Yt.comparator),this.ls=new Map}getOverlay(e,t){return qe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=zu();return qe.forEach(t,c=>this.getOverlay(e,c).next(p=>{null!==p&&i.set(c,p)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((c,p)=>{this.we(e,t,p)}),qe.resolve()}removeOverlaysForBatchId(e,t,i){const c=this.ls.get(i);return void 0!==c&&(c.forEach(p=>this.overlays=this.overlays.remove(p)),this.ls.delete(i)),qe.resolve()}getOverlaysForCollection(e,t,i){const c=zu(),p=t.length+1,_=new Yt(t.child("")),T=this.overlays.getIteratorFrom(_);for(;T.hasNext();){const F=T.getNext().value,H=F.getKey();if(!t.isPrefixOf(H.path))break;H.path.length===p&&F.largestBatchId>i&&c.set(F.getKey(),F)}return qe.resolve(c)}getOverlaysForCollectionGroup(e,t,i,c){let p=new Wt((H,te)=>H-te);const _=this.overlays.getIterator();for(;_.hasNext();){const H=_.getNext().value;if(H.getKey().getCollectionGroup()===t&&H.largestBatchId>i){let te=p.get(H.largestBatchId);null===te&&(te=zu(),p=p.insert(H.largestBatchId,te)),te.set(H.getKey(),H)}}const T=zu(),F=p.getIterator();for(;F.hasNext()&&(F.getNext().value.forEach((H,te)=>T.set(H,te)),!(T.size()>=c)););return qe.resolve(T)}we(e,t,i){const c=this.overlays.get(i.key);if(null!==c){const _=this.ls.get(c.largestBatchId).delete(i.key);this.ls.set(c.largestBatchId,_)}this.overlays=this.overlays.insert(i.key,new _w(t,i));let p=this.ls.get(t);void 0===p&&(p=Ar(),this.ls.set(t,p)),this.ls.set(t,p.add(i.key))}}class V0{constructor(){this.fs=new Tn(Fa.ds),this.ws=new Tn(Fa._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Fa(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Fa(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new Yt(new jr([])),i=new Fa(t,e),c=new Fa(t,e+1),p=[];return this.ws.forEachInRange([i,c],_=>{this.ys(_),p.push(_.key)}),p}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Yt(new jr([])),i=new Fa(t,e),c=new Fa(t,e+1);let p=Ar();return this.ws.forEachInRange([i,c],_=>{p=p.add(_.key)}),p}containsKey(e){const t=new Fa(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Fa{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Yt.comparator(e.key,t.key)||Qn(e.As,t.As)}static _s(e,t){return Qn(e.As,t.As)||Yt.comparator(e.key,t.key)}}class dT{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Tn(Fa.ds)}checkEmpty(e){return qe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,c){const p=this.vs;this.vs++;const _=new gw(p,t,i,c);this.mutationQueue.push(_);for(const T of c)this.Rs=this.Rs.add(new Fa(T.key,p)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return qe.resolve(_)}lookupMutationBatch(e,t){return qe.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const c=this.bs(t+1),p=c<0?0:c;return qe.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return qe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Fa(t,0),c=new Fa(t,Number.POSITIVE_INFINITY),p=[];return this.Rs.forEachInRange([i,c],_=>{const T=this.Ps(_.As);p.push(T)}),qe.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Tn(Qn);return t.forEach(c=>{const p=new Fa(c,0),_=new Fa(c,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([p,_],T=>{i=i.add(T.As)})}),qe.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,c=i.length+1;let p=i;Yt.isDocumentKey(p)||(p=p.child(""));const _=new Fa(new Yt(p),0);let T=new Tn(Qn);return this.Rs.forEachWhile(F=>{const H=F.key.path;return!!i.isPrefixOf(H)&&(H.length===c&&(T=T.add(F.As)),!0)},_),qe.resolve(this.Vs(T))}Vs(e){const t=[];return e.forEach(i=>{const c=this.Ps(i);null!==c&&t.push(c)}),t}removeMutationBatch(e,t){In(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return qe.forEach(t.mutations,c=>{const p=new Fa(c.key,t.batchId);return i=i.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Fa(t,0),c=this.Rs.firstAfterOrEqual(i);return qe.resolve(t.isEqual(c&&c.key))}performConsistencyCheck(e){return qe.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Uw{constructor(e){this.Ds=e,this.docs=new Wt(Yt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,c=this.docs.get(i),p=c?c.size:0,_=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:_}),this.size+=_-p,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return qe.resolve(i?i.document.mutableCopy():Pi.newInvalidDocument(t))}getEntries(e,t){let i=Lc();return t.forEach(c=>{const p=this.docs.get(c);i=i.insert(c,p?p.document.mutableCopy():Pi.newInvalidDocument(c))}),qe.resolve(i)}getDocumentsMatchingQuery(e,t,i,c){let p=Lc();const _=t.path,T=new Yt(_.child("")),F=this.docs.getIteratorFrom(T);for(;F.hasNext();){const{key:H,value:{document:te}}=F.getNext();if(!_.isPrefixOf(H.path))break;H.path.length>_.length+1||Dm(gh(te),i)<=0||(c.has(te.key)||yy(t,te))&&(p=p.insert(te.key,te.mutableCopy()))}return qe.resolve(p)}getAllFromCollectionGroup(e,t,i,c){cn()}Cs(e,t){return qe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new hT(this)}getSize(e){return qe.resolve(this.size)}}class hT extends iC{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,c)=>{c.isValidDocument()?t.push(this.os.addEntry(e,c)):this.os.removeEntry(i)}),qe.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class fT{constructor(e){this.persistence=e,this.xs=new Ad(t=>bh(t),$u),this.lastRemoteSnapshotVersion=Nn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new V0,this.targetCount=0,this.Ms=Lf.kn()}forEachTarget(e,t){return this.xs.forEach((i,c)=>t(c)),qe.resolve()}getLastRemoteSnapshotVersion(e){return qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return qe.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),qe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),qe.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Lf(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,qe.resolve()}updateTargetData(e,t){return this.Fn(t),qe.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,qe.resolve()}removeTargets(e,t,i){let c=0;const p=[];return this.xs.forEach((_,T)=>{T.sequenceNumber<=t&&null===i.get(T.targetId)&&(this.xs.delete(_),p.push(this.removeMatchingKeysForTargetId(e,T.targetId)),c++)}),qe.waitFor(p).next(()=>c)}getTargetCount(e){return qe.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return qe.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),qe.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const c=this.persistence.referenceDelegate,p=[];return c&&t.forEach(_=>{p.push(c.markPotentiallyOrphaned(e,_))}),qe.waitFor(p)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),qe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return qe.resolve(i)}containsKey(e,t){return qe.resolve(this.ks.containsKey(t))}}class U0{constructor(e,t){this.$s={},this.overlays={},this.Os=new os(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new fT(this),this.indexManager=new tC,this.remoteDocumentCache=new Uw(i=>this.referenceDelegate.Ls(i)),this.serializer=new ZE(t),this.qs=new cC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uT,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new dT(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){xt("MemoryPersistence","Starting transaction:",e);const c=new pT(this.Os.next());return this.referenceDelegate.Us(),i(c).next(p=>this.referenceDelegate.Ks(c).next(()=>p)).toPromise().then(p=>(c.raiseOnCommittedEvent(),p))}Gs(e,t){return qe.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class pT extends Gb{constructor(e){super(),this.currentSequenceNumber=e}}class H0{constructor(e){this.persistence=e,this.Qs=new V0,this.js=null}static zs(e){return new H0(e)}get Ws(){if(this.js)return this.js;throw cn()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),qe.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),qe.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),qe.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(c=>this.Ws.add(c.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(c=>{c.forEach(p=>this.Ws.add(p.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qe.forEach(this.Ws,i=>{const c=Yt.fromPath(i);return this.Hs(e,c).next(p=>{p||t.removeEntry(c,Nn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return qe.or([()=>qe.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class _T{constructor(e,t,i,c){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=c}static Li(e,t){let i=Ar(),c=Ar();for(const p of t.docChanges)switch(p.type){case 0:i=i.add(p.doc.key);break;case 1:c=c.add(p.doc.key)}return new _T(e,t.fromCache,i,c)}}class yT{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,c){return this.Ki(e,t).next(p=>p||this.Gi(e,t,c,i)).next(p=>p||this.Qi(e,t))}Ki(e,t){if(rw(t))return qe.resolve(null);let i=Fc(t);return this.indexManager.getIndexType(e,i).next(c=>0===c?null:(null!==t.limit&&1===c&&(t=b0(t,null,"F"),i=Fc(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(p=>{const _=Ar(...p);return this.Ui.getDocuments(e,_).next(T=>this.indexManager.getMinOffset(e,i).next(F=>{const H=this.ji(t,T);return this.zi(t,H,_,F.readTime)?this.Ki(e,b0(t,null,"F")):this.Wi(e,H,t,F)}))})))}Gi(e,t,i,c){return rw(t)||c.isEqual(Nn.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(p=>{const _=this.ji(t,p);return this.zi(t,_,i,c)?this.Qi(e,t):(t0()<=Re.in.DEBUG&&xt("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Of(t)),this.Wi(e,_,t,function Pc(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,c=Nn.fromTimestamp(1e9===i?new Xr(t+1,0):new Xr(t,i));return new mc(c,Yt.empty(),e)}(c,-1)))})}ji(e,t){let i=new Tn(ow(e));return t.forEach((c,p)=>{yy(e,p)&&(i=i.add(p))}),i}zi(e,t,i,c){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const p="F"===e.limitType?t.last():t.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(c)>0)}Qi(e,t){return t0()<=Re.in.DEBUG&&xt("QueryEngine","Using full collection scan to execute query:",Of(t)),this.Ui.getDocumentsMatchingQuery(e,t,mc.min())}Wi(e,t,i,c){return this.Ui.getDocumentsMatchingQuery(e,i,c).next(p=>(t.forEach(_=>{p=p.insert(_.key,_)}),p))}}class uC{constructor(e,t,i,c){this.persistence=e,this.Hi=t,this.serializer=c,this.Ji=new Wt(Qn),this.Yi=new Ad(p=>bh(p),$u),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new B0(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Gw(n,e){return z0.apply(this,arguments)}function z0(){return z0=(0,ue.Z)(function*(n,e){const t=Xt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let c;return t.mutationQueue.getAllMutationBatches(i).next(p=>(c=p,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(p=>{const _=[],T=[];let F=Ar();for(const H of c){_.push(H.batchId);for(const te of H.mutations)F=F.add(te.key)}for(const H of p){T.push(H.batchId);for(const te of H.mutations)F=F.add(te.key)}return t.localDocuments.getDocuments(i,F).next(H=>({er:H,removedBatchIds:_,addedBatchIds:T}))})})}),z0.apply(this,arguments)}function wT(n){const e=Xt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function hC(n,e){const t=Xt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function t_(n,e,t){return rg.apply(this,arguments)}function rg(){return rg=(0,ue.Z)(function*(n,e,t){const i=Xt(n),c=i.Ji.get(e),p=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",p,_=>i.persistence.referenceDelegate.removeTarget(_,c)))}catch(_){if(!cu(_))throw _;xt("LocalStore",`Failed to update sequence numbers for target ${e}: ${_}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(c.target)}),rg.apply(this,arguments)}function My(n,e,t){const i=Xt(n);let c=Nn.min(),p=Ar();return i.persistence.runTransaction("Execute query","readonly",_=>function(T,F,H){const te=Xt(T),pe=te.Yi.get(H);return void 0!==pe?qe.resolve(te.Ji.get(pe)):te.Bs.getTargetData(F,H)}(i,_,Fc(e)).next(T=>{if(T)return c=T.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(_,T.targetId).next(F=>{p=F})}).next(()=>i.Hi.getDocumentsMatchingQuery(_,e,t?c:Nn.min(),t?p:Ar())).next(T=>(function zw(n,e,t){let i=n.Xi.get(e)||Nn.min();t.forEach((c,p)=>{p.readTime.compareTo(i)>0&&(i=p.readTime)}),n.Xi.set(e,i)}(i,function EE(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),T),{documents:T,ir:p})))}class qw{constructor(){this.activeTargetIds=function aw(){return FD}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DT{constructor(){this.Hr=new qw,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new qw,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dS{Yr(e){}shutdown(){}}class CT{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){xt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){xt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Zw=null;function sg(){return null===Zw?Zw=268435456+Math.round(2147483648*Math.random()):Zw++,"0x"+Zw.toString(16)}const gC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mC{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const yc="WebChannelConnection";class Y0 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,c,p){const _=sg(),T=this.To(e,t);xt("RestConnection",`Sending RPC '${e}' ${_}:`,T,i);const F={};return this.Eo(F,c,p),this.Ao(e,T,F,i).then(H=>(xt("RestConnection",`Received RPC '${e}' ${_}: `,H),H),H=>{throw fl("RestConnection",`RPC '${e}' ${_} failed with error: `,H,"url: ",T,"request:",i),H})}vo(e,t,i,c,p,_){return this.Io(e,t,i,c,p)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Gu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((c,p)=>e[p]=c),i&&i.headers.forEach((c,p)=>e[p]=c)}To(e,t){return`${this.mo}/v1/${t}:${gC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,c){const p=sg();return new Promise((_,T)=>{const F=new mE;F.setWithCredentials(!0),F.listenOnce(Fb.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case wm.NO_ERROR:const te=F.getResponseJson();xt(yc,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(te)),_(te);break;case wm.TIMEOUT:xt(yc,`RPC '${e}' ${p} timed out`),T(new St(it.DEADLINE_EXCEEDED,"Request time out"));break;case wm.HTTP_ERROR:const pe=F.getStatus();if(xt(yc,`RPC '${e}' ${p} failed with status:`,pe,"response text:",F.getResponseText()),pe>0){let Ve=F.getResponseJson();Array.isArray(Ve)&&(Ve=Ve[0]);const ct=Ve?.error;if(ct&&ct.status&&ct.message){const Bt=function(rn){const ln=rn.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(ln)>=0?ln:it.UNKNOWN}(ct.status);T(new St(Bt,ct.message))}else T(new St(it.UNKNOWN,"Server responded with status "+F.getStatus()))}else T(new St(it.UNAVAILABLE,"Connection failed."));break;default:cn()}}finally{xt(yc,`RPC '${e}' ${p} completed.`)}});const H=JSON.stringify(c);xt(yc,`RPC '${e}' ${p} sending request:`,c),F.send(t,"POST",H,i,15)})}Ro(e,t,i){const c=sg(),p=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],_=Vp(),T=bm(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},H=this.longPollingOptions.timeoutSeconds;void 0!==H&&(F.longPollingTimeout=Math.round(1e3*H)),this.useFetchStreams&&(F.xmlHttpFactory=new Im({})),this.Eo(F.initMessageHeaders,t,i),F.encodeInitMessageHeaders=!0;const te=p.join("");xt(yc,`Creating RPC '${e}' stream ${c}: ${te}`,F);const pe=_.createWebChannel(te,F);let Ve=!1,ct=!1;const Bt=new mC({ro:ln=>{ct?xt(yc,`Not sending because RPC '${e}' stream ${c} is closed:`,ln):(Ve||(xt(yc,`Opening RPC '${e}' stream ${c} transport.`),pe.open(),Ve=!0),xt(yc,`RPC '${e}' stream ${c} sending:`,ln),pe.send(ln))},oo:()=>pe.close()}),rn=(ln,Nr,ti)=>{ln.listen(Nr,kr=>{try{ti(kr)}catch(qo){setTimeout(()=>{throw qo},0)}})};return rn(pe,bd.EventType.OPEN,()=>{ct||xt(yc,`RPC '${e}' stream ${c} transport opened.`)}),rn(pe,bd.EventType.CLOSE,()=>{ct||(ct=!0,xt(yc,`RPC '${e}' stream ${c} transport closed`),Bt.wo())}),rn(pe,bd.EventType.ERROR,ln=>{ct||(ct=!0,fl(yc,`RPC '${e}' stream ${c} transport errored:`,ln),Bt.wo(new St(it.UNAVAILABLE,"The operation could not be completed")))}),rn(pe,bd.EventType.MESSAGE,ln=>{var Nr;if(!ct){const ti=ln.data[0];In(!!ti);const qo=ti.error||(null===(Nr=ti[0])||void 0===Nr?void 0:Nr.error);if(qo){xt(yc,`RPC '${e}' stream ${c} received error:`,qo);const Oo=qo.status;let Qi=function(pg){const j1=Wo[pg];if(void 0!==j1)return LE(j1)}(Oo),Hc=qo.message;void 0===Qi&&(Qi=it.INTERNAL,Hc="Unknown error status: "+Oo+" with message "+qo.message),ct=!0,Bt.wo(new St(Qi,Hc)),pe.close()}else xt(yc,`RPC '${e}' stream ${c} received:`,ti),Bt._o(ti)}}),rn(T,e0.STAT_EVENT,ln=>{ln.stat===dy.PROXY?xt(yc,`RPC '${e}' stream ${c} detected buffering proxy`):ln.stat===dy.NOPROXY&&xt(yc,`RPC '${e}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{Bt.fo()},0),Bt}}function Q0(){return typeof document<"u"?document:null}function n_(n){return new lS(n,!0)}class r_{constructor(e,t,i=1e3,c=1.5,p=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=c,this.Vo=p,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),c=Math.max(0,t-i);c>0&&xt("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,c,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class ST{constructor(e,t,i,c,p,_,T,F){this.ii=e,this.$o=i,this.Oo=c,this.connection=p,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=T,this.listener=F,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new r_(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ue.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ue.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,ue.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===it.RESOURCE_EXHAUSTED?(Vs(t.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===it.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,c])=>{this.Fo===t&&this.Zo(i,c)},i=>{e(()=>{const c=new St(it.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(c)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(c=>{i(()=>this.tu(c))}),this.stream.onMessage(c=>{i(()=>this.onMessage(c))})}Go(){var e=this;this.state=5,this.qo.No((0,ue.Z)(function*(){e.state=0,e.start()}))}tu(e){return xt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(xt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _C extends ST{constructor(e,t,i,c,p,_){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,c,_),this.serializer=p}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function jE(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(F=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===F?1:"REMOVE"===F?2:"CURRENT"===F?3:"RESET"===F?4:cn(),c=e.targetChange.targetIds||[],p=function(F,H){return F.useProto3Json?(In(void 0===H||"string"==typeof H),yr.fromBase64String(H||"")):(In(void 0===H||H instanceof Uint8Array),yr.fromUint8Array(H||new Uint8Array))}(n,e.targetChange.resumeToken),_=e.targetChange.cause,T=_&&function(F){const H=void 0===F.code?it.UNKNOWN:LE(F.code);return new St(H,F.message||"")}(_);t=new D0(i,c,p,T||null)}else if("documentChange"in e){const i=e.documentChange,c=Md(n,i.document.name),p=Ao(i.document.updateTime),_=i.document.createTime?Ao(i.document.createTime):Nn.min(),T=new zo({mapValue:{fields:i.document.fields}}),F=Pi.newFoundDocument(c,p,_,T);t=new wy(i.targetIds||[],i.removedTargetIds||[],F.key,F)}else if("documentDelete"in e){const i=e.documentDelete,c=Md(n,i.document),p=i.readTime?Ao(i.readTime):Nn.min(),_=Pi.newNoDocument(c,p);t=new wy([],i.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){const i=e.documentRemove,c=Md(n,i.document);t=new wy([],i.removedTargetIds||[],c,null)}else{if(!("filter"in e))return cn();{const i=e.filter,{count:c=0,unchangedNames:p}=i,_=new UD(c,p);t=new ww(i.targetId,_)}}var F;return t}(this.serializer,e),i=function(c){if(!("targetChange"in c))return Nn.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?Nn.min():p.readTime?Ao(p.readTime):Nn.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=ka(this.serializer),t.addTarget=function(c,p){let _;const T=p.target;if(_=Om(T)?{documents:zE(c,T)}:{query:Sw(c,T)},_.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){_.resumeToken=HD(c,p.resumeToken);const F=C0(c,p.expectedCount);null!==F&&(_.expectedCount=F)}else if(p.snapshotVersion.compareTo(Nn.min())>0){_.readTime=Xp(c,p.snapshotVersion.toTimestamp());const F=C0(c,p.expectedCount);null!==F&&(_.expectedCount=F)}return _}(this.serializer,e);const i=function Ey(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return cn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=ka(this.serializer),t.removeTarget=e,this.Wo(t)}}class AT extends ST{constructor(e,t,i,c,p,_){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,c,_),this.serializer=p,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(In(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function $E(n,e){return n&&n.length>0?(In(void 0!==e),n.map(t=>function(i,c){let p=Ao(i.updateTime?i.updateTime:c);return p.isEqual(Nn.min())&&(p=Ao(c)),new dw(p,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Ao(e.commitTime);return this.listener.cu(i,t)}return In(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=ka(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function jm(n,e){let t;if(e instanceof Qp)t={update:Dw(n,e.key,e.value)};else if(e instanceof Fm)t={delete:Od(n,e.key)};else if(e instanceof wh)t={update:Dw(n,e.key,e.data),updateMask:WD(e.fieldMask)};else{if(!(e instanceof pw))return cn();t={verify:Od(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(c,p){const _=p.transform;if(_ instanceof Rm)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof xf)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof Nd)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof Yp)return{fieldPath:p.field.canonicalString(),increment:_.gt};throw cn()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:Hm(n,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:cn()),t;var c}(this.serializer,i))};this.Wo(t)}}class yC extends class{}{constructor(e,t,i,c){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=c,this.lu=!1}fu(){if(this.lu)throw new St(it.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.Io(e,t,i,c,p)).catch(c=>{throw"FirebaseError"===c.name?(c.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new St(it.UNKNOWN,c.toString())})}vo(e,t,i,c){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,_])=>this.connection.vo(e,t,i,p,_,c)).catch(p=>{throw"FirebaseError"===p.name?(p.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new St(it.UNKNOWN,p.toString())})}terminate(){this.lu=!0}}class X0{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Vs(t),this.mu=!1):xt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class bC{constructor(e,t,i,c,p){var _=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=p,this.Pu.Yr(T=>{i.enqueueAndForget((0,ue.Z)(function*(){var F;xd(_)&&(xt("RemoteStore","Restarting streams for network reachability change."),yield(F=(0,ue.Z)(function*(H){const te=Xt(H);te.vu.add(4),yield og(te),te.bu.set("Unknown"),te.vu.delete(4),yield Py(te)}),function(H){return F.apply(this,arguments)})(_))}))}),this.bu=new X0(i,c)}}function Py(n){return e1.apply(this,arguments)}function e1(){return e1=(0,ue.Z)(function*(n){if(xd(n))for(const e of n.Ru)yield e(!0)}),e1.apply(this,arguments)}function og(n){return ky.apply(this,arguments)}function ky(){return ky=(0,ue.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),ky.apply(this,arguments)}function Fy(n,e){const t=Xt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Jw(t)?Qw(t):Uy(t).Ko()&&t1(t,e))}function Ly(n,e){const t=Xt(n),i=Uy(t);t.Au.delete(e),i.Ko()&&Yw(t,e),0===t.Au.size&&(i.Ko()?i.jo():xd(t)&&t.bu.set("Unknown"))}function t1(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Nn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Uy(n).su(e)}function Yw(n,e){n.Vu.qt(e),Uy(n).iu(e)}function Qw(n){n.Vu=new Jp({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Uy(n).start(),n.bu.gu()}function Jw(n){return xd(n)&&!Uy(n).Uo()&&n.Au.size>0}function xd(n){return 0===Xt(n).vu.size}function n1(n){n.Vu=void 0}function NT(n){return By.apply(this,arguments)}function By(){return By=(0,ue.Z)(function*(n){n.Au.forEach((e,t)=>{t1(n,e)})}),By.apply(this,arguments)}function Xw(n,e){return eI.apply(this,arguments)}function eI(){return eI=(0,ue.Z)(function*(n,e){n1(n),Jw(n)?(n.bu.Iu(e),Qw(n)):n.bu.set("Unknown")}),eI.apply(this,arguments)}function wC(n,e,t){return tI.apply(this,arguments)}function tI(){return tI=(0,ue.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof D0&&2===e.state&&e.cause)try{yield(i=(0,ue.Z)(function*(c,p){const _=p.cause;for(const T of p.targetIds)c.Au.has(T)&&(yield c.remoteSyncer.rejectListen(T,_),c.Au.delete(T),c.Vu.removeTarget(T))}),function(c,p){return i.apply(this,arguments)})(n,e)}catch(i){xt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield r1(n,i)}else if(e instanceof wy?n.Vu.Ht(e):e instanceof ww?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Nn.min()))try{const i=yield wT(n.localStore);t.compareTo(i)>=0&&(yield function(c,p){const _=c.Vu.ce(p);return _.targetChanges.forEach((T,F)=>{if(T.resumeToken.approximateByteSize()>0){const H=c.Au.get(F);H&&c.Au.set(F,H.withResumeToken(T.resumeToken,p))}}),_.targetMismatches.forEach((T,F)=>{const H=c.Au.get(T);if(!H)return;c.Au.set(T,H.withResumeToken(yr.EMPTY_BYTE_STRING,H.snapshotVersion)),Yw(c,T);const te=new xl(H.target,T,F,H.sequenceNumber);t1(c,te)}),c.remoteSyncer.applyRemoteEvent(_)}(n,t))}catch(i){xt("RemoteStore","Failed to raise snapshot:",i),yield r1(n,i)}var i}),tI.apply(this,arguments)}function r1(n,e,t){return i1.apply(this,arguments)}function i1(){return i1=(0,ue.Z)(function*(n,e,t){if(!cu(e))throw e;n.vu.add(1),yield og(n),n.bu.set("Offline"),t||(t=()=>wT(n.localStore)),n.asyncQueue.enqueueRetryable((0,ue.Z)(function*(){xt("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Py(n)}))}),i1.apply(this,arguments)}function s1(n,e){return e().catch(t=>r1(n,t,e))}function ag(n){return o1.apply(this,arguments)}function o1(){return o1=(0,ue.Z)(function*(n){const e=Xt(n),t=cg(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;OT(e);)try{const c=yield hC(e.localStore,i);if(null===c){0===e.Eu.length&&t.jo();break}i=c.batchId,MT(e,c)}catch(c){yield r1(e,c)}xT(e)&&nI(e)}),o1.apply(this,arguments)}function OT(n){return xd(n)&&n.Eu.length<10}function MT(n,e){n.Eu.push(e);const t=cg(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function xT(n){return xd(n)&&!cg(n).Uo()&&n.Eu.length>0}function nI(n){cg(n).start()}function RT(n){return rI.apply(this,arguments)}function rI(){return rI=(0,ue.Z)(function*(n){cg(n).hu()}),rI.apply(this,arguments)}function PT(n){return a1.apply(this,arguments)}function a1(){return a1=(0,ue.Z)(function*(n){const e=cg(n);for(const t of n.Eu)e.uu(t.mutations)}),a1.apply(this,arguments)}function Vc(n,e,t){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,ue.Z)(function*(n,e,t){const i=n.Eu.shift(),c=mw.from(i,e,t);yield s1(n,()=>n.remoteSyncer.applySuccessfulWrite(c)),yield ag(n)}),Vf.apply(this,arguments)}function IC(n,e){return iI.apply(this,arguments)}function iI(){return iI=(0,ue.Z)(function*(n,e){var t;e&&cg(n).ou&&(yield(t=(0,ue.Z)(function*(i,c){if(function FE(n){switch(n){default:return cn();case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0}}(p=c.code)&&p!==it.ABORTED){const _=i.Eu.shift();cg(i).Qo(),yield s1(i,()=>i.remoteSyncer.rejectFailedWrite(_.batchId,c)),yield ag(i)}var p}),function(i,c){return t.apply(this,arguments)})(n,e)),xT(n)&&nI(n)}),iI.apply(this,arguments)}function EC(n,e){return kT.apply(this,arguments)}function kT(){return kT=(0,ue.Z)(function*(n,e){const t=Xt(n);t.asyncQueue.verifyOperationInProgress(),xt("RemoteStore","RemoteStore received new credentials");const i=xd(t);t.vu.add(3),yield og(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Py(t)}),kT.apply(this,arguments)}function Vy(){return Vy=(0,ue.Z)(function*(n,e){const t=Xt(n);e?(t.vu.delete(2),yield Py(t)):e||(t.vu.add(2),yield og(t),t.bu.set("Unknown"))}),Vy.apply(this,arguments)}function Uy(n){return n.Su||(n.Su=function(e,t,i){const c=Xt(e);return c.fu(),new _C(t,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,i)}(n.datastore,n.asyncQueue,{uo:NT.bind(null,n),ao:Xw.bind(null,n),nu:wC.bind(null,n)}),n.Ru.push(function(){var e=(0,ue.Z)(function*(t){t?(n.Su.Qo(),Jw(n)?Qw(n):n.bu.set("Unknown")):(yield n.Su.stop(),n1(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function cg(n){return n.Du||(n.Du=function(e,t,i){const c=Xt(e);return c.fu(),new AT(t,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,i)}(n.datastore,n.asyncQueue,{uo:RT.bind(null,n),ao:IC.bind(null,n),au:PT.bind(null,n),cu:Vc.bind(null,n)}),n.Ru.push(function(){var e=(0,ue.Z)(function*(t){t?(n.Du.Qo(),yield ag(n)):(yield n.Du.stop(),n.Eu.length>0&&(xt("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class FT{constructor(e,t,i,c,p){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=c,this.removalCallback=p,this.deferred=new Js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}static createAndSchedule(e,t,i,c,p){const _=Date.now()+i,T=new FT(e,t,_,c,p);return T.start(i),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new St(it.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rd(n,e){if(Vs("AsyncQueue",`${e}: ${n}`),cu(n))return new St(it.UNAVAILABLE,`${e}: ${n}`);throw n}class i_{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Yt.comparator(t.key,i.key):(t,i)=>Yt.comparator(t.key,i.key),this.keyedMap=gl(),this.sortedSet=new Wt(this.comparator)}static emptySet(e){return new i_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof i_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const c=t.getNext().key,p=i.getNext().key;if(!c.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new i_;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class l1{constructor(){this.Cu=new Wt(Yt.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):cn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class s_{constructor(e,t,i,c,p,_,T,F,H){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=c,this.mutatedKeys=p,this.fromCache=_,this.syncStateChanged=T,this.excludesMetadataChanges=F,this.hasCachedResults=H}static fromInitialDocuments(e,t,i,c,p){const _=[];return t.forEach(T=>{_.push({type:0,doc:T})}),new s_(e,t,i_.emptySet(t),_,i,c,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let c=0;c<t.length;c++)if(t[c].type!==i[c].type||!t[c].doc.isEqual(i[c].doc))return!1;return!0}}class LT{constructor(){this.Nu=void 0,this.listeners=[]}}class TC{constructor(){this.queries=new Ad(e=>sw(e),xm),this.onlineState="Unknown",this.ku=new Set}}function sI(n,e){return oI.apply(this,arguments)}function oI(){return oI=(0,ue.Z)(function*(n,e){const t=Xt(n),i=e.query;let c=!1,p=t.queries.get(i);if(p||(c=!0,p=new LT),c)try{p.Nu=yield t.onListen(i)}catch(_){const T=Rd(_,`Initialization of query '${Of(e.query)}' failed`);return void e.onError(T)}t.queries.set(i,p),p.listeners.push(e),e.Mu(t.onlineState),p.Nu&&e.$u(p.Nu)&&Gy(t)}),oI.apply(this,arguments)}function Hy(n,e){return u1.apply(this,arguments)}function u1(){return u1=(0,ue.Z)(function*(n,e){const t=Xt(n),i=e.query;let c=!1;const p=t.queries.get(i);if(p){const _=p.listeners.indexOf(e);_>=0&&(p.listeners.splice(_,1),c=0===p.listeners.length)}if(c)return t.queries.delete(i),t.onUnlisten(i)}),u1.apply(this,arguments)}function DC(n,e){const t=Xt(n);let i=!1;for(const c of e){const _=t.queries.get(c.query);if(_){for(const T of _.listeners)T.$u(c)&&(i=!0);_.Nu=c}}i&&Gy(t)}function d1(n,e,t){const i=Xt(n),c=i.queries.get(e);if(c)for(const p of c.listeners)p.onError(t);i.queries.delete(e)}function Gy(n){n.ku.forEach(e=>{e.next()})}class BT{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const c of e.docChanges)3!==c.type&&i.push(c);e=new s_(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=s_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class GT{constructor(e){this.key=e}}class aI{constructor(e){this.key=e}}class h1{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ar(),this.mutatedKeys=Ar(),this.tc=ow(e),this.ec=new i_(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new l1,c=t?t.ec:this.ec;let p=t?t.mutatedKeys:this.mutatedKeys,_=c,T=!1;const F="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,H="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((te,pe)=>{const Ve=c.get(te),ct=yy(this.query,pe)?pe:null,Bt=!!Ve&&this.mutatedKeys.has(Ve.key),rn=!!ct&&(ct.hasLocalMutations||this.mutatedKeys.has(ct.key)&&ct.hasCommittedMutations);let ln=!1;Ve&&ct?Ve.data.isEqual(ct.data)?Bt!==rn&&(i.track({type:3,doc:ct}),ln=!0):this.rc(Ve,ct)||(i.track({type:2,doc:ct}),ln=!0,(F&&this.tc(ct,F)>0||H&&this.tc(ct,H)<0)&&(T=!0)):!Ve&&ct?(i.track({type:0,doc:ct}),ln=!0):Ve&&!ct&&(i.track({type:1,doc:Ve}),ln=!0,(F||H)&&(T=!0)),ln&&(ct?(_=_.add(ct),p=rn?p.add(te):p.delete(te)):(_=_.delete(te),p=p.delete(te)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const te="F"===this.query.limitType?_.last():_.first();_=_.delete(te.key),p=p.delete(te.key),i.track({type:1,doc:te})}return{ec:_,ic:i,zi:T,mutatedKeys:p}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const c=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const p=e.ic.xu();p.sort((H,te)=>function(pe,Ve){const ct=Bt=>{switch(Bt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return cn()}};return ct(pe)-ct(Ve)}(H.type,te.type)||this.tc(H.doc,te.doc)),this.oc(i);const _=t?this.uc():[],T=0===this.Zu.size&&this.current?1:0,F=T!==this.Xu;return this.Xu=T,0!==p.length||F?{snapshot:new s_(this.query,e.ec,c,p,e.mutatedKeys,0===T,F,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:_}:{cc:_}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new l1,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Ar(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new aI(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new GT(i))}),t}hc(e){this.Yu=e.ir,this.Zu=Ar();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return s_.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class hS{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class CC{constructor(e){this.key=e,this.fc=!1}}class fS{constructor(e,t,i,c,p,_){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=c,this.currentUser=p,this.maxConcurrentLimboResolutions=_,this.dc={},this.wc=new Ad(T=>sw(T),xm),this._c=new Map,this.mc=new Set,this.gc=new Wt(Yt.comparator),this.yc=new Map,this.Ic=new V0,this.Tc={},this.Ec=new Map,this.Ac=Lf.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function SC(n,e){return cI.apply(this,arguments)}function cI(){return cI=(0,ue.Z)(function*(n,e){const t=function vI(n){const e=Xt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=zT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AC.bind(null,e),e.dc.nu=DC.bind(null,e.eventManager),e.dc.Pc=d1.bind(null,e.eventManager),e}(n);let i,c;const p=t.wc.get(e);if(p)i=p.targetId,t.sharedClientState.addLocalQueryTarget(i),c=p.view.lc();else{const _=yield function e_(n,e){const t=Xt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let c;return t.Bs.getTargetData(i,e).next(p=>p?(c=p,qe.resolve(c)):t.Bs.allocateTargetId(i).next(_=>(c=new xl(e,_,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,c).next(()=>c))))}).then(i=>{const c=t.Ji.get(i.targetId);return(null===c||i.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}(t.localStore,Fc(e)),T=t.sharedClientState.addLocalQueryTarget(_.targetId);i=_.targetId,c=yield function lI(n,e,t,i,c){return f1.apply(this,arguments)}(t,e,i,"current"===T,_.resumeToken),t.isPrimaryClient&&Fy(t.remoteStore,_)}return c}),cI.apply(this,arguments)}function f1(){return f1=(0,ue.Z)(function*(n,e,t,i,c){n.Rc=(pe,Ve,ct)=>{return(Bt=(0,ue.Z)(function*(rn,ln,Nr,ti){let kr=ln.view.sc(Nr);kr.zi&&(kr=yield My(rn.localStore,ln.query,!1).then(({documents:Qi})=>ln.view.sc(Qi,kr)));const qo=ti&&ti.targetChanges.get(ln.targetId),Oo=ln.view.applyChanges(kr,rn.isPrimaryClient,qo);return YT(rn,ln.targetId,Oo.cc),Oo.snapshot}),function(rn,ln,Nr,ti){return Bt.apply(this,arguments)})(n,pe,Ve,ct);var Bt};const p=yield My(n.localStore,e,!0),_=new h1(e,p.ir),T=_.sc(p.documents),F=Vm.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,c),H=_.applyChanges(T,n.isPrimaryClient,F);YT(n,t,H.cc);const te=new hS(e,t,_);return n.wc.set(e,te),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),H.snapshot}),f1.apply(this,arguments)}function jT(n,e){return uI.apply(this,arguments)}function uI(){return uI=(0,ue.Z)(function*(n,e){const t=Xt(n),i=t.wc.get(e),c=t._c.get(i.targetId);if(c.length>1)return t._c.set(i.targetId,c.filter(p=>!xm(p,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield t_(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Ly(t.remoteStore,i.targetId),jy(t,i.targetId)}).catch(wd))):(jy(t,i.targetId),yield t_(t.localStore,i.targetId,!0))}),uI.apply(this,arguments)}function p1(){return p1=(0,ue.Z)(function*(n,e,t){const i=function bI(n){const e=Xt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qT.bind(null,e),e}(n);try{const c=yield function(p,_){const T=Xt(p),F=Xr.now(),H=_.reduce((Ve,ct)=>Ve.add(ct.key),Ar());let te,pe;return T.persistence.runTransaction("Locally write mutations","readwrite",Ve=>{let ct=Lc(),Bt=Ar();return T.Zi.getEntries(Ve,H).next(rn=>{ct=rn,ct.forEach((ln,Nr)=>{Nr.isValidDocument()||(Bt=Bt.add(ln))})}).next(()=>T.localDocuments.getOverlayedDocuments(Ve,ct)).next(rn=>{te=rn;const ln=[];for(const Nr of _){const ti=xE(Nr,te.get(Nr.key).overlayedDocument);null!=ti&&ln.push(new wh(Nr.key,ti,gy(ti.value.mapValue),Yi.exists(!0)))}return T.mutationQueue.addMutationBatch(Ve,F,ln,_)}).next(rn=>{pe=rn;const ln=rn.applyToLocalDocumentSet(te,Bt);return T.documentOverlayCache.saveOverlays(Ve,rn.batchId,ln)})}).then(()=>({batchId:pe.batchId,changes:TE(te)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(c.batchId),function(p,_,T){let F=p.Tc[p.currentUser.toKey()];F||(F=new Wt(Qn)),F=F.insert(_,T),p.Tc[p.currentUser.toKey()]=F}(i,c.batchId,t),yield Uf(i,c.changes),yield ag(i.remoteStore)}catch(c){const p=Rd(c,"Failed to persist write");t.reject(p)}}),p1.apply(this,arguments)}function zT(n,e){return dI.apply(this,arguments)}function dI(){return dI=(0,ue.Z)(function*(n,e){const t=Xt(n);try{const i=yield function dC(n,e){const t=Xt(n),i=e.snapshotVersion;let c=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const _=t.Zi.newChangeBuffer({trackRemovals:!0});c=t.Ji;const T=[];e.targetChanges.forEach((te,pe)=>{const Ve=c.get(pe);if(!Ve)return;T.push(t.Bs.removeMatchingKeys(p,te.removedDocuments,pe).next(()=>t.Bs.addMatchingKeys(p,te.addedDocuments,pe)));let ct=Ve.withSequenceNumber(p.currentSequenceNumber);var Bt,rn,ln;null!==e.targetMismatches.get(pe)?ct=ct.withResumeToken(yr.EMPTY_BYTE_STRING,Nn.min()).withLastLimboFreeSnapshotVersion(Nn.min()):te.resumeToken.approximateByteSize()>0&&(ct=ct.withResumeToken(te.resumeToken,i)),c=c.insert(pe,ct),rn=ct,ln=te,(0===(Bt=Ve).resumeToken.approximateByteSize()||rn.snapshotVersion.toMicroseconds()-Bt.snapshotVersion.toMicroseconds()>=3e8||ln.addedDocuments.size+ln.modifiedDocuments.size+ln.removedDocuments.size>0)&&T.push(t.Bs.updateTargetData(p,ct))});let F=Lc(),H=Ar();if(e.documentUpdates.forEach(te=>{e.resolvedLimboDocuments.has(te)&&T.push(t.persistence.referenceDelegate.updateLimboDocument(p,te))}),T.push(function IT(n,e,t){let i=Ar(),c=Ar();return t.forEach(p=>i=i.add(p)),e.getEntries(n,i).next(p=>{let _=Lc();return t.forEach((T,F)=>{const H=p.get(T);F.isFoundDocument()!==H.isFoundDocument()&&(c=c.add(T)),F.isNoDocument()&&F.version.isEqual(Nn.min())?(e.removeEntry(T,F.readTime),_=_.insert(T,F)):!H.isValidDocument()||F.version.compareTo(H.version)>0||0===F.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(F),_=_.insert(T,F)):xt("LocalStore","Ignoring outdated watch update for ",T,". Current version:",H.version," Watch version:",F.version)}),{nr:_,sr:c}})}(p,_,e.documentUpdates).next(te=>{F=te.nr,H=te.sr})),!i.isEqual(Nn.min())){const te=t.Bs.getLastRemoteSnapshotVersion(p).next(pe=>t.Bs.setTargetsMetadata(p,p.currentSequenceNumber,i));T.push(te)}return qe.waitFor(T).next(()=>_.apply(p)).next(()=>t.localDocuments.getLocalViewOfDocuments(p,F,H)).next(()=>F)}).then(p=>(t.Ji=c,p))}(t.localStore,e);e.targetChanges.forEach((c,p)=>{const _=t.yc.get(p);_&&(In(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?_.fc=!0:c.modifiedDocuments.size>0?In(_.fc):c.removedDocuments.size>0&&(In(_.fc),_.fc=!1))}),yield Uf(t,i,e)}catch(i){yield wd(i)}}),dI.apply(this,arguments)}function hI(n,e,t){const i=Xt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const c=[];i.wc.forEach((p,_)=>{const T=_.view.Mu(e);T.snapshot&&c.push(T.snapshot)}),function(p,_){const T=Xt(p);T.onlineState=_;let F=!1;T.queries.forEach((H,te)=>{for(const pe of te.listeners)pe.Mu(_)&&(F=!0)}),F&&Gy(T)}(i.eventManager,e),c.length&&i.dc.nu(c),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function AC(n,e,t){return g1.apply(this,arguments)}function g1(){return g1=(0,ue.Z)(function*(n,e,t){const i=Xt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const c=i.yc.get(e),p=c&&c.key;if(p){let _=new Wt(Yt.comparator);_=_.insert(p,Pi.newNoDocument(p,Nn.min()));const T=Ar().add(p),F=new Bm(Nn.min(),new Map,new Wt(Qn),_,T);yield zT(i,F),i.gc=i.gc.remove(p),i.yc.delete(e),QT(i)}else yield t_(i.localStore,e,!1).then(()=>jy(i,e,t)).catch(wd)}),g1.apply(this,arguments)}function WT(n,e){return m1.apply(this,arguments)}function m1(){return m1=(0,ue.Z)(function*(n,e){const t=Xt(n),i=e.batch.batchId;try{const c=yield function bT(n,e){const t=Xt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const c=e.batch.keys(),p=t.Zi.newChangeBuffer({trackRemovals:!0});return function(_,T,F,H){const te=F.batch,pe=te.keys();let Ve=qe.resolve();return pe.forEach(ct=>{Ve=Ve.next(()=>H.getEntry(T,ct)).next(Bt=>{const rn=F.docVersions.get(ct);In(null!==rn),Bt.version.compareTo(rn)<0&&(te.applyToRemoteDocument(Bt,F),Bt.isValidDocument()&&(Bt.setReadTime(F.commitVersion),H.addEntry(Bt)))})}),Ve.next(()=>_.mutationQueue.removeMutationBatch(T,te))}(t,i,e,p).next(()=>p.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,c,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(_){let T=Ar();for(let F=0;F<_.mutationResults.length;++F)_.mutationResults[F].transformResults.length>0&&(T=T.add(_.batch.mutations[F].key));return T}(e))).next(()=>t.localDocuments.getDocuments(i,c))})}(t.localStore,e);KT(t,i,null),_1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Uf(t,c)}catch(c){yield wd(c)}}),m1.apply(this,arguments)}function qT(n,e,t){return fI.apply(this,arguments)}function fI(){return fI=(0,ue.Z)(function*(n,e,t){const i=Xt(n);try{const c=yield function(p,_){const T=Xt(p);return T.persistence.runTransaction("Reject batch","readwrite-primary",F=>{let H;return T.mutationQueue.lookupMutationBatch(F,_).next(te=>(In(null!==te),H=te.keys(),T.mutationQueue.removeMutationBatch(F,te))).next(()=>T.mutationQueue.performConsistencyCheck(F)).next(()=>T.documentOverlayCache.removeOverlaysForBatchId(F,H,_)).next(()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(F,H)).next(()=>T.localDocuments.getDocuments(F,H))})}(i.localStore,e);KT(i,e,t),_1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Uf(i,c)}catch(c){yield wd(c)}}),fI.apply(this,arguments)}function _1(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function KT(n,e,t){const i=Xt(n);let c=i.Tc[i.currentUser.toKey()];if(c){const p=c.get(e);p&&(t?p.reject(t):p.resolve(),c=c.remove(e)),i.Tc[i.currentUser.toKey()]=c}}function jy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||OC(n,i)})}function OC(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Ly(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),QT(n))}function YT(n,e,t){for(const i of t)i instanceof GT?(n.Ic.addReference(i.key,e),pS(n,i)):i instanceof aI?(xt("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||OC(n,i.key)):cn()}function pS(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(xt("SyncEngine","New document in limbo: "+t),n.mc.add(i),QT(n))}function QT(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Yt(jr.fromString(e)),i=n.Ac.next();n.yc.set(i,new CC(t)),n.gc=n.gc.insert(t,i),Fy(n.remoteStore,new xl(Fc(Mm(t.path)),i,"TargetPurposeLimboResolution",os.ct))}}function Uf(n,e,t){return JT.apply(this,arguments)}function JT(){return JT=(0,ue.Z)(function*(n,e,t){const i=Xt(n),c=[],p=[],_=[];var T;i.wc.isEmpty()||(i.wc.forEach((T,F)=>{_.push(i.Rc(F,e,t).then(H=>{if((H||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(F.targetId,H?.fromCache?"not-current":"current"),H){c.push(H);const te=_T.Li(F.targetId,H);p.push(te)}}))}),yield Promise.all(_),i.dc.nu(c),yield(T=(0,ue.Z)(function*(F,H){const te=Xt(F);try{yield te.persistence.runTransaction("notifyLocalViewChanges","readwrite",pe=>qe.forEach(H,Ve=>qe.forEach(Ve.Fi,ct=>te.persistence.referenceDelegate.addReference(pe,Ve.targetId,ct)).next(()=>qe.forEach(Ve.Bi,ct=>te.persistence.referenceDelegate.removeReference(pe,Ve.targetId,ct)))))}catch(pe){if(!cu(pe))throw pe;xt("LocalStore","Failed to update sequence numbers: "+pe)}for(const pe of H){const Ve=pe.targetId;if(!pe.fromCache){const ct=te.Ji.get(Ve),rn=ct.withLastLimboFreeSnapshotVersion(ct.snapshotVersion);te.Ji=te.Ji.insert(Ve,rn)}}}),function(F,H){return T.apply(this,arguments)})(i.localStore,p))}),JT.apply(this,arguments)}function gS(n,e){return y1.apply(this,arguments)}function y1(){return y1=(0,ue.Z)(function*(n,e){const t=Xt(n);if(!t.currentUser.isEqual(e)){xt("SyncEngine","User change. New user:",e.toKey());const i=yield Gw(t.localStore,e);t.currentUser=e,(c=t).Ec.forEach(_=>{_.forEach(T=>{T.reject(new St(it.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Uf(t,i.er)}var c}),y1.apply(this,arguments)}function pI(n,e){const t=Xt(n),i=t.yc.get(e);if(i&&i.fc)return Ar().add(i.key);{let c=Ar();const p=t._c.get(e);if(!p)return c;for(const _ of p){const T=t.wc.get(_);c=c.unionWith(T.view.nc)}return c}}class I1{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ue.Z)(function*(){t.serializer=n_(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function vT(n,e,t,i){return new uC(n,e,t,i)}(this.persistence,new yT,e.initialUser,this.serializer)}createPersistence(e){return new U0(H0.zs,this.serializer)}createSharedClientState(e){return new DT}terminate(){var e=this;return(0,ue.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class o_{initialize(e,t){var i=this;return(0,ue.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=c=>hI(i.syncEngine,c,1),i.remoteStore.remoteSyncer.handleCredentialChange=gS.bind(null,i.syncEngine),yield function c1(n,e){return Vy.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new TC}createDatastore(e){const t=n_(e.databaseInfo.databaseId),i=new Y0(e.databaseInfo);return new yC(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,c=e.asyncQueue,p=T=>hI(this.syncEngine,T,0),_=CT.D()?new CT:new dS,new bC(t,i,c,p,_);var t,i,c,p,_}createSyncEngine(e,t){return function(i,c,p,_,T,F,H){const te=new fS(i,c,p,_,T,F);return H&&(te.vc=!0),te}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ue.Z)(function*(t){const i=Xt(t);xt("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield og(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class T1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Vs("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class BC{constructor(e,t,i,c){var p=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=c,this.user=Do.UNAUTHENTICATED,this.clientId=c0.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var _=(0,ue.Z)(function*(T){xt("FirestoreClient","Received user=",T.uid),yield p.authCredentialListener(T),p.user=T});return function(T){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(i,_=>(xt("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}getConfiguration(){var e=this;return(0,ue.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new St(it.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ue.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const c=Rd(i,"Failed to shutdown persistence");t.reject(c)}})),t.promise}}function D1(n,e){return wI.apply(this,arguments)}function wI(){return wI=(0,ue.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),xt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var c=(0,ue.Z)(function*(p){i.isEqual(p)||(yield Gw(e.localStore,p),i=p)});return function(p){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),wI.apply(this,arguments)}function II(n,e){return C1.apply(this,arguments)}function C1(){return C1=(0,ue.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function EI(n){return TI.apply(this,arguments)}(n);xt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(c=>EC(e.remoteStore,c)),n.setAppCheckTokenChangeListener((c,p)=>EC(e.remoteStore,p)),n._onlineComponents=e}),C1.apply(this,arguments)}function TI(){return TI=(0,ue.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){xt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield D1(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function S1(n){return"FirebaseError"===n.name?n.code===it.FAILED_PRECONDITION||n.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;fl("Error using user provided cache. Falling back to memory cache: "+t),yield D1(n,new I1)}}else xt("FirestoreClient","Using default OfflineComponentProvider"),yield D1(n,new I1);return n._offlineComponents}),TI.apply(this,arguments)}function $y(n){return A1.apply(this,arguments)}function A1(){return A1=(0,ue.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(xt("FirestoreClient","Using user provided OnlineComponentProvider"),yield II(n,n._uninitializedComponentsProvider._online)):(xt("FirestoreClient","Using default OnlineComponentProvider"),yield II(n,new o_))),n._onlineComponents}),A1.apply(this,arguments)}function dg(n){return CI.apply(this,arguments)}function CI(){return CI=(0,ue.Z)(function*(n){const e=yield $y(n),t=e.eventManager;return t.onListen=SC.bind(null,e.syncEngine),t.onUnlisten=jT.bind(null,e.syncEngine),t}),CI.apply(this,arguments)}function lD(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const uD=new Map;function M1(n,e,t){if(!t)throw new St(it.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function NI(n){if(!Yt.isDocumentKey(n))throw new St(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function dD(n){if(Yt.isDocumentKey(n))throw new St(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zy(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":cn()}function ai(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new St(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=zy(n);throw new St(it.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class OI{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new St(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new St(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function vS(n,e,t,i){if(!0===e&&!0===i)throw new St(it.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=lD(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new St(it.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new St(it.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new St(it.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class a_{constructor(e,t,i,c){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new St(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new St(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OI(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Lb;switch(t.type){case"firstParty":return new bf(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new St(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=uD.get(e);t&&(xt("ComponentProvider","Removing Datastore"),uD.delete(e),t.terminate())}(this),Promise.resolve()}}class ro{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Uc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ro(this.firestore,e,this._key)}}class La{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new La(this.firestore,e,this._query)}}class Uc extends La{constructor(e,t,i){super(e,t,Mm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ro(this.firestore,null,new Yt(e))}withConverter(e){return new Uc(this.firestore,e,this._path)}}function R1(n,e,...t){if(n=(0,fe.m9)(n),M1("collection","path",e),n instanceof a_){const i=jr.fromString(e,...t);return dD(i),new Uc(n,null,i)}{if(!(n instanceof ro||n instanceof Uc))throw new St(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(jr.fromString(e,...t));return dD(i),new Uc(n.firestore,null,i)}}function MI(n,e,...t){if(n=(0,fe.m9)(n),1===arguments.length&&(e=c0.A()),M1("doc","path",e),n instanceof a_){const i=jr.fromString(e,...t);return NI(i),new ro(n,null,new Yt(i))}{if(!(n instanceof ro||n instanceof Uc))throw new St(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(jr.fromString(e,...t));return NI(i),new ro(n.firestore,n instanceof Uc?n.converter:null,new Yt(i))}}class wS{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new r_(this,"async_queue_retry"),this.Xc=()=>{const t=Q0();t&&xt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Q0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Q0();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Js;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ue.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!cu(t))throw t;xt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,Vs("INTERNAL UNHANDLED ERROR: ",function(p){let _=p.message||"";return p.stack&&(_=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),_}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const c=FT.createAndSchedule(this,e,t,i,p=>this.na(p));return this.zc.push(c),c}Zc(){this.Wc&&cn()}verifyOperationInProgress(){}sa(){var e=this;return(0,ue.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Cs extends a_{constructor(e,t,i,c){super(e,t,i,c),this.type="firestore",this._queue=new wS,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||fD(this),this._firestoreClient.terminate()}}function IS(n,e){const t="object"==typeof n?n:(0,Ee.Mq)(),i="string"==typeof n?n:e||"(default)",c=(0,Ee.qX)(t,"firestore").getImmediate({identifier:i});if(!c._initialized){const p=(0,fe.P0)("firestore");p&&function GC(n,e,t,i={}){var c;const p=(n=ai(n,a_))._getSettings(),_=`${e}:${t}`;if("firestore.googleapis.com"!==p.host&&p.host!==_&&fl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},p),{host:_,ssl:!1})),i.mockUserToken){let T,F;if("string"==typeof i.mockUserToken)T=i.mockUserToken,F=Do.MOCK_USER;else{T=(0,fe.Sg)(i.mockUserToken,null===(c=n._app)||void 0===c?void 0:c.options.projectId);const H=i.mockUserToken.sub||i.mockUserToken.user_id;if(!H)throw new St(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new Do(H)}n._authCredentials=new r0(new hy(T,F))}}(c,...p)}return c}function No(n){return n._firestoreClient||fD(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function fD(n){var e,t,i;const c=n._freezeSettings(),p=(T=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new ec(n._databaseId,T,n._persistenceKey,(H=c).host,H.ssl,H.experimentalForceLongPolling,H.experimentalAutoDetectLongPolling,lD(H.experimentalLongPollingOptions),H.useFetchStreams));var T,H;n._firestoreClient=new BC(n._authCredentials,n._appCheckCredentials,n._queue,p),null!==(t=c.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=c.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:c.cache.kind,_offline:c.cache._offlineComponentProvider,_online:c.cache._onlineComponentProvider})}class Gf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gf(yr.fromBase64String(e))}catch(t){throw new St(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Gf(yr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class jf{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new St(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Us(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wy{constructor(e){this._methodName=e}}class qy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new St(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new St(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qn(this._lat,e._lat)||Qn(this._long,e._long)}}const RI=/^__.*__$/;class k1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new wh(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qp(e,this.data,t,this.fieldTransforms)}}class WC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new wh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw cn()}}class PI{constructor(e,t,i,c,p,_){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=c,void 0===p&&this.ua(),this.fieldTransforms=p||[],this.fieldMask=_||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new PI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.aa({path:i,la:!1});return c.fa(e),c}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.aa({path:i,la:!1});return c.ua(),c}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return V1(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(qC(this.ca)&&RI.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class mD{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||n_(e)}ya(e,t,i,c=!1){return new PI({ca:e,methodName:t,ga:i,path:Us.emptyPath(),la:!1,ma:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function l_(n){const e=n._freezeSettings(),t=n_(n._databaseId);return new mD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function kI(n,e,t,i,c,p={}){const _=n.ya(p.merge||p.mergeFields?2:0,e,t,c);BI("Data must be an object, but it was:",_,i);const T=LI(i,_);let F,H;if(p.merge)F=new wr(_.fieldMask),H=_.fieldTransforms;else if(p.mergeFields){const te=[];for(const pe of p.mergeFields){const Ve=Ky(e,pe,t);if(!_.contains(Ve))throw new St(it.INVALID_ARGUMENT,`Field '${Ve}' is specified in your field mask but missing from your input data.`);wD(te,Ve)||te.push(Ve)}F=new wr(te),H=_.fieldTransforms.filter(pe=>F.covers(pe.field))}else F=null,H=_.fieldTransforms;return new k1(new zo(T),F,H)}class Zy extends Wy{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zy}}function _D(n,e,t){return new PI({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class yD extends Wy{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=_D(this,e,!0),i=this.pa.map(p=>u_(p,t)),c=new xf(i);return new vy(e.path,c)}isEqual(e){return this===e}}class vD extends Wy{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=_D(this,e,!0),i=this.pa.map(p=>u_(p,t)),c=new Nd(i);return new vy(e.path,c)}isEqual(e){return this===e}}function L1(n,e,t,i=!1){return u_(t,n.ya(i?4:3,e))}function u_(n,e){if(B1(n=(0,fe.m9)(n)))return BI("Unsupported field value:",e,n),LI(n,e);if(n instanceof Wy)return function(t,i){if(!qC(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const c=t._toFieldTransform(i);c&&i.fieldTransforms.push(c)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const c=[];let p=0;for(const _ of t){let T=u_(_,i.wa(p));null==T&&(T={nullValue:"NULL_VALUE"}),c.push(T),p++}return{arrayValue:{values:c}}}(n,e)}return function(t,i){if(null===(t=(0,fe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return I0(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const c=Xr.fromDate(t);return{timestampValue:Xp(i.serializer,c)}}if(t instanceof Xr){const c=new Xr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Xp(i.serializer,c)}}if(t instanceof qy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Gf)return{bytesValue:HD(i.serializer,t._byteString)};if(t instanceof ro){const c=i.databaseId,p=t.firestore._databaseId;if(!p.isEqual(c))throw i._a(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Tw(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${zy(t)}`)}(n,e)}function LI(n,e){const t={};return hr(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):En(n,(i,c)=>{const p=u_(c,e.ha(i));null!=p&&(t[i]=p)}),{mapValue:{fields:t}}}function B1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Xr||n instanceof qy||n instanceof Gf||n instanceof ro||n instanceof Wy)}function BI(n,e,t){if(!B1(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=zy(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function Ky(n,e,t){if((e=(0,fe.m9)(e))instanceof jf)return e._internalPath;if("string"==typeof e)return VI(n,e);throw V1("Field path arguments must be of type string or ",n,!1,void 0,t)}const SS=new RegExp("[~\\*/\\[\\]]");function VI(n,e,t){if(e.search(SS)>=0)throw V1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new jf(...e.split("."))._internalPath}catch{throw V1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function V1(n,e,t,i,c){const p=i&&!i.isEmpty(),_=void 0!==c;let T=`Function ${e}() called with invalid data`;t&&(T+=" (via `toFirestore()`)"),T+=". ";let F="";return(p||_)&&(F+=" (found",p&&(F+=` in field ${i}`),_&&(F+=` in document ${c}`),F+=")"),new St(it.INVALID_ARGUMENT,T+n+F)}function wD(n,e){return n.some(t=>t.isEqual(e))}class UI{constructor(e,t,i,c,p){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=c,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new ro(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new KC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Yy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class KC extends UI{data(){return super.data()}}function Yy(n,e){return"string"==typeof e?VI(n,e):e instanceof jf?e._internalPath:e._delegate._internalPath}class GI{}class Qy extends GI{}function ID(n,e,...t){let i=[];e instanceof GI&&i.push(e),i=i.concat(t),function(c){const p=c.filter(T=>T instanceof $f).length,_=c.filter(T=>T instanceof U1).length;if(p>1||p>0&&_>0)throw new St(it.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const c of i)n=c._apply(n);return n}class U1 extends Qy{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new U1(e,t,i)}_apply(e){const t=this._parse(e);return rS(e._query,t),new La(e.firestore,e.converter,v0(e._query,t))}_parse(e){const t=l_(e.firestore);return function(c,p,_,T,F,H,te){let pe;if(F.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new St(it.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){TD(te,H);const Ve=[];for(const ct of te)Ve.push(ED(T,c,ct));pe={arrayValue:{values:Ve}}}else pe=ED(T,c,te)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||TD(te,H),pe=L1(_,"where",te,"in"===H||"not-in"===H);return qr.create(F,H,pe)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function YC(n,e,t){const i=e,c=Yy("where",n);return U1._create(c,i,t)}class $f extends GI{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new $f(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Ti.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,c){let p=i;const _=c.getFlattenedFilters();for(const T of _)rS(p,T),p=v0(p,T)}(e._query,t),new La(e.firestore,e.converter,v0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class jI extends Qy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new jI(e,t)}_apply(e){const t=function(i,c,p){if(null!==i.startAt)throw new St(it.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new St(it.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const _=new qp(c,p);return function(T,F){if(null===iw(T)){const H=no(T);null!==H&&iS(0,H,F.field)}}(i,_),_}(e._query,this._field,this._direction);return new La(e.firestore,e.converter,function(i,c){const p=i.explicitOrderBy.concat([c]);return new Nf(i.path,i.collectionGroup,p,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function H1(n,e="asc"){const t=e,i=Yy("orderBy",n);return jI._create(i,t)}class G1 extends Qy{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new G1(e,t,i)}_apply(e){return new La(e.firestore,e.converter,b0(e._query,this._limit,this._limitType))}}function XC(n){return function x1(n,e){if(e<=0)throw new St(it.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}("limit",n),G1._create("limit",n,"F")}class Jy extends Qy{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Jy(e,t,i)}_apply(e){const t=function nS(n,e,t,i){if(t[0]=(0,fe.m9)(t[0]),t[0]instanceof UI)return function(c,p,_,T,F){if(!T)throw new St(it.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${_}().`);const H=[];for(const te of Kp(c))if(te.field.isKeyField())H.push(Dd(p,T.key));else{const pe=T.data.field(te.field);if(Vn(pe))throw new St(it.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+te.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===pe){const Ve=te.field.canonicalString();throw new St(it.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ve}' (used as the orderBy) does not exist.`)}H.push(pe)}return new Ml(H,F)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const c=l_(n.firestore);return function(p,_,T,F,H,te){const pe=p.explicitOrderBy;if(H.length>pe.length)throw new St(it.INVALID_ARGUMENT,`Too many arguments provided to ${F}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ve=[];for(let ct=0;ct<H.length;ct++){const Bt=H[ct];if(pe[ct].field.isKeyField()){if("string"!=typeof Bt)throw new St(it.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${F}(), but got a ${typeof Bt}`);if(!y0(p)&&-1!==Bt.indexOf("/"))throw new St(it.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${F}() must be a plain document ID, but '${Bt}' contains a slash.`);const rn=p.path.child(jr.fromString(Bt));if(!Yt.isDocumentKey(rn))throw new St(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${F}() must result in a valid document path, but '${rn}' is not because it contains an odd number of segments.`);const ln=new Yt(rn);Ve.push(Dd(_,ln))}else{const rn=L1(T,F,Bt);Ve.push(rn)}}return new Ml(Ve,te)}(n._query,n.firestore._databaseId,c,e,t,i)}}(e,this.type,this._docOrFields,this._inclusive);return new La(e.firestore,e.converter,(c=t,new Nf((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,c,i.endAt)));var i,c}}function tS(...n){return Jy._create("startAfter",n,!1)}function ED(n,e,t){if("string"==typeof(t=(0,fe.m9)(t))){if(""===t)throw new St(it.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!y0(e)&&-1!==t.indexOf("/"))throw new St(it.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(jr.fromString(t));if(!Yt.isDocumentKey(i))throw new St(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Dd(n,new Yt(i))}if(t instanceof ro)return Dd(n,t._key);throw new St(it.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zy(t)}.`)}function TD(n,e){if(!Array.isArray(n)||0===n.length)throw new St(it.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rS(n,e){if(e.isInequality()){const i=no(n),c=e.field;if(null!==i&&!i.isEqual(c))throw new St(it.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${c.toString()}'`);const p=iw(n);null!==p&&iS(0,c,p)}const t=function(i,c){for(const p of i)for(const _ of p.getFlattenedFilters())if(c.indexOf(_.op)>=0)return _.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new St(it.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function iS(n,e,t){if(!t.isEqual(e))throw new St(it.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class NS{convertValue(e,t="none"){switch(So(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(an(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw cn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return En(e,(c,p)=>{i[c]=this.convertValue(p,t)}),i}convertGeoPoint(e){return new qy(Lt(e.latitude),Lt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=ar(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ri(e));default:return null}}convertTimestamp(e){const t=eo(e);return new Xr(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=jr.fromString(e);In($m(i));const c=new Zi(i.get(1),i.get(3)),p=new Yt(i.popFirst(5));return c.isEqual(t)||Vs(`Document ${p} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),p}}function DD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class fg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xy extends UI{constructor(e,t,i,c,p,_){super(e,t,i,c,_),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new r(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Yy("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class r extends Xy{data(e={}){return super.data(e)}}class s{constructor(e,t,i,c){this._firestore=e,this._userDataWriter=t,this._snapshot=c,this.metadata=new fg(c.hasPendingWrites,c.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new r(this._firestore,this._userDataWriter,i.key,i,new fg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new St(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,c){if(i._snapshot.oldDocs.isEmpty()){let p=0;return i._snapshot.docChanges.map(_=>({type:"added",doc:new r(i._firestore,i._userDataWriter,_.doc.key,_.doc,new fg(i._snapshot.mutatedKeys.has(_.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:p++}))}{let p=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(_=>c||3!==_.type).map(_=>{const T=new r(i._firestore,i._userDataWriter,_.doc.key,_.doc,new fg(i._snapshot.mutatedKeys.has(_.doc.key),i._snapshot.fromCache),i.query.converter);let F=-1,H=-1;return 0!==_.type&&(F=p.indexOf(_.doc.key),p=p.delete(_.doc.key)),1!==_.type&&(p=p.add(_.doc),H=p.indexOf(_.doc.key)),{type:a(_.type),doc:T,oldIndex:F,newIndex:H}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function a(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return cn()}}function g(n){n=ai(n,ro);const e=ai(n.firestore,Cs);return function O1(n,e,t={}){const i=new Js;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(c,p,_,T,F){const H=new T1({next:pe=>{p.enqueueAndForget(()=>Hy(c,te));const Ve=pe.docs.has(_);!Ve&&pe.fromCache?F.reject(new St(it.UNAVAILABLE,"Failed to get document because the client is offline.")):Ve&&pe.fromCache&&T&&"server"===T.source?F.reject(new St(it.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):F.resolve(pe)},error:pe=>F.reject(pe)}),te=new BT(Mm(_.path),H,{includeMetadataChanges:!0,Ku:!0});return sI(c,te)}(yield dg(n),n.asyncQueue,e,t,i)})),i.promise}(No(e),n._key).then(t=>function bt(n,e,t){const i=t.docs.get(e._key),c=new y(n);return new Xy(n,c,e._key,i,new fg(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class y extends NS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ro(this.firestore,null,t)}}function R(n){n=ai(n,La);const e=ai(n.firestore,Cs),t=No(e),i=new y(e);return function HI(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new St(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function aD(n,e,t={}){const i=new Js;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(c,p,_,T,F){const H=new T1({next:pe=>{p.enqueueAndForget(()=>Hy(c,te)),pe.fromCache&&"server"===T.source?F.reject(new St(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):F.resolve(pe)},error:pe=>F.reject(pe)}),te=new BT(_,H,{includeMetadataChanges:!0,Ku:!0});return sI(c,te)}(yield dg(n),n.asyncQueue,e,t,i)})),i.promise}(t,n._query).then(c=>new s(e,i,n,c))}function me(n,e,t){n=ai(n,ro);const i=ai(n.firestore,Cs),c=DD(n.converter,e,t);return bn(i,[kI(l_(i),"setDoc",n._key,c,null!==n.converter,t).toMutation(n._key,Yi.none())])}function xe(n,e,t,...i){n=ai(n,ro);const c=ai(n.firestore,Cs),p=l_(c);let _;return _="string"==typeof(e=(0,fe.m9)(e))||e instanceof jf?function FI(n,e,t,i,c,p){const _=n.ya(1,e,t),T=[Ky(e,i,t)],F=[c];if(p.length%2!=0)throw new St(it.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ve=0;Ve<p.length;Ve+=2)T.push(Ky(e,p[Ve])),F.push(p[Ve+1]);const H=[],te=zo.empty();for(let Ve=T.length-1;Ve>=0;--Ve)if(!wD(H,T[Ve])){const ct=T[Ve];let Bt=F[Ve];Bt=(0,fe.m9)(Bt);const rn=_.da(ct);if(Bt instanceof Zy)H.push(ct);else{const ln=u_(Bt,rn);null!=ln&&(H.push(ct),te.set(ct,ln))}}const pe=new wr(H);return new WC(te,pe,_.fieldTransforms)}(p,"updateDoc",n._key,e,t,i):function bD(n,e,t,i){const c=n.ya(1,e,t);BI("Data must be an object, but it was:",c,i);const p=[],_=zo.empty();En(i,(F,H)=>{const te=VI(e,F,t);H=(0,fe.m9)(H);const pe=c.da(te);if(H instanceof Zy)p.push(te);else{const Ve=u_(H,pe);null!=Ve&&(p.push(te),_.set(te,Ve))}});const T=new wr(p);return new WC(_,T,c.fieldTransforms)}(p,"updateDoc",n._key,e),bn(c,[_.toMutation(n._key,Yi.exists(!0))])}function Be(n){return bn(ai(n.firestore,Cs),[new Fm(n._key,Yi.none())])}function pt(n,e){const t=ai(n.firestore,Cs),i=MI(n),c=DD(n.converter,e);return bn(t,[kI(l_(n.firestore),"addDoc",i._key,c,null!==n.converter,{}).toMutation(i._key,Yi.exists(!1))]).then(()=>i)}function bn(n,e){return function(t,i){const c=new Js;return t.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function $T(n,e,t){return p1.apply(this,arguments)}(yield function N1(n){return $y(n).then(e=>e.syncEngine)}(t),i,c)})),c.promise}(No(n),e)}function eA(...n){return new yD("arrayUnion",n)}function tA(...n){return new vD("arrayRemove",n)}!function(n,e=!0){Gu=Ee.Jn,(0,Ee.Xd)(new ce.wA("firestore",(t,{instanceIdentifier:i,options:c})=>{const p=t.getProvider("app").getImmediate(),_=new Cs(new s0(t.getProvider("auth-internal")),new Tm(t.getProvider("app-check-internal")),function(T,F){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new St(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zi(T.options.projectId,F)}(p,i),p);return c=Object.assign({useFetchStreams:e},c),_._setSettings(c),_},"PUBLIC").setMultipleInstances(!0)),(0,Ee.KN)(vf,"3.13.0",n),(0,Ee.KN)(vf,"3.13.0","esm2017")}();class AD{constructor(e){return e}}const FS="firestore",oS=new re.OlP("angularfire2.firestore-instances");function iA(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new AD(i)}}const sA={provide:class nA{constructor(){return(0,b.vb)(FS)}},deps:[[new re.FiY,oS]]},oA={provide:AD,useFactory:function rA(n,e){const t=(0,b.JM)(FS,n,e);return t&&new AD(t)},deps:[[new re.FiY,oS],u.Ot]};let aA=(()=>{class n{constructor(){(0,be.KN)("angularfire",b.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re.oAB({type:n}),n.\u0275inj=re.cJS({providers:[oA,sA]}),n})();function cA(n,...e){return{ngModule:aA,providers:[{provide:oS,useFactory:iA(n),multi:!0,deps:[re.R0b,re.zs3,b.HU,u.z6,[new re.FiY,wo],[new re.FiY,Xl],...e]}]}}const lA=(0,b.u3)(pt,!0),uA=(0,b.u3)(tA,!0),dA=(0,b.u3)(eA,!0),hA=(0,b.u3)(R1,!0),fA=(0,b.u3)(Be,!0),pA=(0,b.u3)(MI,!0),gA=(0,b.u3)(g,!0),mA=(0,b.u3)(R,!0),_A=(0,b.u3)(IS,!0),yA=(0,b.u3)(XC,!0),vA=(0,b.u3)(H1,!0),bA=(0,b.u3)(ID,!0),wA=(0,b.u3)(me,!0),IA=(0,b.u3)(tS,!0),EA=(0,b.u3)(xe,!0),TA=(0,b.u3)(YC,!0)},6106:(Ht,Ge,K)=>{K.d(Ge,{q4:()=>Tu,HU:()=>Gd,vb:()=>Qf,JM:()=>zl,u3:()=>Jf});var b=K(9468),re=K(4097),u=K(5861),be=K(7592),ue=K(229),fe=K(6820),Ee=K(7879);const Qe=(O,L)=>L.some(Q=>O instanceof Q);let Re,ce;const Se=new WeakMap,Oe=new WeakMap,Ke=new WeakMap,Tt=new WeakMap,Ft=new WeakMap;let Ot={get(O,L,Q){if(O instanceof IDBTransaction){if("done"===L)return Oe.get(O);if("objectStoreNames"===L)return O.objectStoreNames||Ke.get(O);if("store"===L)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return _t(O[L])},set:(O,L,Q)=>(O[L]=Q,!0),has:(O,L)=>O instanceof IDBTransaction&&("done"===L||"store"===L)||L in O};function yt(O){return"function"==typeof O?function st(O){return O!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Me(){return ce||(ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(O)?function(...L){return O.apply(je(this),L),_t(Se.get(this))}:function(...L){return _t(O.apply(je(this),L))}:function(L,...Q){const he=O.call(je(this),L,...Q);return Ke.set(he,L.sort?L.sort():[L]),_t(he)}}(O):(O instanceof IDBTransaction&&function Dn(O){if(Oe.has(O))return;const L=new Promise((Q,he)=>{const Ne=()=>{O.removeEventListener("complete",Le),O.removeEventListener("error",ot),O.removeEventListener("abort",ot)},Le=()=>{Q(),Ne()},ot=()=>{he(O.error||new DOMException("AbortError","AbortError")),Ne()};O.addEventListener("complete",Le),O.addEventListener("error",ot),O.addEventListener("abort",ot)});Oe.set(O,L)}(O),Qe(O,function de(){return Re||(Re=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(O,Ot):O)}function _t(O){if(O instanceof IDBRequest)return function Nt(O){const L=new Promise((Q,he)=>{const Ne=()=>{O.removeEventListener("success",Le),O.removeEventListener("error",ot)},Le=()=>{Q(_t(O.result)),Ne()},ot=()=>{he(O.error),Ne()};O.addEventListener("success",Le),O.addEventListener("error",ot)});return L.then(Q=>{Q instanceof IDBCursor&&Se.set(Q,O)}).catch(()=>{}),Ft.set(L,O),L}(O);if(Tt.has(O))return Tt.get(O);const L=yt(O);return L!==O&&(Tt.set(O,L),Ft.set(L,O)),L}const je=O=>Ft.get(O),mt=["get","getKey","getAll","getAllKeys","count"],kn=["put","add","delete","clear"],dt=new Map;function hn(O,L){if(!(O instanceof IDBDatabase)||L in O||"string"!=typeof L)return;if(dt.get(L))return dt.get(L);const Q=L.replace(/FromIndex$/,""),he=L!==Q,Ne=kn.includes(Q);if(!(Q in(he?IDBIndex:IDBObjectStore).prototype)||!Ne&&!mt.includes(Q))return;const Le=function(){var ot=(0,u.Z)(function*(jt,...$t){const vn=this.transaction(jt,Ne?"readwrite":"readonly");let Kn=vn.store;return he&&(Kn=Kn.index($t.shift())),(yield Promise.all([Kn[Q](...$t),Ne&&vn.done]))[0]});return function($t){return ot.apply(this,arguments)}}();return dt.set(L,Le),Le}!function ft(O){Ot=O(Ot)}(O=>({...O,get:(L,Q,he)=>hn(L,Q)||O.get(L,Q,he),has:(L,Q)=>!!hn(L,Q)||O.has(L,Q)}));const Cn="@firebase/installations",jn="0.6.4",cr=1e4,vr=`w:${jn}`,Fe="FIS_v2",$e="https://firebaseinstallations.googleapis.com/v1",Xe=36e5,kt=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Gt(O){return O instanceof ue.ZR&&O.code.includes("request-failed")}function fn({projectId:O}){return`${$e}/projects/${O}/installations`}function yn(O){return{token:O.token,requestStatus:2,expiresIn:Pe(O.expiresIn),creationTime:Date.now()}}function dn(O,L){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,u.Z)(function*(O,L){const he=(yield L.json()).error;return kt.create("request-failed",{requestName:O,serverCode:he.code,serverMessage:he.message,serverStatus:he.status})})).apply(this,arguments)}function Zn({apiKey:O}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O})}function Fr(O){return De.apply(this,arguments)}function De(){return(De=(0,u.Z)(function*(O){const L=yield O();return L.status>=500&&L.status<600?O():L})).apply(this,arguments)}function Pe(O){return Number(O.replace("s","000"))}function vt(){return(vt=(0,u.Z)(function*({appConfig:O,heartbeatServiceProvider:L},{fid:Q}){const he=fn(O),Ne=Zn(O),Le=L.getImmediate({optional:!0});if(Le){const vn=yield Le.getHeartbeatsHeader();vn&&Ne.append("x-firebase-client",vn)}const jt={method:"POST",headers:Ne,body:JSON.stringify({fid:Q,authVersion:Fe,appId:O.appId,sdkVersion:vr})},$t=yield Fr(()=>fetch(he,jt));if($t.ok){const vn=yield $t.json();return{fid:vn.fid||Q,registrationStatus:2,refreshToken:vn.refreshToken,authToken:yn(vn.authToken)}}throw yield dn("Create Installation",$t)})).apply(this,arguments)}function At(O){return new Promise(L=>{setTimeout(L,O)})}const An=/^[cdef][\w-]{21}$/,sn="";function Qt(){try{const O=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(O),O[0]=112+O[0]%16;const Q=function wn(O){return function Ir(O){return btoa(String.fromCharCode(...O)).replace(/\+/g,"-").replace(/\//g,"_")}(O).substr(0,22)}(O);return An.test(Q)?Q:sn}catch{return sn}}function Jn(O){return`${O.appName}!${O.appId}`}const en=new Map;function Or(O,L){const Q=Jn(O);lr(Q,L),function Yn(O,L){const Q=function zn(){return!ur&&"BroadcastChannel"in self&&(ur=new BroadcastChannel("[Firebase] FID Change"),ur.onmessage=O=>{lr(O.data.key,O.data.fid)}),ur}();Q&&Q.postMessage({key:O,fid:L}),function fi(){0===en.size&&ur&&(ur.close(),ur=null)}()}(Q,L)}function lr(O,L){const Q=en.get(O);if(Q)for(const he of Q)he(L)}let ur=null;const xn="firebase-installations-database",Xn=1,xr="firebase-installations-store";let pi=null;function nt(){return pi||(pi=function ve(O,L,{blocked:Q,upgrade:he,blocking:Ne,terminated:Le}={}){const ot=indexedDB.open(O,L),jt=_t(ot);return he&&ot.addEventListener("upgradeneeded",$t=>{he(_t(ot.result),$t.oldVersion,$t.newVersion,_t(ot.transaction))}),Q&&ot.addEventListener("blocked",()=>Q()),jt.then($t=>{Le&&$t.addEventListener("close",()=>Le()),Ne&&$t.addEventListener("versionchange",()=>Ne())}).catch(()=>{}),jt}(xn,Xn,{upgrade:(O,L)=>{0===L&&O.createObjectStore(xr)}})),pi}function Ce(O,L){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,u.Z)(function*(O,L){const Q=Jn(O),Ne=(yield nt()).transaction(xr,"readwrite"),Le=Ne.objectStore(xr),ot=yield Le.get(Q);return yield Le.put(L,Q),yield Ne.done,(!ot||ot.fid!==L.fid)&&Or(O,L.fid),L})).apply(this,arguments)}function It(O){return qt.apply(this,arguments)}function qt(){return(qt=(0,u.Z)(function*(O){const L=Jn(O),he=(yield nt()).transaction(xr,"readwrite");yield he.objectStore(xr).delete(L),yield he.done})).apply(this,arguments)}function Zt(O,L){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,u.Z)(function*(O,L){const Q=Jn(O),Ne=(yield nt()).transaction(xr,"readwrite"),Le=Ne.objectStore(xr),ot=yield Le.get(Q),jt=L(ot);return void 0===jt?yield Le.delete(Q):yield Le.put(jt,Q),yield Ne.done,jt&&(!ot||ot.fid!==jt.fid)&&Or(O,jt.fid),jt})).apply(this,arguments)}function Y(O){return V.apply(this,arguments)}function V(){return V=(0,u.Z)(function*(O){let L;const Q=yield Zt(O.appConfig,he=>{const Ne=function G(O){return pn(O||{fid:Qt(),registrationStatus:0})}(he),Le=function q(O,L){if(0===L.registrationStatus){if(!navigator.onLine)return{installationEntry:L,registrationPromise:Promise.reject(kt.create("app-offline"))};const Q={fid:L.fid,registrationStatus:1,registrationTime:Date.now()},he=function $(O,L){return we.apply(this,arguments)}(O,Q);return{installationEntry:Q,registrationPromise:he}}return 1===L.registrationStatus?{installationEntry:L,registrationPromise:We(O)}:{installationEntry:L}}(O,Ne);return L=Le.registrationPromise,Le.installationEntry});return Q.fid===sn?{installationEntry:yield L}:{installationEntry:Q,registrationPromise:L}}),V.apply(this,arguments)}function we(){return we=(0,u.Z)(function*(O,L){try{const Q=yield function at(O,L){return vt.apply(this,arguments)}(O,L);return Ce(O.appConfig,Q)}catch(Q){throw Gt(Q)&&409===Q.customData.serverCode?yield It(O.appConfig):yield Ce(O.appConfig,{fid:L.fid,registrationStatus:0}),Q}}),we.apply(this,arguments)}function We(O){return Et.apply(this,arguments)}function Et(){return(Et=(0,u.Z)(function*(O){let L=yield on(O.appConfig);for(;1===L.registrationStatus;)yield At(100),L=yield on(O.appConfig);if(0===L.registrationStatus){const{installationEntry:Q,registrationPromise:he}=yield Y(O);return he||Q}return L})).apply(this,arguments)}function on(O){return Zt(O,L=>{if(!L)throw kt.create("installation-not-found");return pn(L)})}function pn(O){return function Mn(O){return 1===O.registrationStatus&&O.registrationTime+cr<Date.now()}(O)?{fid:O.fid,registrationStatus:0}:O}function Fn(){return(Fn=(0,u.Z)(function*({appConfig:O,heartbeatServiceProvider:L},Q){const he=function $r(O,{fid:L}){return`${fn(O)}/${L}/authTokens:generate`}(O,Q),Ne=function br(O,{refreshToken:L}){const Q=Zn(O);return Q.append("Authorization",function ke(O){return`${Fe} ${O}`}(L)),Q}(O,Q),Le=L.getImmediate({optional:!0});if(Le){const vn=yield Le.getHeartbeatsHeader();vn&&Ne.append("x-firebase-client",vn)}const jt={method:"POST",headers:Ne,body:JSON.stringify({installation:{sdkVersion:vr,appId:O.appId}})},$t=yield Fr(()=>fetch(he,jt));if($t.ok)return yn(yield $t.json());throw yield dn("Generate Auth Token",$t)})).apply(this,arguments)}function nr(O){return Gs.apply(this,arguments)}function Gs(){return Gs=(0,u.Z)(function*(O,L=!1){let Q;const he=yield Zt(O.appConfig,Le=>{if(!Vr(Le))throw kt.create("not-registered");const ot=Le.authToken;if(!L&&function Mo(O){return 2===O.requestStatus&&!function ps(O){const L=Date.now();return L<O.creationTime||O.creationTime+O.expiresIn<L+Xe}(O)}(ot))return Le;if(1===ot.requestStatus)return Q=function Ui(O,L){return as.apply(this,arguments)}(O,L),Le;{if(!navigator.onLine)throw kt.create("app-offline");const jt=function Ji(O){const L={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},O),{authToken:L})}(Le);return Q=function Ba(O,L){return Va.apply(this,arguments)}(O,jt),jt}});return Q?yield Q:he.authToken}),Gs.apply(this,arguments)}function as(){return(as=(0,u.Z)(function*(O,L){let Q=yield Zo(O.appConfig);for(;1===Q.authToken.requestStatus;)yield At(100),Q=yield Zo(O.appConfig);const he=Q.authToken;return 0===he.requestStatus?nr(O,L):he})).apply(this,arguments)}function Zo(O){return Zt(O,L=>{if(!Vr(L))throw kt.create("not-registered");return function dr(O){return 1===O.requestStatus&&O.requestTime+cr<Date.now()}(L.authToken)?Object.assign(Object.assign({},L),{authToken:{requestStatus:0}}):L})}function Va(){return Va=(0,u.Z)(function*(O,L){try{const Q=yield function Kt(O,L){return Fn.apply(this,arguments)}(O,L),he=Object.assign(Object.assign({},L),{authToken:Q});return yield Ce(O.appConfig,he),Q}catch(Q){if(!Gt(Q)||401!==Q.customData.serverCode&&404!==Q.customData.serverCode){const he=Object.assign(Object.assign({},L),{authToken:{requestStatus:0}});yield Ce(O.appConfig,he)}else yield It(O.appConfig);throw Q}}),Va.apply(this,arguments)}function Vr(O){return void 0!==O&&2===O.registrationStatus}function xo(){return(xo=(0,u.Z)(function*(O){const L=O,{installationEntry:Q,registrationPromise:he}=yield Y(L);return he?he.catch(console.error):nr(L).catch(console.error),Q.fid})).apply(this,arguments)}function ma(){return ma=(0,u.Z)(function*(O,L=!1){const Q=O;return yield function Hi(O){return Ss.apply(this,arguments)}(Q),(yield nr(Q,L)).token}),ma.apply(this,arguments)}function Ss(){return(Ss=(0,u.Z)(function*(O){const{registrationPromise:L}=yield Y(O);L&&(yield L)})).apply(this,arguments)}function As(O){return kt.create("missing-app-config-values",{valueName:O})}const _a="installations",gs=O=>{const L=O.getProvider("app").getImmediate(),Q=function Ua(O){if(!O||!O.options)throw As("App Configuration");if(!O.name)throw As("App Name");const L=["projectId","apiKey","appId"];for(const Q of L)if(!O.options[Q])throw As(Q);return{appName:O.name,projectId:O.options.projectId,apiKey:O.options.apiKey,appId:O.options.appId}}(L);return{app:L,appConfig:Q,heartbeatServiceProvider:(0,be.qX)(L,"heartbeat"),_delete:()=>Promise.resolve()}},ni=O=>{const L=O.getProvider("app").getImmediate(),Q=(0,be.qX)(L,_a).getImmediate();return{getId:()=>function io(O){return xo.apply(this,arguments)}(Q),getToken:Ne=>function Ko(O){return ma.apply(this,arguments)}(Q,Ne)}};(function $s(){(0,be.Xd)(new fe.wA(_a,gs,"PUBLIC")),(0,be.Xd)(new fe.wA("installations-internal",ni,"PRIVATE"))})(),(0,be.KN)(Cn,jn),(0,be.KN)(Cn,jn,"esm2017");const Ns="@firebase/remote-config",Di=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class _i{constructor(L,Q,he,Ne){this.client=L,this.storage=Q,this.storageCache=he,this.logger=Ne}isCachedDataFresh(L,Q){if(!Q)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const he=Date.now()-Q,Ne=he<=L;return this.logger.debug(`Config fetch cache check. Cache age millis: ${he}. Cache max age millis (minimumFetchIntervalMillis setting): ${L}. Is cache hit: ${Ne}.`),Ne}fetch(L){var Q=this;return(0,u.Z)(function*(){const[he,Ne]=yield Promise.all([Q.storage.getLastSuccessfulFetchTimestampMillis(),Q.storage.getLastSuccessfulFetchResponse()]);if(Ne&&Q.isCachedDataFresh(L.cacheMaxAgeMillis,he))return Ne;L.eTag=Ne&&Ne.eTag;const Le=yield Q.client.fetch(L),ot=[Q.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Le.status&&ot.push(Q.storage.setLastSuccessfulFetchResponse(Le)),yield Promise.all(ot),Le})()}}function Ro(O=navigator){return O.languages&&O.languages[0]||O.language}class lo{constructor(L,Q,he,Ne,Le,ot){this.firebaseInstallations=L,this.sdkVersion=Q,this.namespace=he,this.projectId=Ne,this.apiKey=Le,this.appId=ot}fetch(L){var Q=this;return(0,u.Z)(function*(){const[he,Ne]=yield Promise.all([Q.firebaseInstallations.getId(),Q.firebaseInstallations.getToken()]),ot=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Q.projectId}/namespaces/${Q.namespace}:fetch?key=${Q.apiKey}`,jt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":L.eTag||"*"},$t={sdk_version:Q.sdkVersion,app_instance_id:he,app_instance_id_token:Ne,app_id:Q.appId,language_code:Ro()},vn={method:"POST",headers:jt,body:JSON.stringify($t)},Kn=fetch(ot,vn),sr=new Promise((fc,Nc)=>{L.signal.addEventListener(()=>{const qi=new Error("The operation was aborted.");qi.name="AbortError",Nc(qi)})});let Ka;try{yield Promise.race([Kn,sr]),Ka=yield Kn}catch(fc){let Nc="fetch-client-network";throw"AbortError"===fc?.name&&(Nc="fetch-timeout"),Di.create(Nc,{originalErrorMessage:fc?.message})}let bo=Ka.status;const xh=Ka.headers.get("ETag")||void 0;let Rh,Ya;if(200===Ka.status){let fc;try{fc=yield Ka.json()}catch(Nc){throw Di.create("fetch-client-parse",{originalErrorMessage:Nc?.message})}Rh=fc.entries,Ya=fc.state}if("INSTANCE_STATE_UNSPECIFIED"===Ya?bo=500:"NO_CHANGE"===Ya?bo=304:("NO_TEMPLATE"===Ya||"EMPTY_CONFIG"===Ya)&&(Rh={}),304!==bo&&200!==bo)throw Di.create("fetch-status",{httpStatus:bo});return{status:bo,eTag:xh,config:Rh}})()}}class Un{constructor(L,Q){this.client=L,this.storage=Q}fetch(L){var Q=this;return(0,u.Z)(function*(){const he=(yield Q.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Q.attemptFetch(L,he)})()}attemptFetch(L,{throttleEndTimeMillis:Q,backoffCount:he}){var Ne=this;return(0,u.Z)(function*(){yield function pr(O,L){return new Promise((Q,he)=>{const Ne=Math.max(L-Date.now(),0),Le=setTimeout(Q,Ne);O.addEventListener(()=>{clearTimeout(Le),he(Di.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(L.signal,Q);try{const Le=yield Ne.client.fetch(L);return yield Ne.storage.deleteThrottleMetadata(),Le}catch(Le){if(!function Ut(O){if(!(O instanceof ue.ZR&&O.customData))return!1;const L=Number(O.customData.httpStatus);return 429===L||500===L||503===L||504===L}(Le))throw Le;const ot={throttleEndTimeMillis:Date.now()+(0,ue.$s)(he),backoffCount:he+1};return yield Ne.storage.setThrottleMetadata(ot),Ne.attemptFetch(L,ot)}})()}}class uo{constructor(L,Q,he,Ne,Le){this.app=L,this._client=Q,this._storageCache=he,this._storage=Ne,this._logger=Le,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function qn(O,L){const Q=O.target.error||void 0;return Di.create(L,{originalErrorMessage:Q&&Q?.message})}const zr="app_namespace_store";class Pn{constructor(L,Q,he,Ne=function ms(){return new Promise((O,L)=>{try{const Q=indexedDB.open("firebase_remote_config",1);Q.onerror=he=>{L(qn(he,"storage-open"))},Q.onsuccess=he=>{O(he.target.result)},Q.onupgradeneeded=he=>{0===he.oldVersion&&he.target.result.createObjectStore(zr,{keyPath:"compositeKey"})}}catch(Q){L(Di.create("storage-open",{originalErrorMessage:Q?.message}))}})}()){this.appId=L,this.appName=Q,this.namespace=he,this.openDbPromise=Ne}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(L){return this.set("last_fetch_status",L)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(L){return this.set("last_successful_fetch_timestamp_millis",L)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(L){return this.set("last_successful_fetch_response",L)}getActiveConfig(){return this.get("active_config")}setActiveConfig(L){return this.set("active_config",L)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(L){return this.set("active_config_etag",L)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(L){return this.set("throttle_metadata",L)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(L){var Q=this;return(0,u.Z)(function*(){const he=yield Q.openDbPromise;return new Promise((Ne,Le)=>{const jt=he.transaction([zr],"readonly").objectStore(zr),$t=Q.createCompositeKey(L);try{const vn=jt.get($t);vn.onerror=Kn=>{Le(qn(Kn,"storage-get"))},vn.onsuccess=Kn=>{const sr=Kn.target.result;Ne(sr?sr.value:void 0)}}catch(vn){Le(Di.create("storage-get",{originalErrorMessage:vn?.message}))}})})()}set(L,Q){var he=this;return(0,u.Z)(function*(){const Ne=yield he.openDbPromise;return new Promise((Le,ot)=>{const $t=Ne.transaction([zr],"readwrite").objectStore(zr),vn=he.createCompositeKey(L);try{const Kn=$t.put({compositeKey:vn,value:Q});Kn.onerror=sr=>{ot(qn(sr,"storage-set"))},Kn.onsuccess=()=>{Le()}}catch(Kn){ot(Di.create("storage-set",{originalErrorMessage:Kn?.message}))}})})()}delete(L){var Q=this;return(0,u.Z)(function*(){const he=yield Q.openDbPromise;return new Promise((Ne,Le)=>{const jt=he.transaction([zr],"readwrite").objectStore(zr),$t=Q.createCompositeKey(L);try{const vn=jt.delete($t);vn.onerror=Kn=>{Le(qn(Kn,"storage-delete"))},vn.onsuccess=()=>{Ne()}}catch(vn){Le(Di.create("storage-delete",{originalErrorMessage:vn?.message}))}})})()}createCompositeKey(L){return[this.appId,this.appName,this.namespace,L].join()}}class Ws{constructor(L){this.storage=L}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var L=this;return(0,u.Z)(function*(){const Q=L.storage.getLastFetchStatus(),he=L.storage.getLastSuccessfulFetchTimestampMillis(),Ne=L.storage.getActiveConfig(),Le=yield Q;Le&&(L.lastFetchStatus=Le);const ot=yield he;ot&&(L.lastSuccessfulFetchTimestampMillis=ot);const jt=yield Ne;jt&&(L.activeConfig=jt)})()}setLastFetchStatus(L){return this.lastFetchStatus=L,this.storage.setLastFetchStatus(L)}setLastSuccessfulFetchTimestampMillis(L){return this.lastSuccessfulFetchTimestampMillis=L,this.storage.setLastSuccessfulFetchTimestampMillis(L)}setActiveConfig(L){return this.activeConfig=L,this.storage.setActiveConfig(L)}}function Xi(){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,u.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}!function wa(){(0,be.Xd)(new fe.wA("remote-config",function O(L,{instanceIdentifier:Q}){const he=L.getProvider("app").getImmediate(),Ne=L.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Di.create("registration-window");if(!(0,ue.hl)())throw Di.create("indexed-db-unavailable");const{projectId:Le,apiKey:ot,appId:jt}=he.options;if(!Le)throw Di.create("registration-project-id");if(!ot)throw Di.create("registration-api-key");if(!jt)throw Di.create("registration-app-id");const $t=new Pn(jt,he.name,Q=Q||"firebase"),vn=new Ws($t),Kn=new Ee.Yd(Ns);Kn.logLevel=Ee.in.ERROR;const sr=new lo(Ne,be.Jn,Q,Le,ot,jt),Ka=new Un(sr,$t),bo=new _i(Ka,$t,vn,Kn),xh=new uo(he,bo,vn,$t,Kn);return function Jr(O){const L=(0,ue.m9)(O);L._initializePromise||(L._initializePromise=L._storageCache.loadFromStorage().then(()=>{L._isInitializationComplete=!0}))}(xh),xh},"PUBLIC").setMultipleInstances(!0)),(0,be.KN)(Ns,"0.4.4"),(0,be.KN)(Ns,"0.4.4","esm2017")}();const li=(O,L)=>L.some(Q=>O instanceof Q);let Po,jc;const ho=new WeakMap,ko=new WeakMap,Hn=new WeakMap,du=new WeakMap,$i=new WeakMap;let Rs={get(O,L,Q){if(O instanceof IDBTransaction){if("done"===L)return ko.get(O);if("objectStoreNames"===L)return O.objectStoreNames||Hn.get(O);if("store"===L)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return vs(O[L])},set:(O,L,Q)=>(O[L]=Q,!0),has:(O,L)=>O instanceof IDBTransaction&&("done"===L||"store"===L)||L in O};function $n(O){return"function"==typeof O?function Fo(O){return O!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ji(){return jc||(jc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(O)?function(...L){return O.apply(Ur(this),L),vs(ho.get(this))}:function(...L){return vs(O.apply(Ur(this),L))}:function(L,...Q){const he=O.call(Ur(this),L,...Q);return Hn.set(he,L.sort?L.sort():[L]),vs(he)}}(O):(O instanceof IDBTransaction&&function Ii(O){if(ko.has(O))return;const L=new Promise((Q,he)=>{const Ne=()=>{O.removeEventListener("complete",Le),O.removeEventListener("error",ot),O.removeEventListener("abort",ot)},Le=()=>{Q(),Ne()},ot=()=>{he(O.error||new DOMException("AbortError","AbortError")),Ne()};O.addEventListener("complete",Le),O.addEventListener("error",ot),O.addEventListener("abort",ot)});ko.set(O,L)}(O),li(O,function ys(){return Po||(Po=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(O,Rs):O)}function vs(O){if(O instanceof IDBRequest)return function xs(O){const L=new Promise((Q,he)=>{const Ne=()=>{O.removeEventListener("success",Le),O.removeEventListener("error",ot)},Le=()=>{Q(vs(O.result)),Ne()},ot=()=>{he(O.error),Ne()};O.addEventListener("success",Le),O.addEventListener("error",ot)});return L.then(Q=>{Q instanceof IDBCursor&&ho.set(Q,O)}).catch(()=>{}),$i.set(L,O),L}(O);if(du.has(O))return du.get(O);const L=$n(O);return L!==O&&(du.set(O,L),$i.set(L,O)),L}const Ur=O=>$i.get(O);function bs(O,L,{blocked:Q,upgrade:he,blocking:Ne,terminated:Le}={}){const ot=indexedDB.open(O,L),jt=vs(ot);return he&&ot.addEventListener("upgradeneeded",$t=>{he(vs(ot.result),$t.oldVersion,$t.newVersion,vs(ot.transaction))}),Q&&ot.addEventListener("blocked",()=>Q()),jt.then($t=>{Le&&$t.addEventListener("close",()=>Le()),Ne&&$t.addEventListener("versionchange",()=>Ne())}).catch(()=>{}),jt}function fo(O,{blocked:L}={}){const Q=indexedDB.deleteDatabase(O);return L&&Q.addEventListener("blocked",()=>L()),vs(Q).then(()=>{})}const qs=["get","getKey","getAll","getAllKeys","count"],po=["put","add","delete","clear"],ui=new Map;function Si(O,L){if(!(O instanceof IDBDatabase)||L in O||"string"!=typeof L)return;if(ui.get(L))return ui.get(L);const Q=L.replace(/FromIndex$/,""),he=L!==Q,Ne=po.includes(Q);if(!(Q in(he?IDBIndex:IDBObjectStore).prototype)||!Ne&&!qs.includes(Q))return;const Le=function(){var ot=(0,u.Z)(function*(jt,...$t){const vn=this.transaction(jt,Ne?"readwrite":"readonly");let Kn=vn.store;return he&&(Kn=Kn.index($t.shift())),(yield Promise.all([Kn[Q](...$t),Ne&&vn.done]))[0]});return function($t){return ot.apply(this,arguments)}}();return ui.set(L,Le),Le}!function vc(O){Rs=O(Rs)}(O=>({...O,get:(L,Q,he)=>Si(L,Q)||O.get(L,Q,he),has:(L,Q)=>!!Si(L,Q)||O.has(L,Q)}));const sc="/firebase-messaging-sw.js",Xo="/firebase-cloud-messaging-push-scope",ea="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",bc="https://fcmregistrations.googleapis.com/v1",Hr="google.c.a.c_id",go="google.c.a.c_l",Ia="google.c.a.ts";var B=function(O){return O.PUSH_RECEIVED="push-received",O.NOTIFICATION_CLICKED="notification-clicked",O}(B||{});function oe(O){const L=new Uint8Array(O);return btoa(String.fromCharCode(...L)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Te(O){const Q=(O+"=".repeat((4-O.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),he=atob(Q),Ne=new Uint8Array(he.length);for(let Le=0;Le<he.length;++Le)Ne[Le]=he.charCodeAt(Le);return Ne}const Jt="fcm_token_details_db",Gn=5,es="fcm_token_object_Store";function Ai(){return Ai=(0,u.Z)(function*(O){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Le=>Le.name).includes(Jt))return null;let L=null;return(yield bs(Jt,Gn,{upgrade:(he=(0,u.Z)(function*(Ne,Le,ot,jt){var $t;if(Le<2||!Ne.objectStoreNames.contains(es))return;const vn=jt.objectStore(es),Kn=yield vn.index("fcmSenderId").get(O);if(yield vn.clear(),Kn)if(2===Le){const sr=Kn;if(!sr.auth||!sr.p256dh||!sr.endpoint)return;L={token:sr.fcmToken,createTime:null!==($t=sr.createTime)&&void 0!==$t?$t:Date.now(),subscriptionOptions:{auth:sr.auth,p256dh:sr.p256dh,endpoint:sr.endpoint,swScope:sr.swScope,vapidKey:"string"==typeof sr.vapidKey?sr.vapidKey:oe(sr.vapidKey)}}}else if(3===Le){const sr=Kn;L={token:sr.fcmToken,createTime:sr.createTime,subscriptionOptions:{auth:oe(sr.auth),p256dh:oe(sr.p256dh),endpoint:sr.endpoint,swScope:sr.swScope,vapidKey:oe(sr.vapidKey)}}}else if(4===Le){const sr=Kn;L={token:sr.fcmToken,createTime:sr.createTime,subscriptionOptions:{auth:oe(sr.auth),p256dh:oe(sr.p256dh),endpoint:sr.endpoint,swScope:sr.swScope,vapidKey:oe(sr.vapidKey)}}}}),function(Le,ot,jt,$t){return he.apply(this,arguments)})})).close(),yield fo(Jt),yield fo("fcm_vapid_details_db"),yield fo("undefined"),function Vi(O){if(!O||!O.subscriptionOptions)return!1;const{subscriptionOptions:L}=O;return"number"==typeof O.createTime&&O.createTime>0&&"string"==typeof O.token&&O.token.length>0&&"string"==typeof L.auth&&L.auth.length>0&&"string"==typeof L.p256dh&&L.p256dh.length>0&&"string"==typeof L.endpoint&&L.endpoint.length>0&&"string"==typeof L.swScope&&L.swScope.length>0&&"string"==typeof L.vapidKey&&L.vapidKey.length>0}(L)?L:null;var he}),Ai.apply(this,arguments)}const Ha="firebase-messaging-database",Ga=1,Ea="firebase-messaging-store";let wc=null;function Ta(){return wc||(wc=bs(Ha,Ga,{upgrade:(O,L)=>{0===L&&O.createObjectStore(Ea)}})),wc}function us(O){return Pl.apply(this,arguments)}function Pl(){return Pl=(0,u.Z)(function*(O){const L=mo(O),he=yield(yield Ta()).transaction(Ea).objectStore(Ea).get(L);if(he)return he;{const Ne=yield function Ps(O){return Ai.apply(this,arguments)}(O.appConfig.senderId);if(Ne)return yield Ic(O,Ne),Ne}}),Pl.apply(this,arguments)}function Ic(O,L){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,u.Z)(function*(O,L){const Q=mo(O),Ne=(yield Ta()).transaction(Ea,"readwrite");return yield Ne.objectStore(Ea).put(L,Q),yield Ne.done,L})).apply(this,arguments)}function ds(){return(ds=(0,u.Z)(function*(O){const L=mo(O),he=(yield Ta()).transaction(Ea,"readwrite");yield he.objectStore(Ea).delete(L),yield he.done})).apply(this,arguments)}function mo({appConfig:O}){return O.appId}const mi=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function $c(O,L){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,u.Z)(function*(O,L){const Q=yield Oi(O),he=yi(L),Ne={method:"POST",headers:Q,body:JSON.stringify(he)};let Le;try{Le=yield(yield fetch(ts(O.appConfig),Ne)).json()}catch(ot){throw mi.create("token-subscribe-failed",{errorInfo:ot?.toString()})}if(Le.error)throw mi.create("token-subscribe-failed",{errorInfo:Le.error.message});if(!Le.token)throw mi.create("token-subscribe-no-token");return Le.token})).apply(this,arguments)}function zi(){return(zi=(0,u.Z)(function*(O,L){const Q=yield Oi(O),he=yi(L.subscriptionOptions),Ne={method:"PATCH",headers:Q,body:JSON.stringify(he)};let Le;try{Le=yield(yield fetch(`${ts(O.appConfig)}/${L.token}`,Ne)).json()}catch(ot){throw mi.create("token-update-failed",{errorInfo:ot?.toString()})}if(Le.error)throw mi.create("token-update-failed",{errorInfo:Le.error.message});if(!Le.token)throw mi.create("token-update-no-token");return Le.token})).apply(this,arguments)}function zc(O,L){return na.apply(this,arguments)}function na(){return(na=(0,u.Z)(function*(O,L){const he={method:"DELETE",headers:yield Oi(O)};try{const Le=yield(yield fetch(`${ts(O.appConfig)}/${L}`,he)).json();if(Le.error)throw mi.create("token-unsubscribe-failed",{errorInfo:Le.error.message})}catch(Ne){throw mi.create("token-unsubscribe-failed",{errorInfo:Ne?.toString()})}})).apply(this,arguments)}function ts({projectId:O}){return`${bc}/projects/${O}/registrations`}function Oi(O){return ws.apply(this,arguments)}function ws(){return(ws=(0,u.Z)(function*({appConfig:O,installations:L}){const Q=yield L.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O.apiKey,"x-goog-firebase-installations-auth":`FIS ${Q}`})})).apply(this,arguments)}function yi({p256dh:O,auth:L,endpoint:Q,vapidKey:he}){const Ne={web:{endpoint:Q,auth:L,p256dh:O}};return he!==ea&&(Ne.web.applicationPubKey=he),Ne}const oc=6048e5;function ia(){return ia=(0,u.Z)(function*(O){const L=yield function Zs(O,L){return Zu.apply(this,arguments)}(O.swRegistration,O.vapidKey),Q={vapidKey:O.vapidKey,swScope:O.swRegistration.scope,endpoint:L.endpoint,auth:oe(L.getKey("auth")),p256dh:oe(L.getKey("p256dh"))},he=yield us(O.firebaseDependencies);if(he){if(function M(O,L){return L.vapidKey===O.vapidKey&&L.endpoint===O.endpoint&&L.auth===O.auth&&L.p256dh===O.p256dh}(he.subscriptionOptions,Q))return Date.now()>=he.createTime+oc?function Ll(O,L){return Wc.apply(this,arguments)}(O,{token:he.token,createTime:Date.now(),subscriptionOptions:Q}):he.token;try{yield zc(O.firebaseDependencies,he.token)}catch(Ne){console.warn(Ne)}return hu(O.firebaseDependencies,Q)}return hu(O.firebaseDependencies,Q)}),ia.apply(this,arguments)}function Fl(){return Fl=(0,u.Z)(function*(O){const L=yield us(O.firebaseDependencies);L&&(yield zc(O.firebaseDependencies,L.token),yield function ta(O){return ds.apply(this,arguments)}(O.firebaseDependencies));const Q=yield O.swRegistration.pushManager.getSubscription();return!Q||Q.unsubscribe()}),Fl.apply(this,arguments)}function Wc(){return Wc=(0,u.Z)(function*(O,L){try{const Q=yield function kl(O,L){return zi.apply(this,arguments)}(O.firebaseDependencies,L),he=Object.assign(Object.assign({},L),{token:Q,createTime:Date.now()});return yield Ic(O.firebaseDependencies,he),Q}catch(Q){throw yield function Tc(O){return Fl.apply(this,arguments)}(O),Q}}),Wc.apply(this,arguments)}function hu(O,L){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,u.Z)(function*(O,L){const he={token:yield $c(O,L),createTime:Date.now(),subscriptionOptions:L};return yield Ic(O,he),he.token})).apply(this,arguments)}function Zu(){return(Zu=(0,u.Z)(function*(O,L){return(yield O.pushManager.getSubscription())||O.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Te(L)})})).apply(this,arguments)}function ne(O){const L={from:O.from,collapseKey:O.collapse_key,messageId:O.fcmMessageId};return function U(O,L){if(!L.notification)return;O.notification={};const Q=L.notification.title;Q&&(O.notification.title=Q);const he=L.notification.body;he&&(O.notification.body=he);const Ne=L.notification.image;Ne&&(O.notification.image=Ne);const Le=L.notification.icon;Le&&(O.notification.icon=Le)}(L,O),function ee(O,L){L.data&&(O.data=L.data)}(L,O),function ye(O,L){var Q,he,Ne,Le,ot;if(!(L.fcmOptions||null!==(Q=L.notification)&&void 0!==Q&&Q.click_action))return;O.fcmOptions={};const jt=null!==(Ne=null===(he=L.fcmOptions)||void 0===he?void 0:he.link)&&void 0!==Ne?Ne:null===(Le=L.notification)||void 0===Le?void 0:Le.click_action;jt&&(O.fcmOptions.link=jt);const $t=null===(ot=L.fcmOptions)||void 0===ot?void 0:ot.analytics_label;$t&&(O.fcmOptions.analyticsLabel=$t)}(L,O),L}function gt(O,L){const Q=[];for(let he=0;he<O.length;he++)Q.push(O.charAt(he)),he<L.length&&Q.push(L.charAt(he));return Q.join("")}function Rr(O){return mi.create("missing-app-config-values",{valueName:O})}gt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),gt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class rr{constructor(L,Q,he){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ne=function _n(O){if(!O||!O.options)throw Rr("App Configuration Object");if(!O.name)throw Rr("App Name");const L=["projectId","apiKey","appId","messagingSenderId"],{options:Q}=O;for(const he of L)if(!Q[he])throw Rr(he);return{appName:O.name,projectId:Q.projectId,apiKey:Q.apiKey,appId:Q.appId,senderId:Q.messagingSenderId}}(L);this.firebaseDependencies={app:L,appConfig:Ne,installations:Q,analyticsProvider:he}}_delete(){return Promise.resolve()}}function Sn(){return(Sn=(0,u.Z)(function*(O){try{O.swRegistration=yield navigator.serviceWorker.register(sc,{scope:Xo}),O.swRegistration.update().catch(()=>{})}catch(L){throw mi.create("failed-service-worker-registration",{browserErrorMessage:L?.message})}})).apply(this,arguments)}function Dr(){return(Dr=(0,u.Z)(function*(O,L){if(!L&&!O.swRegistration&&(yield function tr(O){return Sn.apply(this,arguments)}(O)),L||!O.swRegistration){if(!(L instanceof ServiceWorkerRegistration))throw mi.create("invalid-sw-registration");O.swRegistration=L}})).apply(this,arguments)}function ns(){return(ns=(0,u.Z)(function*(O,L){L?O.vapidKey=L:O.vapidKey||(O.vapidKey=ea)})).apply(this,arguments)}function Wi(){return Wi=(0,u.Z)(function*(O,L){if(!navigator)throw mi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw mi.create("permission-blocked");return yield function Kr(O,L){return ns.apply(this,arguments)}(O,L?.vapidKey),yield function ii(O,L){return Dr.apply(this,arguments)}(O,L?.serviceWorkerRegistration),function ra(O){return ia.apply(this,arguments)}(O)}),Wi.apply(this,arguments)}function Es(){return(Es=(0,u.Z)(function*(O,L,Q){const he=function sa(O){switch(O){case B.NOTIFICATION_CLICKED:return"notification_open";case B.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(L);(yield O.firebaseDependencies.analyticsProvider.get()).logEvent(he,{message_id:Q[Hr],message_name:Q[go],message_time:Q[Ia],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function qc(){return qc=(0,u.Z)(function*(O,L){const Q=L.data;if(!Q.isFirebaseMessaging)return;O.onMessageHandler&&Q.messageType===B.PUSH_RECEIVED&&("function"==typeof O.onMessageHandler?O.onMessageHandler(ne(Q)):O.onMessageHandler.next(ne(Q)));const he=Q.data;(function et(O){return"object"==typeof O&&!!O&&Hr in O})(he)&&"1"===he["google.c.a.e"]&&(yield function Is(O,L,Q){return Es.apply(this,arguments)}(O,Q.messageType,he))}),qc.apply(this,arguments)}const $a="@firebase/messaging",hs=O=>{const L=new rr(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),O.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Q=>function ja(O,L){return qc.apply(this,arguments)}(L,Q)),L},ac=O=>{const L=O.getProvider("messaging").getImmediate();return{getToken:he=>function Mi(O,L){return Wi.apply(this,arguments)}(L,he)}};function vl(){return cc.apply(this,arguments)}function cc(){return(cc=(0,u.Z)(function*(){try{yield(0,ue.eu)()}catch{return!1}return typeof window<"u"&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function si(){(0,be.Xd)(new fe.wA("messaging",hs,"PUBLIC")),(0,be.Xd)(new fe.wA("messaging-internal",ac,"PRIVATE")),(0,be.KN)($a,"0.12.4"),(0,be.KN)($a,"0.12.4","esm2017")}();const za="analytics",Ku="firebase_id",bl="origin",di=6e4,Kc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Cc="https://www.googletagmanager.com/gtag/js",rs=new Ee.Yd("@firebase/analytics"),is=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function gg(O){if(!O.startsWith(Cc)){const L=is.create("invalid-gtag-resource",{gtagURL:O});return rs.warn(L.message),""}return O}function Yu(O){return Promise.all(O.map(L=>L.catch(Q=>Q)))}function Yc(){return(Yc=(0,u.Z)(function*(O,L,Q,he,Ne,Le){const ot=he[Ne];try{if(ot)yield L[ot];else{const $t=(yield Yu(Q)).find(vn=>vn.measurementId===Ne);$t&&(yield L[$t.appId])}}catch(jt){rs.error(jt)}O("config",Ne,Le)})).apply(this,arguments)}function Qu(){return(Qu=(0,u.Z)(function*(O,L,Q,he,Ne){try{let Le=[];if(Ne&&Ne.send_to){let ot=Ne.send_to;Array.isArray(ot)||(ot=[ot]);const jt=yield Yu(Q);for(const $t of ot){const vn=jt.find(sr=>sr.measurementId===$t),Kn=vn&&L[vn.appId];if(!Kn){Le=[];break}Le.push(Kn)}}0===Le.length&&(Le=Object.values(L)),yield Promise.all(Le),O("event",he,Ne||{})}catch(Le){rs.error(Le)}})).apply(this,arguments)}const Cr=30,ss=new class Fd{constructor(L={},Q=1e3){this.throttleMetadata=L,this.intervalMillis=Q}getThrottleMetadata(L){return this.throttleMetadata[L]}setThrottleMetadata(L,Q){this.throttleMetadata[L]=Q}deleteThrottleMetadata(L){delete this.throttleMetadata[L]}};function Xu(O){return new Headers({Accept:"application/json","x-goog-api-key":O})}function vo(){return(vo=(0,u.Z)(function*(O){var L;const{appId:Q,apiKey:he}=O,Ne={method:"GET",headers:Xu(he)},Le=Kc.replace("{app-id}",Q),ot=yield fetch(Le,Ne);if(200!==ot.status&&304!==ot.status){let jt="";try{const $t=yield ot.json();null!==(L=$t.error)&&void 0!==L&&L.message&&(jt=$t.error.message)}catch{}throw is.create("config-fetch-failed",{httpStatus:ot.status,responseMessage:jt})}return ot.json()})).apply(this,arguments)}function lc(){return(lc=(0,u.Z)(function*(O,L=ss,Q){const{appId:he,apiKey:Ne,measurementId:Le}=O.options;if(!he)throw is.create("no-app-id");if(!Ne){if(Le)return{measurementId:Le,appId:he};throw is.create("no-api-key")}const ot=L.getThrottleMetadata(he)||{backoffCount:0,throttleEndTimeMillis:Date.now()},jt=new aa;return setTimeout((0,u.Z)(function*(){jt.abort()}),void 0!==Q?Q:di),_u({appId:he,apiKey:Ne,measurementId:Le},ot,jt,L)})).apply(this,arguments)}function _u(O,L,Q){return Sc.apply(this,arguments)}function Sc(){return Sc=(0,u.Z)(function*(O,{throttleEndTimeMillis:L,backoffCount:Q},he,Ne=ss){var Le;const{appId:ot,measurementId:jt}=O;try{yield function Wa(O,L){return new Promise((Q,he)=>{const Ne=Math.max(L-Date.now(),0),Le=setTimeout(Q,Ne);O.addEventListener(()=>{clearTimeout(Le),he(is.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(he,L)}catch($t){if(jt)return rs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${jt} provided in the "measurementId" field in the local Firebase config. [${$t?.message}]`),{appId:ot,measurementId:jt};throw $t}try{const $t=yield function wl(O){return vo.apply(this,arguments)}(O);return Ne.deleteThrottleMetadata(ot),$t}catch($t){const vn=$t;if(!function ks(O){if(!(O instanceof ue.ZR&&O.customData))return!1;const L=Number(O.customData.httpStatus);return 429===L||500===L||503===L||504===L}(vn)){if(Ne.deleteThrottleMetadata(ot),jt)return rs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${jt} provided in the "measurementId" field in the local Firebase config. [${vn?.message}]`),{appId:ot,measurementId:jt};throw $t}const Kn=503===Number(null===(Le=vn?.customData)||void 0===Le?void 0:Le.httpStatus)?(0,ue.$s)(Q,Ne.intervalMillis,Cr):(0,ue.$s)(Q,Ne.intervalMillis),sr={throttleEndTimeMillis:Date.now()+Kn,backoffCount:Q+1};return Ne.setThrottleMetadata(ot,sr),rs.debug(`Calling attemptFetch again in ${Kn} millis`),_u(O,sr,he,Ne)}}),Sc.apply(this,arguments)}class aa{constructor(){this.listeners=[]}addEventListener(L){this.listeners.push(L)}abort(){this.listeners.forEach(L=>L())}}let uc,_e;function Da(){return(Da=(0,u.Z)(function*(O,L,Q,he,Ne){if(Ne&&Ne.global)O("event",Q,he);else{const Le=yield L;O("event",Q,Object.assign(Object.assign({},he),{send_to:Le}))}})).apply(this,arguments)}function Ln(){return(Ln=(0,u.Z)(function*(){if(!(0,ue.hl)())return rs.warn(is.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(O){return rs.warn(is.create("indexeddb-unavailable",{errorInfo:O?.toString()}).message),!1}return!0})).apply(this,arguments)}function mr(){return mr=(0,u.Z)(function*(O,L,Q,he,Ne,Le,ot){var jt;const $t=function mu(O){return lc.apply(this,arguments)}(O);$t.then(bo=>{Q[bo.measurementId]=bo.appId,O.options.measurementId&&bo.measurementId!==O.options.measurementId&&rs.warn(`The measurement ID in the local Firebase config (${O.options.measurementId}) does not match the measurement ID fetched from the server (${bo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(bo=>rs.error(bo)),L.push($t);const vn=function zt(){return Ln.apply(this,arguments)}().then(bo=>{if(bo)return he.getId()}),[Kn,sr]=yield Promise.all([$t,vn]);(function ht(O){const L=window.document.getElementsByTagName("script");for(const Q of Object.values(L))if(Q.src&&Q.src.includes(Cc)&&Q.src.includes(O))return Q;return null})(Le)||function Bl(O,L){const Q=function Ch(O,L){let Q;return window.trustedTypes&&(Q=window.trustedTypes.createPolicy(O,L)),Q}("firebase-js-sdk-policy",{createScriptURL:gg}),he=document.createElement("script"),Ne=`${Cc}?l=${O}&id=${L}`;he.src=Q?Q?.createScriptURL(Ne):Ne,he.async=!0,document.head.appendChild(he)}(Le,Kn.measurementId),_e&&(Ne("consent","default",_e),function ze(O){_e=O}(void 0)),Ne("js",new Date);const Ka=null!==(jt=ot?.config)&&void 0!==jt?jt:{};return Ka[bl]="firebase",Ka.update=!0,null!=sr&&(Ka[Ku]=sr),Ne("config",Kn.measurementId,Ka),uc&&(Ne("set",uc),function He(O){uc=O}(void 0)),Kn.measurementId}),mr.apply(this,arguments)}class dc{constructor(L){this.app=L}_delete(){return delete Gr[this.app.options.appId],Promise.resolve()}}let Gr={},ca=[];const Pr={};let Ld,Za,Lo="dataLayer",yu=!1;function Qc(O,L,Q){!function Wf(){const O=[];if((0,ue.ru)()&&O.push("This is a browser extension environment."),(0,ue.zI)()||O.push("Cookies are not available."),O.length>0){const L=O.map((he,Ne)=>`(${Ne+1}) ${he}`).join(" "),Q=is.create("invalid-analytics-context",{errorInfo:L});rs.warn(Q.message)}}();const he=O.options.appId;if(!he)throw is.create("no-app-id");if(!O.options.apiKey){if(!O.options.measurementId)throw is.create("no-api-key");rs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${O.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Gr[he])throw is.create("already-exists",{id:he});if(!yu){!function Vl(O){let L=[];Array.isArray(window[O])?L=window[O]:window[O]=L}(Lo);const{wrappedGtag:Le,gtagCore:ot}=function gu(O,L,Q,he,Ne){let Le=function(...ot){window[he].push(arguments)};return window[Ne]&&"function"==typeof window[Ne]&&(Le=window[Ne]),window[Ne]=function pu(O,L,Q,he){function Le(){return Le=(0,u.Z)(function*(ot,...jt){try{if("event"===ot){const[$t,vn]=jt;yield function fu(O,L,Q,he,Ne){return Qu.apply(this,arguments)}(O,L,Q,$t,vn)}else if("config"===ot){const[$t,vn]=jt;yield function Ys(O,L,Q,he,Ne,Le){return Yc.apply(this,arguments)}(O,L,Q,he,$t,vn)}else if("consent"===ot){const[$t]=jt;O("consent","update",$t)}else if("get"===ot){const[$t,vn,Kn]=jt;O("get",$t,vn,Kn)}else if("set"===ot){const[$t]=jt;O("set",$t)}else O(ot,...jt)}catch($t){rs.error($t)}}),Le.apply(this,arguments)}return function Ne(ot){return Le.apply(this,arguments)}}(Le,O,L,Q),{gtagCore:Le,wrappedGtag:window[Ne]}}(Gr,ca,Pr,Lo,"gtag");Za=Le,Ld=ot,yu=!0}return Gr[he]=function Mr(O,L,Q,he,Ne,Le,ot){return mr.apply(this,arguments)}(O,ca,Pr,L,Ld,Lo,Q),new dc(O)}function Jc(){return Il.apply(this,arguments)}function Il(){return(Il=(0,u.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}const mg="@firebase/analytics";!function Kf(){(0,be.Xd)(new fe.wA(za,(L,{options:Q})=>Qc(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),Q),"PUBLIC")),(0,be.Xd)(new fe.wA("analytics-internal",function O(L){try{const Q=L.getProvider(za).getImmediate();return{logEvent:(he,Ne,Le)=>function Oh(O,L,Q,he){O=(0,ue.m9)(O),function qa(O,L,Q,he,Ne){return Da.apply(this,arguments)}(Za,Gr[O.app.options.appId],L,Q,he).catch(Ne=>rs.error(Ne))}(Q,he,Ne,Le)}}catch(Q){throw is.create("interop-component-reg-failed",{reason:Q})}},"PRIVATE")),(0,be.KN)(mg,"0.10.0"),(0,be.KN)(mg,"0.10.0","esm2017")}();var Ud=K(1954),wu=K(9931);const Mh=new class Gl extends wu.v{}(class ev extends Ud.o{constructor(L,Q){super(L,Q),this.scheduler=L,this.work=Q}schedule(L,Q=0){return Q>0?super.schedule(L,Q):(this.delay=Q,this.state=L,this.scheduler.flush(this),this)}execute(L,Q){return Q>0||this.closed?super.execute(L,Q):this._execute(L,Q)}requestAsyncId(L,Q,he=0){return null!=he&&he>0||null==he&&this.delay>0?super.requestAsyncId(L,Q,he):(L.flush(this),0)}});var Iu=K(6321),Xc=K(5592),_g=K(9397),Eu=K(5137),rd=K(3093);const Tu=new b.GfV("7.6.1"),Qs="__angularfire_symbol__analyticsIsSupportedValue",id="__angularfire_symbol__analyticsIsSupported",Tl="__angularfire_symbol__remoteConfigIsSupportedValue",el="__angularfire_symbol__remoteConfigIsSupported",Du="__angularfire_symbol__messagingIsSupportedValue",Cu="__angularfire_symbol__messagingIsSupported";function zl(O,L,Q){if(L){if(1===L.length)return L[0];const Le=L.filter(ot=>ot.app===Q);if(1===Le.length)return Le[0]}return Q.container.getProvider(O).getImmediate({optional:!0})}globalThis[id]||(globalThis[id]=Jc().then(O=>globalThis[Qs]=O).catch(()=>globalThis[Qs]=!1)),globalThis[Cu]||(globalThis[Cu]=vl().then(O=>globalThis[Du]=O).catch(()=>globalThis[Du]=!1)),globalThis[el]||(globalThis[el]=Xi().then(O=>globalThis[Tl]=O).catch(()=>globalThis[Tl]=!1));const Qf=(O,L)=>{const Q=L?[L]:(0,re.C6)(),he=[];return Q.forEach(Ne=>{Ne.container.getProvider(O).instances.forEach(ot=>{he.includes(ot)||he.push(ot)})}),he};function Wl(){}class Dl{constructor(L,Q=Mh){this.zone=L,this.delegate=Q}now(){return this.delegate.now()}schedule(L,Q,he){const Ne=this.zone;return this.delegate.schedule(function(ot){Ne.runGuarded(()=>{L.apply(this,[ot])})},Q,he)}}class tl{constructor(L){this.zone=L,this.task=null}call(L,Q){const he=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wl,{},Wl,Wl)),Q.pipe((0,_g.b)({next:he,complete:he,error:he})).subscribe(L).add(he)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Gd=(()=>{class O{constructor(Q){this.ngZone=Q,this.outsideAngular=Q.runOutsideAngular(()=>new Dl(Zone.current)),this.insideAngular=Q.run(()=>new Dl(Zone.current,Iu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return O.\u0275fac=function(Q){return new(Q||O)(b.LFG(b.R0b))},O.\u0275prov=b.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function Ac(){const O=globalThis.\u0275AngularFireScheduler;if(!O)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return O}function Ca(O){return Ac().ngZone.run(()=>O())}function jd(O){return Ac(),function $d(O){return function(Q){return(Q=Q.lift(new tl(O.ngZone))).pipe((0,Eu.R)(O.outsideAngular),(0,rd.Q)(O.insideAngular))}}(Ac())(O)}const sd=(O,L)=>function(){const he=arguments;return L&&setTimeout(()=>{"scheduled"===L.state&&L.invoke()},10),Ca(()=>O.apply(void 0,he))},Jf=(O,L)=>function(){let Q;const he=arguments;for(let Le=0;Le<arguments.length;Le++)"function"==typeof he[Le]&&(L&&(Q||(Q=Ca(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wl,{},Wl,Wl)))),he[Le]=sd(he[Le],Q));const Ne=function Su(O){return Ac().ngZone.runOutsideAngular(()=>O())}(()=>O.apply(this,he));if(!L){if(Ne instanceof Xc.y){const Le=Ac();return Ne.pipe((0,Eu.R)(Le.outsideAngular),(0,rd.Q)(Le.insideAngular))}return Ca(()=>Ne)}return Ne instanceof Xc.y?Ne.pipe(jd):Ne instanceof Promise?Ca(()=>new Promise((Le,ot)=>Ne.then(jt=>Ca(()=>Le(jt)),jt=>Ca(()=>ot(jt))))):"function"==typeof Ne&&Q?function(){return setTimeout(()=>{Q&&"scheduled"===Q.state&&Q.invoke()},10),Ne.apply(this,arguments)}:Ca(()=>Ne)}},229:(Ht,Ge,K)=>{K.d(Ge,{$s:()=>It,BH:()=>yt,L:()=>Re,LL:()=>wt,P0:()=>Ot,Pz:()=>st,Sg:()=>_t,US:()=>fe,ZR:()=>rt,aH:()=>ft,b$:()=>dt,eu:()=>$e,hl:()=>Fe,m9:()=>Wn,ne:()=>Jn,ru:()=>kn,tV:()=>ce,uI:()=>ve,vZ:()=>vt,xO:()=>An,z$:()=>je,zI:()=>Xe});const be=function(Y){const V=[];let G=0;for(let q=0;q<Y.length;q++){let $=Y.charCodeAt(q);$<128?V[G++]=$:$<2048?(V[G++]=$>>6|192,V[G++]=63&$|128):55296==(64512&$)&&q+1<Y.length&&56320==(64512&Y.charCodeAt(q+1))?($=65536+((1023&$)<<10)+(1023&Y.charCodeAt(++q)),V[G++]=$>>18|240,V[G++]=$>>12&63|128,V[G++]=$>>6&63|128,V[G++]=63&$|128):(V[G++]=$>>12|224,V[G++]=$>>6&63|128,V[G++]=63&$|128)}return V},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Y,V){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let $=0;$<Y.length;$+=3){const we=Y[$],We=$+1<Y.length,Et=We?Y[$+1]:0,on=$+2<Y.length,pn=on?Y[$+2]:0;let Fn=(15&Et)<<2|pn>>6,$r=63&pn;on||($r=64,We||(Fn=64)),q.push(G[we>>2],G[(3&we)<<4|Et>>4],G[Fn],G[$r])}return q.join("")},encodeString(Y,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(Y):this.encodeByteArray(be(Y),V)},decodeString(Y,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(Y):function(Y){const V=[];let G=0,q=0;for(;G<Y.length;){const $=Y[G++];if($<128)V[q++]=String.fromCharCode($);else if($>191&&$<224){const we=Y[G++];V[q++]=String.fromCharCode((31&$)<<6|63&we)}else if($>239&&$<365){const on=((7&$)<<18|(63&Y[G++])<<12|(63&Y[G++])<<6|63&Y[G++])-65536;V[q++]=String.fromCharCode(55296+(on>>10)),V[q++]=String.fromCharCode(56320+(1023&on))}else{const we=Y[G++],We=Y[G++];V[q++]=String.fromCharCode((15&$)<<12|(63&we)<<6|63&We)}}return V.join("")}(this.decodeStringToByteArray(Y,V))},decodeStringToByteArray(Y,V){this.init_();const G=V?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let $=0;$<Y.length;){const we=G[Y.charAt($++)],Et=$<Y.length?G[Y.charAt($)]:0;++$;const pn=$<Y.length?G[Y.charAt($)]:64;++$;const Kt=$<Y.length?G[Y.charAt($)]:64;if(++$,null==we||null==Et||null==pn||null==Kt)throw new Ee;q.push(we<<2|Et>>4),64!==pn&&(q.push(Et<<4&240|pn>>2),64!==Kt&&q.push(pn<<6&192|Kt))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}};class Ee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Re=function(Y){return function(Y){const V=be(Y);return fe.encodeByteArray(V,!0)}(Y).replace(/\./g,"")},ce=function(Y){try{return fe.decodeString(Y,!0)}catch(V){console.error("base64Decode failed: ",V)}return null},Nt=()=>{try{return function Oe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Y=process.env.__FIREBASE_DEFAULTS__;return Y?JSON.parse(Y):void 0})()||(()=>{if(typeof document>"u")return;let Y;try{Y=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=Y&&ce(Y[1]);return V&&JSON.parse(V)})()}catch(Y){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Y}`)}},Ot=Y=>{const V=(Y=>{var V,G;return null===(G=null===(V=Nt())||void 0===V?void 0:V.emulatorHosts)||void 0===G?void 0:G[Y]})(Y);if(!V)return;const G=V.lastIndexOf(":");if(G<=0||G+1===V.length)throw new Error(`Invalid host ${V} with no separate hostname and port!`);const q=parseInt(V.substring(G+1),10);return"["===V[0]?[V.substring(1,G-1),q]:[V.substring(0,G),q]},ft=()=>{var Y;return null===(Y=Nt())||void 0===Y?void 0:Y.config},st=Y=>{var V;return null===(V=Nt())||void 0===V?void 0:V[`_${Y}`]};class yt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,G)=>{this.resolve=V,this.reject=G})}wrapCallback(V){return(G,q)=>{G?this.reject(G):this.resolve(q),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(G):V(G,q))}}}function _t(Y,V){if(Y.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const q=V||"demo-project",$=Y.iat||0,we=Y.sub||Y.user_id;if(!we)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const We=Object.assign({iss:`https://securetoken.google.com/${q}`,aud:q,iat:$,exp:$+3600,auth_time:$,sub:we,user_id:we,firebase:{sign_in_provider:"custom",identities:{}}},Y);return[Re(JSON.stringify({alg:"none",type:"JWT"})),Re(JSON.stringify(We)),""].join(".")}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function kn(){const Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Fe(){try{return"object"==typeof indexedDB}catch{return!1}}function $e(){return new Promise((Y,V)=>{try{let G=!0;const q="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(q);$.onsuccess=()=>{$.result.close(),G||self.indexedDB.deleteDatabase(q),Y(!0)},$.onupgradeneeded=()=>{G=!1},$.onerror=()=>{var we;V((null===(we=$.error)||void 0===we?void 0:we.message)||"")}}catch(G){V(G)}})}function Xe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class rt extends Error{constructor(V,G,q){super(G),this.code=V,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,rt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wt.prototype.create)}}class wt{constructor(V,G,q){this.service=V,this.serviceName=G,this.errors=q}create(V,...G){const q=G[0]||{},$=`${this.service}/${V}`,we=this.errors[V],We=we?function kt(Y,V){return Y.replace(Gt,(G,q)=>{const $=V[q];return null!=$?String($):`<${q}?>`})}(we,q):"Error";return new rt($,`${this.serviceName}: ${We} (${$}).`,q)}}const Gt=/\{\$([^}]+)}/g;function vt(Y,V){if(Y===V)return!0;const G=Object.keys(Y),q=Object.keys(V);for(const $ of G){if(!q.includes($))return!1;const we=Y[$],We=V[$];if(At(we)&&At(We)){if(!vt(we,We))return!1}else if(we!==We)return!1}for(const $ of q)if(!G.includes($))return!1;return!0}function At(Y){return null!==Y&&"object"==typeof Y}function An(Y){const V=[];for(const[G,q]of Object.entries(Y))Array.isArray(q)?q.forEach($=>{V.push(encodeURIComponent(G)+"="+encodeURIComponent($))}):V.push(encodeURIComponent(G)+"="+encodeURIComponent(q));return V.length?"&"+V.join("&"):""}function Jn(Y,V){const G=new en(Y,V);return G.subscribe.bind(G)}class en{constructor(V,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{V(this)}).catch(q=>{this.error(q)})}next(V){this.forEachObserver(G=>{G.next(V)})}error(V){this.forEachObserver(G=>{G.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,G,q){let $;if(void 0===V&&void 0===G&&void 0===q)throw new Error("Missing Observer.");$=function Er(Y,V){if("object"!=typeof Y||null===Y)return!1;for(const G of V)if(G in Y&&"function"==typeof Y[G])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:G,complete:q},void 0===$.next&&($.next=mn),void 0===$.error&&($.error=mn),void 0===$.complete&&($.complete=mn);const we=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),we}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,V)}sendOne(V,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{G(this.observers[V])}catch(q){typeof console<"u"&&console.error&&console.error(q)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mn(){}const pi=1e3,nt=2,Ce=144e5,Ze=.5;function It(Y,V=pi,G=nt){const q=V*Math.pow(G,Y),$=Math.round(Ze*q*(Math.random()-.5)*2);return Math.min(Ce,q+$)}function Wn(Y){return Y&&Y._delegate?Y._delegate:Y}},9058:(Ht,Ge,K)=>{K.d(Ge,{BH:()=>yt,L:()=>Re,LL:()=>wt,Pz:()=>st,ZR:()=>rt,aH:()=>ft,b$:()=>dt,eu:()=>$e,hl:()=>Fe,m9:()=>Wn,ne:()=>Jn,pd:()=>Qt,q4:()=>Dn,ru:()=>kn,tV:()=>ce,uI:()=>ve,vZ:()=>vt,w1:()=>Cn,xO:()=>An,xb:()=>ke,z$:()=>je,zd:()=>sn});const be=function(Y){const V=[];let G=0;for(let q=0;q<Y.length;q++){let $=Y.charCodeAt(q);$<128?V[G++]=$:$<2048?(V[G++]=$>>6|192,V[G++]=63&$|128):55296==(64512&$)&&q+1<Y.length&&56320==(64512&Y.charCodeAt(q+1))?($=65536+((1023&$)<<10)+(1023&Y.charCodeAt(++q)),V[G++]=$>>18|240,V[G++]=$>>12&63|128,V[G++]=$>>6&63|128,V[G++]=63&$|128):(V[G++]=$>>12|224,V[G++]=$>>6&63|128,V[G++]=63&$|128)}return V},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Y,V){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let $=0;$<Y.length;$+=3){const we=Y[$],We=$+1<Y.length,Et=We?Y[$+1]:0,on=$+2<Y.length,pn=on?Y[$+2]:0;let Fn=(15&Et)<<2|pn>>6,$r=63&pn;on||($r=64,We||(Fn=64)),q.push(G[we>>2],G[(3&we)<<4|Et>>4],G[Fn],G[$r])}return q.join("")},encodeString(Y,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(Y):this.encodeByteArray(be(Y),V)},decodeString(Y,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(Y):function(Y){const V=[];let G=0,q=0;for(;G<Y.length;){const $=Y[G++];if($<128)V[q++]=String.fromCharCode($);else if($>191&&$<224){const we=Y[G++];V[q++]=String.fromCharCode((31&$)<<6|63&we)}else if($>239&&$<365){const on=((7&$)<<18|(63&Y[G++])<<12|(63&Y[G++])<<6|63&Y[G++])-65536;V[q++]=String.fromCharCode(55296+(on>>10)),V[q++]=String.fromCharCode(56320+(1023&on))}else{const we=Y[G++],We=Y[G++];V[q++]=String.fromCharCode((15&$)<<12|(63&we)<<6|63&We)}}return V.join("")}(this.decodeStringToByteArray(Y,V))},decodeStringToByteArray(Y,V){this.init_();const G=V?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let $=0;$<Y.length;){const we=G[Y.charAt($++)],Et=$<Y.length?G[Y.charAt($)]:0;++$;const pn=$<Y.length?G[Y.charAt($)]:64;++$;const Kt=$<Y.length?G[Y.charAt($)]:64;if(++$,null==we||null==Et||null==pn||null==Kt)throw new Ee;q.push(we<<2|Et>>4),64!==pn&&(q.push(Et<<4&240|pn>>2),64!==Kt&&q.push(pn<<6&192|Kt))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}};class Ee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Re=function(Y){return function(Y){const V=be(Y);return fe.encodeByteArray(V,!0)}(Y).replace(/\./g,"")},ce=function(Y){try{return fe.decodeString(Y,!0)}catch(V){console.error("base64Decode failed: ",V)}return null},Nt=()=>{try{return function Oe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Y=process.env.__FIREBASE_DEFAULTS__;return Y?JSON.parse(Y):void 0})()||(()=>{if(typeof document>"u")return;let Y;try{Y=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=Y&&ce(Y[1]);return V&&JSON.parse(V)})()}catch(Y){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Y}`)}},Dn=Y=>{var V,G;return null===(G=null===(V=Nt())||void 0===V?void 0:V.emulatorHosts)||void 0===G?void 0:G[Y]},ft=()=>{var Y;return null===(Y=Nt())||void 0===Y?void 0:Y.config},st=Y=>{var V;return null===(V=Nt())||void 0===V?void 0:V[`_${Y}`]};class yt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,G)=>{this.resolve=V,this.reject=G})}wrapCallback(V){return(G,q)=>{G?this.reject(G):this.resolve(q),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(G):V(G,q))}}}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function kn(){const Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Cn(){const Y=je();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function Fe(){try{return"object"==typeof indexedDB}catch{return!1}}function $e(){return new Promise((Y,V)=>{try{let G=!0;const q="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(q);$.onsuccess=()=>{$.result.close(),G||self.indexedDB.deleteDatabase(q),Y(!0)},$.onupgradeneeded=()=>{G=!1},$.onerror=()=>{var we;V((null===(we=$.error)||void 0===we?void 0:we.message)||"")}}catch(G){V(G)}})}class rt extends Error{constructor(V,G,q){super(G),this.code=V,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,rt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wt.prototype.create)}}class wt{constructor(V,G,q){this.service=V,this.serviceName=G,this.errors=q}create(V,...G){const q=G[0]||{},$=`${this.service}/${V}`,we=this.errors[V],We=we?function kt(Y,V){return Y.replace(Gt,(G,q)=>{const $=V[q];return null!=$?String($):`<${q}?>`})}(we,q):"Error";return new rt($,`${this.serviceName}: ${We} (${$}).`,q)}}const Gt=/\{\$([^}]+)}/g;function ke(Y){for(const V in Y)if(Object.prototype.hasOwnProperty.call(Y,V))return!1;return!0}function vt(Y,V){if(Y===V)return!0;const G=Object.keys(Y),q=Object.keys(V);for(const $ of G){if(!q.includes($))return!1;const we=Y[$],We=V[$];if(At(we)&&At(We)){if(!vt(we,We))return!1}else if(we!==We)return!1}for(const $ of q)if(!G.includes($))return!1;return!0}function At(Y){return null!==Y&&"object"==typeof Y}function An(Y){const V=[];for(const[G,q]of Object.entries(Y))Array.isArray(q)?q.forEach($=>{V.push(encodeURIComponent(G)+"="+encodeURIComponent($))}):V.push(encodeURIComponent(G)+"="+encodeURIComponent(q));return V.length?"&"+V.join("&"):""}function sn(Y){const V={};return Y.replace(/^\?/,"").split("&").forEach(q=>{if(q){const[$,we]=q.split("=");V[decodeURIComponent($)]=decodeURIComponent(we)}}),V}function Qt(Y){const V=Y.indexOf("?");if(!V)return"";const G=Y.indexOf("#",V);return Y.substring(V,G>0?G:void 0)}function Jn(Y,V){const G=new en(Y,V);return G.subscribe.bind(G)}class en{constructor(V,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{V(this)}).catch(q=>{this.error(q)})}next(V){this.forEachObserver(G=>{G.next(V)})}error(V){this.forEachObserver(G=>{G.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,G,q){let $;if(void 0===V&&void 0===G&&void 0===q)throw new Error("Missing Observer.");$=function Er(Y,V){if("object"!=typeof Y||null===Y)return!1;for(const G of V)if(G in Y&&"function"==typeof Y[G])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:G,complete:q},void 0===$.next&&($.next=mn),void 0===$.error&&($.error=mn),void 0===$.complete&&($.complete=mn);const we=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),we}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,V)}sendOne(V,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{G(this.observers[V])}catch(q){typeof console<"u"&&console.error&&console.error(q)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mn(){}function Wn(Y){return Y&&Y._delegate?Y._delegate:Y}},1816:(Ht,Ge,K)=>{K.d(Ge,{y:()=>u});var b=K(8645),re=K(9468);let u=(()=>{class be{constructor(){this.modalMessageSource=new b.x,this.modalMessage$=this.modalMessageSource.asObservable()}sendModalMessage(fe){this.modalMessageSource.next(fe)}static#e=this.\u0275fac=function(Ee){return new(Ee||be)};static#t=this.\u0275prov=re.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})()},1176:(Ht,Ge,K)=>{K.d(Ge,{u:()=>re});var b=K(9468);let re=(()=>{class u{static#e=this.\u0275fac=function(fe){return new(fe||u)};static#t=this.\u0275cmp=b.Xpm({type:u,selectors:[["app-logo-svg"]],decls:33,vars:0,consts:[[1,"logo-svg"],["viewBox","0 0 640 400","data-background-color","var(--mainWhiteColor)","preserveAspectRatio","xMidYMid meet","height","400","width","640","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["width","640","height","400","x","0","y","0","opacity","1","fill","var(--mainRGBAColor)","data-fill-palette-color","background","id","background"],["id","tight-bounds","transform","matrix(1,0,0,1,168.6873741251188,76.4)"],["viewBox","0 0 302.6252517497624 247.2","height","247.2","width","302.6252517497624"],["viewBox","0 0 395.52 323.08124796157813","height","247.2","width","302.6252517497624"],["transform","matrix(1,0,0,1,0,240.1001478205344)"],["viewBox","0 0 395.52 82.98110014104373","height","82.98110014104373","width","395.52"],["id","textblocktransform"],["viewBox","0 0 395.52 82.98110014104373","height","82.98110014104373","width","395.52","id","textblock"],["transform","matrix(1,0,0,1,0,0)"],["width","395.52","viewBox","0.15000000596046448 -37.939998626708984 276.9100036621094 58.11000061035156","height","82.98110014104373","data-palette-color","var(--mainWhiteColor)"],["d","M8.3-27.15L0.15-26.51 0.93-29.05Q0.98-29.1 1.68-29.17 2.39-29.25 3.56-29.37 4.74-29.49 6.2-29.64 7.67-29.79 9.2-29.93 10.74-30.08 12.23-30.22 13.72-30.37 14.99-30.52L14.99-30.52Q14.99-30.52 15.43-30.52 15.87-30.52 16.41-30.52 16.94-30.52 17.43-30.52 17.92-30.52 18.07-30.52L18.07-30.52Q19.24-30.52 19.68-30.08 20.12-29.64 20.12-28.17L20.12-28.17 11.23-27.15Q11.13-24.07 11.33-20.7 11.52-17.33 11.82-13.89 12.11-10.45 12.38-7.08 12.65-3.71 12.65-0.63L12.65-0.63Q12.65-0.2 12.38-0.02 12.11 0.15 11.74 0.2 11.38 0.24 10.99 0.17 10.6 0.1 10.3 0L10.3 0Q10.16-0.63 10.01-2.2 9.86-3.76 9.72-5.86 9.57-7.96 9.42-10.4 9.28-12.84 9.13-15.28 8.98-17.72 8.84-19.95 8.69-22.17 8.59-23.85 8.5-25.54 8.42-26.46 8.35-27.39 8.3-27.15L8.3-27.15ZM20.07-33.74L21.68-33.5 22.95-17.48Q23.29-17.77 23.83-18.36 24.36-18.95 25.1-19.46 25.83-19.97 26.71-20.34 27.59-20.7 28.61-20.65L28.61-20.65Q30.61-20.46 31.81-19.04 33.01-17.63 33.62-15.58 34.23-13.53 34.42-11.11 34.62-8.69 34.54-6.49 34.47-4.3 34.3-2.59 34.13-0.88 34.03-0.24L34.03-0.24 32.27-0.49Q32.27-0.93 32.3-1.88 32.32-2.83 32.37-4.13 32.42-5.42 32.42-6.84 32.42-8.25 32.44-9.5 32.47-10.74 32.44-11.72 32.42-12.7 32.37-13.09L32.37-13.09Q32.42-14.45 31.83-15.72 31.25-16.99 30.27-17.65 29.29-18.31 27.93-18.09 26.56-17.87 25-16.16L25-16.16Q23.63-14.11 23-12.13 22.36-10.16 22.17-8.23 21.97-6.3 22.02-4.27 22.07-2.25 22.02 0L22.02 0 20.11-0.29Q20.26-0.83 20.33-2.27 20.41-3.71 20.46-5.74 20.51-7.76 20.53-10.25 20.55-12.74 20.53-15.41 20.51-18.07 20.46-20.75 20.41-23.44 20.33-25.88 20.26-28.32 20.19-30.37 20.11-32.42 20.07-33.74L20.07-33.74ZM36.86-11.47L36.86-11.47Q36.86-12.94 37.5-14.72 38.13-16.5 39.23-18.04 40.33-19.58 41.72-20.63 43.11-21.68 44.62-21.68L44.62-21.68Q45.45-21.68 46.26-21.34 47.07-21 47.82-20.43 48.58-19.87 49.19-19.17 49.8-18.46 50.14-17.68 50.48-16.89 50.51-16.16 50.53-15.43 50.09-14.89L50.09-14.89 39.79-12.99Q39.59-12.94 39.45-12.52 39.3-12.11 39.2-11.47 39.11-10.84 39.03-10.08 38.96-9.33 38.91-8.62 38.86-7.91 38.86-7.35 38.86-6.79 38.86-6.49L38.86-6.49Q38.86-5.13 39.52-4.27 40.18-3.42 41.21-2.98 42.23-2.54 43.53-2.39 44.82-2.25 46.09-2.25 47.36-2.25 48.48-2.34 49.6-2.44 50.34-2.44L50.34-2.44Q50.34-2.25 50.19-2 50.04-1.76 49.85-1.54 49.65-1.32 49.46-1.15 49.26-0.98 49.21-0.93L49.21-0.93Q48.82-0.83 48.02-0.66 47.21-0.49 46.31-0.34 45.41-0.2 44.62-0.1 43.84 0 43.55 0L43.55 0Q42.04 0.29 40.91-0.05 39.79-0.39 39.01-1.22 38.23-2.05 37.74-3.25 37.25-4.44 37.01-5.81 36.76-7.18 36.74-8.64 36.71-10.11 36.86-11.47ZM43.94-19.82L43.94-19.82Q43.5-19.82 42.79-19.36 42.08-18.9 41.47-18.19 40.86-17.48 40.45-16.67 40.03-15.87 40.18-15.28L40.18-15.28Q41.45-15.14 42.82-15.33 44.18-15.53 45.31-15.94 46.43-16.36 47.16-16.92 47.9-17.48 47.87-18.07 47.85-18.65 46.94-19.12 46.04-19.58 43.94-19.82ZM93.06 0L74.31-29.05Q74.31-28.91 74.28-28.42 74.26-27.93 74.26-27.42 74.26-26.9 74.26-26.44 74.26-25.98 74.26-25.83L74.26-25.83Q74.26-22.66 74.4-19.48 74.55-16.31 74.75-13.11 74.94-9.91 75.09-6.69 75.23-3.47 75.23-0.24L75.23-0.24 73.48-0.34Q73.43-1.27 73.31-2.93 73.18-4.59 73.01-6.76 72.84-8.94 72.65-11.43 72.45-13.92 72.23-16.48 72.01-19.04 71.87-21.53 71.72-24.02 71.6-26.15 71.47-28.27 71.43-29.91 71.38-31.54 71.43-32.42L71.43-32.42Q71.43-33.01 71.87-33.4 72.3-33.79 72.89-33.79L72.89-33.79Q73.48-33.79 74.23-33.52 74.99-33.25 75.23-32.81L75.23-32.81 92.81-4.44Q92.81-6.69 92.69-9.28 92.57-11.87 92.47-14.6 92.37-17.33 92.35-20.09 92.32-22.85 92.45-25.46 92.57-28.08 92.93-30.42 93.3-32.76 93.98-34.67L93.98-34.67Q94.67-34.91 95.06-34.94 95.45-34.96 95.64-34.91 95.84-34.86 95.86-34.67 95.89-34.47 95.89-34.28L95.89-34.28Q95.89-34.18 95.89-33.98 95.89-33.79 95.89-33.74L95.89-33.74Q95.79-33.45 95.67-32.67 95.55-31.88 95.35-30.35 95.16-28.81 95.01-26.37 94.86-23.93 94.72-20.31 94.57-16.7 94.5-11.72 94.42-6.74 94.47-0.1L94.47-0.1 93.06 0ZM97.74-4.2L97.74-4.2Q97.74-6.98 99.28-8.25 100.82-9.52 103.31-9.52L103.31-9.52Q104.28-9.52 105.14-9.47 105.99-9.42 106.77-9.23 107.56-9.03 108.31-8.64 109.07-8.25 109.9-7.52L109.9-7.52Q109.9-7.67 109.92-8.13 109.95-8.59 109.95-9.13 109.95-9.67 109.95-10.13 109.95-10.6 109.95-10.79L109.95-10.79Q109.9-11.67 109.9-13.06 109.9-14.45 109.68-15.92 109.46-17.38 108.8-18.7 108.14-20.02 106.68-20.7L106.68-20.7Q105.65-20.7 104.77-20.36 103.89-20.02 103.01-19.63 102.14-19.24 101.26-18.92 100.38-18.6 99.35-18.6L99.35-18.6Q99.35-19.82 100.11-20.63 100.87-21.44 101.94-21.88 103.01-22.31 104.19-22.46 105.36-22.61 106.24-22.61L106.24-22.61Q107.12-22.46 107.87-22.27 108.63-22.07 109.29-21.48 109.95-20.9 110.51-19.7 111.07-18.51 111.49-16.36 111.9-14.21 112.22-10.91 112.54-7.62 112.73-2.83L112.73-2.83Q112.83-2.2 112.32-1.73 111.8-1.27 110.93-0.95 110.05-0.63 108.95-0.42 107.85-0.2 106.73-0.1 105.6 0 104.58 0.05 103.55 0.1 102.87 0.1L102.87 0.1Q101.99 0.1 101.09-0.2 100.18-0.49 99.43-1.05 98.67-1.61 98.21-2.42 97.74-3.22 97.74-4.2ZM104.09-7.62L104.09-7.62Q101.65-6.93 100.67-5.98 99.69-5.03 99.82-4.15 99.94-3.27 100.96-2.56 101.99-1.86 103.45-1.64 104.92-1.42 106.63-1.88 108.34-2.34 109.9-3.71L109.9-3.71Q109.31-5.13 108.73-5.88 108.14-6.64 107.46-7.03 106.77-7.42 105.94-7.52 105.11-7.62 104.09-7.62ZM120.64-17.72L120.64-17.72Q120.2-17.87 119.44-17.85 118.69-17.82 117.83-17.75 116.98-17.68 116.2-17.58 115.41-17.48 114.88-17.48L114.88-17.48Q114.63-17.48 114.56-18.19 114.49-18.9 114.34-20.12L114.34-20.12 121.23-20.61Q121.37-22.31 121.42-23.05 121.47-23.78 121.44-24.29 121.42-24.8 121.4-25.46 121.37-26.12 121.37-27.54L121.37-27.54Q122.64-27.73 123.3-27.66 123.96-27.59 124.2-27.29 124.45-27 124.42-26.44 124.4-25.88 124.28-25.05 124.15-24.22 124.08-23.05 124.01-21.88 124.15-20.41L124.15-20.41 130.01-20.61 130.01-18.21Q129.62-18.21 128.79-18.16 127.96-18.12 127.01-18.07 126.06-18.02 125.25-17.97 124.45-17.92 124.06-17.77L124.06-17.77Q123.67-16.02 123.23-14.01 122.79-12.01 122.64-10.06 122.49-8.11 122.74-6.42 122.98-4.74 123.96-3.64 124.94-2.54 126.74-2.12 128.55-1.71 131.53-2.39L131.53-2.39Q131.43-1.66 130.97-1.2 130.5-0.73 129.89-0.46 129.28-0.2 128.6-0.07 127.91 0.05 127.38 0.05L127.38 0.05Q124.89 0.05 123.42-0.85 121.96-1.76 121.23-3.22 120.49-4.69 120.3-6.57 120.1-8.45 120.18-10.4 120.25-12.35 120.44-14.26 120.64-16.16 120.64-17.72ZM133.19-18.95L133.19-18.95Q133.19-19.19 133.5-19.43 133.82-19.68 134.28-19.82 134.75-19.97 135.19-20.02 135.63-20.07 135.82-19.87L135.82-19.87Q136.12-13.82 136.97-10.23 137.82-6.64 138.92-4.98 140.02-3.32 141.29-3.3 142.56-3.27 143.78-4.37 145-5.47 146.05-7.37 147.1-9.28 147.76-11.47 148.42-13.67 148.57-15.87 148.71-18.07 148.18-19.78L148.18-19.78 151.11-20.12Q151.15-19.38 151.37-17.7 151.59-16.02 151.86-13.89 152.13-11.77 152.47-9.47 152.81-7.18 153.06-5.2 153.3-3.22 153.5-1.83 153.69-0.44 153.69-0.1L153.69-0.1 151.59-0.1 149.3-8.54Q148.62-6.84 147.64-5.27 146.66-3.71 145.51-2.54 144.37-1.37 143.1-0.71 141.83-0.05 140.58-0.17 139.34-0.29 138.17-1.32 136.99-2.34 135.99-4.57 134.99-6.79 134.26-10.3 133.53-13.82 133.19-18.95ZM155.25-19.04L155.25-19.04Q155.84-19.29 156.28-19.14 156.72-18.99 157.01-18.6 157.3-18.21 157.45-17.7 157.6-17.19 157.69-16.7L157.69-16.7Q158.33-17.77 159.53-18.43 160.72-19.09 162.09-19.31 163.46-19.53 164.82-19.41 166.19-19.29 167.14-18.82 168.1-18.36 168.49-17.55 168.88-16.75 168.29-15.67L168.29-15.67Q167.02-16.41 165.63-16.85 164.24-17.29 162.92-17.14 161.6-16.99 160.48-16.14 159.36-15.28 158.62-13.43 157.89-11.57 157.72-8.52 157.55-5.47 158.13-0.93L158.13-0.93 156.28-0.93Q156.28-0.93 156.21-1.73 156.13-2.54 156.06-3.86 155.99-5.18 155.86-6.79 155.74-8.4 155.64-10.06 155.55-11.72 155.47-13.26 155.4-14.79 155.3-15.92L155.3-15.92Q155.3-16.06 155.28-16.5 155.25-16.94 155.25-17.46 155.25-17.97 155.25-18.41 155.25-18.85 155.25-19.04ZM170.49-4.2L170.49-4.2Q170.49-6.98 172.02-8.25 173.56-9.52 176.05-9.52L176.05-9.52Q177.03-9.52 177.88-9.47 178.74-9.42 179.52-9.23 180.3-9.03 181.06-8.64 181.81-8.25 182.64-7.52L182.64-7.52Q182.64-7.67 182.67-8.13 182.69-8.59 182.69-9.13 182.69-9.67 182.69-10.13 182.69-10.6 182.69-10.79L182.69-10.79Q182.64-11.67 182.64-13.06 182.64-14.45 182.42-15.92 182.2-17.38 181.54-18.7 180.89-20.02 179.42-20.7L179.42-20.7Q178.4-20.7 177.52-20.36 176.64-20.02 175.76-19.63 174.88-19.24 174-18.92 173.12-18.6 172.1-18.6L172.1-18.6Q172.1-19.82 172.85-20.63 173.61-21.44 174.68-21.88 175.76-22.31 176.93-22.46 178.1-22.61 178.98-22.61L178.98-22.61Q179.86-22.46 180.62-22.27 181.37-22.07 182.03-21.48 182.69-20.9 183.25-19.7 183.82-18.51 184.23-16.36 184.65-14.21 184.96-10.91 185.28-7.62 185.48-2.83L185.48-2.83Q185.57-2.2 185.06-1.73 184.55-1.27 183.67-0.95 182.79-0.63 181.69-0.42 180.59-0.2 179.47-0.1 178.35 0 177.32 0.05 176.3 0.1 175.61 0.1L175.61 0.1Q174.73 0.1 173.83-0.2 172.93-0.49 172.17-1.05 171.41-1.61 170.95-2.42 170.49-3.22 170.49-4.2ZM176.83-7.62L176.83-7.62Q174.39-6.93 173.42-5.98 172.44-5.03 172.56-4.15 172.68-3.27 173.71-2.56 174.73-1.86 176.2-1.64 177.66-1.42 179.37-1.88 181.08-2.34 182.64-3.71L182.64-3.71Q182.06-5.13 181.47-5.88 180.89-6.64 180.2-7.03 179.52-7.42 178.69-7.52 177.86-7.62 176.83-7.62ZM188.6-37.94L188.6-37.94Q189.28-37.84 189.79-37.57 190.31-37.3 190.6-36.62L190.6-36.62Q190.6-35.69 190.67-34.06 190.75-32.42 190.82-30.27 190.89-28.13 190.99-25.63 191.09-23.14 191.19-20.61 191.28-18.07 191.36-15.58 191.43-13.09 191.5-10.94 191.58-8.79 191.63-7.13 191.67-5.47 191.72-4.59L191.72-4.59Q191.72-4.49 191.7-4.25 191.67-4 191.65-3.66 191.63-3.32 191.6-3 191.58-2.69 191.58-2.54L191.58-2.54Q191.53-2.25 191.53-1.83 191.53-1.42 191.43-1.03 191.33-0.63 191.11-0.32 190.89 0 190.4 0.05L190.4 0.05 189.57-0.98Q189.53-1.03 189.45-2.81 189.38-4.59 189.26-7.45 189.14-10.3 189.04-13.89 188.94-17.48 188.82-21.14 188.7-24.8 188.6-28.17 188.5-31.54 188.45-33.98L188.45-33.98Q188.45-34.18 188.48-34.77 188.5-35.35 188.52-35.96 188.55-36.57 188.57-37.13 188.6-37.7 188.6-37.94ZM226.58-17.58L226.58-17.58Q226.43-17.04 226.12-15.87 225.8-14.7 225.39-13.23 224.97-11.77 224.51-10.16 224.04-8.54 223.6-7.08 223.16-5.62 222.82-4.47 222.48-3.32 222.33-2.83L222.33-2.83Q222.24-2.34 222.04-1.78 221.85-1.22 221.6-0.93 221.36-0.63 221.06-0.78 220.77-0.93 220.48-1.86L220.48-1.86 212.96-35.64Q213.1-35.64 213.45-35.72 213.79-35.79 213.93-35.79L213.93-35.79Q214.91-35.79 215.23-35.38 215.55-34.96 215.79-33.74L215.79-33.74 221.41-8.4 225.17-20.61Q225.36-21.19 225.73-21.39 226.09-21.58 226.58-21.58L226.58-21.58Q226.97-21.19 227.7-20.14 228.44-19.09 229.29-17.7 230.15-16.31 231.07-14.72 232-13.13 232.86-11.72 233.71-10.3 234.39-9.16 235.08-8.01 235.47-7.52L235.47-7.52Q235.61-7.28 235.98-6.86 236.35-6.45 236.79-6.01 237.23-5.57 237.67-5.18 238.1-4.79 238.3-4.69L238.3-4.69Q238.25-6.3 238.15-8.52 238.06-10.74 237.96-13.33 237.86-15.92 237.84-18.73 237.81-21.53 237.93-24.29 238.06-27.05 238.35-29.61 238.64-32.18 239.13-34.33L239.13-34.33Q239.23-34.67 239.4-34.84 239.57-35.01 239.79-35.06 240.01-35.11 240.38-35.08 240.74-35.06 241.18-35.06L241.18-35.06Q241.18-34.52 241.13-33.76 241.08-33.01 240.99-31.62 240.89-30.22 240.79-27.88 240.69-25.54 240.57-21.83 240.45-18.12 240.35-12.77 240.25-7.42 240.16 0L240.16 0Q238.06-1.66 236.25-3.71 234.44-5.76 232.83-8.08 231.22-10.4 229.68-12.82 228.14-15.23 226.58-17.58ZM243.18-4.2L243.18-4.2Q243.18-6.98 244.72-8.25 246.26-9.52 248.75-9.52L248.75-9.52Q249.72-9.52 250.58-9.47 251.43-9.42 252.21-9.23 252.99-9.03 253.75-8.64 254.51-8.25 255.34-7.52L255.34-7.52Q255.34-7.67 255.36-8.13 255.39-8.59 255.39-9.13 255.39-9.67 255.39-10.13 255.39-10.6 255.39-10.79L255.39-10.79Q255.34-11.67 255.34-13.06 255.34-14.45 255.12-15.92 254.9-17.38 254.24-18.7 253.58-20.02 252.12-20.7L252.12-20.7Q251.09-20.7 250.21-20.36 249.33-20.02 248.45-19.63 247.57-19.24 246.7-18.92 245.82-18.6 244.79-18.6L244.79-18.6Q244.79-19.82 245.55-20.63 246.31-21.44 247.38-21.88 248.45-22.31 249.63-22.46 250.8-22.61 251.68-22.61L251.68-22.61Q252.56-22.46 253.31-22.27 254.07-22.07 254.73-21.48 255.39-20.9 255.95-19.7 256.51-18.51 256.93-16.36 257.34-14.21 257.66-10.91 257.98-7.62 258.17-2.83L258.17-2.83Q258.27-2.2 257.76-1.73 257.24-1.27 256.36-0.95 255.49-0.63 254.39-0.42 253.29-0.2 252.16-0.1 251.04 0 250.02 0.05 248.99 0.1 248.31 0.1L248.31 0.1Q247.43 0.1 246.53-0.2 245.62-0.49 244.86-1.05 244.11-1.61 243.64-2.42 243.18-3.22 243.18-4.2ZM249.53-7.62L249.53-7.62Q247.09-6.93 246.11-5.98 245.13-5.03 245.26-4.15 245.38-3.27 246.4-2.56 247.43-1.86 248.89-1.64 250.36-1.42 252.07-1.88 253.78-2.34 255.34-3.71L255.34-3.71Q254.75-5.13 254.17-5.88 253.58-6.64 252.9-7.03 252.21-7.42 251.38-7.52 250.55-7.62 249.53-7.62ZM271.79 20.17L269.59 20.02Q269.59 17.58 270.03 14.99 270.47 12.4 270.94 9.81 271.4 7.23 271.72 4.64 272.04 2.05 271.79-0.44L271.79-0.44 259.63-21.04Q260.71-22.02 261.34-22.14 261.98-22.27 262.07-22.17L262.07-22.17Q262.42-21.68 263.22-20.36 264.03-19.04 265.08-17.29 266.13-15.53 267.3-13.57 268.47-11.62 269.52-9.86 270.57-8.11 271.33-6.74 272.08-5.37 272.38-4.83L272.38-4.83 274.62-22.95 277.06-21.73 271.79 20.17Z","opacity","1","transform","matrix(1,0,0,1,0,0)","fill","var(--mainWhiteColor)","data-fill-palette-color","primary","id","text-0",1,"wordmark-text-0"],["transform","matrix(1,0,0,1,97.29977228662983,0)"],["viewBox","0 0 200.92045542674032 200.92045542674032","height","200.92045542674032","width","200.92045542674032"],["id","icon-0"],["d","M0 100.46c0-55.483 44.978-100.46 100.46-100.46 55.483 0 100.46 44.978 100.46 100.46 0 55.483-44.978 100.46-100.46 100.46-55.483 0-100.46-44.978-100.46-100.46zM100.46 193.437c51.35 0 92.977-41.627 92.977-92.977 0-51.35-41.627-92.977-92.977-92.977-51.35 0-92.977 41.627-92.977 92.977 0 51.35 41.627 92.977 92.977 92.977z","data-fill-palette-color","accent","fill","var(--mainWhiteColor)","stroke","transparent"],["rx","99.45562543623646","ry","99.45562543623646","cx","100.46022771337016","cy","100.46022771337016","fill","var(--mainWhiteColor)","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,43.57436241056036,43.35758026693677)"],["viewBox","0 0 113.7717306056196 114.20529489286677","height","114.20529489286677","width","113.7717306056196"],["xmlns","http://www.w3.org/2000/svg","data-name","Layer 1","viewBox","1.190000057220459 1.002901315689087 97.62506866455078 97.99710083007812","x","0","y","0","height","114.20529489286677","width","113.7717306056196","data-fill-palette-color","quaternary","id","b-0",1,"icon-b-0"],["d","M79.28 26.63a0.3 0.3 0 0 0 0-0.07 0.28 0.28 0 0 0-0.48-0.19l-7 7a20.24 20.24 0 0 0-6 13v1.87a37.5 37.5 0 0 1 1.67 5.15H54.79a32.9 32.9 0 0 0-5.43-15.13 26.9 26.9 0 0 1-7.74 5.77 22.2 22.2 0 0 1-6.34 2.06c-9.9 1.51-22.3-5-28.35-41.61a1.86 1.86 0 0 1 1.55-2.05c47.44-6.69 50.2 11.7 47.85 22.85a51.5 51.5 0 0 0-19.69-6.14h-0.11a0.43 0.43 0 0 0-0.18 0.76l11.58 8.5 5.84 4.31a37.3 37.3 0 0 1 6.08 5.85 24.8 24.8 0 0 1 5-6.15 17.7 17.7 0 0 1-2.54-5 14.8 14.8 0 0 1-0.65-4.41c0-6.65 5.53-14.14 30.18-14.44a1.23 1.23 0 0 1 1.24 1.23c-0.38 31.82-12.74 31.78-19.82 29.12a34.2 34.2 0 0 0 6.02-12.28M28.65 93h34.63a16.16 16.16 0 0 0 12.18-5.54l21.68-24.79a6.79 6.79 0 0 0-0.79-9.7 6.55 6.55 0 0 0-4.2-1.49 7.24 7.24 0 0 0-5.38 2.43l-10.2 11.35v0.16a11.85 11.85 0 0 1-11.89 11.26H52.21a2.54 2.54 0 1 1 0-5.08h12.47a6.72 6.72 0 0 0 6.81-6.34A6.54 6.54 0 0 0 65 58.52H44.19l-3.37-1.18a23.42 23.42 0 0 0-24.26 5.49L1.19 78.1 22.64 99Z","fill","var(--textColor)","data-fill-palette-color","quaternary"],["width","302.6252517497624","height","247.2","fill","none","stroke","none","visibility","hidden"]],template:function(fe,Ee){1&fe&&(b.TgZ(0,"main",0),b.O4$(),b.TgZ(1,"svg",1),b._UZ(2,"rect",2),b.TgZ(3,"g",3)(4,"svg",4)(5,"g")(6,"svg",5)(7,"g",6)(8,"svg",7)(9,"g",8)(10,"svg",9)(11,"g")(12,"svg",7)(13,"g",10)(14,"svg",11),b._UZ(15,"path",12),b.qZA()()()()()()()(),b.TgZ(16,"g",13)(17,"svg",14)(18,"g"),b._UZ(19,"svg"),b.qZA(),b.TgZ(20,"g",15)(21,"svg",14)(22,"g"),b._UZ(23,"path",16)(24,"ellipse",17),b.qZA(),b.TgZ(25,"g",18)(26,"svg",19)(27,"g")(28,"svg",20),b._UZ(29,"path",21),b.qZA()()()()()()()(),b._UZ(30,"g"),b.qZA()(),b._UZ(31,"defs"),b.qZA(),b._UZ(32,"rect",22),b.qZA()()())}})}return u})()},2732:(Ht,Ge,K)=>{K.d(Ge,{Q:()=>u});var b=K(9468),re=K(6593);let u=(()=>{class be{constructor(fe){this.sanitizer=fe}transform(fe){let Ee;if(fe.startsWith("https://m."))Ee=new URLSearchParams(fe.split("?")[1]).get("v")||"";else{const Re=fe.split("/");Ee=Re[Re.length-1]}return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+Ee)}static#e=this.\u0275fac=function(Ee){return new(Ee||be)(b.Y36(re.H7,16))};static#t=this.\u0275pipe=b.Yjl({name:"safeUrl",type:be,pure:!0})}return be})()},2772:(Ht,Ge,K)=>{K.d(Ge,{r:()=>ue});var b=K(6814),re=K(6024),u=K(95),be=K(9468);let ue=(()=>{class fe{static#e=this.\u0275fac=function(Re){return new(Re||fe)};static#t=this.\u0275mod=be.oAB({type:fe});static#n=this.\u0275inj=be.cJS({imports:[b.ez,re.Bz,u.u5,u.UX]})}return fe})()},8850:(Ht,Ge,K)=>{K.d(Ge,{O:()=>fe});var b=K(5861),re=K(3477),u=K(8645),be=K(9468),ue=K(4456);let fe=(()=>{class Ee{constructor(Re,ce){this.firestore=Re,this.globalErrorHandler=ce,this.commentAddedSubject=new u.x,this.collectionName="Comments"}getCommentsByQuery(Re,ce){var de=this;return(0,b.Z)(function*(){try{const Me=(0,re.hJ)(de.firestore,de.collectionName),Se=(0,re.IO)(Me,(0,re.ar)(Re,"==",ce)),Oe=yield(0,re.PL)(Se),Ke=[];return Oe.forEach(Tt=>{const{create_time:Ft,name:Nt,recipeId:Dn,comment:Ot,uid:ft}=Tt.data();Ke.push({create_time:Ft,name:Nt,recipeId:Dn,comment:Ot,uid:ft,id:Tt.id})}),Ke.sort((Tt,Ft)=>{const Nt=Tt.create_time.toDate();return Ft.create_time.toDate().getTime()-Nt.getTime()}),Ke}catch(Me){return de.globalErrorHandler.handleError(Me),[]}})()}getCommentsForRecipe(Re){var ce=this;return(0,b.Z)(function*(){return ce.getCommentsByQuery("recipeId",Re)})()}getCommentsForUser(Re){var ce=this;return(0,b.Z)(function*(){return ce.getCommentsByQuery("uid",Re)})()}addComment(Re){var ce=this;return(0,b.Z)(function*(){try{const de=yield(0,re.ET)((0,re.hJ)(ce.firestore,ce.collectionName),Re);return ce.commentAddedSubject.next(),de.id}catch(de){return ce.globalErrorHandler.handleError(de),null}})()}deleteComment(Re){var ce=this;return(0,b.Z)(function*(){try{const de=(0,re.JU)(ce.firestore,ce.collectionName,Re);yield(0,re.oe)(de),console.log("Comment deleted successfully:",Re)}catch(de){throw ce.globalErrorHandler.handleError(de),de}})()}getCommentById(Re){var ce=this;return(0,b.Z)(function*(){const de=(0,re.JU)(ce.firestore,ce.collectionName,Re),Me=yield(0,re.QT)(de);if(Me.exists()){const Se=Me.data();return console.log(Se.recipeId),Me.data()}return null})()}editComment(Re,ce){var de=this;return(0,b.Z)(function*(){const Se=(0,re.JU)(de.firestore,"Comments",ce),Oe={...Re};try{yield(0,re.r7)(Se,Oe)}catch(Ke){throw de.globalErrorHandler.handleError(Ke),Ke}})()}getCommentAddedObservable(){return this.commentAddedSubject.asObservable()}static#e=this.\u0275fac=function(ce){return new(ce||Ee)(be.LFG(re.gg),be.LFG(ue.r))};static#t=this.\u0275prov=be.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})()},3424:(Ht,Ge,K)=>{K.d(Ge,{l:()=>u});var b=K(95),re=K(9468);let u=(()=>{class be{markFormGroupTouched(fe){Object.values(fe.controls).forEach(Ee=>{Ee instanceof b.NI?Ee.markAsTouched():Ee instanceof b.cw&&this.markFormGroupTouched(Ee)})}markFormArrayControlsTouched(fe){for(let Ee=0;Ee<fe.length;Ee++){const Qe=fe.at(Ee);this.markFormGroupTouched(Qe)}}getFormGroupErrors(fe){let Ee="";return Object.keys(fe.controls).forEach(Qe=>{const Re=fe.get(Qe)?.errors;Re&&Object.keys(Re).forEach(ce=>{Ee+=`${Qe} ${this.getControlErrorMessage(ce,Re[ce])}\n`})}),Ee}getControlErrorMessage(fe,Ee){switch(fe){case"required":return"-> this field is required.";case"minlength":return`-> Minimum length is ${Ee.requiredLength}.`;case"maxlength":return`-> Maximum length is ${Ee.requiredLength}.`;default:return""}}static#e=this.\u0275fac=function(Ee){return new(Ee||be)};static#t=this.\u0275prov=re.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})()},4456:(Ht,Ge,K)=>{K.d(Ge,{r:()=>u});var b=K(9468),re=K(1816);let u=(()=>{class be{constructor(fe){this.alertService=fe}handleError(fe){if(fe instanceof Error){const Ee=fe.name,Qe=fe.message;console.error(`Error (${Ee}): ${Qe}`),this.alertService.sendModalMessage(`Error (${Ee}): \n\n         ${Qe}`)}else this.alertService.sendModalMessage(`Unknown error occurred:\n      \n${fe}`)}static#e=this.\u0275fac=function(Ee){return new(Ee||be)(b.LFG(re.y))};static#t=this.\u0275prov=b.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})()},3585:(Ht,Ge,K)=>{K.d(Ge,{j:()=>ce});var b=K(5861),re=K(3477),u=K(5619),be=K(6973),ue=K(305),Ee=K(9468),Qe=K(6024),Re=K(4456);let ce=(()=>{class de{constructor(Se,Oe,Ke){this.firestore=Se,this.router=Oe,this.globalErrorHandler=Ke,this.lastDocSubject=new u.X(void 0),this.lastDoc$=this.lastDocSubject.asObservable(),this.collectionName="Recipe",this.paginateNumber=12}getRecipes(){var Se=this;return(0,b.Z)(function*(){try{let Oe=(0,re.IO)((0,re.hJ)(Se.firestore,Se.collectionName),(0,re.Xo)("title"));Oe=(0,re.IO)(Oe,(0,re.b9)(Se.paginateNumber));const Ke=yield(0,re.PL)(Oe);let Tt=[];return Ke.forEach(Nt=>{const Ot={...Nt.data(),id:Nt.id};Tt.push(Ot)}),Se.lastDocSubject.next(Ke.docs[Ke.docs.length-1]),{data:Tt}}catch(Oe){throw Se.globalErrorHandler.handleError(Oe),Oe}})()}getRecipesLoadMore(){var Se=this;return(0,b.Z)(function*(){try{const Oe=yield function fe(de,Me){const Se="object"==typeof Me;return new Promise((Oe,Ke)=>{const Tt=new ue.Hp({next:Ft=>{Oe(Ft),Tt.unsubscribe()},error:Ke,complete:()=>{Se?Oe(Me.defaultValue):Ke(new be.K)}});de.subscribe(Tt)})}(Se.lastDoc$);let Ke=(0,re.IO)((0,re.hJ)(Se.firestore,Se.collectionName),(0,re.Xo)("title"));Oe&&(Ke=(0,re.IO)(Ke,(0,re.TQ)(Oe))),Ke=(0,re.IO)(Ke,(0,re.b9)(Se.paginateNumber));const Tt=yield(0,re.PL)(Ke);let Ft=[];Tt.forEach(Ot=>{const st={...Ot.data(),id:Ot.id};Ft.push(st)});const Nt=Tt.size===Se.paginateNumber;return Se.lastDocSubject.next(Tt.docs[Tt.docs.length-1]),{data:Ft,hasMore:Nt}}catch(Oe){throw Se.globalErrorHandler.handleError(Oe),Oe}})()}getRecipeById(Se){var Oe=this;return(0,b.Z)(function*(){try{const Ke=(0,re.JU)(Oe.firestore,Oe.collectionName,Se),Tt=yield(0,re.QT)(Ke);if(Tt.exists()){let Ft=Tt.data();return Ft.id||(Ft={...Ft,id:Se}),Ft}return null}catch(Ke){throw Oe.globalErrorHandler.handleError(Ke),Ke}})()}getRecipeByUID(Se){var Oe=this;return(0,b.Z)(function*(){try{const Ke=(0,re.hJ)(Oe.firestore,Oe.collectionName),Tt=(0,re.IO)(Ke,(0,re.ar)("uid","==",Se)),Ft=yield(0,re.PL)(Tt),Nt=[];return Ft.forEach(Dn=>{const ft={...Dn.data(),id:Dn.id};Nt.push(ft)}),Nt}catch(Ke){throw Oe.globalErrorHandler.handleError(Ke),Ke}})()}searchRecipesByTitle(Se){var Oe=this;return(0,b.Z)(function*(){try{let Ke=(0,re.IO)((0,re.hJ)(Oe.firestore,Oe.collectionName),(0,re.Xo)("title"));const Tt=yield(0,re.PL)(Ke);let Ft=[];return Tt.forEach(Nt=>{const Ot={...Nt.data(),id:Nt.id};Ft.push(Ot)}),Se&&(Ft=Ft.filter(Nt=>Nt.title.toLowerCase().includes(Se.toLowerCase()))),{data:Ft}}catch(Ke){throw Oe.globalErrorHandler.handleError(Ke),Ke}})()}updateRecipeLikes(Se,Oe,Ke){var Tt=this;return(0,b.Z)(function*(){const Ft=(0,re.JU)(Tt.firestore,Tt.collectionName,Se);try{Ke?(console.log("remove"),yield(0,re.r7)(Ft,{likes:(0,re.Ab)(Oe)})):(console.log("add"),yield(0,re.r7)(Ft,{likes:(0,re.vr)(Oe)})),console.log("Recipe likes updated successfully")}catch(Nt){throw Tt.globalErrorHandler.handleError(Nt),Nt}})()}deleteRecipe(Se){var Oe=this;return(0,b.Z)(function*(){try{const Ke=(0,re.JU)(Oe.firestore,Oe.collectionName,Se);yield(0,re.oe)(Ke),console.log("Recipe deleted successfully:",Se)}catch(Ke){throw Oe.globalErrorHandler.handleError(Ke),Ke}})()}addRecipe(Se){(0,re.ET)((0,re.hJ)(this.firestore,this.collectionName),Se).then(Oe=>{console.log("Document written with ID: ",Oe.id),this.router.navigate(["/recipe",Oe.id])}).catch(Oe=>{throw this.globalErrorHandler.handleError(Oe),Oe})}updateRecipe(Se,Oe){if(Oe){const Ke=(0,re.JU)(this.firestore,this.collectionName,Oe),Tt={...Se};(0,re.r7)(Ke,Tt).then(()=>{console.log("Document successfully updated"),this.router.navigate(["/recipe",Oe])}).catch(Ft=>{this.globalErrorHandler.handleError(Ft)})}else this.globalErrorHandler.handleError("Invalid recipe id.")}static#e=this.\u0275fac=function(Oe){return new(Oe||de)(Ee.LFG(re.gg),Ee.LFG(Qe.F0),Ee.LFG(Re.r))};static#t=this.\u0275prov=Ee.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})()},6499:(Ht,Ge,K)=>{K.d(Ge,{K:()=>y_});var b=K(5861),re=K(9058),u=K(4303),be=K(7879),ue=K(7582),fe=K(4537);const Ke=function Se(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Tt=new re.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Nt=new be.Yd("@firebase/auth");function Ot(A,...v){Nt.logLevel<=be.in.ERROR&&Nt.error(`Auth (${u.Jn}): ${A}`,...v)}function ft(A,...v){throw je(A,...v)}function st(A,...v){return je(A,...v)}function je(A,...v){if("string"!=typeof A){const w=v[0],N=[...v.slice(1)];return N[0]&&(N[0].appName=A.name),A._errorFactory.create(w,...N)}return Tt.create(A,...v)}function ve(A,v,...w){if(!A)throw je(v,...w)}function Je(A){const v="INTERNAL ASSERTION FAILED: "+A;throw Ot(v),new Error(v)}function mt(A,v){A||Je(v)}function kn(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.href)||""}function hn(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.protocol)||null}class cr{constructor(v,w){this.shortDelay=v,this.longDelay=w,mt(w>v,"Short delay should be less than long delay!"),this.isMobile=(0,re.uI)()||(0,re.b$)()}get(){return function Cn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function dt(){return"http:"===hn()||"https:"===hn()}()||(0,re.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vr(A,v){mt(A.emulator,"Emulator should always be set here");const{url:w}=A.emulator;return v?`${w}${v.startsWith("/")?v.slice(1):v}`:w}class Fe{static initialize(v,w,N){this.fetchImpl=v,w&&(this.headersImpl=w),N&&(this.responseImpl=N)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Je("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Je("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Je("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Xe=new cr(3e4,6e4);function Ue(A,v){return A.tenantId&&!v.tenantId?Object.assign(Object.assign({},v),{tenantId:A.tenantId}):v}function rt(A,v,w,N){return wt.apply(this,arguments)}function wt(){return(wt=(0,b.Z)(function*(A,v,w,N,Z={}){return kt(A,Z,(0,b.Z)(function*(){let ae={},Ae={};N&&("GET"===v?Ae=N:ae={body:JSON.stringify(N)});const Ye=(0,re.xO)(Object.assign({key:A.config.apiKey},Ae)).slice(1),Ct=yield A._getAdditionalHeaders();return Ct["Content-Type"]="application/json",A.languageCode&&(Ct["X-Firebase-Locale"]=A.languageCode),Fe.fetch()(dn(A,A.config.apiHost,w,Ye),Object.assign({method:v,headers:Ct,referrerPolicy:"no-referrer"},ae))}))})).apply(this,arguments)}function kt(A,v,w){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,b.Z)(function*(A,v,w){A._canInitEmulator=!1;const N=Object.assign(Object.assign({},$e),v);try{const Z=new Zn(A),ae=yield Promise.race([w(),Z.promise]);Z.clearNetworkTimeout();const Ae=yield ae.json();if("needConfirmation"in Ae)throw br(A,"account-exists-with-different-credential",Ae);if(ae.ok&&!("errorMessage"in Ae))return Ae;{const Ye=ae.ok?Ae.errorMessage:Ae.error.message,[Ct,un]=Ye.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ct)throw br(A,"credential-already-in-use",Ae);if("EMAIL_EXISTS"===Ct)throw br(A,"email-already-in-use",Ae);if("USER_DISABLED"===Ct)throw br(A,"user-disabled",Ae);const Bn=N[Ct]||Ct.toLowerCase().replace(/[_\s]+/g,"-");if(un)throw function yt(A,v,w){const N=Object.assign(Object.assign({},Ke()),{[v]:w});return new re.LL("auth","Firebase",N).create(v,{appName:A.name})}(A,Bn,un);ft(A,Bn)}}catch(Z){if(Z instanceof re.ZR)throw Z;ft(A,"network-request-failed",{message:String(Z)})}})).apply(this,arguments)}function fn(A,v,w,N){return yn.apply(this,arguments)}function yn(){return(yn=(0,b.Z)(function*(A,v,w,N,Z={}){const ae=yield rt(A,v,w,N,Z);return"mfaPendingCredential"in ae&&ft(A,"multi-factor-auth-required",{_serverResponse:ae}),ae})).apply(this,arguments)}function dn(A,v,w,N){const Z=`${v}${w}?${N}`;return A.config.emulator?vr(A.config,Z):`${A.config.apiScheme}://${Z}`}function Dt(A){switch(A){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Zn{constructor(v){this.auth=v,this.timer=null,this.promise=new Promise((w,N)=>{this.timer=setTimeout(()=>N(st(this.auth,"network-request-failed")),Xe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function br(A,v,w){const N={appName:A.name};w.email&&(N.email=w.email),w.phoneNumber&&(N.phoneNumber=w.phoneNumber);const Z=st(A,v,N);return Z.customData._tokenResponse=w,Z}function De(A){return void 0!==A&&void 0!==A.enterprise}class Pe{constructor(v){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===v.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=v.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=v.recaptchaEnforcementState}getProviderEnforcementState(v){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const w of this.recaptchaEnforcementState)if(w.provider&&w.provider===v)return Dt(w.enforcementState);return null}isProviderEnabled(v){return"ENFORCE"===this.getProviderEnforcementState(v)||"AUDIT"===this.getProviderEnforcementState(v)}}function vt(A,v){return At.apply(this,arguments)}function At(){return(At=(0,b.Z)(function*(A,v){return rt(A,"GET","/v2/recaptchaConfig",Ue(A,v))})).apply(this,arguments)}function An(){return(An=(0,b.Z)(function*(A,v){return rt(A,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}function Jn(){return(Jn=(0,b.Z)(function*(A,v){return rt(A,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}function en(A){if(A)try{const v=new Date(Number(A));if(!isNaN(v.getTime()))return v.toUTCString()}catch{}}function mn(){return(mn=(0,b.Z)(function*(A,v=!1){const w=(0,re.m9)(A),N=yield w.getIdToken(v),Z=Yn(N);ve(Z&&Z.exp&&Z.auth_time&&Z.iat,w.auth,"internal-error");const ae="object"==typeof Z.firebase?Z.firebase:void 0,Ae=ae?.sign_in_provider;return{claims:Z,token:N,authTime:en(lr(Z.auth_time)),issuedAtTime:en(lr(Z.iat)),expirationTime:en(lr(Z.exp)),signInProvider:Ae||null,signInSecondFactor:ae?.sign_in_second_factor||null}})).apply(this,arguments)}function lr(A){return 1e3*Number(A)}function Yn(A){const[v,w,N]=A.split(".");if(void 0===v||void 0===w||void 0===N)return Ot("JWT malformed, contained fewer than 3 sections"),null;try{const Z=(0,re.tV)(w);return Z?JSON.parse(Z):(Ot("Failed to decode base64 JWT payload"),null)}catch(Z){return Ot("Caught error parsing JWT payload as JSON",Z?.toString()),null}}function zn(A,v){return fi.apply(this,arguments)}function fi(){return(fi=(0,b.Z)(function*(A,v,w=!1){if(w)return v;try{return yield v}catch(N){throw N instanceof re.ZR&&function xn({code:A}){return"auth/user-disabled"===A||"auth/user-token-expired"===A}(N)&&A.auth.currentUser===A&&(yield A.auth.signOut()),N}})).apply(this,arguments)}class Xn{constructor(v){this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(v){var w;if(v){const N=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),N}{this.errorBackoff=3e4;const Z=(null!==(w=this.user.stsTokenManager.expirationTime)&&void 0!==w?w:0)-Date.now()-3e5;return Math.max(0,Z)}}schedule(v=!1){var w=this;if(!this.isRunning)return;const N=this.getInterval(v);this.timerId=setTimeout((0,b.Z)(function*(){yield w.iteration()}),N)}iteration(){var v=this;return(0,b.Z)(function*(){try{yield v.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===w?.code&&v.schedule(!0))}v.schedule()})()}}class xr{constructor(v,w){this.createdAt=v,this.lastLoginAt=w,this._initializeTime()}_initializeTime(){this.lastSignInTime=en(this.lastLoginAt),this.creationTime=en(this.createdAt)}_copy(v){this.createdAt=v.createdAt,this.lastLoginAt=v.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function pi(A){return nt.apply(this,arguments)}function nt(){return nt=(0,b.Z)(function*(A){var v;const w=A.auth,N=yield A.getIdToken(),Z=yield zn(A,function wn(A,v){return Jn.apply(this,arguments)}(w,{idToken:N}));ve(Z?.users.length,w,"internal-error");const ae=Z.users[0];A._notifyReloadListener(ae);const Ae=null!==(v=ae.providerUserInfo)&&void 0!==v&&v.length?function qt(A){return A.map(v=>{var{providerId:w}=v,N=(0,ue._T)(v,["providerId"]);return{providerId:w,uid:N.rawId||"",displayName:N.displayName||null,email:N.email||null,phoneNumber:N.phoneNumber||null,photoURL:N.photoUrl||null}})}(ae.providerUserInfo):[],Ye=function It(A,v){return[...A.filter(N=>!v.some(Z=>Z.providerId===N.providerId)),...v]}(A.providerData,Ae),Bn=!!A.isAnonymous&&!(A.email&&ae.passwordHash||Ye?.length),Lr={uid:ae.localId,displayName:ae.displayName||null,photoURL:ae.photoUrl||null,email:ae.email||null,emailVerified:ae.emailVerified||!1,phoneNumber:ae.phoneNumber||null,tenantId:ae.tenantId||null,providerData:Ye,metadata:new xr(ae.createdAt,ae.lastLoginAt),isAnonymous:Bn};Object.assign(A,Lr)}),nt.apply(this,arguments)}function Ze(){return(Ze=(0,b.Z)(function*(A){const v=(0,re.m9)(A);yield pi(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}function Wn(){return(Wn=(0,b.Z)(function*(A,v){const w=yield kt(A,{},(0,b.Z)(function*(){const N=(0,re.xO)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:Z,apiKey:ae}=A.config,Ae=dn(A,Z,"/v1/token",`key=${ae}`),Ye=yield A._getAdditionalHeaders();return Ye["Content-Type"]="application/x-www-form-urlencoded",Fe.fetch()(Ae,{method:"POST",headers:Ye,body:N})}));return{accessToken:w.access_token,expiresIn:w.expires_in,refreshToken:w.refresh_token}})).apply(this,arguments)}function V(){return(V=(0,b.Z)(function*(A,v){return rt(A,"POST","/v2/accounts:revokeToken",Ue(A,v))})).apply(this,arguments)}class G{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(v){ve(v.idToken,"internal-error"),ve(typeof v.idToken<"u","internal-error"),ve(typeof v.refreshToken<"u","internal-error");const w="expiresIn"in v&&typeof v.expiresIn<"u"?Number(v.expiresIn):function ur(A){const v=Yn(A);return ve(v,"internal-error"),ve(typeof v.exp<"u","internal-error"),ve(typeof v.iat<"u","internal-error"),Number(v.exp)-Number(v.iat)}(v.idToken);this.updateTokensAndExpiration(v.idToken,v.refreshToken,w)}getToken(v,w=!1){var N=this;return(0,b.Z)(function*(){return ve(!N.accessToken||N.refreshToken,v,"user-token-expired"),w||!N.accessToken||N.isExpired?N.refreshToken?(yield N.refresh(v,N.refreshToken),N.accessToken):null:N.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(v,w){var N=this;return(0,b.Z)(function*(){const{accessToken:Z,refreshToken:ae,expiresIn:Ae}=yield function Zt(A,v){return Wn.apply(this,arguments)}(v,w);N.updateTokensAndExpiration(Z,ae,Number(Ae))})()}updateTokensAndExpiration(v,w,N){this.refreshToken=w||null,this.accessToken=v||null,this.expirationTime=Date.now()+1e3*N}static fromJSON(v,w){const{refreshToken:N,accessToken:Z,expirationTime:ae}=w,Ae=new G;return N&&(ve("string"==typeof N,"internal-error",{appName:v}),Ae.refreshToken=N),Z&&(ve("string"==typeof Z,"internal-error",{appName:v}),Ae.accessToken=Z),ae&&(ve("number"==typeof ae,"internal-error",{appName:v}),Ae.expirationTime=ae),Ae}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(v){this.accessToken=v.accessToken,this.refreshToken=v.refreshToken,this.expirationTime=v.expirationTime}_clone(){return Object.assign(new G,this.toJSON())}_performRefresh(){return Je("not implemented")}}function q(A,v){ve("string"==typeof A||typeof A>"u","internal-error",{appName:v})}class ${constructor(v){var{uid:w,auth:N,stsTokenManager:Z}=v,ae=(0,ue._T)(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=w,this.auth=N,this.stsTokenManager=Z,this.accessToken=Z.accessToken,this.displayName=ae.displayName||null,this.email=ae.email||null,this.emailVerified=ae.emailVerified||!1,this.phoneNumber=ae.phoneNumber||null,this.photoURL=ae.photoURL||null,this.isAnonymous=ae.isAnonymous||!1,this.tenantId=ae.tenantId||null,this.providerData=ae.providerData?[...ae.providerData]:[],this.metadata=new xr(ae.createdAt||void 0,ae.lastLoginAt||void 0)}getIdToken(v){var w=this;return(0,b.Z)(function*(){const N=yield zn(w,w.stsTokenManager.getToken(w.auth,v));return ve(N,w.auth,"internal-error"),w.accessToken!==N&&(w.accessToken=N,yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)),N})()}getIdTokenResult(v){return function Er(A){return mn.apply(this,arguments)}(this,v)}reload(){return function Ce(A){return Ze.apply(this,arguments)}(this)}_assign(v){this!==v&&(ve(this.uid===v.uid,this.auth,"internal-error"),this.displayName=v.displayName,this.photoURL=v.photoURL,this.email=v.email,this.emailVerified=v.emailVerified,this.phoneNumber=v.phoneNumber,this.isAnonymous=v.isAnonymous,this.tenantId=v.tenantId,this.providerData=v.providerData.map(w=>Object.assign({},w)),this.metadata._copy(v.metadata),this.stsTokenManager._assign(v.stsTokenManager))}_clone(v){const w=new $(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}));return w.metadata._copy(this.metadata),w}_onReload(v){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=v,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(v){this.reloadListener?this.reloadListener(v):this.reloadUserInfo=v}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(v,w=!1){var N=this;return(0,b.Z)(function*(){let Z=!1;v.idToken&&v.idToken!==N.stsTokenManager.accessToken&&(N.stsTokenManager.updateFromServerResponse(v),Z=!0),w&&(yield pi(N)),yield N.auth._persistUserIfCurrent(N),Z&&N.auth._notifyListenersIfCurrent(N)})()}delete(){var v=this;return(0,b.Z)(function*(){const w=yield v.getIdToken();return yield zn(v,function Ir(A,v){return An.apply(this,arguments)}(v.auth,{idToken:w})),v.stsTokenManager.clearRefreshToken(),v.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(v=>Object.assign({},v)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(v,w){var N,Z,ae,Ae,Ye,Ct,un,Bn;const Lr=null!==(N=w.displayName)&&void 0!==N?N:void 0,Aa=null!==(Z=w.email)&&void 0!==Z?Z:void 0,rl=null!==(ae=w.phoneNumber)&&void 0!==ae?ae:void 0,bg=null!==(Ae=w.photoURL)&&void 0!==Ae?Ae:void 0,sv=null!==(Ye=w.tenantId)&&void 0!==Ye?Ye:void 0,il=null!==(Ct=w._redirectEventId)&&void 0!==Ct?Ct:void 0,wg=null!==(un=w.createdAt)&&void 0!==un?un:void 0,z1=null!==(Bn=w.lastLoginAt)&&void 0!==Bn?Bn:void 0,{uid:Ig,emailVerified:W1,isAnonymous:q1,providerData:v_,stsTokenManager:qd}=w;ve(Ig&&qd,v,"internal-error");const Vh=G.fromJSON(this.name,qd);ve("string"==typeof Ig,v,"internal-error"),q(Lr,v.name),q(Aa,v.name),ve("boolean"==typeof W1,v,"internal-error"),ve("boolean"==typeof q1,v,"internal-error"),q(rl,v.name),q(bg,v.name),q(sv,v.name),q(il,v.name),q(wg,v.name),q(z1,v.name);const Uh=new $({uid:Ig,auth:v,email:Aa,emailVerified:W1,displayName:Lr,isAnonymous:q1,photoURL:bg,phoneNumber:rl,tenantId:sv,stsTokenManager:Vh,createdAt:wg,lastLoginAt:z1});return v_&&Array.isArray(v_)&&(Uh.providerData=v_.map(Zd=>Object.assign({},Zd))),il&&(Uh._redirectEventId=il),Uh}static _fromIdTokenResponse(v,w,N=!1){return(0,b.Z)(function*(){const Z=new G;Z.updateFromServerResponse(w);const ae=new $({uid:w.localId,auth:v,stsTokenManager:Z,isAnonymous:N});return yield pi(ae),ae})()}}const we=new Map;function We(A){mt(A instanceof Function,"Expected a class definition");let v=we.get(A);return v?(mt(v instanceof A,"Instance stored in cache mismatched with class"),v):(v=new A,we.set(A,v),v)}const on=(()=>{class A{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,b.Z)(function*(){return!0})()}_set(w,N){var Z=this;return(0,b.Z)(function*(){Z.storage[w]=N})()}_get(w){var N=this;return(0,b.Z)(function*(){const Z=N.storage[w];return void 0===Z?null:Z})()}_remove(w){var N=this;return(0,b.Z)(function*(){delete N.storage[w]})()}_addListener(w,N){}_removeListener(w,N){}}return A.type="NONE",A})();function pn(A,v,w){return`firebase:${A}:${v}:${w}`}class Mn{constructor(v,w,N){this.persistence=v,this.auth=w,this.userKey=N;const{config:Z,name:ae}=this.auth;this.fullUserKey=pn(this.userKey,Z.apiKey,ae),this.fullPersistenceKey=pn("persistence",Z.apiKey,ae),this.boundEventHandler=w._onStorageEvent.bind(w),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(v){return this.persistence._set(this.fullUserKey,v.toJSON())}getCurrentUser(){var v=this;return(0,b.Z)(function*(){const w=yield v.persistence._get(v.fullUserKey);return w?$._fromJSON(v.auth,w):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(v){var w=this;return(0,b.Z)(function*(){if(w.persistence===v)return;const N=yield w.getCurrentUser();return yield w.removeCurrentUser(),w.persistence=v,N?w.setCurrentUser(N):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(v,w,N="authUser"){return(0,b.Z)(function*(){if(!w.length)return new Mn(We(on),v,N);const Z=(yield Promise.all(w.map(function(){var un=(0,b.Z)(function*(Bn){if(yield Bn._isAvailable())return Bn});return function(Bn){return un.apply(this,arguments)}}()))).filter(un=>un);let ae=Z[0]||We(on);const Ae=pn(N,v.config.apiKey,v.name);let Ye=null;for(const un of w)try{const Bn=yield un._get(Ae);if(Bn){const Lr=$._fromJSON(v,Bn);un!==ae&&(Ye=Lr),ae=un;break}}catch{}const Ct=Z.filter(un=>un._shouldAllowMigration);return ae._shouldAllowMigration&&Ct.length?(ae=Ct[0],Ye&&(yield ae._set(Ae,Ye.toJSON())),yield Promise.all(w.map(function(){var un=(0,b.Z)(function*(Bn){if(Bn!==ae)try{yield Bn._remove(Ae)}catch{}});return function(Bn){return un.apply(this,arguments)}}())),new Mn(ae,v,N)):new Mn(ae,v,N)})()}}function Kt(A){const v=A.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(Gs(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(Fn(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(as(v))return"Blackberry";if(Zo(v))return"Webos";if($r(v))return"Safari";if((v.includes("chrome/")||nr(v))&&!v.includes("edge/"))return"Chrome";if(Ui(v))return"Android";{const N=A.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===N?.length)return N[1]}return"Other"}function Fn(A=(0,re.z$)()){return/firefox\//i.test(A)}function $r(A=(0,re.z$)()){const v=A.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}function nr(A=(0,re.z$)()){return/crios\//i.test(A)}function Gs(A=(0,re.z$)()){return/iemobile/i.test(A)}function Ui(A=(0,re.z$)()){return/android/i.test(A)}function as(A=(0,re.z$)()){return/blackberry/i.test(A)}function Zo(A=(0,re.z$)()){return/webos/i.test(A)}function Ba(A=(0,re.z$)()){return/iphone|ipad|ipod/i.test(A)||/macintosh/i.test(A)&&/mobile/i.test(A)}function ps(A=(0,re.z$)()){return Ba(A)||Ui(A)||Zo(A)||as(A)||/windows phone/i.test(A)||Gs(A)}function dr(A,v=[]){let w;switch(A){case"Browser":w=Kt((0,re.z$)());break;case"Worker":w=`${Kt((0,re.z$)())}-${A}`;break;default:w=A}const N=v.length?v.join(","):"FirebaseCore-web";return`${w}/JsCore/${u.Jn}/${N}`}class io{constructor(v){this.auth=v,this.queue=[]}pushCallback(v,w){const N=ae=>new Promise((Ae,Ye)=>{try{Ae(v(ae))}catch(Ct){Ye(Ct)}});N.onAbort=w,this.queue.push(N);const Z=this.queue.length-1;return()=>{this.queue[Z]=()=>Promise.resolve()}}runMiddleware(v){var w=this;return(0,b.Z)(function*(){if(w.auth.currentUser===v)return;const N=[];try{for(const Z of w.queue)yield Z(v),Z.onAbort&&N.push(Z.onAbort)}catch(Z){N.reverse();for(const ae of N)try{ae()}catch{}throw w.auth._errorFactory.create("login-blocked",{originalMessage:Z?.message})}})()}}function Ko(){return(Ko=(0,b.Z)(function*(A,v={}){return rt(A,"GET","/v2/passwordPolicy",Ue(A,v))})).apply(this,arguments)}class Hi{constructor(v){var w,N,Z,ae;const Ae=v.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(w=Ae.minPasswordLength)&&void 0!==w?w:6,Ae.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ae.maxPasswordLength),void 0!==Ae.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ae.containsLowercaseCharacter),void 0!==Ae.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ae.containsUppercaseCharacter),void 0!==Ae.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ae.containsNumericCharacter),void 0!==Ae.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ae.containsNonAlphanumericCharacter),this.enforcementState=v.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Z=null===(N=v.allowedNonAlphanumericCharacters)||void 0===N?void 0:N.join(""))&&void 0!==Z?Z:"",this.forceUpgradeOnSignin=null!==(ae=v.forceUpgradeOnSignin)&&void 0!==ae&&ae,this.schemaVersion=v.schemaVersion}validatePassword(v){var w,N,Z,ae,Ae,Ye;const Ct={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(v,Ct),this.validatePasswordCharacterOptions(v,Ct),Ct.isValid&&(Ct.isValid=null===(w=Ct.meetsMinPasswordLength)||void 0===w||w),Ct.isValid&&(Ct.isValid=null===(N=Ct.meetsMaxPasswordLength)||void 0===N||N),Ct.isValid&&(Ct.isValid=null===(Z=Ct.containsLowercaseLetter)||void 0===Z||Z),Ct.isValid&&(Ct.isValid=null===(ae=Ct.containsUppercaseLetter)||void 0===ae||ae),Ct.isValid&&(Ct.isValid=null===(Ae=Ct.containsNumericCharacter)||void 0===Ae||Ae),Ct.isValid&&(Ct.isValid=null===(Ye=Ct.containsNonAlphanumericCharacter)||void 0===Ye||Ye),Ct}validatePasswordLengthOptions(v,w){const N=this.customStrengthOptions.minPasswordLength,Z=this.customStrengthOptions.maxPasswordLength;N&&(w.meetsMinPasswordLength=v.length>=N),Z&&(w.meetsMaxPasswordLength=v.length<=Z)}validatePasswordCharacterOptions(v,w){let N;this.updatePasswordCharacterOptionsStatuses(w,!1,!1,!1,!1);for(let Z=0;Z<v.length;Z++)N=v.charAt(Z),this.updatePasswordCharacterOptionsStatuses(w,N>="a"&&N<="z",N>="A"&&N<="Z",N>="0"&&N<="9",this.allowedNonAlphanumericCharacters.includes(N))}updatePasswordCharacterOptionsStatuses(v,w,N,Z,ae){this.customStrengthOptions.containsLowercaseLetter&&(v.containsLowercaseLetter||(v.containsLowercaseLetter=w)),this.customStrengthOptions.containsUppercaseLetter&&(v.containsUppercaseLetter||(v.containsUppercaseLetter=N)),this.customStrengthOptions.containsNumericCharacter&&(v.containsNumericCharacter||(v.containsNumericCharacter=Z)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(v.containsNonAlphanumericCharacter||(v.containsNonAlphanumericCharacter=ae))}}class Ss{constructor(v,w,N,Z){this.app=v,this.heartbeatServiceProvider=w,this.appCheckServiceProvider=N,this.config=Z,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new js(this),this.idTokenSubscription=new js(this),this.beforeStateQueue=new io(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=Z.sdkClientVersion}_initializeWithPersistence(v,w){var N=this;return w&&(this._popupRedirectResolver=We(w)),this._initializationPromise=this.queue((0,b.Z)(function*(){var Z,ae;if(!N._deleted&&(N.persistenceManager=yield Mn.create(N,v),!N._deleted)){if(null!==(Z=N._popupRedirectResolver)&&void 0!==Z&&Z._shouldInitProactively)try{yield N._popupRedirectResolver._initialize(N)}catch{}yield N.initializeCurrentUser(w),N.lastNotifiedUid=(null===(ae=N.currentUser)||void 0===ae?void 0:ae.uid)||null,!N._deleted&&(N._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var v=this;return(0,b.Z)(function*(){if(v._deleted)return;const w=yield v.assertedPersistence.getCurrentUser();if(v.currentUser||w){if(v.currentUser&&w&&v.currentUser.uid===w.uid)return v._currentUser._assign(w),void(yield v.currentUser.getIdToken());yield v._updateCurrentUser(w,!0)}})()}initializeCurrentUser(v){var w=this;return(0,b.Z)(function*(){var N;const Z=yield w.assertedPersistence.getCurrentUser();let ae=Z,Ae=!1;if(v&&w.config.authDomain){yield w.getOrInitRedirectPersistenceManager();const Ye=null===(N=w.redirectUser)||void 0===N?void 0:N._redirectEventId,Ct=ae?._redirectEventId,un=yield w.tryRedirectSignIn(v);(!Ye||Ye===Ct)&&un?.user&&(ae=un.user,Ae=!0)}if(!ae)return w.directlySetCurrentUser(null);if(!ae._redirectEventId){if(Ae)try{yield w.beforeStateQueue.runMiddleware(ae)}catch(Ye){ae=Z,w._popupRedirectResolver._overrideRedirectResult(w,()=>Promise.reject(Ye))}return ae?w.reloadAndSetCurrentUserOrClear(ae):w.directlySetCurrentUser(null)}return ve(w._popupRedirectResolver,w,"argument-error"),yield w.getOrInitRedirectPersistenceManager(),w.redirectUser&&w.redirectUser._redirectEventId===ae._redirectEventId?w.directlySetCurrentUser(ae):w.reloadAndSetCurrentUserOrClear(ae)})()}tryRedirectSignIn(v){var w=this;return(0,b.Z)(function*(){let N=null;try{N=yield w._popupRedirectResolver._completeRedirectFn(w,v,!0)}catch{yield w._setRedirectUser(null)}return N})()}reloadAndSetCurrentUserOrClear(v){var w=this;return(0,b.Z)(function*(){try{yield pi(v)}catch(N){if("auth/network-request-failed"!==N?.code)return w.directlySetCurrentUser(null)}return w.directlySetCurrentUser(v)})()}useDeviceLanguage(){this.languageCode=function jn(){if(typeof navigator>"u")return null;const A=navigator;return A.languages&&A.languages[0]||A.language||null}()}_delete(){var v=this;return(0,b.Z)(function*(){v._deleted=!0})()}updateCurrentUser(v){var w=this;return(0,b.Z)(function*(){const N=v?(0,re.m9)(v):null;return N&&ve(N.auth.config.apiKey===w.config.apiKey,w,"invalid-user-token"),w._updateCurrentUser(N&&N._clone(w))})()}_updateCurrentUser(v,w=!1){var N=this;return(0,b.Z)(function*(){if(!N._deleted)return v&&ve(N.tenantId===v.tenantId,N,"tenant-id-mismatch"),w||(yield N.beforeStateQueue.runMiddleware(v)),N.queue((0,b.Z)(function*(){yield N.directlySetCurrentUser(v),N.notifyAuthListeners()}))})()}signOut(){var v=this;return(0,b.Z)(function*(){return yield v.beforeStateQueue.runMiddleware(null),(v.redirectPersistenceManager||v._popupRedirectResolver)&&(yield v._setRedirectUser(null)),v._updateCurrentUser(null,!0)})()}setPersistence(v){var w=this;return this.queue((0,b.Z)(function*(){yield w.assertedPersistence.setPersistence(We(v))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(v){var w=this;return(0,b.Z)(function*(){w._getPasswordPolicyInternal()||(yield w._updatePasswordPolicy());const N=w._getPasswordPolicyInternal();return N.schemaVersion!==w.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(w._errorFactory.create("unsupported-password-policy-schema-version",{})):N.validatePassword(v)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var v=this;return(0,b.Z)(function*(){const w=yield function xo(A){return Ko.apply(this,arguments)}(v),N=new Hi(w);null===v.tenantId?v._projectPasswordPolicy=N:v._tenantPasswordPolicies[v.tenantId]=N})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(v){this._errorFactory=new re.LL("auth","Firebase",v())}onAuthStateChanged(v,w,N){return this.registerStateListener(this.authStateSubscription,v,w,N)}beforeAuthStateChanged(v,w){return this.beforeStateQueue.pushCallback(v,w)}onIdTokenChanged(v,w,N){return this.registerStateListener(this.idTokenSubscription,v,w,N)}authStateReady(){return new Promise((v,w)=>{if(this.currentUser)v();else{const N=this.onAuthStateChanged(()=>{N(),v()},w)}})}revokeAccessToken(v){var w=this;return(0,b.Z)(function*(){if(w.currentUser){const N=yield w.currentUser.getIdToken(),Z={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:v,idToken:N};null!=w.tenantId&&(Z.tenantId=w.tenantId),yield function Y(A,v){return V.apply(this,arguments)}(w,Z)}})()}toJSON(){var v;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(v=this._currentUser)||void 0===v?void 0:v.toJSON()}}_setRedirectUser(v,w){var N=this;return(0,b.Z)(function*(){const Z=yield N.getOrInitRedirectPersistenceManager(w);return null===v?Z.removeCurrentUser():Z.setCurrentUser(v)})()}getOrInitRedirectPersistenceManager(v){var w=this;return(0,b.Z)(function*(){if(!w.redirectPersistenceManager){const N=v&&We(v)||w._popupRedirectResolver;ve(N,w,"argument-error"),w.redirectPersistenceManager=yield Mn.create(w,[We(N._redirectPersistence)],"redirectUser"),w.redirectUser=yield w.redirectPersistenceManager.getCurrentUser()}return w.redirectPersistenceManager})()}_redirectUserForId(v){var w=this;return(0,b.Z)(function*(){var N,Z;return w._isInitialized&&(yield w.queue((0,b.Z)(function*(){}))),(null===(N=w._currentUser)||void 0===N?void 0:N._redirectEventId)===v?w._currentUser:(null===(Z=w.redirectUser)||void 0===Z?void 0:Z._redirectEventId)===v?w.redirectUser:null})()}_persistUserIfCurrent(v){var w=this;return(0,b.Z)(function*(){if(v===w.currentUser)return w.queue((0,b.Z)(function*(){return w.directlySetCurrentUser(v)}))})()}_notifyListenersIfCurrent(v){v===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var v,w;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const N=null!==(w=null===(v=this.currentUser)||void 0===v?void 0:v.uid)&&void 0!==w?w:null;this.lastNotifiedUid!==N&&(this.lastNotifiedUid=N,this.authStateSubscription.next(this.currentUser))}registerStateListener(v,w,N,Z){if(this._deleted)return()=>{};const ae="function"==typeof w?w:w.next.bind(w);let Ae=!1;const Ye=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(Ye,this,"internal-error"),Ye.then(()=>{Ae||ae(this.currentUser)}),"function"==typeof w){const Ct=v.addObserver(w,N,Z);return()=>{Ae=!0,Ct()}}{const Ct=v.addObserver(w);return()=>{Ae=!0,Ct()}}}directlySetCurrentUser(v){var w=this;return(0,b.Z)(function*(){w.currentUser&&w.currentUser!==v&&w._currentUser._stopProactiveRefresh(),v&&w.isProactiveRefreshEnabled&&v._startProactiveRefresh(),w.currentUser=v,v?yield w.assertedPersistence.setCurrentUser(v):yield w.assertedPersistence.removeCurrentUser()})()}queue(v){return this.operations=this.operations.then(v,v),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(v){!v||this.frameworks.includes(v)||(this.frameworks.push(v),this.frameworks.sort(),this.clientVersion=dr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var v=this;return(0,b.Z)(function*(){var w;const N={"X-Client-Version":v.clientVersion};v.app.options.appId&&(N["X-Firebase-gmpid"]=v.app.options.appId);const Z=yield null===(w=v.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getHeartbeatsHeader();Z&&(N["X-Firebase-Client"]=Z);const ae=yield v._getAppCheckToken();return ae&&(N["X-Firebase-AppCheck"]=ae),N})()}_getAppCheckToken(){var v=this;return(0,b.Z)(function*(){var w;const N=yield null===(w=v.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getToken();return N?.error&&function Dn(A,...v){Nt.logLevel<=be.in.WARN&&Nt.warn(`Auth (${u.Jn}): ${A}`,...v)}(`Error while retrieving App Check token: ${N.error}`),N?.token})()}}function Qr(A){return(0,re.m9)(A)}class js{constructor(v){this.auth=v,this.observer=null,this.addObserver=(0,re.ne)(w=>this.observer=w)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Gi={loadJS:()=>(0,b.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cs(A){return Gi.loadJS(A)}function As(A){return`__${A}${Math.floor(1e6*Math.random())}`}class gs{constructor(v){this.type="recaptcha-enterprise",this.auth=Qr(v)}verify(v="verify",w=!1){var N=this;return(0,b.Z)(function*(){function ae(){return ae=(0,b.Z)(function*(Ye){if(!w){if(null==Ye.tenantId&&null!=Ye._agentRecaptchaConfig)return Ye._agentRecaptchaConfig.siteKey;if(null!=Ye.tenantId&&void 0!==Ye._tenantRecaptchaConfigs[Ye.tenantId])return Ye._tenantRecaptchaConfigs[Ye.tenantId].siteKey}return new Promise(function(){var Ct=(0,b.Z)(function*(un,Bn){vt(Ye,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Lr=>{if(void 0!==Lr.recaptchaKey){const Aa=new Pe(Lr);return null==Ye.tenantId?Ye._agentRecaptchaConfig=Aa:Ye._tenantRecaptchaConfigs[Ye.tenantId]=Aa,un(Aa.siteKey)}Bn(new Error("recaptcha Enterprise site key undefined"))}).catch(Lr=>{Bn(Lr)})});return function(un,Bn){return Ct.apply(this,arguments)}}())}),ae.apply(this,arguments)}function Ae(Ye,Ct,un){const Bn=window.grecaptcha;De(Bn)?Bn.enterprise.ready(()=>{Bn.enterprise.execute(Ye,{action:v}).then(Lr=>{Ct(Lr)}).catch(()=>{Ct("NO_RECAPTCHA")})}):un(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ye,Ct)=>{(function Z(Ye){return ae.apply(this,arguments)})(N.auth).then(un=>{if(!w&&De(window.grecaptcha))Ae(un,Ye,Ct);else{if(typeof window>"u")return void Ct(new Error("RecaptchaVerifier is only supported in browser"));let Bn=function gi(){return Gi.recaptchaEnterpriseScript}();0!==Bn.length&&(Bn+=un),cs(Bn).then(()=>{Ae(un,Ye,Ct)}).catch(Lr=>{Ct(Lr)})}}).catch(un=>{Ct(un)})})})()}}function ni(A,v,w){return $s.apply(this,arguments)}function $s(){return($s=(0,b.Z)(function*(A,v,w,N=!1){const Z=new gs(A);let ae;try{ae=yield Z.verify(w)}catch{ae=yield Z.verify(w,!0)}const Ae=Object.assign({},v);return Object.assign(Ae,N?{captchaResp:ae}:{captchaResponse:ae}),Object.assign(Ae,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ae,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ae})).apply(this,arguments)}function Ns(A,v,w,N){return so.apply(this,arguments)}function so(){return so=(0,b.Z)(function*(A,v,w,N){var Z;if(null!==(Z=A._getRecaptchaConfig())&&void 0!==Z&&Z.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ae=yield ni(A,v,w,"getOobCode"===w);return N(A,ae)}return N(A,v).catch(function(){var ae=(0,b.Z)(function*(Ae){if("auth/missing-recaptcha-token"===Ae.code){console.log(`${w} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Ye=yield ni(A,v,w,"getOobCode"===w);return N(A,Ye)}return Promise.reject(Ae)});return function(Ae){return ae.apply(this,arguments)}}())}),so.apply(this,arguments)}function zs(A){const v=A.indexOf(":");return v<0?"":A.substr(0,v+1)}function Yo(A){if(!A)return null;const v=Number(A);return isNaN(v)?null:v}class Qo{constructor(v,w){this.providerId=v,this.signInMethod=w}toJSON(){return Je("not implemented")}_getIdTokenResponse(v){return Je("not implemented")}_linkToIdToken(v,w){return Je("not implemented")}_getReauthenticationResolver(v){return Je("not implemented")}}function ao(A,v){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,b.Z)(function*(A,v){return rt(A,"POST","/v1/accounts:signUp",v)})).apply(this,arguments)}function Ci(A,v){return ls.apply(this,arguments)}function ls(){return(ls=(0,b.Z)(function*(A,v){return fn(A,"POST","/v1/accounts:signInWithPassword",Ue(A,v))})).apply(this,arguments)}function Bi(){return(Bi=(0,b.Z)(function*(A,v){return rt(A,"POST","/v1/accounts:sendOobCode",Ue(A,v))})).apply(this,arguments)}function Ro(A,v){return lo.apply(this,arguments)}function lo(){return(lo=(0,b.Z)(function*(A,v){return function ci(A,v){return Bi.apply(this,arguments)}(A,v)})).apply(this,arguments)}function uo(){return(uo=(0,b.Z)(function*(A,v){return fn(A,"POST","/v1/accounts:signInWithEmailLink",Ue(A,v))})).apply(this,arguments)}function zr(){return(zr=(0,b.Z)(function*(A,v){return fn(A,"POST","/v1/accounts:signInWithEmailLink",Ue(A,v))})).apply(this,arguments)}class er extends Qo{constructor(v,w,N,Z=null){super("password",N),this._email=v,this._password=w,this._tenantId=Z}static _fromEmailAndPassword(v,w){return new er(v,w,"password")}static _fromEmailAndCode(v,w,N=null){return new er(v,w,"emailLink",N)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(v){const w="string"==typeof v?JSON.parse(v):v;if(w?.email&&w?.password){if("password"===w.signInMethod)return this._fromEmailAndPassword(w.email,w.password);if("emailLink"===w.signInMethod)return this._fromEmailAndCode(w.email,w.password,w.tenantId)}return null}_getIdTokenResponse(v){var w=this;return(0,b.Z)(function*(){switch(w.signInMethod){case"password":return Ns(v,{returnSecureToken:!0,email:w._email,password:w._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ci);case"emailLink":return function wi(A,v){return uo.apply(this,arguments)}(v,{email:w._email,oobCode:w._password});default:ft(v,"internal-error")}})()}_linkToIdToken(v,w){var N=this;return(0,b.Z)(function*(){switch(N.signInMethod){case"password":return Ns(v,{idToken:w,returnSecureToken:!0,email:N._email,password:N._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ao);case"emailLink":return function qn(A,v){return zr.apply(this,arguments)}(v,{idToken:w,email:N._email,oobCode:N._password});default:ft(v,"internal-error")}})()}_getReauthenticationResolver(v){return this._getIdTokenResponse(v)}}function ri(A,v){return ms.apply(this,arguments)}function ms(){return(ms=(0,b.Z)(function*(A,v){return fn(A,"POST","/v1/accounts:signInWithIdp",Ue(A,v))})).apply(this,arguments)}class Hn{constructor(v){var w,N,Z,ae,Ae,Ye;const Ct=(0,re.zd)((0,re.pd)(v)),un=null!==(w=Ct.apiKey)&&void 0!==w?w:null,Bn=null!==(N=Ct.oobCode)&&void 0!==N?N:null,Lr=function ho(A){switch(A){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Z=Ct.mode)&&void 0!==Z?Z:null);ve(un&&Bn&&Lr,"argument-error"),this.apiKey=un,this.operation=Lr,this.code=Bn,this.continueUrl=null!==(ae=Ct.continueUrl)&&void 0!==ae?ae:null,this.languageCode=null!==(Ae=Ct.languageCode)&&void 0!==Ae?Ae:null,this.tenantId=null!==(Ye=Ct.tenantId)&&void 0!==Ye?Ye:null}static parseLink(v){const w=function ko(A){const v=(0,re.zd)((0,re.pd)(A)).link,w=v?(0,re.zd)((0,re.pd)(v)).deep_link_id:null,N=(0,re.zd)((0,re.pd)(A)).deep_link_id;return(N?(0,re.zd)((0,re.pd)(N)).link:null)||N||w||v||A}(v);try{return new Hn(w)}catch{return null}}}let $i=(()=>{class A{constructor(){this.providerId=A.PROVIDER_ID}static credential(w,N){return er._fromEmailAndPassword(w,N)}static credentialWithLink(w,N){const Z=Hn.parseLink(N);return ve(Z,"argument-error"),er._fromEmailAndCode(w,Z.code,Z.tenantId)}}return A.PROVIDER_ID="password",A.EMAIL_PASSWORD_SIGN_IN_METHOD="password",A.EMAIL_LINK_SIGN_IN_METHOD="emailLink",A})();class xs{constructor(v){this.providerId=v,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(v){this.defaultLanguageCode=v}setCustomParameters(v){return this.customParameters=v,this}getCustomParameters(){return this.customParameters}}class Ii extends xs{constructor(){super(...arguments),this.scopes=[]}addScope(v){return this.scopes.includes(v)||this.scopes.push(v),this}getScopes(){return[...this.scopes]}}function po(A,v){return ui.apply(this,arguments)}function ui(){return(ui=(0,b.Z)(function*(A,v){return fn(A,"POST","/v1/accounts:signUp",Ue(A,v))})).apply(this,arguments)}class Si{constructor(v){this.user=v.user,this.providerId=v.providerId,this._tokenResponse=v._tokenResponse,this.operationType=v.operationType}static _fromIdTokenResponse(v,w,N,Z=!1){return(0,b.Z)(function*(){const ae=yield $._fromIdTokenResponse(v,N,Z),Ae=sc(N);return new Si({user:ae,providerId:Ae,_tokenResponse:N,operationType:w})})()}static _forOperation(v,w,N){return(0,b.Z)(function*(){yield v._updateTokensIfNecessary(N,!0);const Z=sc(N);return new Si({user:v,providerId:Z,_tokenResponse:N,operationType:w})})()}}function sc(A){return A.providerId?A.providerId:"phoneNumber"in A?"phone":null}class bc extends re.ZR{constructor(v,w,N,Z){var ae;super(w.code,w.message),this.operationType=N,this.user=Z,Object.setPrototypeOf(this,bc.prototype),this.customData={appName:v.name,tenantId:null!==(ae=v.tenantId)&&void 0!==ae?ae:void 0,_serverResponse:w.customData._serverResponse,operationType:N}}static _fromErrorAndOperation(v,w,N,Z){return new bc(v,w,N,Z)}}function Hr(A,v,w,N){return("reauthenticate"===v?w._getReauthenticationResolver(A):w._getIdTokenResponse(A)).catch(ae=>{throw"auth/multi-factor-auth-required"===ae.code?bc._fromErrorAndOperation(A,ae,v,N):ae})}function B(){return(B=(0,b.Z)(function*(A,v,w=!1){const N=yield zn(A,v._linkToIdToken(A.auth,yield A.getIdToken()),w);return Si._forOperation(A,"link",N)})).apply(this,arguments)}function Gn(){return(Gn=(0,b.Z)(function*(A,v,w=!1){const{auth:N}=A,Z="reauthenticate";try{const ae=yield zn(A,Hr(N,Z,v,A),w);ve(ae.idToken,N,"internal-error");const Ae=Yn(ae.idToken);ve(Ae,N,"internal-error");const{sub:Ye}=Ae;return ve(A.uid===Ye,N,"user-mismatch"),Si._forOperation(A,Z,ae)}catch(ae){throw"auth/user-not-found"===ae?.code&&ft(N,"user-mismatch"),ae}})).apply(this,arguments)}function es(A,v){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,b.Z)(function*(A,v,w=!1){const N="signIn",Z=yield Hr(A,N,v),ae=yield Si._fromIdTokenResponse(A,N,Z);return w||(yield A._updateCurrentUser(ae.user)),ae})).apply(this,arguments)}function Ai(A,v){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,b.Z)(function*(A,v){return es(Qr(A),v)})).apply(this,arguments)}function yl(A){return mi.apply(this,arguments)}function mi(){return(mi=(0,b.Z)(function*(A){const v=Qr(A);v._getPasswordPolicyInternal()&&(yield v._updatePasswordPolicy())})).apply(this,arguments)}function Ec(){return(Ec=(0,b.Z)(function*(A,v,w){const N=Qr(A),Z={requestType:"PASSWORD_RESET",email:v,clientType:"CLIENT_TYPE_WEB"};w&&function mo(A,v,w){var N;ve((null===(N=w.url)||void 0===N?void 0:N.length)>0,A,"invalid-continue-uri"),ve(typeof w.dynamicLinkDomain>"u"||w.dynamicLinkDomain.length>0,A,"invalid-dynamic-link-domain"),v.continueUrl=w.url,v.dynamicLinkDomain=w.dynamicLinkDomain,v.canHandleCodeInApp=w.handleCodeInApp,w.iOS&&(ve(w.iOS.bundleId.length>0,A,"missing-ios-bundle-id"),v.iOSBundleId=w.iOS.bundleId),w.android&&(ve(w.android.packageName.length>0,A,"missing-android-pkg-name"),v.androidInstallApp=w.android.installApp,v.androidMinimumVersionCode=w.android.minimumVersion,v.androidPackageName=w.android.packageName)}(N,Z,w),yield Ns(N,Z,"getOobCode",Ro)})).apply(this,arguments)}function ra(){return(ra=(0,b.Z)(function*(A,v,w){const N=Qr(A),Ae=yield Ns(N,{returnSecureToken:!0,email:v,password:w,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",po).catch(Ct=>{throw"auth/password-does-not-meet-requirements"===Ct.code&&yl(A),Ct}),Ye=yield Si._fromIdTokenResponse(N,"signIn",Ae);return yield N._updateCurrentUser(Ye.user),Ye})).apply(this,arguments)}function oa(){return(oa=(0,b.Z)(function*(A){return(0,re.m9)(A).delete()})).apply(this,arguments)}const gn="__sak";class is{constructor(v,w){this.storageRetriever=v,this.type=w}_isAvailable(){try{return this.storage?(this.storage.setItem(gn,"1"),this.storage.removeItem(gn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(v,w){return this.storage.setItem(v,JSON.stringify(w)),Promise.resolve()}_get(v){const w=this.storage.getItem(v);return Promise.resolve(w?JSON.parse(w):null)}_remove(v){return this.storage.removeItem(v),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vl=(()=>{class A extends is{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(w,N)=>this.onStorageEvent(w,N),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function gg(){const A=(0,re.z$)();return $r(A)||Ba(A)}()&&function Ji(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ps(),this._shouldAllowMigration=!0}forAllChangedKeys(w){for(const N of Object.keys(this.listeners)){const Z=this.storage.getItem(N),ae=this.localCache[N];Z!==ae&&w(N,ae,Z)}}onStorageEvent(w,N=!1){if(!w.key)return void this.forAllChangedKeys((Ye,Ct,un)=>{this.notifyListeners(Ye,un)});const Z=w.key;if(N?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ye=this.storage.getItem(Z);if(w.newValue!==Ye)null!==w.newValue?this.storage.setItem(Z,w.newValue):this.storage.removeItem(Z);else if(this.localCache[Z]===w.newValue&&!N)return}const ae=()=>{const Ye=this.storage.getItem(Z);!N&&this.localCache[Z]===Ye||this.notifyListeners(Z,Ye)},Ae=this.storage.getItem(Z);!function Mo(){return(0,re.w1)()&&10===document.documentMode}()||Ae===w.newValue||w.newValue===w.oldValue?ae():setTimeout(ae,10)}notifyListeners(w,N){this.localCache[w]=N;const Z=this.listeners[w];if(Z)for(const ae of Array.from(Z))ae(N&&JSON.parse(N))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((w,N,Z)=>{this.onStorageEvent(new StorageEvent("storage",{key:w,oldValue:N,newValue:Z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(w,N){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[w]||(this.listeners[w]=new Set,this.localCache[w]=this.storage.getItem(w)),this.listeners[w].add(N)}_removeListener(w,N){this.listeners[w]&&(this.listeners[w].delete(N),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(w,N){var Z=()=>super._set,ae=this;return(0,b.Z)(function*(){yield Z().call(ae,w,N),ae.localCache[w]=JSON.stringify(N)})()}_get(w){var N=()=>super._get,Z=this;return(0,b.Z)(function*(){const ae=yield N().call(Z,w);return Z.localCache[w]=JSON.stringify(ae),ae})()}_remove(w){var N=()=>super._remove,Z=this;return(0,b.Z)(function*(){yield N().call(Z,w),delete Z.localCache[w]})()}}return A.type="LOCAL",A})(),Yc=(()=>{class A extends is{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(w,N){}_removeListener(w,N){}}return A.type="SESSION",A})();let Qu=(()=>{class A{constructor(w){this.eventTarget=w,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(w){const N=this.receivers.find(ae=>ae.isListeningto(w));if(N)return N;const Z=new A(w);return this.receivers.push(Z),Z}isListeningto(w){return this.eventTarget===w}handleEvent(w){var N=this;return(0,b.Z)(function*(){const Z=w,{eventId:ae,eventType:Ae,data:Ye}=Z.data,Ct=N.handlersMap[Ae];if(!Ct?.size)return;Z.ports[0].postMessage({status:"ack",eventId:ae,eventType:Ae});const un=Array.from(Ct).map(function(){var Lr=(0,b.Z)(function*(Aa){return Aa(Z.origin,Ye)});return function(Aa){return Lr.apply(this,arguments)}}()),Bn=yield function fu(A){return Promise.all(A.map(function(){var v=(0,b.Z)(function*(w){try{return{fulfilled:!0,value:yield w}}catch(N){return{fulfilled:!1,reason:N}}});return function(w){return v.apply(this,arguments)}}()))}(un);Z.ports[0].postMessage({status:"done",eventId:ae,eventType:Ae,response:Bn})})()}_subscribe(w,N){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[w]||(this.handlersMap[w]=new Set),this.handlersMap[w].add(N)}_unsubscribe(w,N){this.handlersMap[w]&&N&&this.handlersMap[w].delete(N),(!N||0===this.handlersMap[w].size)&&delete this.handlersMap[w],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return A.receivers=[],A})();function pu(A="",v=10){let w="";for(let N=0;N<v;N++)w+=Math.floor(10*Math.random());return A+w}class gu{constructor(v){this.target=v,this.handlers=new Set}removeMessageHandler(v){v.messageChannel&&(v.messageChannel.port1.removeEventListener("message",v.onMessage),v.messageChannel.port1.close()),this.handlers.delete(v)}_send(v,w,N=50){var Z=this;return(0,b.Z)(function*(){const ae=typeof MessageChannel<"u"?new MessageChannel:null;if(!ae)throw new Error("connection_unavailable");let Ae,Ye;return new Promise((Ct,un)=>{const Bn=pu("",20);ae.port1.start();const Lr=setTimeout(()=>{un(new Error("unsupported_event"))},N);Ye={messageChannel:ae,onMessage(Aa){const rl=Aa;if(rl.data.eventId===Bn)switch(rl.data.status){case"ack":clearTimeout(Lr),Ae=setTimeout(()=>{un(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ae),Ct(rl.data.response);break;default:clearTimeout(Lr),clearTimeout(Ae),un(new Error("invalid_response"))}}},Z.handlers.add(Ye),ae.port1.addEventListener("message",Ye.onMessage),Z.target.postMessage({eventType:v,eventId:Bn,data:w},[ae.port2])}).finally(()=>{Ye&&Z.removeMessageHandler(Ye)})})()}}function ht(){return window}function Ju(){return typeof ht().WorkerGlobalScope<"u"&&"function"==typeof ht().importScripts}function ss(){return(ss=(0,b.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const vo="firebaseLocalStorageDb",lc="firebaseLocalStorage",_u="fbase_key";class Sc{constructor(v){this.request=v}toPromise(){return new Promise((v,w)=>{this.request.addEventListener("success",()=>{v(this.request.result)}),this.request.addEventListener("error",()=>{w(this.request.error)})})}}function Wa(A,v){return A.transaction([lc],v?"readwrite":"readonly").objectStore(lc)}function aa(){const A=indexedDB.open(vo,1);return new Promise((v,w)=>{A.addEventListener("error",()=>{w(A.error)}),A.addEventListener("upgradeneeded",()=>{const N=A.result;try{N.createObjectStore(lc,{keyPath:_u})}catch(Z){w(Z)}}),A.addEventListener("success",(0,b.Z)(function*(){const N=A.result;N.objectStoreNames.contains(lc)?v(N):(N.close(),yield function ks(){const A=indexedDB.deleteDatabase(vo);return new Sc(A).toPromise()}(),v(yield aa()))}))})}function uc(A,v,w){return qa.apply(this,arguments)}function qa(){return(qa=(0,b.Z)(function*(A,v,w){const N=Wa(A,!0).put({[_u]:v,value:w});return new Sc(N).toPromise()})).apply(this,arguments)}function ed(){return(ed=(0,b.Z)(function*(A,v){const w=Wa(A,!1).get(v),N=yield new Sc(w).toPromise();return void 0===N?null:N.value})).apply(this,arguments)}function Ul(A,v){const w=Wa(A,!0).delete(v);return new Sc(w).toPromise()}const x=(()=>{class A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var w=this;return(0,b.Z)(function*(){return w.db||(w.db=yield aa()),w.db})()}_withRetries(w){var N=this;return(0,b.Z)(function*(){let Z=0;for(;;)try{const ae=yield N._openDb();return yield w(ae)}catch(ae){if(Z++>3)throw ae;N.db&&(N.db.close(),N.db=void 0)}})()}initializeServiceWorkerMessaging(){var w=this;return(0,b.Z)(function*(){return Ju()?w.initializeReceiver():w.initializeSender()})()}initializeReceiver(){var w=this;return(0,b.Z)(function*(){w.receiver=Qu._getInstance(function wl(){return Ju()?self:null}()),w.receiver._subscribe("keyChanged",function(){var N=(0,b.Z)(function*(Z,ae){return{keyProcessed:(yield w._poll()).includes(ae.key)}});return function(Z,ae){return N.apply(this,arguments)}}()),w.receiver._subscribe("ping",function(){var N=(0,b.Z)(function*(Z,ae){return["keyChanged"]});return function(Z,ae){return N.apply(this,arguments)}}())})()}initializeSender(){var w=this;return(0,b.Z)(function*(){var N,Z;if(w.activeServiceWorker=yield function Fd(){return ss.apply(this,arguments)}(),!w.activeServiceWorker)return;w.sender=new gu(w.activeServiceWorker);const ae=yield w.sender._send("ping",{},800);ae&&null!==(N=ae[0])&&void 0!==N&&N.fulfilled&&null!==(Z=ae[0])&&void 0!==Z&&Z.value.includes("keyChanged")&&(w.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(w){var N=this;return(0,b.Z)(function*(){if(N.sender&&N.activeServiceWorker&&function Xu(){var A;return(null===(A=navigator?.serviceWorker)||void 0===A?void 0:A.controller)||null}()===N.activeServiceWorker)try{yield N.sender._send("keyChanged",{key:w},N.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,b.Z)(function*(){try{if(!indexedDB)return!1;const w=yield aa();return yield uc(w,gn,"1"),yield Ul(w,gn),!0}catch{}return!1})()}_withPendingWrite(w){var N=this;return(0,b.Z)(function*(){N.pendingWrites++;try{yield w()}finally{N.pendingWrites--}})()}_set(w,N){var Z=this;return(0,b.Z)(function*(){return Z._withPendingWrite((0,b.Z)(function*(){return yield Z._withRetries(ae=>uc(ae,w,N)),Z.localCache[w]=N,Z.notifyServiceWorker(w)}))})()}_get(w){var N=this;return(0,b.Z)(function*(){const Z=yield N._withRetries(ae=>function Da(A,v){return ed.apply(this,arguments)}(ae,w));return N.localCache[w]=Z,Z})()}_remove(w){var N=this;return(0,b.Z)(function*(){return N._withPendingWrite((0,b.Z)(function*(){return yield N._withRetries(Z=>Ul(Z,w)),delete N.localCache[w],N.notifyServiceWorker(w)}))})()}_poll(){var w=this;return(0,b.Z)(function*(){const N=yield w._withRetries(Ae=>{const Ye=Wa(Ae,!1).getAll();return new Sc(Ye).toPromise()});if(!N)return[];if(0!==w.pendingWrites)return[];const Z=[],ae=new Set;if(0!==N.length)for(const{fbase_key:Ae,value:Ye}of N)ae.add(Ae),JSON.stringify(w.localCache[Ae])!==JSON.stringify(Ye)&&(w.notifyListeners(Ae,Ye),Z.push(Ae));for(const Ae of Object.keys(w.localCache))w.localCache[Ae]&&!ae.has(Ae)&&(w.notifyListeners(Ae,null),Z.push(Ae));return Z})()}notifyListeners(w,N){this.localCache[w]=N;const Z=this.listeners[w];if(Z)for(const ae of Array.from(Z))ae(N)}startPolling(){var w=this;this.stopPolling(),this.pollTimer=setInterval((0,b.Z)(function*(){return w._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(w,N){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[w]||(this.listeners[w]=new Set,this._get(w)),this.listeners[w].add(N)}_removeListener(w,N){this.listeners[w]&&(this.listeners[w].delete(N),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return A.type="LOCAL",A})();As("rcb"),new cr(3e4,6e4);class El extends Qo{constructor(v){super("custom","custom"),this.params=v}_getIdTokenResponse(v){return ri(v,this._buildIdpRequest())}_linkToIdToken(v,w){return ri(v,this._buildIdpRequest(w))}_getReauthenticationResolver(v){return ri(v,this._buildIdpRequest())}_buildIdpRequest(v){const w={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return v&&(w.idToken=v),w}}function nd(A){return es(A.auth,new El(A),A.bypassAuthState)}function Nh(A){const{auth:v,user:w}=A;return ve(w,v,"internal-error"),function Jt(A,v){return Gn.apply(this,arguments)}(w,new El(A),A.bypassAuthState)}function Oh(A){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,b.Z)(function*(A){const{auth:v,user:w}=A;return ve(w,v,"internal-error"),function X(A,v){return B.apply(this,arguments)}(w,new El(A),A.bypassAuthState)})).apply(this,arguments)}class mg{constructor(v,w,N,Z,ae=!1){this.auth=v,this.resolver=N,this.user=Z,this.bypassAuthState=ae,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(w)?w:[w]}execute(){var v=this;return new Promise(function(){var w=(0,b.Z)(function*(N,Z){v.pendingPromise={resolve:N,reject:Z};try{v.eventManager=yield v.resolver._initialize(v.auth),yield v.onExecution(),v.eventManager.registerConsumer(v)}catch(ae){v.reject(ae)}});return function(N,Z){return w.apply(this,arguments)}}())}onAuthEvent(v){var w=this;return(0,b.Z)(function*(){const{urlResponse:N,sessionId:Z,postBody:ae,tenantId:Ae,error:Ye,type:Ct}=v;if(Ye)return void w.reject(Ye);const un={auth:w.auth,requestUri:N,sessionId:Z,tenantId:Ae||void 0,postBody:ae||void 0,user:w.user,bypassAuthState:w.bypassAuthState};try{w.resolve(yield w.getIdpTask(Ct)(un))}catch(Bn){w.reject(Bn)}})()}onError(v){this.reject(v)}getIdpTask(v){switch(v){case"signInViaPopup":case"signInViaRedirect":return nd;case"linkViaPopup":case"linkViaRedirect":return Oh;case"reauthViaPopup":case"reauthViaRedirect":return Nh;default:ft(this.auth,"internal-error")}}resolve(v){mt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(v),this.unregisterAndCleanUp()}reject(v){mt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(v),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new cr(2e3,1e4);const Iu="pendingRedirect",Xc=new Map;class _g extends mg{constructor(v,w,N=!1){super(v,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],w,void 0,N),this.eventId=null}execute(){var v=()=>super.execute,w=this;return(0,b.Z)(function*(){let N=Xc.get(w.auth._key());if(!N){try{const ae=(yield function Eu(A,v){return rd.apply(this,arguments)}(w.resolver,w.auth))?yield v().call(w):null;N=()=>Promise.resolve(ae)}catch(Z){N=()=>Promise.reject(Z)}Xc.set(w.auth._key(),N)}return w.bypassAuthState||Xc.set(w.auth._key(),()=>Promise.resolve(null)),N()})()}onAuthEvent(v){var w=()=>super.onAuthEvent,N=this;return(0,b.Z)(function*(){if("signInViaRedirect"===v.type)return w().call(N,v);if("unknown"!==v.type){if(v.eventId){const Z=yield N.auth._redirectUserForId(v.eventId);if(Z)return N.user=Z,w().call(N,v);N.resolve(null)}}else N.resolve(null)})()}onExecution(){return(0,b.Z)(function*(){})()}cleanUp(){}}function rd(){return(rd=(0,b.Z)(function*(A,v){const w=function Du(A){return pn(Iu,A.config.apiKey,A.name)}(v),N=function el(A){return We(A._redirectPersistence)}(A);if(!(yield N._isAvailable()))return!1;const Z="true"===(yield N._get(w));return yield N._remove(w),Z})).apply(this,arguments)}function Tl(A,v){Xc.set(A._key(),v)}function Ac(A,v){return Su.apply(this,arguments)}function Su(){return(Su=(0,b.Z)(function*(A,v,w=!1){const N=Qr(A),Z=function hc(A,v){return v?We(v):(ve(A._popupRedirectResolver,A,"argument-error"),A._popupRedirectResolver)}(N,v),Ae=yield new _g(N,Z,w).execute();return Ae&&!w&&(delete Ae.user._redirectEventId,yield N._persistUserIfCurrent(Ae.user),yield N._setRedirectUser(null,v)),Ae})).apply(this,arguments)}class jd{constructor(v){this.auth=v,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(v){this.consumers.add(v),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,v)&&(this.sendToConsumer(this.queuedRedirectEvent,v),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(v){this.consumers.delete(v)}onEvent(v){if(this.hasEventBeenHandled(v))return!1;let w=!1;return this.consumers.forEach(N=>{this.isEventForConsumer(v,N)&&(w=!0,this.sendToConsumer(v,N),this.saveEventToCache(v))}),this.hasHandledPotentialRedirect||!function Jf(A){switch(A.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sd(A);default:return!1}}(v)||(this.hasHandledPotentialRedirect=!0,w||(this.queuedRedirectEvent=v,w=!0)),w}sendToConsumer(v,w){var N;if(v.error&&!sd(v)){const Z=(null===(N=v.error.code)||void 0===N?void 0:N.split("auth/")[1])||"internal-error";w.onError(st(this.auth,Z))}else w.onAuthEvent(v)}isEventForConsumer(v,w){const N=null===w.eventId||!!v.eventId&&v.eventId===w.eventId;return w.filter.includes(v.type)&&N}hasEventBeenHandled(v){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($d(v))}saveEventToCache(v){this.cachedEventUids.add($d(v)),this.lastProcessedEventTime=Date.now()}}function $d(A){return[A.type,A.eventId,A.sessionId,A.tenantId].filter(v=>v).join("-")}function sd({type:A,error:v}){return"unknown"===A&&"auth/no-auth-event"===v?.code}function L(){return(L=(0,b.Z)(function*(A,v={}){return rt(A,"GET","/v1/projects",v)})).apply(this,arguments)}const Q=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,he=/^https?/;function Le(){return Le=(0,b.Z)(function*(A){if(A.config.emulator)return;const{authorizedDomains:v}=yield function O(A){return L.apply(this,arguments)}(A);for(const w of v)try{if(ot(w))return}catch{}ft(A,"unauthorized-domain")}),Le.apply(this,arguments)}function ot(A){const v=kn(),{protocol:w,hostname:N}=new URL(v);if(A.startsWith("chrome-extension://")){const Ae=new URL(A);return""===Ae.hostname&&""===N?"chrome-extension:"===w&&A.replace("chrome-extension://","")===v.replace("chrome-extension://",""):"chrome-extension:"===w&&Ae.hostname===N}if(!he.test(w))return!1;if(Q.test(A))return N===A;const Z=A.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Z+"|"+Z+")$","i").test(N)}const jt=new cr(3e4,6e4);function $t(){const A=ht().___jsl;if(A?.H)for(const v of Object.keys(A.H))if(A.H[v].r=A.H[v].r||[],A.H[v].L=A.H[v].L||[],A.H[v].r=[...A.H[v].L],A.CP)for(let w=0;w<A.CP.length;w++)A.CP[w]=null}let Kn=null;const Ka=new cr(5e3,15e3),bo="__/auth/iframe",xh="emulator/auth/iframe",Rh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ya=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fc(A){const v=A.config;ve(v.authDomain,A,"auth-domain-config-required");const w=v.emulator?vr(v,xh):`https://${A.config.authDomain}/${bo}`,N={apiKey:v.apiKey,appName:A.name,v:u.Jn},Z=Ya.get(A.config.apiHost);Z&&(N.eid=Z);const ae=A._getFrameworks();return ae.length&&(N.fw=ae.join(",")),`${w}?${(0,re.xO)(N).slice(1)}`}function qi(){return qi=(0,b.Z)(function*(A){const v=yield function sr(A){return Kn=Kn||function vn(A){return new Promise((v,w)=>{var N,Z,ae;function Ae(){$t(),gapi.load("gapi.iframes",{callback:()=>{v(gapi.iframes.getContext())},ontimeout:()=>{$t(),w(st(A,"network-request-failed"))},timeout:jt.get()})}if(null!==(Z=null===(N=ht().gapi)||void 0===N?void 0:N.iframes)&&void 0!==Z&&Z.Iframe)v(gapi.iframes.getContext());else{if(null===(ae=ht().gapi)||void 0===ae||!ae.load){const Ye=As("iframefcb");return ht()[Ye]=()=>{gapi.load?Ae():w(st(A,"network-request-failed"))},cs(`${function Ua(){return Gi.gapiScript}()}?onload=${Ye}`).catch(Ct=>w(Ct))}Ae()}}).catch(v=>{throw Kn=null,v})}(A),Kn}(A),w=ht().gapi;return ve(w,A,"internal-error"),v.open({where:document.body,url:fc(A),messageHandlersFilter:w.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rh,dontclear:!0},N=>new Promise(function(){var Z=(0,b.Z)(function*(ae,Ae){yield N.restyle({setHideOnLeave:!1});const Ye=st(A,"network-request-failed"),Ct=ht().setTimeout(()=>{Ae(Ye)},Ka.get());function un(){ht().clearTimeout(Ct),ae(N)}N.ping(un).then(un,()=>{Ae(Ye)})});return function(ae,Ae){return Z.apply(this,arguments)}}()))}),qi.apply(this,arguments)}const h_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ph{constructor(v){this.window=v,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const p_="__/auth/handler",g_="emulator/auth/handler",m_=encodeURIComponent("fac");function tv(A,v,w,N,Z,ae){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,b.Z)(function*(A,v,w,N,Z,ae){ve(A.config.authDomain,A,"auth-domain-config-required"),ve(A.config.apiKey,A,"invalid-api-key");const Ae={apiKey:A.config.apiKey,appName:A.name,authType:w,redirectUrl:N,v:u.Jn,eventId:Z};if(v instanceof xs){v.setDefaultLanguage(A.languageCode),Ae.providerId=v.providerId||"",(0,re.xb)(v.getCustomParameters())||(Ae.customParameters=JSON.stringify(v.getCustomParameters()));for(const[Bn,Lr]of Object.entries(ae||{}))Ae[Bn]=Lr}if(v instanceof Ii){const Bn=v.getScopes().filter(Lr=>""!==Lr);Bn.length>0&&(Ae.scopes=Bn.join(","))}A.tenantId&&(Ae.tid=A.tenantId);const Ye=Ae;for(const Bn of Object.keys(Ye))void 0===Ye[Bn]&&delete Ye[Bn];const Ct=yield A._getAppCheckToken(),un=Ct?`#${m_}=${encodeURIComponent(Ct)}`:"";return`${function ep({config:A}){return A.emulator?vr(A,g_):`https://${A.authDomain}/${p_}`}(A)}?${(0,re.xO)(Ye).slice(1)}${un}`})).apply(this,arguments)}const Zl="webStorageSupport",la=class nv{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yc,this._completeRedirectFn=Ac,this._overrideRedirectResult=Tl}_openPopup(v,w,N,Z){var ae=this;return(0,b.Z)(function*(){var Ae;mt(null===(Ae=ae.eventManagers[v._key()])||void 0===Ae?void 0:Ae.manager,"_initialize() not called before _openPopup()");const Ye=yield tv(v,w,N,kn(),Z);return function kh(A,v,w,N=500,Z=600){const ae=Math.max((window.screen.availHeight-Z)/2,0).toString(),Ae=Math.max((window.screen.availWidth-N)/2,0).toString();let Ye="";const Ct=Object.assign(Object.assign({},h_),{width:N.toString(),height:Z.toString(),top:ae,left:Ae}),un=(0,re.z$)().toLowerCase();w&&(Ye=nr(un)?"_blank":w),Fn(un)&&(v=v||"http://localhost",Ct.scrollbars="yes");const Bn=Object.entries(Ct).reduce((Aa,[rl,bg])=>`${Aa}${rl}=${bg},`,"");if(function Vr(A=(0,re.z$)()){var v;return Ba(A)&&!(null===(v=window.navigator)||void 0===v||!v.standalone)}(un)&&"_self"!==Ye)return function ql(A,v){const w=document.createElement("a");w.href=A,w.target=v;const N=document.createEvent("MouseEvent");N.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),w.dispatchEvent(N)}(v||"",Ye),new Ph(null);const Lr=window.open(v||"",Ye,Bn);ve(Lr,A,"popup-blocked");try{Lr.focus()}catch{}return new Ph(Lr)}(v,Ye,pu())})()}_openRedirect(v,w,N,Z){var ae=this;return(0,b.Z)(function*(){return yield ae._originValidation(v),function Cr(A){ht().location.href=A}(yield tv(v,w,N,kn(),Z)),new Promise(()=>{})})()}_initialize(v){const w=v._key();if(this.eventManagers[w]){const{manager:Z,promise:ae}=this.eventManagers[w];return Z?Promise.resolve(Z):(mt(ae,"If manager is not set, promise should be"),ae)}const N=this.initAndGetManager(v);return this.eventManagers[w]={promise:N},N.catch(()=>{delete this.eventManagers[w]}),N}initAndGetManager(v){var w=this;return(0,b.Z)(function*(){const N=yield function Nc(A){return qi.apply(this,arguments)}(v),Z=new jd(v);return N.register("authEvent",ae=>(ve(ae?.authEvent,v,"invalid-auth-event"),{status:Z.onEvent(ae.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),w.eventManagers[v._key()]={manager:Z},w.iframes[v._key()]=N,Z})()}_isIframeWebStorageSupported(v,w){this.iframes[v._key()].send(Zl,{type:Zl},Z=>{var ae;const Ae=null===(ae=Z?.[0])||void 0===ae?void 0:ae[Zl];void 0!==Ae&&w(!!Ae),ft(v,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(v){const w=v._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function Ne(A){return Le.apply(this,arguments)}(v)),this.originValidationPromises[w]}get _shouldInitProactively(){return ps()||$r()||Ba()}};var od="@firebase/auth";class np{constructor(v){this.auth=v,this.internalListeners=new Map}getUid(){var v;return this.assertAuthConfigured(),(null===(v=this.auth.currentUser)||void 0===v?void 0:v.uid)||null}getToken(v){var w=this;return(0,b.Z)(function*(){return w.assertAuthConfigured(),yield w.auth._initializationPromise,w.auth.currentUser?{accessToken:yield w.auth.currentUser.getIdToken(v)}:null})()}addAuthTokenListener(v){if(this.assertAuthConfigured(),this.internalListeners.has(v))return;const w=this.auth.onIdTokenChanged(N=>{v(N?.stsTokenManager.accessToken||null)});this.internalListeners.set(v,w),this.updateProactiveRefresh()}removeAuthTokenListener(v){this.assertAuthConfigured();const w=this.internalListeners.get(v);w&&(this.internalListeners.delete(v),w(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const vg=(0,re.Pz)("authIdTokenMaxAge")||300;let ip=null;const Fh=A=>function(){var v=(0,b.Z)(function*(w){const N=w&&(yield w.getIdTokenResult()),Z=N&&((new Date).getTime()-Date.parse(N.issuedAtTime))/1e3;if(Z&&Z>vg)return;const ae=N?.token;ip!==ae&&(ip=ae,yield fetch(A,{method:ae?"POST":"DELETE",headers:ae?{Authorization:`Bearer ${ae}`}:{}}))});return function(w){return v.apply(this,arguments)}}();function Wd(A=(0,u.Mq)()){const v=(0,u.qX)(A,"auth");if(v.isInitialized())return v.getImmediate();const w=function va(A,v){const w=(0,u.qX)(A,"auth");if(w.isInitialized()){const Z=w.getImmediate(),ae=w.getOptions();if((0,re.vZ)(ae,v??{}))return Z;ft(Z,"already-initialized")}return w.initialize({options:v})}(A,{popupRedirectResolver:la,persistence:[x,Vl,Yc]}),N=(0,re.Pz)("authTokenSyncURL");if(N&&N.match(/^\/[^\/].*/)){const ae=Fh(N);(function ac(A,v,w){(0,re.m9)(A).beforeAuthStateChanged(v,w)})(w,ae,()=>ae(w.currentUser)),function hs(A,v,w,N){(0,re.m9)(A).onIdTokenChanged(v,w,N)}(w,Ae=>ae(Ae))}const Z=(0,re.q4)("auth");return Z&&function Li(A,v,w){const N=Qr(A);ve(N._canInitEmulator,N,"emulator-config-failed"),ve(/^https?:\/\//.test(v),N,"invalid-emulator-scheme");const Z=!!w?.disableWarnings,ae=zs(v),{host:Ae,port:Ye}=function ic(A){const v=zs(A),w=/(\/\/)?([^?#/]+)/.exec(A.substr(v.length));if(!w)return{host:"",port:null};const N=w[2].split("@").pop()||"",Z=/^(\[[^\]]+\])(:|$)/.exec(N);if(Z){const ae=Z[1];return{host:ae,port:Yo(N.substr(ae.length+1))}}{const[ae,Ae]=N.split(":");return{host:ae,port:Yo(Ae)}}}(v);N.config.emulator={url:`${ae}//${Ae}${null===Ye?"":`:${Ye}`}/`},N.settings.appVerificationDisabledForTesting=!0,N.emulatorConfig=Object.freeze({host:Ae,port:Ye,protocol:ae.replace(":",""),options:Object.freeze({disableWarnings:Z})}),Z||function Os(){function A(){const v=document.createElement("p"),w=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",w.position="fixed",w.width="100%",w.backgroundColor="#ffffff",w.border=".1em solid #000000",w.color="#b50000",w.bottom="0px",w.left="0px",w.margin="0px",w.zIndex="10000",w.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",A):A())}()}(w,`http://${Z}`),w}(function nc(A){Gi=A})({loadJS:A=>new Promise((v,w)=>{const N=document.createElement("script");N.setAttribute("src",A),N.onload=v,N.onerror=Z=>{const ae=st("internal-error");ae.customData=Z,w(ae)},N.type="text/javascript",N.charset="UTF-8",function iv(){var A,v;return null!==(v=null===(A=document.getElementsByTagName("head"))||void 0===A?void 0:A[0])&&void 0!==v?v:document}().appendChild(N)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function rp(A){(0,u.Xd)(new fe.wA("auth",(v,{options:w})=>{const N=v.getProvider("app").getImmediate(),Z=v.getProvider("heartbeat"),ae=v.getProvider("app-check-internal"),{apiKey:Ae,authDomain:Ye}=N.options;ve(Ae&&!Ae.includes(":"),"invalid-api-key",{appName:N.name});const Ct={apiKey:Ae,authDomain:Ye,clientPlatform:A,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dr(A)},un=new Ss(N,Z,ae,Ct);return function Di(A,v){const w=v?.persistence||[],N=(Array.isArray(w)?w:[w]).map(We);v?.errorMap&&A._updateErrorMap(v.errorMap),A._initializeWithPersistence(N,v?.popupRedirectResolver)}(un,w),un},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,w,N)=>{v.getProvider("auth-internal").initialize()})),(0,u.Xd)(new fe.wA("auth-internal",v=>{const w=Qr(v.getProvider("auth").getImmediate());return new np(w)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,u.KN)(od,"1.6.2",function ad(A){switch(A){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(A)),(0,u.KN)(od,"1.6.2","esm2017")}("Browser");var Lh=K(5619),Fs=K(8180),Vo=K(3477),sp=K(9468),__=K(6024),Bh=K(4456);let y_=(()=>{class A{constructor(w,N,Z){this.firestore=w,this.router=N,this.globalErrorHandler=Z,this.userDataSubject=new Lh.X(null),this.userData$=this.userDataSubject.asObservable(),this.collectionName="Auth";const ae=localStorage.getItem("user");if(ae){const Ae=JSON.parse(ae);this.userDataSubject.next(Ae)}}registerUser(w,N,Z){var ae=this;return(0,b.Z)(function*(){try{const Ae=yield ae.createUserWithEmailAndPassword(w,N),Ye=Ae.user.uid;yield ae.addAdditionalAuthData(Ye,Z),yield ae.saveUserData(Ae.user,Z),ae.router.navigate(["recipes-list"])}catch(Ae){ae.globalErrorHandler.handleError(Ae)}})()}loginUser(w,N){var Z=this;return(0,b.Z)(function*(){try{const ae=yield Z.signInWithEmailAndPassword(w,N),Ae=ae.user.uid,Ye=yield Z.getAdditionalAuthDataById(Ae);yield Z.saveUserData(ae.user,Ye),yield Z.router.navigate(["recipes-list"])}catch(ae){Z.globalErrorHandler.handleError(ae)}})()}logoutUser(){var w=this;return(0,b.Z)(function*(){try{yield w.signOutAuth(),yield w.clearUserData(),w.router.navigate(["login"])}catch(N){console.error(N)}})()}deleteUserAccount(){var w=this;return(0,b.Z)(function*(){try{const Z=Wd().currentUser;Z?(yield function Pd(A){return oa.apply(this,arguments)}(Z),yield w.deleteAdditionalAuthData(Z.uid),yield w.clearUserData(),w.router.navigate(["login"])):console.error("No user found to delete.")}catch(N){console.error("No user found to delete.",N)}})()}forgotPassword(w){var N=this;return(0,b.Z)(function*(){try{yield N.sendPasswordResetEmail(w),N.globalErrorHandler.handleError("Password reset email sent, check your inbox."),yield N.router.navigate(["login"])}catch(Z){N.globalErrorHandler.handleError(Z)}})()}updateFavoriteRecipes(w,N,Z){var ae=this;return(0,b.Z)(function*(){const Ae=(0,Vo.JU)(ae.firestore,ae.collectionName,N);try{Z?(console.log("remove"),yield(0,Vo.r7)(Ae,{favoriteRecipes:(0,Vo.Ab)(w)})):(console.log("add"),yield(0,Vo.r7)(Ae,{favoriteRecipes:(0,Vo.vr)(w)})),console.log("Favorite recipes updated successfully");const Ye=yield ae.getAdditionalAuthDataById(N);ae.userData$.pipe((0,Fs.q)(1)).subscribe(Ct=>{Ct?ae.saveUserData(Ct,Ye).then(()=>console.log("User data saved successfully")).catch(()=>console.error("Failed to save user data")):console.error("User is null")})}catch(Ye){ae.globalErrorHandler.handleError(Ye)}})()}sendPasswordResetEmail(w){return function $c(A,v,w){return Ec.apply(this,arguments)}(Wd(),w)}createUserWithEmailAndPassword(w,N){return function oc(A,v,w){return ra.apply(this,arguments)}(Wd(),w,N)}signInWithEmailAndPassword(w,N){return function ia(A,v,w){return Ai((0,re.m9)(A),$i.credential(v,w)).catch(function(){var N=(0,b.Z)(function*(Z){throw"auth/password-does-not-meet-requirements"===Z.code&&yl(A),Z});return function(Z){return N.apply(this,arguments)}}())}(Wd(),w,N)}signOutAuth(){return function yo(A){return(0,re.m9)(A).signOut()}(Wd())}addAdditionalAuthData(w,N){return(0,Vo.pl)((0,Vo.JU)(this.firestore,this.collectionName,w),N)}getAdditionalAuthDataById(w){var N=this;return(0,b.Z)(function*(){const Z=(0,Vo.JU)(N.firestore,N.collectionName,w),ae=yield(0,Vo.QT)(Z);return ae.exists()?ae.data():null})()}updateAdditionalAuthData(w,N){if(N){const Z=(0,Vo.JU)(this.firestore,this.collectionName,N),ae={...w};(0,Vo.r7)(Z,ae).then(()=>{console.log("Document successfully updated"),this.router.navigate(["/dashboard/user-info"])}).then(()=>{this.userData$.pipe((0,Fs.q)(1)).subscribe(Ae=>{Ae?this.saveUserData(Ae,w).then(()=>console.log("User data saved successfully")).catch(()=>console.error("Failed to save user data")):console.error("User is null")})}).catch(Ae=>{this.globalErrorHandler.handleError(Ae)})}else this.globalErrorHandler.handleError("Invalid uid.")}deleteAdditionalAuthData(w){var N=this;return(0,b.Z)(function*(){try{const Z=(0,Vo.JU)(N.firestore,N.collectionName,w);yield(0,Vo.oe)(Z),console.log("Recipe deleted successfully:",w)}catch(Z){throw N.globalErrorHandler.handleError(Z),Z}})()}saveUserData(w,N){return new Promise((Z,ae)=>{if(w&&N){const Ae={...w,...N};localStorage.setItem("user",JSON.stringify(Ae)),this.userDataSubject.next(Ae),Z()}else localStorage.setItem("user","null"),this.userDataSubject.next(null),ae()})}clearUserData(){return new Promise((w,N)=>{localStorage.removeItem("user"),this.userDataSubject.next(null),w()})}static#e=this.\u0275fac=function(N){return new(N||A)(sp.LFG(Vo.gg),sp.LFG(__.F0),sp.LFG(Bh.r))};static#t=this.\u0275prov=sp.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()},9286:(Ht,Ge,K)=>{K.d(Ge,{N:()=>be});var b=K(4303);(0,b.KN)("firebase","10.9.0","app");const be={firebaseConfig:{apiKey:"AIzaSyCVbXDjBGUwaOrn1CZYGIwce1dYPKpR7PA",authDomain:"the-natural-way.firebaseapp.com",projectId:"the-natural-way",storageBucket:"the-natural-way.appspot.com",messagingSenderId:"778711637280",appId:"1:778711637280:web:30b52ea2a4e159578fcb45"},cloudinaryConfig:{cloudName:"dsla98vyk",apiKey:"587566495847865",apiSecret:"sJLzQzouizKo51b9Mv0bI8a5pCI",uploadPreset:"the_natural_way"}};(0,b.ZF)(be.firebaseConfig)},9653:(Ht,Ge,K)=>{var b=K(6593),re=K(6024),u=K(9468),be=K(4664),ue=K(7398),fe=K(2096),Ee=K(6499),Qe=K(4456),ce=K(5861),de=K(95),Me=K(3424),Se=K(6814);function Oe(l,f){1&l&&(u.TgZ(0,"div",22),u._uU(1," Email is required! "),u.qZA())}function Ke(l,f){1&l&&(u.TgZ(0,"div",22),u._uU(1," Please enter a valid email address! "),u.qZA())}function Tt(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,Oe,2,0,"div",21),u.YNc(2,Ke,2,0,"div",21),u.qZA()),2&l){const o=u.oxw();let h,m;u.xp6(1),u.Q6J("ngIf",null==(h=o.registerForm.get("email"))||null==h.errors?null:h.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.registerForm.get("email"))||null==m.errors?null:m.errors.email)}}function Ft(l,f){1&l&&(u.TgZ(0,"div",22),u._uU(1," Password is required! "),u.qZA())}function Nt(l,f){1&l&&(u.TgZ(0,"div",22),u._uU(1," Password must be at least 6 characters long! "),u.qZA())}function Dn(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,Ft,2,0,"div",21),u.YNc(2,Nt,2,0,"div",21),u.qZA()),2&l){const o=u.oxw();let h,m;u.xp6(1),u.Q6J("ngIf",null==(h=o.registerForm.get("password"))||null==h.errors?null:h.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.registerForm.get("password"))||null==m.errors?null:m.errors.minlength)}}function Ot(l,f){1&l&&(u.TgZ(0,"div",22),u._uU(1," Repeat password is required! "),u.qZA())}function ft(l,f){1&l&&(u.TgZ(0,"div",22),u._uU(1," Repeat password must be at least 6 characters long! "),u.qZA())}function st(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,Ot,2,0,"div",21),u.YNc(2,ft,2,0,"div",21),u.qZA()),2&l){const o=u.oxw();let h,m;u.xp6(1),u.Q6J("ngIf",null==(h=o.registerForm.get("repeatPassword"))||null==h.errors?null:h.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.registerForm.get("repeatPassword"))||null==m.errors?null:m.errors.minlength)}}function yt(l,f){1&l&&(u.TgZ(0,"div",22),u._uU(1," First name is required! "),u.qZA())}function _t(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,yt,2,0,"div",21),u.qZA()),2&l){const o=u.oxw();let h;u.xp6(1),u.Q6J("ngIf",null==(h=o.registerForm.get("firstName"))||null==h.errors?null:h.errors.required)}}function je(l,f){1&l&&(u.TgZ(0,"div",22),u._uU(1," Last name is required! "),u.qZA())}function ve(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,je,2,0,"div",21),u.qZA()),2&l){const o=u.oxw();let h;u.xp6(1),u.Q6J("ngIf",null==(h=o.registerForm.get("lastName"))||null==h.errors?null:h.errors.required)}}let Je=(()=>{class l{constructor(o,h,m,E){this.userService=o,this.fb=h,this.formErrorCheckService=m,this.globalErrorHandler=E,this.registerForm=this.fb.group({email:["",[de.kI.required,de.kI.email]],password:["",[de.kI.required,de.kI.minLength(6)]],repeatPassword:["",de.kI.required],firstName:["",de.kI.required],lastName:["",de.kI.required],isActive:[!0,de.kI.required],isAdmin:[!1,de.kI.required],favoriteRecipes:this.fb.array([])})}submitRegisterForm(){var o=this;return(0,ce.Z)(function*(){if(o.registerForm.valid){o.formErrorCheckService.markFormGroupTouched(o.registerForm);const{email:h,password:m,repeatPassword:E,...k}=o.registerForm.value;if(m!==E)return void o.globalErrorHandler.handleError("Password do not match!");try{yield o.userService.registerUser(h,m,k)}catch(J){o.globalErrorHandler.handleError(J)}}else{const h=o.formErrorCheckService.getFormGroupErrors(o.registerForm);o.globalErrorHandler.handleError(h)}})()}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(Ee.K),u.Y36(de.qu),u.Y36(Me.l),u.Y36(Qe.r))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-register"]],decls:33,vars:6,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[3,"formGroup","ngSubmit"],[1,"title-wrapper"],[1,"title-form"],["for","email"],["type","email","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","new-password"],["for","repeatPassword"],["type","password","id","repeatPassword","formControlName","repeatPassword","autocomplete","new-password"],["for","firstName"],["type","text","id","firstName","formControlName","firstName"],["for","lastName"],["type","text","id","lastName","formControlName","lastName"],["type","submit",1,"button",2,"width","100%","margin-top","20px"],[1,"hr"],["href","#","routerLink","/login"],[1,"hint"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(h,m){if(1&h&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"form",3),u.NdJ("ngSubmit",function(){return m.submitRegisterForm()}),u.TgZ(4,"div",4)(5,"h1",5),u._uU(6,"Registration"),u.qZA()(),u.TgZ(7,"label",6),u._uU(8,"Email:"),u.qZA(),u._UZ(9,"input",7),u.YNc(10,Tt,3,2,"div",8),u.TgZ(11,"label",9),u._uU(12,"Password:"),u.qZA(),u._UZ(13,"input",10),u.YNc(14,Dn,3,2,"div",8),u.TgZ(15,"label",11),u._uU(16,"Repeat password:"),u.qZA(),u._UZ(17,"input",12),u.YNc(18,st,3,2,"div",8),u.TgZ(19,"label",13),u._uU(20,"First name:"),u.qZA(),u._UZ(21,"input",14),u.YNc(22,_t,2,1,"div",8),u.TgZ(23,"label",15),u._uU(24,"Last Name:"),u.qZA(),u._UZ(25,"input",16),u.YNc(26,ve,2,1,"div",8),u.TgZ(27,"button",17),u._uU(28," Submit "),u.qZA(),u._UZ(29,"hr",18),u.TgZ(30,"a",19)(31,"div",20),u._uU(32,"Already registered?"),u.qZA()()()()()),2&h){let E,k,J,le,ge;u.xp6(3),u.Q6J("formGroup",m.registerForm),u.xp6(7),u.Q6J("ngIf",(null==(E=m.registerForm.get("email"))?null:E.invalid)&&(null==(E=m.registerForm.get("email"))?null:E.touched)),u.xp6(4),u.Q6J("ngIf",(null==(k=m.registerForm.get("password"))?null:k.invalid)&&(null==(k=m.registerForm.get("password"))?null:k.touched)),u.xp6(4),u.Q6J("ngIf",(null==(J=m.registerForm.get("repeatPassword"))?null:J.invalid)&&(null==(J=m.registerForm.get("repeatPassword"))?null:J.touched)),u.xp6(4),u.Q6J("ngIf",(null==(le=m.registerForm.get("firstName"))?null:le.invalid)&&(null==(le=m.registerForm.get("firstName"))?null:le.touched)),u.xp6(4),u.Q6J("ngIf",(null==(ge=m.registerForm.get("lastName"))?null:ge.invalid)&&(null==(ge=m.registerForm.get("lastName"))?null:ge.touched))}},dependencies:[Se.O5,re.rH,de._Y,de.Fj,de.JJ,de.JL,de.sg,de.u],styles:[".checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:none}}"]})}return l})();function mt(l,f){1&l&&(u.TgZ(0,"div",17),u._uU(1," Email is required! "),u.qZA())}function kn(l,f){1&l&&(u.TgZ(0,"div",17),u._uU(1," Invalid email! "),u.qZA())}function dt(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,mt,2,0,"div",18),u.YNc(2,kn,2,0,"div",18),u.qZA()),2&l){const o=u.oxw();let h,m;u.xp6(1),u.Q6J("ngIf",null==(h=o.logInForm.get("email"))||null==h.errors?null:h.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.logInForm.get("email"))||null==m.errors?null:m.errors.email)}}function hn(l,f){1&l&&(u.TgZ(0,"div",17),u._uU(1," Password is required! "),u.qZA())}function Cn(l,f){1&l&&(u.TgZ(0,"div",17),u._uU(1," Password must be at least 6 characters long! "),u.qZA())}function jn(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,hn,2,0,"div",18),u.YNc(2,Cn,2,0,"div",18),u.qZA()),2&l){const o=u.oxw();let h,m;u.xp6(1),u.Q6J("ngIf",null==(h=o.logInForm.get("password"))||null==h.errors?null:h.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.logInForm.get("password"))||null==m.errors?null:m.errors.minlength)}}function cr(l,f){if(1&l&&(u.TgZ(0,"div"),u._uU(1),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.Oqu(o.loginError)}}let vr=(()=>{class l{constructor(o,h,m,E,k,J){this.userService=o,this.fb=h,this.route=m,this.router=E,this.formErrorCheckService=k,this.globalErrorHandler=J,this.loginError=null,this.returnUrl=null,this.logInForm=this.fb.group({email:["",[de.kI.required,de.kI.email]],password:["",[de.kI.required,de.kI.minLength(6)]]})}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/login"}submitLogInForm(){var o=this;return(0,ce.Z)(function*(){if(o.formErrorCheckService.markFormGroupTouched(o.logInForm),o.logInForm.valid){const{email:h,password:m}=o.logInForm.value;try{yield o.userService.loginUser(h,m);const E=o.returnUrl||"/";yield o.router.navigateByUrl(E)}catch(E){o.globalErrorHandler.handleError(E)}}else{const h=o.formErrorCheckService.getFormGroupErrors(o.logInForm);o.globalErrorHandler.handleError(h)}})()}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(Ee.K),u.Y36(de.qu),u.Y36(re.gz),u.Y36(re.F0),u.Y36(Me.l),u.Y36(Qe.r))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-login"]],decls:30,vars:4,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[3,"formGroup","ngSubmit"],[1,"title-wrapper"],[1,"title-form"],[1,"formGroup"],["for","email"],["type","text","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","current-password"],["type","submit",1,"button",2,"width","100%"],[1,"hr"],["href","#","routerLink","/register"],[1,"hint"],["href","#","routerLink","/forgot-password"],[1,"errors"],["class","errors",4,"ngIf"]],template:function(h,m){if(1&h&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"form",3),u.NdJ("ngSubmit",function(){return m.submitLogInForm()}),u.TgZ(4,"div",4)(5,"h1",5),u._uU(6,"Login"),u.qZA()(),u.TgZ(7,"div",6)(8,"label",7),u._uU(9,"Email"),u.qZA(),u._UZ(10,"input",8),u.YNc(11,dt,3,2,"div",9),u.qZA(),u.TgZ(12,"div",6)(13,"label",10),u._uU(14,"Password"),u.qZA(),u._UZ(15,"input",11),u.YNc(16,jn,3,2,"div",9),u.qZA(),u._UZ(17,"br"),u.TgZ(18,"div",6)(19,"button",12),u._uU(20,"Submit"),u.qZA()(),u.YNc(21,cr,2,1,"div",9),u._UZ(22,"hr",13),u.TgZ(23,"div")(24,"a",14)(25,"div",15),u._uU(26,"Don't have a Registration yet?"),u.qZA()(),u.TgZ(27,"a",16)(28,"div",17),u._uU(29,"Forgot your password?"),u.qZA()()()()()()),2&h){let E,k;u.xp6(3),u.Q6J("formGroup",m.logInForm),u.xp6(8),u.Q6J("ngIf",(null==(E=m.logInForm.get("email"))?null:E.invalid)&&(null==(E=m.logInForm.get("email"))?null:E.touched)),u.xp6(5),u.Q6J("ngIf",(null==(k=m.logInForm.get("password"))?null:k.invalid)&&(null==(k=m.logInForm.get("password"))?null:k.touched)),u.xp6(5),u.Q6J("ngIf",m.loginError)}},dependencies:[Se.O5,re.rH,de._Y,de.Fj,de.JJ,de.JL,de.sg,de.u],styles:["form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:none}}"]})}return l})();var Fe=K(3585);const $e=function(l){return["/recipe",l]};function Xe(l,f){if(1&l&&(u.TgZ(0,"div")(1,"a",9)(2,"div",10)(3,"div",11),u._UZ(4,"img",12),u.qZA(),u.TgZ(5,"p",13),u._uU(6),u.qZA()()()()),2&l){const o=f.$implicit;u.xp6(1),u.Q6J("routerLink",u.VKq(4,$e,o.id)),u.xp6(3),u.s9C("alt",o.title),u.Q6J("src",o.image_recipe[0].image_recipe,u.LSH),u.xp6(2),u.Oqu(o.title)}}function Ue(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"div")(1,"button",14),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.getRecipesLoadMore())}),u._uU(2," Load More "),u.qZA()()}}function rt(l,f){1&l&&(u.TgZ(0,"p")(1,"i"),u._uU(2," All recipes are now displayed! "),u.qZA()())}let wt=(()=>{class l{constructor(o){this.recipeService=o,this.recipes=[],this.showLoadMoreButton=!0}ngOnInit(){var o=this;return(0,ce.Z)(function*(){yield o.getRecipes(),o.showLoadMoreButton=!0})()}getRecipesLoadMore(){var o=this;return(0,ce.Z)(function*(){const{data:h,hasMore:m}=yield o.recipeService.getRecipesLoadMore();o.showLoadMoreButton=m,o.recipes.push(...h)})()}getRecipes(){var o=this;return(0,ce.Z)(function*(){const{data:h}=yield o.recipeService.getRecipes();o.recipes.push(...h)})()}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(Fe.j))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-recipes-list"]],decls:13,vars:3,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper-list"],[1,"header-wrapper",2,"text-align","center"],[1,"title",2,"font-size","36px","line-height","1.2"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["allRecipesShown",""],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"],[1,"button-img",3,"click"]],template:function(h,m){if(1&h&&(u.TgZ(0,"main",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"h1",4),u._uU(5,"Recipes"),u.qZA(),u.TgZ(6,"p"),u._uU(7,"Explore our herbal recipes for vitality and well-being."),u.qZA()(),u.TgZ(8,"div",5),u.YNc(9,Xe,7,6,"div",6),u.qZA(),u.YNc(10,Ue,3,0,"div",7),u.YNc(11,rt,3,0,"ng-template",null,8,u.W1O),u.qZA()()),2&h){const E=u.MAs(12);u.xp6(9),u.Q6J("ngForOf",m.recipes),u.xp6(1),u.Q6J("ngIf",m.showLoadMoreButton)("ngIfElse",E)}},dependencies:[Se.sg,Se.O5,re.rH],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:30px;column-gap:10px;margin-bottom:50px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill;border-radius:4px}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 461px) and (max-width: 767px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return l})();var kt=K(8850),Gt=K(3477);function fn(l,f){1&l&&(u.TgZ(0,"div",8),u._uU(1," Please write a comment! "),u.qZA())}function yn(l,f){1&l&&(u.TgZ(0,"div",8),u._uU(1," Comment must be at least 10 characters long. "),u.qZA())}function dn(l,f){1&l&&(u.TgZ(0,"div",8),u._uU(1," Comment cannot exceed 500 characters. "),u.qZA())}function Dt(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,fn,2,0,"div",7),u.YNc(2,yn,2,0,"div",7),u.YNc(3,dn,2,0,"div",7),u.qZA()),2&l){const o=u.oxw();let h,m,E;u.xp6(1),u.Q6J("ngIf",null==(h=o.commentForm.get("comment"))||null==h.errors?null:h.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.commentForm.get("comment"))||null==m.errors?null:m.errors.minlength),u.xp6(1),u.Q6J("ngIf",null==(E=o.commentForm.get("comment"))||null==E.errors?null:E.errors.maxlength)}}let Zn=(()=>{class l{constructor(o,h,m,E,k){this.fb=o,this.commentService=h,this.userService=m,this.globalErrorHandler=E,this.timestamp=new Date,this.fullName="",this.firestore=k}ngOnInit(){this.commentForm=this.fb.group({name:[""],comment:["",[de.kI.required,de.kI.minLength(10),de.kI.maxLength(500)]],recipeId:[this.recipeId],create_time:[this.timestamp],uid:[""]}),this.userService.userData$.subscribe({next:o=>{o?(this.userData=o,this.fullName=this.userData.firstName+" "+this.userData.lastName):this.fullName="Anonymous"},error:o=>{this.globalErrorHandler.handleError(o)}})}onSubmit(){var o=this;return(0,ce.Z)(function*(){if(o.timestamp=new Date,o.commentForm.valid){o.commentForm.patchValue({name:o.fullName}),o.commentForm.patchValue({recipeId:o.recipeId}),o.commentForm.patchValue({create_time:o.timestamp}),o.userData&&o.commentForm.patchValue({uid:o.userData.uid});try{(yield o.commentService.addComment(o.commentForm.value))?o.commentForm.reset():o.globalErrorHandler.handleError("Error adding comment.")}catch(h){o.globalErrorHandler.handleError(h)}}})()}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(de.qu),u.Y36(kt.O),u.Y36(Ee.K),u.Y36(Qe.r),u.Y36(Gt.gg))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-comment-form"]],inputs:{recipeId:"recipeId"},decls:9,vars:2,consts:[[1,"commentWrapper"],["id","commentForm",3,"formGroup","ngSubmit"],[1,"form-group"],["placeholder","Write your comment ...","id","comment","formControlName","comment",1,"header-user-search"],["type","submit",1,"header-user-action","header-user-action-btn"],[1,"fa-regular","fa-paper-plane"],[4,"ngIf"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(h,m){if(1&h&&(u.TgZ(0,"div",0)(1,"form",1),u.NdJ("ngSubmit",function(){return m.onSubmit()}),u._UZ(2,"br"),u.TgZ(3,"div",2),u._UZ(4,"input",3),u.TgZ(5,"button",4),u._UZ(6,"i",5),u.qZA()(),u.YNc(7,Dt,4,3,"div",6),u._UZ(8,"br"),u.qZA()()),2&h){let E;u.xp6(1),u.Q6J("formGroup",m.commentForm),u.xp6(6),u.Q6J("ngIf",null==(E=m.commentForm.get("comment"))?null:E.touched)}},dependencies:[Se.O5,de._Y,de.Fj,de.JJ,de.JL,de.sg,de.u],styles:["form#commentForm[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:100%;margin-top:10px}.form-group[_ngcontent-%COMP%]{position:relative}.header-user-search[_ngcontent-%COMP%]{width:100%;padding:0 20px;height:40px;border:1px solid #c6c6c6;border-radius:20px;background:var(--mainWhiteColor);resize:none}.header-user-action[_ngcontent-%COMP%]{border-radius:50%;background:var(--mainYellowColor);width:40px;height:40px;border:unset}.header-user-action-btn[_ngcontent-%COMP%]{position:absolute;right:0;top:0;bottom:0}"]})}return l})();var br=K(2732);function Fr(l,f){1&l&&u._UZ(0,"br")}function De(l,f){1&l&&(u.TgZ(0,"div"),u._UZ(1,"br"),u.qZA())}function Pe(l,f){if(1&l&&(u.TgZ(0,"div",21),u._uU(1),u.YNc(2,De,2,0,"div",7),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.hij(" ",null==o.recipe?null:o.recipe.summary," "),u.xp6(1),u.Q6J("ngIf",!(null!=o.recipe&&o.recipe.summary))}}function ke(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"span",22),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.navigateToRecipeDelete())}),u._UZ(1,"i",23),u.qZA()}}function at(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"span",22),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.navigateToRecipeEdit())}),u._UZ(1,"i",24),u.qZA()}}function vt(l,f){if(1&l&&(u.TgZ(0,"li"),u._UZ(1,"img",27),u.qZA()),2&l){const o=f.$implicit;u.xp6(1),u.Q6J("src",o.image_recipe,u.LSH)}}function At(l,f){if(1&l&&(u.TgZ(0,"ul",25),u.YNc(1,vt,2,1,"li",26),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.Q6J("ngForOf",null==o.recipe?null:o.recipe.image_recipe)}}function Ir(l,f){if(1&l&&(u.TgZ(0,"div")(1,"span"),u._UZ(2,"i",28),u._uU(3),u.qZA()()),2&l){const o=u.oxw();u.xp6(3),u.hij(" ",null==o.recipe||null==o.recipe.likes?null:o.recipe.likes.length,"")}}function An(l,f){if(1&l&&(u.TgZ(0,"div")(1,"span"),u._uU(2),u.qZA()()),2&l){const o=u.oxw();u.xp6(2),u.hij("",o.comments.length," comments")}}function sn(l,f){1&l&&(u.ynx(0),u._UZ(1,"i",28),u.BQk())}function Qt(l,f){1&l&&u._UZ(0,"i",34)}function wn(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"button",31),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.updateRecipeLikes())}),u.YNc(1,sn,2,0,"ng-container",32),u.YNc(2,Qt,1,0,"ng-template",null,33,u.W1O),u.qZA()}if(2&l){const o=u.MAs(3),h=u.oxw(2);u.xp6(1),u.Q6J("ngIf",h.userData&&h.recipe&&h.recipe.likes&&(null==h.userData?null:h.userData.uid)&&h.recipe.likes.includes(h.userData.uid))("ngIfElse",o)}}function Jn(l,f){1&l&&(u.ynx(0),u._UZ(1,"i",35),u.BQk())}function en(l,f){1&l&&u._UZ(0,"i",36)}function Or(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"button",31),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.updateFavoriteRecipes())}),u.YNc(1,Jn,2,0,"ng-container",32),u.YNc(2,en,1,0,"ng-template",null,33,u.W1O),u.qZA()}if(2&l){const o=u.MAs(3),h=u.oxw(2);u.xp6(1),u.Q6J("ngIf",h.recipe&&h.userData&&h.userData.favoriteRecipes&&h.userData.favoriteRecipes.includes(h.recipeId||""))("ngIfElse",o)}}function Er(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"button",31),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.toggleCommentForm())}),u._UZ(1,"i",37),u.qZA()}}function mn(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"button",31),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.toggleCommentForm())}),u._UZ(1,"i",38),u.qZA()}}function lr(l,f){if(1&l&&(u.TgZ(0,"div",29),u.YNc(1,wn,4,2,"button",30),u.YNc(2,Or,4,2,"button",30),u.YNc(3,Er,2,0,"button",30),u.YNc(4,mn,2,0,"button",30),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.Q6J("ngIf",o.userData),u.xp6(1),u.Q6J("ngIf",o.userData),u.xp6(1),u.Q6J("ngIf",!o.showCommentForm),u.xp6(1),u.Q6J("ngIf",o.showCommentForm)}}function Yn(l,f){if(1&l&&(u.TgZ(0,"div"),u._UZ(1,"app-comment-form",39),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.Q6J("recipeId",o.recipeId)}}function ur(l,f){1&l&&(u.TgZ(0,"div",15),u._UZ(1,"hr"),u.TgZ(2,"p"),u._uU(3,"\xa0\xa0Ingredients\xa0\xa0"),u.qZA(),u._UZ(4,"hr"),u.qZA())}function zn(l,f){if(1&l&&(u.TgZ(0,"li"),u._uU(1),u.qZA()),2&l){const o=u.oxw().$implicit;u.xp6(1),u.lnq(" ",o.name," - ",o.amount," ",o.unit," ")}}function fi(l,f){if(1&l&&(u.TgZ(0,"ul",40),u.YNc(1,zn,2,3,"li",7),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.Q6J("ngIf",null==o.recipe?null:o.recipe.ingredients)}}function xn(l,f){if(1&l&&(u.TgZ(0,"li"),u._UZ(1,"iframe",42),u.ALo(2,"safeUrl"),u.qZA()),2&l){const o=f.$implicit;u.xp6(1),u.Q6J("src",u.lcZ(2,1,o.video_recipe),u.uOi)}}function Xn(l,f){if(1&l&&(u.TgZ(0,"div",41)(1,"div",15),u._UZ(2,"hr"),u.TgZ(3,"p"),u._uU(4,"\xa0\xa0Video\xa0\xa0"),u.qZA(),u._UZ(5,"hr"),u.qZA(),u._UZ(6,"br"),u.TgZ(7,"ul"),u.YNc(8,xn,3,3,"li",26),u.qZA()()),2&l){const o=u.oxw();u.xp6(8),u.Q6J("ngForOf",null==o.recipe?null:o.recipe.video_recipe)}}function xr(l,f){1&l&&(u.TgZ(0,"div",15),u._UZ(1,"hr"),u.TgZ(2,"p"),u._uU(3,"\xa0\xa0Comments\xa0\xa0"),u.qZA(),u._UZ(4,"hr"),u.qZA())}function pi(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"span",22),u.NdJ("click",function(){u.CHM(o);const m=u.oxw().$implicit,E=u.oxw(2);return u.KtG(E.deleteComment(m.id))}),u._UZ(1,"i",23),u.qZA()}}function nt(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"span",22),u.NdJ("click",function(){u.CHM(o);const m=u.oxw().$implicit,E=u.oxw(2);return u.KtG(E.navigateToCommentEdit(m.id))}),u._UZ(1,"i",24),u.qZA()}}function Ce(l,f){if(1&l&&(u.TgZ(0,"ul")(1,"li"),u._uU(2),u.qZA(),u.TgZ(3,"li"),u._uU(4),u.qZA(),u.TgZ(5,"li",44)(6,"p"),u._uU(7),u.ALo(8,"date"),u.qZA(),u.TgZ(9,"div",45),u.YNc(10,pi,2,0,"span",10),u.YNc(11,nt,2,0,"span",10),u.qZA()(),u._UZ(12,"hr",46),u.qZA()),2&l){const o=f.$implicit,h=u.oxw(2);u.xp6(2),u.Oqu(o.name),u.xp6(2),u.Oqu(o.comment),u.xp6(3),u.hij(" ",u.xi3(8,5,o.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," "),u.xp6(3),u.Q6J("ngIf",h.userData&&o.uid==h.userData.uid),u.xp6(1),u.Q6J("ngIf",h.userData&&o.uid==h.userData.uid)}}function Ze(l,f){if(1&l&&(u.TgZ(0,"section",43),u.YNc(1,Ce,13,8,"ul",26),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.Q6J("ngForOf",o.comments)}}let It=(()=>{class l{constructor(o,h,m,E,k,J){var le=this;this.route=o,this.recipeService=h,this.commentService=m,this.userService=E,this.router=k,this.globalErrorHandler=J,this.recipe=null,this.recipeId="",this.comments=[],this.showCommentForm=!1,this.route.paramMap.subscribe(function(){var ge=(0,ce.Z)(function*(Ie){le.recipeId=Ie.get("id")});return function(Ie){return ge.apply(this,arguments)}}()),m.getCommentAddedObservable().subscribe((0,ce.Z)(function*(){console.log("Comment successfully added."),yield le.loadCommentsForRecipe()}))}loadRecipeData(){var o=this;return(0,ce.Z)(function*(){if(o.recipeId)try{o.recipe=yield o.recipeService.getRecipeById(o.recipeId),o.comments=yield o.commentService.getCommentsForRecipe(o.recipeId)}catch(h){o.globalErrorHandler.handleError(h)}})()}navigateToRecipeEdit(){var o=this;return(0,ce.Z)(function*(){yield o.router.navigate(["/dashboard/recipe-edit",o.recipeId])})()}navigateToRecipeDelete(){var o=this;return(0,ce.Z)(function*(){yield o.router.navigate(["/dashboard/recipe-delete",o.recipeId])})()}ngOnInit(){var o=this;return(0,ce.Z)(function*(){yield o.loadRecipeData(),o.userService.userData$.subscribe(h=>{h&&(o.userData=h)})})()}toggleCommentForm(){this.showCommentForm=!this.showCommentForm}navigateToCommentEdit(o){var h=this;return(0,ce.Z)(function*(){yield h.router.navigate(["/dashboard/comment-edit",o])})()}deleteComment(o){var h=this;return(0,ce.Z)(function*(){try{yield h.commentService.deleteComment(o),yield h.loadRecipeData()}catch(m){h.globalErrorHandler.handleError(m)}})()}updateRecipeLikes(){var o=this;return(0,ce.Z)(function*(){if(!o.recipe)return void o.globalErrorHandler.handleError("Recipe data is missing.");if(!o.userData)return void o.globalErrorHandler.handleError("User is not logged in.");let h=o.recipe.likes.includes(o.userData.uid);yield o.recipeService.updateRecipeLikes(o.recipeId,o.userData.uid,h),yield o.loadRecipeData()})()}updateFavoriteRecipes(){var o=this;return(0,ce.Z)(function*(){if(o.recipe){if(o.userData&&o.recipeId){let h=o.userData.favoriteRecipes.includes(o.recipeId);yield o.userService.updateFavoriteRecipes(o.recipeId,o.userData.uid,h),yield o.loadRecipeData()}}else o.globalErrorHandler.handleError("Recipe data is missing.")})()}loadCommentsForRecipe(){var o=this;return(0,ce.Z)(function*(){o.recipeId&&(o.comments=yield o.commentService.getCommentsForRecipe(o.recipeId))})()}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(re.gz),u.Y36(Fe.j),u.Y36(kt.O),u.Y36(Ee.K),u.Y36(re.F0),u.Y36(Qe.r))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-recipe"]],decls:37,vars:17,consts:[[1,"mainLong"],[1,"headerImage"],[1,"wrapper-list"],[1,"recipe-container"],[1,"title-wrapper"],[1,"title"],[1,"recipe-subtitle"],[4,"ngIf"],["class","recipe-summary",4,"ngIf"],[1,"commentBtnWrapper",2,"justify-content","flex-end"],["class","button-img",3,"click",4,"ngIf"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],[1,"recipe-info"],["class","buttons-grid",4,"ngIf"],[1,"divider"],[1,"recipe-description-text","description"],["class","divider",4,"ngIf"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-videos",4,"ngIf"],["class","comments",4,"ngIf"],[1,"recipe-summary"],[1,"button-img",3,"click"],[1,"fa-solid","fa-trash"],[1,"fa-regular","fa-pen-to-square"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","Image of a recipe",3,"src"],[1,"fa-solid","fa-thumbs-up"],[1,"buttons-grid"],["class","",3,"click",4,"ngIf"],[1,"",3,"click"],[4,"ngIf","ngIfElse"],["notLiked",""],[1,"fa-regular","fa-thumbs-up"],[1,"fa-solid","fa-heart"],[1,"fa-regular","fa-heart"],[1,"fa-regular","fa-comment"],[1,"fa-solid","fa-comment"],[3,"recipeId"],[1,"recipe-ingredients"],[1,"recipe-videos"],["width","560","height","315","allowfullscreen","",3,"src"],[1,"comments"],[1,"comments-last"],[1,"commentBtnWrapper"],[1,"hr"]],template:function(h,m){1&h&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div")(5,"div",4)(6,"h1",5),u._uU(7),u.qZA()(),u.TgZ(8,"h3",6),u._uU(9),u.qZA(),u.YNc(10,Fr,1,0,"br",7),u.YNc(11,Pe,3,2,"div",8),u.TgZ(12,"div",9),u.YNc(13,ke,2,0,"span",10),u.YNc(14,at,2,0,"span",10),u.qZA()(),u.TgZ(15,"div",11),u.YNc(16,At,2,1,"ul",12),u.TgZ(17,"div",13),u.YNc(18,Ir,4,1,"div",7),u.YNc(19,An,3,1,"div",7),u.qZA(),u.YNc(20,lr,5,4,"div",14),u.YNc(21,Yn,2,1,"div",7),u.TgZ(22,"div",15),u._UZ(23,"hr"),u.TgZ(24,"p"),u._uU(25,"\xa0\xa0Description\xa0\xa0"),u.qZA(),u._UZ(26,"hr"),u.qZA(),u._UZ(27,"br"),u.TgZ(28,"p",16),u._uU(29),u.qZA(),u._UZ(30,"br"),u.YNc(31,ur,5,0,"div",17),u._UZ(32,"br"),u.YNc(33,fi,2,1,"ul",18),u.YNc(34,Xn,9,1,"div",19),u.YNc(35,xr,5,0,"div",17),u.YNc(36,Ze,2,1,"section",20),u.qZA()()()()),2&h&&(u.xp6(7),u.Oqu(null==m.recipe?null:m.recipe.title),u.xp6(2),u.Oqu(null==m.recipe?null:m.recipe.subtitle),u.xp6(1),u.Q6J("ngIf",!(null!=m.recipe&&m.recipe.summary)),u.xp6(1),u.Q6J("ngIf",null==m.recipe?null:m.recipe.summary),u.xp6(2),u.Q6J("ngIf",m.userData&&m.userData.uid==(null==m.recipe?null:m.recipe.uid)),u.xp6(1),u.Q6J("ngIf",m.userData&&m.userData.uid==(null==m.recipe?null:m.recipe.uid)),u.xp6(2),u.Q6J("ngIf",(null==m.recipe?null:m.recipe.image_recipe)&&(null==m.recipe||null==m.recipe.image_recipe?null:m.recipe.image_recipe.length)>0),u.xp6(2),u.Q6J("ngIf",(null==m.recipe||null==m.recipe.likes?null:m.recipe.likes.length)>0),u.xp6(1),u.Q6J("ngIf",m.comments&&m.comments.length>0),u.xp6(1),u.Q6J("ngIf",m.userData),u.xp6(1),u.Q6J("ngIf",m.showCommentForm),u.xp6(8),u.hij(" ",null==m.recipe?null:m.recipe.description," "),u.xp6(2),u.Q6J("ngIf",null==m.recipe?null:m.recipe.ingredients),u.xp6(2),u.Q6J("ngForOf",null==m.recipe?null:m.recipe.ingredients),u.xp6(1),u.Q6J("ngIf",(null==m.recipe?null:m.recipe.video_recipe)&&(null==m.recipe||null==m.recipe.video_recipe?null:m.recipe.video_recipe.length)>0),u.xp6(1),u.Q6J("ngIf",m.comments.length>0),u.xp6(1),u.Q6J("ngIf",m.comments.length>0))},dependencies:[Se.sg,Se.O5,Zn,Se.uU,br.Q],styles:[".recipe-container[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:800px;margin:-50px auto 50px;padding:32px;box-shadow:0 1px 3px #0000004d}.title[_ngcontent-%COMP%]{font-size:28px}.recipe-subtitle[_ngcontent-%COMP%]{font-size:14px;margin-top:-10px;color:var(--mainGreyColor);font-style:italic;white-space:pre-wrap}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic;white-space:pre-wrap}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}ul.recipe-image[_ngcontent-%COMP%]{padding-left:unset}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.recipe-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px;padding:0 10px}.buttons-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);border-radius:8px;box-shadow:0 1px 3px #0000004d;overflow:hidden}.buttons-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:unset;background-color:var(--backgroundColor);transition:.5s ease-in-out}.buttons-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--mainMagnoliaColor)}.buttons-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:var(--backgroundColor)}.buttons-grid[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--textColor)}.like-wrapper[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:baseline}.comments[_ngcontent-%COMP%]{border:1px solid var(--mainMagnoliaColor);margin:30px 0;padding:20px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:10px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:5px}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--mainGreyColor)}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--backgroundColor);padding-left:5px;border-radius:5px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--mainMagnoliaColor);font-style:italic;border-radius:5px}.comments-last[_ngcontent-%COMP%]{display:flex;justify-content:space-between}@media (max-width: 640px){.buttons-img[_ngcontent-%COMP%]{flex-direction:column-reverse}.buttons[_ngcontent-%COMP%]{display:flex;padding:unset;width:100%;justify-content:space-around;align-items:stretch;gap:10px}.like-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between}}"]})}return l})();var qt=K(1176);function Zt(l,f){1&l&&(u.TgZ(0,"div")(1,"main",2),u._UZ(2,"div",3),u.TgZ(3,"div",4)(4,"div",5)(5,"div",6)(6,"h1",7),u._uU(7," We're sorry, but we couldn't find the result you're looking for! "),u.qZA()(),u.TgZ(8,"div",8),u._UZ(9,"app-logo-svg"),u.qZA()()()()())}const Wn=function(l){return["/recipe",l]};function Y(l,f){if(1&l&&(u.TgZ(0,"div")(1,"a",13)(2,"div",14)(3,"div",15),u._UZ(4,"img",16),u.qZA(),u.TgZ(5,"p",17),u._uU(6),u.qZA()()()()),2&l){const o=f.$implicit;u.xp6(1),u.Q6J("routerLink",u.VKq(4,Wn,o.id)),u.xp6(3),u.s9C("alt",o.title),u.Q6J("src",o.image_recipe[0].image_recipe,u.LSH),u.xp6(2),u.Oqu(o.title)}}function V(l,f){if(1&l&&(u.TgZ(0,"main",9),u._UZ(1,"div",3),u.TgZ(2,"div",10)(3,"div",6)(4,"h1",7),u._uU(5,"Result"),u.qZA()(),u.TgZ(6,"div",11),u.YNc(7,Y,7,6,"div",12),u.qZA()()()),2&l){const o=u.oxw();u.xp6(7),u.Q6J("ngForOf",o.recipes)}}let G=(()=>{class l{constructor(o,h){this.recipeService=o,this.route=h,this.recipes=[],this.result=!1}ngOnInit(){this.route.queryParams.subscribe(o=>{const h=o.search;h&&this.searchRecipesByTitle(h)})}searchRecipesByTitle(o){var h=this;return(0,ce.Z)(function*(){const{data:m}=yield h.recipeService.searchRecipesByTitle(o);m.length>0?(h.recipes.push(...m),h.result=!0):h.result=!1})()}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(Fe.j),u.Y36(re.gz))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-recipe-search"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["recipesList",""],[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"empty"],[1,"title-wrapper"],[1,"title"],[1,"logo-svg"],[1,"main-long"],[1,"wrapper-list"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"]],template:function(h,m){if(1&h&&(u.YNc(0,Zt,10,0,"div",0),u.YNc(1,V,8,1,"ng-template",null,1,u.W1O)),2&h){const E=u.MAs(2);u.Q6J("ngIf",!m.result)("ngIfElse",E)}},dependencies:[Se.sg,Se.O5,re.rH,qt.u],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:20px;margin-bottom:50px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 461px) and (max-width: 767px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return l})();const $=(l,f)=>{const o=(0,u.f3M)(Ee.K),h=(0,u.f3M)(re.F0);return o.userData$.pipe((0,ue.U)(m=>!m||(h.navigate(["/recipes-list"]),!1)))},Mn=[{path:"",pathMatch:"full",component:(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-carousel"]],decls:24,vars:0,consts:[["id","carouselExampleAutoplaying","data-bs-ride","carousel",1,"carousel","slide"],[1,"overlay"],[1,"info"],[1,"carousel-title"],[1,"subtitle"],["routerLink","/recipes-list",1,"infoBtn"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://www.aveeno.com/sites/aveeno_us_2/files/healingherbswithmortaran_687349.jpg","alt","carousel-img",1,"carousel-img","d-block","w-100"],[1,"carousel-item"],["src","https://imgix-prod.sgs.com/-/media/sgscorp/images/connectivity-and-products/aromatics-pexels.cdn.en-MU.1.jpg","alt","carousel-img",1,"carousel-img","d-block","w-100"],["src","https://images.pexels.com/photos/1793035/pexels-photo-1793035.jpeg","alt","carousel-img",1,"carousel-img","d-block","w-100"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(h,m){1&h&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),u._uU(4,"Welcome To Natural Way"),u.qZA(),u.TgZ(5,"div",4),u._uU(6," Explore our curated herbal recipes for vitality and well-being. Register to save favorites, comment, and like recipes. Join us and contribute your own recipes for a community dedicated to herbal remedies! "),u.qZA(),u.TgZ(7,"a",5),u._uU(8,"Recipes"),u.qZA()()(),u.TgZ(9,"div",6)(10,"div",7),u._UZ(11,"img",8),u.qZA(),u.TgZ(12,"div",9),u._UZ(13,"img",10),u.qZA(),u.TgZ(14,"div",9),u._UZ(15,"img",11),u.qZA()(),u.TgZ(16,"button",12),u._UZ(17,"span",13),u.TgZ(18,"span",14),u._uU(19,"Previous"),u.qZA()(),u.TgZ(20,"button",15),u._UZ(21,"span",16),u.TgZ(22,"span",14),u._uU(23,"Next"),u.qZA()()())},dependencies:[re.rH],styles:[".carousel[_ngcontent-%COMP%]{max-height:93vh;overflow:hidden}.carousel-img[_ngcontent-%COMP%]{height:100vh;object-fit:cover}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{z-index:9}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0 50% 0 0;background-color:var(--mainRGBAColor);background-color:#bd6b6fcc;z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:37%;right:10%;top:40%;transform:translate(2%,-27%);color:var(--mainWhiteColor);text-align:left}.carousel-title[_ngcontent-%COMP%]{font-size:30px;padding-bottom:20px;font-weight:800;color:var(--backgroundColor);text-align:left;box-shadow:unset}.subtitle[_ngcontent-%COMP%]{font-size:18px;font-weight:400;margin-bottom:25px}.infoBtn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;text-align:center;background:var(--mainYellowColor);color:var(--textColor);border-radius:24px;padding:0 25px;font-weight:700;font-size:17px;height:48px;transition:.3s ease-in-out}.infoBtn[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.1)}@media (max-width: 460px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.carousel-title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900;text-align:center}}@media (min-width: 461px) and (max-width: 767px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.carousel-title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900}}@media (min-width: 768px) and (max-width: 1023px){.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor)}}"]})}return l})()},{path:"register",component:Je,canActivate:[$]},{path:"login",component:vr,canActivate:[$]},{path:"forgot-password",component:(()=>{class l{constructor(o){this.userService=o}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(Ee.K))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-forgot-password"]],decls:19,vars:0,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper",2,"flex-direction","column"],[1,"title"],[1,"hint"],[1,"formGroup"],["type","email","placeholder","Email","required","",1,"formControl"],["passwordResetEmail",""],[1,"errors"],[1,"buttons"],["type","submit","value","Send email",1,"button",3,"click"],["href","#","routerLink","/login"]],template:function(h,m){if(1&h){const E=u.EpF();u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Forgotten password"),u.qZA()(),u.TgZ(7,"p",6),u._uU(8," Please enter your email address so we can send you a password reset email. "),u.qZA(),u.TgZ(9,"div",7),u._UZ(10,"input",8,9),u.qZA(),u.TgZ(12,"p",10),u._uU(13," If you can't find the email, please check your spam folder! "),u.qZA(),u.TgZ(14,"div",11)(15,"input",12),u.NdJ("click",function(){u.CHM(E);const J=u.MAs(11);return u.KtG(m.userService.forgotPassword(J.value))}),u.qZA(),u.TgZ(16,"a",13)(17,"div",6),u._uU(18,"Return to Login"),u.qZA()()()()()()}},dependencies:[re.rH],styles:[".form-wrapper[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.wrapper[_ngcontent-%COMP%]{padding:0 5%;max-width:600px;margin:0 auto}"]})}return l})()},{path:"recipes-list",component:wt},{path:"recipe-search",component:G},{path:"recipe/:id",component:It},{path:"about",component:(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-about-us"]],decls:22,vars:0,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],[2,"color","var(--mainGreyColor)"]],template:function(h,m){1&h&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"About Us"),u.qZA()(),u.TgZ(7,"div",6)(8,"p"),u._uU(9,"Welcome to our Healing Herbal Recipe Community!"),u.qZA(),u.TgZ(10,"p"),u._uU(11," Hello and welcome to our cozy corner dedicated to the power of herbs for health and well-being! We are passionate enthusiasts of herbal healing recipes and have decided to create this space where people from all over the world can come together to share their knowledge, experience, and love for herbal remedies. "),u.qZA(),u.TgZ(12,"p"),u._uU(13," We believe in the healing power of nature and strive to provide our users with a wealth of resources and inspiring ideas to improve their health and well-being. Our mission is to create a space where people can find recipes and support from the community to feel healthier and stronger. "),u.qZA(),u.TgZ(14,"p"),u._uU(15," Join us today and become part of our Healing Herbal Recipe Community! Together, we can achieve good heath and well-being through the power of nature and community. "),u.qZA(),u.TgZ(16,"p"),u._uU(17," Thank you for choosing to be part of our journey towards health and harmony! "),u.qZA(),u.TgZ(18,"p"),u._uU(19,"With love and gratitude,"),u.qZA(),u.TgZ(20,"p"),u._uU(21,"The Natural Way Team"),u.qZA()()()()())}})}return l})()},{path:"privacy-policy",component:(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-privacy-policy"]],decls:46,vars:0,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],[2,"color","var(--mainGreyColor)"],[2,"font-style","italic"],["routerLink","/contact"]],template:function(h,m){1&h&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Privacy Policy"),u.qZA()(),u.TgZ(7,"div",6)(8,"p",7),u._uU(9,"Last updated: 29.03.2024"),u.qZA(),u.TgZ(10,"p"),u._uU(11,' Welcome to the Privacy Policy of "The Natural Way". Our Privacy Policy explains how we collect, use, and disclose the personal information we receive from visitors to our Website. '),u.qZA(),u.TgZ(12,"h5"),u._uU(13,"1. Collection of Information"),u.qZA(),u.TgZ(14,"p"),u._uU(15," When you visit the Website, we may collect certain information from and about you. This information may include, but is not limited to: "),u.TgZ(16,"span",7),u._uU(17," Personal data such as names, email addresses, mailing addresses, etc., that you voluntarily provide to us through contact forms or account registration. Information about your computer, including IP address, browser type, operating system, and similar data for trend analysis, Website management, and protection against abuse. "),u.qZA()(),u.TgZ(18,"h5"),u._uU(19,"2. Use of Information"),u.qZA(),u.TgZ(20,"p"),u._uU(21," We use the collected information to provide and improve the Website, interact with users, analyze trends, and provide personalized content and advertisements. "),u.qZA(),u.TgZ(22,"h5"),u._uU(23,"3. Disclosure of Information"),u.qZA(),u.TgZ(24,"p"),u._uU(25," We may disclose personal information to our partners, service providers, and other third parties when necessary to provide services and perform tasks related to Website management. "),u.qZA(),u.TgZ(26,"h5"),u._uU(27,"4. Cookies and Similar Technologies"),u.qZA(),u.TgZ(28,"p"),u._uU(29," Our Cookie Policy explains how we use cookies and similar technologies that may be used on our Website. "),u.qZA(),u.TgZ(30,"h5"),u._uU(31,"5. Changes to the Privacy Policy"),u.qZA(),u.TgZ(32,"p"),u._uU(33," We may update this Privacy Policy from time to time. Any changes to this Privacy Policy will be posted on this page. "),u.qZA(),u.TgZ(34,"h5"),u._uU(35,"6. Linked Services and Websites"),u.qZA(),u.TgZ(36,"p"),u._uU(37," The Website may contain links to other websites and services that are not under our control. We are not responsible for the content and practices of these websites, and we encourage you to review the privacy policies of each website you visit. "),u.qZA(),u.TgZ(38,"h5"),u._uU(39,"7. Contact Information"),u.qZA(),u.TgZ(40,"p"),u._uU(41," For additional information regarding our Privacy Policy, please contact us at "),u.TgZ(42,"span")(43,"a",8),u._uU(44,"Contact Us"),u.qZA(),u._uU(45," page. "),u.qZA()()()()()())},dependencies:[re.rH]})}return l})()},{path:"contact",component:(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-contact-us"]],decls:28,vars:0,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],[2,"color","var(--mainGreyColor)"],["href","mailto:andon.ov@yahoo.com"],[1,"hr"]],template:function(h,m){1&h&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Contact Us"),u.qZA()(),u.TgZ(7,"div",6)(8,"p"),u._uU(9," For any inquiries or questions, please feel free to contact us. We're here to help! "),u.qZA(),u.TgZ(10,"div")(11,"p")(12,"strong"),u._uU(13,"Address:"),u.qZA(),u._uU(14," San Stefano , Burgas, Bulgaria"),u.qZA(),u.TgZ(15,"p")(16,"strong"),u._uU(17,"Phone:"),u.qZA(),u._uU(18," +359 885 996789"),u.qZA(),u.TgZ(19,"p")(20,"strong"),u._uU(21,"Email:"),u.qZA(),u.TgZ(22,"a",7),u._uU(23," Andon.ov@yahoo.com"),u.qZA()()(),u._UZ(24,"hr",8),u.TgZ(25,"div")(26,"p"),u._uU(27," This project was developed to meet the requirements of the Angular Project Assignment within the 'Angular - February 2024' course at SoftUni. "),u.qZA()()()()()())}})}return l})()},{path:"dashboard",loadChildren:()=>K.e(691).then(K.bind(K,7691)).then(l=>l.PrivateModule),canActivate:[(l,f)=>{const o=(0,u.f3M)(Ee.K),h=(0,u.f3M)(re.F0),m=(0,u.f3M)(Qe.r);return o.userData$.pipe((0,be.w)(E=>(0,fe.of)(!!E&&E.isActive)),(0,ue.U)(E=>!!E||(m.handleError("Unauthorized Access:\n          \n Please ensure you have appropriate permissions to view this content."),h.createUrlTree(["/login"],{queryParams:{returnUrl:f.url}}))))}]},{path:"**",component:(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-page-not-found"]],decls:14,vars:0,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"empty"],[1,"title-wrapper"],[1,"title"],[1,"logo-svg"],[1,"emptyInfo"],["routerLink","/","href","",1,"btn","btn-outline-light",2,"color","var(--textColor)"]],template:function(h,m){1&h&&(u.TgZ(0,"main",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Page not Found!"),u.qZA()(),u.TgZ(7,"div",6),u._UZ(8,"app-logo-svg"),u.qZA(),u.TgZ(9,"div",7)(10,"p"),u._uU(11,"We're sorry, but the page you're looking for cannot be found. \xa0\xa0"),u.qZA(),u.TgZ(12,"a",8),u._uU(13,"Back to Home"),u.qZA()()()()())},dependencies:[re.rH,qt.u]})}return l})()}];let Kt=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({imports:[re.Bz.forRoot(Mn,{useHash:!0}),re.Bz]})}return l})(),Fn=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-footer"]],decls:24,vars:0,consts:[[1,"footer"],[1,"footer-main"],[1,"footer-links"],["routerLink","/about"],["routerLink","/contact"],["routerLink","/privacy-policy"],[1,"social-icons"],["href","https://github.com/andon-ov","target","_blank"],[1,"fa-brands","fa-github"],["href","https://linkedin.com/in/andon-ov","target","_blank"],[1,"fa-brands","fa-linkedin"],[1,"copyright"],[1,"projectInfo"],["target","_blank","href","https://softuni.bg/"]],template:function(h,m){1&h&&(u.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"a",3),u._uU(4,"About Us"),u.qZA(),u._uU(5," | "),u.TgZ(6,"a",4),u._uU(7,"Contact Us"),u.qZA(),u._uU(8," | "),u.TgZ(9,"a",5),u._uU(10,"Privacy Policy"),u.qZA()(),u.TgZ(11,"div",6)(12,"a",7),u._UZ(13,"i",8),u.qZA(),u.TgZ(14,"a",9),u._UZ(15,"i",10),u.qZA()()(),u.TgZ(16,"div",11)(17,"div",12),u._uU(18," This project was developed to meet the requirements of the Angular Project Assignment within the 'Angular - February 2024' course at "),u.TgZ(19,"a",13),u._uU(20,"SoftUni"),u.qZA(),u._uU(21,". "),u.qZA(),u.TgZ(22,"span"),u._uU(23," \xa9 2024 The Natural Way. All Rights Reserved. "),u.qZA()()())},dependencies:[re.rH],styles:[".footer[_ngcontent-%COMP%]{background-color:var(--aliceBlueColor);color:#333;font-size:14px;text-align:center}.footer-main[_ngcontent-%COMP%]{background-color:var(--textColor);color:var(--mainWhiteColor);padding:20px}.footer-links[_ngcontent-%COMP%]{padding:20px 0;text-align:center}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainWhiteColor);text-decoration:none;margin:0 10px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--mainBlackColor)}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainYellowColor);text-decoration:none;margin:0 10px;font-size:22px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{transform:scale(1.3);transition:.3s ease-in-out}.copyright[_ngcontent-%COMP%]{padding:20px;font-size:12px;color:#999}.projectInfo[_ngcontent-%COMP%]{margin-bottom:10px}"]})}return l})();var $r=K(5619);class nr{}class Gs{}const Ui="*";function as(l,f){return{type:7,name:l,definitions:f,options:{}}}function Zo(l,f=null){return{type:4,styles:f,timings:l}}function Va(l,f=null){return{type:2,steps:l,options:f}}function Vr(l){return{type:6,styles:l,offset:null}}function Mo(l,f,o){return{type:0,name:l,styles:f,options:o}}function Ji(l,f,o=null){return{type:1,expr:l,animation:f,options:o}}class Hi{constructor(f=0,o=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=f+o}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}onStart(f){this._originalOnStartFns.push(f),this._onStartFns.push(f)}onDone(f){this._originalOnDoneFns.push(f),this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(f=>f()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(f){this._position=this.totalTime?f*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(f){const o="start"==f?this._onStartFns:this._onDoneFns;o.forEach(h=>h()),o.length=0}}class Ss{constructor(f){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=f;let o=0,h=0,m=0;const E=this.players.length;0==E?queueMicrotask(()=>this._onFinish()):this.players.forEach(k=>{k.onDone(()=>{++o==E&&this._onFinish()}),k.onDestroy(()=>{++h==E&&this._onDestroy()}),k.onStart(()=>{++m==E&&this._onStart()})}),this.totalTime=this.players.reduce((k,J)=>Math.max(k,J.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this.players.forEach(f=>f.init())}onStart(f){this._onStartFns.push(f)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(f=>f()),this._onStartFns=[])}onDone(f){this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(f=>f.play())}pause(){this.players.forEach(f=>f.pause())}restart(){this.players.forEach(f=>f.restart())}finish(){this._onFinish(),this.players.forEach(f=>f.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(f=>f.destroy()),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}reset(){this.players.forEach(f=>f.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(f){const o=f*this.totalTime;this.players.forEach(h=>{const m=h.totalTime?Math.min(1,o/h.totalTime):1;h.setPosition(m)})}getPosition(){const f=this.players.reduce((o,h)=>null===o||h.totalTime>o.totalTime?h:o,null);return null!=f?f.getPosition():0}beforeDestroy(){this.players.forEach(f=>{f.beforeDestroy&&f.beforeDestroy()})}triggerCallback(f){const o="start"==f?this._onStartFns:this._onDoneFns;o.forEach(h=>h()),o.length=0}}let js=(()=>{class l{constructor(o,h){this.el=o,this.renderer=h}ngOnInit(){this.checkWidth()}onResize(){this.checkWidth()}checkWidth(){window.innerWidth<992?(this.renderer.addClass(this.el.nativeElement,"button"),this.renderer.addClass(this.el.nativeElement,"nav-btn"),this.renderer.addClass(this.el.nativeElement,"nav-link"),this.renderer.removeClass(this.el.nativeElement,"navigation")):(this.renderer.removeClass(this.el.nativeElement,"button"),this.renderer.removeClass(this.el.nativeElement,"nav-link"),this.renderer.removeClass(this.el.nativeElement,"nav-btn"),this.renderer.addClass(this.el.nativeElement,"navigation"))}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(u.SBq),u.Y36(u.Qsj))};static#t=this.\u0275dir=u.lG2({type:l,selectors:[["","appResponsiveClass",""]],hostBindings:function(h,m){1&h&&u.NdJ("resize",function(){return m.onResize()},!1,u.Jf7)}})}return l})();function Gi(l,f){1&l&&(u.TgZ(0,"li",24)(1,"a",25),u._UZ(2,"i",26),u.qZA(),u.TgZ(3,"ul",27)(4,"li")(5,"a",28),u._uU(6,"Register"),u.qZA()(),u.TgZ(7,"li")(8,"a",29),u._uU(9,"Login"),u.qZA()()()())}function nc(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"li",24)(1,"a",25)(2,"span"),u._uU(3),u.qZA()(),u.TgZ(4,"ul",27)(5,"li")(6,"a",30),u._uU(7,"My recipes"),u.qZA()(),u.TgZ(8,"li")(9,"a",31),u._uU(10,"Create recipe"),u.qZA()(),u.TgZ(11,"li")(12,"a",32),u._uU(13,"Favorite recipes"),u.qZA()(),u.TgZ(14,"li")(15,"a",33),u._uU(16,"My comments"),u.qZA()(),u.TgZ(17,"li")(18,"a",34),u._uU(19,"Profile"),u.qZA()(),u._UZ(20,"hr",35),u.TgZ(21,"li")(22,"a",36),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.logout())}),u._uU(23,"Logout"),u.qZA()()()()}if(2&l){const o=u.oxw();u.xp6(3),u.Oqu(o.getUserDisplayName())}}let cs=(()=>{class l{constructor(o,h,m,E,k,J){this.userService=o,this.router=h,this.fb=m,this.elementRef=E,this.formErrorCheckService=k,this.globalErrorHandler=J,this.state="normal",this.searchForm=this.fb.group({search:[""]}),this.isMenuOpen=!1,this.userDataSubject=new $r.X(null),this.userDataSubscription=this.userDataSubject.subscribe(le=>{this.userData=le})}onMouseOver(){this.state="hovered"}onMouseOut(){this.state="normal"}ngOnInit(){this.userService.userData$.subscribe({next:o=>{o?(this.userDataSubject.next(o),console.log("You have a user!",o)):(this.userDataSubject.next(null),console.log("You have no user!"))},error:o=>{this.globalErrorHandler.handleError(o)}}),this.router.events.subscribe(o=>{if(o instanceof re.m2){const h=this.elementRef.nativeElement.querySelector("#navbarScroll");h&&h.classList.remove("show")}})}onSubmit(){var o=this;return(0,ce.Z)(function*(){if(o.searchForm.valid){let h=o.searchForm.value;h&&h.search?(yield o.router.navigate(["/recipe-search"],{queryParams:{search:h.search.trim()}}),o.searchForm.reset()):o.globalErrorHandler.handleError("Query search value is null or undefined.")}else{const h=o.formErrorCheckService.getFormGroupErrors(o.searchForm);o.globalErrorHandler.handleError(h)}})()}ngOnDestroy(){this.userDataSubscription&&this.userDataSubscription.unsubscribe()}logout(){var o=this;return(0,ce.Z)(function*(){yield o.userService.logoutUser()})()}getUserDisplayName(){return this.userData?this.userData.lastName:"Anonymous"}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(Ee.K),u.Y36(re.F0),u.Y36(de.qu),u.Y36(u.SBq),u.Y36(Me.l),u.Y36(Qe.r))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-header"]],decls:32,vars:4,consts:[[1,"navbar","navbar-dark","navbar-expand-lg"],[1,"container-fluid"],[1,"header-wrapper"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","hamburger",3,"mouseover","mouseout"],[1,"fa-solid","fa-bars","fa-beat-fade"],["href","#",1,"navbar-brand"],["viewBox","0 0 200.92045542674032 200.92045542674032","height","50","width","50",1,"svg-logo"],["d","M0 100.46c0-55.483 44.978-100.46 100.46-100.46 55.483 0 100.46 44.978 100.46 100.46 0 55.483-44.978 100.46-100.46 100.46-55.483 0-100.46-44.978-100.46-100.46zM100.46 193.437c51.35 0 92.977-41.627 92.977-92.977 0-51.35-41.627-92.977-92.977-92.977-51.35 0-92.977 41.627-92.977 92.977 0 51.35 41.627 92.977 92.977 92.977z","data-fill-palette-color","accent","fill","var(--aliceBlueColor)","stroke","transparent"],["rx","99.45562543623646","ry","99.45562543623646","cx","100.46022771337016","cy","100.46022771337016","fill","var(--mainYellowColor)","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,43.57436241056036,43.35758026693677)"],["viewBox","0 0 113.7717306056196 114.20529489286677","height","114.20529489286677","width","113.7717306056196"],["xmlns","http://www.w3.org/2000/svg","data-name","Layer 1","viewBox","1.190000057220459 1.002901315689087 97.62506866455078 97.99710083007812","x","0","y","0","height","114.20529489286677","width","113.7717306056196","data-fill-palette-color","quaternary","id","b-0",1,"icon-b-0"],["d","M79.28 26.63a0.3 0.3 0 0 0 0-0.07 0.28 0.28 0 0 0-0.48-0.19l-7 7a20.24 20.24 0 0 0-6 13v1.87a37.5 37.5 0 0 1 1.67 5.15H54.79a32.9 32.9 0 0 0-5.43-15.13 26.9 26.9 0 0 1-7.74 5.77 22.2 22.2 0 0 1-6.34 2.06c-9.9 1.51-22.3-5-28.35-41.61a1.86 1.86 0 0 1 1.55-2.05c47.44-6.69 50.2 11.7 47.85 22.85a51.5 51.5 0 0 0-19.69-6.14h-0.11a0.43 0.43 0 0 0-0.18 0.76l11.58 8.5 5.84 4.31a37.3 37.3 0 0 1 6.08 5.85 24.8 24.8 0 0 1 5-6.15 17.7 17.7 0 0 1-2.54-5 14.8 14.8 0 0 1-0.65-4.41c0-6.65 5.53-14.14 30.18-14.44a1.23 1.23 0 0 1 1.24 1.23c-0.38 31.82-12.74 31.78-19.82 29.12a34.2 34.2 0 0 0 6.02-12.28M28.65 93h34.63a16.16 16.16 0 0 0 12.18-5.54l21.68-24.79a6.79 6.79 0 0 0-0.79-9.7 6.55 6.55 0 0 0-4.2-1.49 7.24 7.24 0 0 0-5.38 2.43l-10.2 11.35v0.16a11.85 11.85 0 0 1-11.89 11.26H52.21a2.54 2.54 0 1 1 0-5.08h12.47a6.72 6.72 0 0 0 6.81-6.34A6.54 6.54 0 0 0 65 58.52H44.19l-3.37-1.18a23.42 23.42 0 0 0-24.26 5.49L1.19 78.1 22.64 99Z","fill","var( --textColor)","data-fill-palette-color","quaternary"],["routerLink","/",1,"logoText"],[2,"color","var(--mainBlackColor)"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","my-2","my-lg-0","navbar-nav-scroll"],[1,"nav-item"],["appResponsiveClass","","routerLink","/recipes-list","href","#","role","button","aria-expanded","false",1,"navigation"],["class","nav-item dropdown",4,"ngIf"],["role","search",1,"search",3,"formGroup","ngSubmit"],["type","search","aria-label","Search","formControlName","search","required","","minlength","3","placeholder","Search...",1,"header-user-search"],["type","submit",1,"search","header-user-action","header-user-action-btn"],[1,"fa-solid","fa-magnifying-glass"],[1,"nav-item","dropdown"],["appResponsiveClass","","href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle"],[1,"fa-solid","fa-user"],[1,"dropdown-menu"],["routerLink","/register",1,"dropdown-item"],["routerLink","/login",1,"dropdown-item"],["routerLink","/dashboard/user-recipes","href","#",1,"dropdown-item"],["routerLink","/dashboard/recipe-create",1,"dropdown-item"],["routerLink","/dashboard/user-favorite-recipes","href","#",1,"dropdown-item"],["routerLink","/dashboard/user-comments","href","#",1,"dropdown-item"],["routerLink","/dashboard/user-info",1,"dropdown-item"],[1,"hr"],[1,"dropdown-item",2,"text-align","center","cursor","pointer",3,"click"]],template:function(h,m){1&h&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"button",3),u.NdJ("mouseover",function(){return m.onMouseOver()})("mouseout",function(){return m.onMouseOut()}),u.TgZ(4,"span"),u._UZ(5,"i",4),u.qZA()(),u.TgZ(6,"a",5),u.O4$(),u.TgZ(7,"svg",6)(8,"g"),u._UZ(9,"path",7)(10,"ellipse",8),u.qZA(),u.TgZ(11,"g",9)(12,"svg",10)(13,"g")(14,"svg",11),u._UZ(15,"path",12),u.qZA()()()()(),u.kcU(),u.TgZ(16,"span",13)(17,"span",14),u._uU(18,"Natural"),u.qZA(),u.TgZ(19,"span"),u._uU(20," Way"),u.qZA()()()(),u.TgZ(21,"div",15)(22,"ul",16)(23,"li",17)(24,"a",18),u._uU(25," Recipes "),u.qZA()(),u.YNc(26,Gi,10,0,"li",19),u.YNc(27,nc,24,1,"li",19),u.TgZ(28,"form",20),u.NdJ("ngSubmit",function(){return m.onSubmit()}),u._UZ(29,"input",21),u.TgZ(30,"button",22),u._UZ(31,"i",23),u.qZA()()()()()()),2&h&&(u.xp6(3),u.Q6J("@rotate",m.state),u.xp6(23),u.Q6J("ngIf",!m.userData),u.xp6(1),u.Q6J("ngIf",m.userData),u.xp6(1),u.Q6J("formGroup",m.searchForm))},dependencies:[Se.O5,re.rH,de._Y,de.Fj,de.JJ,de.JL,de.Q7,de.wO,de.sg,de.u,js],styles:["nav.navbar[_ngcontent-%COMP%]{min-height:5vh;background-color:var(--aliceBlueColor);box-shadow:1px 5px 15px 0 var(--mainRGBAColor);padding:20px}.container-fluid[_ngcontent-%COMP%]{max-width:1024px}.hamburger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:4px 2px;color:var(--textColor)}.header-wrapper[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center;margin-right:auto}a.navbar-brand[_ngcontent-%COMP%]{display:flex;gap:10px;font-family:Nunito Sans,sans-serif;font-weight:900;font-size:28px;line-height:20px;color:var(--textColor);padding-right:40px;align-items:center}button.navbar-toggler[_ngcontent-%COMP%]{background-color:var(--mainYellowColor);border:1px solid var(--backgroundColor)}ul.navbar-nav[_ngcontent-%COMP%]{position:relative;display:flex;gap:40px;width:100%;align-items:center;justify-content:flex-end}.navigation[_ngcontent-%COMP%]{color:var(--textColor);font-size:17px;font-weight:700}ul.navbar-nav[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]{margin-top:22px;box-shadow:unset;border:unset}a.dropdown-item[_ngcontent-%COMP%]{color:var(--textColor);font-size:17px;font-weight:700}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:focus{background-color:var(--textColor);color:var(--backgroundColor);border-radius:4px;transition:.5s ease-in-out}form[_ngcontent-%COMP%]{all:unset;position:relative;margin-right:15px}.header-user-search[_ngcontent-%COMP%]{all:unset;padding:0 20px;height:40px;border:1px solid #c6c6c6;border-radius:20px;background:var(--mainWhiteColor)}.header-user-action[_ngcontent-%COMP%]{border-radius:50%;background:var(--mainYellowColor);width:40px;height:40px;border:unset}.header-user-action-btn[_ngcontent-%COMP%]{position:absolute;right:0;top:1px;bottom:0}@media (max-width: 991px){.container-fluid[_ngcontent-%COMP%]{justify-content:space-evenly}.svg-logo[_ngcontent-%COMP%]{display:none}.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{border-radius:8px;display:grid;gap:18px;width:315px;padding:20px}ul.navbar-nav[_ngcontent-%COMP%]{gap:12px}}@media (min-width: 992px) and (max-width: 1440px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:900px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}.container-fluid[_ngcontent-%COMP%]{max-width:1200px;padding:0 3%;color:var(--textColor)}}@media (min-width: 1441px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:1000px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}.container-fluid[_ngcontent-%COMP%]{padding:unset;max-width:1200px;color:var(--textColor)}}"],data:{animation:[as("rotate",[Mo("normal",Vr({transform:"rotate(0deg)"})),Mo("hovered",Vr({transform:"rotate(180deg)"})),Ji("normal => hovered",Zo("0.5s ease-in-out")),Ji("hovered => normal",Zo("0.5s ease-in-out"))])]}})}return l})();function rc(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"div",1)(1,"button",2),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.scrollToTop())}),u.TgZ(2,"div",3)(3,"span",4),u.O4$(),u.TgZ(4,"svg",5),u._UZ(5,"path",6),u.qZA()(),u.kcU(),u.TgZ(6,"span",7),u.O4$(),u.TgZ(7,"svg",8),u._UZ(8,"path",6),u.qZA()()()(),u.kcU(),u.TgZ(9,"a",9)(10,"div",10)(11,"span",7),u.O4$(),u.TgZ(12,"svg",5),u._UZ(13,"path",6),u.qZA()(),u.kcU(),u.TgZ(14,"span",7),u.O4$(),u.TgZ(15,"svg",8),u._UZ(16,"path",6),u.qZA()()()()()}}let gi=(()=>{class l{constructor(){this.showScrollButton=!1}onWindowScroll(){this.showScrollButton=window.pageYOffset>300}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-scroll-to-top"]],hostBindings:function(h,m){1&h&&u.NdJ("scroll",function(){return m.onWindowScroll()},!1,u.Jf7)},decls:1,vars:1,consts:[["class","buttons",4,"ngIf"],[1,"buttons"],[1,"back-button",3,"click"],[1,"button-box-up"],[1,"button-elem-up"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],[1,"button-elem"],["viewBox","0 0 46 40"],["href","javascript:history.back()",1,"back-button"],[1,"button-box"]],template:function(h,m){1&h&&u.YNc(0,rc,17,0,"div",0),2&h&&u.Q6J("ngIf",m.showScrollButton)},dependencies:[Se.O5],styles:[".buttons[_ngcontent-%COMP%]{display:flex;gap:10px;position:fixed;bottom:120px;right:10px;flex-direction:column;align-items:center;z-index:10}button[_ngcontent-%COMP%]:focus{outline:none}button.ng-hidden[_ngcontent-%COMP%]{display:none}"]})}return l})();var Ua=K(1816);const As=function(l){return{show:l}};let _a=(()=>{class l{constructor(o){this.modalService=o,this.showModal=!1}ngOnInit(){this.modalMessageSubscription=this.modalService.modalMessage$.subscribe(o=>{this.modalMessage=o,console.log(o),this.showModal=!0})}ngOnDestroy(){this.modalMessageSubscription&&this.modalMessageSubscription.unsubscribe()}hideModal(){this.showModal=!1}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(Ua.y))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-custom-alert"]],decls:11,vars:4,consts:[["tabindex","-1","role","dialog",1,"modal",3,"ngClass"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"button-img",3,"click"]],template:function(h,m){1&h&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),u._uU(5,"Important Notification!"),u.qZA()(),u.TgZ(6,"div",5),u._uU(7),u.qZA(),u.TgZ(8,"div",6)(9,"button",7),u.NdJ("click",function(){return m.hideModal()}),u._uU(10,"Close"),u.qZA()()()()()),2&h&&(u.Q6J("ngClass",u.VKq(2,As,m.showModal)),u.xp6(7),u.hij(" ",m.modalMessage," "))},dependencies:[Se.mk],styles:[".modal[_ngcontent-%COMP%]{display:none;overflow:hidden;position:fixed;top:0;left:0;width:100%;height:100%;z-index:15;outline:0}.modal.show[_ngcontent-%COMP%]{display:block;background-color:var(--mainRGBAColor)}.modal-body[_ngcontent-%COMP%]{white-space:pre-wrap}"]})}return l})(),ya=(()=>{class l{constructor(){this.title="The-Natural-Way"}static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-root"]],decls:5,vars:0,template:function(h,m){1&h&&u._UZ(0,"app-header")(1,"app-scroll-to-top")(2,"app-custom-alert")(3,"router-outlet")(4,"app-footer")},dependencies:[re.lC,Fn,cs,gi,_a]})}return l})();var gs=K(9286),ni=K(8726);let Fi=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=u.oAB({type:l}),l.\u0275inj=u.cJS({imports:[[]]}),l})();var va=K(5592),Di=K(6232),Li=K(8645),zs=K(4829),ic=K(1631),Yo=K(4266),Os=K(4674),Qo=K(7400);const _l=["addListener","removeListener"],oo=["addEventListener","removeEventListener"],ba=["on","off"];function Jr(l,f,o,h){if((0,Os.m)(o)&&(h=o,o=void 0),h)return Jr(l,f,o).pipe((0,Qo.Z)(h));const[m,E]=function Zr(l){return(0,Os.m)(l.addEventListener)&&(0,Os.m)(l.removeEventListener)}(l)?oo.map(k=>J=>l[k](f,J,o)):function Jo(l){return(0,Os.m)(l.addListener)&&(0,Os.m)(l.removeListener)}(l)?_l.map(ao(l,f)):function fr(l){return(0,Os.m)(l.on)&&(0,Os.m)(l.off)}(l)?ba.map(ao(l,f)):[];if(!m&&(0,Yo.z)(l))return(0,ic.z)(k=>Jr(k,f,o))((0,zs.Xf)(l));if(!m)throw new TypeError("Invalid event target");return new va.y(k=>{const J=(...le)=>k.next(1<le.length?le:le[0]);return m(J),()=>E(J)})}function ao(l,f){return o=>h=>l[o](f,h)}var Ci=K(6321),ls=K(671);const{isArray:co}=Array;function _i(l){return 1===l.length&&co(l[0])?l[0]:l}var Ro=K(8251);K(3019);var Un=K(9940);function Tr(...l){const f=(0,Un.jO)(l),o=_i(l);return o.length?new va.y(h=>{let m=o.map(()=>[]),E=o.map(()=>!1);h.add(()=>{m=E=null});for(let k=0;!h.closed&&k<o.length;k++)(0,zs.Xf)(o[k]).subscribe((0,Ro.x)(h,J=>{if(m[k].push(J),m.every(le=>le.length)){const le=m.map(ge=>ge.shift());h.next(f?f(...le):le),m.some((ge,Ie)=>!ge.length&&E[Ie])&&h.complete()}},()=>{E[k]=!0,!m[k].length&&h.complete()}));return()=>{m=E=null}}):Di.E}var wi=K(5211),qn=K(9773),zr=K(2181),er=K(8180),ri=K(9397),ms=K(9360),Pn=K(2737),Ws=K(2420);function wa(...l){const f=(0,Un.jO)(l);return(0,ms.e)((o,h)=>{const m=l.length,E=new Array(m);let k=l.map(()=>!1),J=!1;for(let le=0;le<m;le++)(0,zs.Xf)(l[le]).subscribe((0,Ro.x)(h,ge=>{E[le]=ge,!J&&!k[le]&&(k[le]=!0,(J=k.every(Pn.y))&&(k=null))},Ws.Z));o.subscribe((0,Ro.x)(h,le=>{if(J){const ge=[le,...E];h.next(f?f(...ge):ge)}}))})}K(975),K(7921),K(3997),Math,Math,Math;const Ld=["*"],id=["dialog"];function Kl(l){return"string"==typeof l}function nl(l){return null!=l}function ad(l){return(l||document.body).getBoundingClientRect()}const Fh={animation:!0,transitionTimerDelayMs:5},Wd=()=>{},{transitionTimerDelayMs:iv}=Fh,Lh=new Map,Fs=(l,f,o,h)=>{let m=h.context||{};const E=Lh.get(f);if(E)switch(h.runningTransition){case"continue":return Di.E;case"stop":l.run(()=>E.transition$.complete()),m=Object.assign(E.context,m),Lh.delete(f)}const k=o(f,h.animation,m)||Wd;if(!h.animation||"none"===window.getComputedStyle(f).transitionProperty)return l.run(()=>k()),(0,fe.of)(void 0).pipe(function rp(l){return f=>new va.y(o=>f.subscribe({next:k=>l.run(()=>o.next(k)),error:k=>l.run(()=>o.error(k)),complete:()=>l.run(()=>o.complete())}))}(l));const J=new Li.x,le=new Li.x,ge=J.pipe(function uo(...l){return f=>(0,wi.z)(f,(0,fe.of)(...l))}(!0));Lh.set(f,{transition$:J,complete:()=>{le.next(),le.complete()},context:m});const Ie=function ip(l){const{transitionDelay:f,transitionDuration:o}=window.getComputedStyle(l);return 1e3*(parseFloat(f)+parseFloat(o))}(f);return l.runOutsideAngular(()=>{const tt=Jr(f,"transitionend").pipe((0,qn.R)(ge),(0,zr.h)(({target:ut})=>ut===f));(function lo(...l){return 1===(l=_i(l)).length?(0,zs.Xf)(l[0]):new va.y(function pr(l){return f=>{let o=[];for(let h=0;o&&!f.closed&&h<l.length;h++)o.push((0,zs.Xf)(l[h]).subscribe((0,Ro.x)(f,m=>{if(o){for(let E=0;E<o.length;E++)E!==h&&o[E].unsubscribe();o=null}f.next(m)})))}}(l))})(function Bi(l=0,f,o=Ci.P){let h=-1;return null!=f&&((0,ls.K)(f)?o=f:h=f),new va.y(m=>{let E=function ci(l){return l instanceof Date&&!isNaN(l)}(l)?+l-o.now():l;E<0&&(E=0);let k=0;return o.schedule(function(){m.closed||(m.next(k++),0<=h?this.schedule(void 0,h):m.complete())},E)})}(Ie+iv).pipe((0,qn.R)(ge)),tt,le).pipe((0,qn.R)(ge)).subscribe(()=>{Lh.delete(f),l.run(()=>{k(),J.next(),J.complete()})})}),J.asObservable()};let Bh=(()=>{class l{constructor(){this.animation=Fh.animation}static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),Ig=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),qd=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Z1=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),K1=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})();var hi=function(l){return l[l.Tab=9]="Tab",l[l.Enter=13]="Enter",l[l.Escape=27]="Escape",l[l.Space=32]="Space",l[l.PageUp=33]="PageUp",l[l.PageDown=34]="PageDown",l[l.End=35]="End",l[l.Home=36]="Home",l[l.ArrowLeft=37]="ArrowLeft",l[l.ArrowUp=38]="ArrowUp",l[l.ArrowRight=39]="ArrowRight",l[l.ArrowDown=40]="ArrowDown",l}(hi||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const D_=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Og(l){const f=Array.from(l.querySelectorAll(D_)).filter(o=>-1!==o.tabIndex);return[f[0],f[f.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let db=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Qh=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})();class ld{constructor(f,o,h){this.nodes=f,this.viewRef=o,this.componentRef=h}}let hb=(()=>{class l{constructor(o,h){this._el=o,this._zone=h}ngOnInit(){this._zone.onStable.asObservable().pipe((0,er.q)(1)).subscribe(()=>{Fs(this._zone,this._el.nativeElement,(o,h)=>{h&&ad(o),o.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Fs(this._zone,this._el.nativeElement,({classList:o})=>o.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(u.SBq),u.Y36(u.R0b))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(h,m){2&h&&(u.Tol("modal-backdrop"+(m.backdropClass?" "+m.backdropClass:"")),u.ekj("show",!m.animation)("fade",m.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[u.jDz],decls:0,vars:0,template:function(h,m){},encapsulation:2})}return l})();class Jh{update(f){}close(f){}dismiss(f){}}const Xh=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],ol=["animation","backdropClass"];class k_{_applyWindowOptions(f,o){Xh.forEach(h=>{nl(o[h])&&(f[h]=o[h])})}_applyBackdropOptions(f,o){ol.forEach(h=>{nl(o[h])&&(f[h]=o[h])})}update(f){this._applyWindowOptions(this._windowCmptRef.instance,f),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,f)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,qn.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,qn.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(f,o,h,m){this._windowCmptRef=f,this._contentRef=o,this._backdropCmptRef=h,this._beforeDismiss=m,this._closed=new Li.x,this._dismissed=new Li.x,this._hidden=new Li.x,f.instance.dismissEvent.subscribe(E=>{this.dismiss(E)}),this.result=new Promise((E,k)=>{this._resolve=E,this._reject=k}),this.result.then(null,()=>{})}close(f){this._windowCmptRef&&(this._closed.next(f),this._resolve(f),this._removeModalElements())}_dismiss(f){this._dismissed.next(f),this._reject(f),this._removeModalElements()}dismiss(f){if(this._windowCmptRef)if(this._beforeDismiss){const o=this._beforeDismiss();!function Nu(l){return l&&l.then}(o)?!1!==o&&this._dismiss(f):o.then(h=>{!1!==h&&this._dismiss(f)},()=>{})}else this._dismiss(f)}_removeModalElements(){const f=this._windowCmptRef.instance.hide(),o=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,fe.of)(void 0);f.subscribe(()=>{const{nativeElement:h}=this._windowCmptRef.location;h.parentNode.removeChild(h),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),o.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:h}=this._backdropCmptRef.location;h.parentNode.removeChild(h),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Tr(f,o).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var F_=function(l){return l[l.BACKDROP_CLICK=0]="BACKDROP_CLICK",l[l.ESC=1]="ESC",l}(F_||{});let fb=(()=>{class l{constructor(o,h,m){this._document=o,this._elRef=h,this._zone=m,this._closed$=new Li.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new Li.x,this.hidden=new Li.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Kl(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(o){this.dismissEvent.emit(o)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,er.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:o}=this._elRef,h={animation:this.animation,runningTransition:"stop"},k=Tr(Fs(this._zone,o,()=>o.classList.remove("show"),h),Fs(this._zone,this._dialogEl.nativeElement,()=>{},h));return k.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),k}_show(){const o={animation:this.animation,runningTransition:"continue"};Tr(Fs(this._zone,this._elRef.nativeElement,(E,k)=>{k&&ad(E),E.classList.add("show")},o),Fs(this._zone,this._dialogEl.nativeElement,()=>{},o)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:o}=this._elRef;this._zone.runOutsideAngular(()=>{Jr(o,"keydown").pipe((0,qn.R)(this._closed$),(0,zr.h)(m=>m.which===hi.Escape)).subscribe(m=>{this.keyboard?requestAnimationFrame(()=>{m.defaultPrevented||this._zone.run(()=>this.dismiss(F_.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let h=!1;Jr(this._dialogEl.nativeElement,"mousedown").pipe((0,qn.R)(this._closed$),(0,ri.b)(()=>h=!1),(0,be.w)(()=>Jr(o,"mouseup").pipe((0,qn.R)(this._closed$),(0,er.q)(1))),(0,zr.h)(({target:m})=>o===m)).subscribe(()=>{h=!0}),Jr(o,"click").pipe((0,qn.R)(this._closed$)).subscribe(({target:m})=>{o===m&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!h&&this._zone.run(()=>this.dismiss(F_.BACKDROP_CLICK))),h=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:o}=this._elRef;if(!o.contains(document.activeElement)){const h=o.querySelector("[ngbAutofocus]"),m=Og(o)[0];(h||m||o).focus()}}_restoreFocus(){const o=this._document.body,h=this._elWithFocus;let m;m=h&&h.focus&&o.contains(h)?h:o,this._zone.runOutsideAngular(()=>{setTimeout(()=>m.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Fs(this._zone,this._elRef.nativeElement,({classList:o})=>(o.add("modal-static"),()=>o.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(Se.K0),u.Y36(u.SBq),u.Y36(u.R0b))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["ngb-modal-window"]],viewQuery:function(h,m){if(1&h&&u.Gf(id,7),2&h){let E;u.iGM(E=u.CRH())&&(m._dialogEl=E.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(h,m){2&h&&(u.uIk("aria-modal",!0)("aria-labelledby",m.ariaLabelledBy)("aria-describedby",m.ariaDescribedBy),u.Tol("modal d-block"+(m.windowClass?" "+m.windowClass:"")),u.ekj("fade",m.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[u.jDz],ngContentSelectors:Ld,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(h,m){1&h&&(u.F$t(),u.TgZ(0,"div",0,1)(2,"div",2),u.Hsn(3),u.qZA()()),2&h&&u.Tol("modal-dialog"+(m.size?" modal-"+m.size:"")+(m.centered?" modal-dialog-centered":"")+m.fullscreenClass+(m.scrollable?" modal-dialog-scrollable":"")+(m.modalDialogClass?" "+m.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return l})(),ef=(()=>{class l{constructor(o){this._document=o}hide(){const o=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),h=this._document.body,m=h.style,{overflow:E,paddingRight:k}=m;if(o>0){const J=parseFloat(window.getComputedStyle(h).paddingRight);m.paddingRight=`${J+o}px`}return m.overflow="hidden",()=>{o>0&&(m.paddingRight=k),m.overflow=E}}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(Se.K0))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),L_=(()=>{class l{constructor(o,h,m,E,k,J,le){this._applicationRef=o,this._injector=h,this._environmentInjector=m,this._document=E,this._scrollBar=k,this._rendererFactory=J,this._ngZone=le,this._activeWindowCmptHasChanged=new Li.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const ge=this._windowCmpts[this._windowCmpts.length-1];((l,f,o,h=!1)=>{l.runOutsideAngular(()=>{const m=Jr(f,"focusin").pipe((0,qn.R)(o),(0,ue.U)(E=>E.target));Jr(f,"keydown").pipe((0,qn.R)(o),(0,zr.h)(E=>E.which===hi.Tab),wa(m)).subscribe(([E,k])=>{const[J,le]=Og(f);(k===J||k===f)&&E.shiftKey&&(le.focus(),E.preventDefault()),k===le&&!E.shiftKey&&(J.focus(),E.preventDefault())}),h&&Jr(f,"click").pipe((0,qn.R)(o),wa(m),(0,ue.U)(E=>E[1])).subscribe(E=>E.focus())})})(this._ngZone,ge.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(ge.location.nativeElement)}})}_restoreScrollBar(){const o=this._scrollBarRestoreFn;o&&(this._scrollBarRestoreFn=null,o())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(o,h,m){const E=m.container instanceof HTMLElement?m.container:nl(m.container)?this._document.querySelector(m.container):this._document.body,k=this._rendererFactory.createRenderer(null,null);if(!E)throw new Error(`The specified modal container "${m.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const J=new Jh,le=(o=m.injector||o).get(u.lqb,null)||this._environmentInjector,ge=this._getContentRef(o,le,h,J,m);let Ie=!1!==m.backdrop?this._attachBackdrop(E):void 0,tt=this._attachWindowComponent(E,ge.nodes),lt=new k_(tt,ge,Ie,m.beforeDismiss);return this._registerModalRef(lt),this._registerWindowCmpt(tt),lt.hidden.pipe((0,er.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(k.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),J.close=ut=>{lt.close(ut)},J.dismiss=ut=>{lt.dismiss(ut)},J.update=ut=>{lt.update(ut)},lt.update(m),1===this._modalRefs.length&&k.addClass(this._document.body,"modal-open"),Ie&&Ie.instance&&Ie.changeDetectorRef.detectChanges(),tt.changeDetectorRef.detectChanges(),lt}get activeInstances(){return this._activeInstances}dismissAll(o){this._modalRefs.forEach(h=>h.dismiss(o))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(o){let h=(0,u.LMc)(hb,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(h.hostView),o.appendChild(h.location.nativeElement),h}_attachWindowComponent(o,h){let m=(0,u.LMc)(fb,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:h});return this._applicationRef.attachView(m.hostView),o.appendChild(m.location.nativeElement),m}_getContentRef(o,h,m,E,k){return m?m instanceof u.Rgc?this._createFromTemplateRef(m,E):Kl(m)?this._createFromString(m):this._createFromComponent(o,h,m,E,k):new ld([])}_createFromTemplateRef(o,h){const E=o.createEmbeddedView({$implicit:h,close(k){h.close(k)},dismiss(k){h.dismiss(k)}});return this._applicationRef.attachView(E),new ld([E.rootNodes],E)}_createFromString(o){const h=this._document.createTextNode(`${o}`);return new ld([[h]])}_createFromComponent(o,h,m,E,k){const J=u.zs3.create({providers:[{provide:Jh,useValue:E}],parent:o}),le=(0,u.LMc)(m,{environmentInjector:h,elementInjector:J}),ge=le.location.nativeElement;return k.scrollable&&ge.classList.add("component-host-scrollable"),this._applicationRef.attachView(le.hostView),new ld([[ge]],le.hostView,le)}_setAriaHidden(o){const h=o.parentElement;h&&o!==this._document.body&&(Array.from(h.children).forEach(m=>{m!==o&&"SCRIPT"!==m.nodeName&&(this._ariaHiddenValues.set(m,m.getAttribute("aria-hidden")),m.setAttribute("aria-hidden","true"))}),this._setAriaHidden(h))}_revertAriaHidden(){this._ariaHiddenValues.forEach((o,h)=>{o?h.setAttribute("aria-hidden",o):h.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(o){const h=()=>{const m=this._modalRefs.indexOf(o);m>-1&&(this._modalRefs.splice(m,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(o),this._activeInstances.emit(this._modalRefs),o.result.then(h,h)}_registerWindowCmpt(o){this._windowCmpts.push(o),this._activeWindowCmptHasChanged.next(),o.onDestroy(()=>{const h=this._windowCmpts.indexOf(o);h>-1&&(this._windowCmpts.splice(h,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(u.lqb),u.LFG(Se.K0),u.LFG(ef),u.LFG(u.FYo),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),Av=(()=>{class l{constructor(o){this._ngbConfig=o,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(o){this._animation=o}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(Bh))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),pb=(()=>{class l{constructor(o,h,m){this._injector=o,this._modalStack=h,this._config=m}open(o,h={}){const m={...this._config,animation:this._config.animation,...h};return this._modalStack.open(this._injector,o,m)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(o){this._modalStack.dismissAll(o)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(u.zs3),u.LFG(L_),u.LFG(Av))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),tf=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({providers:[pb]})}return l})(),hd=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Ov=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Kg=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Yg=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Rv=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),fd=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Fv=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Dp=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Cp=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})();new u.OlP("live announcer delay",{providedIn:"root",factory:function Z_(){return 100}});let Fu=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Ap=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})();const wb=[Ig,qd,Z1,K1,db,Qh,tf,hd,Ap,Ov,Kg,Yg,Rv,fd,Fv,Dp,Cp,Fu];let sm=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({imports:[wb,Ig,qd,Z1,K1,db,Qh,tf,hd,Ap,Ov,Kg,Yg,Rv,fd,Fv,Dp,Cp,Fu]})}return l})();var df=K(2772);function Np(l){return new u.vHH(3e3,!1)}function Al(l){switch(l.length){case 0:return new Hi;case 1:return l[0];default:return new Ss(l)}}function pd(l,f,o=new Map,h=new Map){const m=[],E=[];let k=-1,J=null;if(f.forEach(le=>{const ge=le.get("offset"),Ie=ge==k,tt=Ie&&J||new Map;le.forEach((lt,ut)=>{let Pt=ut,Vt=lt;if("offset"!==ut)switch(Pt=l.normalizePropertyName(Pt,m),Vt){case"!":Vt=o.get(ut);break;case Ui:Vt=h.get(ut);break;default:Vt=l.normalizeStyleValue(ut,Pt,Vt,m)}tt.set(Pt,Vt)}),Ie||E.push(tt),J=tt,k=ge}),m.length)throw function xp(l){return new u.vHH(3502,!1)}();return E}function al(l,f,o,h){switch(f){case"start":l.onStart(()=>h(o&&gd(o,"start",l)));break;case"done":l.onDone(()=>h(o&&gd(o,"done",l)));break;case"destroy":l.onDestroy(()=>h(o&&gd(o,"destroy",l)))}}function gd(l,f,o){const E=ry(l.element,l.triggerName,l.fromState,l.toState,f||l.phaseName,o.totalTime??l.totalTime,!!o.disabled),k=l._data;return null!=k&&(E._data=k),E}function ry(l,f,o,h,m="",E=0,k){return{element:l,triggerName:f,fromState:o,toState:h,phaseName:m,totalTime:E,disabled:!!k}}function xc(l,f,o){let h=l.get(f);return h||l.set(f,h=o),h}function iy(l){const f=l.indexOf(":");return[l.substring(1,f),l.slice(f+1)]}const Rp=(()=>typeof document>"u"?null:document.documentElement)();function Bu(l){const f=l.parentNode||l.host||null;return f===Rp?null:f}let cl=null,lm=!1;function fs(l,f){for(;f;){if(f===l)return!0;f=Bu(f)}return!1}function sy(l,f,o){if(o)return Array.from(l.querySelectorAll(f));const h=l.querySelector(f);return h?[h]:[]}let Mb=(()=>{class l{validateStyleProperty(o){return function pf(l){cl||(cl=function Nb(){return typeof document<"u"?document.body:null}()||{},lm=!!cl.style&&"WebkitAppearance"in cl.style);let f=!0;return cl.style&&!function md(l){return"ebkit"==l.substring(1,6)}(l)&&(f=l in cl.style,!f&&lm&&(f="Webkit"+l.charAt(0).toUpperCase()+l.slice(1)in cl.style)),f}(o)}matchesElement(o,h){return!1}containsElement(o,h){return fs(o,h)}getParentElement(o){return Bu(o)}query(o,h,m){return sy(o,h,m)}computeStyle(o,h,m){return m||""}animate(o,h,m,E,k,J=[],le){return new Hi(m,E)}static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac})}return l})(),oy=(()=>{class l{static#e=this.NOOP=new Mb}return l})();const xb=1e3,dh="ng-enter",dm="ng-leave",Oa="ng-trigger",gf=".ng-trigger",cy="ng-animating",hm=".ng-animating";function ll(l){if("number"==typeof l)return l;const f=l.match(/^(-?[\.\d]+)(m?s)/);return!f||f.length<2?0:_d(parseFloat(f[1]),f[2])}function _d(l,f){return"s"===f?l*xb:l}function ir(l,f,o){return l.hasOwnProperty("duration")?l:function fm(l,f,o){let m,E=0,k="";if("string"==typeof l){const J=l.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===J)return f.push(Np()),{duration:0,delay:0,easing:""};m=_d(parseFloat(J[1]),J[2]);const le=J[3];null!=le&&(E=_d(parseFloat(le),J[4]));const ge=J[5];ge&&(k=ge)}else m=l;if(!o){let J=!1,le=f.length;m<0&&(f.push(function hf(){return new u.vHH(3100,!1)}()),J=!0),E<0&&(f.push(function lh(){return new u.vHH(3101,!1)}()),J=!0),J&&f.splice(le,0,Np())}return{duration:m,delay:E,easing:k}}(l,f,o)}function Vu(l,f={}){return Object.keys(l).forEach(o=>{f[o]=l[o]}),f}function yd(l){const f=new Map;return Object.keys(l).forEach(o=>{f.set(o,l[o])}),f}function ul(l,f=new Map,o){if(o)for(let[h,m]of o)f.set(h,m);for(let[h,m]of l)f.set(h,m);return f}function Eo(l,f,o){f.forEach((h,m)=>{const E=Uu(m);o&&!o.has(m)&&o.set(m,l.style[E]),l.style[E]=h})}function ru(l,f){f.forEach((o,h)=>{const m=Uu(h);l.style[m]=""})}function iu(l){return Array.isArray(l)?1==l.length?l[0]:Va(l):l}const hh=new RegExp("{{\\s*(.+?)\\s*}}","g");function kp(l){let f=[];if("string"==typeof l){let o;for(;o=hh.exec(l);)f.push(o[1]);hh.lastIndex=0}return f}function su(l,f,o){const h=l.toString(),m=h.replace(hh,(E,k)=>{let J=f[k];return null==J&&(o.push(function Eb(l){return new u.vHH(3003,!1)}()),J=""),J.toString()});return m==h?l:m}function mf(l){const f=[];let o=l.next();for(;!o.done;)f.push(o.value),o=l.next();return f}const gm=/-+([a-z0-9])/g;function Uu(l){return l.replace(gm,(...f)=>f[1].toUpperCase())}function gc(l,f,o){switch(f.type){case 7:return l.visitTrigger(f,o);case 0:return l.visitState(f,o);case 1:return l.visitTransition(f,o);case 2:return l.visitSequence(f,o);case 3:return l.visitGroup(f,o);case 4:return l.visitAnimate(f,o);case 5:return l.visitKeyframes(f,o);case 6:return l.visitStyle(f,o);case 8:return l.visitReference(f,o);case 9:return l.visitAnimateChild(f,o);case 10:return l.visitAnimateRef(f,o);case 11:return l.visitQuery(f,o);case 12:return l.visitStagger(f,o);default:throw function Tb(l){return new u.vHH(3004,!1)}()}}function Fp(l,f){return window.getComputedStyle(l)[f]}const $o="*";function bi(l,f){const o=[];return"string"==typeof l?l.split(/\s*,\s*/).forEach(h=>function kb(l,f,o){if(":"==l[0]){const le=function Xv(l,f){switch(l){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,h)=>parseFloat(h)>parseFloat(o);case":decrement":return(o,h)=>parseFloat(h)<parseFloat(o);default:return f.push(function $v(l){return new u.vHH(3016,!1)}()),"* => *"}}(l,o);if("function"==typeof le)return void f.push(le);l=le}const h=l.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==h||h.length<4)return o.push(function Sl(l){return new u.vHH(3015,!1)}()),f;const m=h[1],E=h[2],k=h[3];f.push(mm(m,k));"<"==E[0]&&!(m==$o&&k==$o)&&f.push(mm(k,m))}(h,o,f)):o.push(l),o}const Ja=new Set(["true","1"]),yf=new Set(["false","0"]);function mm(l,f){const o=Ja.has(l)||yf.has(l),h=Ja.has(f)||yf.has(f);return(m,E)=>{let k=l==$o||l==m,J=f==$o||f==E;return!k&&o&&"boolean"==typeof m&&(k=m?Ja.has(l):yf.has(l)),!J&&h&&"boolean"==typeof E&&(J=E?Ja.has(f):yf.has(f)),k&&J}}const uy=new RegExp("s*:selfs*,?","g");function Lp(l,f,o,h){return new hl(l).build(f,o,h)}class hl{constructor(f){this._driver=f}build(f,o,h){const m=new ym(o);return this._resetContextStyleTimingState(m),gc(this,iu(f),m)}_resetContextStyleTimingState(f){f.currentQuerySelector="",f.collectedStyles=new Map,f.collectedStyles.set("",new Map),f.currentTime=0}visitTrigger(f,o){let h=o.queryCount=0,m=o.depCount=0;const E=[],k=[];return"@"==f.name.charAt(0)&&o.errors.push(function J_(){return new u.vHH(3006,!1)}()),f.definitions.forEach(J=>{if(this._resetContextStyleTimingState(o),0==J.type){const le=J,ge=le.name;ge.toString().split(/\s*,\s*/).forEach(Ie=>{le.name=Ie,E.push(this.visitState(le,o))}),le.name=ge}else if(1==J.type){const le=this.visitTransition(J,o);h+=le.queryCount,m+=le.depCount,k.push(le)}else o.errors.push(function Gv(){return new u.vHH(3007,!1)}())}),{type:7,name:f.name,states:E,transitions:k,queryCount:h,depCount:m,options:null}}visitState(f,o){const h=this.visitStyle(f.styles,o),m=f.options&&f.options.params||null;if(h.containsDynamicStyles){const E=new Set,k=m||{};h.styles.forEach(J=>{J instanceof Map&&J.forEach(le=>{kp(le).forEach(ge=>{k.hasOwnProperty(ge)||E.add(ge)})})}),E.size&&(mf(E.values()),o.errors.push(function ha(l,f){return new u.vHH(3008,!1)}()))}return{type:0,name:f.name,style:h,options:m?{params:m}:null}}visitTransition(f,o){o.queryCount=0,o.depCount=0;const h=gc(this,iu(f.animation),o);return{type:1,matchers:bi(f.expr,o.errors),animation:h,queryCount:o.queryCount,depCount:o.depCount,options:vd(f.options)}}visitSequence(f,o){return{type:2,steps:f.steps.map(h=>gc(this,h,o)),options:vd(f.options)}}visitGroup(f,o){const h=o.currentTime;let m=0;const E=f.steps.map(k=>{o.currentTime=h;const J=gc(this,k,o);return m=Math.max(m,o.currentTime),J});return o.currentTime=m,{type:3,steps:E,options:vd(f.options)}}visitAnimate(f,o){const h=function vm(l,f){if(l.hasOwnProperty("duration"))return l;if("number"==typeof l)return fa(ir(l,f).duration,0,"");const o=l;if(o.split(/\s+/).some(E=>"{"==E.charAt(0)&&"{"==E.charAt(1))){const E=fa(0,0,"");return E.dynamic=!0,E.strValue=o,E}const m=ir(o,f);return fa(m.duration,m.delay,m.easing)}(f.timings,o.errors);o.currentAnimateTimings=h;let m,E=f.styles?f.styles:Vr({});if(5==E.type)m=this.visitKeyframes(E,o);else{let k=f.styles,J=!1;if(!k){J=!0;const ge={};h.easing&&(ge.easing=h.easing),k=Vr(ge)}o.currentTime+=h.duration+h.delay;const le=this.visitStyle(k,o);le.isEmptyStep=J,m=le}return o.currentAnimateTimings=null,{type:4,timings:h,style:m,options:null}}visitStyle(f,o){const h=this._makeStyleAst(f,o);return this._validateStyleAst(h,o),h}_makeStyleAst(f,o){const h=[],m=Array.isArray(f.styles)?f.styles:[f.styles];for(let J of m)"string"==typeof J?J===Ui?h.push(J):o.errors.push(new u.vHH(3002,!1)):h.push(yd(J));let E=!1,k=null;return h.forEach(J=>{if(J instanceof Map&&(J.has("easing")&&(k=J.get("easing"),J.delete("easing")),!E))for(let le of J.values())if(le.toString().indexOf("{{")>=0){E=!0;break}}),{type:6,styles:h,easing:k,offset:f.offset,containsDynamicStyles:E,options:null}}_validateStyleAst(f,o){const h=o.currentAnimateTimings;let m=o.currentTime,E=o.currentTime;h&&E>0&&(E-=h.duration+h.delay),f.styles.forEach(k=>{"string"!=typeof k&&k.forEach((J,le)=>{const ge=o.collectedStyles.get(o.currentQuerySelector),Ie=ge.get(le);let tt=!0;Ie&&(E!=m&&E>=Ie.startTime&&m<=Ie.endTime&&(o.errors.push(function ff(l,f,o,h,m){return new u.vHH(3010,!1)}()),tt=!1),E=Ie.startTime),tt&&ge.set(le,{startTime:E,endTime:m}),o.options&&function pm(l,f,o){const h=f.params||{},m=kp(l);m.length&&m.forEach(E=>{h.hasOwnProperty(E)||o.push(function om(l){return new u.vHH(3001,!1)}())})}(J,o.options,o.errors)})})}visitKeyframes(f,o){const h={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function Lu(){return new u.vHH(3011,!1)}()),h;let E=0;const k=[];let J=!1,le=!1,ge=0;const Ie=f.steps.map(On=>{const En=this._makeStyleAst(On,o);let hr=null!=En.offset?En.offset:function Bp(l){if("string"==typeof l)return null;let f=null;if(Array.isArray(l))l.forEach(o=>{if(o instanceof Map&&o.has("offset")){const h=o;f=parseFloat(h.get("offset")),h.delete("offset")}});else if(l instanceof Map&&l.has("offset")){const o=l;f=parseFloat(o.get("offset")),o.delete("offset")}return f}(En.styles),Wt=0;return null!=hr&&(E++,Wt=En.offset=hr),le=le||Wt<0||Wt>1,J=J||Wt<ge,ge=Wt,k.push(Wt),En});le&&o.errors.push(function vi(){return new u.vHH(3012,!1)}()),J&&o.errors.push(function am(){return new u.vHH(3200,!1)}());const tt=f.steps.length;let lt=0;E>0&&E<tt?o.errors.push(function Op(){return new u.vHH(3202,!1)}()):0==E&&(lt=1/(tt-1));const ut=tt-1,Pt=o.currentTime,Vt=o.currentAnimateTimings,Rt=Vt.duration;return Ie.forEach((On,En)=>{const hr=lt>0?En==ut?1:lt*En:k[En],Wt=hr*Rt;o.currentTime=Pt+Vt.delay+Wt,Vt.duration=Wt,this._validateStyleAst(On,o),On.offset=hr,h.styles.push(On)}),h}visitReference(f,o){return{type:8,animation:gc(this,iu(f.animation),o),options:vd(f.options)}}visitAnimateChild(f,o){return o.depCount++,{type:9,options:vd(f.options)}}visitAnimateRef(f,o){return{type:10,animation:this.visitReference(f.animation,o),options:vd(f.options)}}visitQuery(f,o){const h=o.currentQuerySelector,m=f.options||{};o.queryCount++,o.currentQuery=f;const[E,k]=function To(l){const f=!!l.split(/\s*,\s*/).find(o=>":self"==o);return f&&(l=l.replace(uy,"")),l=l.replace(/@\*/g,gf).replace(/@\w+/g,o=>gf+"-"+o.slice(1)).replace(/:animating/g,hm),[l,f]}(f.selector);o.currentQuerySelector=h.length?h+" "+E:E,xc(o.collectedStyles,o.currentQuerySelector,new Map);const J=gc(this,iu(f.animation),o);return o.currentQuery=null,o.currentQuerySelector=h,{type:11,selector:E,limit:m.limit||0,optional:!!m.optional,includeSelf:k,animation:J,originalSelector:f.selector,options:vd(f.options)}}visitStagger(f,o){o.currentQuery||o.errors.push(function Mp(){return new u.vHH(3013,!1)}());const h="full"===f.timings?{duration:0,delay:0,easing:"full"}:ir(f.timings,o.errors,!0);return{type:12,animation:gc(this,iu(f.animation),o),timings:h,options:null}}}class ym{constructor(f){this.errors=f,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function vd(l){return l?(l=Vu(l)).params&&(l.params=function _m(l){return l?Vu(l):null}(l.params)):l={},l}function fa(l,f,o){return{duration:l,delay:f,easing:o}}function Vp(l,f,o,h,m,E,k=null,J=!1){return{type:1,element:l,keyframes:f,preStyleProps:o,postStyleProps:h,duration:m,delay:E,totalTime:m+E,easing:k,subTimeline:J}}class bm{constructor(){this._map=new Map}get(f){return this._map.get(f)||[]}append(f,o){let h=this._map.get(f);h||this._map.set(f,h=[]),h.push(...o)}has(f){return this._map.has(f)}clear(){this._map.clear()}}const e0=new RegExp(":enter","g"),Im=new RegExp(":leave","g");function bd(l,f,o,h,m,E=new Map,k=new Map,J,le,ge=[]){return(new mE).buildKeyframes(l,f,o,h,m,E,k,J,le,ge)}class mE{buildKeyframes(f,o,h,m,E,k,J,le,ge,Ie=[]){ge=ge||new bm;const tt=new Hu(f,o,ge,m,E,Ie,[]);tt.options=le;const lt=le.delay?ll(le.delay):0;tt.currentTimeline.delayNextStep(lt),tt.currentTimeline.setStyles([k],null,tt.errors,le),gc(this,h,tt);const ut=tt.timelines.filter(Pt=>Pt.containsAnimation());if(ut.length&&J.size){let Pt;for(let Vt=ut.length-1;Vt>=0;Vt--){const Rt=ut[Vt];if(Rt.element===o){Pt=Rt;break}}Pt&&!Pt.allowOnlyTimelineStyles()&&Pt.setStyles([J],null,tt.errors,le)}return ut.length?ut.map(Pt=>Pt.buildKeyframes()):[Vp(o,[],[],[],0,lt,"",!1)]}visitTrigger(f,o){}visitState(f,o){}visitTransition(f,o){}visitAnimateChild(f,o){const h=o.subInstructions.get(o.element);if(h){const m=o.createSubContext(f.options),E=o.currentTimeline.currentTime,k=this._visitSubInstructions(h,m,m.options);E!=k&&o.transformIntoNewTimeline(k)}o.previousNode=f}visitAnimateRef(f,o){const h=o.createSubContext(f.options);h.transformIntoNewTimeline(),this._applyAnimationRefDelays([f.options,f.animation.options],o,h),this.visitReference(f.animation,h),o.transformIntoNewTimeline(h.currentTimeline.currentTime),o.previousNode=f}_applyAnimationRefDelays(f,o,h){for(const m of f){const E=m?.delay;if(E){const k="number"==typeof E?E:ll(su(E,m?.params??{},o.errors));h.delayNextStep(k)}}}_visitSubInstructions(f,o,h){let E=o.currentTimeline.currentTime;const k=null!=h.duration?ll(h.duration):null,J=null!=h.delay?ll(h.delay):null;return 0!==k&&f.forEach(le=>{const ge=o.appendInstructionToTimeline(le,k,J);E=Math.max(E,ge.duration+ge.delay)}),E}visitReference(f,o){o.updateOptions(f.options,!0),gc(this,f.animation,o),o.previousNode=f}visitSequence(f,o){const h=o.subContextCount;let m=o;const E=f.options;if(E&&(E.params||E.delay)&&(m=o.createSubContext(E),m.transformIntoNewTimeline(),null!=E.delay)){6==m.previousNode.type&&(m.currentTimeline.snapshotCurrentStyles(),m.previousNode=Up);const k=ll(E.delay);m.delayNextStep(k)}f.steps.length&&(f.steps.forEach(k=>gc(this,k,m)),m.currentTimeline.applyStylesToKeyframe(),m.subContextCount>h&&m.transformIntoNewTimeline()),o.previousNode=f}visitGroup(f,o){const h=[];let m=o.currentTimeline.currentTime;const E=f.options&&f.options.delay?ll(f.options.delay):0;f.steps.forEach(k=>{const J=o.createSubContext(f.options);E&&J.delayNextStep(E),gc(this,k,J),m=Math.max(m,J.currentTimeline.currentTime),h.push(J.currentTimeline)}),h.forEach(k=>o.currentTimeline.mergeTimelineCollectedStyles(k)),o.transformIntoNewTimeline(m),o.previousNode=f}_visitTiming(f,o){if(f.dynamic){const h=f.strValue;return ir(o.params?su(h,o.params,o.errors):h,o.errors)}return{duration:f.duration,delay:f.delay,easing:f.easing}}visitAnimate(f,o){const h=o.currentAnimateTimings=this._visitTiming(f.timings,o),m=o.currentTimeline;h.delay&&(o.incrementTime(h.delay),m.snapshotCurrentStyles());const E=f.style;5==E.type?this.visitKeyframes(E,o):(o.incrementTime(h.duration),this.visitStyle(E,o),m.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=f}visitStyle(f,o){const h=o.currentTimeline,m=o.currentAnimateTimings;!m&&h.hasCurrentStyleProperties()&&h.forwardFrame();const E=m&&m.easing||f.easing;f.isEmptyStep?h.applyEmptyStep(E):h.setStyles(f.styles,E,o.errors,o.options),o.previousNode=f}visitKeyframes(f,o){const h=o.currentAnimateTimings,m=o.currentTimeline.duration,E=h.duration,J=o.createSubContext().currentTimeline;J.easing=h.easing,f.styles.forEach(le=>{J.forwardTime((le.offset||0)*E),J.setStyles(le.styles,le.easing,o.errors,o.options),J.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(J),o.transformIntoNewTimeline(m+E),o.previousNode=f}visitQuery(f,o){const h=o.currentTimeline.currentTime,m=f.options||{},E=m.delay?ll(m.delay):0;E&&(6===o.previousNode.type||0==h&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Up);let k=h;const J=o.invokeQuery(f.selector,f.originalSelector,f.limit,f.includeSelf,!!m.optional,o.errors);o.currentQueryTotal=J.length;let le=null;J.forEach((ge,Ie)=>{o.currentQueryIndex=Ie;const tt=o.createSubContext(f.options,ge);E&&tt.delayNextStep(E),ge===o.element&&(le=tt.currentTimeline),gc(this,f.animation,tt),tt.currentTimeline.applyStylesToKeyframe(),k=Math.max(k,tt.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(k),le&&(o.currentTimeline.mergeTimelineCollectedStyles(le),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=f}visitStagger(f,o){const h=o.parentContext,m=o.currentTimeline,E=f.timings,k=Math.abs(E.duration),J=k*(o.currentQueryTotal-1);let le=k*o.currentQueryIndex;switch(E.duration<0?"reverse":E.easing){case"reverse":le=J-le;break;case"full":le=h.currentStaggerTime}const Ie=o.currentTimeline;le&&Ie.delayNextStep(le);const tt=Ie.currentTime;gc(this,f.animation,o),o.previousNode=f,h.currentStaggerTime=m.currentTime-tt+(m.startTime-h.currentTimeline.startTime)}}const Up={};class Hu{constructor(f,o,h,m,E,k,J,le){this._driver=f,this.element=o,this.subInstructions=h,this._enterClassName=m,this._leaveClassName=E,this.errors=k,this.timelines=J,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Up,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=le||new vf(this._driver,o,0),J.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(f,o){if(!f)return;const h=f;let m=this.options;null!=h.duration&&(m.duration=ll(h.duration)),null!=h.delay&&(m.delay=ll(h.delay));const E=h.params;if(E){let k=m.params;k||(k=this.options.params={}),Object.keys(E).forEach(J=>{(!o||!k.hasOwnProperty(J))&&(k[J]=su(E[J],k,this.errors))})}}_copyOptions(){const f={};if(this.options){const o=this.options.params;if(o){const h=f.params={};Object.keys(o).forEach(m=>{h[m]=o[m]})}}return f}createSubContext(f=null,o,h){const m=o||this.element,E=new Hu(this._driver,m,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(m,h||0));return E.previousNode=this.previousNode,E.currentAnimateTimings=this.currentAnimateTimings,E.options=this._copyOptions(),E.updateOptions(f),E.currentQueryIndex=this.currentQueryIndex,E.currentQueryTotal=this.currentQueryTotal,E.parentContext=this,this.subContextCount++,E}transformIntoNewTimeline(f){return this.previousNode=Up,this.currentTimeline=this.currentTimeline.fork(this.element,f),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(f,o,h){const m={duration:o??f.duration,delay:this.currentTimeline.currentTime+(h??0)+f.delay,easing:""},E=new Do(this._driver,f.element,f.keyframes,f.preStyleProps,f.postStyleProps,m,f.stretchStartingKeyframe);return this.timelines.push(E),m}incrementTime(f){this.currentTimeline.forwardTime(this.currentTimeline.duration+f)}delayNextStep(f){f>0&&this.currentTimeline.delayNextStep(f)}invokeQuery(f,o,h,m,E,k){let J=[];if(m&&J.push(this.element),f.length>0){f=(f=f.replace(e0,"."+this._enterClassName)).replace(Im,"."+this._leaveClassName);let ge=this._driver.query(this.element,f,1!=h);0!==h&&(ge=h<0?ge.slice(ge.length+h,ge.length):ge.slice(0,h)),J.push(...ge)}return!E&&0==J.length&&k.push(function X_(l){return new u.vHH(3014,!1)}()),J}}class vf{constructor(f,o,h,m){this._driver=f,this.element=o,this.startTime=h,this._elementTimelineStylesLookup=m,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(f){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+f),o&&this.snapshotCurrentStyles()):this.startTime+=f}fork(f,o){return this.applyStylesToKeyframe(),new vf(this._driver,f,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(f){this.applyStylesToKeyframe(),this.duration=f,this._loadKeyframe()}_updateStyle(f,o){this._localTimelineStyles.set(f,o),this._globalTimelineStyles.set(f,o),this._styleSummary.set(f,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(f){f&&this._previousKeyframe.set("easing",f);for(let[o,h]of this._globalTimelineStyles)this._backFill.set(o,h||Ui),this._currentKeyframe.set(o,Ui);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(f,o,h,m){o&&this._previousKeyframe.set("easing",o);const E=m&&m.params||{},k=function Ma(l,f){const o=new Map;let h;return l.forEach(m=>{if("*"===m){h=h||f.keys();for(let E of h)o.set(E,Ui)}else ul(m,o)}),o}(f,this._globalTimelineStyles);for(let[J,le]of k){const ge=su(le,E,h);this._pendingStyles.set(J,ge),this._localTimelineStyles.has(J)||this._backFill.set(J,this._globalTimelineStyles.get(J)??Ui),this._updateStyle(J,ge)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((f,o)=>{this._currentKeyframe.set(o,f)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((f,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,f)}))}snapshotCurrentStyles(){for(let[f,o]of this._localTimelineStyles)this._pendingStyles.set(f,o),this._updateStyle(f,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const f=[];for(let o in this._currentKeyframe)f.push(o);return f}mergeTimelineCollectedStyles(f){f._styleSummary.forEach((o,h)=>{const m=this._styleSummary.get(h);(!m||o.time>m.time)&&this._updateStyle(h,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const f=new Set,o=new Set,h=1===this._keyframes.size&&0===this.duration;let m=[];this._keyframes.forEach((J,le)=>{const ge=ul(J,new Map,this._backFill);ge.forEach((Ie,tt)=>{"!"===Ie?f.add(tt):Ie===Ui&&o.add(tt)}),h||ge.set("offset",le/this.duration),m.push(ge)});const E=f.size?mf(f.values()):[],k=o.size?mf(o.values()):[];if(h){const J=m[0],le=new Map(J);J.set("offset",0),le.set("offset",1),m=[J,le]}return Vp(this.element,m,E,k,this.duration,this.startTime,this.easing,!1)}}class Do extends vf{constructor(f,o,h,m,E,k,J=!1){super(f,o,k.delay),this.keyframes=h,this.preStyleProps=m,this.postStyleProps=E,this._stretchStartingKeyframe=J,this.timings={duration:k.duration,delay:k.delay,easing:k.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let f=this.keyframes,{delay:o,duration:h,easing:m}=this.timings;if(this._stretchStartingKeyframe&&o){const E=[],k=h+o,J=o/k,le=ul(f[0]);le.set("offset",0),E.push(le);const ge=ul(f[0]);ge.set("offset",Gu(J)),E.push(ge);const Ie=f.length-1;for(let tt=1;tt<=Ie;tt++){let lt=ul(f[tt]);const ut=lt.get("offset");lt.set("offset",Gu((o+ut*h)/k)),E.push(lt)}h=k,o=0,m="",f=E}return Vp(this.element,f,this.preStyleProps,this.postStyleProps,h,o,m,!0)}}function Gu(l,f=3){const o=Math.pow(10,f-1);return Math.round(l*o)/o}class n0{}const Vs=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class fl extends n0{normalizePropertyName(f,o){return Uu(f)}normalizeStyleValue(f,o,h,m){let E="";const k=h.toString().trim();if(Vs.has(o)&&0!==h&&"0"!==h)if("number"==typeof h)E="px";else{const J=h.match(/^[+-]?[\d\.]+([a-z]*)$/);J&&0==J[1].length&&m.push(function Db(l,f){return new u.vHH(3005,!1)}())}return k+E}}function Em(l,f,o,h,m,E,k,J,le,ge,Ie,tt,lt){return{type:0,element:l,triggerName:f,isRemovalTransition:m,fromState:o,fromStyles:E,toState:h,toStyles:k,timelines:J,queriedElements:le,preStyleProps:ge,postStyleProps:Ie,totalTime:tt,errors:lt}}const cn={};class In{constructor(f,o,h){this._triggerName=f,this.ast=o,this._stateStyles=h}match(f,o,h,m){return function Xt(l,f,o,h,m){return l.some(E=>E(f,o,h,m))}(this.ast.matchers,f,o,h,m)}buildStyles(f,o,h){let m=this._stateStyles.get("*");return void 0!==f&&(m=this._stateStyles.get(f?.toString())||m),m?m.buildStyles(o,h):new Map}build(f,o,h,m,E,k,J,le,ge,Ie){const tt=[],lt=this.ast.options&&this.ast.options.params||cn,Pt=this.buildStyles(h,J&&J.params||cn,tt),Vt=le&&le.params||cn,Rt=this.buildStyles(m,Vt,tt),On=new Set,En=new Map,hr=new Map,Wt="void"===m,or={params:it(Vt,lt),delay:this.ast.options?.delay},Rn=Ie?[]:bd(f,o,this.ast.animation,E,k,Pt,Rt,or,ge,tt);let Tn=0;if(Rn.forEach(ei=>{Tn=Math.max(ei.duration+ei.delay,Tn)}),tt.length)return Em(o,this._triggerName,h,m,Wt,Pt,Rt,[],[],En,hr,Tn,tt);Rn.forEach(ei=>{const wr=ei.element,Xs=xc(En,wr,new Set);ei.preStyleProps.forEach(yr=>Xs.add(yr));const Pa=xc(hr,wr,new Set);ei.postStyleProps.forEach(yr=>Pa.add(yr)),wr!==o&&On.add(wr)});const Sr=mf(On.values());return Em(o,this._triggerName,h,m,Wt,Pt,Rt,Rn,Sr,En,hr,Tn)}}function it(l,f){const o=Vu(f);for(const h in l)l.hasOwnProperty(h)&&null!=l[h]&&(o[h]=l[h]);return o}class St{constructor(f,o,h){this.styles=f,this.defaultParams=o,this.normalizer=h}buildStyles(f,o){const h=new Map,m=Vu(this.defaultParams);return Object.keys(f).forEach(E=>{const k=f[E];null!==k&&(m[E]=k)}),this.styles.styles.forEach(E=>{"string"!=typeof E&&E.forEach((k,J)=>{k&&(k=su(k,m,o));const le=this.normalizer.normalizePropertyName(J,o);k=this.normalizer.normalizeStyleValue(J,le,k,o),h.set(J,k)})}),h}}class hy{constructor(f,o,h){this.name=f,this.ast=o,this._normalizer=h,this.transitionFactories=[],this.states=new Map,o.states.forEach(m=>{this.states.set(m.name,new St(m.style,m.options&&m.options.params||{},h))}),r0(this.states,"true","1"),r0(this.states,"false","0"),o.transitions.forEach(m=>{this.transitionFactories.push(new In(f,m,this.states))}),this.fallbackTransition=function Lb(l,f,o){return new In(l,{type:1,animation:{type:2,steps:[],options:null},matchers:[(k,J)=>!0],options:null,queryCount:0,depCount:0},f)}(f,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(f,o,h,m){return this.transitionFactories.find(k=>k.match(f,o,h,m))||null}matchStyles(f,o,h){return this.fallbackTransition.buildStyles(f,o,h)}}function r0(l,f,o){l.has(f)?l.has(o)||l.set(o,l.get(f)):l.has(o)&&l.set(f,l.get(o))}const s0=new bm;class o0{constructor(f,o,h){this.bodyNode=f,this._driver=o,this._normalizer=h,this._animations=new Map,this._playersById=new Map,this.players=[]}register(f,o){const h=[],E=Lp(this._driver,o,h,[]);if(h.length)throw function nu(l){return new u.vHH(3503,!1)}();this._animations.set(f,E)}_buildPlayer(f,o,h){const m=f.element,E=pd(this._normalizer,f.keyframes,o,h);return this._driver.animate(m,E,f.duration,f.delay,f.easing,[],!0)}create(f,o,h={}){const m=[],E=this._animations.get(f);let k;const J=new Map;if(E?(k=bd(this._driver,o,E,dh,dm,new Map,new Map,h,s0,m),k.forEach(Ie=>{const tt=xc(J,Ie.element,new Map);Ie.postStyleProps.forEach(lt=>tt.set(lt,null))})):(m.push(function zv(){return new u.vHH(3300,!1)}()),k=[]),m.length)throw function Wv(l){return new u.vHH(3504,!1)}();J.forEach((Ie,tt)=>{Ie.forEach((lt,ut)=>{Ie.set(ut,this._driver.computeStyle(tt,ut,Ui))})});const ge=Al(k.map(Ie=>{const tt=J.get(Ie.element);return this._buildPlayer(Ie,new Map,tt)}));return this._playersById.set(f,ge),ge.onDestroy(()=>this.destroy(f)),this.players.push(ge),ge}destroy(f){const o=this._getPlayer(f);o.destroy(),this._playersById.delete(f);const h=this.players.indexOf(o);h>=0&&this.players.splice(h,1)}_getPlayer(f){const o=this._playersById.get(f);if(!o)throw function cm(l){return new u.vHH(3301,!1)}();return o}listen(f,o,h,m){const E=ry(o,"","","");return al(this._getPlayer(f),h,E,m),()=>{}}command(f,o,h,m){if("register"==h)return void this.register(f,m[0]);if("create"==h)return void this.create(f,o,m[0]||{});const E=this._getPlayer(f);switch(h){case"play":E.play();break;case"pause":E.pause();break;case"reset":E.reset();break;case"restart":E.restart();break;case"finish":E.finish();break;case"init":E.init();break;case"setPosition":E.setPosition(parseFloat(m[0]));break;case"destroy":this.destroy(f)}}}const bf="ng-animate-queued",Tm="ng-animate-disabled",Qn=[],ph={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},l0={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xr="__ng_removed";class Nn{get params(){return this.options.params}constructor(f,o=""){this.namespaceId=o;const h=f&&f.hasOwnProperty("value");if(this.value=function fy(l){return l??null}(h?f.value:f),h){const E=Vu(f);delete E.value,this.options=E}else this.options={};this.options.params||(this.options.params={})}absorbOptions(f){const o=f.params;if(o){const h=this.options.params;Object.keys(o).forEach(m=>{null==h[m]&&(h[m]=o[m])})}}}const ju="void",jr=new Nn(ju);class Ub{constructor(f,o,h){this.id=f,this.hostElement=o,this._engine=h,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+f,Pc(o,this._hostClassName)}listen(f,o,h,m){if(!this._triggers.has(o))throw function uh(l,f){return new u.vHH(3302,!1)}();if(null==h||0==h.length)throw function qv(l){return new u.vHH(3303,!1)}();if(!function Hb(l){return"start"==l||"done"==l}(h))throw function Sb(l,f){return new u.vHH(3400,!1)}();const E=xc(this._elementListeners,f,[]),k={name:o,phase:h,callback:m};E.push(k);const J=xc(this._engine.statesByElement,f,new Map);return J.has(o)||(Pc(f,Oa),Pc(f,Oa+"-"+o),J.set(o,jr)),()=>{this._engine.afterFlush(()=>{const le=E.indexOf(k);le>=0&&E.splice(le,1),this._triggers.has(o)||J.delete(o)})}}register(f,o){return!this._triggers.has(f)&&(this._triggers.set(f,o),!0)}_getTrigger(f){const o=this._triggers.get(f);if(!o)throw function ey(l){return new u.vHH(3401,!1)}();return o}trigger(f,o,h,m=!0){const E=this._getTrigger(o),k=new Yt(this.id,o,f);let J=this._engine.statesByElement.get(f);J||(Pc(f,Oa),Pc(f,Oa+"-"+o),this._engine.statesByElement.set(f,J=new Map));let le=J.get(o);const ge=new Nn(h,this.id);if(!(h&&h.hasOwnProperty("value"))&&le&&ge.absorbOptions(le.options),J.set(o,ge),le||(le=jr),ge.value!==ju&&le.value===ge.value){if(!function Gb(l,f){const o=Object.keys(l),h=Object.keys(f);if(o.length!=h.length)return!1;for(let m=0;m<o.length;m++){const E=o[m];if(!f.hasOwnProperty(E)||l[E]!==f[E])return!1}return!0}(le.params,ge.params)){const Vt=[],Rt=E.matchStyles(le.value,le.params,Vt),On=E.matchStyles(ge.value,ge.params,Vt);Vt.length?this._engine.reportError(Vt):this._engine.afterFlush(()=>{ru(f,Rt),Eo(f,On)})}return}const lt=xc(this._engine.playersByElement,f,[]);lt.forEach(Vt=>{Vt.namespaceId==this.id&&Vt.triggerName==o&&Vt.queued&&Vt.destroy()});let ut=E.matchTransition(le.value,ge.value,f,ge.params),Pt=!1;if(!ut){if(!m)return;ut=E.fallbackTransition,Pt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:o,transition:ut,fromState:le,toState:ge,player:k,isFallbackTransition:Pt}),Pt||(Pc(f,bf),k.onStart(()=>{gh(f,bf)})),k.onDone(()=>{let Vt=this.players.indexOf(k);Vt>=0&&this.players.splice(Vt,1);const Rt=this._engine.playersByElement.get(f);if(Rt){let On=Rt.indexOf(k);On>=0&&Rt.splice(On,1)}}),this.players.push(k),lt.push(k),k}deregister(f){this._triggers.delete(f),this._engine.statesByElement.forEach(o=>o.delete(f)),this._elementListeners.forEach((o,h)=>{this._elementListeners.set(h,o.filter(m=>m.name!=f))})}clearElementCache(f){this._engine.statesByElement.delete(f),this._elementListeners.delete(f);const o=this._engine.playersByElement.get(f);o&&(o.forEach(h=>h.destroy()),this._engine.playersByElement.delete(f))}_signalRemovalForInnerTriggers(f,o){const h=this._engine.driver.query(f,gf,!0);h.forEach(m=>{if(m[Xr])return;const E=this._engine.fetchNamespacesByElement(m);E.size?E.forEach(k=>k.triggerLeaveAnimation(m,o,!1,!0)):this.clearElementCache(m)}),this._engine.afterFlushAnimationsDone(()=>h.forEach(m=>this.clearElementCache(m)))}triggerLeaveAnimation(f,o,h,m){const E=this._engine.statesByElement.get(f),k=new Map;if(E){const J=[];if(E.forEach((le,ge)=>{if(k.set(ge,le.value),this._triggers.has(ge)){const Ie=this.trigger(f,ge,ju,m);Ie&&J.push(Ie)}}),J.length)return this._engine.markElementAsRemoved(this.id,f,!0,o,k),h&&Al(J).onDone(()=>this._engine.processLeaveNode(f)),!0}return!1}prepareLeaveAnimationListeners(f){const o=this._elementListeners.get(f),h=this._engine.statesByElement.get(f);if(o&&h){const m=new Set;o.forEach(E=>{const k=E.name;if(m.has(k))return;m.add(k);const le=this._triggers.get(k).fallbackTransition,ge=h.get(k)||jr,Ie=new Nn(ju),tt=new Yt(this.id,k,f);this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:k,transition:le,fromState:ge,toState:Ie,player:tt,isFallbackTransition:!0})})}}removeNode(f,o){const h=this._engine;if(f.childElementCount&&this._signalRemovalForInnerTriggers(f,o),this.triggerLeaveAnimation(f,o,!0))return;let m=!1;if(h.totalAnimations){const E=h.players.length?h.playersByQueriedElement.get(f):[];if(E&&E.length)m=!0;else{let k=f;for(;k=k.parentNode;)if(h.statesByElement.get(k)){m=!0;break}}}if(this.prepareLeaveAnimationListeners(f),m)h.markElementAsRemoved(this.id,f,!1,o);else{const E=f[Xr];(!E||E===ph)&&(h.afterFlush(()=>this.clearElementCache(f)),h.destroyInnerAnimations(f),h._onRemovalComplete(f,o))}}insertNode(f,o){Pc(f,this._hostClassName)}drainQueuedTransitions(f){const o=[];return this._queue.forEach(h=>{const m=h.player;if(m.destroyed)return;const E=h.element,k=this._elementListeners.get(E);k&&k.forEach(J=>{if(J.name==h.triggerName){const le=ry(E,h.triggerName,h.fromState.value,h.toState.value);le._data=f,al(h.player,J.phase,le,J.callback)}}),m.markedForDestroy?this._engine.afterFlush(()=>{m.destroy()}):o.push(h)}),this._queue=[],o.sort((h,m)=>{const E=h.transition.ast.depCount,k=m.transition.ast.depCount;return 0==E||0==k?E-k:this._engine.driver.containsElement(h.element,m.element)?1:-1})}destroy(f){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,f)}}class Us{_onRemovalComplete(f,o){this.onRemovalComplete(f,o)}constructor(f,o,h){this.bodyNode=f,this.driver=o,this._normalizer=h,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(m,E)=>{}}get queuedPlayers(){const f=[];return this._namespaceList.forEach(o=>{o.players.forEach(h=>{h.queued&&f.push(h)})}),f}createNamespace(f,o){const h=new Ub(f,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(h,o):(this.newHostElements.set(o,h),this.collectEnterElement(o)),this._namespaceLookup[f]=h}_balanceNamespaceList(f,o){const h=this._namespaceList,m=this.namespacesByHostElement;if(h.length-1>=0){let k=!1,J=this.driver.getParentElement(o);for(;J;){const le=m.get(J);if(le){const ge=h.indexOf(le);h.splice(ge+1,0,f),k=!0;break}J=this.driver.getParentElement(J)}k||h.unshift(f)}else h.push(f);return m.set(o,f),f}register(f,o){let h=this._namespaceLookup[f];return h||(h=this.createNamespace(f,o)),h}registerTrigger(f,o,h){let m=this._namespaceLookup[f];m&&m.register(o,h)&&this.totalAnimations++}destroy(f,o){f&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const h=this._fetchNamespace(f);this.namespacesByHostElement.delete(h.hostElement);const m=this._namespaceList.indexOf(h);m>=0&&this._namespaceList.splice(m,1),h.destroy(o),delete this._namespaceLookup[f]}))}_fetchNamespace(f){return this._namespaceLookup[f]}fetchNamespacesByElement(f){const o=new Set,h=this.statesByElement.get(f);if(h)for(let m of h.values())if(m.namespaceId){const E=this._fetchNamespace(m.namespaceId);E&&o.add(E)}return o}trigger(f,o,h,m){if(Rc(o)){const E=this._fetchNamespace(f);if(E)return E.trigger(o,h,m),!0}return!1}insertNode(f,o,h,m){if(!Rc(o))return;const E=o[Xr];if(E&&E.setForRemoval){E.setForRemoval=!1,E.setForMove=!0;const k=this.collectedLeaveElements.indexOf(o);k>=0&&this.collectedLeaveElements.splice(k,1)}if(f){const k=this._fetchNamespace(f);k&&k.insertNode(o,h)}m&&this.collectEnterElement(o)}collectEnterElement(f){this.collectedEnterElements.push(f)}markElementAsDisabled(f,o){o?this.disabledNodes.has(f)||(this.disabledNodes.add(f),Pc(f,Tm)):this.disabledNodes.has(f)&&(this.disabledNodes.delete(f),gh(f,Tm))}removeNode(f,o,h){if(Rc(o)){const m=f?this._fetchNamespace(f):null;m?m.removeNode(o,h):this.markElementAsRemoved(f,o,!1,h);const E=this.namespacesByHostElement.get(o);E&&E.id!==f&&E.removeNode(o,h)}else this._onRemovalComplete(o,h)}markElementAsRemoved(f,o,h,m,E){this.collectedLeaveElements.push(o),o[Xr]={namespaceId:f,setForRemoval:m,hasAnimation:h,removedBeforeQueried:!1,previousTriggersValues:E}}listen(f,o,h,m,E){return Rc(o)?this._fetchNamespace(f).listen(o,h,m,E):()=>{}}_buildInstruction(f,o,h,m,E){return f.transition.build(this.driver,f.element,f.fromState.value,f.toState.value,h,m,f.fromState.options,f.toState.options,o,E)}destroyInnerAnimations(f){let o=this.driver.query(f,gf,!0);o.forEach(h=>this.destroyActiveAnimationsForElement(h)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(f,hm,!0),o.forEach(h=>this.finishActiveQueriedAnimationOnElement(h)))}destroyActiveAnimationsForElement(f){const o=this.playersByElement.get(f);o&&o.forEach(h=>{h.queued?h.markedForDestroy=!0:h.destroy()})}finishActiveQueriedAnimationOnElement(f){const o=this.playersByQueriedElement.get(f);o&&o.forEach(h=>h.finish())}whenRenderingDone(){return new Promise(f=>{if(this.players.length)return Al(this.players).onDone(()=>f());f()})}processLeaveNode(f){const o=f[Xr];if(o&&o.setForRemoval){if(f[Xr]=ph,o.namespaceId){this.destroyInnerAnimations(f);const h=this._fetchNamespace(o.namespaceId);h&&h.clearElementCache(f)}this._onRemovalComplete(f,o.setForRemoval)}f.classList?.contains(Tm)&&this.markElementAsDisabled(f,!1),this.driver.query(f,".ng-animate-disabled",!0).forEach(h=>{this.markElementAsDisabled(h,!1)})}flush(f=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((h,m)=>this._balanceNamespaceList(h,m)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let h=0;h<this.collectedEnterElements.length;h++)Pc(this.collectedEnterElements[h],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const h=[];try{o=this._flushAnimations(h,f)}finally{for(let m=0;m<h.length;m++)h[m]()}}else for(let h=0;h<this.collectedLeaveElements.length;h++)this.processLeaveNode(this.collectedLeaveElements[h]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(h=>h()),this._flushFns=[],this._whenQuietFns.length){const h=this._whenQuietFns;this._whenQuietFns=[],o.length?Al(o).onDone(()=>{h.forEach(m=>m())}):h.forEach(m=>m())}}reportError(f){throw function Zv(l){return new u.vHH(3402,!1)}()}_flushAnimations(f,o){const h=new bm,m=[],E=new Map,k=[],J=new Map,le=new Map,ge=new Map,Ie=new Set;this.disabledNodes.forEach(Lt=>{Ie.add(Lt);const an=this.driver.query(Lt,".ng-animate-queued",!0);for(let Vn=0;Vn<an.length;Vn++)Ie.add(an[Vn])});const tt=this.bodyNode,lt=Array.from(this.statesByElement.keys()),ut=If(lt,this.collectedEnterElements),Pt=new Map;let Vt=0;ut.forEach((Lt,an)=>{const Vn=dh+Vt++;Pt.set(an,Vn),Lt.forEach(ar=>Pc(ar,Vn))});const Rt=[],On=new Set,En=new Set;for(let Lt=0;Lt<this.collectedLeaveElements.length;Lt++){const an=this.collectedLeaveElements[Lt],Vn=an[Xr];Vn&&Vn.setForRemoval&&(Rt.push(an),On.add(an),Vn.hasAnimation?this.driver.query(an,".ng-star-inserted",!0).forEach(ar=>On.add(ar)):En.add(an))}const hr=new Map,Wt=If(lt,Array.from(On));Wt.forEach((Lt,an)=>{const Vn=dm+Vt++;hr.set(an,Vn),Lt.forEach(ar=>Pc(ar,Vn))}),f.push(()=>{ut.forEach((Lt,an)=>{const Vn=Pt.get(an);Lt.forEach(ar=>gh(ar,Vn))}),Wt.forEach((Lt,an)=>{const Vn=hr.get(an);Lt.forEach(ar=>gh(ar,Vn))}),Rt.forEach(Lt=>{this.processLeaveNode(Lt)})});const or=[],Rn=[];for(let Lt=this._namespaceList.length-1;Lt>=0;Lt--)this._namespaceList[Lt].drainQueuedTransitions(o).forEach(Vn=>{const ar=Vn.player,Ri=Vn.element;if(or.push(ar),this.collectedEnterElements.length){const Ki=Ri[Xr];if(Ki&&Ki.setForMove){if(Ki.previousTriggersValues&&Ki.previousTriggersValues.has(Vn.triggerName)){const Ds=Ki.previousTriggersValues.get(Vn.triggerName),ga=this.statesByElement.get(Vn.element);if(ga&&ga.has(Vn.triggerName)){const pl=ga.get(Vn.triggerName);pl.value=Ds,ga.set(Vn.triggerName,pl)}}return void ar.destroy()}}const ec=!tt||!this.driver.containsElement(tt,Ri),Zi=hr.get(Ri),to=Pt.get(Ri),Yr=this._buildInstruction(Vn,h,to,Zi,ec);if(Yr.errors&&Yr.errors.length)return void Rn.push(Yr);if(ec)return ar.onStart(()=>ru(Ri,Yr.fromStyles)),ar.onDestroy(()=>Eo(Ri,Yr.toStyles)),void m.push(ar);if(Vn.isFallbackTransition)return ar.onStart(()=>ru(Ri,Yr.fromStyles)),ar.onDestroy(()=>Eo(Ri,Yr.toStyles)),void m.push(ar);const So=[];Yr.timelines.forEach(Ki=>{Ki.stretchStartingKeyframe=!0,this.disabledNodes.has(Ki.element)||So.push(Ki)}),Yr.timelines=So,h.append(Ri,Yr.timelines),k.push({instruction:Yr,player:ar,element:Ri}),Yr.queriedElements.forEach(Ki=>xc(J,Ki,[]).push(ar)),Yr.preStyleProps.forEach((Ki,Ds)=>{if(Ki.size){let ga=le.get(Ds);ga||le.set(Ds,ga=new Set),Ki.forEach((pl,Ol)=>ga.add(Ol))}}),Yr.postStyleProps.forEach((Ki,Ds)=>{let ga=ge.get(Ds);ga||ge.set(Ds,ga=new Set),Ki.forEach((pl,Ol)=>ga.add(Ol))})});if(Rn.length){const Lt=[];Rn.forEach(an=>{Lt.push(function ty(l,f){return new u.vHH(3505,!1)}())}),or.forEach(an=>an.destroy()),this.reportError(Lt)}const Tn=new Map,Sr=new Map;k.forEach(Lt=>{const an=Lt.element;h.has(an)&&(Sr.set(an,an),this._beforeAnimationBuild(Lt.player.namespaceId,Lt.instruction,Tn))}),m.forEach(Lt=>{const an=Lt.element;this._getPreviousPlayers(an,!1,Lt.namespaceId,Lt.triggerName,null).forEach(ar=>{xc(Tn,an,[]).push(ar),ar.destroy()})});const ei=Rt.filter(Lt=>wd(Lt,le,ge)),wr=new Map;u0(wr,this.driver,En,ge,Ui).forEach(Lt=>{wd(Lt,le,ge)&&ei.push(Lt)});const Pa=new Map;ut.forEach((Lt,an)=>{u0(Pa,this.driver,new Set(Lt),le,"!")}),ei.forEach(Lt=>{const an=wr.get(Lt),Vn=Pa.get(Lt);wr.set(Lt,new Map([...an?.entries()??[],...Vn?.entries()??[]]))});const yr=[],kc=[],eo={};k.forEach(Lt=>{const{element:an,player:Vn,instruction:ar}=Lt;if(h.has(an)){if(Ie.has(an))return Vn.onDestroy(()=>Eo(an,ar.toStyles)),Vn.disabled=!0,Vn.overrideTotalTime(ar.totalTime),void m.push(Vn);let Ri=eo;if(Sr.size>1){let Zi=an;const to=[];for(;Zi=Zi.parentNode;){const Yr=Sr.get(Zi);if(Yr){Ri=Yr;break}to.push(Zi)}to.forEach(Yr=>Sr.set(Yr,Ri))}const ec=this._buildAnimation(Vn.namespaceId,ar,Tn,E,Pa,wr);if(Vn.setRealPlayer(ec),Ri===eo)yr.push(Vn);else{const Zi=this.playersByElement.get(Ri);Zi&&Zi.length&&(Vn.parentPlayer=Al(Zi)),m.push(Vn)}}else ru(an,ar.fromStyles),Vn.onDestroy(()=>Eo(an,ar.toStyles)),kc.push(Vn),Ie.has(an)&&m.push(Vn)}),kc.forEach(Lt=>{const an=E.get(Lt.element);if(an&&an.length){const Vn=Al(an);Lt.setRealPlayer(Vn)}}),m.forEach(Lt=>{Lt.parentPlayer?Lt.syncPlayerEvents(Lt.parentPlayer):Lt.destroy()});for(let Lt=0;Lt<Rt.length;Lt++){const an=Rt[Lt],Vn=an[Xr];if(gh(an,dm),Vn&&Vn.hasAnimation)continue;let ar=[];if(J.size){let ec=J.get(an);ec&&ec.length&&ar.push(...ec);let Zi=this.driver.query(an,hm,!0);for(let to=0;to<Zi.length;to++){let Yr=J.get(Zi[to]);Yr&&Yr.length&&ar.push(...Yr)}}const Ri=ar.filter(ec=>!ec.destroyed);Ri.length?mc(this,an,Ri):this.processLeaveNode(an)}return Rt.length=0,yr.forEach(Lt=>{this.players.push(Lt),Lt.onDone(()=>{Lt.destroy();const an=this.players.indexOf(Lt);this.players.splice(an,1)}),Lt.play()}),yr}afterFlush(f){this._flushFns.push(f)}afterFlushAnimationsDone(f){this._whenQuietFns.push(f)}_getPreviousPlayers(f,o,h,m,E){let k=[];if(o){const J=this.playersByQueriedElement.get(f);J&&(k=J)}else{const J=this.playersByElement.get(f);if(J){const le=!E||E==ju;J.forEach(ge=>{ge.queued||!le&&ge.triggerName!=m||k.push(ge)})}}return(h||m)&&(k=k.filter(J=>!(h&&h!=J.namespaceId||m&&m!=J.triggerName))),k}_beforeAnimationBuild(f,o,h){const E=o.element,k=o.isRemovalTransition?void 0:f,J=o.isRemovalTransition?void 0:o.triggerName;for(const le of o.timelines){const ge=le.element,Ie=ge!==E,tt=xc(h,ge,[]);this._getPreviousPlayers(ge,Ie,k,J,o.toState).forEach(ut=>{const Pt=ut.getRealPlayer();Pt.beforeDestroy&&Pt.beforeDestroy(),ut.destroy(),tt.push(ut)})}ru(E,o.fromStyles)}_buildAnimation(f,o,h,m,E,k){const J=o.triggerName,le=o.element,ge=[],Ie=new Set,tt=new Set,lt=o.timelines.map(Pt=>{const Vt=Pt.element;Ie.add(Vt);const Rt=Vt[Xr];if(Rt&&Rt.removedBeforeQueried)return new Hi(Pt.duration,Pt.delay);const On=Vt!==le,En=function Dm(l){const f=[];return Cm(l,f),f}((h.get(Vt)||Qn).map(Tn=>Tn.getRealPlayer())).filter(Tn=>!!Tn.element&&Tn.element===Vt),hr=E.get(Vt),Wt=k.get(Vt),or=pd(this._normalizer,Pt.keyframes,hr,Wt),Rn=this._buildPlayer(Pt,or,En);if(Pt.subTimeline&&m&&tt.add(Vt),On){const Tn=new Yt(f,J,Vt);Tn.setRealPlayer(Rn),ge.push(Tn)}return Rn});ge.forEach(Pt=>{xc(this.playersByQueriedElement,Pt.element,[]).push(Pt),Pt.onDone(()=>function wf(l,f,o){let h=l.get(f);if(h){if(h.length){const m=h.indexOf(o);h.splice(m,1)}0==h.length&&l.delete(f)}return h}(this.playersByQueriedElement,Pt.element,Pt))}),Ie.forEach(Pt=>Pc(Pt,cy));const ut=Al(lt);return ut.onDestroy(()=>{Ie.forEach(Pt=>gh(Pt,cy)),Eo(le,o.toStyles)}),tt.forEach(Pt=>{xc(m,Pt,[]).push(ut)}),ut}_buildPlayer(f,o,h){return o.length>0?this.driver.animate(f.element,o,f.duration,f.delay,f.easing,h):new Hi(f.duration,f.delay)}}class Yt{constructor(f,o,h){this.namespaceId=f,this.triggerName=o,this.element=h,this._player=new Hi,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(f){this._containsRealPlayer||(this._player=f,this._queuedCallbacks.forEach((o,h)=>{o.forEach(m=>al(f,h,void 0,m))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(f.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(f){this.totalTime=f}syncPlayerEvents(f){const o=this._player;o.triggerCallback&&f.onStart(()=>o.triggerCallback("start")),f.onDone(()=>this.finish()),f.onDestroy(()=>this.destroy())}_queueEvent(f,o){xc(this._queuedCallbacks,f,[]).push(o)}onDone(f){this.queued&&this._queueEvent("done",f),this._player.onDone(f)}onStart(f){this.queued&&this._queueEvent("start",f),this._player.onStart(f)}onDestroy(f){this.queued&&this._queueEvent("destroy",f),this._player.onDestroy(f)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(f){this.queued||this._player.setPosition(f)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(f){const o=this._player;o.triggerCallback&&o.triggerCallback(f)}}function Rc(l){return l&&1===l.nodeType}function Hp(l,f){const o=l.style.display;return l.style.display=f??"none",o}function u0(l,f,o,h,m){const E=[];o.forEach(le=>E.push(Hp(le)));const k=[];h.forEach((le,ge)=>{const Ie=new Map;le.forEach(tt=>{const lt=f.computeStyle(ge,tt,m);Ie.set(tt,lt),(!lt||0==lt.length)&&(ge[Xr]=l0,k.push(ge))}),l.set(ge,Ie)});let J=0;return o.forEach(le=>Hp(le,E[J++])),k}function If(l,f){const o=new Map;if(l.forEach(J=>o.set(J,[])),0==f.length)return o;const m=new Set(f),E=new Map;function k(J){if(!J)return 1;let le=E.get(J);if(le)return le;const ge=J.parentNode;return le=o.has(ge)?ge:m.has(ge)?1:k(ge),E.set(J,le),le}return f.forEach(J=>{const le=k(J);1!==le&&o.get(le).push(J)}),o}function Pc(l,f){l.classList?.add(f)}function gh(l,f){l.classList?.remove(f)}function mc(l,f,o){Al(o).onDone(()=>l.processLeaveNode(f))}function Cm(l,f){for(let o=0;o<l.length;o++){const h=l[o];h instanceof Ss?Cm(h.players,f):f.push(h)}}function wd(l,f,o){const h=o.get(l);if(!h)return!1;let m=f.get(l);return m?h.forEach(E=>m.add(E)):f.set(l,h),o.delete(l),!0}class mh{constructor(f,o,h){this.bodyNode=f,this._driver=o,this._normalizer=h,this._triggerCache={},this.onRemovalComplete=(m,E)=>{},this._transitionEngine=new Us(f,o,h),this._timelineEngine=new o0(f,o,h),this._transitionEngine.onRemovalComplete=(m,E)=>this.onRemovalComplete(m,E)}registerTrigger(f,o,h,m,E){const k=f+"-"+m;let J=this._triggerCache[k];if(!J){const le=[],Ie=Lp(this._driver,E,le,[]);if(le.length)throw function jo(l,f){return new u.vHH(3404,!1)}();J=function Js(l,f,o){return new hy(l,f,o)}(m,Ie,this._normalizer),this._triggerCache[k]=J}this._transitionEngine.registerTrigger(o,m,J)}register(f,o){this._transitionEngine.register(f,o)}destroy(f,o){this._transitionEngine.destroy(f,o)}onInsert(f,o,h,m){this._transitionEngine.insertNode(f,o,h,m)}onRemove(f,o,h){this._transitionEngine.removeNode(f,o,h)}disableAnimations(f,o){this._transitionEngine.markElementAsDisabled(f,o)}process(f,o,h,m){if("@"==h.charAt(0)){const[E,k]=iy(h);this._timelineEngine.command(E,o,k,m)}else this._transitionEngine.trigger(f,o,h,m)}listen(f,o,h,m,E){if("@"==h.charAt(0)){const[k,J]=iy(h);return this._timelineEngine.listen(k,o,J,E)}return this._transitionEngine.listen(f,o,h,m,E)}flush(f=-1){this._transitionEngine.flush(f)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(f){this._transitionEngine.afterFlushAnimationsDone(f)}}let py=(()=>{class l{static#e=this.initialStylesByElement=new WeakMap;constructor(o,h,m){this._element=o,this._startStyles=h,this._endStyles=m,this._state=0;let E=l.initialStylesByElement.get(o);E||l.initialStylesByElement.set(o,E=new Map),this._initialStyles=E}start(){this._state<1&&(this._startStyles&&Eo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Eo(this._element,this._initialStyles),this._endStyles&&(Eo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(l.initialStylesByElement.delete(this._element),this._startStyles&&(ru(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ru(this._element,this._endStyles),this._endStyles=null),Eo(this._element,this._initialStyles),this._state=3)}}return l})();function xa(l){let f=null;return l.forEach((o,h)=>{(function jb(l){return"display"===l||"position"===l})(h)&&(f=f||new Map,f.set(h,o))}),f}class Ef{constructor(f,o,h,m){this.element=f,this.keyframes=o,this.options=h,this._specialStyles=m,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=h.duration,this._delay=h.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const f=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,f,this.options),this._finalKeyframe=f.length?f[f.length-1]:new Map;const o=()=>this._onFinish();this.domPlayer.addEventListener("finish",o),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",o)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(f){const o=[];return f.forEach(h=>{o.push(Object.fromEntries(h))}),o}_triggerWebAnimation(f,o,h){return f.animate(this._convertKeyframesToObject(o),h)}onStart(f){this._originalOnStartFns.push(f),this._onStartFns.push(f)}onDone(f){this._originalOnDoneFns.push(f),this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(f=>f()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}setPosition(f){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=f*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const f=new Map;this.hasStarted()&&this._finalKeyframe.forEach((h,m)=>{"offset"!==m&&f.set(m,this._finished?h:Fp(this.element,m))}),this.currentSnapshot=f}triggerCallback(f){const o="start"===f?this._onStartFns:this._onDoneFns;o.forEach(h=>h()),o.length=0}}class cu{validateStyleProperty(f){return!0}validateAnimatableStyleProperty(f){return!0}matchesElement(f,o){return!1}containsElement(f,o){return fs(f,o)}getParentElement(f){return Bu(f)}query(f,o,h){return sy(f,o,h)}computeStyle(f,o,h){return window.getComputedStyle(f)[o]}animate(f,o,h,m,E,k=[]){const le={duration:h,delay:m,fill:0==m?"both":"forwards"};E&&(le.easing=E);const ge=new Map,Ie=k.filter(ut=>ut instanceof Ef);(function Qv(l,f){return 0===l||0===f})(h,m)&&Ie.forEach(ut=>{ut.currentSnapshot.forEach((Pt,Vt)=>ge.set(Vt,Pt))});let tt=function Pp(l){return l.length?l[0]instanceof Map?l:l.map(f=>yd(f)):[]}(o).map(ut=>ul(ut));tt=function ly(l,f,o){if(o.size&&f.length){let h=f[0],m=[];if(o.forEach((E,k)=>{h.has(k)||m.push(k),h.set(k,E)}),m.length)for(let E=1;E<f.length;E++){let k=f[E];m.forEach(J=>k.set(J,Fp(l,J)))}}return f}(f,tt,ge);const lt=function qe(l,f){let o=null,h=null;return Array.isArray(f)&&f.length?(o=xa(f[0]),f.length>1&&(h=xa(f[f.length-1]))):f instanceof Map&&(o=xa(f)),o||h?new py(l,o,h):null}(f,tt);return new Ef(f,tt,le,lt)}}let $b=(()=>{class l extends nr{constructor(o,h){super(),this._nextAnimationId=0,this._renderer=o.createRenderer(h.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(o){const h=this._nextAnimationId.toString();this._nextAnimationId++;const m=Array.isArray(o)?Va(o):o;return Co(this._renderer,null,h,"register",[m]),new Ra(h,this._renderer)}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(u.FYo),u.LFG(Se.K0))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac})}return l})();class Ra extends Gs{constructor(f,o){super(),this._id=f,this._renderer=o}create(f,o){return new Tf(this._id,f,o||{},this._renderer)}}class Tf{constructor(f,o,h,m){this.id=f,this.element=o,this._renderer=m,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",h)}_listen(f,o){return this._renderer.listen(this.element,`@@${this.id}:${f}`,o)}_command(f,...o){return Co(this._renderer,this.element,this.id,f,o)}onDone(f){this._listen("done",f)}onStart(f){this._listen("start",f)}onDestroy(f){this._listen("destroy",f)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(f){this._command("setPosition",f)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Co(l,f,o,h,m){return l.setProperty(f,`@@${o}:${h}`,m)}const Gp="@.disabled";let os=(()=>{class l{constructor(o,h,m){this.delegate=o,this.engine=h,this._zone=m,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,h.onRemovalComplete=(E,k)=>{const J=k?.parentNode(E);J&&k.removeChild(J,E)}}createRenderer(o,h){const E=this.delegate.createRenderer(o,h);if(!(o&&h&&h.data&&h.data.animation)){let Ie=this._rendererCache.get(E);return Ie||(Ie=new Id("",E,this.engine,()=>this._rendererCache.delete(E)),this._rendererCache.set(E,Ie)),Ie}const k=h.id,J=h.id+"-"+this._currentId;this._currentId++,this.engine.register(J,o);const le=Ie=>{Array.isArray(Ie)?Ie.forEach(le):this.engine.registerTrigger(k,J,o,Ie.name,Ie)};return h.data.animation.forEach(le),new uu(this,J,E,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(o,h,m){o>=0&&o<this._microtaskId?this._zone.run(()=>h(m)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(E=>{const[k,J]=E;k(J)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([h,m]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(u.FYo),u.LFG(mh),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac})}return l})();class Id{constructor(f,o,h,m){this.namespaceId=f,this.delegate=o,this.engine=h,this._onDestroy=m}get data(){return this.delegate.data}destroyNode(f){this.delegate.destroyNode?.(f)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(f,o){return this.delegate.createElement(f,o)}createComment(f){return this.delegate.createComment(f)}createText(f){return this.delegate.createText(f)}appendChild(f,o){this.delegate.appendChild(f,o),this.engine.onInsert(this.namespaceId,o,f,!1)}insertBefore(f,o,h,m=!0){this.delegate.insertBefore(f,o,h),this.engine.onInsert(this.namespaceId,o,f,m)}removeChild(f,o,h){this.engine.onRemove(this.namespaceId,o,this.delegate)}selectRootElement(f,o){return this.delegate.selectRootElement(f,o)}parentNode(f){return this.delegate.parentNode(f)}nextSibling(f){return this.delegate.nextSibling(f)}setAttribute(f,o,h,m){this.delegate.setAttribute(f,o,h,m)}removeAttribute(f,o,h){this.delegate.removeAttribute(f,o,h)}addClass(f,o){this.delegate.addClass(f,o)}removeClass(f,o){this.delegate.removeClass(f,o)}setStyle(f,o,h,m){this.delegate.setStyle(f,o,h,m)}removeStyle(f,o,h){this.delegate.removeStyle(f,o,h)}setProperty(f,o,h){"@"==o.charAt(0)&&o==Gp?this.disableAnimations(f,!!h):this.delegate.setProperty(f,o,h)}setValue(f,o){this.delegate.setValue(f,o)}listen(f,o,h){return this.delegate.listen(f,o,h)}disableAnimations(f,o){this.engine.disableAnimations(f,o)}}class uu extends Id{constructor(f,o,h,m,E){super(o,h,m,E),this.factory=f,this.namespaceId=o}setProperty(f,o,h){"@"==o.charAt(0)?"."==o.charAt(1)&&o==Gp?this.disableAnimations(f,h=void 0===h||!!h):this.engine.process(this.namespaceId,f,o.slice(1),h):this.delegate.setProperty(f,o,h)}listen(f,o,h){if("@"==o.charAt(0)){const m=function _h(l){switch(l){case"body":return document.body;case"document":return document;case"window":return window;default:return l}}(f);let E=o.slice(1),k="";return"@"!=E.charAt(0)&&([E,k]=function Hs(l){const f=l.indexOf(".");return[l.substring(0,f),l.slice(f+1)]}(E)),this.engine.listen(this.namespaceId,m,E,k,J=>{this.factory.scheduleListenerCallback(J._data||-1,h,J)})}return this.delegate.listen(f,o,h)}}const Ed=[{provide:nr,useClass:$b},{provide:n0,useFactory:function yh(){return new fl}},{provide:mh,useClass:(()=>{class l extends mh{constructor(o,h,m,E){super(o.body,h,m)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(Se.K0),u.LFG(oy),u.LFG(n0),u.LFG(u.z2F))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac})}return l})()},{provide:u.FYo,useFactory:function Xa(l,f,o){return new os(l,f,o)},deps:[b.se,mh,u.R0b]}],Nl=[{provide:oy,useFactory:()=>new cu},{provide:u.QbO,useValue:"BrowserAnimations"},...Ed],Td=[{provide:oy,useClass:Mb},{provide:u.QbO,useValue:"NoopAnimations"},...Ed];let d0=(()=>{class l{static withConfig(o){return{ngModule:l,providers:o.disableAnimations?Td:Nl}}static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({providers:Nl,imports:[b.b2]})}return l})(),h0=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l,bootstrap:[ya]});static#n=this.\u0275inj=u.cJS({imports:[b.b2,Kt,df.r,d0,(0,ni.hX)(()=>(0,ni.ZF)(gs.N.firebaseConfig)),(0,Gt.Cm)(()=>(0,Gt.ad)()),Fi,sm]})}return l})();b.q6().bootstrapModule(h0).catch(l=>console.error(l))},5619:(Ht,Ge,K)=>{K.d(Ge,{X:()=>re});var b=K(8645);class re extends b.x{constructor(be){super(),this._value=be}get value(){return this.getValue()}_subscribe(be){const ue=super._subscribe(be);return!ue.closed&&be.next(this._value),ue}getValue(){const{hasError:be,thrownError:ue,_value:fe}=this;if(be)throw ue;return this._throwIfClosed(),fe}next(be){super.next(this._value=be)}}},5592:(Ht,Ge,K)=>{K.d(Ge,{y:()=>Qe});var b=K(305),re=K(7394),u=K(4850),be=K(8407),ue=K(2653),fe=K(4674),Ee=K(1441);let Qe=(()=>{class Me{constructor(Oe){Oe&&(this._subscribe=Oe)}lift(Oe){const Ke=new Me;return Ke.source=this,Ke.operator=Oe,Ke}subscribe(Oe,Ke,Tt){const Ft=function de(Me){return Me&&Me instanceof b.Lv||function ce(Me){return Me&&(0,fe.m)(Me.next)&&(0,fe.m)(Me.error)&&(0,fe.m)(Me.complete)}(Me)&&(0,re.Nn)(Me)}(Oe)?Oe:new b.Hp(Oe,Ke,Tt);return(0,Ee.x)(()=>{const{operator:Nt,source:Dn}=this;Ft.add(Nt?Nt.call(Ft,Dn):Dn?this._subscribe(Ft):this._trySubscribe(Ft))}),Ft}_trySubscribe(Oe){try{return this._subscribe(Oe)}catch(Ke){Oe.error(Ke)}}forEach(Oe,Ke){return new(Ke=Re(Ke))((Tt,Ft)=>{const Nt=new b.Hp({next:Dn=>{try{Oe(Dn)}catch(Ot){Ft(Ot),Nt.unsubscribe()}},error:Ft,complete:Tt});this.subscribe(Nt)})}_subscribe(Oe){var Ke;return null===(Ke=this.source)||void 0===Ke?void 0:Ke.subscribe(Oe)}[u.L](){return this}pipe(...Oe){return(0,be.U)(Oe)(this)}toPromise(Oe){return new(Oe=Re(Oe))((Ke,Tt)=>{let Ft;this.subscribe(Nt=>Ft=Nt,Nt=>Tt(Nt),()=>Ke(Ft))})}}return Me.create=Se=>new Me(Se),Me})();function Re(Me){var Se;return null!==(Se=Me??ue.config.Promise)&&void 0!==Se?Se:Promise}},8645:(Ht,Ge,K)=>{K.d(Ge,{x:()=>Ee});var b=K(5592),re=K(7394);const be=(0,K(2306).d)(Re=>function(){Re(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=K(9039),fe=K(1441);let Ee=(()=>{class Re extends b.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const Me=new Qe(this,this);return Me.operator=de,Me}_throwIfClosed(){if(this.closed)throw new be}next(de){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Me of this.currentObservers)Me.next(de)}})}error(de){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:Me}=this;for(;Me.length;)Me.shift().error(de)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:Me,isStopped:Se,observers:Oe}=this;return Me||Se?re.Lc:(this.currentObservers=null,Oe.push(de),new re.w0(()=>{this.currentObservers=null,(0,ue.P)(Oe,de)}))}_checkFinalizedStatuses(de){const{hasError:Me,thrownError:Se,isStopped:Oe}=this;Me?de.error(Se):Oe&&de.complete()}asObservable(){const de=new b.y;return de.source=this,de}}return Re.create=(ce,de)=>new Qe(ce,de),Re})();class Qe extends Ee{constructor(ce,de){super(),this.destination=ce,this.source=de}next(ce){var de,Me;null===(Me=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===Me||Me.call(de,ce)}error(ce){var de,Me;null===(Me=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===Me||Me.call(de,ce)}complete(){var ce,de;null===(de=null===(ce=this.destination)||void 0===ce?void 0:ce.complete)||void 0===de||de.call(ce)}_subscribe(ce){var de,Me;return null!==(Me=null===(de=this.source)||void 0===de?void 0:de.subscribe(ce))&&void 0!==Me?Me:re.Lc}}},305:(Ht,Ge,K)=>{K.d(Ge,{Hp:()=>Tt,Lv:()=>Me});var b=K(4674),re=K(7394),u=K(2653),be=K(3894),ue=K(2420);const fe=Re("C",void 0,void 0);function Re(ft,st,yt){return{kind:ft,value:st,error:yt}}var ce=K(7599),de=K(1441);class Me extends re.w0{constructor(st){super(),this.isStopped=!1,st?(this.destination=st,(0,re.Nn)(st)&&st.add(this)):this.destination=Ot}static create(st,yt,_t){return new Tt(st,yt,_t)}next(st){this.isStopped?Dn(function Qe(ft){return Re("N",ft,void 0)}(st),this):this._next(st)}error(st){this.isStopped?Dn(function Ee(ft){return Re("E",void 0,ft)}(st),this):(this.isStopped=!0,this._error(st))}complete(){this.isStopped?Dn(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(st){this.destination.next(st)}_error(st){try{this.destination.error(st)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Se=Function.prototype.bind;function Oe(ft,st){return Se.call(ft,st)}class Ke{constructor(st){this.partialObserver=st}next(st){const{partialObserver:yt}=this;if(yt.next)try{yt.next(st)}catch(_t){Ft(_t)}}error(st){const{partialObserver:yt}=this;if(yt.error)try{yt.error(st)}catch(_t){Ft(_t)}else Ft(st)}complete(){const{partialObserver:st}=this;if(st.complete)try{st.complete()}catch(yt){Ft(yt)}}}class Tt extends Me{constructor(st,yt,_t){let je;if(super(),(0,b.m)(st)||!st)je={next:st??void 0,error:yt??void 0,complete:_t??void 0};else{let ve;this&&u.config.useDeprecatedNextContext?(ve=Object.create(st),ve.unsubscribe=()=>this.unsubscribe(),je={next:st.next&&Oe(st.next,ve),error:st.error&&Oe(st.error,ve),complete:st.complete&&Oe(st.complete,ve)}):je=st}this.destination=new Ke(je)}}function Ft(ft){u.config.useDeprecatedSynchronousErrorHandling?(0,de.O)(ft):(0,be.h)(ft)}function Dn(ft,st){const{onStoppedNotification:yt}=u.config;yt&&ce.z.setTimeout(()=>yt(ft,st))}const Ot={closed:!0,next:ue.Z,error:function Nt(ft){throw ft},complete:ue.Z}},7394:(Ht,Ge,K)=>{K.d(Ge,{Lc:()=>fe,w0:()=>ue,Nn:()=>Ee});var b=K(4674);const u=(0,K(2306).d)(Re=>function(de){Re(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((Me,Se)=>`${Se+1}) ${Me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var be=K(9039);class ue{constructor(ce){this.initialTeardown=ce,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ce;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const Oe of de)Oe.remove(this);else de.remove(this);const{initialTeardown:Me}=this;if((0,b.m)(Me))try{Me()}catch(Oe){ce=Oe instanceof u?Oe.errors:[Oe]}const{_finalizers:Se}=this;if(Se){this._finalizers=null;for(const Oe of Se)try{Qe(Oe)}catch(Ke){ce=ce??[],Ke instanceof u?ce=[...ce,...Ke.errors]:ce.push(Ke)}}if(ce)throw new u(ce)}}add(ce){var de;if(ce&&ce!==this)if(this.closed)Qe(ce);else{if(ce instanceof ue){if(ce.closed||ce._hasParent(this))return;ce._addParent(this)}(this._finalizers=null!==(de=this._finalizers)&&void 0!==de?de:[]).push(ce)}}_hasParent(ce){const{_parentage:de}=this;return de===ce||Array.isArray(de)&&de.includes(ce)}_addParent(ce){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(ce),de):de?[de,ce]:ce}_removeParent(ce){const{_parentage:de}=this;de===ce?this._parentage=null:Array.isArray(de)&&(0,be.P)(de,ce)}remove(ce){const{_finalizers:de}=this;de&&(0,be.P)(de,ce),ce instanceof ue&&ce._removeParent(this)}}ue.EMPTY=(()=>{const Re=new ue;return Re.closed=!0,Re})();const fe=ue.EMPTY;function Ee(Re){return Re instanceof ue||Re&&"closed"in Re&&(0,b.m)(Re.remove)&&(0,b.m)(Re.add)&&(0,b.m)(Re.unsubscribe)}function Qe(Re){(0,b.m)(Re)?Re():Re.unsubscribe()}},2653:(Ht,Ge,K)=>{K.d(Ge,{config:()=>b});const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:(Ht,Ge,K)=>{K.d(Ge,{z:()=>ue});var b=K(7537),u=K(9940),be=K(2459);function ue(...fe){return function re(){return(0,b.J)(1)}()((0,be.D)(fe,(0,u.yG)(fe)))}},6232:(Ht,Ge,K)=>{K.d(Ge,{E:()=>re});const re=new(K(5592).y)(ue=>ue.complete())},2459:(Ht,Ge,K)=>{K.d(Ge,{D:()=>st});var b=K(4829),re=K(3093),u=K(5137),fe=K(5592),Qe=K(4971),Re=K(4674),ce=K(7103);function Me(yt,_t){if(!yt)throw new Error("Iterable cannot be null");return new fe.y(je=>{(0,ce.f)(je,_t,()=>{const ve=yt[Symbol.asyncIterator]();(0,ce.f)(je,_t,()=>{ve.next().then(Je=>{Je.done?je.complete():je.next(Je.value)})},0,!0)})})}var Se=K(8382),Oe=K(4026),Ke=K(4266),Tt=K(3664),Ft=K(5726),Nt=K(9853),Dn=K(541);function st(yt,_t){return _t?function ft(yt,_t){if(null!=yt){if((0,Se.c)(yt))return function be(yt,_t){return(0,b.Xf)(yt).pipe((0,u.R)(_t),(0,re.Q)(_t))}(yt,_t);if((0,Ke.z)(yt))return function Ee(yt,_t){return new fe.y(je=>{let ve=0;return _t.schedule(function(){ve===yt.length?je.complete():(je.next(yt[ve++]),je.closed||this.schedule())})})}(yt,_t);if((0,Oe.t)(yt))return function ue(yt,_t){return(0,b.Xf)(yt).pipe((0,u.R)(_t),(0,re.Q)(_t))}(yt,_t);if((0,Ft.D)(yt))return Me(yt,_t);if((0,Tt.T)(yt))return function de(yt,_t){return new fe.y(je=>{let ve;return(0,ce.f)(je,_t,()=>{ve=yt[Qe.h](),(0,ce.f)(je,_t,()=>{let Je,mt;try{({value:Je,done:mt}=ve.next())}catch(kn){return void je.error(kn)}mt?je.complete():je.next(Je)},0,!0)}),()=>(0,Re.m)(ve?.return)&&ve.return()})}(yt,_t);if((0,Dn.L)(yt))return function Ot(yt,_t){return Me((0,Dn.Q)(yt),_t)}(yt,_t)}throw(0,Nt.z)(yt)}(yt,_t):(0,b.Xf)(yt)}},4829:(Ht,Ge,K)=>{K.d(Ge,{Xf:()=>Se});var b=K(7582),re=K(4266),u=K(4026),be=K(5592),ue=K(8382),fe=K(5726),Ee=K(9853),Qe=K(3664),Re=K(541),ce=K(4674),de=K(3894),Me=K(4850);function Se(ft){if(ft instanceof be.y)return ft;if(null!=ft){if((0,ue.c)(ft))return function Oe(ft){return new be.y(st=>{const yt=ft[Me.L]();if((0,ce.m)(yt.subscribe))return yt.subscribe(st);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ft);if((0,re.z)(ft))return function Ke(ft){return new be.y(st=>{for(let yt=0;yt<ft.length&&!st.closed;yt++)st.next(ft[yt]);st.complete()})}(ft);if((0,u.t)(ft))return function Tt(ft){return new be.y(st=>{ft.then(yt=>{st.closed||(st.next(yt),st.complete())},yt=>st.error(yt)).then(null,de.h)})}(ft);if((0,fe.D)(ft))return Nt(ft);if((0,Qe.T)(ft))return function Ft(ft){return new be.y(st=>{for(const yt of ft)if(st.next(yt),st.closed)return;st.complete()})}(ft);if((0,Re.L)(ft))return function Dn(ft){return Nt((0,Re.Q)(ft))}(ft)}throw(0,Ee.z)(ft)}function Nt(ft){return new be.y(st=>{(function Ot(ft,st){var yt,_t,je,ve;return(0,b.mG)(this,void 0,void 0,function*(){try{for(yt=(0,b.KL)(ft);!(_t=yield yt.next()).done;)if(st.next(_t.value),st.closed)return}catch(Je){je={error:Je}}finally{try{_t&&!_t.done&&(ve=yt.return)&&(yield ve.call(yt))}finally{if(je)throw je.error}}st.complete()})})(ft,st).catch(yt=>st.error(yt))})}},3019:(Ht,Ge,K)=>{K.d(Ge,{T:()=>fe});var b=K(7537),re=K(4829),u=K(6232),be=K(9940),ue=K(2459);function fe(...Ee){const Qe=(0,be.yG)(Ee),Re=(0,be._6)(Ee,1/0),ce=Ee;return ce.length?1===ce.length?(0,re.Xf)(ce[0]):(0,b.J)(Re)((0,ue.D)(ce,Qe)):u.E}},2096:(Ht,Ge,K)=>{K.d(Ge,{of:()=>u});var b=K(9940),re=K(2459);function u(...be){const ue=(0,b.yG)(be);return(0,re.D)(be,ue)}},8251:(Ht,Ge,K)=>{K.d(Ge,{x:()=>re});var b=K(305);function re(be,ue,fe,Ee,Qe){return new u(be,ue,fe,Ee,Qe)}class u extends b.Lv{constructor(ue,fe,Ee,Qe,Re,ce){super(ue),this.onFinalize=Re,this.shouldUnsubscribe=ce,this._next=fe?function(de){try{fe(de)}catch(Me){ue.error(Me)}}:super._next,this._error=Qe?function(de){try{Qe(de)}catch(Me){ue.error(Me)}finally{this.unsubscribe()}}:super._error,this._complete=Ee?function(){try{Ee()}catch(de){ue.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},3997:(Ht,Ge,K)=>{K.d(Ge,{x:()=>be});var b=K(2737),re=K(9360),u=K(8251);function be(fe,Ee=b.y){return fe=fe??ue,(0,re.e)((Qe,Re)=>{let ce,de=!0;Qe.subscribe((0,u.x)(Re,Me=>{const Se=Ee(Me);(de||!fe(ce,Se))&&(de=!1,ce=Se,Re.next(Me))}))})}function ue(fe,Ee){return fe===Ee}},2181:(Ht,Ge,K)=>{K.d(Ge,{h:()=>u});var b=K(9360),re=K(8251);function u(be,ue){return(0,b.e)((fe,Ee)=>{let Qe=0;fe.subscribe((0,re.x)(Ee,Re=>be.call(ue,Re,Qe++)&&Ee.next(Re)))})}},7398:(Ht,Ge,K)=>{K.d(Ge,{U:()=>u});var b=K(9360),re=K(8251);function u(be,ue){return(0,b.e)((fe,Ee)=>{let Qe=0;fe.subscribe((0,re.x)(Ee,Re=>{Ee.next(be.call(ue,Re,Qe++))}))})}},975:(Ht,Ge,K)=>{K.d(Ge,{h:()=>re});var b=K(7398);function re(u){return(0,b.U)(()=>u)}},7537:(Ht,Ge,K)=>{K.d(Ge,{J:()=>u});var b=K(1631),re=K(2737);function u(be=1/0){return(0,b.z)(re.y,be)}},1631:(Ht,Ge,K)=>{K.d(Ge,{z:()=>Qe});var b=K(7398),re=K(4829),u=K(9360),be=K(7103),ue=K(8251),Ee=K(4674);function Qe(Re,ce,de=1/0){return(0,Ee.m)(ce)?Qe((Me,Se)=>(0,b.U)((Oe,Ke)=>ce(Me,Oe,Se,Ke))((0,re.Xf)(Re(Me,Se))),de):("number"==typeof ce&&(de=ce),(0,u.e)((Me,Se)=>function fe(Re,ce,de,Me,Se,Oe,Ke,Tt){const Ft=[];let Nt=0,Dn=0,Ot=!1;const ft=()=>{Ot&&!Ft.length&&!Nt&&ce.complete()},st=_t=>Nt<Me?yt(_t):Ft.push(_t),yt=_t=>{Oe&&ce.next(_t),Nt++;let je=!1;(0,re.Xf)(de(_t,Dn++)).subscribe((0,ue.x)(ce,ve=>{Se?.(ve),Oe?st(ve):ce.next(ve)},()=>{je=!0},void 0,()=>{if(je)try{for(Nt--;Ft.length&&Nt<Me;){const ve=Ft.shift();Ke?(0,be.f)(ce,Ke,()=>yt(ve)):yt(ve)}ft()}catch(ve){ce.error(ve)}}))};return Re.subscribe((0,ue.x)(ce,st,()=>{Ot=!0,ft()})),()=>{Tt?.()}}(Me,Se,Re,de)))}},3093:(Ht,Ge,K)=>{K.d(Ge,{Q:()=>be});var b=K(7103),re=K(9360),u=K(8251);function be(ue,fe=0){return(0,re.e)((Ee,Qe)=>{Ee.subscribe((0,u.x)(Qe,Re=>(0,b.f)(Qe,ue,()=>Qe.next(Re),fe),()=>(0,b.f)(Qe,ue,()=>Qe.complete(),fe),Re=>(0,b.f)(Qe,ue,()=>Qe.error(Re),fe)))})}},7921:(Ht,Ge,K)=>{K.d(Ge,{O:()=>be});var b=K(5211),re=K(9940),u=K(9360);function be(...ue){const fe=(0,re.yG)(ue);return(0,u.e)((Ee,Qe)=>{(fe?(0,b.z)(ue,Ee,fe):(0,b.z)(ue,Ee)).subscribe(Qe)})}},5137:(Ht,Ge,K)=>{K.d(Ge,{R:()=>re});var b=K(9360);function re(u,be=0){return(0,b.e)((ue,fe)=>{fe.add(u.schedule(()=>ue.subscribe(fe),be))})}},4664:(Ht,Ge,K)=>{K.d(Ge,{w:()=>be});var b=K(4829),re=K(9360),u=K(8251);function be(ue,fe){return(0,re.e)((Ee,Qe)=>{let Re=null,ce=0,de=!1;const Me=()=>de&&!Re&&Qe.complete();Ee.subscribe((0,u.x)(Qe,Se=>{Re?.unsubscribe();let Oe=0;const Ke=ce++;(0,b.Xf)(ue(Se,Ke)).subscribe(Re=(0,u.x)(Qe,Tt=>Qe.next(fe?fe(Se,Tt,Ke,Oe++):Tt),()=>{Re=null,Me()}))},()=>{de=!0,Me()}))})}},8180:(Ht,Ge,K)=>{K.d(Ge,{q:()=>be});var b=K(6232),re=K(9360),u=K(8251);function be(ue){return ue<=0?()=>b.E:(0,re.e)((fe,Ee)=>{let Qe=0;fe.subscribe((0,u.x)(Ee,Re=>{++Qe<=ue&&(Ee.next(Re),ue<=Qe&&Ee.complete())}))})}},9773:(Ht,Ge,K)=>{K.d(Ge,{R:()=>ue});var b=K(9360),re=K(8251),u=K(4829),be=K(2420);function ue(fe){return(0,b.e)((Ee,Qe)=>{(0,u.Xf)(fe).subscribe((0,re.x)(Qe,()=>Qe.complete(),be.Z)),!Qe.closed&&Ee.subscribe(Qe)})}},9397:(Ht,Ge,K)=>{K.d(Ge,{b:()=>ue});var b=K(4674),re=K(9360),u=K(8251),be=K(2737);function ue(fe,Ee,Qe){const Re=(0,b.m)(fe)||Ee||Qe?{next:fe,error:Ee,complete:Qe}:fe;return Re?(0,re.e)((ce,de)=>{var Me;null===(Me=Re.subscribe)||void 0===Me||Me.call(Re);let Se=!0;ce.subscribe((0,u.x)(de,Oe=>{var Ke;null===(Ke=Re.next)||void 0===Ke||Ke.call(Re,Oe),de.next(Oe)},()=>{var Oe;Se=!1,null===(Oe=Re.complete)||void 0===Oe||Oe.call(Re),de.complete()},Oe=>{var Ke;Se=!1,null===(Ke=Re.error)||void 0===Ke||Ke.call(Re,Oe),de.error(Oe)},()=>{var Oe,Ke;Se&&(null===(Oe=Re.unsubscribe)||void 0===Oe||Oe.call(Re)),null===(Ke=Re.finalize)||void 0===Ke||Ke.call(Re)}))}):be.y}},1954:(Ht,Ge,K)=>{K.d(Ge,{o:()=>ue});var b=K(7394);class re extends b.w0{constructor(Ee,Qe){super()}schedule(Ee,Qe=0){return this}}const u={setInterval(fe,Ee,...Qe){const{delegate:Re}=u;return Re?.setInterval?Re.setInterval(fe,Ee,...Qe):setInterval(fe,Ee,...Qe)},clearInterval(fe){const{delegate:Ee}=u;return(Ee?.clearInterval||clearInterval)(fe)},delegate:void 0};var be=K(9039);class ue extends re{constructor(Ee,Qe){super(Ee,Qe),this.scheduler=Ee,this.work=Qe,this.pending=!1}schedule(Ee,Qe=0){var Re;if(this.closed)return this;this.state=Ee;const ce=this.id,de=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId(de,ce,Qe)),this.pending=!0,this.delay=Qe,this.id=null!==(Re=this.id)&&void 0!==Re?Re:this.requestAsyncId(de,this.id,Qe),this}requestAsyncId(Ee,Qe,Re=0){return u.setInterval(Ee.flush.bind(Ee,this),Re)}recycleAsyncId(Ee,Qe,Re=0){if(null!=Re&&this.delay===Re&&!1===this.pending)return Qe;null!=Qe&&u.clearInterval(Qe)}execute(Ee,Qe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Re=this._execute(Ee,Qe);if(Re)return Re;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ee,Qe){let ce,Re=!1;try{this.work(Ee)}catch(de){Re=!0,ce=de||new Error("Scheduled action threw falsy error")}if(Re)return this.unsubscribe(),ce}unsubscribe(){if(!this.closed){const{id:Ee,scheduler:Qe}=this,{actions:Re}=Qe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,be.P)(Re,this),null!=Ee&&(this.id=this.recycleAsyncId(Qe,Ee,null)),this.delay=null,super.unsubscribe()}}}},9931:(Ht,Ge,K)=>{K.d(Ge,{v:()=>u});const b={now:()=>(b.delegate||Date).now(),delegate:void 0};class re{constructor(ue,fe=re.now){this.schedulerActionCtor=ue,this.now=fe}schedule(ue,fe=0,Ee){return new this.schedulerActionCtor(this,ue).schedule(Ee,fe)}}re.now=b.now;class u extends re{constructor(ue,fe=re.now){super(ue,fe),this.actions=[],this._active=!1}flush(ue){const{actions:fe}=this;if(this._active)return void fe.push(ue);let Ee;this._active=!0;do{if(Ee=ue.execute(ue.state,ue.delay))break}while(ue=fe.shift());if(this._active=!1,Ee){for(;ue=fe.shift();)ue.unsubscribe();throw Ee}}}},6321:(Ht,Ge,K)=>{K.d(Ge,{P:()=>be,z:()=>u});var b=K(1954);const u=new(K(9931).v)(b.o),be=u},7599:(Ht,Ge,K)=>{K.d(Ge,{z:()=>b});const b={setTimeout(re,u,...be){const{delegate:ue}=b;return ue?.setTimeout?ue.setTimeout(re,u,...be):setTimeout(re,u,...be)},clearTimeout(re){const{delegate:u}=b;return(u?.clearTimeout||clearTimeout)(re)},delegate:void 0}},4971:(Ht,Ge,K)=>{K.d(Ge,{h:()=>re});const re=function b(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Ht,Ge,K)=>{K.d(Ge,{L:()=>b});const b="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Ht,Ge,K)=>{K.d(Ge,{K:()=>re});const re=(0,K(2306).d)(u=>function(){u(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Ht,Ge,K)=>{K.d(Ge,{_6:()=>fe,jO:()=>be,yG:()=>ue});var b=K(4674),re=K(671);function u(Ee){return Ee[Ee.length-1]}function be(Ee){return(0,b.m)(u(Ee))?Ee.pop():void 0}function ue(Ee){return(0,re.K)(u(Ee))?Ee.pop():void 0}function fe(Ee,Qe){return"number"==typeof u(Ee)?Ee.pop():Qe}},7453:(Ht,Ge,K)=>{K.d(Ge,{D:()=>ue});const{isArray:b}=Array,{getPrototypeOf:re,prototype:u,keys:be}=Object;function ue(Ee){if(1===Ee.length){const Qe=Ee[0];if(b(Qe))return{args:Qe,keys:null};if(function fe(Ee){return Ee&&"object"==typeof Ee&&re(Ee)===u}(Qe)){const Re=be(Qe);return{args:Re.map(ce=>Qe[ce]),keys:Re}}}return{args:Ee,keys:null}}},9039:(Ht,Ge,K)=>{function b(re,u){if(re){const be=re.indexOf(u);0<=be&&re.splice(be,1)}}K.d(Ge,{P:()=>b})},2306:(Ht,Ge,K)=>{function b(re){const be=re(ue=>{Error.call(ue),ue.stack=(new Error).stack});return be.prototype=Object.create(Error.prototype),be.prototype.constructor=be,be}K.d(Ge,{d:()=>b})},2714:(Ht,Ge,K)=>{function b(re,u){return re.reduce((be,ue,fe)=>(be[ue]=u[fe],be),{})}K.d(Ge,{n:()=>b})},1441:(Ht,Ge,K)=>{K.d(Ge,{O:()=>be,x:()=>u});var b=K(2653);let re=null;function u(ue){if(b.config.useDeprecatedSynchronousErrorHandling){const fe=!re;if(fe&&(re={errorThrown:!1,error:null}),ue(),fe){const{errorThrown:Ee,error:Qe}=re;if(re=null,Ee)throw Qe}}else ue()}function be(ue){b.config.useDeprecatedSynchronousErrorHandling&&re&&(re.errorThrown=!0,re.error=ue)}},7103:(Ht,Ge,K)=>{function b(re,u,be,ue=0,fe=!1){const Ee=u.schedule(function(){be(),fe?re.add(this.schedule(null,ue)):this.unsubscribe()},ue);if(re.add(Ee),!fe)return Ee}K.d(Ge,{f:()=>b})},2737:(Ht,Ge,K)=>{function b(re){return re}K.d(Ge,{y:()=>b})},4266:(Ht,Ge,K)=>{K.d(Ge,{z:()=>b});const b=re=>re&&"number"==typeof re.length&&"function"!=typeof re},5726:(Ht,Ge,K)=>{K.d(Ge,{D:()=>re});var b=K(4674);function re(u){return Symbol.asyncIterator&&(0,b.m)(u?.[Symbol.asyncIterator])}},4674:(Ht,Ge,K)=>{function b(re){return"function"==typeof re}K.d(Ge,{m:()=>b})},8382:(Ht,Ge,K)=>{K.d(Ge,{c:()=>u});var b=K(4850),re=K(4674);function u(be){return(0,re.m)(be[b.L])}},3664:(Ht,Ge,K)=>{K.d(Ge,{T:()=>u});var b=K(4971),re=K(4674);function u(be){return(0,re.m)(be?.[b.h])}},4026:(Ht,Ge,K)=>{K.d(Ge,{t:()=>re});var b=K(4674);function re(u){return(0,b.m)(u?.then)}},541:(Ht,Ge,K)=>{K.d(Ge,{L:()=>be,Q:()=>u});var b=K(7582),re=K(4674);function u(ue){return(0,b.FC)(this,arguments,function*(){const Ee=ue.getReader();try{for(;;){const{value:Qe,done:Re}=yield(0,b.qq)(Ee.read());if(Re)return yield(0,b.qq)(void 0);yield yield(0,b.qq)(Qe)}}finally{Ee.releaseLock()}})}function be(ue){return(0,re.m)(ue?.getReader)}},671:(Ht,Ge,K)=>{K.d(Ge,{K:()=>re});var b=K(4674);function re(u){return u&&(0,b.m)(u.schedule)}},9360:(Ht,Ge,K)=>{K.d(Ge,{A:()=>re,e:()=>u});var b=K(4674);function re(be){return(0,b.m)(be?.lift)}function u(be){return ue=>{if(re(ue))return ue.lift(function(fe){try{return be(fe,this)}catch(Ee){this.error(Ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Ht,Ge,K)=>{K.d(Ge,{Z:()=>be});var b=K(7398);const{isArray:re}=Array;function be(ue){return(0,b.U)(fe=>function u(ue,fe){return re(fe)?ue(...fe):ue(fe)}(ue,fe))}},2420:(Ht,Ge,K)=>{function b(){}K.d(Ge,{Z:()=>b})},8407:(Ht,Ge,K)=>{K.d(Ge,{U:()=>u,z:()=>re});var b=K(2737);function re(...be){return u(be)}function u(be){return 0===be.length?b.y:1===be.length?be[0]:function(fe){return be.reduce((Ee,Qe)=>Qe(Ee),fe)}}},3894:(Ht,Ge,K)=>{K.d(Ge,{h:()=>u});var b=K(2653),re=K(7599);function u(be){re.z.setTimeout(()=>{const{onUnhandledError:ue}=b.config;if(!ue)throw be;ue(be)})}},9853:(Ht,Ge,K)=>{function b(re){return new TypeError(`You provided ${null!==re&&"object"==typeof re?"an invalid object":`'${re}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}K.d(Ge,{z:()=>b})},6814:(Ht,Ge,K)=>{K.d(Ge,{Do:()=>Tt,EM:()=>wa,HT:()=>be,JF:()=>Ms,K0:()=>fe,Mn:()=>Cn,Mx:()=>io,O5:()=>cs,PM:()=>ri,S$:()=>Se,Tn:()=>ve,UT:()=>jn,V_:()=>Qe,Ye:()=>Ft,ax:()=>js,b0:()=>Ke,bD:()=>wi,ez:()=>Tr,mk:()=>ma,p6:()=>Jn,q:()=>u,sg:()=>js,tP:()=>so,uU:()=>ao,w_:()=>ue,x:()=>je});var b=K(9468);let re=null;function u(){return re}function be(M){re||(re=M)}class ue{}const fe=new b.OlP("DocumentToken");let Ee=(()=>{class M{historyGo(U){throw new Error("Not implemented")}static#e=this.\u0275fac=function(ee){return new(ee||M)};static#t=this.\u0275prov=b.Yz7({token:M,factory:function(){return(0,b.f3M)(Re)},providedIn:"platform"})}return M})();const Qe=new b.OlP("Location Initialized");let Re=(()=>{class M extends Ee{constructor(){super(),this._doc=(0,b.f3M)(fe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return u().getBaseHref(this._doc)}onPopState(U){const ee=u().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("popstate",U,!1),()=>ee.removeEventListener("popstate",U)}onHashChange(U){const ee=u().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("hashchange",U,!1),()=>ee.removeEventListener("hashchange",U)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(U){this._location.pathname=U}pushState(U,ee,ye){this._history.pushState(U,ee,ye)}replaceState(U,ee,ye){this._history.replaceState(U,ee,ye)}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}static#e=this.\u0275fac=function(ee){return new(ee||M)};static#t=this.\u0275prov=b.Yz7({token:M,factory:function(){return new M},providedIn:"platform"})}return M})();function ce(M,ne){if(0==M.length)return ne;if(0==ne.length)return M;let U=0;return M.endsWith("/")&&U++,ne.startsWith("/")&&U++,2==U?M+ne.substring(1):1==U?M+ne:M+"/"+ne}function de(M){const ne=M.match(/#|\?|$/),U=ne&&ne.index||M.length;return M.slice(0,U-("/"===M[U-1]?1:0))+M.slice(U)}function Me(M){return M&&"?"!==M[0]?"?"+M:M}let Se=(()=>{class M{historyGo(U){throw new Error("Not implemented")}static#e=this.\u0275fac=function(ee){return new(ee||M)};static#t=this.\u0275prov=b.Yz7({token:M,factory:function(){return(0,b.f3M)(Ke)},providedIn:"root"})}return M})();const Oe=new b.OlP("appBaseHref");let Ke=(()=>{class M extends Se{constructor(U,ee){super(),this._platformLocation=U,this._removeListenerFns=[],this._baseHref=ee??this._platformLocation.getBaseHrefFromDOM()??(0,b.f3M)(fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return ce(this._baseHref,U)}path(U=!1){const ee=this._platformLocation.pathname+Me(this._platformLocation.search),ye=this._platformLocation.hash;return ye&&U?`${ee}${ye}`:ee}pushState(U,ee,ye,et){const gt=this.prepareExternalUrl(ye+Me(et));this._platformLocation.pushState(U,ee,gt)}replaceState(U,ee,ye,et){const gt=this.prepareExternalUrl(ye+Me(et));this._platformLocation.replaceState(U,ee,gt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.LFG(Ee),b.LFG(Oe,8))};static#t=this.\u0275prov=b.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})(),Tt=(()=>{class M extends Se{constructor(U,ee){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=ee&&(this._baseHref=ee)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){let ee=this._platformLocation.hash;return null==ee&&(ee="#"),ee.length>0?ee.substring(1):ee}prepareExternalUrl(U){const ee=ce(this._baseHref,U);return ee.length>0?"#"+ee:ee}pushState(U,ee,ye,et){let gt=this.prepareExternalUrl(ye+Me(et));0==gt.length&&(gt=this._platformLocation.pathname),this._platformLocation.pushState(U,ee,gt)}replaceState(U,ee,ye,et){let gt=this.prepareExternalUrl(ye+Me(et));0==gt.length&&(gt=this._platformLocation.pathname),this._platformLocation.replaceState(U,ee,gt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.LFG(Ee),b.LFG(Oe,8))};static#t=this.\u0275prov=b.Yz7({token:M,factory:M.\u0275fac})}return M})(),Ft=(()=>{class M{constructor(U){this._subject=new b.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=U;const ee=this._locationStrategy.getBaseHref();this._basePath=function ft(M){if(new RegExp("^(https?:)?//").test(M)){const[,U]=M.split(/\/\/[^\/]+/);return U}return M}(de(Ot(ee))),this._locationStrategy.onPopState(ye=>{this._subject.emit({url:this.path(!0),pop:!0,state:ye.state,type:ye.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(U=!1){return this.normalize(this._locationStrategy.path(U))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(U,ee=""){return this.path()==this.normalize(U+Me(ee))}normalize(U){return M.stripTrailingSlash(function Dn(M,ne){if(!M||!ne.startsWith(M))return ne;const U=ne.substring(M.length);return""===U||["/",";","?","#"].includes(U[0])?U:ne}(this._basePath,Ot(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._locationStrategy.prepareExternalUrl(U)}go(U,ee="",ye=null){this._locationStrategy.pushState(ye,"",U,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Me(ee)),ye)}replaceState(U,ee="",ye=null){this._locationStrategy.replaceState(ye,"",U,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Me(ee)),ye)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(U=0){this._locationStrategy.historyGo?.(U)}onUrlChange(U){return this._urlChangeListeners.push(U),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ee=>{this._notifyUrlChangeListeners(ee.url,ee.state)})),()=>{const ee=this._urlChangeListeners.indexOf(U);this._urlChangeListeners.splice(ee,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(U="",ee){this._urlChangeListeners.forEach(ye=>ye(U,ee))}subscribe(U,ee,ye){return this._subject.subscribe({next:U,error:ee,complete:ye})}static#e=this.normalizeQueryParams=Me;static#t=this.joinWithSlash=ce;static#n=this.stripTrailingSlash=de;static#r=this.\u0275fac=function(ee){return new(ee||M)(b.LFG(Se))};static#i=this.\u0275prov=b.Yz7({token:M,factory:function(){return function Nt(){return new Ft((0,b.LFG)(Se))}()},providedIn:"root"})}return M})();function Ot(M){return M.replace(/\/index.html$/,"")}var je=function(M){return M[M.Format=0]="Format",M[M.Standalone=1]="Standalone",M}(je||{}),ve=function(M){return M[M.Narrow=0]="Narrow",M[M.Abbreviated=1]="Abbreviated",M[M.Wide=2]="Wide",M[M.Short=3]="Short",M}(ve||{}),Je=function(M){return M[M.Short=0]="Short",M[M.Medium=1]="Medium",M[M.Long=2]="Long",M[M.Full=3]="Full",M}(Je||{}),mt=function(M){return M[M.Decimal=0]="Decimal",M[M.Group=1]="Group",M[M.List=2]="List",M[M.PercentSign=3]="PercentSign",M[M.PlusSign=4]="PlusSign",M[M.MinusSign=5]="MinusSign",M[M.Exponential=6]="Exponential",M[M.SuperscriptingExponent=7]="SuperscriptingExponent",M[M.PerMille=8]="PerMille",M[M.Infinity=9]="Infinity",M[M.NaN=10]="NaN",M[M.TimeSeparator=11]="TimeSeparator",M[M.CurrencyDecimal=12]="CurrencyDecimal",M[M.CurrencyGroup=13]="CurrencyGroup",M}(mt||{});function Cn(M,ne,U){const ee=(0,b.cg1)(M),et=De([ee[b.wAp.DaysFormat],ee[b.wAp.DaysStandalone]],ne);return De(et,U)}function jn(M,ne,U){const ee=(0,b.cg1)(M),et=De([ee[b.wAp.MonthsFormat],ee[b.wAp.MonthsStandalone]],ne);return De(et,U)}function $e(M,ne){return De((0,b.cg1)(M)[b.wAp.DateFormat],ne)}function Xe(M,ne){return De((0,b.cg1)(M)[b.wAp.TimeFormat],ne)}function Ue(M,ne){return De((0,b.cg1)(M)[b.wAp.DateTimeFormat],ne)}function rt(M,ne){const U=(0,b.cg1)(M),ee=U[b.wAp.NumberSymbols][ne];if(typeof ee>"u"){if(ne===mt.CurrencyDecimal)return U[b.wAp.NumberSymbols][mt.Decimal];if(ne===mt.CurrencyGroup)return U[b.wAp.NumberSymbols][mt.Group]}return ee}function Dt(M){if(!M[b.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${M[b.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function De(M,ne){for(let U=ne;U>-1;U--)if(typeof M[U]<"u")return M[U];throw new Error("Locale data API: locale data undefined")}function Pe(M){const[ne,U]=M.split(":");return{hours:+ne,minutes:+U}}const At=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ir={},An=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var sn=function(M){return M[M.Short=0]="Short",M[M.ShortGMT=1]="ShortGMT",M[M.Long=2]="Long",M[M.Extended=3]="Extended",M}(sn||{}),Qt=function(M){return M[M.FullYear=0]="FullYear",M[M.Month=1]="Month",M[M.Date=2]="Date",M[M.Hours=3]="Hours",M[M.Minutes=4]="Minutes",M[M.Seconds=5]="Seconds",M[M.FractionalSeconds=6]="FractionalSeconds",M[M.Day=7]="Day",M}(Qt||{}),wn=function(M){return M[M.DayPeriods=0]="DayPeriods",M[M.Days=1]="Days",M[M.Months=2]="Months",M[M.Eras=3]="Eras",M}(wn||{});function Jn(M,ne,U,ee){let ye=function V(M){if(q(M))return M;if("number"==typeof M&&!isNaN(M))return new Date(M);if("string"==typeof M){if(M=M.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(M)){const[ye,et=1,gt=1]=M.split("-").map(_n=>+_n);return en(ye,et-1,gt)}const U=parseFloat(M);if(!isNaN(M-U))return new Date(U);let ee;if(ee=M.match(At))return function G(M){const ne=new Date(0);let U=0,ee=0;const ye=M[8]?ne.setUTCFullYear:ne.setFullYear,et=M[8]?ne.setUTCHours:ne.setHours;M[9]&&(U=Number(M[9]+M[10]),ee=Number(M[9]+M[11])),ye.call(ne,Number(M[1]),Number(M[2])-1,Number(M[3]));const gt=Number(M[4]||0)-U,_n=Number(M[5]||0)-ee,Rr=Number(M[6]||0),rr=Math.floor(1e3*parseFloat("0."+(M[7]||0)));return et.call(ne,gt,_n,Rr,rr),ne}(ee)}const ne=new Date(M);if(!q(ne))throw new Error(`Unable to convert "${M}" into a date`);return ne}(M);ne=Or(U,ne)||ne;let _n,gt=[];for(;ne;){if(_n=An.exec(ne),!_n){gt.push(ne);break}{gt=gt.concat(_n.slice(1));const tr=gt.pop();if(!tr)break;ne=tr}}let Rr=ye.getTimezoneOffset();ee&&(Rr=Zt(ee,Rr),ye=function Y(M,ne,U){const ee=U?-1:1,ye=M.getTimezoneOffset();return function Wn(M,ne){return(M=new Date(M.getTime())).setMinutes(M.getMinutes()+ne),M}(M,ee*(Zt(ne,ye)-ye))}(ye,ee,!0));let rr="";return gt.forEach(tr=>{const Sn=function qt(M){if(It[M])return It[M];let ne;switch(M){case"G":case"GG":case"GGG":ne=zn(wn.Eras,ve.Abbreviated);break;case"GGGG":ne=zn(wn.Eras,ve.Wide);break;case"GGGGG":ne=zn(wn.Eras,ve.Narrow);break;case"y":ne=Yn(Qt.FullYear,1,0,!1,!0);break;case"yy":ne=Yn(Qt.FullYear,2,0,!0,!0);break;case"yyy":ne=Yn(Qt.FullYear,3,0,!1,!0);break;case"yyyy":ne=Yn(Qt.FullYear,4,0,!1,!0);break;case"Y":ne=Ze(1);break;case"YY":ne=Ze(2,!0);break;case"YYY":ne=Ze(3);break;case"YYYY":ne=Ze(4);break;case"M":case"L":ne=Yn(Qt.Month,1,1);break;case"MM":case"LL":ne=Yn(Qt.Month,2,1);break;case"MMM":ne=zn(wn.Months,ve.Abbreviated);break;case"MMMM":ne=zn(wn.Months,ve.Wide);break;case"MMMMM":ne=zn(wn.Months,ve.Narrow);break;case"LLL":ne=zn(wn.Months,ve.Abbreviated,je.Standalone);break;case"LLLL":ne=zn(wn.Months,ve.Wide,je.Standalone);break;case"LLLLL":ne=zn(wn.Months,ve.Narrow,je.Standalone);break;case"w":ne=Ce(1);break;case"ww":ne=Ce(2);break;case"W":ne=Ce(1,!0);break;case"d":ne=Yn(Qt.Date,1);break;case"dd":ne=Yn(Qt.Date,2);break;case"c":case"cc":ne=Yn(Qt.Day,1);break;case"ccc":ne=zn(wn.Days,ve.Abbreviated,je.Standalone);break;case"cccc":ne=zn(wn.Days,ve.Wide,je.Standalone);break;case"ccccc":ne=zn(wn.Days,ve.Narrow,je.Standalone);break;case"cccccc":ne=zn(wn.Days,ve.Short,je.Standalone);break;case"E":case"EE":case"EEE":ne=zn(wn.Days,ve.Abbreviated);break;case"EEEE":ne=zn(wn.Days,ve.Wide);break;case"EEEEE":ne=zn(wn.Days,ve.Narrow);break;case"EEEEEE":ne=zn(wn.Days,ve.Short);break;case"a":case"aa":case"aaa":ne=zn(wn.DayPeriods,ve.Abbreviated);break;case"aaaa":ne=zn(wn.DayPeriods,ve.Wide);break;case"aaaaa":ne=zn(wn.DayPeriods,ve.Narrow);break;case"b":case"bb":case"bbb":ne=zn(wn.DayPeriods,ve.Abbreviated,je.Standalone,!0);break;case"bbbb":ne=zn(wn.DayPeriods,ve.Wide,je.Standalone,!0);break;case"bbbbb":ne=zn(wn.DayPeriods,ve.Narrow,je.Standalone,!0);break;case"B":case"BB":case"BBB":ne=zn(wn.DayPeriods,ve.Abbreviated,je.Format,!0);break;case"BBBB":ne=zn(wn.DayPeriods,ve.Wide,je.Format,!0);break;case"BBBBB":ne=zn(wn.DayPeriods,ve.Narrow,je.Format,!0);break;case"h":ne=Yn(Qt.Hours,1,-12);break;case"hh":ne=Yn(Qt.Hours,2,-12);break;case"H":ne=Yn(Qt.Hours,1);break;case"HH":ne=Yn(Qt.Hours,2);break;case"m":ne=Yn(Qt.Minutes,1);break;case"mm":ne=Yn(Qt.Minutes,2);break;case"s":ne=Yn(Qt.Seconds,1);break;case"ss":ne=Yn(Qt.Seconds,2);break;case"S":ne=Yn(Qt.FractionalSeconds,1);break;case"SS":ne=Yn(Qt.FractionalSeconds,2);break;case"SSS":ne=Yn(Qt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ne=xn(sn.Short);break;case"ZZZZZ":ne=xn(sn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ne=xn(sn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ne=xn(sn.Long);break;default:return null}return It[M]=ne,ne}(tr);rr+=Sn?Sn(ye,U,Rr):"''"===tr?"'":tr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),rr}function en(M,ne,U){const ee=new Date(0);return ee.setFullYear(M,ne,U),ee.setHours(0,0,0),ee}function Or(M,ne){const U=function dt(M){return(0,b.cg1)(M)[b.wAp.LocaleId]}(M);if(Ir[U]=Ir[U]||{},Ir[U][ne])return Ir[U][ne];let ee="";switch(ne){case"shortDate":ee=$e(M,Je.Short);break;case"mediumDate":ee=$e(M,Je.Medium);break;case"longDate":ee=$e(M,Je.Long);break;case"fullDate":ee=$e(M,Je.Full);break;case"shortTime":ee=Xe(M,Je.Short);break;case"mediumTime":ee=Xe(M,Je.Medium);break;case"longTime":ee=Xe(M,Je.Long);break;case"fullTime":ee=Xe(M,Je.Full);break;case"short":const ye=Or(M,"shortTime"),et=Or(M,"shortDate");ee=Er(Ue(M,Je.Short),[ye,et]);break;case"medium":const gt=Or(M,"mediumTime"),_n=Or(M,"mediumDate");ee=Er(Ue(M,Je.Medium),[gt,_n]);break;case"long":const Rr=Or(M,"longTime"),rr=Or(M,"longDate");ee=Er(Ue(M,Je.Long),[Rr,rr]);break;case"full":const tr=Or(M,"fullTime"),Sn=Or(M,"fullDate");ee=Er(Ue(M,Je.Full),[tr,Sn])}return ee&&(Ir[U][ne]=ee),ee}function Er(M,ne){return ne&&(M=M.replace(/\{([^}]+)}/g,function(U,ee){return null!=ne&&ee in ne?ne[ee]:U})),M}function mn(M,ne,U="-",ee,ye){let et="";(M<0||ye&&M<=0)&&(ye?M=1-M:(M=-M,et=U));let gt=String(M);for(;gt.length<ne;)gt="0"+gt;return ee&&(gt=gt.slice(gt.length-ne)),et+gt}function Yn(M,ne,U=0,ee=!1,ye=!1){return function(et,gt){let _n=function ur(M,ne){switch(M){case Qt.FullYear:return ne.getFullYear();case Qt.Month:return ne.getMonth();case Qt.Date:return ne.getDate();case Qt.Hours:return ne.getHours();case Qt.Minutes:return ne.getMinutes();case Qt.Seconds:return ne.getSeconds();case Qt.FractionalSeconds:return ne.getMilliseconds();case Qt.Day:return ne.getDay();default:throw new Error(`Unknown DateType value "${M}".`)}}(M,et);if((U>0||_n>-U)&&(_n+=U),M===Qt.Hours)0===_n&&-12===U&&(_n=12);else if(M===Qt.FractionalSeconds)return function lr(M,ne){return mn(M,3).substring(0,ne)}(_n,ne);const Rr=rt(gt,mt.MinusSign);return mn(_n,ne,Rr,ee,ye)}}function zn(M,ne,U=je.Format,ee=!1){return function(ye,et){return function fi(M,ne,U,ee,ye,et){switch(U){case wn.Months:return jn(ne,ye,ee)[M.getMonth()];case wn.Days:return Cn(ne,ye,ee)[M.getDay()];case wn.DayPeriods:const gt=M.getHours(),_n=M.getMinutes();if(et){const rr=function Zn(M){const ne=(0,b.cg1)(M);return Dt(ne),(ne[b.wAp.ExtraData][2]||[]).map(ee=>"string"==typeof ee?Pe(ee):[Pe(ee[0]),Pe(ee[1])])}(ne),tr=function br(M,ne,U){const ee=(0,b.cg1)(M);Dt(ee);const et=De([ee[b.wAp.ExtraData][0],ee[b.wAp.ExtraData][1]],ne)||[];return De(et,U)||[]}(ne,ye,ee),Sn=rr.findIndex(ii=>{if(Array.isArray(ii)){const[Dr,Kr]=ii,ns=gt>=Dr.hours&&_n>=Dr.minutes,Mi=gt<Kr.hours||gt===Kr.hours&&_n<Kr.minutes;if(Dr.hours<Kr.hours){if(ns&&Mi)return!0}else if(ns||Mi)return!0}else if(ii.hours===gt&&ii.minutes===_n)return!0;return!1});if(-1!==Sn)return tr[Sn]}return function hn(M,ne,U){const ee=(0,b.cg1)(M),et=De([ee[b.wAp.DayPeriodsFormat],ee[b.wAp.DayPeriodsStandalone]],ne);return De(et,U)}(ne,ye,ee)[gt<12?0:1];case wn.Eras:return function cr(M,ne){return De((0,b.cg1)(M)[b.wAp.Eras],ne)}(ne,ee)[M.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${U}`)}}(ye,et,M,ne,U,ee)}}function xn(M){return function(ne,U,ee){const ye=-1*ee,et=rt(U,mt.MinusSign),gt=ye>0?Math.floor(ye/60):Math.ceil(ye/60);switch(M){case sn.Short:return(ye>=0?"+":"")+mn(gt,2,et)+mn(Math.abs(ye%60),2,et);case sn.ShortGMT:return"GMT"+(ye>=0?"+":"")+mn(gt,1,et);case sn.Long:return"GMT"+(ye>=0?"+":"")+mn(gt,2,et)+":"+mn(Math.abs(ye%60),2,et);case sn.Extended:return 0===ee?"Z":(ye>=0?"+":"")+mn(gt,2,et)+":"+mn(Math.abs(ye%60),2,et);default:throw new Error(`Unknown zone width "${M}"`)}}}const Xn=0,xr=4;function nt(M){return en(M.getFullYear(),M.getMonth(),M.getDate()+(xr-M.getDay()))}function Ce(M,ne=!1){return function(U,ee){let ye;if(ne){const et=new Date(U.getFullYear(),U.getMonth(),1).getDay()-1,gt=U.getDate();ye=1+Math.floor((gt+et)/7)}else{const et=nt(U),gt=function pi(M){const ne=en(M,Xn,1).getDay();return en(M,0,1+(ne<=xr?xr:xr+7)-ne)}(et.getFullYear()),_n=et.getTime()-gt.getTime();ye=1+Math.round(_n/6048e5)}return mn(ye,M,rt(ee,mt.MinusSign))}}function Ze(M,ne=!1){return function(U,ee){return mn(nt(U).getFullYear(),M,rt(ee,mt.MinusSign),ne)}}const It={};function Zt(M,ne){M=M.replace(/:/g,"");const U=Date.parse("Jan 01, 1970 00:00:00 "+M)/6e4;return isNaN(U)?ne:U}function q(M){return M instanceof Date&&!isNaN(M.valueOf())}function io(M,ne){ne=encodeURIComponent(ne);for(const U of M.split(";")){const ee=U.indexOf("="),[ye,et]=-1==ee?[U,""]:[U.slice(0,ee),U.slice(ee+1)];if(ye.trim()===ne)return decodeURIComponent(et)}return null}const xo=/\s+/,Ko=[];let ma=(()=>{class M{constructor(U,ee,ye,et){this._iterableDiffers=U,this._keyValueDiffers=ee,this._ngEl=ye,this._renderer=et,this.initialClasses=Ko,this.stateMap=new Map}set klass(U){this.initialClasses=null!=U?U.trim().split(xo):Ko}set ngClass(U){this.rawClass="string"==typeof U?U.trim().split(xo):U}ngDoCheck(){for(const ee of this.initialClasses)this._updateState(ee,!0);const U=this.rawClass;if(Array.isArray(U)||U instanceof Set)for(const ee of U)this._updateState(ee,!0);else if(null!=U)for(const ee of Object.keys(U))this._updateState(ee,!!U[ee]);this._applyStateDiff()}_updateState(U,ee){const ye=this.stateMap.get(U);void 0!==ye?(ye.enabled!==ee&&(ye.changed=!0,ye.enabled=ee),ye.touched=!0):this.stateMap.set(U,{enabled:ee,changed:!0,touched:!0})}_applyStateDiff(){for(const U of this.stateMap){const ee=U[0],ye=U[1];ye.changed?(this._toggleClass(ee,ye.enabled),ye.changed=!1):ye.touched||(ye.enabled&&this._toggleClass(ee,!1),this.stateMap.delete(ee)),ye.touched=!1}}_toggleClass(U,ee){(U=U.trim()).length>0&&U.split(xo).forEach(ye=>{ee?this._renderer.addClass(this._ngEl.nativeElement,ye):this._renderer.removeClass(this._ngEl.nativeElement,ye)})}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.Y36(b.ZZ4),b.Y36(b.aQg),b.Y36(b.SBq),b.Y36(b.Qsj))};static#t=this.\u0275dir=b.lG2({type:M,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return M})();class Qr{constructor(ne,U,ee,ye){this.$implicit=ne,this.ngForOf=U,this.index=ee,this.count=ye}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let js=(()=>{class M{set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}constructor(U,ee,ye){this._viewContainer=U,this._template=ee,this._differs=ye,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const ee=this._viewContainer;U.forEachOperation((ye,et,gt)=>{if(null==ye.previousIndex)ee.createEmbeddedView(this._template,new Qr(ye.item,this._ngForOf,-1,-1),null===gt?void 0:gt);else if(null==gt)ee.remove(null===et?void 0:et);else if(null!==et){const _n=ee.get(et);ee.move(_n,gt),Gi(_n,ye)}});for(let ye=0,et=ee.length;ye<et;ye++){const _n=ee.get(ye).context;_n.index=ye,_n.count=et,_n.ngForOf=this._ngForOf}U.forEachIdentityChange(ye=>{Gi(ee.get(ye.currentIndex),ye)})}static ngTemplateContextGuard(U,ee){return!0}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.Y36(b.s_b),b.Y36(b.Rgc),b.Y36(b.ZZ4))};static#t=this.\u0275dir=b.lG2({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return M})();function Gi(M,ne){M.context.$implicit=ne.item}let cs=(()=>{class M{constructor(U,ee){this._viewContainer=U,this._context=new rc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ee}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){gi("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){gi("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,ee){return!0}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.Y36(b.s_b),b.Y36(b.Rgc))};static#t=this.\u0275dir=b.lG2({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return M})();class rc{constructor(){this.$implicit=null,this.ngIf=null}}function gi(M,ne){if(ne&&!ne.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,b.AaK)(ne)}'.`)}let so=(()=>{class M{constructor(U){this._viewContainerRef=U,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(U){if(U.ngTemplateOutlet||U.ngTemplateOutletInjector){const ee=this._viewContainerRef;if(this._viewRef&&ee.remove(ee.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ye,ngTemplateOutletContext:et,ngTemplateOutletInjector:gt}=this;this._viewRef=ee.createEmbeddedView(ye,et,gt?{injector:gt}:void 0)}else this._viewRef=null}else this._viewRef&&U.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.Y36(b.s_b))};static#t=this.\u0275dir=b.lG2({type:M,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[b.TTD]})}return M})();const ba=new b.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Jr=new b.OlP("DATE_PIPE_DEFAULT_OPTIONS");let ao=(()=>{class M{constructor(U,ee,ye){this.locale=U,this.defaultTimezone=ee,this.defaultOptions=ye}transform(U,ee,ye,et){if(null==U||""===U||U!=U)return null;try{return Jn(U,ee??this.defaultOptions?.dateFormat??"mediumDate",et||this.locale,ye??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(gt){throw function Fi(M,ne){return new b.vHH(2100,!1)}()}}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.Y36(b.soG,16),b.Y36(ba,24),b.Y36(Jr,24))};static#t=this.\u0275pipe=b.Yjl({name:"date",type:M,pure:!0,standalone:!0})}return M})(),Tr=(()=>{class M{static#e=this.\u0275fac=function(ee){return new(ee||M)};static#t=this.\u0275mod=b.oAB({type:M});static#n=this.\u0275inj=b.cJS({})}return M})();const wi="browser",uo="server";function ri(M){return M===uo}let wa=(()=>{class M{static#e=this.\u0275prov=(0,b.Yz7)({token:M,providedIn:"root",factory:()=>new _s((0,b.LFG)(fe),window)})}return M})();class _s{constructor(ne,U){this.document=ne,this.window=U,this.offset=()=>[0,0]}setOffset(ne){this.offset=Array.isArray(ne)?()=>ne:ne}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ne){this.supportsScrolling()&&this.window.scrollTo(ne[0],ne[1])}scrollToAnchor(ne){if(!this.supportsScrolling())return;const U=function Wr(M,ne){const U=M.getElementById(ne)||M.getElementsByName(ne)[0];if(U)return U;if("function"==typeof M.createTreeWalker&&M.body&&"function"==typeof M.body.attachShadow){const ee=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let ye=ee.currentNode;for(;ye;){const et=ye.shadowRoot;if(et){const gt=et.getElementById(ne)||et.querySelector(`[name="${ne}"]`);if(gt)return gt}ye=ee.nextNode()}}return null}(this.document,ne);U&&(this.scrollToElement(U),U.focus())}setHistoryScrollRestoration(ne){this.supportsScrolling()&&(this.window.history.scrollRestoration=ne)}scrollToElement(ne){const U=ne.getBoundingClientRect(),ee=U.left+this.window.pageXOffset,ye=U.top+this.window.pageYOffset,et=this.offset();this.window.scrollTo(ee-et[0],ye-et[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Ms{}},9468:(Ht,Ge,K)=>{K.d(Ge,{QbO:()=>xv,tb:()=>AI,AFp:()=>H_,ip1:()=>y1,hGG:()=>wD,z2F:()=>Uc,Ojb:()=>oE,sBO:()=>fD,Sil:()=>_I,EJc:()=>mI,ktI:()=>vi,Xts:()=>nf,SBq:()=>ch,lqb:()=>Mc,qLn:()=>Lu,vpe:()=>Sl,XFs:()=>en,OlP:()=>xn,zs3:()=>ha,ZZ4:()=>L1,aQg:()=>B1,soG:()=>v1,YKP:()=>Jm,h0i:()=>Rl,PXZ:()=>HC,R0b:()=>jo,FiY:()=>np,Lbi:()=>Go,g9A:()=>Ho,Qsj:()=>fE,FYo:()=>K_,JOm:()=>cv,q3G:()=>Bs,tp0:()=>rp,Rgc:()=>sg,dDg:()=>sD,eoX:()=>dg,q4F:()=>Hv,GfV:()=>Q_,s_b:()=>X0,ifc:()=>ps,gHi:()=>sm,VuI:()=>TD,LMc:()=>xS,MMx:()=>V0,Lck:()=>lT,eFA:()=>NI,Gpc:()=>Dn,f3M:()=>nr,$WT:()=>ls,_c5:()=>V1,qFp:()=>fg,rg0:()=>rr,c2e:()=>XT,zSh:()=>Ip,HDt:()=>b1,wAp:()=>Hm,vHH:()=>je,lri:()=>DI,rWj:()=>N1,JZr:()=>_t,EiD:()=>Sv,mCW:()=>Ev,qzn:()=>eu,JVY:()=>Gg,pB0:()=>Jd,eBb:()=>ab,L6k:()=>jg,LAX:()=>$g,cg1:()=>Ew,kL8:()=>C0,dqk:()=>ur,Z0I:()=>vt,eJc:()=>Vy,QGY:()=>Ml,F4k:()=>Zb,RDi:()=>Ug,AaK:()=>Tt,z3N:()=>Xl,zW0:()=>mc,qOj:()=>wf,Xq5:()=>qe,TTD:()=>ns,_Bn:()=>Bw,jDz:()=>dT,xp6:()=>fm,uIk:()=>Id,Tol:()=>zu,ekj:()=>w0,Suo:()=>OT,Xpm:()=>Yo,lG2:()=>ao,Yz7:()=>De,cJS:()=>ke,oAB:()=>oo,Yjl:()=>Jo,Y36:()=>yd,_UZ:()=>jp,BQk:()=>zp,ynx:()=>vh,qZA:()=>Cd,TgZ:()=>Sf,EpF:()=>Pi,n5z:()=>$d,Ikx:()=>D0,SDv:()=>sT,LFG:()=>Fn,$8M:()=>L,$Z:()=>Pp,NdJ:()=>f0,CRH:()=>MT,kcU:()=>Ld,O4$:()=>Lo,oxw:()=>Zp,ALo:()=>W0,lcZ:()=>Ww,xi3:()=>q0,Hsn:()=>Qb,F$t:()=>p0,Q6J:()=>Ol,s9C:()=>my,MGl:()=>_y,VKq:()=>Gw,WLB:()=>z0,kEZ:()=>bT,iGM:()=>ag,MAs:()=>pl,KtG:()=>Fd,Jf7:()=>ty,CHM:()=>Ju,uOi:()=>ol,LSH:()=>Xh,P3R:()=>L_,YNc:()=>Yr,W1O:()=>a1,_uU:()=>lw,Oqu:()=>dw,hij:()=>Yi,lnq:()=>Pm,Gf:()=>o1});var b=K(8645),re=K(7394),u=K(5592),be=K(3019),ue=K(5619),fe=K(2096),Ee=K(4829),Qe=K(305),Re=K(9360);function ce(r={}){const{connector:s=(()=>new b.x),resetOnError:a=!0,resetOnComplete:d=!0,resetOnRefCountZero:g=!0}=r;return y=>{let I,S,R,z=0,ie=!1,me=!1;const xe=()=>{S?.unsubscribe(),S=void 0},Be=()=>{xe(),I=R=void 0,ie=me=!1},pt=()=>{const Mt=I;Be(),Mt?.unsubscribe()};return(0,Re.e)((Mt,tn)=>{z++,!me&&!ie&&xe();const bn=R=R??s();tn.add(()=>{z--,0===z&&!me&&!ie&&(S=de(pt,g))}),bn.subscribe(tn),!I&&z>0&&(I=new Qe.Hp({next:bt=>bn.next(bt),error:bt=>{me=!0,xe(),S=de(Be,a,bt),bn.error(bt)},complete:()=>{ie=!0,xe(),S=de(Be,d),bn.complete()}}),(0,Ee.Xf)(Mt).subscribe(I))})(y)}}function de(r,s,...a){if(!0===s)return void r();if(!1===s)return;const d=new Qe.Hp({next:()=>{d.unsubscribe(),r()}});return(0,Ee.Xf)(s(...a)).subscribe(d)}var Me=K(4664),Se=K(3997);function Oe(r){for(let s in r)if(r[s]===Oe)return s;throw Error("Could not find renamed property on target object.")}function Ke(r,s){for(const a in s)s.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=s[a])}function Tt(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(Tt).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Ft(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const Nt=Oe({__forward_ref__:Oe});function Dn(r){return r.__forward_ref__=Dn,r.toString=function(){return Tt(this())},r}function Ot(r){return ft(r)?r():r}function ft(r){return"function"==typeof r&&r.hasOwnProperty(Nt)&&r.__forward_ref__===Dn}function st(r){return r&&!!r.\u0275providers}const _t="https://g.co/ng/security#xss";class je extends Error{constructor(s,a){super(function ve(r,s){return`NG0${Math.abs(r)}${s?": "+s:""}`}(s,a)),this.code=s}}function Je(r){return"string"==typeof r?r:null==r?"":String(r)}function Cn(r,s){throw new je(-201,!1)}function Dt(r,s,a,d){throw new Error(`ASSERTION ERROR: ${r}`+(null==d?"":` [Expected=> ${a} ${d} ${s} <=Actual]`))}function De(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function ke(r){return{providers:r.providers||[],imports:r.imports||[]}}function at(r){return At(r,sn)||At(r,wn)}function vt(r){return null!==at(r)}function At(r,s){return r.hasOwnProperty(s)?r[s]:null}function An(r){return r&&(r.hasOwnProperty(Qt)||r.hasOwnProperty(Jn))?r[Qt]:null}const sn=Oe({\u0275prov:Oe}),Qt=Oe({\u0275inj:Oe}),wn=Oe({ngInjectableDef:Oe}),Jn=Oe({ngInjectorDef:Oe});var en=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(en||{});let Or;function Er(){return Or}function mn(r){const s=Or;return Or=r,s}function lr(r,s,a){const d=at(r);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:a&en.Optional?null:void 0!==s?s:void Cn(Tt(r))}const ur=globalThis;class xn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=De({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const V={},G="__NG_DI_FLAG__",q="ngTempTokenPath",we=/\n/gm,Et="__source";let on;function Mn(r){const s=on;return on=r,s}function Kt(r,s=en.Default){if(void 0===on)throw new je(-203,!1);return null===on?lr(r,void 0,s):on.get(r,s&en.Optional?null:void 0,s)}function Fn(r,s=en.Default){return(Er()||Kt)(Ot(r),s)}function nr(r,s=en.Default){return Fn(r,Gs(s))}function Gs(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function Ui(r){const s=[];for(let a=0;a<r.length;a++){const d=Ot(r[a]);if(Array.isArray(d)){if(0===d.length)throw new je(900,!1);let g,y=en.Default;for(let I=0;I<d.length;I++){const S=d[I],R=Zo(S);"number"==typeof R?-1===R?g=S.token:y|=R:g=S}s.push(Fn(g,y))}else s.push(Fn(d))}return s}function as(r,s){return r[G]=s,r.prototype[G]=s,r}function Zo(r){return r[G]}function Vr(r){return{toString:r}.toString()}var Mo=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(Mo||{}),ps=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(ps||{});const Ji={},dr=[],io=Oe({\u0275cmp:Oe}),xo=Oe({\u0275dir:Oe}),Ko=Oe({\u0275pipe:Oe}),ma=Oe({\u0275mod:Oe}),Hi=Oe({\u0275fac:Oe}),Ss=Oe({__NG_ELEMENT_ID__:Oe}),Qr=Oe({__NG_ENV_ID__:Oe});function js(r,s,a){let d=r.length;for(;;){const g=r.indexOf(s,a);if(-1===g)return g;if(0===g||r.charCodeAt(g-1)<=32){const y=s.length;if(g+y===d||r.charCodeAt(g+y)<=32)return g}a=g+1}}function Gi(r,s,a){let d=0;for(;d<a.length;){const g=a[d];if("number"==typeof g){if(0!==g)break;d++;const y=a[d++],I=a[d++],S=a[d++];r.setAttribute(s,I,S,y)}else{const y=g,I=a[++d];cs(y)?r.setProperty(s,y,I):r.setAttribute(s,y,I),d++}}return d}function nc(r){return 3===r||4===r||6===r}function cs(r){return 64===r.charCodeAt(0)}function rc(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let a=-1;for(let d=0;d<s.length;d++){const g=s[d];"number"==typeof g?a=g:0===a||gi(r,a,g,null,-1===a||2===a?s[++d]:null)}}return r}function gi(r,s,a,d,g){let y=0,I=r.length;if(-1===s)I=-1;else for(;y<r.length;){const S=r[y++];if("number"==typeof S){if(S===s){I=-1;break}if(S>s){I=y-1;break}}}for(;y<r.length;){const S=r[y];if("number"==typeof S)break;if(S===a){if(null===d)return void(null!==g&&(r[y+1]=g));if(d===r[y+1])return void(r[y+2]=g)}y++,null!==d&&y++,null!==g&&y++}-1!==I&&(r.splice(I,0,s),y=I+1),r.splice(y++,0,a),null!==d&&r.splice(y++,0,d),null!==g&&r.splice(y++,0,g)}const Ua="ng-template";function As(r,s,a){let d=0,g=!0;for(;d<r.length;){let y=r[d++];if("string"==typeof y&&g){const I=r[d++];if(a&&"class"===y&&-1!==js(I.toLowerCase(),s,0))return!0}else{if(1===y){for(;d<r.length&&"string"==typeof(y=r[d++]);)if(y.toLowerCase()===s)return!0;return!1}"number"==typeof y&&(g=!1)}}return!1}function _a(r){return 4===r.type&&r.value!==Ua}function ya(r,s,a){return s===(4!==r.type||a?r.value:Ua)}function gs(r,s,a){let d=4;const g=r.attrs||[],y=function Gc(r){for(let s=0;s<r.length;s++)if(nc(r[s]))return s;return r.length}(g);let I=!1;for(let S=0;S<s.length;S++){const R=s[S];if("number"!=typeof R){if(!I)if(4&d){if(d=2|1&d,""!==R&&!ya(r,R,a)||""===R&&1===s.length){if(ni(d))return!1;I=!0}}else{const z=8&d?R:s[++S];if(8&d&&null!==r.attrs){if(!As(r.attrs,z,a)){if(ni(d))return!1;I=!0}continue}const me=$s(8&d?"class":R,g,_a(r),a);if(-1===me){if(ni(d))return!1;I=!0;continue}if(""!==z){let xe;xe=me>y?"":g[me+1].toLowerCase();const Be=8&d?xe:null;if(Be&&-1!==js(Be,z,0)||2&d&&z!==xe){if(ni(d))return!1;I=!0}}}}else{if(!I&&!ni(d)&&!ni(R))return!1;if(I&&ni(R))continue;I=!1,d=R|1&d}}return ni(d)||I}function ni(r){return 0==(1&r)}function $s(r,s,a,d){if(null===s)return-1;let g=0;if(d||!a){let y=!1;for(;g<s.length;){const I=s[g];if(I===r)return g;if(3===I||6===I)y=!0;else{if(1===I||2===I){let S=s[++g];for(;"string"==typeof S;)S=s[++g];continue}if(4===I)break;if(0===I){g+=4;continue}}g+=y?1:2}return-1}return function Fi(r,s){let a=r.indexOf(4);if(a>-1)for(a++;a<r.length;){const d=r[a];if("number"==typeof d)return-1;if(d===s)return a;a++}return-1}(s,r)}function Ns(r,s,a=!1){for(let d=0;d<s.length;d++)if(gs(r,s[d],a))return!0;return!1}function va(r,s){e:for(let a=0;a<s.length;a++){const d=s[a];if(r.length===d.length){for(let g=0;g<r.length;g++)if(r[g]!==d[g])continue e;return!0}}return!1}function Di(r,s){return r?":not("+s.trim()+")":s}function Li(r){let s=r[0],a=1,d=2,g="",y=!1;for(;a<r.length;){let I=r[a];if("string"==typeof I)if(2&d){const S=r[++a];g+="["+I+(S.length>0?'="'+S+'"':"")+"]"}else 8&d?g+="."+I:4&d&&(g+=" "+I);else""!==g&&!ni(I)&&(s+=Di(y,g),g=""),d=I,y=y||!ni(d);a++}return""!==g&&(s+=Di(y,g)),s}function Yo(r){return Vr(()=>{const s=Bi(r),a={...s,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===Mo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||ps.Emulated,styles:r.styles||dr,_:null,schemas:r.schemas||null,tView:null,id:""};co(a);const d=r.dependencies;return a.directiveDefs=_i(d,!1),a.pipeDefs=_i(d,!0),a.id=function lo(r){let s=0;const a=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const g of a)s=Math.imul(31,s)+g.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(a),a})}function Qo(r){return fr(r)||Zr(r)}function _l(r){return null!==r}function oo(r){return Vr(()=>({type:r.type,bootstrap:r.bootstrap||dr,declarations:r.declarations||dr,imports:r.imports||dr,exports:r.exports||dr,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function Jr(r,s){if(null==r)return Ji;const a={};for(const d in r)if(r.hasOwnProperty(d)){let g=r[d],y=g;Array.isArray(g)&&(y=g[1],g=g[0]),a[g]=d,s&&(s[g]=y)}return a}function ao(r){return Vr(()=>{const s=Bi(r);return co(s),s})}function Jo(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function fr(r){return r[io]||null}function Zr(r){return r[xo]||null}function Ci(r){return r[Ko]||null}function ls(r){const s=fr(r)||Zr(r)||Ci(r);return null!==s&&s.standalone}function ci(r,s){const a=r[ma]||null;if(!a&&!0===s)throw new Error(`Type ${Tt(r)} does not have '\u0275mod' property.`);return a}function Bi(r){const s={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:r.inputs||Ji,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||dr,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Jr(r.inputs,s),outputs:Jr(r.outputs)}}function co(r){r.features?.forEach(s=>s(r))}function _i(r,s){if(!r)return null;const a=s?Ci:Qo;return()=>("function"==typeof r?r():r).map(d=>a(d)).filter(_l)}const pr=0,Ut=1,Un=2,Tr=3,wi=4,uo=5,qn=6,zr=7,er=8,ri=9,ms=10,Pn=11,Ws=12,wa=13,_s=14,Wr=15,Xi=16,Ms=17,li=18,Po=19,jc=20,ys=21,ji=22,ho=23,ko=24,Hn=25,$i=1,xs=2,Ii=7,vc=9,$n=11;function Ur(r){return Array.isArray(r)&&"object"==typeof r[$i]}function bs(r){return Array.isArray(r)&&!0===r[$i]}function fo(r){return 0!=(4&r.flags)}function qs(r){return r.componentOffset>-1}function po(r){return 1==(1&r.flags)}function ui(r){return!!r.template}function Si(r){return 0!=(512&r[Un])}function Ta(r,s){return r.hasOwnProperty(Hi)?r[Hi]:null}let Ni=null,ta=!1;function ds(r){const s=Ni;return Ni=r,s}const mo={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function mi(r){if(!yi(r)||r.dirty){if(!r.producerMustRecompute(r)&&!na(r))return void(r.dirty=!1);r.producerRecomputeValue(r),r.dirty=!1}}function kl(r){r.dirty=!0,function $c(r){if(void 0===r.liveConsumerNode)return;const s=ta;ta=!0;try{for(const a of r.liveConsumerNode)a.dirty||kl(a)}finally{ta=s}}(r),r.consumerMarkedDirty?.(r)}function zi(r){return r&&(r.nextProducerIndex=0),ds(r)}function zc(r,s){if(ds(s),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(yi(r))for(let a=r.nextProducerIndex;a<r.producerNode.length;a++)ws(r.producerNode[a],r.producerIndexOfThis[a]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function na(r){oc(r);for(let s=0;s<r.producerNode.length;s++){const a=r.producerNode[s],d=r.producerLastReadVersion[s];if(d!==a.version||(mi(a),d!==a.version))return!0}return!1}function ts(r){if(oc(r),yi(r))for(let s=0;s<r.producerNode.length;s++)ws(r.producerNode[s],r.producerIndexOfThis[s]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function ws(r,s){if(function ra(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}(r),oc(r),1===r.liveConsumerNode.length)for(let d=0;d<r.producerNode.length;d++)ws(r.producerNode[d],r.producerIndexOfThis[d]);const a=r.liveConsumerNode.length-1;if(r.liveConsumerNode[s]=r.liveConsumerNode[a],r.liveConsumerIndexOfThis[s]=r.liveConsumerIndexOfThis[a],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,s<r.liveConsumerNode.length){const d=r.liveConsumerIndexOfThis[s],g=r.liveConsumerNode[s];oc(g),g.producerIndexOfThis[d]=s}}function yi(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function oc(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}let Dc=null;function rr(r){const s=ds(null);try{return r()}finally{ds(s)}}const Sn=()=>{},ii=(()=>({...mo,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{r.schedule(r.ref)},hasRun:!1,cleanupFn:Sn}))();class Kr{constructor(s,a,d){this.previousValue=s,this.currentValue=a,this.firstChange=d}isFirstChange(){return this.firstChange}}function ns(){return Mi}function Mi(r){return r.type.prototype.ngOnChanges&&(r.setInput=Is),Wi}function Wi(){const r=sa(this),s=r?.current;if(s){const a=r.previous;if(a===Ji)r.previous=s;else for(let d in s)a[d]=s[d];r.current=null,this.ngOnChanges(s)}}function Is(r,s,a,d){const g=this.declaredInputs[a],y=sa(r)||function ja(r,s){return r[Es]=s}(r,{previous:Ji,current:null}),I=y.current||(y.current={}),S=y.previous,R=S[g];I[g]=new Kr(R&&R.currentValue,s,S===Ji),r[d]=s}ns.ngInherit=!0;const Es="__ngSimpleChanges__";function sa(r){return r[Es]||null}const _o=function(r,s,a){},hs="svg";function si(r){for(;Array.isArray(r);)r=r[pr];return r}function cc(r,s){return si(s[r])}function yo(r,s){return si(s[r.index])}function Pd(r,s){return r.data[s]}function oa(r,s){return r[s]}function Ei(r,s){const a=s[r];return Ur(a)?a:a[pr]}function za(r,s){return null==s?null:r[s]}function Ku(r){r[Ms]=0}function bl(r){1024&r[Un]||(r[Un]|=1024,Kc(r,1))}function di(r){1024&r[Un]&&(r[Un]&=-1025,Kc(r,-1))}function Kc(r,s){let a=r[Tr];if(null===a)return;a[uo]+=s;let d=a;for(a=a[Tr];null!==a&&(1===s&&1===d[uo]||-1===s&&0===d[uo]);)a[uo]+=s,d=a,a=a[Tr]}function Cc(r,s){if(256==(256&r[Un]))throw new je(911,!1);null===r[ys]&&(r[ys]=[]),r[ys].push(s)}const gn={lFrame:He(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Vl(){return gn.bindingsEnabled}function Ys(){return null!==gn.skipHydrationRootTNode}function ht(){return gn.lFrame.lView}function Cr(){return gn.lFrame.tView}function Ju(r){return gn.lFrame.contextLView=r,r[er]}function Fd(r){return gn.lFrame.contextLView=null,r}function ss(){let r=Xu();for(;null!==r&&64===r.type;)r=r.parent;return r}function Xu(){return gn.lFrame.currentTNode}function wl(){const r=gn.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}function vo(r,s){const a=gn.lFrame;a.currentTNode=r,a.isParent=s}function mu(){return gn.lFrame.isParent}function lc(){gn.lFrame.isParent=!1}function ks(){const r=gn.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function qa(){return gn.lFrame.bindingIndex++}function Da(r){const s=gn.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,a}function Ul(r){gn.lFrame.inI18n=r}function Sh(r,s){const a=gn.lFrame;a.bindingIndex=a.bindingRootIndex=r,C(s)}function C(r){gn.lFrame.currentDirectiveIndex=r}function D(){return gn.lFrame.currentQueryIndex}function P(r){gn.lFrame.currentQueryIndex=r}function j(r){const s=r[Ut];return 2===s.type?s.declTNode:1===s.type?r[qn]:null}function se(r,s,a){if(a&en.SkipSelf){let g=s,y=r;for(;!(g=g.parent,null!==g||a&en.Host||(g=j(y),null===g||(y=y[_s],10&g.type))););if(null===g)return!1;s=g,r=y}const d=gn.lFrame=ze();return d.currentTNode=s,d.lView=r,!0}function _e(r){const s=ze(),a=r[Ut];gn.lFrame=s,s.currentTNode=a.firstChild,s.lView=r,s.tView=a,s.contextLView=r,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function ze(){const r=gn.lFrame,s=null===r?null:r.child;return null===s?He(r):s}function He(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function zt(){const r=gn.lFrame;return gn.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Ln=zt;function Mr(){const r=zt();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Gr(){return gn.lFrame.selectedIndex}function ca(r){gn.lFrame.selectedIndex=r}function Pr(){const r=gn.lFrame;return Pd(r.tView,r.selectedIndex)}function Lo(){gn.lFrame.currentNamespace=hs}function Ld(){!function Za(){gn.lFrame.currentNamespace=null}()}let zf=!0;function Wf(){return zf}function Qc(r){zf=r}function vu(r,s){for(let a=s.directiveStart,d=s.directiveEnd;a<d;a++){const y=r.data[a].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:S,ngAfterViewInit:R,ngAfterViewChecked:z,ngOnDestroy:ie}=y;I&&(r.contentHooks??=[]).push(-a,I),S&&((r.contentHooks??=[]).push(a,S),(r.contentCheckHooks??=[]).push(a,S)),R&&(r.viewHooks??=[]).push(-a,R),z&&((r.viewHooks??=[]).push(a,z),(r.viewCheckHooks??=[]).push(a,z)),null!=ie&&(r.destroyHooks??=[]).push(a,ie)}}function Jc(r,s,a){bu(r,s,3,a)}function Il(r,s,a,d){(3&r[Un])===a&&bu(r,s,a,d)}function Bd(r,s){let a=r[Un];(3&a)===s&&(a&=8191,a+=1,r[Un]=a)}function bu(r,s,a,d){const y=d??-1,I=s.length-1;let S=0;for(let R=void 0!==d?65535&r[Ms]:0;R<I;R++)if("number"==typeof s[R+1]){if(S=s[R],null!=d&&S>=d)break}else s[R]<0&&(r[Ms]+=65536),(S<y||-1==y)&&(hc(r,a,s,R),r[Ms]=(4294901760&r[Ms])+R+2),R++}function Vd(r,s){_o(4,r,s);const a=ds(null);try{s.call(r)}finally{ds(a),_o(5,r,s)}}function hc(r,s,a,d){const g=a[d]<0,y=a[d+1],S=r[g?-a[d]:a[d]];g?r[Un]>>13<r[Ms]>>16&&(3&r[Un])===s&&(r[Un]+=8192,Vd(S,y)):Vd(S,y)}const El=-1;class nd{constructor(s,a,d){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=d}}function wu(r){return r!==El}function Gl(r){return 32767&r}function jl(r,s){let a=function Mh(r){return r>>16}(r),d=s;for(;a>0;)d=d[_s],a--;return d}let Iu=!0;function Xc(r){const s=Iu;return Iu=r,s}const Eu=255,rd=5;let Tu=0;const Qs={};function Tl(r,s){const a=Du(r,s);if(-1!==a)return a;const d=s[Ut];d.firstCreatePass&&(r.injectorIndex=s.length,el(d.data,r),el(s,null),el(d.blueprint,null));const g=Cu(r,s),y=r.injectorIndex;if(wu(g)){const I=Gl(g),S=jl(g,s),R=S[Ut].data;for(let z=0;z<8;z++)s[y+z]=S[I+z]|R[I+z]}return s[y+8]=g,y}function el(r,s){r.push(0,0,0,0,0,0,0,0,s)}function Du(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function Cu(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let a=0,d=null,g=s;for(;null!==g;){if(d=O(g),null===d)return El;if(a++,g=g[_s],-1!==d.injectorIndex)return d.injectorIndex|a<<16}return El}function $l(r,s,a){!function id(r,s,a){let d;"string"==typeof a?d=a.charCodeAt(0)||0:a.hasOwnProperty(Ss)&&(d=a[Ss]),null==d&&(d=a[Ss]=Tu++);const g=d&Eu;s.data[r+(g>>rd)]|=1<<g}(r,s,a)}function yg(r,s,a){if(a&en.Optional||void 0!==r)return r;Cn()}function Yf(r,s,a,d){if(a&en.Optional&&void 0===d&&(d=null),!(a&(en.Self|en.Host))){const g=r[ri],y=mn(void 0);try{return g?g.get(s,d,a&en.Optional):lr(s,d,a&en.Optional)}finally{mn(y)}}return yg(d,0,a)}function zl(r,s,a,d=en.Default,g){if(null!==r){if(2048&s[Un]&&!(d&en.Self)){const I=function Jf(r,s,a,d,g){let y=r,I=s;for(;null!==y&&null!==I&&2048&I[Un]&&!(512&I[Un]);){const S=Qf(y,I,a,d|en.Self,Qs);if(S!==Qs)return S;let R=y.parent;if(!R){const z=I[jc];if(z){const ie=z.get(a,Qs,d);if(ie!==Qs)return ie}R=O(I),I=I[_s]}y=R}return g}(r,s,a,d,Qs);if(I!==Qs)return I}const y=Qf(r,s,a,d,Qs);if(y!==Qs)return y}return Yf(s,a,d,g)}function Qf(r,s,a,d,g){const y=function Gd(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(Ss)?r[Ss]:void 0;return"number"==typeof s?s>=0?s&Eu:jd:s}(a);if("function"==typeof y){if(!se(s,r,d))return d&en.Host?yg(g,0,d):Yf(s,a,d,g);try{let I;if(I=y(d),null!=I||d&en.Optional)return I;Cn()}finally{Ln()}}else if("number"==typeof y){let I=null,S=Du(r,s),R=El,z=d&en.Host?s[Wr][qn]:null;for((-1===S||d&en.SkipSelf)&&(R=-1===S?Cu(r,s):s[S+8],R!==El&&Su(d,!1)?(I=s[Ut],S=Gl(R),s=jl(R,s)):S=-1);-1!==S;){const ie=s[Ut];if(Ac(y,S,ie.data)){const me=Wl(S,s,a,I,d,z);if(me!==Qs)return me}R=s[S+8],R!==El&&Su(d,s[Ut].data[S+8]===z)&&Ac(y,S,s)?(I=ie,S=Gl(R),s=jl(R,s)):S=-1}}return g}function Wl(r,s,a,d,g,y){const I=s[Ut],S=I.data[r+8],ie=Dl(S,I,a,null==d?qs(S)&&Iu:d!=I&&0!=(3&S.type),g&en.Host&&y===S);return null!==ie?tl(s,I,ie,S):Qs}function Dl(r,s,a,d,g){const y=r.providerIndexes,I=s.data,S=1048575&y,R=r.directiveStart,ie=y>>20,xe=g?S+ie:r.directiveEnd;for(let Be=d?S:S+ie;Be<xe;Be++){const pt=I[Be];if(Be<R&&a===pt||Be>=R&&pt.type===a)return Be}if(g){const Be=I[R];if(Be&&ui(Be)&&Be.type===a)return R}return null}function tl(r,s,a,d){let g=r[a];const y=s.data;if(function Nh(r){return r instanceof nd}(g)){const I=g;I.resolving&&function kn(r,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new je(-200,`Circular dependency in DI detected for ${r}${a}`)}(function mt(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Je(r)}(y[a]));const S=Xc(I.canSeeViewProviders);I.resolving=!0;const z=I.injectImpl?mn(I.injectImpl):null;se(r,d,en.Default);try{g=r[a]=I.factory(void 0,y,r,d),s.firstCreatePass&&a>=d.directiveStart&&function qf(r,s,a){const{ngOnChanges:d,ngOnInit:g,ngDoCheck:y}=s.type.prototype;if(d){const I=Mi(s);(a.preOrderHooks??=[]).push(r,I),(a.preOrderCheckHooks??=[]).push(r,I)}g&&(a.preOrderHooks??=[]).push(0-r,g),y&&((a.preOrderHooks??=[]).push(r,y),(a.preOrderCheckHooks??=[]).push(r,y))}(a,y[a],s)}finally{null!==z&&mn(z),Xc(S),I.resolving=!1,Ln()}}return g}function Ac(r,s,a){return!!(a[s+(r>>rd)]&1<<r)}function Su(r,s){return!(r&en.Self||r&en.Host&&s)}class Bo{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,d){return zl(this._tNode,this._lView,s,Gs(d),a)}}function jd(){return new Bo(ss(),ht())}function $d(r){return Vr(()=>{const s=r.prototype.constructor,a=s[Hi]||sd(s),d=Object.prototype;let g=Object.getPrototypeOf(r.prototype).constructor;for(;g&&g!==d;){const y=g[Hi]||sd(g);if(y&&y!==a)return y;g=Object.getPrototypeOf(g)}return y=>new y})}function sd(r){return ft(r)?()=>{const s=sd(Ot(r));return s&&s()}:Ta(r)}function O(r){const s=r[Ut],a=s.type;return 2===a?s.declTNode:1===a?r[qn]:null}function L(r){return function Hd(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const a=r.attrs;if(a){const d=a.length;let g=0;for(;g<d;){const y=a[g];if(nc(y))break;if(0===y)g+=2;else if("number"==typeof y)for(g++;g<d&&"string"==typeof a[g];)g++;else{if(y===s)return a[g+1];g+=2}}}return null}(ss(),r)}const he="__parameters__";function jt(r,s,a){return Vr(()=>{const d=function ot(r){return function(...a){if(r){const d=r(...a);for(const g in d)this[g]=d[g]}}}(s);function g(...y){if(this instanceof g)return d.apply(this,y),this;const I=new g(...y);return S.annotation=I,S;function S(R,z,ie){const me=R.hasOwnProperty(he)?R[he]:Object.defineProperty(R,he,{value:[]})[he];for(;me.length<=ie;)me.push(null);return(me[ie]=me[ie]||[]).push(I),R}}return a&&(g.prototype=Object.create(a.prototype)),g.prototype.ngMetadataName=r,g.annotationCls=g,g})}function zd(r,s){r.forEach(a=>Array.isArray(a)?zd(a,s):s(a))}function Ph(r,s,a){s>=r.length?r.push(a):r.splice(s,0,a)}function kh(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function ql(r,s){const a=[];for(let d=0;d<r;d++)a.push(s);return a}function Sa(r,s,a){let d=Zl(r,s);return d>=0?r[1|d]=a:(d=~d,function m_(r,s,a,d){let g=r.length;if(g==s)r.push(a,d);else if(1===g)r.push(d,r[0]),r[0]=a;else{for(g--,r.push(r[g-1],r[g]);g>s;)r[g]=r[g-2],g--;r[s]=a,r[s+1]=d}}(r,d,s,a)),d}function ep(r,s){const a=Zl(r,s);if(a>=0)return r[1|a]}function Zl(r,s){return function la(r,s,a){let d=0,g=r.length>>a;for(;g!==d;){const y=d+(g-d>>1),I=r[y<<a];if(s===I)return y<<a;I>s?g=y:d=y+1}return~(g<<a)}(r,s,1)}const np=as(jt("Optional"),8),rp=as(jt("SkipSelf"),4);function ov(r){return 128==(128&r.flags)}var cv=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(cv||{});const ZI=/^>|^->|<!--|-->|--!>|<!-$/g,Z1=/(<|>)/g,K1="\u200b$1\u200b";const Kd=new Map;let Y1=0;const I_="__ngContext__";function Na(r,s){Ur(s)?(r[I_]=s[Po],function b_(r){Kd.set(r[Po],r)}(s)):r[I_]=s}let jh;function up(r,s){return jh(r,s)}function hi(r){const s=r[Tr];return bs(s)?s[Tr]:s}function uv(r){return T_(r[Ws])}function cd(r){return T_(r[wi])}function T_(r){for(;null!==r&&!bs(r);)r=r[wi];return r}function Ql(r,s,a,d,g){if(null!=d){let y,I=!1;bs(d)?y=d:Ur(d)&&(I=!0,d=d[pr]);const S=si(d);0===r&&null!==a?null==g?hv(s,a,S):Ou(s,a,S,g||null,!0):1===r&&null!==a?Ou(s,a,S,g||null,!0):2===r?function O_(r,s,a){const d=Qd(r,s);d&&function fv(r,s,a,d){r.removeChild(s,a,d)}(r,d,s,a)}(s,S,I):3===r&&s.destroyNode(S),null!=y&&function QI(r,s,a,d,g){const y=a[Ii];y!==si(a)&&Ql(s,r,d,y,g);for(let S=$n;S<a.length;S++){const R=a[S];Bg(R[Ut],R,r,s,d,y)}}(s,r,y,a,g)}}function $h(r,s){return r.createText(s)}function zh(r,s){return r.createComment(function Io(r){return r.replace(ZI,s=>s.replace(Z1,K1))}(s))}function dp(r,s,a){return r.createElement(s,a)}function Wh(r,s){const a=r[vc],d=a.indexOf(s);di(s),a.splice(d,1)}function Mg(r,s){if(r.length<=$n)return;const a=$n+s,d=r[a];if(d){const g=d[Xi];null!==g&&g!==r&&Wh(g,d),s>0&&(r[a-1][wi]=d[wi]);const y=kh(r,$n+s);!function eb(r,s){Bg(r,s,s[Pn],2,null,null),s[pr]=null,s[qn]=null}(d[Ut],d);const I=y[li];null!==I&&I.detachView(y[Ut]),d[Tr]=null,d[wi]=null,d[Un]&=-129}return d}function hp(r,s){if(!(256&s[Un])){const a=s[Pn];s[ho]&&ts(s[ho]),s[ko]&&ts(s[ko]),a.destroyNode&&Bg(r,s,a,3,null,null),function D_(r){let s=r[Ws];if(!s)return fp(r[Ut],r);for(;s;){let a=null;if(Ur(s))a=s[Ws];else{const d=s[$n];d&&(a=d)}if(!a){for(;s&&!s[wi]&&s!==r;)Ur(s)&&fp(s[Ut],s),s=s[Tr];null===s&&(s=r),Ur(s)&&fp(s[Ut],s),a=s&&s[wi]}s=a}}(s)}}function fp(r,s){if(!(256&s[Un])){s[Un]&=-129,s[Un]|=256,function S_(r,s){let a;if(null!=r&&null!=(a=r.destroyHooks))for(let d=0;d<a.length;d+=2){const g=s[a[d]];if(!(g instanceof nd)){const y=a[d+1];if(Array.isArray(y))for(let I=0;I<y.length;I+=2){const S=g[y[I]],R=y[I+1];_o(4,S,R);try{R.call(S)}finally{_o(5,S,R)}}else{_o(4,g,y);try{y.call(g)}finally{_o(5,g,y)}}}}}(r,s),function tb(r,s){const a=r.cleanup,d=s[zr];if(null!==a)for(let y=0;y<a.length-1;y+=2)if("string"==typeof a[y]){const I=a[y+3];I>=0?d[I]():d[-I].unsubscribe(),y+=2}else a[y].call(d[a[y+1]]);null!==d&&(s[zr]=null);const g=s[ys];if(null!==g){s[ys]=null;for(let y=0;y<g.length;y++)(0,g[y])()}}(r,s),1===s[Ut].type&&s[Pn].destroy();const a=s[Xi];if(null!==a&&bs(s[Tr])){a!==s[Tr]&&Wh(a,s);const d=s[li];null!==d&&d.detachView(r)}!function w_(r){Kd.delete(r[Po])}(s)}}function pp(r,s,a){return xg(r,s.parent,a)}function xg(r,s,a){let d=s;for(;null!==d&&40&d.type;)d=(s=d).parent;if(null===d)return a[pr];{const{componentOffset:g}=d;if(g>-1){const{encapsulation:y}=r.data[d.directiveStart+g];if(y===ps.None||y===ps.Emulated)return null}return yo(d,a)}}function Ou(r,s,a,d,g){r.insertBefore(s,a,d,g)}function hv(r,s,a){r.appendChild(s,a)}function A_(r,s,a,d,g){null!==d?Ou(r,s,a,d,g):hv(r,s,a)}function Qd(r,s){return r.parentNode(s)}function Pg(r,s,a){return kg(r,s,a)}function gp(r,s,a){return 40&r.type?yo(r,a):null}let Fg,mp,xi,Zh,kg=gp;function nb(r,s){kg=r,Fg=s}function Lg(r,s,a,d){const g=pp(r,d,s),y=s[Pn],S=Pg(d.parent||s[qn],d,s);if(null!=g)if(Array.isArray(a))for(let R=0;R<a.length;R++)A_(y,g,a[R],S,!1);else A_(y,g,a,S,!1);void 0!==Fg&&Fg(y,d,s,a,g)}function Mu(r,s){if(null!==s){const a=s.type;if(3&a)return yo(s,r);if(4&a)return gv(-1,r[s.index]);if(8&a){const d=s.child;if(null!==d)return Mu(r,d);{const g=r[s.index];return bs(g)?gv(-1,g):si(g)}}if(32&a)return up(s,r)()||si(r[s.index]);{const d=pv(r,s);return null!==d?Array.isArray(d)?d[0]:Mu(hi(r[Wr]),d):Mu(r,s.next)}}return null}function pv(r,s){return null!==s?r[Wr][qn].projection[s.projection]:null}function gv(r,s){const a=$n+r+1;if(a<s.length){const d=s[a],g=d[Ut].firstChild;if(null!==g)return Mu(d,g)}return s[Ii]}function mv(r,s,a,d,g,y,I){for(;null!=a;){const S=d[a.index],R=a.type;if(I&&0===s&&(S&&Na(si(S),d),a.flags|=2),32!=(32&a.flags))if(8&R)mv(r,s,a.child,d,g,y,!1),Ql(s,r,g,S,y);else if(32&R){const z=up(a,d);let ie;for(;ie=z();)Ql(s,r,g,ie,y);Ql(s,r,g,S,y)}else 16&R?ib(r,s,d,a,g,y):Ql(s,r,g,S,y);a=I?a.projectionNext:a.next}}function Bg(r,s,a,d,g,y){mv(a,d,r.firstChild,s,g,y,!1)}function ib(r,s,a,d,g,y){const I=a[Wr],R=I[qn].projection[d.projection];if(Array.isArray(R))for(let z=0;z<R.length;z++)Ql(s,r,g,R[z],y);else{let z=R;const ie=I[Tr];ov(d)&&(z.flags|=128),mv(r,s,z,ie,g,y,!0)}}function _v(r,s,a){""===a?r.removeAttribute(s,"class"):r.setAttribute(s,"class",a)}function yv(r,s,a){const{mergedAttrs:d,classes:g,styles:y}=a;null!==d&&Gi(r,s,d),null!==g&&_v(r,s,g),null!==y&&function Vg(r,s,a){r.setAttribute(s,"style",a)}(r,s,y)}function _p(r){return function vv(){if(void 0===mp&&(mp=null,ur.trustedTypes))try{mp=ur.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return mp}()?.createHTML(r)||r}function Ug(r){xi=r}function qh(){if(void 0!==xi)return xi;if(typeof document<"u")return document;throw new je(210,!1)}function tE(r){return function bv(){if(void 0===Zh&&(Zh=null,ur.trustedTypes))try{Zh=ur.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Zh}()?.createScriptURL(r)||r}class Jl{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_t})`}}class Hg extends Jl{getTypeName(){return"HTML"}}class x_ extends Jl{getTypeName(){return"Style"}}class ob extends Jl{getTypeName(){return"Script"}}class wv extends Jl{getTypeName(){return"URL"}}class R_ extends Jl{getTypeName(){return"ResourceURL"}}function Xl(r){return r instanceof Jl?r.changingThisBreaksApplicationSecurity:r}function eu(r,s){const a=function xu(r){return r instanceof Jl&&r.getTypeName()||null}(r);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${_t})`)}return a===s}function Gg(r){return new Hg(r)}function jg(r){return new x_(r)}function ab(r){return new ob(r)}function $g(r){return new wv(r)}function Jd(r){return new R_(r)}function Iv(r){const s=new nE(r);return function OD(){try{return!!(new window.DOMParser).parseFromString(_p(""),"text/html")}catch{return!1}}()?new ND(s):s}class ND{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(_p(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class nE{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=_p(s),a}}const MD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ev(r){return(r=String(r)).match(MD)?r:"unsafe:"+r}function Xd(r){const s={};for(const a of r.split(","))s[a]=!0;return s}function P_(...r){const s={};for(const a of r)for(const d in a)a.hasOwnProperty(d)&&(s[d]=!0);return s}const cb=Xd("area,br,col,hr,img,wbr"),Cl=Xd("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nn=Xd("rp,rt"),Yh=P_(cb,P_(Cl,Xd("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),P_(nn,Xd("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),P_(nn,Cl)),Dv=Xd("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Cv=P_(Dv,Xd("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xd("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rE=Xd("script,style,template");class da{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,d=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?d=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,d&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let g=this.checkClobberedElement(a,a.nextSibling);if(g){a=g;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!Yh.hasOwnProperty(a))return this.sanitizedSomething=!0,!rE.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const d=s.attributes;for(let g=0;g<d.length;g++){const y=d.item(g),I=y.name,S=I.toLowerCase();if(!Cv.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let R=y.value;Dv[S]&&(R=Ev(R)),this.buf.push(" ",I,'="',Ru(R),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();Yh.hasOwnProperty(a)&&!cb.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(Ru(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const yp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ls=/([^\#-~ |!])/g;function Ru(r){return r.replace(/&/g,"&amp;").replace(yp,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Ls,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let eh;function Sv(r,s){let a=null;try{eh=eh||Iv(r);let d=s?String(s):"";a=eh.getInertBodyElement(d);let g=5,y=d;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,d=y,y=a.innerHTML,a=eh.getInertBodyElement(d)}while(d!==y);return _p((new da).sanitizeChildren(Qh(a)||a))}finally{if(a){const d=Qh(a)||a;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Qh(r){return"content"in r&&function ld(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Bs=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(Bs||{});function Xh(r){const s=tf();return s?s.sanitize(Bs.URL,r)||"":eu(r,"URL")?Xl(r):Ev(Je(r))}function ol(r){const s=tf();if(s)return tE(s.sanitize(Bs.RESOURCE_URL,r)||"");if(eu(r,"ResourceURL"))return tE(Xl(r));throw new je(904,!1)}function L_(r,s,a){return function ef(r,s){return"src"===s&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===s&&("base"===r||"link"===r)?ol:Xh}(s,a)(r)}function tf(){const r=ht();return r&&r[ms].sanitizer}const nf=new xn("ENVIRONMENT_INITIALIZER"),vp=new xn("INJECTOR",-1),zg=new xn("INJECTOR_DEF_TYPES");class rf{get(s,a=V){if(a===V){const d=new Error(`NullInjectorError: No provider for ${Tt(s)}!`);throw d.name="NullInjectorError",d}return a}}function th(...r){return{\u0275providers:ud(0,r),\u0275fromNgModule:!0}}function ud(r,...s){const a=[],d=new Set;let g;const y=I=>{a.push(I)};return zd(s,I=>{const S=I;dd(S,y,[],d)&&(g||=[],g.push(S))}),void 0!==g&&bp(g,y),a}function bp(r,s){for(let a=0;a<r.length;a++){const{ngModule:d,providers:g}=r[a];nh(g,y=>{s(y,d)})}}function dd(r,s,a,d){if(!(r=Ot(r)))return!1;let g=null,y=An(r);const I=!y&&fr(r);if(y||I){if(I&&!I.standalone)return!1;g=r}else{const R=r.ngModule;if(y=An(R),!y)return!1;g=R}const S=d.has(g);if(I){if(S)return!1;if(d.add(g),I.dependencies){const R="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const z of R)dd(z,s,a,d)}}else{if(!y)return!1;{if(null!=y.imports&&!S){let z;d.add(g);try{zd(y.imports,ie=>{dd(ie,s,a,d)&&(z||=[],z.push(ie))})}finally{}void 0!==z&&bp(z,s)}if(!S){const z=Ta(g)||(()=>new g);s({provide:g,useFactory:z,deps:dr},g),s({provide:zg,useValue:g,multi:!0},g),s({provide:nf,useValue:()=>Fn(g),multi:!0},g)}const R=y.providers;if(null!=R&&!S){const z=r;nh(R,ie=>{s(ie,z)})}}}return g!==r&&void 0!==r.providers}function nh(r,s){for(let a of r)st(a)&&(a=a.\u0275providers),Array.isArray(a)?nh(a,s):s(a)}const gb=Oe({provide:String,useValue:Oe});function wp(r){return null!==r&&"object"==typeof r&&gb in r}function hd(r){return"function"==typeof r}const Ip=new xn("Set Injector scope."),sf={},Ep={};let af;function rh(){return void 0===af&&(af=new rf),af}class Mc{}class Pu extends Mc{get destroyed(){return this._destroyed}constructor(s,a,d,g){super(),this.parent=a,this.source=d,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zg(s,I=>this.processProvider(I)),this.records.set(vp,ih(void 0,this)),g.has("environment")&&this.records.set(Mc,ih(void 0,this));const y=this.records.get(Ip);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(zg.multi,dr,en.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=Mn(this),d=mn(void 0);try{return s()}finally{Mn(a),mn(d)}}get(s,a=V,d=en.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(Qr))return s[Qr](this);d=Gs(d);const y=Mn(this),I=mn(void 0);try{if(!(d&en.SkipSelf)){let R=this.records.get(s);if(void 0===R){const z=function sE(r){return"function"==typeof r||"object"==typeof r&&r instanceof xn}(s)&&at(s);R=z&&this.injectableDefInScope(z)?ih(V_(s),sf):null,this.records.set(s,R)}if(null!=R)return this.hydrate(s,R)}return(d&en.Self?rh():this.parent).get(s,a=d&en.Optional&&a===V?null:a)}catch(S){if("NullInjectorError"===S.name){if((S[q]=S[q]||[]).unshift(Tt(s)),y)throw S;return function Ba(r,s,a,d){const g=r[q];throw s[Et]&&g.unshift(s[Et]),r.message=function Va(r,s,a,d=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let g=Tt(s);if(Array.isArray(s))g=s.map(Tt).join(" -> ");else if("object"==typeof s){let y=[];for(let I in s)if(s.hasOwnProperty(I)){let S=s[I];y.push(I+":"+("string"==typeof S?JSON.stringify(S):Tt(S)))}g=`{${y.join(", ")}}`}return`${a}${d?"("+d+")":""}[${g}]: ${r.replace(we,"\n  ")}`}("\n"+r.message,g,a,d),r.ngTokenPath=g,r[q]=null,r}(S,s,"R3InjectorError",this.source)}throw S}finally{mn(I),Mn(y)}}resolveInjectorInitializers(){const s=Mn(this),a=mn(void 0);try{const g=this.get(nf.multi,dr,en.Self);for(const y of g)y()}finally{Mn(s),mn(a)}}toString(){const s=[],a=this.records;for(const d of a.keys())s.push(Tt(d));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new je(205,!1)}processProvider(s){let a=hd(s=Ot(s))?s:Ot(s&&s.provide);const d=function Ov(r){return wp(r)?ih(void 0,r.useValue):ih(U_(r),sf)}(s);if(hd(s)||!0!==s.multi)this.records.get(a);else{let g=this.records.get(a);g||(g=ih(void 0,sf,!0),g.factory=()=>Ui(g.multi),this.records.set(a,g)),a=s,g.multi.push(s)}this.records.set(a,d)}hydrate(s,a){return a.value===sf&&(a.value=Ep,a.value=a.factory()),"object"==typeof a.value&&a.value&&function _b(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Ot(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function V_(r){const s=at(r),a=null!==s?s.factory:Ta(r);if(null!==a)return a;if(r instanceof xn)throw new je(204,!1);if(r instanceof Function)return function mb(r){const s=r.length;if(s>0)throw ql(s,"?"),new je(204,!1);const a=function Ir(r){return r&&(r[sn]||r[wn])||null}(r);return null!==a?()=>a.factory(r):()=>new r}(r);throw new je(204,!1)}function U_(r,s,a){let d;if(hd(r)){const g=Ot(r);return Ta(g)||V_(g)}if(wp(r))d=()=>Ot(r.useValue);else if(function B_(r){return!(!r||!r.useFactory)}(r))d=()=>r.useFactory(...Ui(r.deps||[]));else if(function qg(r){return!(!r||!r.useExisting)}(r))d=()=>Fn(Ot(r.useExisting));else{const g=Ot(r&&(r.useClass||r.provide));if(!function Mv(r){return!!r.deps}(r))return Ta(g)||V_(g);d=()=>new g(...Ui(r.deps))}return d}function ih(r,s,a=!1){return{factory:r,value:s,multi:a?[]:void 0}}function Zg(r,s){for(const a of r)Array.isArray(a)?Zg(a,s):a&&st(a)?Zg(a.\u0275providers,s):s(a)}const H_=new xn("AppId",{providedIn:"root",factory:()=>Kg}),Kg="ng",Ho=new xn("Platform Initializer"),Go=new xn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),xv=new xn("AnimationModuleType"),oE=new xn("CSP nonce",{providedIn:"root",factory:()=>qh().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let tm=(r,s,a)=>null;function oh(r,s,a=!1){return tm(r,s,a)}class q_{}class Lv{}class rm{resolveComponentFactory(s){throw function Bv(r){const s=Error(`No component factory found for ${Tt(r)}.`);return s.ngComponent=r,s}(s)}}let Sp=(()=>{class r{static#e=this.NULL=new rm}return r})();function Vv(){return Fu(ss(),ht())}function Fu(r,s){return new ch(yo(r,s))}let ch=(()=>{class r{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=Vv}return r})();function im(r){return r instanceof ch?r.nativeElement:r}class K_{}let fE=(()=>{class r{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Uv(){const r=ht(),a=Ei(ss().index,r);return(Ur(a)?a:r)[Pn]}()}return r})(),Y_=(()=>{class r{static#e=this.\u0275prov=De({token:r,providedIn:"root",factory:()=>null})}return r})();class Q_{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Hv=new Q_("16.2.12"),Ap={};function sm(r){if(!Er()&&!function pn(){return on}())throw new je(-203,!1)}function J_(r,s=null,a=null,d){const g=Gv(r,s,a,d);return g.resolveInjectorInitializers(),g}function Gv(r,s=null,a=null,d,g=new Set){const y=[a||dr,th(r)];return d=d||("object"==typeof r?void 0:Tt(r)),new Pu(y,s||rh(),d||null,g)}let ha=(()=>{class r{static#e=this.THROW_IF_NOT_FOUND=V;static#t=this.NULL=new rf;static create(a,d){if(Array.isArray(a))return J_({name:""},d,a,"");{const g=a.name??"";return J_({name:g},a.parent,a.providers,g)}}static#n=this.\u0275prov=De({token:r,providedIn:"any",factory:()=>Fn(vp)});static#r=this.__NG_ELEMENT_ID__=-1}return r})();function ff(r){return r.ngOriginalError}class Lu{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&ff(s);for(;a&&ff(a);)a=ff(a);return a||null}}let vi=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=Op;static#t=this.__NG_ENV_ID__=a=>a}return r})();class am extends vi{constructor(s){super(),this._lView=s}onDestroy(s){return Cc(this._lView,s),()=>function rs(r,s){if(null===r[ys])return;const a=r[ys].indexOf(s);-1!==a&&r[ys].splice(a,1)}(this._lView,s)}}function Op(){return new am(ht())}function X_(r){return s=>{setTimeout(r,void 0,s)}}const Sl=class Mp extends b.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,d){let g=s,y=a||(()=>null),I=d;if(s&&"object"==typeof s){const R=s;g=R.next?.bind(R),y=R.error?.bind(R),I=R.complete?.bind(R)}this.__isAsync&&(y=X_(y),g&&(g=X_(g)),I&&(I=X_(I)));const S=super.subscribe({next:g,error:y,complete:I});return s instanceof re.w0&&s.add(S),S}};function $v(...r){}class jo{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Sl(!1),this.onMicrotaskEmpty=new Sl(!1),this.onStable=new Sl(!1),this.onError=new Sl(!1),typeof Zone>"u")throw new je(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!d&&a,g.shouldCoalesceRunChangeDetection=d,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function Cb(){const r="function"==typeof ur.requestAnimationFrame;let s=ur[r?"requestAnimationFrame":"setTimeout"],a=ur[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&a){const d=s[Zone.__symbol__("OriginalDelegate")];d&&(s=d);const g=a[Zone.__symbol__("OriginalDelegate")];g&&(a=g)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function Wv(r){const s=()=>{!function zv(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(ur,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,cm(r),r.isCheckStableRunning=!0,nu(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),cm(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,d,g,y,I,S)=>{if(function Ab(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(S))return a.invokeTask(g,y,I,S);try{return uh(r),a.invokeTask(g,y,I,S)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||r.shouldCoalesceRunChangeDetection)&&s(),qv(r)}},onInvoke:(a,d,g,y,I,S,R)=>{try{return uh(r),a.invoke(g,y,I,S,R)}finally{r.shouldCoalesceRunChangeDetection&&s(),qv(r)}},onHasTask:(a,d,g,y)=>{a.hasTask(g,y),d===g&&("microTask"==y.change?(r._hasPendingMicrotasks=y.microTask,cm(r),nu(r)):"macroTask"==y.change&&(r.hasPendingMacrotasks=y.macroTask))},onHandleError:(a,d,g,y)=>(a.handleError(g,y),r.runOutsideAngular(()=>r.onError.emit(y)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!jo.isInAngularZone())throw new je(909,!1)}static assertNotInAngularZone(){if(jo.isInAngularZone())throw new je(909,!1)}run(s,a,d){return this._inner.run(s,a,d)}runTask(s,a,d,g){const y=this._inner,I=y.scheduleEventTask("NgZoneEvent: "+g,s,xp,$v,$v);try{return y.runTask(I,a,d)}finally{y.cancelTask(I)}}runGuarded(s,a,d){return this._inner.runGuarded(s,a,d)}runOutsideAngular(s){return this._outer.run(s)}}const xp={};function nu(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function cm(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function uh(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function qv(r){r._nesting--,nu(r)}class Sb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Sl,this.onMicrotaskEmpty=new Sl,this.onStable=new Sl,this.onError=new Sl}run(s,a,d){return s.apply(a,d)}runGuarded(s,a,d){return s.apply(a,d)}runOutsideAngular(s){return s()}runTask(s,a,d,g){return s.apply(a,d)}}const ey=new xn("",{providedIn:"root",factory:Zv});function Zv(){const r=nr(jo);let s=!0;const a=new u.y(g=>{s=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{g.next(s),g.complete()})}),d=new u.y(g=>{let y;r.runOutsideAngular(()=>{y=r.onStable.subscribe(()=>{jo.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(s=!0,g.next(!0))})})});const I=r.onUnstable.subscribe(()=>{jo.assertInAngularZone(),s&&(s=!1,r.runOutsideAngular(()=>{g.next(!1)}))});return()=>{y.unsubscribe(),I.unsubscribe()}});return(0,be.T)(a,d.pipe(ce()))}function ty(r){return r.ownerDocument.defaultView}function al(r){return r instanceof Function?r():r}let Bu=(()=>{class r{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=De({token:r,providedIn:"root",factory:()=>new r})}return r})();function md(r){for(;r;){r[Un]|=64;const s=hi(r);if(Si(r)&&!s)return r;r=s}return null}const pf=new xn("",{providedIn:"root",factory:()=>!1});let Oa=null;function gf(r,s){return r[s]??_d()}function cy(r,s){const a=_d();a.producerNode?.length&&(r[s]=Oa,a.lView=r,Oa=ll())}const hm={...mo,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{md(r.lView)},lView:null};function ll(){return Object.create(hm)}function _d(){return Oa??=ll(),Oa}const ir={};function fm(r){Vu(Cr(),ht(),Gr()+r,!1)}function Vu(r,s,a,d){if(!d)if(3==(3&s[Un])){const y=r.preOrderCheckHooks;null!==y&&Jc(s,y,a)}else{const y=r.preOrderHooks;null!==y&&Il(s,y,0,a)}ca(a)}function yd(r,s=en.Default){const a=ht();return null===a?Fn(r,s):zl(ss(),a,Ot(r),s)}function Pp(){throw new Error("invalid")}function ul(r,s,a,d,g,y,I,S,R,z,ie){const me=s.blueprint.slice();return me[pr]=g,me[Un]=140|d,(null!==z||r&&2048&r[Un])&&(me[Un]|=2048),Ku(me),me[Tr]=me[_s]=r,me[er]=a,me[ms]=I||r&&r[ms],me[Pn]=S||r&&r[Pn],me[ri]=R||r&&r[ri]||null,me[qn]=y,me[Po]=function KI(){return Y1++}(),me[ji]=ie,me[jc]=z,me[Wr]=2==s.type?r[Wr]:me,me}function Eo(r,s,a,d,g){let y=r.data[s];if(null===y)y=ru(r,s,a,d,g),function ed(){return gn.lFrame.inI18n}()&&(y.flags|=32);else if(64&y.type){y.type=a,y.value=d,y.attrs=g;const I=wl();y.injectorIndex=null===I?-1:I.injectorIndex}return vo(y,!0),y}function ru(r,s,a,d,g){const y=Xu(),I=mu(),R=r.data[s]=function Pb(r,s,a,d,g,y){let I=s?s.injectorIndex:-1,S=0;return Ys()&&(S|=128),{type:a,index:d,insertBeforeIndex:null,injectorIndex:I,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:S,providerIndexes:0,value:g,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?y:y&&y.parent,a,s,d,g);return null===r.firstChild&&(r.firstChild=R),null!==y&&(I?null==y.child&&null!==R.parent&&(y.child=R):null===y.next&&(y.next=R,R.prev=y)),R}function iu(r,s,a,d){if(0===a)return-1;const g=s.length;for(let y=0;y<a;y++)s.push(d),r.blueprint.push(d),r.data.push(null);return g}function pm(r,s,a,d,g){const y=gf(s,ho),I=Gr(),S=2&d;try{ca(-1),S&&s.length>Hn&&Vu(r,s,Hn,!1),_o(S?2:0,g);const z=S?y:null,ie=zi(z);try{null!==z&&(z.dirty=!1),a(d,g)}finally{zc(z,ie)}}finally{S&&null===s[ho]&&cy(s,ho),ca(I),_o(S?3:1,g)}}function hh(r,s,a){if(fo(s)){const d=ds(null);try{const y=s.directiveEnd;for(let I=s.directiveStart;I<y;I++){const S=r.data[I];S.contentQueries&&S.contentQueries(1,a[I],I)}}finally{ds(d)}}}function kp(r,s,a){Vl()&&(function uy(r,s,a,d){const g=a.directiveStart,y=a.directiveEnd;qs(a)&&function vd(r,s,a){const d=yo(s,r),g=mf(a);let I=16;a.signals?I=4096:a.onPush&&(I=64);const S=Im(r,ul(r,g,null,I,d,s,null,r[ms].rendererFactory.createRenderer(d,a),null,null,null));r[s.index]=S}(s,a,r.data[g+a.componentOffset]),r.firstCreatePass||Tl(a,s),Na(d,s);const I=a.initialInputs;for(let S=g;S<y;S++){const R=r.data[S],z=tl(s,r,S,a);Na(z,s),null!==I&&bm(0,S-g,z,R,0,I),ui(R)&&(Ei(a.index,s)[er]=tl(s,r,S,a))}}(r,s,a,yo(a,s)),64==(64&a.flags)&&Lp(r,s,a))}function su(r,s,a=yo){const d=s.localNames;if(null!==d){let g=s.index+1;for(let y=0;y<d.length;y+=2){const I=d[y+1],S=-1===I?a(s,r):r[I];r[g++]=S}}}function mf(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=gm(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):s}function gm(r,s,a,d,g,y,I,S,R,z,ie){const me=Hn+d,xe=me+g,Be=function Uu(r,s){const a=[];for(let d=0;d<s;d++)a.push(d<r?null:ir);return a}(me,xe),pt="function"==typeof z?z():z;return Be[Ut]={type:r,blueprint:Be,template:a,queries:null,viewQuery:S,declTNode:s,data:Be.slice().fill(null,me),bindingStartIndex:me,expandoStartIndex:xe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:R,consts:pt,incompleteFirstPass:!1,ssrId:ie}}let ly=r=>null;function Jv(r,s,a,d){for(let g in r)if(r.hasOwnProperty(g)){a=null===a?{}:a;const y=r[g];null===d?_f(a,s,g,y):d.hasOwnProperty(g)&&_f(a,s,d[g],y)}return a}function _f(r,s,a,d){r.hasOwnProperty(a)?r[a].push(s,d):r[a]=[s,d]}function $o(r,s,a,d,g,y,I,S){const R=yo(s,a);let ie,z=s.inputs;!S&&null!=z&&(ie=z[d])?(Gu(r,a,ie,d,g),qs(s)&&function bi(r,s){const a=Ei(s,r);16&a[Un]||(a[Un]|=64)}(a,s.index)):3&s.type&&(d=function ou(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(d),g=null!=I?I(g,s.value||"",d):g,y.setProperty(R,d,g))}function Ja(r,s,a,d){if(Vl()){const g=null===d?null:{"":-1},y=function hl(r,s){const a=r.directiveRegistry;let d=null,g=null;if(a)for(let y=0;y<a.length;y++){const I=a[y];if(Ns(s,I.selectors,!1))if(d||(d=[]),ui(I))if(null!==I.findHostDirectiveDefs){const S=[];g=g||new Map,I.findHostDirectiveDefs(I,S,g),d.unshift(...S,I),To(r,s,S.length)}else d.unshift(I),To(r,s,0);else g=g||new Map,I.findHostDirectiveDefs?.(I,d,g),d.push(I)}return null===d?null:[d,g]}(r,a);let I,S;null===y?I=S=null:[I,S]=y,null!==I&&yf(r,s,a,I,g,S),g&&function _m(r,s,a){if(s){const d=r.localNames=[];for(let g=0;g<s.length;g+=2){const y=a[s[g+1]];if(null==y)throw new je(-301,!1);d.push(s[g],y)}}}(a,d,g)}a.mergedAttrs=rc(a.mergedAttrs,a.attrs)}function yf(r,s,a,d,g,y){for(let z=0;z<d.length;z++)$l(Tl(a,s),r,d[z].type);!function Bp(r,s,a){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+a,r.providerIndexes=s}(a,r.data.length,d.length);for(let z=0;z<d.length;z++){const ie=d[z];ie.providersResolver&&ie.providersResolver(ie)}let I=!1,S=!1,R=iu(r,s,d.length,null);for(let z=0;z<d.length;z++){const ie=d[z];a.mergedAttrs=rc(a.mergedAttrs,ie.hostAttrs),vm(r,a,s,R,ie),ym(R,ie,g),null!==ie.contentQueries&&(a.flags|=4),(null!==ie.hostBindings||null!==ie.hostAttrs||0!==ie.hostVars)&&(a.flags|=64);const me=ie.type.prototype;!I&&(me.ngOnChanges||me.ngOnInit||me.ngDoCheck)&&((r.preOrderHooks??=[]).push(a.index),I=!0),!S&&(me.ngOnChanges||me.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(a.index),S=!0),R++}!function gE(r,s,a){const g=s.directiveEnd,y=r.data,I=s.attrs,S=[];let R=null,z=null;for(let ie=s.directiveStart;ie<g;ie++){const me=y[ie],xe=a?a.get(me):null,pt=xe?xe.outputs:null;R=Jv(me.inputs,ie,R,xe?xe.inputs:null),z=Jv(me.outputs,ie,z,pt);const Mt=null===R||null===I||_a(s)?null:Fb(R,ie,I);S.push(Mt)}null!==R&&(R.hasOwnProperty("class")&&(s.flags|=8),R.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=S,s.inputs=R,s.outputs=z}(r,a,y)}function Lp(r,s,a){const d=a.directiveStart,g=a.directiveEnd,y=a.index,I=function td(){return gn.lFrame.currentDirectiveIndex}();try{ca(y);for(let S=d;S<g;S++){const R=r.data[S],z=s[S];C(S),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&au(R,z)}}finally{ca(-1),C(I)}}function au(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function To(r,s,a){s.componentOffset=a,(r.components??=[]).push(s.index)}function ym(r,s,a){if(a){if(s.exportAs)for(let d=0;d<s.exportAs.length;d++)a[s.exportAs[d]]=r;ui(s)&&(a[""]=r)}}function vm(r,s,a,d,g){r.data[d]=g;const y=g.factory||(g.factory=Ta(g.type)),I=new nd(y,ui(g),yd);r.blueprint[d]=I,a[d]=I,function mm(r,s,a,d,g){const y=g.hostBindings;if(y){let I=r.hostBindingOpCodes;null===I&&(I=r.hostBindingOpCodes=[]);const S=~s.index;(function fh(r){let s=r.length;for(;s>0;){const a=r[--s];if("number"==typeof a&&a<0)return a}return 0})(I)!=S&&I.push(S),I.push(a,d,y)}}(r,s,d,iu(r,a,g.hostVars,ir),g)}function fa(r,s,a,d,g,y){const I=yo(r,s);!function Vp(r,s,a,d,g,y,I){if(null==y)r.removeAttribute(s,g,a);else{const S=null==I?Je(y):I(y,d||"",g);r.setAttribute(s,g,S,a)}}(s[Pn],I,y,r.value,a,d,g)}function bm(r,s,a,d,g,y){const I=y[s];if(null!==I)for(let S=0;S<I.length;)wm(d,a,I[S++],I[S++],I[S++])}function wm(r,s,a,d,g){const y=ds(null);try{const I=r.inputTransforms;null!==I&&I.hasOwnProperty(d)&&(g=I[d].call(s,g)),null!==r.setInput?r.setInput(s,g,a,d):s[d]=g}finally{ds(y)}}function Fb(r,s,a){let d=null,g=0;for(;g<a.length;){const y=a[g];if(0!==y)if(5!==y){if("number"==typeof y)break;if(r.hasOwnProperty(y)){null===d&&(d=[]);const I=r[y];for(let S=0;S<I.length;S+=2)if(I[S]===s){d.push(y,I[S+1],a[g+1]);break}}g+=2}else g+=2;else g+=4}return d}function e0(r,s,a,d){return[r,!0,!1,s,null,0,d,a,null,null,null]}function dy(r,s){const a=r.contentQueries;if(null!==a)for(let d=0;d<a.length;d+=2){const y=a[d+1];if(-1!==y){const I=r.data[y];P(a[d]),I.contentQueries(2,s[y],y)}}}function Im(r,s){return r[Ws]?r[wa][wi]=s:r[Ws]=s,r[wa]=s,s}function bd(r,s,a){P(0);const d=ds(null);try{s(r,a)}finally{ds(d)}}function Up(r){return r[zr]||(r[zr]=[])}function Hu(r){return r.cleanup||(r.cleanup=[])}function Do(r,s){const a=r[ri],d=a?a.get(Lu,null):null;d&&d.handleError(s)}function Gu(r,s,a,d,g){for(let y=0;y<a.length;){const I=a[y++],S=a[y++];wm(r.data[I],s[I],d,S,g)}}function Ma(r,s,a){const d=cc(s,r);!function Ag(r,s,a){r.setValue(s,a)}(r[Pn],d,a)}function t0(r,s){const a=Ei(s,r),d=a[Ut];!function n0(r,s){for(let a=s.length;a<r.blueprint.length;a++)s.push(r.blueprint[a])}(d,a);const g=a[pr];null!==g&&null===a[ji]&&(a[ji]=oh(g,a[ri])),xt(d,a,a[er])}function xt(r,s,a){_e(s);try{const d=r.viewQuery;null!==d&&bd(1,d,a);const g=r.template;null!==g&&pm(r,s,g,1,a),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&dy(r,s),r.staticViewQueries&&bd(2,r.viewQuery,a);const y=r.components;null!==y&&function Vs(r,s){for(let a=0;a<s.length;a++)t0(r,s[a])}(s,y)}catch(d){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),d}finally{s[Un]&=-5,Mr()}}let fl=(()=>{class r{constructor(){this.all=new Set,this.queue=new Map}create(a,d,g){const y=typeof Zone>"u"?null:Zone.current,I=function tr(r,s,a){const d=Object.create(ii);a&&(d.consumerAllowSignalWrites=!0),d.fn=r,d.schedule=s;const g=I=>{d.cleanupFn=I};return d.ref={notify:()=>kl(d),run:()=>{if(d.dirty=!1,d.hasRun&&!na(d))return;d.hasRun=!0;const I=zi(d);try{d.cleanupFn(),d.cleanupFn=Sn,d.fn(g)}finally{zc(d,I)}},cleanup:()=>d.cleanupFn()},d.ref}(a,z=>{this.all.has(z)&&this.queue.set(z,y)},g);let S;this.all.add(I),I.notify();const R=()=>{I.cleanup(),S?.(),this.all.delete(I),this.queue.delete(I)};return S=d?.onDestroy(R),{destroy:R}}flush(){if(0!==this.queue.size)for(const[a,d]of this.queue)this.queue.delete(a),d?d.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=De({token:r,providedIn:"root",factory:()=>new r})}return r})();function cn(r,s,a){let d=a?r.styles:null,g=a?r.classes:null,y=0;if(null!==s)for(let I=0;I<s.length;I++){const S=s[I];"number"==typeof S?y=S:1==y?g=Ft(g,S):2==y&&(d=Ft(d,S+": "+s[++I]+";"))}a?r.styles=d:r.stylesWithoutHost=d,a?r.classes=g:r.classesWithoutHost=g}function In(r,s,a,d,g=!1){for(;null!==a;){const y=s[a.index];null!==y&&d.push(si(y)),bs(y)&&_E(y,d);const I=a.type;if(8&I)In(r,s,a.child,d);else if(32&I){const S=up(a,s);let R;for(;R=S();)d.push(R)}else if(16&I){const S=pv(s,a);if(Array.isArray(S))d.push(...S);else{const R=hi(s[Wr]);In(R[Ut],R,S,d,!0)}}a=g?a.projectionNext:a.next}return d}function _E(r,s){for(let a=$n;a<r.length;a++){const d=r[a],g=d[Ut].firstChild;null!==g&&In(d[Ut],d,g,s)}r[Ii]!==r[pr]&&s.push(r[Ii])}function Xt(r,s,a,d=!0){const g=s[ms],y=g.rendererFactory,I=g.afterRenderEventManager;y.begin?.(),I?.begin();try{Js(r,s,r.template,a)}catch(R){throw d&&Do(s,R),R}finally{y.end?.(),g.effectManager?.flush(),I?.end()}}function Js(r,s,a,d){const g=s[Un];if(256!=(256&g)){s[ms].effectManager?.flush(),_e(s);try{Ku(s),function uc(r){return gn.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==a&&pm(r,s,a,2,d);const I=3==(3&g);if(I){const z=r.preOrderCheckHooks;null!==z&&Jc(s,z,null)}else{const z=r.preOrderHooks;null!==z&&Il(s,z,0,null),Bd(s,0)}if(function Lb(r){for(let s=uv(r);null!==s;s=cd(s)){if(!s[xs])continue;const a=s[vc];for(let d=0;d<a.length;d++){bl(a[d])}}}(s),hy(s,2),null!==r.contentQueries&&dy(r,s),I){const z=r.contentCheckHooks;null!==z&&Jc(s,z)}else{const z=r.contentHooks;null!==z&&Il(s,z,1),Bd(s,1)}!function Yv(r,s){const a=r.hostBindingOpCodes;if(null===a)return;const d=gf(s,ko);try{for(let g=0;g<a.length;g++){const y=a[g];if(y<0)ca(~y);else{const I=y,S=a[++g],R=a[++g];Sh(S,I),d.dirty=!1;const z=zi(d);try{R(2,s[I])}finally{zc(d,z)}}}}finally{null===s[ko]&&cy(s,ko),ca(-1)}}(r,s);const S=r.components;null!==S&&o0(s,S,0);const R=r.viewQuery;if(null!==R&&bd(2,R,d),I){const z=r.viewCheckHooks;null!==z&&Jc(s,z)}else{const z=r.viewHooks;null!==z&&Il(s,z,2),Bd(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[Un]&=-73,di(s)}finally{Mr()}}}function hy(r,s){for(let a=uv(r);null!==a;a=cd(a))for(let d=$n;d<a.length;d++)s0(a[d],s)}function r0(r,s,a){s0(Ei(s,r),a)}function s0(r,s){if(!function Dh(r){return 128==(128&r[Un])}(r))return;const a=r[Ut],d=r[Un];if(80&d&&0===s||1024&d||2===s)Js(a,r,a.template,r[er]);else if(r[uo]>0){hy(r,1);const g=a.components;null!==g&&o0(r,g,1)}}function o0(r,s,a){for(let d=0;d<s.length;d++)r0(r,s[d],a)}class bf{get rootNodes(){const s=this._lView,a=s[Ut];return In(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[er]}set context(s){this._lView[er]=s}get destroyed(){return 256==(256&this._lView[Un])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Tr];if(bs(s)){const a=s[8],d=a?a.indexOf(this):-1;d>-1&&(Mg(s,d),kh(a,d))}this._attachedToViewContainer=!1}hp(this._lView[Ut],this._lView)}onDestroy(s){Cc(this._lView,s)}markForCheck(){md(this._cdRefInjectingView||this._lView)}detach(){this._lView[Un]&=-129}reattach(){this._lView[Un]|=128}detectChanges(){Xt(this._lView[Ut],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ng(r,s){Bg(r,s,s[Pn],2,null,null)}(this._lView[Ut],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new je(902,!1);this._appRef=s}}class a0 extends bf{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Xt(s[Ut],s,s[er],!1)}checkNoChanges(){}get context(){return null}}class Tm extends Sp{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=fr(s);return new Qn(a,this.ngModule)}}function Bb(r){const s=[];for(let a in r)r.hasOwnProperty(a)&&s.push({propName:r[a],templateName:a});return s}class c0{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,d){d=Gs(d);const g=this.injector.get(s,Ap,d);return g!==Ap||a===Ap?g:this.parentInjector.get(s,a,d)}}class Qn extends Lv{get inputs(){const s=this.componentDef,a=s.inputTransforms,d=Bb(s.inputs);if(null!==a)for(const g of d)a.hasOwnProperty(g.propName)&&(g.transform=a[g.propName]);return d}get outputs(){return Bb(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function zs(r){return r.map(Li).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,d,g){let y=(g=g||this.ngModule)instanceof Mc?g:g?.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const I=y?new c0(s,y):s,S=I.get(K_,null);if(null===S)throw new je(407,!1);const me={rendererFactory:S,sanitizer:I.get(Y_,null),effectManager:I.get(fl,null),afterRenderEventManager:I.get(Bu,null)},xe=S.createRenderer(null,this.componentDef),Be=this.componentDef.selectors[0][0]||"div",pt=d?function Rb(r,s,a,d){const y=d.get(pf,!1)||a===ps.ShadowDom,I=r.selectRootElement(s,y);return function Qv(r){ly(r)}(I),I}(xe,d,this.componentDef.encapsulation,I):dp(xe,Be,function Vb(r){const s=r.toLowerCase();return"svg"===s?hs:"math"===s?"math":null}(Be)),bn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let bt=null;null!==pt&&(bt=oh(pt,I,!0));const gr=gm(0,null,null,1,0,null,null,null,null,null,null),Br=ul(null,gr,null,bn,null,null,me,xe,I,null,bt);let ki,ml;_e(Br);try{const Th=this.componentDef;let d_,CD=null;Th.findHostDirectiveDefs?(d_=[],CD=new Map,Th.findHostDirectiveDefs(Th,d_,CD),d_.push(Th)):d_=[Th];const RS=function l0(r,s){const a=r[Ut],d=Hn;return r[d]=s,Eo(a,d,2,"#host",null)}(Br,pt),PS=function Xr(r,s,a,d,g,y,I){const S=g[Ut];!function Nn(r,s,a,d){for(const g of r)s.mergedAttrs=rc(s.mergedAttrs,g.hostAttrs);null!==s.mergedAttrs&&(cn(s,s.mergedAttrs,!0),null!==a&&yv(d,a,s))}(d,r,s,I);let R=null;null!==s&&(R=oh(s,g[ri]));const z=y.rendererFactory.createRenderer(s,a);let ie=16;a.signals?ie=4096:a.onPush&&(ie=64);const me=ul(g,mf(a),null,ie,g[r.index],r,y,z,null,null,R);return S.firstCreatePass&&To(S,r,d.length-1),Im(g,me),g[r.index]=me}(RS,pt,Th,d_,Br,me,xe);ml=Pd(gr,Hn),pt&&function jr(r,s,a,d){if(d)Gi(r,a,["ng-version",Hv.full]);else{const{attrs:g,classes:y}=function ic(r){const s=[],a=[];let d=1,g=2;for(;d<r.length;){let y=r[d];if("string"==typeof y)2===g?""!==y&&s.push(y,r[++d]):8===g&&a.push(y);else{if(!ni(g))break;g=y}d++}return{attrs:s,classes:a}}(s.selectors[0]);g&&Gi(r,a,g),y&&y.length>0&&_v(r,a,y.join(" "))}}(xe,Th,pt,d),void 0!==a&&function Ub(r,s,a){const d=r.projection=[];for(let g=0;g<s.length;g++){const y=a[g];d.push(null!=y?Array.from(y):null)}}(ml,this.ngContentSelectors,a),ki=function ju(r,s,a,d,g,y){const I=ss(),S=g[Ut],R=yo(I,g);yf(S,g,I,a,null,d);for(let ie=0;ie<a.length;ie++)Na(tl(g,S,I.directiveStart+ie,I),g);Lp(S,g,I),R&&Na(R,g);const z=tl(g,S,I.directiveStart+I.componentOffset,I);if(r[er]=g[er]=z,null!==y)for(const ie of y)ie(z,s);return hh(S,I,r),z}(PS,Th,d_,CD,Br,[Us]),xt(gr,Br,null)}finally{Mr()}return new ph(this.componentType,ki,Fu(ml,Br),Br,ml)}}class ph extends q_{constructor(s,a,d,g,y){super(),this.location=d,this._rootLView=g,this._tNode=y,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new a0(g),this.componentType=s}setInput(s,a){const d=this._tNode.inputs;let g;if(null!==d&&(g=d[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const y=this._rootLView;Gu(y[Ut],y,g,s,a),this.previousInputValues.set(s,a),md(Ei(this._tNode.index,y))}}get injector(){return new Bo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Us(){const r=ss();vu(ht()[Ut],r)}function wf(r){let s=function Yt(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),a=!0;const d=[r];for(;s;){let g;if(ui(r))g=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new je(903,!1);g=s.\u0275dir}if(g){if(a){d.push(g);const I=r;I.inputs=Rc(r.inputs),I.inputTransforms=Rc(r.inputTransforms),I.declaredInputs=Rc(r.declaredInputs),I.outputs=Rc(r.outputs);const S=g.hostBindings;S&&u0(r,S);const R=g.viewQuery,z=g.contentQueries;if(R&&Hb(r,R),z&&Hp(r,z),Ke(r.inputs,g.inputs),Ke(r.declaredInputs,g.declaredInputs),Ke(r.outputs,g.outputs),null!==g.inputTransforms&&(null===I.inputTransforms&&(I.inputTransforms={}),Ke(I.inputTransforms,g.inputTransforms)),ui(g)&&g.data.animation){const ie=r.data;ie.animation=(ie.animation||[]).concat(g.data.animation)}}const y=g.features;if(y)for(let I=0;I<y.length;I++){const S=y[I];S&&S.ngInherit&&S(r),S===wf&&(a=!1)}}s=Object.getPrototypeOf(s)}!function fy(r){let s=0,a=null;for(let d=r.length-1;d>=0;d--){const g=r[d];g.hostVars=s+=g.hostVars,g.hostAttrs=rc(g.hostAttrs,a=rc(a,g.hostAttrs))}}(d)}function Rc(r){return r===Ji?{}:r===dr?[]:r}function Hb(r,s){const a=r.viewQuery;r.viewQuery=a?(d,g)=>{s(d,g),a(d,g)}:s}function Hp(r,s){const a=r.contentQueries;r.contentQueries=a?(d,g,y)=>{s(d,g,y),a(d,g,y)}:s}function u0(r,s){const a=r.hostBindings;r.hostBindings=a?(d,g)=>{s(d,g),a(d,g)}:s}function mc(r){return s=>{s.findHostDirectiveDefs=Dm,s.hostDirectives=(Array.isArray(r)?r:r()).map(a=>"function"==typeof a?{directive:Ot(a),inputs:Ji,outputs:Ji}:{directive:Ot(a.directive),inputs:Cm(a.inputs),outputs:Cm(a.outputs)})}}function Dm(r,s,a){if(null!==r.hostDirectives)for(const d of r.hostDirectives){const g=Zr(d.directive);Gb(g.declaredInputs,d.inputs),Dm(g,s,a),a.set(g,d),s.push(g)}}function Cm(r){if(void 0===r||0===r.length)return Ji;const s={};for(let a=0;a<r.length;a+=2)s[r[a]]=r[a+1];return s}function Gb(r,s){for(const a in s)s.hasOwnProperty(a)&&(r[s[a]]=r[a])}function qe(r){const s=r.inputConfig,a={};for(const d in s)if(s.hasOwnProperty(d)){const g=s[d];Array.isArray(g)&&g[2]&&(a[d]=g[2])}r.inputTransforms=a}function xa(r){return!!cu(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function cu(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Ra(r,s,a){return r[s]=a}function Co(r,s,a){return!Object.is(r[s],a)&&(r[s]=a,!0)}function lu(r,s,a,d){const g=Co(r,s,a);return Co(r,s+1,d)||g}function Gp(r,s,a,d,g){const y=lu(r,s,a,d);return Co(r,s+2,g)||y}function Id(r,s,a,d){const g=ht();return Co(g,qa(),s)&&(Cr(),fa(Pr(),g,r,s,a,d)),Id}function _h(r,s,a,d){return Co(r,qa(),a)?s+Je(a)+d:ir}function Df(r,s,a,d,g,y,I,S){const z=Gp(r,function aa(){return gn.lFrame.bindingIndex}(),a,g,I);return Da(3),z?s+Je(a)+d+Je(g)+y+Je(I)+S:ir}function Yr(r,s,a,d,g,y,I,S){const R=ht(),z=Cr(),ie=r+Hn,me=z.firstCreatePass?function to(r,s,a,d,g,y,I,S,R){const z=s.consts,ie=Eo(s,r,4,I||null,za(z,S));Ja(s,a,ie,za(z,R)),vu(s,ie);const me=ie.tView=gm(2,ie,d,g,y,s.directiveRegistry,s.pipeRegistry,null,s.schemas,z,null);return null!==s.queries&&(s.queries.template(s,ie),me.queries=s.queries.embeddedTView(ie)),ie}(ie,z,R,s,a,d,g,y,I):z.data[ie];vo(me,!1);const xe=So(z,R,me,r);Wf()&&Lg(z,R,xe,me),Na(xe,R),Im(R,R[ie]=e0(xe,R,xe,me)),po(me)&&kp(z,R,me),null!=I&&su(R,me,S)}let So=function pa(r,s,a,d){return Qc(!0),s[Pn].createComment("")};function pl(r){return oa(function _u(){return gn.lFrame.contextLView}(),Hn+r)}function Ol(r,s,a){const d=ht();return Co(d,qa(),s)&&$o(Cr(),Pr(),d,r,s,d[Pn],a,!1),Ol}function Cf(r,s,a,d,g){const I=g?"class":"style";Gu(r,a,s.inputs[I],I,d)}function Sf(r,s,a,d){const g=ht(),y=Cr(),I=Hn+r,S=g[Pn],R=y.firstCreatePass?function Dd(r,s,a,d,g,y){const I=s.consts,R=Eo(s,r,2,d,za(I,g));return Ja(s,a,R,za(I,y)),null!==R.attrs&&cn(R,R.attrs,!1),null!==R.mergedAttrs&&cn(R,R.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,R),R}(I,y,g,s,a,d):y.data[I],z=Sm(y,g,R,S,s,r);g[I]=z;const ie=po(R);return vo(R,!0),yv(S,z,R),32!=(32&R.flags)&&Wf()&&Lg(y,g,z,R),0===function Yu(){return gn.lFrame.elementDepthCount}()&&Na(z,g),function Ch(){gn.lFrame.elementDepthCount++}(),ie&&(kp(y,g,R),hh(y,R,g)),null!==d&&su(g,R),Sf}function Cd(){let r=ss();mu()?lc():(r=r.parent,vo(r,!1));const s=r;(function Yc(r){return gn.skipHydrationRootTNode===r})(s)&&function gu(){gn.skipHydrationRootTNode=null}(),function Bl(){gn.lFrame.elementDepthCount--}();const a=Cr();return a.firstCreatePass&&(vu(a,r),fo(r)&&a.queries.elementEnd(r)),null!=s.classesWithoutHost&&function Zf(r){return 0!=(8&r.flags)}(s)&&Cf(a,s,ht(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Kf(r){return 0!=(16&r.flags)}(s)&&Cf(a,s,ht(),s.stylesWithoutHost,!1),Cd}function jp(r,s,a,d){return Sf(r,s,a,d),Cd(),jp}let Sm=(r,s,a,d,g,y)=>(Qc(!0),dp(d,g,function yu(){return gn.lFrame.currentNamespace}()));function vh(r,s,a){const d=ht(),g=Cr(),y=r+Hn,I=g.firstCreatePass?function Sd(r,s,a,d,g){const y=s.consts,I=za(y,d),S=Eo(s,r,8,"ng-container",I);return null!==I&&cn(S,I,!0),Ja(s,a,S,za(y,g)),null!==s.queries&&s.queries.elementStart(s,S),S}(y,g,d,s,a):g.data[y];vo(I,!0);const S=Wp(g,d,I,r);return d[y]=S,Wf()&&Lg(g,d,S,I),Na(S,d),po(I)&&(kp(g,d,I),hh(g,I,d)),null!=a&&su(d,I),vh}function zp(){let r=ss();const s=Cr();return mu()?lc():(r=r.parent,vo(r,!1)),s.firstCreatePass&&(vu(s,r),fo(r)&&s.queries.elementEnd(r)),zp}let Wp=(r,s,a,d)=>(Qc(!0),zh(s[Pn],""));function Pi(){return ht()}function Ml(r){return!!r&&"function"==typeof r.then}function Zb(r){return!!r&&"function"==typeof r.subscribe}function f0(r,s,a,d){const g=ht(),y=Cr(),I=ss();return function Kb(r,s,a,d,g,y,I){const S=po(d),z=r.firstCreatePass&&Hu(r),ie=s[er],me=Up(s);let xe=!0;if(3&d.type||I){const Mt=yo(d,s),tn=I?I(Mt):Mt,bn=me.length,bt=I?Br=>I(si(Br[d.index])):d.index;let gr=null;if(!I&&S&&(gr=function xD(r,s,a,d){const g=r.cleanup;if(null!=g)for(let y=0;y<g.length-1;y+=2){const I=g[y];if(I===a&&g[y+1]===d){const S=s[zr],R=g[y+2];return S.length>R?S[R]:null}"string"==typeof I&&(y+=2)}return null}(r,s,g,d.index)),null!==gr)(gr.__ngLastListenerFn__||gr).__ngNextListenerFn__=y,gr.__ngLastListenerFn__=y,xe=!1;else{y=Ti(d,s,ie,y,!1);const Br=a.listen(tn,g,y);me.push(y,Br),z&&z.push(g,bt,bn,bn+1)}}else y=Ti(d,s,ie,y,!1);const Be=d.outputs;let pt;if(xe&&null!==Be&&(pt=Be[g])){const Mt=pt.length;if(Mt)for(let tn=0;tn<Mt;tn+=2){const ki=s[pt[tn]][pt[tn+1]].subscribe(y),ml=me.length;me.push(y,ki),z&&z.push(g,d.index,ml,-(ml+1))}}}(y,g,g[Pn],I,r,s,d),f0}function qr(r,s,a,d){try{return _o(6,s,a),!1!==a(d)}catch(g){return Do(r,g),!1}finally{_o(7,s,a)}}function Ti(r,s,a,d,g){return function y(I){if(I===Function)return d;md(r.componentOffset>-1?Ei(r.index,s):s);let R=qr(s,a,d,I),z=y.__ngNextListenerFn__;for(;z;)R=qr(s,a,z,I)&&R,z=z.__ngNextListenerFn__;return g&&!1===R&&I.preventDefault(),R}}function Zp(r=1){return function mr(r){return(gn.lFrame.contextLView=function dc(r,s){for(;r>0;)s=s[_s],r--;return s}(r,gn.lFrame.contextLView))[er]}(r)}function Yb(r,s){let a=null;const d=function so(r){const s=r.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(r);for(let g=0;g<s.length;g++){const y=s[g];if("*"!==y){if(null===d?Ns(r,y,!0):va(d,y))return g}else a=g}return a}function p0(r){const s=ht()[Wr][qn];if(!s.projection){const d=s.projection=ql(r?r.length:1,null),g=d.slice();let y=s.child;for(;null!==y;){const I=r?Yb(y,r):0;null!==I&&(g[I]?g[I].projectionNext=y:d[I]=y,g[I]=y),y=y.next}}}function Qb(r,s=0,a){const d=ht(),g=Cr(),y=Eo(g,Hn+r,16,null,a||null);null===y.projection&&(y.projection=s),lc(),(!d[ji]||Ys())&&32!=(32&y.flags)&&function YI(r,s,a){ib(s[Pn],0,s,a,pp(r,a,s),Pg(a.parent||s[qn],a,s))}(g,d,y)}function my(r,s,a){return _y(r,"",s,"",a),my}function _y(r,s,a,d,g){const y=ht(),I=_h(y,s,a,d);return I!==ir&&$o(Cr(),Pr(),y,r,I,y[Pn],g,!1),_y}function g0(r,s){return r<<17|s<<2}function Af(r){return r>>17&32767}function bh(r){return 2|r}function $u(r){return(131068&r)>>2}function Om(r,s){return-131069&r|s<<2}function _0(r){return 1|r}function rw(r,s,a,d,g){const y=r[a+1],I=null===s;let S=d?Af(y):$u(y),R=!1;for(;0!==S&&(!1===R||I);){const ie=r[S+1];iw(r[S],s)&&(R=!0,r[S+1]=d?_0(ie):bh(ie)),S=d?Af(ie):$u(ie)}R&&(r[a+1]=d?bh(y):_0(y))}function iw(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&Zl(r,s)>=0}const no={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function y0(r){return r.substring(no.key,no.keyEnd)}function v0(r,s){const a=no.textEnd;return a===s?-1:(s=no.keyEnd=function yy(r,s,a){for(;s<a&&r.charCodeAt(s)>32;)s++;return s}(r,no.key=s,a),Of(r,s,a))}function Of(r,s,a){for(;s<a&&r.charCodeAt(s)<=32;)s++;return s}function w0(r,s){return function Bc(r,s,a,d){const g=ht(),y=Cr(),I=Da(2);y.firstUpdatePass&&Ar(y,r,I,d),s!==ir&&Co(g,I,s)&&xf(y,y.data[Gr()],g,g[Pn],r,g[I+1]=function OE(r,s){return null==r||""===r||("string"==typeof s?r+=s:"object"==typeof r&&(r=Tt(Xl(r)))),r}(s,a),d,I)}(r,s,null,!0),w0}function zu(r){!function qu(r,s,a,d){const g=Cr(),y=Da(2);g.firstUpdatePass&&Ar(g,null,y,d);const I=ht();if(a!==ir&&Co(I,y,a)){const S=g.data[Gr()];if(Yp(S,d)&&!DE(g,y)){let R=d?S.classesWithoutHost:S.stylesWithoutHost;null!==R&&(a=Ft(R,a||"")),Cf(g,S,I,a,d)}else!function Rm(r,s,a,d,g,y,I,S){g===ir&&(g=dr);let R=0,z=0,ie=0<g.length?g[0]:null,me=0<y.length?y[0]:null;for(;null!==ie||null!==me;){const xe=R<g.length?g[R+1]:void 0,Be=z<y.length?y[z+1]:void 0;let Mt,pt=null;ie===me?(R+=2,z+=2,xe!==Be&&(pt=me,Mt=Be)):null===me||null!==ie&&ie<me?(R+=2,pt=ie):(z+=2,pt=me,Mt=Be),null!==pt&&xf(r,s,a,d,pt,Mt,I,S),ie=R<g.length?g[R]:null,me=z<y.length?y[z]:null}}(g,S,I,I[Pn],I[y+1],I[y+1]=function LD(r,s,a){if(null==a||""===a)return dr;const d=[],g=Xl(a);if(Array.isArray(g))for(let y=0;y<g.length;y++)r(d,g[y],!0);else if("object"==typeof g)for(const y in g)g.hasOwnProperty(y)&&r(d,y,g[y]);else"string"==typeof g&&s(d,g);return d}(r,s,a),d,y)}}(NE,Wu,r,!0)}function Wu(r,s){for(let a=function Fc(r){return function sw(r){no.key=0,no.keyEnd=0,no.value=0,no.valueEnd=0,no.textEnd=r.length}(r),v0(r,Of(r,0,no.textEnd))}(s);a>=0;a=v0(s,a))Sa(r,y0(s),!0)}function DE(r,s){return s>=r.expandoStartIndex}function Ar(r,s,a,d){const g=r.data;if(null===g[a+1]){const y=g[Gr()],I=DE(r,a);Yp(y,d)&&null===s&&!I&&(s=!1),s=function FD(r,s,a,d){const g=function x(r){const s=gn.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let y=d?s.residualClasses:s.residualStyles;if(null===g)0===(d?s.classBindings:s.styleBindings)&&(a=Mf(a=I0(null,r,s,a,d),s.attrs,d),y=null);else{const I=s.directiveStylingLast;if(-1===I||r[I]!==g)if(a=I0(g,r,s,a,d),null===y){let R=function aw(r,s,a){const d=a?s.classBindings:s.styleBindings;if(0!==$u(d))return r[Af(d)]}(r,s,d);void 0!==R&&Array.isArray(R)&&(R=I0(null,r,s,R[1],d),R=Mf(R,s.attrs,d),function CE(r,s,a,d){r[Af(a?s.classBindings:s.styleBindings)]=d}(r,s,d,R))}else y=function SE(r,s,a){let d;const g=s.directiveEnd;for(let y=1+s.directiveStylingLast;y<g;y++)d=Mf(d,r[y].hostAttrs,a);return Mf(d,s.attrs,a)}(r,s,d)}return void 0!==y&&(d?s.residualClasses=y:s.residualStyles=y),a}(g,y,s,d),function IE(r,s,a,d,g,y){let I=y?s.classBindings:s.styleBindings,S=Af(I),R=$u(I);r[d]=a;let ie,z=!1;if(Array.isArray(a)?(ie=a[1],(null===ie||Zl(a,ie)>0)&&(z=!0)):ie=a,g)if(0!==R){const xe=Af(r[S+1]);r[d+1]=g0(xe,S),0!==xe&&(r[xe+1]=Om(r[xe+1],d)),r[S+1]=function nw(r,s){return 131071&r|s<<17}(r[S+1],d)}else r[d+1]=g0(S,0),0!==S&&(r[S+1]=Om(r[S+1],d)),S=d;else r[d+1]=g0(R,0),0===S?S=d:r[R+1]=Om(r[R+1],d),R=d;z&&(r[d+1]=bh(r[d+1])),rw(r,ie,d,!0),rw(r,ie,d,!1),function Mm(r,s,a,d,g){const y=g?r.residualClasses:r.residualStyles;null!=y&&"string"==typeof s&&Zl(y,s)>=0&&(a[d+1]=_0(a[d+1]))}(s,ie,r,d,y),I=g0(S,R),y?s.classBindings=I:s.styleBindings=I}(g,y,s,a,I,d)}}function I0(r,s,a,d,g){let y=null;const I=a.directiveEnd;let S=a.directiveStylingLast;for(-1===S?S=a.directiveStart:S++;S<I&&(y=s[S],d=Mf(d,y.hostAttrs,g),y!==r);)S++;return null!==r&&(a.directiveStylingLast=S),d}function Mf(r,s,a){const d=a?1:2;let g=-1;if(null!==s)for(let y=0;y<s.length;y++){const I=s[y];"number"==typeof I?g=I:g===d&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Sa(r,I,!!a||s[++y]))}return void 0===r?null:r}function NE(r,s,a){const d=String(s);""!==d&&!d.includes(" ")&&Sa(r,d,a)}function xf(r,s,a,d,g,y,I,S){if(!(3&s.type))return;const R=r.data,z=R[S+1],ie=function m0(r){return 1==(1&r)}(z)?cw(R,s,a,g,$u(z),I):void 0;Nd(ie)||(Nd(y)||function RD(r){return 2==(2&r)}(z)&&(y=cw(R,null,a,g,S,I)),function JI(r,s,a,d,g){if(s)g?r.addClass(a,d):r.removeClass(a,d);else{let y=-1===d.indexOf("-")?void 0:cv.DashCase;null==g?r.removeStyle(a,d,y):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),y|=cv.Important),r.setStyle(a,d,g,y))}}(d,I,cc(Gr(),a),g,y))}function cw(r,s,a,d,g,y){const I=null===s;let S;for(;g>0;){const R=r[g],z=Array.isArray(R),ie=z?R[1]:R,me=null===ie;let xe=a[g+1];xe===ir&&(xe=me?dr:void 0);let Be=me?ep(xe,d):ie===d?xe:void 0;if(z&&!Nd(Be)&&(Be=ep(R,d)),Nd(Be)&&(S=Be,I))return S;const pt=r[g+1];g=I?Af(pt):$u(pt)}if(null!==s){let R=y?s.residualClasses:s.residualStyles;null!=R&&(S=ep(R,d))}return S}function Nd(r){return void 0!==r}function Yp(r,s){return 0!=(r.flags&(s?8:16))}function lw(r,s=""){const a=ht(),d=Cr(),g=r+Hn,y=d.firstCreatePass?Eo(d,g,1,s,null):d.data[g],I=uw(d,a,y,s,r);a[g]=I,Wf()&&Lg(d,a,I,y),vo(y,!1)}let uw=(r,s,a,d,g)=>(Qc(!0),$h(s[Pn],d));function dw(r){return Yi("",r,""),dw}function Yi(r,s,a){const d=ht(),g=_h(d,r,s,a);return g!==ir&&Ma(d,Gr(),g),Yi}function Pm(r,s,a,d,g,y,I){const S=ht(),R=Df(S,r,s,a,d,g,y,I);return R!==ir&&Ma(S,Gr(),R),Pm}function D0(r,s,a){const d=ht();return Co(d,qa(),s)&&$o(Cr(),Pr(),d,r,s,d[Pn],a,!0),D0}const Jp=void 0;var HE=["en",[["a","p"],["AM","PM"],Jp],[["AM","PM"],Jp,Jp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jp,"{1} 'at' {0}",Jp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function UE(r){const a=Math.floor(Math.abs(r)),d=r.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===d?1:5}];let Um={};function Ew(r){const s=function Ao(r){return r.toLowerCase().replace(/_/g,"-")}(r);let a=Xp(s);if(a)return a;const d=s.split("-")[0];if(a=Xp(d),a)return a;if("en"===d)return HE;throw new je(701,!1)}function C0(r){return Ew(r)[Hm.PluralCase]}function Xp(r){return r in Um||(Um[r]=ur.ng&&ur.ng.common&&ur.ng.common.locales&&ur.ng.common.locales[r]),Um[r]}var Hm=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(Hm||{});const Od="en-US",Gm={marker:"element"},Iy={marker:"ICU"};var ka=function(r){return r[r.SHIFT=2]="SHIFT",r[r.APPEND_EAGERLY=1]="APPEND_EAGERLY",r[r.COMMENT=2]="COMMENT",r}(ka||{});let Dw=Od;function Cw(r){(function dn(r,s){null==r&&Dt(s,r,null,"!=")})(r,"Expected localeId to be defined"),"string"==typeof r&&(Dw=r.toLowerCase().replace(/_/g,"-"))}function jE(r,s,a){const d=s.insertBeforeIndex,g=Array.isArray(d)?d[0]:d;return null===g?gp(r,0,a):si(a[g])}function jm(r,s,a,d,g){const y=s.insertBeforeIndex;if(Array.isArray(y)){let I=d,S=null;if(3&s.type||(S=I,I=g),null!==I&&-1===s.componentOffset)for(let R=1;R<y.length;R++)Ou(r,I,a[y[R]],S,!1)}}function S0(r,s){if(r.push(s),r.length>1)for(let a=r.length-2;a>=0;a--){const d=r[a];$E(d)||zE(d,s)&&null===Sw(d)&&WE(d,s.index)}}function $E(r){return!(64&r.type)}function zE(r,s){return $E(s)||r.index>s.index}function Sw(r){const s=r.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function WE(r,s){const a=r.insertBeforeIndex;Array.isArray(a)?a[0]=s:(nb(jE,jm),r.insertBeforeIndex=s)}function zD(r,s,a){const d=ru(r,a,64,null,null);return S0(s,d),d}function Nw(){const r=[];let a,d,s=-1;function y(S,R){s=0;const z=function A0(r,s){const a=s[r.currentCaseLViewIndex];return null===a?a:a<0?~a:a}(S,R);d=null!==z?S.remove[z]:dr}function I(){if(s<d.length){const S=d[s++];return S>0?a[S]:(r.push(s,d),y(a[Ut].data[~S],a),I())}return 0===r.length?null:(d=r.pop(),s=r.pop(),I())}return function g(S,R){for(a=R;r.length;)r.pop();return y(S.value,R),I}}const Dy=/\ufffd(\d+):?\d*\ufffd/gi,Cy=/\ufffd(\d+)\ufffd/,kf=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Sy="\ufffd",JE=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,YD=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,QD=/\uE500/g;function Eh(r,s,a,d,g,y,I){const S=iu(r,d,1,null);let R=S<<ka.SHIFT,z=wl();s===z&&(z=null),null===z&&(R|=ka.APPEND_EAGERLY),I&&(R|=ka.COMMENT,function X1(r){void 0===jh&&(jh=r())}(Nw)),g.push(R,null===y?"":y);const ie=ru(r,S,I?32:1,null===y?"":y,null);S0(a,ie);const me=ie.index;return vo(ie,!1),null!==z&&s!==z&&function $D(r,s){let a=r.insertBeforeIndex;null===a?(nb(jE,jm),a=r.insertBeforeIndex=[null,s]):(function $e(r,s,a){r!=s&&Dt(a,r,s,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(z,me),ie}function XE(r,s,a,d,g,y,I){const S=I.match(Dy),R=Eh(r,s,a,y,d,S?null:I,!1);S&&Wm(g,I,R.index,null,0,null)}function Wm(r,s,a,d,g,y){const I=r.length,S=I+1;r.push(null,null);const R=I+2,z=s.split(Dy);let ie=0;for(let me=0;me<z.length;me++){const xe=z[me];if(1&me){const Be=g+parseInt(xe,10);r.push(-1-Be),ie|=M0(Be)}else""!==xe&&r.push(xe)}return r.push(a<<2|(d?1:0)),d&&r.push(d,y),r[I]=ie,r[S]=r.length-R,ie}function M0(r){return 1<<Math.min(r,31)}function xw(r){let s,y,a="",d=0,g=!1;for(;null!==(s=JE.exec(r));)g?s[0]===`${Sy}/*${y}${Sy}`&&(d=s.index,g=!1):(a+=r.substring(d,s.index+s[0].length),y=s[1],g=!0);return a+=r.slice(d),a}function x0(r,s,a,d,g,y){let I=0;const S={type:g.type,currentCaseLViewIndex:iu(r,s,1,null),anchorIdx:y,cases:[],create:[],remove:[],update:[]};(function tT(r,s,a){r.push(M0(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(a,g,y),function qE(r,s,a){const d=r.data[s];null===d?r.data[s]=a:d.value=a}(r,y,S);const R=g.values;for(let z=0;z<R.length;z++){const ie=R[z],me=[];for(let xe=0;xe<ie.length;xe++){const Be=ie[xe];if("string"!=typeof Be){const pt=me.push(Be)-1;ie[xe]=`\x3c!--\ufffd${pt}\ufffd--\x3e`}}I=tC(r,S,s,a,d,g.cases[z],ie.join(""),me)|I}I&&function Ny(r,s,a){r.push(s,1,a<<2|3)}(a,I,y)}function eT(r){const s=[],a=[];let d=1,g=0;const y=qm(r=r.replace(kf,function(I,S,R){return d="select"===R?0:1,g=parseInt(S.slice(1),10),""}));for(let I=0;I<y.length;){let S=y[I++].trim();1===d&&(S=S.replace(/\s*(?:=)?(\w+)\s*/,"$1")),S.length&&s.push(S);const R=qm(y[I++]);s.length>a.length&&a.push(R)}return{type:d,mainBinding:g,cases:s,values:a}}function qm(r){if(!r)return[];let s=0;const a=[],d=[],g=/[{}]/g;let y;for(g.lastIndex=0;y=g.exec(r);){const S=y.index;if("}"==y[0]){if(a.pop(),0==a.length){const R=r.substring(s,S);kf.test(R)?d.push(eT(R)):d.push(R),s=S+1}}else{if(0==a.length){const R=r.substring(s,S);d.push(R),s=S+1}a.push("{")}}const I=r.substring(s);return d.push(I),d}function tC(r,s,a,d,g,y,I,S){const R=[],z=[],ie=[];s.cases.push(y),s.create.push(R),s.remove.push(z),s.update.push(ie);const xe=Iv(qh()).getInertBodyElement(I),Be=Qh(xe)||xe;return Be?R0(r,s,a,d,R,z,ie,Be,g,S,0):0}function R0(r,s,a,d,g,y,I,S,R,z,ie){let me=0,xe=S.firstChild;for(;xe;){const Be=iu(r,a,1,null);switch(xe.nodeType){case Node.ELEMENT_NODE:const pt=xe,Mt=pt.tagName.toLowerCase();if(Yh.hasOwnProperty(Mt)){Zm(g,Gm,Mt,R,Be),r.data[Be]=Mt;const gr=pt.attributes;for(let Br=0;Br<gr.length;Br++){const ki=gr.item(Br),ml=ki.name.toLowerCase();ki.value.match(Dy)?Cv.hasOwnProperty(ml)&&Wm(I,ki.value,Be,ki.name,0,Dv[ml]?Ev:null):Oy(g,Be,ki)}me=R0(r,s,a,d,g,y,I,xe,Be,z,ie+1)|me,Ay(y,Be,ie)}break;case Node.TEXT_NODE:const tn=xe.textContent||"",bn=tn.match(Dy);Zm(g,null,bn?"":tn,R,Be),Ay(y,Be,ie),bn&&(me=Wm(I,tn,Be,null,0,null)|me);break;case Node.COMMENT_NODE:const bt=Cy.exec(xe.textContent||"");if(bt){const Br=z[parseInt(bt[1],10)];Zm(g,Iy,"",R,Be),x0(r,a,d,R,Br,Be),nC(y,Be,ie)}}xe=xe.nextSibling}return me}function Ay(r,s,a){0===a&&r.push(s)}function nC(r,s,a){0===a&&(r.push(~s),r.push(s))}function Zm(r,s,a,d,g){null!==s&&r.push(s),r.push(a,g,function WD(r,s,a){return r|s<<17|a<<1}(0,d,g))}function Oy(r,s,a){r.push(s<<1|1,a.name,a.value)}function kw(r,s,a=-1){const d=Cr(),g=ht(),y=Hn+r,I=za(d.consts,s),S=wl();d.firstCreatePass&&function ng(r,s,a,d,g,y){const I=wl(),S=[],R=[],z=[[]];g=function Rw(r,s){if(function Mw(r){return-1===r}(s))return xw(r);{const a=r.indexOf(`:${s}${Sy}`)+2+s.toString().length,d=r.search(new RegExp(`${Sy}\\/\\*\\d+:${s}${Sy}`));return xw(r.substring(a,d))}}(g,y);const ie=function JD(r){return r.replace(QD," ")}(g).split(YD);for(let me=0;me<ie.length;me++){let xe=ie[me];if(1&me){const Be=47===xe.charCodeAt(0),Mt=(xe.charCodeAt(Be?1:0),Hn+Number.parseInt(xe.substring(Be?2:1)));if(Be)z.shift(),vo(wl(),!1);else{const tn=zD(r,z[0],Mt);z.unshift([]),vo(tn,!0)}}else{const Be=qm(xe);for(let pt=0;pt<Be.length;pt++){let Mt=Be[pt];if(1&pt){const tn=Mt;if("object"!=typeof tn)throw new Error(`Unable to parse ICU expression in "${g}" message.`);x0(r,a,R,s,tn,Eh(r,I,z[0],a,S,"",!0).index)}else""!==Mt&&XE(r,I,z[0],S,R,a,Mt)}}}r.data[d]={create:S,update:R}}(d,null===S?0:S.index,g,y,I,a),2===d.type?g[Wr][Un]|=32:g[Un]|=32;const R=d.data[y],ie=xg(d,S===g[qn]?null:S,g);(function KE(r,s,a,d){const g=r[Pn];for(let y=0;y<s.length;y++){const I=s[y++],S=s[y],z=(I&ka.APPEND_EAGERLY)===ka.APPEND_EAGERLY,ie=I>>>ka.SHIFT;let me=r[ie];null===me&&(me=r[ie]=(I&ka.COMMENT)===ka.COMMENT?g.createComment(S):$h(g,S)),z&&null!==a&&Ou(g,a,me,d,!1)}})(g,R.create,ie,S&&8&S.type?g[S.index]:null),Ul(!0)}function sT(r,s,a){kw(r,s,a),function Lf(){Ul(!1)}()}function Lw(r,s,a,d,g){if(r=Ot(r),Array.isArray(r))for(let y=0;y<r.length;y++)Lw(r[y],s,a,d,g);else{const y=Cr(),I=ht(),S=ss();let R=hd(r)?r:Ot(r.provide);const z=U_(r),ie=1048575&S.providerIndexes,me=S.directiveStart,xe=S.providerIndexes>>20;if(hd(r)||!r.multi){const Be=new nd(z,g,yd),pt=Qm(R,s,g?ie:ie+xe,me);-1===pt?($l(Tl(S,I),y,R),F0(y,r,s.length),s.push(R),S.directiveStart++,S.directiveEnd++,g&&(S.providerIndexes+=1048576),a.push(Be),I.push(Be)):(a[pt]=Be,I[pt]=Be)}else{const Be=Qm(R,s,ie+xe,me),pt=Qm(R,s,ie,ie+xe),tn=pt>=0&&a[pt];if(g&&!tn||!g&&!(Be>=0&&a[Be])){$l(Tl(S,I),y,R);const bn=function oC(r,s,a,d,g){const y=new nd(r,a,yd);return y.multi=[],y.index=s,y.componentProviders=0,cT(y,g,d&&!a),y}(g?sC:iC,a.length,g,d,z);!g&&tn&&(a[pt].providerFactory=bn),F0(y,r,s.length,0),s.push(R),S.directiveStart++,S.directiveEnd++,g&&(S.providerIndexes+=1048576),a.push(bn),I.push(bn)}else F0(y,r,Be>-1?Be:pt,cT(a[g?pt:Be],z,!g&&d));!g&&d&&tn&&a[pt].componentProviders++}}}function F0(r,s,a,d){const g=hd(s),y=function Nv(r){return!!r.useClass}(s);if(g||y){const R=(y?Ot(s.useClass):s).prototype.ngOnDestroy;if(R){const z=r.destroyHooks||(r.destroyHooks=[]);if(!g&&s.multi){const ie=z.indexOf(a);-1===ie?z.push(a,[d,R]):z[ie+1].push(d,R)}else z.push(a,R)}}}function cT(r,s,a){return a&&r.componentProviders++,r.multi.push(s)-1}function Qm(r,s,a,d){for(let g=a;g<d;g++)if(s[g]===r)return g;return-1}function iC(r,s,a,d){return L0(this.multi,[])}function sC(r,s,a,d){const g=this.multi;let y;if(this.providerFactory){const I=this.providerFactory.componentProviders,S=tl(a,a[Ut],this.providerFactory.index,d);y=S.slice(0,I),L0(g,y);for(let R=I;R<S.length;R++)y.push(S[R])}else y=[],L0(g,y);return y}function L0(r,s){for(let a=0;a<r.length;a++)s.push((0,r[a])());return s}function Bw(r,s=[]){return a=>{a.providersResolver=(d,g)=>function aT(r,s,a){const d=Cr();if(d.firstCreatePass){const g=ui(r);Lw(a,d.data,d.blueprint,g,!0),Lw(s,d.data,d.blueprint,g,!1)}}(d,g?g(r):r,s)}}class Rl{}class Jm{}function lT(r,s){return new Vw(r,s??null,[])}class Vw extends Rl{constructor(s,a,d){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Tm(this);const g=ci(s);this._bootstrapComponents=al(g.bootstrap),this._r3Injector=Gv(s,a,[{provide:Rl,useValue:this},{provide:Sp,useValue:this.componentFactoryResolver},...d],Tt(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class B0 extends Jm{constructor(s){super(),this.moduleType=s}create(s){return new Vw(this.moduleType,s,[])}}class uT extends Rl{constructor(s){super(),this.componentFactoryResolver=new Tm(this),this.instance=null;const a=new Pu([...s.providers,{provide:Rl,useValue:this},{provide:Sp,useValue:this.componentFactoryResolver}],s.parent||rh(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function V0(r,s,a=null){return new uT({providers:r,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}let Fa=(()=>{class r{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const d=ud(0,a.type),g=d.length>0?V0([d],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,g)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=De({token:r,providedIn:"environment",factory:()=>new r(Fn(Mc))})}return r})();function dT(r){r.getStandaloneInjector=s=>s.get(Fa).getOrCreateStandaloneInjector(r)}function Gw(r,s,a,d){return My(ht(),ks(),r,s,a,d)}function z0(r,s,a,d,g){return jw(ht(),ks(),r,s,a,d,g)}function bT(r,s,a,d,g,y){return function $w(r,s,a,d,g,y,I,S){const R=s+a;return Gp(r,R,g,y,I)?Ra(r,R+3,S?d.call(S,g,y,I):d(g,y,I)):rg(r,R+3)}(ht(),ks(),r,s,a,d,g,y)}function rg(r,s){const a=r[s];return a===ir?void 0:a}function My(r,s,a,d,g,y){const I=s+a;return Co(r,I,g)?Ra(r,I+1,y?d.call(y,g):d(g)):rg(r,I+1)}function jw(r,s,a,d,g,y,I){const S=s+a;return lu(r,S,g,y)?Ra(r,S+2,I?d.call(I,g,y):d(g,y)):rg(r,S+2)}function W0(r,s){const a=Cr();let d;const g=r+Hn;a.firstCreatePass?(d=function fC(r,s){if(s)for(let a=s.length-1;a>=0;a--){const d=s[a];if(r===d.name)return d}}(s,a.pipeRegistry),a.data[g]=d,d.onDestroy&&(a.destroyHooks??=[]).push(g,d.onDestroy)):d=a.data[g];const y=d.factory||(d.factory=Ta(d.type)),S=mn(yd);try{const R=Xc(!1),z=y();return Xc(R),function ga(r,s,a,d){a>=r.data.length&&(r.data[a]=null,r.blueprint[a]=null),s[a]=d}(a,ht(),g,z),z}finally{mn(S)}}function Ww(r,s,a){const d=r+Hn,g=ht(),y=oa(g,d);return ig(g,d)?My(g,ks(),s,y.transform,a,y):y.transform(a)}function q0(r,s,a,d){const g=r+Hn,y=ht(),I=oa(y,g);return ig(y,g)?jw(y,ks(),s,I.transform,a,d,I):I.transform(a,d)}function ig(r,s){return r[Ut].data[s].pure}function qw(){return this._results[Symbol.iterator]()}class Ry{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Sl)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Ry.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=qw)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const d=this;d.dirty=!1;const g=function Oc(r){return r.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function f_(r,s,a){if(r.length!==s.length)return!1;for(let d=0;d<r.length;d++){let g=r[d],y=s[d];if(a&&(g=a(g),y=a(y)),y!==g)return!1}return!0}(d._results,g,a))&&(d._results=g,d.length=g.length,d.last=g[this.length-1],d.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function CT(r,s,a,d=!0){const g=s[Ut];if(function Og(r,s,a,d){const g=$n+d,y=a.length;d>0&&(a[g-1][wi]=s),d<y-$n?(s[wi]=a[g],Ph(a,$n+d,s)):(a.push(s),s[wi]=null),s[Tr]=a;const I=s[Xi];null!==I&&a!==I&&function C_(r,s){const a=r[vc];s[Wr]!==s[Tr][Tr][Wr]&&(r[xs]=!0),null===a?r[vc]=[s]:a.push(s)}(I,s);const S=s[li];null!==S&&S.insertView(r),s[Un]|=128}(g,s,r,a),d){const y=gv(a,r),I=s[Pn],S=Qd(I,r[Ii]);null!==S&&function dv(r,s,a,d,g,y){d[pr]=g,d[qn]=s,Bg(r,d,a,1,g,y)}(g,r[qn],I,s,S,y)}}let sg=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=yc}return r})();const gC=sg,mC=class extends gC{constructor(s,a,d){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,d){const g=function DT(r,s,a,d){const g=s.tView,S=ul(r,g,a,4096&r[Un]?4096:16,null,s,null,null,null,d?.injector??null,d?.hydrationInfo??null);S[Xi]=r[s.index];const z=r[li];return null!==z&&(S[li]=z.createEmbeddedView(g)),xt(g,S,a),S}(this._declarationLView,this._declarationTContainer,s,{injector:a,hydrationInfo:d});return new bf(g)}};function yc(){return Y0(ss(),ht())}function Y0(r,s){return 4&r.type?new mC(s,r,Fu(r,s)):null}let X0=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=bC}return r})();function bC(){return Fy(ss(),ht())}const Py=X0,e1=class extends Py{constructor(s,a,d){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=d}get element(){return Fu(this._hostTNode,this._hostLView)}get injector(){return new Bo(this._hostTNode,this._hostLView)}get parentInjector(){const s=Cu(this._hostTNode,this._hostLView);if(wu(s)){const a=jl(s,this._hostLView),d=Gl(s);return new Bo(a[Ut].data[d+8],a)}return new Bo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=og(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-$n}createEmbeddedView(s,a,d){let g,y;"number"==typeof d?g=d:null!=d&&(g=d.index,y=d.injector);const S=s.createEmbeddedViewImpl(a||{},y,null);return this.insertImpl(S,g,false),S}createComponent(s,a,d,g,y){const I=s&&!function Xf(r){return"function"==typeof r}(s);let S;if(I)S=a;else{const Mt=a||{};S=Mt.index,d=Mt.injector,g=Mt.projectableNodes,y=Mt.environmentInjector||Mt.ngModuleRef}const R=I?s:new Qn(fr(s)),z=d||this.parentInjector;if(!y&&null==R.ngModule){const tn=(I?z:this.parentInjector).get(Mc,null);tn&&(y=tn)}fr(R.componentType??{});const Be=R.create(z,g,null,y);return this.insertImpl(Be.hostView,S,false),Be}insert(s,a){return this.insertImpl(s,a,!1)}insertImpl(s,a,d){const g=s._lView;if(function kd(r){return bs(r[Tr])}(g)){const R=this.indexOf(s);if(-1!==R)this.detach(R);else{const z=g[Tr],ie=new e1(z,z[qn],z[Tr]);ie.detach(ie.indexOf(s))}}const I=this._adjustIndex(a),S=this._lContainer;return CT(S,g,I,!d),s.attachToViewContainerRef(),Ph(ky(S),I,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=og(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),d=Mg(this._lContainer,a);d&&(kh(ky(this._lContainer),a),hp(d[Ut],d))}detach(s){const a=this._adjustIndex(s,-1),d=Mg(this._lContainer,a);return d&&null!=kh(ky(this._lContainer),a)?new bf(d):null}_adjustIndex(s,a=0){return s??this.length+a}};function og(r){return r[8]}function ky(r){return r[8]||(r[8]=[])}function Fy(r,s){let a;const d=s[r.index];return bs(d)?a=d:(a=e0(d,s,null,r),s[r.index]=a,Im(s,a)),t1(a,s,r,d),new e1(a,r,s)}let t1=function Yw(r,s,a,d){if(r[Ii])return;let g;g=8&a.type?si(d):function Ly(r,s){const a=r[Pn],d=a.createComment(""),g=yo(s,r);return Ou(a,Qd(a,g),d,function N_(r,s){return r.nextSibling(s)}(a,g),!1),d}(s,a),r[Ii]=g};class xd{constructor(s){this.queryList=s,this.matches=null}clone(){return new xd(this.queryList)}setDirty(){this.queryList.setDirty()}}class n1{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const d=null!==s.contentQueries?s.contentQueries[0]:a.length,g=[];for(let y=0;y<d;y++){const I=a.getByIndex(y);g.push(this.queries[I.indexInDeclarationView].clone())}return new n1(g)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==PT(s,a).matches&&this.queries[a].setDirty()}}class NT{constructor(s,a,d=null){this.predicate=s,this.flags=a,this.read=d}}class By{constructor(s=[]){this.queries=s}elementStart(s,a){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let d=0;d<this.length;d++){const g=null!==a?a.length:0,y=this.getByIndex(d).embeddedTView(s,g);y&&(y.indexInDeclarationView=d,null!==a?a.push(y):a=[y])}return null!==a?new By(a):null}template(s,a){for(let d=0;d<this.queries.length;d++)this.queries[d].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Xw{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Xw(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let d=s.parent;for(;null!==d&&8&d.type&&d.index!==a;)d=d.parent;return a===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const d=this.metadata.predicate;if(Array.isArray(d))for(let g=0;g<d.length;g++){const y=d[g];this.matchTNodeWithReadOption(s,a,eI(a,y)),this.matchTNodeWithReadOption(s,a,Dl(a,s,y,!1,!1))}else d===sg?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Dl(a,s,d,!1,!1))}matchTNodeWithReadOption(s,a,d){if(null!==d){const g=this.metadata.read;if(null!==g)if(g===ch||g===X0||g===sg&&4&a.type)this.addMatch(a.index,-2);else{const y=Dl(a,s,g,!1,!1);null!==y&&this.addMatch(a.index,y)}else this.addMatch(a.index,d)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function eI(r,s){const a=r.localNames;if(null!==a)for(let d=0;d<a.length;d+=2)if(a[d]===s)return a[d+1];return null}function tI(r,s,a,d){return-1===a?function wC(r,s){return 11&r.type?Fu(r,s):4&r.type?Y0(r,s):null}(s,r):-2===a?function r1(r,s,a){return a===ch?Fu(s,r):a===sg?Y0(s,r):a===X0?Fy(s,r):void 0}(r,s,d):tl(r,r[Ut],a,s)}function i1(r,s,a,d){const g=s[li].queries[d];if(null===g.matches){const y=r.data,I=a.matches,S=[];for(let R=0;R<I.length;R+=2){const z=I[R];S.push(z<0?null:tI(s,y[z],I[R+1],a.metadata.read))}g.matches=S}return g.matches}function s1(r,s,a,d){const g=r.queries.getByIndex(a),y=g.matches;if(null!==y){const I=i1(r,s,g,a);for(let S=0;S<y.length;S+=2){const R=y[S];if(R>0)d.push(I[S/2]);else{const z=y[S+1],ie=s[-R];for(let me=$n;me<ie.length;me++){const xe=ie[me];xe[Xi]===xe[Tr]&&s1(xe[Ut],xe,z,d)}if(null!==ie[vc]){const me=ie[vc];for(let xe=0;xe<me.length;xe++){const Be=me[xe];s1(Be[Ut],Be,z,d)}}}}}return d}function ag(r){const s=ht(),a=Cr(),d=D();P(d+1);const g=PT(a,d);if(r.dirty&&function Zc(r){return 4==(4&r[Un])}(s)===(2==(2&g.metadata.flags))){if(null===g.matches)r.reset([]);else{const y=g.crossesNgTemplate?s1(a,s,d,[]):i1(a,s,g,d);r.reset(y,im),r.notifyOnChanges()}return!0}return!1}function o1(r,s,a){const d=Cr();d.firstCreatePass&&(RT(d,new NT(r,s,a),-1),2==(2&s)&&(d.staticViewQueries=!0)),nI(d,ht(),s)}function OT(r,s,a,d){const g=Cr();if(g.firstCreatePass){const y=ss();RT(g,new NT(s,a,d),y.index),function rI(r,s){const a=r.contentQueries||(r.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(r.queries.length-1,s)}(g,r),2==(2&a)&&(g.staticContentQueries=!0)}nI(g,ht(),a)}function MT(){return function xT(r,s){return r[li].queries[s].queryList}(ht(),D())}function nI(r,s,a){const d=new Ry(4==(4&a));(function dl(r,s,a,d){const g=Up(s);g.push(a),r.firstCreatePass&&Hu(r).push(d,g.length-1)})(r,s,d,d.destroy),null===s[li]&&(s[li]=new n1),s[li].queries.push(new xd(d))}function RT(r,s,a){null===r.queries&&(r.queries=new By),r.queries.track(new Xw(s,a))}function PT(r,s){return r.queries.getByIndex(s)}function a1(r,s){return Y0(r,s)}function Vy(r){return!!ci(r)}const y1=new xn("Application Initializer");let pI=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,d)=>{this.resolve=a,this.reject=d}),this.appInits=nr(y1,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const g of this.appInits){const y=g();if(Ml(y))a.push(y);else if(Zb(y)){const I=new Promise((S,R)=>{y.subscribe({complete:S,error:R})});a.push(I)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{d()}).catch(g=>{this.reject(g)}),0===a.length&&d(),this.initialized=!0}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),XT=(()=>{class r{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();const v1=new xn("LocaleId",{providedIn:"root",factory:()=>nr(v1,en.Optional|en.SkipSelf)||function gI(){return typeof $localize<"u"&&$localize.locale||Od}()}),mI=new xn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let b1=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ue.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class tD{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let _I=(()=>{class r{compileModuleSync(a){return new B0(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const d=this.compileModuleSync(a),y=al(ci(a).declarations).reduce((I,S)=>{const R=fr(S);return R&&I.push(new Qn(R)),I},[]);return new tD(d,y)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const DI=new xn(""),N1=new xn("");let SI,sD=(()=>{class r{constructor(a,d,g){this._ngZone=a,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,SI||(function CI(r){SI=r}(g),g.addToWindow(d)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{jo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(a)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,d,g){let y=-1;d&&d>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==y),a(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:a,timeoutId:y,updateCb:g})}whenStable(a,d,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,d,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,d,g){return[]}static#e=this.\u0275fac=function(d){return new(d||r)(Fn(jo),Fn(dg),Fn(N1))};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac})}return r})(),dg=(()=>{class r{constructor(){this._applications=new Map}registerApplication(a,d){this._applications.set(a,d)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,d=!0){return SI?.findTestabilityInTree(this,a,d)??null}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})(),Hf=null;const oD=new xn("AllowMultipleToken"),O1=new xn("PlatformDestroyListeners"),AI=new xn("appBootstrapListener");class HC{constructor(s,a){this.name=s,this.token=a}}function NI(r,s,a=[]){const d=`Platform: ${s}`,g=new xn(d);return(y=[])=>{let I=x1();if(!I||I.injector.get(oD,!1)){const S=[...a,...y,{provide:g,useValue:!0}];r?r(S):function lD(r){if(Hf&&!Hf.get(oD,!1))throw new je(400,!1);(function cD(){!function Zu(r){Dc=r}(()=>{throw new je(600,!1)})})(),Hf=r;const s=r.get(OI);(function M1(r){r.get(Ho,null)?.forEach(a=>a())})(r)}(function zy(r=[],s){return ha.create({name:s,providers:[{provide:Ip,useValue:"platform"},{provide:O1,useValue:new Set([()=>Hf=null])},...r]})}(S,d))}return function dD(r){const s=x1();if(!s)throw new je(401,!1);return s}()}}function x1(){return Hf?.get(OI)??null}let OI=(()=>{class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,d){const g=function GC(r="zone.js",s){return"noop"===r?new Sb:"zone.js"===r?new jo(s):r}(d?.ngZone,function a_(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return g.run(()=>{const y=function cC(r,s,a){return new Vw(r,s,a)}(a.moduleType,this.injector,function P1(r){return[{provide:jo,useFactory:r},{provide:nf,multi:!0,useFactory:()=>{const s=nr(hD,{optional:!0});return()=>s.initialize()}},{provide:MI,useFactory:bS},{provide:ey,useFactory:Zv}]}(()=>g)),I=y.injector.get(Lu,null);return g.runOutsideAngular(()=>{const S=g.onError.subscribe({next:R=>{I.handleError(R)}});y.onDestroy(()=>{R1(this._modules,y),S.unsubscribe()})}),function ro(r,s,a){try{const d=a();return Ml(d)?d.catch(g=>{throw s.runOutsideAngular(()=>r.handleError(g)),g}):d}catch(d){throw s.runOutsideAngular(()=>r.handleError(d)),d}}(I,g,()=>{const S=y.injector.get(pI);return S.runInitializers(),S.donePromise.then(()=>(Cw(y.injector.get(v1,Od)||Od),this._moduleDoBootstrap(y),y))})})}bootstrapModule(a,d=[]){const g=La({},d);return function aD(r,s,a){const d=new B0(a);return Promise.resolve(d)}(0,0,a).then(y=>this.bootstrapModuleFactory(y,g))}_moduleDoBootstrap(a){const d=a.injector.get(Uc);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(g=>d.bootstrap(g));else{if(!a.instance.ngDoBootstrap)throw new je(-403,!1);a.instance.ngDoBootstrap(d)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new je(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const a=this._injector.get(O1,null);a&&(a.forEach(d=>d()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(d){return new(d||r)(Fn(ha))};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();function La(r,s){return Array.isArray(s)?s.reduce(La,r):{...r,...s}}let Uc=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=nr(MI),this.zoneIsStable=nr(ey),this.componentTypes=[],this.components=[],this.isStable=nr(b1).hasPendingTasks.pipe((0,Me.w)(a=>a?(0,fe.of)(!1):this.zoneIsStable),(0,Se.x)(),ce()),this._injector=nr(Mc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,d){const g=a instanceof Lv;if(!this._injector.get(pI).done)throw!g&&ls(a),new je(405,!1);let I;I=g?a:this._injector.get(Sp).resolveComponentFactory(a),this.componentTypes.push(I.componentType);const S=function UC(r){return r.isBoundToModule}(I)?void 0:this._injector.get(Rl),z=I.create(ha.NULL,[],d||I.selector,S),ie=z.location.nativeElement,me=z.injector.get(DI,null);return me?.registerApplication(ie),z.onDestroy(()=>{this.detachView(z.hostView),R1(this.components,z),me?.unregisterApplication(ie)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new je(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const d=a;this._views.push(d),d.attachToAppRef(this)}detachView(a){const d=a;R1(this._views,d),d.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const d=this._injector.get(AI,[]);d.push(...this._bootstrapListeners),d.forEach(g=>g(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>R1(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new je(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function R1(r,s){const a=r.indexOf(s);a>-1&&r.splice(a,1)}const MI=new xn("",{providedIn:"root",factory:()=>nr(Lu).handleError.bind(void 0)});function bS(){const r=nr(jo),s=nr(Lu);return a=>r.runOutsideAngular(()=>s.handleError(a))}let hD=(()=>{class r{constructor(){this.zone=nr(jo),this.applicationRef=nr(Uc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();let fD=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=ES}return r})();function ES(r){return function TS(r,s,a){if(qs(r)&&!a){const d=Ei(r.index,s);return new bf(d,d)}return 47&r.type?new bf(s[Wr],s):null}(ss(),ht(),16==(16&r))}class mD{constructor(){}supports(s){return xa(s)}create(s){return new kI(s)}}const l_=(r,s)=>s;class kI{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||l_}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,d=this._removalsHead,g=0,y=null;for(;a||d;){const I=!d||a&&a.currentIndex<yD(d,g,y)?a:d,S=yD(I,g,y),R=I.currentIndex;if(I===d)g--,d=d._nextRemoved;else if(a=a._next,null==I.previousIndex)g++;else{y||(y=[]);const z=S-g,ie=R-g;if(z!=ie){for(let xe=0;xe<z;xe++){const Be=xe<y.length?y[xe]:y[xe]=0,pt=Be+xe;ie<=pt&&pt<z&&(y[xe]=Be+1)}y[I.previousIndex]=ie-z}}S!==R&&s(I,S,R)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!xa(s))throw new je(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let g,y,I,a=this._itHead,d=!1;if(Array.isArray(s)){this.length=s.length;for(let S=0;S<this.length;S++)y=s[S],I=this._trackByFn(S,y),null!==a&&Object.is(a.trackById,I)?(d&&(a=this._verifyReinsertion(a,y,I,S)),Object.is(a.item,y)||this._addIdentityChange(a,y)):(a=this._mismatch(a,y,I,S),d=!0),a=a._next}else g=0,function Ef(r,s){if(Array.isArray(r))for(let a=0;a<r.length;a++)s(r[a]);else{const a=r[Symbol.iterator]();let d;for(;!(d=a.next()).done;)s(d.value)}}(s,S=>{I=this._trackByFn(g,S),null!==a&&Object.is(a.trackById,I)?(d&&(a=this._verifyReinsertion(a,S,I,g)),Object.is(a.item,S)||this._addIdentityChange(a,S)):(a=this._mismatch(a,S,I,g),d=!0),a=a._next,g++}),this.length=g;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,d,g){let y;return null===s?y=this._itTail:(y=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,y,g)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(d,g))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,y,g)):s=this._addAfter(new Zy(a,d),y,g),s}_verifyReinsertion(s,a,d,g){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==y?s=this._reinsertAfter(y,s._prev,g):s.currentIndex!=g&&(s.currentIndex=g,this._addToMoves(s,g)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const g=s._prevRemoved,y=s._nextRemoved;return null===g?this._removalsHead=y:g._nextRemoved=y,null===y?this._removalsTail=g:y._prevRemoved=g,this._insertAfter(s,a,d),this._addToMoves(s,d),s}_moveAfter(s,a,d){return this._unlink(s),this._insertAfter(s,a,d),this._addToMoves(s,d),s}_addAfter(s,a,d){return this._insertAfter(s,a,d),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,d){const g=null===a?this._itHead:a._next;return s._next=g,s._prev=a,null===g?this._itTail=s:g._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new F1),this._linkedRecords.put(s),s.currentIndex=d,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,d=s._next;return null===a?this._itHead=d:a._next=d,null===d?this._itTail=a:d._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new F1),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Zy{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _D{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===a||a<=d.currentIndex)&&Object.is(d.trackById,s))return d;return null}remove(s){const a=s._prevDup,d=s._nextDup;return null===a?this._head=d:a._nextDup=d,null===d?this._tail=a:d._prevDup=a,null===this._head}}class F1{constructor(){this.map=new Map}put(s){const a=s.trackById;let d=this.map.get(a);d||(d=new _D,this.map.set(a,d)),d.add(s)}get(s,a){const g=this.map.get(s);return g?g.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yD(r,s,a){const d=r.previousIndex;if(null===d)return d;let g=0;return a&&d<a.length&&(g=a[d]),d+s+g}class vD{constructor(){}supports(s){return s instanceof Map||cu(s)}create(){return new ZC}}class ZC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||cu(s)))throw new je(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(d,g)=>{if(a&&a.key===g)this._maybeAddToChanges(a,d),this._appendAfter=a,a=a._next;else{const y=this._getOrCreateRecordForKey(g,d);a=this._insertBeforeOrAppend(a,y)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let d=a;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const d=s._prev;return a._next=s,a._prev=d,s._prev=a,d&&(d._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const g=this._records.get(s);this._maybeAddToChanges(g,a);const y=g._prev,I=g._next;return y&&(y._next=I),I&&(I._prev=y),g._next=null,g._prev=null,g}const d=new bD(s);return this._records.set(s,d),d.currentValue=a,this._addToAdditions(d),d}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(d=>a(s[d],d))}}class bD{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function FI(){return new L1([new mD])}let L1=(()=>{class r{static#e=this.\u0275prov=De({token:r,providedIn:"root",factory:FI});constructor(a){this.factories=a}static create(a,d){if(null!=d){const g=d.factories.slice();a=a.concat(g)}return new r(a)}static extend(a){return{provide:r,useFactory:d=>r.create(a,d||FI()),deps:[[r,new rp,new np]]}}find(a){const d=this.factories.find(g=>g.supports(a));if(null!=d)return d;throw new je(901,!1)}}return r})();function LI(){return new B1([new vD])}let B1=(()=>{class r{static#e=this.\u0275prov=De({token:r,providedIn:"root",factory:LI});constructor(a){this.factories=a}static create(a,d){if(d){const g=d.factories.slice();a=a.concat(g)}return new r(a)}static extend(a){return{provide:r,useFactory:d=>r.create(a,d||LI()),deps:[[r,new rp,new np]]}}find(a){const d=this.factories.find(g=>g.supports(a));if(d)return d;throw new je(901,!1)}}return r})();const V1=NI(null,"core",[]);let wD=(()=>{class r{constructor(a){}static#e=this.\u0275fac=function(d){return new(d||r)(Fn(Uc))};static#t=this.\u0275mod=oo({type:r});static#n=this.\u0275inj=ke({})}return r})();function TD(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function xS(r,s){const a=fr(r),d=s.elementInjector||rh();return new Qn(a).create(d,s.projectableNodes,s.hostElement,s.environmentInjector)}function fg(r){const s=fr(r);if(!s)return null;const a=new Qn(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},7592:(Ht,Ge,K)=>{K.d(Ge,{C6:()=>Pe,Jn:()=>br,KN:()=>vt,Mq:()=>De,Xd:()=>kt,ZF:()=>Fr,qX:()=>Gt});var b=K(5861),re=K(6820),u=K(7879),be=K(229),ue=K(1878);class fe{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(Ze=>{if(function Ee(nt){const Ce=nt.getComponent();return"VERSION"===Ce?.type}(Ze)){const It=Ze.getImmediate();return`${It.library}/${It.version}`}return null}).filter(Ze=>Ze).join(" ")}}const Qe="@firebase/app",ce=new u.Yd("@firebase/app"),Fe="[DEFAULT]",$e={[Qe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xe=new Map,Ue=new Map;function rt(nt,Ce){try{nt.container.addComponent(Ce)}catch(Ze){ce.debug(`Component ${Ce.name} failed to register with FirebaseApp ${nt.name}`,Ze)}}function kt(nt){const Ce=nt.name;if(Ue.has(Ce))return ce.debug(`There were multiple attempts to register component ${Ce}.`),!1;Ue.set(Ce,nt);for(const Ze of Xe.values())rt(Ze,nt);return!0}function Gt(nt,Ce){const Ze=nt.container.getProvider("heartbeat").getImmediate({optional:!0});return Ze&&Ze.triggerHeartbeat(),nt.container.getProvider(Ce)}const Dt=new be.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Zn{constructor(Ce,Ze,It){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},Ze),this._name=Ze.name,this._automaticDataCollectionEnabled=Ze.automaticDataCollectionEnabled,this._container=It,this.container.addComponent(new re.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw Dt.create("app-deleted",{appName:this._name})}}const br="9.23.0";function Fr(nt,Ce={}){let Ze=nt;"object"!=typeof Ce&&(Ce={name:Ce});const It=Object.assign({name:Fe,automaticDataCollectionEnabled:!1},Ce),qt=It.name;if("string"!=typeof qt||!qt)throw Dt.create("bad-app-name",{appName:String(qt)});if(Ze||(Ze=(0,be.aH)()),!Ze)throw Dt.create("no-options");const Zt=Xe.get(qt);if(Zt){if((0,be.vZ)(Ze,Zt.options)&&(0,be.vZ)(It,Zt.config))return Zt;throw Dt.create("duplicate-app",{appName:qt})}const Wn=new re.H0(qt);for(const V of Ue.values())Wn.addComponent(V);const Y=new Zn(Ze,It,Wn);return Xe.set(qt,Y),Y}function De(nt=Fe){const Ce=Xe.get(nt);if(!Ce&&nt===Fe&&(0,be.aH)())return Fr();if(!Ce)throw Dt.create("no-app",{appName:nt});return Ce}function Pe(){return Array.from(Xe.values())}function vt(nt,Ce,Ze){var It;let qt=null!==(It=$e[nt])&&void 0!==It?It:nt;Ze&&(qt+=`-${Ze}`);const Zt=qt.match(/\s|\//),Wn=Ce.match(/\s|\//);if(Zt||Wn){const Y=[`Unable to register library "${qt}" with version "${Ce}":`];return Zt&&Y.push(`library name "${qt}" contains illegal characters (whitespace or "/")`),Zt&&Wn&&Y.push("and"),Wn&&Y.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void ce.warn(Y.join(" "))}kt(new re.wA(`${qt}-version`,()=>({library:qt,version:Ce}),"VERSION"))}const An="firebase-heartbeat-database",sn=1,Qt="firebase-heartbeat-store";let wn=null;function Jn(){return wn||(wn=(0,ue.X3)(An,sn,{upgrade:(nt,Ce)=>{0===Ce&&nt.createObjectStore(Qt)}}).catch(nt=>{throw Dt.create("idb-open",{originalErrorMessage:nt.message})})),wn}function Or(){return(Or=(0,b.Z)(function*(nt){try{return yield(yield Jn()).transaction(Qt).objectStore(Qt).get(lr(nt))}catch(Ce){if(Ce instanceof be.ZR)ce.warn(Ce.message);else{const Ze=Dt.create("idb-get",{originalErrorMessage:Ce?.message});ce.warn(Ze.message)}}})).apply(this,arguments)}function Er(nt,Ce){return mn.apply(this,arguments)}function mn(){return(mn=(0,b.Z)(function*(nt,Ce){try{const It=(yield Jn()).transaction(Qt,"readwrite");yield It.objectStore(Qt).put(Ce,lr(nt)),yield It.done}catch(Ze){if(Ze instanceof be.ZR)ce.warn(Ze.message);else{const It=Dt.create("idb-set",{originalErrorMessage:Ze?.message});ce.warn(It.message)}}})).apply(this,arguments)}function lr(nt){return`${nt.name}!${nt.options.appId}`}class zn{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const Ze=this.container.getProvider("app").getImmediate();this._storage=new Xn(Ze),this._heartbeatsCachePromise=this._storage.read().then(It=>(this._heartbeatsCache=It,It))}triggerHeartbeat(){var Ce=this;return(0,b.Z)(function*(){const It=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),qt=fi();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==qt&&!Ce._heartbeatsCache.heartbeats.some(Zt=>Zt.date===qt))return Ce._heartbeatsCache.heartbeats.push({date:qt,agent:It}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(Zt=>{const Wn=new Date(Zt.date).valueOf();return Date.now()-Wn<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,b.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const Ze=fi(),{heartbeatsToSend:It,unsentEntries:qt}=function xn(nt,Ce=1024){const Ze=[];let It=nt.slice();for(const qt of nt){const Zt=Ze.find(Wn=>Wn.agent===qt.agent);if(Zt){if(Zt.dates.push(qt.date),xr(Ze)>Ce){Zt.dates.pop();break}}else if(Ze.push({agent:qt.agent,dates:[qt.date]}),xr(Ze)>Ce){Ze.pop();break}It=It.slice(1)}return{heartbeatsToSend:Ze,unsentEntries:It}}(Ce._heartbeatsCache.heartbeats),Zt=(0,be.L)(JSON.stringify({version:2,heartbeats:It}));return Ce._heartbeatsCache.lastSentHeartbeatDate=Ze,qt.length>0?(Ce._heartbeatsCache.heartbeats=qt,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),Zt})()}}function fi(){return(new Date).toISOString().substring(0,10)}class Xn{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!(0,be.hl)()&&(0,be.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,b.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function en(nt){return Or.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var Ze=this;return(0,b.Z)(function*(){var It;if(yield Ze._canUseIndexedDBPromise){const Zt=yield Ze.read();return Er(Ze.app,{lastSentHeartbeatDate:null!==(It=Ce.lastSentHeartbeatDate)&&void 0!==It?It:Zt.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var Ze=this;return(0,b.Z)(function*(){var It;if(yield Ze._canUseIndexedDBPromise){const Zt=yield Ze.read();return Er(Ze.app,{lastSentHeartbeatDate:null!==(It=Ce.lastSentHeartbeatDate)&&void 0!==It?It:Zt.lastSentHeartbeatDate,heartbeats:[...Zt.heartbeats,...Ce.heartbeats]})}})()}}function xr(nt){return(0,be.L)(JSON.stringify({version:2,heartbeats:nt})).length}!function pi(nt){kt(new re.wA("platform-logger",Ce=>new fe(Ce),"PRIVATE")),kt(new re.wA("heartbeat",Ce=>new zn(Ce),"PRIVATE")),vt(Qe,"0.9.13",nt),vt(Qe,"0.9.13","esm2017"),vt("fire-js","")}("")},6820:(Ht,Ge,K)=>{K.d(Ge,{H0:()=>Qe,wA:()=>u});var b=K(5861),re=K(229);class u{constructor(ce,de,Me){this.name=ce,this.instanceFactory=de,this.type=Me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ce){return this.instantiationMode=ce,this}setMultipleInstances(ce){return this.multipleInstances=ce,this}setServiceProps(ce){return this.serviceProps=ce,this}setInstanceCreatedCallback(ce){return this.onInstanceCreated=ce,this}}const be="[DEFAULT]";class ue{constructor(ce,de){this.name=ce,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ce){const de=this.normalizeInstanceIdentifier(ce);if(!this.instancesDeferred.has(de)){const Me=new re.BH;if(this.instancesDeferred.set(de,Me),this.isInitialized(de)||this.shouldAutoInitialize())try{const Se=this.getOrInitializeService({instanceIdentifier:de});Se&&Me.resolve(Se)}catch{}}return this.instancesDeferred.get(de).promise}getImmediate(ce){var de;const Me=this.normalizeInstanceIdentifier(ce?.identifier),Se=null!==(de=ce?.optional)&&void 0!==de&&de;if(!this.isInitialized(Me)&&!this.shouldAutoInitialize()){if(Se)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Me})}catch(Oe){if(Se)return null;throw Oe}}getComponent(){return this.component}setComponent(ce){if(ce.name!==this.name)throw Error(`Mismatching Component ${ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ce,this.shouldAutoInitialize()){if(function Ee(Re){return"EAGER"===Re.instantiationMode}(ce))try{this.getOrInitializeService({instanceIdentifier:be})}catch{}for(const[de,Me]of this.instancesDeferred.entries()){const Se=this.normalizeInstanceIdentifier(de);try{const Oe=this.getOrInitializeService({instanceIdentifier:Se});Me.resolve(Oe)}catch{}}}}clearInstance(ce=be){this.instancesDeferred.delete(ce),this.instancesOptions.delete(ce),this.instances.delete(ce)}delete(){var ce=this;return(0,b.Z)(function*(){const de=Array.from(ce.instances.values());yield Promise.all([...de.filter(Me=>"INTERNAL"in Me).map(Me=>Me.INTERNAL.delete()),...de.filter(Me=>"_delete"in Me).map(Me=>Me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ce=be){return this.instances.has(ce)}getOptions(ce=be){return this.instancesOptions.get(ce)||{}}initialize(ce={}){const{options:de={}}=ce,Me=this.normalizeInstanceIdentifier(ce.instanceIdentifier);if(this.isInitialized(Me))throw Error(`${this.name}(${Me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Se=this.getOrInitializeService({instanceIdentifier:Me,options:de});for(const[Oe,Ke]of this.instancesDeferred.entries())Me===this.normalizeInstanceIdentifier(Oe)&&Ke.resolve(Se);return Se}onInit(ce,de){var Me;const Se=this.normalizeInstanceIdentifier(de),Oe=null!==(Me=this.onInitCallbacks.get(Se))&&void 0!==Me?Me:new Set;Oe.add(ce),this.onInitCallbacks.set(Se,Oe);const Ke=this.instances.get(Se);return Ke&&ce(Ke,Se),()=>{Oe.delete(ce)}}invokeOnInitCallbacks(ce,de){const Me=this.onInitCallbacks.get(de);if(Me)for(const Se of Me)try{Se(ce,de)}catch{}}getOrInitializeService({instanceIdentifier:ce,options:de={}}){let Me=this.instances.get(ce);if(!Me&&this.component&&(Me=this.component.instanceFactory(this.container,{instanceIdentifier:(Re=ce,Re===be?void 0:Re),options:de}),this.instances.set(ce,Me),this.instancesOptions.set(ce,de),this.invokeOnInitCallbacks(Me,ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ce,Me)}catch{}var Re;return Me||null}normalizeInstanceIdentifier(ce=be){return this.component?this.component.multipleInstances?ce:be:ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Qe{constructor(ce){this.name=ce,this.providers=new Map}addComponent(ce){const de=this.getProvider(ce.name);if(de.isComponentSet())throw new Error(`Component ${ce.name} has already been registered with ${this.name}`);de.setComponent(ce)}addOrOverwriteComponent(ce){this.getProvider(ce.name).isComponentSet()&&this.providers.delete(ce.name),this.addComponent(ce)}getProvider(ce){if(this.providers.has(ce))return this.providers.get(ce);const de=new ue(ce,this);return this.providers.set(ce,de),de}getProviders(){return Array.from(this.providers.values())}}},4097:(Ht,Ge,K)=>{K.d(Ge,{C6:()=>b.C6,KN:()=>b.KN,Mq:()=>b.Mq,ZF:()=>b.ZF});var b=K(7592);(0,b.KN)("firebase","9.23.0","app")},95:(Ht,Ge,K)=>{K.d(Ge,{Fj:()=>ft,CE:()=>Ut,qu:()=>Xo,NI:()=>ni,u:()=>wi,cw:()=>on,sg:()=>_i,x0:()=>lo,u5:()=>go,wO:()=>Rs,Cf:()=>_t,JU:()=>Ke,JJ:()=>Qt,JL:()=>wn,YN:()=>ri,wV:()=>oo,UX:()=>Ia,Q7:()=>Hn,EJ:()=>er,kI:()=>Je,_Y:()=>Qo,Kr:()=>Wr});var b=K(9468),re=K(6814),u=K(2459),be=K(5592),ue=K(7453),fe=K(4829),Ee=K(9940),Qe=K(8251),Re=K(7400),ce=K(2714),Me=K(7398);let Se=(()=>{class W{constructor(B,oe){this._renderer=B,this._elementRef=oe,this.onChange=Te=>{},this.onTouched=()=>{}}setProperty(B,oe){this._renderer.setProperty(this._elementRef.nativeElement,B,oe)}registerOnTouched(B){this.onTouched=B}registerOnChange(B){this.onChange=B}setDisabledState(B){this.setProperty("disabled",B)}static#e=this.\u0275fac=function(oe){return new(oe||W)(b.Y36(b.Qsj),b.Y36(b.SBq))};static#t=this.\u0275dir=b.lG2({type:W})}return W})(),Oe=(()=>{class W extends Se{static#e=this.\u0275fac=function(){let B;return function(Te){return(B||(B=b.n5z(W)))(Te||W)}}();static#t=this.\u0275dir=b.lG2({type:W,features:[b.qOj]})}return W})();const Ke=new b.OlP("NgValueAccessor"),Nt={provide:Ke,useExisting:(0,b.Gpc)(()=>ft),multi:!0},Ot=new b.OlP("CompositionEventMode");let ft=(()=>{class W extends Se{constructor(B,oe,Te){super(B,oe),this._compositionMode=Te,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Dn(){const W=(0,re.q)()?(0,re.q)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(B){this.setProperty("value",B??"")}_handleInput(B){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(B)}_compositionStart(){this._composing=!0}_compositionEnd(B){this._composing=!1,this._compositionMode&&this.onChange(B)}static#e=this.\u0275fac=function(oe){return new(oe||W)(b.Y36(b.Qsj),b.Y36(b.SBq),b.Y36(Ot,8))};static#t=this.\u0275dir=b.lG2({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(oe,Te){1&oe&&b.NdJ("input",function(Gn){return Te._handleInput(Gn.target.value)})("blur",function(){return Te.onTouched()})("compositionstart",function(){return Te._compositionStart()})("compositionend",function(Gn){return Te._compositionEnd(Gn.target.value)})},features:[b._Bn([Nt]),b.qOj]})}return W})();function st(W){return null==W||("string"==typeof W||Array.isArray(W))&&0===W.length}function yt(W){return null!=W&&"number"==typeof W.length}const _t=new b.OlP("NgValidators"),je=new b.OlP("NgAsyncValidators"),ve=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Je{static min(X){return function mt(W){return X=>{if(st(X.value)||st(W))return null;const B=parseFloat(X.value);return!isNaN(B)&&B<W?{min:{min:W,actual:X.value}}:null}}(X)}static max(X){return function kn(W){return X=>{if(st(X.value)||st(W))return null;const B=parseFloat(X.value);return!isNaN(B)&&B>W?{max:{max:W,actual:X.value}}:null}}(X)}static required(X){return dt(X)}static requiredTrue(X){return function hn(W){return!0===W.value?null:{required:!0}}(X)}static email(X){return function Cn(W){return st(W.value)||ve.test(W.value)?null:{email:!0}}(X)}static minLength(X){return jn(X)}static maxLength(X){return function cr(W){return X=>yt(X.value)&&X.value.length>W?{maxlength:{requiredLength:W,actualLength:X.value.length}}:null}(X)}static pattern(X){return function vr(W){if(!W)return Fe;let X,B;return"string"==typeof W?(B="","^"!==W.charAt(0)&&(B+="^"),B+=W,"$"!==W.charAt(W.length-1)&&(B+="$"),X=new RegExp(B)):(B=W.toString(),X=W),oe=>{if(st(oe.value))return null;const Te=oe.value;return X.test(Te)?null:{pattern:{requiredPattern:B,actualValue:Te}}}}(X)}static nullValidator(X){return null}static compose(X){return Gt(X)}static composeAsync(X){return yn(X)}}function dt(W){return st(W.value)?{required:!0}:null}function jn(W){return X=>st(X.value)||!yt(X.value)?null:X.value.length<W?{minlength:{requiredLength:W,actualLength:X.value.length}}:null}function Fe(W){return null}function $e(W){return null!=W}function Xe(W){return(0,b.QGY)(W)?(0,u.D)(W):W}function Ue(W){let X={};return W.forEach(B=>{X=null!=B?{...X,...B}:X}),0===Object.keys(X).length?null:X}function rt(W,X){return X.map(B=>B(W))}function kt(W){return W.map(X=>function wt(W){return!W.validate}(X)?X:B=>X.validate(B))}function Gt(W){if(!W)return null;const X=W.filter($e);return 0==X.length?null:function(B){return Ue(rt(B,X))}}function fn(W){return null!=W?Gt(kt(W)):null}function yn(W){if(!W)return null;const X=W.filter($e);return 0==X.length?null:function(B){return function de(...W){const X=(0,Ee.jO)(W),{args:B,keys:oe}=(0,ue.D)(W),Te=new be.y(Jt=>{const{length:Gn}=B;if(!Gn)return void Jt.complete();const es=new Array(Gn);let Ps=Gn,Ai=Gn;for(let Vi=0;Vi<Gn;Vi++){let Ha=!1;(0,fe.Xf)(B[Vi]).subscribe((0,Qe.x)(Jt,Ga=>{Ha||(Ha=!0,Ai--),es[Vi]=Ga},()=>Ps--,void 0,()=>{(!Ps||!Ha)&&(Ai||Jt.next(oe?(0,ce.n)(oe,es):es),Jt.complete())}))}});return X?Te.pipe((0,Re.Z)(X)):Te}(rt(B,X).map(Xe)).pipe((0,Me.U)(Ue))}}function dn(W){return null!=W?yn(kt(W)):null}function Dt(W,X){return null===W?[X]:Array.isArray(W)?[...W,X]:[W,X]}function Zn(W){return W._rawValidators}function br(W){return W._rawAsyncValidators}function Fr(W){return W?Array.isArray(W)?W:[W]:[]}function De(W,X){return Array.isArray(W)?W.includes(X):W===X}function Pe(W,X){const B=Fr(X);return Fr(W).forEach(Te=>{De(B,Te)||B.push(Te)}),B}function ke(W,X){return Fr(X).filter(B=>!De(W,B))}class at{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(X){this._rawValidators=X||[],this._composedValidatorFn=fn(this._rawValidators)}_setAsyncValidators(X){this._rawAsyncValidators=X||[],this._composedAsyncValidatorFn=dn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(X){this._onDestroyCallbacks.push(X)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(X=>X()),this._onDestroyCallbacks=[]}reset(X=void 0){this.control&&this.control.reset(X)}hasError(X,B){return!!this.control&&this.control.hasError(X,B)}getError(X,B){return this.control?this.control.getError(X,B):null}}class vt extends at{get formDirective(){return null}get path(){return null}}class At extends at{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ir{constructor(X){this._cd=X}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Qt=(()=>{class W extends Ir{constructor(B){super(B)}static#e=this.\u0275fac=function(oe){return new(oe||W)(b.Y36(At,2))};static#t=this.\u0275dir=b.lG2({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(oe,Te){2&oe&&b.ekj("ng-untouched",Te.isUntouched)("ng-touched",Te.isTouched)("ng-pristine",Te.isPristine)("ng-dirty",Te.isDirty)("ng-valid",Te.isValid)("ng-invalid",Te.isInvalid)("ng-pending",Te.isPending)},features:[b.qOj]})}return W})(),wn=(()=>{class W extends Ir{constructor(B){super(B)}static#e=this.\u0275fac=function(oe){return new(oe||W)(b.Y36(vt,10))};static#t=this.\u0275dir=b.lG2({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(oe,Te){2&oe&&b.ekj("ng-untouched",Te.isUntouched)("ng-touched",Te.isTouched)("ng-pristine",Te.isPristine)("ng-dirty",Te.isDirty)("ng-valid",Te.isValid)("ng-invalid",Te.isInvalid)("ng-pending",Te.isPending)("ng-submitted",Te.isSubmitted)},features:[b.qOj]})}return W})();const It="VALID",qt="INVALID",Zt="PENDING",Wn="DISABLED";function Y(W){return($(W)?W.validators:W)||null}function G(W,X){return($(X)?X.asyncValidators:W)||null}function $(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}function we(W,X,B){const oe=W.controls;if(!(X?Object.keys(oe):oe).length)throw new b.vHH(1e3,"");if(!oe[B])throw new b.vHH(1001,"")}function We(W,X,B){W._forEachChild((oe,Te)=>{if(void 0===B[Te])throw new b.vHH(1002,"")})}class Et{constructor(X,B){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(X),this._assignAsyncValidators(B)}get validator(){return this._composedValidatorFn}set validator(X){this._rawValidators=this._composedValidatorFn=X}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(X){this._rawAsyncValidators=this._composedAsyncValidatorFn=X}get parent(){return this._parent}get valid(){return this.status===It}get invalid(){return this.status===qt}get pending(){return this.status==Zt}get disabled(){return this.status===Wn}get enabled(){return this.status!==Wn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(X){this._assignValidators(X)}setAsyncValidators(X){this._assignAsyncValidators(X)}addValidators(X){this.setValidators(Pe(X,this._rawValidators))}addAsyncValidators(X){this.setAsyncValidators(Pe(X,this._rawAsyncValidators))}removeValidators(X){this.setValidators(ke(X,this._rawValidators))}removeAsyncValidators(X){this.setAsyncValidators(ke(X,this._rawAsyncValidators))}hasValidator(X){return De(this._rawValidators,X)}hasAsyncValidator(X){return De(this._rawAsyncValidators,X)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(X={}){this.touched=!0,this._parent&&!X.onlySelf&&this._parent.markAsTouched(X)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(X=>X.markAllAsTouched())}markAsUntouched(X={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(B=>{B.markAsUntouched({onlySelf:!0})}),this._parent&&!X.onlySelf&&this._parent._updateTouched(X)}markAsDirty(X={}){this.pristine=!1,this._parent&&!X.onlySelf&&this._parent.markAsDirty(X)}markAsPristine(X={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(B=>{B.markAsPristine({onlySelf:!0})}),this._parent&&!X.onlySelf&&this._parent._updatePristine(X)}markAsPending(X={}){this.status=Zt,!1!==X.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!X.onlySelf&&this._parent.markAsPending(X)}disable(X={}){const B=this._parentMarkedDirty(X.onlySelf);this.status=Wn,this.errors=null,this._forEachChild(oe=>{oe.disable({...X,onlySelf:!0})}),this._updateValue(),!1!==X.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...X,skipPristineCheck:B}),this._onDisabledChange.forEach(oe=>oe(!0))}enable(X={}){const B=this._parentMarkedDirty(X.onlySelf);this.status=It,this._forEachChild(oe=>{oe.enable({...X,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:X.emitEvent}),this._updateAncestors({...X,skipPristineCheck:B}),this._onDisabledChange.forEach(oe=>oe(!1))}_updateAncestors(X){this._parent&&!X.onlySelf&&(this._parent.updateValueAndValidity(X),X.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(X){this._parent=X}getRawValue(){return this.value}updateValueAndValidity(X={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===It||this.status===Zt)&&this._runAsyncValidator(X.emitEvent)),!1!==X.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!X.onlySelf&&this._parent.updateValueAndValidity(X)}_updateTreeValidity(X={emitEvent:!0}){this._forEachChild(B=>B._updateTreeValidity(X)),this.updateValueAndValidity({onlySelf:!0,emitEvent:X.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wn:It}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(X){if(this.asyncValidator){this.status=Zt,this._hasOwnPendingAsyncValidator=!0;const B=Xe(this.asyncValidator(this));this._asyncValidationSubscription=B.subscribe(oe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(oe,{emitEvent:X})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(X,B={}){this.errors=X,this._updateControlsErrors(!1!==B.emitEvent)}get(X){let B=X;return null==B||(Array.isArray(B)||(B=B.split(".")),0===B.length)?null:B.reduce((oe,Te)=>oe&&oe._find(Te),this)}getError(X,B){const oe=B?this.get(B):this;return oe&&oe.errors?oe.errors[X]:null}hasError(X,B){return!!this.getError(X,B)}get root(){let X=this;for(;X._parent;)X=X._parent;return X}_updateControlsErrors(X){this.status=this._calculateStatus(),X&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(X)}_initObservables(){this.valueChanges=new b.vpe,this.statusChanges=new b.vpe}_calculateStatus(){return this._allControlsDisabled()?Wn:this.errors?qt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zt)?Zt:this._anyControlsHaveStatus(qt)?qt:It}_anyControlsHaveStatus(X){return this._anyControls(B=>B.status===X)}_anyControlsDirty(){return this._anyControls(X=>X.dirty)}_anyControlsTouched(){return this._anyControls(X=>X.touched)}_updatePristine(X={}){this.pristine=!this._anyControlsDirty(),this._parent&&!X.onlySelf&&this._parent._updatePristine(X)}_updateTouched(X={}){this.touched=this._anyControlsTouched(),this._parent&&!X.onlySelf&&this._parent._updateTouched(X)}_registerOnCollectionChange(X){this._onCollectionChange=X}_setUpdateStrategy(X){$(X)&&null!=X.updateOn&&(this._updateOn=X.updateOn)}_parentMarkedDirty(X){return!X&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(X){return null}_assignValidators(X){this._rawValidators=Array.isArray(X)?X.slice():X,this._composedValidatorFn=function V(W){return Array.isArray(W)?fn(W):W||null}(this._rawValidators)}_assignAsyncValidators(X){this._rawAsyncValidators=Array.isArray(X)?X.slice():X,this._composedAsyncValidatorFn=function q(W){return Array.isArray(W)?dn(W):W||null}(this._rawAsyncValidators)}}class on extends Et{constructor(X,B,oe){super(Y(B),G(oe,B)),this.controls=X,this._initObservables(),this._setUpdateStrategy(B),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(X,B){return this.controls[X]?this.controls[X]:(this.controls[X]=B,B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange),B)}addControl(X,B,oe={}){this.registerControl(X,B),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}removeControl(X,B={}){this.controls[X]&&this.controls[X]._registerOnCollectionChange(()=>{}),delete this.controls[X],this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}setControl(X,B,oe={}){this.controls[X]&&this.controls[X]._registerOnCollectionChange(()=>{}),delete this.controls[X],B&&this.registerControl(X,B),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}contains(X){return this.controls.hasOwnProperty(X)&&this.controls[X].enabled}setValue(X,B={}){We(this,0,X),Object.keys(X).forEach(oe=>{we(this,!0,oe),this.controls[oe].setValue(X[oe],{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B)}patchValue(X,B={}){null!=X&&(Object.keys(X).forEach(oe=>{const Te=this.controls[oe];Te&&Te.patchValue(X[oe],{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B))}reset(X={},B={}){this._forEachChild((oe,Te)=>{oe.reset(X?X[Te]:null,{onlySelf:!0,emitEvent:B.emitEvent})}),this._updatePristine(B),this._updateTouched(B),this.updateValueAndValidity(B)}getRawValue(){return this._reduceChildren({},(X,B,oe)=>(X[oe]=B.getRawValue(),X))}_syncPendingControls(){let X=this._reduceChildren(!1,(B,oe)=>!!oe._syncPendingControls()||B);return X&&this.updateValueAndValidity({onlySelf:!0}),X}_forEachChild(X){Object.keys(this.controls).forEach(B=>{const oe=this.controls[B];oe&&X(oe,B)})}_setUpControls(){this._forEachChild(X=>{X.setParent(this),X._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(X){for(const[B,oe]of Object.entries(this.controls))if(this.contains(B)&&X(oe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(B,oe,Te)=>((oe.enabled||this.disabled)&&(B[Te]=oe.value),B))}_reduceChildren(X,B){let oe=X;return this._forEachChild((Te,Jt)=>{oe=B(oe,Te,Jt)}),oe}_allControlsDisabled(){for(const X of Object.keys(this.controls))if(this.controls[X].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(X){return this.controls.hasOwnProperty(X)?this.controls[X]:null}}class Kt extends on{}const $r=new b.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>nr}),nr="always";function Gs(W,X){return[...X.path,W]}function Ui(W,X,B=nr){Va(W,X),X.valueAccessor.writeValue(W.value),(W.disabled||"always"===B)&&X.valueAccessor.setDisabledState?.(W.disabled),function Mo(W,X){X.valueAccessor.registerOnChange(B=>{W._pendingValue=B,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&Ji(W,X)})}(W,X),function dr(W,X){const B=(oe,Te)=>{X.valueAccessor.writeValue(oe),Te&&X.viewToModelUpdate(oe)};W.registerOnChange(B),X._registerOnDestroy(()=>{W._unregisterOnChange(B)})}(W,X),function ps(W,X){X.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&Ji(W,X),"submit"!==W.updateOn&&W.markAsTouched()})}(W,X),function Ba(W,X){if(X.valueAccessor.setDisabledState){const B=oe=>{X.valueAccessor.setDisabledState(oe)};W.registerOnDisabledChange(B),X._registerOnDestroy(()=>{W._unregisterOnDisabledChange(B)})}}(W,X)}function as(W,X,B=!0){const oe=()=>{};X.valueAccessor&&(X.valueAccessor.registerOnChange(oe),X.valueAccessor.registerOnTouched(oe)),Vr(W,X),W&&(X._invokeOnDestroyCallbacks(),W._registerOnCollectionChange(()=>{}))}function Zo(W,X){W.forEach(B=>{B.registerOnValidatorChange&&B.registerOnValidatorChange(X)})}function Va(W,X){const B=Zn(W);null!==X.validator?W.setValidators(Dt(B,X.validator)):"function"==typeof B&&W.setValidators([B]);const oe=br(W);null!==X.asyncValidator?W.setAsyncValidators(Dt(oe,X.asyncValidator)):"function"==typeof oe&&W.setAsyncValidators([oe]);const Te=()=>W.updateValueAndValidity();Zo(X._rawValidators,Te),Zo(X._rawAsyncValidators,Te)}function Vr(W,X){let B=!1;if(null!==W){if(null!==X.validator){const Te=Zn(W);if(Array.isArray(Te)&&Te.length>0){const Jt=Te.filter(Gn=>Gn!==X.validator);Jt.length!==Te.length&&(B=!0,W.setValidators(Jt))}}if(null!==X.asyncValidator){const Te=br(W);if(Array.isArray(Te)&&Te.length>0){const Jt=Te.filter(Gn=>Gn!==X.asyncValidator);Jt.length!==Te.length&&(B=!0,W.setAsyncValidators(Jt))}}}const oe=()=>{};return Zo(X._rawValidators,oe),Zo(X._rawAsyncValidators,oe),B}function Ji(W,X){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),X.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function ya(W,X){const B=W.indexOf(X);B>-1&&W.splice(B,1)}function gs(W){return"object"==typeof W&&null!==W&&2===Object.keys(W).length&&"value"in W&&"disabled"in W}const ni=class extends Et{constructor(X=null,B,oe){super(Y(B),G(oe,B)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(X),this._setUpdateStrategy(B),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$(B)&&(B.nonNullable||B.initialValueIsDefault)&&(this.defaultValue=gs(X)?X.value:X)}setValue(X,B={}){this.value=this._pendingValue=X,this._onChange.length&&!1!==B.emitModelToViewChange&&this._onChange.forEach(oe=>oe(this.value,!1!==B.emitViewToModelChange)),this.updateValueAndValidity(B)}patchValue(X,B={}){this.setValue(X,B)}reset(X=this.defaultValue,B={}){this._applyFormState(X),this.markAsPristine(B),this.markAsUntouched(B),this.setValue(this.value,B),this._pendingChange=!1}_updateValue(){}_anyControls(X){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(X){this._onChange.push(X)}_unregisterOnChange(X){ya(this._onChange,X)}registerOnDisabledChange(X){this._onDisabledChange.push(X)}_unregisterOnDisabledChange(X){ya(this._onDisabledChange,X)}_forEachChild(X){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(X){gs(X)?(this.value=this._pendingValue=X.value,X.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=X}};let so=(()=>{class W extends vt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Gs(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let B;return function(Te){return(B||(B=b.n5z(W)))(Te||W)}}();static#t=this.\u0275dir=b.lG2({type:W,features:[b.qOj]})}return W})(),Qo=(()=>{class W{static#e=this.\u0275fac=function(oe){return new(oe||W)};static#t=this.\u0275dir=b.lG2({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return W})();const _l={provide:Ke,useExisting:(0,b.Gpc)(()=>oo),multi:!0};let oo=(()=>{class W extends Oe{writeValue(B){this.setProperty("value",B??"")}registerOnChange(B){this.onChange=oe=>{B(""==oe?null:parseFloat(oe))}}static#e=this.\u0275fac=function(){let B;return function(Te){return(B||(B=b.n5z(W)))(Te||W)}}();static#t=this.\u0275dir=b.lG2({type:W,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(oe,Te){1&oe&&b.NdJ("input",function(Gn){return Te.onChange(Gn.target.value)})("blur",function(){return Te.onTouched()})},features:[b._Bn([_l]),b.qOj]})}return W})(),ao=(()=>{class W{static#e=this.\u0275fac=function(oe){return new(oe||W)};static#t=this.\u0275mod=b.oAB({type:W});static#n=this.\u0275inj=b.cJS({})}return W})();const ls=new b.OlP("NgModelWithFormControlWarning"),co={provide:vt,useExisting:(0,b.Gpc)(()=>_i)};let _i=(()=>{class W extends vt{constructor(B,oe,Te){super(),this.callSetDisabledState=Te,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new b.vpe,this._setValidators(B),this._setAsyncValidators(oe)}ngOnChanges(B){this._checkFormPresent(),B.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(B){const oe=this.form.get(B.path);return Ui(oe,B,this.callSetDisabledState),oe.updateValueAndValidity({emitEvent:!1}),this.directives.push(B),oe}getControl(B){return this.form.get(B.path)}removeControl(B){as(B.control||null,B,!1),function rc(W,X){const B=W.indexOf(X);B>-1&&W.splice(B,1)}(this.directives,B)}addFormGroup(B){this._setUpFormContainer(B)}removeFormGroup(B){this._cleanUpFormContainer(B)}getFormGroup(B){return this.form.get(B.path)}addFormArray(B){this._setUpFormContainer(B)}removeFormArray(B){this._cleanUpFormContainer(B)}getFormArray(B){return this.form.get(B.path)}updateModel(B,oe){this.form.get(B.path).setValue(oe)}onSubmit(B){return this.submitted=!0,function nc(W,X){W._syncPendingControls(),X.forEach(B=>{const oe=B.control;"submit"===oe.updateOn&&oe._pendingChange&&(B.viewToModelUpdate(oe._pendingValue),oe._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(B),"dialog"===B?.target?.method}onReset(){this.resetForm()}resetForm(B=void 0){this.form.reset(B),this.submitted=!1}_updateDomValue(){this.directives.forEach(B=>{const oe=B.control,Te=this.form.get(B.path);oe!==Te&&(as(oe||null,B),(W=>W instanceof ni)(Te)&&(Ui(Te,B,this.callSetDisabledState),B.control=Te))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(B){const oe=this.form.get(B.path);(function io(W,X){Va(W,X)})(oe,B),oe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(B){if(this.form){const oe=this.form.get(B.path);oe&&function xo(W,X){return Vr(W,X)}(oe,B)&&oe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Va(this.form,this),this._oldForm&&Vr(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(oe){return new(oe||W)(b.Y36(_t,10),b.Y36(je,10),b.Y36($r,8))};static#t=this.\u0275dir=b.lG2({type:W,selectors:[["","formGroup",""]],hostBindings:function(oe,Te){1&oe&&b.NdJ("submit",function(Gn){return Te.onSubmit(Gn)})("reset",function(){return Te.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[b._Bn([co]),b.qOj,b.TTD]})}return W})();const Ro={provide:vt,useExisting:(0,b.Gpc)(()=>lo)};let lo=(()=>{class W extends so{constructor(B,oe,Te){super(),this.name=null,this._parent=B,this._setValidators(oe),this._setAsyncValidators(Te)}_checkParentType(){Un(this._parent)}static#e=this.\u0275fac=function(oe){return new(oe||W)(b.Y36(vt,13),b.Y36(_t,10),b.Y36(je,10))};static#t=this.\u0275dir=b.lG2({type:W,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[b._Bn([Ro]),b.qOj]})}return W})();const pr={provide:vt,useExisting:(0,b.Gpc)(()=>Ut)};let Ut=(()=>{class W extends vt{constructor(B,oe,Te){super(),this.name=null,this._parent=B,this._setValidators(oe),this._setAsyncValidators(Te)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Gs(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Un(this._parent)}static#e=this.\u0275fac=function(oe){return new(oe||W)(b.Y36(vt,13),b.Y36(_t,10),b.Y36(je,10))};static#t=this.\u0275dir=b.lG2({type:W,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[b._Bn([pr]),b.qOj]})}return W})();function Un(W){return!(W instanceof lo||W instanceof _i||W instanceof Ut)}const Tr={provide:At,useExisting:(0,b.Gpc)(()=>wi)};let wi=(()=>{class W extends At{set isDisabled(B){}static#e=this._ngModelWarningSentOnce=!1;constructor(B,oe,Te,Jt,Gn){super(),this._ngModelWarningConfig=Gn,this._added=!1,this.name=null,this.update=new b.vpe,this._ngModelWarningSent=!1,this._parent=B,this._setValidators(oe),this._setAsyncValidators(Te),this.valueAccessor=function cs(W,X){if(!X)return null;let B,oe,Te;return Array.isArray(X),X.forEach(Jt=>{Jt.constructor===ft?B=Jt:function Gi(W){return Object.getPrototypeOf(W.constructor)===Oe}(Jt)?oe=Jt:Te=Jt}),Te||oe||B||null}(0,Jt)}ngOnChanges(B){this._added||this._setUpControl(),function js(W,X){if(!W.hasOwnProperty("model"))return!1;const B=W.model;return!!B.isFirstChange()||!Object.is(X,B.currentValue)}(B,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(B){this.viewModel=B,this.update.emit(B)}get path(){return Gs(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(oe){return new(oe||W)(b.Y36(vt,13),b.Y36(_t,10),b.Y36(je,10),b.Y36(Ke,10),b.Y36(ls,8))};static#n=this.\u0275dir=b.lG2({type:W,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[b._Bn([Tr]),b.qOj,b.TTD]})}return W})();const uo={provide:Ke,useExisting:(0,b.Gpc)(()=>er),multi:!0};function qn(W,X){return null==W?`${X}`:(X&&"object"==typeof X&&(X="Object"),`${W}: ${X}`.slice(0,50))}let er=(()=>{class W extends Oe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(B){this._compareWith=B}writeValue(B){this.value=B;const Te=qn(this._getOptionId(B),B);this.setProperty("value",Te)}registerOnChange(B){this.onChange=oe=>{this.value=this._getOptionValue(oe),B(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(B){for(const oe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(oe),B))return oe;return null}_getOptionValue(B){const oe=function zr(W){return W.split(":")[0]}(B);return this._optionMap.has(oe)?this._optionMap.get(oe):B}static#e=this.\u0275fac=function(){let B;return function(Te){return(B||(B=b.n5z(W)))(Te||W)}}();static#t=this.\u0275dir=b.lG2({type:W,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(oe,Te){1&oe&&b.NdJ("change",function(Gn){return Te.onChange(Gn.target.value)})("blur",function(){return Te.onTouched()})},inputs:{compareWith:"compareWith"},features:[b._Bn([uo]),b.qOj]})}return W})(),ri=(()=>{class W{constructor(B,oe,Te){this._element=B,this._renderer=oe,this._select=Te,this._select&&(this.id=this._select._registerOption())}set ngValue(B){null!=this._select&&(this._select._optionMap.set(this.id,B),this._setElementValue(qn(this.id,B)),this._select.writeValue(this._select.value))}set value(B){this._setElementValue(B),this._select&&this._select.writeValue(this._select.value)}_setElementValue(B){this._renderer.setProperty(this._element.nativeElement,"value",B)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(oe){return new(oe||W)(b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(er,9))};static#t=this.\u0275dir=b.lG2({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return W})();const ms={provide:Ke,useExisting:(0,b.Gpc)(()=>_s),multi:!0};function Pn(W,X){return null==W?`${X}`:("string"==typeof X&&(X=`'${X}'`),X&&"object"==typeof X&&(X="Object"),`${W}: ${X}`.slice(0,50))}let _s=(()=>{class W extends Oe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(B){this._compareWith=B}writeValue(B){let oe;if(this.value=B,Array.isArray(B)){const Te=B.map(Jt=>this._getOptionId(Jt));oe=(Jt,Gn)=>{Jt._setSelected(Te.indexOf(Gn.toString())>-1)}}else oe=(Te,Jt)=>{Te._setSelected(!1)};this._optionMap.forEach(oe)}registerOnChange(B){this.onChange=oe=>{const Te=[],Jt=oe.selectedOptions;if(void 0!==Jt){const Gn=Jt;for(let es=0;es<Gn.length;es++){const Ai=this._getOptionValue(Gn[es].value);Te.push(Ai)}}else{const Gn=oe.options;for(let es=0;es<Gn.length;es++){const Ps=Gn[es];if(Ps.selected){const Ai=this._getOptionValue(Ps.value);Te.push(Ai)}}}this.value=Te,B(Te)}}_registerOption(B){const oe=(this._idCounter++).toString();return this._optionMap.set(oe,B),oe}_getOptionId(B){for(const oe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(oe)._value,B))return oe;return null}_getOptionValue(B){const oe=function Ws(W){return W.split(":")[0]}(B);return this._optionMap.has(oe)?this._optionMap.get(oe)._value:B}static#e=this.\u0275fac=function(){let B;return function(Te){return(B||(B=b.n5z(W)))(Te||W)}}();static#t=this.\u0275dir=b.lG2({type:W,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(oe,Te){1&oe&&b.NdJ("change",function(Gn){return Te.onChange(Gn.target)})("blur",function(){return Te.onTouched()})},inputs:{compareWith:"compareWith"},features:[b._Bn([ms]),b.qOj]})}return W})(),Wr=(()=>{class W{constructor(B,oe,Te){this._element=B,this._renderer=oe,this._select=Te,this._select&&(this.id=this._select._registerOption(this))}set ngValue(B){null!=this._select&&(this._value=B,this._setElementValue(Pn(this.id,B)),this._select.writeValue(this._select.value))}set value(B){this._select?(this._value=B,this._setElementValue(Pn(this.id,B)),this._select.writeValue(this._select.value)):this._setElementValue(B)}_setElementValue(B){this._renderer.setProperty(this._element.nativeElement,"value",B)}_setSelected(B){this._renderer.setProperty(this._element.nativeElement,"selected",B)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(oe){return new(oe||W)(b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(_s,9))};static#t=this.\u0275dir=b.lG2({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return W})();let li=(()=>{class W{constructor(){this._validator=Fe}ngOnChanges(B){if(this.inputName in B){const oe=this.normalizeInput(B[this.inputName].currentValue);this._enabled=this.enabled(oe),this._validator=this._enabled?this.createValidator(oe):Fe,this._onChange&&this._onChange()}}validate(B){return this._validator(B)}registerOnValidatorChange(B){this._onChange=B}enabled(B){return null!=B}static#e=this.\u0275fac=function(oe){return new(oe||W)};static#t=this.\u0275dir=b.lG2({type:W,features:[b.TTD]})}return W})();const ho={provide:_t,useExisting:(0,b.Gpc)(()=>Hn),multi:!0};let Hn=(()=>{class W extends li{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=b.VuI,this.createValidator=B=>dt}enabled(B){return B}static#e=this.\u0275fac=function(){let B;return function(Te){return(B||(B=b.n5z(W)))(Te||W)}}();static#t=this.\u0275dir=b.lG2({type:W,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(oe,Te){2&oe&&b.uIk("required",Te._enabled?"":null)},inputs:{required:"required"},features:[b._Bn([ho]),b.qOj]})}return W})();const Ii={provide:_t,useExisting:(0,b.Gpc)(()=>Rs),multi:!0};let Rs=(()=>{class W extends li{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=B=>function Xi(W){return"number"==typeof W?W:parseInt(W,10)}(B),this.createValidator=B=>jn(B)}static#e=this.\u0275fac=function(){let B;return function(Te){return(B||(B=b.n5z(W)))(Te||W)}}();static#t=this.\u0275dir=b.lG2({type:W,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(oe,Te){2&oe&&b.uIk("minlength",Te._enabled?Te.minlength:null)},inputs:{minlength:"minlength"},features:[b._Bn([Ii]),b.qOj]})}return W})(),qs=(()=>{class W{static#e=this.\u0275fac=function(oe){return new(oe||W)};static#t=this.\u0275mod=b.oAB({type:W});static#n=this.\u0275inj=b.cJS({imports:[ao]})}return W})();class po extends Et{constructor(X,B,oe){super(Y(B),G(oe,B)),this.controls=X,this._initObservables(),this._setUpdateStrategy(B),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(X){return this.controls[this._adjustIndex(X)]}push(X,B={}){this.controls.push(X),this._registerControl(X),this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}insert(X,B,oe={}){this.controls.splice(X,0,B),this._registerControl(B),this.updateValueAndValidity({emitEvent:oe.emitEvent})}removeAt(X,B={}){let oe=this._adjustIndex(X);oe<0&&(oe=0),this.controls[oe]&&this.controls[oe]._registerOnCollectionChange(()=>{}),this.controls.splice(oe,1),this.updateValueAndValidity({emitEvent:B.emitEvent})}setControl(X,B,oe={}){let Te=this._adjustIndex(X);Te<0&&(Te=0),this.controls[Te]&&this.controls[Te]._registerOnCollectionChange(()=>{}),this.controls.splice(Te,1),B&&(this.controls.splice(Te,0,B),this._registerControl(B)),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(X,B={}){We(this,0,X),X.forEach((oe,Te)=>{we(this,!1,Te),this.at(Te).setValue(oe,{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B)}patchValue(X,B={}){null!=X&&(X.forEach((oe,Te)=>{this.at(Te)&&this.at(Te).patchValue(oe,{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B))}reset(X=[],B={}){this._forEachChild((oe,Te)=>{oe.reset(X[Te],{onlySelf:!0,emitEvent:B.emitEvent})}),this._updatePristine(B),this._updateTouched(B),this.updateValueAndValidity(B)}getRawValue(){return this.controls.map(X=>X.getRawValue())}clear(X={}){this.controls.length<1||(this._forEachChild(B=>B._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:X.emitEvent}))}_adjustIndex(X){return X<0?X+this.length:X}_syncPendingControls(){let X=this.controls.reduce((B,oe)=>!!oe._syncPendingControls()||B,!1);return X&&this.updateValueAndValidity({onlySelf:!0}),X}_forEachChild(X){this.controls.forEach((B,oe)=>{X(B,oe)})}_updateValue(){this.value=this.controls.filter(X=>X.enabled||this.disabled).map(X=>X.value)}_anyControls(X){return this.controls.some(B=>B.enabled&&X(B))}_setUpControls(){this._forEachChild(X=>this._registerControl(X))}_allControlsDisabled(){for(const X of this.controls)if(X.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(X){X.setParent(this),X._registerOnCollectionChange(this._onCollectionChange)}_find(X){return this.at(X)??null}}function sc(W){return!!W&&(void 0!==W.asyncValidators||void 0!==W.validators||void 0!==W.updateOn)}let Xo=(()=>{class W{constructor(){this.useNonNullable=!1}get nonNullable(){const B=new W;return B.useNonNullable=!0,B}group(B,oe=null){const Te=this._reduceControls(B);let Jt={};return sc(oe)?Jt=oe:null!==oe&&(Jt.validators=oe.validator,Jt.asyncValidators=oe.asyncValidator),new on(Te,Jt)}record(B,oe=null){const Te=this._reduceControls(B);return new Kt(Te,oe)}control(B,oe,Te){let Jt={};return this.useNonNullable?(sc(oe)?Jt=oe:(Jt.validators=oe,Jt.asyncValidators=Te),new ni(B,{...Jt,nonNullable:!0})):new ni(B,oe,Te)}array(B,oe,Te){const Jt=B.map(Gn=>this._createControl(Gn));return new po(Jt,oe,Te)}_reduceControls(B){const oe={};return Object.keys(B).forEach(Te=>{oe[Te]=this._createControl(B[Te])}),oe}_createControl(B){return B instanceof ni||B instanceof Et?B:Array.isArray(B)?this.control(B[0],B.length>1?B[1]:null,B.length>2?B[2]:null):this.control(B)}static#e=this.\u0275fac=function(oe){return new(oe||W)};static#t=this.\u0275prov=b.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})(),go=(()=>{class W{static withConfig(B){return{ngModule:W,providers:[{provide:$r,useValue:B.callSetDisabledState??nr}]}}static#e=this.\u0275fac=function(oe){return new(oe||W)};static#t=this.\u0275mod=b.oAB({type:W});static#n=this.\u0275inj=b.cJS({imports:[qs]})}return W})(),Ia=(()=>{class W{static withConfig(B){return{ngModule:W,providers:[{provide:ls,useValue:B.warnOnNgModelWithFormControl??"always"},{provide:$r,useValue:B.callSetDisabledState??nr}]}}static#e=this.\u0275fac=function(oe){return new(oe||W)};static#t=this.\u0275mod=b.oAB({type:W});static#n=this.\u0275inj=b.cJS({imports:[qs]})}return W})()},2614:()=>{const Ht=":";const Zn=function(De,...Pe){if(Zn.translate){const at=Zn.translate(De,Pe);De=at[0],Pe=at[1]}let ke=Fr(De[0],De.raw[0]);for(let at=1;at<De.length;at++)ke+=Pe[at-1]+Fr(De[at],De.raw[at]);return ke},br=":";function Fr(De,Pe){return Pe.charAt(0)===br?De.substring(function $e(De,Pe){for(let ke=1,at=1;ke<De.length;ke++,at++)if("\\"===Pe[at])at++;else if(De[ke]===Ht)return ke;throw new Error(`Unterminated $localize metadata block in "${Pe}".`)}(De,Pe)+1):De}globalThis.$localize=Zn},6593:(Ht,Ge,K)=>{K.d(Ge,{Dx:()=>At,H7:()=>Xn,b2:()=>De,q6:()=>Dt,se:()=>ve});var b=K(9468),re=K(6814);class u extends re.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class be extends u{static makeCurrent(){(0,re.HT)(new be)}onAndCancel(G,q,$){return G.addEventListener(q,$),()=>{G.removeEventListener(q,$)}}dispatchEvent(G,q){G.dispatchEvent(q)}remove(G){G.parentNode&&G.parentNode.removeChild(G)}createElement(G,q){return(q=q||this.getDefaultDocument()).createElement(G)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(G){return G.nodeType===Node.ELEMENT_NODE}isShadowRoot(G){return G instanceof DocumentFragment}getGlobalEventTarget(G,q){return"window"===q?window:"document"===q?G:"body"===q?G.body:null}getBaseHref(G){const q=function fe(){return ue=ue||document.querySelector("base"),ue?ue.getAttribute("href"):null}();return null==q?null:function Qe(V){Ee=Ee||document.createElement("a"),Ee.setAttribute("href",V);const G=Ee.pathname;return"/"===G.charAt(0)?G:`/${G}`}(q)}resetBaseElement(){ue=null}getUserAgent(){return window.navigator.userAgent}getCookie(G){return(0,re.Mx)(document.cookie,G)}}let Ee,ue=null,ce=(()=>{class V{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function($){return new($||V)};static#t=this.\u0275prov=b.Yz7({token:V,factory:V.\u0275fac})}return V})();const de=new b.OlP("EventManagerPlugins");let Me=(()=>{class V{constructor(q,$){this._zone=$,this._eventNameToPlugin=new Map,q.forEach(we=>{we.manager=this}),this._plugins=q.slice().reverse()}addEventListener(q,$,we){return this._findPluginFor($).addEventListener(q,$,we)}getZone(){return this._zone}_findPluginFor(q){let $=this._eventNameToPlugin.get(q);if($)return $;if($=this._plugins.find(We=>We.supports(q)),!$)throw new b.vHH(5101,!1);return this._eventNameToPlugin.set(q,$),$}static#e=this.\u0275fac=function($){return new($||V)(b.LFG(de),b.LFG(b.R0b))};static#t=this.\u0275prov=b.Yz7({token:V,factory:V.\u0275fac})}return V})();class Se{constructor(G){this._doc=G}}const Oe="ng-app-id";let Ke=(()=>{class V{constructor(q,$,we,We={}){this.doc=q,this.appId=$,this.nonce=we,this.platformId=We,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,re.PM)(We),this.resetHostNodes()}addStyles(q){for(const $ of q)1===this.changeUsageCount($,1)&&this.onStyleAdded($)}removeStyles(q){for(const $ of q)this.changeUsageCount($,-1)<=0&&this.onStyleRemoved($)}ngOnDestroy(){const q=this.styleNodesInDOM;q&&(q.forEach($=>$.remove()),q.clear());for(const $ of this.getAllStyles())this.onStyleRemoved($);this.resetHostNodes()}addHost(q){this.hostNodes.add(q);for(const $ of this.getAllStyles())this.addStyleToHost(q,$)}removeHost(q){this.hostNodes.delete(q)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(q){for(const $ of this.hostNodes)this.addStyleToHost($,q)}onStyleRemoved(q){const $=this.styleRef;$.get(q)?.elements?.forEach(we=>we.remove()),$.delete(q)}collectServerRenderedStyles(){const q=this.doc.head?.querySelectorAll(`style[${Oe}="${this.appId}"]`);if(q?.length){const $=new Map;return q.forEach(we=>{null!=we.textContent&&$.set(we.textContent,we)}),$}return null}changeUsageCount(q,$){const we=this.styleRef;if(we.has(q)){const We=we.get(q);return We.usage+=$,We.usage}return we.set(q,{usage:$,elements:[]}),$}getStyleElement(q,$){const we=this.styleNodesInDOM,We=we?.get($);if(We?.parentNode===q)return we.delete($),We.removeAttribute(Oe),We;{const Et=this.doc.createElement("style");return this.nonce&&Et.setAttribute("nonce",this.nonce),Et.textContent=$,this.platformIsServer&&Et.setAttribute(Oe,this.appId),Et}}addStyleToHost(q,$){const we=this.getStyleElement(q,$);q.appendChild(we);const We=this.styleRef,Et=We.get($)?.elements;Et?Et.push(we):We.set($,{elements:[we],usage:1})}resetHostNodes(){const q=this.hostNodes;q.clear(),q.add(this.doc.head)}static#e=this.\u0275fac=function($){return new($||V)(b.LFG(re.K0),b.LFG(b.AFp),b.LFG(b.Ojb,8),b.LFG(b.Lbi))};static#t=this.\u0275prov=b.Yz7({token:V,factory:V.\u0275fac})}return V})();const Tt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ft=/%COMP%/g,st=new b.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function je(V,G){return G.map(q=>q.replace(Ft,V))}let ve=(()=>{class V{constructor(q,$,we,We,Et,on,pn,Mn=null){this.eventManager=q,this.sharedStylesHost=$,this.appId=we,this.removeStylesOnCompDestroy=We,this.doc=Et,this.platformId=on,this.ngZone=pn,this.nonce=Mn,this.rendererByCompId=new Map,this.platformIsServer=(0,re.PM)(on),this.defaultRenderer=new Je(q,Et,pn,this.platformIsServer)}createRenderer(q,$){if(!q||!$)return this.defaultRenderer;this.platformIsServer&&$.encapsulation===b.ifc.ShadowDom&&($={...$,encapsulation:b.ifc.Emulated});const we=this.getOrCreateRenderer(q,$);return we instanceof jn?we.applyToHost(q):we instanceof Cn&&we.applyStyles(),we}getOrCreateRenderer(q,$){const we=this.rendererByCompId;let We=we.get($.id);if(!We){const Et=this.doc,on=this.ngZone,pn=this.eventManager,Mn=this.sharedStylesHost,Kt=this.removeStylesOnCompDestroy,Fn=this.platformIsServer;switch($.encapsulation){case b.ifc.Emulated:We=new jn(pn,Mn,$,this.appId,Kt,Et,on,Fn);break;case b.ifc.ShadowDom:return new hn(pn,Mn,q,$,Et,on,this.nonce,Fn);default:We=new Cn(pn,Mn,$,Kt,Et,on,Fn)}we.set($.id,We)}return We}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function($){return new($||V)(b.LFG(Me),b.LFG(Ke),b.LFG(b.AFp),b.LFG(st),b.LFG(re.K0),b.LFG(b.Lbi),b.LFG(b.R0b),b.LFG(b.Ojb))};static#t=this.\u0275prov=b.Yz7({token:V,factory:V.\u0275fac})}return V})();class Je{constructor(G,q,$,we){this.eventManager=G,this.doc=q,this.ngZone=$,this.platformIsServer=we,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(G,q){return q?this.doc.createElementNS(Tt[q]||q,G):this.doc.createElement(G)}createComment(G){return this.doc.createComment(G)}createText(G){return this.doc.createTextNode(G)}appendChild(G,q){(dt(G)?G.content:G).appendChild(q)}insertBefore(G,q,$){G&&(dt(G)?G.content:G).insertBefore(q,$)}removeChild(G,q){G&&G.removeChild(q)}selectRootElement(G,q){let $="string"==typeof G?this.doc.querySelector(G):G;if(!$)throw new b.vHH(-5104,!1);return q||($.textContent=""),$}parentNode(G){return G.parentNode}nextSibling(G){return G.nextSibling}setAttribute(G,q,$,we){if(we){q=we+":"+q;const We=Tt[we];We?G.setAttributeNS(We,q,$):G.setAttribute(q,$)}else G.setAttribute(q,$)}removeAttribute(G,q,$){if($){const we=Tt[$];we?G.removeAttributeNS(we,q):G.removeAttribute(`${$}:${q}`)}else G.removeAttribute(q)}addClass(G,q){G.classList.add(q)}removeClass(G,q){G.classList.remove(q)}setStyle(G,q,$,we){we&(b.JOm.DashCase|b.JOm.Important)?G.style.setProperty(q,$,we&b.JOm.Important?"important":""):G.style[q]=$}removeStyle(G,q,$){$&b.JOm.DashCase?G.style.removeProperty(q):G.style[q]=""}setProperty(G,q,$){G[q]=$}setValue(G,q){G.nodeValue=q}listen(G,q,$){if("string"==typeof G&&!(G=(0,re.q)().getGlobalEventTarget(this.doc,G)))throw new Error(`Unsupported event target ${G} for event ${q}`);return this.eventManager.addEventListener(G,q,this.decoratePreventDefault($))}decoratePreventDefault(G){return q=>{if("__ngUnwrap__"===q)return G;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>G(q)):G(q))&&q.preventDefault()}}}function dt(V){return"TEMPLATE"===V.tagName&&void 0!==V.content}class hn extends Je{constructor(G,q,$,we,We,Et,on,pn){super(G,We,Et,pn),this.sharedStylesHost=q,this.hostEl=$,this.shadowRoot=$.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Mn=je(we.id,we.styles);for(const Kt of Mn){const Fn=document.createElement("style");on&&Fn.setAttribute("nonce",on),Fn.textContent=Kt,this.shadowRoot.appendChild(Fn)}}nodeOrShadowRoot(G){return G===this.hostEl?this.shadowRoot:G}appendChild(G,q){return super.appendChild(this.nodeOrShadowRoot(G),q)}insertBefore(G,q,$){return super.insertBefore(this.nodeOrShadowRoot(G),q,$)}removeChild(G,q){return super.removeChild(this.nodeOrShadowRoot(G),q)}parentNode(G){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(G)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Cn extends Je{constructor(G,q,$,we,We,Et,on,pn){super(G,We,Et,on),this.sharedStylesHost=q,this.removeStylesOnCompDestroy=we,this.styles=pn?je(pn,$.styles):$.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class jn extends Cn{constructor(G,q,$,we,We,Et,on,pn){const Mn=we+"-"+$.id;super(G,q,$,We,Et,on,pn,Mn),this.contentAttr=function yt(V){return"_ngcontent-%COMP%".replace(Ft,V)}(Mn),this.hostAttr=function _t(V){return"_nghost-%COMP%".replace(Ft,V)}(Mn)}applyToHost(G){this.applyStyles(),this.setAttribute(G,this.hostAttr,"")}createElement(G,q){const $=super.createElement(G,q);return super.setAttribute($,this.contentAttr,""),$}}let cr=(()=>{class V extends Se{constructor(q){super(q)}supports(q){return!0}addEventListener(q,$,we){return q.addEventListener($,we,!1),()=>this.removeEventListener(q,$,we)}removeEventListener(q,$,we){return q.removeEventListener($,we)}static#e=this.\u0275fac=function($){return new($||V)(b.LFG(re.K0))};static#t=this.\u0275prov=b.Yz7({token:V,factory:V.\u0275fac})}return V})();const vr=["alt","control","meta","shift"],Fe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$e={alt:V=>V.altKey,control:V=>V.ctrlKey,meta:V=>V.metaKey,shift:V=>V.shiftKey};let Xe=(()=>{class V extends Se{constructor(q){super(q)}supports(q){return null!=V.parseEventName(q)}addEventListener(q,$,we){const We=V.parseEventName($),Et=V.eventCallback(We.fullKey,we,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,re.q)().onAndCancel(q,We.domEventName,Et))}static parseEventName(q){const $=q.toLowerCase().split("."),we=$.shift();if(0===$.length||"keydown"!==we&&"keyup"!==we)return null;const We=V._normalizeKey($.pop());let Et="",on=$.indexOf("code");if(on>-1&&($.splice(on,1),Et="code."),vr.forEach(Mn=>{const Kt=$.indexOf(Mn);Kt>-1&&($.splice(Kt,1),Et+=Mn+".")}),Et+=We,0!=$.length||0===We.length)return null;const pn={};return pn.domEventName=we,pn.fullKey=Et,pn}static matchEventFullKeyCode(q,$){let we=Fe[q.key]||q.key,We="";return $.indexOf("code.")>-1&&(we=q.code,We="code."),!(null==we||!we)&&(we=we.toLowerCase()," "===we?we="space":"."===we&&(we="dot"),vr.forEach(Et=>{Et!==we&&(0,$e[Et])(q)&&(We+=Et+".")}),We+=we,We===$)}static eventCallback(q,$,we){return We=>{V.matchEventFullKeyCode(We,q)&&we.runGuarded(()=>$(We))}}static _normalizeKey(q){return"esc"===q?"escape":q}static#e=this.\u0275fac=function($){return new($||V)(b.LFG(re.K0))};static#t=this.\u0275prov=b.Yz7({token:V,factory:V.\u0275fac})}return V})();const Dt=(0,b.eFA)(b._c5,"browser",[{provide:b.Lbi,useValue:re.bD},{provide:b.g9A,useValue:function Gt(){be.makeCurrent()},multi:!0},{provide:re.K0,useFactory:function yn(){return(0,b.RDi)(document),document},deps:[]}]),Zn=new b.OlP(""),br=[{provide:b.rWj,useClass:class Re{addToWindow(G){b.dqk.getAngularTestability=($,we=!0)=>{const We=G.findTestabilityInTree($,we);if(null==We)throw new b.vHH(5103,!1);return We},b.dqk.getAllAngularTestabilities=()=>G.getAllTestabilities(),b.dqk.getAllAngularRootElements=()=>G.getAllRootElements(),b.dqk.frameworkStabilizers||(b.dqk.frameworkStabilizers=[]),b.dqk.frameworkStabilizers.push($=>{const we=b.dqk.getAllAngularTestabilities();let We=we.length,Et=!1;const on=function(pn){Et=Et||pn,We--,0==We&&$(Et)};we.forEach(pn=>{pn.whenStable(on)})})}findTestabilityInTree(G,q,$){return null==q?null:G.getTestability(q)??($?(0,re.q)().isShadowRoot(q)?this.findTestabilityInTree(G,q.host,!0):this.findTestabilityInTree(G,q.parentElement,!0):null)}},deps:[]},{provide:b.lri,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]},{provide:b.dDg,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]}],Fr=[{provide:b.zSh,useValue:"root"},{provide:b.qLn,useFactory:function fn(){return new b.qLn},deps:[]},{provide:de,useClass:cr,multi:!0,deps:[re.K0,b.R0b,b.Lbi]},{provide:de,useClass:Xe,multi:!0,deps:[re.K0]},ve,Ke,Me,{provide:b.FYo,useExisting:ve},{provide:re.JF,useClass:ce,deps:[]},[]];let De=(()=>{class V{constructor(q){}static withServerTransition(q){return{ngModule:V,providers:[{provide:b.AFp,useValue:q.appId}]}}static#e=this.\u0275fac=function($){return new($||V)(b.LFG(Zn,12))};static#t=this.\u0275mod=b.oAB({type:V});static#n=this.\u0275inj=b.cJS({providers:[...Fr,...br],imports:[re.ez,b.hGG]})}return V})(),At=(()=>{class V{constructor(q){this._doc=q}getTitle(){return this._doc.title}setTitle(q){this._doc.title=q||""}static#e=this.\u0275fac=function($){return new($||V)(b.LFG(re.K0))};static#t=this.\u0275prov=b.Yz7({token:V,factory:function($){let we=null;return we=$?new $:function vt(){return new At((0,b.LFG)(re.K0))}(),we},providedIn:"root"})}return V})();typeof window<"u"&&window;let Xn=(()=>{class V{static#e=this.\u0275fac=function($){return new($||V)};static#t=this.\u0275prov=b.Yz7({token:V,factory:function($){let we=null;return we=$?new($||V):b.LFG(pi),we},providedIn:"root"})}return V})(),pi=(()=>{class V extends Xn{constructor(q){super(),this._doc=q}sanitize(q,$){if(null==$)return null;switch(q){case b.q3G.NONE:return $;case b.q3G.HTML:return(0,b.qzn)($,"HTML")?(0,b.z3N)($):(0,b.EiD)(this._doc,String($)).toString();case b.q3G.STYLE:return(0,b.qzn)($,"Style")?(0,b.z3N)($):$;case b.q3G.SCRIPT:if((0,b.qzn)($,"Script"))return(0,b.z3N)($);throw new b.vHH(5200,!1);case b.q3G.URL:return(0,b.qzn)($,"URL")?(0,b.z3N)($):(0,b.mCW)(String($));case b.q3G.RESOURCE_URL:if((0,b.qzn)($,"ResourceURL"))return(0,b.z3N)($);throw new b.vHH(5201,!1);default:throw new b.vHH(5202,!1)}}bypassSecurityTrustHtml(q){return(0,b.JVY)(q)}bypassSecurityTrustStyle(q){return(0,b.L6k)(q)}bypassSecurityTrustScript(q){return(0,b.eBb)(q)}bypassSecurityTrustUrl(q){return(0,b.LAX)(q)}bypassSecurityTrustResourceUrl(q){return(0,b.pB0)(q)}static#e=this.\u0275fac=function($){return new($||V)(b.LFG(re.K0))};static#t=this.\u0275prov=b.Yz7({token:V,factory:function($){let we=null;return we=$?new $:function xr(V){return new pi(V.get(re.K0))}(b.LFG(b.zs3)),we},providedIn:"root"})}return V})()},6024:(Ht,Ge,K)=>{K.d(Ge,{gz:()=>pr,m2:()=>$s,F0:()=>Ks,rH:()=>Ei,Bz:()=>mu,lC:()=>ri});var b=K(9468),re=K(5592),u=K(4674),ue=K(2459),fe=K(2096),Ee=K(5619),Qe=K(7453),Re=K(2737),ce=K(7400),de=K(9940),Me=K(2714),Se=K(8251),Oe=K(7103);function Ke(...C){const x=(0,de.yG)(C),D=(0,de.jO)(C),{args:P,keys:j}=(0,Qe.D)(C);if(0===P.length)return(0,ue.D)([],x);const se=new re.y(function Tt(C,x,D=Re.y){return P=>{Ft(x,()=>{const{length:j}=C,se=new Array(j);let _e=j,ze=j;for(let He=0;He<j;He++)Ft(x,()=>{const zt=(0,ue.D)(C[He],x);let Ln=!1;zt.subscribe((0,Se.x)(P,Mr=>{se[He]=Mr,Ln||(Ln=!0,ze--),ze||P.next(D(se.slice()))},()=>{--_e||P.complete()}))},P)},P)}}(P,x,j?_e=>(0,Me.n)(j,_e):Re.y));return D?se.pipe((0,ce.Z)(D)):se}function Ft(C,x,D){C?(0,Oe.f)(D,C,x):x()}var Nt=K(6973),Dn=K(5211),Ot=K(4829);function ft(C){return new re.y(x=>{(0,Ot.Xf)(C()).subscribe(x)})}var st=K(8407);function yt(C,x){const D=(0,u.m)(C)?C:()=>C,P=j=>j.error(D());return new re.y(x?j=>x.schedule(P,0,j):P)}var _t=K(6232),je=K(7394),ve=K(9360);function Je(){return(0,ve.e)((C,x)=>{let D=null;C._refCount++;const P=(0,Se.x)(x,void 0,void 0,void 0,()=>{if(!C||C._refCount<=0||0<--C._refCount)return void(D=null);const j=C._connection,se=D;D=null,j&&(!se||j===se)&&j.unsubscribe(),x.unsubscribe()});C.subscribe(P),P.closed||(D=C.connect())})}class mt extends re.y{constructor(x,D){super(),this.source=x,this.subjectFactory=D,this._subject=null,this._refCount=0,this._connection=null,(0,ve.A)(x)&&(this.lift=x.lift)}_subscribe(x){return this.getSubject().subscribe(x)}getSubject(){const x=this._subject;return(!x||x.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:x}=this;this._subject=this._connection=null,x?.unsubscribe()}connect(){let x=this._connection;if(!x){x=this._connection=new je.w0;const D=this.getSubject();x.add(this.source.subscribe((0,Se.x)(D,void 0,()=>{this._teardown(),D.complete()},P=>{this._teardown(),D.error(P)},()=>this._teardown()))),x.closed&&(this._connection=null,x=je.w0.EMPTY)}return x}refCount(){return Je()(this)}}var kn=K(8645),dt=K(6814),hn=K(7398),Cn=K(4664),jn=K(8180),cr=K(7921),vr=K(2181),Fe=K(1631);function $e(C){return(0,ve.e)((x,D)=>{let P=!1;x.subscribe((0,Se.x)(D,j=>{P=!0,D.next(j)},()=>{P||D.next(C),D.complete()}))})}function Xe(C=Ue){return(0,ve.e)((x,D)=>{let P=!1;x.subscribe((0,Se.x)(D,j=>{P=!0,D.next(j)},()=>P?D.complete():D.error(C())))})}function Ue(){return new Nt.K}function rt(C,x){const D=arguments.length>=2;return P=>P.pipe(C?(0,vr.h)((j,se)=>C(j,se,P)):Re.y,(0,jn.q)(1),D?$e(x):Xe(()=>new Nt.K))}function wt(C,x){return(0,u.m)(x)?(0,Fe.z)(C,x,1):(0,Fe.z)(C,1)}var kt=K(9397);function Gt(C){return(0,ve.e)((x,D)=>{let se,P=null,j=!1;P=x.subscribe((0,Se.x)(D,void 0,void 0,_e=>{se=(0,Ot.Xf)(C(_e,Gt(C)(x))),P?(P.unsubscribe(),P=null,se.subscribe(D)):j=!0})),j&&(P.unsubscribe(),P=null,se.subscribe(D))})}function dn(C){return C<=0?()=>_t.E:(0,ve.e)((x,D)=>{let P=[];x.subscribe((0,Se.x)(D,j=>{P.push(j),C<P.length&&P.shift()},()=>{for(const j of P)D.next(j);D.complete()},void 0,()=>{P=null}))})}var Zn=K(975);function br(C){return(0,ve.e)((x,D)=>{try{x.subscribe(D)}finally{D.add(C)}})}var Fr=K(9773),De=K(7537),Pe=K(6593);const ke="primary",at=Symbol("RouteTitle");class vt{constructor(x){this.params=x||{}}has(x){return Object.prototype.hasOwnProperty.call(this.params,x)}get(x){if(this.has(x)){const D=this.params[x];return Array.isArray(D)?D[0]:D}return null}getAll(x){if(this.has(x)){const D=this.params[x];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function At(C){return new vt(C)}function Ir(C,x,D){const P=D.path.split("/");if(P.length>C.length||"full"===D.pathMatch&&(x.hasChildren()||P.length<C.length))return null;const j={};for(let se=0;se<P.length;se++){const _e=P[se],ze=C[se];if(_e.startsWith(":"))j[_e.substring(1)]=ze;else if(_e!==ze.path)return null}return{consumed:C.slice(0,P.length),posParams:j}}function sn(C,x){const D=C?Object.keys(C):void 0,P=x?Object.keys(x):void 0;if(!D||!P||D.length!=P.length)return!1;let j;for(let se=0;se<D.length;se++)if(j=D[se],!Qt(C[j],x[j]))return!1;return!0}function Qt(C,x){if(Array.isArray(C)&&Array.isArray(x)){if(C.length!==x.length)return!1;const D=[...C].sort(),P=[...x].sort();return D.every((j,se)=>P[se]===j)}return C===x}function wn(C){return C.length>0?C[C.length-1]:null}function Jn(C){return function be(C){return!!C&&(C instanceof re.y||(0,u.m)(C.lift)&&(0,u.m)(C.subscribe))}(C)?C:(0,b.QGY)(C)?(0,ue.D)(Promise.resolve(C)):(0,fe.of)(C)}const en={exact:function lr(C,x,D){if(!nt(C.segments,x.segments)||!fi(C.segments,x.segments,D)||C.numberOfChildren!==x.numberOfChildren)return!1;for(const P in x.children)if(!C.children[P]||!lr(C.children[P],x.children[P],D))return!1;return!0},subset:ur},Or={exact:function mn(C,x){return sn(C,x)},subset:function Yn(C,x){return Object.keys(x).length<=Object.keys(C).length&&Object.keys(x).every(D=>Qt(C[D],x[D]))},ignored:()=>!0};function Er(C,x,D){return en[D.paths](C.root,x.root,D.matrixParams)&&Or[D.queryParams](C.queryParams,x.queryParams)&&!("exact"===D.fragment&&C.fragment!==x.fragment)}function ur(C,x,D){return zn(C,x,x.segments,D)}function zn(C,x,D,P){if(C.segments.length>D.length){const j=C.segments.slice(0,D.length);return!(!nt(j,D)||x.hasChildren()||!fi(j,D,P))}if(C.segments.length===D.length){if(!nt(C.segments,D)||!fi(C.segments,D,P))return!1;for(const j in x.children)if(!C.children[j]||!ur(C.children[j],x.children[j],P))return!1;return!0}{const j=D.slice(0,C.segments.length),se=D.slice(C.segments.length);return!!(nt(C.segments,j)&&fi(C.segments,j,P)&&C.children[ke])&&zn(C.children[ke],x,se,P)}}function fi(C,x,D){return x.every((P,j)=>Or[D](C[j].parameters,P.parameters))}class xn{constructor(x=new Xn([],{}),D={},P=null){this.root=x,this.queryParams=D,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=At(this.queryParams)),this._queryParamMap}toString(){return qt.serialize(this)}}class Xn{constructor(x,D){this.segments=x,this.children=D,this.parent=null,Object.values(D).forEach(P=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zt(this)}}class xr{constructor(x,D){this.path=x,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=At(this.parameters)),this._parameterMap}toString(){return We(this)}}function nt(C,x){return C.length===x.length&&C.every((D,P)=>D.path===x[P].path)}let Ze=(()=>{class C{static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=b.Yz7({token:C,factory:function(){return new It},providedIn:"root"})}return C})();class It{parse(x){const D=new as(x);return new xn(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(x){const D=`/${Wn(x.root,!0)}`,P=function on(C){const x=Object.keys(C).map(D=>{const P=C[D];return Array.isArray(P)?P.map(j=>`${V(D)}=${V(j)}`).join("&"):`${V(D)}=${V(P)}`}).filter(D=>!!D);return x.length?`?${x.join("&")}`:""}(x.queryParams);return`${D}${P}${"string"==typeof x.fragment?`#${function G(C){return encodeURI(C)}(x.fragment)}`:""}`}}const qt=new It;function Zt(C){return C.segments.map(x=>We(x)).join("/")}function Wn(C,x){if(!C.hasChildren())return Zt(C);if(x){const D=C.children[ke]?Wn(C.children[ke],!1):"",P=[];return Object.entries(C.children).forEach(([j,se])=>{j!==ke&&P.push(`${j}:${Wn(se,!1)}`)}),P.length>0?`${D}(${P.join("//")})`:D}{const D=function Ce(C,x){let D=[];return Object.entries(C.children).forEach(([P,j])=>{P===ke&&(D=D.concat(x(j,P)))}),Object.entries(C.children).forEach(([P,j])=>{P!==ke&&(D=D.concat(x(j,P)))}),D}(C,(P,j)=>j===ke?[Wn(C.children[ke],!1)]:[`${j}:${Wn(P,!1)}`]);return 1===Object.keys(C.children).length&&null!=C.children[ke]?`${Zt(C)}/${D[0]}`:`${Zt(C)}/(${D.join("//")})`}}function Y(C){return encodeURIComponent(C).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function V(C){return Y(C).replace(/%3B/gi,";")}function q(C){return Y(C).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $(C){return decodeURIComponent(C)}function we(C){return $(C.replace(/\+/g,"%20"))}function We(C){return`${q(C.path)}${function Et(C){return Object.keys(C).map(x=>`;${q(x)}=${q(C[x])}`).join("")}(C.parameters)}`}const pn=/^[^\/()?;#]+/;function Mn(C){const x=C.match(pn);return x?x[0]:""}const Kt=/^[^\/()?;=#]+/,$r=/^[^=?&#]+/,Gs=/^[^&#]+/;class as{constructor(x){this.url=x,this.remaining=x}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xn([],{}):new Xn([],this.parseChildren())}parseQueryParams(){const x={};if(this.consumeOptional("?"))do{this.parseQueryParam(x)}while(this.consumeOptional("&"));return x}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const x=[];for(this.peekStartsWith("(")||x.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),x.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(x.length>0||Object.keys(D).length>0)&&(P[ke]=new Xn(x,D)),P}parseSegment(){const x=Mn(this.remaining);if(""===x&&this.peekStartsWith(";"))throw new b.vHH(4009,!1);return this.capture(x),new xr($(x),this.parseMatrixParams())}parseMatrixParams(){const x={};for(;this.consumeOptional(";");)this.parseParam(x);return x}parseParam(x){const D=function Fn(C){const x=C.match(Kt);return x?x[0]:""}(this.remaining);if(!D)return;this.capture(D);let P="";if(this.consumeOptional("=")){const j=Mn(this.remaining);j&&(P=j,this.capture(P))}x[$(D)]=$(P)}parseQueryParam(x){const D=function nr(C){const x=C.match($r);return x?x[0]:""}(this.remaining);if(!D)return;this.capture(D);let P="";if(this.consumeOptional("=")){const _e=function Ui(C){const x=C.match(Gs);return x?x[0]:""}(this.remaining);_e&&(P=_e,this.capture(P))}const j=we(D),se=we(P);if(x.hasOwnProperty(j)){let _e=x[j];Array.isArray(_e)||(_e=[_e],x[j]=_e),_e.push(se)}else x[j]=se}parseParens(x){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=Mn(this.remaining),j=this.remaining[P.length];if("/"!==j&&")"!==j&&";"!==j)throw new b.vHH(4010,!1);let se;P.indexOf(":")>-1?(se=P.slice(0,P.indexOf(":")),this.capture(se),this.capture(":")):x&&(se=ke);const _e=this.parseChildren();D[se]=1===Object.keys(_e).length?_e[ke]:new Xn([],_e),this.consumeOptional("//")}return D}peekStartsWith(x){return this.remaining.startsWith(x)}consumeOptional(x){return!!this.peekStartsWith(x)&&(this.remaining=this.remaining.substring(x.length),!0)}capture(x){if(!this.consumeOptional(x))throw new b.vHH(4011,!1)}}function Zo(C){return C.segments.length>0?new Xn([],{[ke]:C}):C}function Ba(C){const x={};for(const P of Object.keys(C.children)){const se=Ba(C.children[P]);if(P===ke&&0===se.segments.length&&se.hasChildren())for(const[_e,ze]of Object.entries(se.children))x[_e]=ze;else(se.segments.length>0||se.hasChildren())&&(x[P]=se)}return function Va(C){if(1===C.numberOfChildren&&C.children[ke]){const x=C.children[ke];return new Xn(C.segments.concat(x.segments),x.children)}return C}(new Xn(C.segments,x))}function Vr(C){return C instanceof xn}function ps(C){let x;const j=Zo(function D(se){const _e={};for(const He of se.children){const zt=D(He);_e[He.outlet]=zt}const ze=new Xn(se.url,_e);return se===C&&(x=ze),ze}(C.root));return x??j}function Ji(C,x,D,P){let j=C;for(;j.parent;)j=j.parent;if(0===x.length)return xo(j,j,j,D,P);const se=function Hi(C){if("string"==typeof C[0]&&1===C.length&&"/"===C[0])return new ma(!0,0,C);let x=0,D=!1;const P=C.reduce((j,se,_e)=>{if("object"==typeof se&&null!=se){if(se.outlets){const ze={};return Object.entries(se.outlets).forEach(([He,zt])=>{ze[He]="string"==typeof zt?zt.split("/"):zt}),[...j,{outlets:ze}]}if(se.segmentPath)return[...j,se.segmentPath]}return"string"!=typeof se?[...j,se]:0===_e?(se.split("/").forEach((ze,He)=>{0==He&&"."===ze||(0==He&&""===ze?D=!0:".."===ze?x++:""!=ze&&j.push(ze))}),j):[...j,se]},[]);return new ma(D,x,P)}(x);if(se.toRoot())return xo(j,j,new Xn([],{}),D,P);const _e=function Qr(C,x,D){if(C.isAbsolute)return new Ss(x,!0,0);if(!D)return new Ss(x,!1,NaN);if(null===D.parent)return new Ss(D,!0,0);const P=dr(C.commands[0])?0:1;return function js(C,x,D){let P=C,j=x,se=D;for(;se>j;){if(se-=j,P=P.parent,!P)throw new b.vHH(4005,!1);j=P.segments.length}return new Ss(P,!1,j-se)}(D,D.segments.length-1+P,C.numberOfDoubleDots)}(se,j,C),ze=_e.processChildren?cs(_e.segmentGroup,_e.index,se.commands):nc(_e.segmentGroup,_e.index,se.commands);return xo(j,_e.segmentGroup,ze,D,P)}function dr(C){return"object"==typeof C&&null!=C&&!C.outlets&&!C.segmentPath}function io(C){return"object"==typeof C&&null!=C&&C.outlets}function xo(C,x,D,P,j){let _e,se={};P&&Object.entries(P).forEach(([He,zt])=>{se[He]=Array.isArray(zt)?zt.map(Ln=>`${Ln}`):`${zt}`}),_e=C===x?D:Ko(C,x,D);const ze=Zo(Ba(_e));return new xn(ze,se,j)}function Ko(C,x,D){const P={};return Object.entries(C.children).forEach(([j,se])=>{P[j]=se===x?D:Ko(se,x,D)}),new Xn(C.segments,P)}class ma{constructor(x,D,P){if(this.isAbsolute=x,this.numberOfDoubleDots=D,this.commands=P,x&&P.length>0&&dr(P[0]))throw new b.vHH(4003,!1);const j=P.find(io);if(j&&j!==wn(P))throw new b.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ss{constructor(x,D,P){this.segmentGroup=x,this.processChildren=D,this.index=P}}function nc(C,x,D){if(C||(C=new Xn([],{})),0===C.segments.length&&C.hasChildren())return cs(C,x,D);const P=function rc(C,x,D){let P=0,j=x;const se={match:!1,pathIndex:0,commandIndex:0};for(;j<C.segments.length;){if(P>=D.length)return se;const _e=C.segments[j],ze=D[P];if(io(ze))break;const He=`${ze}`,zt=P<D.length-1?D[P+1]:null;if(j>0&&void 0===He)break;if(He&&zt&&"object"==typeof zt&&void 0===zt.outlets){if(!_a(He,zt,_e))return se;P+=2}else{if(!_a(He,{},_e))return se;P++}j++}return{match:!0,pathIndex:j,commandIndex:P}}(C,x,D),j=D.slice(P.commandIndex);if(P.match&&P.pathIndex<C.segments.length){const se=new Xn(C.segments.slice(0,P.pathIndex),{});return se.children[ke]=new Xn(C.segments.slice(P.pathIndex),C.children),cs(se,0,j)}return P.match&&0===j.length?new Xn(C.segments,{}):P.match&&!C.hasChildren()?gi(C,x,D):P.match?cs(C,0,j):gi(C,x,D)}function cs(C,x,D){if(0===D.length)return new Xn(C.segments,{});{const P=function Gi(C){return io(C[0])?C[0].outlets:{[ke]:C}}(D),j={};if(Object.keys(P).some(se=>se!==ke)&&C.children[ke]&&1===C.numberOfChildren&&0===C.children[ke].segments.length){const se=cs(C.children[ke],x,D);return new Xn(C.segments,se.children)}return Object.entries(P).forEach(([se,_e])=>{"string"==typeof _e&&(_e=[_e]),null!==_e&&(j[se]=nc(C.children[se],x,_e))}),Object.entries(C.children).forEach(([se,_e])=>{void 0===P[se]&&(j[se]=_e)}),new Xn(C.segments,j)}}function gi(C,x,D){const P=C.segments.slice(0,x);let j=0;for(;j<D.length;){const se=D[j];if(io(se)){const He=Ua(se.outlets);return new Xn(P,He)}if(0===j&&dr(D[0])){P.push(new xr(C.segments[x].path,As(D[0]))),j++;continue}const _e=io(se)?se.outlets[ke]:`${se}`,ze=j<D.length-1?D[j+1]:null;_e&&ze&&dr(ze)?(P.push(new xr(_e,As(ze))),j+=2):(P.push(new xr(_e,{})),j++)}return new Xn(P,{})}function Ua(C){const x={};return Object.entries(C).forEach(([D,P])=>{"string"==typeof P&&(P=[P]),null!==P&&(x[D]=gi(new Xn([],{}),0,P))}),x}function As(C){const x={};return Object.entries(C).forEach(([D,P])=>x[D]=`${P}`),x}function _a(C,x,D){return C==D.path&&sn(x,D.parameters)}const ya="imperative";class gs{constructor(x,D){this.id=x,this.url=D}}class ni extends gs{constructor(x,D,P="imperative",j=null){super(x,D),this.type=0,this.navigationTrigger=P,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $s extends gs{constructor(x,D,P){super(x,D),this.urlAfterRedirects=P,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ns extends gs{constructor(x,D,P,j){super(x,D),this.reason=P,this.code=j,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class so extends gs{constructor(x,D,P,j){super(x,D),this.reason=P,this.code=j,this.type=16}}class Gc extends gs{constructor(x,D,P,j){super(x,D),this.error=P,this.target=j,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Fi extends gs{constructor(x,D,P,j){super(x,D),this.urlAfterRedirects=P,this.state=j,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class va extends gs{constructor(x,D,P,j){super(x,D),this.urlAfterRedirects=P,this.state=j,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Di extends gs{constructor(x,D,P,j,se){super(x,D),this.urlAfterRedirects=P,this.state=j,this.shouldActivate=se,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Li extends gs{constructor(x,D,P,j){super(x,D),this.urlAfterRedirects=P,this.state=j,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zs extends gs{constructor(x,D,P,j){super(x,D),this.urlAfterRedirects=P,this.state=j,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ic{constructor(x){this.route=x,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Yo{constructor(x){this.route=x,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Os{constructor(x){this.snapshot=x,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qo{constructor(x){this.snapshot=x,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _l{constructor(x){this.snapshot=x,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oo{constructor(x){this.snapshot=x,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ba{constructor(x,D,P){this.routerEvent=x,this.position=D,this.anchor=P,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Jr{}class ao{constructor(x){this.url=x}}class fr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Zr,this.attachRef=null}}let Zr=(()=>{class C{constructor(){this.contexts=new Map}onChildOutletCreated(D,P){const j=this.getOrCreateContext(D);j.outlet=P,this.contexts.set(D,j)}onChildOutletDestroyed(D){const P=this.getContext(D);P&&(P.outlet=null,P.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let P=this.getContext(D);return P||(P=new fr,this.contexts.set(D,P)),P}getContext(D){return this.contexts.get(D)||null}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=b.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();class Ci{constructor(x){this._root=x}get root(){return this._root.value}parent(x){const D=this.pathFromRoot(x);return D.length>1?D[D.length-2]:null}children(x){const D=ls(x,this._root);return D?D.children.map(P=>P.value):[]}firstChild(x){const D=ls(x,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(x){const D=ci(x,this._root);return D.length<2?[]:D[D.length-2].children.map(j=>j.value).filter(j=>j!==x)}pathFromRoot(x){return ci(x,this._root).map(D=>D.value)}}function ls(C,x){if(C===x.value)return x;for(const D of x.children){const P=ls(C,D);if(P)return P}return null}function ci(C,x){if(C===x.value)return[x];for(const D of x.children){const P=ci(C,D);if(P.length)return P.unshift(x),P}return[]}class Bi{constructor(x,D){this.value=x,this.children=D}toString(){return`TreeNode(${this.value})`}}function co(C){const x={};return C&&C.children.forEach(D=>x[D.value.outlet]=D),x}class _i extends Ci{constructor(x,D){super(x),this.snapshot=D,uo(this,x)}toString(){return this.snapshot.toString()}}function Ro(C,x){const D=function lo(C,x){const _e=new Tr([],{},{},"",{},ke,x,null,{});return new wi("",new Bi(_e,[]))}(0,x),P=new Ee.X([new xr("",{})]),j=new Ee.X({}),se=new Ee.X({}),_e=new Ee.X({}),ze=new Ee.X(""),He=new pr(P,j,_e,ze,se,ke,x,D.root);return He.snapshot=D.root,new _i(new Bi(He,[]),D)}class pr{constructor(x,D,P,j,se,_e,ze,He){this.urlSubject=x,this.paramsSubject=D,this.queryParamsSubject=P,this.fragmentSubject=j,this.dataSubject=se,this.outlet=_e,this.component=ze,this._futureSnapshot=He,this.title=this.dataSubject?.pipe((0,hn.U)(zt=>zt[at]))??(0,fe.of)(void 0),this.url=x,this.params=D,this.queryParams=P,this.fragment=j,this.data=se}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,hn.U)(x=>At(x)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,hn.U)(x=>At(x)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ut(C,x="emptyOnly"){const D=C.pathFromRoot;let P=0;if("always"!==x)for(P=D.length-1;P>=1;){const j=D[P],se=D[P-1];if(j.routeConfig&&""===j.routeConfig.path)P--;else{if(se.component)break;P--}}return function Un(C){return C.reduce((x,D)=>({params:{...x.params,...D.params},data:{...x.data,...D.data},resolve:{...D.data,...x.resolve,...D.routeConfig?.data,...D._resolvedData}}),{params:{},data:{},resolve:{}})}(D.slice(P))}class Tr{get title(){return this.data?.[at]}constructor(x,D,P,j,se,_e,ze,He,zt){this.url=x,this.params=D,this.queryParams=P,this.fragment=j,this.data=se,this.outlet=_e,this.component=ze,this.routeConfig=He,this._resolve=zt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=At(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=At(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wi extends Ci{constructor(x,D){super(D),this.url=x,uo(this,D)}toString(){return qn(this._root)}}function uo(C,x){x.value._routerState=C,x.children.forEach(D=>uo(C,D))}function qn(C){const x=C.children.length>0?` { ${C.children.map(qn).join(", ")} } `:"";return`${C.value}${x}`}function zr(C){if(C.snapshot){const x=C.snapshot,D=C._futureSnapshot;C.snapshot=D,sn(x.queryParams,D.queryParams)||C.queryParamsSubject.next(D.queryParams),x.fragment!==D.fragment&&C.fragmentSubject.next(D.fragment),sn(x.params,D.params)||C.paramsSubject.next(D.params),function An(C,x){if(C.length!==x.length)return!1;for(let D=0;D<C.length;++D)if(!sn(C[D],x[D]))return!1;return!0}(x.url,D.url)||C.urlSubject.next(D.url),sn(x.data,D.data)||C.dataSubject.next(D.data)}else C.snapshot=C._futureSnapshot,C.dataSubject.next(C._futureSnapshot.data)}function er(C,x){const D=sn(C.params,x.params)&&function pi(C,x){return nt(C,x)&&C.every((D,P)=>sn(D.parameters,x[P].parameters))}(C.url,x.url);return D&&!(!C.parent!=!x.parent)&&(!C.parent||er(C.parent,x.parent))}let ri=(()=>{class C{constructor(){this.activated=null,this._activatedRoute=null,this.name=ke,this.activateEvents=new b.vpe,this.deactivateEvents=new b.vpe,this.attachEvents=new b.vpe,this.detachEvents=new b.vpe,this.parentContexts=(0,b.f3M)(Zr),this.location=(0,b.f3M)(b.s_b),this.changeDetector=(0,b.f3M)(b.sBO),this.environmentInjector=(0,b.f3M)(b.lqb),this.inputBinder=(0,b.f3M)(Pn,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(D){if(D.name){const{firstChange:P,previousValue:j}=D.name;if(P)return;this.isTrackedInParentContexts(j)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(j)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(D){return this.parentContexts.getContext(D)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const D=this.parentContexts.getContext(this.name);D?.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b.vHH(4012,!1);this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,P){this.activated=D,this._activatedRoute=P,this.location.insert(D.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,P){if(this.isActivated)throw new b.vHH(4013,!1);this._activatedRoute=D;const j=this.location,_e=D.snapshot.component,ze=this.parentContexts.getOrCreateContext(this.name).children,He=new ms(D,ze,j.injector);this.activated=j.createComponent(_e,{index:j.length,injector:He,environmentInjector:P??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275dir=b.lG2({type:C,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[b.TTD]})}return C})();class ms{constructor(x,D,P){this.route=x,this.childContexts=D,this.parent=P}get(x,D){return x===pr?this.route:x===Zr?this.childContexts:this.parent.get(x,D)}}const Pn=new b.OlP("");let Ws=(()=>{class C{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(D){this.unsubscribeFromRouteData(D),this.subscribeToRouteData(D)}unsubscribeFromRouteData(D){this.outletDataSubscriptions.get(D)?.unsubscribe(),this.outletDataSubscriptions.delete(D)}subscribeToRouteData(D){const{activatedRoute:P}=D,j=Ke([P.queryParams,P.params,P.data]).pipe((0,Cn.w)(([se,_e,ze],He)=>(ze={...se,..._e,...ze},0===He?(0,fe.of)(ze):Promise.resolve(ze)))).subscribe(se=>{if(!D.isActivated||!D.activatedComponentRef||D.activatedRoute!==P||null===P.component)return void this.unsubscribeFromRouteData(D);const _e=(0,b.qFp)(P.component);if(_e)for(const{templateName:ze}of _e.inputs)D.activatedComponentRef.setInput(ze,se[ze]);else this.unsubscribeFromRouteData(D)});this.outletDataSubscriptions.set(D,j)}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=b.Yz7({token:C,factory:C.\u0275fac})}return C})();function _s(C,x,D){if(D&&C.shouldReuseRoute(x.value,D.value.snapshot)){const P=D.value;P._futureSnapshot=x.value;const j=function Wr(C,x,D){return x.children.map(P=>{for(const j of D.children)if(C.shouldReuseRoute(P.value,j.value.snapshot))return _s(C,P,j);return _s(C,P)})}(C,x,D);return new Bi(P,j)}{if(C.shouldAttach(x.value)){const se=C.retrieve(x.value);if(null!==se){const _e=se.route;return _e.value._futureSnapshot=x.value,_e.children=x.children.map(ze=>_s(C,ze)),_e}}const P=function Xi(C){return new pr(new Ee.X(C.url),new Ee.X(C.params),new Ee.X(C.queryParams),new Ee.X(C.fragment),new Ee.X(C.data),C.outlet,C.component,C)}(x.value),j=x.children.map(se=>_s(C,se));return new Bi(P,j)}}const Ms="ngNavigationCancelingError";function li(C,x){const{redirectTo:D,navigationBehaviorOptions:P}=Vr(x)?{redirectTo:x,navigationBehaviorOptions:void 0}:x,j=Po(!1,0,x);return j.url=D,j.navigationBehaviorOptions=P,j}function Po(C,x,D){const P=new Error("NavigationCancelingError: "+(C||""));return P[Ms]=!0,P.cancellationCode=x,D&&(P.url=D),P}function ys(C){return C&&C[Ms]}let ji=(()=>{class C{static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275cmp=b.Xpm({type:C,selectors:[["ng-component"]],standalone:!0,features:[b.jDz],decls:1,vars:0,template:function(P,j){1&P&&b._UZ(0,"router-outlet")},dependencies:[ri],encapsulation:2})}return C})();function Fo(C){const x=C.children&&C.children.map(Fo),D=x?{...C,children:x}:{...C};return!D.component&&!D.loadComponent&&(x||D.loadChildren)&&D.outlet&&D.outlet!==ke&&(D.component=ji),D}function $n(C){return C.outlet||ke}function Ur(C){if(!C)return null;if(C.routeConfig?._injector)return C.routeConfig._injector;for(let x=C.parent;x;x=x.parent){const D=x.routeConfig;if(D?._loadedInjector)return D._loadedInjector;if(D?._injector)return D._injector}return null}class qs{constructor(x,D,P,j,se){this.routeReuseStrategy=x,this.futureState=D,this.currState=P,this.forwardEvent=j,this.inputBindingEnabled=se}activate(x){const D=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,P,x),zr(this.futureState.root),this.activateChildRoutes(D,P,x)}deactivateChildRoutes(x,D,P){const j=co(D);x.children.forEach(se=>{const _e=se.value.outlet;this.deactivateRoutes(se,j[_e],P),delete j[_e]}),Object.values(j).forEach(se=>{this.deactivateRouteAndItsChildren(se,P)})}deactivateRoutes(x,D,P){const j=x.value,se=D?D.value:null;if(j===se)if(j.component){const _e=P.getContext(j.outlet);_e&&this.deactivateChildRoutes(x,D,_e.children)}else this.deactivateChildRoutes(x,D,P);else se&&this.deactivateRouteAndItsChildren(D,P)}deactivateRouteAndItsChildren(x,D){x.value.component&&this.routeReuseStrategy.shouldDetach(x.value.snapshot)?this.detachAndStoreRouteSubtree(x,D):this.deactivateRouteAndOutlet(x,D)}detachAndStoreRouteSubtree(x,D){const P=D.getContext(x.value.outlet),j=P&&x.value.component?P.children:D,se=co(x);for(const _e of Object.keys(se))this.deactivateRouteAndItsChildren(se[_e],j);if(P&&P.outlet){const _e=P.outlet.detach(),ze=P.children.onOutletDeactivated();this.routeReuseStrategy.store(x.value.snapshot,{componentRef:_e,route:x,contexts:ze})}}deactivateRouteAndOutlet(x,D){const P=D.getContext(x.value.outlet),j=P&&x.value.component?P.children:D,se=co(x);for(const _e of Object.keys(se))this.deactivateRouteAndItsChildren(se[_e],j);P&&(P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated()),P.attachRef=null,P.route=null)}activateChildRoutes(x,D,P){const j=co(D);x.children.forEach(se=>{this.activateRoutes(se,j[se.value.outlet],P),this.forwardEvent(new oo(se.value.snapshot))}),x.children.length&&this.forwardEvent(new Qo(x.value.snapshot))}activateRoutes(x,D,P){const j=x.value,se=D?D.value:null;if(zr(j),j===se)if(j.component){const _e=P.getOrCreateContext(j.outlet);this.activateChildRoutes(x,D,_e.children)}else this.activateChildRoutes(x,D,P);else if(j.component){const _e=P.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const ze=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),_e.children.onOutletReAttached(ze.contexts),_e.attachRef=ze.componentRef,_e.route=ze.route.value,_e.outlet&&_e.outlet.attach(ze.componentRef,ze.route.value),zr(ze.route.value),this.activateChildRoutes(x,null,_e.children)}else{const ze=Ur(j.snapshot);_e.attachRef=null,_e.route=j,_e.injector=ze,_e.outlet&&_e.outlet.activateWith(j,_e.injector),this.activateChildRoutes(x,null,_e.children)}}else this.activateChildRoutes(x,null,P)}}class po{constructor(x){this.path=x,this.route=this.path[this.path.length-1]}}class ui{constructor(x,D){this.component=x,this.route=D}}function Si(C,x,D){const P=C._root;return ea(P,x?x._root:null,D,[P.value])}function Xo(C,x){const D=Symbol(),P=x.get(C,D);return P===D?"function"!=typeof C||(0,b.Z0I)(C)?x.get(C):C:P}function ea(C,x,D,P,j={canDeactivateChecks:[],canActivateChecks:[]}){const se=co(x);return C.children.forEach(_e=>{(function bc(C,x,D,P,j={canDeactivateChecks:[],canActivateChecks:[]}){const se=C.value,_e=x?x.value:null,ze=D?D.getContext(C.value.outlet):null;if(_e&&se.routeConfig===_e.routeConfig){const He=function Hr(C,x,D){if("function"==typeof D)return D(C,x);switch(D){case"pathParamsChange":return!nt(C.url,x.url);case"pathParamsOrQueryParamsChange":return!nt(C.url,x.url)||!sn(C.queryParams,x.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!er(C,x)||!sn(C.queryParams,x.queryParams);default:return!er(C,x)}}(_e,se,se.routeConfig.runGuardsAndResolvers);He?j.canActivateChecks.push(new po(P)):(se.data=_e.data,se._resolvedData=_e._resolvedData),ea(C,x,se.component?ze?ze.children:null:D,P,j),He&&ze&&ze.outlet&&ze.outlet.isActivated&&j.canDeactivateChecks.push(new ui(ze.outlet.component,_e))}else _e&&go(x,ze,j),j.canActivateChecks.push(new po(P)),ea(C,null,se.component?ze?ze.children:null:D,P,j)})(_e,se[_e.value.outlet],D,P.concat([_e.value]),j),delete se[_e.value.outlet]}),Object.entries(se).forEach(([_e,ze])=>go(ze,D.getContext(_e),j)),j}function go(C,x,D){const P=co(C),j=C.value;Object.entries(P).forEach(([se,_e])=>{go(_e,j.component?x?x.children.getContext(se):null:x,D)}),D.canDeactivateChecks.push(new ui(j.component&&x&&x.outlet&&x.outlet.isActivated?x.outlet.component:null,j))}function Ia(C){return"function"==typeof C}function Ps(C){return C instanceof Nt.K||"EmptyError"===C?.name}const Ai=Symbol("INITIAL_VALUE");function Vi(){return(0,Cn.w)(C=>Ke(C.map(x=>x.pipe((0,jn.q)(1),(0,cr.O)(Ai)))).pipe((0,hn.U)(x=>{for(const D of x)if(!0!==D){if(D===Ai)return Ai;if(!1===D||D instanceof xn)return D}return!0}),(0,vr.h)(x=>x!==Ai),(0,jn.q)(1)))}function ta(C){return(0,st.z)((0,kt.b)(x=>{if(Vr(x))throw li(0,x)}),(0,hn.U)(x=>!0===x))}class mo{constructor(x){this.segmentGroup=x||null}}class yl{constructor(x){this.urlTree=x}}function mi(C){return yt(new mo(C))}function $c(C){return yt(new yl(C))}class zi{constructor(x,D){this.urlSerializer=x,this.urlTree=D}noMatchError(x){return new b.vHH(4002,!1)}lineralizeSegments(x,D){let P=[],j=D.root;for(;;){if(P=P.concat(j.segments),0===j.numberOfChildren)return(0,fe.of)(P);if(j.numberOfChildren>1||!j.children[ke])return yt(new b.vHH(4e3,!1));j=j.children[ke]}}applyRedirectCommands(x,D,P){return this.applyRedirectCreateUrlTree(D,this.urlSerializer.parse(D),x,P)}applyRedirectCreateUrlTree(x,D,P,j){const se=this.createSegmentGroup(x,D.root,P,j);return new xn(se,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(x,D){const P={};return Object.entries(x).forEach(([j,se])=>{if("string"==typeof se&&se.startsWith(":")){const ze=se.substring(1);P[j]=D[ze]}else P[j]=se}),P}createSegmentGroup(x,D,P,j){const se=this.createSegments(x,D.segments,P,j);let _e={};return Object.entries(D.children).forEach(([ze,He])=>{_e[ze]=this.createSegmentGroup(x,He,P,j)}),new Xn(se,_e)}createSegments(x,D,P,j){return D.map(se=>se.path.startsWith(":")?this.findPosParam(x,se,j):this.findOrReturn(se,P))}findPosParam(x,D,P){const j=P[D.path.substring(1)];if(!j)throw new b.vHH(4001,!1);return j}findOrReturn(x,D){let P=0;for(const j of D){if(j.path===x.path)return D.splice(P),j;P++}return x}}const zc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function na(C,x,D,P,j){const se=ts(C,x,D);return se.matched?(P=function ho(C,x){return C.providers&&!C._injector&&(C._injector=(0,b.MMx)(C.providers,x,`Route: ${C.path}`)),C._injector??x}(x,P),function ds(C,x,D,P){const j=x.canMatch;if(!j||0===j.length)return(0,fe.of)(!0);const se=j.map(_e=>{const ze=Xo(_e,C);return Jn(function Jt(C){return C&&Ia(C.canMatch)}(ze)?ze.canMatch(x,D):C.runInContext(()=>ze(x,D)))});return(0,fe.of)(se).pipe(Vi(),ta())}(P,x,D).pipe((0,hn.U)(_e=>!0===_e?se:{...zc}))):(0,fe.of)(se)}function ts(C,x,D){if(""===x.path)return"full"===x.pathMatch&&(C.hasChildren()||D.length>0)?{...zc}:{matched:!0,consumedSegments:[],remainingSegments:D,parameters:{},positionalParamSegments:{}};const j=(x.matcher||Ir)(D,C,x);if(!j)return{...zc};const se={};Object.entries(j.posParams??{}).forEach(([ze,He])=>{se[ze]=He.path});const _e=j.consumed.length>0?{...se,...j.consumed[j.consumed.length-1].parameters}:se;return{matched:!0,consumedSegments:j.consumed,remainingSegments:D.slice(j.consumed.length),parameters:_e,positionalParamSegments:j.posParams??{}}}function Oi(C,x,D,P){return D.length>0&&function oc(C,x,D){return D.some(P=>ia(C,x,P)&&$n(P)!==ke)}(C,D,P)?{segmentGroup:new Xn(x,yi(P,new Xn(D,C.children))),slicedSegments:[]}:0===D.length&&function ra(C,x,D){return D.some(P=>ia(C,x,P))}(C,D,P)?{segmentGroup:new Xn(C.segments,ws(C,0,D,P,C.children)),slicedSegments:D}:{segmentGroup:new Xn(C.segments,C.children),slicedSegments:D}}function ws(C,x,D,P,j){const se={};for(const _e of P)if(ia(C,D,_e)&&!j[$n(_e)]){const ze=new Xn([],{});se[$n(_e)]=ze}return{...j,...se}}function yi(C,x){const D={};D[ke]=x;for(const P of C)if(""===P.path&&$n(P)!==ke){const j=new Xn([],{});D[$n(P)]=j}return D}function ia(C,x,D){return(!(C.hasChildren()||x.length>0)||"full"!==D.pathMatch)&&""===D.path}class Wc{constructor(x,D,P,j,se,_e,ze){this.injector=x,this.configLoader=D,this.rootComponentType=P,this.config=j,this.urlTree=se,this.paramsInheritanceStrategy=_e,this.urlSerializer=ze,this.allowRedirects=!0,this.applyRedirects=new zi(this.urlSerializer,this.urlTree)}noMatchError(x){return new b.vHH(4002,!1)}recognize(){const x=Oi(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,x,ke).pipe(Gt(D=>{if(D instanceof yl)return this.allowRedirects=!1,this.urlTree=D.urlTree,this.match(D.urlTree);throw D instanceof mo?this.noMatchError(D):D}),(0,hn.U)(D=>{const P=new Tr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ke,this.rootComponentType,null,{}),j=new Bi(P,D),se=new wi("",j),_e=function Mo(C,x,D=null,P=null){return Ji(ps(C),x,D,P)}(P,[],this.urlTree.queryParams,this.urlTree.fragment);return _e.queryParams=this.urlTree.queryParams,se.url=this.urlSerializer.serialize(_e),this.inheritParamsAndData(se._root),{state:se,tree:_e}}))}match(x){return this.processSegmentGroup(this.injector,this.config,x.root,ke).pipe(Gt(P=>{throw P instanceof mo?this.noMatchError(P):P}))}inheritParamsAndData(x){const D=x.value,P=Ut(D,this.paramsInheritanceStrategy);D.params=Object.freeze(P.params),D.data=Object.freeze(P.data),x.children.forEach(j=>this.inheritParamsAndData(j))}processSegmentGroup(x,D,P,j){return 0===P.segments.length&&P.hasChildren()?this.processChildren(x,D,P):this.processSegment(x,D,P,P.segments,j,!0)}processChildren(x,D,P){const j=[];for(const se of Object.keys(P.children))"primary"===se?j.unshift(se):j.push(se);return(0,ue.D)(j).pipe(wt(se=>{const _e=P.children[se],ze=function vs(C,x){const D=C.filter(P=>$n(P)===x);return D.push(...C.filter(P=>$n(P)!==x)),D}(D,se);return this.processSegmentGroup(x,ze,_e,se)}),function yn(C,x){return(0,ve.e)(function fn(C,x,D,P,j){return(se,_e)=>{let ze=D,He=x,zt=0;se.subscribe((0,Se.x)(_e,Ln=>{const Mr=zt++;He=ze?C(He,Ln,Mr):(ze=!0,Ln),P&&_e.next(He)},j&&(()=>{ze&&_e.next(He),_e.complete()})))}}(C,x,arguments.length>=2,!0))}((se,_e)=>(se.push(..._e),se)),$e(null),function Dt(C,x){const D=arguments.length>=2;return P=>P.pipe(C?(0,vr.h)((j,se)=>C(j,se,P)):Re.y,dn(1),D?$e(x):Xe(()=>new Nt.K))}(),(0,Fe.z)(se=>{if(null===se)return mi(P);const _e=Zs(se);return function hu(C){C.sort((x,D)=>x.value.outlet===ke?-1:D.value.outlet===ke?1:x.value.outlet.localeCompare(D.value.outlet))}(_e),(0,fe.of)(_e)}))}processSegment(x,D,P,j,se,_e){return(0,ue.D)(D).pipe(wt(ze=>this.processSegmentAgainstRoute(ze._injector??x,D,ze,P,j,se,_e).pipe(Gt(He=>{if(He instanceof mo)return(0,fe.of)(null);throw He}))),rt(ze=>!!ze),Gt(ze=>{if(Ps(ze))return function Fl(C,x,D){return 0===x.length&&!C.children[D]}(P,j,se)?(0,fe.of)([]):mi(P);throw ze}))}processSegmentAgainstRoute(x,D,P,j,se,_e,ze){return function Tc(C,x,D,P){return!!($n(C)===P||P!==ke&&ia(x,D,C))&&("**"===C.path||ts(x,C,D).matched)}(P,j,se,_e)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(x,j,P,se,_e,ze):ze&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(x,j,D,P,se,_e):mi(j):mi(j)}expandSegmentAgainstRouteUsingRedirect(x,D,P,j,se,_e){return"**"===j.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(x,P,j,_e):this.expandRegularSegmentAgainstRouteUsingRedirect(x,D,P,j,se,_e)}expandWildCardWithParamsAgainstRouteUsingRedirect(x,D,P,j){const se=this.applyRedirects.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?$c(se):this.applyRedirects.lineralizeSegments(P,se).pipe((0,Fe.z)(_e=>{const ze=new Xn(_e,{});return this.processSegment(x,D,ze,_e,j,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(x,D,P,j,se,_e){const{matched:ze,consumedSegments:He,remainingSegments:zt,positionalParamSegments:Ln}=ts(D,j,se);if(!ze)return mi(D);const Mr=this.applyRedirects.applyRedirectCommands(He,j.redirectTo,Ln);return j.redirectTo.startsWith("/")?$c(Mr):this.applyRedirects.lineralizeSegments(j,Mr).pipe((0,Fe.z)(mr=>this.processSegment(x,P,D,mr.concat(zt),_e,!1)))}matchSegmentAgainstRoute(x,D,P,j,se,_e){let ze;if("**"===P.path){const He=j.length>0?wn(j).parameters:{},zt=new Tr(j,He,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,M(P),$n(P),P.component??P._loadedComponent??null,P,ne(P));ze=(0,fe.of)({snapshot:zt,consumedSegments:[],remainingSegments:[]}),D.children={}}else ze=na(D,P,j,x).pipe((0,hn.U)(({matched:He,consumedSegments:zt,remainingSegments:Ln,parameters:Mr})=>He?{snapshot:new Tr(zt,Mr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,M(P),$n(P),P.component??P._loadedComponent??null,P,ne(P)),consumedSegments:zt,remainingSegments:Ln}:null));return ze.pipe((0,Cn.w)(He=>null===He?mi(D):this.getChildConfig(x=P._injector??x,P,j).pipe((0,Cn.w)(({routes:zt})=>{const Ln=P._loadedInjector??x,{snapshot:Mr,consumedSegments:mr,remainingSegments:dc}=He,{segmentGroup:Gr,slicedSegments:ca}=Oi(D,mr,dc,zt);if(0===ca.length&&Gr.hasChildren())return this.processChildren(Ln,zt,Gr).pipe((0,hn.U)(Lo=>null===Lo?null:[new Bi(Mr,Lo)]));if(0===zt.length&&0===ca.length)return(0,fe.of)([new Bi(Mr,[])]);const Pr=$n(P)===se;return this.processSegment(Ln,zt,Gr,ca,Pr?ke:se,!0).pipe((0,hn.U)(Lo=>[new Bi(Mr,Lo)]))}))))}getChildConfig(x,D,P){return D.children?(0,fe.of)({routes:D.children,injector:x}):D.loadChildren?void 0!==D._loadedRoutes?(0,fe.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):function Ni(C,x,D,P){const j=x.canLoad;if(void 0===j||0===j.length)return(0,fe.of)(!0);const se=j.map(_e=>{const ze=Xo(_e,C);return Jn(function X(C){return C&&Ia(C.canLoad)}(ze)?ze.canLoad(x,D):C.runInContext(()=>ze(x,D)))});return(0,fe.of)(se).pipe(Vi(),ta())}(x,D,P).pipe((0,Fe.z)(j=>j?this.configLoader.loadChildren(x,D).pipe((0,kt.b)(se=>{D._loadedRoutes=se.routes,D._loadedInjector=se.injector})):function kl(C){return yt(Po(!1,3))}())):(0,fe.of)({routes:[],injector:x})}}function Dc(C){const x=C.value.routeConfig;return x&&""===x.path}function Zs(C){const x=[],D=new Set;for(const P of C){if(!Dc(P)){x.push(P);continue}const j=x.find(se=>P.value.routeConfig===se.value.routeConfig);void 0!==j?(j.children.push(...P.children),D.add(j)):x.push(P)}for(const P of D){const j=Zs(P.children);x.push(new Bi(P.value,j))}return x.filter(P=>!D.has(P))}function M(C){return C.data||{}}function ne(C){return C.resolve||{}}function Rr(C){return"string"==typeof C.title||null===C.title}function rr(C){return(0,Cn.w)(x=>{const D=C(x);return D?(0,ue.D)(D).pipe((0,hn.U)(()=>x)):(0,fe.of)(x)})}const tr=new b.OlP("ROUTES");let Sn=(()=>{class C{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,b.f3M)(b.Sil)}loadComponent(D){if(this.componentLoaders.get(D))return this.componentLoaders.get(D);if(D._loadedComponent)return(0,fe.of)(D._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(D);const P=Jn(D.loadComponent()).pipe((0,hn.U)(Kr),(0,kt.b)(se=>{this.onLoadEndListener&&this.onLoadEndListener(D),D._loadedComponent=se}),br(()=>{this.componentLoaders.delete(D)})),j=new mt(P,()=>new kn.x).pipe(Je());return this.componentLoaders.set(D,j),j}loadChildren(D,P){if(this.childrenLoaders.get(P))return this.childrenLoaders.get(P);if(P._loadedRoutes)return(0,fe.of)({routes:P._loadedRoutes,injector:P._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(P);const se=function ii(C,x,D,P){return Jn(C.loadChildren()).pipe((0,hn.U)(Kr),(0,Fe.z)(j=>j instanceof b.YKP||Array.isArray(j)?(0,fe.of)(j):(0,ue.D)(x.compileModuleAsync(j))),(0,hn.U)(j=>{P&&P(C);let se,_e,ze=!1;return Array.isArray(j)?(_e=j,!0):(se=j.create(D).injector,_e=se.get(tr,[],{optional:!0,self:!0}).flat()),{routes:_e.map(Fo),injector:se}}))}(P,this.compiler,D,this.onLoadEndListener).pipe(br(()=>{this.childrenLoaders.delete(P)})),_e=new mt(se,()=>new kn.x).pipe(Je());return this.childrenLoaders.set(P,_e),_e}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=b.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function Kr(C){return function Dr(C){return C&&"object"==typeof C&&"default"in C}(C)?C.default:C}let ns=(()=>{class C{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new kn.x,this.transitionAbortSubject=new kn.x,this.configLoader=(0,b.f3M)(Sn),this.environmentInjector=(0,b.f3M)(b.lqb),this.urlSerializer=(0,b.f3M)(Ze),this.rootContexts=(0,b.f3M)(Zr),this.inputBindingEnabled=null!==(0,b.f3M)(Pn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,fe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=j=>this.events.next(new Yo(j)),this.configLoader.onLoadStartListener=j=>this.events.next(new ic(j))}complete(){this.transitions?.complete()}handleNavigationRequest(D){const P=++this.navigationId;this.transitions?.next({...this.transitions.value,...D,id:P})}setupNavigations(D,P,j){return this.transitions=new Ee.X({id:0,currentUrlTree:P,currentRawUrl:P,currentBrowserUrl:P,extractedUrl:D.urlHandlingStrategy.extract(P),urlAfterRedirects:D.urlHandlingStrategy.extract(P),rawUrl:P,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ya,restoredState:null,currentSnapshot:j.snapshot,targetSnapshot:null,currentRouterState:j,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,vr.h)(se=>0!==se.id),(0,hn.U)(se=>({...se,extractedUrl:D.urlHandlingStrategy.extract(se.rawUrl)})),(0,Cn.w)(se=>{this.currentTransition=se;let _e=!1,ze=!1;return(0,fe.of)(se).pipe((0,kt.b)(He=>{this.currentNavigation={id:He.id,initialUrl:He.rawUrl,extractedUrl:He.extractedUrl,trigger:He.source,extras:He.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Cn.w)(He=>{const zt=He.currentBrowserUrl.toString(),Ln=!D.navigated||He.extractedUrl.toString()!==zt||zt!==He.currentUrlTree.toString();if(!Ln&&"reload"!==(He.extras.onSameUrlNavigation??D.onSameUrlNavigation)){const mr="";return this.events.next(new so(He.id,this.urlSerializer.serialize(He.rawUrl),mr,0)),He.resolve(null),_t.E}if(D.urlHandlingStrategy.shouldProcessUrl(He.rawUrl))return(0,fe.of)(He).pipe((0,Cn.w)(mr=>{const dc=this.transitions?.getValue();return this.events.next(new ni(mr.id,this.urlSerializer.serialize(mr.extractedUrl),mr.source,mr.restoredState)),dc!==this.transitions?.getValue()?_t.E:Promise.resolve(mr)}),function U(C,x,D,P,j,se){return(0,Fe.z)(_e=>function Ll(C,x,D,P,j,se,_e="emptyOnly"){return new Wc(C,x,D,P,j,_e,se).recognize()}(C,x,D,P,_e.extractedUrl,j,se).pipe((0,hn.U)(({state:ze,tree:He})=>({..._e,targetSnapshot:ze,urlAfterRedirects:He}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,D.config,this.urlSerializer,D.paramsInheritanceStrategy),(0,kt.b)(mr=>{se.targetSnapshot=mr.targetSnapshot,se.urlAfterRedirects=mr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:mr.urlAfterRedirects};const dc=new Fi(mr.id,this.urlSerializer.serialize(mr.extractedUrl),this.urlSerializer.serialize(mr.urlAfterRedirects),mr.targetSnapshot);this.events.next(dc)}));if(Ln&&D.urlHandlingStrategy.shouldProcessUrl(He.currentRawUrl)){const{id:mr,extractedUrl:dc,source:Gr,restoredState:ca,extras:Pr}=He,Lo=new ni(mr,this.urlSerializer.serialize(dc),Gr,ca);this.events.next(Lo);const Ah=Ro(0,this.rootComponentType).snapshot;return this.currentTransition=se={...He,targetSnapshot:Ah,urlAfterRedirects:dc,extras:{...Pr,skipLocationChange:!1,replaceUrl:!1}},(0,fe.of)(se)}{const mr="";return this.events.next(new so(He.id,this.urlSerializer.serialize(He.extractedUrl),mr,1)),He.resolve(null),_t.E}}),(0,kt.b)(He=>{const zt=new va(He.id,this.urlSerializer.serialize(He.extractedUrl),this.urlSerializer.serialize(He.urlAfterRedirects),He.targetSnapshot);this.events.next(zt)}),(0,hn.U)(He=>(this.currentTransition=se={...He,guards:Si(He.targetSnapshot,He.currentSnapshot,this.rootContexts)},se)),function Ha(C,x){return(0,Fe.z)(D=>{const{targetSnapshot:P,currentSnapshot:j,guards:{canActivateChecks:se,canDeactivateChecks:_e}}=D;return 0===_e.length&&0===se.length?(0,fe.of)({...D,guardsResult:!0}):function Ga(C,x,D,P){return(0,ue.D)(C).pipe((0,Fe.z)(j=>function Ic(C,x,D,P,j){const se=x&&x.routeConfig?x.routeConfig.canDeactivate:null;if(!se||0===se.length)return(0,fe.of)(!0);const _e=se.map(ze=>{const He=Ur(x)??j,zt=Xo(ze,He);return Jn(function Te(C){return C&&Ia(C.canDeactivate)}(zt)?zt.canDeactivate(C,x,D,P):He.runInContext(()=>zt(C,x,D,P))).pipe(rt())});return(0,fe.of)(_e).pipe(Vi())}(j.component,j.route,D,x,P)),rt(j=>!0!==j,!0))}(_e,P,j,C).pipe((0,Fe.z)(ze=>ze&&function W(C){return"boolean"==typeof C}(ze)?function Ea(C,x,D,P){return(0,ue.D)(x).pipe(wt(j=>(0,Dn.z)(function Ta(C,x){return null!==C&&x&&x(new Os(C)),(0,fe.of)(!0)}(j.route.parent,P),function wc(C,x){return null!==C&&x&&x(new _l(C)),(0,fe.of)(!0)}(j.route,P),function Pl(C,x,D){const P=x[x.length-1],se=x.slice(0,x.length-1).reverse().map(_e=>function sc(C){const x=C.routeConfig?C.routeConfig.canActivateChild:null;return x&&0!==x.length?{node:C,guards:x}:null}(_e)).filter(_e=>null!==_e).map(_e=>ft(()=>{const ze=_e.guards.map(He=>{const zt=Ur(_e.node)??D,Ln=Xo(He,zt);return Jn(function oe(C){return C&&Ia(C.canActivateChild)}(Ln)?Ln.canActivateChild(P,C):zt.runInContext(()=>Ln(P,C))).pipe(rt())});return(0,fe.of)(ze).pipe(Vi())}));return(0,fe.of)(se).pipe(Vi())}(C,j.path,D),function us(C,x,D){const P=x.routeConfig?x.routeConfig.canActivate:null;if(!P||0===P.length)return(0,fe.of)(!0);const j=P.map(se=>ft(()=>{const _e=Ur(x)??D,ze=Xo(se,_e);return Jn(function B(C){return C&&Ia(C.canActivate)}(ze)?ze.canActivate(x,C):_e.runInContext(()=>ze(x,C))).pipe(rt())}));return(0,fe.of)(j).pipe(Vi())}(C,j.route,D))),rt(j=>!0!==j,!0))}(P,se,C,x):(0,fe.of)(ze)),(0,hn.U)(ze=>({...D,guardsResult:ze})))})}(this.environmentInjector,He=>this.events.next(He)),(0,kt.b)(He=>{if(se.guardsResult=He.guardsResult,Vr(He.guardsResult))throw li(0,He.guardsResult);const zt=new Di(He.id,this.urlSerializer.serialize(He.extractedUrl),this.urlSerializer.serialize(He.urlAfterRedirects),He.targetSnapshot,!!He.guardsResult);this.events.next(zt)}),(0,vr.h)(He=>!!He.guardsResult||(this.cancelNavigationTransition(He,"",3),!1)),rr(He=>{if(He.guards.canActivateChecks.length)return(0,fe.of)(He).pipe((0,kt.b)(zt=>{const Ln=new Li(zt.id,this.urlSerializer.serialize(zt.extractedUrl),this.urlSerializer.serialize(zt.urlAfterRedirects),zt.targetSnapshot);this.events.next(Ln)}),(0,Cn.w)(zt=>{let Ln=!1;return(0,fe.of)(zt).pipe(function ee(C,x){return(0,Fe.z)(D=>{const{targetSnapshot:P,guards:{canActivateChecks:j}}=D;if(!j.length)return(0,fe.of)(D);let se=0;return(0,ue.D)(j).pipe(wt(_e=>function ye(C,x,D,P){const j=C.routeConfig,se=C._resolve;return void 0!==j?.title&&!Rr(j)&&(se[at]=j.title),function et(C,x,D,P){const j=function gt(C){return[...Object.keys(C),...Object.getOwnPropertySymbols(C)]}(C);if(0===j.length)return(0,fe.of)({});const se={};return(0,ue.D)(j).pipe((0,Fe.z)(_e=>function _n(C,x,D,P){const j=Ur(x)??P,se=Xo(C,j);return Jn(se.resolve?se.resolve(x,D):j.runInContext(()=>se(x,D)))}(C[_e],x,D,P).pipe(rt(),(0,kt.b)(ze=>{se[_e]=ze}))),dn(1),(0,Zn.h)(se),Gt(_e=>Ps(_e)?_t.E:yt(_e)))}(se,C,x,P).pipe((0,hn.U)(_e=>(C._resolvedData=_e,C.data=Ut(C,D).resolve,j&&Rr(j)&&(C.data[at]=j.title),null)))}(_e.route,P,C,x)),(0,kt.b)(()=>se++),dn(1),(0,Fe.z)(_e=>se===j.length?(0,fe.of)(D):_t.E))})}(D.paramsInheritanceStrategy,this.environmentInjector),(0,kt.b)({next:()=>Ln=!0,complete:()=>{Ln||this.cancelNavigationTransition(zt,"",2)}}))}),(0,kt.b)(zt=>{const Ln=new zs(zt.id,this.urlSerializer.serialize(zt.extractedUrl),this.urlSerializer.serialize(zt.urlAfterRedirects),zt.targetSnapshot);this.events.next(Ln)}))}),rr(He=>{const zt=Ln=>{const Mr=[];Ln.routeConfig?.loadComponent&&!Ln.routeConfig._loadedComponent&&Mr.push(this.configLoader.loadComponent(Ln.routeConfig).pipe((0,kt.b)(mr=>{Ln.component=mr}),(0,hn.U)(()=>{})));for(const mr of Ln.children)Mr.push(...zt(mr));return Mr};return Ke(zt(He.targetSnapshot.root)).pipe($e(),(0,jn.q)(1))}),rr(()=>this.afterPreactivation()),(0,hn.U)(He=>{const zt=function wa(C,x,D){const P=_s(C,x._root,D?D._root:void 0);return new _i(P,x)}(D.routeReuseStrategy,He.targetSnapshot,He.currentRouterState);return this.currentTransition=se={...He,targetRouterState:zt},se}),(0,kt.b)(()=>{this.events.next(new Jr)}),((C,x,D,P)=>(0,hn.U)(j=>(new qs(x,j.targetRouterState,j.currentRouterState,D,P).activate(C),j)))(this.rootContexts,D.routeReuseStrategy,He=>this.events.next(He),this.inputBindingEnabled),(0,jn.q)(1),(0,kt.b)({next:He=>{_e=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $s(He.id,this.urlSerializer.serialize(He.extractedUrl),this.urlSerializer.serialize(He.urlAfterRedirects))),D.titleStrategy?.updateTitle(He.targetRouterState.snapshot),He.resolve(!0)},complete:()=>{_e=!0}}),(0,Fr.R)(this.transitionAbortSubject.pipe((0,kt.b)(He=>{throw He}))),br(()=>{_e||ze||this.cancelNavigationTransition(se,"",1),this.currentNavigation?.id===se.id&&(this.currentNavigation=null)}),Gt(He=>{if(ze=!0,ys(He))this.events.next(new Ns(se.id,this.urlSerializer.serialize(se.extractedUrl),He.message,He.cancellationCode)),function jc(C){return ys(C)&&Vr(C.url)}(He)?this.events.next(new ao(He.url)):se.resolve(!1);else{this.events.next(new Gc(se.id,this.urlSerializer.serialize(se.extractedUrl),He,se.targetSnapshot??void 0));try{se.resolve(D.errorHandler(He))}catch(zt){se.reject(zt)}}return _t.E}))}))}cancelNavigationTransition(D,P,j){const se=new Ns(D.id,this.urlSerializer.serialize(D.extractedUrl),P,j);this.events.next(se),D.resolve(!1)}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=b.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function Mi(C){return C!==ya}let Wi=(()=>{class C{buildTitle(D){let P,j=D.root;for(;void 0!==j;)P=this.getResolvedTitleForRoute(j)??P,j=j.children.find(se=>se.outlet===ke);return P}getResolvedTitleForRoute(D){return D.data[at]}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=b.Yz7({token:C,factory:function(){return(0,b.f3M)(Is)},providedIn:"root"})}return C})(),Is=(()=>{class C extends Wi{constructor(D){super(),this.title=D}updateTitle(D){const P=this.buildTitle(D);void 0!==P&&this.title.setTitle(P)}static#e=this.\u0275fac=function(P){return new(P||C)(b.LFG(Pe.Dx))};static#t=this.\u0275prov=b.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})(),Es=(()=>{class C{static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=b.Yz7({token:C,factory:function(){return(0,b.f3M)(ja)},providedIn:"root"})}return C})();class sa{shouldDetach(x){return!1}store(x,D){}shouldAttach(x){return!1}retrieve(x){return null}shouldReuseRoute(x,D){return x.routeConfig===D.routeConfig}}let ja=(()=>{class C extends sa{static#e=this.\u0275fac=function(){let D;return function(j){return(D||(D=b.n5z(C)))(j||C)}}();static#t=this.\u0275prov=b.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const qc=new b.OlP("",{providedIn:"root",factory:()=>({})});let $a=(()=>{class C{static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=b.Yz7({token:C,factory:function(){return(0,b.f3M)(_o)},providedIn:"root"})}return C})(),_o=(()=>{class C{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,P){return D}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=b.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();var hs=function(C){return C[C.COMPLETE=0]="COMPLETE",C[C.FAILED=1]="FAILED",C[C.REDIRECTING=2]="REDIRECTING",C}(hs||{});function ac(C,x){C.events.pipe((0,vr.h)(D=>D instanceof $s||D instanceof Ns||D instanceof Gc||D instanceof so),(0,hn.U)(D=>D instanceof $s||D instanceof so?hs.COMPLETE:D instanceof Ns&&(0===D.code||1===D.code)?hs.REDIRECTING:hs.FAILED),(0,vr.h)(D=>D!==hs.REDIRECTING),(0,jn.q)(1)).subscribe(()=>{x()})}function si(C){throw C}function vl(C,x,D){return x.parse("/")}const cc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ks=(()=>{class C{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,b.f3M)(b.c2e),this.isNgZoneEnabled=!1,this._events=new kn.x,this.options=(0,b.f3M)(qc,{optional:!0})||{},this.pendingTasks=(0,b.f3M)(b.HDt),this.errorHandler=this.options.errorHandler||si,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||vl,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,b.f3M)($a),this.routeReuseStrategy=(0,b.f3M)(Es),this.titleStrategy=(0,b.f3M)(Wi),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,b.f3M)(tr,{optional:!0})?.flat()??[],this.navigationTransitions=(0,b.f3M)(ns),this.urlSerializer=(0,b.f3M)(Ze),this.location=(0,b.f3M)(dt.Ye),this.componentInputBindingEnabled=!!(0,b.f3M)(Pn,{optional:!0}),this.eventsSubscription=new je.w0,this.isNgZoneEnabled=(0,b.f3M)(b.R0b)instanceof b.R0b&&b.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new xn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ro(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(D=>{this.lastSuccessfulId=D.id,this.currentPageId=this.browserPageId},D=>{this.console.warn(`Unhandled Navigation Error: ${D}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const D=this.navigationTransitions.events.subscribe(P=>{try{const{currentTransition:j}=this.navigationTransitions;if(null===j)return void(oa(P)&&this._events.next(P));if(P instanceof ni)Mi(j.source)&&(this.browserUrlTree=j.extractedUrl);else if(P instanceof so)this.rawUrlTree=j.rawUrl;else if(P instanceof Fi){if("eager"===this.urlUpdateStrategy){if(!j.extras.skipLocationChange){const se=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl);this.setBrowserUrl(se,j)}this.browserUrlTree=j.urlAfterRedirects}}else if(P instanceof Jr)this.currentUrlTree=j.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl),this.routerState=j.targetRouterState,"deferred"===this.urlUpdateStrategy&&(j.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,j),this.browserUrlTree=j.urlAfterRedirects);else if(P instanceof Ns)0!==P.code&&1!==P.code&&(this.navigated=!0),(3===P.code||2===P.code)&&this.restoreHistory(j);else if(P instanceof ao){const se=this.urlHandlingStrategy.merge(P.url,j.currentRawUrl),_e={skipLocationChange:j.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Mi(j.source)};this.scheduleNavigation(se,ya,null,_e,{resolve:j.resolve,reject:j.reject,promise:j.promise})}P instanceof Gc&&this.restoreHistory(j,!0),P instanceof $s&&(this.navigated=!0),oa(P)&&this._events.next(P)}catch(j){this.navigationTransitions.transitionAbortSubject.next(j)}});this.eventsSubscription.add(D)}resetRootComponentType(D){this.routerState.root.component=D,this.navigationTransitions.rootComponentType=D}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const D=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ya,D)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const P="popstate"===D.type?"popstate":"hashchange";"popstate"===P&&setTimeout(()=>{this.navigateToSyncWithBrowser(D.url,P,D.state)},0)}))}navigateToSyncWithBrowser(D,P,j){const se={replaceUrl:!0},_e=j?.navigationId?j:null;if(j){const He={...j};delete He.navigationId,delete He.\u0275routerPageId,0!==Object.keys(He).length&&(se.state=He)}const ze=this.parseUrl(D);this.scheduleNavigation(ze,P,_e,se)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(D){this.config=D.map(Fo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(D,P={}){const{relativeTo:j,queryParams:se,fragment:_e,queryParamsHandling:ze,preserveFragment:He}=P,zt=He?this.currentUrlTree.fragment:_e;let Mr,Ln=null;switch(ze){case"merge":Ln={...this.currentUrlTree.queryParams,...se};break;case"preserve":Ln=this.currentUrlTree.queryParams;break;default:Ln=se||null}null!==Ln&&(Ln=this.removeEmptyProps(Ln));try{Mr=ps(j?j.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof D[0]||!D[0].startsWith("/"))&&(D=[]),Mr=this.currentUrlTree.root}return Ji(Mr,D,Ln,zt??null)}navigateByUrl(D,P={skipLocationChange:!1}){const j=Vr(D)?D:this.parseUrl(D),se=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(se,ya,null,P)}navigate(D,P={skipLocationChange:!1}){return function Pd(C){for(let x=0;x<C.length;x++)if(null==C[x])throw new b.vHH(4008,!1)}(D),this.navigateByUrl(this.createUrlTree(D,P),P)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let P;try{P=this.urlSerializer.parse(D)}catch(j){P=this.malformedUriErrorHandler(j,this.urlSerializer,D)}return P}isActive(D,P){let j;if(j=!0===P?{...cc}:!1===P?{...yo}:P,Vr(D))return Er(this.currentUrlTree,D,j);const se=this.parseUrl(D);return Er(this.currentUrlTree,se,j)}removeEmptyProps(D){return Object.keys(D).reduce((P,j)=>{const se=D[j];return null!=se&&(P[j]=se),P},{})}scheduleNavigation(D,P,j,se,_e){if(this.disposed)return Promise.resolve(!1);let ze,He,zt;_e?(ze=_e.resolve,He=_e.reject,zt=_e.promise):zt=new Promise((Mr,mr)=>{ze=Mr,He=mr});const Ln=this.pendingTasks.add();return ac(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ln))}),this.navigationTransitions.handleNavigationRequest({source:P,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:D,extras:se,resolve:ze,reject:He,promise:zt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),zt.catch(Mr=>Promise.reject(Mr))}setBrowserUrl(D,P){const j=this.urlSerializer.serialize(D);if(this.location.isCurrentPathEqualTo(j)||P.extras.replaceUrl){const _e={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId)};this.location.replaceState(j,"",_e)}else{const se={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId+1)};this.location.go(j,"",se)}}restoreHistory(D,P=!1){if("computed"===this.canceledNavigationResolution){const se=this.currentPageId-this.browserPageId;0!==se?this.location.historyGo(se):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===se&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(D,P){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:P}:{navigationId:D}}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=b.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function oa(C){return!(C instanceof Jr||C instanceof ao)}let Ei=(()=>{class C{constructor(D,P,j,se,_e,ze){this.router=D,this.route=P,this.tabIndexAttribute=j,this.renderer=se,this.el=_e,this.locationStrategy=ze,this.href=null,this.commands=null,this.onChanges=new kn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const He=_e.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===He||"area"===He,this.isAnchorElement?this.subscription=D.events.subscribe(zt=>{zt instanceof $s&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(D){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",D)}ngOnChanges(D){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(D,P,j,se,_e){return!!(null===this.urlTree||this.isAnchorElement&&(0!==D||P||j||se||_e||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const D=null===this.href?null:(0,b.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",D)}applyAttributeValue(D,P){const j=this.renderer,se=this.el.nativeElement;null!==P?j.setAttribute(se,D,P):j.removeAttribute(se,D)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(P){return new(P||C)(b.Y36(Ks),b.Y36(pr),b.$8M("tabindex"),b.Y36(b.Qsj),b.Y36(b.SBq),b.Y36(dt.S$))};static#t=this.\u0275dir=b.lG2({type:C,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(P,j){1&P&&b.NdJ("click",function(_e){return j.onClick(_e.button,_e.ctrlKey,_e.shiftKey,_e.altKey,_e.metaKey)}),2&P&&b.uIk("target",j.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",b.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",b.VuI],replaceUrl:["replaceUrl","replaceUrl",b.VuI],routerLink:"routerLink"},standalone:!0,features:[b.Xq5,b.TTD]})}return C})();class kd{}let bl=(()=>{class C{constructor(D,P,j,se,_e){this.router=D,this.injector=j,this.preloadingStrategy=se,this.loader=_e}setUpPreloading(){this.subscription=this.router.events.pipe((0,vr.h)(D=>D instanceof $s),wt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,P){const j=[];for(const se of P){se.providers&&!se._injector&&(se._injector=(0,b.MMx)(se.providers,D,`Route: ${se.path}`));const _e=se._injector??D,ze=se._loadedInjector??_e;(se.loadChildren&&!se._loadedRoutes&&void 0===se.canLoad||se.loadComponent&&!se._loadedComponent)&&j.push(this.preloadConfig(_e,se)),(se.children||se._loadedRoutes)&&j.push(this.processRoutes(ze,se.children??se._loadedRoutes))}return(0,ue.D)(j).pipe((0,De.J)())}preloadConfig(D,P){return this.preloadingStrategy.preload(P,()=>{let j;j=P.loadChildren&&void 0===P.canLoad?this.loader.loadChildren(D,P):(0,fe.of)(null);const se=j.pipe((0,Fe.z)(_e=>null===_e?(0,fe.of)(void 0):(P._loadedRoutes=_e.routes,P._loadedInjector=_e.injector,this.processRoutes(_e.injector??D,_e.routes))));if(P.loadComponent&&!P._loadedComponent){const _e=this.loader.loadComponent(P);return(0,ue.D)([se,_e]).pipe((0,De.J)())}return se})}static#e=this.\u0275fac=function(P){return new(P||C)(b.LFG(Ks),b.LFG(b.Sil),b.LFG(b.lqb),b.LFG(kd),b.LFG(Sn))};static#t=this.\u0275prov=b.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const di=new b.OlP("");let Kc=(()=>{class C{constructor(D,P,j,se,_e={}){this.urlSerializer=D,this.transitions=P,this.viewportScroller=j,this.zone=se,this.options=_e,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},_e.scrollPositionRestoration=_e.scrollPositionRestoration||"disabled",_e.anchorScrolling=_e.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof ni?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof $s?(this.lastId=D.id,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.urlAfterRedirects).fragment)):D instanceof so&&0===D.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof ba&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,P){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ba(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(P){b.$Z()};static#t=this.\u0275prov=b.Yz7({token:C,factory:C.\u0275fac})}return C})();function gn(C,x){return{\u0275kind:C,\u0275providers:x}}function Bl(){const C=(0,b.f3M)(b.zs3);return x=>{const D=C.get(b.z2F);if(x!==D.components[0])return;const P=C.get(Ks),j=C.get(Vl);1===C.get(Ys)&&P.initialNavigation(),C.get(pu,null,b.XFs.Optional)?.setUpPreloading(),C.get(di,null,b.XFs.Optional)?.init(),P.resetRootComponentType(D.componentTypes[0]),j.closed||(j.next(),j.complete(),j.unsubscribe())}}const Vl=new b.OlP("",{factory:()=>new kn.x}),Ys=new b.OlP("",{providedIn:"root",factory:()=>1}),pu=new b.OlP("");function gu(C){return gn(0,[{provide:pu,useExisting:bl},{provide:kd,useExisting:C}])}const Xu=new b.OlP("ROUTER_FORROOT_GUARD"),wl=[dt.Ye,{provide:Ze,useClass:It},Ks,Zr,{provide:pr,useFactory:function rs(C){return C.routerState.root},deps:[Ks]},Sn,[]];function vo(){return new b.PXZ("Router",Ks)}let mu=(()=>{class C{constructor(D){}static forRoot(D,P){return{ngModule:C,providers:[wl,[],{provide:tr,multi:!0,useValue:D},{provide:Xu,useFactory:Wa,deps:[[Ks,new b.FiY,new b.tp0]]},{provide:qc,useValue:P||{}},P?.useHash?{provide:dt.S$,useClass:dt.Do}:{provide:dt.S$,useClass:dt.b0},{provide:di,useFactory:()=>{const C=(0,b.f3M)(dt.EM),x=(0,b.f3M)(b.R0b),D=(0,b.f3M)(qc),P=(0,b.f3M)(ns),j=(0,b.f3M)(Ze);return D.scrollOffset&&C.setOffset(D.scrollOffset),new Kc(j,P,C,x,D)}},P?.preloadingStrategy?gu(P.preloadingStrategy).\u0275providers:[],{provide:b.PXZ,multi:!0,useFactory:vo},P?.initialNavigation?ks(P):[],P?.bindToComponentInputs?gn(8,[Ws,{provide:Pn,useExisting:Ws}]).\u0275providers:[],[{provide:aa,useFactory:Bl},{provide:b.tb,multi:!0,useExisting:aa}]]}}static forChild(D){return{ngModule:C,providers:[{provide:tr,multi:!0,useValue:D}]}}static#e=this.\u0275fac=function(P){return new(P||C)(b.LFG(Xu,8))};static#t=this.\u0275mod=b.oAB({type:C});static#n=this.\u0275inj=b.cJS({})}return C})();function Wa(C){return"guarded"}function ks(C){return["disabled"===C.initialNavigation?gn(3,[{provide:b.ip1,multi:!0,useFactory:()=>{const x=(0,b.f3M)(Ks);return()=>{x.setUpLocationChangeListener()}}},{provide:Ys,useValue:2}]).\u0275providers:[],"enabledBlocking"===C.initialNavigation?gn(2,[{provide:Ys,useValue:0},{provide:b.ip1,multi:!0,deps:[b.zs3],useFactory:x=>{const D=x.get(dt.V_,Promise.resolve());return()=>D.then(()=>new Promise(P=>{const j=x.get(Ks),se=x.get(Vl);ac(j,()=>{P(!0)}),x.get(ns).afterPreactivation=()=>(P(!0),se.closed?(0,fe.of)(void 0):se),j.initialNavigation()}))}}]).\u0275providers:[]]}const aa=new b.OlP("")},4303:(Ht,Ge,K)=>{K.d(Ge,{Jn:()=>br,KN:()=>vt,Mq:()=>De,Xd:()=>kt,ZF:()=>Fr,qX:()=>Gt});var b=K(5861),re=K(4537),u=K(7879),be=K(9058),ue=K(1878);class fe{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(Ze=>{if(function Ee(nt){const Ce=nt.getComponent();return"VERSION"===Ce?.type}(Ze)){const It=Ze.getImmediate();return`${It.library}/${It.version}`}return null}).filter(Ze=>Ze).join(" ")}}const Qe="@firebase/app",ce=new u.Yd("@firebase/app"),Fe="[DEFAULT]",$e={[Qe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xe=new Map,Ue=new Map;function rt(nt,Ce){try{nt.container.addComponent(Ce)}catch(Ze){ce.debug(`Component ${Ce.name} failed to register with FirebaseApp ${nt.name}`,Ze)}}function kt(nt){const Ce=nt.name;if(Ue.has(Ce))return ce.debug(`There were multiple attempts to register component ${Ce}.`),!1;Ue.set(Ce,nt);for(const Ze of Xe.values())rt(Ze,nt);return!0}function Gt(nt,Ce){const Ze=nt.container.getProvider("heartbeat").getImmediate({optional:!0});return Ze&&Ze.triggerHeartbeat(),nt.container.getProvider(Ce)}const Dt=new be.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Zn{constructor(Ce,Ze,It){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},Ze),this._name=Ze.name,this._automaticDataCollectionEnabled=Ze.automaticDataCollectionEnabled,this._container=It,this.container.addComponent(new re.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw Dt.create("app-deleted",{appName:this._name})}}const br="10.9.0";function Fr(nt,Ce={}){let Ze=nt;"object"!=typeof Ce&&(Ce={name:Ce});const It=Object.assign({name:Fe,automaticDataCollectionEnabled:!1},Ce),qt=It.name;if("string"!=typeof qt||!qt)throw Dt.create("bad-app-name",{appName:String(qt)});if(Ze||(Ze=(0,be.aH)()),!Ze)throw Dt.create("no-options");const Zt=Xe.get(qt);if(Zt){if((0,be.vZ)(Ze,Zt.options)&&(0,be.vZ)(It,Zt.config))return Zt;throw Dt.create("duplicate-app",{appName:qt})}const Wn=new re.H0(qt);for(const V of Ue.values())Wn.addComponent(V);const Y=new Zn(Ze,It,Wn);return Xe.set(qt,Y),Y}function De(nt=Fe){const Ce=Xe.get(nt);if(!Ce&&nt===Fe&&(0,be.aH)())return Fr();if(!Ce)throw Dt.create("no-app",{appName:nt});return Ce}function vt(nt,Ce,Ze){var It;let qt=null!==(It=$e[nt])&&void 0!==It?It:nt;Ze&&(qt+=`-${Ze}`);const Zt=qt.match(/\s|\//),Wn=Ce.match(/\s|\//);if(Zt||Wn){const Y=[`Unable to register library "${qt}" with version "${Ce}":`];return Zt&&Y.push(`library name "${qt}" contains illegal characters (whitespace or "/")`),Zt&&Wn&&Y.push("and"),Wn&&Y.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void ce.warn(Y.join(" "))}kt(new re.wA(`${qt}-version`,()=>({library:qt,version:Ce}),"VERSION"))}const An="firebase-heartbeat-database",sn=1,Qt="firebase-heartbeat-store";let wn=null;function Jn(){return wn||(wn=(0,ue.X3)(An,sn,{upgrade:(nt,Ce)=>{if(0===Ce)try{nt.createObjectStore(Qt)}catch(Ze){console.warn(Ze)}}}).catch(nt=>{throw Dt.create("idb-open",{originalErrorMessage:nt.message})})),wn}function Or(){return(Or=(0,b.Z)(function*(nt){try{const Ze=(yield Jn()).transaction(Qt),It=yield Ze.objectStore(Qt).get(lr(nt));return yield Ze.done,It}catch(Ce){if(Ce instanceof be.ZR)ce.warn(Ce.message);else{const Ze=Dt.create("idb-get",{originalErrorMessage:Ce?.message});ce.warn(Ze.message)}}})).apply(this,arguments)}function Er(nt,Ce){return mn.apply(this,arguments)}function mn(){return(mn=(0,b.Z)(function*(nt,Ce){try{const It=(yield Jn()).transaction(Qt,"readwrite");yield It.objectStore(Qt).put(Ce,lr(nt)),yield It.done}catch(Ze){if(Ze instanceof be.ZR)ce.warn(Ze.message);else{const It=Dt.create("idb-set",{originalErrorMessage:Ze?.message});ce.warn(It.message)}}})).apply(this,arguments)}function lr(nt){return`${nt.name}!${nt.options.appId}`}class zn{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const Ze=this.container.getProvider("app").getImmediate();this._storage=new Xn(Ze),this._heartbeatsCachePromise=this._storage.read().then(It=>(this._heartbeatsCache=It,It))}triggerHeartbeat(){var Ce=this;return(0,b.Z)(function*(){var Ze,It;const Zt=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Wn=fi();if((null!=(null===(Ze=Ce._heartbeatsCache)||void 0===Ze?void 0:Ze.heartbeats)||(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise,null!=(null===(It=Ce._heartbeatsCache)||void 0===It?void 0:It.heartbeats)))&&Ce._heartbeatsCache.lastSentHeartbeatDate!==Wn&&!Ce._heartbeatsCache.heartbeats.some(Y=>Y.date===Wn))return Ce._heartbeatsCache.heartbeats.push({date:Wn,agent:Zt}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(Y=>{const V=new Date(Y.date).valueOf();return Date.now()-V<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,b.Z)(function*(){var Ze;if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null==(null===(Ze=Ce._heartbeatsCache)||void 0===Ze?void 0:Ze.heartbeats)||0===Ce._heartbeatsCache.heartbeats.length)return"";const It=fi(),{heartbeatsToSend:qt,unsentEntries:Zt}=function xn(nt,Ce=1024){const Ze=[];let It=nt.slice();for(const qt of nt){const Zt=Ze.find(Wn=>Wn.agent===qt.agent);if(Zt){if(Zt.dates.push(qt.date),xr(Ze)>Ce){Zt.dates.pop();break}}else if(Ze.push({agent:qt.agent,dates:[qt.date]}),xr(Ze)>Ce){Ze.pop();break}It=It.slice(1)}return{heartbeatsToSend:Ze,unsentEntries:It}}(Ce._heartbeatsCache.heartbeats),Wn=(0,be.L)(JSON.stringify({version:2,heartbeats:qt}));return Ce._heartbeatsCache.lastSentHeartbeatDate=It,Zt.length>0?(Ce._heartbeatsCache.heartbeats=Zt,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),Wn})()}}function fi(){return(new Date).toISOString().substring(0,10)}class Xn{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!(0,be.hl)()&&(0,be.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,b.Z)(function*(){if(yield Ce._canUseIndexedDBPromise){const It=yield function en(nt){return Or.apply(this,arguments)}(Ce.app);return It?.heartbeats?It:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Ce){var Ze=this;return(0,b.Z)(function*(){var It;if(yield Ze._canUseIndexedDBPromise){const Zt=yield Ze.read();return Er(Ze.app,{lastSentHeartbeatDate:null!==(It=Ce.lastSentHeartbeatDate)&&void 0!==It?It:Zt.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var Ze=this;return(0,b.Z)(function*(){var It;if(yield Ze._canUseIndexedDBPromise){const Zt=yield Ze.read();return Er(Ze.app,{lastSentHeartbeatDate:null!==(It=Ce.lastSentHeartbeatDate)&&void 0!==It?It:Zt.lastSentHeartbeatDate,heartbeats:[...Zt.heartbeats,...Ce.heartbeats]})}})()}}function xr(nt){return(0,be.L)(JSON.stringify({version:2,heartbeats:nt})).length}!function pi(nt){kt(new re.wA("platform-logger",Ce=>new fe(Ce),"PRIVATE")),kt(new re.wA("heartbeat",Ce=>new zn(Ce),"PRIVATE")),vt(Qe,"0.9.29",nt),vt(Qe,"0.9.29","esm2017"),vt("fire-js","")}("")},4537:(Ht,Ge,K)=>{K.d(Ge,{H0:()=>Qe,wA:()=>u});var b=K(5861),re=K(9058);class u{constructor(ce,de,Me){this.name=ce,this.instanceFactory=de,this.type=Me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ce){return this.instantiationMode=ce,this}setMultipleInstances(ce){return this.multipleInstances=ce,this}setServiceProps(ce){return this.serviceProps=ce,this}setInstanceCreatedCallback(ce){return this.onInstanceCreated=ce,this}}const be="[DEFAULT]";class ue{constructor(ce,de){this.name=ce,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ce){const de=this.normalizeInstanceIdentifier(ce);if(!this.instancesDeferred.has(de)){const Me=new re.BH;if(this.instancesDeferred.set(de,Me),this.isInitialized(de)||this.shouldAutoInitialize())try{const Se=this.getOrInitializeService({instanceIdentifier:de});Se&&Me.resolve(Se)}catch{}}return this.instancesDeferred.get(de).promise}getImmediate(ce){var de;const Me=this.normalizeInstanceIdentifier(ce?.identifier),Se=null!==(de=ce?.optional)&&void 0!==de&&de;if(!this.isInitialized(Me)&&!this.shouldAutoInitialize()){if(Se)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Me})}catch(Oe){if(Se)return null;throw Oe}}getComponent(){return this.component}setComponent(ce){if(ce.name!==this.name)throw Error(`Mismatching Component ${ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ce,this.shouldAutoInitialize()){if(function Ee(Re){return"EAGER"===Re.instantiationMode}(ce))try{this.getOrInitializeService({instanceIdentifier:be})}catch{}for(const[de,Me]of this.instancesDeferred.entries()){const Se=this.normalizeInstanceIdentifier(de);try{const Oe=this.getOrInitializeService({instanceIdentifier:Se});Me.resolve(Oe)}catch{}}}}clearInstance(ce=be){this.instancesDeferred.delete(ce),this.instancesOptions.delete(ce),this.instances.delete(ce)}delete(){var ce=this;return(0,b.Z)(function*(){const de=Array.from(ce.instances.values());yield Promise.all([...de.filter(Me=>"INTERNAL"in Me).map(Me=>Me.INTERNAL.delete()),...de.filter(Me=>"_delete"in Me).map(Me=>Me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ce=be){return this.instances.has(ce)}getOptions(ce=be){return this.instancesOptions.get(ce)||{}}initialize(ce={}){const{options:de={}}=ce,Me=this.normalizeInstanceIdentifier(ce.instanceIdentifier);if(this.isInitialized(Me))throw Error(`${this.name}(${Me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Se=this.getOrInitializeService({instanceIdentifier:Me,options:de});for(const[Oe,Ke]of this.instancesDeferred.entries())Me===this.normalizeInstanceIdentifier(Oe)&&Ke.resolve(Se);return Se}onInit(ce,de){var Me;const Se=this.normalizeInstanceIdentifier(de),Oe=null!==(Me=this.onInitCallbacks.get(Se))&&void 0!==Me?Me:new Set;Oe.add(ce),this.onInitCallbacks.set(Se,Oe);const Ke=this.instances.get(Se);return Ke&&ce(Ke,Se),()=>{Oe.delete(ce)}}invokeOnInitCallbacks(ce,de){const Me=this.onInitCallbacks.get(de);if(Me)for(const Se of Me)try{Se(ce,de)}catch{}}getOrInitializeService({instanceIdentifier:ce,options:de={}}){let Me=this.instances.get(ce);if(!Me&&this.component&&(Me=this.component.instanceFactory(this.container,{instanceIdentifier:(Re=ce,Re===be?void 0:Re),options:de}),this.instances.set(ce,Me),this.instancesOptions.set(ce,de),this.invokeOnInitCallbacks(Me,ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ce,Me)}catch{}var Re;return Me||null}normalizeInstanceIdentifier(ce=be){return this.component?this.component.multipleInstances?ce:be:ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Qe{constructor(ce){this.name=ce,this.providers=new Map}addComponent(ce){const de=this.getProvider(ce.name);if(de.isComponentSet())throw new Error(`Component ${ce.name} has already been registered with ${this.name}`);de.setComponent(ce)}addOrOverwriteComponent(ce){this.getProvider(ce.name).isComponentSet()&&this.providers.delete(ce.name),this.addComponent(ce)}getProvider(ce){if(this.providers.has(ce))return this.providers.get(ce);const de=new ue(ce,this);return this.providers.set(ce,de),de}getProviders(){return Array.from(this.providers.values())}}},7879:(Ht,Ge,K)=>{K.d(Ge,{Yd:()=>Ee,in:()=>re});const b=[];var re=function(ce){return ce[ce.DEBUG=0]="DEBUG",ce[ce.VERBOSE=1]="VERBOSE",ce[ce.INFO=2]="INFO",ce[ce.WARN=3]="WARN",ce[ce.ERROR=4]="ERROR",ce[ce.SILENT=5]="SILENT",ce}(re||{});const u={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},be=re.INFO,ue={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},fe=(ce,de,...Me)=>{if(de<ce.logLevel)return;const Se=(new Date).toISOString(),Oe=ue[de];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[Oe](`[${Se}]  ${ce.name}:`,...Me)};class Ee{constructor(de){this.name=de,this._logLevel=be,this._logHandler=fe,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in re))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?u[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...de),this._logHandler(this,re.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...de),this._logHandler(this,re.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,re.INFO,...de),this._logHandler(this,re.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,re.WARN,...de),this._logHandler(this,re.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...de),this._logHandler(this,re.ERROR,...de)}}},1878:(Ht,Ge,K)=>{K.d(Ge,{X3:()=>Ot});var b=K(5861);const re=(ve,Je)=>Je.some(mt=>ve instanceof mt);let u,be;const Ee=new WeakMap,Qe=new WeakMap,Re=new WeakMap,ce=new WeakMap,de=new WeakMap;let Oe={get(ve,Je,mt){if(ve instanceof IDBTransaction){if("done"===Je)return Qe.get(ve);if("objectStoreNames"===Je)return ve.objectStoreNames||Re.get(ve);if("store"===Je)return mt.objectStoreNames[1]?void 0:mt.objectStore(mt.objectStoreNames[0])}return Nt(ve[Je])},set:(ve,Je,mt)=>(ve[Je]=mt,!0),has:(ve,Je)=>ve instanceof IDBTransaction&&("done"===Je||"store"===Je)||Je in ve};function Ft(ve){return"function"==typeof ve?function Tt(ve){return ve!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ve)?function(...Je){return ve.apply(Dn(this),Je),Nt(Ee.get(this))}:function(...Je){return Nt(ve.apply(Dn(this),Je))}:function(Je,...mt){const kn=ve.call(Dn(this),Je,...mt);return Re.set(kn,Je.sort?Je.sort():[Je]),Nt(kn)}}(ve):(ve instanceof IDBTransaction&&function Se(ve){if(Qe.has(ve))return;const Je=new Promise((mt,kn)=>{const dt=()=>{ve.removeEventListener("complete",hn),ve.removeEventListener("error",Cn),ve.removeEventListener("abort",Cn)},hn=()=>{mt(),dt()},Cn=()=>{kn(ve.error||new DOMException("AbortError","AbortError")),dt()};ve.addEventListener("complete",hn),ve.addEventListener("error",Cn),ve.addEventListener("abort",Cn)});Qe.set(ve,Je)}(ve),re(ve,function ue(){return u||(u=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ve,Oe):ve)}function Nt(ve){if(ve instanceof IDBRequest)return function Me(ve){const Je=new Promise((mt,kn)=>{const dt=()=>{ve.removeEventListener("success",hn),ve.removeEventListener("error",Cn)},hn=()=>{mt(Nt(ve.result)),dt()},Cn=()=>{kn(ve.error),dt()};ve.addEventListener("success",hn),ve.addEventListener("error",Cn)});return Je.then(mt=>{mt instanceof IDBCursor&&Ee.set(mt,ve)}).catch(()=>{}),de.set(Je,ve),Je}(ve);if(ce.has(ve))return ce.get(ve);const Je=Ft(ve);return Je!==ve&&(ce.set(ve,Je),de.set(Je,ve)),Je}const Dn=ve=>de.get(ve);function Ot(ve,Je,{blocked:mt,upgrade:kn,blocking:dt,terminated:hn}={}){const Cn=indexedDB.open(ve,Je),jn=Nt(Cn);return kn&&Cn.addEventListener("upgradeneeded",cr=>{kn(Nt(Cn.result),cr.oldVersion,cr.newVersion,Nt(Cn.transaction),cr)}),mt&&Cn.addEventListener("blocked",cr=>mt(cr.oldVersion,cr.newVersion,cr)),jn.then(cr=>{hn&&cr.addEventListener("close",()=>hn()),dt&&cr.addEventListener("versionchange",vr=>dt(vr.oldVersion,vr.newVersion,vr))}).catch(()=>{}),jn}const st=["get","getKey","getAll","getAllKeys","count"],yt=["put","add","delete","clear"],_t=new Map;function je(ve,Je){if(!(ve instanceof IDBDatabase)||Je in ve||"string"!=typeof Je)return;if(_t.get(Je))return _t.get(Je);const mt=Je.replace(/FromIndex$/,""),kn=Je!==mt,dt=yt.includes(mt);if(!(mt in(kn?IDBIndex:IDBObjectStore).prototype)||!dt&&!st.includes(mt))return;const hn=function(){var Cn=(0,b.Z)(function*(jn,...cr){const vr=this.transaction(jn,dt?"readwrite":"readonly");let Fe=vr.store;return kn&&(Fe=Fe.index(cr.shift())),(yield Promise.all([Fe[mt](...cr),dt&&vr.done]))[0]});return function(cr){return Cn.apply(this,arguments)}}();return _t.set(Je,hn),hn}!function Ke(ve){Oe=ve(Oe)}(ve=>({...ve,get:(Je,mt,kn)=>je(Je,mt)||ve.get(Je,mt,kn),has:(Je,mt)=>!!je(Je,mt)||ve.has(Je,mt)}))},5861:(Ht,Ge,K)=>{function b(u,be,ue,fe,Ee,Qe,Re){try{var ce=u[Qe](Re),de=ce.value}catch(Me){return void ue(Me)}ce.done?be(de):Promise.resolve(de).then(fe,Ee)}function re(u){return function(){var be=this,ue=arguments;return new Promise(function(fe,Ee){var Qe=u.apply(be,ue);function Re(de){b(Qe,fe,Ee,Re,ce,"next",de)}function ce(de){b(Qe,fe,Ee,Re,ce,"throw",de)}Re(void 0)})}}K.d(Ge,{Z:()=>re})},7582:(Ht,Ge,K)=>{function be(Fe,$e){var Xe={};for(var Ue in Fe)Object.prototype.hasOwnProperty.call(Fe,Ue)&&$e.indexOf(Ue)<0&&(Xe[Ue]=Fe[Ue]);if(null!=Fe&&"function"==typeof Object.getOwnPropertySymbols){var rt=0;for(Ue=Object.getOwnPropertySymbols(Fe);rt<Ue.length;rt++)$e.indexOf(Ue[rt])<0&&Object.prototype.propertyIsEnumerable.call(Fe,Ue[rt])&&(Xe[Ue[rt]]=Fe[Ue[rt]])}return Xe}function Me(Fe,$e,Xe,Ue){return new(Xe||(Xe=Promise))(function(wt,kt){function Gt(dn){try{yn(Ue.next(dn))}catch(Dt){kt(Dt)}}function fn(dn){try{yn(Ue.throw(dn))}catch(Dt){kt(Dt)}}function yn(dn){dn.done?wt(dn.value):function rt(wt){return wt instanceof Xe?wt:new Xe(function(kt){kt(wt)})}(dn.value).then(Gt,fn)}yn((Ue=Ue.apply(Fe,$e||[])).next())})}function ft(Fe){return this instanceof ft?(this.v=Fe,this):new ft(Fe)}function st(Fe,$e,Xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var rt,Ue=Xe.apply(Fe,$e||[]),wt=[];return rt={},kt("next"),kt("throw"),kt("return"),rt[Symbol.asyncIterator]=function(){return this},rt;function kt(Zn){Ue[Zn]&&(rt[Zn]=function(br){return new Promise(function(Fr,De){wt.push([Zn,br,Fr,De])>1||Gt(Zn,br)})})}function Gt(Zn,br){try{!function fn(Zn){Zn.value instanceof ft?Promise.resolve(Zn.value.v).then(yn,dn):Dt(wt[0][2],Zn)}(Ue[Zn](br))}catch(Fr){Dt(wt[0][3],Fr)}}function yn(Zn){Gt("next",Zn)}function dn(Zn){Gt("throw",Zn)}function Dt(Zn,br){Zn(br),wt.shift(),wt.length&&Gt(wt[0][0],wt[0][1])}}function _t(Fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Xe,$e=Fe[Symbol.asyncIterator];return $e?$e.call(Fe):(Fe=function Tt(Fe){var $e="function"==typeof Symbol&&Symbol.iterator,Xe=$e&&Fe[$e],Ue=0;if(Xe)return Xe.call(Fe);if(Fe&&"number"==typeof Fe.length)return{next:function(){return Fe&&Ue>=Fe.length&&(Fe=void 0),{value:Fe&&Fe[Ue++],done:!Fe}}};throw new TypeError($e?"Object is not iterable.":"Symbol.iterator is not defined.")}(Fe),Xe={},Ue("next"),Ue("throw"),Ue("return"),Xe[Symbol.asyncIterator]=function(){return this},Xe);function Ue(wt){Xe[wt]=Fe[wt]&&function(kt){return new Promise(function(Gt,fn){!function rt(wt,kt,Gt,fn){Promise.resolve(fn).then(function(yn){wt({value:yn,done:Gt})},kt)}(Gt,fn,(kt=Fe[wt](kt)).done,kt.value)})}}}K.d(Ge,{FC:()=>st,KL:()=>_t,_T:()=>be,mG:()=>Me,qq:()=>ft}),"function"==typeof SuppressedError&&SuppressedError}},Ht=>{var Ge=b=>Ht(Ht.s=b);Ge(2614),Ge(9653)}]);