"use strict";(self.webpackChunkThe_Natural_Way=self.webpackChunkThe_Natural_Way||[]).push([[691],{7691:(pt,C,l)=>{l.r(C),l.d(C,{PrivateModule:()=>ct});var s=l(6814),c=l(95),u=l(6024),U=l(2772),e=l(9468);let y=(()=>{class i{static#e=this.\u0275fac=function(r){return new(r||i)};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-dashboard"]],decls:17,vars:0,consts:[[1,"nav","nav-tabs"],[1,"nav-item"],["aria-current","page","routerLink","/dashboard/user-recipes","href","#",1,"nav-link"],["aria-current","page","routerLink","/dashboard/recipe-create","href","#",1,"nav-link"],["aria-current","page","routerLink","/dashboard/user-favorite-recipes","href","#",1,"nav-link"],["aria-current","page","routerLink","/dashboard/user-comments","href","#",1,"nav-link"],["aria-current","page","routerLink","/dashboard/user-info","href","#",1,"nav-link"]],template:function(r,n){1&r&&(e.TgZ(0,"ul",0)(1,"li",1)(2,"a",2),e._uU(3,"My recipes"),e.qZA()(),e.TgZ(4,"li",1)(5,"a",3),e._uU(6,"Create recipe"),e.qZA()(),e.TgZ(7,"li",1)(8,"a",4),e._uU(9,"Favorite recipes"),e.qZA()(),e.TgZ(10,"li",1)(11,"a",5),e._uU(12,"My comments"),e.qZA()(),e.TgZ(13,"li",1)(14,"a",6),e._uU(15,"Profile"),e.qZA()()(),e._UZ(16,"router-outlet"))},dependencies:[u.lC,u.rH]})}return i})();var d=l(5861),f=l(6499),h=l(3585),g=l(4456),x=l(1176);function q(i,o){1&i&&(e.TgZ(0,"div",6)(1,"div",7)(2,"h1",8),e._uU(3,"You have no recipes!"),e.qZA()(),e.TgZ(4,"div",9),e._UZ(5,"app-logo-svg"),e.qZA(),e.TgZ(6,"div",10)(7,"p"),e._uU(8,"You can view our recipe and save your favorite \xa0\xa0"),e.qZA(),e.TgZ(9,"a",11),e._uU(10,"Recipes"),e.qZA()()())}function w(i,o){1&i&&(e.TgZ(0,"div",6)(1,"div",7)(2,"h1",8),e._uU(3,"Loading!!!"),e.qZA()(),e.TgZ(4,"div",9),e._UZ(5,"app-logo-svg"),e.qZA()())}function I(i,o){if(1&i&&(e.TgZ(0,"div",7)(1,"h1",8),e._uU(2),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(2),e.hij(" ",t.userData.firstName+" "+t.userData.lastName," favorite recipes ")}}const E=function(i){return["/recipe",i]};function F(i,o){if(1&i&&(e.TgZ(0,"div")(1,"a",16)(2,"div",17)(3,"div",18),e._UZ(4,"img",19),e.qZA(),e.TgZ(5,"p",20),e._uU(6),e.qZA()()()()),2&i){const t=o.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(4,E,t.id)),e.xp6(3),e.s9C("alt",t.title),e.Q6J("src",t.image_recipe[0].image_recipe,e.LSH),e.xp6(2),e.Oqu(t.title)}}function O(i,o){if(1&i&&(e.TgZ(0,"div",12),e.YNc(1,I,3,1,"div",13),e.TgZ(2,"div",14),e.YNc(3,F,7,6,"div",15),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.userData),e.xp6(2),e.Q6J("ngForOf",t.recipes)}}function M(i,o){if(1&i&&(e.TgZ(0,"div",3),e.YNc(1,q,11,0,"div",4),e.YNc(2,w,6,0,"div",4),e.YNc(3,O,4,2,"div",5),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",0===t.recipes.length&&!t.isLoadingComments),e.xp6(1),e.Q6J("ngIf",t.isLoadingComments),e.xp6(1),e.Q6J("ngIf",t.recipes.length>0&&!t.isLoadingComments)}}const k=function(i,o){return{"main-short":i,"main-long":o}};let N=(()=>{class i{constructor(t,r,n){this.userService=t,this.recipeService=r,this.globalErrorHandler=n,this.recipes=[],this.isLoadingComments=!0}ngOnInit(){this.userService.userData$.subscribe({next:t=>{t?(this.userData=t,this.loadRecipesByUID(t.uid)):this.globalErrorHandler.handleError("Cant found user with this User ID")},error:t=>{this.globalErrorHandler.handleError(t)}})}loadRecipesByUID(t){var r=this;return(0,d.Z)(function*(){try{const n=yield r.recipeService.getRecipeByUID(t);r.recipes=n,n&&(r.isLoadingComments=!1)}catch(n){r.globalErrorHandler.handleError(n)}})()}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(f.K),e.Y36(h.j),e.Y36(g.r))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-recipes"]],decls:3,vars:5,consts:[[1,"main",3,"ngClass"],[1,"headerImage"],["class","wrapper",4,"ngIf"],[1,"wrapper"],["class","empty",4,"ngIf"],["class","wrapper-list",4,"ngIf"],[1,"empty"],[1,"title-wrapper"],[1,"title"],[1,"logo-svg"],[1,"emptyInfo"],["routerLink","/recipes-list","href","",1,"button"],[1,"wrapper-list"],["class","title-wrapper",4,"ngIf"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"]],template:function(r,n){1&r&&(e.TgZ(0,"main",0),e._UZ(1,"div",1),e.YNc(2,M,4,3,"div",2),e.qZA()),2&r&&(e.Q6J("ngClass",e.WLB(2,k,0===n.recipes.length&&!n.isLoadingComments,n.recipes.length>0)),e.xp6(2),e.Q6J("ngIf",n.recipes.length>=0))},dependencies:[s.mk,s.sg,s.O5,u.rH,x.u],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.empty[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d;display:flex;flex-direction:column;align-items:center}.emptyInfo[_ngcontent-%COMP%]{display:flex;flex-direction:column}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:20px;margin-bottom:50px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.logo-svg[_ngcontent-%COMP%]{display:none}.empty[_ngcontent-%COMP%]{margin:-50px 20px 50px}.emptyInfo[_ngcontent-%COMP%]{padding:16px}.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 461px) and (max-width: 767px){.logo-svg[_ngcontent-%COMP%]{display:none}.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return i})();var Z=l(3477),v=l(3424),T=l(9286);let b=(()=>{class i{constructor(t){this.globalErrorHandler=t,this.cloudName=T.N.cloudinaryConfig.cloudName,this.uploadPreset=T.N.cloudinaryConfig.uploadPreset,this.imageUploaded=new e.vpe}ngOnInit(){this.myWidget=cloudinary.createUploadWidget({cloudName:this.cloudName,uploadPreset:this.uploadPreset,maxImageWidth:500,theme:"purple"},(t,r)=>{if(!t&&r&&"success"===r.event)try{console.log("Done! Here is the image info: ",r.info),this.onImagesUploaded(r.info.secure_url)}catch(n){this.globalErrorHandler.handleError(n)}})}onImagesUploaded(t){this.imageUploaded.emit(t)}openWidget(){this.myWidget.open()}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(g.r))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-image-upload"]],outputs:{imageUploaded:"imageUploaded"},decls:4,vars:0,consts:[[1,"upload-widget"],["id","upload_widget",1,"button-img",3,"click"],[1,"fa-solid","fa-plus","fa-beat-fade"]],template:function(r,n){1&r&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return n.openWidget()}),e._UZ(2,"i",2),e._uU(3," Add images (optional) "),e.qZA()())},styles:["@media (max-width: 640px){.upload-widget[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:column}.buttons-img[_ngcontent-%COMP%]{width:100%}}"]})}return i})();function P(i,o){1&i&&(e.TgZ(0,"div",24),e._uU(1," Please fill in the title! "),e.qZA())}function J(i,o){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,P,2,0,"div",23),e.qZA()),2&i){const t=e.oxw();let r;e.xp6(1),e.Q6J("ngIf",null==(r=t.recipeForm.get("title"))||null==r.errors?null:r.errors.required)}}function Y(i,o){1&i&&(e.TgZ(0,"div",24),e._uU(1," Please fill in a subtitle! "),e.qZA())}function R(i,o){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Y,2,0,"div",23),e.qZA()),2&i){const t=e.oxw();let r;e.xp6(1),e.Q6J("ngIf",null==(r=t.recipeForm.get("subtitle"))||null==r.errors?null:r.errors.required)}}function Q(i,o){1&i&&(e.TgZ(0,"div",24),e._uU(1," Please fill in the method of preparation! "),e.qZA())}function S(i,o){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Q,2,0,"div",23),e.qZA()),2&i){const t=e.oxw();let r;e.xp6(1),e.Q6J("ngIf",null==(r=t.recipeForm.get("description"))||null==r.errors?null:r.errors.required)}}function D(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"app-image-upload",25),e.NdJ("imageUploaded",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.addImageToForm(n))}),e.qZA()}}function L(i,o){if(1&i&&e._UZ(0,"img",33),2&i){const t=e.oxw().index,r=e.oxw();let n;e.Q6J("src",null==(n=r.image_recipe.controls[t].get("image_recipe"))?null:n.value,e.LSH)}}function H(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",26)(1,"label",12),e._uU(2,"Images:"),e.qZA(),e.TgZ(3,"p",27),e._uU(4,"Added image"),e.qZA(),e.TgZ(5,"div",28),e._UZ(6,"input",29),e.TgZ(7,"button",30),e.NdJ("click",function(){const a=e.CHM(t).index,p=e.oxw();return e.KtG(p.removeImage(a))}),e._UZ(8,"i",31),e.qZA()(),e.YNc(9,L,1,1,"img",32),e._UZ(10,"br")(11,"br"),e.qZA()}if(2&i){const t=o.index,r=e.oxw();let n;e.Q6J("formGroupName",t),e.xp6(9),e.Q6J("ngIf",null==(n=r.image_recipe.controls[t].get("image_recipe"))?null:n.value)}}function G(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",26)(1,"label",12),e._uU(2,"Video:"),e.qZA(),e.TgZ(3,"p",27),e._uU(4,"Add youtube video link here"),e.qZA(),e.TgZ(5,"div",28),e._UZ(6,"input",34),e.TgZ(7,"button",30),e.NdJ("click",function(){const a=e.CHM(t).index,p=e.oxw();return e.KtG(p.removeVideo(a))}),e._UZ(8,"i",31),e.qZA()()()}2&i&&e.Q6J("formGroupName",o.index)}function j(i,o){1&i&&(e.TgZ(0,"div",24),e._uU(1," Please enter an ingredient name! "),e.qZA())}function B(i,o){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,j,2,0,"div",23),e.qZA()),2&i){const t=e.oxw().index,r=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=r.recipeForm.get("ingredients."+t+".name"))||null==n.errors?null:n.errors.required)}}function K(i,o){1&i&&(e.TgZ(0,"div",24),e._uU(1," Please fill in the quantity of the ingredient! "),e.qZA())}function V(i,o){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,K,2,0,"div",23),e.qZA()),2&i){const t=e.oxw().index,r=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=r.recipeForm.get("ingredients."+t+".amount"))||null==n.errors?null:n.errors.required)}}function W(i,o){1&i&&(e.TgZ(0,"div",24),e._uU(1," Please select a unit of measurement! "),e.qZA())}function z(i,o){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,W,2,0,"div",23),e.qZA()),2&i){const t=e.oxw().index,r=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=r.recipeForm.get("ingredients."+t+".unit"))||null==n.errors?null:n.errors.required)}}function X(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",26)(1,"div",35)(2,"div",36)(3,"button",37),e.NdJ("click",function(){const a=e.CHM(t).index,p=e.oxw();return e.KtG(p.removeIngredient(a))}),e._UZ(4,"i",31),e.qZA()(),e.TgZ(5,"div",38),e._UZ(6,"hr"),e.TgZ(7,"p"),e._uU(8),e.qZA(),e._UZ(9,"hr"),e.qZA(),e.TgZ(10,"label",39),e._uU(11,"Name"),e.qZA(),e._UZ(12,"input",40),e.YNc(13,B,2,1,"div",8),e.TgZ(14,"div",41)(15,"div",42)(16,"label",43),e._uU(17,"Quantity"),e.qZA(),e._UZ(18,"input",44),e.qZA(),e.TgZ(19,"div",45)(20,"label",46),e._uU(21,"Unit\xa0*"),e.qZA(),e.TgZ(22,"select",47)(23,"option",48),e._uU(24," Please Choose... "),e.qZA(),e.TgZ(25,"option",49),e._uU(26,"Tea spoon"),e.qZA(),e.TgZ(27,"option",50),e._uU(28,"Tablespoon"),e.qZA(),e.TgZ(29,"option",51),e._uU(30,"Tea cup"),e.qZA(),e.TgZ(31,"option",52),e._uU(32,"Coffee cup"),e.qZA(),e.TgZ(33,"option",53),e._uU(34,"Gram"),e.qZA(),e.TgZ(35,"option",54),e._uU(36,"Kilogram"),e.qZA(),e.TgZ(37,"option",55),e._uU(38,"Milliliter"),e.qZA(),e.TgZ(39,"option",56),e._uU(40,"Liter"),e.qZA(),e.TgZ(41,"option",57),e._uU(42,"Pieces"),e.qZA()()(),e.TgZ(43,"div",58)(44,"label",59),e._uU(45,"Order\xa0**"),e.qZA(),e._UZ(46,"input",60),e.qZA()(),e.TgZ(47,"p",27),e._uU(48,"* In which we measure the ingredient"),e.qZA(),e.TgZ(49,"p",27),e._uU(50," ** The order in which the ingredients appear in the recipe "),e.qZA(),e.YNc(51,V,2,1,"div",8),e.YNc(52,z,2,1,"div",8),e.qZA()()}if(2&i){const t=o.index,r=e.oxw();let n,a,p;e.Q6J("formGroupName",t),e.xp6(8),e.hij("\xa0\xa0Ingredient\xa0",t+1,"\xa0"),e.xp6(5),e.Q6J("ngIf",null==(n=r.recipeForm.get("ingredients."+t+".name"))?null:n.touched),e.xp6(38),e.Q6J("ngIf",null==(a=r.recipeForm.get("ingredients."+t+".amount"))?null:a.touched),e.xp6(1),e.Q6J("ngIf",null==(p=r.recipeForm.get("ingredients."+t+".unit"))?null:p.touched)}}let $=(()=>{class i{constructor(t,r,n,a,p,m){this.fb=r,this.recipeService=n,this.userService=a,this.formErrorCheckService=p,this.globalErrorHandler=m,this.fullName="",this.currentOrderIndex=1,this.firestore=t,this.recipeForm=this.fb.group({is_active:[!1],title:["",[c.kI.required]],subtitle:["",[c.kI.required]],description:["",[c.kI.required]],summary:[""],author:[""],uid:[""],image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),likes:this.fb.array([]),ingredients:this.fb.array([this.fb.group({name:["",[c.kI.required]],amount:[null,[c.kI.required]],unit:["",[c.kI.required]],order_index:[0]})])}),this.userService.userData$.subscribe({next:_=>{_?this.userData=_:console.error("Cant found user with this UID")},error:_=>{this.globalErrorHandler.handleError(_)}})}addImageToForm(t){this.recipeForm.get("image_recipe").push(this.fb.group({image_recipe:t}))}removeImage(t){this.recipeForm.get("image_recipe").removeAt(t)}addVideo(){this.recipeForm.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(t){this.recipeForm.get("video_recipe").removeAt(t)}addIngredient(){this.recipeForm.get("ingredients").push(this.fb.group({name:["",[c.kI.required]],amount:[null,[c.kI.required]],unit:["",[c.kI.required]],order_index:this.currentOrderIndex})),this.currentOrderIndex++}removeIngredient(t){this.recipeForm.get("ingredients").removeAt(t)}get ingredients(){return this.recipeForm.get("ingredients")}get image_recipe(){return this.recipeForm.get("image_recipe")}get video_recipe(){return this.recipeForm.get("video_recipe")}onSubmit(){if(this.formErrorCheckService.markFormGroupTouched(this.recipeForm),this.formErrorCheckService.markFormArrayControlsTouched(this.ingredients),this.recipeForm.invalid){const r=this.formErrorCheckService.getFormGroupErrors(this.recipeForm);this.globalErrorHandler.handleError(r)}else 0===this.image_recipe.length&&this.addImageToForm("https://res.cloudinary.com/dsla98vyk/image/upload/v1710856403/no_image_u8yfwc.png"),this.userData&&(this.recipeForm.patchValue({author:this.userData.firstName+" "+this.userData.lastName}),this.recipeForm.patchValue({uid:this.userData.uid})),this.recipeService.addRecipe(this.recipeForm.value),this.recipeForm.reset()}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(Z.gg),e.Y36(c.qu),e.Y36(h.j),e.Y36(f.K),e.Y36(v.l),e.Y36(g.r))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-recipe-create"]],decls:43,vars:8,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[3,"formGroup"],[1,"title-wrapper"],[1,"add-recipe"],[1,"subtitle"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["type","text","id","subtitle","formControlName","subtitle"],["for","description"],["placeholder","Explain how to make your recipe ...","name","text","id","description","formControlName","description","cols","30","rows","5"],["for","summary"],["placeholder","Add any helpful tips about ingredient substitutions or storage here.","type","text","id","summary","formControlName","summary"],[1,"img-video"],[3,"imageUploaded",4,"ngIf"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["type","button",1,"button-img",3,"click"],[1,"fa-solid","fa-plus","fa-beat-fade"],["formArrayName","ingredients",1,"ingredients"],["type","button",1,"button",2,"width","100%",3,"click"],["class","errors",4,"ngIf"],[1,"errors"],[3,"imageUploaded"],[3,"formGroupName"],[1,"hint"],[1,"input-flex"],["type","text","id","image_recipe","formControlName","image_recipe"],["type","button",1,"removeInput",3,"click"],[1,"fa-solid","fa-xmark","fa-beat-fade"],["alt","Image Preview","class","image-preview",3,"src",4,"ngIf"],["alt","Image Preview",1,"image-preview",3,"src"],["type","text","id","video_recipe","formControlName","video_recipe","placeholder","Paste the video link here"],[1,"ingredient"],[1,"removeIngredientWrapper"],["type","button",1,"removeIngredient",3,"click"],[1,"divider"],["for","name"],["type","text","id","name","formControlName","name"],[1,"quantity-unit-index-wrapper"],[1,"quantity"],["for","amount"],["type","number","id","amount","formControlName","amount"],[1,"unit"],["for","ingredient_unit"],["id","ingredient_unit","formControlName","unit"],["value","","disabled","","selected","","hidden",""],["value","ts."],["value","tbs."],["value","tc."],["value","cc."],["value","gr."],["value","kg."],["value","ml."],["value","l."],["value","pieces"],[1,"order-index"],["for","ingredient_order_index"],["type","number","id","ingredient_order_index","formControlName","order_index"]],template:function(r,n){if(1&r&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",2)(3,"form",3)(4,"div",4)(5,"h1",5),e._uU(6,"Add a Recipe"),e.qZA()(),e.TgZ(7,"h4",6),e._uU(8," Uploading personal recipes is easy! Add yours to your favorites, share with friends, family, or the our community. "),e.qZA(),e.TgZ(9,"label"),e._uU(10,"Title "),e.qZA(),e._UZ(11,"input",7),e.YNc(12,J,2,1,"div",8),e.TgZ(13,"label"),e._uU(14,"Subtitle"),e.qZA(),e._UZ(15,"input",9),e.YNc(16,R,2,1,"div",8),e.TgZ(17,"div")(18,"label",10),e._uU(19,"Description"),e.qZA(),e._UZ(20,"textarea",11),e.qZA(),e.YNc(21,S,2,1,"div",8),e.TgZ(22,"div")(23,"label",12),e._uU(24,"Summary (optional)"),e.qZA(),e._UZ(25,"input",13),e.qZA(),e.TgZ(26,"div",14),e._UZ(27,"br"),e.YNc(28,D,1,0,"app-image-upload",15),e.TgZ(29,"div",16),e.YNc(30,H,12,2,"div",17),e.qZA(),e.TgZ(31,"div",18),e.YNc(32,G,9,1,"div",17),e.TgZ(33,"button",19),e.NdJ("click",function(){return n.addVideo()}),e._UZ(34,"i",20),e._uU(35," Add a video link (optional) "),e.qZA()()(),e.TgZ(36,"div",21),e.YNc(37,X,53,5,"div",17),e.qZA(),e.TgZ(38,"button",19),e.NdJ("click",function(){return n.addIngredient()}),e._UZ(39,"i",20),e._uU(40," Add one more ingredient "),e.qZA(),e.TgZ(41,"button",22),e.NdJ("click",function(){return n.onSubmit()}),e._uU(42," Submit Recipe "),e.qZA()()()()),2&r){let a,p,m;e.xp6(3),e.Q6J("formGroup",n.recipeForm),e.xp6(9),e.Q6J("ngIf",null==(a=n.recipeForm.get("title"))?null:a.touched),e.xp6(4),e.Q6J("ngIf",null==(p=n.recipeForm.get("subtitle"))?null:p.touched),e.xp6(5),e.Q6J("ngIf",null==(m=n.recipeForm.get("description"))?null:m.touched),e.xp6(7),e.Q6J("ngIf",0==n.image_recipe.length),e.xp6(2),e.Q6J("ngForOf",n.image_recipe.controls),e.xp6(2),e.Q6J("ngForOf",n.video_recipe.controls),e.xp6(5),e.Q6J("ngForOf",n.ingredients.controls)}},dependencies:[s.sg,s.O5,c._Y,c.YN,c.Kr,c.Fj,c.wV,c.EJ,c.JJ,c.JL,c.sg,c.u,c.x0,c.CE,b],styles:['form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}.add-recipe[_ngcontent-%COMP%]:before{background:linear-gradient(to bottom,transparent 35%,var(--textColor) 35%,var(--textColor) 65%,transparent 65%),linear-gradient(to right,transparent 35%,var(--textColor) 35%,var(--textColor) 65%,transparent 65%);content:"";width:25px;height:25px;align-content:center;flex-wrap:nowrap;flex-direction:row}.add-recipe[_ngcontent-%COMP%]{display:flex;box-shadow:inset 0 -24px 0 0 var(--mainYellowColor);padding-bottom:10px;font-weight:900;color:var(--mainBlackColor)}.subtitle[_ngcontent-%COMP%]{font: 400 16px/24px Source Sans Pro,sans-serif;letter-spacing:0;color:var(--mainBlackColor)}label[_ngcontent-%COMP%]{color:var(--mainBlackColor);font-weight:700}textarea[_ngcontent-%COMP%]::placeholder, input[_ngcontent-%COMP%]::placeholder{font-weight:700;font-style:italic;opacity:.5;color:var(--textColor)}.input-flex[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:unset}.input-flex[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:baseline;margin-bottom:20px}.ingredient[_ngcontent-%COMP%]{background-color:var(--aliceBlueColor);box-shadow:0 1px 3px #0000004d;padding:20px;margin-bottom:30px;position:relative}.removeIngredientWrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.removeInput[_ngcontent-%COMP%]{all:unset;color:var(--mainRedColor);cursor:pointer;text-align:right}.removeInput[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.quantity-unit-index-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;margin:20px 0;text-align:center;align-items:flex-end;gap:10px}.quantity[_ngcontent-%COMP%]{flex-basis:150px}.order-index[_ngcontent-%COMP%]{flex-basis:50px}.unit[_ngcontent-%COMP%]{flex-grow:5}.unit[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:var(--textColor);font-style:italic;font-size:14px;outline:none;height:45px}@media (max-width: 640px){.button-img[_ngcontent-%COMP%]{width:100%}}']})}return i})();var ee=l(2732);function te(i,o){1&i&&(e.TgZ(0,"div",25),e._uU(1," Please fill in the title! "),e.qZA())}function ie(i,o){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,te,2,0,"div",24),e.qZA()),2&i){const t=e.oxw();let r;e.xp6(1),e.Q6J("ngIf",null==(r=t.recipeEdit.get("title"))||null==r.errors?null:r.errors.required)}}function re(i,o){1&i&&(e.TgZ(0,"div",25),e._uU(1," Please fill in a subtitle! "),e.qZA())}function ne(i,o){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,re,2,0,"div",24),e.qZA()),2&i){const t=e.oxw();let r;e.xp6(1),e.Q6J("ngIf",null==(r=t.recipeEdit.get("subtitle"))||null==r.errors?null:r.errors.required)}}function oe(i,o){1&i&&(e.TgZ(0,"div",25),e._uU(1," Please fill in the method of preparation! "),e.qZA())}function ae(i,o){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,oe,2,0,"div",24),e.qZA()),2&i){const t=e.oxw();let r;e.xp6(1),e.Q6J("ngIf",null==(r=t.recipeEdit.get("description"))||null==r.errors?null:r.errors.required)}}function ce(i,o){if(1&i&&e._UZ(0,"img",33),2&i){const t=e.oxw().index,r=e.oxw();let n;e.Q6J("src",null==(n=r.image_recipe.controls[t].get("image_recipe"))?null:n.value,e.LSH)}}function pe(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",26)(1,"label",27),e._uU(2,"Added image"),e.qZA(),e.TgZ(3,"p",13),e._uU(4,"You can add more images"),e.qZA(),e._UZ(5,"input",28),e.YNc(6,ce,1,1,"img",29),e.TgZ(7,"button",30),e.NdJ("click",function(){const a=e.CHM(t).index,p=e.oxw();return e.KtG(p.removeImage(a))}),e._UZ(8,"i",31),e._uU(9,"\xa0Remove added image "),e.qZA(),e._UZ(10,"br")(11,"hr",32),e.qZA()}if(2&i){const t=o.index,r=e.oxw();let n;e.Q6J("formGroupName",t),e.xp6(1),e.Q6J("for","image_recipe"+t),e.xp6(4),e.Q6J("id","image_recipe"+t),e.xp6(1),e.Q6J("ngIf",null==(n=r.image_recipe.controls[t].get("image_recipe"))?null:n.value)}}function se(i,o){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"iframe",35),e.ALo(2,"safeUrl"),e.qZA()),2&i){const t=e.oxw().index,r=e.oxw();let n;e.xp6(1),e.Q6J("src",e.lcZ(2,1,null==(n=r.video_recipe.controls[t].get("video_recipe"))?null:n.value),e.uOi)}}function le(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",26)(1,"label",27),e._uU(2,"Video"),e.qZA(),e._UZ(3,"input",34),e.YNc(4,se,3,3,"div",8),e.TgZ(5,"button",30),e.NdJ("click",function(){const a=e.CHM(t).index,p=e.oxw();return e.KtG(p.removeVideo(a))}),e._UZ(6,"i",31),e._uU(7,"\xa0Remove the video link "),e.qZA()()}if(2&i){const t=o.index,r=e.oxw();let n;e.Q6J("formGroupName",t),e.xp6(1),e.Q6J("for","video_recipe"+t),e.xp6(2),e.Q6J("id","video_recipe"+t),e.xp6(1),e.Q6J("ngIf",null==(n=r.video_recipe.controls[t].get("video_recipe"))?null:n.value)}}function de(i,o){1&i&&(e.TgZ(0,"div",25),e._uU(1," Please enter an ingredient name! "),e.qZA())}function me(i,o){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,de,2,0,"div",24),e.qZA()),2&i){const t=e.oxw().index,r=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=r.recipeEdit.get("ingredients."+t+".name"))||null==n.errors?null:n.errors.required)}}function ue(i,o){1&i&&(e.TgZ(0,"div",25),e._uU(1," Please fill in the quantity of the ingredient! "),e.qZA())}function ge(i,o){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,ue,2,0,"div",24),e.qZA()),2&i){const t=e.oxw().index,r=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=r.recipeEdit.get("ingredients."+t+".amount"))||null==n.errors?null:n.errors.required)}}function _e(i,o){1&i&&(e.TgZ(0,"div",25),e._uU(1," Please select a unit of measurement! "),e.qZA())}function fe(i,o){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,_e,2,0,"div",24),e.qZA()),2&i){const t=e.oxw().index,r=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=r.recipeEdit.get("ingredients."+t+".unit"))||null==n.errors?null:n.errors.required)}}function he(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",26)(1,"div",36)(2,"div",37),e._UZ(3,"hr"),e.TgZ(4,"p"),e._uU(5,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0430\xa0\xa0"),e.qZA(),e._UZ(6,"hr"),e.qZA(),e.TgZ(7,"label",27),e._uU(8,"Name (required):"),e.qZA(),e._UZ(9,"input",38),e.YNc(10,me,2,1,"div",8),e.TgZ(11,"label",27),e._uU(12,"Quantity (required):"),e.qZA(),e._UZ(13,"input",39),e.YNc(14,ge,2,1,"div",8),e.TgZ(15,"label",27),e._uU(16,"Unit of measurement (required):"),e.qZA(),e.TgZ(17,"p",13),e._uU(18,"In which we measure the ingredient"),e.qZA(),e.TgZ(19,"select",40)(20,"option",41),e._uU(21,"Tea spoon"),e.qZA(),e.TgZ(22,"option",42),e._uU(23,"Tablespoon"),e.qZA(),e.TgZ(24,"option",43),e._uU(25,"Tea cup"),e.qZA(),e.TgZ(26,"option",44),e._uU(27,"Coffee cup"),e.qZA(),e.TgZ(28,"option",45),e._uU(29,"Gram"),e.qZA(),e.TgZ(30,"option",46),e._uU(31,"Kilogram"),e.qZA(),e.TgZ(32,"option",47),e._uU(33,"Milliliter"),e.qZA(),e.TgZ(34,"option",48),e._uU(35,"Liter"),e.qZA(),e.TgZ(36,"option",49),e._uU(37,"Pieces"),e.qZA()(),e.YNc(38,fe,2,1,"div",8),e.TgZ(39,"label",27),e._uU(40,"Order index:"),e.qZA(),e.TgZ(41,"p",13),e._uU(42," The order in which the ingredients appear in the recipe "),e.qZA(),e._UZ(43,"input",50),e.TgZ(44,"button",30),e.NdJ("click",function(){const a=e.CHM(t).index,p=e.oxw();return e.KtG(p.removeIngredient(a))}),e._UZ(45,"i",31),e._uU(46,"\xa0Remove the ingredient "),e.qZA(),e._UZ(47,"hr",32),e.qZA()()}if(2&i){const t=o.index,r=e.oxw();let n,a,p;e.Q6J("formGroupName",t),e.xp6(7),e.Q6J("for","name"+t),e.xp6(2),e.Q6J("id","name"+t),e.xp6(1),e.Q6J("ngIf",null==(n=r.recipeEdit.get("ingredients."+t+".name"))?null:n.touched),e.xp6(1),e.Q6J("for","amount"+t),e.xp6(2),e.Q6J("id","amount"+t),e.xp6(1),e.Q6J("ngIf",null==(a=r.recipeEdit.get("ingredients."+t+".amount"))?null:a.touched),e.xp6(1),e.Q6J("for","unit"+t),e.xp6(4),e.Q6J("id","unit"+t),e.xp6(19),e.Q6J("ngIf",null==(p=r.recipeEdit.get("ingredients."+t+".unit"))?null:p.touched),e.xp6(1),e.Q6J("for","order_index"+t),e.xp6(4),e.Q6J("id","order_index"+t)}}let ve=(()=>{class i{constructor(t,r,n,a,p,m){this.route=t,this.fb=r,this.recipeService=n,this.formErrorCheckService=a,this.globalErrorHandler=p,this.recipe=null,this.recipeId="",this.firestore=m}initializeForm(){this.recipeEdit=this.fb.group({is_active:[!1],title:["",[c.kI.required]],subtitle:["",[c.kI.required]],description:["",[c.kI.required]],summary:[""],author:[""],uid:[""],likes:this.fb.array([]),image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([])})}loadData(){var t=this;return(0,d.Z)(function*(){t.route.paramMap.subscribe(function(){var r=(0,d.Z)(function*(n){if(t.recipeId=n.get("id"),t.recipeId)try{t.recipe=yield t.recipeService.getRecipeById(t.recipeId),t.patchFormWithRecipeData()}catch(a){throw t.globalErrorHandler.handleError(a),a}else t.globalErrorHandler.handleError("Recipe ID not provided.")});return function(n){return r.apply(this,arguments)}}())})()}patchFormWithRecipeData(){if(this.recipe&&this.recipeEdit){const t=this.recipeEdit.get("ingredients"),r=this.recipeEdit.get("image_recipe"),n=this.recipeEdit.get("video_recipe"),a=this.recipeEdit.get("preparation_method");t.clear(),r.clear(),n.clear(),a.clear(),this.recipe.ingredients.forEach(p=>{t.push(this.fb.group({name:[p.name,[c.kI.required]],amount:[p.amount,[c.kI.required]],unit:[p.unit,[c.kI.required]],order_index:[p.order_index]}))}),this.recipe.image_recipe&&this.recipe.image_recipe.length>0&&this.recipe.image_recipe.forEach(p=>{r.push(this.fb.group({image_recipe:[p.image_recipe]}))}),this.recipe.video_recipe&&this.recipe.video_recipe.length>0&&this.recipe.video_recipe.forEach(p=>{n.push(this.fb.group({video_recipe:[p.video_recipe]}))}),this.recipe.preparation_method&&this.recipe.preparation_method.length>0&&this.recipe.preparation_method.forEach(p=>{a.push(this.fb.group({preparation_method:[p.preparation_method]}))}),this.recipeEdit.patchValue({title:this.recipe.title,summary:this.recipe.summary,description:this.recipe.description,is_active:this.recipe.is_active,subtitle:this.recipe.subtitle,likes:this.recipe.likes,author:this.recipe.author,uid:this.recipe.uid})}}ngOnInit(){var t=this;return(0,d.Z)(function*(){t.initializeForm(),yield t.loadData()})()}addImageToForm(t){this.recipeEdit.get("image_recipe").push(this.fb.group({image_recipe:t}))}removeImage(t){this.recipeEdit.get("image_recipe").removeAt(t)}addVideo(){this.recipeEdit.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(t){this.recipeEdit.get("video_recipe").removeAt(t)}addIngredient(){this.recipeEdit.get("ingredients").push(this.fb.group({name:["",[c.kI.required]],amount:["",[c.kI.required]],unit:["",[c.kI.required]],order_index:[0]}))}removeIngredient(t){this.recipeEdit.get("ingredients").removeAt(t)}get ingredients(){return this.recipeEdit.get("ingredients")}get image_recipe(){return this.recipeEdit.get("image_recipe")}get video_recipe(){return this.recipeEdit.get("video_recipe")}onSubmit(){if(this.formErrorCheckService.markFormGroupTouched(this.recipeEdit),this.formErrorCheckService.markFormArrayControlsTouched(this.ingredients),this.recipeEdit.invalid){const r=this.formErrorCheckService.getFormGroupErrors(this.recipeEdit);this.globalErrorHandler.handleError(r)}else this.updateRecipe(this.recipeEdit.value),this.recipeEdit.reset()}updateRecipe(t){this.recipeId&&this.recipeService.updateRecipe(t,this.recipeId)}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(u.gz),e.Y36(c.qu),e.Y36(h.j),e.Y36(v.l),e.Y36(g.r),e.Y36(Z.gg))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-recipe-edit"]],decls:43,vars:7,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[3,"formGroup"],[1,"title-wrapper"],[1,"title-form"],["for","title"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["type","text","id","subtitle","formControlName","subtitle"],["for","description"],["name","text","id","description","formControlName","description","cols","30","rows","10"],["for","summary"],[1,"hint"],["type","text","id","summary","formControlName","summary"],[3,"imageUploaded"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["type","button",1,"button-img",3,"click"],["formArrayName","ingredients"],["type","button-img",1,"addIngredient",3,"click"],[1,"fa-solid","fa-plus","fa-beat-fade"],["type","button",1,"button",2,"width","100%",3,"click"],["class","errors",4,"ngIf"],[1,"errors"],[3,"formGroupName"],[3,"for"],["type","text","formControlName","image_recipe",3,"id"],["alt","Image Preview","class","image-preview",3,"src",4,"ngIf"],["type","button",1,"removeIngredient",3,"click"],[1,"fa-solid","fa-trash","fa-shake"],[1,"hr"],["alt","Image Preview",1,"image-preview",3,"src"],["type","text","formControlName","video_recipe",3,"id"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"],[1,"ingredient"],[1,"divider"],["type","text","formControlName","name",3,"id"],["type","number","formControlName","amount",3,"id"],["formControlName","unit",3,"id"],["value","ts."],["value","tbs."],["value","tc."],["value","cc."],["value","gr."],["value","kg."],["value","ml."],["value","l."],["value","pieces"],["type","number","formControlName","order_index",3,"id"]],template:function(r,n){if(1&r&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",2)(3,"form",3)(4,"div",4)(5,"h1",5),e._uU(6,"Edit a Recipe"),e.qZA()(),e.TgZ(7,"label",6),e._uU(8," Title (required): "),e.qZA(),e._UZ(9,"input",7),e.YNc(10,ie,2,1,"div",8),e.TgZ(11,"label"),e._uU(12," Subtitle (required): "),e._UZ(13,"input",9),e.qZA(),e.YNc(14,ne,2,1,"div",8),e.TgZ(15,"div")(16,"label",10),e._uU(17,"Method of preparation (required):"),e.qZA(),e._UZ(18,"textarea",11),e.qZA(),e.YNc(19,ae,2,1,"div",8),e.TgZ(20,"div")(21,"label",12),e._uU(22,"Summary:"),e.qZA(),e.TgZ(23,"p",13),e._uU(24,"Recipe summary"),e.qZA(),e._UZ(25,"input",14),e.qZA(),e.TgZ(26,"div"),e._UZ(27,"br"),e.TgZ(28,"app-image-upload",15),e.NdJ("imageUploaded",function(p){return n.addImageToForm(p)}),e.qZA(),e.TgZ(29,"div",16),e.YNc(30,pe,12,4,"div",17),e.qZA(),e.TgZ(31,"div",18),e.YNc(32,le,8,4,"div",17),e.TgZ(33,"button",19),e.NdJ("click",function(){return n.addVideo()}),e._uU(34," Add a video link to a recipe "),e.qZA()()(),e.TgZ(35,"div",20),e.YNc(36,he,48,12,"div",17),e.qZA(),e._UZ(37,"br"),e.TgZ(38,"button",21),e.NdJ("click",function(){return n.addIngredient()}),e._UZ(39,"i",22),e._uU(40," Add one more ingredient "),e.qZA(),e.TgZ(41,"button",23),e.NdJ("click",function(){return n.onSubmit()}),e._uU(42," Save the changes "),e.qZA()()()()),2&r){let a,p,m;e.xp6(3),e.Q6J("formGroup",n.recipeEdit),e.xp6(7),e.Q6J("ngIf",null==(a=n.recipeEdit.get("title"))?null:a.touched),e.xp6(4),e.Q6J("ngIf",null==(p=n.recipeEdit.get("subtitle"))?null:p.touched),e.xp6(5),e.Q6J("ngIf",null==(m=n.recipeEdit.get("description"))?null:m.touched),e.xp6(11),e.Q6J("ngForOf",n.image_recipe.controls),e.xp6(2),e.Q6J("ngForOf",n.video_recipe.controls),e.xp6(4),e.Q6J("ngForOf",n.ingredients.controls)}},dependencies:[s.sg,s.O5,c._Y,c.YN,c.Kr,c.Fj,c.wV,c.EJ,c.JJ,c.JL,c.sg,c.u,c.x0,c.CE,b,ee.Q],styles:[".removeIngredient[_ngcontent-%COMP%]{all:unset;color:var(--mainRedColor);cursor:pointer;margin-top:20px;text-align:right}.removeIngredient[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.addIngredient[_ngcontent-%COMP%]{all:unset;color:var(--mainGreenColor);cursor:pointer;margin:0 0 20px 30px}.addIngredient[_ngcontent-%COMP%]:hover{background-color:unset;color:var(--mainRedColor);box-shadow:unset}form[_ngcontent-%COMP%]{max-width:600px;margin:0 auto 50px;padding:20px;background-color:var(--backgroundColor);border-radius:10px}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:none}}"]})}return i})();function xe(i,o){if(1&i&&(e.TgZ(0,"div",16),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.recipe?null:t.recipe.summary," ")}}function Ze(i,o){1&i&&(e.TgZ(0,"div"),e._UZ(1,"br"),e.qZA())}function Ce(i,o){if(1&i&&(e.TgZ(0,"li"),e._UZ(1,"img",19),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Q6J("src",t.image_recipe,e.LSH)}}function Te(i,o){if(1&i&&(e.TgZ(0,"ul",17),e.YNc(1,Ce,2,1,"li",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.recipe?null:t.recipe.image_recipe)}}let be=(()=>{class i{constructor(t,r,n){var a=this;this.recipeService=t,this.route=r,this.router=n,this.recipeId="",this.recipe=null,this.route.paramMap.subscribe(function(){var p=(0,d.Z)(function*(m){a.recipeId=m.get("id"),a.recipe=yield a.recipeService.getRecipeById(a.recipeId)});return function(m){return p.apply(this,arguments)}}())}deleteRecipe(){var t=this;return(0,d.Z)(function*(){yield t.recipeService.deleteRecipe(t.recipeId),yield t.router.navigate(["/recipes-list"])})()}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(h.j),e.Y36(u.gz),e.Y36(u.F0))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-recipe-delete"]],decls:26,vars:5,consts:[[1,"mainLong"],[1,"headerImage"],[1,"wrapper-list"],[1,"recipe-container"],[1,"title-wrapper"],[1,"title"],[1,"recipe-subtitle"],["class","recipe-summary",4,"ngIf"],[4,"ngIf"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],[1,"divider"],[2,"text-align","center","font-style","italic"],[1,"buttons"],[1,"button",2,"margin-bottom","10px",3,"click"],["href","javascript:history.back()",1,"button"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","Image of a recipe",3,"src"]],template:function(r,n){1&r&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),e._uU(6),e.qZA()(),e.TgZ(7,"h3",6),e._uU(8),e.qZA(),e.YNc(9,xe,2,1,"div",7),e.YNc(10,Ze,2,0,"div",8),e.TgZ(11,"div",9),e.YNc(12,Te,2,1,"ul",10),e.TgZ(13,"div",11),e._UZ(14,"hr"),e.TgZ(15,"p"),e._uU(16,"\xa0\xa0Delete\xa0\xa0"),e.qZA(),e._UZ(17,"hr"),e.qZA(),e._UZ(18,"br"),e.TgZ(19,"h3",12),e._uU(20," Do you rely want to delete this recipe? "),e.qZA(),e.TgZ(21,"div",13)(22,"button",14),e.NdJ("click",function(){return n.deleteRecipe()}),e._uU(23," YES "),e.qZA(),e.TgZ(24,"a",15),e._uU(25,"Go Back"),e.qZA()()()()()()),2&r&&(e.xp6(6),e.Oqu(null==n.recipe?null:n.recipe.title),e.xp6(2),e.Oqu(null==n.recipe?null:n.recipe.subtitle),e.xp6(1),e.Q6J("ngIf",null==n.recipe?null:n.recipe.summary),e.xp6(1),e.Q6J("ngIf",!(null!=n.recipe&&n.recipe.summary)),e.xp6(2),e.Q6J("ngIf",(null==n.recipe?null:n.recipe.image_recipe)&&(null==n.recipe||null==n.recipe.image_recipe?null:n.recipe.image_recipe.length)>0))},dependencies:[s.sg,s.O5],styles:[".form-wrapper[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;align-items:flex-end;justify-content:space-between}.recipe-container[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:800px;margin:-50px auto 50px;padding:32px;box-shadow:0 1px 3px #0000004d}.title[_ngcontent-%COMP%]{font-size:28px;box-shadow:unset;color:var(--textColor);background:#e8e8e8;text-shadow:-1px -1px 1px rgba(255,255,255,.1),1px 1px 1px rgba(0,0,0,.5)}.recipe-subtitle[_ngcontent-%COMP%]{font-size:14px;margin-top:-10px;color:var(--mainGreyColor);font-style:italic;white-space:pre-wrap}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic;white-space:pre-wrap}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}ul.recipe-image[_ngcontent-%COMP%]{padding-left:unset}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}"]})}return i})(),Ae=(()=>{class i{transform(t){return new Date(parseInt(t,10)).toLocaleString()}static#e=this.\u0275fac=function(r){return new(r||i)};static#t=this.\u0275pipe=e.Yjl({name:"timestampFormat",type:i,pure:!0})}return i})();function Ue(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"span",13),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.toggleAuthFormEdit())}),e._uU(1," Hide Form "),e.qZA()}}function ye(i,o){1&i&&(e.TgZ(0,"div",22),e._uU(1," First name is required! "),e.qZA())}function qe(i,o){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,ye,2,0,"div",21),e.qZA()),2&i){const t=e.oxw(3);let r;e.xp6(1),e.Q6J("ngIf",null==(r=t.authFormEdit.get("firstName"))||null==r.errors?null:r.errors.required)}}function we(i,o){1&i&&(e.TgZ(0,"div",22),e._uU(1," Last name is required! "),e.qZA())}function Ie(i,o){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,we,2,0,"div",21),e.qZA()),2&i){const t=e.oxw(3);let r;e.xp6(1),e.Q6J("ngIf",null==(r=t.authFormEdit.get("lastName"))||null==r.errors?null:r.errors.required)}}function Ee(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"form",14),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.onSubmit())}),e.TgZ(1,"label",15),e._uU(2,"First name:"),e.qZA(),e._UZ(3,"input",16),e.YNc(4,qe,2,1,"div",17),e.TgZ(5,"label",18),e._uU(6,"Last Name:"),e.qZA(),e._UZ(7,"input",19),e.YNc(8,Ie,2,1,"div",17),e.TgZ(9,"button",20),e._uU(10," Submit "),e.qZA()()}if(2&i){const t=e.oxw(2);let r,n;e.Q6J("formGroup",t.authFormEdit),e.xp6(4),e.Q6J("ngIf",(null==(r=t.authFormEdit.get("firstName"))?null:r.invalid)&&(null==(r=t.authFormEdit.get("firstName"))?null:r.touched)),e.xp6(4),e.Q6J("ngIf",(null==(n=t.authFormEdit.get("lastName"))?null:n.invalid)&&(null==(n=t.authFormEdit.get("lastName"))?null:n.touched))}}function Fe(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"span",23),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.deleteUser())}),e._UZ(1,"i",24),e.qZA()}}function Oe(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"span",23),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.toggleAuthFormEdit())}),e._UZ(1,"i",25),e.qZA()}}function Me(i,o){if(1&i&&(e.TgZ(0,"div",7)(1,"div",8)(2,"span"),e._uU(3,"Email:"),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.qZA()(),e.TgZ(6,"div",8)(7,"span"),e._uU(8,"First name:"),e.qZA(),e.TgZ(9,"span"),e._uU(10),e.qZA()(),e.TgZ(11,"div",8)(12,"span"),e._uU(13,"Last name:"),e.qZA(),e.TgZ(14,"span"),e._uU(15),e.qZA()(),e.TgZ(16,"div",8)(17,"span"),e._uU(18,"Created at:"),e.qZA(),e.TgZ(19,"span"),e._uU(20),e.ALo(21,"timestampFormat"),e.qZA()(),e.TgZ(22,"div",8)(23,"span"),e._uU(24,"Last login:"),e.qZA(),e.TgZ(25,"span"),e._uU(26),e.ALo(27,"timestampFormat"),e.qZA()(),e.YNc(28,Ue,2,0,"span",9),e.YNc(29,Ee,11,3,"form",10),e.TgZ(30,"div",11),e.YNc(31,Fe,2,0,"span",12),e.YNc(32,Oe,2,0,"span",12),e.qZA()()),2&i){const t=e.oxw();e.xp6(5),e.Oqu(t.user.email),e.xp6(5),e.Oqu(t.user.firstName),e.xp6(5),e.Oqu(t.user.lastName),e.xp6(5),e.Oqu(e.lcZ(21,9,t.user.metadata.createdAt)),e.xp6(6),e.Oqu(e.lcZ(27,11,t.user.metadata.lastLoginAt)),e.xp6(2),e.Q6J("ngIf",t.showAuthFormEdit),e.xp6(1),e.Q6J("ngIf",t.showAuthFormEdit),e.xp6(2),e.Q6J("ngIf",!t.showAuthFormEdit),e.xp6(1),e.Q6J("ngIf",!t.showAuthFormEdit)}}let ke=(()=>{class i{constructor(t,r,n,a){this.userService=t,this.fb=r,this.formErrorCheckService=n,this.globalErrorHandler=a,this.showAuthFormEdit=!1}ngOnInit(){this.userService.userData$.subscribe(t=>{this.user=t}),this.initializeForm()}initializeForm(){this.authFormEdit=this.fb.group({firstName:["",[c.kI.required]],lastName:["",[c.kI.required]]})}patchFormWithCommentData(){this.authFormEdit.patchValue({firstName:this.user?.firstName,lastName:this.user?.lastName})}onSubmit(){if(this.formErrorCheckService.markFormGroupTouched(this.authFormEdit),this.authFormEdit.valid&&this.user?.uid){this.authFormEdit.patchValue({favoriteRecipes:this.user?.favoriteRecipes}),this.authFormEdit.patchValue({isActive:this.user?.isActive}),this.authFormEdit.patchValue({isAdmin:this.user?.isAdmin});const t=this.authFormEdit.value;try{this.userService.updateAdditionalAuthData(t,this.user.uid),this.authFormEdit.reset(),this.showAuthFormEdit=!1}catch(r){this.globalErrorHandler.handleError(r)}}else{const t=this.formErrorCheckService.getFormGroupErrors(this.authFormEdit);this.globalErrorHandler.handleError(t)}}toggleAuthFormEdit(){this.showAuthFormEdit=!this.showAuthFormEdit}deleteUser(){var t=this;return(0,d.Z)(function*(){window.confirm("Are you sure you want to delete your account?")&&(yield t.userService.deleteUserAccount())})()}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(f.K),e.Y36(c.qu),e.Y36(v.l),e.Y36(g.r))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-info"]],decls:8,vars:1,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],["class","user-details",4,"ngIf"],[1,"user-details"],[1,"detail"],["class","btn btn-outline-light","style","color: var(--textColor)",3,"click",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"commentBtnWrapper"],[3,"click",4,"ngIf"],[1,"btn","btn-outline-light",2,"color","var(--textColor)",3,"click"],[3,"formGroup","ngSubmit"],["for","firstName"],["type","text","id","firstName","formControlName","firstName"],[4,"ngIf"],["for","lastName"],["type","text","id","lastName","formControlName","lastName"],["type","submit",1,"button",2,"width","100%","margin-top","20px"],["class","errors",4,"ngIf"],[1,"errors"],[3,"click"],[1,"fa-solid","fa-trash","fa-shake"],[1,"fa-regular","fa-pen-to-square","fa-flip"]],template:function(r,n){1&r&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),e._uU(6,"Info"),e.qZA()(),e.YNc(7,Me,33,13,"div",6),e.qZA()()()),2&r&&(e.xp6(7),e.Q6J("ngIf",n.user))},dependencies:[s.O5,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,Ae],styles:[".wrapper[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}.form-wrapper[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}.nav-link[_ngcontent-%COMP%]{background-color:var(--textColor);border:1px solid var(--mainBlackColor)}.user-details[_ngcontent-%COMP%]{color:var(--textColor);display:flex;flex-direction:column;align-items:center;padding:20px;border:1px solid var(--mainMagnoliaColor);border-radius:8px}.detail[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;margin-bottom:10px}.detail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){margin-left:10px}.wrapper[_ngcontent-%COMP%]{padding:0 5%}@media only screen and (max-width: 460px){.detail[_ngcontent-%COMP%]{display:flex;flex-direction:column}.detail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-weight:700}}"]})}return i})();var A=l(8850);function Ne(i,o){1&i&&(e.TgZ(0,"div",6)(1,"div",7)(2,"h1",8),e._uU(3,"You have no comments!"),e.qZA()(),e.TgZ(4,"div",9),e._UZ(5,"app-logo-svg"),e.qZA(),e.TgZ(6,"div",10)(7,"p"),e._uU(8,"You can view our recipe and write your first comment \xa0\xa0"),e.qZA(),e.TgZ(9,"a",11),e._uU(10,"Recipes"),e.qZA()()())}function Pe(i,o){1&i&&(e.TgZ(0,"div",6)(1,"div",7)(2,"h1",8),e._uU(3,"Loading!!!"),e.qZA()(),e.TgZ(4,"div",9),e._UZ(5,"app-logo-svg"),e.qZA()())}function Je(i,o){if(1&i&&(e.TgZ(0,"div",7)(1,"h1",8),e._uU(2),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(2),e.hij(" Comments by ",t.userData.firstName+" "+t.userData.lastName," ")}}function Ye(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"span",21),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,a=e.oxw(3);return e.KtG(a.deleteComment(n.id))}),e._UZ(1,"i",22),e.qZA()}}function Re(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"span",21),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,a=e.oxw(3);return e.KtG(a.navigateToCommentEdit(n.id))}),e._UZ(1,"i",23),e.qZA()}}function Qe(i,o){if(1&i&&(e.TgZ(0,"ul")(1,"li")(2,"a",16),e._uU(3,"Go to recipe"),e.qZA()(),e.TgZ(4,"li"),e._uU(5),e.qZA(),e.TgZ(6,"li",17)(7,"p"),e._uU(8),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"div",18),e.YNc(11,Ye,2,0,"span",19),e.YNc(12,Re,2,0,"span",19),e.qZA()(),e._UZ(13,"hr",20),e.qZA()),2&i){const t=o.$implicit,r=e.oxw(3);e.xp6(2),e.MGl("routerLink","/recipe/",t.recipeId,""),e.xp6(3),e.Oqu(t.comment),e.xp6(3),e.hij(" ",e.xi3(9,5,t.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," "),e.xp6(3),e.Q6J("ngIf",r.userData&&t.uid==r.userData.uid),e.xp6(1),e.Q6J("ngIf",r.userData&&t.uid==r.userData.uid)}}function Se(i,o){if(1&i&&(e.TgZ(0,"div",12),e.YNc(1,Je,3,1,"div",13),e.TgZ(2,"div",14),e.YNc(3,Qe,14,8,"ul",15),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.userData),e.xp6(2),e.Q6J("ngForOf",t.comments)}}function De(i,o){if(1&i&&(e.TgZ(0,"div",3),e.YNc(1,Ne,11,0,"div",4),e.YNc(2,Pe,6,0,"div",4),e.YNc(3,Se,4,2,"div",5),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",0===t.comments.length&&!t.isLoadingComments),e.xp6(1),e.Q6J("ngIf",t.isLoadingComments),e.xp6(1),e.Q6J("ngIf",t.comments.length>0&&!t.isLoadingComments)}}const Le=function(i,o){return{"main-short":i,"main-long":o}};let He=(()=>{class i{constructor(t,r,n,a){this.commentService=t,this.userService=r,this.router=n,this.globalErrorHandler=a,this.comments=[],this.isLoadingComments=!0,this.userService.userData$.subscribe(p=>{this.userData=p})}ngOnInit(){this.loadData().then(()=>{}).catch(t=>{this.globalErrorHandler.handleError(t)})}loadData(){var t=this;return(0,d.Z)(function*(){if(t.userData)try{t.comments=yield t.commentService.getCommentsForUser(t.userData.uid),t.isLoadingComments=!1}catch(r){t.globalErrorHandler.handleError(r)}})()}navigateToCommentEdit(t){var r=this;return(0,d.Z)(function*(){yield r.router.navigate(["/dashboard/comment-edit",t])})()}deleteComment(t){var r=this;return(0,d.Z)(function*(){try{yield r.commentService.deleteComment(t),console.log("Comment deleted successfully."),yield r.loadData()}catch(n){r.globalErrorHandler.handleError(n)}})()}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(A.O),e.Y36(f.K),e.Y36(u.F0),e.Y36(g.r))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-comments"]],decls:3,vars:5,consts:[[1,"main",3,"ngClass"],[1,"headerImage"],["class","wrapper",4,"ngIf"],[1,"wrapper"],["class","empty",4,"ngIf"],["class","wrapper-list","style","\n        max-width: 600px;\n        margin: -50px auto 50px auto;\n        padding: 32px;\n        background-color: var(--backgroundColor);\n        border-radius: unset;\n        box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.3);\n        display: flex;\n        flex-direction: column;\n      ",4,"ngIf"],[1,"empty"],[1,"title-wrapper"],[1,"title"],[1,"logo-svg"],[1,"emptyInfo"],["routerLink","/recipes-list","href","",1,"button"],[1,"wrapper-list",2,"max-width","600px","margin","-50px auto 50px auto","padding","32px","background-color","var(--backgroundColor)","border-radius","unset","box-shadow","0 1px 3px 0 rgba(0, 0, 0, 0.3)","display","flex","flex-direction","column"],["class","title-wrapper",4,"ngIf"],[1,"comments"],[4,"ngFor","ngForOf"],[1,"btn","btn-outline-light",2,"color","var(--textColor)",3,"routerLink"],[1,"comments-last"],[1,"commentBtnWrapper"],[3,"click",4,"ngIf"],[1,"hr"],[3,"click"],[1,"fa-solid","fa-trash","fa-shake"],[1,"fa-regular","fa-pen-to-square","fa-flip"]],template:function(r,n){1&r&&(e.TgZ(0,"main",0),e._UZ(1,"div",1),e.YNc(2,De,4,3,"div",2),e.qZA()),2&r&&(e.Q6J("ngClass",e.WLB(2,Le,0===n.comments.length&&!n.isLoadingComments,n.comments.length>0)),e.xp6(2),e.Q6J("ngIf",n.comments.length>=0))},dependencies:[s.mk,s.sg,s.O5,u.rH,x.u,s.uU],styles:[".comments[_ngcontent-%COMP%]{border:1px solid var(--mainMagnoliaColor);margin:30px 0;padding:20px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:10px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:5px}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--mainGreyColor)}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--backgroundColor);padding-left:5px;border-radius:5px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--mainMagnoliaColor);font-style:italic;border-radius:5px}.commentBtnWrapper[_ngcontent-%COMP%]{display:flex;gap:10px}.comments-last[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.fa-solid.fa-trash.fa-shake[_ngcontent-%COMP%], .fa-regular.fa-pen-to-square.fa-flip[_ngcontent-%COMP%]{cursor:pointer;color:var(--mainRGBAColor);background-color:var(--backgroundColor);padding:8px 10px;border:3px solid var(--mainRGBAColor);border-radius:50%;transition:1s ease-in-out}.fa-solid.fa-trash.fa-shake[_ngcontent-%COMP%]:hover, .fa-regular.fa-pen-to-square.fa-flip[_ngcontent-%COMP%]:hover{color:var(--backgroundColor);background-color:var(--mainRGBAColor);padding:8px 10px;border:3px solid var(--mainRGBAColor);border-radius:50%}"]})}return i})();var Ge=l(5619);function je(i,o){1&i&&(e.TgZ(0,"div",6)(1,"div",7)(2,"h1",8),e._uU(3,"No favorite recipes yet!"),e.qZA()(),e.TgZ(4,"div",9),e._UZ(5,"app-logo-svg"),e.qZA(),e.TgZ(6,"div",10)(7,"p"),e._uU(8,"You can view our recipe and save your favorite \xa0\xa0"),e.qZA(),e.TgZ(9,"a",11),e._uU(10,"Recipes"),e.qZA()()())}function Be(i,o){1&i&&(e.TgZ(0,"div",6)(1,"div",7)(2,"h1",8),e._uU(3,"Loading!!!"),e.qZA()(),e.TgZ(4,"div",9),e._UZ(5,"app-logo-svg"),e.qZA()())}function Ke(i,o){if(1&i&&(e.TgZ(0,"div",7)(1,"h1",8),e._uU(2),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(2),e.hij(" ",t.userData.firstName+" "+t.userData.lastName," favorite recipes ")}}const Ve=function(i){return["/recipe",i]};function We(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",16)(1,"div",17),e.NdJ("click",function(){const a=e.CHM(t).$implicit,p=e.oxw(3);return e.KtG(p.updateFavoriteRecipes(a.id))}),e.TgZ(2,"button",18),e._UZ(3,"i",19),e.qZA()(),e.TgZ(4,"a",20)(5,"div",21)(6,"div",22),e._UZ(7,"img",23),e.qZA(),e.TgZ(8,"p",24),e._uU(9),e.qZA()()()()}if(2&i){const t=o.$implicit;e.xp6(4),e.Q6J("routerLink",e.VKq(4,Ve,t.id)),e.xp6(3),e.s9C("alt",t.title),e.Q6J("src",t.image_recipe[0].image_recipe,e.LSH),e.xp6(2),e.Oqu(t.title)}}function ze(i,o){if(1&i&&(e.TgZ(0,"div",12),e.YNc(1,Ke,3,1,"div",13),e.TgZ(2,"div",14),e.YNc(3,We,10,6,"div",15),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.userData),e.xp6(2),e.Q6J("ngForOf",t.recipes)}}function Xe(i,o){if(1&i&&(e.TgZ(0,"div",3),e.YNc(1,je,11,0,"div",4),e.YNc(2,Be,6,0,"div",4),e.YNc(3,ze,4,2,"div",5),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",0===t.recipes.length&&!t.isLoadingComments),e.xp6(1),e.Q6J("ngIf",t.isLoadingComments),e.xp6(1),e.Q6J("ngIf",t.recipes.length>0&&!t.isLoadingComments)}}const $e=function(i,o){return{"main-short":i,"main-long":o}};function tt(i,o){1&i&&(e.TgZ(0,"div",12),e._uU(1," Please write a comment! "),e.qZA())}function it(i,o){1&i&&(e.TgZ(0,"div",12),e._uU(1," Comment must be at least 10 characters long. "),e.qZA())}function rt(i,o){1&i&&(e.TgZ(0,"div",12),e._uU(1," Comment cannot exceed 500 characters. "),e.qZA())}function nt(i,o){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,tt,2,0,"div",11),e.YNc(2,it,2,0,"div",11),e.YNc(3,rt,2,0,"div",11),e.qZA()),2&i){const t=e.oxw();let r,n,a;e.xp6(1),e.Q6J("ngIf",null==(r=t.commentFormEdit.get("comment"))||null==r.errors?null:r.errors.required),e.xp6(1),e.Q6J("ngIf",null==(n=t.commentFormEdit.get("comment"))||null==n.errors?null:n.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==(a=t.commentFormEdit.get("comment"))||null==a.errors?null:a.errors.maxlength)}}const ot=[{path:"",component:y,children:[{path:"user-recipes",component:N},{path:"recipe-create",component:$},{path:"user-favorite-recipes",component:(()=>{class i{constructor(t,r,n){this.userService=t,this.recipeService=r,this.globalErrorHandler=n,this.recipesSubject=new Ge.X([]),this.isLoadingComments=!0}ngOnInit(){this.loadFavoriteRecipes()}get recipes(){return this.recipesSubject.value}loadFavoriteRecipes(){var r,t=this;this.userService.userData$.subscribe({next:(r=(0,d.Z)(function*(n){if(n){if(t.userData=n,t.userData){const a=[];for(const p of t.userData.favoriteRecipes)if(p){const m=yield t.recipeService.getRecipeById(p);m&&a.push(m)}t.recipesSubject.next(a),t.isLoadingComments=!1}}else t.globalErrorHandler.handleError("Cant found user with this UID")}),function(a){return r.apply(this,arguments)}),error:r=>{this.globalErrorHandler.handleError(r)}})}updateFavoriteRecipes(t){var r=this;return(0,d.Z)(function*(){t?r.userData&&t&&(yield r.userService.updateFavoriteRecipes(t,r.userData.uid,!0),r.loadFavoriteRecipes()):r.globalErrorHandler.handleError("Recipe data is missing.")})()}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(f.K),e.Y36(h.j),e.Y36(g.r))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-favorite-recipes"]],decls:3,vars:5,consts:[[1,"main",3,"ngClass"],[1,"headerImage"],["class","wrapper",4,"ngIf"],[1,"wrapper"],["class","empty",4,"ngIf"],["class","wrapper-list",4,"ngIf"],[1,"empty"],[1,"title-wrapper"],[1,"title"],[1,"logo-svg"],[1,"emptyInfo"],["routerLink","/recipes-list","href","",1,"button"],[1,"wrapper-list"],["class","title-wrapper",4,"ngIf"],[1,"recipe-list"],["class","recipe-list-wrapper",4,"ngFor","ngForOf"],[1,"recipe-list-wrapper"],[1,"removeIngredientWrapper",3,"click"],["type","button",1,"removeIngredient"],[1,"fa-solid","fa-xmark","fa-beat-fade"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"]],template:function(r,n){1&r&&(e.TgZ(0,"main",0),e._UZ(1,"div",1),e.YNc(2,Xe,4,3,"div",2),e.qZA()),2&r&&(e.Q6J("ngClass",e.WLB(2,$e,0===n.recipes.length&&!n.isLoadingComments,n.recipes.length>0)),e.xp6(2),e.Q6J("ngIf",n.recipes.length>=0))},dependencies:[s.mk,s.sg,s.O5,u.rH,x.u],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);row-gap:20px;margin-bottom:50px}.recipe-list-wrapper[_ngcontent-%COMP%]{position:relative}.remove-btn[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:1}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}.removeIngredient[_ngcontent-%COMP%]{position:absolute;top:0;z-index:1}.fa-solid[_ngcontent-%COMP%]{background-color:var(--backgroundColor)}.fa-solid[_ngcontent-%COMP%]:hover{background-color:var(--textColor);color:var(--backgroundColor)}@media only screen and (max-width: 460px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 461px) and (max-width: 767px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return i})()},{path:"user-comments",component:He},{path:"user-info",component:ke},{path:"recipe-edit/:id",component:ve},{path:"recipe-delete/:id",component:be},{path:"comment-edit/:id",component:(()=>{class i{constructor(t,r,n,a,p,m,_){this.route=t,this.commentService=r,this.fb=n,this.router=a,this.formErrorCheckService=p,this.globalErrorHandler=m,this.comment=null,this.commentId="",this.firestore=_}ngOnInit(){var t=this;return(0,d.Z)(function*(){t.initializeForm(),yield t.loadData()})()}loadData(){var t=this;return(0,d.Z)(function*(){t.route.paramMap.subscribe(function(){var r=(0,d.Z)(function*(n){const a=n.get("id");if(t.commentId=a,a)try{t.comment=yield t.commentService.getCommentById(a),t.patchFormWithCommentData()}catch(p){throw t.globalErrorHandler.handleError(p),p}else t.globalErrorHandler.handleError("Comment ID not provided.")});return function(n){return r.apply(this,arguments)}}())})()}initializeForm(){this.commentFormEdit=this.fb.group({name:[""],comment:["",[c.kI.required,c.kI.minLength(10),c.kI.maxLength(500)]],recipeId:[""],create_time:[""],uid:[""]})}patchFormWithCommentData(){this.commentFormEdit.patchValue({name:this.comment?.name,comment:this.comment?.comment,recipeId:this.comment?.recipeId,create_time:this.comment?.create_time,uid:this.comment?.uid,id:this.comment?.id})}onSubmit(){var t=this;return(0,d.Z)(function*(){if(t.formErrorCheckService.markFormGroupTouched(t.commentFormEdit),t.commentFormEdit.valid){const r=t.commentFormEdit.value;try{yield t.editComment(r),t.commentFormEdit.reset()}catch(n){t.globalErrorHandler.handleError(n)}}else{const r=t.formErrorCheckService.getFormGroupErrors(t.commentFormEdit);t.globalErrorHandler.handleError(r)}})()}editComment(t){var r=this;return(0,d.Z)(function*(){yield r.commentService.editComment(t,r.commentId),yield r.router.navigate(["/recipe",r.comment?.recipeId])})()}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(u.gz),e.Y36(A.O),e.Y36(c.qu),e.Y36(u.F0),e.Y36(v.l),e.Y36(g.r),e.Y36(Z.gg))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-comment-form-edit"]],decls:16,vars:2,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"title-wrapper"],[1,"title-form"],["id","commentFormEdit",3,"formGroup","ngSubmit"],[1,"form-group"],["for","comment"],["cols","30","rows","5","id","comment","formControlName","comment",1,"form-control"],[4,"ngIf"],["type","submit",1,"button"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,n){if(1&r&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"h1",4),e._uU(5,"Edit the Comment"),e.qZA()(),e.TgZ(6,"form",5),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(7,"div",6)(8,"label",7),e._uU(9,"Comment (required)"),e.qZA(),e._UZ(10,"textarea",8)(11,"br"),e.qZA(),e.YNc(12,nt,4,3,"div",9),e._UZ(13,"br"),e.TgZ(14,"button",10),e._uU(15,"Edit the Comment"),e.qZA()()()()),2&r){let a;e.xp6(6),e.Q6J("formGroup",n.commentFormEdit),e.xp6(6),e.Q6J("ngIf",null==(a=n.commentFormEdit.get("comment"))?null:a.touched)}},dependencies:[s.O5,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u],styles:[".wrapper[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:16px;box-shadow:0 1px 3px #0000004d;background-color:var(--backgroundColor)}form[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media (max-width: 660px){.wrapper[_ngcontent-%COMP%]{margin:-50px 20px 50px}}"]})}return i})()}]}];let at=(()=>{class i{static#e=this.\u0275fac=function(r){return new(r||i)};static#t=this.\u0275mod=e.oAB({type:i});static#i=this.\u0275inj=e.cJS({imports:[u.Bz.forChild(ot),u.Bz]})}return i})(),ct=(()=>{class i{static#e=this.\u0275fac=function(r){return new(r||i)};static#t=this.\u0275mod=e.oAB({type:i});static#i=this.\u0275inj=e.cJS({imports:[s.ez,c.UX,c.u5,u.Bz,U.r,at]})}return i})()}}]);